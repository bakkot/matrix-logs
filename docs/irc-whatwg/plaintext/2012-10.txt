2012-10-01
[00:58:41.0000] <hsivonen>
hmm. the “multiple of two” thing is informative in the HD canvas spec text

[00:59:19.0000] <hsivonen>
has anyone successfully deployed canvas backing stores with multiples of CSS px other than 1 or 2?

[01:03:02.0000] <MikeSmith>
hsivonen: HD canvas spec text?

[01:31:43.0000] <hsivonen>
MikeSmith: http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#resolution

[01:32:02.0000] <MikeSmith>
hsivonen: thanks

[01:32:08.0000] <MikeSmith>
/me reads

[01:32:26.0000] <MikeSmith>
man when did this happen

[01:32:35.0000] <MikeSmith>
I been out of it for quite a while I gues

[01:32:38.0000] <hsivonen>
/me wonders if Hixie mean “power of” rather than “multiple of”

[01:33:38.0000] <hsivonen>
I’ve lost track of what is happening, too.

[01:33:49.0000] <hsivonen>
s/mean/meant/

[01:36:50.0000] <hsivonen>
Interesting http://browser.yandex.com/

[01:37:42.0000] <annevk>
hsivonen: sounds like a bug indeed

[01:37:49.0000] <annevk>
hsivonen: iPhone has 4:1

[01:38:59.0000] <hsivonen>
annevk: huh? is iPhone’s devicePixelRatio gone up to 4, too?

[01:39:05.0000] <hsivonen>
*has

[01:39:31.0000] <annevk>
hsivonen: dunno about that, but each CSS pixel is four device pixels

[01:40:25.0000] <hsivonen>
you mean like 2 by 2 device pixels?

[01:40:32.0000] <annevk>
well yeah

[01:40:38.0000] <MikeSmith>
hsivonen: about Yandex browser, https://twitter.com/chaals/status/252679467862986752

[01:40:45.0000] <MikeSmith>
"Take a webkit base, add some Opera source, spice it up with Yandex taste, and serve on a cloud :)"

[01:41:38.0000] <hsivonen>
MikeSmith: how much of a joke does the :) part signify?

[01:41:51.0000] <MikeSmith>
not sure

[01:42:00.0000] <hsivonen>
Adding some Opera source to a WebKit base seems *very* surprising

[01:42:09.0000] <MikeSmith>
but doesn't the word "cloud" now always imply a joke?

[01:42:12.0000] <doublec>
I winder if he meant "sauce"

[01:42:33.0000] <hsivonen>
MikeSmith: not if it’s an Opera Mini competitor

[01:42:45.0000] <MikeSmith>
doublec: chaals is from Australia, so not a native English speaker...

[01:44:08.0000] <annevk>
from a press release I read they're using Opera Turbo; so maybe they licensed that somehow?

[01:56:23.0000] <MikeSmith>
hsivonen: have you have time for what should be a quick validator patch review?

[01:56:30.0000] <MikeSmith>
for NPE that was reported today

[01:56:42.0000] <MikeSmith>
from input@pattern datatype code

[02:00:14.0000] <MikeSmith>
ohI just now notice the fingerprint icon that Hixie added to some notes in the spec

[02:01:37.0000] <MikeSmith>
anybody know which browser engines currently implemented the Media Fragments URI stuff for temporal fragments?

[02:01:48.0000] <MikeSmith>
I know Gecko does

[02:01:55.0000] <MikeSmith>
can't remember about others

[02:02:00.0000] <MikeSmith>
doublec: ?

[02:02:19.0000] <MikeSmith>
caniuse nor nobody else tracking status of it as far as I can tell

[02:03:51.0000] <MikeSmith>
hmm Gecko and WebKit I guess

[02:03:52.0000] <MikeSmith>
http://www.w3.org/2008/WebVideo/Fragments/WD-media-fragments-impl/

[02:03:57.0000] <MikeSmith>
wonder about IE10

[03:32:15.0000] <doublec>
MikeSmith: gecko and webkit is what I know of

[03:32:23.0000] <doublec>
MikeSmith: Opera had a demo, not sure if they finished it

[03:39:41.0000] <zcorpan>
hsivonen: isn't power of two also wrong? i don't see why 3x3 device pixels per css pixel is obviously bad

[03:40:23.0000] <zcorpan>
but maybe i'm missing something

[03:40:39.0000] <annevk>
3^2 == 3x3 though

[03:42:30.0000] <zcorpan>
....so it is

[03:43:01.0000] <zcorpan>
/me tries to think of something to blame

[03:43:35.0000] <jgraham>
Uh, I don't think that's what hsivonen meant

[03:43:54.0000] <jgraham>
Or at least if he did I didn't understand him either

[03:44:21.0000] <zcorpan>
the sentence under discussion is "Ideally, the number of device pixels per CSS pixel would be a multiple of two."

[03:44:48.0000] <jgraham>
3 isn't a multiple of two (for reasonable meanings of "multiple")

[03:45:10.0000] <zcorpan>
but you'd have 9 device pixels per css pixel, not 3

[03:45:45.0000] <jgraham>
Which is still neither a power nor a multiple of two

[03:46:57.0000] <zcorpan>
ah so my thinking was right anyway

[03:47:15.0000] <zcorpan>
it should be n^2 not 2^n

[03:47:29.0000] <jgraham>
I think that Hixie means linearly pixels_device = 2^N pixels_css

[03:48:16.0000] <jgraham>
Or maybe he means 2N

[03:48:41.0000] <zcorpan>
he clearly *wrote* 2N, what he meant i have no idea :-)

[03:48:42.0000] <jgraham>
Makes more sense

[03:49:10.0000] <jgraham>
I don't even understand why this is "ideal"

[03:49:20.0000] <jgraham>
So maybe I should just stop talking

[04:19:17.0000] <hsivonen>
MikeSmith: I can review a patch, sure.

[04:19:37.0000] <MikeSmith>
hsivonen: ok

[04:19:39.0000] <MikeSmith>
thanks

[04:19:51.0000] <MikeSmith>
it's only a couple lines, so I'll post it here I guess

[04:19:54.0000] <MikeSmith>
gist

[04:20:21.0000] <MikeSmith>
cause seems to be lack of null check in the Rhino code

[04:20:28.0000] <MikeSmith>
for which I filed a Mozilla bug

[04:20:53.0000] <MikeSmith>
but from validator side, the fix would seem to be this: https://gist.github.com/3809647a

[04:21:12.0000] <MikeSmith>
passing an actual Context object instead of null

[04:21:16.0000] <hsivonen>
404 says github

[04:21:32.0000] <MikeSmith>
oh

[04:21:41.0000] <hsivonen>
their 404 page is pretty cool

[04:22:05.0000] <MikeSmith>
hey yeah

[04:22:16.0000] <MikeSmith>
will make you dizzy though

[04:22:32.0000] <MikeSmith>
ok will try to re-post it

[04:23:57.0000] <MikeSmith>
hsivonen: OK, https://gist.github.com/3811066 should work I think

[04:29:25.0000] <hsivonen>
MikeSmith: “Each call to enterContext() must have a matching call to Context.exit().”

[04:29:38.0000] <MikeSmith>
aha

[04:29:40.0000] <MikeSmith>
OK

[04:29:43.0000] <MikeSmith>
will fix that

[04:29:45.0000] <hsivonen>
MikeSmith: in a finally block

[04:29:50.0000] <MikeSmith>
OK

[04:29:54.0000] <hsivonen>
to make sure it gets called

[04:30:03.0000] <MikeSmith>
hai

[04:31:13.0000] <MikeSmith>
only reason I'm using enterContext() to begin with is that their API docs say simple "new Context()" is deprecated

[04:31:25.0000] <MikeSmith>
anyway, will fix it an e-mail to you

[04:31:26.0000] <hsivonen>
it’s not a good sign that Rhino is hosted on SVN and Google doesn’t find the javadocs on www.mozilla.org

[04:32:01.0000] <hsivonen>
the API is quite bizarre

[04:32:22.0000] <hsivonen>
enterContext() returns a Context, but .exit() is not on that object but on the class

[04:32:40.0000] <hsivonen>
apparently the class keeps a ThreadLocal somewhere

[04:33:04.0000] <hsivonen>
/me is not sure how great an idea it is for this stuff to support multithreading

[04:33:34.0000] <hsivonen>
considering that JS doesn’t have facilities for shared memory threads

[04:33:44.0000] <hsivonen>
(at least not that I’m aware of)

[04:35:27.0000] <MikeSmith>
hsivonen: the whole API seems really baroque to me

[04:38:36.0000] <hsivonen>
I wonder if Yandex ships NPAPI Flash or Pepper Flash

[04:44:45.0000] <MikeSmith>
hsivonen: OK please lemme know if the following is sane

[04:44:47.0000] <MikeSmith>
https://gist.github.com/3811142

[04:49:15.0000] <hsivonen>
MikeSmith: yeah, but you don’t need two try blocks. You only need one try and you can have both catch and finally on it

[04:49:30.0000] <MikeSmith>
ah yeah

[04:49:36.0000] <MikeSmith>
OK

[04:57:30.0000] <MikeSmith>
hsivonen: OK, the following should do it, right?

[04:57:31.0000] <MikeSmith>
https://gist.github.com/3811200

[05:05:44.0000] <hsivonen>
MikeSmith: yeah, r+. thanks

[05:08:12.0000] <MikeSmith>
hsivonen: thanks much

[05:57:48.0000] <annevk>
MikeSmith: shouldn't it be ex.exit() ?

[05:57:57.0000] <annevk>
MikeSmith: sorry, cx.exit()

[05:58:02.0000] <annevk>
MikeSmith: or is it a static method?

[05:58:06.0000] <MikeSmith>
yeah

[05:58:17.0000] <MikeSmith>
so called on the class

[05:58:23.0000] <annevk>
weird

[05:58:31.0000] <MikeSmith>
mind you I don't really understand that code well

[05:58:43.0000] <MikeSmith>
that's just exactly what the API docs say to do

[05:58:55.0000] <MikeSmith>
annevk: there is lots more weirdness in that code

[05:59:01.0000] <annevk>
but they don't mean you invoke it on the instance?

[05:59:12.0000] <MikeSmith>
no, they don't

[05:59:24.0000] <MikeSmith>
not as far as I can tell

[05:59:24.0000] <annevk>
I mean I sometimes talk about XMLHttpRequest.responseText...

[05:59:26.0000] <annevk>
okay

[06:00:05.0000] <annevk>
in other news, writing new slides is boring

[06:00:27.0000] <MikeSmith>
yeah man

[06:00:42.0000] <annevk>
my trick was going to be to talk about 10 lines of HTML for an hour, but actually working that all out... meh

[06:01:03.0000] <hsivonen>
annevk: what’s the talk?

[06:01:19.0000] <MikeSmith>
boringness of it is why I wait to makes slides til 3am of the morning when I need to present

[06:01:24.0000] <annevk>
it's for http://fronteers.nl/congres/2012

[06:01:42.0000] <annevk>
my plan is to talk about complexity

[06:02:14.0000] <MikeSmith>
annevk: fwiw, my experience in seeing you present is that you can in fact actually take 10 lines of code and talk about them for an hour and actually make it interesting the whole time

[06:03:55.0000] <hsivonen>
annevk: I suggest talking about browsing contexts then

[06:04:22.0000] <annevk>
oh man, browsing contexts :)

[06:04:31.0000] <hsivonen>
In my experience, the best way to be productive is not even trying to ever fix anything browsing context-related

[06:04:44.0000] <hsivonen>
/me is right now trying to fix something browsing context-related

[06:48:59.0000] <Ms2ger>
irc.w3.org down?

[06:49:39.0000] <MikeSmith>
Ms2ger: yeah

[06:50:04.0000] <reggna>
Ms2ger: MIT is having some problems.

[06:50:13.0000] <MikeSmith>
dunno what's going on because I can''t even get on w3c IRC to harass the systems team

[06:50:18.0000] <MikeSmith>
nor e-mail

[06:50:27.0000] <MikeSmith>
some MIT-wide outage, I think

[06:50:48.0000] <reggna>
15:30:58 < w3c> Network problems at MIT are causing failures connecting to W3C servers  hosted there. MIT admins are working on the issue.

[06:51:21.0000] <gavinc>
/me mutters something about being awake at 6:30 am on a monday for no reason

[06:51:40.0000] <Ms2ger>
Better than 6:30 AM on a Sunday

[06:52:20.0000] <gavinc>
Ms2ger: Very true

[06:54:59.0000] <darobin>
MIT is back

[08:21:19.0000] <volkmar>
darobin: is http://respec.specifiction.com/js/profiles/w3c-common.js the latest respec version?

[08:29:30.0000] <darobin>
volkmar: nope, but hang on, I'm on a call

[08:33:01.0000] <darobin>
volkmar: repo for the latest is at https://github.com/darobin/respec/

[08:33:13.0000] <darobin>
volkmar: linking to the latest is from http://www.w3.org/Tools/respec/respec-w3c-common

[08:36:09.0000] <volkmar>
darobin: great 'partial' is now supported

[08:36:24.0000] <darobin>
volkmar: yes, and a bunch of other stuff too

[08:36:50.0000] <darobin>
the code is 95% new, but it should be backwards compatible

[08:37:01.0000] <darobin>
that is, if you haven't been doing dirty hacks that monkey patch the internals :)

[08:38:46.0000] <volkmar>
and I can use sequence

[08:38:48.0000] <volkmar>
great

[08:45:12.0000] <darobin>
volkmar: if you find issues, please use the GH tracker

[09:35:04.0000] <dglazkov>
good morning, Whatwg!

[11:23:28.0000] <Hixie>
cabanier: please avoid cross-posting e-mails to the whatwg list and another list -- because the whatwg list is subscriber-posts-only, it causes the threads to fragment and confuse people only on the whatwg list

[11:23:45.0000] <Hixie>
cabanier: better to either do it all in the whatwg list or do it all in the other list and then send a summary or pointer to the whatwg list

[11:35:18.0000] <cabanier>
hixie: OK. I assumed Dirk had wanted to post to both

[11:35:53.0000] <Hixie>
cabanier: he shouldn't cross-post either :-) (but i think he actually posted to both separately)

[11:36:12.0000] <Hixie>
(or at least that's now i interpreted his PS, i didn't check)

[14:11:53.0000] <krit>
Hixie: Yes, posted it a second time after a request of Rik ;)

[15:39:31.0000] <Hixie>
anyone have an opinion on <input type=text trim=""> ? (trims leading and trailing space characters in the control's /value/)

[15:39:58.0000] <Hixie>
if so, put them in https://www.w3.org/Bugs/Public/show_bug.cgi?id=17972

[15:40:02.0000] <Hixie>
i'm likely to add it soonish

[15:43:07.0000] <Hixie>
anyone got IE handy? I need http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1811's output

[15:43:15.0000] <Hixie>
and i'm too lazy to get out my laptop with the VMs...


2012-10-02
[21:28:36.0000] <MikeSmith>
join #infobot

[21:28:38.0000] <MikeSmith>
oops

[22:32:34.0000] <MikeSmith>
cool http://caniuse.com/feed.php?id=136

[00:25:19.0000] <MikeSmith>
IANA directly sent me some questions and comments about the application/microdata+json

[00:25:42.0000] <MikeSmith>
if I forward it to you on list somewhere, can you reply?

[00:26:18.0000] <MikeSmith>
Hixie: ↑

[00:31:31.0000] <annevk>
whoa, three people are now going to edit XMLHttpRequest

[00:31:35.0000] <annevk>
I wonder how that goes

[00:32:49.0000] <MikeSmith>
annevk: XHR1 or real XHR?

[00:33:04.0000] <annevk>
No idea actually, presumably real XMLHttpRequest?

[00:33:58.0000] <annevk>
I'm somewhat skeptical about the appointed editors, but we'll see

[00:38:56.0000] <MikeSmith>
annevk: speaking of editors I don't remember Hallvord doing much with the clipboard spec any time lately

[00:39:05.0000] <MikeSmith>
wonder if he's planning to keep maintaining it or not

[01:29:38.0000] <MikeSmith>
System Applications WG charter just now finally approved

[01:29:44.0000] <MikeSmith>
congrats to abarth

[01:29:52.0000] <MikeSmith>
let the good times roll

[01:35:37.0000] <SimonSapin>
MikeSmith: is this WG meant to standardize what boot2gecko has been doing, or something like it?

[01:36:26.0000] <MikeSmith>
SimonSapin: http://www.w3.org/2012/09/sysapps-wg-charter

[01:37:07.0000] <MikeSmith>
http://www.w3.org/2012/09/sysapps-wg-charter#rec-track

[01:37:26.0000] <MikeSmith>
and http://www.w3.org/2012/sysapps/

[01:38:06.0000] <MikeSmith>
http://www.w3.org/2012/sysapps/#roadmap

[01:39:06.0000] <hsivonen>
I get the discussion on the security model will be “fun”

[01:39:15.0000] <hsivonen>
s/get/bet/

[01:39:36.0000] <MikeSmith>
yup

[01:39:40.0000] <SimonSapin>
fun in what sense?

[01:39:51.0000] <MikeSmith>
SimonSapin: in the "not fun" sense

[01:40:00.0000] <SimonSapin>
like hard to get right?

[01:40:07.0000] <MikeSmith>
yah

[01:40:33.0000] <hsivonen>
SimonSapin: like a long list of prior art and people with differing opinions

[01:40:55.0000] <MikeSmith>
abarth gots a draft already at http://abarth.github.com/sysapps/drafts/security.html

[01:41:29.0000] <hsivonen>
Mozilla has become better at proposal naming. Tizen tries with e.g. “Bluetooth”, but Mozilla has “Web Bluetooth”

[01:41:41.0000] <hsivonen>
worked with Audio for Chrome

[01:42:26.0000] <MikeSmith>
http://abarth.github.com/sysapps/drafts/runtime.html#differences-from-the-web-platform is also worth reading

[01:56:01.0000] <MikeSmith>
hsivonen: btw dunno if you noticed that the W3C HTML5 spec now allows absolute URLs in rel values

[01:56:18.0000] <MikeSmith>
in addition to the standard keywords and registered keywords

[01:56:32.0000] <MikeSmith>
so I wrote a patch the supports that

[01:56:49.0000] <MikeSmith>
for the validator

[01:56:57.0000] <MikeSmith>
should we make that support W3C-only?

[01:57:34.0000] <MikeSmith>
dunno how you feel about whether it's a good idea or not to allow URLs there

[02:08:09.0000] <hsivonen>
MikeSmith: oh it wasn’t allowed before? I’ve lost track.

[02:08:31.0000] <MikeSmith>
hsivonen: wasn't allowed before

[02:08:35.0000] <hsivonen>
MikeSmith: does the W3C allow upper-case ASCII in those URLs?

[02:08:51.0000] <MikeSmith>
Hixie wontfixed it I think. lemme find the bug

[02:09:04.0000] <hsivonen>
didn’t I even write a CP for this at some point?

[02:09:13.0000] <MikeSmith>
hsivonen: I think the HTML5 spec says they're treated case-insenstively

[02:09:26.0000] <MikeSmith>
hsivonen: oh, don't remember if you did

[02:09:34.0000] <MikeSmith>
/me looks for the issue

[02:09:35.0000] <zcorpan>
i thought it was allowed before but then hixie removed the url support (maybe only in the whatwg version)

[02:09:42.0000] <zcorpan>
but i might be making that up

[02:10:30.0000] <hsivonen>
MikeSmith: http://lists.w3.org/Archives/Public/public-html/2011Oct/0058.html

[02:10:50.0000] <hsivonen>
MikeSmith: I’m ok with what I wrote in that email

[02:11:01.0000] <MikeSmith>
OK

[02:11:05.0000] <MikeSmith>
/me reads

[02:12:31.0000] <MikeSmith>
hsivonen: OK, that's the way I got it implemented anyway, I think. Because I'm just using the common.data.uri.absolute / w:iri datatype

[02:12:51.0000] <hsivonen>
MikeSmith: ok

[02:12:56.0000] <MikeSmith>
that is, already ignoring the ASCII-only restriction in the HTML5 spec

[02:14:00.0000] <hsivonen>
it’s kinda sad, though, that some people want to be able to put URLs there

[02:14:54.0000] <MikeSmith>
hsivonen: I'm not sure any real people actually want to

[02:14:58.0000] <danbri>
like http://www.w3.org/TR/2012/WD-rdfa-in-html-20120911/ ?

[02:15:41.0000] <danbri>
FWIW schema.org prefers the RDFa Lite idiom, where @property carries the property and relationship names (to avoid forcing publishers to guess whether @property or @rel is the place to use)

[02:15:44.0000] <MikeSmith>
danbri: that's an extension of the spec that already defines looser requirements on rel values

[02:16:03.0000] <MikeSmith>
danbri: ah good

[02:16:12.0000] <danbri>
I like how extensions can legalise things

[02:16:23.0000] <MikeSmith>
hsivonen: patch (small) https://gist.github.com/3817679

[02:16:27.0000] <danbri>
wish real laws worked that way ;)

[02:16:33.0000] <MikeSmith>
heh

[02:16:35.0000] <MikeSmith>
that would be cool

[02:17:20.0000] <danbri>
in http://www.w3.org/TR/2012/REC-rdfa-core-20120607/ I see only prefixed terms and simple terms, not full links

[02:17:36.0000] <MikeSmith>
hsivonen: you'll see the one other thing is I changed the wording on the error message that gets emitted if the rel value is not an absolute URL or valid keyword

[02:17:46.0000] <MikeSmith>
if you don't like that wording lemme know

[02:17:56.0000] <danbri>
/me assumes mikesmith and ivanherman coordinate constantly on such stuff

[02:18:07.0000] <MikeSmith>
well

[02:18:15.0000] <MikeSmith>
not so constantly

[02:18:19.0000] <MikeSmith>
but now and then yeah

[02:19:01.0000] <danbri>
:)

[02:19:19.0000] <danbri>
I'm very interested to learn of non-schema.org uses of Microdata btw

[02:19:25.0000] <MikeSmith>
the RDFa WGers as much seem to think URLs are ugly and so we should come up with all kinds of ways to protect users from seeing them

[02:19:55.0000] <danbri>
I just tell RDF people to buy a ****ing short domain name, these days

[02:20:04.0000] <MikeSmith>
heh

[02:20:19.0000] <danbri>
there's a lot of different between http://ogp.me/foo and http://www.w3.org/1999/02/22-rdf-syntax-ns#foo

[02:21:11.0000] <MikeSmith>
I will be surprised if any large number of normal users ever start using RDFa or Microdata for any reason other than to get the search-engine juice or some other real benefits instead of hypothetical ones

[02:22:01.0000] <danbri>
is someone suggesting otherwise?

[02:22:10.0000] <MikeSmith>
I don't think the syntax or whatever existing tool support is going to make much of a difference to normal authors either way

[02:22:36.0000] <MikeSmith>
danbri: no, I guess not, true

[02:22:46.0000] <danbri>
having helpful checkers and authoring tools ought to be able to improve data quality

[02:22:59.0000] <danbri>
having more than one high profile consumer would really help too

[02:23:05.0000] <MikeSmith>
yup

[02:23:13.0000] <danbri>
currently too many people (re schema.org) just go with whatever looks good in Google Rich Snippets

[02:26:05.0000] <a-ja>
fwiw: coding polyglot uF/uF2/microdata is royal pita

[02:26:34.0000] <danbri>
can you summarise the woes? what is baseline painfulness of polyglot?

[02:26:49.0000] <danbri>
or do you mean mixing those systems, not mixing xhtml/html Polyglot?

[02:26:51.0000] <Ms2ger>
Heh, polyglot

[02:26:55.0000] <Ms2ger>
People actually do that?

[02:28:07.0000] <a-ja>
tried and abandoned as ridiculously non-semantic

[02:28:19.0000] <a-ja>
div/span-itis

[02:29:27.0000] <a-ja>
actually, abandoning uF would make it not so bad....cept noone parses for it yet

[04:12:15.0000] <sps>
hi!

[04:12:52.0000] <sps>
is here hsivonen?

[04:13:49.0000] <sps>
someone can help me?

[04:16:36.0000] <payman>
sps: You can try asking your question and finding out :)

[04:17:39.0000] <sps>
I want to know what is the relationship between pixel/point and real dimension on screen

[04:19:58.0000] <sps>
If I want to display a text with a height of 2cm on a screen with 128x1024 with 83.6ppi how many pixel I need to set on a text software for Win7 OS?

[04:20:38.0000] <sps>
and the same height on a screen of 800x600?

[04:24:08.0000] <payman>
sps: "height: 2cm"? http://www.w3.org/TR/css3-values/#absolute-lengths

[04:25:02.0000] <payman>
(or what do you mean by text software?)

[04:25:54.0000] <sps>
yes 2cm

[04:26:23.0000] <sps>
sorry I mean a software like Word, LibreOffice, ecc...

[04:27:35.0000] <sps>
or any other software that displays text on the screen

[04:28:15.0000] <payman>
well, what I mentioned should work in a web browser.

[04:28:50.0000] <sps>
ok

[04:28:58.0000] <sps>
and for others?

[04:30:45.0000] <payman>
I don't know.

[04:31:06.0000] <jgraham>
Hmm, CSS 2cm won't always be 2cm

[04:31:18.0000] <jgraham>
It will be a specific number of CSS pixels

[04:35:35.0000] <zcorpan>
but it should be about 2cm if you pinch your fingers at an arm's length with the intended viewing distance :-)

[04:36:33.0000] <sps>
that is?

[04:37:42.0000] <payman>
jgraham: can't it be more precise if you use it with media queries?

[04:38:19.0000] <annevk>
media queries uses the same crappy units

[04:38:42.0000] <sps>
and so?

[04:43:00.0000] <jgraham>
It isn't possible on the Web Platform to specify precise physical dimensions

[04:43:37.0000] <jgraham>
This should be clear if you consider a laptop displaying a 2cm square

[04:43:51.0000] <payman>
how about print media?

[04:44:05.0000] <jgraham>
If you connect that to a projector, you wouldn't expect it to remain at 2cm

[04:44:24.0000] <zcorpan>
payman: depends on the intended viewing distance to the printed material :-)

[04:44:30.0000] <jgraham>
That would be totally useless, not to mention impossible to actually pull off

[04:44:40.0000] <hsivonen>
sps: jgraham is right. There is no way to specify true physical dimensions on the Web Platform

[04:44:49.0000] <payman>
so it depends on the reference pixel?

[04:44:58.0000] <jgraham>
Because with a projector you don't know the physical size of the image in advance

[04:45:19.0000] <hsivonen>
payman: yes. CSS cm, etc., are all fixed multiples of CSS px

[04:45:39.0000] <jgraham>
payman, sps: All CSS units are per-spec effectively angular units

[04:46:21.0000] <zcorpan>
a css pixel is an angle from the user to the intended viewing distance, where the resolution is 96 CSS pixels per physical inch at an arm's length, or some such (iirc)

[04:46:37.0000] <zcorpan>
and all other css units get translated to css pixels

[04:46:43.0000] <hsivonen>
(Even Prince cannot guarantee how exactly your PDF gets printed)

[04:47:23.0000] <jgraham>
http://www.w3.org/TR/css3-values/pixel1.png

[04:47:50.0000] <payman>
mmm, web platform is pretty useless.

[04:47:56.0000] <payman>
(for this use case at least)

[04:48:03.0000] <jgraham>
"The reference pixel is the visual angle of one pixel on a device with a pixel density of 96dpi and a distance from the reader of an arm's length. For a nominal arm's length of 28 inches, the visual angle is therefore about 0.0213 degrees. For reading at arm's length, 1px thus corresponds to about 0.26 mm (1/96 inch)."

[04:48:45.0000] <jgraham>
payman: It's hard to imagine how it could be any other way

[04:48:59.0000] <jgraham>
px could be a physical unit

[04:49:17.0000] <jgraham>
But then people would complain about it being too thin on high resolution devices

[04:49:39.0000] <annevk>
what does 2ch mean for a font without 0

[04:49:49.0000] <annevk>
seems like something that ought to be defined

[04:50:58.0000] <payman>
jgraham: yeah, but wouldn't it be nice to have a css unit that translates ubiquitously to standard metric unit?

[04:51:16.0000] <jgraham>
payman: It would only make sense for printed media

[04:51:52.0000] <jgraham>
Given how good browsers aren't at printing, this doesn't seem like the most pressing problem

[04:53:05.0000] <payman>
so I guess sps might have better luck softwares other than web browsers.

[04:53:22.0000] <payman>
+using

[04:53:49.0000] <jgraham>
Yes, if you want precise, media-specific, layout, the web stack isn't welloptimised for your use case

[04:54:57.0000] <jgraham>
(the rule is something like "'precise', 'media independent', choose one)

[05:08:20.0000] <sps>
mmm

[05:15:57.0000] <sps>
ok, you said: in css we have absolute units but really visualization depends on distance from screen

[05:17:42.0000] <sps>
but I want relation real/virtual for screen display not for browser, but for usul software on OS

[05:18:20.0000] <sps>
sorry, for usual software

[05:20:32.0000] <sps>
for example: how many points I have to set text on MS Word to have a text with  a real height of 2cm on my screen?

[05:45:35.0000] <sps>
I read this: http://hsivonen.iki.fi/units/

[05:46:09.0000] <zcorpan>
sps: that seems outdated

[05:46:36.0000] <sps>
I know that in typography a 1inch text height is equivalent to 72 points.  But if I try to visualize a 72pt text on MS Word I see an uppercase text with an height of 1.8cm with a zoom of 90% (real ppi=89.3/96, on Windows following your suggestion), and 2cm with a zoom of 100%. When I try to print it I get a text with an height of 1.8cm, the same I see in my screen. In MS Word, with a 90% zoom, I see a dimension of page quite real.

[05:55:02.0000] <sps>
no-one can help me?

[05:56:49.0000] <SimonSapin>
sps: is this a question on MS Word or on CSS?

[05:58:41.0000] <hsivonen>
I marked http://hsivonen.iki.fi/units/ as outdated. Sorry about failing to do so earlier.

[06:02:15.0000] <matjas>
zcorpan: just came across http://simon.html5.org/test/html/rendering/color-attributes/parseColorString.js after writing out the algo in JS myself

[06:02:41.0000] <matjas>
zcorpan: the “replace non-BMP symbols with `00`” step is missing

[06:02:42.0000] <zcorpan>
matjas: that's likely outdated

[06:03:00.0000] <matjas>
zcorpan: I used something like this for that part http://pastebin.com/raw.php?i=LFGaGKhp

[06:03:41.0000] <zcorpan>
matjas: the dom uses 16-bit code units so code points above BMP get turned into '00' anyway

[06:04:28.0000] <matjas>
zcorpan: I see, I was writing something that needed to work in Node, though

[06:04:41.0000] <hsivonen>
sps: When you set the font size to 72 pt, you are not setting the capital letter height to 1 inch

[06:05:01.0000] <hsivonen>
sps: you are just mapping the internal coordinate space of the font

[06:05:20.0000] <hsivonen>
sps: the capital letters are not required to be 1 em high

[06:07:28.0000] <hsivonen>
and the em in fonts is just a font-dependent multiple of internal units

[06:08:26.0000] <hsivonen>
you should assume no relationship between the metrics of the letter M and the em

[06:09:33.0000] <hsivonen>
speaking of font internal units, I wonder if there’s a spec or documentation about which of the 3 way of computing the line height of a TTF/OTF font browsers are supposed to use

[06:10:00.0000] <matjas>
zcorpan: step 11 in the algo has changed, but the change doesn’t seem to match Opera/Chrome/Safari’s implementation (unless I implemented it incorrectly)

[06:10:30.0000] <matjas>
s/While input's length not a multiple of three/While input's length is zero or not a multiple of three/

[06:10:35.0000] <matjas>
weird

[06:13:24.0000] <hsivonen>
fonts are not so dissimilar from the Web. weird legacy: http://typophile.com/node/13081

[06:51:42.0000] <annevk>
zcorpan: how would they get turned into 00 if you do not handle surrogates specifically?

[07:34:32.0000] <sedovsek>
o/

[07:34:35.0000] <sedovsek>
One question...

[07:34:39.0000] <sedovsek>
t = document.createTextNode(' ')

[07:34:39.0000] <sedovsek>
el.appendChild t

[07:34:41.0000] <sedovsek>
setTimeout(

[07:34:42.0000] <sedovsek>
    -> el.removeChild t

[07:34:43.0000] <sedovsek>
    0

[07:34:44.0000] <sedovsek>
)

[07:34:49.0000] <sedovsek>
This does not cause refflow?

[07:34:58.0000] <sedovsek>
While t = document.createTextNode('x') does?

[07:35:32.0000] <sedovsek>
(the code above is CoffeeScript). I add an empty element to cause reflow.

[07:42:58.0000] <zcorpan>
annevk: a code point above BMP are two code units, and each code unit gets converted to a 0, ergo 00

[07:46:05.0000] <annevk>
zcorpan: oh, the input is code points?

[07:47:16.0000] <zcorpan>
to the spec's algorithm, yes. although the wording around code points and code units changed at some point

[07:48:12.0000] <annevk>
oh I thought we were discussing http://simon.html5.org/test/html/rendering/color-attributes/parseColorString.js

[07:48:57.0000] <zcorpan>
the input to that is a JS string

[07:49:40.0000] <annevk>
yeah so looks like that will fail

[07:49:58.0000] <zcorpan>
why?

[07:57:32.0000] <annevk>
zcorpan: well if the spec talks about 8 code points and you take 8 code units you're in trouble

[07:58:10.0000] <zcorpan>
annevk: the spec replaces code points above BMP with '00' before doing any interesting processing so it ends up the same

[07:58:50.0000] <zewt>
(i don't know what you guys are talking about, but it sounds gross)

[07:58:52.0000] <annevk>
sorry you had to explain that twice

[07:59:14.0000] <zcorpan>
np :-)

[08:11:44.0000] <matjas>
zcorpan: ah, my bad indeed, for JS engines that’s an unnecessary step

[09:47:46.0000] <MikeSmith>
been trying to make Henri's htmlparser code not emit errors "unescaped" semicolon-less ampersands but finding that in most cases the code emits the errors without ever getting to the point of seeing if there's a semicolon at the end or not

[09:48:14.0000] <MikeSmith>
instead what it's doing is first making sure the character sequence after the ampersand matches a sequence that begins a know entity

[09:49:14.0000] <MikeSmith>
known named character reference

[09:49:39.0000] <MikeSmith>
and if it reaches the point where the sequence does not begin a known named character reference, it emits and error at the point

[09:49:55.0000] <MikeSmith>
and doesn't bother to see if there's any following semicolon

[09:59:32.0000] <dglazkov>
good morning, Whatwg!

[11:58:54.0000] <Hixie>
still no opinions on adding trim=""? https://www.w3.org/Bugs/Public/show_bug.cgi?id=17972

[11:59:05.0000] <Hixie>
too soon? shouldn't happen? should happen soonest?

[12:07:17.0000] <annevk>
neutral :)

[12:10:41.0000] <tantek>
Hiixe, has sufficient need been demonstrated for trim=""?

[12:11:03.0000] <Hixie>
i dunno

[12:11:09.0000] <tantek>
sounds like a nice-to-have

[12:11:24.0000] <Hixie>
the people in the bug (mostly moz people) seem quite emphatic

[12:11:33.0000] <Hixie>
but yeah

[12:11:46.0000] <zewt>
sounds reasonable based on the first post but doesn't sound critical--I never expect client-side validation to be an exact match to server-side validation

[12:13:47.0000] <tantek>
looks like all theoretical talk

[12:13:50.0000] <zewt>
definitely agree that stripping for all @required is breaking and a bit nuts

[12:13:55.0000] <tantek>
let's see some error rate numbers

[12:14:04.0000] <tantek>
as opposed usability hypothesizing by non-usability people

[12:14:14.0000] <tantek>
I'd punt

[12:14:17.0000] <tantek>
show me the data


2012-10-03
[17:31:27.0000] <zewt>
heh, that's a bit user-hostile: the default firefox download page is the mobile page, even though that's obviously not what the overwhelming majority of people want

[17:32:01.0000] <zewt>
<- not very forgiving of sites intentionally giving people something other than what they want due to ulterior motives

[17:34:16.0000] <zewt>
strange: <script>history = 1; console.log(history);</script> logs the History object in FF, ignoring the assignment entirely; doesn't happen for "URL", though

[17:34:55.0000] <zewt>
doesn't happen in webkit; i'd think that would break any site that has a "history" global (which doesn't seem improbable)

[17:37:17.0000] <zewt>
gripe gripe they totally broke the address bar in ff15 (or maybe 14)

[17:37:44.0000] <zewt>
this is why i avoid updating firefox--each update means spending time hunting down ways to disable their latest bad ideas in about:config

[18:18:12.0000] <zewt>
(address bar fix: toggle browser.urlbar.autoFill off)

[23:06:15.0000] <hsivonen>
Firefox has 4 Korean entries in the Character Encoding menu. Chrome has 1.

[23:06:40.0000] <hsivonen>
Is Chrome’s Korean an autodetect or is one Korean encoding enough for the legacy Web?

[23:08:32.0000] <hsivonen>
IE also has just one Korean encoding

[23:09:26.0000] <hsivonen>
What does the “User Defined” encoding mean in Firefox and IE?

[23:34:46.0000] <MikeSmith>
hsivonen: I would think that all browsers should at least have two: for EUC-KR and ISO-2022-KR

[23:35:07.0000] <MikeSmith>
I can't remember ever seeing those other two anywhere else

[23:35:26.0000] <MikeSmith>
UHC and JOHAB

[23:36:46.0000] <MikeSmith>
/me asks somebody

[23:37:13.0000] <annevk>
the latter two are not part of the Encoding Standard and definitely not in all browsers

[23:38:30.0000] <a-ja>
http://support.microsoft.com/kb/170557

[23:41:29.0000] <MikeSmith>
annevk: Sangwhan says "Johab is a encoding of its own, which in reality probably doesnt have much of a usecase"

[23:44:06.0000] <MikeSmith>
a-ja: thanks for the link

[23:44:35.0000] <MikeSmith>
but weird that page mentions UHC and JOHAB but not EUC-KR and ISO-2022-KR

[23:44:37.0000] <a-ja>
/me asked a search engine

[23:45:21.0000] <MikeSmith>
and whoah whatta they have going on with the font for the page title

[23:47:33.0000] <MikeSmith>
hsivonen: our friend Sangwhan from Opera suspects those are there maybe just because a Korean contributor contributed a patch

[23:48:23.0000] <a-ja>
keep in mind that's a win95-era article

[23:48:48.0000] <MikeSmith>
ah yeah

[23:49:01.0000] <MikeSmith>
hmm FF mobile has a much simpler character-encoding menu

[23:49:20.0000] <MikeSmith>
at least nightly does (mobile)

[23:49:26.0000] <MikeSmith>
I guess that's to be expected

[00:17:43.0000] <kmbarnhart>
Hi

[00:17:58.0000] <kmbarnhart>
I was reading the WebVTT spec at http://dev.w3.org/html5/webvtt/#webvtt-file-using-only-nested-cues

[00:18:26.0000] <kmbarnhart>
and the example used to show a only nested cue seems to be wrong

[00:19:16.0000] <kmbarnhart>
specifically the rule "whose cues all have an end time offset x greater than or equal to the end time offsets of all the cues whose start time offsets are less than x is said to be a WebVTT file using only nested cues"

[00:19:32.0000] <Ms2ger>
Oh dear

[00:20:15.0000] <kmbarnhart>
the fifth cue in the following example breaks the rule as far as I can tall, although it is quite late

[00:22:12.0000] <MikeSmith>
matjas: I wrote up a patch the htmlparser code to bring error reporting for ambiguous ampersands into line with the current spec (for the validator bug you filed)

[00:22:22.0000] <MikeSmith>
no in Henri's hands for review

[00:22:26.0000] <MikeSmith>
*now

[00:48:24.0000] <matjas>
MikeSmith: awesome, thank you :)

[01:01:36.0000] <jgraham>
I notice that "actualy write tests" is slowly dropping off the Core Mobile radar as they realise it's quite a lot of real work

[01:15:18.0000] <odinho>
jgraham: maaan

[01:20:03.0000] <jgraham>
odinho: It's not that surprising. For most players writing tests is against their short-term interests (consumes resources, doesn't have short term gains), but in their long term interests (makes the platform better)

[01:20:28.0000] <jgraham>
So there is way more talking about doing it than there is actually doing it

[01:20:54.0000] <jgraham>
This is pretty much textbook tragedy of the commons

[01:27:12.0000] <odinho>
jgraham: Well, they should employ some remote people to just do tests then. We do a lot of them. It's fun-fun-fun. Sometimes.

[01:29:42.0000] <jgraham>
odinho: I think "they should employ" is the problem :)

[01:31:03.0000] <jgraham>
Traditionally the way you solve problems liek this is via socialism

[01:31:13.0000] <hsivonen>
at MS they have a tester for each developer, right?

[01:31:29.0000] <jgraham>
Really?

[01:31:36.0000] <jgraham>
Doing *what*?

[01:31:37.0000] <hsivonen>
so goes the legend

[01:31:42.0000] <hsivonen>
dunno

[01:31:47.0000] <jgraham>
Checking their canteen food for poison?

[01:32:00.0000] <odinho>
They have a brag video about all their hardware and big testsuites at least.

[01:32:15.0000] <hsivonen>
but I think I’d not having to write tests myself and someone doing it for me

[01:32:41.0000] <jgraham>
hsivonen: There is am important word missing there

[01:32:43.0000] <hsivonen>
*I’d like not…

[01:33:00.0000] <jgraham>
It is kind of the Opera system

[01:33:08.0000] <jgraham>
It has advantages and disadvantages

[01:33:15.0000] <jgraham>
Like most things

[01:34:49.0000] <jgraham>
The main disadvantage is that knowing less about the code can make you oblivious of special cases in the implementation that are unusually likely to contain bugs

[01:36:02.0000] <jgraham>
But overall I think it is a functional system that is rather good at producing tests that can be contributed to the commons

[01:37:41.0000] <odinho>
Sometimes joaoe tells me "make a test for X" for some special case. Happily more often than once I already had the test :]

[01:38:43.0000] <jgraham>
Anyway, the communist solution would be for W3C to employ a dedicated platform test team

[01:39:12.0000] <jgraham>
And encourage them to work with implementors

[01:39:28.0000] <jgraham>
Not sure how it would add up financially though

[01:40:14.0000] <hsivonen>
they already hired darobin, so they are already on the slippery slope

[01:40:35.0000] <jgraham>
Not really to do that job though

[01:41:02.0000] <odinho>
Guess that's form "test platform platform team"

[01:41:07.0000] <jgraham>
There is also an advert for a QA manager

[01:41:57.0000] <jgraham>
(so if anyone who is first-langauge Japanese and is reading this wants a job, you might want to consider that)

[01:42:16.0000] <jgraham>
But that also doesn't mention actually developing *tests* anywhere

[01:42:29.0000] <jgraham>
It says "testing frameworks"

[01:43:34.0000] <jgraham>
(oh sorry, just fluent Japanese, not necessarily first-language)

[01:43:45.0000] <jgraham>
+in

[01:43:57.0000] <MikeSmith>
jgraham: we can hire somebody for that job outside of Japan

[01:44:14.0000] <MikeSmith>
does it really say fluent japanese is required?

[01:44:19.0000] <MikeSmith>
if so, it shouldn't

[01:44:40.0000] <jgraham>
Requirements: [...] Must be fluent in English as the working language of the W3C and Japanese as the first language in Japan where the Keio host is located;

[01:44:49.0000] <MikeSmith>
stupid

[01:45:13.0000] <MikeSmith>
somebody added that from when I reviewed it

[01:45:16.0000] <MikeSmith>
anyway, ignore that part

[01:45:24.0000] <hsivonen>
the UTF-8 BOM is like namespace. I still need to look the right hex values up every time.

[01:46:15.0000] <SamB_MacG5>
does it have to do with japanese typesetting/layout?

[01:46:19.0000] <MikeSmith>
jgraham: lemme put is this way, we can hire somebody to do the same work outside of that Keio position altogether

[01:46:31.0000] <MikeSmith>
SamB_MacG5: no, not in any way

[01:47:16.0000] <SamB_MacG5>
/me was guessing at an explanation for the "fluent japanese" requirement having snuck in ...

[01:47:47.0000] <MikeSmith>
SamB_MacG5: that was almost certainly added just for political reasons

[01:48:10.0000] <MikeSmith>
to make it difficult for anybody outside of Japan to apply for it

[01:49:17.0000] <MikeSmith>
anyway, if anybody is interested in leading testing work HTML and related stuff at W3C, feel free to contact me directly if you want

[01:50:44.0000] <MikeSmith>
if we have the right person I can deal with jumping through the hoops

[03:07:22.0000] <hsivonen>
annevk: do you happen to recall if there are known XSS vulnerabilities with ISO-2022-JP?

[03:41:16.0000] <annevk>
hsivonen: only if you don't decode it properly

[04:07:51.0000] <hsivonen>
I’m very much not a fan of ISO-2002-*. I’d rather not have to learn about it.

[04:11:58.0000] <MikeSmith>
21 people in the new SysApps WG, and 13 of them are from Intel

[04:11:59.0000] <MikeSmith>
https://www.w3.org/2000/09/dbwg/details?group=58119&public=1&order=org

[04:15:34.0000] <smaug____>
:)

[04:17:22.0000] <hsivonen>
/me hadn’t realized the spec now says that encodings that can encode non-markup as US-ASCII markup bytes are ASCII-compatible

[04:17:43.0000] <hsivonen>
looks like now to be ASCII compatible, the encoding only needs to encode markup as ASCII bytes

[04:18:07.0000] <hsivonen>
i.e. also encoding something else as the same bytes isn’t banned

[04:27:21.0000] <MikeSmith>
hmm I see the spec now says the colon character in time offsets is optional

[04:28:57.0000] <annevk>
hsivonen: in the Encoding Standard universe only UTF-16 is not ASCII-compatible

[04:29:51.0000] <annevk>
hsivonen: I filed a bug on HTML to be updated to reflect the terminology of that, since the complete picture becomes more coherent

[04:31:06.0000] <hsivonen>
annevk: do you know what x-userdefined is

[04:31:08.0000] <hsivonen>
?

[04:31:53.0000] <annevk>
last I checked that depends on the context :/

[04:32:08.0000] <hsivonen>
what can it be?

[04:32:10.0000] <annevk>
I haven't really figured that one out completely yet unfortunately

[04:32:14.0000] <hsivonen>
is it always ASCII-compatible?

[04:32:29.0000] <annevk>
e.g. in XHR I think it's iso-8859-1 (not windows-1252), but it depends on the implementation

[04:32:54.0000] <annevk>
hsivonen: I think in general it might be whatever the user prefers, which could be utf-16 I suppose (though maybe implementations should forbid that)

[04:33:43.0000] <hsivonen>
sigh. who comes up with this stuff?

[04:34:05.0000] <annevk>
Brendan's old colleagues?

[04:35:38.0000] <hsivonen>
hmm. what’s x-jis0208 and has it been removed from gecko while I wasn’t looking?

[04:36:44.0000] <hsivonen>
ooh. it’s a font encoding

[04:37:04.0000] <annevk>
jis0208 is a Japanese index

[04:37:09.0000] <annevk>
used by all Japanese encodings

[04:37:13.0000] <annevk>
dunno about that label though

[04:38:46.0000] <hsivonen>
I like it how Gecko omits aliases with a colon in them, because the Java property file format does not allow colons in property keys

[04:48:52.0000] <hsivonen>
annevk: hmm. maybe we should define x-user-defined as zero-extending the bytes to Unicode (i.e. what ISO thinks ISO-8859-1 is)

[04:49:09.0000] <hsivonen>
looks like we have XHR tests depending on that

[04:51:48.0000] <hsivonen>
oops no. it seems we map the high bytes to the PUA

[04:51:59.0000] <hsivonen>
anyway, it's ASCII-compatible

[05:04:14.0000] <karlcow>
https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/Using_XMLHttpRequest

[05:04:50.0000] <karlcow>
>// retrieve data unprocessed as a binary string

[05:04:51.0000] <karlcow>
>xhr.overrideMimeType("text/plain; charset=x-user-defined");

[05:06:32.0000] <karlcow>
	http://stackoverflow.com/questions/6986789/why-are-some-bytes-prefixed-with-0xf7-when-using-charset-x-user-defined-with-xm

[05:07:04.0000] <annevk>
hsivonen: but does it work that way for HTML documents? or is it treated as not recognised there?

[05:07:40.0000] <hsivonen>
annevk: it’s blacklisted for <meta> but it should work with HTTP charset

[05:07:50.0000] <annevk>
dear god

[05:07:54.0000] <karlcow>
http://www.alanflavell.org.uk/charset/user-defined.html

[05:08:00.0000] <karlcow>
a page from 1994

[05:08:01.0000] <hsivonen>
I just wrote a patch to remove the <meta> blacklisting, since it’s not really dangerous

[05:09:57.0000] <hsivonen>
the bogus <meta> blacklisting is entirely my fault

[05:10:06.0000] <annevk>
so it works in XML too?

[05:10:17.0000] <hsivonen>
annevk: I don’t see why it would not

[05:10:19.0000] <annevk>
I can add whatever you want to the Encoding Standard

[05:10:29.0000] <annevk>
that is, next week

[05:10:38.0000] <hsivonen>
I’m not sure if I want to add it or try to kill it

[05:10:55.0000] <hsivonen>
oh, except we can’t kill it for XHR, I suppose

[05:10:57.0000] <hsivonen>
sigh

[05:12:50.0000] <hsivonen>
annevk: by code inspection, the ASCII range maps to ASCII and the bytes from 0x80 (inclusive) onwards map to U+F780 (inclusive) and onwards

[05:15:48.0000] <annevk>
eww

[05:16:00.0000] <annevk>
I wonder if all browsers do it that way

[05:16:24.0000] <hsivonen>
annevk: the SO question karlcow linked to suggests WebKit does the same

[05:18:05.0000] <karlcow>
if we could at least do http://s3.amazonaws.com/files.posterous.com/temp-2012-10-02/hecCsnDHmwksACCpczqbdodzCyJBcyFDsHFoIIgCEsJGlwzFljtHnprDizbH/Submariner53ButtonCrop.jpg.scaled1000.jpg?AWSAccessKeyId=AKIAJFZAE65UYRT34AOQ&Expires=1349266594&Signature=O3Txcgy64Qd5%2FQOdYJyq540PO80%3D

[05:18:07.0000] <karlcow>
but no

[05:18:10.0000] <karlcow>
:)

[05:18:45.0000] <hsivonen>
karlcow: I get AccessDenied in unstyled XML

[05:18:52.0000] <karlcow>
ah!

[05:19:29.0000] <karlcow>
the finger on the button here http://4cp.posterous.com/bill-everett-sub-mariner-53-page-17-1972#

[05:20:47.0000] <hsivonen>
still, working on encodings is nicer than working on browsing contexts

[05:27:46.0000] <Ms2ger>
hsivonen, fwiw, the no-colon-because-.properties has been a lie for a while, they actually work

[05:27:57.0000] <annevk>
hsivonen: okay, I have tried to avoid mapping to PUA, but if everyone does it maybe I should stop caring about that and just write it down

[05:28:56.0000] <annevk>
Peter Krefting, Opera's encoding guy, does not like PUA at all; Opera almost always uses FFFD instead

[05:29:15.0000] <annevk>
I sided with that moral high ground for now, but maybe that's not worth it

[05:31:23.0000] <hsivonen>
In principle, it would be more wrong *not* to map “user-defined” gunk to PUA

[05:31:34.0000] <hsivonen>
if you are mapping it to *something*

[05:31:55.0000] <hsivonen>
i.e. using U+0080… would be more wrong

[05:37:30.0000] <annevk>
I guess for this particular label you may be correct

[05:37:49.0000] <annevk>
label/encoding*

[05:44:25.0000] <blade3>
Hi Everyone, Ive question about Meta name="title" this is a "good" or "bad" meta name ?

[05:46:59.0000] <Ms2ger>
Bad, just use <title>

[05:47:25.0000] <blade3>
ho ok thanks alot!

[05:47:37.0000] <Ms2ger>
Np

[05:48:23.0000] <jgraham>
annevk: There goes my plan to hack Opera to replace all instances of the letter U+004F to the PUA and ship a font with a single PUA glyph "OPERA LOGO O"

[05:49:05.0000] <blade3>
why the *** joomla set automatically meta name="title" ><"

[05:49:06.0000] <jgraham>
Uh, I think s/replace/map/ is one way to make that sentence make sense

[05:52:28.0000] <zcorpan>
annevk: i meant to cc you on http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Oct/0032.html

[05:52:51.0000] <hsivonen>
blade3: content management systems seem to manage more when they emit more metadata

[05:55:17.0000] <blade3>
^^

[06:28:04.0000] <blade3>
I've another question.. about "rel" attribut..

[06:29:31.0000] <blade3>
it's not a free attribut ? i've something like rel="albums_201" but w3c doesn't like -_-"

[06:30:24.0000] <blade3>
on <a> tag : Bad value albums_201 for attribute rel on element a: Keyword albums_201 is not registered

[06:31:01.0000] <blade3>
i need the rel for my jquery modalbox :-/ how I can fix it?

[06:31:24.0000] <Ms2ger>
The only allowed values are here: http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#linkTypes

[06:32:31.0000] <Ms2ger>
You can use the hidden input, I guess

[06:34:53.0000] <fkm>
Or the data-attribute.

[06:36:54.0000] <Ms2ger>
fkm, oh, does it support that? I didn't immediately see that in the documentation

[06:36:58.0000] <blade3>
fkm: like : <a data-attribute="bleh"></a> ?

[06:39:27.0000] <fkm>
Ms2ger: Well. Javascript does. So you could do $('whatever').get(0).dataset. Or am I confusing something here?

[06:40:13.0000] <Ms2ger>
fkm, he's got a library that looks at the rel attribute, or a hidden input, or something to do with forms

[06:41:10.0000] <fkm>
Well. He could modify it. That's what I did to the Slimbox2 so it would pass the validator.

[06:41:25.0000] <blade3>
it's not a form. it's just  a list of <a><img ...></a>

[06:42:23.0000] <blade3>
and i've many a rel="albums" to generate a albums with a[rel="albums"] tag

[06:43:44.0000] <fkm>
blade3: Have a look at the Slimbox part http://dev.snemelk.ch/gallery/README

[06:44:30.0000] <blade3>
ok i will look that

[06:47:29.0000] <blade3>
hmm nice, I'll modify my jquery and I'll try.. I come back soon to tell you if it's working

[06:59:11.0000] <annevk>
zcorpan: hmm yeah, well, browsers are shipping with URL already...

[06:59:24.0000] <annevk>
zcorpan: unless someone tells me to rename it, I'm not going to care much I think

[07:00:37.0000] <Ms2ger>
We broke Yahoo maps because of URL at some point, IIRC

[07:00:48.0000] <Ms2ger>
But bz told me the interface was fine

[07:03:02.0000] <Ms2ger>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=15765

[07:04:02.0000] <zcorpan>
hey, past me suggested renaming :-P

[07:06:14.0000] <zewt>
yeah, i'm curious as to which discussion led people to decide that the window.URL was OK for web-compat, that's indeed an odd one

[07:07:37.0000] <zcorpan>
results for "CSS": web200904: 30, stevef-all: 1

[07:08:35.0000] <zewt>
(aside, personally I don't care about breaking big things like Yahoo, because big, live users like them should be able to fix things quickly and probably before it even hits production; it's the hoard of tiny, dead, unmaintained pages that are the worry)

[07:10:09.0000] <jgraham>
zewt: You're not a browser QA, are you :p

[07:10:45.0000] <karlcow>
heh

[07:11:13.0000] <Ms2ger>
Hey, at least it wasn't hotmail

[07:11:26.0000] <jgraham>
A motto to live by there

[07:11:29.0000] <zewt>
i think hotmail should be broken as often and as badly as possible

[07:12:03.0000] <zewt>
ideally with freak bugs that somehow cause the browser to redirect the user to other mail services

[07:12:39.0000] <Ms2ger>
How about the people with corporate email hosted by hotmail?

[07:12:58.0000] <zewt>
they should be updating resumes

[07:13:31.0000] <Ms2ger>
Students whose college email is hosted by hotmail?

[07:14:00.0000] <zewt>
transfer time

[07:14:53.0000] <zewt>
heh, i had a database class in college that turned out to be more like "how to autogenerate SQL using MS Access wizards" :|

[07:15:12.0000] <Ms2ger>
"Fun"

[07:15:29.0000] <zewt>
aka "how to learn nothing about databases"

[07:15:38.0000] <MikeSmith>
help I'm trying to come up with a regexp to express "valid duration string"

[07:15:58.0000] <zewt>
"duration"?

[07:15:59.0000] <jgraham>
Oh no! MikeSmith is stuck in a RegExp factory

[07:16:05.0000] <MikeSmith>
heh

[07:16:05.0000] <zewt>
sending help

[07:16:13.0000] <jgraham>
Or, if this is java a RegExpFacrotyFactory

[07:16:14.0000] <MikeSmith>
help me escape!

[07:16:17.0000] <zewt>
now you have two problems, etc

[07:16:19.0000] <Ms2ger>
/me managed to avoid the XHTML + VBA class

[07:16:23.0000] <MikeSmith>
or send somebody in to kill me now

[07:16:42.0000] <MikeSmith>
so basic pattern is P[dD][T[hH][mM][s[.s]S]]

[07:16:51.0000] <MikeSmith>
where all the stuff in brackets it optional

[07:17:04.0000] <MikeSmith>
BUT it must have at least one of the things in brackets

[07:17:12.0000] <MikeSmith>
but it doesn't matter which one

[07:17:53.0000] <Ms2ger>
P[dD()]

[07:18:01.0000] <zewt>
d_D

[07:18:01.0000] <zewt>
___

[07:18:30.0000] <zewt>
MikeSmith: intuition is "regex is the wrong tool"

[07:18:38.0000] <MikeSmith>
yeah well

[07:18:43.0000] <zewt>
maybe there's a non-horrifying way to do it but it isn't occurring to me

[07:18:44.0000] <MikeSmith>
we're way past that already

[07:18:56.0000] <jgraham>
Yeah, it sounds like you are way into "now you have two problems" territory

[07:19:01.0000] <MikeSmith>
I think I just have to OR all the possible combinations

[07:19:08.0000] <zewt>
(non-horrifying as in not repeating the regex four times, each time with a different item non-optional)

[07:19:54.0000] <zewt>
afk

[07:19:58.0000] <jgraham>
OK, two problems was an underestimate

[07:20:19.0000] <Ms2ger>
N problems

[07:20:44.0000] <MikeSmith>
    private static final Pattern THE_PATTERN =

[07:20:44.0000] <MikeSmith>
Pattern.compile("^\\p{Zs}*(?:(?:([0-9]{4,})-([0-9]{2})-([0-9]{2})(?:\\p{Zs}*(?:T|\\p{Zs})\\p{Zs}*([0-9]{2}):([0-9]{2})(?::([0-9]{2})(?:\\.[0-9]+)?)?\\p{Zs}*(?:Z|(?:([+-][0-9]{2}):?([0-9]{2})))?)?)|(?:([0-9]{2}):([0-9]{2})(?::([0-9]{2})(?:\\.[0-9]+)?)?\\p{Zs}*(?:Z|(?:([+-][0-9]{2}):?([0-9]{2})))?)|(?:([0-9]{4,})-(W?)([0-9]{2}))|(?:([0-9]{2})-([0-9]{2}))|(?:Z|(?:([+-][0-9]{2}):?([0-9]{2})))|(?:([0-9]+))

[07:20:45.0000] <MikeSmith>
(?:(P([0-9]+D)?(T(([0-9]+)H)?(([0-9]+)M)?(([0-9]+)(\\.[0-9]{1,3}S)?))?)))\\p{Zs}*$");

[07:21:00.0000] <MikeSmith>
is what the full regexp in the code looks like now

[07:21:00.0000] <Ms2ger>
r-

[07:21:05.0000] <MikeSmith>
heh

[07:21:17.0000] <MikeSmith>
for this bad boy: http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#datetime-value

[07:21:26.0000] <MikeSmith>
this stuff is heinous

[07:21:36.0000] <MikeSmith>
nobody even wants to use the <time> stuff

[07:21:41.0000] <MikeSmith>
except for weirdos

[07:22:15.0000] <jgraham>
Really the people that insist on having this stuff in the spec should code up the validation for it themselves

[07:22:35.0000] <MikeSmith>
their should be parts of the spec marked with some kind of annotation to say, "This feature for OCD people only."

[07:22:52.0000] <MikeSmith>
jgraham: they're too busy writing ontologies

[07:23:03.0000] <MikeSmith>
and troubleshooting XML namespace problems

[07:23:19.0000] <Ms2ger>
AKA "XML namespaces"

[07:23:24.0000] <MikeSmith>
and pulling their pants up to their chest

[08:23:38.0000] <Hixie>
i would hope UTF-32 and EBCDIC would be non-ASCII compatible...

[08:38:02.0000] <Hixie>
MikeSmith: tantek had some reasonably good use cases for <time>

[08:38:07.0000] <Hixie>
MikeSmith: have him do it :_)

[08:47:31.0000] <MikeSmith>
Hixie: I got most of it done now. The first part ended up being not quite as nauseating as I thought'd be

[08:47:54.0000] <MikeSmith>
now working on the "duration time component" part

[08:48:32.0000] <MikeSmith>
Hixie: hey btw you saw my question about IANA and application/json+microdata ?

[09:27:48.0000] <dglazkov>
good morning, Whatwg!

[09:30:51.0000] <Hixie>
MikeSmith: rings a bell, but i don't recall what the question was

[09:32:02.0000] <MikeSmith>
Hixie: IANA replied to me directly with some questions and comments

[09:32:25.0000] <MikeSmith>
so I wanted to know if you could respond

[09:32:38.0000] <MikeSmith>
if I forward the reply to you

[09:32:44.0000] <MikeSmith>
and Cc some list I guess

[09:32:46.0000] <Hixie>
sure, though depending on the question i may not give answers they like :-)

[09:32:50.0000] <MikeSmith>
OK

[09:33:00.0000] <Hixie>
(e.g. "oh well, it's ok, i don't think we'll be using the iana registry for long" :-P)

[09:34:37.0000] <tantek>
/me scrolls up

[09:34:45.0000] <tantek>
hello MikeSmith and Hixie

[09:34:54.0000] <MikeSmith>
hey tantek

[09:36:28.0000] <tantek>
all the features of <time> were based on actual real world publishing examples where things either broke (accessibility problems), or people got them wrong because the alternatives were even more complicated.

[09:37:04.0000] <tantek>
all the experience came from the microformats community - and we try to avoid ontologies.

[09:40:25.0000] <MikeSmith>
OK

[09:48:20.0000] <Hixie>
hober: btw if you just right "bug 12345" bugzilla will automatically generate the link

[09:48:27.0000] <Hixie>
hober: you can also do "bug 12435 comment 6"

[09:50:55.0000] <Ms2ger>
*write

[09:50:59.0000] <Hixie>
uh

[09:51:01.0000] <Hixie>
yeah

[09:51:03.0000] <Hixie>
-_-

[09:51:38.0000] <Ms2ger>
And https://www.w3.org/Bugs/Public/page.cgi?id=linkify.html for previews

[09:52:32.0000] <Hixie>
huh

[09:52:41.0000] <Hixie>
when would you want to use that? weird

[09:54:43.0000] <Hixie>
MikeSmith: i disagree that it would be unwise to inherit parameters

[09:55:01.0000] <Ms2ger>
Hixie, to test syntax without spamming bugs? :)

[09:55:06.0000] <MikeSmith>
Hixie: OK

[09:55:08.0000] <Hixie>
Ms2ger: what is there to test?

[09:56:05.0000] <Hixie>
MikeSmith: and their comment about the security implications are bogus. If application/json doesn't define them properly, then that should be fixed. There's nothing new in microdata+json re securit.

[09:56:12.0000] <Hixie>
y

[09:56:30.0000] <Hixie>
MikeSmith: (in particular, i've no idea what tehy're talking about regarding "active content")

[09:56:55.0000] <Ms2ger>
To see if "bp-1166c631-aa95-4077-a103-90eed2120413" turns into a link, for example

[09:56:58.0000] <MikeSmith>
Hixie: me nt

[09:57:04.0000] <MikeSmith>
*me neither :)

[09:57:10.0000] <Hixie>
MikeSmith: the specification link of course is wrong, it should point to the whatwg spec. :-)

[09:57:11.0000] <tantek>
Hixie, btw - I've normalized the microformats2 JSON data model to also use the same "items:" array structure as well, type, properties etc. Pretty sure they're now aligned.

[09:57:15.0000] <MikeSmith>
I had been hoping you'd have some idea

[09:57:45.0000] <Hixie>
MikeSmith: the "applications" coment makes sense. let me fix that...

[09:57:50.0000] <tantek>
btw - I have to ask, what's the use-case for a new mimetype for this?

[09:58:08.0000] <tantek>
that you get above and beyond just sending it as application/json?

[09:58:19.0000] <hober>
Hixie: thanks

[09:58:47.0000] <Hixie>
tantek: distinguishing it in drag-and-drop

[09:59:12.0000] <tantek>
really? enough people are using drag-and-drop to have run into this?

[09:59:29.0000] <tantek>
/me thought web developers had given up on using drag-and-drop

[09:59:39.0000] <tantek>
due to the unintuitive model etc.

[09:59:41.0000] <Hixie>
i'm not aware of anyone having even implemented this, so no, but it's hard to see how you could use it if it didn't have its own type.

[09:59:47.0000] <Hixie>
and having a new type is essentially free

[09:59:49.0000] <Hixie>
so...

[09:59:54.0000] <Hixie>
brb

[10:00:17.0000] <tantek>
I guess I try to avoid creating new things until someone comes forward with a real world need for it. Even if it does seem theoretically necessary.

[10:00:42.0000] <tantek>
/me wouldn't be surprised if drag-and-drop was something sufficiently ignored as to eventually be dropped and/or rewritten with a new model.

[10:01:19.0000] <tantek>
every new thing created has a cost (dialog, review, maintenance, support) - having a new XYZ is never essentially free

[10:13:15.0000] <Hixie>
tantek: a new mime type for drag and drop is exceedingly cheap even by web standards

[10:13:48.0000] <Hixie>
tantek: i'd be much less surprised to see microdata (and rdfa and so forth) going away than drag and drop :-)

[10:13:49.0000] <tantek>
FWIW in my experience, nothing to do with IETF/IANA is "cheap".

[10:14:02.0000] <Hixie>
"nothing to do with IETF/IANA" is exactly right :-)

[10:17:08.0000] <Hixie>
MikeSmith: ok, i updated the applications line. I disagree with everything else.

[10:17:17.0000] <MikeSmith>
OK

[10:17:18.0000] <MikeSmith>
thanks

[10:17:29.0000] <Hixie>
MikeSmith: i don't intend to worry about it since i think the ietf/iana mime type registration thing is dead

[10:17:43.0000] <Hixie>
MikeSmith: i expect to do something about it next year sometime

[10:17:48.0000] <MikeSmith>
hai

[10:42:17.0000] <MikeSmith>
OK I finished writing up a validator patch to support datetime value in all its baroqueness

[10:42:38.0000] <MikeSmith>
and updated the wiki too

[10:42:39.0000] <MikeSmith>
http://wiki.whatwg.org/wiki/MicrosyntaxDescriptions#time-datetime

[10:42:59.0000] <MikeSmith>
will get it into Henri's review queue

[10:47:24.0000] <JonathanNeal>
At what point would https://github.com/scottjehl/picturefill be more appropriate to polyfill with a <picture> element? Never? Once the spec is at X stage?

[10:47:57.0000] <TabAtkins>
When at least one browser implements <picture>.

[10:48:41.0000] <SamB_MacG5>
what the heck is picture?

[10:49:45.0000] <MikeSmith>
SamB_MacG5: alternative proposal for same use case as srcset

[10:49:50.0000] <MikeSmith>
responsive images

[10:49:52.0000] <JonathanNeal>
SamB_MacG5: http://dvcs.w3.org/hg/html-proposals/raw-file/tip/responsive-images/responsive-images.html

[10:49:56.0000] <MikeSmith>
aka adaptive images

[10:52:30.0000] <JonathanNeal>
aka flossy may swanson aka lulu pearl mccloud aka tita chicita juanita

[10:55:42.0000] <SamB_MacG5>
oh, for retina and such!

[10:57:18.0000] <SamB_MacG5>
huh, very much under construction I see

[10:59:17.0000] <tantek>
MikeSmith - yes, dates and times are difficult, welcome to the club. :)

[10:59:57.0000] <SamB_MacG5>
also, monolithic regular expressions are unreadable

[11:00:39.0000] <MikeSmith>
tantek: I'm only a temporary member of the club

[11:00:44.0000] <MikeSmith>
Killroy was here

[11:01:16.0000] <tantek>
MikeSmith, glad to have you, even ephemerally :)

[11:01:22.0000] <MikeSmith>
:-)

[11:01:27.0000] <tantek>
we are all temporary members of the club, some more or less so.

[11:01:42.0000] <SamB_MacG5>
Emacs has at *least* three different libraries for building regular expressions in pieces

[11:03:32.0000] <jgraham>
SamB_MacG5: Since that was obviously a setup line, I will oblige: emaces has at least 3 different libraries for everything (but no good text editor)

[11:03:44.0000] <jgraham>
(actually I use emacs and like it as text editor ;)

[11:04:15.0000] <jgraham>
(I'm not really an emacs user though; I don't know any elisp at all)

[11:04:44.0000] <jgraham>
(note the subtle semantic difference)

[11:05:45.0000] <SamB_MacG5>
You're supposed to build your own text editor out of it ;-P

[11:06:02.0000] <SamB_MacG5>
what it really needs is a decent syntax highlighting framework

[11:06:09.0000] <say2joe>
i have to agree on emacs

[11:06:56.0000] <SamB_MacG5>
you know, one that actually uses grammars, rather than just highlighting stuff that matches certain regular expressions

[11:07:32.0000] <jgraham>
With that in mind hober promised a html-mode based on an actual parser *years* ago

[11:07:36.0000] <jgraham>
:p

[11:07:47.0000] <SamB_MacG5>
hey, at least now there's a spec ...

[11:08:07.0000] <jgraham>
(nxml is famously based on an actual elisp xml parser)

[11:08:29.0000] <SamB_MacG5>
yes, I know, but that's the *only* such mode I'm positive exists

[11:08:39.0000] <SamB_MacG5>
er. wait ... yes, js2-mode does parse

[11:08:45.0000] <jgraham>
Yeah

[11:08:54.0000] <SamB_MacG5>
/me was having trouble remembering whether it did or not

[11:08:57.0000] <jgraham>
(it is also kind of broken, at least versions I used)

[11:09:19.0000] <jgraham>
(and sometimes decides that you are in the middle of a string)

[11:09:41.0000] <SamB_MacG5>
hmm, I think maybe it doesn't actually turn off font-lock mode?

[11:11:37.0000] <SamB_MacG5>
oh, huh, hober seems to have gotten as far as starting on the tokenizer :-(

[11:11:45.0000] <SamB_MacG5>
two years ago

[11:39:32.0000] <hober>
SamB_MacG5: yeah, sorry. it's tough to find time to work on it.

[11:39:47.0000] <SamB_MacG5>
hober: that was not intended as a complaint

[11:40:15.0000] <SamB_MacG5>
I only looked at the repository because of the vague description in el-get's listing

[11:41:32.0000] <SamB_MacG5>
/me had been wondering if there was some kind of "look up <foo> in HTML5" tool

[11:43:46.0000] <hober>
SamB_MacG5: something like (defun html5-lookup (element) (interactive "sElement: ") (browse-url (format "http://www.whatwg.org/specs/web-apps/current-work/#the-%s-element" element))) should work

[11:43:49.0000] <hober>
untested of course

[11:44:50.0000] <SamB_MacG5>
hober: yeah, I had noticed that there was such a pattern...

[11:45:08.0000] <SamB_MacG5>
... too bad there isn't one for the multi-page versions

[11:45:11.0000] <Hixie>
there's an index :-)

[11:45:27.0000] <Hixie>
SamB_MacG5: actually for teh multipage version just go to http://whatwg.org/htm/#the-%s-element

[11:45:30.0000] <Hixie>
er

[11:45:32.0000] <Hixie>
/html/

[11:45:36.0000] <SamB_MacG5>
oh really?

[11:46:21.0000] <Ms2ger>
Yep

[11:46:42.0000] <SamB_MacG5>
I was thinking that there should be one of those, but I hadn't considered the possibility of it being at the root ;-)

[11:47:29.0000] <Hixie>
also http://whatwg.org/c

[11:47:48.0000] <Hixie>
("c" for "complete" because for a while /html/ went to a subse)

[11:47:50.0000] <Hixie>
subset

[11:49:55.0000] <SamB_MacG5>
I expect the W3C version doesn't have the fancy javascriptery?

[11:53:16.0000] <Hixie>
w3c version is missing a bunch of stuff, see the intro to the whatwg version for a summary

[11:59:42.0000] <pablof>
are there any examples of overloaded functions in the dom that anyone can think of, besides setRangeText?

[12:00:11.0000] <pablof>
overloaded as in different definitions of the same function, which vary in the number of parameters

[12:01:12.0000] <Hixie>
yeah, there's lots of them

[12:01:24.0000] <Hixie>
e.g. window.open(), document.open()

[12:01:37.0000] <Hixie>
document.open() is especially eggregious

[12:05:16.0000] <pablof>
Hixie: indeed, thanks, any others, off the top of your head?

[12:06:39.0000] <jgraham>
A whole bunch of canvas functions

[12:06:45.0000] <jgraham>
I'm pretty sure

[12:07:02.0000] <jgraham>
(document.open would be funny if it wasn't so sad)

[12:08:04.0000] <pablof>
canvas indeed, thanks

[12:08:13.0000] <jgraham>
"what's that? Three parameters? Hmm... I guess you just typoed 'window' to 'document'! Let's do that instead!"

[12:11:49.0000] <Hixie>
pablof: yeah, e.g. XMLHttpRequest.send()

[12:12:12.0000] <Hixie>
pablof: setTimeout() and setInterval()

[12:13:10.0000] <Hixie>
HTMLSelectElement.add()

[12:13:14.0000] <pablof>
found what i needed, thanks everyone!

[12:13:18.0000] <Hixie>
the Option constructor

[12:13:20.0000] <Hixie>
there's lots :-)

[12:42:20.0000] <SamB_MacG5>
/me boggles at the mention of Netscape 2 and IE 3 in http://www.quirksmode.org/js/strings.html

[12:48:46.0000] <say2joe>
@samb_macg5 not sure that quirksmode.org is updated much these days despite it being a valuable resource… Netscape 2 (I can only remember back to 3)?

[12:49:53.0000] <SamB_MacG5>
I started out with IE 3.2 and then Netscape 4, I think...

[13:02:09.0000] <TabAtkins>
People who started webdev in the last 8 years or so have only had to worry about IE6, I think.

[13:06:18.0000] <Hixie>
gotta love how the canonical way of installing "make" on a mac involves downloading a 1.6 gig file

[13:17:43.0000] <ap>
Hixie: Just noticed that HTML spec doesn't ever mention respecting Content-Language HTTP header field. Is that intentional? Are browsers allowed to respect it?

[13:18:18.0000] <Hixie>
it's mentioned somewhere, iirc

[13:18:33.0000] <ap>
Hixie: I can only find http-equiv

[13:18:57.0000] <Hixie>
search for "then language information from a higher-level protocol (such as HTTP)"

[13:19:16.0000] <ap>
Hixie: thanks

[13:20:04.0000] <ap>
Hixie: surprising that pragma wins over HTTP here

[13:20:29.0000] <Hixie>
*shrug*

[13:20:38.0000] <Hixie>
i've long stopped being surprised :-P

[13:22:55.0000] <ap>
Hixie: last occurrence of "surprise" on May 8th, 2012, it appears :-P

[13:23:17.0000] <Hixie>
:-)


2012-10-04
[18:20:41.0000] <Yuhong>
 <Hixie> anyone got IE handy? I need http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1811's output

[18:21:15.0000] <Yuhong>
Using IE9 on Win7 in IE9 mode: Button, bamm, bamm2, bamm2

[18:21:59.0000] <Hixie>
thanks

[18:22:19.0000] <Yuhong>
Using IE9 on Win7 in IE8 mode: Button, bamm, bamm2, bamm

[18:25:01.0000] <Yuhong>
Hixie: Did cwilson help you reverse engineer IE quirks, BTW?

[18:26:16.0000] <Yuhong>
I wish that MS could join the WHATWG, but in the meantime....

[18:26:34.0000] <Hixie>
cwilson works for google now

[18:26:42.0000] <Yuhong>
And you work for Google too, right?

[18:27:01.0000] <Hixie>
yes, but i mean, he doesn't have any access that i don't...

[18:27:26.0000] <Yuhong>
No, but cwilson worked on IE at MS up to the IE8 era.

[18:27:41.0000] <Hixie>
i'm sure he's under NDA about that

[18:32:05.0000] <Yuhong>
Some other people that worked on IE before going to Google include jbeda, who worked on the DOM: http://news.ycombinator.com/item?id=3233935

[18:40:13.0000] <MikeSmith>
can any Opera folk suggest somebody I can talk with at Opera about <ruby> ?

[23:09:44.0000] <hsivonen>
MikeSmith: a nice regexp you have sent for review…

[23:10:09.0000] <hsivonen>
this is why perl allows comments inside regexps

[23:35:58.0000] <hsivonen>
Hixie: in the syntaxt for the <time> element, why is there “A valid non-negative integer representing a year” without requiring a minimum of 4 digits?

[23:37:02.0000] <hsivonen>
what are the use cases for thing thing again…

[23:45:36.0000] <hsivonen>
*this thing

[00:09:54.0000] <[tm]>
hsivonen: "nice" is one way to describe it i guess  :-)

[00:14:37.0000] <zcorpan>
matjas: https://www.w3.org/Bugs/Public/show_bug.cgi?id=18162 - html wg doesn't use LATER but instead changes product to HTML.next

[00:21:21.0000] <tantek>
zcorpan, I heard .next is now HTML 5.1 :)

[00:21:59.0000] <zcorpan>
tantek: there's no such thing in the Product drop-down :-P

[00:22:06.0000] <hsivonen>
[tm]: it took me about 50 minutes to dissect the regexp and compare it with the spec :-(

[00:22:36.0000] <zcorpan>
r-!

[00:22:58.0000] <tantek>
zcorpan - is that in bugzilla? I think there needs to be a product first before it can show up in the product drop-down.

[00:23:23.0000] <zcorpan>
tantek: yes. there is HTML.next in there which is being used

[00:23:45.0000] <tantek>
the nice thing about .next is that it's never .now

[00:24:18.0000] <zcorpan>
maybe they'll create a 5.1 product and move some bugs from .next to that

[00:24:22.0000] <zcorpan>
but that's just speculation

[00:34:09.0000] <othermaciej>
zcorpan: our tentative plan is to have products with names like "HTML spec" and "HTML spec (5.0 stable version)"

[00:34:22.0000] <othermaciej>
where "HTML spec" would cover all post-5.0 stuff

[00:34:27.0000] <othermaciej>
HTML.next product would be obsoleted

[00:34:40.0000] <othermaciej>
and someday there may be an "HTML spec (5.1 stable version)" component, but not yet

[00:35:50.0000] <hsivonen>
othermaciej: what’s the deal with publishing single-champion extension specs through the HTML WG?

[00:36:26.0000] <hsivonen>
othermaciej: how is that better than Hixie putting an unbaked idea in the WHATWG spec and making it look like it has more buy-in than it has?

[00:36:43.0000] <othermaciej>
hsivonen: are you looking to publish one, or are you worried that it will happen?

[00:37:06.0000] <othermaciej>
(or do you think there is an existing publication that is single-champion?)

[00:37:07.0000] <hsivonen>
othermaciej: Steve’s actions around hgroup confuse me

[00:37:39.0000] <othermaciej>
ah

[00:37:48.0000] <othermaciej>
so far he's got editor's drafts

[00:37:54.0000] <othermaciej>
perhaps he will take one or more to FPWD

[00:38:27.0000] <othermaciej>
I think it is unlikely all of them will be able to meet CR exit criteria, and I don't know if even one of them will (but if so, it probably deserves to replace hgroup)

[00:39:16.0000] <hsivonen>
othermaciej: so the path forward is to throw stuff on the wall and see if you can bait someone to implement so that you can exit CR?

[00:39:32.0000] <hsivonen>
and in the meantime, authors out there are confused about what they are supposed to use

[00:39:43.0000] <hsivonen>
and the W3C validator is supposed to support everything?

[00:39:51.0000] <othermaciej>
my personal opinion is that <hgroup> is not a very good syntax for subheadings but I don't particularly love any of Steve's alternatives

[00:40:11.0000] <othermaciej>
I doubt the W3C validator will support each of the alternatives

[00:40:36.0000] <othermaciej>
I agree there are potential downsides to "let the market decide", at least in this specific case

[00:41:00.0000] <othermaciej>
for stuff like longdesc or pubdate, it's less likely we'd have competing alternatives for the same use case

[00:41:08.0000] <hsivonen>
I’m generally unhappy about moving to FPWD without implementor buy-in and revisiting buy-in at CR exit

[00:41:45.0000] <othermaciej>
historically HTML WG has let you FPWD just about anything but we nominally ask for three independent supporters

[00:41:46.0000] <hsivonen>
If bad stuff is published like that if one implementor gets tricked into implementing, we might all have to implement bad stuff

[00:42:22.0000] <hsivonen>
(applies to Hixie’s unbaked ideas, too, but I sort of expected the W3C to improve this aspect)

[00:42:48.0000] <othermaciej>
I personally think that Microdata vs. RDFa was a case where "let the market decide" worked out ok and in the meantime ended the painful permathread flamewars

[00:43:57.0000] <tantek>
hsivonen - I think there's quite a bit of that going on: "bad stuff is published like that ... one implementor gets tricked into implementing, we might all have to implement bad stuff"

[00:44:02.0000] <danbri>
do we have any Microdata users (in terms of vocabulary) beyond schema.org yet?

[00:44:51.0000] <othermaciej>
granted, hgroup vs hsub vs outlineMask vs the other form of hsub vs sublime vs "don't even address the use case" is not quite the same

[00:45:03.0000] <tantek>
othermaciej - you mean worked out well for the market of folks (no pun intended) who like to learn handfuls of new attributes for adding semantics?

[00:45:11.0000] <othermaciej>
in that it is both lower stakes, and more confusing

[00:45:57.0000] <tantek>
hgroup always seemed fined to me (except for being potentially too rare a use-case to be worthy of inclusion in the core - despite the fact that I personally find it often handy)

[00:46:16.0000] <tantek>
it's the "outline algorithm" that never made any sense to anyone that I know of

[00:46:40.0000] <othermaciej>
the outline algorithm doesn't make much sense to me and I doubt it will make it out of the w3c's CR process

[00:46:54.0000] <tantek>
yeah, I don't know of anyone with any intent to implement it

[00:47:05.0000] <tantek>
might as well propose punting it to 5.1 now

[00:47:11.0000] <hsivonen>
othermaciej: I’m rather unhappy the Chairs just didn’t tell the RDFa folks to publish through their WG. after all, they have a WG, so they don’t need another WG to publish their stuff

[00:47:18.0000] <othermaciej>
I think one of the forms of <hsub> seems more logical to me than <hgroup>(though I would probably call it <subhead> or something)

[00:47:23.0000] <hsivonen>
(whereas the WHATWG didn’t have a WG)

[00:47:34.0000] <othermaciej>
hsivonen: we did now tell the RDFa folks to publish through their WG, and they will

[00:47:37.0000] <tantek>
hsivonen - it's because in order to be marketing buzzword compliant, you need to have an "HTML5 …" prefix at the start of your spec

[00:47:54.0000] <hsivonen>
tantek: yes

[00:48:15.0000] <tantek>
I think it shows insecurity in your own WG if you feel you must publish in another WG.

[00:48:17.0000] <othermaciej>
http://www.w3.org/2012/09/rdfa-wg-charter

[00:48:39.0000] <tantek>
I think it also shows insecurity in your spec if you feel you must hardcode it into a more popular spec in order to get adoption.

[00:48:43.0000] <danbri>
For a long while the two groups were too far apart

[00:48:43.0000] <hsivonen>
othermaciej: I think debating subheadings is premature until we have someone implementing a section level selector and has a good idea about the perf impact of various ways of masking stuff from the outline

[00:49:00.0000] <tantek>
danbri - which two groups? any two groups? ;)

[00:49:03.0000] <danbri>
at least they're not heading in much closer directions (rdfa more clearly detached from xhtml-isms, etc)

[00:49:11.0000] <othermaciej>
yeah, in retrospect it was probably a mistake to implement support for <hgroup> without implementing any of its relevant semantics

[00:49:12.0000] <danbri>
rdfa/html

[00:49:53.0000] <danbri>
re marketingisms, webgl seems to be perceived as 'part of' html5 by a lot of people; even if much of the speccing happened elsewhere

[00:49:58.0000] <tantek>
danbri, wasn't that just a side effect of staying on the XHTML2 bandwagon too long?

[00:50:24.0000] <tantek>
and btw - good to see you here in #whatwg

[00:50:36.0000] <danbri>
yes, but also understimating how much work converging w/ html would be

[00:51:09.0000] <tantek>
I think another large forcing function has been the massive developer preference for consuming JSON over all other syntaxes.

[00:51:10.0000] <danbri>
thanks :) I lurk in a lot of irc channels but usually just read

[00:53:53.0000] <hsivonen>
Speaking of extension specs: glazou asked about supporting epub:type in the validator. epub:type is like ARIA landmarks but from a different group and, hence, under a different (namespaced) name to comply with Conway's Law. I wonder what the benefit/harm considerations would look like for an XHTML5+EPUB option on Validator.nu.

[00:55:57.0000] <hsivonen>
epub:type degrades gracefully if it leaks onto the Web, but there's other EPUB stuff that won't degrade gracefully if it leaks to the Web.

[00:57:06.0000] <hsivonen>
Also, namespacing the attributes means they won’t have DOM Consistency if/when IDPF decides to adopt the text/html serialization of HTML

[00:57:49.0000] <hsivonen>
as for implementations, so far I’m only aware of iBooks supporting one particular pair of epub:type values

[00:58:06.0000] <hsivonen>
I have no idea if the rest are supported by anyone

[00:59:32.0000] <hsivonen>
EPUB really needs its equivalent of caniuse.com. I have no idea how real any of the EPUB extensions to either XHTML or CSS are

[01:06:20.0000] <othermaciej>
I wish IPDF used epub-type instead of epub:type and so forth; or better yet managed to avoid extending [X]HTML5

[01:10:52.0000] <hsivonen>
or had folded their landmarks into ARIA landmarks as I, IIRC, suggested at TPAC 2 years ago

[01:12:16.0000] <Ms2ger>
He. He. He.

[01:14:03.0000] <annevk>
hsivonen: does iBooks and such enforce XHTML?

[01:14:19.0000] <hsivonen>
annevk: no idea

[01:14:54.0000] <annevk>
cause you know, people told us mobile was XHTML too

[01:14:59.0000] <annevk>
they lied

[01:16:05.0000] <jgraham>
I really don't think I should find the word "landmarks" as funny as I do.

[01:16:38.0000] <annevk>
jgraham: think less, enjoy more?

[01:16:41.0000] <jgraham>
But in common usage it's not really used in the sense of "things you would navigate by"

[01:16:52.0000] <jgraham>
More "tourist attractions"

[01:17:05.0000] <jgraham>
Or, rather, in its commenest usage

[01:17:16.0000] <jgraham>
*comnmonest

[01:17:22.0000] <jgraham>
Oh for fucks sake

[01:19:28.0000] <tantek>
epub:type huh - what's its use case?

[01:21:48.0000] <hsivonen>
tantek: Someone who should know claims on the Internet that it can be used in iBooks to make links to footnotes causes a footnote to appear as a pop-up instead of causing navigation to the footnote. As for the other values, I can make guesses about use cases but I don't really know.

[01:22:10.0000] <hsivonen>
s/causes/cause/

[01:22:20.0000] <tantek>
oh it's how epub makes up their own element names and shoe horns them into HTML - http://idpf.org/epub/vocab/structure/

[01:23:03.0000] <hsivonen>
the more landmarkish values seem redundant with OPF <guide>

[01:24:07.0000] <tantek>
here's a nice one: http://idpf.org/epub/vocab/structure/#pagebreak

[01:24:22.0000] <tantek>
because that's semantic after all and has nothing to do with presentation ;)

[01:24:38.0000] <hsivonen>
tantek: is that an idea, a draft or a spec? I haven’t seen that doc before when navigating from the front page

[01:24:55.0000] <tantek>
hsivonen - found referenced from here: http://matt.garrish.ca/epub3/guidelines/content/semantics/epub-type.php

[01:25:28.0000] <tantek>
hsivonen I'd say neither draft nor spec but yet another semantic registry

[01:25:40.0000] <hsivonen>
tantek: the page break thing is for correlating epub positions to print page numbers at a book club or in class

[01:26:28.0000] <hsivonen>
so it’s not crazy. Amazon automates the generation of that data for Kindle files.

[01:27:08.0000] <tantek>
nah, it's pretty crazy

[01:27:20.0000] <tantek>
reminds me of the Palm WebOS extensions to HTML

[01:27:27.0000] <tantek>
back when that was happening

[01:28:38.0000] <tantek>
hsivonen, "make links to footnotes causes a footnote to appear as a pop-up instead of causing navigation to the footnote" sounds presentational and something that could/should be added to CSS.

[01:29:01.0000] <hsivonen>
I find it remarkable that Amazon refuses to ship an EPUB reader for their devices, but one of the main paths for publishing for Kindle is preparing an EPUB file an running it through an Amazon-supplied converter.

[01:29:24.0000] <hsivonen>
tantek: has any iBooks stuff resulted in proposals to the CSS WG?

[01:29:38.0000] <tantek>
good question for hober

[01:30:03.0000] <tantek>
why bother with an EPUB reader for Kindles when Kindles already have a web browser of sorts

[01:30:37.0000] <hsivonen>
to avoid device/store lock-in

[01:31:33.0000] <jgraham>
hsivonen: I presume that's about funneling as many sales to kindle devices via amazon.com as possible

[01:32:04.0000] <jgraham>
+book

[01:32:38.0000] <hsivonen>
of course. Giving the converter to publishers but not automating conversion on the device for users is Amazon showing their corporate middle finger to their users.

[01:33:38.0000] <hsivonen>
why doesn’t the DOJ look into *that*?

[01:36:43.0000] <jgraham>
Is it illegal? I mean I agree it is obnoxious, but no more so than - for example - Apple's "no competing software" policy or Microsoft's "Microsoft-only API" policies (on windows 8/ARM)

[01:38:20.0000] <zcorpan>
so the html wg still hasn't published eh? the drafts were supposed to be ready and done on 15th last month

[01:38:41.0000] <zcorpan>
not that i'm surprised

[01:39:17.0000] <tantek>
publishing is hard, let's create process

[01:40:19.0000] <zcorpan>
publishing should be automated

[01:41:42.0000] <zcorpan>
speaking of which, what's the plan with FSAs? are we waiting on something?

[01:41:59.0000] <zcorpan>
Hixie: ^

[01:42:11.0000] <jgraham>
Finite State Automotons?

[01:42:35.0000] <tantek>
you have to spend your FSA by the end of the calendar year or else it disappears

[01:42:55.0000] <jgraham>
Free Software Allowance?

[01:43:02.0000] <tantek>
:)

[01:44:19.0000] <zcorpan>
Fish Spawning Aggregation

[02:41:25.0000] <MikeSmith>
hsivonen: it took me at least 50 minutes to dissect that part of the spec to write that regexp :-)

[02:42:03.0000] <MikeSmith>
hsivonen: if you think it'd be useful for ease of maintenance to split it up, I can do that

[02:45:48.0000] <MikeSmith>
hsivonen: also fwiw I don't know that the use case is for allowing years of less than 4 digits there

[02:46:07.0000] <MikeSmith>
nor do I know what the use case is for allowing bare timezone offsets

[02:47:07.0000] <MikeSmith>
but the spec allows those

[02:47:52.0000] <MikeSmith>
"A valid time-zone offset string" is item 6 in the list at http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#datetime-value

[02:49:52.0000] <MikeSmith>
hsivonen: about the epub stuff, you know they are maintaining their own validator

[02:50:03.0000] <MikeSmith>
and epub books are not Web content

[02:50:45.0000] <MikeSmith>
oh maybe I'm confused about what epub extensions are

[02:51:19.0000] <MikeSmith>
if they are attributes that are meant to be added to web content instead of epub books, I guess I'd really wonder what the use case is

[02:54:40.0000] <MikeSmith>
annevk, hsivonen : HTML files in epub 3.0 books are required to be well-formed XML XHTML

[02:55:11.0000] <MikeSmith>
I briefly tried to get that epub wg to not make that a requirement, but I lost

[02:55:41.0000] <MikeSmith>
some people in that group were insisting on it as a requirement because they said there was no way to validate them otherwise

[02:56:26.0000] <MikeSmith>
which is wrong of course but oh well

[02:57:19.0000] <hsivonen>
MikeSmith: I’m OK with a single regexp if you can track the capture groups right. :-) the code for that is still to be written, right?

[02:58:07.0000] <MikeSmith>
well I saw that question in your e-mail message but I have to admit I don't understand why we need to track the capture groups

[02:58:18.0000] <hsivonen>
MikeSmith: I’m aware that there is such a thing as epubcheck, but I don’t know what exactly it checks

[02:58:54.0000] <hsivonen>
MikeSmith: as I understood it, glazou didn’t suggest using epub:type on the Web

[02:59:01.0000] <MikeSmith>
we already had a monster regexp in that code but were not tracking the capture groups in other parts of the code as far as I can see

[02:59:03.0000] <MikeSmith>
hsivonen: OK

[02:59:29.0000] <hsivonen>
MikeSmith: the superclass is trying to track the capture groups

[03:00:26.0000] <MikeSmith>
hsivonen: I don't know what epubcheck is checking either but I know they forked the vnu schema and are using that -- without the HTML5 datatype library (the replaced all of them with regexp patterns in the schema itself)

[03:00:30.0000] <MikeSmith>
hsivonen: ah OK

[03:00:40.0000] <MikeSmith>
OK, will address that then

[03:01:18.0000] <MikeSmith>
hsivonen: fwiw, epub schema is at http://epubcheck.googlecode.com/svn/branches/epub3/com.adobe.epubcheck/src/com/adobe/epubcheck/schema/30/mod/html5/

[03:01:37.0000] <hsivonen>
The other day, I was trying to find some test EPUB files and got worried because I didn't find them. So either I'm bad at searching, EPUB test cases are secret or, worst case, there isn't a proper test suite.

[03:01:52.0000] <MikeSmith>
of course that schema can't recognize data-* attributes

[03:02:08.0000] <MikeSmith>
I don't think they have a proper test suite

[03:02:15.0000] <MikeSmith>
I've not seen it anywhere at least

[03:02:48.0000] <hsivonen>
they broke fantasai’s indent style :-(

[03:03:09.0000] <MikeSmith>
they broke a lot of things in that schema…

[03:04:25.0000] <MikeSmith>
I met with Murata-san to talk about it before they forked it. He didn't want to do it without talking about it first. But I just told him it's free software and they're welcome to do what they please with it

[03:07:06.0000] <hsivonen>
oh, breaking the indent style is permitted by the license, sure

[03:08:51.0000] <hsivonen>
MikeSmith: anyway, given that the IDPF schema is relaxed, I think it’s not unreasonable for glazou to be interested in Validator.nu + the EPUB stuff

[03:09:10.0000] <MikeSmith>
yah true

[03:10:15.0000] <hsivonen>
some day, I’m going to make some test books to learn the truth about EPUB readers

[03:11:42.0000] <MikeSmith>
I wish the whole thing would move to actually putting books on the Web at URLs

[03:12:32.0000] <hsivonen>
yeah, though I kinda sympathize with the desire to make it clear what the bounds of a book are for caching

[03:12:50.0000] <hsivonen>
and I sympathize with the desire to let users hold copies of their books forever

[03:13:01.0000] <hsivonen>
though DRM pretty much reverses that benefit

[03:13:18.0000] <hsivonen>
also, to read it private

[03:13:23.0000] <hsivonen>
again, foiled by DRM

[03:20:54.0000] <MikeSmith>
the DRM issue muffs up everything about the user experience

[03:21:38.0000] <MikeSmith>
it effectively restricts you to only being able to read your purchased books in the reader provided by the vendor that sold you the book

[03:22:11.0000] <MikeSmith>
and it gives the vendors almost no incentive to compete for quality in their readers

[03:49:11.0000] <hsivonen>
MikeSmith: it appears that almost everyone except Apple and Amazon is Adobe’s OEM basically

[03:58:51.0000] <MikeSmith>
hsivonen: yeah I guess it's like that

[04:41:20.0000] <annevk>
MikeSmith: well mobile was required to be XHTML too

[04:41:33.0000] <annevk>
MikeSmith: doesn't mean a) it is and b) that clients actually enforce

[04:55:34.0000] <MikeSmith>
annevk: yeah

[05:00:50.0000] <darobin>
I strongly doubt that it's enforced

[05:01:15.0000] <darobin>
book readers are slow machines, you don't want to do anything other than feed the content straight to the rendering engine

[05:01:25.0000] <darobin>
which is normally an HTML rendering engine

[05:01:47.0000] <annevk>
no man, XML is faster!!!!

[05:02:01.0000] <annevk>
how they mighty have fallen

[05:02:05.0000] <annevk>
the*

[05:02:09.0000] <MikeSmith>
well their loss -- they're missing out on the benefits of catch fire and fail

[05:02:12.0000] <MikeSmith>
ask Tim Bray

[05:02:21.0000] <hsivonen>
darobin: is Adobe’s SDK an HTML engine?

[05:02:47.0000] <MikeSmith>
if I have an e-book reader in my pacemaker I certainly don't want it to be using loosy-goosey unlclean tag soup parsing

[05:03:02.0000] <hsivonen>
AFAICT, pretty much every non-Amazon e-Ink device embeds Adobe’s engine

[05:03:05.0000] <darobin>
hsivonen: I haven't looked closely, but last I heard they had somethin WebKit based, no?

[05:03:25.0000] <hsivonen>
darobin: I have no idea what Adobe’s SDK is based on

[05:03:49.0000] <darobin>
my understanding from talking to book people is that it's all webkit

[05:04:01.0000] <darobin>
Amazon used to use NetFront but they thankfully ditched that

[05:04:43.0000] <darobin>
annevk: they should really use EXI — now *that* is faster :)

[05:05:13.0000] <darobin>
/me only half joking, it would actually make some sense to use exified HTML on that level of dumb device

[05:05:58.0000] <hsivonen>
Linux on Freescale ARM SoC is not that dumb

[05:06:02.0000] <darobin>
hsivonen: I reckon that a good way of assessing what works in epub world would be to grab a bunch of books from one of those book pirate teams

[05:06:16.0000] <darobin>
because they tend to produce stuff that has been properly corrected to actually be interoperable

[05:06:46.0000] <darobin>
hsivonen: the ipad isn't so dumb either, but many of those devices are pretty slow

[05:07:17.0000] <darobin>
the K3 can barely keep up with its screen :)

[05:44:42.0000] <jgraham>
Isn't "as soon as someone writes a js library for it" to obvious answer to "when will we see a filesystem library on top of IndexedDB"

[05:44:45.0000] <jgraham>
?

[06:39:35.0000] <darobin>
does whatwg.org have some kind of protection against spidering?

[06:41:12.0000] <darobin>
same for html5.org

[06:41:33.0000] <darobin>
I'm running link checking on the spec, and those both seem to just drop the connection

[08:10:45.0000] <odinho>
There's an Opera survey and they want different people to answer, anyone in this channel is obviously qualified :P   ->  http://fluidsurveys.com/s/operasurvey/

[08:27:09.0000] <Lachy>
odinho, where was that survey announced? I don't see it mentioned in any internal mail.

[08:28:06.0000] <odinho>
Lachy: http://my.opera.com/chooseopera/blog/2012/10/04/help-opera-improve-its-products-and-services

[08:28:38.0000] <odinho>
Lachy: To be honest I just talked with the guy who made it randomly on the bus.

[08:29:08.0000] <Lachy>
ok

[08:29:38.0000] <Lachy>
might be more useful to have it posted on Opera's twitter account

[08:31:36.0000] <odinho>
Lachy: Ah, they prolly will. I would've just thought that whatwg would probably be forgotten, so I took it upon myself to fix that :P

[08:32:45.0000] <Lachy>
The question about industry partners is asking a bit too much for any useful responses, as it includes too many vastly different groups, of which Opera's need and ability to establish connections with varies greatly.

[08:33:38.0000] <odinho>
Lachy: Uh, you're an employee of Opera, you have a different survey.

[08:33:59.0000] <Lachy>
I'm not completing the survey. I just went through it with blank answers to take a look

[09:09:45.0000] <dglazkov>
good morning, Whatwg!


2012-10-05
[17:03:10.0000] <grom358>
I'm looking at http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html I don't see anywhere where it enters RCDATA state

[17:07:21.0000] <grom358>
oh.. i think i see.. the tree builder puts it into that mode on certain elements?

[17:55:33.0000] <MikeSmith>
grom358: yeah

[17:57:23.0000] <grom358>
also i think I found an error.. section 12.2.4.1 Data state says for NULL to emit the current input character.. but the current input character will be the NULL character

[17:57:54.0000] <grom358>
it should be emit the REPLACEMENT CHARACTER if I'm correct

[17:58:36.0000] <MikeSmith>
grom358: for which state?

[17:59:54.0000] <grom358>
the data state, http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#data-state

[18:00:28.0000] <MikeSmith>
I think that's right

[18:00:47.0000] <MikeSmith>
you can test it in live DOM viewer to see what browsers actually do

[18:08:24.0000] <grom358>
well firefox and chrome seem to ignore it

[18:09:21.0000] <MikeSmith>
grom358: that's what would be expected if they were following the spec

[18:09:41.0000] <MikeSmith>
the null character never gets consumed

[18:09:46.0000] <MikeSmith>
it gets ignored

[18:09:53.0000] <grom358>
where you getting that from?

[18:10:06.0000] <MikeSmith>
the algorithm for the data state

[18:10:21.0000] <grom358>
it says emit the current input character though.. not to ignore it

[18:11:10.0000] <MikeSmith>
oh

[18:11:51.0000] <grom358>
which makes me think its a bug with the spec

[18:12:11.0000] <MikeSmith>
but I think the tree builder will then ignore the null, right?

[18:12:33.0000] <MikeSmith>
if it's in content that was tokenized from the data state

[18:12:55.0000] <grom358>
idk.. that part is throwing me. Everywhere else in the spec NULL is replaced with the Unicode replacement character

[18:13:09.0000] <grom358>
in the tokenization section I mean

[18:14:19.0000] <grom358>
ah I see.. section 12.2.5.4.7 says it ignores character token that is U+0000 NULL

[18:15:17.0000] <MikeSmith>
yeah that's the part I was thinking of I think

[18:15:57.0000] <MikeSmith>
anyway it's still worth raising a bug for or posting to the whatwg list about if you think it's not clear

[18:16:42.0000] <grom358>
yeah.. the spec is just so big and the tree construction and tokenization so closely coupled

[18:16:52.0000] <MikeSmith>
Hixie could always add a note to that part of the tokenizer code to clarify why it's not replaced with a U+fffd tehre

[18:17:58.0000] <grom358>
yeah... that would help

[18:18:44.0000] <grom358>
what I don't understand is why doesn't the tokenizer just handle all the NULL characters... Like I can see sometimes in the tree construction it is ignored and sometimes replaced with U+FFFD

[18:18:54.0000] <grom358>
but why not just always replace it with U+FFFD

[18:19:24.0000] <grom358>
could be done as part of the input stream preprocessor then

[19:31:37.0000] <grom358>
ah... http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#consume-a-character-reference . For the codepoints like 0x0001 etc.. is it meant to say return replacement character?? I don't see anything in the tree construction that replaces them

[02:07:24.0000] <hsivonen>
In Aldiko (based on Adobe’s SDK), I get a blank screen if I remove space between two attributes to make XHTML ill-formed

[02:07:31.0000] <hsivonen>
annevk: ^

[02:07:41.0000] <hsivonen>
annevk: so XML is not a lie this time

[02:09:33.0000] <annevk>
cool cool

[02:09:37.0000] <hsivonen>
annevk: test files: http://hsivonen.iki.fi/test/epub-xml/

[02:10:36.0000] <hsivonen>
annevk: this is most awesome. No error message or anything. Just a blank screen.

[02:11:13.0000] <annevk>
technology is awesome :)

[02:12:24.0000] <hsivonen>
I’d appreciate it if someone with an iDevice could load the two test files in iBooks and report the results here

[02:29:39.0000] <annevk>
can do it later

[04:25:34.0000] <hsivonen>
Hixie: Your response about hoping that browsers eventually "fix" the implementation of the title attribute for footnotes seems like the same kind of misplaced optimism as hoping that browsers eventually "fix" the implementation of longdesc.

[05:42:29.0000] <annevk>
hsivonen: both work in iBooks

[05:43:20.0000] <annevk>
hsivonen: that the files are identical in content makes them somewhat confusing

[05:53:32.0000] <annevk>
hsivonen: so yeah, I guess Apple uses the HTML parser if you use .html as extension

[05:53:57.0000] <annevk>
so maybe you should make another one with .xml or so

[05:57:43.0000] <annevk>
zcorpan: maybe you should list me as former editor or something on html5-diff

[05:57:52.0000] <annevk>
zcorpan: and maybe remove the Opera affiliation

[05:58:01.0000] <annevk>
or say "formerly" there too

[06:04:47.0000] <zcorpan>
annevk: fixed in the editor's draft

[06:05:12.0000] <annevk>
cool

[06:09:39.0000] <annevk>
matjas: thanks for sorting out the separators

[06:10:14.0000] <annevk>
matjas: now some final word on browsers with regards to IDNA2003 vs IDNA2008 vs UTS #46 and we're all set :)

[06:10:23.0000] <annevk>
s/on browsers/from browsers/

[06:12:09.0000] <zcorpan>
annevk: i want IDNA5!

[06:12:20.0000] <zcorpan>
and that's final.

[06:12:56.0000] <annevk>
"Domain Name Standard"

[06:13:04.0000] <annevk>
but I fucking hope not

[06:13:10.0000] <Ms2ger>
Living Domain Name Standard

[06:13:16.0000] <annevk>
or at least not with my name on it :)

[06:13:48.0000] <hsivonen>
annevk: thanks. boo Apple then.

[06:13:54.0000] <Ms2ger>
zcorpan, IDNA120?

[06:14:12.0000] <zcorpan>
Ms2ger: why 120?

[06:14:16.0000] <Ms2ger>
5!

[06:14:24.0000] <hsivonen>
annevk: the rendering engine is supposed to take the mime type from the opf manifest—not from the file name

[06:14:47.0000] <hsivonen>
facepalm time: https://www.w3.org/Bugs/Public/show_bug.cgi?id=19277

[06:15:26.0000] <annevk>
hsivonen: where does it say it's XML in that manifest?

[06:15:55.0000] <Ms2ger>
'there is no hidden="" in HTML5 that I am aware of'

[06:16:38.0000] <annevk>
well, it's hidden

[06:16:38.0000] <hsivonen>
annevk: <item id="main" href="test.html" media-type="application/xhtml+xml"/>

[06:16:52.0000] <Ms2ger>
annevk, nicely done, sir

[06:17:17.0000] <hsivonen>
annevk: I guess more testing with prefixed SVG, etc. is required to find out if iBooks uses an HTML parser or a bogo-XML parser

[06:17:51.0000] <annevk>
hsivonen: ooh, that's the test.opf file

[06:18:05.0000] <annevk>
hsivonen: in the toc.ncx file it just points to the file

[06:18:37.0000] <hsivonen>
annevk: the point of the <manifest> in the opf is to provide MIME types for the zip entries

[06:18:52.0000] <hsivonen>
annevk: the NCX is a machine-readable table of contents

[06:19:08.0000] <hsivonen>
annevk: the NCX format is very, very sad, as you can see

[06:19:15.0000] <hsivonen>
from DAISY

[06:19:21.0000] <annevk>
so you search for *.opf files or is it required to be named test.opf?

[06:19:35.0000] <annevk>
yeah, that format is ugly

[06:19:36.0000] <hsivonen>
annevk: no, there’s more indirection

[06:19:37.0000] <zcorpan>
curious how john tries to find the answer to what the spec says about hidden="" by reading about what the spec says about <noscript>

[06:20:05.0000] <Ms2ger>
zcorpan, sounds like the best way to approach HTML4

[06:20:06.0000] <hsivonen>
annevk: META-INF/container.xml is the well-known zip entry. It points to the opf

[06:20:12.0000] <annevk>
zcorpan: prolly the same way the tag talks about URLs by reading HTML rather than the new document

[06:20:40.0000] <annevk>
hsivonen: man, shit's complicated

[06:20:54.0000] <annevk>
the TAG, apologies

[06:21:56.0000] <darobin>
the epub format is a stinking mess

[06:22:41.0000] <hsivonen>
NCX is like a format parody. It requires the generator to supply an incrementing integer on the nav points for order instead of just using the order of the elements in the XML tree

[06:22:57.0000] <annevk>
hahahaha

[06:23:02.0000] <darobin>
oh yeah

[06:23:13.0000] <hsivonen>
darobin: what stinks except NCX?

[06:23:14.0000] <darobin>
and it's all in the name of performance

[06:23:24.0000] <annevk>
cannot make that shit up

[06:23:39.0000] <darobin>
because, you know, jumping everywhere around a zip archive is fast

[06:23:54.0000] <darobin>
hsivonen: what else is there to stink? :)

[06:24:17.0000] <darobin>
they would have been better off using Widgets

[06:24:22.0000] <annevk>
hsivonen: please make a /epub/ entry on your blog

[06:24:29.0000] <annevk>
hsivonen: even if just bullet points

[06:24:36.0000] <darobin>
s/points//

[06:24:40.0000] <hsivonen>
well, XML Encryption, XML DigSig and the excessive indirection of META-INF/container.xml

[06:25:08.0000] <darobin>
oh I'd forgotten they had the XML security stack imported in there

[06:25:12.0000] <hsivonen>
but the <manifest>, <spine> and <guide> stuff is rather OK

[06:25:25.0000] <hsivonen>
for EPUB 2.0, the metadata was OKish, too

[06:25:39.0000] <darobin>
I reckon it should all be in the HTML

[06:25:42.0000] <hsivonen>
in EPUB 3.0, they made it more complicated for no apparent practical reason

[06:25:56.0000] <darobin>
even if it means having to perform an indexing pass on first open

[06:26:33.0000] <hsivonen>
I think the use of XHTML instead of HTML is not a big deal.

[06:26:46.0000] <hsivonen>
and their legacy UAs now need XHTML rather than HTML

[06:27:24.0000] <hsivonen>
If you don’t sign stuff, you can ignore DigSig as an author

[06:27:47.0000] <hsivonen>
and for font mangling, you can treat XML Encryption as cargo cult boilerplate

[06:27:49.0000] <darobin>
I've heard a few horror stories from a small shop here that does ebooks about things like readers crashing hard because the various meta files were out of sync with the content

[06:28:34.0000] <darobin>
less indirection would help there

[06:29:05.0000] <hsivonen>
I think NCX stinks the most. I think changing metadata in an incompatible way is the weirdest decision.

[06:32:33.0000] <zcorpan>
i replied on the bug, not sure if that was a mistake or not

[06:38:49.0000] <annevk>
hsivonen: looks like XML usage would fail in iBooks

[06:38:57.0000] <annevk>
hsivonen: e.g. if you prefix stuff

[06:39:35.0000] <hsivonen>
annevk: :-(

[06:39:41.0000] <hsivonen>
annevk: even as .xhtml?

[06:39:57.0000] <hsivonen>
I thought iBook even extended XHTML with namespaced stuff

[06:40:05.0000] <annevk>
hsivonen: dunno about that (I think that would work, but I have not tested)

[06:40:07.0000] <hsivonen>
*iBooks

[06:40:54.0000] <hsivonen>
I guess this explains why glazou enforces .xhtml naming even though opf is supposed to allow any naming you like

[06:58:04.0000] <matjas>
annevk: http://mathias.html5.org/tests/url/idna2003-separators/ (using `iframe) vs. http://mathias.html5.org/tests/url/idna2003-separators/a.html (using `a`)

[06:59:52.0000] <annevk>
fucked up

[07:00:02.0000] <matjas>
me or The Web?

[07:01:26.0000] <Kaelig>
Hi, I have a meta proposal to make (apple-mobile-web-app-title), is it possible to have a personal account to the Wiki so I can add it?

[07:01:35.0000] <karlcow>
matjas: choose your pain

[07:02:42.0000] <annevk>
matjas: the behavior

[07:02:47.0000] <Kaelig>
Basically I'd like to be able to edit that page: http://wiki.whatwg.org/wiki/MetaExtensions

[07:02:55.0000] <matjas>
i just hope my test is correct

[07:03:14.0000] <annevk>
Kaelig: sure thing, need a desired account name and email

[07:03:17.0000] <matjas>
if this is a bug, which spec does it belong to?

[07:03:57.0000] <annevk>
matjas: URL needs to define this I think, unless we really want distinct behavior

[07:04:19.0000] <matjas>
want me to file a separate issue for this then?

[07:04:42.0000] <annevk>
matjas: might want to raise this on the WHATWG list actually, so bz sees it :) I can take a closer look at your tests though

[07:05:10.0000] <annevk>
matjas: problem is a.src

[07:05:14.0000] <annevk>
matjas: it's a.href

[07:05:21.0000] <matjas>
ah duh

[07:13:37.0000] <Kaelig>
annevk: Cheers, account: "kaelig", email: "kaelig⊙df"

[07:16:02.0000] <annevk>
"A randomly generated password for Kaelig has been sent to kaelig⊙df"

[07:17:44.0000] <Kaelig>
Thanks annevk :)

[07:17:49.0000] <Kaelig>
appreciate it

[07:19:10.0000] <Kaelig>
I'm not sure I understand the process of proposing a meta extension

[07:22:45.0000] <smaug____>
/me hates touch events

[07:23:10.0000] <matjas>
/me touches hate events

[07:23:23.0000] <matjas>
/me events hate touches

[07:23:35.0000] <Kaelig>
Hopefully I did it correctly :)

[07:28:23.0000] <zewt>
annevk: headed to work and just throwing this out there so I don't forget--does XHR guarantee that tasks queued by "make progress notifications" to fire onprogress always happen before switching to DONE, to make sure those tasks aren't run later, firing progress after load/loadend have been fired

[07:28:44.0000] <annevk>
zewt: yeah I think I changed that based on your comment

[07:29:23.0000] <annevk>
Kaelig: looks fine to me, thanks for your effort

[07:29:25.0000] <hsivonen>
annevk: new test files in case you are interested in poking iBooks: http://hsivonen.iki.fi/test/epub-xml/

[07:29:45.0000] <hsivonen>
findings so far: ezPDF on Android uses an HTML parser always, even for .xhtml

[07:29:55.0000] <annevk>
/me gets his iPhone

[07:30:05.0000] <hsivonen>
so you have to make polyglot content if you want to support broken reading systems like that

[07:30:20.0000] <annevk>
so the xhtml files are new right?

[07:30:35.0000] <Kaelig>
Cheers annevk, plus I didn't know Anne could be a male name!

[07:30:55.0000] <zewt>
don't see it offhand (maybe the task ordering implies this--not sure which task queue the actual fetch happens in)

[07:31:32.0000] <annevk>
Kaelig: heh yeah, kind of an exclusively Dutch thing I found out :)

[07:31:42.0000] <zewt>
(same thing for "timeout error", etc)

[07:31:46.0000] <zewt>
anyway gotta go

[07:31:47.0000] <annevk>
hsivonen: ill-formed renders, including both circles

[07:31:59.0000] <hsivonen>
wow

[07:32:05.0000] <zewt>
reading html specs has a way of making me late for work :)

[07:32:08.0000] <annevk>
hsivonen: I am kinda wondering what is going on now

[07:32:08.0000] <hsivonen>
so they have a bogo-XML parser

[07:32:17.0000] <annevk>
XML5 in iBooks?

[07:32:53.0000] <hsivonen>
annevk: what about the line break? does it behave like  single <br> or like two?

[07:33:02.0000] <annevk>
I saw Apple was writing a new XML parser for WebKit at some point

[07:33:06.0000] <annevk>
maybe that was related somehow

[07:33:31.0000] <annevk>
hsivonen: single

[07:33:59.0000] <annevk>
"Second para. SINGLE line break:

[07:33:59.0000] <hsivonen>
annevk: also possible that their XML parser has a bug and my way of making the file ill-formed is too subtle

[07:34:05.0000] <annevk>
Line after break." is how it renders

[07:34:11.0000] <hsivonen>
annevk: ok

[07:34:48.0000] <annevk>
data:text/xml,<test test=""test=""/> fails in Safari fwiw

[07:35:11.0000] <annevk>
ooh

[07:35:13.0000] <annevk>
data:text/xml,<test xmlns=""xml:lang=""/> does not

[07:35:22.0000] <hsivonen>
wild

[07:35:31.0000] <annevk>
it's the xmlns thing

[07:35:49.0000] <annevk>
but Safari uses libxml2 no?

[07:35:54.0000] <hsivonen>
so I thought

[07:36:02.0000] <hsivonen>
more test cases needed!

[07:36:07.0000] <annevk>
heh

[07:36:11.0000] <hsivonen>
sadly, I’m not going to write those today

[07:36:16.0000] <annevk>
is this just for fun btw? or are you doing something with epub?

[07:36:22.0000] <hsivonen>
for fun

[07:36:26.0000] <annevk>
kk

[07:36:36.0000] <hsivonen>
I got interested in epub

[07:36:42.0000] <hsivonen>
so I read the spec...

[07:37:07.0000] <hsivonen>
and then got in the asshole mode according to Pilgrims taxonomy

[07:40:22.0000] <annevk>
zewt: whenever the load/error event is fired progress is fired too explicitly

[07:45:56.0000] <karlcow>
epub is a tad depressing, not only on the ereader side, but also on the authoring side.

[07:45:56.0000] <karlcow>
It would be interesting to run a survey collecting the authoring practices on epub. Maybe someone at Amazon could do that.

[07:52:28.0000] <MikeSmith>
http://www.slideshare.net/mnot/what-http20-will-do-for-you

[07:52:58.0000] <MikeSmith>
HTTP 2.0 is the new HTML5

[07:54:08.0000] <annevk>
still missing error handling in HTTP

[07:54:19.0000] <annevk>
although I guess SPDY will make it different if there's compression and stuff

[08:31:56.0000] <fantasai>
Hixie: I could be wrong, but I'm pretty sure the mailing list post you're linking to on http://wiki.whatwg.org/wiki/Specs_todo is not the right mailing list post.

[08:41:06.0000] <jgraham>
/me counts four links to mailing lists on that page

[09:45:20.0000] <Hixie>
hsivonen: longdesc="" is unfixable due to content corruption because most people didn't see it; with title="" the problem is the opposite: we have good content, we just aren't exposing it to quite everyone.

[09:49:01.0000] <Hixie>
fantasai: can you elaborate?

[10:03:53.0000] <fantasai>
Hixie: It says "This mailing list post has some advice on the matter."

[10:04:07.0000] <fantasai>
Hixie: where the matter is volunteering to edit specifications

[10:04:35.0000] <fantasai>
Hixie: But the post linked from there is some random commentary wrt text breaking and <wbr>

[10:38:34.0000] <stevefaulkner>
hixie: your statement  about good content in the title attribute is demonstrably false there loads of redundant and crap content stuffed into title attributes, especially on links, some representative examples: http://www.html5accessibility.com/tests/title-usage.html

[10:56:06.0000] <TabAtkins>
Ah, I didn't know zcorpan left Opera.

[10:56:17.0000] <Wilto>
I can vouch for that. Windows 8’s Narrator reads every `title` aloud, and the vast majority of the time it’s a duplicate of the text inside the element. It’s pretty obnoxious.

[11:04:29.0000] <Ms2ger>
TabAtkins, what makes you think so?

[11:05:25.0000] <TabAtkins>
Le sigh.  Reading comprehension fail. I was reading a line from annevk *directed* to zcorpan.

[11:08:06.0000] <Velmont>
TabAtkins: Quit messin' with me health :S

[11:08:38.0000] <Ms2ger>
Velmont, so I heard this odinho guy left Opera?

[11:08:48.0000] <Velmont>
Ms2ger :|

[11:09:05.0000] <Ms2ger>
Velmont, apparently he wants to work for Mozilla?

[11:09:29.0000] <Velmont>
Ms2ger: Hey, I was the one giving _you_ a job offer!

[11:09:36.0000] <Ms2ger>
Heh

[11:15:33.0000] <jgraham>
Wait, what? Velmont wants to work for Ms2ger?

[11:16:16.0000] <Velmont>
jgraham: annevk left a big open space next to my desk, I invited Ms2ger to fill it :]

[11:16:44.0000] <jgraham>
You're calling annevk fat now?

[11:16:55.0000] <Ms2ger>
Zing

[11:17:07.0000] <Velmont>
O_o

[11:18:27.0000] <Velmont>
Ms2ger: Not coming to TPAC I guess?

[11:18:46.0000] <Ms2ger>
Or did you call *me* fat?

[11:18:57.0000] <Ms2ger>
And no, no tpac for me

[11:19:41.0000] <jgraham>
If Ms2ger ever comes to TPAC, we will have o rename it 2PAC

[11:19:56.0000] <Ms2ger>
He's aliiiiiive

[11:20:07.0000] <Velmont>
Ms2ger: So that's who you really are!

[11:20:17.0000] <Ms2ger>
Uh-oh

[11:20:23.0000] <Ms2ger>
I confirm nor deny that

[11:20:30.0000] <Velmont>
Hence the psedonym

[11:21:04.0000] <jgraham>
That will be the year that we all get gunned down by IETF representatives in a standards body turf war

[11:21:23.0000] <jgraham>
Just think

[11:22:08.0000] <jgraham>
The last words you will hear are destined to be "we don' need no motherf-in' text/html"

[11:48:46.0000] <TabAtkins>
zcorpan: Apparently we (Webkit) have a quirk that allows "width: 20 px;", etc., to match WinIE.  Any evidence that this is still needed? (afaik it's not in your quirksmode draft, since I didn't fold it into Syntax).

[11:50:45.0000] <Ms2ger>
TabAtkins, I'm pretty sure Gecko doesn't have it, and I've never heard someone complain

[11:51:29.0000] <TabAtkins>
Ms2ger: Cool.  I'll write a removal patch, then.

[11:51:40.0000] <Ms2ger>
\o/

[11:54:27.0000] <Velmont>
Opera doesn't either, -- in my small test, if it's correct, http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=1818

[11:55:58.0000] <TabAtkins>
If someone could check IE, that'd be great.  We have a bunch of "hacks to match WinIE" that are way outdated.

[11:56:02.0000] <Velmont>
Not Iceweasel either, only the "Web" on this machine does it. :P

[11:56:10.0000] <TabAtkins>
(Killed one in <marquee> yesterday. ^_^)

[11:56:12.0000] <Velmont>
TabAtkins: I can on monday when I'm back at work :P

[11:56:39.0000] <TabAtkins>
Unhelpful for me right now. ^_^

[11:56:53.0000] <Velmont>
I guess "Web"'s real name is Epiphany, but they prolly didn't like the name, so made it generic.

[11:57:11.0000] <TabAtkins>
Anyway, since FF and O don't do it, and zcorpan didn't think it was a useful enough quirk to go in his draft, I'll try to kill it.

[11:57:46.0000] <Velmont>
Strange that I don't have the real browsers for the engines on this random hackspace computer, - "Web" for webkit, and Iceweasel for Gecko. The Presto one is Opera though.

[12:45:02.0000] <Hixie>
fantasai: no idea what i was trying to link to. I looked through the list around the time of hte wiki edit, but i don't see anything relevant. Oh well. Removed it. Thanks for the heads-up.

[13:44:48.0000] <stevefaulkner>
hixie: never claimed it was, (re longdesc) but would be surprised if the ratio for useful info in title is greater than 20% if you call that 'balance'. UAs have voted with their almost total lack of showing tooltips on mobile/touch

[13:46:45.0000] <zewt>
(a useful thing, i'd say: it discourages people from designing bad UIs that are unusable without tooltips; very annoying if you're like me and turn off tooltips because they're annoying)

[13:49:05.0000] <Hixie>
GPHemsley: i haven't examiend the GIF spec, so i've no idea

[13:49:21.0000] <Hixie>
GPHemsley: i don't know how good interop is for gif or how well the spec matches reality

[13:49:28.0000] <Hixie>
GPHemsley: animated gifs in particular aren't specced well though

[13:49:49.0000] <Hixie>
stevefaulkner: given that "90% of everything is crap", 20% seems damn good :-)

[13:50:30.0000] <TabAtkins>
Uh, mobile doesn't show title because you don't have the ability to communicate "hover".

[13:50:32.0000] <zewt>
(wow, splitting a quote in Gmail caused a random paragraph I wrote elsewhere to just vanish)

[13:50:39.0000] <stevefaulkner>
zewt: i have no problem with it, the only  thing a title attribute is good for at this point (after 19 years) is providing an accessible name for a control, it cannot be relied upon for exposing visible content to users in any browser

[13:51:27.0000] <GPHemsley>
Hixie: So do you suppose it would be best to just re-spec the whole thing? As it is, it seems the spec is only available in plaintext, anyway.

[13:51:57.0000] <zewt>
TabAtkins: heh, my phone detects touches when my finger gets close to the screen, without touching it; probably a hardware bug, but could perhaps be leveraged for "touch hovering" :)

[13:52:40.0000] <TabAtkins>
zewt: Yeah, phones are reactivity-based, so getting *close* can alter the current enough to be detected.

[13:53:14.0000] <zewt>
probably a mis-configured capacitance threshold

[13:53:47.0000] <Hixie>
GPHemsley: i have no opinion because i don't have enough data to form an opinion. As a general rule, i wouldn't recommend rewriting a spec unless it was absolutely necessary, though (necessary meaning "the spec doesn't match reality so interop is poor")

[13:55:00.0000] <GPHemsley>
Hixie: So, if I were to want to help fulfill that todo-list bullet point, what would you recommend my first steps be?

[13:55:40.0000] <Hixie>
GPHemsley: read the existing spec, write a test suite, see how closely the browsers match the spec

[13:55:57.0000] <Hixie>
GPHemsley: collect samples of real content, see how much of it works as the spec expects

[13:56:17.0000] <zewt>
perhaps step 0: find a single example of an animated GIF in the wild that doesn't work in every browser :)

[13:56:34.0000] <GPHemsley>
zewt: I was hoping Hixie might have such examples :)

[13:56:38.0000] <zewt>
(not saying they don't exist, but I've never seen one)

[13:56:38.0000] <Hixie>
GPHemsley: (e.g. i'd expect teh latter to find that the web relies on timings doing something different than the specs say)

[13:56:54.0000] <Hixie>
zewt: it's good to spec things even if all today's browsers do them

[13:57:24.0000] <Hixie>
zewt: because (a) it helps new competition to be possible and (b) it means that in 1,000 years, archeologists can write browsers for their architectures to read today's web content

[13:57:25.0000] <zewt>
Hixie: sure, but the answer to that question goes towards answering whether "interop is poor"

[13:58:00.0000] <Hixie>
certainly wouldn't hurt to do that kind of research. indeed

[13:59:46.0000] <GPHemsley>
zewt: There are a ton of GIFs on the Internet that go way too fast or way too slow, but I don't know where the fault lies there.

[14:00:00.0000] <GPHemsley>
(Presumably somebody somewhere thought it was at some point the right speed.)

[14:00:51.0000] <zewt>
that might be where the delay is 0

[14:01:05.0000] <zewt>
which might be an underspecced point, yeah

[14:02:46.0000] <zewt>
another thing that may differ, though I can't think of how it might matter, is some browsers always showing the same frame for each gif anywhere it's shown (even cross-tab/window)

[14:02:56.0000] <zewt>
presumably due to the underlying image implementation being the same object

[14:03:09.0000] <TabAtkins>
Yeah, I think we might share timers sometimes?

[14:03:27.0000] <zewt>
think i've seen that in FF

[14:04:19.0000] <zewt>
i find it odd that i've actually seen people objecting to *not* showing animated favicons in tabs, heh

[14:05:39.0000] <zewt>
(had to jump some hoops to prevent obnoxious sites from constantly showing animations in my tabs in FF; don't recall if that was fixed or if I just have some workaround sitting in my userChrome)

[14:05:59.0000] <zewt>
oh yeah i hide .tab-icon-image[src$=".gif"]

[14:06:11.0000] <zewt>
(and others)

[14:06:25.0000] <Hixie>
wtf, the building i'm in feels like it's being driven down a road on a truck

[14:06:42.0000] <Hixie>
(doesn't feel like an earthquake, and it's been going on for far too long to be one)

[14:07:30.0000] <SimonSapin>
Hixie: earthquakes can last several minutes

[14:07:40.0000] <Hixie>
this has been going on for like 30

[14:07:48.0000] <zewt>
perhaps armageddon

[14:07:56.0000] <Hixie>
pretty sunny for armageddon

[14:08:11.0000] <SimonSapin>
(ok, japan on 2011-03-11 is not the average example)

[14:08:49.0000] <zewt>
armageddon: surprisingly anticlimactic

[14:08:49.0000] <Hixie>
brb

[14:09:01.0000] <zewt>
are you rebooting to see if it makes the building stop shaking?

[14:09:40.0000] <TabAtkins>
Hixie: No earthquake.

[14:26:16.0000] <annevk>
once had such a thing at Opera, was some kind of cleaning equipment iirc

[14:27:32.0000] <annevk>
xkcd uses title=""

[14:29:03.0000] <zewt>
off-hand, is conformance criteria ever applied towards JS API usage, or only HTML authoring?

[14:29:34.0000] <annevk>
so far I only encourage stuff with JS things

[14:29:58.0000] <annevk>
and some stuff I don't provide a domintro for intentionally

[14:30:16.0000] <annevk>
but it's not really structured or planned

[14:30:21.0000] <zewt>
<annevk> zewt: whenever the load/error event is fired progress is fired too explicitly <- but the "make progress definitions" might have a task queued to fire progress again (the task may have been queued right before the other firing of progress)

[14:30:25.0000] <Hixie>
TabAtkins: yeah i think it's really just the B40 A/C

[14:31:06.0000] <Hixie>
zewt: as a general rule, because scripting is impossible to statically test, we rarely bother to define authoring criteria

[14:31:11.0000] <zewt>
eg. 1: queue task 2: "timeout error" happens and fires progress, then 3: the queued task runs

[14:31:44.0000] <annevk>
no that cannot happen because timeout is also queued

[14:32:13.0000] <annevk>
you could get a "duplicate" maybe

[14:32:38.0000] <annevk>
but I think that was rather unlikely with the current definitions

[14:32:53.0000] <zewt>
duplicates aren't a big deal

[14:33:07.0000] <annevk>
I don't really like how this part of XHR is defined, but I haven't really come up with a better way

[14:33:44.0000] <annevk>
and putting it on github has not inspired people to fix things :)

[14:33:52.0000] <annevk>
they just tweet about it

[14:34:29.0000] <annevk>
but I suppose such a thing might take a while and editing is prolly kinda daunting still

[14:34:30.0000] <zewt>
like it's not clear to me when the "if timeout is not 0..." conditional is actually performed

[14:35:16.0000] <zewt>
those look like a set of callbacks somehow handed off to Fetch, but i don't think that's the right reading

[14:35:50.0000] <annevk>
fetch queues tasks

[14:36:08.0000] <annevk>
those tasks then run past those steps

[14:40:14.0000] <zewt>
annevk: aren't they in different task sources?

[14:40:25.0000] <zewt>
fetch is in the networking task source, XHR's queue-a-task is in the XHR's own

[14:41:21.0000] <zewt>
hmm, might help clarity if fetch had a name for "the algorithm run by the queued tasks", which just says "uses the resource as appropriate"

[14:41:51.0000] <Hixie>
yeah, one day

[14:41:54.0000] <zewt>
(had to squint for a bit to make that connection)

[14:42:04.0000] <Hixie>
we'll probably do that when we redo fetch.spec.whatwg.org

[15:09:47.0000] <Hixie>
annevk, zewt: did you guys see my e-mail about the 'fetch' algorithm in the thread where you're responding to bz?

[15:10:10.0000] <zewt>
did but don't recall it, rereading

[15:10:28.0000] <Hixie>
actually in your case it looks like the miscommunication is about a different issue

[15:10:38.0000] <Hixie>
bz is talking about links that are in documents that don't have browsing contexts

[15:11:01.0000] <Hixie>
not about links that are associated with documents that have browsing contexts but that aren't _in_ the document

[15:11:04.0000] <zewt>
ah yeah i see the difference

[15:11:46.0000] <zewt>
so i guess in the a.click() case, it *can't* work, since it doesn't know *what* to navigate?

[15:17:15.0000] <zewt>
(and doesn't have anything to navigate, for that matter)

[15:19:12.0000] <Hixie>
well it definitely can't work

[15:20:05.0000] <Hixie>
as to why it doesn't... i think a.click() might actually be a special case i should consider more closely

[15:27:32.0000] <Hixie>
TabAtkins: don't change [hidden] to ua.css !important!

[15:27:45.0000] <Hixie>
TabAtkins: i have many times made it have other styles, e.g. opacity:0 with animation

[15:27:57.0000] <zewt>
why not? i'm tired of having to fix hidden in every page I make, heh

[15:28:20.0000] <zewt>
really obnoxious that <div hidden class=foo> .foo { display: inline-block; } breaks hidden

[15:28:52.0000] <Hixie>
if you can find a solution that doesn't prevent me from using hidden="", please be my guest :-)

[15:28:59.0000] <zewt>
Hixie: i'd call that something other than hidden :)

[15:29:04.0000] <Hixie>
why?

[15:29:10.0000] <zewt>
because they're very different

[15:29:14.0000] <Hixie>
how are they different

[15:29:24.0000] <zewt>
because opacity: 0 is still there and affecting layout

[15:29:32.0000] <Hixie>
what's layout got to do with it

[15:29:45.0000] <zewt>
what doesn't it :)

[15:29:56.0000] <Hixie>
say i have a login <section> and an app <section>, and only one is relevant at a time

[15:30:00.0000] <Hixie>
hidden="" is set on the other one

[15:30:17.0000] <Hixie>
but i want the two to cross-fade when i switch which is hidden=""

[15:30:20.0000] <zewt>
not familiar with <section>

[15:30:35.0000] <Hixie>
<div> then

[15:31:27.0000] <zewt>
then now you have the "hidden" one still on top, pushing the second one down the page, so now you have to change other things to move it back up

[15:32:03.0000] <zewt>
(btw/fwiw, you'd probably also want pointer-events: none in that case, and IIRC that isn't supported everywhere yet)

[15:32:08.0000] <Hixie>
nah you just make the non-hidden one have a positive z-index

[15:32:18.0000] <Hixie>
and various other things like pointer-events

[15:32:23.0000] <Hixie>
the point is just that it should be styleable

[15:35:52.0000] <zewt>
my point is that the current hidden is "wrong" very often, and people can use a different attribute (data-invisible, or whatever) if they want something else--neither is ideal, but currently it seems like *everyone* has to jump hoops with hidden (anyone combining @hidden with display, anyway, which I hit constantly)

[15:36:36.0000] <zewt>
if there was a way to say "more important than UA styles, but less important than UA !important styles" then that'd probably be ideal, but I'm guessing that's harder, heh

[15:36:52.0000] <zewt>
er, less important than user !important styles

[15:37:10.0000] <zewt>
(i don't know half enough about the details of style resolution to state that accurately)

[15:37:47.0000] <Hixie>
you want it to be a higher specificity at the author level

[15:37:52.0000] <Hixie>
rather than being at the UA level

[15:37:57.0000] <Hixie>
but yeah

[15:38:01.0000] <Hixie>
i'm all for a better solution

[15:38:29.0000] <Hixie>
i guess we should drop http+aes

[15:49:49.0000] <Hixie>
MikeSmith: i tweaked <time>

[15:56:56.0000] <zewt>
(FWIW, i tend to think a better solution is to just add another CSS style eg. "rendering: none" that works like display: none, giving us the "hide this element" CSS style that should never have been part of display in the first place)

[15:57:59.0000] <zewt>
maybe too late for that now :(

[16:03:06.0000] <MikeSmith>
Hixie: yeah just saw the checkin for that

[16:03:13.0000] <MikeSmith>
thanks

[16:03:26.0000] <MikeSmith>
/me updates his <time> validation patch

[16:37:14.0000] <zewt>
(though I suppose if it's not too late to change [hidden] to display: none !important, then it wouldn't be too late to change it to a different style, either--same effect)

[16:58:46.0000] <tantek>
Hixie, how did you tweak time?

[16:58:49.0000] <tantek>
<time> that is


2012-10-06
[17:47:59.0000] <MikeSmith>
tantek: he just added a restriction that if you have just a year -- like <time>2011</time> -- it has to be 4 digits and it has to be greater than 1 (0001 or after)

[17:48:12.0000] <tantek>
why only 4 digits?

[17:48:19.0000] <tantek>
or is it 4+ digits?

[17:48:29.0000] <tantek>
/me is a member of longnow.org :)

[17:48:31.0000] <MikeSmith>
because it's consistent with the requirements for years elsewhere in the spec

[17:48:42.0000] <MikeSmith>
ah yeah, I meant 4+ digitis

[17:48:43.0000] <tantek>
"elsewhere in the spec" ?!?

[17:48:48.0000] <MikeSmith>
yeah

[17:49:05.0000] <MikeSmith>
there are other places in date-time values where you can have years...

[17:49:28.0000] <MikeSmith>
http://html5.org/tools/web-apps-tracker?from=7434&to=7435

[17:49:30.0000] <tantek>
can we put "the requirements for years" in *one* place (e.g. with <time> or microsyntax) and then reference it instead of having there be "requirements for years elsewhere in the spec" ?

[17:49:54.0000] <tantek>
in other words, if you know of specific "requirements for years elsewhere in the spec", please provide URLs to those other places so we can fix them to use a reference rather than duplicating requirements.

[17:50:08.0000] <tantek>
at least it's 4+ digits

[17:50:10.0000] <tantek>
that's good

[17:50:12.0000] <MikeSmith>
feel free to do that if you want to take the time man

[17:50:17.0000] <tantek>
I don't know of any

[17:50:22.0000] <tantek>
you asserted the existence thereof

[17:50:27.0000] <tantek>
hence why I asked you

[17:50:40.0000] <tantek>
I'm happy to file the bugs accordingly

[17:50:46.0000] <tantek>
if you mention the URLs when you see them

[17:50:55.0000] <tantek>
otherwise I'll just pretend there are no requirements for years elsewhere in the spec

[17:50:58.0000] <MikeSmith>
I suggest reading the spec

[17:51:00.0000] <MikeSmith>
in general

[17:51:10.0000] <MikeSmith>
and I'm fine with you pretending that

[17:51:45.0000] <tantek>
I think I forgot a ;) in there somewhere :)

[17:51:59.0000] <tantek>
I prefer to read the spec "as needed"

[17:52:18.0000] <tantek>
and thus unimportant parts get ignored, hopefully unimplemented, and eventually hopefully dropped accordingly.

[18:28:38.0000] <Hixie>
tantek: (the requirements for years are in two, maybe three places, because they're shorter than the name i would use to refer to a generic definition :-P)

[18:30:59.0000] <tantek>
oh that's a decent excuse. ok fine. :)

[19:14:55.0000] <TabAtkins>
Hixie: I assume in your responsive thread, you meant to say "Not without good reason"?

[19:20:08.0000] <TabAtkins>
zewt: That's not necessarily true.  If people are currently reading el.style.display, for example, that'll still return "none" in my suggestion.

[19:20:41.0000] <TabAtkins>
zewt: But, unrelated to hidden, yes, we should absolutely have some property that does the display:none thing without being tied into display.

[19:46:46.0000] <zewt>
TabAtkins: i mean it'd break pages that have CSS expecting <div hidden class=x> .x { display: block; } to be displayed

[20:05:13.0000] <Hixie>
TabAtkins: probably :-)

[21:12:59.0000] <MikeSmith>
fyi "W3C Bugzilla will be down starting at 20:00 UTC on 2012-10-09 for an upgrade"

[01:05:01.0000] <Ms2ger>
/me looks for annevk 

[01:05:16.0000] <annevk>
/me runs

[01:07:15.0000] <Ms2ger>
document.implementation.createDocument(null, null, null).documentElement

[01:07:30.0000] <Ms2ger>
annevk, null or non-null?

[01:08:17.0000] <annevk>
"null" per spec

[01:09:02.0000] <Ms2ger>
documentElement is a string? :)

[01:09:10.0000] <annevk>
well you know what I mean

[01:09:38.0000] <annevk>
if we make null work we should just make the arguments optional altogether

[01:09:47.0000] <annevk>
but maybe a better approach is making new Document() work

[01:10:15.0000] <Ms2ger>
Wouldn't necessarily mind that

[01:10:28.0000] <annevk>
the constructor?

[01:10:34.0000] <Ms2ger>
Yeah

[01:10:46.0000] <Ms2ger>
But right now I'm looking at what browsers do here :)

[01:10:51.0000] <annevk>
okay

[01:10:56.0000] <annevk>
WebKit has the optional stuff I guess

[01:11:16.0000] <annevk>
by virtue of their old bindings

[01:11:52.0000] <Ms2ger>
AFAICT, nobody creates an element for a null qualifiedName

[01:12:36.0000] <MikeSmith>
annevk: btw I made a new bugzilla component for URL under the whatwg product

[01:12:44.0000] <annevk>
cool

[01:13:22.0000] <annevk>
/me updates spec

[01:14:10.0000] <Ms2ger>
Gecko throws if you pass a null qualifiedName and a non-null namespace

[01:14:19.0000] <Ms2ger>
IE appears to throw if you pass a null or empty qualifiedName and a non-null namespace

[01:14:31.0000] <Ms2ger>
WebKit and Opera don't throw

[01:15:20.0000] <Ms2ger>
Neither does the spec, so I'd leave that alone

[01:16:35.0000] <annevk>
hmm

[01:16:51.0000] <annevk>
the spec already allows for omitting the element by setting qualifiedName to the empty string

[01:16:59.0000] <annevk>
so we'd just be adding null to that conditional?

[01:17:24.0000] <Ms2ger>
Yep

[01:17:25.0000] <annevk>
and appending ? to DOMString

[01:17:32.0000] <annevk>
k will do that now

[01:17:39.0000] <Ms2ger>
Or TreatNullAs=EmptyString

[01:18:16.0000] <annevk>
ah yeah, I hate that syntax, but okay

[01:18:28.0000] <annevk>
it's nicer to not change the prose

[01:20:57.0000] <annevk>
Ms2ger: fixed

[01:21:00.0000] <Ms2ger>
Thanks :)

[01:23:14.0000] <Ms2ger>
/me fixes his implementation

[01:40:12.0000] <MikeSmith>
Ms2ger: there's a couple bugs you re-assigned to me that I wasn't sure what I needed to do with, so I moved them to resolved-needsinfo with a comment

[01:40:47.0000] <Ms2ger>
Oh, are you the default assignee for Unwelcome?

[01:41:15.0000] <MikeSmith>
aha

[01:41:19.0000] <MikeSmith>
yeah, that's why

[01:41:22.0000] <MikeSmith>
OK

[01:41:29.0000] <MikeSmith>
I'll figure out what to do with those

[01:42:20.0000] <annevk>
what's Unwelcome?

[01:43:33.0000] <Ms2ger>
The component where we stick editorless bugs

[01:51:37.0000] <annevk>
ah okay

[01:51:46.0000] <annevk>
should maybe link that from specs_todo

[01:52:12.0000] <annevk>
that's https://www.w3.org/Bugs/Public/buglist.cgi?product=WHATWG&component=Unwelcome&resolution=--- I guess?

[01:53:15.0000] <annevk>
man

[01:53:16.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=17659 hahaha

[02:32:51.0000] <zcorpan>
TabAtkins: spec's source says "Opera supported this quirk (copied from IE), but then dropped it because it broke sites that expected IE's different margin collapsing or Firefox's non-support for the quirk, or some such, and was thus dropped."

[02:33:49.0000] <zcorpan>
a grep founds some matches, but it seems we're screwed either way, so might as well drop it

[02:35:06.0000] <zcorpan>
(the grep i ran doesn't differentiate between normal text and css, so some of the matches might not be css at all)

[02:35:46.0000] <tantek>
annevk - why is that bug marked "Product: 	WHATWG" ?

[02:36:20.0000] <Ms2ger>
Because that's where the Unwelcome component lives

[02:37:16.0000] <Ms2ger>
zcorpan, that's pretty much a constant around here, no? :)

[02:37:41.0000] <Ms2ger>
(Being screwed either way)

[02:37:53.0000] <tantek>
whoa, what? "where the Unwelcome component lives" ?!?

[02:38:10.0000] <zcorpan>
Ms2ger: maybe you are :-P

[02:38:31.0000] <zcorpan>
/me isn't actually here

[02:39:06.0000] <annevk>
tantek: WHATWG/Unwelcome is for some leftover bugs that didn't fit elsewhere, not sure why that one is classified as such, but it appears to be filed against it as history doesn't show products/components changing

[02:39:44.0000] <annevk>
tantek: WHATWG as a product exists because the W3C allows us usage of their infrastructure

[02:40:27.0000] <annevk>
e.g. that's why http://lists.w3.org/Archives/Public/public-whatwg-archive/ exists too

[07:26:25.0000] <smaug____>
when was ErrorEvent added to the spec

[07:40:40.0000] <Ms2ger>
When onerror was specced?

[07:58:45.0000] <smaug____>
Ms2ger: I'd assume onerror was spec'ed way before ErrorEvent

[07:59:14.0000] <smaug____>
is there some easy way to see the blame for the spec

[08:00:00.0000] <smaug____>
"Thus, error reports propagate up to the chain of dedicated workers up to the original Document, even if some of the workers along this chain have been terminated and garbage collected."

[08:00:02.0000] <smaug____>
huh

[08:00:22.0000] <smaug____>
but I'm not going to care about workers for now

[08:01:02.0000] <Ms2ger>
http://www.whatwg.org/specs/web-apps/current-work/blame.r6666

[08:02:28.0000] <Ms2ger>
smaug____, http://html5.org/tools/web-apps-tracker?from=2881&to=2882

[08:04:24.0000] <smaug____>
ah, is errorevent for workers only

[08:05:04.0000] <Ms2ger>
Apparently?

[08:07:21.0000] <smaug____>
but looks like the spec is just wrong here

[08:08:40.0000] <smaug____>
but not about ErrorEvent but on error handling in general

[08:18:53.0000] <Hixie>
it's always possible

[12:53:52.0000] <GPHemsley>
How does one obtain a WHATWG wiki account?

[13:02:59.0000] <gsnedders>
GPHemsley: Main page says prod annevk (who isn't around) or Hixie

[13:09:44.0000] <GPHemsley>
gsnedders: Ah, that's simple. Thanks.


2012-10-07
[19:28:04.0000] <zewt>
Unfortunately, we are unable to continue due to one of the following: Incorrect use of the browser's Back button

[19:28:16.0000] <zewt>
the good old "blame the users for exposing your bugs" tactic

[19:29:22.0000] <MikeSmith>
hah

[19:39:17.0000] <divya>
where that zewt ?

[19:39:34.0000] <divya>
also who all from here is going to be at Test the Web Forward Paris?

[19:39:42.0000] <divya>
the correct answer is ALL OF US

[19:40:16.0000] <zewt>
aa.com

[19:40:25.0000] <zewt>
and i'll go if it's in austin!

[19:40:32.0000] <divya>
zewt: :(((

[19:40:41.0000] <divya>
zewt: planning to make it more like barcampy

[19:40:46.0000] <divya>
so maybe one soon in austin!

[00:42:24.0000] <th3l0rd>
hi

[11:53:16.0000] <Famic>
ll/server -m anonnet.org


2012-10-08
[02:46:21.0000] <odinho>
Grrr. Mercurial. Hate, hate.

[02:46:30.0000] <odinho>
Y U NO rebase? :|

[02:47:10.0000] <hsivonen_>
odinho: it has rebase, but last I heard, the advice was not to use it because of a catastrophic bug

[02:47:44.0000] <hsivonen>
I’m rather unhappy about the impact of ambiguous ampersand checking

[02:51:30.0000] <zcorpan>
hsivonen: impact being that less cases are flagged by the validator?

[02:55:00.0000] <odinho>
Finally able to push. Phew. hg always manages to make me grumpy. Have to do something fun now. Lunch I guess :P

[02:55:18.0000] <hsivonen>
zcorpan: the impact being having to touch the most brittle part of the tokenizer code

[02:55:29.0000] <zcorpan>
hsivonen: ah

[03:23:47.0000] <zcorpan>
TabAtkins: re https://bugs.webkit.org/show_bug.cgi?id=39140 doesn't webkit already use a different parser for html colors?

[05:37:14.0000] <darobin>
so for a redirect on a DELETE, Firefox prompts (and does it if you accept the prompt), Safari and Opera automatically fail (they send a GET to the redirect URL), Chrome automatically redirects as a DELETE

[05:37:34.0000] <darobin>
/me wonders if anyone is concerned with HTTP interop

[05:49:23.0000] <karlcow>
/me is not concerned but interested by HTTP interop ;)

[06:08:48.0000] <zcorpan>
darobin: have a TC?

[06:09:17.0000] <zcorpan>
darobin: is this xhr?

[06:09:36.0000] <darobin>
zcorpan: yup, gisting TC, gimme a sec

[06:11:27.0000] <darobin>
zcorpan: https://gist.github.com/3852447

[06:15:40.0000] <darobin>
zcorpan: note that when I say "fail" above, I mean "fail against what I'd like them to do" — it may well be that some exegesis of the HTTP spec could construe that as the correct behaviour

[06:16:18.0000] <zcorpan>
xhr spec has a note saying "Note: HTTP places requirements on the user agent regarding the preservation of the request method and request entity body during redirects, and also requires end users to be notified of certain kinds of automatic redirections."

[06:17:46.0000] <zcorpan>
http says "The action required MAY be carried out by the user agent without interaction with the user if and only if the method used in the second request is GET or HEAD."

[06:18:42.0000] <zcorpan>
(for 3xx)

[06:18:47.0000] <zcorpan>
for 302, "If the 302 status code is received in response to a request other than GET or HEAD, the user agent MUST NOT automatically redirect the request unless it can be confirmed by the user, since this might change the conditions under which the request was issued."

[06:20:39.0000] <karlcow>
http://tools.ietf.org/html/draft-ietf-httpbis-p2-semantics-21#section-7.4

[06:20:48.0000] <zcorpan>
same with 307

[06:24:36.0000] <zcorpan>
well, after reading the spec, i have no idea what's supposed to happen

[06:24:48.0000] <darobin>
zcorpan: that's pretty much where I ended up after trying to read it :)

[06:25:33.0000] <darobin>
a strict reading might give Firefox as the one right way, but frankly prompting people to accept a redirect for an XHR request is UI madness

[06:27:50.0000] <zcorpan>
http://trac.tools.ietf.org/wg/httpbis/trac/report/9 seems to be the open non-editorial issues

[06:29:25.0000] <zcorpan>
i guess filing an issue "actually define what is supposed to happen" is not likely to do the trick

[06:30:11.0000] <zcorpan>
darobin: browsers could refuse the redirect without prompting

[06:30:45.0000] <darobin>
zcorpan: that's what Opera and Safari do, but it's not really all that useful either

[06:31:10.0000] <zcorpan>
darobin: i thought you said they change to GET

[06:31:23.0000] <zcorpan>
that's not the same as not redirecting

[06:31:30.0000] <darobin>
oh, yes, you actually not do anything — yes, indeed

[06:32:00.0000] <darobin>
in Firefox if you cancel the prompt that's what it does, you get the redirect response directly in XHR

[06:32:01.0000] <zcorpan>
but i don't know what kind of web compat impact that would have

[06:32:09.0000] <karlcow>
If the

[06:32:09.0000] <karlcow>
   required action involves a subsequent HTTP request, it MAY be carried

[06:32:09.0000] <karlcow>
   out by the user agent without interaction with the user if and only

[06:32:09.0000] <karlcow>
   if the method used in the second request is known to be "safe", as

[06:32:09.0000] <karlcow>
   defined in Section 5.2.1.

[06:32:26.0000] <karlcow>
The GET, HEAD, OPTIONS, and TRACE request methods are defined to be safe.

[06:32:33.0000] <karlcow>
DELETE is not safe

[06:32:36.0000] <darobin>
zcorpan: presumably none given that no two browsers do the same thing

[06:33:37.0000] <zcorpan>
darobin: all browsers allow following the redirect in some way (opera/safari get the method wrong, firefox prompts first)

[06:34:30.0000] <zcorpan>
(dunno about ie)

[06:34:32.0000] <darobin>
zcorpan: right, but I doubt anyone relies on this — though I wouldn't be shocked otherwise

[06:34:43.0000] <darobin>
have been too lazy to test IE, might fire up the VM later

[06:34:51.0000] <karlcow>
so basically for XHR it would mean a piece of UI for asking the user which I guess would make some designers go ballistic about the ugly modal window, but that's another story

[06:35:11.0000] <darobin>
karlcow: FF prompts on XHR — it's damned stupid

[06:35:22.0000] <karlcow>
darobin: for all methods

[06:35:27.0000] <karlcow>
or only unsafe methods

[06:35:39.0000] <darobin>
only for unsafe

[06:35:47.0000] <karlcow>
so I'm glad it does

[06:35:52.0000] <darobin>
well, I only tested DELETE here but I know it doesn't prompt on GET redirect

[06:36:08.0000] <karlcow>
There could be nasty side effects.

[06:36:25.0000] <darobin>
karlcow: except that that requirement is built on the assumption that the UA's user knows they're issuing a DELETE over HTTP — that's not the case here....

[06:36:40.0000] <karlcow>
hmm?

[06:36:48.0000] <darobin>
I mean you click a little cross in a UI and you get a modal saying "This site is redirecting you, do you really want that?"

[06:37:02.0000] <darobin>
that's a guaranteed user "WTF???"

[06:37:04.0000] <karlcow>
So you mean the prompt is dumb.

[06:37:13.0000] <karlcow>
Not the fact that there is a prompt

[06:37:26.0000] <darobin>
there is no generic prompt that could make sense here

[06:37:26.0000] <zcorpan>
darobin: or worse, it happens at some random time and the user has no idea what's going on

[06:37:27.0000] <karlcow>
"the prompt message" I meant

[06:37:37.0000] <karlcow>
UX issue

[06:37:50.0000] <darobin>
zcorpan: well yeah, it could happen several ms later, after the UI has removed what's being deleted...

[06:38:23.0000] <zcorpan>
darobin: i mean the author could issue an XHR at any time without it being bound to something the user does

[06:38:42.0000] <darobin>
for XHR, given we're not in an interactive environment, I would expect either the script to have an option to say it knows what it's doing, or to just assume that by default

[06:38:57.0000] <darobin>
zcorpan: indeed, though that's unlikely for DELETE

[06:38:59.0000] <darobin>
but yes

[06:39:16.0000] <zcorpan>
this is the web we're talking about, nothing is unlikely :-P

[06:39:42.0000] <darobin>
heh, sure :)

[06:39:48.0000] <karlcow>
I guess there are two ways to deal with that. Forbid in browsers any unsafe redirections altogether. Always.

[06:39:48.0000] <karlcow>
Or have prose explaining that Browsers should be really explicit about the damages it might create.

[06:40:41.0000] <karlcow>
darobin: XHR, trusting the script is not a good idea.

[06:40:50.0000] <darobin>
karlcow: I would agree with you for stuff like <a href=foo.html method=DELETE> but in XHR I don't think interactive rules should apply

[06:40:55.0000] <karlcow>
think about POST which is unsafe too

[06:41:51.0000] <zcorpan>
this discussions seems moot unless someone's gonna write a spec :-)

[06:42:20.0000] <karlcow>
darobin: hmm… I think I still apply. I do not want to have a script kiddie doing something for me which is not safe.

[06:42:28.0000] <darobin>
I'll mull over making this defined for XHR — fixing HTTP is probably hopeless

[06:43:14.0000] <darobin>
karlcow: I'm not sure I can think of a useful attack scenario that 1) isn't blocked by SOP or 2) isn't already an attack anyway

[06:43:42.0000] <karlcow>
/me is looking for SOP acronym

[06:43:56.0000] <darobin>
same-origin policy

[06:44:09.0000] <darobin>
in any case I stumbled over this issue while coding for a project; writing a spec is unlikely to fix the issue within the project's time frame ;)

[06:44:20.0000] <karlcow>
heh

[06:54:27.0000] <karlcow>
/me wonders if IE and Chrome still support this https://htaccess.wordpress.com/2009/09/22/x-content-type-options-nosniff-header/

[06:54:40.0000] <karlcow>
X-Content-Type-Options: nosniff

[07:06:42.0000] <darobin>
karlcow: wish I could send that header to my own nose

[07:07:52.0000] <karlcow>
:)

[09:20:38.0000] <TabAtkins>
zcorpan: Now it does, yes, because I fixed it. ^_^  We're now just waiting for someone to write the Color 4 module and actually specify 4/8 digit hex colors.

[10:28:53.0000] <rniwa>
a silly question. is a boolean attribute still considered true even if the value doesn't match its name?

[10:28:57.0000] <rniwa>
e.g. checked=true

[10:29:52.0000] <TabAtkins>
Yes.  Booleans are true if they exist, regardless of value, and false if they dont'.

[10:30:06.0000] <TabAtkins>
Ie they use hasAttribute for true/falseness.

[10:30:08.0000] <rniwa>
TabAtkins: apparently the U.S. government doesn't know how to use them correctly

[10:30:09.0000] <rniwa>
:(

[10:30:15.0000] <TabAtkins>
Lots of people don't.

[10:30:26.0000] <rniwa>
TabAtkins: go to https://egov.uscis.gov/crisgwi/go?action=coa.Terms

[10:30:33.0000] <rniwa>
TabAtkins: Accept terms

[10:30:51.0000] <rniwa>
and click on "Yes, this change of address is not for a US Citizen"

[10:30:58.0000] <rniwa>
Ugh… "No,..."

[10:31:13.0000] <rniwa>
then all text fields that are NOT required, has required=true :(

[10:31:28.0000] <rniwa>
and Chrome thinks they're required and won't let me submit the form

[10:31:39.0000] <miketaylr>
i've tried to contact them for about 2 years to fix that

[10:31:59.0000] <rniwa>
miketaylr: maybe we need to fix the browser UI  to ignore required fields in some cases?

[10:32:11.0000] <miketaylr>
rniwa: http://my.opera.com/miketaylr/blog/u-s-citizenship-and-immigration-services-change-of-address-bless-their-hearts

[10:32:23.0000] <TabAtkins>
rniwa: That's what your inspector is for.

[10:32:29.0000] <rniwa>
I mean… as ridiculous as it sounds, having to modify the page on Inspector just to omit my middle name, etc… was insanely annoying to say the least.

[10:32:39.0000] <rniwa>
TabAtkins: that's not an acceptable option for a lot of people.

[10:32:56.0000] <TabAtkins>
But required=true is just nonsense.  If it was required=false and they were expecting it to not be required, that's a different story.

[10:32:57.0000] <rniwa>
TabAtkins: you can't expect an average user to be able to use this form.

[10:33:07.0000] <rniwa>
TabAtkins: they have "required=no"

[10:33:09.0000] <TabAtkins>
rniwa: No, I can't.  They have a broken page.

[10:33:17.0000] <TabAtkins>
rniwa: Oh, you said required=true.

[10:33:34.0000] <rniwa>
TabAtkins: i mean… required=true is also bad.

[10:33:35.0000] <rniwa>
TabAtkins: required=true and required=no are the same thing

[10:33:37.0000] <TabAtkins>
Oh goddammit I just crashed chrome.

[10:33:53.0000] <rniwa>
TabAtkins: as far as HTML is concerned

[10:34:06.0000] <rniwa>
I guess I'm gonna just file a chromium bug about this :/

[10:34:10.0000] <TabAtkins>
Yes, I know.  That's what I said earlier.  ^_^

[10:34:26.0000] <miketaylr>
they *really* dont' want to fix that page

[10:34:36.0000] <TabAtkins>
Dude, I will shut down that bug.  We should *not* go down the rabbit's path of trying to guess what retarded attribute values people try to put in.

[10:34:37.0000] <miketaylr>
"We cannot support Google Chrome for completing your Change of Address at this time. Change of Address is optimized to use Internet Explorer 6 and 7."

[10:35:17.0000] <TabAtkins>
That leads to supporting "false", "n", "no", "off", and more.

[10:35:19.0000] <rniwa>
:(

[10:35:35.0000] <rniwa>
TabAtkins: that's a terrible user experience.

[10:35:46.0000] <TabAtkins>
rniwa: I... agree?  That's their fault.

[10:35:51.0000] <rniwa>
TabAtkins: so you're telling me that the correct way to deal with this is to abandon Chrome

[10:35:54.0000] <rniwa>
TabAtkins: and use IE?

[10:36:09.0000] <rniwa>
TabAtkins: I mean that's the only option for many users here.

[10:36:32.0000] <TabAtkins>
That's the right thing *for this page*, because they're complete fucking morons and don't know how to internet.

[10:36:49.0000] <rniwa>
TabAtkins: that's not an acceptable decision as far as I'm concerned.

[10:37:18.0000] <rniwa>
TabAtkins: all non-US citizens living in the U.S. needs to use this change.

[10:37:42.0000] <rniwa>
TabAtkins: that's in the order of millions

[10:37:46.0000] <TabAtkins>
rniwa: I don't think breaking our browser against the spec is the right answer to every single retardely-authored webpage.

[10:38:00.0000] <rniwa>
TabAtkins: what if this was youtube or yahoo.com?

[10:38:02.0000] <TabAtkins>
It's not even broken.  It just means you ahve to fill in every field.

[10:38:06.0000] <rniwa>
TabAtkins: would you still say the same?

[10:38:07.0000] <TabAtkins>
It's not.

[10:38:21.0000] <rniwa>
anyway, i'm gonna stop talking about this with you

[10:38:23.0000] <rniwa>
it's not productive

[10:38:24.0000] <TabAtkins>
And if it were, it wouldn't be "optimized to use INternet Explorer 6 and 7"

[10:38:41.0000] <TabAtkins>
Hokay.

[14:27:31.0000] <annevk>
is licensing gonna be clarified for webplatform.org?

[14:27:42.0000] <annevk>
or am I not looking in the right place?

[14:27:46.0000] <annevk>
paul_irish: ^^

[14:29:34.0000] <hober>
annevk: in "Half-day tasks" on http://docs.webplatform.org/wiki/WPD:Getting_Started it says "Content original to the site is licensed under a Creative Commons Attribution License (CC-BY 3.0) for maximum reusability."

[14:29:56.0000] <hober>
(It was on display in the bottom of a locked filing cabinet stuck in a disused lavatory with a sign on the door saying 'Beware of the Leopard'.)

[14:30:08.0000] <annevk>
heh

[14:30:25.0000] <annevk>
maximum would be public domain imo, but I guess that license works

[14:31:17.0000] <hober>
also, wat: http://docs.webplatform.org/wiki/html/elements/custom

[14:32:25.0000] <annevk>
well it originates from Microsoft

[14:32:46.0000] <Hixie>
when they say "original to the site" i presume they're excluding all of msdn which is all i came across

[14:32:53.0000] <Hixie>
(pretty bogus content, too)

[14:33:24.0000] <annevk>
hmm yeah, e.g. http://docs.webplatform.org/wiki/css/color/CSSOM_view

[14:33:36.0000] <annevk>
clearly alpha

[14:33:39.0000] <paul_irish>
yup

[14:33:55.0000] <paul_irish>
we did an automated import of MSDN docs and a lot of items are not exactly standard..

[14:34:07.0000] <paul_irish>
so we need to flag those as proprietary

[14:34:17.0000] <annevk>
what's gonna happen to MDN?

[14:34:32.0000] <paul_irish>
https://hacks.mozilla.org/2012/10/welcoming-the-new-kid-web-platform-docs/ answers that best

[14:35:07.0000] <paul_irish>
there's a little bit of "wait and see" approach from some folks, others in moz want all future docs at WPD

[14:35:14.0000] <paul_irish>
so its a little complicated

[14:35:41.0000] <paul_irish>
but not bad in any way

[14:35:50.0000] <annevk>
ah shit, Mozilla did licensing wrong

[14:36:01.0000] <Hixie>
the agreement when you get an account is kinda weird, too. refers to "Contributions" with a capital C but doesn't define what those are.

[14:36:20.0000] <annevk>
thanks paul_irish!

[14:37:36.0000] <paul_irish>
yeah drop me a link on anything that looks totally whack or shouldnt belong and i'll file a ticket for people to look at it.

[14:38:33.0000] <Hixie>
http://docs.webplatform.org/wiki/html/elements/html_comment_data-type is basically entirely wrong at every level. :-)

[14:50:55.0000] <zewt>
can progressive jpegs please be removed from all jpeg compressors already

[14:51:08.0000] <zewt>
we're not on 300 baud modems and people keep using it by accident and they make my eyes bleed

[14:51:30.0000] <Hixie>
ew no

[14:51:35.0000] <Hixie>
more progressive please

[14:51:44.0000] <zewt>
"progressive jpeg" doesn't mean "progressive decompression"

[14:51:52.0000] <Hixie>
i wish every pic would start off as one pixel of colour and then 4 and then 16 and then 64 etc

[14:51:55.0000] <Hixie>
oh

[14:51:57.0000] <Hixie>
then nevermind

[14:52:07.0000] <zewt>
it's analogous to "interlaced" pngs

[14:52:16.0000] <zewt>
where you get a big hideous blurry blob first

[14:52:31.0000] <Hixie>
isn't that what i just said i wanted?

[14:53:09.0000] <zewt>
dunno, progressive decompression is just "don't wait for the whole image to decompress before showing it", which doesn't require that sort of ugliness

[14:53:25.0000] <TabAtkins>
Hixie: I'd be interested to see if delta-compressing *that* much would be worthwhile.

[14:53:27.0000] <Hixie>
i don't want the images to decompress like window shades

[14:53:38.0000] <Hixie>
TabAtkins: oh i'm sure it'd be negative compression ratio :-)

[14:53:45.0000] <zewt>
blurry images hurt my eyes

[14:53:48.0000] <Hixie>
TabAtkins: at least to do it actually as silly as i describe

[14:53:58.0000] <Hixie>
zewt: just seeing eyes is even worse

[14:54:08.0000] <zewt>
if it starts at a non-blurry resolution and goes up from there, maybe okay (eg. upgrading from regular resolution to retina, so to speak)

[14:54:20.0000] <Hixie>
"regular" is blurry

[14:54:29.0000] <zewt>
but progressive jpegs start as a big artifacty gross mess

[14:54:33.0000] <zewt>
(usually)

[15:01:44.0000] <jgraham>
paul_irish: Repeating what I already said to karlcow and miketaylr, I think at this point the actual content is so confusing that you should add a big "under construction" gif and (more seriously) add links to the "how we want the site structure to end up" pages to the front page

[15:02:28.0000] <jgraham>
It's not really possible to figure out how to help yet because all there is is a big mess of stuff an no obvious coherent structure that it is supposed to be tidied into

[15:20:26.0000] <paul_irish>
jgraham: haha so i totally lost the argument that we should put http://codepen.io/joshnh/pen/ohbHl on the site 5 days ago :)

[15:20:56.0000] <paul_irish>
jgraham: agreed about the IA. thanks for the feedback

[15:21:06.0000] <paul_irish>
ill start some convos on that

[15:26:32.0000] <say2joe>
@paul_irish … love the animated gif

[15:27:17.0000] <say2joe>
(rather the animated gif turned css)

[15:35:30.0000] <TabAtkins>
paul_irish: Out of curiosity, what was the point of doing the under-construction thing with CSS rather than a GIF?

[15:35:55.0000] <paul_irish>
"because", i think..

[15:36:11.0000] <paul_irish>
turns out its smaller.. but only after gzip.

[15:36:13.0000] <TabAtkins>
Sounds legit.

[15:36:34.0000] <TabAtkins>
Likely slower to render, since we don't fast-path solid shadows yet.

[15:36:39.0000] <TabAtkins>
At least, in Chrome.

[15:46:10.0000] <Hixie>
http://codepen.io/joshnh/pen/ohbHl is seriously messed up

[15:47:00.0000] <say2joe>
@Hixie: too much coffee?

[15:48:21.0000] <annevk>
Hixie: using box-shadow or radial gradients via background to draw images is a thing now

[15:49:09.0000] <annevk>
Hixie: hopefully at some point the drawing primitives from SVG just move over so it gets less clunky

[15:49:19.0000] <annevk>
and then we can drop SVG :p

[15:49:38.0000] <annevk>
-> sleep

[15:50:30.0000] <Hixie>
i hope it'll go the way of using html tables for bitmaps...

[16:20:43.0000] <Hixie>
anyone know how many files are in web200904 ?

[16:24:11.0000] <Hixie>
about 600,000 apparently

[16:25:19.0000] <TabAtkins>
I think just count the number of nulls and divide by 3.

[16:25:41.0000] <Hixie>
i wonder what they've been up to since 2009

[16:28:26.0000] <TabAtkins>
Crawling more internet, presumably.

[16:28:42.0000] <Hixie>
you'd think they'd have posted an update in the meantime


2012-10-09
[17:12:45.0000] <grom358>
Test case: http://pastebin.com/pRUqGS9G .. The spec parses the hello string as the end of the script tag.

[17:14:02.0000] <grom358>
that does not seem like the wrong behavior to me

[17:16:09.0000] <grom358>
because if the javascript is in external file then you don't get that behavior

[22:02:11.0000] <zewt>
what the holy hell

[22:03:04.0000] <zewt>
firefox went from a regular annoying fullscreen "hit button to exit" notification, to an obnoxious intrusive fullscreen dimming (absurd), and apparently that wasn't stupid enough, since now it opens a dialog on top of the fullscreened page that you have to click away

[22:03:29.0000] <zewt>
/me switches youtube back to flash; screw it

[22:04:19.0000] <zewt>
people oversealously contriving make-believe security issues that don't actually exist have taken over all UX design in firefox; 9/11fox

[22:05:08.0000] <zewt>
end disgusted rant

[23:55:30.0000] <zcorpan>
Hixie: +00:10.000 --> 00:04.000 looks wrong

[23:55:41.0000] <zcorpan>
http://html5.org/r/7442

[23:56:33.0000] <zcorpan>
Hixie: the example rendering also looks wrong since it doesn't minimize delta

[23:59:29.0000] <zcorpan>
http://dev.w3.org/html5/webvtt/ doesn't follow the style rules for CLA -- the w3c logo isn't in the top left corner

[00:03:44.0000] <zcorpan>
s/style rules for CLA/CG report requirements/

[00:23:27.0000] <ashemedai>
/me chuckles

[00:23:35.0000] <ashemedai>
The irony of webplatform.org not passing validation

[00:27:30.0000] <AryehGregor>
Where's the correct XHR spec these days?

[00:27:44.0000] <AryehGregor>
This?  http://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html

[00:27:55.0000] <AryehGregor>
Looks right, last updated yesterday and edited by annevk.

[00:38:21.0000] <zcorpan>
AryehGregor: it says *previous* editor is annevk

[00:38:34.0000] <zcorpan>
AryehGregor: if you want the spec annevk edits, it's http://xhr.spec.whatwg.org/

[00:39:41.0000] <AryehGregor>
Ah, okay.

[00:39:44.0000] <AryehGregor>
Thanks.

[01:17:20.0000] <annevk>
yeah dunno how that is going to work out...

[01:55:37.0000] <feross>
hey, anyone here?

[01:55:53.0000] <feross>
so, I just wrote this blog post about how to attack the javascript fullscreen api: http://feross.org/html5-fullscreen-api-attack/

[01:56:03.0000] <feross>
and i realized that this isn't the most effective way to get the api fixed

[01:56:29.0000] <feross>
it's actually not really an api issue as much as a UX/UI design issue

[01:56:57.0000] <feross>
i'm curious what you recommend i do

[01:57:16.0000] <feross>
file a bug on the spec? file a bunch of browser bugs?

[02:06:19.0000] <AryehGregor>
feross, you could post to the spec mailing list.  IIRC, the API doesn't allow the page to accept more than highly limited user input in fullscreen mode, so attackers can't actually get them to type anything in without abruptly exiting full-screen mode.  Also, Flash has such a feature already and it's not widely used for phishing.

[02:07:57.0000] <feross>
AryehGregor: thanks for the reply. i was able to use keyboard input while in fullscreen mode in both firefox and chrome, so despite what the spec says i think that browsers are allowing this to happen. safari blocks keyboard input.

[02:07:58.0000] <AryehGregor>
The spec doesn't seem to give useful guidance.  Definitely a spec bug.  http://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html#security-and-privacy-considerations

[02:08:21.0000] <AryehGregor>
I haven't been following discussions.

[02:08:32.0000] <AryehGregor>
I'd post to the appropriate spec mailing list.

[02:09:58.0000] <feross>
okay, will do that. thanks for the help.

[02:10:46.0000] <jgraham>
SO I recall there being discussion about this before

[02:10:55.0000] <AryehGregor>
Needless to say, phishing has been discussed very extensively with this feature, so I'm guessing the people involved will have answers, but I'm not one of them, so I don't.  :)

[02:11:03.0000] <jgraham>
The use case for keyboard input is, of course, fullscreen games

[02:11:09.0000] <AryehGregor>
Yes, lots and lots of discussion.  IIRC, security issues delayed the feature for a lot of time.

[02:11:30.0000] <AryehGregor>
jgraham, the idea I saw floated was that most games could make use with a very limited set of keys, like arrow keys and so on, that would be useless to phishers.

[02:11:39.0000] <AryehGregor>
Arrows, Enter, space, whatever.

[02:11:48.0000] <jgraham>
Well that clearly isn't true

[02:11:53.0000] <AryehGregor>
Ones that wanted more would have to get some type of elevated permission.

[02:12:02.0000] <AryehGregor>
It's true for a lot of games, like simple platformers.

[02:12:25.0000] <AryehGregor>
You could allow arrows, Enter, space, and modifier keys with no real problems.

[02:12:29.0000] <jgraham>
I thought the consensus was that having a clickthrough dialog was enough that keyboard input could be allowed

[02:12:56.0000] <jgraham>
Sure, but people are trying to do more advanced games on the web

[02:12:59.0000] <AryehGregor>
I don't remember, I only followed part of the discussions.

[02:13:16.0000] <jgraham>
What keys does bananabread sdepend on?

[02:13:18.0000] <AryehGregor>
It seems like the current spec doesn't distinguish between allowing keyboard input and not.

[02:13:24.0000] <AryehGregor>
Some earlier versions did.

[02:13:45.0000] <zcorpan>
AryehGregor: games need more than the arrows. e.g. i need about half the keyboard for quake

[02:13:59.0000] <AryehGregor>
Sure, but a lot of games aren't Quake.

[02:14:10.0000] <zcorpan>
so?

[02:14:11.0000] <AryehGregor>
More complicated games certainly need the whole keyboard.

[02:14:26.0000] <jgraham>
Bananabread already uses way more keys

[02:14:27.0000] <AryehGregor>
So the games that don't need much of the keyboard could get away with less annoying security stuff.

[02:14:38.0000] <AryehGregor>
The ones that do can opt in to more annoying security stuff.

[02:14:46.0000] <AryehGregor>
That's what an earlier API version did.

[02:14:49.0000] <AryehGregor>
Seems the current one doesn't.

[02:16:15.0000] <zcorpan>
yeah ok. i recall that being proposed

[02:16:41.0000] <jgraham>
I'm not sure "make the experience simpler for a subset of use cases" is a winning proposition compared to "make the experience consistent across all use cases"

[02:16:54.0000] <AryehGregor>
It seems the conclusion was to agree with you.

[02:17:05.0000] <AryehGregor>
Doesn't that kind of stink for, e.g., full-screen video?

[02:17:19.0000] <AryehGregor>
Or is the idea that that gets special-cased somehow, using nonstandard magic?

[02:17:33.0000] <zcorpan>
if the user trusts youtube.com, he can always allow youtube.com

[02:17:47.0000] <jgraham>
(do video players typically use more than just arrow keys for keyboard a11y?)

[02:18:03.0000] <jgraham>
Plus tab, plus modifiers

[02:18:44.0000] <AryehGregor>
Dunno.

[02:20:54.0000] <jgraham>
Seems like youtube also supports 0-9 to move to various points in the video + home + end

[02:21:00.0000] <jgraham>
(and space)

[02:33:51.0000] <annevk>
AryehGregor: I kinda think keyboard input should work, if it's made clear to the user that he entered fullscreen and that he can exit it, it should all be okay...

[02:34:29.0000] <AryehGregor>
It's pretty easy to get a substantial fraction of users to not notice that they entered fullscreen.

[02:34:44.0000] <AryehGregor>
Even if 90% will spot it, that doesn't matter -- phishing is cheap, and you still get the 10%.

[02:35:34.0000] <AryehGregor>
More generally, Flash already has fullscreen and it doesn't seem to have caused catastrophic security failures.  If we match its features, we don't have to worry much.  If we're more liberal, like allowing unrestricted keyboard input when Flash doesn't (does it?), that's a lot riskier because it's uncharted territory.

[02:44:52.0000] <annevk>
crippling functionality of the web platform lets proprietary platforms take over; it's not exactly a zero-sum game

[02:46:14.0000] <ShaneHudson>
Is the WHATWG involved in this new wiki the W3C have created? Looks nice a nice site to destroy w3schools!

[02:46:18.0000] <AryehGregor>
No, but I don't think "it's made clear to the user" is good enough by itself.  A substantial number of users aren't going to even know what "fullscreen" means.  The web is used by lots of people who aren't so clever with computers, or just aren't paying attention in the slightest.

[02:46:30.0000] <AryehGregor>
Anyway, I'll leave that up to the implementers.  They have security teams for a reason.

[02:53:26.0000] <jgraham>
I like the fact that the TPAC site says "Remember: do not microblog W3C Member confidential matters". Presumably those looking to leak sekrits should write full blog entries.

[03:02:27.0000] <darobin>
jgraham: it's just based on experience. People don't blog confidential stuff, but they mistakenly livetweet stuff

[03:02:52.0000] <darobin>
not that there's all that much confidential stuff going on in the first place — finding something to leak is actually hard work :)

[03:04:24.0000] <jgraham>
s/microblog/publish/ sould make the whole thing less silly

[03:05:13.0000] <jgraham>
*would

[03:07:04.0000] <darobin>
in fairness, I think that not caring about such trivial details would be less silly

[03:09:16.0000] <jgraham>
Me? Well maybe, but I doubt I am the only one that would find it faintly ridiculous that there is a swpecific admonishment for "microblogging" but not for any other form of communication

[03:10:04.0000] <jgraham>
Is HTMLImageElement.complete too difficult an example to use for explaining testharness.js? Pros: has obvious list of cases, has sync and async cases. Cons: Slightly obscure, depends on networking, one case is pretty hard to test, only really uses assert_true

[03:12:07.0000] <jgraham>
low

[03:12:28.0000] <jgraham>
Ohh, focus doesn't follow brain

[03:36:45.0000] <zcorpan>
jgraham: .complete is pretty unique in that it can change value while script is running

[03:37:23.0000] <zcorpan>
(is that needed for web compat? or did we just blindly copy ie?)

[03:37:29.0000] <jgraham>
Yeah, that's kind of icky

[03:37:36.0000] <jgraham>
One reason I don't like

[03:37:37.0000] <jgraham>
it

[03:39:59.0000] <jgraham>
But I am not doing well thinking of a better alternative that naturally has sync and async parts

[03:40:16.0000] <jgraham>
Everything to do with <iframe>s is whacked beyond belief

[03:40:53.0000] <jgraham>
Maybe localStorage?

[03:42:51.0000] <zcorpan>
seems chrome doesn't update it while script is running. http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1828

[03:42:59.0000] <zcorpan>
/me files spec bug

[03:44:15.0000] <zcorpan>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=19388

[03:44:30.0000] <jgraham>
It also didn't update it in the timeout for me…

[03:44:42.0000] <zcorpan>
does for me

[03:45:01.0000] <zcorpan>
might be racy?

[03:45:38.0000] <jgraham>
yeah, seems to be OK if you increase the timeout to 10ms

[03:46:23.0000] <zcorpan>
maybe it doesn't decode the image until it paints it, i.e. until the second alert is discarded, and then there's a race between the timeout and image decode

[03:46:30.0000] <zcorpan>
or something, i'm just guessing here

[03:46:37.0000] <jgraham>
Better to write that test using sync XHR than alert, I think

[03:46:45.0000] <jgraham>
Or maybe even just a loop

[03:48:15.0000] <jgraham>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1829

[03:48:55.0000] <jgraham>
Huh?

[03:49:02.0000] <jgraham>
Gecko is giving false everywhere

[03:49:47.0000] <jgraham>
Turns out that this is a really interesting case :)

[03:50:00.0000] <zcorpan>
yeah, was just going to say. but it doesn't do that with my version

[03:50:40.0000] <jgraham>
Right, but alert is special sauce in gecko

[03:50:53.0000] <zcorpan>
yes

[03:51:09.0000] <jgraham>
Makes everything taste weird

[03:51:46.0000] <zcorpan>
it seems interesting to test how things interact with alert

[03:52:17.0000] <zcorpan>
and sync xhr..

[03:53:30.0000] <jgraham>
sync XHR gives the same result as alert

[03:54:03.0000] <jgraham>
In gecko

[03:54:03.0000] <zcorpan>
jgraham: why do you need a feature with both sync and async? why not use separate features?

[03:55:46.0000] <jgraham>
zcorpan: Just seems easier to give the presentation an overall arc

[03:55:59.0000] <zcorpan>
ok

[03:56:08.0000] <zcorpan>
use <script>!

[03:56:40.0000] <jgraham>
"Here's a simple case, here's a more complex case (this is the point at which people stop listening) this is a convenience function, these are some general principles to keep in mind"

[03:56:58.0000] <jgraham>
Haha

[03:58:46.0000] <jgraham>
Homework: write a testsuite for <script> scheduling. Bonus credit for <script> + XSLT

[03:59:38.0000] <AryehGregor>
darobin, I'm getting an error when trying to run pegjs in webidl.js: Error: require.paths is removed. Use node_modules folders, or the NODE_PATH environment variable instead.

[03:59:42.0000] <AryehGregor>
Any idea what's up with that?

[04:00:21.0000] <darobin>
AryehGregor: I haven't touched that code in a while, so sadly no

[04:00:25.0000] <AryehGregor>
Oh, wait.

[04:00:27.0000] <AryehGregor>
I think I see.

[04:00:32.0000] <AryehGregor>
It was looking at an outdated local version.

[04:00:38.0000] <darobin>
but I know what the error is: something is using require.paths and it really shouldn't

[04:00:40.0000] <darobin>
ah, good

[04:00:42.0000] <zcorpan>
jgraham: :-)

[04:01:13.0000] <darobin>
AryehGregor: I'll be updating webidl.js as soon as the HTML WG gets into full testing crunch, i.e. hopefully pretty soon

[04:01:37.0000] <AryehGregor>
darobin, good to hear.

[04:01:57.0000] <darobin>
/me has to jump out, bbiab sorry

[04:02:52.0000] <jgraham>
/me hopes darobin's parachute opens

[04:03:14.0000] <AryehGregor>
darobin, I just submitted a one-line pull request for you.

[04:03:39.0000] <AryehGregor>
/me is reminded how vastly better git is than hg

[04:04:20.0000] <zcorpan>
jgraham: i'm having a hard time finding an api that isn't totally quirky and complex and has both sync and async parts

[04:04:42.0000] <jgraham>
Not just me then

[04:06:24.0000] <jgraham>
But what about localStorage? Or maybe I shoudl go for the simple parts of img.complete and then suggest that there is potential to do the more complex part and turn it into a full testsuite during the hack parts of ttwf

[04:09:30.0000] <zcorpan>
localStorage seems ok

[04:10:04.0000] <zcorpan>
can involve subframes if you want to show how that's done

[04:24:39.0000] <paul_irish>
hsivonen: there were policy decisions made at moz that disallowed importing MDN.

[04:25:28.0000] <zcorpan>
zewt: http://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html is also out of date, as it happens :-P

[04:25:57.0000] <darobin>
AryehGregor: PR merged, thanks!

[04:26:02.0000] <AryehGregor>
darobin, thanks!

[04:26:10.0000] <darobin>
no, thanks to you :)

[04:26:27.0000] <darobin>
hg? I thought only Ms2ger and W3C still used that

[04:29:39.0000] <AryehGregor>
Sadly, I deal with the W3C a lot.  :(

[04:29:47.0000] <AryehGregor>
Also, Mozilla does, and I haven't switched to the git mirrors yet.

[04:32:22.0000] <annevk>
yeah I don't really get the reverse xhr forking

[04:32:58.0000] <annevk>
not really sure what their plan is either

[04:35:00.0000] <annevk>
hmm

[04:40:03.0000] <darobin>
AryehGregor: any group that makes you use hg, don't hesitate to ask that it moves to GH

[04:40:04.0000] <AryehGregor>
darobin, do you think it would make sense to make things like .members or .inheritance be empty arrays instead of null if they're not present?

[04:40:09.0000] <AryehGregor>
GH?

[04:40:13.0000] <darobin>
GitHub

[04:41:00.0000] <darobin>
AryehGregor: yeah, I think that would make sense, there's not useful distinction between null and empty here and it would help code against the API

[04:41:09.0000] <AryehGregor>
Sounds great.

[04:41:21.0000] <AryehGregor>
/me will probably write a patch soon, but is in the middle of something else

[04:41:29.0000] <AryehGregor>
(namely, documenting idlharness.js)

[04:41:31.0000] <darobin>
or, you know, if you're the primary committer to something that a WG is doing, you can just move to GH and tell them later...

[04:41:40.0000] <darobin>
whee, more docs!

[04:44:27.0000] <odinho>
13:42 < AryehGregor> (namely, documenting idlharness.js)   <3

[04:49:10.0000] <hsivonen>
paul_irish: the policy decision of having used ShareAlike or something else?

[04:50:09.0000] <hsivonen>
paul_irish: on your blog post, you mentioned MDN, Wikipedia and Stackoverflow. All of those are SA, so deciding not to make WebPlatform.org SA is the policy decision that prevents importing from any of them.

[05:07:37.0000] <divya>
hsivonen: why is SA necessary.

[05:08:00.0000] <divya>
hsivonen: also where is license info for webplatform.org

[05:08:07.0000] <AryehGregor>
hsivonen, so that things can be imported from other sources that use SA, presumably.

[05:13:16.0000] <hsivonen>
divya: MDN, Wikipedia and Stackoverflow have SA, so SA is necessary to import content from them

[05:15:06.0000] <hsivonen>
divya: it seems like a tremendously bad use of contributor time to re-express SA content in order to clean it of copyright and, therefore, copyleft. See half-day tasks: http://docs.webplatform.org/wiki/WPD:Getting_Started

[05:16:17.0000] <divya>
hsivonen: it seems right now MDN turns a blind eye to scraped content that is not rendered in CC-BY-SA

[05:16:51.0000] <divya>
hsivonen: I was not aware they need to re-express SA content

[05:16:57.0000] <divya>
i assumed they could just scrape it.

[05:17:15.0000] <jgraham>
That wouldn't be SQ though

[05:17:18.0000] <jgraham>
*SA

[05:17:45.0000] <hsivonen>
divya: failure to enforce previously (I’m taking you at your word) doesn’t mean that it’s reasonable for webplatform.org to rely on being able to violate a license

[05:18:01.0000] <divya>
hsivonen: i didnt know about SA restrictions.

[05:18:15.0000] <divya>
ideally this content should be free to use by whoever where-ever

[05:18:26.0000] <divya>
i would love for commercial products to rely on this for their documentation.

[05:18:44.0000] <hsivonen>
CC-BY-SA allows the use in commercial docs

[05:19:00.0000] <divya>
how so? if it is 'share alike'

[05:19:05.0000] <divya>
what use is restricted?

[05:19:21.0000] <hsivonen>
divya: you have to share alike but you can use it for commercial purposes

[05:19:37.0000] <hsivonen>
divya: NC is the license component that’s non-Free and prohibits commercial use

[05:19:46.0000] <divya>
/me wikis

[05:19:54.0000] <hsivonen>
(Opera’s curriculum was CC-BY-SA-NC)

[05:20:43.0000] <divya>
right so Share Alike means you must use sam licensing

[05:21:17.0000] <hsivonen>
divya: right. but the license doesn’t prohibit commercial use

[05:21:18.0000] <divya>
+e

[05:21:47.0000] <divya>
yeah but i do not think that is worth enforcing, especially given companies have preferences for different licenses.

[05:21:56.0000] <divya>
either way, well we need to fix this licensing thing.

[05:23:01.0000] <divya>
i honestly think CC-BY-SA is a model that would make companies baulk at using content from that source.

[05:23:50.0000] <divya>
have had experiences with it at Adobe.

[05:24:00.0000] <hsivonen>
divya: plenty of companies seem to be OK with shipping a copyleft kernel on their phones

[05:24:32.0000] <hsivonen>
divya: the first copyleft-licensed Adobe thing I can think of is the Source Sans font

[05:24:44.0000] <hsivonen>
the first I can think of that is

[05:24:44.0000] <divya>
what is 'copy-left'?

[05:24:54.0000] <hsivonen>
not necessarily Adobe’s first

[05:25:19.0000] <hsivonen>
divya: the concept of share alike more generally than the CC ShareAlike in particular

[05:25:20.0000] <jgraham>
divya: SA

[05:26:02.0000] <AryehGregor>
So in JavaScript, how can I do something like a derived class calling a base class' constructor?  I currently have A and B, where A.prototype and B.prototype both have C.prototype as their prototype.  I want new A() and new B() to have the same effect.

[05:26:24.0000] <divya>
hsivonen: i thought it was apache license. no?

[05:26:30.0000] <AryehGregor>
I guess I could do function A() { C.call(this); }.

[05:26:35.0000] <AryehGregor>
Hmm, yeah, let me do that.

[05:27:00.0000] <divya>
bah its some other license called open font license.

[05:27:18.0000] <hsivonen>
divya: right

[05:28:12.0000] <hsivonen>
oh and Adobe seems to be distributing WebKit, parts of which are also copylefted

[05:28:18.0000] <divya>
hsivonen: yeah seems SA from reading the open font license.

[05:28:56.0000] <divya>
hsivonen: all i am saying is lawyers @ adobe do not like using licenses that are not the licenses they recommend.

[05:29:12.0000] <divya>
unless it goes through a long process of review and then figuring out if it is worth the risk

[05:29:26.0000] <divya>
i am sure companies like mozilla, adobe, apple have $$$s to go through such reviews

[05:29:29.0000] <divya>
not many companies do.

[05:29:56.0000] <divya>
so having it a 'share-alike' means some small companies either just risk it or do not bother.

[05:30:07.0000] <divya>
individuals dont give a damn of course.

[05:30:21.0000] <hsivonen>
my point is that Mozilla doesn’t own the copyright on all MDN content, StackExchange doesn’t for StackOverflow conten and Wikimedia doesn’t for Wikipedia, so you can’t just get SA waivers from a handful of parties to import content

[05:31:05.0000] <divya>
yeah it is unfortunate. I do not think SE content can be imported per se anyway.

[05:31:51.0000] <divya>
licensing suckss

[05:32:04.0000] <hsivonen>
to me, it would make sense to prefer compatibility with the existing body of potentially importable content than to prefer compatibility with the sensibilities of *potential* contributors

[05:33:45.0000] <divya>
i understand the cost of existing compatibility is significantly lesser, but we should worry about the cost of this model after a few months and finding how it is working or not.

[05:35:00.0000] <zcorpan>
why is a new header not better for <http://www.w3.org/mid/op.wlwusmc2a3v5gv@hr-desk> ?

[05:41:04.0000] <AryehGregor>
darobin, would you be okay with me breaking up some of the long lines in grammar.peg as I make other changes?  It's hard to read diffs with lines that long.

[05:43:07.0000] <darobin>
AryehGregor: I'm okay with you changing whatever you need for this to be easier for you man

[05:43:14.0000] <AryehGregor>
darobin, okay, great.

[05:56:12.0000] <zcorpan>
zewt: isn't it up to browsers' decoders to decide at which level of blurriness they want to start showing the image?

[06:13:41.0000] <shepazu>
hsivonen: I made the call on WebPlatform using CC-BY, rather than CC-BY-SA, and I still believe it is the right one. Yes, it will take more time and effort to build the content up to a great state, but once we get there, the content will be much more reusable, without the confusion of SA

[06:19:39.0000] <zcorpan>
why was Array.isArray introduced? isn't it nonsensical to introduce sugar for *one* kind of object while not solving the problem for all other kinds?

[06:20:59.0000] <annevk>
zcorpan: I think the problem was only with arrays

[06:21:32.0000] <zcorpan>
really? then what was the problem?

[06:21:48.0000] <annevk>
javascript:typeof []

[06:21:50.0000] <annevk>
I think

[06:22:22.0000] <zcorpan>
Object.prototype.toString.call([]) === '[object Array]'

[06:25:04.0000] <zcorpan>
http://www.adobe.com/devnet/html5/articles/categorizing-values-in-javascript.html says isArray was introduced because of the different global objects problem, but that still applies for all other objects

[06:26:02.0000] <annevk>
http://web.mit.edu/jwalden/www/isArray.html explains

[06:26:22.0000] <annevk>
' One test in this style is Object.prototype.toString.call(o) === "[object Array]", but that relies on Object.prototype.toString and Function.prototype.call not being changed (probably a good assumption but still fragile). It's also a bit more of an obvious hack than any of the other ideas.'

[06:29:30.0000] <zcorpan>
ah. that's true. but doesn't explain why it was only solved for arrays

[06:30:10.0000] <hsivonen>
shepazu: thanks

[06:30:29.0000] <hsivonen>
shepazu: for saying it was you—not for the call to choose CC-BY

[06:31:21.0000] <annevk>
zcorpan: typeof works for the other cases?

[06:32:02.0000] <zcorpan>
annevk: no? typeof is not useful for differentiating different objects

[06:34:03.0000] <shepazu>
hsivonen: uh… you're welcome?

[06:34:19.0000] <shepazu>
not sure what you meant by that :)

[06:36:58.0000] <shepazu>
to be honest, I found it disconcerting to see complaints in this channel, taking a position against the more open option, for a more restrictive content license

[06:37:27.0000] <annevk>
lets not generalise shepazu

[06:37:38.0000] <hsivonen>
shepazu: I just meant avoiding the confusion of looking like I was thanking for the license choice

[06:38:05.0000] <annevk>
shepazu: e.g. http://krijnhoetmer.nl/irc-logs/whatwg/20121008#l-10

[06:38:35.0000] <hsivonen>
shepazu: I just think it’s a terrible waste of time to rewrite stuff to work around a license instead of going with what’s established out there

[06:38:55.0000] <shepazu>
like HTML5? :D

[06:39:25.0000] <darobin>
ouch, burn!

[06:39:27.0000] <hsivonen>
shepazu: from my point of view, this is another bad licensing call by the W3C

[06:39:28.0000] <zcorpan>
html5 wasn't rewritten to work around a license. it was rewritten because html4 was like w3schools

[06:39:51.0000] <shepazu>
annevk: I didn't mean to generalize… I meant "some complaints" not "all complaints"

[06:39:55.0000] <darobin>
<annevk> lets not generalise shepazu # yeah, having one of those is enough

[06:40:21.0000] <shepazu>
/me SHEPAZU ALL THE THINGS!

[06:40:34.0000] <annevk>
I think only hsivonen and I complained, and argued opposite sides

[06:40:51.0000] <annevk>
;)

[06:41:09.0000] <hsivonen>
I don’t mind webplatform.org using CC-BY or CC0 even for new content

[06:41:24.0000] <annevk>
and I'm just calling it out because everytime someone says something here, someone broadcasts it to the outside as "the WHATWG has spoken..."

[06:41:27.0000] <shepazu>
annevk: that seems quite consistent with your general philosophy on licensing :)

[06:41:34.0000] <hsivonen>
I just think it’s terribly wasteful not to be able to import from MDN, Wikipedia or StackOverflow

[06:41:49.0000] <shepazu>
annevk: fair enough, but I know better

[06:42:26.0000] <shepazu>
hsivonen: and with all due respect to those fine sites, which I admire, I think the mistake was on their part in choosing restrictive licenses

[06:43:03.0000] <shepazu>
I think we made the right call for the future use of the content

[06:43:22.0000] <annevk>
could we not have gone for new content in the public domain? and try to move there over time reusing the existing content under their more restrictive licensing?

[06:43:30.0000] <annevk>
I guess time will tell how it goes

[06:43:46.0000] <shepazu>
annevk: yes, but that would dramatically complicate and confuse things

[06:44:06.0000] <hsivonen>
shepazu: CC0 avoids the confusion

[06:44:42.0000] <shepazu>
CC0 provides less incentive to contribute for many people who like a little recognition

[06:44:53.0000] <shepazu>
but yes, we considered that

[06:45:04.0000] <shepazu>
code is all CC0, btw

[06:45:12.0000] <hsivonen>
shepazu: you really want attribution to individual authors and not just to webplatform.org?

[06:45:22.0000] <hsivonen>
shepazu: yay for CC0 code

[06:45:41.0000] <shepazu>
hsivonen: for commercial uses, yes, lists of authors, not just wpd

[06:45:52.0000] <shepazu>
it's only fair

[06:46:04.0000] <hsivonen>
also terribly impractical in the long run

[06:46:21.0000] <shepazu>
we've already got a ton of interest in improving this site, so I think in 6-12 months the site will not suffer for a lack of imported content

[06:46:48.0000] <shepazu>
hsivonen: depends how it's managed

[06:46:57.0000] <annevk>
well, I still acknowledge contribution to specs even though they're licensed under CC0, fwiw

[06:47:27.0000] <annevk>
don't really need to cater to that through licensing

[06:47:28.0000] <shepazu>
annevk: that's because you're trying to be a good player, not eveyone would be

[06:47:50.0000] <shepazu>
license are not there for good players, they are there for the exceptions

[06:48:06.0000] <shepazu>
anyway, thanks for the interesting discussion! I have some work to do

[06:51:40.0000] <AryehGregor>
darobin, it looks like WebIDL doesn't support multiple inheritance, but the parser does -- is there a reason for that?  Did WebIDL used to support multiple inheritance?  Can I remove parser support, or do we have to worry that that will break things?

[06:51:55.0000] <jgraham>
I think WebIDL did used to support it

[06:52:02.0000] <jgraham>
But I might be wrong

[06:52:23.0000] <divya>
zcorpan: !!!! you never reply https://github.com/h5bp/html5please/issues/194

[06:52:56.0000] <zcorpan>
divya: indeed

[06:53:16.0000] <divya>
just gimme the words and i will replace zcorpan i do not know enough about it to work on it!

[06:54:32.0000] <zcorpan>
i'm looking at it now

[06:54:42.0000] <divya>
thanks zcorpan !!

[06:54:46.0000] <darobin>
AryehGregor: WebIDL used to support it, I think there's still some IDL out there that uses it

[06:54:58.0000] <AryehGregor>
darobin, okay, I'll leave support in the parser.

[06:55:10.0000] <darobin>
part of the problem is whether these old things should be removed, or if we still want to parse old IDLs

[06:56:00.0000] <AryehGregor>
Inheritance

[06:56:00.0000] <AryehGregor>
    =   herit:InheritanceInner?

[06:56:00.0000] <AryehGregor>
        { return herit ? herit : []; }

[06:56:09.0000] <AryehGregor>
darobin, do you know of a better way in general to do that?

[06:56:40.0000] <darobin>
AryehGregor: mmmm, not that I can think of off the top of my head

[06:56:44.0000] <AryehGregor>
It seems like if I try this, I get an error because "herit" is undefined: Inheritance =  (":" w herit:ScopedNameList)? { return herit ? herit : []; }

[06:56:45.0000] <AryehGregor>
Okay.

[06:57:02.0000] <darobin>
but then again I'm not a PEG expert, I just picked it up because I needed a Q&D WebIDL parser in a hurry for a project

[06:57:32.0000] <darobin>
hmpf, I'd expect PEG to pass herit = null there...

[06:57:39.0000] <darobin>
oh, no, I remember now

[06:57:53.0000] <darobin>
when you have a Foo?, if it doesn't match then the variable is undefined

[06:57:56.0000] <darobin>
which really sucks

[06:58:08.0000] <darobin>
you need to test that herit is defined

[06:58:45.0000] <darobin>
I think that when I get around to this I'll rewrite without PEG — it'll make for something faster, too

[07:00:47.0000] <AryehGregor>
typeof herit == "undefined" seems to break things in weird ways.

[07:05:45.0000] <zcorpan>
divya: replied

[07:06:13.0000] <divya>
thanks zcorpan !!

[07:07:11.0000] <darobin>
AryehGregor: I'm doing something else at this second, but the way I've tracked these things down before has been to look at the generated code to see why it's weird

[07:07:33.0000] <AryehGregor>
I looked, and didn't see any mention of the label.

[07:07:40.0000] <AryehGregor>
In the code.

[07:07:45.0000] <AryehGregor>
But this way works, so good enough for me.

[07:08:04.0000] <darobin>
if it works, then great

[07:19:30.0000] <annevk>
Is it time to admit defeat on initCustomEvent?

[07:19:31.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=15259

[07:27:28.0000] <annevk>
so I want to add new Document()

[07:27:53.0000] <annevk>
but the age-old what argument is it going to take thing pops up

[07:28:19.0000] <annevk>
I guess I'll just add it without argument and then let people debate that bit :)

[07:31:23.0000] <zcorpan>
divya: i forgot to mention that web developers of course can opt to not rely on flash or java for any functionality

[07:42:18.0000] <annevk>
jQuery also calls it timeStamp

[07:56:25.0000] <jgraham>
I hate mercurial

[07:56:42.0000] <jgraham>
/me again trys to work out how do squash a few changesets together

[08:09:19.0000] <jgraham>
Oh Sweet Jesus

[08:09:31.0000] <jgraham>
So I just tried to use hg histedit to do this

[08:09:39.0000] <jgraham>
and it deleted all the files

[08:46:24.0000] <marcosc_>
Question: with the img@srcset attribute, it's not clear to me how commas are handled in a candidate image string's path, fragment, and query. Like, for example: <img srcset="generate.php?x=1,w,x23&title=hello, generate.php?y=3,32,23&title=hello x2">

[08:51:31.0000] <annevk>
Ms2ger: http://dom.spec.whatwg.org/#dom-document

[08:55:53.0000] <zewt>
marcosc_: at least one descriptor always exists; the space between the url and the descriptor ends the url

[08:56:26.0000] <zewt>
see http://www.whatwg.org/specs/web-apps/current-work/#processing-the-image-candidates for particulars

[08:57:10.0000] <tantek>
jgraham does hg have a "-undo" option?

[08:57:33.0000] <marcosc_>
zewt: thanks

[08:57:47.0000] <jgraham>
tantek: It turned out that the files were still in history

[08:57:57.0000] <jgraham>
But it had made a commit that deleted them

[08:58:05.0000] <zewt>
heh, when I'm using git I make wholesale cp -a backups a lot

[08:58:25.0000] <jgraham>
and then refused to do anything else, possibly because I was in a path that no longer existed

[08:58:48.0000] <jgraham>
In the end I managed to invoke some mq magic to do what I needed

[08:59:09.0000] <jgraham>
But it realy does seem like everything slightly advanced is a minefield in mercurial

[09:22:09.0000] <marcosc_>
annevk, are you still maintaining: http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html ?

[09:22:31.0000] <Ms2ger>
marcosc_, no, we edit dom.spec.whatwg.org now

[09:22:56.0000] <marcosc_>
Ms2ger: ok, cool. Maybe add a note to the W3C one :)

[09:26:32.0000] <annevk>
marcosc_: https://twitter.com/annevk/status/250503261138849792

[09:27:06.0000] <annevk>
(took me longer to find that tweet to not repeat myself than it would be to just answer...)

[09:27:40.0000] <annevk>
marcosc_: yeah, Ms2ger, if you can add that note; I guess you're still allowed

[09:28:07.0000] <annevk>
marcosc_: fwiw, https://dvcs.w3.org/hg/url/raw-file/tip/Overview.html

[09:28:12.0000] <annevk>
marcosc_: has happened before

[09:28:28.0000] <marcosc_>
exactly like that would be awesome

[09:28:33.0000] <annevk>
it's not gonna be me

[09:28:45.0000] <Ms2ger>
<title class="now3c">Moved</title>

[09:56:38.0000] <AryehGregor>
annevk, how do you test what the name of an encoding should be?  I get "UTF-8" for document.characterSet in Gecko/WebKit, and seemingly "utf-8" in Opera (except in a different test it returns the empty string), and "unicode" in IE.

[09:56:56.0000] <AryehGregor>
Spec seems to suggest "utf-8"; "UTF-8" seems like it makes more sense.

[09:57:05.0000] <AryehGregor>
(if that's the data source you're using)

[09:57:24.0000] <annevk>
AryehGregor: the spec does indeed suggest all lowercase

[09:57:34.0000] <AryehGregor>
Any reason for that, given existing browsers' behavior?

[09:57:54.0000] <annevk>
AryehGregor: hope we could make that work?

[09:58:09.0000] <AryehGregor>
Why is it worth it?  Just go with uppercase.

[09:58:10.0000] <annevk>
AryehGregor: string identifiers are always lowercase

[09:58:21.0000] <AryehGregor>
Well, it's an acronym.

[09:58:24.0000] <AryehGregor>
Also: tagName.

[09:58:26.0000] <annevk>
AryehGregor: well not all is uppercase I think; e.g. windows-1252 would be Windows-1252 or some such

[09:58:31.0000] <AryehGregor>
Probably.

[09:58:40.0000] <annevk>
AryehGregor: tagName is obsoleted with localName

[09:59:02.0000] <annevk>
anyway, I don't feel that strongly and am taking patches or suggested renaming if you think that'll be better

[09:59:09.0000] <annevk>
could you please file a bug?

[09:59:23.0000] <AryehGregor>
I just don't want to write tests for a spec that needlessly doesn't match browsers.  I'm not testing the whole spec, but I want some test or other for .characterSet in some DOM tests I'm writing right now.

[09:59:23.0000] <AryehGregor>
Sure.

[09:59:56.0000] <AryehGregor>
Where?  I don't see an Encoding component in the W3C Bugzilla.

[10:00:07.0000] <annevk>
is it not under WHATWG?

[10:00:14.0000] <AryehGregor>
Oh, I see.

[10:00:21.0000] <annevk>
it's linked from the spec too I think

[10:00:30.0000] <annevk>
you're reading http://encoding.spec.whatwg.org/ right?

[10:00:42.0000] <annevk>
gotta go

[10:00:44.0000] <AryehGregor>
Yeah.

[10:10:53.0000] <annevk>
AryehGregor: ah, so you're not gonna test all of them?

[10:12:59.0000] <annevk>
TabAtkins: your twitter handle makes me laugh every time

[10:22:19.0000] <arv>
annevk: I'm implementing MutationObservers based on the spec and generally everything works and matches Gecko and WebKit. However, there is one issue. When appending a record to the queue both Gecko and WebKit replaces the last record if it represents the same mutation and the new record has an oldValue.

[10:23:10.0000] <annevk>
how does that happen?

[10:23:44.0000] <annevk>
also, a bug + changes requested would be a big help, not gonna be able to do much more today

[10:23:59.0000] <arv>
annevk: OK. I'll file a bug with a test case

[10:24:15.0000] <annevk>
thanks arv!

[10:27:55.0000] <AryehGregor>
annevk, I'd be happy to test all of them.  I can write a little harness that uses a simple data structure for all the encoding maps that you can keep updated along with the spec.

[10:27:58.0000] <AryehGregor>
It's just not what I was testing just now.

[10:28:19.0000] <AryehGregor>
(I was doing simple tests on properties of Node and its various derived interfaces.)

[10:29:44.0000] <annevk>
that sounds sweet

[10:30:04.0000] <annevk>
I saw hsivonen might do some work on encodings too for Gecko

[10:31:22.0000] <annevk>
I'm happy to help out too btw, getting browsers aligned on byte -> code point mapping would be a great improvement

[10:38:26.0000] <Ms2ger>
/me tries to remember what he was trying to fix about NoInterfaceObject

[10:55:37.0000] <Ms2ger>
Huh

[10:55:40.0000] <Ms2ger>
AryehGregor, yt?

[10:55:44.0000] <AryehGregor>
Ms2ger, yep.

[10:55:49.0000] <AryehGregor>
(probably not for too much longer, though)

[10:56:45.0000] <Ms2ger>
I'm looking at IdlInterface.prototype.test_self

[10:56:51.0000] <AryehGregor>
Okay.

[10:57:06.0000] <Ms2ger>
Oh

[10:57:44.0000] <Ms2ger>
I thought you were testing Object.getOwnPropertyDescriptor(window, this.name) twice

[10:58:02.0000] <Ms2ger>
But the other one was for Object.getOwnPropertyDescriptor(window[this.name], "prototype")

[10:59:08.0000] <Ms2ger>
Might be nice if we could make those asserts a little less verbose

[10:59:25.0000] <AryehGregor>
Like a wrapper of some type, yeah.

[11:02:20.0000] <AryehGregor>
It could also do more rigorous tests, like actually trying to write and seeing if it succeeds.

[11:06:51.0000] <Ms2ger>
Yeah, but that'll need more code to (try to) revert the changes

[14:31:36.0000] <annevk>
karlcow: I would have expected you to describe http://lists.w3.org/Archives/Public/www-tag/2012Oct/0063 as beautiful, not ironic, since you like crazy stuff

[14:33:14.0000] <karlcow>
what is amazing in that email is the misguided labeling and rudeness. Like the person being ballistic on me on really the wrong person.

[14:33:30.0000] <karlcow>
I don't get it

[14:33:39.0000] <annevk>
going ballistic on people is generally best avoided

[14:35:07.0000] <annevk>
karlcow: I also love how he transforms <i> to <em> and apparently considers himself an expert :-)

[14:35:11.0000] <karlcow>
double irony when I have managed my own entire Web site for a few years with XHTML 1.0 + XSLT

[14:36:21.0000] <Hixie>
wow, why did i follow that link

[14:36:49.0000] <annevk>
Hixie: dude www-tag should give you a hint

[14:36:50.0000] <Hixie>
i could have gone my day happily ignorant that www-tag is still discussing stuff that we resolved ten years ago

[14:38:43.0000] <karlcow>
"working at w3c I was an XML evil lover, now working at Opera I'm an XML hater". Some humans make me sad. Boxes, labels, and stuff. Ah yes I should add my RDF label for some others too.

[14:40:01.0000] <annevk>
@opera.com -> must be a WHATWG XML-hating fanboy is indeed kinda nonsense, but you do hang out here ;-)

[14:40:25.0000] <Hixie>
yeah i love the assumption that whatwg = xml-hating

[14:40:29.0000] <Hixie>
seems to rather miss the point

[14:40:33.0000] <annevk>
the other thing with that kind of stuff is that often the people here know much more about XML and how it works for web sites / browsers than any of those complaining

[14:40:53.0000] <karlcow>
annevk: I hang out on #swig too, aka Semantic Web Interest Group

[14:41:09.0000] <Hixie>
i take it this latest spat started because of the url spec work?

[14:41:24.0000] <karlcow>
I'm the evil evil evil, all sins in one cow ;)

[14:41:31.0000] <annevk>
Hixie: maybe, I saw a few tweets, but www-tag thinks URL spec work is inside the HTML spec...

[14:41:51.0000] <Hixie>
o_O

[14:41:58.0000] <Hixie>
if they wanted to do the url work, they had plenty of time

[14:42:08.0000] <Hixie>
it's not like either you or me actually wants to do it

[14:42:22.0000] <annevk>
in fact they can still do it if they want to :-)

[14:42:34.0000] <annevk>
I don't really care, I just wanna fix problems

[14:42:39.0000] <Hixie>
hear hear

[14:43:01.0000] <zewt>
i hate xml, but i do have my reasons :)

[14:43:09.0000] <zewt>
does this mean i can get a job at opera?

[14:43:15.0000] <karlcow>
ahaha

[14:43:29.0000] <zewt>
i guess the association is one-way :(

[14:43:50.0000] <annevk>
zewt: if you're serious I think you'd have a good chance of getting a job, but they might ask you to move

[14:44:09.0000] <karlcow>
zewt: I do not think it is a requirement, my cover letter/resume was xhtml 1.1 served as application/xhtml+xml ;)

[14:44:11.0000] <zewt>
heh, i moved for my current job, i'll give it a chance first :P

[14:44:21.0000] <karlcow>
zewt: http://www.opera.com/company/jobs/

[14:44:30.0000] <annevk>
zewt: anyone with above average standards knowledge is a serious candidate for sure

[14:45:01.0000] <zewt>
"above average" sure sounds like "any whatsoever"

[14:45:15.0000] <annevk>
after I hit enter I realised that was kinda vague

[14:45:21.0000] <annevk>
but I'm pretty sure you fit the criteria

[14:45:34.0000] <zewt>
which after years of most specs being IETF-style walls of descriptive text, is a bit understandable

[14:47:11.0000] <zewt>
man, google docs spreadsheets is nearly unusable in FF

[14:48:58.0000] <annevk>
What I meant to say is people knowledgable enough about complex algorithms in standards and can comment on them to the extent they need to be changed are sure employee candidates for browser vendors

[14:50:05.0000] <zewt>
personally I see "complex algorithms in standards" and "complex algorithms in code" as the same thing

[14:50:49.0000] <TabAtkins>
they are

[14:50:54.0000] <annevk>
Sure, but you need to have an interest in standards to comment on the former, which is kinda important

[14:52:57.0000] <zewt>
also in "complex algorithms" (but in my opinion, people who can't do that picked the wrong field)

[14:54:07.0000] <annevk>
heh yeah

[14:54:44.0000] <annevk>
it's just that complex algorithms is much broader; getting complex algorithms to work the same in n implementations is somewhat different problem

[14:54:49.0000] <annevk>
and not for everyone

[14:56:24.0000] <zewt>
there's also sort of a "web mindset" that you have to be able to see, i suppose in the same way that some people understand the security mindset and some don't

[14:56:41.0000] <annevk>
heh, I love and TabAtkins and Hixie speculate and ask respectively about upcoming Google products

[14:56:50.0000] <annevk>
s/and/how/

[14:57:11.0000] <TabAtkins>
Hahaha, yes.

[14:57:32.0000] <annevk>
reading http://www.w3.org/TR/html-design-principles/ without saying WTWTF all the time also helps

[14:57:41.0000] <Hixie>
I was asking about _current_ displays, not speculation :-)

[15:01:27.0000] <tantek>
Hixie, current displays, you mean something like http://thereisnofold.com/ ?

[15:02:41.0000] <Hixie>
I mean whatever Mark was referring to in http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Oct/0073.html

[15:02:49.0000] <tantek>
btw: re: XSLT - I tend to avoid using/creating/modifying it, but it (combined with a Tidy pre-processing step) has been quite good at keeping the production-dependent h2vx.com service going (based on X2V) that people use to convert hCards to vCards and hCalendar to iCalendar.

[15:03:11.0000] <othermaciej>
what about current displays?

[15:03:35.0000] <tantek>
physical pixel density, sure

[15:03:59.0000] <tantek>
3x density displays, sure is faster than printing things to test stuff ;)

[15:04:17.0000] <othermaciej>
there are definitely devices with more than 3x96 dpi

[15:04:21.0000] <othermaciej>
the iPhone 5 is one

[15:04:34.0000] <othermaciej>
but I don't think there are any that out of the box run with 3x scaling of the UI

[15:04:41.0000] <tantek>
Hixie, best part of that email, the footer "This electronic mail message may contain confidential and privileged information from HI Corporation. If you are not the intended recipient, any disclosure, photocopying, distribution or use of the contents of the received information is prohibited." - yeah, on an archive, nice.

[15:04:42.0000] <Hixie>
that's what matters

[15:05:12.0000] <othermaciej>
(and css pixel scaling is generally based on ui scaling, not literally dividing the physical DPI by 96, which is why use of CSS DPI is generally more confusing than informative)

[15:06:41.0000] <Hixie>
yeah i try to use "device pixels per CSS pixels"

[15:06:46.0000] <annevk>
isn't CSS dpi these days dependent on how you define CSS px?

[15:07:04.0000] <othermaciej>
CSS dpi is 96 by definition

[15:07:27.0000] <Hixie>
i don't know what "CSS dpi" is

[15:07:32.0000] <othermaciej>
wait, it's 96 times the scale factor

[15:07:36.0000] <othermaciej>
I always confuse myself

[15:07:39.0000] <othermaciej>
CSS has a "dpi" unit

[15:07:54.0000] <Hixie>
oh, that

[15:07:56.0000] <Hixie>
who uses that

[15:07:57.0000] <othermaciej>
it's 96 times dppx which is "device pixels per css pixel"

[15:08:18.0000] <Hixie>
"device pixels per CSS pixel" is what matters

[15:08:20.0000] <othermaciej>
other than the css wg? probably no one

[15:08:27.0000] <Hixie>
and so far, excluding zoom, it seems to be either 1 or 2.

[15:08:41.0000] <annevk>
what's the opposite of <3? !<3? that's kinda how I feel about dppx

[15:09:09.0000] <Hixie>
</3

[15:09:36.0000] <othermaciej>
it's certainly a hideous unit name

[15:09:55.0000] <TabAtkins>
That's why Images 4 has the 'x' unit which means the same thing. ^_^

[15:10:26.0000] <fantasai>
othermaciej: It went through LC twice. Why u not complain earlier? :)

[15:10:27.0000] <annevk>
you and your aliases

[15:10:46.0000] <othermaciej>
fantasai: I have complained many times, and I don't need to have another conversation with the hand

[15:11:15.0000] <Hixie>
/me wonders what going through LC has to do with anything :-P

[15:11:21.0000] <fantasai>
we asked for comments

[15:11:26.0000] <fantasai>
nobody sent any on the name of the unit

[15:11:30.0000] <Hixie>
do you not ask for comments at other times? :-)

[15:11:37.0000] <annevk>
Hixie: it's a thing the W3C has where they think stuff is stable but it really isn't

[15:11:40.0000] <mkanat>
"Mr Dent, you realize the plans have been available...."

[15:11:44.0000] <Hixie>
annevk: how quaint

[15:12:08.0000] <fantasai>
Hixie: sure, we asked for comments before that too

[15:12:13.0000] <fantasai>
Hixie: but nobody sent any

[15:12:16.0000] <Hixie>
but not after? :-)

[15:12:27.0000] <othermaciej>
here is one example of someone complaining about the 'dppx' unit name: http://lists.w3.org/Archives/Public/www-style/2012Apr/0685.html

[15:12:41.0000] <othermaciej>
(w/ more on that same thread IIRC)

[15:12:55.0000] <annevk>
I like your use of "someone"

[15:13:04.0000] <Hixie>
here's another: http://lists.w3.org/Archives/Public/www-style/2012May/0915.html

[15:13:17.0000] <othermaciej>
I don't know if that was before or after Last Call but I did not get the impression that the CSS WG wanted me to make the same comment over and over

[15:13:19.0000] <Hixie>
starts with "There's been a decent bit of feedback recently about the 'dppx'" and is written by a WG member

[15:13:27.0000] <fantasai>
othermaciej: that was after

[15:14:33.0000] <annevk>
one of my problems with the CSS WG is that they adhere to da Process so much they get stuck up in it

[15:14:46.0000] <annevk>
e.g. one of those emails cites Process concerns

[15:14:49.0000] <annevk>
as if they fricking matter

[15:14:52.0000] <Hixie>
http://lists.w3.org/Archives/Public/www-style/2011May/0560.html "Plus, 'dppx' is a hard unit to pronounce", May 2011

[15:15:11.0000] <Hixie>
presumably may 2011 is before the point at which you stopped asking for comments

[15:15:20.0000] <othermaciej>
both those specific comments were followed up by a bunch of discussion

[15:15:24.0000] <annevk>
what matters is a) has it shipped and b) does content depend on it

[15:15:34.0000] <TabAtkins>
Ignoring all of this, I've addressed it in the newest draft.

[15:15:36.0000] <Hixie>
annevk++

[15:15:38.0000] <othermaciej>
so I think if the CSS WG chose not to take action on them, that is due to the CSS WG, not because "nobody sent any"

[15:17:40.0000] <Hixie>
(btw, this kind of thing is one reason why i guarantee that i'll respond to all substantial feedback on the whatwg list: so i can't miss any)

[15:17:42.0000] <fantasai>
Hixie: It is, and I missed that as being something to act on

[15:17:46.0000] <othermaciej>
TabAtkins: don't see anything in <http://dev.w3.org/csswg/css3-values/#resolution> (though I do see an issue marker for a context-specific alias of 'x' in <http://dev.w3.org/csswg/css4-images/>)

[15:18:07.0000] <TabAtkins>
othermaciej: That's what I meant by "latest draft".

[15:18:10.0000] <fantasai>
Hixie: I took that comment as "should this unit exist", and the answer was "yes, it's useful to have that functionality"

[15:18:23.0000] <TabAtkins>
I haven't worked on Images 4 enough to push that out of an issue and into normative text.

[15:18:45.0000] <Hixie>
fantasai: anyway, has it shipped and been used by anyone yet?

[15:19:03.0000] <othermaciej>
TabAtkins: that does save you from having to use 'dppx' in one context, though not in the 'resolution:' media query which was my original complaint as linked above

[15:19:06.0000] <Hixie>
fantasai: if not, then it's not too late to fix

[15:19:31.0000] <fantasai>
Hixie: Given the commenter there is an editor of the relevant drafts, though, and is able to raise issues and resolve issues on his own, I guess it wasn't seen as important enough to do something about at the time

[15:19:31.0000] <othermaciej>
technically a WG is required to give a substantive response to all comments at every point from LC onward

[15:19:36.0000] <fantasai>
Hixie: It's been shipped, I believe

[15:19:53.0000] <fantasai>
Hixie: Not sure about whether it's in release builds yet

[15:20:42.0000] <TabAtkins>
othermaciej: Once we get 'x' as a unit, it'll be usable in the 'resolution' MQ too.

[15:20:56.0000] <othermaciej>
not clear to me if the CSS WG has given a substantive reply to my comment on 'dppx'

[15:20:56.0000] <Hixie>
fantasai: so no content is relying on it?

[15:21:08.0000] <othermaciej>
TabAtkins: is the plan to add it to units & values rather than to images?

[15:21:18.0000] <othermaciej>
TabAtkins: if so, the issue marker is in the wrong place, no?

[15:21:20.0000] <tantek>
http://memegenerator.net/instance/28084024

[15:21:43.0000] <fantasai>
Hixie: Probably not much

[15:21:58.0000] <TabAtkins>
othermaciej: It's there because the relevant thing *introducing* the unit is image-set(), and specifically WebKit's implementation fo it.

[15:22:09.0000] <Hixie>
fantasai: so then just fix it already :-P

[15:22:37.0000] <othermaciej>
TabAtkins: is it actually the plan to add it to Units & Values though? (I care more about the actual result than the process niceties here)

[15:22:52.0000] <TabAtkins>
Yeah, once we agree to *have* it, it'll move to V&U.

[15:23:58.0000] <Hixie>
tantek: http://imgflip.com/i/4e3k

[15:25:47.0000] <Hixie>
tantek: http://imgflip.com/i/4e3o

[15:25:59.0000] <hober>
some more comments in the general area, http://lists.w3.org/Archives/Public/www-style/2012May/0409.html and http://lists.w3.org/Archives/Public/www-style/2012Apr/0674.html

[15:26:10.0000] <fantasai>
Hixie: I can't make substantive changes to a spec that's in CR without CSSWG approval, especially for something that's implemented and will require a change to those implementations. We can raise it as an issue, but it doesn't mean the WG will agree to change. Seems unlikely given it's "bikeshedding".

[15:26:18.0000] <Hixie>
hahaha

[15:26:19.0000] <fantasai>
Hixie: But Tab's super excited about the 'x' unit, so maybe he can convince them :)

[15:26:31.0000] <Hixie>
fantasai: http://imgflip.com/i/4e3o

[15:27:05.0000] <Hixie>
i was going to add a second line to this one, but really it stands alone even with just the top line: http://imgflip.com/i/4e3w

[15:27:06.0000] <TabAtkins>
Really, we can only do that if we're willing to publish the draft outside of CSSWG space.

[15:27:21.0000] <zewt>
gah, why is the bug tracker sending notification emails in a fixed-width font; that's just wrong

[15:27:25.0000] <TabAtkins>
Which, sure, possible, but annoying.

[15:27:48.0000] <hober>
tantek Hixie: those are all good w3cmemes candidates...

[15:28:46.0000] <Hixie>
TabAtkins: if the only way you can fix a spec is by not publishing it through the csswg, one wonders why one would ever consider publishing it through the csswg in the first place

[15:29:07.0000] <TabAtkins>
Because it's rarely a problem, and useful in many other ways?

[15:31:00.0000] <Hixie>
hober: done :-P

[15:31:13.0000] <Hixie>
though i was enjoying the previous one

[15:31:22.0000] <Hixie>
(http://w3cmemes.tumblr.com/image/32354094056)

[15:33:11.0000] <Hixie>
hober: (we have a dupe! cleanup on aisle 5!)

[15:34:36.0000] <tantek>
Hixie, the multi-attachement posts break the flow of tumblr

[15:34:43.0000] <tantek>
attachment event

[15:34:44.0000] <tantek>
even*

[15:34:59.0000] <Hixie>
actually i thought it worked kinda well, since they were related

[15:35:16.0000] <Hixie>
though the cropping on insanity wolf was unfortunate

[15:35:18.0000] <tantek>
the linear series works well

[15:35:27.0000] <tantek>
where you can see the back/forth in the flow :)

[15:35:47.0000] <tantek>
presumably someone here has http://whatwgmemes.tumblr.com/ ?

[15:35:57.0000] <Hixie>
there's very little "back and forth" on w3cmemes :-P

[15:35:59.0000] <tantek>
Hixie, the The Office one belongs there

[15:36:09.0000] <Hixie>
it's mostly just f"orth" :-P

[15:36:10.0000] <tantek>
need more back forth on w3cmemes ;)

[15:36:11.0000] <Hixie>
er

[15:36:14.0000] <Hixie>
"forth"

[15:36:15.0000] <tantek>
mostly it's back

[15:36:27.0000] <tantek>
if it was forth, the tumblr wouldn't exist

[15:36:31.0000] <Hixie>
whichever is "bitching" :-P

[15:37:07.0000] <Hixie>
seriously though, i am finding it unbelieveable that even now the csswg can't fix a mistake that hasn't shipped yet, for purely process reasons

[15:37:10.0000] <Hixie>
that's such BS

[15:37:32.0000] <Hixie>
this is the kind of crap that the AB never believes me about

[15:37:33.0000] <tantek>
I thought it had shipped (implementations) ?

[15:37:45.0000] <tantek>
or is this a different kind of "shipped"?

[15:38:26.0000] <tantek>
even if it has "shipped", we should still be able to fix things that are mere aliasing like that. that's what deprecation is for ;)

[15:38:47.0000] <Hixie>
unless there's content depending on dppx, it can just be dropped or renamed

[15:45:36.0000] <smaug____>
hmm, what has w3 done to their bugzilla

[15:45:42.0000] <smaug____>
bugmail looks odd

[15:46:24.0000] <smaug____>
odd == unreadable

[15:46:42.0000] <smaug____>
shepazu: do you happen to know

[15:46:49.0000] <Hixie>
they just did an upgrade

[15:46:57.0000] <Hixie>
but i don't see any differences with my textmode client...

[15:47:06.0000] <smaug____>
I sure don't get that kind of bugmail from Moz bugzilla

[15:47:23.0000] <smaug____>
and I think Mozilla is using the latest bugzilla release

[15:47:29.0000] <Hixie>
oh it looks like they turned on html mail?

[15:47:39.0000] <smaug____>
I guess so

[15:47:45.0000] <smaug____>
really annoying

[15:54:57.0000] <Hixie>
damnit, bugzilla changed in a way that broke my scripts

[15:55:23.0000] <TabAtkins>
Hixie: It has shipped, though content dependent on it is likely verly low.

[15:55:24.0000] <tantek>
scrapers gonna scrape

[15:57:15.0000] <Hixie>
TabAtkins: that isn't what you and fantasai said before, before you just said the process wouldn't let you fix it in the wg.

[15:57:38.0000] <Hixie>
ew, the summaries are links now

[15:57:43.0000] <Hixie>
in search results

[15:57:51.0000] <Hixie>
way to make things unreadable

[15:58:04.0000] <Hixie>
ROFL

[15:58:08.0000] <Hixie>
merge conflict on the search page

[15:58:23.0000] <shepazu>
smaug____: ugh

[15:58:36.0000] <shepazu>
I'll ask them to change that...

[15:59:03.0000] <Hixie>
shepazu: while you're at it, the search page (advanced) has a visible merge conflict

[15:59:34.0000] <shepazu>
Hixie: thanks, I'll relay that

[15:59:43.0000] <Hixie>
thanks

[16:00:12.0000] <shepazu>
hope it'll be fixed soon

[16:00:17.0000] <shepazu>
sorry for the hassle

[16:00:44.0000] <Hixie>
no hassle, search works fine

[16:00:47.0000] <Hixie>
just looks ugly :-)

[16:02:59.0000] <hober>
Hixie tantek: deduped

[16:13:37.0000] <hober>
shepazu: where is the bugzilla preference to switch from html email to plain text?

[16:16:20.0000] <shepazu>
hober: excellent question

[16:16:29.0000] <shepazu>
ask smaug____

[16:18:00.0000] <smaug____>
hober: ah

[16:18:01.0000] <smaug____>
hmm

[16:18:22.0000] <smaug____>
but w3 did change something very recently

[16:18:39.0000] <smaug____>
and they have some default no other bugzilla has

[16:19:04.0000] <hober>
shepazu: while i have your attention, did you see my request in #webplatform?

[16:19:05.0000] <smaug____>
at least not bmo nor bwo

[16:19:39.0000] <shepazu>
hober: I missed it

[16:19:44.0000] <shepazu>
what is it?

[16:22:38.0000] <hober>
shepazu: could you remove the <a> element around Apple in the list on webplatform.org/stewards/? Alternately, it could link to apple.com.

[16:24:35.0000] <shepazu>
hober: I can add a link...

[16:24:47.0000] <shepazu>
I need the <a> for the CSS

[16:26:43.0000] <shepazu>
smaug____, hober, Hixie, sent an email to sysreq

[16:32:15.0000] <smaug____>
shepazu: thanks

[16:34:47.0000] <othermaciej>
reading w3cmemes makes me alternately lol and cringe in shame

[16:35:49.0000] <cabanier>
smfr: I have a patch for CG blending: https://bugs.webkit.org/show_bug.cgi?id=98450

[16:35:57.0000] <tantek>
"I need the <a> for the CSS" - LOL. And this is why stubbornella advocates styling classes, not elements.

[16:36:10.0000] <cabanier>
smfr: my problem yesterday was a silly typo

[16:36:36.0000] <tantek>
othermaciej, the joker one is gold

[16:43:11.0000] <othermaciej>
this one is all "defensive, much?" http://w3cmemes.tumblr.com/post/29103302932

[16:43:42.0000] <othermaciej>
(in response to http://w3cmemes.tumblr.com/post/29085196102/disaster-girl-has-an-interesting-take-on-the )

[16:43:58.0000] <hober>
heh

[16:44:18.0000] <hober>
yes, even the shady cabal behind w3cmemes have differences of opinion from time to time :)


2012-10-10
[17:30:22.0000] <tantek>
othermaciej - the original web intents w3cmeme: http://w3cmemes.tumblr.com/post/22399681762 (though I suppose it could apply to any number of features proposed by first-time web platform feature requesters ;) )

[17:44:37.0000] <grom358>
ah... so looking at the UTF-8 2.4 section it says to replace overlong forms with U+FFFD

[17:45:17.0000] <grom358>
and I'm wondering.. is overlong form pretty much whenever you have 80 bytes at the start of the sequence

[18:25:42.0000] <othermaciej>
hober: I made a bad mistake and decided to read that whole www-tag thread

[18:37:45.0000] <smaug____>
/me just gives up w3 bugmail for now. They are totally unreadable

[18:37:52.0000] <smaug____>
shepazu: ^

[18:38:22.0000] <shepazu>
smaug____: I've filed a bug… sorry about that...

[18:39:08.0000] <smaug____>
shepazu: do you have the bug# ?

[18:39:37.0000] <shepazu>
smaug____: sysreq doesn't use bugzilla...

[19:40:48.0000] <Hixie>
weird

[19:41:10.0000] <Hixie>
there seems to be a higher proportion of crazy bugs filed using the form on the /TR/ specs than on the whatwg ones

[19:56:01.0000] <shepazu>
http://www.bugzilla.org/releases/4.2/release-notes.html#v42_feat_email

[20:58:43.0000] <karlcow>
Hixie higher proportion for spam? → Google karma ?

[00:22:28.0000] <jgraham>
Sigh. Can someone tell sicking to lay off the flamebait

[00:26:34.0000] <annevk>
“I wish to not be involved in threads regarding the W3C process any more.” hear hear

[00:28:25.0000] <annevk>
hober: maybe clean up @w3cmemes a bit?

[00:28:37.0000] <jgraham>
annevk: Link?

[00:28:39.0000] <annevk>
or maybe it doesn't matter much

[00:29:00.0000] <annevk>
my inbox, but also http://lists.w3.org/Archives/Public/www-archive/2012Oct/0012.html it seems

[00:29:18.0000] <hsivonen>
jgraham: link?

[00:31:00.0000] <annevk>
http://i.qkme.me/3p5tkf.jpg

[00:31:17.0000] <jgraham>
hsivonen: On dev.mozilla.platform. I have no idea how to link to it

[00:31:40.0000] <annevk>
google groups of course

[00:31:52.0000] <jgraham>
hsivonen: I guess I might have been being unfair, but it kind of read like "Opera people write crappy testsuites"

[00:32:04.0000] <jgraham>
annevk: How do I link to a specific post?

[00:32:56.0000] <annevk>
you mean like https://groups.google.com/d/msg/mozilla.dev.platform/AUJaVnuGFKI/q_giMS1einEJ ?

[00:33:08.0000] <annevk>
press some arrow on the side

[00:33:18.0000] <jgraham>
Ah

[00:33:26.0000] <hsivonen>
jgraham: I think you’ve heard the same feedback about the complexity of the harness from various Mozilla devs over the last couple of years

[00:34:03.0000] <hsivonen>
jgraham: if you want us to write to your harness instead of mochitest, proposing a harness that’s harder to use does not make it an easy sell

[00:34:55.0000] <jgraham>
hsivonen: Well mostly from you and sicking tbh

[00:35:03.0000] <jgraham>
But that's not the point

[00:36:07.0000] <jgraham>
The point is it's easier to work on some compromise if you don't write something that sounds like "their requirements aren't important and they write crappy tests ahyway"

[00:36:35.0000] <othermaciej>
annevk: not impressed with him saying that on a thread he started by invoking W3C process bs

[00:37:38.0000] <annevk>
othermaciej: you could see it as a positive, he learned something ;-), but sure

[00:38:26.0000] <hsivonen>
othermaciej: also poor form not to say a clear yes or no to a yes or no question

[00:38:49.0000] <hsivonen>
which isn’t a false dichotomy or trick question

[00:38:51.0000] <annevk>
personally I'm happy to talk to Jeff & co about W3C Process and more importantly copyright, but I suspect my changes of success are rather low

[00:39:02.0000] <annevk>
chances, even

[00:39:21.0000] <zcorpan>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=19311 oooh i want an html5 too!

[00:39:33.0000] <hsivonen>
annevk: the copyright stance of the W3C stinks

[00:40:21.0000] <ashemedai>
That's some nifty use of HTML5 there: http://www.drawtheline.org/

[00:40:28.0000] <othermaciej>
hsivonen: indeed, particularly when the answer could free him from being involved in further w3c process threads

[00:41:01.0000] <hsivonen>
annevk: after all, the W3C isn’t paying you

[00:41:37.0000] <othermaciej>
annevk: you might be able to get an audience with him and he is generally sensible in my experience

[00:42:08.0000] <annevk>
othermaciej: http://lists.w3.org/Archives/Public/www-archive/2012Oct/0008.html

[00:42:27.0000] <othermaciej>
I would personally greatly prefer for the w3c to use a permissive license for all its spec; indeed I can't think of any good reason not to

[00:42:37.0000] <othermaciej>
but continuing to press the point is frustrating

[00:43:21.0000] <othermaciej>
on the other hand, while it is arguably hypocritical for the w3c to deny forking of its own specs while making use of it, it is also poor form to publish something under a permissive license and then complain about people making use of the permissiveness

[00:44:08.0000] <othermaciej>
annevk: so my prediction about being able to meet with him was right, though it turns out to be a postdiction

[00:45:03.0000] <jgraham>
Not that poor form, really. Like the quote about free speech "I disapprove of what you say, but I will defend to the death your right to say it"

[00:45:17.0000] <annevk>
othermaciej: I think "we don't allow you to fork, but we're happy to fork you" is kinda silly too though

[00:45:51.0000] <annevk>
othermaciej: and I think mocking such a stance is fine, I don't think anyone is really complaining about it

[00:46:03.0000] <othermaciej>
I don't think Ms2ger is defending the w3c's right to fork to the death :-/

[00:46:11.0000] <annevk>
oh Ms2ger

[00:46:26.0000] <jgraham>
Well he is publishing under a license that allows it

[00:46:50.0000] <annevk>
thought you were talking about http://w3cmemes.tumblr.com/post/30399969240

[00:46:50.0000] <jgraham>
So he is. He might also be grumpy about the fact that they are taking the option :)

[00:46:55.0000] <othermaciej>
yeah but https://www.w3.org/Bugs/Public/show_bug.cgi?id=11204#c54

[00:47:10.0000] <othermaciej>
I can't argue with that particular meme

[00:47:39.0000] <annevk>
Ms2ger is just trolling

[00:47:54.0000] <annevk>
cannot really read what he wrote in that bug in any other way :-)

[00:48:52.0000] <othermaciej>
I know but it is trolling gone a bit too far (particularly since he already made his point on public-webapps)

[00:49:45.0000] <hsivonen>
othermaciej: in some cases, having license to fork is like having a credible army.

[00:50:18.0000] <hsivonen>
othermaciej: that is, it’s not something you are supposed to use, but the threat is supposed to make others behave reasonably.

[00:50:46.0000] <othermaciej>
I guess I may have a different perspective because webkit is probably one of the most forked projects ever and many forkers have never contributed back

[00:51:23.0000] <AryehGregor>
The W3C's position seems to be something like: We and other Established Standards Bodies should be the ones developing standards.  Therefore, if someone else writes some type of spec outside of an Established Standards Body, we're doing the world a favor by taking it over.  If we write a spec and some non-Established Standards Body tries to take it away from us, however, that's bad.

[00:51:28.0000] <othermaciej>
if I got upset about it I wouldn't have time to do real work (or chatter semi-pointlessly on irc)

[00:51:40.0000] <AryehGregor>
I don't agree with the position, but it's not hypocritical.

[00:51:47.0000] <AryehGregor>
Self-serving, yes.

[00:52:17.0000] <AryehGregor>
hsivonen, what people have objected to the complexity of testharness.js who have actually written a nontrivial number of tests in it?

[00:52:25.0000] <AryehGregor>
I've used it a lot, and mochitest, and they seem about equally easy to use.

[00:52:31.0000] <AryehGregor>
(although mochitest has more features, understandably)

[00:52:33.0000] <othermaciej>
I don't know if it's about Established per se; the W3C would not favor other Established bodies forking their specs either (unless through a delta spec, which they are totally cool with apparently)

[00:53:14.0000] <jgraham>
Yeah, in practice people fork W3C specs all over the place

[00:53:21.0000] <AryehGregor>
othermaciej, no, but they also don't generally fork specs that are already actively maintained by organizations like the IETF or ISO, do they?

[00:53:33.0000] <jgraham>
For practical definitions of "fork"

[00:53:54.0000] <othermaciej>
do the IETF or ISO have licenses that would permit doing so?

[00:53:59.0000] <jgraham>
Like "you can't implement W3C spec A and spec B in the same codebase and conform to both"

[00:54:01.0000] <AryehGregor>
Doubtful.

[00:54:05.0000] <othermaciej>
(as far as I am aware the answer is no)

[00:54:18.0000] <AryehGregor>
Delta specs are perhaps less objectionable because they inherently cannot supplant the original spec, and so they can't really take anything away from the original standards body.

[00:54:20.0000] <othermaciej>
so we don't have a natural experiment available to us

[00:54:35.0000] <jgraham>
(well, maybe there is usually some way you could e.g. by switching on some magic marker)

[00:55:21.0000] <jgraham>
AryehGregor: That's a very standards-body centric view

[00:55:26.0000] <AryehGregor>
Anyway, I don't think anyone at the W3C has said that forking specs is bad per se, only that other people shouldn't fork *their* specs.

[00:55:32.0000] <AryehGregor>
jgraham, what do you expect from a standards body?

[00:55:39.0000] <jgraham>
Well sure

[00:55:54.0000] <jgraham>
I'm just pointing out that it doesn't really make sense outside the echo chamber

[00:56:13.0000] <AryehGregor>
Member companies pay good money to be part of the W3C, they're not going to vote to allow forking specs they could have paid influence over.

[00:56:23.0000] <AryehGregor>
I don't think it doesn't make *sense*, it's just not true.

[00:56:28.0000] <AryehGregor>
At least for web stuff.

[00:56:42.0000] <jgraham>
Depends which Member companies

[00:56:49.0000] <AryehGregor>
Because mostly it's just a few organizations and they move really quickly and can change things easily.

[00:57:05.0000] <AryehGregor>
For, I dunno, electrical wiring standards, probably standards bodies are a lot more essential.

[00:57:20.0000] <othermaciej>
available evidence would indicate that most Members with an opinion do not favor allowing forking

[00:57:34.0000] <AryehGregor>
I think it's a quite clear majority, no?

[00:57:46.0000] <othermaciej>
(though the Members with opinion are not necessarily the ones contributing to the specs in question)

[00:57:56.0000] <jgraham>
Right, that was going to be my point

[00:58:11.0000] <AryehGregor>
I recall the result of the HTMLWG tally being roughly: members that heavily contribute to web standards mostly favor allowing forks, other members overwhelmingly oppose.

[00:58:12.0000] <jgraham>
I have no idea what the results of that vote were, because they are Super Secret

[00:58:37.0000] <AryehGregor>
There was a public-ish vote within the HTMLWG a few years ago.

[00:58:39.0000] <jgraham>
But yes, exactly, the people who care are the people that are least affected

[00:58:56.0000] <othermaciej>
HTML WG participants survey had very different results from the AC survey

[00:59:06.0000] <jgraham>
Which doesn't back up the theory that it's about having paid influence

[00:59:14.0000] <AryehGregor>
Yes, probably because it was so heavily weighted toward contributing organizations.

[00:59:56.0000] <AryehGregor>
jgraham, the organizations that write the spec control what it says anyway, so they don't need influence through the W3C.  The ones who don't only have influence through the W3C, and in fact the W3C is their only real way of having influence on the web platform.

[01:00:23.0000] <jgraham>
I suspect it's more about having a theoretical model of the guarantees that a standards body should provide, and a limited understanding of how stuff actually works in the case of the Web Platform

[01:01:56.0000] <othermaciej>
for those who can see Member stuff: https://www.w3.org/2002/09/wbs/33280/htmllicense2010/results

[01:02:00.0000] <AryehGregor>
Then why should they care either way?  What's their stake in it?  Some of these companies have no direct involvement in any part of things like HTML, so why should they bother even voicing an opinion?

[01:02:02.0000] <jgraham>
You get people saying things like "we need the standard to be stable so that we can deploy things to our multi-thousand seat intranet and then leave it alone for a decade"

[01:02:31.0000] <jgraham>
When of course there is no such guarantee

[01:02:41.0000] <AryehGregor>
othermaciej, didn't Sam do a breakdown by organization at the time?

[01:02:56.0000] <AryehGregor>
Oh, I'm thinking of a different vote.

[01:04:21.0000] <othermaciej>
this is the html wg survey: http://lists.w3.org/Archives/Public/public-html/2011May/0121.html

[01:05:21.0000] <othermaciej>
I believe w3c management refused to forward the results to the AC because the survey included licenses that allow forking

[01:09:11.0000] <AryehGregor>
Not much point in pestering the AC with things it already decided decisively.

[01:34:07.0000] <annevk>
if not for @BrendanEich I would have thought NaCl to be dead

[01:36:33.0000] <darobin>
AryehGregor: I would contend that the push to get the AC to agree to a fork-friendly license was poorly made last time around

[01:37:10.0000] <AryehGregor>
Maybe, but do you think they could realistically be convinced regardless?

[01:37:13.0000] <othermaciej>
darobin: I definitely agree with that - the w3c team did not frame it in a way that was likely to get a good reception

[01:37:17.0000] <darobin>
if people are interested in making a fork-friendly license happen, I think it's possible but it requires a will to make it happen through the AC, with a decent plan, and the energy to match

[01:37:46.0000] <darobin>
AryehGregor: I think there's a chance, but it should be driven from the floor, and open with strong political momentum

[01:38:13.0000] <darobin>
in other words, it would require an AC rep to organise a statement and come to the table with the goods already written up in a convincing fashion

[01:38:29.0000] <darobin>
someone would have to

[01:38:33.0000] <darobin>
1) draft a license

[01:38:38.0000] <darobin>
2) draft a statement of support

[01:38:48.0000] <darobin>
3) get as many supporters offline as possible to already sign off on it

[01:38:55.0000] <darobin>
and 4) *then* submit that package to the AC

[01:39:33.0000] <darobin>
AC votes don't typically involve the whole membership, so you don't need 200 members to carry the day on this

[01:40:16.0000] <darobin>
during the last attempt, at least two things went wrong IMHO

[01:40:24.0000] <darobin>
one is that it was pitched as an exception granted to the HTML WG

[01:40:54.0000] <darobin>
that's just bad politics, and it doesn't make sense to make changes for one WG — it should be a WG-level decision which license to use

[01:41:20.0000] <darobin>
and two much of the criticism levelled at the forkable options was that it wasn't clear whether they enabled forking or not

[01:41:32.0000] <darobin>
some of the votes against those cite that as the reason — which is a shame

[01:41:44.0000] <othermaciej>
I think pitching it as an exception was partly to make people less scared that it was changing how all WGs would work

[01:42:21.0000] <othermaciej>
it's possible this was counterproductive though

[01:42:23.0000] <darobin>
othermaciej: yeah, but a) the HTML WG triggers knee-jerk antagonistic reactions and b) it's unfair to other WGs

[01:42:41.0000] <othermaciej>
I personally would like all WGs to have the option

[01:42:54.0000] <annevk>
for those with access (hey darobin) you might to check how many members actually voted; it's fascinating how democrazy works

[01:43:00.0000] <othermaciej>
the way it was managed with the AC was not in any way in accordance with my preferences

[01:43:53.0000] <darobin>
annevk: well, votes are won by those who show up — nothing new there

[01:44:43.0000] <darobin>
so I guess my overall point here is: there's a shot at making this happen, but it can only happen from an organised action within the AC

[01:44:57.0000] <annevk>
here's a way to do it: "We're gonna do CC0 unless a two-third majority objects."

[01:45:16.0000] <annevk>
or you know, one-third would already cut it, or even less...

[01:45:21.0000] <darobin>
I'd be happy to sit down with whoever is interested to chat out the details at TPAC

[01:46:10.0000] <darobin>
annevk: nah, proposing a brutal vote like that will just backfire. Besides, there's no support in Process for such a modality

[01:47:30.0000] <othermaciej>
I don't even know what the official Process is for changing the W3C Document License or adding an alternative

[01:48:42.0000] <othermaciej>
as far as I can tell, the W3C Process and the W3C Membership Agreement both entitle the W3C to use whatever license it wants

[01:49:34.0000] <othermaciej>
(though oddly the membership agreement mentions the software license by name)

[01:51:05.0000] <othermaciej>
In fact, if you read the W3C Membership Agreement literally, it seems to require that all copyrightable materials produced by the w3c must be published under <http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231>

[01:51:07.0000] <othermaciej>
(IANAL)

[01:51:32.0000] <othermaciej>
"Specific exceptions may be made upon approval of the Director, with the advice of the Advisory Committee."

[01:52:20.0000] <darobin>
othermaciej: if the AC votes on changing that, then it becomes effective after the vote

[01:52:41.0000] <darobin>
my process point was that you can't introduce a 2/3rds majority rule out of the blue

[01:52:51.0000] <darobin>
you'd have to have a vote on that first, and then we're in process hell :)

[01:52:53.0000] <othermaciej>
yeah, but it seems like in principle the w3c is allowed to publish specs under the (GPL-compatible, forking-permitting) W3C Software License without consulting the AC at all

[01:53:05.0000] <darobin>
mmmmmm

[01:53:12.0000] <othermaciej>
in fact, publishing a spec under anything else (such as the W3C Document License) requires a Director exception

[01:53:26.0000] <othermaciej>
http://www.w3.org/2009/12/Member-Agreement

[01:53:49.0000] <AryehGregor>
I wonder how closely organizations are legally held to this sort of thing.

[01:54:03.0000] <darobin>
that would make for an interesting loophole; though if it's true it'll be a shitstorm to apply it :)

[01:54:15.0000] <othermaciej>
well, one could presume the Director is making an exception for each and every spec published

[01:54:36.0000] <othermaciej>
though I don't see the AC giving advice on each specific exception

[01:55:02.0000] <othermaciej>
seriously, read the "b. Ownership of Copyrights and Patents" section

[01:55:08.0000] <darobin>
/me reading

[01:55:19.0000] <othermaciej>
I should ask someone at w3c who is in the know whether the w3c believes they are in compliance with that section

[01:55:34.0000] <othermaciej>
(it is also possible that this membership agreement is not the operative one as it is labeled "draft")

[01:55:53.0000] <darobin>
wait, that document says ***DRAFT***

[01:56:29.0000] <annevk>
find me a Member Agreement that does not say DRAFT

[01:56:43.0000] <annevk>
could not find one last time

[01:56:46.0000] <othermaciej>
yes, but it it;s the latest version linked from here: http://www.w3.org/Consortium/Agreement/

[01:57:09.0000] <darobin>
ah I know

[01:57:19.0000] <darobin>
this is a draft contract — but it is the actual agreement

[01:57:32.0000] <darobin>
you remove the draft after parties have agreed to the content

[01:57:59.0000] <othermaciej>
the latest version that does not say DRAFT is here: <http://www.w3.org/2003/01/Member-Agreement> but it says it has been superseded by the 2005 version

[01:58:36.0000] <othermaciej>
(and it also has the bit about the w3c software license)

[01:58:58.0000] <annevk>
darobin: what is btw with W3C people and their tendency to suggest "lets discuss this at this later date" instead of actually fixing it?

[01:59:27.0000] <darobin>
annevk: have I done that?

[01:59:39.0000] <annevk>
you just said you're happy to discuss this at TPAC :-)

[02:02:11.0000] <darobin>
annevk: heh, fair enough :)

[02:02:42.0000] <darobin>
I was suggesting TPAC because it's pretty soon and that I'll have some time to devote to that then

[02:02:59.0000] <darobin>
but if you want to get the ball rolling for this, I'm happy to help you now

[02:03:19.0000] <darobin>
just now in a synchronous fashion because I have a bunch of other things to attend to

[02:03:23.0000] <darobin>
so email is fine!

[02:03:39.0000] <annevk>
not really sure how, and Jeff could only devote time to it around that time too

[02:04:08.0000] <annevk>
I was mostly curious about this postponing strategy, some managers at Opera did the same thing, even for particularly pressing issues

[02:04:31.0000] <annevk>
(not saying licensing is pressing)

[02:04:43.0000] <darobin>
I don't think anyone is deliberately postponing anything — in Jeff's case I don't want to speak for him but I suspect that he just wanted to chat with you f2f

[02:05:00.0000] <darobin>
in this case, if you have the time to devote to it, I reckon the first thing you need to do is select a licence

[02:05:05.0000] <darobin>
one that's reasonable and all

[02:05:48.0000] <darobin>
as part of the license, explain how it interacts with IP — it's important that members aren't scared of changing the patent policy just because a document is forkable

[02:05:58.0000] <darobin>
(that's possibly the hard part, you'll need a lawyer friend)

[02:06:18.0000] <darobin>
then draft a grandiose statement about how forking will save the world and is the future of the web

[02:06:21.0000] <darobin>
(and I mean that)

[02:06:39.0000] <darobin>
the sort of thing that companies would be proud to put their names at the bottom of

[02:06:47.0000] <darobin>
(if you draft I can help with the language)

[02:07:07.0000] <annevk>
ah, Date.now() and performance.now() are not at all compatible... :/

[02:07:17.0000] <darobin>
then we can start putting together a list of supporters

[02:07:43.0000] <darobin>
I don't have the bandwidth to lead on this (otherwise I'd be doing it) but I can help

[02:07:59.0000] <darobin>
I know the AC decently well :)

[02:08:46.0000] <annevk>
sounds like we need lawyers really :/

[02:10:57.0000] <darobin>
annevk: there are quite a few people here who work for companies that have lawyers — maybe one of them could help there

[02:11:09.0000] <darobin>
/me nails anne to the channel so he stops dropping out

[02:13:21.0000] <AryehGregor>
I wrote a mini essay for the HTMLWG vote, if anyone is interested.

[02:13:50.0000] <darobin>
AryehGregor: sure

[02:14:05.0000] <AryehGregor>
http://lists.w3.org/Archives/Public/www-archive/2011May/0008.html

[02:14:34.0000] <AryehGregor>
I doubt it's ideal for convincing anyone.

[02:14:58.0000] <AryehGregor>
Probably too long, and likely some of the points should be dropped or revised depending on the audience.

[02:15:18.0000] <AryehGregor>
Also, some parts are quite HTML5-specific.

[02:15:51.0000] <darobin>
I'll read that later today, thanks

[02:19:28.0000] <AryehGregor>
And the end could definitely use tightening up -- the last two paragraphs are tacked on.

[02:19:40.0000] <AryehGregor>
Possibly could use some more sources, too.

[02:25:29.0000] <Ms2ger>
AryehGregor, does http://pastebin.mozilla.org/1862848 look better to you?

[02:25:38.0000] <annevk>
darobin: sorry about that, was home -> cycle -> train (with tethering) -> walking -> with RobbertAtWork

[02:30:13.0000] <annevk>
darobin: I guess I should talk to tantek; he and Mozilla care

[02:30:15.0000] <AryehGregor>
Ms2ger, 1) FYI, the patch conflicts with a change I pushed a few hours ago.  this.inheritance is now this.base, which is either string or null.  Should be easy to fix.  2) Don't we have at least one other place already in the file where we try to figure out if an interface prototype object is correct?  I'd unify the checks into a helper function.  But that doesn't make the patch wrong, it could be done later.  At least add a TODO, though.  3)

[02:30:15.0000] <AryehGregor>
 Why did you move up the assert_class_string check?  Any specific reason?

[02:30:23.0000] <AryehGregor>
Other than that, LGTM.

[02:30:32.0000] <annevk>
hey look, it's Ms2ger

[02:30:45.0000] <Ms2ger>
Hi annevk :)

[02:30:46.0000] <annevk>
Ms2ger: going to add Event.systemTime later today

[02:30:48.0000] <Ms2ger>
Busy week :)

[02:31:19.0000] <AryehGregor>
If you want to push that, I'm fine with it.  Good catch.  I think that code can use more work, but I'm happy to be the one to do that.

[02:31:53.0000] <AryehGregor>
(we can really do all the same checks for NoInterfaceObject interface prototype objects as for any other interface prototype objects)

[02:32:07.0000] <AryehGregor>
(I didn't prioritize it because DOM doesn't contain any NoInterfaceObject -- right? -- and that's what I was focusing on)

[02:32:48.0000] <Ms2ger>
1) Yay, 2) don't immediately find one, 3) because I wanted the NoInterfaceObject mess to not get in the way :)

[02:32:55.0000] <Ms2ger>
Class starts, see you

[02:34:37.0000] <AryehGregor>
See you.

[02:42:51.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=19402#c0 I'm not even seeing the problem :-(

[02:43:25.0000] <annevk>
oh, I might now

[03:04:34.0000] <annevk>
wtf happened to W3C bugmail?

[03:04:39.0000] <annevk>
ow sorry

[03:04:42.0000] <annevk>
wtwtf happened

[03:05:04.0000] <darobin>
annevk: bugzilla has been upgraded

[03:05:23.0000] <darobin>
if you're seeing issues -> sysreq⊙wo is a good place to report

[03:10:08.0000] <annevk>
ta

[03:15:00.0000] <annevk_>
I think Nightly just froze my entire system

[03:22:02.0000] <hsivonen>
the W3C bugmail doesn’t look that bad to me

[03:22:15.0000] <hsivonen>
I think I even like the HTML table in place of the ASCII art table

[03:24:07.0000] <hsivonen>
darobin: who is ledahulevogyre?

[03:24:46.0000] <darobin>
hsivonen: some guy on Twitter — why?

[03:24:54.0000] <darobin>
with a cool nick I may add

[03:26:28.0000] <annevk>
anyone know where heycam is?

[03:26:32.0000] <hsivonen>
darobin: well, the nick looked like it might be your Twitter alter ego, but then I saw him comment on github, too

[03:26:57.0000] <darobin>
hsivonen: heh, no, I only go by one identity :)

[03:27:26.0000] <hsivonen>
darobin: since you follow him, I though you might know who he is

[03:27:37.0000] <darobin>
the cult of the dahut is far more widespread than you realise hsivonen, we are everywhere

[03:27:50.0000] <jgraham>
darobin: So you deny beingg Mr Last Week> :p

[03:27:53.0000] <darobin>
I follow him because he has a cool nick, and we've exchanged a few times

[03:27:55.0000] <jgraham>
s/>/?/

[03:28:23.0000] <karlcow>
Le Dahu Levogyre… lévogyre seems a reference to Goldorak. Probably someone in between 35 and 45

[03:28:23.0000] <darobin>
jgraham: indeed, I can say "it waddunt me" :)

[03:28:52.0000] <darobin>
karlcow: I hadn't seen the Goldorak reference there

[03:29:07.0000] <hsivonen>
I suspected he trolled me on Twitter instead of really thinking I was confused, so I didn’t reply. Maybe I was impolite.

[03:29:25.0000] <karlcow>
darobin: Come out of this body robinCornofulgure

[03:30:06.0000] <darobin>
karlcow: dahuts can be either lévogyre or dextrogyre, it's part of their nature

[03:30:28.0000] <darobin>
/me is unlikely to get Goldorak references, didn't watch that much tv as a kid :)

[03:30:56.0000] <darobin>
hsivonen: I suspect I've probably met him IRL, but I tend to have a very poor memory of people I've seen only a few times at busy conferences....

[03:30:56.0000] <hsivonen>
karlcow: I thought lévogyre was a joke on making polarizing comments

[03:31:38.0000] <jgraham>
hsivonen: You writing a HTML parser in Rust?

[03:32:18.0000] <hsivonen>
jgraham: I’m probably translating the one I’ve already written to Rust

[03:32:28.0000] <hsivonen>
/me is a one-trick pony

[03:32:51.0000] <darobin>
I suspect lévogyre is actually an indication of political orientation

[03:32:57.0000] <annevk>
hsivonen: I think he was confused

[03:33:03.0000] <darobin>
at least, the tradition in dahut jokes is that it is

[03:33:08.0000] <karlcow>
aaaaah no, darobin, au temps pour moi, it is  Clavicogyre

[03:33:15.0000] <jgraham>
hsivonen: That… might or might not be a good idea. I guess I hadn't considered the possibility.

[03:33:19.0000] <karlcow>
http://membres.multimania.fr/armelanuel/armes.html

[03:33:23.0000] <annevk>
hsivonen: I doubt many people realise that effectively UTF-16 is the only encoding that breaks ASCII

[03:33:43.0000] <karlcow>
I wonder if it's the first time that goldorak is mentioned on #whatwg

[03:33:54.0000] <karlcow>
There is an achievement there

[03:33:55.0000] <darobin>
karlcow: you are a fount of wisdom about things I didn't even know existed :)

[03:34:06.0000] <hsivonen>
jgraham: today, I’ve mostly been writing a Java to Java transform that removes fall-through in switch

[03:35:13.0000] <jgraham>
I see

[03:35:43.0000] <jgraham>
Rust seems nice enough that it would be fun to write from-scratch to get it idiomatically correct

[03:36:17.0000] <jgraham>
(I have only played with it a very little bit though)

[03:41:45.0000] <hsivonen>
darobin: so how do lévogyre and dextrogyre map to politics? Left and right respectively?

[03:41:57.0000] <darobin>
yeah, turning towards left or right

[03:45:43.0000] <karlcow>
☺ and not the same level of turn depending on the country

[03:46:43.0000] <hsivonen>
levels of turn famously vary by language :-)

[03:51:21.0000] <annevk>
I always get this impression that sicking (or maybe someone he works with) just implements something and then bothers to tell everyone else involved in the standards process after the fact

[03:51:21.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=17242#c9

[03:51:25.0000] <annevk>
it's getting kinda annoying

[03:51:50.0000] <annevk>
especially if you read elsewhere about Mozilla "doing the right thing" all the time

[03:52:58.0000] <hsivonen>
\o/ my Java to Java transform still passes the test suite

[03:55:01.0000] <hsivonen>
annevk: always or just after B2G started?

[03:55:15.0000] <doublec>
annevk: mostly since b2g ramped up I suspect

[03:55:17.0000] <annevk>
I had it with CORS too

[03:55:55.0000] <annevk>
and I've been doing my best to follow up in bug reports and such

[03:56:05.0000] <annevk>
but I don't get the same courtesy it seems

[03:57:00.0000] <annevk>
you can't both complain about NaCl and just extend XMLHttpRequest without telling other vendors about it

[03:57:28.0000] <annevk>
well, apparently you can

[03:58:00.0000] <hsivonen>
hooray. ibm864 removed from Gecko

[03:58:20.0000] <annevk>
nice

[03:58:31.0000] <annevk>
can't stay mad at Gecko too long it seems :p

[04:00:24.0000] <annevk>
AryehGregor: so yeah, e.g. shift_jis is Shift_JIS

[04:00:52.0000] <annevk>
AryehGregor: seems like a more annoying API, but you're right that we should probably just go with it and advice people to use toLowercase() or some such

[04:01:15.0000] <AryehGregor>
annevk, yes, I don't think it's worth trying to get browsers to change from the plurality on little things like this.

[04:01:39.0000] <annevk>
Opera will need to change though

[04:01:45.0000] <annevk>
because Opera has a nice API

[04:01:49.0000] <annevk>
and the web wants it ugly

[04:01:52.0000] <annevk>
booo

[04:01:56.0000] <annevk>
boooooooooo

[04:02:17.0000] <AryehGregor>
I don't actually think all-lowercase is inherently nicer than sensible mixed-case.

[04:02:24.0000] <AryehGregor>
The only thing that's really ugly is all-uppercase.

[04:04:17.0000] <darobin>
says the guy called AryehGregor

[04:04:25.0000] <darobin>
maybe if you were annevk you'd see the world differently

[04:04:31.0000] <AryehGregor>
:)

[04:06:08.0000] <annevk>
hsivonen: you still think we should define x-user-defined right? http://krijnhoetmer.nl/irc-logs/whatwg/20121003#l-461

[04:06:19.0000] <annevk>
hsivonen: and x-user-defined is also its only label correct?

[04:09:54.0000] <hsivonen>
annevk: I think we should define the way it’s defined in Gecko (and WebKit if SO is to be believed)

[04:10:07.0000] <hsivonen>
let’s see about the labels…

[04:10:31.0000] <hsivonen>
annevk: it’s the only label

[04:11:03.0000] <hsivonen>
that is, lower half maps to Basic Latin and the upper half to PUA

[04:11:05.0000] <annevk>
okay, I'll try to fix that today as it seems the other things I wanted to fix require some confirmation from others

[04:11:19.0000] <annevk>
but first the casing sadness

[04:11:31.0000] <hsivonen>
casing sadness?

[04:11:31.0000] <annevk>
thanks hsivonen

[04:11:42.0000] <annevk>
well utf-8 -> UTF-8, shift_jis -> Shift_JIS

[04:12:00.0000] <hsivonen>
annevk: in what context?

[04:12:07.0000] <annevk>
windows-1252 stays the same though, but iso-8859-2 becomes ISO-8859-2

[04:12:19.0000] <annevk>
hsivonen: the encoding name is exposed through document.characterSet

[04:12:27.0000] <hsivonen>
annevk: does the Web depend on the case exposed by Gecko?

[04:12:46.0000] <hsivonen>
annevk: or is it IE’s fault and Gecko just does the same?

[04:12:56.0000] <annevk>
I'm not sure (Opera has lowercase and no bugs), but AryehGregor argued that we should not change casing as Gecko/WebKit/IE agree

[04:13:02.0000] <AryehGregor>
Does IE agree?

[04:13:07.0000] <annevk>
not sure IE agrees

[04:13:10.0000] <annevk>
I don't have IE

[04:13:13.0000] <AryehGregor>
I only tested UTF-8, and IE seemed to call that "unicode".

[04:13:17.0000] <annevk>
oh

[04:13:21.0000] <annevk>
http://dump.testsuite.org/encoding/label-test.html can be used to test others

[04:13:38.0000] <hsivonen>
AryehGregor: really? I thought IE called UTF-16LE unicode

[04:13:49.0000] <annevk>
just type in a label, hit enter, and it'll give you the name back

[04:13:49.0000] <AryehGregor>
Hmm.

[04:14:01.0000] <annevk>
I wish I had IE

[04:14:09.0000] <AryehGregor>
According to that page, IE says "utf-8".

[04:14:15.0000] <annevk>
oooh

[04:14:20.0000] <AryehGregor>
So I don't have a problem with that, if it's matching IE/Opera instead of Gecko/WebKit.

[04:14:40.0000] <AryehGregor>
Yeah, seems to be all lowercase.

[04:14:59.0000] <annevk>
/me makes a happy dance

[04:15:00.0000] <AryehGregor>
annevk, I use Windows 8 Developer Preview, which I downloaded for free and run in VirtualBox.

[04:15:03.0000] <AryehGregor>
Works well for me.

[04:15:07.0000] <AryehGregor>
You use some type of Linux, right?

[04:15:08.0000] <annevk>
euh no, not enough room

[04:15:16.0000] <AryehGregor>
Oh, really?  Oh well.

[04:15:22.0000] <annevk>
not enough room to dance

[04:15:30.0000] <annevk>
I'll try that preview

[04:16:53.0000] <hsivonen>
IE10 standards mode might not be Web-compatible

[04:18:03.0000] <AryehGregor>
That's true.

[04:18:16.0000] <Ms2ger>
othermaciej, my comments on bug 11204 are unrelated to forking, they are about the HTMLWG Process

[04:18:59.0000] <AryehGregor>
IE9 mode also lowercases.  The page doesn't seem to work at all in IE7 or IE8 mode.

[04:21:03.0000] <hsivonen>
I think I’m better at remembering the canonical casing for charset labels in Gecko than I am at remembering namespace URLs

[04:21:04.0000] <annevk>
maybe IE8 does not support characterSet?

[04:21:41.0000] <annevk>
if namespaces were short strings instead of something silly like URLs they might have succeeded

[04:21:56.0000] <Ms2ger>
othermaciej, I don't deny that the W3C has the right the fork the spec, but I think it doesn't align with the W3C's policy; that's why I objected to the publication in WebApps

[04:23:13.0000] <AryehGregor>
Which spec is this, parsing and serialization?

[04:25:14.0000] <Ms2ger>
Yeah

[04:26:42.0000] <Ms2ger>
annevk, heycam appears to be away until 5 November

[04:26:46.0000] <annevk>
hsivonen: should I define x-user-defined using an index like the other single-byte encodings or should I define it as an algorithmic encoding somehow?

[04:26:51.0000] <annevk>
thanks Ms2ger

[04:26:56.0000] <Ms2ger>
Np

[04:29:33.0000] <Ms2ger>
/me goes off for food

[04:31:34.0000] <annevk>
hsivonen: going with algorithmic I think

[04:32:39.0000] <AryehGregor>
annevk, so are you going to stick with lowercase for everything?  hsivonen, are we okay with changing to that?

[04:33:14.0000] <annevk>
AryehGregor: if I can, yes; if Gecko objects I'd like to know from Travis or Adrian what they think

[04:33:21.0000] <AryehGregor>
Sounds good.

[04:38:35.0000] <hsivonen>
annevk: algorithmic bytes to UTF-16 code points is super-simple to define at least

[04:39:15.0000] <hsivonen>
AryehGregor: I have no idea of the Web compat impact.

[04:39:30.0000] <AryehGregor>
Hmm.

[04:39:32.0000] <hsivonen>
AryehGregor: in terms of elegance and sanity, I’d prefer lower case

[04:40:11.0000] <AryehGregor>
Are we willing to try in principle?  Really I just need to know whether I can fairly test that spec requirement -- I don't want to test it if it's not clear what we want the spec to say.

[04:40:13.0000] <hsivonen>
AryehGregor: but if we break something, it will be really hard to justify to product management

[04:40:18.0000] <AryehGregor>
Sure.

[04:40:41.0000] <AryehGregor>
We could ask Opera if they've hit any compat issues.

[04:41:01.0000] <hsivonen>
AryehGregor: I’d we willing to *try*, but you should ping smontagu and perhaps bz.

[04:41:24.0000] <hsivonen>
AryehGregor: I almost filed the bug already. :-)

[04:41:35.0000] <annevk>
AryehGregor: Opera has no registered compat issues

[04:42:03.0000] <annevk>
AryehGregor: I would have been cc'd on any such bugs and also researched this when writing the standard

[04:43:22.0000] <AryehGregor>
So, anyone want to guess what doc.URL does if doc is something other than the current document?

[04:43:26.0000] <AryehGregor>
(in browsers)

[04:44:47.0000] <AryehGregor>
IE: The page's current URL (dunno what happens with iframes).  Chrome: Empty string.  Firefox: The page's current URL if doc is an HTML document, undefined if it's XML.  Opera: about:blank if the doc is an HTML document, undefined if it's XML.

[04:44:55.0000] <AryehGregor>
Spec: about:blank.

[04:44:58.0000] <AryehGregor>
/me scratches head

[04:45:51.0000] <annevk>
documents and URLs are a big mess

[04:46:14.0000] <annevk>
I think the cleanup the spec did here makes sense

[04:46:33.0000] <AryehGregor>
I'd hope at least *you* think what you wrote makes sense.  :)

[04:46:38.0000] <AryehGregor>
What's the point of .URL anyway?

[04:46:51.0000] <AryehGregor>
Is it different from .documentURI in implementations in any useful way?

[04:47:49.0000] <AryehGregor>
Is there any way to change a document's URL if it didn't start its life attached to a window?

[04:48:03.0000] <AryehGregor>
I guess about:blank makes as much sense as anything.

[04:48:23.0000] <AryehGregor>
(I hope Gecko and Opera make .URL defined for XML documents if the current page is an XML document.)

[04:48:31.0000] <annevk>
.URL was first

[04:48:31.0000] <AryehGregor>
/me leaves the test matching the spec

[04:48:36.0000] <annevk>
and for some reason they added documentURI

[04:48:42.0000] <annevk>
and the spec makes both the same

[04:48:47.0000] <AryehGregor>
Sounds good to me.

[04:49:04.0000] <annevk>
oh, and makes them readonly, which they were in most implementations already

[04:50:14.0000] <annevk>
AryehGregor: thanks for writing these tests!

[04:50:22.0000] <AryehGregor>
Most?

[04:51:05.0000] <annevk>
I think WebKit implemented setting but then removed it because Gecko didn't allow it

[04:51:08.0000] <annevk>
dunno about others

[04:51:12.0000] <annevk>
well, don't remember

[04:51:21.0000] <annevk>
but they aligned on that point to some extent already

[04:52:03.0000] <AryehGregor>
interfaces.html should already test that, in principle.

[04:52:07.0000] <AryehGregor>
Whether it's read-only, I mean.

[04:53:34.0000] <annevk>
hsivonen: do you happen to know how the encoder works for x-user-defined?

[04:54:36.0000] <AryehGregor>
hsivonen, are you going to file a bug on case-folding here, or shall I?

[05:06:13.0000] <AryehGregor>
/me finds three slightly different implementations of the same basic algorithm in nsDocument::GetDocumentURI, nsHTMLDocument::GetURL, and nsSVGDocument::GetURL

[05:06:14.0000] <AryehGregor>
/me unifies!

[05:20:38.0000] <hsivonen>
AryehGregor: please go ahead and file

[05:20:59.0000] <hsivonen>
annevk: let’s see…

[05:22:25.0000] <hsivonen>
Whoa. We have nsUnicodeToZapfDingbat.cpp

[05:25:03.0000] <jgraham>
Isn't that from the legay practice of doing <font face="Dingbats">A</font> and expecting an alpha character, or something

[05:25:16.0000] <hsivonen>
annevk: sorry, the interesting part seems to be buried somewhere outside the encoder itself

[05:25:35.0000] <hsivonen>
annevk: I don’t know what happens to unencodable characters

[05:25:59.0000] <jgraham>
Which worked in IE and Netscape 4, but not in Mozilla who insisted finding an actual A glyph (and ignoring the font, since it didn't contain one)

[05:26:29.0000] <hsivonen>
jgraham: more likely for rendering Unicode on OS/2, Classic Mac OS or legacy X11

[05:26:47.0000] <jgraham>
Oh, it's from the inverse problem

[05:26:50.0000] <jgraham>
I see

[05:29:25.0000] <annevk>
AryehGregor: could you cc me on your DOM and Encoding-related activities?

[05:31:26.0000] <annevk>
hsivonen: okay, I'll dig a bit

[05:35:38.0000] <hsivonen>
wow crazy legacy. Gecko knows about Zapf Dingbats. So does FreeType. And PDF.js.

[05:35:47.0000] <hsivonen>
yay magic fonts

[05:37:37.0000] <AryehGregor>
annevk, sure.

[05:39:35.0000] <hsivonen>
Added in 1999 with the helpful comment “add unicode encoders”

[05:41:34.0000] <hsivonen>
jgraham: it’s quite possible this thing has never solved a problem but exists merely for completeness

[05:42:05.0000] <hsivonen>
to cover everything someone has bothered to contribute to unicode.org data

[05:43:39.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=799913

[05:44:14.0000] <AryehGregor>
annevk, why does this output the empty string in Opera?  <!DOCTYPE html><meta charset="Utf-8"><script>document.documentElement.textContent = document.characterSet</script>

[05:45:17.0000] <AryehGregor>
/me is trying to get a test-case to illustrate the Gecko bug he's filing

[05:45:39.0000] <AryehGregor>
Also, IE seems to say "unicode" here.

[05:45:47.0000] <AryehGregor>
Do they not pick up the charset declaration properly somehow?

[05:46:25.0000] <hsivonen>
AryehGregor: are you testing with document.open() or with real network?

[05:46:36.0000] <AryehGregor>
Live DOM Viewer.

[05:46:46.0000] <hsivonen>
AryehGregor: there’s your problem

[05:46:53.0000] <hsivonen>
AryehGregor: it uses document.open()

[05:47:02.0000] <AryehGregor>
Oh.

[05:47:03.0000] <hsivonen>
so always "unicode" in IE

[05:47:36.0000] <AryehGregor>
I'd try data: URLs, but those don't work in IE for this.

[05:50:18.0000] <annevk>
AryehGregor: seems Opera is affected by the document.open() thing too

[05:50:29.0000] <annevk>
AryehGregor: data URL in an <iframe> maybe?

[05:50:41.0000] <AryehGregor>
Does IE support that?

[05:51:05.0000] <AryehGregor>
Nope, it doesn't.

[05:53:36.0000] <AryehGregor>
/me just submits the bug without a testcase

[05:54:02.0000] <hsivonen>
In Gecko, <meta charset> in a document.open()ed doc affects subsequent CSS and JS loads and iframes

[05:54:14.0000] <hsivonen>
but the doc itself is really UTF-16

[05:54:22.0000] <annevk>
oh so weird

[05:54:30.0000] <annevk>
is that even specced?

[05:54:40.0000] <hsivonen>
dunno

[05:55:16.0000] <annevk>
AryehGregor: you could just attach a testcase right?, i.e. the document you just described

[05:55:24.0000] <hsivonen>
if you ask the doc for its charset, you get the charset inherited into CSS, JS and frames

[05:55:39.0000] <AryehGregor>
I could, but doesn't seem necessary.

[05:55:39.0000] <hsivonen>
in Gecko that is

[05:56:16.0000] <hsivonen>
document.opened docs don’t have a converter, of course

[05:56:32.0000] <annevk>
fair enough

[06:01:10.0000] <annevk>
hsivonen: oh, x-user-defined is not supported in <meta>?

[06:01:18.0000] <AryehGregor>
Whoa, IE doesn't support .documentURI?  I wouldn't have guessed that.

[06:01:23.0000] <annevk>
hsivonen: I need HTTP to test this?

[06:01:52.0000] <hsivonen>
annevk: right

[06:02:01.0000] <annevk>
that's a bummer

[06:02:11.0000] <hsivonen>
annevk: the patch for allowing it in meta hasn’t landed yet

[06:02:34.0000] <annevk>
oh you're gonna do that? does not seem to work in Chrome either fwiw

[06:02:41.0000] <annevk>
but consistency wfm

[06:03:45.0000] <annevk>
it works in Opera btw, except Opera uses the wrong encoder/decoder

[06:10:04.0000] <AryehGregor>
/me discovers a DOM spec bug, yay

[06:11:09.0000] <annevk>
just one? :-)

[06:11:36.0000] <annevk>
hsivonen: afaict x-user-defined just emits decoder errors for anything non-ASCII

[06:11:42.0000] <annevk>
hsivonen: I'm gonna write that down for now

[06:12:00.0000] <AryehGregor>
annevk, so far!

[06:16:14.0000] <hsivonen>
annevk: *decoder* errors?

[06:16:26.0000] <hsivonen>
an is REPLACEMENT CHARACTERS?

[06:16:45.0000] <annevk>
hsivonen: sorry, encoder errors

[06:16:58.0000] <annevk>
hsivonen: I keep reversing those terms :-(

[06:17:08.0000] <hsivonen>
annevk: testing how?

[06:17:21.0000] <annevk>
hsivonen: URLs and <form> submission

[06:17:26.0000] <hsivonen>
annevk: OK

[06:18:02.0000] <hsivonen>
annevk: I’d have expected it to round trip for the first 128 characters of the PUA

[06:18:47.0000] <annevk>
me too, but the browsers emit the fallback for those instead (? / utf-8 encoded form in URLs depending on the browser and &#x... for <form>)

[06:19:45.0000] <annevk>
hsivonen: you're hsivonen on github?

[06:19:48.0000] <hsivonen>
annevk: the encoder definition is supposed to have a defined range from F780 to F7FF

[06:19:53.0000] <hsivonen>
annevk: yes

[06:21:36.0000] <hsivonen>
curious. that’s not even near the start of the PUA

[06:21:44.0000] <hsivonen>
but not quite at the end either

[06:22:19.0000] <annevk>
hsivonen: well the encoder in practice does not appear to do anything special with that range

[06:22:28.0000] <hsivonen>
huh. Unicode has wasted two entire planes as astral PUAs

[06:22:42.0000] <hsivonen>
ok. always trust testing over code inspection

[06:22:47.0000] <zcorpan>
AryehGregor: i thought this was something we wanted to change, hence the spec. https://www.w3.org/Bugs/Public/show_bug.cgi?id=19431 or is there content relying on this?

[06:22:54.0000] <hsivonen>
or, rather, comment inspection in this case

[06:23:12.0000] <AryehGregor>
zcorpan, I assumed it was a spec bug.  Why would we want to change it when all browsers agree?

[06:23:36.0000] <AryehGregor>
If the spec disagrees with all browsers, IMO it should have a note saying so.

[06:23:57.0000] <AryehGregor>
Until at least one or two browsers change to match.

[06:24:18.0000] <AryehGregor>
Is there some strong reason that all browsers should change?

[06:24:23.0000] <zcorpan>
AryehGregor: because scripts should work even when the document is not an html document, iirc

[06:24:38.0000] <AryehGregor>
Why is that related to namespaceURI?

[06:25:01.0000] <AryehGregor>
/me notices that Opera doesn't implement .parentElement on very many interfaces

[06:31:26.0000] <annevk>
hsivonen: http://encoding.spec.whatwg.org/#x-user-defined

[06:39:56.0000] <AryehGregor>
Oh, I think it just doesn't implement .parentElement at all.

[06:41:53.0000] <AryehGregor>
http://w3c-test.org/webapps/DOMCore/tests/approved/Node-properties.html

[06:41:56.0000] <AryehGregor>
Okay, what should I test next?

[06:41:58.0000] <AryehGregor>
Any suggestions?

[06:42:09.0000] <AryehGregor>
Encodings?

[06:43:03.0000] <annevk>
AryehGregor: for your createElement test, you might want to check what happens in browsers when the root element does have a namespace

[06:43:27.0000] <annevk>
AryehGregor: that's why createElement just defaults to HTML, because that's what it most commonly is

[06:43:34.0000] <AryehGregor>
Mm.

[06:43:43.0000] <annevk>
AryehGregor: and because defaulting to the root element namespace seemed really yucky

[06:43:57.0000] <AryehGregor>
Oh, because the Document itself can't have a namespace, right?

[06:44:01.0000] <AryehGregor>
That does seem lame.

[06:44:12.0000] <annevk>
AryehGregor: or defaulting to whatever the MIME type is that was in use (as Gecko does)

[06:44:21.0000] <AryehGregor>
But nobody cares about namespaces, so I see no reason not to match browsers even if they're totally arbitrary.

[06:44:29.0000] <annevk>
e.g. if you load application/xhtml+xml createElement will create in the HTML namespace in Gecko I think

[06:44:37.0000] <annevk>
because you get an HTMLDocument and not an XMLDocument

[06:44:49.0000] <AryehGregor>
Browsers shouldn't have to expend effort to change this stuff so that it's prettier, if we can avoid it.

[06:44:49.0000] <annevk>
kinda dependent too on the big Document object convergence project

[06:44:55.0000] <AryehGregor>
Which is what?

[06:45:31.0000] <annevk>
the main thing is that all browsers have a different strategy for dealing with this stuff

[06:45:53.0000] <annevk>
and that there's several steps of an agreed upon solution that people haven't really gotten around to implementing because nobody cares about XML

[06:46:13.0000] <annevk>
one of those things is that there's only 1 Document object

[06:46:32.0000] <annevk>
and not different objects for SVG / HTML / XML depending on some MIME type

[06:47:58.0000] <AryehGregor>
"To find the pointers and their corresponding code points in an index, let lines be the result of splitting the resource's contents on U+000A. Then remove each item in lines that is the empty string or starts with U+0023. Then . . ."

[06:48:54.0000] <AryehGregor>
That seems like an overly explicit way of describing a line-based data format with tab used as a delimiter and # as a comment character.

[06:49:15.0000] <AryehGregor>
It reminds me of Hixie spelling out all the code points in "<!doctype html>".

[06:50:25.0000] <jgraham>
Tells you that # must be the first character in the line

[06:51:09.0000] <annevk>
pull requests welcome

[06:51:26.0000] <AryehGregor>
Ah, of course, github.

[06:51:30.0000] <AryehGregor>
Noted.

[06:51:59.0000] <AryehGregor>
Wow, the encoding spec is extremely long and boring.  Kudos on the good work!

[06:52:43.0000] <annevk>
haha, I'll read that as "fascinating"

[06:54:45.0000] <zcorpan>
AryehGregor: i think the html spec and dom spec's way of dealing with Document and createElement is the only sane and compatible-enough end point. each browser has not-ideal behavior like looking at the root element namespace or looking at the mime type, or both, and we don't want that

[06:54:56.0000] <AryehGregor>
I see.

[06:55:13.0000] <zcorpan>
implementing it has been low prio, though

[06:55:39.0000] <AryehGregor>
So you're saying that implementers will all have to change anyway, and what's specced is simpler than what all of them do now and believed to be compatible enough?

[06:55:47.0000] <AryehGregor>
In that case, it makes sense.

[06:55:54.0000] <AryehGregor>
/me looks at what Gecko does

[06:55:57.0000] <annevk>
right

[06:56:32.0000] <zcorpan>
yeah

[06:58:33.0000] <AryehGregor>
/me does not actually see what code sets the default namespace for anything but HTML and XUL documents in Gecko

[07:00:02.0000] <zcorpan>
annevk: i don't understand step 6 of x-user-defined decoder

[07:00:26.0000] <annevk>
copypasta

[07:00:33.0000] <annevk>
if I remove that, does it work for you?

[07:00:41.0000] <zcorpan>
yep

[07:01:02.0000] <zcorpan>
also, isn't "0xF780 + byte − 0x80" equivalent to 0xF700 + byte ?

[07:01:45.0000] <annevk>
yes, but the style of the draft is the former since it provides more information

[07:01:52.0000] <SimonSapin>
zcorpan: I guess this formulation that the results are in the range starting at U+F780

[07:02:10.0000] <zcorpan>
ok

[07:05:05.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1832 - seems chrome doesn't support x-user-defined in xml

[07:06:38.0000] <ashemedai>
Sad thought it might be, it made me laugh: http://www.zdnet.com/the-do-not-track-standard-has-crossed-into-crazy-territory-7000005502/ -- how you guys maintain your sanity is beyond me

[07:07:11.0000] <zcorpan>
also seems like opera uses U+0080 for 0x80 rather than U+F780

[07:07:53.0000] <zcorpan>
ashemedai: what makes you think we maintain our sanity?

[07:08:00.0000] <annevk>
zcorpan: yeah, we have bugs

[07:08:12.0000] <annevk>
wait, not we

[07:08:14.0000] <annevk>
:-)

[07:08:49.0000] <ashemedai>
/me backs slowly away

[07:08:51.0000] <AryehGregor>
ashemedai, DNT was a ridiculous idea from day one.

[07:09:08.0000] <ashemedai>
Sure, but dealing with the marketing fellas ain't easy either ;)

[07:12:35.0000] <zcorpan>
AryehGregor: no we just need more. like DNTAIRMITT:1

[07:12:52.0000] <AryehGregor>
?

[07:13:16.0000] <zcorpan>
...and i really mean it this time

[07:14:17.0000] <tomasf>
DNSM, Do Not Serve Malware. a nice way to opt out from all malware. it's the final solution.

[07:15:38.0000] <zcorpan>
tomasf: now we're talking

[07:15:57.0000] <ashemedai>
tomasf: +1

[07:18:54.0000] <jgraham>
I am totally up for joining the DNT group if I get to spend time in a house by the beach rather than in Sweden in the winter

[07:19:27.0000] <karlcow>
AryehGregor: DNT is not a technological solution. It doesn't work by itself basically and is completely ineffective without the legal framework going with it. ☺

[07:19:27.0000] <karlcow>
After it is just a question of faith in techno or in society (Contrat Social).

[07:19:40.0000] <AryehGregor>
What legal framework is this, exactly?

[07:19:53.0000] <AryehGregor>
If it doesn't work without a legal framework, why was it implemented without a legal framework?

[07:20:14.0000] <karlcow>
because it is independent. Technology != Society rules.

[07:20:19.0000] <AryehGregor>
Why would any hypothetical legal framework not just restrict tracking directly instead of making it dependent on a switch that almost all users would set to true if they knew about it?

[07:20:23.0000] <tomasf>
maybe DNT was just a April fools joke, like the evil bit, but no-one realized?

[07:20:41.0000] <zewt>
annevk: i asked that guy for a code sample, and he basically said "no", heh

[07:20:45.0000] <jgraham>
Mozilla said they were against a legal framework

[07:20:53.0000] <AryehGregor>
Maybe it's simpler to postulate that it's a political move by companies that don't benefit much from tracking or ads to make competitors who depend on ad revenue look bad?

[07:21:06.0000] <jgraham>
And iirc it was Mitchell, so actually Mozilla, not just "someone at Mozilla"

[07:21:06.0000] <karlcow>
AryehGregor: nope

[07:21:32.0000] <karlcow>
/me is again in the weird position of explaining something which he is not advocating :)

[07:21:48.0000] <karlcow>
It's not a political move

[07:22:29.0000] <SamB_MacG5>
I don't think Mozilla has any say in whether or not a legal framework is actually created ;-P

[07:22:57.0000] <jgraham>
Ah, it was Gerv http://blog.gerv.net/2012/09/do-not-track-and-the-role-of-government/

[07:23:06.0000] <karlcow>
He is an attempt of providing a way for users to show that you are against being tracked. So a big sign in a demo for example. Now for the fact of being tracked or not, it relies on local legal frameworks.

[07:23:08.0000] <jgraham>
He just linked to Mitchell's blog

[07:23:24.0000] <karlcow>
And it's where it becomes difficult.

[07:23:52.0000] <zewt>
AryehGregor: i don't think DNT makes the slightest bit of sense, but I doubt there are ulterior motives

[07:24:07.0000] <jgraham>
FWIW I imagine "a legal framework" might encompass "companies are not required to honour DNT, but if they say they will and don't they can be punished"

[07:24:14.0000] <SamB_MacG5>
though of course they could serve as experts in any government work on the subject...

[07:24:20.0000] <AryehGregor>
zewt, not on everyone's part, but on some supporters' part . . .

[07:24:34.0000] <zewt>
AryehGregor: perhaps, not sure that means much

[07:24:39.0000] <karlcow>
as a personal point of view, DNT being on or off, I will still used Ghostery and other Ads blockers. But that would not also protect of everything in life. ;)

[07:24:44.0000] <SamB_MacG5>
jgraham: for some values of "say", the framework exists already

[07:24:52.0000] <karlcow>
what jgraham said

[07:25:04.0000] <SamB_MacG5>
that certainly seems the simplest

[07:26:08.0000] <zewt>
jgraham: there are already mechanisms to do that (eg. logo testing via trademarks), though they're weak (don't think trademark infringement in the US gets you much more than an order to stop)

[07:26:09.0000] <karlcow>
samB, there is no "THE framework"

[07:26:40.0000] <SamB_MacG5>
well, okay, a multitude of twisty frameworks, all different

[07:26:40.0000] <karlcow>
there will be frameworkS. It is dependent on countries legal systems

[07:27:20.0000] <SamB_MacG5>
but I believe most legal systems allow for certain kinds of promises to be legally binding?

[07:27:53.0000] <karlcow>
SamB_MacG5: nope. :)

[07:27:59.0000] <AryehGregor>
A legal system that didn't allow that wouldn't work very well.

[07:28:04.0000] <AryehGregor>
The question is which types.  :)

[07:28:18.0000] <karlcow>
or not in the sense of being tracked in the context of Internet

[07:32:08.0000] <AryehGregor>
annevk, why is .namespaceURI only defined on Element in DOM?  Browsers seem to define it on all nodes but make it null except on elements.

[07:32:39.0000] <zewt>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=16304 wow, seriously?

[07:32:43.0000] <AryehGregor>
Is there any point in making === null checks stop working unnecessarily?

[07:34:56.0000] <zcorpan>
zewt: yeah. i actually started writing a comment on that bug explaining why he was being silly, but then i realized what i was about to do and closed the tab

[07:35:10.0000] <zewt>
zcorpan: yeah I think I won't be able to retrain myself heh

[08:02:17.0000] <annevk_>
AryehGregor: we wanted to slim down objects

[08:03:06.0000] <annevk_>
zewt: yeah I'm not sure why he got so upset

[08:13:59.0000] <annevk_>
AryehGregor: a bigger change is Attr no longer inheriting from Node

[08:14:32.0000] <annevk_>
AryehGregor: we're not quite sure whether any of those changes still stick long term, but Gecko is in the process of experimenting with them

[08:17:52.0000] <annevk_>
hmm, http://xhr.spec.whatwg.org/#data:-urls-and-http does not define what happens if the data: URL fails to parse

[08:27:13.0000] <annevk>
hmm the navigation timing stuff is kinda ill-defined

[08:32:08.0000] <annevk>
Hixie_: haven't made much progress with URLs this week

[08:32:30.0000] <annevk>
Hixie_: hopefully later, have been catching up on some Encoding/DOM stuff

[08:40:05.0000] <annevk>
Ms2ger?

[08:40:43.0000] <annevk>
why does new Event("x").isTrusted yield true in Gecko?

[08:43:42.0000] <annevk>
https://bugzilla.mozilla.org/show_bug.cgi?id=799982

[08:43:46.0000] <annevk>
pretty close to 800k

[08:46:22.0000] <annevk>
Anyone here taking MediaWiki bug reports? http://wiki.whatwg.org/index.php?title=Special:UserLogin&type=signup has a bug in that it requires the password fields even if I hit "By e-mail" where it will randomly generate such a password

[09:03:26.0000] <AryehGregor>
annevk, for one thing, the version is 1.17alpha (1.17.0 being released in June 2011), while the latest stable is 1.19.0 (from April 2012).

[09:03:54.0000] <AryehGregor>
In 1.17alpha, $wgHtml5 was disabled by default, so probably things like this only got sufficient testing later.

[09:04:13.0000] <AryehGregor>
I think it's now enabled on Wikipedia, so probably stuff like that has been ironed out (assuming that feature is in use on Wikipedia).

[09:04:24.0000] <annevk>
ah okay, I wonder if someone can update wiki.whatwg.org then

[09:05:51.0000] <AryehGregor>
I was the last one to do it, but I don't think I'm going to spend my time on that.

[09:06:12.0000] <AryehGregor>
Well, certainly I won't spend *my* time on it.  But I don't think it's worth my employer's time either.

[09:06:18.0000] <AryehGregor>
Especially since it might break as much as it fixes.

[09:06:29.0000] <AryehGregor>
MediaWiki is not known for its great quality control or stability.

[09:09:13.0000] <annevk>
:/

[09:13:18.0000] <dglazkov>
good morning, Whatwg!

[09:13:33.0000] <tantek>
good morning dglazkov

[09:21:02.0000] <annevk>
arv: could you take a look at my suggestion here regarding DOMTokenList.enable(): https://www.w3.org/Bugs/Public/show_bug.cgi?id=18463#c1 (i.e. to give .toggle() enable as argument)

[09:22:47.0000] <arv>
annevk: That seems OK to me too

[09:23:16.0000] <annevk>
arv: thanks

[09:43:28.0000] <annevk>
that was surprisingly complicated

[10:26:37.0000] <annevk>
TabAtkins: re twitter: changing the terminology yet again, now between Level 3 and 4

[10:27:10.0000] <TabAtkins>
annevk: I don't think he's still objecting, though he would be the one to say so.

[10:27:10.0000] <annevk>
TabAtkins: although Level 4 does mention "group of selectors" somewhere, but that seems like a bug

[10:27:21.0000] <annevk>
TabAtkins: nobody said objecting ;)

[10:27:54.0000] <TabAtkins>
annevk: Ah, yes, that should be "selector list".

[10:29:00.0000] <annevk>
and fwiw, I have been guilty of renaming certain things too terminology wise, though often with the DOM specs there was not really much terminology present to begin with

[10:29:56.0000] <TabAtkins>
I at least believe we're renaming toward consistency and better readability.

[10:30:06.0000] <TabAtkins>
A lot of our terminology was pretty bad in the old specs. :/

[10:32:33.0000] <zcorpan>
annevk: wow, reading the toggle algorithm i have no idea what it's doing :-P

[10:33:38.0000] <annevk>
zcorpan: I had to walk through the 6 variants to make sure it made sense

[10:34:28.0000] <zcorpan>
annevk: is toggle('foo', false) not supposed to be different from toggle('foo') ?

[10:37:01.0000] <TabAtkins>
annevk: I don't understand how toggle('foo', true) is different from add('foo').  Will add() add duplicates?

[10:38:24.0000] <zcorpan>
TabAtkins: it's not supposed to be different

[10:38:50.0000] <TabAtkins>
Oh.  In that case I don't understand what it's for. ;_;

[10:39:11.0000] <zcorpan>
http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Aug/0017.html

[10:39:25.0000] <hober>
it's for toggle('foo', nonLiteralBoolean)

[10:39:51.0000] <TabAtkins>
Ah, I see.  add/remove based on a boolean, to avoid having to explicitly do a trinary to get the effect.

[10:39:58.0000] <hober>
right

[10:41:33.0000] <TabAtkins>
Hrm.  I don't like naked booleans like that, but switching to a string enum removes much of the point.

[10:42:17.0000] <zcorpan>
{enable:bool} better?

[10:43:15.0000] <zcorpan>
or separate method after all?

[10:43:25.0000] <TabAtkins>
Dunno how best to name it. :/ 'enable' doesn't sound great.

[10:43:49.0000] <jwalden>
frobnicate

[10:44:36.0000] <annevk>
would be great if people read their www-dom bugmail and bikeshedded at the point of filing rather than at the point of fixing

[10:44:38.0000] <TabAtkins>
.set()?

[10:44:49.0000] <TabAtkins>
annevk: I'm not subscribed to www-dom. :/

[10:45:11.0000] <zcorpan>
annevk: dude you fix things before i read the email :-)

[10:45:26.0000] <annevk>
zcorpan: how much behind are you?

[10:45:39.0000] <TabAtkins>
I'm not necessarily opposed to what you've done.  I can't think of anything better, after all.

[10:46:23.0000] <zcorpan>
annevk: oh, sorry, i thought it was raised today

[10:47:03.0000] <annevk>
maybe you guys want to go through https://www.w3.org/Bugs/Public/buglist.cgi?product=WebAppsWG&component=DOM&resolution=--- before I fix more things :-)

[10:47:38.0000] <annevk>
all *.spec.whatwg.org that I edit have an "open bugs" list at the top I go through every now and then to fix things from

[10:49:13.0000] <TabAtkins>
Actually, I'm cool with what you've done.  It's actually reasonably readable.  You toggle it to true, or toggle it to false.  Or just toggle it, if the second is omitted.

[10:49:32.0000] <TabAtkins>
Perhaps a different argument name would make it more understandable.  Like 'forcedState'?

[10:50:11.0000] <annevk>
forcedPresence?

[10:50:21.0000] <annevk>
hmm no

[10:50:34.0000] <TabAtkins>
I just had no clue what "enable" was supposed to mean.

[10:50:50.0000] <annevk>
yeah that came from the original method name proposal

[10:51:17.0000] <zcorpan>
annevk: i just picked a random bug from the list and concluded that i agree with https://www.w3.org/Bugs/Public/show_bug.cgi?id=13971#c8 :-P

[10:52:12.0000] <annevk>
heh

[10:53:30.0000] <zcorpan>
annevk: how about just "force"?

[10:53:39.0000] <TabAtkins>
Yeah, "force" works for me.

[10:53:43.0000] <annevk>
mkay

[10:53:46.0000] <TabAtkins>
Or "forceTo".

[10:53:59.0000] <zcorpan>
ttyl

[10:56:01.0000] <annevk>
from now on I'll just generate UUIDs for argument names

[10:56:38.0000] <hober>
just name them "bikeshed"

[10:56:48.0000] <hober>
and wait for people to suggest alternatives

[10:57:00.0000] <jsbell>
lol

[10:57:03.0000] <annevk>
not a bad idea

[10:57:09.0000] <TabAtkins>
That's what we do in CSS.

[11:00:14.0000] <annevk>
jsbell: the decodeStream() thing works for me, but then you probably want some state so that invoking decode() no longer works after invoking that and maybe even vice versa?

[11:00:28.0000] <TabAtkins>
annevk: Where should I go looking for the actual doc?  The github doesn't help very much.

[11:01:20.0000] <TabAtkins>
Ah, got it.

[11:02:18.0000] <TabAtkins>
annevk: I wouldn't care about what you named your arguments if you'd put in explanatory paragraphs for each function, rather than relying solely on people grokking the algorithm to know what's going on. ^_^

[11:02:28.0000] <odinho>
I see I'm not alone in thinking [TreatUndefinedAs=Missing] is cool, and not having it is painful.

[11:02:35.0000] <jsbell>
annevk: yeah, unless decode() doesn't touch the state at all which would also be weird. I'm not rushing to change it.

[11:02:41.0000] <annevk>
TabAtkins: there are such paragraphs actually

[11:02:52.0000] <odinho>
So the "this is only for legacy" language in webidl seems a bit language puristic to me.

[11:03:13.0000] <odinho>
I'd rather have nice, expected behaviour when decorating functions.

[11:03:14.0000] <TabAtkins>
annevk: Ah yeah, up in the big green block.  Sorry, easy to miss when you're looking at the actual algorithm.

[11:03:40.0000] <TabAtkins>
annevk: Mind if I suggest a rewording of the toggle() explanation?

[11:03:45.0000] <jsbell>
odinho: step 1: invent time machine...

[11:03:49.0000] <annevk>
TabAtkins: not at all

[11:04:39.0000] <Hixie_>
annevk: what's funny about that www-archive thread is that there's no reason they should be asking the question in the first place. It's typical of how they've operated, though -- ask a question over and over until the person you're asking stops arguing back, and then claim you've won.

[11:06:11.0000] <annevk>
you could also do what the PFWG did with my formal objection, simply forget about it

[11:06:26.0000] <odinho>
jsbell: I'm actually interested in what step 2 will be, even though I probably won't spend much time on any of the steps :P

[11:06:36.0000] <TabAtkins>
annevk: "If force is not provided, 'toggles' the token, removing it if it's present and adding it if it's not.  If force is true, adds the token (same as add()).  If force is false, removes the token (same as remove())."

[11:08:00.0000] <TabAtkins>
Separating the "force is not present" from the "force is present" cases makes it easier to read, because you don't have to reason through a tri-state boolean expressed via negations.

[11:08:13.0000] <annevk>
jsbell: kinda feel like it's going to be a hack either way, because in implementations utf-16 and utf-16le mean the same, but you want them to be different

[11:11:06.0000] <jsbell>
annevk: having "utf-16" as endian-agnostic is from ICU c/o suggestion by zewt. We could come up with a different way to signal that to the decoder constructor than special-casing the label.

[11:11:58.0000] <annevk>
TabAtkins: you're tabatkins on github?

[11:12:46.0000] <TabAtkins>
annevk: Yeah.  Should I just pr?

[11:13:05.0000] <annevk>
no, it's for acknowledging you in the checkin, it's a thing I'm playing with

[11:13:21.0000] <TabAtkins>
kk

[11:13:31.0000] <jsbell>
But when dealing with web content, utf-16/utf-16be end up being agnostic anyway since the BOM wins. So perhaps we want to expose a flag which turns BOM handling on/off...

[11:13:40.0000] <jsbell>
(in the API)

[11:14:04.0000] <TabAtkins>
Pretty sure I'm the only tabatkins on the web.  My biological dad only barely uses computers, and afaict never uses his full name like I do.

[11:14:15.0000] <TabAtkins>
And I think we're the only two "Tab Atkins"s in the world.

[11:14:22.0000] <annevk>
jsbell: yeah, utf-16/utf-16be is only for bomless fallback at the moment

[11:14:52.0000] <annevk>
jsbell: we could have ignorebom which defaults to false?

[11:15:04.0000] <annevk>
jsbell: if you set it to true we skip the step where it looks for the bom and does something with it

[11:15:27.0000] <jsbell>
annevk: let me dig up the threads and see if that was proposed/rejected...

[11:15:28.0000] <annevk>
jsbell: because technically valid utf-16le/utf-16be content is not allowed to contain a bom anyway so that would work

[11:16:46.0000] <annevk>
jsbell: unrelated, should I integrate this or do you want to be involved somehow? either way I'll make sure to acknowledge the fact you designed the thing

[11:18:03.0000] <jsbell>
annevk: go for it, but being involved would be swell if we can figure out the "somehow"

[11:19:49.0000] <annevk>
jsbell: well the whole thing is hosted here: https://github.com/whatwg/encoding do you have a github account?

[11:20:14.0000] <annevk>
jsbell: I can just add you to the WHATWG team and then you can commit to drafts (including the Encoding Standard) as you please

[11:20:56.0000] <annevk>
jsbell: once you commit it will be automatically synced with encoding.spec.whatwg.org

[11:21:54.0000] <jsbell>
annevk: I'm inexorabletash on github - thanks

[11:24:05.0000] <annevk>
I guess at some point we should actually have separate Owners and Teams but for now just Owners will do :)

[11:24:19.0000] <annevk>
jsbell: added

[11:25:22.0000] <jsbell>
swell

[11:25:59.0000] <annevk>
jsbell: http://wiki.whatwg.org/wiki/Anolis explains the setup we have btw

[11:26:38.0000] <annevk>
jsbell: if you don't want to bother with all that just change Overview.src.html and I'll generate the spec

[11:27:17.0000] <annevk>
jsbell: as for the API, I was thinking we could put it between chapters 6 and 7

[11:29:29.0000] <annevk>
and that's it for me today I think :-)

[11:30:59.0000] <Hixie_>
annevk: you should just have the *.spec.whatwg.org domains do the regen for you :-)

[11:31:43.0000] <annevk>
Hixie_: I have been thinking about setting that up actually

[11:31:57.0000] <annevk>
there was something that was keeping me back, should look into that again

[11:32:36.0000] <annevk>
that would actually be ideal because it would remove yet another roadblock for people to contribute

[11:35:31.0000] <smaug____>
annevk: so how did you create the event?

[11:35:49.0000] <smaug____>
annevk: could you answer to the bug

[11:37:38.0000] <annevk>
smaug____: like comment 3

[11:38:13.0000] <annevk>
smaug____: sorry, didn't think about the context

[11:38:24.0000] <smaug____>
yeah, it is odd

[11:38:34.0000] <smaug____>
but ok, no security bug then :)

[11:38:41.0000] <smaug____>
I got a bit worried

[11:39:27.0000] <annevk>
heh

[11:39:48.0000] <annevk>
oh cool

[11:39:58.0000] <annevk>
github can has twitter integration for commits

[11:40:39.0000] <annevk>
I guess I'll create a twitter account for each living standard and link them up

[12:12:44.0000] <annevk>
haha per http://gavinsharp.com/irc/whatwg.html among our most referenced URLs are the HTML namespace, example.com, and example.org

[12:24:24.0000] <Hixie_>
foolip: yt?

[12:30:29.0000] <Hixie_>
foolip: for https://www.w3.org/Bugs/Public/show_bug.cgi?id=17483#c3 - is picking the one with the least overlap sufficiently efficently implementable?

[12:34:20.0000] <annevk>
ah yeah, the problem with generating specs on spec.whatwg.org is the cross-references stuff

[12:34:51.0000] <annevk>
need to talk with Ms2ger if we can figure something out for that

[12:35:06.0000] <Hixie_>
what's the problem?

[12:36:08.0000] <annevk>
sometimes I need to add new entries for specs (manually) and sometimes the spec I generate adds entries (automatically) to cross-references database; to sync that database I then need to commit these changes

[12:36:22.0000] <annevk>
every now and then I also need to pull upstream changes in

[12:37:25.0000] <annevk>
we could probably make most of that work, but the make process fails if something fails in that process (e.g. an entry you reference does not exist)

[12:38:10.0000] <annevk>
but if Ms2ger and I can work that out somehow, we could make it real easy for people to edit WHATWG-style specs

[12:38:20.0000] <Hixie_>
ah, right, because it's all still manual

[12:38:41.0000] <Hixie_>
we should make it automatic or self-contained within the doc, that's what i've been waiting for to do it in html

[12:40:06.0000] <annevk>
it could still fail at that point, but I guess it could print error messages somewhere

[12:40:25.0000] <annevk>
also, your automatic process hasn't really been turned into a concrete plan yet

[12:41:43.0000] <Hixie_>
yeah :-)

[12:41:53.0000] <Hixie_>
things could fail in the internal cross-refs too

[12:43:27.0000] <Hixie_>
failure isn't limited to external cross-refs :-)

[13:10:19.0000] <Hixie_>
foolip: (least overlap with other cues, i mean; as opposed to what you proposed, which is just to consider the least amount that is outside the box)

[13:10:57.0000] <Hixie_>
foolip: for now i'll just look at the area outside the box, that's pretty easy to implement

[14:14:18.0000] <aklein>
can any spec authors about think of a spec that uses variable-length WebIDL arrays?

[14:14:35.0000] <aklein>
I'm curious to see what the WebKit implementation of such a spec looks like...

[14:19:05.0000] <TabAtkins>
/me doesnt' even know what a "WebIDL array" is anymore.

[14:19:48.0000] <aklein>
TabAtkins: http://dev.w3.org/2006/webapi/WebIDL/#idl-array

[14:20:23.0000] <aklein>
basically, IDL arrays are pass-by-reference (sorta), sequences are pass-by-value

[14:21:18.0000] <aklein>
not actually pass-by-reference because they're actually platform objects, so they get copied when assigned from JS

[14:23:57.0000] <aklein>
but yeah, people seem confused about them in general (cf http://lists.w3.org/Archives/Public/public-script-coord/2012JulSep/0023.html)

[14:24:20.0000] <TabAtkins>
aklein: Yeah, I don't understand their connection to JS arrays, though.  I keep hearing things that sound contradictory, but that may just be Boris correcting miconceptions in other people's specs.

[14:57:35.0000] <Hixie_>
if anyone can think of anything to add to http://wiki.whatwg.org/wiki/FAQ#Where.27s_the_harm_in_adding.E2.80.94 please be my guest

[15:59:35.0000] <zewt>
reading bugzilla mails to lists gives me a headache

[16:00:11.0000] <zewt>
giganto table in every mail is a pain to read and using a fixed-width font for the content makes no sense

[16:08:51.0000] <zewt>
getting from google to specs is now one step harder :(

[16:09:18.0000] <zewt>
google for dom4, click first link (TR), click editor's draft, now there's an extra "specification moved" page--can't we get that to be a normal redirect?

[16:09:47.0000] <Hixie_>
why would you keep clicking the first link if it's not what you want

[16:10:00.0000] <Hixie_>
teach it that you want something else by clicking on the other thing and it'll become the new first link

[16:10:05.0000] <Hixie_>
(eventually)

[16:10:20.0000] <zewt>
because the correct result isn't even in the results

[16:10:24.0000] <Hixie_>
(though you'll have to first convince it that all the times clicking that bad link are really the past)

[16:10:37.0000] <Hixie_>
well you cal also just type "dom.spe" and have it autocomplete :-P

[16:10:52.0000] <Hixie_>
just "dom" is actually enough for my browser at this point

[16:12:18.0000] <zewt>
i long since gave up on trying to use browser history, every browser I use has made a complete mess of it

[16:12:47.0000] <zewt>
at least for quick navigation

[16:13:27.0000] <Hixie_>
time to try again

[16:13:53.0000] <zewt>
sorry, not changing my everyday usage habits because specs for the HTML spec don't even use redirects properly :)

[16:14:04.0000] <zewt>
(dom spec, rather)

[16:14:41.0000] <zewt>
usage habits have a lot of momentum; it takes more than one site to make me try to change them

[16:14:44.0000] <Hixie_>
i'm just trying to help you out here

[16:14:59.0000] <Hixie_>
you whined about something, i gave you two ways to make your life way easier, and now your whining about my suggestions

[16:15:08.0000] <Hixie_>
you're

[16:15:31.0000] <zewt>
i'm trying to help everyone out--there shouldn't be additional steps in the way of people not using ancient TR snapshots

[16:20:39.0000] <gavinc>
uh, speaking of which on DOM... based on the Status of Document for http://www.w3.org/TR/dom/ how the heck would I know not to use that?

[16:21:03.0000] <gavinc>
speaking as someone who made very sure to refer to the "correct" DOM document a few months ago

[16:21:35.0000] <Hixie_>
gavinc: you would know not to use anything that is in /TR/

[16:24:28.0000] <gavinc>
right, since on May 17th annevk said to use it

[16:25:34.0000] <gavinc>
/me gives up

[16:25:42.0000] <zewt>
well, the /TR/ problem itself isn't specific to DOM or a new problem

[16:27:14.0000] <Hixie_>
it seems unlikely that anne said to use /TR/ anything

[16:27:28.0000] <Hixie_>
you sure he didn't mean one of the dev.w3.org servers?

[16:29:18.0000] <gavinc>
I think the final answer was link to that and wait till contextless parsing is defined and then update

[16:29:25.0000] <gavinc>
no idea where contextless parsing is

[16:32:28.0000] <Hixie_>
what's contextless parsing?

[16:34:33.0000] <gavinc>
What's needed to parse a fragment of HTML that isn't part of a document I'm guessing?

[16:34:42.0000] <gavinc>
since that's the use case

[16:36:35.0000] <TabAtkins>
Yeah, parsing that works when you dont' know ahead-of-time what type of document you're in.

[16:36:45.0000] <TabAtkins>
(Specifically, whether you're in HTML, SVG, or MathML.)

[16:37:09.0000] <TabAtkins>
The "make jQuery's $('<div>foo</div>') thing work".

[16:37:34.0000] <TabAtkins>
(jQuery's thing works for a lot of SVG as well.)

[16:37:39.0000] <TabAtkins>
(with regexes)

[16:39:11.0000] <Hixie_>
AryehGregor: yt?

[16:39:29.0000] <Hixie_>
gavinc: not sure what you're talking about or how it relates to the DOM spec

[16:41:36.0000] <gavinc>
http://www.w3.org/TR/rdf11-concepts/#section-html

[16:42:01.0000] <Hixie_>
oh, right, you're an rdf guy

[16:42:06.0000] <gavinc>
or if you prefer not TR :P http://dvcs.w3.org/hg/rdf/raw-file/default/rdf-concepts/index.html#section-html

[16:42:09.0000] <gavinc>
yes yes :P

[16:42:21.0000] <zewt>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=19414 i'm just going to go and call this guy a troll in here so I don't feel the need to do so in the bug

[16:42:36.0000] <Hixie_>
gavinc: then anne was probably trolling you when he said to look at /TR/ :-P

[16:42:54.0000] <gavinc>
geee, thanks

[16:43:51.0000] <Hixie_>
zewt: i doubt that's a troll

[16:44:04.0000] <Hixie_>
zewt: probably just confused by the api, it's not like our platform is simple

[16:44:50.0000] <zewt>
Hixie_: confused is fine, the "what, are you stupid?"-attitude not so much--but either way I'm keeping away from that ticket now :P

[16:46:37.0000] <Hixie_>
the "what, are you stupid?" attitude isn't trolling, it's just rude :-)

[16:46:53.0000] <Hixie_>
i should know, i have it regularly :-/

[16:49:39.0000] <gavinc>
So currently we reference the HTML fragment parsing algorithm, and then normalize and isEqualNode is there a more correct way of comparing two HTML fragments?


2012-10-11
[17:17:02.0000] <Hixie_>
gavinc: HTML fragments aren't really something that HTML supports currently

[17:17:11.0000] <Hixie_>
gavinc: not in a useful fashion, anyway

[17:17:23.0000] <Hixie_>
gavinc: the best we have is what innerHTML uses, which is a disaster

[17:20:52.0000] <gavinc>
okay, so... keep doing what we're doing and hope someone comes up with a solution soon?

[17:21:26.0000] <gavinc>
no implementation experience yet on our end that I know of

[18:52:42.0000] <zewt>
heh http://www.jwz.org/blog/2012/10/marketing-fuels-the-world-it-is-as-american-as-apple-pie/

[19:34:57.0000] <Hixie_>
gavinc: my recommendation would be to not use string fragments at all

[19:35:05.0000] <Hixie_>
gavinc: i don't really understand why you need to

[19:35:13.0000] <Hixie_>
gavinc: so it's hard for me to give good advice

[19:51:02.0000] <karlcow>
http://blog.lumino.so/2012/08/20/fix-unicode-mistakes-with-python/

[20:43:40.0000] <annevk>
gavinc: hey hey, did I really say to refer to TR/dom/? I kinda doubt that

[20:44:36.0000] <annevk>
gavinc: I might have suggested http://domparsing.spec.whatwg.org/ or whatwg.org/html I suppose, but this stuff is still being discussed and not defined

[20:53:31.0000] <Hixie_>
domparsing.spec.whatwg.org didn't exist back in may, iirc

[20:54:57.0000] <annevk>
yeah, but http://html5.org/specs/dom-parsing.html redirects to that

[21:19:28.0000] <zcorpan>
annevk: i'm not sure we should introduce new Document before Document has been implemented properly

[21:29:39.0000] <annevk>
what order things is implemented is not really up to me

[21:31:56.0000] <annevk>
data:image/svg+xml,<script xmlns="http://www.w3.org/1999/xhtml">alert(document.rootElement)</script>

[21:32:07.0000] <annevk>
throws in Gecko, returns undefined in Opera, null in Chrome

[21:32:16.0000] <annevk>
doesn't seem like .rootElement has much interop to begin with

[21:32:53.0000] <annevk>
context is https://bugzilla.mozilla.org/show_bug.cgi?id=799937#c11

[21:52:20.0000] <zcorpan>
hmm, https://developer.mozilla.org/en-US/docs/HTML/Element/video#Browser_compatibility has outdated browser compat information for all browsers except firefox, i think

[21:55:14.0000] <Hixie_>
what is document.rootElement??

[21:55:20.0000] <Hixie_>
surely it's document.document.Element

[21:55:22.0000] <Hixie_>
er

[21:55:27.0000] <Hixie_>
document.documentElement

[22:04:33.0000] <othermaciej>
document.rootElement? what?

[22:07:28.0000] <othermaciej>
omg, SVG actually defined a weird SVG-specific synonym for documentElement

[22:07:42.0000] <othermaciej>
/me reminds himself of the topic motto

[22:14:39.0000] <zcorpan>
Hixie_: if your plan with "all documents are Document" succeeds, document.rootElement will be available in html docs, too :-P

[22:16:15.0000] <Hixie_>
zcorpan: sounds like a win over what we have now, but seems like the even better win would be to just drop it...

[22:19:11.0000] <zcorpan>
http://code.google.com/codesearch#search/&q=document%5C.rootElement%20lang:svg&type=cs http://code.google.com/codesearch#search/&q=document%5C.rootElement%20lang:js&type=cs

[22:25:36.0000] <zcorpan>
annevk: data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><script>alert(document.rootElement)</script></svg> alerts [object SVGSVGElement] in opera

[22:25:59.0000] <zcorpan>
annevk: turns out rootElement isn't actually "root element" but "root element but only if it's <svg>"

[22:26:33.0000] <annevk>
zcorpan: and otherwise it's undefined? that's crazy

[22:26:40.0000] <zcorpan>
no, otherwise it's null

[22:26:54.0000] <zcorpan>
it was undefined in opera because the root element's namespace was HTML

[22:26:59.0000] <annevk>
o_O

[22:27:04.0000] <zcorpan>
recall this Document issue?

[22:27:26.0000] <annevk>
I did not know Opera determines the type of Document based on the root element...

[23:36:42.0000] <AryehGregor>
Hixie_, here now.  I'm UTC+0200, generally not around at 1:40 AM.  :)

[23:37:15.0000] <SamB_MacG5>
AryehGregor: but this is 2:40 AM!

[23:37:48.0000] <AryehGregor>
It's 8:40 AM for me.  :)

[23:40:09.0000] <annevk>
whoa that's the same time zone as Paris

[23:41:50.0000] <annevk>
time zones around there seem weird anyway, Greece is like Finland, Romania like France

[23:46:25.0000] <zcorpan>
Hixie_: what's the problem with depending on 'word-wrap'? we reference lots of specs that are "unstable"

[23:56:40.0000] <AryehGregor>
Aren't all interesting specs unstable?

[00:02:59.0000] <annevk>
I guess the API decode stuff needs special casing anyway for the way the API deals with streaming

[00:16:05.0000] <annevk>
I'm removing AnonXMLHttpRequest from XMLHttpRequest fwiw

[00:26:11.0000] <hsivonen>
is everything in MIME types ASCII case-insensitive? Including stuff in quotes in the codecs parameter?

[00:26:54.0000] <annevk>
I suspect: "it depends"

[00:27:04.0000] <hsivonen>
aargh. the RFC says sensitive

[00:27:08.0000] <hsivonen>
FAIL

[00:28:04.0000] <Ms2ger>
You had me at "the RFC ... FAIL"

[01:07:05.0000] <annevk>
https://twitter.com/mathias/status/256296595866406912 welcome to 2010 (or so) matjas :p

[01:07:45.0000] <annevk>
hsivonen: does it actually matter anywhere in practice?

[01:07:56.0000] <annevk>
hsivonen: oh codecs

[01:08:26.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-forms/2012Oct/0000.html

[01:08:50.0000] <hsivonen>
annevk: the part after “avc1.” is case-sensitive per spec

[01:09:18.0000] <hsivonen>
annevk: but WebKit doesn’t care, because it wildcards the part after “avc1.”

[01:09:37.0000] <hsivonen>
annevk: moreover, Apple publishes documentation with wrong-case examples

[01:10:27.0000] <hsivonen>
codec levels and profiles are so full of fail in an of themselves

[01:10:30.0000] <annevk>
can't actually blame them; HTTP and MIME are some of the worst specs to read through and HTTP is getting worse

[01:10:35.0000] <hsivonen>
and then this syntax

[01:11:50.0000] <matjas>
annevk: non-native RTing in 2010 I’d understand… but you’d think people would’ve figured it out by now

[01:12:28.0000] <annevk>
hsivonen: so many layers of shit, can't asshole or angel against that

[01:12:51.0000] <hsivonen>
people have also missed the memo on Twitter now autoshortening URLs (or they want their own “social analytics”)

[01:14:03.0000] <annevk>
would be nice if twitter's short URLs normalized to the final URL

[01:32:29.0000] <annevk>
MikeSmith: maybe we should have components in WHATWG for XHR and such too so when I close a bug it can stay closed...

[01:32:43.0000] <annevk>
MikeSmith: and since there's now three people "editing" it on the W3C side...

[01:32:49.0000] <MikeSmith>
yeah

[01:32:51.0000] <MikeSmith>
I can add those

[01:33:07.0000] <annevk>
MikeSmith: dunno though, maybe wait until after TPAC

[01:33:18.0000] <MikeSmith>
oh?

[01:33:24.0000] <MikeSmith>
either way works for me

[01:33:33.0000] <MikeSmith>
I guess there's no rush

[01:33:50.0000] <annevk>
MikeSmith: I rather not have the split, and since Jeff asked to meet maybe we can work something out

[01:34:06.0000] <MikeSmith>
ah yeah

[01:34:14.0000] <MikeSmith>
yeah would be great if that happened

[01:35:24.0000] <smaug____>
so foo.outerHTML = ""; just removes foo from the parent ?

[01:35:47.0000] <smaug____>
/me can't recall whether outerHTML works similarly to innerHTML

[01:36:35.0000] <annevk>
smaug____: http://domparsing.spec.whatwg.org/

[01:38:29.0000] <annevk>
smaug____: mostly yes btw

[01:43:20.0000] <jgraham>
AryehGregor: So, I was thinking. Do you think it would sway the testharness.js doubters if we added a second way of writing async tests; instead of being forced to write t.step(function(){/*stuff*/}) you would be able to write t.assert_whatever(). In order to assure a consistent number of tests we would impose the further restriction that trying to add a test after asserting something on a previous test would fail, so defining your tests upfront wou

[01:43:41.0000] <jgraham>
I am kind of loathe to add more API surface

[01:43:43.0000] <AryehGregor>
jgraham, you got cut off at "upfront wou".

[01:44:18.0000] <jgraham>
AryehGregor: Oh, lame. That's what's splitlong is supposed to solve. "would be enforced"

[01:44:30.0000] <AryehGregor>
I haven't seen any complaints about testharness.js from people who've actually used it nontrivially, so I'm unsure whether any substantive change would be sufficient to sway the doubters.

[01:45:20.0000] <AryehGregor>
hsivonen, tell me what problems you have with testharness.js again relative to mochitest?  I've found nothing wrong with it in practice.  It's slightly more verbose, but it's not a noticeable issue when I actually use it.

[01:45:45.0000] <AryehGregor>
(except for lack of features, and the fact that Mozilla people aren't familiar with it, since both of those would apply to essentially anything other than mochitest)

[01:48:47.0000] <jgraham>
I have some difficulty telling whether the fundamental problem is that saying "I spent time releasing tests" will be frowned on in your quaterly review. If it's that calss of problme, I'm not sure how much I can do to solve it.

[01:49:14.0000] <AryehGregor>
I can certainly attest that that's not true for Mozilla in general.  I don't know if it's true for certain specific teams.

[01:50:14.0000] <AryehGregor>
My manager is obviously happy to have me spend time on releasing tests, but I'm not responsible for any features.  Maybe some teams/managers/projects are more focused on shipping specific features and want them shipped on a schedule that's competitive with other browsers.

[01:50:40.0000] <AryehGregor>
I dunno, though.

[01:51:00.0000] <AryehGregor>
I don't think that testharness.js has to take any more time to write than mochitest, if we have the right infrastructure and it's being used wisely.

[02:05:56.0000] <Ms2ger>
AryehGregor, well, except for the point that th.js does have longer names for its methods

[02:06:16.0000] <AryehGregor>
Ms2ger, yes, but that doesn't substantially affect readability or writability once you get used to it.

[02:06:43.0000] <annevk>
I'm going to remove all throwing for user/password in XMLHttpRequest; if you think that's a bad idea, let me know

[02:07:21.0000] <annevk>
also, if you pass user/password that's going to count as appending an Authorization header to the "author request headers" thingie

[02:09:17.0000] <jgraham>
Ms2ger: I feel quite strongly opposed to the simple "ok" design at least

[02:09:58.0000] <jgraham>
"is this a thing that can be cast to boolean true", or whatever the method does, doesn't seem like it makes for the soundest tests

[02:29:34.0000] <foolip>
Hixie_, I've already implemented what https://www.w3.org/Bugs/Public/show_bug.cgi?id=17483#c3 so if that matches what you've spec'ed it should be fine. I haven't reviewed the spec change yet though.

[02:32:50.0000] <foolip>
Trying to minimize overlap with other cues would also be a worthy goal, but perhaps slightly more complicated, for doubtful gain

[02:33:48.0000] <annevk>
odinho: you still have your server setup test thingie? I'm wondering how http://user:pass@test/ and open(..., ..., ..., user, pass) interact

[02:33:59.0000] <annevk>
odinho: in particular if you set the latter to null or undefined or some such

[02:34:08.0000] <annevk>
odinho: if that overrides the former

[02:34:37.0000] <odinho>
annevk: Okay, -- have a test or want me to write one? :P

[02:34:55.0000] <annevk>
odinho: I wanted you to write one :-) I hate HTTP auth

[02:35:06.0000] <odinho>
annevk: Don't we all, don't we all ... :-)

[02:37:34.0000] <annevk>
the main problem is that credentials are cached

[02:37:58.0000] <annevk>
so you need some kind of elaborate scheme around that, which I wrote at some point but that didn't work either

[02:38:03.0000] <annevk>
I then gave up

[02:39:23.0000] <odinho>
Yeah. Hm. You have a test in send-authentication.htm  -- it hardcodes a few paths which it shouldn't. And uses Math.random for users.

[02:41:11.0000] <annevk>
what I want to define in particular is how userinfo and user/password arguments interact

[02:42:03.0000] <annevk>
e.g. open(,,, null, null) reset them

[02:42:11.0000] <annevk>
what does "", "" mean

[02:43:36.0000] <odinho>
annevk: In the test you at least you wanted the open to win all the time.

[02:43:58.0000] <annevk>
even for null?

[02:44:03.0000] <annevk>
because the spec says null loses

[02:44:36.0000] <odinho>
annevk: Hmm. Not for null, no, because    userwin = null || "user1"    would become user1

[02:46:14.0000] <annevk>
okay for now I'll clean up the spec

[02:46:19.0000] <annevk>
then later someone can tell me it's wrong :-)

[02:46:42.0000] <odinho>
So. I managed to make your former test work. :P

[02:47:02.0000] <annevk>
neato

[02:47:05.0000] <odinho>
Hmm. A little bit at least.

[02:47:16.0000] <annevk>
what's wrong with the path hardcoding btw?

[02:47:31.0000] <annevk>
and why does WebIDL require "optional" if you give the argument a default value?

[02:47:47.0000] <odinho>
hardcodes localhost, that's not where people normally have the resources. And also hardcoding /xhr/ as the url :-)

[02:55:11.0000] <odinho>
Hmmmmm... There something strange happening with the URL-based logins, -- it seems like the requests never go down to the PHP script. Like if nginx and apache eats them and just does everything on its own. Also, dragonfly doesn't say anything. I'll check with wireshark and other browsers.

[02:56:41.0000] <annevk>
these servers and taking away full control over what is happening are annoying

[02:59:24.0000] <annevk>
man that Ms2ger is studying or what, never online

[03:00:17.0000] <odinho>
Hmm. So, chromium actualyl does some interesting stuff, only one of the tests is a "testing error". So its behaviour doesn't trigger any vodoo as much as the others.

[03:08:49.0000] <annevk>
nice, bz wanted this fixed in the same way

[03:08:54.0000] <annevk>
on a roll today

[03:28:46.0000] <smaug____>
annevk: "If authentication fails, XMLHttpRequest origin and the request URL are same origin, Authorization is not in the list of author request headers, request username is null, and request password is null, user agents should prompt the end user for their username and password."

[03:29:00.0000] <smaug____>
what is the reason for same origin there

[03:30:14.0000] <smaug____>
baku: I just asked annevk about the issue

[03:30:30.0000] <baku>
smaug____, tnx

[03:30:38.0000] <smaug____>
baku: http://logbot.glob.com.au/?c=freenode%23whatwg&s=11%20Oct%202012&e=11%20Oct%202012#c729093

[03:31:30.0000] <annevk>
no twitter accounts for now; https://github.com/github/github-services/issues/418

[03:32:05.0000] <annevk>
smaug____: to restrict bad UI from propagating further

[03:32:13.0000] <annevk>
smaug____: I'd rather not prompt the user ever if we can make that work

[03:32:19.0000] <smaug____>
ah, right

[03:34:35.0000] <annevk>
smaug____: will fix the NodeList thing

[03:34:46.0000] <annevk>
smaug____: also for MutationObserverInit, should we give the members default values?

[03:34:53.0000] <annevk>
smaug____: seems more sensible

[03:35:23.0000] <smaug____>
IIRC there are limitations for the init members

[03:35:38.0000] <smaug____>
I mean, you just have to have certain properties

[03:35:51.0000] <annevk>
sure

[03:38:22.0000] <annevk>
baku: smaug____: I'll add a note about the reasoning to the spec

[03:38:35.0000] <annevk>
baku: smaug____: I hope you guys are reading xhr.spec.whatwg.org

[03:38:47.0000] <smaug____>
uh, actually no

[03:39:09.0000] <smaug____>
I haven't removed W3C XHR from browser's history

[03:39:13.0000] <smaug____>
did that to DOM

[03:39:58.0000] <baku>
annevk, ok thanks. if you add that note is great.

[03:43:08.0000] <annevk>
baku: how would you like to appear in the acknowledgments?

[03:43:39.0000] <annevk>
(you can appear as "baku" if you want, full name or something else is also fine)

[03:43:45.0000] <baku>
I am Andrea Marchesini

[03:43:49.0000] <baku>
thank you

[03:43:59.0000] <annevk>
thank you really :-)

[03:45:10.0000] <baku>
it seems that chrome and FF do not check the same-origin

[03:45:47.0000] <smaug____>
baku: except Nightly does have the same-origin check

[03:45:51.0000] <baku>
the prompt is shown if the authentication is needed

[03:46:11.0000] <baku>
right. and this is the reason why I'm here :)

[03:46:28.0000] <smaug____>
yup, but annevk might not know that :)

[03:46:40.0000] <baku>
good point.

[03:46:58.0000] <jgraham>
metadata :(

[03:46:59.0000] <annevk>
didn't know, happy you guys aligned

[03:47:20.0000] <jgraham>
(that was not apropos what everyone else is talking about)

[03:47:54.0000] <Stevef__>
annevk: i use http://twitterfeed.com/ for https://twitter.com/HTML_Commits

[03:48:04.0000] <smaug____>
baku: should find someone with IE9 or 10

[03:48:06.0000] <Stevef__>
seems to work

[03:48:28.0000] <annevk>
Stevef__: I'd rather not have a level of indirection

[03:48:30.0000] <baku>
smaug____, yep

[03:48:54.0000] <annevk>
Stevef__: so that if I commit something I can retweet as appropriate if I want to directly, instead of later when the feed is read again and then tweeted from

[03:50:20.0000] <Stevef__>
annevk: ok

[03:50:23.0000] <smaug____>
baku: since if IE and FF and Chrome all have the prompt, it is probably not possible to change the behavior

[03:50:48.0000] <annevk>
smaug____: sorry yeah, I meant the CORS handling

[03:51:04.0000] <annevk>
smaug____: "sync CORS" so to say

[03:52:12.0000] <smaug____>
annevk: I think we didn't change that behavior... let me check

[03:54:22.0000] <smaug____>
annevk: oh, setting withCredentials does check asyncness

[03:55:57.0000] <smaug____>
(I apparently reviewed that patch. I can't remember everything :) )

[03:56:33.0000] <annevk>
yeah, withCredentials does, but without withCredentials?

[03:56:50.0000] <annevk>
we could also still make the anonymous flag throw for sync usage btw

[03:56:59.0000] <annevk>
as that's just landed

[03:57:02.0000] <annevk>
and only in Gecko thus far

[03:57:20.0000] <smaug____>
yup

[04:01:59.0000] <annevk>
okay, so I'll add the anonymous flag to the list of things that should not work sync

[04:02:10.0000] <annevk>
but straight "sync CORS" will work

[04:02:16.0000] <annevk>
because of compat concerns

[04:08:29.0000] <annevk>
smaug____: okay I'll make open() throw if the anonymous flag is set

[04:12:51.0000] <smaug____>
one day we'll notice that we can kill sync XHR.

[04:13:48.0000] <annevk>
not for workers :-)

[04:14:26.0000] <jgraham>
Or for introducing sync pauses into testsuites :p

[04:16:40.0000] <odinho>
Should really be a standardized way to log out of http auth.

[04:21:44.0000] <smaug____>
hmm, so now I get W3C bugmail twice

[04:21:52.0000] <smaug____>
once in text form, once in html

[04:22:00.0000] <smaug____>
I don't understand the latter one

[04:22:31.0000] <smaug____>
since my w3 bugzilla account has the text-email pref on

[04:25:07.0000] <annevk>
smaug____: the other is from the mailing list

[04:25:25.0000] <annevk>
smaug____: maybe mike should configure the mailing list to prefer text-email too

[04:25:54.0000] <annevk>
I think that's what actually changed

[04:25:57.0000] <annevk>
with the update

[05:23:00.0000] <darobin>
smaug____: don't hesitate to file a bug report on bugzilla issues

[05:23:08.0000] <darobin>
you can ping sysreq@

[05:23:29.0000] <smaug____>
I don't know where to file w3c bugzilla bugs

[05:23:42.0000] <darobin>
write to sysreq

[05:23:50.0000] <darobin>
they handle that

[05:26:18.0000] <smaug____>
what sis sysreq?

[05:26:25.0000] <smaug____>
s/sis/is/

[05:26:31.0000] <smaug____>
sysreq⊙wo ?

[05:30:12.0000] <darobin>
sorry — yes

[05:36:55.0000] <jgraham>
They should use bugzilla, really ;)

[06:12:23.0000] <AryehGregor>
/me gives Gecko a 100% pass rate on his newly-written Node-properties.html, once his patches land

[06:12:50.0000] <AryehGregor>
It's not that I'm writing the test so Gecko has an advantage, but I may as well fix any bugs I find too, so . . .

[06:13:31.0000] <jgraham>
AryehGregor: Dude, that's the *point* of writing tests

[06:13:37.0000] <AryehGregor>
:)

[06:13:39.0000] <jgraham>
No need to apologise

[06:14:14.0000] <AryehGregor>
No, but it does look slightly fishy when a browser vendor sponsors tests that it scores 100% on, right?  A la Microsoft.

[06:16:37.0000] <jgraham>
Looks fishy if you only ever release tests that you pass 100% of, and the tests have obvious gaps

[06:22:50.0000] <darobin>
nah I think this looks fishy, I don't trust that AryehGregor guy

[06:22:58.0000] <darobin>
and Gecko, you know, it just spells evil

[06:24:05.0000] <odinho>
If you take the second letter of Gecko, and append "vil", what do you get? ... Something to think about. Just sayin'.

[06:24:27.0000] <darobin>
damn right

[06:26:10.0000] <zcorpan>
let's do the same with "Opera". "pvil"? seems we're good.

[06:26:34.0000] <odinho>
zcorpan: undoubtedly

[06:26:49.0000] <annevk>
flawless logic

[06:27:16.0000] <odinho>
WebKit --> you know what

[06:27:44.0000] <zcorpan>
"IE" --> same

[06:27:44.0000] <odinho>
And IE. Just continuing sayin'.

[06:27:47.0000] <jgraham>
So, IE is evil, but Internet Explorer merely nvil?

[06:27:55.0000] <odinho>
^_^ It all fits

[06:29:15.0000] <annevk>
the new XHR editors don't make much sense to me

[06:29:26.0000] <annevk>
I'm biased, though

[06:30:14.0000] <zcorpan>
annevk: how do they not make sense?

[06:37:16.0000] <AryehGregor>
Hixie_, I just filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=19473.  Mozilla bug 799475 is blocked on it.  It's not particularly important, but I would try to implement whatever it winds up being, provided you respond within about two days.  So if you're interested, take a look sooner rather than later.

[06:37:37.0000] <AryehGregor>
(I have lots of free time for the next few days, but starting Wednesday break is over, so I'm unlikely to implement it anytime soon after that)

[06:42:21.0000] <AryehGregor>
annevk, so it seems case of charsets in Gecko matches the IANA spec.  Is there a good reason for your encoding spec not to match the IANA spec, given that Gecko and WebKit apparently follow it?  https://bugzilla.mozilla.org/show_bug.cgi?id=799917#c11

[06:43:06.0000] <AryehGregor>
If it were just IE/Opera vs. Gecko/WebKit it would be a tossup to me, perhaps with slight edge to Gecko/WebKit because they're most likely to be web-compatible, but if there's an existing spec Gecko/WebKit are following that pushes things substantially toward them IMO.

[06:43:14.0000] <annevk>
do you mean the IANA charset registry?

[06:43:23.0000] <annevk>
since when are we adhering to that? everyone breaks it

[06:43:25.0000] <AryehGregor>
Simon linked to this: http://www.iana.org/assignments/character-sets

[06:43:42.0000] <annevk>
that's a pretty useless document though

[06:43:52.0000] <AryehGregor>
Even so, no need to deviate unnecessarily, is there?

[06:44:14.0000] <AryehGregor>
If Gecko/WebKit were doing the right thing and following whatever spec existed, even if that spec was a bad one, they shouldn't be the ones we ask to change.

[06:44:27.0000] <AryehGregor>
We should ask the ones who weren't following any spec to change.

[06:44:51.0000] <annevk>
if the spec was crappy and others did a better job I think it only makes sense to ignore prior art

[06:45:11.0000] <annevk>
e.g. Gecko implemented Mutation Observers without nullable NodeList

[06:45:18.0000] <annevk>
punishment is going to be for WebKit, not Gecko

[06:45:26.0000] <annevk>
because what Gecko did makes more sense

[06:45:35.0000] <AryehGregor>
Sure, because that was the only existing implementation.  Here implementations are split.

[06:45:44.0000] <AryehGregor>
If all implementations did lowercase, then of course we should ignore the IANA.

[06:45:45.0000] <annevk>
no WebKit was first

[06:45:52.0000] <AryehGregor>
Well, okay.

[06:46:01.0000] <AryehGregor>
But I don't think lowercase makes more sense, necessarily.

[06:46:41.0000] <AryehGregor>
Although I guess it makes more sense than the IANA casing, which seems fairly inconsistent.

[06:47:10.0000] <AryehGregor>
Why "windows-1252" and not "Windows-1252"?

[06:47:48.0000] <annevk>
Gecko does windows-1252...

[06:47:53.0000] <smaug____>
Hmm, Stream API

[06:47:55.0000] <AryehGregor>
Right, I know.

[06:47:59.0000] <AryehGregor>
My point is just that it's inconsistent.

[06:48:07.0000] <annevk>
well yeah it is

[06:48:26.0000] <annevk>
Gecko seems to lowercase gbk btw, although I believe that's largely obsolete anyway

[06:50:26.0000] <annevk>
(euh, gbk is correct per the Encoding Standard)

[06:50:49.0000] <annevk>
gb18030 is also lowercase in Gecko

[06:51:41.0000] <zcorpan>
isn't a lowercase list nicer to have if you want to casefold for ascii-case-insensitive comparison?

[06:52:01.0000] <AryehGregor>
You can always case-fold both things you're comparing.

[06:52:07.0000] <AryehGregor>
So it's not a big deal either way.

[06:52:39.0000] <zcorpan>
not a big deal, sure

[06:53:04.0000] <annevk>
it would be nice if this could just be a lowercase enum in the end

[06:53:26.0000] <annevk>
although maybe there's not much point expressing it as such

[06:54:22.0000] <zewt>
AryehGregor: wonder if the spellcheck thing is related to Gmail (iirc) randomly showing spellcheck squiggles for words that aren't misspelled at all, which go away when I cursor over them

[06:54:38.0000] <AryehGregor>
zewt, in Gecko?

[06:54:46.0000] <zewt>
since presumably Gmail is doing a ton of script manipulation of the text, which might confuse the browser about what's user-entered and what's not

[06:54:50.0000] <zewt>
chrome, iirc

[06:55:01.0000] <zewt>
(not sure; i use FF at home and Chrome at work)

[06:55:40.0000] <zewt>
actually probably chrome since I have spellcheck turned off in FF

[06:56:06.0000] <AryehGregor>
I'm not sure what Chrome's algorithm is.

[07:09:52.0000] <annevk>
AryehGregor: anyway, we can match IANA, or match Gecko, or match WebKit, or Opera, or IE; in the end IE is the hardest to change and IE does the nicest thing here; I'd rather just align with IE

[07:09:59.0000] <gavinc>
annevk, Hixie: the use case is for a document that contains a fragment of HTML, as it might today contain a fragment of XML. There is some marked up content, but not a whole page/document worth.

[07:10:22.0000] <annevk>
gavinc: I'm aware of the use case

[07:10:42.0000] <gavinc>
annevk: Ah, okay, Hixie_ wasn't

[07:12:26.0000] <gavinc>
annevk: Todays RDF recomends using XML fragments. That seems a poor way forward for storing HTML.

[07:12:58.0000] <gavinc>
annevk: currently people do things like store random bits of HTML in xsd:strings, or other random datatypes

[07:13:43.0000] <gavinc>
annevk: http://www.w3.org/TR/rdf11-concepts/#section-html is what we currently have

[07:17:35.0000] <zewt>
(IE/MS has pretty much stonewalled and said they'll never, ever change anything to do with legacy encodings in any way, so the choice is "do what IE does" or "never have interop")

[07:17:52.0000] <annevk>
no that was just one guy

[07:17:58.0000] <annevk>
and he already backtraced later on

[07:19:49.0000] <zcorpan>
MS also have a track record of saying they'll never do something and then do it anyway

[07:20:47.0000] <zewt>
it sounded to me like he was equating "IE's encodings" to "the underlying codepage tables in Windows", which seemed wrong, but for legacy codepages it doesn't really matter to me which implementation to move towards, as long as we do

[07:24:08.0000] <annevk>
XHR2 was also not going to happen

[07:24:35.0000] <annevk>
I don't really care about their statements anymore, long term it'll be okay

[07:35:44.0000] <annevk>
miketaylr: browser.js should really be out of scope for the user-agent discussion

[07:35:56.0000] <annevk>
miketaylr: borwser.js can have all kinds of enhancements and access to special APIs

[07:36:24.0000] <annevk>
miketaylr: what's important for the XHR Standard is what happens if scripts all around the web can set a header that was previously thought of as "safe"

[07:37:30.0000] <miketaylr>
sure, i'm not really sold either way

[07:37:39.0000] <miketaylr>
just wanted to chime in on the "contact all sites" bit

[07:38:02.0000] <miketaylr>
because we all know how that turns out

[07:39:40.0000] <miketaylr>
annevk: are there any actual security concerns, or is it more of a "dont rock the boat" thing?

[07:39:57.0000] <miketaylr>
(though that's probably terrible wording to describe it)

[08:01:08.0000] <annevk>
miketaylr: don't remember all the details, abarth might know

[08:01:18.0000] <annevk>
miketaylr: that list is pretty old

[08:01:53.0000] <miketaylr>
k

[08:19:36.0000] <AryehGregor>
annevk, do you know of any way to test encoding canonicalization (via .characterSet) without using PHP or anything?

[08:19:54.0000] <AryehGregor>
IE doesn't support data: as iframe src, and IE/Opera don't work with document.open() (apparently).

[08:20:30.0000] <AryehGregor>
I'd write tests, but I don't know what a good way to do it is.

[08:20:36.0000] <AryehGregor>
(also, do we have any place to put such tests?)

[08:21:18.0000] <annevk>
other than data: URLs I don't really know, does that not work in IE10 either?

[08:21:21.0000] <AryehGregor>
(I've been using the W3C for DOM, but maybe that's not the best idea)

[08:21:25.0000] <annevk>
I wonder how data URLs function in IE10...

[08:21:30.0000] <AryehGregor>
No, IE deliberately only allows data: in very limited contexts.

[08:21:40.0000] <annevk>
ooh

[08:21:56.0000] <AryehGregor>
I'm not sure why.

[08:22:12.0000] <AryehGregor>
I understand they don't allow them in the URL bar, but why not as an iframe src?

[08:22:15.0000] <AryehGregor>
/me double-checks to be sure

[08:22:21.0000] <annevk>
I guess in theory you could navigate to a data URL and then navigate back

[08:22:25.0000] <annevk>
oh, not in the URL bar either

[08:23:12.0000] <AryehGregor>
"The webpage cannot be displayed.  Most likely cause: Some content or files on this webpage require a program that you don't have installed. . . ."

[08:23:49.0000] <annevk>
if the server does not set charset you could just generate a bunch of pages

[08:24:17.0000] <annevk>
I mean apart from utf-16 they're all ASCII-compatible so that's not very hard

[08:24:45.0000] <AryehGregor>
There are what, a couple hundred things to test?

[08:25:02.0000] <annevk>
different labels? I suppose

[08:25:17.0000] <AryehGregor>
I'd prefer using PHP to that.

[08:26:05.0000] <annevk>
yeah, Gecko seems to frown upon PHP though

[08:27:11.0000] <annevk>
disregard that, I'm not sure if that was the real concern

[08:27:20.0000] <AryehGregor>
Yes, I'd really prefer to avoid PHP.

[08:27:55.0000] <AryehGregor>
I could make two different test versions, with one using data: URLs and one PHP but with all the same underlying code.

[08:28:15.0000] <jgraham>
The PHP thing is something we need to sort out

[08:29:03.0000] <jgraham>
It sucks if people are all writing tests in formats that only work on their setup as soon as anything dynamic is required on the server side

[08:29:50.0000] <AryehGregor>
If something is really required to be dynamic on the server side, is there any easier/more portable solution than PHP?

[08:30:06.0000] <AryehGregor>
Python would be harder to set up, if anything.

[08:30:10.0000] <jgraham>
AryehGregor: Well Mozilla are the people that object to PHP

[08:30:25.0000] <AryehGregor>
Except that Gecko already depends on Python, and probably WebKit does too.

[08:30:34.0000] <AryehGregor>
"Mozilla" doesn't object to anything, some people at Mozilla might.  :)

[08:30:51.0000] <jgraham>
Let me rephrase

[08:30:55.0000] <AryehGregor>
annevk, also, do you have a place to put encoding tests?  The WHATWG needs a place to put its tests.

[08:31:01.0000] <AryehGregor>
In some runnable fashion.

[08:31:04.0000] <jgraham>
Running PHP with your test setup seems like a headache

[08:31:13.0000] <jgraham>
I wouldn't want to do it, I don't think

[08:31:21.0000] <AryehGregor>
Preferably using github instead of Mercurial.  :)

[08:31:30.0000] <AryehGregor>
(assuming Ms2ger is okay using hg-git ;) )

[08:31:40.0000] <annevk>
AryehGregor: all tests in a single repo?

[08:31:57.0000] <jgraham>
annevk: One module per spec, please

[08:32:00.0000] <jgraham>
*repo

[08:32:11.0000] <annevk>
jgraham: what if we move specs around?

[08:32:12.0000] <AryehGregor>
Either way works for me.

[08:32:19.0000] <AryehGregor>
annevk, well, we could move tests around too, then.  :)

[08:32:24.0000] <jgraham>
annevk: Then we will move the tests around

[08:32:28.0000] <AryehGregor>
I'd go with one repo, but I don't care much.

[08:32:36.0000] <jgraham>
You can even keep history, maybe

[08:32:40.0000] <annevk>
I don't care either, so I guess jgraham wins?

[08:32:46.0000] <jgraham>
Yay!

[08:32:46.0000] <annevk>
poor decision making...

[08:32:48.0000] <AryehGregor>
Yeah, you can with git, if you want to do voodoo magic.

[08:32:55.0000] <AryehGregor>
git-filter-branch, scary stuff.

[08:33:05.0000] <annevk>
AryehGregor: you can create repos I think

[08:33:11.0000] <jgraham>
I think you can do it without filter-branch

[08:33:28.0000] <jgraham>
Oh, well I guess you mean for the case where a subset of tests move

[08:33:35.0000] <jgraham>
Yeah, then you need filter-branch

[08:33:41.0000] <jgraham>
Or maybe git subtree

[08:33:44.0000] <annevk>
AryehGregor: I could give you access to http://testsuite.org/ maybe or have Hixie_ setup test.whatwg.org

[08:34:36.0000] <annevk>
preferably public domain btw for "our" tests

[08:35:25.0000] <annevk>
should we have some kind of naming convention?

[08:35:33.0000] <annevk>
e.g. encoding = spec; encoding.test = tests?

[08:35:59.0000] <annevk>
in the end though, if AryehGregor is going to set this up and prefers a single repo, have a single repo

[08:39:46.0000] <AryehGregor>
annevk, oh, HTML still references IANA for charsets.  Do you have a bug open to get Hixie to switch?

[08:39:56.0000] <annevk>
yes

[08:43:08.0000] <annevk>
am I missing something or does https://www.w3.org/Bugs/Public/show_bug.cgi?id=17003 seem really bad for streaming?

[08:45:20.0000] <annevk>
ah no, it's not

[08:48:51.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=14689#c28 lol lol lol

[08:49:07.0000] <annevk>
refuse to define xml-stylesheet for years, then demand some other group to fix it by some deadline

[08:49:13.0000] <annevk>
classic

[08:49:34.0000] <annevk>
time to remove myself from the cc list

[09:06:25.0000] <dglazkov>
good morning, Whatwg!

[09:09:06.0000] <annevk>
morning dglazkov

[09:13:24.0000] <hober>
annevk: do you have citations for their prior refusals? that would help me to wontfix it. :)

[09:14:12.0000] <annevk>
zcorpan worked on defining xml-stylesheet and it was dumbed down all the time

[09:14:32.0000] <annevk>
I suspect you can find some of that discussion on their mailing list

[09:18:18.0000] <annevk>
I wonder what happens if I tell the CSS WG they have to define how two legacy encoding names influence bidi: https://www.w3.org/Bugs/Public/show_bug.cgi?id=17003

[09:20:31.0000] <SimonSapin>
annevk: I don’t quite understand, how does this CSS?

[09:21:08.0000] <annevk>
DOM is identical, visually the text is reversed

[09:21:45.0000] <SimonSapin>
Based on the source character encoding? Should it?

[09:21:55.0000] <annevk>
every browser does it

[09:21:56.0000] <Hixie_>
gavinc: how does a document contain a fragment of xml/html?

[09:22:46.0000] <SimonSapin>
I’m still a few light-years away from implementing bidi at all :)

[09:24:36.0000] <annevk>
lucky you

[09:24:52.0000] <annevk>
this is for legacy content only btw; maybe you can demand utf-8 only stuff?

[09:26:16.0000] <SimonSapin>
maybe, but I generally don’t care much about legacy content in weasyprint

[09:27:26.0000] <AryehGregor>
annevk, jgraham: FTR, for the editing spec I just put the tests in the same repo as the spec.  I think that actually makes quite a bit of sense.

[09:27:49.0000] <annevk>
AryehGregor: that works for me too, you have access to dom / encoding etc. already

[09:28:05.0000] <AryehGregor>
They just need to be checked out somewhere where they're runnable.

[09:28:20.0000] <AryehGregor>
Preferably in a way that allows running arbitrary old revisions.

[09:28:47.0000] <annevk>
AryehGregor: hmm I was gonna say that shouldn't be too hard...

[09:28:52.0000] <Hixie_>
AryehGregor: there was some designMode bug i cc'ed you on

[09:29:03.0000] <jgraham>
AryehGregor: That sounds fine

[09:29:03.0000] <AryehGregor>
Hixie_, I replied, didn't I?

[09:29:16.0000] <jgraham>
I wasn't really objecting to that, maybe I misunderstood the question

[09:29:18.0000] <Hixie_>
AryehGregor: probably, i haven't seen my bugmail yet. :-) if so, thanks muchly

[09:39:17.0000] <jsbell>
stupid undefined

[09:50:37.0000] <annevk>
jsbell: how do you feel about just supporting #2?

[09:51:23.0000] <annevk>
jsbell: I mean we can expose all kinds of things, but so far we only heard requests for not propagating the weird BOM behavior of the web to the API

[09:51:47.0000] <jsbell>
Let me dig up the message requesting  for BOM handling for utf-16 specifically...

[09:51:51.0000] <annevk>
jsbell: the weird BOM behavior is ignoring the encoding label in favor of the BOM, this is the reverse

[09:54:34.0000] <jsbell>
Looks like http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-August/036821.html and no-one else championed for it

[09:54:58.0000] <jsbell>
zewt: ^^ your message (re: special casing "utf-16" like iconv)

[09:54:59.0000] <annevk>
I talked with zewt and my impression is that mainly he cares about not propagating utf-16

[09:55:27.0000] <jsbell>
annevk: if we do #2 only then if users want BOM-switching they can sniff the first two bytes themselves. I'm fine with that.

[09:56:15.0000] <jsbell>
(or 3 if they care about UTF-8)

[09:56:45.0000] <annevk>
jsbell: as for speccing the streaming variant, it seems that needs some special casing to only consume the BOM at the start

[09:56:52.0000] <jsbell>
I don't think anyone was championing #1 over #2 ever

[09:58:07.0000] <jsbell>
annevk: yes... the spec right now attempts to define a byte stream provided by multiple calls and special handling of the start (i.e. suspending processing until N bytes are present), but it's not very clearly written.

[09:58:39.0000] <annevk>
and the Encoding spec just assumes a byte stream whereas the API really provides a fixed set of bytes each time

[09:58:44.0000] <jsbell>
annevk: I was hoping to excise that into a more algorithmic form but $WORK + $FAMILY

[09:58:54.0000] <annevk>
yeah fair enough

[09:59:23.0000] <annevk>
I'll think about it a bit, not sure when I'll have time to draft, maybe tomorrow

[09:59:33.0000] <annevk>
I've been meaning to get to URLs, but they can wait a little longer

[09:59:51.0000] <annevk>
bbl

[10:00:01.0000] <jsbell>
Hrm, I probably need to dust off my URL polyfill

[10:07:38.0000] <Hixie_>
hober: what crack are they smoking over there

[10:07:51.0000] <Hixie_>
hober: that change of screen readers to printers completely misses the point of the paragraph

[10:10:44.0000] <hober>
Hixie_: fortunately, that change doesn't alter any normative requirements. silver lining?

[10:11:12.0000] <gavinc>
Hixie_: A Turtle document contains the data about a book. Part of that data is a description of the book which includes markup such as <em>, <strong>, <ul>, maybe a <ruby> or two. The description is not a complete HTML page, but might be designed to be displayed inside another page along with the rest of the data.

[10:11:49.0000] <Hixie_>
gavinc: oh, i see. If you just want to describe a DOM fragment in a non-XML non-HTML document, I would strongly recommend using XML only.

[10:12:07.0000] <gavinc>
Hixie_: ... really?

[10:12:21.0000] <gavinc>
Hixie_: How would I insert that into an HTML document?

[10:12:25.0000] <Hixie_>
gavinc: yeah, XML can describe arbitrary DOM fragments much better than HTML

[10:12:44.0000] <Hixie_>
gavinc: parse it into a DOM fragment, then insert it, once it's in DOM form, there's no issue

[10:12:57.0000] <gavinc>
Hixie_: Yes, I agree, but putting that fragment into an HTML document... ahh, use DOM as the interchange?

[10:13:15.0000] <Hixie_>
well how else would you do it?

[10:13:30.0000] <gavinc>
Simple string concat ;)

[10:13:39.0000] <gavinc>
The same way most CMSes do today

[10:14:49.0000] <Hixie_>
oh well if you just want to do string concatenation, then you don't have to worry about parsing the fragment

[10:14:56.0000] <Hixie_>
so then just include a fragment, datatype "string"

[10:15:10.0000] <Hixie_>
but that's just asking for trouble

[10:15:24.0000] <gavinc>
Yes, thus the goal of having an HTML datatype

[10:15:38.0000] <Hixie_>
i mean string concatenation is asking for trouble

[10:15:44.0000] <gavinc>
Yes

[10:15:48.0000] <Hixie_>
having an HTML datatype doesn't help if you're still concatenating

[10:15:59.0000] <gavinc>
No, but it does say "THIS IS NOT A STRING"

[10:16:12.0000] <gavinc>
since doing string concat with strings is perfectly fine

[10:16:17.0000] <gavinc>
but not with HTML

[10:16:37.0000] <Hixie_>
if the data type you're trying to represent is just a dom fragment, then XML is your best bet.

[10:16:58.0000] <Hixie_>
text/html doesn't have a sane way to represent fragments

[10:17:09.0000] <Hixie_>
whereas XML is perfect for it

[10:17:32.0000] <gavinc>
in that case, can you look at http://dvcs.w3.org/hg/rdf/raw-file/default/rdf-concepts/index.html#section-XMLLiteral ?

[10:17:53.0000] <Hixie_>
what about it?

[10:18:38.0000] <gavinc>
So if we added to that a note about how to store HTML fragments using that, it would make more sense then recommending the new HTML datatype?

[10:19:34.0000] <Hixie_>
just drop the HTML datatype entirely

[10:19:46.0000] <gavinc>
the value space for XMLLiteral USED to be the canonical lexical form of the XML

[10:19:57.0000] <gavinc>
I think changing it to the DOM makes this all saner?

[10:20:03.0000] <gavinc>
okay

[10:20:16.0000] <Hixie_>
i don't understand what you just said

[10:20:25.0000] <gavinc>
yes, that's alright

[10:20:33.0000] <gavinc>
1.0 had a very bad idea

[10:20:44.0000] <gavinc>
that no one implemented correctly

[10:21:14.0000] <Hixie_>
you have no idea how hard it is for me to hold my tongue when you give me openings like that

[10:21:20.0000] <gavinc>
heh

[10:21:42.0000] <gavinc>
indeed

[10:22:21.0000] <gavinc>
and once there is a DOM DocumentFragment, that can easily be added to an HTML document

[10:22:23.0000] <gavinc>
okay

[10:22:48.0000] <gavinc>
and your preferred reference for DOM is http://dom.spec.whatwg.org/

[10:23:24.0000] <Hixie_>
once there is a DOM DocumentFragment, that can easily be added to a DOM Document, which could contain HTML

[10:23:48.0000] <Hixie_>
http://dom.spec.whatwg.org/ is to my knowledge the only current reference of the DOM spec

[10:24:23.0000] <Hixie_>
AryehGregor: if you're still around, see https://www.w3.org/Bugs/Public/show_bug.cgi?id=19473

[10:24:34.0000] <gavinc>
mmm, not exactly sure how to link non living standards to living ones

[10:24:36.0000] <gavinc>
sigh

[10:24:50.0000] <Hixie_>
<a href="url...">name...</a>

[10:24:57.0000] <gavinc>
I'll make that someone elses issue ;)

[10:25:01.0000] <gavinc>
yes :D

[10:46:25.0000] <annevk>
jsbell: https://github.com/annevk/url patches welcome

[10:46:41.0000] <annevk>
jsbell: it's based on http://url.spec.whatwg.org/ (or rather the other way around)

[10:53:48.0000] <Ms2ger>
annevk, yeah, I am

[11:23:46.0000] <hober>
hsivonen++

[11:26:07.0000] <annevk>
that bug I just unsubscribed from?

[11:27:04.0000] <annevk>
nope

[11:37:31.0000] <annevk>
hober: could you maybe ask ap about https://www.w3.org/Bugs/Public/show_bug.cgi?id=17053 ?

[11:38:08.0000] <annevk>
bbl

[11:53:57.0000] <Hixie_>
i have lost one of my scripts

[11:54:15.0000] <Hixie_>
it runs every hour and futzes with my imap folders to track the work i have to do

[11:54:19.0000] <Hixie_>
but i can't recall where it is

[11:54:20.0000] <Hixie_>
-_-

[11:54:23.0000] <Hixie_>
/me looks up the crontab file

[11:59:43.0000] <Hixie_>
hsivonen: for the record, with the menuitem thing, it's in the spec because everyone seems to agree that it's a problem we should resolve, and nobody has proposed something better. The only feedback I'm aware of is the <menuitem> feedback, and I considered it carefully, but it had numerous flaws (e.g. poor back-compat story) which is why I didn't adopt it.

[12:00:07.0000] <Hixie_>
hsivonen: I certainly object to the characterisation of having it in the spec being "bait for indifferent implementors"

[12:00:22.0000] <Hixie_>
hsivonen: I think I've shown numerous times over the years that things without buy-in get dropped.

[12:01:27.0000] <Hixie_>
hsivonen: including dropping entire specs that did have buy-in from multiple vendors but didn't have buy-in from Mozilla (e.g. WebSQL, the original networking stuff, many parts of Web Forms 2)

[12:03:44.0000] <annevk>
what are all you guys talking about?

[12:03:59.0000] <annevk>
ooh, is this public-html

[12:07:00.0000] <Hixie_>
anyone got any plugin test cases? I need a way to test whether an <embed> element is instantiating a plugin or not

[12:07:09.0000] <Hixie_>
a possibly invisible <embed>

[12:07:24.0000] <Hixie_>
anyone got a flash file that goes "bing" or something?

[12:07:25.0000] <annevk>
you had plenty yourself iirc

[12:07:48.0000] <Hixie_>
well i wrte my own NPAPI plugin once but I don't know where that is nowadays

[12:08:03.0000] <Hixie_>
and I don't really want to try to recompile it :-)

[12:10:19.0000] <annevk>
http://www.bobbyvandersluis.com/flashembed/testsuite/ has a bunch of tests anyway

[12:11:45.0000] <Hixie_>
thanks

[12:11:55.0000] <Hixie_>
seems like none of those woudl work if the plugin is invisible

[12:11:57.0000] <Hixie_>
damnit

[12:13:30.0000] <annevk>
Hixie_: found this http://flashbeep.net/

[12:13:37.0000] <annevk>
Hixie_: via that tool from your employer

[12:13:57.0000] <annevk>
dunno if it works via <embed> though

[12:13:57.0000] <Hixie_>
ho ho!

[12:13:58.0000] <annevk>
hmm

[12:13:59.0000] <Hixie_>
thanks

[12:14:09.0000] <Hixie_>
will try

[12:17:44.0000] <Hixie_>
nope, looks like <embed> doesn't expose the interface, at least not in chrome

[12:18:18.0000] <Hixie_>
hm, the spec says it should

[12:19:46.0000] <annevk>
http://www.hark.com/clips/pvhqchpdfl-data-beep-modern-1 autoplays a beep it seems

[12:20:57.0000] <Hixie_>
oh i was trying to make the other one work cross-origin, that'll be my problem

[12:21:28.0000] <Hixie_>
ohh, let's try that one

[12:21:42.0000] <annevk>
can't get it to work

[12:21:51.0000] <annevk>
oh maybe same problem

[12:22:32.0000] <Hixie_>
that page has all kinds of new HTML elements on it

[12:22:39.0000] <Hixie_>
<figure>, <header>, microdata...

[12:22:51.0000] <Hixie_>
lol

[12:22:55.0000] <Hixie_>
that page is using <audio>

[12:23:02.0000] <annevk>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Cembed%20src%3D%22http%3A%2F%2Fcdn.hark.com%2Fswfs%2Fplayer_fb.swf%3Fpid%3Dpvhqchpdfl%26as%3D1%22%3E

[12:23:08.0000] <annevk>
Hixie_: doesn't autoplay when display:none

[12:23:34.0000] <Hixie_>
doesn't instantiate when display:none, i hope

[12:23:34.0000] <annevk>
(the embed code it provides is for Flash)

[12:23:47.0000] <annevk>
I guess that's what happens, right

[12:23:56.0000] <Hixie_>
that live dome page doesn't do anything for me

[12:24:09.0000] <Hixie_>
oh, i know why

[12:24:15.0000] <Hixie_>
silly xss protection

[12:24:19.0000] <annevk>
:/

[12:24:32.0000] <Hixie_>
thanks, that's perfect

[12:24:36.0000] <Hixie_>
annevk++

[12:55:16.0000] <siebrand>
Hi. I'd like to fix an HTML5 validation issue MediaWiki is having by adding ResourceLoaderDynamicStyles as a meta extension. See http://www.mediawiki.org/wiki/Thread:Project:Support_desk/ResourceLoaderDynamicStyles_and_Wiki_validation for details.

[12:55:20.0000] <siebrand>
How to proceed?

[12:56:15.0000] <Hixie_>
is there a spec for this meta value?

[12:56:36.0000] <Hixie_>
(you can add it to the wiki, just give me your e-mail address, name, and preferred username and i'll create an account)

[13:04:25.0000] <annevk>
(you only need email/username)

[13:04:40.0000] <annevk>
/me lowballs Hixie_ :p

[13:05:15.0000] <siebrand>
Hixie_: I'll make sure we'll get a spec.

[13:06:06.0000] <siebrand>
Hixie_: Details provided in prig msg.

[13:06:09.0000] <siebrand>
priv, even

[13:09:27.0000] <siebrand>
Hixie_: While Im at it, can you maybe ping the wiki maintainer about possibly updating the wiki? MediaWiki 1.17alpha is slightly outdated :)

[13:10:00.0000] <annevk>
siebrand: I did the other day, he's afraid of regressions and rather works on standards/tests

[13:10:28.0000] <annevk>
siebrand: if you're interested in helping us out, ping AryehGregor ;-)

[13:11:05.0000] <siebrand>
annevk: Are you guys doing anything special? From what I can see you're only got two very well maintained extensions set up (both in use by Wikimedia).

[13:11:54.0000] <annevk>
siebrand: I doubt it, AryehGregor might know, he updated it the last time

[13:11:56.0000] <siebrand>
annevk: You should be able to update to a Wikimedia Git branch without issue, as far as I can tell. Is Aryeh the maintainer?

[13:12:03.0000] <annevk>
yeah

[13:12:38.0000] <siebrand>
annevk: well, he knows his shit when it comes to MediaWiki, but has been very inactive for the past 12-18 months.

[13:14:34.0000] <Hixie_>
he's been active over here :-)

[13:14:38.0000] <Hixie_>
setting up your account now, one sec

[13:15:14.0000] <Hixie_>
done

[13:15:30.0000] <Ms2ger>
siebrand, he mentioned updating it earlier, but didn't want to spend his employer's time on doing it :)

[13:15:52.0000] <siebrand>
Hixie_: Much appreciated. Might take a few days before I've got the table row content together.

[13:15:53.0000] <Hixie_>
siebrand: btw we'd love to just reenable arbitrary logins on that wiki, but we got snowed under with spam

[13:16:11.0000] <Hixie_>
siebrand: so if y'all over in mediawiki land can figure out how to get rid of spammers, that'd be awesome. ;-)

[13:16:14.0000] <siebrand>
Hixie_: it's really hard to combat lately :(

[13:16:23.0000] <Hixie_>
yeah, tell me about it

[13:16:28.0000] <jgraham>
Hmm, when hsivonen says "our" is he stating an official Mozilla position?

[13:16:30.0000] <Hixie_>
i'm actually surprised nobody has just asked us for an account

[13:16:40.0000] <siebrand>
we're using QueryCaptcha at translatewiki.net.

[13:16:55.0000] <siebrand>
That 4-5 custom questions tends to work for 14 days or less.

[13:16:58.0000] <Hixie_>
jgraham: last i heard, mozilla was like google, with as many opinions as contributors :-P

[13:17:01.0000] <siebrand>
Then someone's automated that too.

[13:17:20.0000] <siebrand>
Recaptcha is solved by computers, so no more luck there.

[13:17:29.0000] <Hixie_>
siebrand: we were getting lots of people who weren't even automating things, just doing it manually

[13:17:31.0000] <Ms2ger>
jgraham, in general, don't assume anybody is stating an official Mozilla position :)

[13:17:43.0000] <jgraham>
Ms2ger, Hixie_: That's why I ask

[13:17:55.0000] <Ms2ger>
jgraham, pointer?

[13:18:39.0000] <jgraham>
http://lists.w3.org/Archives/Public/public-html/2012Oct/0055.html

[13:18:52.0000] <jgraham>
(I haven't read the full message yet)

[13:20:49.0000] <Ms2ger>
Not something I remember hearing many people complain about, but that might just be me

[13:23:29.0000] <Hixie_>
food time

[13:23:30.0000] <Hixie_>
bbl

[16:59:40.0000] <ap__>
Hixie_: can shared workers actually be created by name "without the applications having to keep track of a common URL for the script used to provide the service"? I only see SharedWorker constructor that requires a matching URL even if a name is provided. Is there another API that can find a worker by name?


2012-10-12
[17:49:38.0000] <Yuhong>
# [16:32] <zewt> it sounded to me like he was equating "IE's encodings" to "the underlying codepage tables in Windows", which seemed wrong, but for legacy codepages it doesn't really matter to me which implementation to move towards, as long as we do

[17:50:12.0000] <Yuhong>
It is pretty close already anyway, and legacy encoding is not something people would develop new content to.

[17:50:52.0000] <Yuhong>
Nobody cares about JIS X 0212 support in EUC-JP.

[17:50:58.0000] <Yuhong>
For examle.

[22:07:50.0000] <hsivonen>
jgraham: I was not stating an official Mozilla position. I don’t even know by what mechanism Mozilla could develop an official position on something. Mozilla is a diverse community of people with a diversity of opinion.

[22:08:35.0000] <hsivonen>
jgraham: The word “our” you were wondering about referred to me and a non-zero number of other engineers who work on Gecko and who may identify themselves if they so choose.

[22:11:27.0000] <hsivonen>
Hixie_: When you get mutually contradictory feedback from multiple implementors who have an active interest in a feature, it makes sense to “carefully consider” and arbitrate one way of speccing it.

[22:11:40.0000] <Hixie_>
hsivonen: that's what i did

[22:11:52.0000] <Hixie_>
hsivonen: i just didn't arbitrate to the one way mozilla wants :-)

[22:11:57.0000] <Hixie_>
(in this particular case)

[22:12:17.0000] <hsivonen>
Hixie_: however, when you get negative implementor feedback and still choose to keep stuff in the spec, in practice the part of spec is waiting for another implementor to come along and implement what’s in the spec

[22:12:46.0000] <Hixie_>
everything in the spec is waiting for implementations, sure

[22:13:48.0000] <hsivonen>
Hixie_: pointing to Web SQL is not a great example. It should not be that hard to get something dropped. Moreover, it has not even been successfully dropped from all implementations.

[22:14:30.0000] <Hixie_>
hard? i dropped websql literally in the meeting where mozilla and microsoft said they weren't interested, iirc.

[22:16:53.0000] <hsivonen>
Hixie_: in any case, keeping stuff in the spec is not neutral even if the features still have the opportunity to fail to get implemented

[22:17:39.0000] <hsivonen>
Hixie_: if there is a dispute and you leave something in the spec, you are tilting the odds in favor of what’s in the spec getting implemented by someone

[22:17:54.0000] <Hixie_>
yes, that's the idea

[22:18:36.0000] <Hixie_>
the job of a spec editor is to be opinionated and to do what he thinks is best to improve the web the best way, not to be neutral. neutral is what gets you committee-driven wishy-washy design.

[22:20:15.0000] <hsivonen>
Hixie_: you think it’s your job to be opinionated against implementor feedback in cases where feedback from active implementors goes basically in one direction

[22:20:19.0000] <hsivonen>
?

[22:20:57.0000] <hsivonen>
(as opposed to the case of arbitrating contradictory feedback from multiple active implementors)

[22:21:31.0000] <Hixie_>
hsivonen: i have feedback from multiple vendors on this particular issue

[22:21:41.0000] <hsivonen>
Hixie_: oh?

[22:21:47.0000] <Hixie_>
though yes, in the abstract, even if it was just one vendor, sure

[22:22:03.0000] <hsivonen>
Hixie_: are the other vendors actively implementing

[22:22:05.0000] <hsivonen>
?

[22:22:29.0000] <Hixie_>
(i.e. if we have a use case X that everyone agrees should be done, and only one vendor has made a comment, and that comment is obviously wrong (not saying it's that stark in this case, of course), then obviously my job is to ignore that vendor's feedback)

[22:22:35.0000] <Hixie_>
hsivonen: i'm not aware of any actively implementing

[22:23:37.0000] <hsivonen>
Hixie_: uh. Firefox has had an implementation of context menu items (not the spec way) for months. (Probably on the release channel even, I don’t recall it getting turned off.)

[22:23:48.0000] <Hixie_>
yes

[22:23:54.0000] <Hixie_>
i meant any others

[22:24:00.0000] <hsivonen>
Hixie_: I see

[22:24:05.0000] <Hixie_>
sorry, thought that was clear :-)

[22:25:45.0000] <hsivonen>
Hixie_: well, to the extent I’ve talked with other Gecko engineers, this pattern in general (not necessarily in the context menu case in particular) is the top beef with the WHATWG way of working.

[22:25:55.0000] <Hixie_>
what other cases are there?

[22:28:49.0000] <hsivonen>
Hixie_: I forget right now, so can’t be too serious.

[22:29:34.0000] <Hixie_>
if there are cases of me doing something that mozilla people aren't happy with, please don't hesitate to immediately bring them to my attention, either in public or privately, so that i can make sure i review the situation

[22:29:45.0000] <Hixie_>
that applies now or in the future

[22:29:53.0000] <hsivonen>
Hixie_: the pattern that your opinion stays in the spec unless two implementors actively implement something else is the real annoyance with the WHATWG way of doing things

[22:30:24.0000] <Hixie_>
whose opinion should be in the spec instead? :-)

[22:30:30.0000] <Hixie_>
maybe we should get them to edit the spec :-)

[22:32:55.0000] <hsivonen>
Hixie_: well, if you get negative implementor feedback, I think the spec should change even before implementors show they are serious by implementing something that’s not specced

[22:33:21.0000] <hsivonen>
Hixie_: I’m pretty sure I’ve let you know when you’ve done something specific I wasn’t happy with

[22:33:28.0000] <Hixie_>
no, that i disagree with. what matters is what the feedback is, not just who says it.

[22:34:13.0000] <hsivonen>
Hixie_: or, at least, the spec text should now appear together with the well-baked stuff so that other implementors don’t accidentally implement disputed stuff out of not having paid attention to dispute

[22:34:59.0000] <Hixie_>
if i put something in the spec, and google tells me "hey you should make this work like X instead", where X is something that's good for google but bad for the web, then i think it'd be wrong for me to put X in. And I don't think it's worth putting a warning in the spec there for that kind of case.

[22:35:05.0000] <Hixie_>
we do have warnings for other things.

[22:35:33.0000] <Hixie_>
(usually though by the time i know it's controversial i can also fix it right then)

[22:35:35.0000] <hsivonen>
Hixie_: I can’t argue with that kind of formulation

[22:35:52.0000] <Hixie_>
heh

[22:35:58.0000] <Hixie_>
i'm just saying it's not black and white

[22:36:07.0000] <Hixie_>
i agree that there are cases where we should have warnings

[22:36:29.0000] <Hixie_>
i would even grant that we should have them more often

[22:36:35.0000] <Hixie_>
let me know if you think i should add one :-)

[22:36:44.0000] <Hixie_>
(last one i added i think was for bz)

[22:38:23.0000] <hsivonen>
FWIW, *my* personal latest beef is that when I was working on the script/stylesheet interblocking stuff, you (IIRC) insisted on keeping the unworkable spec text. So I had to make something up. Then a WebKit dude raised the same issue over a year (?) later and you found in favor of WebKit.

[22:38:43.0000] <hsivonen>
and now I’ve paged out all that stuff and moved on and Gecko is wrong per spec

[22:39:05.0000] <Hixie_>
the lag is definitely an issue. i'm actively working on reducing that.

[22:39:17.0000] <Hixie_>
not sure about the specifics of that case though

[22:39:46.0000] <hsivonen>
I think it’s a mild instance of the pattern of you keeping your way so that implementations end up differing

[22:40:05.0000] <hsivonen>
in that case, your way was always fictitious, AFAICT

[22:40:51.0000] <Hixie_>
if i didn't have good rationale for doing that, and it wasn't just that i hadn't gotten to it yet, then i apologise. (well i apologise in any case.)

[22:41:06.0000] <hsivonen>
Hixie_: ok.

[22:41:21.0000] <Hixie_>
(i don't recall that specific case so not sure what the situation was)

[22:41:40.0000] <Hixie_>
oh wait, was this the document.write() thing?

[22:41:45.0000] <hsivonen>
(what you wanted was the most consistent thing, IIRC. just unworkable with real event loops)

[22:42:13.0000] <hsivonen>
doc.write and parser-blocking sheets, yeah

[22:42:44.0000] <Hixie_>
wasn't what you wanted that the input stream track on a byte-by-byte basis whether the text was from document.write() or something else?

[22:43:18.0000] <hsivonen>
yeah, but I had to come up with *something* on my own, when you insisted on keeping the spec in a state that wasn’t going to fly

[22:43:35.0000] <Hixie_>
if it's that then the reason i didn't do what you wanted is that i thought that was a huge implementation burden, and i thought that there was a better way to do it. the reason it took so long to do is just that it took me forever to get around to it due to lag, which i am working to reduce

[22:43:50.0000] <Hixie_>
you should have found the better solution i eventually found :-P

[22:43:55.0000] <Hixie_>
wasn't just that i sided with webkit

[22:44:08.0000] <Hixie_>
i sided with IE, Gecko 3.6, Opera, and WebKit :-P

[22:44:19.0000] <Hixie_>
(er, Firefox 3.6)

[22:44:24.0000] <hsivonen>
not with IE, though, right?

[22:44:59.0000] <Hixie_>
well, IE's behaviour is pretty wacked iirc, but it didn't have any evidence of tracking per-byte source either

[22:52:57.0000] <hsivonen>
s/should now appear/should NOT appear/ above

[00:00:49.0000] <JonathanNeal>
Should the links inside a <nav> also be in a <ul> and <li>, or are there other appropriate elements they could be in?

[00:04:27.0000] <Hixie_>
<p> is fine too

[00:04:33.0000] <Hixie_>
or just nothing, if it's one paragraph

[00:06:10.0000] <jgraham>
hsivonen: Oh. The use of "our" to mean "an unnamed and hiterto unmentioned group of individuals distict from the organisation I nominally represent", was very unclear

[00:07:07.0000] <JonathanNeal>
Something bothers me about the readability of the <ul>. I want to have a collection of links, but I want them to be meaningful. I'm not sure if <nav> provides enough meaning to drop the <ul> or even <p>.

[00:07:23.0000] <JonathanNeal>
Thanks for the input, Hixie_.

[00:08:19.0000] <AryehGregor>
jgraham, generally in the W3C, David Baron seems to be the only one who presents official Mozilla positions.  I think he normally says things like "Mozilla supports X" when he does so, like "Mozilla supports the publication of X as a FPWD."

[00:08:35.0000] <AryehGregor>
He's our AC rep, so he kind of has to speak officially sometimes.

[00:11:03.0000] <jgraham>
AryehGregor: Right. I *know* that Mozilla people don't claim to give official positions, which is why I asked. Someone who didn't know that could reasonably assume from the phrasing of the email that hsivonen was in fact giving a Mozilla position.

[00:11:18.0000] <AryehGregor>
I guess hsivonen might speak de facto officially for Mozilla on matters relating to parsing, since he owns that module.

[00:11:20.0000] <AryehGregor>
Well, yeah.

[00:11:46.0000] <AryehGregor>
The other thing about Mozilla is, we don't have a PR team haranguing us about how to phrase our communications.  :)

[00:12:24.0000] <AryehGregor>
(at Google I was allowed to say whatever I wanted, but I was asked on at least one occasion to phrase something so that it couldn't be misconstrued as an official Google position)

[00:12:25.0000] <jgraham>
To be fair all of this is true at Opera as well

[00:12:53.0000] <AryehGregor>
It seems to be more true at Mozilla than anywhere.

[00:13:04.0000] <annevk>
Opera (used to have?) has one person per group that can speak for Opera

[00:13:09.0000] <AryehGregor>
Since really, there's nobody who *can* give an official position, generally speaking.

[00:13:37.0000] <jgraham>
annevk: Right, that person nominally exists, although I guess it is mainly LEB now

[00:14:11.0000] <annevk>
though whenever I had that position I rarely did

[00:14:11.0000] <jgraham>
But in general one should never assume that something you hear from someone at Opera is something official

[00:14:26.0000] <jgraham>
Unless they say something that makes it obvious

[00:16:22.0000] <jgraham>
(most of the time this is a somewhat academic question. If you say something like "we are implementing this" it is obviously de-facto the case that you are speaking for Mozilla/Google/whoever, even if you are not their oficial representative)

[00:17:03.0000] <AryehGregor>
I think we all understand this, but it's aggravating when you have to deal with people who don't and start interpreting everything you say as official.

[00:17:11.0000] <AryehGregor>
Shelley Powers isn't around anymore, is she?

[00:17:14.0000] <JonathanNeal>
How weird, "The menu element is not supported by browsers yet. It would probably be better to wait for implementations." I better not implement it if it hasn't been implemented yet?

[00:17:21.0000] <AryehGregor>
She would always do that back in the day.

[00:17:30.0000] <AryehGregor>
"Is that Google's official position?"  "No.  That's why I said 'I'."

[00:17:44.0000] <AryehGregor>
JonathanNeal, don't use it in pages if browsers don't support it yet.

[00:21:19.0000] <JonathanNeal>
Thanks AryehGregor.

[00:24:26.0000] <JonathanNeal>
Would this be semantically acceptable? <nav><a href="/1">Page 1</a> <a href="/2">Page 2</a> <a href="/3">Page 3</a></nav>

[00:25:54.0000] <JonathanNeal>
Coming from HTML4, I would think no. But if a <nav> defines a section that contains only navigation links, it seems game.

[00:27:06.0000] <AryehGregor>
JonathanNeal, of course it would be.  You don't have to mark up every list with a list element.

[00:27:47.0000] <AryehGregor>
You can say "I like apples, oranges, and pears" without having to do "I like <ul><li>apples<li>oranges<li>pears</ul>" and adding the commas and "and" using CSS.

[00:28:44.0000] <AryehGregor>
If you're already using an element for some reason, like a block element for styling, then you should generally use a semantic element instead of <div>/<span>, if one exists that's appropriate.

[00:28:58.0000] <AryehGregor>
But you don't have to gratuitously add elements that you don't need.

[00:29:14.0000] <AryehGregor>
Same goes for <abbr>, which I never use.  You can if you want, but you don't have to use it just because it's there.

[00:29:36.0000] <JonathanNeal>
How is a browser supposed to "support" <menu> ?

[00:29:57.0000] <AryehGregor>
Last I heard, they aren't interested.

[00:30:00.0000] <SimonSapin>
AryehGregor: isn’t the point of <abbr> to have the "long version" in the title attribute?

[00:30:17.0000] <AryehGregor>
But here's the spec, with conformance requirements, if you're interested: http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#the-menu-element

[00:30:29.0000] <AryehGregor>
SimonSapin, sure, if you want it.  Nothing in the spec requires that you use it.

[00:30:42.0000] <AryehGregor>
If you do use it, you have to use it according to its semantics, but it's not mandatory.

[00:31:54.0000] <JonathanNeal>
Yea, I was just there, reading about it. Without a type attribute, it's a kind of list of commands.

[00:33:59.0000] <JonathanNeal>
Not sure how liberal or conservative one is to take "commands". Are they UI commands, application commands, or commands related to the section or document, like a "best viewing" link under a video?

[00:35:01.0000] <AryehGregor>
JonathanNeal, don't use it until browsers support it.  Otherwise your page will break when they do support it, because it will behave differently.

[00:35:13.0000] <AryehGregor>
Once browsers support it, decide if you need it based on functionality.

[00:35:19.0000] <AryehGregor>
Don't use semantics for the sake of semantics.

[00:35:25.0000] <JonathanNeal>
What behavior would they add. There's no behavior in the spec that seems to be troubling.

[00:35:31.0000] <AryehGregor>
(I've heard browsers aren't interested in supporting it)

[00:39:16.0000] <annevk>
JonathanNeal: I use <nav><a>... </nav> on my site

[00:39:19.0000] <annevk>
fwiw

[00:39:54.0000] <JonathanNeal>
Should I have multiple <nav> in a section?

[00:53:39.0000] <zcorpan>
AryehGregor: if IE10 have implemented the spec, why should the rest of us not follow suit?

[00:55:14.0000] <AryehGregor>
zcorpan, for one thing, we aren't sure it's web-compatible.

[00:55:42.0000] <AryehGregor>
IE has the option of falling back to a compatibility mode if the page doesn't work, which other browsers don't, so they can be relatively aggressive in matching specs.

[00:55:42.0000] <zcorpan>
AryehGregor: opera and webkit already seem to expose HTMLDocument members everywhere

[00:55:55.0000] <AryehGregor>
That's not the same issue.

[00:56:22.0000] <AryehGregor>
I mean, it's conceptually related, but compat-wise it's not.

[00:56:27.0000] <zcorpan>
true

[00:56:51.0000] <AryehGregor>
In any case, the spec matches no one but IE10.

[00:57:10.0000] <zcorpan>
what should happen for documents when there's no mime type (e.g. createDocument)?

[00:57:16.0000] <AryehGregor>
And IE10 has the code for its old mode of operation still lying around, so they can reduce codepaths if we go back to the IE9/Gecko/WebKit way.

[00:57:25.0000] <AryehGregor>
I didn't test that last night, I'll do so today.

[00:57:37.0000] <AryehGregor>
I volunteer to do all the testing, write and commit the spec, and write and commit tests.

[00:57:43.0000] <AryehGregor>
As long as no one objects.

[01:00:37.0000] <zcorpan>
i think it's sad to not try to implement the current spec. i mean, it's not clear that it's *not* compatible

[01:00:56.0000] <AryehGregor>
Why don't we spend our implementation efforts on things that matter more?

[01:01:13.0000] <AryehGregor>
Who honestly cares what namespace is produced by document.implementation.createDocument(null, "", null).createElement("x")?

[01:01:29.0000] <AryehGregor>
Let's try to do something worthwhile, like get rid of XSLT.

[01:01:51.0000] <AryehGregor>
I agree entirely that we should simplify where possible, but not if all major implementations agree.

[01:02:00.0000] <AryehGregor>
Unless it's something we really want to change.

[01:02:05.0000] <AryehGregor>
Like maybe Attr inheriting from Node or something.

[01:02:48.0000] <annevk>
zcorpan: why did Opera change to MIME type?

[01:02:58.0000] <zcorpan>
annevk: don't know

[01:03:13.0000] <zcorpan>
annevk: i've pushed for implementing the spec, but it hasn't happened yet

[01:03:41.0000] <annevk>
yeah, keeping different kind of documents around is just sad

[01:05:49.0000] <zcorpan>
AryehGregor: what namespace should be used for new Document().createElement('x') ?

[01:06:11.0000] <AryehGregor>
zcorpan, whatever we want, because that was just made up like five minutes ago and no one implements it, right?

[01:06:32.0000] <AryehGregor>
Let me test create(HTML)Document() first and I'll get back to you.

[01:06:38.0000] <zcorpan>
ok

[01:23:23.0000] <jgraham>
AryehGregor: Yeah, getting rid of XSLT isn't going to happen

[01:33:26.0000] <zcorpan>
AryehGregor: note that changing the xmlns attribute dynamically doesn't change the root element's namespace

[01:33:58.0000] <zcorpan>
AryehGregor: you'd have to swap out the element with a new one

[01:34:56.0000] <jgraham>
Seriously, can someone please fix the bugmail to be plain text by default again?

[01:35:12.0000] <MikeSmith>
hmm

[01:35:15.0000] <MikeSmith>
I can

[01:35:19.0000] <hsivonen>
jgraham: I agree my use of “our” was bad. :-(

[01:36:58.0000] <zcorpan>
AryehGregor: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1838

[01:37:56.0000] <hsivonen>
jgraham: however, if you read it really carefully, “our” presents a WHATWG problem, so there’s no “our” introducing any HTML WG-scoped opinion

[01:38:19.0000] <hsivonen>
jgraham: there is use of “we” nearby where “we” refers to the HTML WG

[01:39:37.0000] <MikeSmith>
fekking bugzilla should make the bugmail format an user option

[01:40:53.0000] <hsivonen>
am I the only one here who likes the new bugmail format?

[01:43:20.0000] <MikeSmith>
hsivonen: I don't mind it beacuse I see it in plain text still anyway

[01:43:45.0000] <jgraham>
hsivonen: I don't think the fact that it isn't a point about the HTMLWG per-se is very relevant.

[01:44:58.0000] <jgraham>
hsivonen: But probably it has now been discussed more than merited over the choice of one word in an email.

[01:49:42.0000] <zcorpan>
annevk: yeah i love the xml-stylesheet bug

[01:49:47.0000] <zcorpan>
such irony

[01:51:41.0000] <zcorpan>
annevk: i had to take out all UA conf requirements and i had to fight to have the authoring conf requirements in there

[01:51:53.0000] <zcorpan>
annevk: if the xml wg had their way, the spec wouldn't have any requirements at all

[01:53:19.0000] <zcorpan>
but at least we managed to get CONSENSUS in the end and publish a new REC, and that's what really matters

[01:56:37.0000] <hsivonen>
case. still a problem: https://bugzilla.mozilla.org/show_bug.cgi?id=800600

[01:59:48.0000] <zcorpan>
/me recalls http://wiki.whatwg.org/wiki/Video_type_parameters

[02:01:34.0000] <Stevef__>
hsivonen: i like it too, find it much easier to read

[02:01:59.0000] <zcorpan>
how does one post on w3cmemes?

[02:02:32.0000] <paul_irish>
i think you talk to annevk or sgalineau

[02:02:52.0000] <darobin>
/me whacks paul_irish with the secret handshake handbook

[02:02:52.0000] <Stevef__>
hsivonen: also responded to your post about the 'plan' didn't touch most of your comments, leave that to the lawmakers

[02:02:54.0000] <zcorpan>
annevk: ^

[02:03:03.0000] <annevk>
give me a sec

[02:03:24.0000] <paul_irish>
i'm just guessing based on the activity i see there :) no insider knowledge!

[02:03:30.0000] <MikeSmith>
wtf the eu got a nobel prize

[02:03:47.0000] <annevk>
paul_irish: you want the ability to post?

[02:03:54.0000] <paul_irish>
yesplz

[02:04:36.0000] <annevk>
MikeSmith: they should get one for privacy (well, when compared to the US)

[02:04:38.0000] <darobin>
MikeSmith: someone had to thank it before it disintegrates...

[02:04:45.0000] <annevk>
but there's no Nobel prize for that

[02:04:48.0000] <MikeSmith>
I'm pretty sure who posts the w3cmemes stuff is this guy: http://i.imgur.com/xADuy.jpg

[02:04:54.0000] <MikeSmith>
but not sure how to contact him

[02:05:55.0000] <MikeSmith>
sorry, I meant the guy in that picture is now the one who decides on all the nobel peace prizes

[02:10:50.0000] <jgraham>
Man, if you keep up all this memes stuff W3C will never get the Nobel Peace Prize it so obviously deserves

[02:11:26.0000] <Stevef__>
darobin: getting 404 on http://dev.w3.org/html5/spec/spec.html ?

[02:11:58.0000] <jgraham>
Stevef__: http://dev.w3.org/html5/spec/

[02:12:10.0000] <darobin>
Stevef__: it's looking like there's a problem in the update script

[02:12:31.0000] <Stevef__>
ok thanks

[02:12:42.0000] <darobin>
I'm seeing very strange problems with our tools in general in fact

[02:12:45.0000] <darobin>
we're on it

[02:13:40.0000] <MikeSmith>
by "we're on it" darobin means that I create the strange problems and he finds ways to fix them

[02:13:50.0000] <darobin>
oh no that's not true

[02:13:58.0000] <darobin>
we both create strange problems :)

[02:14:06.0000] <darobin>
just not the same ones

[02:14:19.0000] <MikeSmith>
we're innovating!

[02:14:44.0000] <darobin>
yeah, HTML has too many solutions so we're building new problems

[02:15:24.0000] <MikeSmith>
taking it way out of the box

[02:16:15.0000] <MikeSmith>
the only way I could have constructed a worse document build setup would have been to add some RDF stuff in there

[02:16:30.0000] <darobin>
oooh great idea, let's do that!

[02:17:07.0000] <jgraham>
There *isn't* RDF?

[02:17:25.0000] <jgraham>
That is, in all seriousness, actually mildly surprising :)

[02:17:50.0000] <darobin>
jgraham: there will be when I'm done with it!

[02:18:01.0000] <darobin>
I think we should rewrite the algorithms in RDF so they're machine readable

[02:18:25.0000] <jgraham>
darobin: Well if anything gets to /TR/ then there will be RDF output at least, right?

[02:18:43.0000] <darobin>
besides, if there's a document suite in which adding a few namespace declarations won't be noticeable it's this one

[02:18:53.0000] <darobin>
jgraham: oh yeah, there's a script that builds tr.rdf

[02:19:00.0000] <darobin>
/me not sure if anyone uses that

[02:19:08.0000] <darobin>
but we don't get to touch it, the webmaster does

[02:19:19.0000] <zcorpan>
we should use RDF for all xrefs. then we don't even need to generate the xref links, it'll all just work

[02:19:20.0000] <darobin>
in fact, I don't know if the webmaster touches it, it just gets generated

[02:19:46.0000] <darobin>
I'm also a bit appalled at how this spec doesn't even use XML Schema

[02:19:57.0000] <darobin>
I mean it's a vocabulary — what better solution is there?

[02:20:10.0000] <darobin>
that plus some WSDL to replace WebIDL and my work here is done

[02:20:18.0000] <darobin>
I'll be finished WAAAAY before 2014

[02:20:46.0000] <jgraham>
/me can't even find a link to the rdf data

[02:21:24.0000] <annevk>
zcorpan: heh

[02:21:24.0000] <jgraham>
Which I thought was ironic, but then I realised that I should have a autonomous UA that can crawl the web of linked data to do that for me

[02:22:00.0000] <jgraham>
/me discovers that Google in in fact such a UA

[02:22:27.0000] <jgraham>
http://www.w3.org/2002/01/tr-automation/tr.rdf

[02:24:18.0000] <darobin>
jgraham: I wonder if anyone ever actually checks that

[02:27:54.0000] <annevk>
zcorpan: the heh was actually in response to the meme, but it works here too I see

[03:13:29.0000] <darobin>
I'm getting confused — where is the latest and greatest version of Anolis?

[03:14:28.0000] <darobin>
ah, found it

[03:14:39.0000] <darobin>
it would be good to update gsnedders's site with the latest pointer

[03:21:34.0000] <annevk>
fantasai: hey, you there?

[03:22:03.0000] <annevk>
fantasai: I have these two encodings that when used with a slightly different name affect bidi

[03:22:27.0000] <annevk>
fantasai: I am guessing that should be defined in writing-modes, since it does not just affect HTML

[03:23:04.0000] <annevk>
fantasai: it's iso-8859-6 versus iso-8859-6-i and iso-8859-8 versus iso-8859-8-i

[03:23:10.0000] <annevk>
fantasai: hmm, I'm guessing you're asleep

[03:29:34.0000] <annevk>
If anyone else knows where in Gecko or WebKit the above is handled, please let me know!

[03:33:09.0000] <annevk>
WebKit has stuff like getPropertyValue("-webkit-rtl-ordering") == "logical"

[03:40:37.0000] <annevk>
heh, -webkit-rtl-ordering yields no results on Google

[03:40:52.0000] <annevk>
beverloo`: ^^ might be something for that table of yours?

[03:44:35.0000] <annevk>
http://en.wikipedia.org/wiki/ISO-8859-8 seems like complete bullshit

[03:44:40.0000] <annevk>
great

[03:47:59.0000] <hsivonen>
annevk: http://mxr.mozilla.org/mozilla-central/ident?i=IBMBIDI_TEXTTYPE_VISUAL

[03:48:45.0000] <hsivonen>
annevk: http://mxr.mozilla.org/mozilla-central/source/layout/base/nsPresContext.cpp#174

[03:49:22.0000] <annevk>
so it does not happen for iso-8859-6?

[03:49:37.0000] <annevk>
haven't tested that actually

[03:50:09.0000] <hsivonen>
annevk: I suggest testing

[03:50:29.0000] <annevk>
can't get the text to reverse using the same bytes as I used for -8

[03:50:59.0000] <annevk>
so this is only for iso-8859-8 versus iso-8859-i

[03:52:02.0000] <annevk>
however, Gecko does not treat them as labels for each other

[03:52:14.0000] <hsivonen>
annevk: maybe visual Arabic didn’t get popular, because it would be rather silly to have Arabic shaping support without ordering support and the result would look very wrong without shaping support

[03:52:19.0000] <annevk>
iso-8859-6-i is distinct from iso-8859-6-i somehow

[03:52:26.0000] <annevk>
from iso-8859-6 doh

[03:54:05.0000] <hsivonen>
the problem with 386 in Wikipedia is that expertise disqualifies you from editing

[03:54:24.0000] <annevk>
oh that's okay, some non-expert can quote my spec later

[03:55:46.0000] <hsivonen>
annevk: iso-8859-6-i is for email only in Gecko

[03:55:54.0000] <hsivonen>
annevk: http://mxr.mozilla.org/mozilla-central/source/intl/uconv/src/charsetData.properties#31

[03:56:35.0000] <annevk>
but it's exposed somehow; e.g. unsupported labels get normalized away, this one stays

[03:56:45.0000] <annevk>
try entering it in http://dump.testsuite.org/encoding/label-test.html to see what I mean

[03:57:16.0000] <hsivonen>
adobe-symbol-encoding.LangGroup    = el   // wow

[03:57:59.0000] <hsivonen>
annevk: ghosts of things that are banned in charsetData.properties leak to browser charset alias handling, IIRC

[03:59:16.0000] <annevk>
other browsers e.g. treat the -e stuff as label for the non -e/-i stuff

[03:59:37.0000] <annevk>
In Opera csiso88598e gives iso-8859-8 but in Gecko it's iso-8859-8-e

[04:00:05.0000] <hsivonen>
x-sun-unicode-india-0

[04:00:08.0000] <hsivonen>
weird stuff

[04:00:42.0000] <annevk>
Gecko has a lot of things nobody else has I think

[04:00:55.0000] <hsivonen>
whatever IBM contributed

[04:04:29.0000] <annevk>
ah so in Safari iso-8859-6-i gives iso-8859-6

[04:04:56.0000] <annevk>
okay so lets only make iso-8859-8 crazy

[04:09:21.0000] <zcorpan>
Hixie_: shouldn't https://www.w3.org/Bugs/Public/show_bug.cgi?id=15133 be RESOLVED FIXED?

[04:09:24.0000] <annevk>
thanks hsivonen!

[04:09:46.0000] <annevk>
hsivonen: seems you were not listed in the acknowledgments yet o_O

[04:16:04.0000] <AryehGregor>
zcorpan, oh, thanks for the pointer.  That makes sense -- the namespace of an element can't change, any more than its tag can.

[04:22:22.0000] <AryehGregor>
hsivonen, expertise doesn't disqualify you from editing, it just doesn't per se give you more authority than anyone else.

[04:22:27.0000] <AryehGregor>
(which may also be a problem, but it's not the same thing)

[04:23:25.0000] <hsivonen>
AryehGregor: expertise tends to come with COI

[04:23:36.0000] <AryehGregor>
You're allowed to edit if you have COI, last I checked.

[04:23:43.0000] <hsivonen>
ok

[04:23:49.0000] <AryehGregor>
http://en.wikipedia.org/wiki/WP:COI

[04:23:56.0000] <AryehGregor>
"This page in a nutshell: Do not edit Wikipedia to promote your own interests, or those of other individuals or of organizations, including employers. Do not write about these things unless you are certain that a neutral editor would agree that your edits improve Wikipedia."

[04:25:43.0000] <hsivonen>
I wonder if I should add a COI statement about my Mozilla and standards activities to https://en.wikipedia.org/wiki/User:Hsivonen

[04:50:50.0000] <annevk>
Filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=19505 on CSS saying something about this encoding

[04:53:50.0000] <annevk>
hsivonen: for you: http://cdn.memegenerator.net/instances/400x/28235174.jpg

[05:00:41.0000] <jgraham>
"Browser implementors are participating in responsive images." - yeah, and Sam somehow avoided the carnage that occurred when the people working on it went from "no browser feedback" to "browser feedback"

[05:01:21.0000] <odinho>
:-)

[05:16:27.0000] <zcorpan>
hober: i think lxml is used because html5lib it too slow

[05:35:18.0000] <odinho>
Think I did something like   try: lxml.parse(bla)  except: html5lib.parse()   once. Fallback to html5lib when lxml fails.

[05:43:22.0000] <MikeSmith>
I have other problems with html5lib in my Debian environment when trying to get it parse the HTML spec without failing

[05:43:42.0000] <MikeSmith>
different various weird fatal errors that I've not been able to figure out

[05:44:13.0000] <MikeSmith>
and as far as the slowness, it's not just a little bit slower -- it's like 10 times slower

[05:44:19.0000] <jgraham>
Yeah, it is

[05:44:35.0000] <jgraham>
Python is not really made for this kind of task

[05:44:42.0000] <MikeSmith>
yup

[05:44:55.0000] <MikeSmith>
maybe we should use phantom.js instead

[05:45:55.0000] <jgraham>
That's another way of saying "any browser and webdriver", right?

[05:46:08.0000] <MikeSmith>
for anolis and splitting

[05:46:33.0000] <MikeSmith>
write it all in JS

[05:47:09.0000] <MikeSmith>
could do in node instead but phantom.js already has a performant HTML parser and DOM

[05:54:48.0000] <zcorpan>
annevk: y u no post ur meme to w3cmemes?

[05:55:13.0000] <MikeSmith>
jgraham: yeah could be any browser and webdriver I guess. I'm just used to using phantom.js

[05:57:01.0000] <MikeSmith>
I wonder if the HTML bugmail is more accessible than the plain text

[05:57:47.0000] <MikeSmith>
I would think it'd have to be

[05:57:57.0000] <annevk>
zcorpan: the one above? could do I guess

[05:58:05.0000] <annevk>
i'm lazy

[06:17:18.0000] <darobin>
MikeSmith: in phantom.js the weird thing is the communication between the browser context and the primary script context

[06:17:34.0000] <darobin>
I would be shocked if we tried to use that and didn't trigger problems :)

[06:19:16.0000] <darobin>
and using jsdom from Node is unlikely to be all that good; apart from having trouble parsing some correct HTML5 it takes ~10min on my MBP to run https://github.com/w3c/html/blob/heartbeat-201210/scripts/minimal-pubrules.js

[06:21:32.0000] <MikeSmith>
darobin: yeah that's in line with what I found last time I tried to use jsdom

[06:22:07.0000] <darobin>
it may be that I could make it faster by not using jquery atop jsdom :)

[06:23:19.0000] <darobin>
jsdom also has this cool bug where it parses <a href=http://berjon.com/>robin</a> as <a href=http://berjon.com></a>robin

[06:23:28.0000] <darobin>
(note the trailing slash in the attribute value)

[06:23:48.0000] <odinho>
Ah, helpful xmlism :P

[06:24:07.0000] <Ms2ger>
Does it support <foo/bar/ for <foo>bar</foo>?

[06:24:28.0000] <darobin>
I can tell you that it took me a while to figure out why the fuck some links broke and not others...

[06:24:29.0000] <SimonSapin>
Ms2ger: is that xml or sgml?

[06:24:32.0000] <Ms2ger>
SGML

[06:24:44.0000] <darobin>
Ms2ger: I doubt its SGML support is that good

[06:24:51.0000] <Ms2ger>
Aww

[06:25:00.0000] <darobin>
I don't think it does </> either :)

[06:25:03.0000] <odinho>
Ms2ger: Do anyone support that?

[06:25:07.0000] <darobin>
it's supposed to be HTML5 happy :)

[06:25:16.0000] <Ms2ger>
odinho, SGML parsers presumably do

[06:25:31.0000] <Ms2ger>
But then again, I've never seen one of those

[06:25:48.0000] <darobin>
odinho: SP does

[06:25:57.0000] <darobin>
there was only ever one

[06:25:57.0000] <MikeSmith>
that HTML parser is node is a one-person project I think

[06:26:07.0000] <darobin>
yeah it looks like it

[06:26:15.0000] <darobin>
it also has a weird interface

[06:26:24.0000] <MikeSmith>
SP does?

[06:26:35.0000] <darobin>
jsdom

[06:26:37.0000] <darobin>
(but SP too)

[06:26:43.0000] <MikeSmith>
heh

[06:26:47.0000] <darobin>
but on the plus side it runs scripts, which means you can get results for document.write()

[06:26:52.0000] <darobin>
not sure if they're correct though

[06:26:58.0000] <Ms2ger>
Plus side?

[06:27:05.0000] <MikeSmith>
hah

[06:27:11.0000] <darobin>
(and of course they fail for anything that isn't document.write or basic JS)

[06:27:43.0000] <darobin>
Ms2ger: it scared the shit out of me once when I was using it to spider content and I saw "Error: alert is not a function" in my log

[06:28:07.0000] <darobin>
thankfully it runs them in a sandbox

[06:29:23.0000] <MikeSmith>
friends the bugzilla guru from the systems team points out that there is a user pref for bugmail format

[06:29:28.0000] <MikeSmith>
https://www.w3.org/Bugs/Public/userprefs.cgi

[06:29:35.0000] <MikeSmith>
last option on that page

[06:29:41.0000] <Ms2ger>
People didn't know that? :)

[06:29:43.0000] <zcorpan>
why does MDN reference TR/ specs?

[06:29:49.0000] <MikeSmith>
Ms2ger: I didn't know that

[06:29:50.0000] <Ms2ger>
zcorpan, silly people

[06:30:04.0000] <Ms2ger>
MikeSmith, it's a Mozilla products, there are prefs for everything

[06:30:09.0000] <Ms2ger>
*product

[06:30:19.0000] <MikeSmith>
Ms2ger: it should be on the "Email preferences" page

[06:30:28.0000] <zcorpan>
Ms2ger: is there a bug about changing it?

[06:30:37.0000] <darobin>
MikeSmith: did you read the part about it being a Mozilla product?

[06:30:44.0000] <MikeSmith>
heh

[06:30:46.0000] <Ms2ger>
zcorpan, not that I know of

[06:31:03.0000] <odinho>
bugs.example.com/about:config

[06:31:09.0000] <darobin>
the only preferences that are categorised with any logic are in about:config

[06:37:28.0000] <zcorpan>
Ms2ger: https://bugzilla.mozilla.org/show_bug.cgi?id=800902

[06:41:08.0000] <annevk>
MikeSmith: it should be set to Text I think for the mailing lists

[06:41:28.0000] <annevk>
and yeah, why it's not under email preferences...

[06:45:04.0000] <darobin>
MikeSmith, buddy, next time you see me using a nice, long, descriptive branch name like "heartbeat-201210" can you please shoot me?

[06:46:42.0000] <annevk>
W3C and their idea of putting dates in things

[06:47:08.0000] <annevk>
party like it's '99 with XHTML

[06:47:31.0000] <Ms2ger>
Dates make sense to me for dated snapshots

[06:47:46.0000] <Ms2ger>
Now, dated snapshots are silly, of course

[06:48:46.0000] <annevk>
but but but patents!

[06:51:04.0000] <darobin>
bah, you're just jealous because I get more dates than you do

[06:52:42.0000] <jgraham>
Mmm, dates

[06:52:49.0000] <gsnedders>
darobin: Yes, updating it with some link would be useful. :)

[06:52:54.0000] <jgraham>
Must be nearly Christmas

[06:52:57.0000] <gsnedders>
Ms2ger's bitbucket the recommended link nowadays?

[06:53:24.0000] <darobin>
gsnedders: yeah that would be sweet, as it's still what comes first in Google by far

[06:53:33.0000] <annevk>
jgraham: 19 days

[06:53:49.0000] <jgraham>
Haha

[06:53:56.0000] <darobin>
I reckon it's Ms2ger's — jgraham's hasn't changed since 2010

[06:54:08.0000] <jgraham>
Not mine for sure

[06:54:25.0000] <darobin>
it's back from when jgraham used hg

[06:55:08.0000] <gsnedders>
Same with me. :)

[06:55:28.0000] <zewt>
heh i thought the bugmail to the lists was hard to read, being monospaced ... then i went to work and read one there, where i don't have my minimum-forced-font-size set up, and found it's actually 0.001pt monospace and an order of magnitude worse than I imagined

[06:58:28.0000] <gsnedders>
darobin: Better now? :)

[06:58:56.0000] <darobin>
gsnedders: you're a sweetie

[06:59:07.0000] <gsnedders>
/me bats eyelids

[06:59:53.0000] <jgraham>
/me needs therapy now

[07:00:08.0000] <gsnedders>
jgraham: Look, I know I don't update webpages, but…

[07:01:00.0000] <zewt>
ow my eyelids

[07:31:32.0000] <zcorpan>
MikeSmith: i'm told you're the go-to for getting new tests synced up on w3c-test.org. i has tests here: http://dvcs.w3.org/hg/quirks-mode/file/3397c5f9ad8d/tests

[07:31:53.0000] <Stevef__>
feedback on this <maincontent> appreciated https://dvcs.w3.org/hg/html-extensions/raw-file/3acee7f50663/maincontent/index.html

[07:33:59.0000] <zcorpan>
Stevef__: i don't understand the Contexts in which this element can be used

[07:34:30.0000] <zcorpan>
"child of 0 or more div elements" in particular

[07:34:52.0000] <zcorpan>
how can an element be a child of 0 div elements? or more than 1 div elements?

[07:35:59.0000] <Stevef__>
zcorpan: what I am attempting to do limit its use so it is not allowed inside nav/header/article etc

[07:36:33.0000] <Stevef__>
zcorpan: will try to make it clearer

[07:37:09.0000] <zcorpan>
Stevef__: it seems better in that case to ban the elements you don't want as ancestors

[07:37:25.0000] <zcorpan>
Stevef__: e.g. i don't see why <form> should be banned

[07:37:39.0000] <Stevef__>
zcorpan: thanks will rework it

[07:37:52.0000] <Stevef__>
zcorpan: yes you are right

[07:43:53.0000] <Stevef__>
zcorpan: "Flow content, but with no article, aside, footer, header or nav element ancestors." any better?

[07:47:13.0000] <zcorpan>
Stevef__: shouldn't it be under Contexts in which this element can be used?

[07:48:07.0000] <Stevef__>
zcorpan: am putting it there

[07:48:46.0000] <Stevef__>
zcorpan: based wording on http://dev.w3.org/html5/spec/the-footer-element.html#the-footer-element

[07:49:13.0000] <zcorpan>
Stevef__: that says "Where flow content is expected."

[07:49:56.0000] <Stevef__>
zcorpan: oh right yes, ok back to drawing board

[07:50:07.0000] <zcorpan>
so "Where flow content is expected, but with no article, ... ancestors"

[07:51:20.0000] <Stevef__>
zcorpan: right thanks again

[07:51:39.0000] <zcorpan>
and separately a requirement saying "There must not be more than one maincontent element in the document" or so

[07:54:46.0000] <zcorpan>
Stevef__: shouldn't the keyboard nav thing be part of the aria spec for "main" instead?

[07:56:03.0000] <zcorpan>
(also i guess <maincontent></maincontent><div role=main></div> should also be disallowed? what does aria say?)

[07:56:36.0000] <Stevef__>
zcorpan: have to think on those

[07:57:42.0000] <Stevef__>
zcorpan: aria says "Within any document or application, the author SHOULD mark no more than one element with the main role"

[07:58:26.0000] <zcorpan>
are there any good reasons for violating the should?

[07:58:45.0000] <Stevef__>
zcorpan: not that I know of

[08:00:25.0000] <Stevef__>
zcorpan: re the keybaord nav ARIA does not define browser UI requirements

[08:00:48.0000] <zcorpan>
Stevef__: html usually doesn't, either

[08:01:32.0000] <Stevef__>
zcorpan: right, thats why its a should, may be better to rephrase it

[08:02:25.0000] <Stevef__>
zcorpan: encouraged to...

[08:07:56.0000] <annevk>
TabAtkins: paul_irish: anyone: http://html5.org/temp/urlquery.txt

[08:08:09.0000] <annevk>
is that the interface we're thinking about for the query parameter?

[08:08:16.0000] <annevk>
zewt: ^^

[08:08:44.0000] <annevk>
not sure my use of sequence is correct btw, always mess that up :/

[08:09:13.0000] <zcorpan>
always returns an array on getting?

[08:09:45.0000] <annevk>
(looks like it's correct)

[08:09:46.0000] <annevk>
yes

[08:15:09.0000] <annevk>
zcorpan: type testing seems more annoying than using [0]

[08:15:32.0000] <zcorpan>
annevk: ok

[08:21:19.0000] <annevk>
arv and abarth|gardening: your feedback would be welcome too

[08:22:25.0000] <freddyb>
the current html5 draft says, that iframe sandbox disallows all plugins (and scripts, forms, popups, topnavigation, same-origin access)

[08:22:42.0000] <freddyb>
but there is no "allow-plugins" keyword defined to remove this restriction, like there is for the other ones

[08:22:46.0000] <freddyb>
why is that so?

[08:23:28.0000] <arv>
annevk: I don't like that at all

[08:23:50.0000] <arv>
annevk: We are trying hard to not add more things that cannot be expressed in JavaScript to the DOM

[08:24:06.0000] <freddyb>
and the second example (the one with src="http://maps.example.com/embedded.html") explicitly says that allow-scripts does *not* remove the plugins restriction

[08:24:06.0000] <annevk>
arv: I thought these kind of interfaces can be expressed with proxies?

[08:24:36.0000] <arv>
annevk: This is another local storage mess where we are not keeping the interface and the data separate

[08:24:43.0000] <freddyb>
oh, and I guess it would have been polite to say hi, sorry.... hi folks :)

[08:24:51.0000] <arv>
annevk: Anything can be done with proxies... that is no excuse

[08:25:15.0000] <annevk>
arv: why not? they're JavaScript... this is way nicer than a bunch of methods

[08:25:35.0000] <annevk>
freddyb: because plugins don't implement sandboxing

[08:25:39.0000] <arv>
annevk: How do you get the number of parameters?

[08:25:57.0000] <arv>
annevk: And what happens when someone has a query parameter called "length"?

[08:26:34.0000] <freddyb>
annevk: so they'll never listen to the other restrictions in place, and therefore can't be whitelisted on their own?

[08:27:05.0000] <arv>
annevk: JS is really crippled in this space... no clean separations between data and interface

[08:27:13.0000] <Ms2ger>
freddyb, exactly

[08:28:03.0000] <freddyb>
so, when it says providing the "allow-scripts" and "allow-same-origin" keywords will actually remove all sandbox features, it still doesn't mean that plugins work -- just that using top.location = location.href might escape the sandbox and use plugins *then*?

[08:28:06.0000] <annevk>
arv: hmm mkay, refresh?

[08:30:52.0000] <arv>
annevk: better imo... needs has, remove too

[08:31:09.0000] <annevk>
and length? :-)

[08:32:48.0000] <arv>
annevk: One of the problem with this API compared to the old one is that get always returns a sequence. The common case is that you only have one param of a given name and having to always create a list and then extract the data from the list asks for a better api

[08:33:07.0000] <Stevef__>
zcorpan: updated https://dvcs.w3.org/hg/html-extensions/raw-file/a853b1a55aab/maincontent/index.html thanks again for your feedback.

[08:33:25.0000] <annevk>
arv: could do get / getAll similar to querySelector / querySelectorAll

[08:34:06.0000] <arv>
annevk: I don't know if length is the right term. Conceptually you want a way to iterate over the items. If you have length then it is expected to have indexed properties

[08:34:23.0000] <arv>
annevk: I like it

[08:35:21.0000] <annevk>
iteration is usually an item() method

[08:35:46.0000] <annevk>
btw, updated the proposal again

[08:35:51.0000] <annevk>
thanks for the feedback

[08:36:16.0000] <annevk>
e.g. like http://dom.spec.whatwg.org/#nodelist

[08:36:16.0000] <Stevef__>
MIkeSmith: hi mike how do i get an url for this https://dvcs.w3.org/hg/html-extensions/raw-file/3acee7f50663/maincontent/index.html that is always the latest version?

[08:36:23.0000] <annevk>
has item() / length

[08:37:40.0000] <annevk>
Stevef__: https://dvcs.w3.org/hg/html-extensions/raw-file/tip/maincontent/index.html

[08:38:06.0000] <Stevef__>
annevk: thanks

[08:39:47.0000] <freddyb>
thanks, guys :)

[08:40:23.0000] <arv>
annevk: One nit. Can we call it delete to match http://wiki.ecmascript.org/doku.php?id=harmony:simple_maps_and_sets

[08:40:36.0000] <annevk>
yeah

[08:41:32.0000] <zcorpan>
annevk: NodeList also has getter

[08:42:10.0000] <annevk>
but only numeric

[08:42:49.0000] <zcorpan>
true

[08:44:33.0000] <odinho>
Soo... I have "rebase" for hg.   Now someone has pushed something so the origin is different from me. How do I make my 3 local commits rebased on top of origin in hg?

[08:45:02.0000] <arv>
I think conceptually we would want an iterator that returns [name, value] (just like Map.prototype.items) but that can be added when engines get there (Gecko is already there... they have iterators for NodeLists and other things)

[08:45:23.0000] <annevk>
arv: okay, so I'll leave it as it is now I suppose

[08:45:55.0000] <annevk>
this is already a huge improvement over .search anyway

[08:46:23.0000] <annevk>
and over the longish method name proposal from the older draft, imo

[08:47:03.0000] <odinho>
Ah-hah, was easy this time. Getting better at this. Nothing to see here. --

[08:47:14.0000] <annevk>
arv: btw, do we really want has()? it's the same as get(name) != null

[08:47:38.0000] <arv>
annevk: good point

[08:47:53.0000] <arv>
annevk: leave it out for now in the name of simplicity

[08:47:58.0000] <annevk>
yup

[08:48:13.0000] <annevk>
thanks for this short session

[08:49:08.0000] <arv>
annevk: I guess it was good I never managed to finish the webkit implementation of the old draft

[08:49:35.0000] <annevk>
hopefully this one will end up in impls some day :-)

[08:49:53.0000] <annevk>
still need to write the text, not sure when I'll get around to that

[08:50:02.0000] <annevk>
not tonight

[08:50:30.0000] <annevk>
i'll put the IDL in the spec so people can look at it there at least

[08:59:50.0000] <annevk>
hmm, arv, everyone on the WHATWG list, including TabAtkins, did go the proxy route

[08:59:59.0000] <annevk>
oh well

[09:00:12.0000] <annevk>
I'll check this in and seek some more feedback

[09:12:40.0000] <Hixie_>
freddyb: there's no allow-plugins yet because plugins don't support being told to be sandboxed yet

[09:13:06.0000] <Hixie_>
freddyb: oh i see anne already replied, don't mind me

[09:15:06.0000] <Ms2ger>
Hixie_, we never do, don't worry :)

[09:34:31.0000] <TabAtkins>
annevk: What's "the proxy route"?

[09:46:34.0000] <annevk>
TabAtkins: to implement getter/setter/deleter/creator you need JavaScript proxies

[09:46:56.0000] <annevk>
TabAtkins: arv didn't like it and I seem to recall Brendan Eich also not liking ele.dataset / localStroage

[09:47:24.0000] <TabAtkins>
Oh, ok.  Things like that are so useful, though!

[09:47:26.0000] <annevk>
TabAtkins: I'm kinda ambivalent myself

[09:48:13.0000] <arv>
TabAtkins: TC39 are opposed to adding more things that require proxies

[09:48:49.0000] <arv>
TabAtkins: The long term plan is to extend the language to allow separating [] from general property lookup

[09:50:01.0000] <annevk>
arv: I have to agree it's kinda sucky though, especially when there are no conflicts

[09:50:20.0000] <annevk>
arv: .query["x"] = "yada" is way more beautiful

[09:51:57.0000] <arv>
annevk: I'm completely with you on that

[09:52:11.0000] <annevk>
TabAtkins: I guess the one you can't have with proxies is the get/getAll design, you'd just have a getter that always returns an array

[09:52:45.0000] <arv>
and you can't have any methods on the object either

[09:53:11.0000] <arv>
that is why localstorage fails so badly

[09:53:24.0000] <annevk>
arv: looking at that map design you pointed to earlier, that does seem kinda fitting here

[09:53:42.0000] <annevk>
but I'm not gonna say I can predict the future (although we could put new methods on URLUtils instead)

[09:56:47.0000] <annevk>
the hard part here for me is going to be the algorithms; hopefully the mailing list bikesheds the API into shape :-)

[09:57:46.0000] <TabAtkins>
annevk: If you do go with methods rather than proxies, using has() is good just because it parallels the proper Map API.  Gratuitous differences are bad - people would be constantly tripped up by the lack, I think.

[10:15:53.0000] <gsnedders>
/me wonders what __proto__ does on localStorage in old JSC/Carakan.

[10:26:40.0000] <annevk>
TabAtkins: dunno, I almost never saw hasAttribute() used myself

[10:26:58.0000] <annevk>
mostly people just do getAttribute(x) != null

[10:51:21.0000] <TabAtkins>
annevk: Interesting.  When I'm using maps in other languages, I use has() for existing testing.  Short and clearer.

[11:16:51.0000] <jgraham>
TabAtkins: Other languages tend not to return null when you try to get a missing value though

[11:16:59.0000] <jgraham>
Although I would use has even if they did

[11:17:10.0000] <jgraham>
Well maybe some do, I guess

[11:17:40.0000] <TabAtkins>
jgraham: Yeah, it varies.

[11:18:50.0000] <jgraham>
Wow, go returns the zero value for the map type

[11:19:21.0000] <TabAtkins>
What's the "zero value" in this context?

[11:19:23.0000] <jgraham>
Oh, but there is also an error parameter

[11:19:30.0000] <jgraham>
or return value I guess

[11:19:47.0000] <jgraham>
If you have a map of string->int, say it's 0

[11:19:56.0000] <jgraham>
I imagine for string->string it's ""

[11:20:05.0000] <TabAtkins>
Okay, so default value.

[11:20:15.0000] <TabAtkins>
I was wondering if go maps are monoidal by default or something.

[11:24:56.0000] <jgraham>
rust seems to require you to check upfront

[11:26:31.0000] <GPHemsley>
/me pokes the WONTFIX bear.

[11:26:45.0000] <jgraham>
odinho: You do hg pull --rebase and then hg deletes all your data

[11:26:49.0000] <jgraham>
(or something)

[11:52:42.0000] <annevk>
TabAtkins: yeah I guess if you can do "x" in y that would be nice

[11:52:48.0000] <annevk>
TabAtkins: I kinda thing we should make this a proper map

[11:52:56.0000] <annevk>
TabAtkins: but I'll see what people come up with on the mailing list

[12:05:52.0000] <na8ur>
hi; there's no free posting anymore? I hadn't been here for ages, but abstract .. and cupid aka chris h. are guys who build me up? . how to get some voice. but besides I don't have  questions at the moment.. just wondering

[12:17:54.0000] <TabAtkins>
That's an interesting markov generator example.

[12:22:54.0000] <na8ur>
my studies in physics are more than 20years .. over.. :) wuuhh.. also ages ago

[12:23:25.0000] <TabAtkins>
Yup, definitely a Markov bot.

[12:24:00.0000] <GPHemsley>
/me wonders about the influx from irccloud.com

[12:24:35.0000] <na8ur>
:) hehe

[12:24:48.0000] <GPHemsley>
/me then notices the few that are connected via IPv6 and is impressed.

[12:25:45.0000] <GPHemsley>
Hixie_: I'd like to request a wiki account, when you get a chance.

[12:25:49.0000] <na8ur>
getting closer: http://eflorenzano.com/blog/2008/11/16/writing-markov-chain-irc-bot-twisted-and-python/ thx.. but I never did bots .. just my girl :)

[12:48:33.0000] <annevk>
GPHemsley: I can get you one, pm username/email

[12:49:06.0000] <GPHemsley>
annevk: Oh, I didn't see you here, for some reason.

[12:50:51.0000] <annevk>
/me goes back into hiding

[12:51:23.0000] <GPHemsley>
:P

[14:48:23.0000] <gsnedders>
Has anyone experimented with replacing the locale-dependent character encoding guess with something based on public suffixes?

[15:02:15.0000] <zewt>
"public suffixes"?

[15:03:32.0000] <gsnedders>
As in the public suffix list.

[15:03:49.0000] <zewt>
sorry, but suffixes of what?

[15:03:49.0000] <gsnedders>
http://publicsuffix.org/

[15:03:58.0000] <gsnedders>
'A "public suffix" is one under which Internet users can directly register names. Some examples of public suffixes are .com, .co.uk and pvt.k12.wy.us. '

[15:04:04.0000] <zewt>
... you mean TLD? heh

[15:04:13.0000] <gsnedders>
It's not always the YLD.

[15:04:15.0000] <gsnedders>
*TLD

[15:04:31.0000] <gsnedders>
co.uk isn't a TLD, for example

[15:04:58.0000] <zewt>
i doubt co.uk and or.uk or whatever it is will have different language tendencies :)

[15:05:54.0000] <gsnedders>
No, but I can imagine that's not true everywhere.

[15:05:54.0000] <zewt>
while it'd be awesome if some non-system-dependent heuristic could replace the locale setting, i have a hard time seeing browsers ever doing it, since it's guaranteed to break lots of pages that work for their actual audience today :(

[15:06:56.0000] <gsnedders>
You basically need to add some telemetry in to get what encodings are being used for what pubsuffixes, when it's fallen through to locale-checking. I expect quite a few will be quite clear-cut.

[15:07:59.0000] <zewt>
the trouble is that any change to this is likely to change eg. "+++++++---" (where + is a correct guess and - is wrong) to "+++++-+++-"

[15:08:13.0000] <gsnedders>
Indeed. :(

[15:08:32.0000] <jwalden>
gsnedders: what would be guessed for .ch?

[15:08:34.0000] <zewt>
and those wrong guesses that you just fixed were ones nobody cared about (or else they'd have been fixed by the author)

[15:08:48.0000] <zewt>
so you end up fixing things nobody (-ish) cares about, and breaking ones people do

[15:08:55.0000] <gsnedders>
jwalden: That's the hard case I was thinking about

[15:09:01.0000] <jwalden>
heh

[15:09:59.0000] <zewt>
(having many times loaded japanese pages in browsers and had mojibake vomited upon me, i can claim myself of one of that -ish)

[15:10:17.0000] <gsnedders>
jwalden: Though .tw and .ch are separate, and zh-CH has GB18030, but dunno how much content overlaps between the two.

[15:10:49.0000] <gsnedders>
台湾 and 台灣 should help in telling the two apart, I'd hope, though. :)

[15:11:01.0000] <zewt>
i think encoding heuristics could do a decent job (with TLD as one input to that heuristic), but it'll still run into the same basic problem

[15:11:12.0000] <jwalden>
gsnedders: erm, am I misremembering .ch as Switzerland (equal parts German, French, Italian as I remember)?  sounds like you're thinking of .zh

[15:11:33.0000] <gsnedders>
Bleh! I meant .zh!

[15:11:57.0000] <zewt>
(where other inputs would be "number of bytes that failed to decode" and language pattern heuristics; I think some browsers do do some of that, not sure when or which)

[15:11:58.0000] <gsnedders>
jwalden: German/French equal, Italian smaller, and even less Romansh.

[15:12:23.0000] <jwalden>
okay, my memory's not quite right, but close enough for purposes of this discussion :-)

[15:13:00.0000] <gsnedders>
(Only one canton where any notable amount of Romansh is spoken)

[15:13:47.0000] <zewt>
i still think browsers should just force any page without a charset declaration to comic sans

[15:13:47.0000] <gsnedders>
jwalden: Basically all the locales on the spec suggested list corrospond nicely to countries, though, at least.

[15:15:53.0000] <zewt>
is .ca a mix of en+fr?

[15:17:45.0000] <gsnedders>
Neither en/fr have anything but the standard Windows-1252.

[15:18:08.0000] <zewt>
"standard" heh

[15:18:38.0000] <zewt>
i sort of wish we'd give up pretending that anyone uses real iso-8859-1 and just fold the windows cp characters into it for real

[15:19:36.0000] <zewt>
i wish we could get a bit of browser collusion on this problem

[15:19:45.0000] <zewt>
get every browser to make a breaking change simultaneously :P


2012-10-13
[21:07:42.0000] <Yuhong>
https://news.ycombinator.com/item?id=4629698

[01:07:07.0000] <annevk>
zewt: you around?

[01:42:32.0000] <sedovsek>
annevk: There are some photos of you I took at Fronteers 2012, http://www.flickr.com/photos/seddy/sets/72157631731160840/

[01:43:00.0000] <annevk>
sedovsek: heh, thanks

[01:44:20.0000] <annevk>
must be a pretty nice camera

[01:46:16.0000] <sedovsek>
This is like complimenting a cook with "you must have some nice cans and pots", but yea… i guess it is. :P

[01:53:03.0000] <annevk>
sedovsek: :-)

[02:08:03.0000] <hsivonen>
huh? for .ch, you'd guess windows-1252. what's hard about that?

[02:09:45.0000] <hsivonen>
there is no .zh TLD, is there?

[02:18:04.0000] <hsivonen>
I think I'm interested in developing a Gecko feature that with the flip of a boolean about:config pref would replace guessing based on the Firefox localization with guessing based on the content TLD

[02:18:31.0000] <hsivonen>
it would be a hard fight to change the default though

[02:30:48.0000] <annevk>
apparently WebKit has almost no sniffing algorithm btw and is not planning on changing that

[02:30:57.0000] <annevk>
that's why I kinda gave up on defining encoding sniffing for now

[02:31:21.0000] <annevk>
ap argued that what Gecko had was not needed

[02:31:33.0000] <annevk>
(there's no .zh)

[02:33:37.0000] <annevk>
just found out they're gonna delete even more ccTLDs

[02:33:49.0000] <annevk>
".an .su .tp" are next

[02:35:18.0000] <j_wright>
makes sense

[02:36:32.0000] <annevk>
not really http://www.w3.org/Provider/Style/URI.html

[02:44:11.0000] <annevk>
.nl is one of the largest ccTLD; just imagine if a couple of decades from now we're no longer independent but part of the EU, would kinda suck imo if all my links broke

[02:52:51.0000] <hsivonen>
.ax is not independent but they have a "country" TLD

[03:01:31.0000] <hsivonen>
I'm more worried about US agencies seizing domain under generic TLDs than about European TLDs going away because of the EU turning into a federal state

[03:24:38.0000] <hsivonen>
so if Firefox, Chrome and Opera support SPDY, what good can come out of the IETF making something incompatible?

[03:48:10.0000] <annevk>
IETF crowning it as "theirs"?

[03:57:04.0000] <hsivonen>
how likeöy is it that IETF would just crown SPDY? the IETF has stakeholders whose products SPDY treats as adversaries

[03:57:30.0000] <hsivonen>
i.e. products that are in the intercept business

[03:57:57.0000] <hsivonen>
s/likeöy/likely/

[04:14:05.0000] <Velmont>
There's also the upgrade mechanism if it will get used. -- Many features has not been implemented either, so when Opera did implementation it didn't implement those not seen on the general web.

[04:19:06.0000] <annevk>
hsivonen: I guess we'll see; I'm not too interested in getting involved though, WebSocket was hell

[06:26:58.0000] <jgraham>
bmo produces a *huge* amount of mail per bug

[06:28:37.0000] <annevk>
email preferences

[06:29:16.0000] <jgraham>
Yeah, but there's no email pref that can distinguish between interesting comments and we-use-the-bug-tracker-as-a-code-review-tool comments

[09:13:10.0000] <annevk>
zewt: we can have iteration later

[09:13:47.0000] <zewt>
annevk: i just mean iteration can't follow Map since it doesn't do it (so either we wait until they do, or do something that probably won't match)

[09:14:01.0000] <zewt>
just a minor point

[09:14:16.0000] <annevk>
as for following Map, I guess I meant the ability to use it directly in some sense

[09:14:29.0000] <annevk>
obviously we can make our own using setter/getter/creator/deleter

[09:14:31.0000] <zewt>
i figured it was just expose the same interface

[09:15:39.0000] <annevk>
I guess "has" follows from indexed names

[09:15:50.0000] <annevk>
does dataset have has?

[09:16:30.0000] <zewt>
you mean 'x' in elem.dataset?

[09:16:35.0000] <annevk>
right

[09:17:42.0000] <zewt>
(i mean, it has that, not sure if you're asking something else)

[09:19:02.0000] <zewt>
fwiw i'm not dead set against a functional api or anything and boris might be right; i just wanted to examine it more closely since the arguments from the irc log didn't seem convincing

[09:19:20.0000] <zewt>
(uh, not "functional api", but you know what i mean)

[09:19:52.0000] <zewt>
on the other hand the prototype-less-sub-interface thing may also be fine

[09:24:55.0000] <zewt>
i guess url.query.values.foo is sort of ugly, though url.query.get("foo") isn't actually less typing or anything

[09:25:29.0000] <jgraham>
zewt: sydfunctional api? :p

[09:25:33.0000] <jgraham>
Argh

[09:25:39.0000] <jgraham>
*dysfunctional

[09:25:41.0000] <zewt>
dyslexics untie

[09:26:02.0000] <jgraham>
Or sydlexics, as I call them

[09:28:25.0000] <annevk>
url.query["foo"] would be less typing

[09:28:32.0000] <annevk>
or url.query.foo

[09:28:58.0000] <annevk>
it would allow for things like url.query.delete("x", "x") though (only delete x where its value is x)

[09:28:59.0000] <zewt>
but then you wouldn't want getAll on url.query

[09:29:04.0000] <annevk>
would not*

[09:29:12.0000] <annevk>
right, getter would always return a list

[09:29:23.0000] <zewt>
don't think i like that

[09:29:36.0000] <zewt>
because you end up having to write things like if(url.query.foo && url.query.foo[0] == "bar") all the time

[09:29:54.0000] <annevk>
hmm yeah

[09:30:06.0000] <annevk>
I guess maybe method-based approach is not too bad

[09:30:07.0000] <zewt>
i mean, one-item-per-key is by far the common case, even though we do want to handle the multiple-items case when needed

[09:30:26.0000] <annevk>
what happens if we have both methods and named getters and such?

[09:30:52.0000] <zewt>
well if you have url.query.getAll() and the query is ?getAll=1 ...

[09:30:59.0000] <annevk>
localStorage has that

[09:31:19.0000] <annevk>
and I guess TC39 doesn't like it, but on the other hand it already exists

[09:31:29.0000] <zewt>
well, with localStorage you're usually constructing what you're storing around the api, so you just don't store things like "toString"

[09:31:43.0000] <zewt>
a query api might be parsing any arbitrary url

[09:32:06.0000] <annevk>
you might want to store something like "length" though

[09:32:25.0000] <annevk>
I think having the explicit methods is probably better

[09:32:35.0000] <zewt>
i mean you'd just call it something else, or wrap it in a sub-object

[09:32:49.0000] <annevk>
also allows for some things http://medialize.github.com/URI.js/ offers

[09:32:55.0000] <zewt>
you usually don't take arbitrary external data and dump it straight into localStorage

[09:33:26.0000] <zewt>
am I the only person that cringes at this "how do you like" silliness heh

[09:34:50.0000] <zewt>
we definitely will want to support operations outside of simple getter/setter/iterate/contains, and i think that just either means 1: methods or 2: a sub-object for the subset of dictionary-like operations

[09:35:25.0000] <annevk>
if those are the choices I'm going with 1

[09:36:00.0000] <annevk>
which means nothing much has to change, teehee

[09:38:34.0000] <zewt>
the first thing i'd probably do is monkey patch in values :P

[09:39:00.0000] <zewt>
(all of my query-handling code just converts to an object anyway)

[09:40:06.0000] <zewt>
bleh, one api we really need to unscrew: cookies

[09:40:27.0000] <zewt>
document.cookie has got to be the single worst (non-dead) API on the whole platform

[09:42:28.0000] <zewt>
hey look some class action lawyer got rich as hell and i get $.40

[09:42:47.0000] <zewt>
Hachette, Harper Collins, and Simon & Schuster have settled an antitrust lawsuit about e-book prices.

[09:42:50.0000] <zewt>
the Attorneys General estimate that it will range from $0.30 to $1.32 for every eligible Kindle book that you purchased between April 2010 and May 2012.

[09:43:10.0000] <zewt>
didn't actually mean that in this channel, but sure why not

[09:47:40.0000] <jgraham>
FWIW I think a method based API is the only sane thing in js

[09:47:59.0000] <annevk>
document.cookie was supposed to be obsoleted by localStorage

[09:48:01.0000] <jgraham>
Even in better languages, handling one vs many nicely is difficult

[09:48:14.0000] <annevk>
of course localStorage made it somewhat worse, in hindsight

[09:48:17.0000] <zewt>
localStorage and cookies serve completely different use cases

[09:48:56.0000] <annevk>
meh

[09:49:41.0000] <zewt>
i mean, yeah, before localStorage the "store data for client-side access" use case was done with cookies, which was bad, but the "sending session info to the server" set of cases is still mostly cookies

[09:49:48.0000] <jgraham>
The web has an exciting selection of storage APIs

[09:49:51.0000] <jgraham>
All broken

[09:50:33.0000] <zewt>
and the next time I end up with a mystery duplicate cookie that I can't delete because I don't know its path and document.cookie doesn't tell me I'm going to something something

[09:54:27.0000] <annevk>
so on Storage Hixie_ is using "setter creator" on one line but on the dataset one he's not

[09:59:33.0000] <zewt>
what's the difference?

[09:59:51.0000] <zewt>
between "setter" and "creator"

[10:00:34.0000] <zewt>
i guess in javascript there isn't one

[10:01:20.0000] <zewt>
seems like there inherently can't be a new one with things like dataset, since you don't know in advance of running the algorithm whether the item exists or not

[10:07:20.0000] <annevk>
well you do I think per Web IDL

[10:08:10.0000] <annevk>
since it wouldn't be an indexed name

[10:09:28.0000] <zewt>
webidl itself doesn't keep track of what names are actually set, right? (since that's algorithmic for things like this)

[10:09:54.0000] <zewt>
(it has no idea that the set of names in classList changes because you messed with className)

[10:10:04.0000] <zewt>
(array, rather, same difference)

[10:11:26.0000] <zewt>
(guess I should stick to dataset for examples and not mix up the discussion heh)

[10:12:12.0000] <zewt>
so, it doesn't know that setAttribute might change the names you can retrieve with dataset

[10:14:21.0000] <annevk>
Web IDL has these concept of supported property names and such

[10:14:27.0000] <annevk>
concepts*

[10:14:34.0000] <annevk>
and they are defined for DOMStringMap too

[10:15:03.0000] <annevk>
but it's indeed algorithmic there, but it still exists for stuff like dataset.x

[10:15:45.0000] <annevk>
anyway, I cannot really think of a case where you'd want setter/creator to be different

[10:16:53.0000] <zewt>
well, the end behavior might be different, but still i'd put that all within a single algorithm, not making webidl part of that

[10:17:36.0000] <zewt>
eg. setting a query key should probably be a bit different depending on whether the key already exists (replace it in the same place) or not (append it), but webidl doesn't need to be involved in that

[11:09:39.0000] <zewt>
annevk: in encoding, given a DOMString with unpaired surrogates, "preprocessed" to unicode characters with http://dev.w3.org/2006/webapi/WebIDL/#dfn-obtain-unicode (giving having U+FFFDs), is the intended result that you get an encoder error with most encodings, but not with UTF-8 (which passes it through)?

[11:09:45.0000] <zewt>
giving having giving

[11:11:15.0000] <zewt>
on one hand it makes sense (unicode encodings have the replacement character, but most other encodings don't have any equivalent), but it might be unexpected for algorithms: what's really a UTF-16 error causing different results (encoder error or no encoder error) depending on the output

[11:12:06.0000] <zewt>
(just something that came to mind while reminding myself what https://www.w3.org/Bugs/Public/show_bug.cgi?id=16219 was about)

[11:21:05.0000] <zewt>
guess it doesn't really matter, since it's not like it's exposing code paths that otherwise wouldn't be

[11:22:34.0000] <annevk>
utf-16 would work too

[11:22:55.0000] <zewt>
yeah, any unicode encoding

[11:23:38.0000] <annevk>
so WebKit always uses &#{digits}; for the non-Unicode encodings

[11:23:49.0000] <annevk>
some browsers sometimes emit ? depending on the context

[11:24:03.0000] <annevk>
Gecko emits the utf-8 byte sequence...

[11:24:12.0000] <zewt>
well, different users of the algorithms will want to do different things in those cases, i imagine

[11:24:15.0000] <annevk>
(also depends on the context)

[11:24:37.0000] <annevk>
if we leave the encoding API alone there's only two users

[11:24:41.0000] <annevk>
<form> and URL

[11:25:01.0000] <annevk>
<form> everyone does &#...;

[11:25:18.0000] <annevk>
URL is &#...; / ? / utf-8 byte sequence

[11:25:19.0000] <zewt>
encoding api wants to be able to have nonfatal encoding, right?

[11:25:20.0000] <annevk>
iirc

[11:25:51.0000] <annevk>
I kinda think we should try to go with &#...; and fatal

[11:25:53.0000] <zewt>
don't remember offhand whether that api currently allows non-unicode encoding or if they're trying to limit that to unicode (that's flipped back and forth a couple times)

[11:25:54.0000] <annevk>
given that this is legacy

[11:26:10.0000] <annevk>
and then we can keep the behavior in the Encoding spec

[11:26:19.0000] <annevk>
(well we could do that anyway, but you know)

[11:27:21.0000] <zewt>
well, once it supports &#1234; (meaning "encoder error" is being passed the codepoint), adding a parameter to say "use ?" later would be trivial

[11:27:22.0000] <annevk>
The main problem is that people are not happy with aligning on legacy stuff

[11:27:50.0000] <annevk>
zewt: right

[11:29:10.0000] <zewt>
If the internal fatal flag of the decoder object is set, then a decoder error causes an DOMException of type EncodingError to be thrown rather than emitting a fallback code point.

[11:29:17.0000] <annevk>
in other news, URLQuery.delete cannot work, it's a reserved word

[11:29:26.0000] <annevk>
has to be remove like I named it earlier on

[11:29:35.0000] <zewt>
that's not really good, sort of a monkey-patch

[11:29:54.0000] <zewt>
annevk: i thought about that but when i tested "delete" as a method name it seemed to work

[11:30:12.0000] <zewt>
though it's probably good to avoid anyway, if only to not make syntax highlighting weird, heh

[11:30:39.0000] <annevk>
what's wrong with the exception stuff?

[11:31:06.0000] <zewt>
it's hard to follow algorithms when one spec is saying "run this other spec's algorithm, except when this sub-algorithm is run do this other thing"

[11:31:48.0000] <jgraham>
delete can work as a method name

[11:31:57.0000] <annevk>
not really sure what would be a better way

[11:31:59.0000] <jgraham>
Although I think it might not be ideal style

[11:32:25.0000] <zewt>
have an input flag that means "errors are fatal" and define the behavior branch within the encoding spec

[11:32:27.0000] <jgraham>
(reserved words don't apply to propery names)

[11:35:03.0000] <annevk>
zewt: cannot define behavior for e.g. XML parsers within the encoding spec

[11:35:40.0000] <annevk>
zewt: I guess it could be a "run these steps defined in some applicable spec" kinda thing

[11:36:02.0000] <annevk>
not sure I care too much about that right now

[11:39:19.0000] <annevk>
arv argued for  delete

[11:39:31.0000] <annevk>
but most other APIs use remove so I guess I'll go with remove

[11:39:59.0000] <zewt>
i don't really care either way, but fwiw apparently Map uses delete

[11:40:32.0000] <zewt>
(at least, at the moment)

[11:49:40.0000] <SamB_MacG5>
grr... validator.nu doesn't seem to build with Java 1.5 :-(

[11:50:13.0000] <zewt>
java: "heh"

[11:51:54.0000] <annevk>
zewt: sure, and in JavaScript you'd do delete x[y]

[11:52:06.0000] <annevk>
not x.delete(y)

[11:52:20.0000] <annevk>
oh well, time for other stuff

[11:52:41.0000] <zewt>
annevk: from https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Map it looks like x.delete(y)

[11:52:54.0000] <zewt>
doesn't look like it uses any native syntax at all

[11:53:19.0000] <annevk>
whoa weird

[11:53:47.0000] <annevk>
well then lets keep delete

[11:53:59.0000] <annevk>
/me goes back to watching Homeland

[11:54:09.0000] <zewt>
(also no idea if that's up to date or how close to stable the spec is, this is about the first time i've even looked at Map)

[14:14:57.0000] <annevk>
oh TabAtkins, I was faster than you, but you gave a better answer

[14:15:39.0000] <annevk>
also, felt good to rant a little on URLs

[14:15:40.0000] <zewt>
but this is stackoverflow, only the first answer is right

[14:15:48.0000] <annevk>
then Opera wins

[14:15:56.0000] <zewt>
heh, one reason i got tired of that site, it encourages fast answers instead of good ones

[14:31:44.0000] <teear>
123

[14:44:52.0000] <annevk>
heh https://www.w3.org/Bugs/Public/show_bug.cgi?id=19528

[14:51:16.0000] <zewt>
<adobe> i hope you don't mind if we try to block fixing problems by filing bugs and demanding multiple in-person meetings

[14:52:34.0000] <annevk>
lets not attribute this to Adobe

[14:53:03.0000] <zewt>
he's posting from @adobe, so that's what I'm inclined to do

[14:55:12.0000] <zewt>
if he doesn't mean what he says to be attributed to adobe, and to have the weight (whatever that may actually be) of adobe's w3c membership behind it, he should be posting from a personal address (at least re: the webapps post)

[14:55:38.0000] <annevk>
that seems way silly

[14:55:51.0000] <annevk>
company can have lots of opinions

[14:56:29.0000] <annevk>
in any event, retrofitting how URLs work into how the IETF specs think URLs work seems like a rather uninteresting task

[14:57:08.0000] <zewt>
it seems like trying to do anything with the IETF is a rather uninteresting task :)

[14:58:26.0000] <zewt>
(and not obviously a useful one)

[15:49:15.0000] <Benvie>
the collection spec is up to date

[15:49:42.0000] <Benvie>
and it's already implemented in V8 and Spidermonkey (for a while)

[15:49:49.0000] <Benvie>
unlikely to change much at this point

[16:12:57.0000] <annevk>
https://twitter.com/algermissen/status/257229931338137600 is why you don't go to the IETF

[16:13:21.0000] <annevk>
even though they could know from stuff like curl that their specs are broken, they still think the problem is with the implementations

[16:13:32.0000] <annevk>
bizarro world

[16:16:31.0000] <annevk>
party time

[16:18:00.0000] <SamB_MacG5>
zewt: just because something is an individuals professional opinion doesn't mean they want to claim that the entire company would agree with them ...

[16:30:43.0000] <zewt>
SamB_MacG5: and i didn't say anything like that


2012-10-14
[02:00:01.0000] <AryehGregor>
Does anyone know why this gives null in WebKit?  http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1844

[02:00:10.0000] <AryehGregor>
(accessing iframe.contentDocument from iframe.onload)

[02:00:25.0000] <AryehGregor>
(with a data URL)

[02:00:33.0000] <AryehGregor>
Oh, data URLs are treated as different origins, aren't they?

[02:00:34.0000] <AryehGregor>
Blech.

[02:01:05.0000] <AryehGregor>
Any way around that?

[02:01:26.0000] <AryehGregor>
Specifically, any way I could have the iframe call a function of its parent, or vice versa?

[02:01:35.0000] <AryehGregor>
/me glares at WebKit

[02:02:14.0000] <AryehGregor>
Well, IE doesn't support data URLs in iframes anyway.

[02:02:34.0000] <AryehGregor>
So I guess I realistically have to use separate pages to test this.

[02:02:35.0000] <AryehGregor>
Bother.

[02:35:09.0000] <AryehGregor>
Bah, and now WebKit doesn't support document.contentType!

[02:35:56.0000] <AryehGregor>
Any way to get at the MIME type of the current document in WebKit?

[02:38:00.0000] <AryehGregor>
/me just skips that check in WebKit for now, it's only a sanity check anyway

[05:50:31.0000] <hsivonen>
haha. IETF-minded folk shocked at annevk routing around their Stop Energy. Film at 11.

[05:52:00.0000] <karlcow>
s/IETF-minded/some/

[05:54:59.0000] <hsivonen>
https://mobile.twitter.com/stilkov/status/257462943359324160 is almost topic material. Please give up your ambition for logic, consistency and architecture. Thanks.

[06:06:41.0000] <Ms2ger>
karlcow, aww, you ruined that conversation ;)

[06:09:15.0000] <karlcow>
Ms2ger: because I'm a peace maker. It's in my nature. :) I do not think making generalization helps in any way. It just put oil on fire. These [w3c|ietf|whatwg] people are $BLAH.

[06:09:36.0000] <Ms2ger>
I'll just say "These people", then :)

[06:11:14.0000] <karlcow>
I would say that each of us reacts emotively to many things far far far away from technical issues often. Both Anne and Hixie have sometimes inflammatory languages, but so do Julian etc.

[06:11:14.0000] <karlcow>
It's individuals more than groups ☺ and Yes I do too and it makes me sad when I do ;)

[08:28:16.0000] <AryehGregor>
/me writes hasFeature() tests

[09:40:01.0000] <AryehGregor>
Is document.implementation.hasFeature("org.w3c.svg", "1.0") going to return true in any browser?  Really?

[09:40:02.0000] <AryehGregor>
/me tests

[09:40:35.0000] <AryehGregor>
Yes, that's "w3c", not "w3".

[09:41:07.0000] <AryehGregor>
Yes, it does in all browsers except Gecko.

[09:41:08.0000] <AryehGregor>
WTF.

[09:41:11.0000] <AryehGregor>
Seriously?

[09:41:20.0000] <AryehGregor>
I hope that's at least in some standard.

[09:41:23.0000] <Ms2ger>
SVG

[09:41:46.0000] <AryehGregor>
Sigh.

[09:43:30.0000] <AryehGregor>
*And* document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")?

[09:43:38.0000] <AryehGregor>
Please at least don't tell me those are in the *same* standard.

[09:44:08.0000] <AryehGregor>
That one seems to even return true in Gecko, but I don't see how . . .

[09:44:31.0000] <AryehGregor>
This is the right code, isn't it?

[09:44:38.0000] <AryehGregor>
Could we just return true always, maybe?

[09:45:23.0000] <hsivonen>
hasFeature() { return true; }

[09:47:34.0000] <AryehGregor>
http://dxr.mozilla.org/mozilla-central/content/base/src/FragmentOrElement.cpp.html#l693

[09:47:40.0000] <Ms2ger>
hsivonen, wfm :)

[09:47:40.0000] <AryehGregor>
I don't see how document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") returns true.

[09:47:58.0000] <Ms2ger>
nsSVGFeatures::HasFeature(aObject, aFeature)

[09:48:13.0000] <AryehGregor>
Of course.

[09:48:40.0000] <AryehGregor>
/me didn't look closely enough

[09:58:44.0000] <AryehGregor>
Why is isSupported() taken out of the spec but hasFeature() still in it?

[11:00:37.0000] <annevk42>
AryehGregor: hasFeature is in all browsers and is used somewhat

[11:00:50.0000] <annevk42>
AryehGregor: if we can make it always return true though, I'm definitely in favor of that

[11:01:09.0000] <annevk42>
AryehGregor: that sounds a lot better than storing that gigantic silly map of strings

[13:08:15.0000] <annevk>
so I resolved https://www.w3.org/Bugs/Public/show_bug.cgi?id=19528 but apparently Larry excludes himself from most emails

[13:08:17.0000] <annevk>
oh well

[13:28:44.0000] <annevk>
karlcow: "Specs do not suffer, implementers do." is nice

[13:30:28.0000] <karlcow>
a new clothing line? :p

[13:30:49.0000] <karlcow>
luckily enough I'm not working for marketing.

[13:31:09.0000] <annevk>
karlcow: I guess the thing with the stuff I do is that I can only get so far with talking with those people. It's so much easier to just attempt to demonstrate a better approach (and possibly fail) than to convince everyone upfront

[13:31:45.0000] <annevk>
karlcow: e.g. rewriting the way DOM Events worked it was far easier to just try it out and see where I'd end up than to discuss it for a few months with some people

[13:32:21.0000] <annevk>
karlcow: and since it's kinda disruptive I guess some class of people gets upset and I don't really like that, but I haven't really found a way around that either

[13:33:40.0000] <karlcow>
annevk: understood. The *only* issue I have in the dialogs is the way *WE* (aka any sides) have a tendency to frame the discussions and look for disagreement instead of sharing expectations and experimenting. ☺ OTOH, it's also because I'm less implicated that I have the luxury to be able to say that. Life in the end.

[13:34:18.0000] <annevk>
I guess it's nice to say "we" because it means I'm not alone :-)

[13:38:32.0000] <annevk>
I've been looking at the disagreement on twitter and one thing that comes up is that because it's from browsers it's not cool (I'm unemployed, but I suppose I fit into that camp somehow), because it's imperative it's broken (this has been discussed many times before), that we should fix the implementations (seems kinda contra-IETF, running code?)

[13:41:20.0000] <annevk>
And to me these are things I have moved beyond. I know browsers care about the web a lot. A whole lot. I know imperative is way better for implementors and QA and to ensure the specification covers all details (many declarative specifications have holes). And I know running code and web compatibility matters over whatever any kind of standard says.

[13:41:51.0000] <annevk>
I'm no longer interested in covering all that ground over and over again.

[13:42:03.0000] <karlcow>
I think some persons would prefer to keep separate the abstract model and its processing. The agreement is not that far in terms of acknowledging the requirements mutual needs. An abstract layer and a processing layer. BUT it takes effort and time to do that because against on both sides on the main interest.

[13:43:15.0000] <annevk>
There is an abstract model. A URL that consists of various components. There's syntax (not defined yet) and processing (parsing).

[13:43:27.0000] <karlcow>
annevk: yup, because your main focus is about the applicability of the Web in today's browsers. And that's perfectly fine and valid. The abstract model is also interesting for some other people. It allows different type of discussions and endeavors.

[13:43:34.0000] <annevk>
And as a bonus  there's an API too.

[13:43:46.0000] <karlcow>
annevk: not the same type of abstract model.

[13:44:08.0000] <annevk>
Not sure what other abstract model there would be for URLs.

[13:44:12.0000] <karlcow>
It's the cliché discussion in between French mathematicians and German mathematicians :)

[13:44:55.0000] <annevk>
And I do not care about today's browsers necessarily. I care about interpreting URLs a hundred years from now in documents produced ten years ago.

[13:45:52.0000] <karlcow>
☺ you have a better crystal ball than mine ;)

[13:46:04.0000] <karlcow>
and more ambition

[13:51:32.0000] <annevk>
GPHemsley++

[14:14:54.0000] <myusuf3>
quick question about html5lib

[14:15:15.0000] <myusuf3>
any idea when its going to use bs4?

[14:39:48.0000] <SimonSapin>
myusuf3: what do you mean?

[14:48:14.0000] <jgraham>
myusuf3: (going to bed now, but...) bs4 can use html5lib iirc. The html5lib support for BS should probably not be used, instead you should use the bs support for html5lib. But I might be wrong


2012-10-15
[21:19:01.0000] <Von_Davidicus>
/me is not sure if his webcoding is clever or nuts.

[23:52:41.0000] <AryehGregor>
annevk, AFAICT, isSupported is in all browsers too.  If we can spec it as just returning true, is there any reason to try removing it?  Any page that uses it will break, so it's almost sure to cause at least some compat issues, and it's really harmless to leave it in as a useless method.

[23:56:09.0000] <AryehGregor>
Admittedly, in the first several pages of results on Google Code Search I seem not to find any uses of isSupported() outside of conformance tests.

[23:57:26.0000] <AryehGregor>
/me gets to the last page of 9 for /isSupported([^[)]*,/ in JS and finds nothing

[23:57:33.0000] <AryehGregor>
Still, why waste the effort?

[23:57:58.0000] <AryehGregor>
Make it always return true and raise a warning in the console or something.

[00:19:57.0000] <annevk>
I don't feel strongly, but sicking, Ms2ger and I have been quite happy to remove cruft

[00:20:23.0000] <annevk>
e.g. most of <basefont> is out of the platform

[00:20:40.0000] <annevk>
as are various other minor things that are not too hard in principle

[00:24:10.0000] <AryehGregor>
Well, if the Mozilla module owners are happy with it, I have no problem going along with it.

[00:25:00.0000] <AryehGregor>
It doesn't seem worth the effort to me, but it doesn't bother me either.

[00:25:16.0000] <AryehGregor>
"Implementations conforming to this specification will not support them."

[00:25:22.0000] <AryehGregor>
Why "will" and not "must"?

[00:25:31.0000] <AryehGregor>
Should I write tests for all of these being unsupported?

[00:25:43.0000] <annevk>
I think I wrote a test for that once

[00:26:23.0000] <AryehGregor>
Is it in the W3C repo anywhere?

[00:26:39.0000] <annevk>
http://dvcs.w3.org/hg/webapps/file/tip/DOMCore/tests/submissions/Ms2ger/historical.html is my test

[00:26:40.0000] <AryehGregor>
If not, I'll just write a new one, shouldn't take long.

[00:27:21.0000] <AryehGregor>
It doesn't seem up-to-date, is it?

[00:27:37.0000] <annevk>
might not be, no

[00:27:55.0000] <annevk>
but I think we haven't changed the list much

[00:28:10.0000] <AryehGregor>
I'll update and approve it.

[00:28:13.0000] <annevk>
it doesn't say "must not" because it doesn't make much sense I think for the specification to say that

[00:28:21.0000] <AryehGregor>
Why?  It's a testable requirement.

[00:28:48.0000] <annevk>
because the standard is not a delta, it is the standard

[00:29:08.0000] <annevk>
and everything not in the standard and not in any standards implemented must of course not be implemented as it would be proprietary

[00:29:42.0000] <AryehGregor>
Yeah, but that's not really testable in practice, because when you're writing tests for one spec you can't rule out the possibility that other specs might sneak in and spec something else.

[00:29:57.0000] <AryehGregor>
So you can only fairly test for it if the DOM spec says "these must not be implemented".

[00:30:20.0000] <annevk>
you can also test it because there's no spec that says they should be implemented

[00:30:30.0000] <annevk>
and we know they might be implemented because of history

[00:30:53.0000] <AryehGregor>
Well, there are old specs that say they should be implemented.  Maybe UAs are still implementing the old spec as well as the new one, where possible.

[00:30:54.0000] <AryehGregor>
I dunno.

[00:31:00.0000] <AryehGregor>
I don't mind writing a test anyway.

[00:31:22.0000] <annevk>
well yes, but those UAs would be non-conforming, as those old specs are obsolete (even though they're not marked as such)

[00:31:49.0000] <AryehGregor>
You and I know that, but it's nice to be explicit.

[00:31:52.0000] <AryehGregor>
But anyway, doesn't matter.

[00:31:54.0000] <AryehGregor>
Interfaces that the spec no longer says should be unsupported: EventException, RangeException.

[00:32:29.0000] <AryehGregor>
Document members: charset, defaultCharset, height, width.

[00:33:30.0000] <annevk>
actually

[00:33:37.0000] <annevk>
I think Ms2ger might have added those to the test

[00:33:40.0000] <annevk>
but not the spec

[00:33:48.0000] <AryehGregor>
Node members that the spec says should be removed but the test doesn't test for: attributes, namespaceURI, prefix, localName, isSameNode

[00:34:10.0000] <AryehGregor>
Window member that's tested but not specced: attachEvent

[00:34:35.0000] <annevk>
I think Ms2ger added that

[00:34:46.0000] <annevk>
and turned this test into a more generic "obsolete stuff" test

[00:35:27.0000] <AryehGregor>
I'd like to make the spec as explicit as possible.

[00:35:43.0000] <annevk>
there's no spec for this test

[00:35:58.0000] <annevk>
the historical section of the spec is just for people who have some history with the DOM

[00:36:06.0000] <zcorpan>
TabAtkins: wouldn't query.get('a') => '1' rather than 1? i.e. always return strings?

[00:36:25.0000] <AryehGregor>
Yeah, but we want interop on which cruft is removed.

[00:36:30.0000] <annevk>
s/have some with/know some of/

[00:36:53.0000] <annevk>
as I said I don't think we need a requirement for that

[00:36:54.0000] <AryehGregor>
If all browsers support an obsolete feature, it might accidentally be necessary for web compat, in which case it needs to be specced.

[00:37:07.0000] <annevk>
well yes

[00:37:09.0000] <AryehGregor>
We don't know until at least someone tries removing it.

[00:37:17.0000] <annevk>
right

[00:37:21.0000] <AryehGregor>
And we won't know who's tried removing stuff unless we have a test.

[00:37:34.0000] <annevk>
I'm not opposing this test, I wrote it :-)

[00:37:39.0000] <AryehGregor>
But it's a little dodgy to write a test with no spec supporting it.

[00:37:54.0000] <AryehGregor>
Meh, whatever.

[00:37:55.0000] <annevk>
All specs together support it

[00:38:17.0000] <AryehGregor>
If you know to ignore the old ones, which aren't actually marked as obsolete.

[00:38:41.0000] <AryehGregor>
/me goes off to file bugs on things Gecko still implements that don't have bugs, in case there are any

[00:39:04.0000] <AryehGregor>
I don't like spec requirements that can only be figured out if you're a spec guru.

[00:39:57.0000] <AryehGregor>
Most implementers aren't.

[00:53:40.0000] <AryehGregor>
Removing non-callable properties is not really such an issue, come to think of it, because those don't throw anyway.

[00:54:17.0000] <annevk>
AryehGregor: okay, how about this

[00:55:03.0000] <annevk>
AryehGregor: we make it a requirement and add a note "This requirement will be removed once a new somewhat stable-equilibrium for these historical artefacts has been reached."

[00:55:16.0000] <AryehGregor>
Sounds fine to me.

[00:55:29.0000] <AryehGregor>
I agree that once existing browsers don't support the features, there's no need for a requirement anymore.

[01:29:07.0000] <annevk>
AryehGregor: shall I make that change in a bit?

[01:29:59.0000] <annevk>
(going offline now, I'll check the logs before I start working on it)

[01:36:11.0000] <zcorpan>
AryehGregor: testing things the spec does not say is necessary to cover all cases. e.g. if webidl says that a property must be present on the interface object and the prototype, it's interesting to test that it's *not* present on the instance even if the spec doesn't say "must not be present on the instance"

[01:36:34.0000] <zcorpan>
where present i mean hasOwnProperty()

[01:36:59.0000] <zcorpan>
specs saying everthing that must not happen is an infinite list so isn't done

[01:37:15.0000] <zcorpan>
doesn't mean it can't be tested

[01:38:15.0000] <jgraham>
Well, not all of it

[01:38:27.0000] <jgraham>
Can't really write an infinite number of tests

[01:38:34.0000] <zcorpan>
why not? :-P

[01:38:44.0000] <jgraham>
In other news, hg fucked up my repo *again*

[01:55:53.0000] <annevk>
zcorpan: I think what AryehGregor meant is that this case is somewhat special since it used to be required and now it's required not to

[01:56:23.0000] <annevk>
AryehGregor: making that change now

[01:59:47.0000] <annevk>
AryehGregor: hmm actually, the change is somewhat harder since it's split across a few subsections

[02:00:03.0000] <annevk>
AryehGregor: e.g. EventException is listed

[02:00:30.0000] <annevk>
maybe we should list all interface and interface members in one section which combines all old DOM specs

[02:00:33.0000] <annevk>
meh

[02:11:47.0000] <annevk>
AryehGregor: okay so not making that change for now, will think a bit about the design of that section

[03:03:43.0000] <AryehGregor>
Huh?  I wrote a long comment to https://www.w3.org/Bugs/Public/show_bug.cgi?id=19431, what happened to it?

[03:03:51.0000] <AryehGregor>
Did I forget to submit it and then close the tab, or was there a server hiccup?

[03:04:30.0000] <AryehGregor>
/me makes sure he's e-mailed when he makes the change, too, to avoid losing things if there ever is a server hiccup

[03:06:12.0000] <MikeSmith>
AryehGregor: I don't know of cases where a submitted comment disappeared. So if you think that's what happened, we should definitely report it so that they can check on it

[03:06:25.0000] <AryehGregor>
My guess is it's more likely that I forgot to submit it, then.

[03:06:26.0000] <AryehGregor>
Annoying.

[03:35:58.0000] <AryehGregor>
Wait, so the .internalSubset property is removed but the concept of internal subsets still exists, I guess?

[03:36:00.0000] <AryehGregor>
/me is confused

[03:36:13.0000] <AryehGregor>
They're just not exposed via the DOM, or what?

[03:36:18.0000] <AryehGregor>
/me doesn't see annevk or Ms2ger around, rats

[03:38:04.0000] <jgraham>
Is this a sinking ship?

[03:41:11.0000] <AryehGregor>
I hope not.

[03:41:20.0000] <AryehGregor>
/me gets out his snorkel gear just in case

[03:48:24.0000] <smaug____>
AryehGregor: I *think* also webkit or chromium has some data whether some functions are used

[03:48:38.0000] <smaug____>
would be good to ask them too

[03:48:54.0000] <smaug____>
and not just randomly remove bad APIs

[03:49:06.0000] <AryehGregor>
It might also be worth looking through WebKit's bugs to see when they added it, in case it was because of compat issues.

[03:50:42.0000] <smaug____>
I'd assume some old DOM2 stuff have been in webkit since khtml times

[03:50:54.0000] <AryehGregor>
Some has, but some they added much later.

[03:51:11.0000] <AryehGregor>
Some they still haven't added -- WebKit today doesn't support Document.contentType.

[03:52:54.0000] <smaug____>
which means that some script might use .contentType to detect UA to be non-webkit

[03:58:31.0000] <AryehGregor>
Okay, but if we want to ever have interop we have to break that kind of sniffing code sometimes.  E.g., either we have to stop supporting .taintEnabled at some point and break pages that send us down IE code paths, or (perhaps more reasonably) other browsers have to support it and go down Gecko code paths.

[03:58:43.0000] <AryehGregor>
Sometimes pain is inevitable if authors use stupid sniffing techniques.

[03:59:55.0000] <smaug____>
yup

[04:00:15.0000] <AryehGregor>
Like "if navigator.taintEnabled is defined, assume you can use Gecko-only stuff" -- then other browsers can't add it.  "if navigator.taintEnabled is undefined, assume you can use IE-specific stuff" -- then we can't remove it.

[04:00:26.0000] <smaug____>
but need to be careful, and better to not to things without having at least some data

[04:00:30.0000] <AryehGregor>
Yes, agreed.

[04:00:36.0000] <AryehGregor>
I did do a Google Code Search and found no uses.

[04:02:04.0000] <smaug____>
well, there are tons of examples for .isSupported

[04:02:10.0000] <AryehGregor>
Like where?

[04:02:15.0000] <AryehGregor>
If there are, we definitely shouldn't remove it.

[04:02:19.0000] <AryehGregor>
.getFeature I found lots.

[04:02:24.0000] <AryehGregor>
.isSupported I haven't found yet.

[04:03:11.0000] <smaug____>
http://reference.sitepoint.com/javascript/Node/isSupported was the first result in google

[04:03:28.0000] <AryehGregor>
It's documented, that doesn't mean it's used.

[04:03:42.0000] <AryehGregor>
The only uses I found were in conformance tests.

[04:04:26.0000] <AryehGregor>
http://code.google.com/codesearch

[04:04:35.0000] <smaug____>
yeah, true, documentation doesn't mean it is being used

[04:04:41.0000] <AryehGregor>
Search in JavaScript, that's a better indicator.

[04:04:59.0000] <smaug____>
but I don't really trust google codesearch to give enough data

[04:06:03.0000] <AryehGregor>
What I don't like about our telemetry is last I checked, it only says how many times *all users combined* hit the probe.  What I want is how many *different* users hit the probe.  I don't care if one guy really likes running conformance tests and hit isSupported() 50,000 times, and 99.99% of users didn't hit it once.

[04:07:32.0000] <smaug____>
yeah, that is an issue

[04:08:58.0000] <AryehGregor>
Are there docs for what the different histogram types mean, exactly?  I don't see them.

[04:09:24.0000] <AryehGregor>
(maybe this has become a discussion for #developers)

[04:11:45.0000] <smaug____>
oh, usage of mutation events seems to have gone down a bit. Perhaps Google has started to use mutation observer

[04:12:18.0000] <smaug____>
or people use more facebook and it doesn't use mutation events

[05:38:40.0000] <karlcow>
http://talsraviv.com/2012/07/20/do-you-really-need-a-server-build-your-minimum-viable-product-entirely-client-side/

[05:41:31.0000] <AryehGregor>
/me discovers that Node.compareDocumentPosition a) is not interoperable in simple cases, b) does not match the spec

[05:41:32.0000] <AryehGregor>
Yay!

[05:42:00.0000] <AryehGregor>
Also, the MDN docs don't match Gecko's actual implementation.

[05:43:05.0000] <AryehGregor>
  const unsigned short      DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC = 0x20;

[05:43:21.0000] <jgraham>
Hah

[05:44:33.0000] <AryehGregor>
Two disconnected nodes, picked somewhat randomly.  The spec says to return 0x01.

[05:45:26.0000] <AryehGregor>
WebKit returns 0x21.

[05:45:34.0000] <AryehGregor>
Opera returns 0x24.

[05:45:38.0000] <AryehGregor>
Gecko returns . . . wait for it . . .

[05:46:00.0000] <AryehGregor>
. . . either 0x23 or 0x25, depending (according to source code inspection) on which one's furthest ancestor is greater when they're compared as pointers.

[05:46:02.0000] <AryehGregor>
No, seriously.

[05:46:06.0000] <AryehGregor>
SERIOUSLY.  I AM NOT MAKING THIS UP.

[05:46:26.0000] <AryehGregor>
I WISH I WAS MAKING THIS UP.

[05:46:33.0000] <AryehGregor>
http://dxr.mozilla.org/mozilla-central/content/base/src/nsINode.cpp.html#l764

[05:46:55.0000] <jgraham>
AryehGregor: Nice of people to not clash with each other or the spec there :)

[05:46:56.0000] <AryehGregor>
/me pulls out hg blame

[05:48:10.0000] <AryehGregor>
And IE . . . also returns 0x23 or 0x25 at random.

[05:48:11.0000] <AryehGregor>
/me cries

[05:48:39.0000] <AryehGregor>
No, wait.  Opera returns 0x23.

[05:48:41.0000] <AryehGregor>
At least that's something.

[05:49:12.0000] <AryehGregor>
There are only three possible values, and three out of four browsers agree to return one of them at least some of the time.

[05:49:22.0000] <AryehGregor>
Although WebKit is the sanest.

[05:56:14.0000] <AryehGregor>
"If there is no common container node, then the order is based upon order between the root container of each node that is in no container. In this case, the result is disconnected and implementation-specific. This result is stable as long as these outer-most containing nodes remain in memory and are not inserted into some other containing node. This would be the case when the nodes belong to different documents or fragments, and cloning the d

[05:56:14.0000] <AryehGregor>
ocument or inserting a fragment might change the order."

[05:56:17.0000] <AryehGregor>
http://www.w3.org/TR/DOM-Level-3-Core/core.html#DocumentPosition

[05:56:22.0000] <AryehGregor>
?!?

[05:58:37.0000] <jgraham>
You know when the DOM is bad when the text starts "A bitmask..."

[05:59:45.0000] <AryehGregor>
If only that were anything close to the real problem here.  :(

[06:00:00.0000] <jgraham>
Well it is close to the root problem

[06:00:11.0000] <jgraham>
The root problem is "someone thought this was a good idea"

[06:00:25.0000] <jgraham>
Anyway, is that part you quoted supposed to make any sense to me?

[06:03:55.0000] <AryehGregor>
It doesn't?

[06:04:13.0000] <AryehGregor>
If the two nodes have no common container, the spec says that there is an implementation-specific order.

[06:04:23.0000] <AryehGregor>
Thus Gecko and IE are both completely conforming.

[06:04:31.0000] <AryehGregor>
Opera may or may not be conforming, and WebKit is not.

[06:04:54.0000] <AryehGregor>
I assume the idea is that this way, you could get a total ordering of all nodes in existence, in case you wanted one for some purpose or other.

[06:05:00.0000] <AryehGregor>
This is, however, insane.

[06:08:09.0000] <woef>
Is there a technical reason why css column-span only takes 1 and all as values? Values like '2' or '3' would be a lot more useful :)

[06:11:16.0000] <AryehGregor>
Ah, no, Opera also randomly oscillates between 0x23 and 0x25 at random.

[06:11:22.0000] <AryehGregor>
Good show to everyone on matching the spec.

[06:11:31.0000] <AryehGregor>
Except WebKit, which is of course notorious for ignoring standards.

[06:11:32.0000] <AryehGregor>
Sigh.

[06:37:45.0000] <ashemedai>
Interesting, seems only Firefox is doing decent subpixel AA on font-weight: bold on fonts. Neither Chrome or Opera seem to do well :S

[06:39:03.0000] <AryehGregor>
That's very platform-specific, I imagine.

[06:39:06.0000] <AryehGregor>
Hmm, what should I test now?

[06:39:19.0000] <AryehGregor>
Encodings, let me do that.

[06:39:32.0000] <AryehGregor>
Although I have nowhere to put the tests, hmph.

[06:39:40.0000] <jgraham>
AryehGregor: Oh, I see

[06:39:53.0000] <ashemedai>
AryehGregor: I think Chrome has a bug at least in this department (I added some details today at http://code.google.com/p/chromium/issues/detail?id=125298 ) - but I don't understand Opera's rendering at all. Even a font-weight of normal looks bad to be honest. :S

[06:40:14.0000] <AryehGregor>
jgraham, you see what?

[06:41:15.0000] <odinho>
ahtop

[06:41:46.0000] <AryehGregor>
/me decides he can test .characterSet in DOM tests, even though really all the data comes from the encoding spec, because DOM normatively references the encoding spec for the definition of characterSet

[06:42:01.0000] <ashemedai>
Anyway, can someone remind me what the problem was with browsers displaying normal text with monospace and the monospace in comparison looking much too small? Was it a simple x-height problem that needed a CSS fix or something else?

[06:42:31.0000] <AryehGregor>
ashemedai, I think it was just an x-height problem, yeah.

[06:42:37.0000] <AryehGregor>
I think that's what font-size-adjust is for, right?

[06:42:44.0000] <ashemedai>
that ought to make my googling a bit easier

[06:43:18.0000] <ashemedai>
http://code.stephenmorley.org/html-and-css/fixing-browsers-broken-monospace-font-handling/

[06:43:34.0000] <ashemedai>
Wonder how uptodate/relevant that one still is

[06:43:39.0000] <jgraham>
AryehGregor: What the spec is trying to say

[06:43:48.0000] <AryehGregor>
Ah, okay.

[06:44:48.0000] <hsivonen>
Does Safari on OS X use AV Foundation yet?

[06:45:50.0000] <hsivonen>
what's Long GOP H.264?

[06:46:05.0000] <AryehGregor>
There's no convenient way to set the document's encoding, I guess.  Bother.  Maybe I'll test URLs.

[06:49:54.0000] <hsivonen>
AryehGregor: server plus <meta charset> not convenient enough?

[06:49:57.0000] <AryehGregor>
Hmm, but does anything normatively refer to the URL spec in a manner that I could test it?

[06:50:11.0000] <AryehGregor>
hsivonen, well, how do I set up the server?  A PHP script?

[06:50:20.0000] <AryehGregor>
I'd like to test hundreds of encodings in one page.

[06:50:34.0000] <AryehGregor>
data: URLs work for Gecko and Opera, but not IE/WebKit.

[06:50:54.0000] <AryehGregor>
IE doesn't support data: URLs in iframe, and WebKit treats them as cross-origin, so I can't access their .characterSet (I don't think).

[06:51:42.0000] <AryehGregor>
A PHP script would work for the W3C test suite, but wouldn't be very useful for Gecko internal tests (nor, I suspect, other browsers').

[06:52:31.0000] <AryehGregor>
What I did for testing different Content-Types for another purpose is use a Python script to generate lots of static files, but that's not fun for thousands of tests.

[06:52:34.0000] <zewt>
i'd imagine any browser set system is going to need a way to generate remote content, whether with something like PHP or otherwise

[06:52:42.0000] <zewt>
test system

[06:52:58.0000] <AryehGregor>
zewt, yeah, but the problem is there's no way we have to do it cross-browser right now.

[06:52:59.0000] <jgraham>
AryehGregor: PHP wouls work for us, but AFAIK not for WebKit either

[06:53:18.0000] <AryehGregor>
jgraham, your tests are only runnable on your own server farm, right?

[06:53:28.0000] <AryehGregor>
As opposed to at least Gecko and probably WebKit, where they have to be runnable locally.

[06:53:40.0000] <AryehGregor>
(because they're, you know, open-source ;) )

[06:53:49.0000] <jgraham>
They are run from a central server, yes

[06:53:56.0000] <AryehGregor>
In your case you could just set up a bona fide web server.

[06:54:01.0000] <AryehGregor>
Which I guess you do.

[06:54:05.0000] <jgraham>
Yes, we have

[06:54:16.0000] <jgraham>
You *could* do that too

[06:54:26.0000] <jgraham>
But there might be reasons not to adopt that model

[06:54:29.0000] <AryehGregor>
I think Gecko actually does.

[06:54:34.0000] <AryehGregor>
On some definite port on localhost.

[06:54:38.0000] <zewt>
can you use postMessage to have the data: URL send results back? don't really know where that's supported

[06:54:48.0000] <jgraham>
(actually, I don't think "open source" is the main objection)

[06:55:12.0000] <AryehGregor>
A dependency on postMessage() kind of stinks in a .characterSet test, and doesn't help with IE.

[06:55:13.0000] <jgraham>
(I think "want to version tests with the code" is the main objection)

[06:55:15.0000] <zewt>
i guess if you're running things off file:// then that's hard

[06:55:25.0000] <AryehGregor>
jgraham, that's kind of prohibitive, yeah.

[06:55:25.0000] <jgraham>
IE supports postMEssage

[06:55:35.0000] <AryehGregor>
It doesn't support iframes with data: src's.

[06:55:42.0000] <jgraham>
Not versioning tests with the code kind of sucks

[06:55:51.0000] <AryehGregor>
So you don't version tests with the code?

[06:55:54.0000] <jgraham>
But on the other hand, WebKit's layout tests are just funny

[06:56:08.0000] <jgraham>
They have screenshots for every platform in the source tree

[06:56:09.0000] <AryehGregor>
Are those the ones that dump some kind of internal representation to plaintext and then diff it?

[06:56:10.0000] <zewt>
jgraham: that just means needing a system to be able to put php blobs in the tests somehow (which isn't trivial, but not all that magic)

[06:56:16.0000] <AryehGregor>
Oh, that's the other type of WebKit layout test.

[06:56:19.0000] <jgraham>
Laugh? I almost died

[06:56:38.0000] <zewt>
(sending PHP blobs in the URL itself for the server to run for you is one way, but obvious security issues there)

[06:57:14.0000] <jgraham>
AryehGregor: Yeah, our system - for histortic reasons, mostly - has entirely seperate tests and cide

[06:57:17.0000] <jgraham>
*code

[06:57:25.0000] <AryehGregor>
*cider

[06:57:48.0000] <jgraham>
It is very important to seperate tests and cider

[06:58:29.0000] <AryehGregor>
Especially hard cider.

[06:58:55.0000] <hsivonen>
AryehGregor: you could use a script to generate a bunch of files

[06:59:07.0000] <AryehGregor>
Yeah, I could.

[06:59:18.0000] <AryehGregor>
I've done it, it just makes me reluctant to test as thoroughly as I'd like.

[06:59:37.0000] <jgraham>
It is a pain when you want to update a test of course. But it makes so many other things very simple.

[06:59:51.0000] <AryehGregor>
Hmm?

[07:00:14.0000] <jgraham>
The non-versioned tests thing

[07:00:22.0000] <AryehGregor>
What does it make simple?

[07:00:24.0000] <jgraham>
Sorry, I am a little behind the conversation

[07:00:27.0000] <AryehGregor>
Wait, don't tell me your tests aren't versioned at all.

[07:00:34.0000] <jgraham>
Yeah, they are

[07:00:38.0000] <AryehGregor>
Phew.

[07:00:43.0000] <jgraham>
But not tied to the version of the code

[07:01:06.0000] <AryehGregor>
/me could find more WebIDL stuff to test

[07:01:13.0000] <jgraham>
You don't have to distribute specific versions of tests to individual test slaves

[07:01:17.0000] <hsivonen>
/me learned a new meaning for GOP: http://en.wikipedia.org/wiki/Group_of_pictures

[07:01:47.0000] <AryehGregor>
jgraham, our test slaves build the source code too, so they get the tests with the source code.  How do you detect if someone breaks the build on a different platform?

[07:01:56.0000] <jgraham>
Which makes the test sytem scale rather well without scary complexity

[07:02:19.0000] <jgraham>
We have seperate test machines and build machines

[07:02:23.0000] <AryehGregor>
So do we.

[07:02:42.0000] <AryehGregor>
But the test machines need the compiled binaries anyway to actually run the tests, so they can get the tests at the same time.

[07:02:50.0000] <AryehGregor>
(I think; I'm not completely familiar with our architecture)

[07:03:17.0000] <jgraham>
Right, but then you have to either distribute gigabytes of tests with each build, or somehow split up the tests

[07:03:36.0000] <jgraham>
AFAIK, in the Mozilla architecture tests are split up statically

[07:03:52.0000] <AryehGregor>
Gigabytes of tests?

[07:03:56.0000] <jgraham>
So you know that machine A will always run Mochitests, and B will always run Reftests and so on

[07:04:04.0000] <AryehGregor>
Our entire codebase is only a few gigs.

[07:04:05.0000] <jgraham>
Including media files, yeah, I think so

[07:04:14.0000] <AryehGregor>
How big a media file do you need for testing?

[07:04:21.0000] <AryehGregor>
We have a couple of short videos.

[07:04:37.0000] <AryehGregor>
Of course, we're not going to have gigs of tests if we can avoid it, because we use a DVCS . . .

[07:04:42.0000] <AryehGregor>
(and they're in the source code repo)

[07:04:45.0000] <jgraham>
Google came up with http://code.google.com/p/codeswarm/ to overcome the test scaling system

[07:04:53.0000] <jgraham>
*problem

[07:04:58.0000] <jgraham>
But that looks scary complex

[07:05:09.0000] <jgraham>
Whereas our system scales really nicely

[07:05:19.0000] <jgraham>
Any test slave can run any test, more or less

[07:05:53.0000] <jgraham>
So you can just keep adding slaves until you are limited by something else

[07:05:55.0000] <AryehGregor>
/me doesn't know exactly how it works with us

[07:07:23.0000] <AryehGregor>
I don't *think* we have different test slaves for different types of tests.  Obviously for different platforms we do.

[07:09:38.0000] <smaug____>
jgraham: sounds pretty similar to what we do

[07:11:53.0000] <smaug____>
also, I think we can run stuff on Amazon's cloud

[07:13:16.0000] <AryehGregor>
I think that's only building for now.

[07:21:16.0000] <zcorpan>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=19540 wow the spec text kinda sucks here

[07:25:38.0000] <jgraham>
AryehGregor: Not necessarily different slaves for different *typees* of tests. I don't think I explained the difference clearly. AFAICT you have regression tests split up into 12 predefined batches (5 mochitest, some others). So for each platform, you can at best run 12 lots of testing concurrently

[07:26:33.0000] <AryehGregor>
For any given revision to be tested, yes.

[07:26:47.0000] <jgraham>
We split the tests dynamically at runtime, and typically have a few hundred batches per build

[07:26:47.0000] <AryehGregor>
(The number of batches varies depending on platform and options.)

[07:26:55.0000] <AryehGregor>
Yes, that would be vastly superior.

[07:26:55.0000] <jgraham>
(per platform)

[07:27:20.0000] <AryehGregor>
I wish we had the ability to do that, and maybe, you know, rerun individual failing tests without having to spend 40 minutes rerunning a whole batch.

[07:27:32.0000] <jgraham>
Which I thin kis what google swarm is supposed to give you

[07:27:40.0000] <GPHemsley>
/me wonders what he did right... but annevk is not around to tell him.

[07:27:44.0000] <jgraham>
But it looks mighty complicated

[08:20:17.0000] <AryehGregor>
So it turns out making 847 iframes and populating them with data URLs is slow.

[08:20:18.0000] <AryehGregor>
Sigh.

[08:20:21.0000] <AryehGregor>
Why does testing have to be annoying?

[08:22:02.0000] <charlvn>
i am building an irc bot that extracts some basic information about a given uri but i am wondering what is senseful to include in a one line response

[08:22:23.0000] <charlvn>
the page title, obviously, and if oembed is present, some info from that, but what else?

[08:29:33.0000] <AryehGregor>
http://w3c-test.org/webapps/DOMCore/tests/submissions/AryehGregor/Document-characterSet-normalization.html

[08:29:42.0000] <AryehGregor>
Currently uses a .php file.

[08:30:06.0000] <jgraham>
AryehGregor: Could you make, say, 8 iframes and populate them with data urls then, when as each test completes populate its iframe with a different data url?

[08:30:18.0000] <AryehGregor>
Hmm, the PHP file isn't there . . .

[08:30:37.0000] <jgraham>
AryehGregor: I also think this might help Opera, which iirc has a limit of 200 iframes per page or something

[08:30:39.0000] <AryehGregor>
jgraham, I considered it.

[08:30:46.0000] <AryehGregor>
Opera seems to not completely break.

[08:31:09.0000] <AryehGregor>
So where did the PHP file go?

[08:31:14.0000] <AryehGregor>
Does w3c-test.org filter them?

[08:31:39.0000] <AryehGregor>
Does it allow them at all?

[08:31:40.0000] <jgraham>
AryehGregor: Yeah, they are supposed to be manually reviewed

[08:31:46.0000] <AryehGregor>
Oh, blech.

[08:31:52.0000] <AryehGregor>
And who has the ability to do that?

[08:31:53.0000] <jgraham>
So they don't get synced at first

[08:32:07.0000] <jgraham>
I dunno

[08:32:13.0000] <AryehGregor>
It would be easier to use a scratch domain, and/or generate static files.

[08:32:15.0000] <jgraham>
O think they are automatically notified though

[08:32:28.0000] <jgraham>
So I don't think you need to do anything

[08:32:42.0000] <jgraham>
MikeSmith is the knower of all things, however

[08:32:45.0000] <AryehGregor>
Well, I meant it as a temporary thing to test, because IE is in a sandbox and can't access localhost.

[08:33:16.0000] <AryehGregor>
Unless MikeSmith is willing to approve the file within however long it takes me to write a Python script to autogenerate a few hundred static files, I'll just do that.

[08:34:29.0000] <AryehGregor>
I need to figure out a way to get VirtualBox to access the web server on the host machine.

[08:36:35.0000] <AryehGregor>
/me reads docs

[08:39:03.0000] <AryehGregor>
Oh, so just connecting to http://10.0.0.2:8080/ works fine.

[08:39:06.0000] <AryehGregor>
That makes a lot of sense.

[08:39:30.0000] <AryehGregor>
Apparently VirtualBox transparently set itself up using NAT and I didn't even notice this whole time.  I thought the VM didn't have network access.

[08:39:51.0000] <jgraham>
No, that's the default. You can switch it to Bridged or something I think

[08:39:56.0000] <jgraham>
Which is more useful

[09:30:52.0000] <AryehGregor>
jgraham, how is it more useful?

[09:31:39.0000] <AryehGregor>
/me makes lists of all the ways in which browsers deviate from the encoding spec

[09:38:13.0000] <Hixie_>
good morning all

[09:39:53.0000] <divya>
zewt: let me assure you it is not an @adobe view

[09:40:13.0000] <divya>
zewt: w.r.t opinions expressed by someone on URL stuff

[09:41:36.0000] <TabAtkins>
zcorpan: Yeah, you're right.  I mistyped.  Always strings.

[09:47:50.0000] <jgraham>
AryehGregor: istr it allowed me to resolve local servers which I couldn't with NAT

[09:48:15.0000] <TabAtkins>
annevk: Reserved words are no longer reserved unconditionally in JS - you can use them as property names.  Chrome and FF both definitely allow it.

[09:48:45.0000] <jgraham>
I said that!

[09:48:50.0000] <jgraham>
;)

[09:49:12.0000] <TabAtkins>
jgraham: I was reading scrollback.  Can't be expected to remember to reply only after I've already read the entire thing. ^_^

[09:49:29.0000] <divya>
why is annevk OFFLINE

[09:49:55.0000] <jgraham>
TabAtkins: I guessed. It's OK IRC is still less confusing than twitter

[09:50:15.0000] <MikeSmith>
AryehGregor, jgraham : something needs doing from me?

[09:51:09.0000] <jgraham>
MikeSmith: AryehGregor uploaded a PHP script. I lost the thread of the story after that; he may have rewritten the tests not not require it

[09:51:19.0000] <MikeSmith>
ok

[09:51:23.0000] <MikeSmith>
/me takes a look

[09:52:10.0000] <AryehGregor>
I probably will rewrite the tests to not require it.

[09:52:25.0000] <AryehGregor>
But it's about two lines long, so you should be able to approve it without too much looking.

[09:52:36.0000] <AryehGregor>
No need if it's annoying, though.

[09:52:48.0000] <MikeSmith>
which repo you pushed it to?

[10:00:25.0000] <MikeSmith>
AryehGregor: http://w3c-test.org/webapps/DOMCore/tests/submissions/AryehGregor/encoding.php live now

[10:00:59.0000] <odinho>
divya: Does he have no right? :P

[10:03:59.0000] <jgraham>
Hmm, I wonder if it is widely known that dealing with *invalid* content is not the primary source of cross-browser compat issues (anymore)

[10:05:04.0000] <jgraham>
Or at least I believe that to be the case

[10:06:03.0000] <Hixie_>
can someone explain to me why every time we try to fix the URL mess, the IETF people get up in arms, but every time we say "ok, you fix it", they do sod all

[10:07:11.0000] <MikeSmith>
Hixie_: Bizarro Superman

[10:07:30.0000] <jgraham>
Because one involves writing offended email - possibly in green ink - and one involves proper work?

[10:09:11.0000] <jgraham>
I suppose an alternative hypothesis is that they don't think there's anything that needs fixing

[10:09:52.0000] <Hixie_>
drives me crazy

[10:09:59.0000] <Hixie_>
actually that's not true, it just lowers my respect for them

[10:11:37.0000] <Hixie_>
this most recent round of complaints is particularly flagrant though given that they've had four years to get their act together on this, including several attempts from several of us to tell them all the things that need specifying, and they've done precisely nothing

[10:12:38.0000] <SamB_MacG5>
maybe they need replacing

[10:14:26.0000] <SamB_MacG5>
/me wonders where netscape/mozilla's "rel" values are documented

[10:14:35.0000] <SamB_MacG5>
+old

[10:14:46.0000] <SamB_MacG5>
there was supposed to be an "old" in that wondering

[10:21:20.0000] <GPHemsley>
Given the number of specs that are now under WHATWG's purview, I wonder if it might make sense to create additional mailing lists for more specific discussion? (One way would be to have separate mailing lists for separate specs.)

[10:22:23.0000] <SamB_MacG5>
GPHemsley: shouldn't it be by spec families?

[10:22:29.0000] <SamB_MacG5>
some of the specs are pretty small ...

[10:22:41.0000] <GPHemsley>
That's another way, I suppose. Where are such families defined?

[10:23:05.0000] <SamB_MacG5>
you'd have to do that, too, I think ;-)

[10:24:36.0000] <TabAtkins>
An alternative is to do as we do in CSS - prefix your mails with a per-spec token, so you can easily filter for specific specs you do or don't care about.

[10:24:41.0000] <SamB_MacG5>
(sort of like how the W3C has a CSS WG and an HTML WG and so on, only with a minimum of red tape.)

[10:25:23.0000] <SamB_MacG5>
(and no dues)

[10:25:25.0000] <GPHemsley>
TabAtkins: Well, I was hoping to avoid have to post-filter ;)

[10:25:29.0000] <GPHemsley>
ing

[10:27:51.0000] <GPHemsley>
/me also wonders when http://spec.whatwg.org/ is gonna get updated to point to something useful.

[10:28:35.0000] <Hixie_>
GPHemsley: more mailing lists causes more fragmentation

[10:28:47.0000] <Hixie_>
GPHemsley: so that's unlikely to happen with the current set of tspecs

[10:30:43.0000] <TabAtkins>
Hixie_: HTML doesn't actually require the charset, right?

[10:34:04.0000] <GPHemsley>
Hixie_: Fragmentation isn't inherently a bad thing. Judging from http://www.whatwg.org/specs/ , the current specs could be split into 2 or 3 groups: something like pre-processing/file handling (Encoding, URLs, Fetch, MIME Sniffing) and processing (HTML, DOM, Quirks, etc.)

[10:34:45.0000] <Hixie_>
TabAtkins: a character encoding declaration is required in most cases

[10:34:59.0000] <Hixie_>
TabAtkins: but there's about six zillion ways to specify it

[10:35:06.0000] <Hixie_>
TabAtkins: and the precise requirements are kinda hard to summarise

[10:35:11.0000] <Hixie_>
http://www.whatwg.org/specs/web-apps/current-work/#charset

[10:35:30.0000] <GPHemsley>
/me also wonders why http://developers.whatwg.org/ is formatted differently than all the other WHATWG pages (e.g. with a serif typeface) and why it uses such a small max width.

[10:35:55.0000] <Hixie_>
that's ben's baby

[10:36:34.0000] <Hixie_>
it's our attempt at addressing the category of potential readers who find the WHATWG spec style (both in terms of presentation and in terms of content) to be unusable

[10:37:05.0000] <Hixie_>
so e.g. it omits large chunks of the spec, it uses radically different styles, it uses appcache to be cachable on phones, etc

[10:38:00.0000] <GPHemsley>
I question whether using radically different styles is truly necessary (though the other things you mentioned seem reasonable).

[10:44:06.0000] <Hixie_>
GPHemsley: if you want to maintain a similar version with different styles, let me know, i can set you up with a domain :-)

[10:44:20.0000] <GPHemsley>
:P

[10:44:58.0000] <GPHemsley>
FWIW, I generally use the markup document from the W3C for that information, so... >_>

[10:45:32.0000] <GPHemsley>
Anyway, I'm more interested in continuing the mailing list discussion that the document styling one ;)

[10:47:10.0000] <hsivonen>
/me blinks at HTML WG and minimum red tape in one sentence

[10:49:06.0000] <Hixie_>
MikeSmith: https://www.w3.org/Bugs/Public/show_bug.cgi?id=18338#c2

[10:51:33.0000] <MikeSmith>
Hixie_: OK so I guess I'll respond there

[10:52:06.0000] <MikeSmith>
but the answer is yeah I suppose it doesn't need to be a document-conformance error

[10:52:25.0000] <Hixie_>
if you are ok with the spec as is, feel free to close hte bug :-)

[10:52:28.0000] <MikeSmith>
but I brought it up because it's something the validator does check and report on

[10:52:47.0000] <hsivonen>
the validator input is the content-type header and the entity body

[10:53:17.0000] <MikeSmith>
hsivonen: so do you think the spec should have a requirement for this or not?

[10:53:21.0000] <Hixie_>
right but hte validator checks more than just HTML, right?

[10:53:32.0000] <Hixie_>
my argument is that this is a conformance error to HTTP

[10:53:45.0000] <Hixie_>
HTML doesn't really know much about HTTP

[10:54:00.0000] <MikeSmith>
Hixie_: well you have a requirement in the spec for the character encoding information to be valid

[10:54:02.0000] <Hixie_>
(it knows more than i'd like it to)

[10:54:18.0000] <MikeSmith>
including if the encoding is given in the HTTP header, right?

[10:55:03.0000] <Hixie_>
true, but that's mostly just because i don't explicitly limit it to HTML because i don't want people to be confused into thinking i'm saying it's ok if XML or HTTP char enco decls are wrong

[10:55:13.0000] <MikeSmith>
OK

[10:55:21.0000] <Hixie_>
(people have an incredibly annoying tendency to read between the lines)

[10:55:38.0000] <hsivonen>
theoretically, this might belong in hhtp. in practice, a note in html would be nice

[10:55:53.0000] <Hixie_>
i'm happy to add a note, certainly

[10:56:31.0000] <Hixie_>
https://bug-44436-attachments.webkit.org/attachment.cgi?id=168646 :-/

[10:57:49.0000] <GPHemsley>
...at least it's site specific...?

[10:58:28.0000] <TabAtkins>
Hixie_: Yeah, site-specific quirks are necessary sometimes. :/

[10:58:38.0000] <TabAtkins>
This site in particular has apparently resisted several years of fixes.

[10:58:52.0000] <TabAtkins>
However, I don't think we've tried to get our devrel to yell at them yet.  I suggested that as the first step.

[10:59:41.0000] <Hixie_>
the site even says "We cannot support Google Chrome for completing your Change of Address at this time."

[10:59:53.0000] <Hixie_>
because I guess adding a line saying "we suck" was easier than fixing their site...?

[11:01:07.0000] <Hixie_>
it's broken in firefox too

[11:02:25.0000] <TabAtkins>
It's broken in every browser that support @required.

[11:03:04.0000] <tantek>
Is the spec broken or is every browser broken?

[11:03:10.0000] <TabAtkins>
The site is broken.

[11:03:37.0000] <TabAtkins>
(It's using 'required="yes"' and 'required="no"' for its own JS-based validation.

[11:03:43.0000] <TabAtkins>
)

[11:04:51.0000] <TabAtkins>
And the site believes that it's easier to say "We only support IE6 and IE7" than to change the attribute name to "data-required".

[11:04:54.0000] <Hixie_>
TabAtkins: yeah, i was just checking that no other browser had a hack yet

[11:05:11.0000] <SamB_MacG5>
maybe there should be some "hall of shame" generated from the site-specific hacks ?

[11:05:18.0000] <Hixie_>
TabAtkins: opera in particular has a whole framework for doing site-specific hacks, so it wouldn't be surprising to me if it had worked there

[11:05:29.0000] <Hixie_>
SamB_MacG5: IBM has such a site-specific hack that the HTML parser spec lists IBM by name

[11:05:44.0000] <Lachy>
Wow, that's a rather complicated way of providing a site specific fix. That's the kind of bug that Opera has BrowserJS for.

[11:05:46.0000] <SamB_MacG5>
I meant for the less extreme offenders

[11:06:19.0000] <SamB_MacG5>
Hixie_: also, isn't the name needed to detect the site?

[11:06:58.0000] <Hixie_>
SamB_MacG5: right, what i mean is that this particular site-specific hack ended up in the spec

[11:07:20.0000] <SamB_MacG5>
that *is* pretty bad

[11:08:25.0000] <SamB_MacG5>
I guess my point was that the spec could hardly enshrine an anonymous site-specific hack ...

[11:08:37.0000] <Hixie_>
going back to the URL thing (i'm reading my mailing list mail from the weekend backwards, so sue me): how do IETF people not realise that there is value in having all software error-correct URLs the same way...????!!!???

[11:13:23.0000] <SamB_MacG5>
well ... that's not quite going to happen ...

[11:14:18.0000] <SamB_MacG5>
... I mean, some contexts add http:// and others treat them as relative ...

[11:15:58.0000] <SamB_MacG5>
you know, listing the character entities (or whatever you call them) in alphabetical order is less then ideal ...

[11:19:28.0000] <MikeSmith>
Hixie_: in case you missed it https://twitter.com/algermissen/status/257229931338137600 is a fun read too

[11:23:32.0000] <SamB_MacG5>
so, is the change in &lang; and &rang; mentioned anywhere in the spec, and if so, where?

[11:23:57.0000] <tantek>
MikeSmith - how is that tweet helpful? Calling the goals "crappy" without providing specifics, nor suggestions for improvements is pretty useless feedback.

[11:24:12.0000] <tantek>
oh sorry, you said "fun", not "helpful", my bad ;)

[11:24:41.0000] <tantek>
/me just re-read the goals in http://url.spec.whatwg.org/ and they seem reasonable.

[11:25:23.0000] <hsivonen>
I kinda wish we did site-specific hacks sometimes. We *finally* got te ability to cuatomize the UA string on a per-site basis for broken top sites

[11:25:37.0000] <hsivonen>
the first site was AOL's webmail

[11:26:09.0000] <hsivonen>
fits the pattern of Chrome and Safari having had to use site-specific hacks for Yahoo mail

[11:26:13.0000] <MikeSmith>
tantek: yeah, the fact that some of the commenters think the goals are unreasonable is what's hard to understand

[11:26:48.0000] <tantek>
hsivonen, at some point, perhaps we should instead start adding site-specific little yellow drop down toolbars that give the user a warning about the crappily coded/out-of-date site and suggest alternatives. Visible shaming (of such sites) as it were.

[11:27:47.0000] <hsivonen>
MikeSmith: so much for "running code"

[11:27:59.0000] <tantek>
MikeSmith - people venting on twitter without specifics or suggested improvements is "crappy", even if they call themselves things like "Web Architecture (REST) Consultant". IMHO such tweets are pretty much ignorable.

[11:28:23.0000] <tantek>
It's like if you're so smart, as  "Web Architecture (REST) Consultant", then show it in your writing/tweeting etc.

[11:31:52.0000] <MikeSmith>
that tweet is representative of other feedback we've gotten in e-mail messages too

[11:32:10.0000] <MikeSmith>
from some other partisans

[11:37:34.0000] <smaug____>
AryehGregor: ping

[11:41:40.0000] <MikeSmith>
oh cool another helpful comment

[11:41:42.0000] <MikeSmith>
https://twitter.com/timbray/status/257901952015421442

[11:42:15.0000] <MikeSmith>
I wonder who else Tim thinks "owns" URLs now

[11:42:58.0000] <MikeSmith>
since among the comments the reactionaries have made is that we shouldn't be using the term "URL" at all to begin with

[11:43:03.0000] <hsivonen>
MikeSmith: you could ask him

[11:43:40.0000] <jsbell>
Be gentle; the notion that you can't simply "fix" browsers to match a platonic ideal is not well grokked.

[11:44:09.0000] <MikeSmith>
jsbell: yeah it seems so

[11:44:10.0000] <Hixie_>
GPHemsley: thanks for all the wiki cleanup :-)

[11:44:49.0000] <GPHemsley>
:)

[11:44:53.0000] <MikeSmith>
hsivonen: yeah true

[11:45:16.0000] <jgraham>
The thing is, all the griping is just irrelevant noise

[11:45:28.0000] <Hixie_>
MikeSmith: it's a culture clash. What's weird is that it's a clash between the IETF's claimed culture and their real culture.

[11:45:47.0000] <jgraham>
Either people follow the new thing or they don't

[11:46:00.0000] <MikeSmith>
Hixie_: yeah that's an interesting way to describe it

[11:46:21.0000] <jgraham>
Who "wants" to own it is irrelevant, as is who has the right to own it or whatever other way you want to phrase it

[11:46:34.0000] <jgraham>
You either do something useful that people want to follow

[11:46:43.0000] <jgraham>
Or you are damage that gets routed around

[11:47:00.0000] <jgraham>
If anne's thing is useful it will win by people following it

[11:47:02.0000] <hsivonen>
http://www.tbray.org/ongoing/When/200x/2003/02/27/URL

[11:47:22.0000] <jgraham>
Not by convincing IETF people that they need to change their ideas

[11:49:14.0000] <hsivonen>
at least the w3c didn't use /199x/1999 in namespace urls

[11:49:23.0000] <MikeSmith>
hsivonen: so from that it seems clear he agrees the IETF is not to be expected to define URLs

[11:50:29.0000] <MikeSmith>
jgraham: that blog post of Tim's that hsivonen cited seems to argue for the routing-around strategy

[11:51:22.0000] <MikeSmith>
anyway I guess none of these people have been reading the HTML spec for the last many years

[11:51:32.0000] <MikeSmith>
otherwise none of this would be news to them

[11:51:51.0000] <MikeSmith>
since it's been in there for 4+ years already

[12:02:41.0000] <SamB_MacG5>
listing all the codepoints ending in FFFE and FFFF is not pretty

[12:04:37.0000] <hsivonen>
it still bothers me a bit that I had to give up on usimg the term "astral noncharacter" in the Firefox UI

[12:06:02.0000] <SamB_MacG5>
turn that into a table of matching rules and they could be called that ;-P

[12:09:08.0000] <SamB_MacG5>
/me wishes he could search his gmail without using the web UI

[12:09:31.0000] <GPHemsley>
Have you seen this? http://www.w3.org/QA/2012/10/w3c_world_standard_day_blog.html

[12:09:46.0000] <SamB_MacG5>
(or that browsers supported memory limiting, or something)

[12:10:27.0000] <GPHemsley>
/me seconds SamB_MacG5 and adds that he wishes the web UI was much more powerful, and that search results were not limited to an uncustomizable low number.

[12:14:29.0000] <SamB_MacG5>
Hixie_: these replies from the spec annotation thingy might be easier to find if they were sent from something @whatwg.org

[12:14:55.0000] <Hixie_>
MikeSmith: actually we took it out of the HTML spec when they asked that we take it out and when they promised to update the RFCs so we could just point to those

[12:15:06.0000] <Hixie_>
SamB_MacG5: hm?

[12:15:11.0000] <Hixie_>
SamB_MacG5: oh the bug mail?

[12:15:16.0000] <Hixie_>
SamB_MacG5: from bugzilla@jessica?

[12:15:20.0000] <SamB_MacG5>
Hixie_: no, the ones with passwords

[12:15:24.0000] <Hixie_>
oh

[12:16:09.0000] <SamB_MacG5>
I certainly wasn't expecting it to come "from" you ;-)

[12:26:46.0000] <SamB_MacG5>
hmm, using "below" to refer to the error handling rules from the #parse-error paragraph is confusing

[12:27:04.0000] <SamB_MacG5>
/me actually tried to scroll down to find them

[12:28:38.0000] <SamB_MacG5>
"throughout the Parsing HTML documents section"?

[12:36:45.0000] <Hixie_>
SamB_MacG5: yeah i try to make all my scripts send mail from me, since imho it's me sending the mail, just by script :-)

[12:37:19.0000] <Hixie_>
MikeSmith: man, looking at all those url comments from ietf folk, they're gonna have a cow when we get around to figuring out mime types, etc :-P

[12:37:22.0000] <SamB_MacG5>
personally I would consider it to be sent by the spec annotation system ;-)

[12:37:38.0000] <Hixie_>
until the spec annotation system is sentient, it's still me really :-P

[12:37:55.0000] <MikeSmith>
Hixie_: yeah (about mime types and such)

[12:37:57.0000] <SamB_MacG5>
Hixie_: if they were as smart as they were cracked up to be, they would make hamburgers

[12:38:18.0000] <SamB_MacG5>
or perhaps milk it

[12:38:19.0000] <Hixie_>
SamB_MacG5: re "below", you're right, it means the next zillion sections

[12:38:26.0000] <Hixie_>
SamB_MacG5: feel free to file a bug if you want that cleared up

[12:42:13.0000] <GPHemsley>
wait... there are WHATWG forums??

[12:43:01.0000] <SamB_MacG5>
you mean email, right?

[12:45:01.0000] <GPHemsley>
SamB_MacG5: If you're talking to me, no. I mean actual forums.

[12:45:50.0000] <SamB_MacG5>
big open spaces in the middle of cities for people to stand around and talk?

[12:46:02.0000] <GPHemsley>
And they even get their own big block on the WHATWG homepage

[12:46:20.0000] <GPHemsley>
I meant *actual*, not *actual actual* ;)

[12:46:33.0000] <GPHemsley>
Talk about hiding in plain sight

[12:49:24.0000] <jgraham>
We don't do F2Fs so much as flash mobs

[12:50:21.0000] <SamB_MacG5>
so, *why* does it have a forum?

[12:50:32.0000] <Hixie_>
speaking of those flash mobs, i'd really appreciate it if when you guys flash mob outside my house you were quieter about it

[12:50:45.0000] <Hixie_>
you make all the secret scheming much more difficult

[12:50:58.0000] <Hixie_>
SamB_MacG5: why not? :-)

[12:51:12.0000] <jgraham>
Blame hober. He let on about the vast browser-wing conspiracy

[12:54:26.0000] <TabAtkins>
Are the :past/:future pseudos for WebVTT already implemented somehwere?

[12:54:47.0000] <SamB_MacG5>
hmm, bugzilla's grumbling about not having any random quips to impart

[12:54:53.0000] <SamB_MacG5>
did someone just turn that on?

[12:56:27.0000] <jgraham>
Speaking of WebVTT

[12:56:28.0000] <jgraham>
http://dvcs.w3.org/hg/html/file/1ad5f579acf8/tests/submission/Opera/media

[13:02:50.0000] <SamB_MacG5>
/me doesn't grasp how allowing a website to implement a gopher handler could result in cookie theft ...

[13:07:50.0000] <Hixie_>
http://www.w3.org/mid/507C4775.6000806⊙kc seems to have a rather odd view of the w3c

[13:09:01.0000] <Hixie_>
(in contrast to the w3c, it describes the whatwg as a "closed organization which can't be controlled and new members are invitation-only", which is just as true, maybe even more true, for the w3c/htmlwg as the whatwg)

[13:09:34.0000] <SamB_MacG5>
Hixie_: it's true WRT members

[13:09:55.0000] <Hixie_>
the statement is certainly true for the whatwg

[13:10:09.0000] <Hixie_>
i'm just saying it's just as true for the w3c/htmlwg

[13:10:29.0000] <SamB_MacG5>
the misleading thing is that you don't need membership, generally ...

[13:10:47.0000] <Hixie_>
yeah

[13:11:16.0000] <Hixie_>
both groups in essence work in the same way -- people contribute, then a small set of self-selected people make a decision, then the browser vendors tell us to take a hike and do their own thing anyway :-)

[13:11:23.0000] <SamB_MacG5>
maybe members should be renamed to board-members

[13:11:34.0000] <SamB_MacG5>
lol

[13:12:03.0000] <Hixie_>
(i use the term "charter members", but it's not really an issue, the charter members basically don't do anything in practice other than what you see on the list)

[13:12:19.0000] <Hixie_>
anyway, lunch

[13:17:08.0000] <SamB_MacG5>
hmm, why make new components for all the different spec versions? couldn't they just be treated as, you know, versions?

[13:17:18.0000] <SamB_MacG5>
or does bugzilla suck at that?

[13:18:13.0000] <hober>
i'm surprised there haven't been any memes related to the latest url mess

[13:18:35.0000] <SamB_MacG5>
couldn't get cats to look that messy

[13:18:50.0000] <SamB_MacG5>
(is there some particular mess?)

[13:19:39.0000] <SamB_MacG5>
/me goes to practice driving

[13:21:26.0000] <TabAtkins>
So, any answer to :past/:future implementation?

[13:27:20.0000] <jgraham>
TabAtkins: Well I couldn't see that we had tests for it

[13:27:30.0000] <jgraham>
But zcorpan would actually know

[13:30:35.0000] <GPHemsley>
searching for GIF-related things is a good way to travel through an Internet wormhole to the late 1990s

[13:37:28.0000] <GPHemsley>
This page is a wonder on so many levels: http://netghost.narod.ru/gff/sample/images/gif/index.htm

[13:37:51.0000] <GPHemsley>
aside from the GIFfy goodness, there's some markup issues

[13:37:52.0000] <GPHemsley>
AND

[13:38:06.0000] <GPHemsley>
Server:	ZX_Spectrum/1997 (Sinclair_BASIC)

[13:58:45.0000] <SamB_MacG5>
GPHemsley: that's ... not *true*, is it?

[13:58:58.0000] <GPHemsley>
it very well could be

[13:59:03.0000] <GPHemsley>
but I have no idea

[14:00:24.0000] <GPHemsley>
oh, perhaps not

[14:00:32.0000] <GPHemsley>
"Others are more playful, such as the group of sites identifying their server as ZX_Spectrum/1997 (Sinclair_BASIC), which was an 8-bit personal home computer released in 1982, but it was discontinued two years before the World Wide Web even existed."

[14:00:37.0000] <GPHemsley>
http://www.datacenterknowledge.com/archives/2009/04/08/twitters-servers-say-hi/

[14:02:05.0000] <SamB_MacG5>
GPHemsley: that in istelf is inconclusive

[14:03:42.0000] <jgraham>
OTOH, think about how fast a spectrum was and how fast that server was

[14:04:08.0000] <SamB_MacG5>
could be behind a cache ;-)

[14:06:26.0000] <jgraham>
Yeah, I imagine it is visited so often that a cache is sure to be populated :p

[15:10:54.0000] <zewt>
people sure seem to confuse "the actions of an employee reflect on the company" with "everything an employee says is the opinion of the company"

[15:11:06.0000] <zewt>
really doesn't seem like that fine a distinction

[16:12:25.0000] <Hixie_>
SamB_MacG5: not sure what you mean re bug components

[16:13:42.0000] <SamB_MacG5>
hmm, probably best to just forget it

[16:14:25.0000] <SamB_MacG5>
I remembered how what I was suggesting would look in bugzilla's UI, and decided it was a bad idea

[16:15:40.0000] <Hixie_>
heh

[16:15:51.0000] <Hixie_>
what's the problem you want to solve?

[16:16:01.0000] <SamB_MacG5>
there was no real problem

[16:16:05.0000] <Hixie_>
ok

[16:40:28.0000] <jwalden>
on the mentioned-hours-ago topic of F2Fs, I harbor a residuum of disappointment that I missed the whatwg meetup that happened in Mountain View the last week of October 2008, only a week before I moved to Mountain View :-\

[16:40:59.0000] <jwalden>
I've never met probably half the regulars here, would like to fix that at some point without having to go to something with the time commitment (or semi-irrelevancy to my actual JS-implementation hacking) of a TPAC-like thing :-)


2012-10-16
[17:11:59.0000] <GPHemsley>
Speaking of F2Fs... is anyone going to IETF 85 in Atlanta in early November?

[18:05:08.0000] <Yuhong>
<zewt> people sure seem to confuse "the actions of an employee reflect on the company" with "everything an employee says is the opinion of the company"

[18:05:14.0000] <Yuhong>
<zewt> really doesn't seem like that fine a distinction

[18:05:26.0000] <Yuhong>
I think it is a relic of legacy PR based on control of the message3.

[18:05:28.0000] <Yuhong>
I think it is a relic of legacy PR based on control of the message.

[18:10:43.0000] <SamB_MacG5>
if I want to link to a snapshot of entities.json, how should I do that?

[18:11:16.0000] <SamB_MacG5>
(preferably something a bit more human-friendly than https://github.com/w3c/html/raw/4b354c25cdc7025fef9f561bbc98fee2d9d241c1/entities.json ?)

[18:11:28.0000] <TabAtkins>
Unless it's branched, that's the correct way to link to it.

[18:11:54.0000] <TabAtkins>
You mean a *specific* snapshot, right?

[18:12:25.0000] <SamB_MacG5>
well, something recent would be good

[18:12:49.0000] <SamB_MacG5>
but mostly I just don't want to link to something that will change ...

[18:13:30.0000] <TabAtkins>
Okay, then yeah, you can't get away from that kind of url, unless Robin's done a tag branch (which you can then refer to the tip of).

[18:13:53.0000] <SamB_MacG5>
tag *branch*?

[18:14:12.0000] <TabAtkins>
I may be misusing terms.

[18:14:46.0000] <SamB_MacG5>
/me was afraid someone was misusing git

[18:52:55.0000] <SamB_MacG5>
/me wonders how to do a strut in HTML

[21:27:28.0000] <divya>
why is this TPAC registration form from 1996?

[21:27:42.0000] <divya>
the url actually says 2002

[21:27:47.0000] <divya>
but NEVER MIND THAT.

[21:28:29.0000] <SamB_MacG5>
maybe they use the same form every year ?

[21:28:46.0000] <SamB_MacG5>
or <insert interval of repetition here>

[21:29:19.0000] <divya>
but it is so unfriendly and unusable :|

[21:29:23.0000] <divya>
success message is in red.

[21:29:36.0000] <divya>
radio button + checkbox in the same field

[21:29:45.0000] <divya>
multiple questions to complete.

[21:29:51.0000] <SamB_MacG5>
oh, this is an online form

[21:30:01.0000] <divya>
ahahah there are *offline forms*?!?!

[21:30:06.0000] <SamB_MacG5>
/me has no idea

[21:30:14.0000] <SamB_MacG5>
/me doesn't even know what TPAC is

[21:30:32.0000] <divya>
SamB_MacG5: tagging is a way to represent a state

[21:30:38.0000] <divya>
so you dont have to refer to a SHA

[21:30:42.0000] <divya>
but just refer to that tag

[21:30:55.0000] <divya>
so you *tag* that state and refer to entities.json with that tag.

[21:31:00.0000] <divya>
that is unhanging

[21:31:04.0000] <divya>
unchanging even

[21:31:09.0000] <SamB_MacG5>
yeah, I know how git tags work ;-)

[21:31:21.0000] <SamB_MacG5>
/me was just confused by the phrase "tag branch"

[21:34:33.0000] <divya>
srry SamB_MacG5 i have muddled my way through the logs as usual

[21:34:44.0000] <SamB_MacG5>
no problem

[21:35:00.0000] <SamB_MacG5>
just didn't want you to waste any more time explaining it to me ;-)

[22:35:09.0000] <annevk>
and suddenly there is a lot of email

[22:35:31.0000] <annevk>
GPHemsley: was for wiki cleanup

[23:14:14.0000] <annevk>
arun really shouldn't resolve those bugs as fixed...

[23:39:41.0000] <annevk>
Hixie_: maybe make http://spec.whatwg.org/ redirect to http://www.whatwg.org/specs/ ?

[00:01:28.0000] <annevk>
https://twitter.com/robinberjon/status/255307260375494656 haha why did I miss this

[00:12:14.0000] <hsivonen>
yay hardware debugging https://bugzilla.mozilla.org/show_bug.cgi?id=800533#c15

[00:24:46.0000] <MikeSmith>
hsivonen: excellent

[00:25:06.0000] <MikeSmith>
somebody should post that to https://twitter.com/BestOfBugzilla

[00:42:35.0000] <othermaciej>
hsivonen: the interesting thing is that this turned out to be relevant to the cause of the bug but was initially ignored

[00:42:55.0000] <othermaciej>
(or so it seems from just the bugzilla comments, anyway)

[00:43:44.0000] <othermaciej>
annevk: that is awesome

[00:45:28.0000] <hsivonen>
one small step towards encoding sanity: https://hg.mozilla.org/integration/mozilla-inbound/rev/6db369a15ea7

[00:45:35.0000] <hsivonen>
boo UTF-16

[00:46:43.0000] <annevk>
hsivonen: how could it ever use utf-7?

[00:47:04.0000] <hsivonen>
annevk: it shouldn’t

[00:47:38.0000] <annevk>
shouldn't that be removed from IsAsciiCompatible then?

[00:48:19.0000] <hsivonen>
annevk: It’s basically an in-depth defense as long as the UTF-7 stuff exists in the charset alias system

[00:48:29.0000] <annevk>
okay

[00:49:31.0000] <hsivonen>
it scares me that x-imap4-modified-utf7 exists in the alias system

[00:49:56.0000] <hsivonen>
that sort of thing should not exist outside the IMAP protocol impl, IMO

[00:53:42.0000] <zcorpan>
MikeSmith: did you see my request about quirks mode tests on w3c-test.org?

[00:53:57.0000] <MikeSmith>
zcorpan: nope I didn't yet

[00:54:03.0000] <MikeSmith>
what I need to do?

[00:54:39.0000] <zcorpan>
MikeSmith: i have tests here i'd like synced on w3c-test.org http://dvcs.w3.org/hg/quirks-mode/file/3397c5f9ad8d/tests

[00:55:27.0000] <MikeSmith>
zcorpan: OK

[00:55:38.0000] <MikeSmith>
will try to get it set up today

[00:55:43.0000] <zcorpan>
thanks

[00:57:29.0000] <zcorpan>
yay sanity https://www.w3.org/Bugs/Public/show_bug.cgi?id=18521

[00:58:17.0000] <annevk>
http://www.cs.brown.edu/research/plt/dl/domsemantics/domsemantics.pdf claims DOM4 is not complete with respect to Events

[00:58:27.0000] <annevk>
I wonder what they're referring to

[01:04:20.0000] <annevk>
zcorpan: mime type parsing is hard so we just gave up?!

[01:04:42.0000] <annevk>
IETF wins again

[01:06:34.0000] <zcorpan>
HOWTO makes APIs ignore your spec: make following your spec insanely complicated and have no gain for doing so

[01:08:07.0000] <AryehGregor>
smaug____, pong.

[01:11:53.0000] <AryehGregor>
hsivonen, currently I'm looking through the encoding spec's list of aliases and documenting which are supported by which browsers, preparatory to filing Gecko bugs for us to align with the spec where it makes sense (or spec bugs if it doesn't make sense).  Does that sound useful?

[01:11:59.0000] <AryehGregor>
Or did someone already do something like thaT?

[01:11:59.0000] <AryehGregor>
that?

[01:12:17.0000] <AryehGregor>
(what bug component is this, and where do the aliases live in the code?)

[01:13:19.0000] <smaug____>
AryehGregor: dom tests. They live still in w3c, not whatwg?

[01:13:31.0000] <annevk>
AryehGregor: http://lxr.mozilla.org/mozilla-central/source/intl/locale/src/charsetalias.properties

[01:13:40.0000] <AryehGregor>
smaug____, whatwg has no place for tests right now, AFAICT.

[01:13:51.0000] <annevk>
AryehGregor: also http://lxr.mozilla.org/mozilla-central/source/intl/uconv/src/charsetData.properties

[01:13:53.0000] <AryehGregor>
The W3C doesn't seem to object to us keeping WHATWG-specific tests there, or at least no one's noticed.

[01:13:56.0000] <annevk>
AryehGregor: would be useful

[01:14:27.0000] <annevk>
AryehGregor: see also https://www.w3.org/Bugs/Public/show_bug.cgi?id=16773

[01:17:36.0000] <hsivonen>
AryehGregor: seems useful

[01:17:41.0000] <AryehGregor>
Okay, good.

[01:18:08.0000] <hsivonen>
the charset menu in Firefox has way too much RDF for me to grok how it works

[01:38:20.0000] <annevk>
if I configured everything correctly anyone with access to github/whatwg can now maintain platform.html5.org

[01:38:30.0000] <annevk>
just push to https://github.com/whatwg/platform.html5.org

[01:57:49.0000] <annevk>
foolip++

[01:57:57.0000] <annevk>
foolip: were you in the list of acknowledgments already?

[01:58:07.0000] <foolip>
annevk, I don't know, but it doesn't matter for a typo :)

[02:00:25.0000] <AryehGregor>
Does IE really not recognize "utf8" as an alias for "utf-8"?

[02:03:11.0000] <annevk>
foolip: I copy the style from Hixie_ where I don't try to value contributions and just acknowledge everyone that makes one

[02:04:06.0000] <foolip>
annevk, feel free to ack me if I'm not there, I will use it to brag about my awesome spec review powers :)

[02:04:16.0000] <annevk>
already done :)

[02:05:14.0000] <foolip>
annevk, btw, the Makefile doesn't work on a clean checkout, which is why I just changed both files

[02:05:21.0000] <foolip>
what's supposed to be in data?

[02:06:34.0000] <annevk>
foolip: added you as whatwg owner

[02:06:55.0000] <foolip>
annevk, cool, thanks :)

[02:07:12.0000] <annevk>
foolip: ah yeah, hg clone https://bitbucket.org/ms2ger/specification-data data

[02:07:44.0000] <annevk>
foolip: I guess we should move that over to whatwg/ too and add some details to the Makefile thingie

[02:08:01.0000] <annevk>
Ms2ger: ^^

[02:09:20.0000] <foolip>
annevk, that'd be nice, yeah

[02:40:48.0000] <jgraham>
So, if I have a data URI that uses localStorage and then location.reload, why doesn't the storage area get recreated?

[02:43:47.0000] <AryehGregor>
annevk, so why in some cases did you require recognizing labels that only one major browser recognizes?  E.g., all the iso88591/iso88592/etc. labels are recognized only by Gecko.

[02:43:53.0000] <AryehGregor>
(and are hard to read)

[02:44:02.0000] <AryehGregor>
Also koi8_r, and x-cp125*.

[02:44:10.0000] <AryehGregor>
And WebKit is the only one to recognize windows-949.

[02:44:36.0000] <zcorpan>
foolip: if you're so awesome at reviewing specs, why haven't you reviewed quirks mode? :-O

[02:46:40.0000] <jgraham>
In other news, why does the WHATWG even have "charter members"? If Hixie goes insane and the major stakeholders agreee change is needed then we would just fork the spec. No need for any shady-looky cabal at all.

[02:50:18.0000] <odinho>
zcorpan: The shock and horror!

[02:50:32.0000] <zcorpan>
inorite

[02:55:00.0000] <AryehGregor>
jgraham, has there been a single case where anyone has even used his role as a charter member?

[02:55:21.0000] <jgraham>
AryehGregor: I think they voted to allow annevk to also be a charter member

[02:55:45.0000] <AryehGregor>
Oh, well, that justifies the role's existence, then.

[03:00:29.0000] <odinho>
^_^

[03:01:25.0000] <annevk>
AryehGregor: also by Opera no? at least older versions of Opera implemented UTS22

[03:01:33.0000] <annevk>
AryehGregor: WebKit has an open bug open for those too I think

[03:01:52.0000] <AryehGregor>
Well, the testing I was doing involved tedious manual labor, so I only tested IE/Gecko/WebKit.  Sorry.  :)

[03:03:24.0000] <AryehGregor>
# Currently .properties cannot handle : in key

[03:03:24.0000] <AryehGregor>
#iso_8859-4:1988=ISO-8859-4

[03:03:27.0000] <annevk>
http://lists.w3.org/Archives/Public/www-archive/2012Apr/att-0058/spectable.html is my research fwiw

[03:03:27.0000] <AryehGregor>
Well, that explains that.

[03:03:35.0000] <annevk>
but just covers single-byte stuff

[03:03:39.0000] <AryehGregor>
Oh, nice.

[03:03:47.0000] <AryehGregor>
Ah, that's encoders/decoders?

[03:03:50.0000] <AryehGregor>
I'm testing .characterSet.

[03:04:09.0000] <annevk>
both labels and encoders/decoders

[03:04:38.0000] <annevk>
I would prolly pick a slightly different approach now, but back then I didn't know what I was looking at :-)

[03:10:53.0000] <AryehGregor>
Safari and Chrome are different?  Is that because of different WebKit versions, or is this port-specific?

[03:10:58.0000] <AryehGregor>
(please tell me it's just a version difference)

[03:11:04.0000] <jgraham>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1848 <- so Gecko and Opera seem to preserve localStorage in data urls across location.reload

[03:11:24.0000] <jgraham>
AFAICT WebKit doesn't allow localStorage in data urls at all

[03:12:47.0000] <AryehGregor>
<meta charset=utf-16> is ignored if it doesn't make sense, right?

[03:13:03.0000] <AryehGregor>
Actually, is there ever any point in saying <meta charset=utf-16>, or is the encoder sure to be able to figure it out?

[03:13:14.0000] <AryehGregor>
I.e., will it ever change the encoding used?  Is it even legal to specify?

[03:15:20.0000] <zcorpan>
AryehGregor: iirc that means <meta charset=utf-8>

[03:15:26.0000] <AryehGregor>
Oh, really?

[03:15:54.0000] <AryehGregor>
But if the document actually seems to be encoded in UTF-16, is <meta charset> even effective, or is it just always ignored?

[03:16:50.0000] <zcorpan>
then it's ignored

[03:16:57.0000] <AryehGregor>
Figures.

[03:17:37.0000] <zcorpan>
"If charset is a UTF-16 encoding, change the value of charset to UTF-8." http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#prescan-a-byte-stream-to-determine-its-encoding

[03:18:05.0000] <zcorpan>
"If the new encoding is a UTF-16 encoding, change it to UTF-8." http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#change-the-encoding

[03:19:36.0000] <zcorpan>
(step 1 in #change-the-encoding aborts if it's already utf-16)

[03:20:50.0000] <zcorpan>
and the prescan looks at utf-16 BOM

[03:21:32.0000] <zcorpan>
i think the spec fails for BOMless utf-16 (without http-level decl)

[03:23:51.0000] <annevk>
AryehGregor: they are different

[03:23:59.0000] <annevk>
AryehGregor: Chrome has ICU with Google patches

[03:24:05.0000] <AryehGregor>
Blech.

[03:24:06.0000] <annevk>
AryehGregor: Safari uses Mac OS X ICU

[03:24:18.0000] <AryehGregor>
I usually just assume they're the same, but sometimes I get tripped up.

[03:25:07.0000] <annevk>
there's quite a bit that's different at the edges

[03:25:16.0000] <AryehGregor>
Yay.

[03:25:33.0000] <annevk>
e.g. URLs are different too

[03:25:45.0000] <annevk>
network too; most of the stuff I poke at is

[03:26:33.0000] <annevk>
jgraham: localStorage works for a unique origin? or is that a data URL in an <iframe>?

[03:28:29.0000] <jgraham>
In an iframe in this case. But I don't know why that would make a difference really

[03:28:58.0000] <jgraham>
You should have one storage area per origin

[03:32:00.0000] <annevk>
because then the origin is the same as the parent

[03:32:11.0000] <annevk>
except in WebKit which doesn't special case data URLs

[03:34:31.0000] <jgraham>
Where's that specified?

[03:34:57.0000] <jgraham>
I guess it makes sense, since it's also how they behave for scripts

[03:35:13.0000] <jgraham>
But it's not really obvious what the underlying mechanism is

[03:37:56.0000] <annevk>
AryehGregor: "Currently .properties cannot handle : in key" was fixed?

[03:38:06.0000] <annevk>
jgraham: in HTML under origin

[03:40:09.0000] <karlcow>
http://www.w3.org/mid/002e01cdab4c$198cbb50$4ca631f0$@tavis.ca

[03:40:18.0000] <karlcow>
that's good progress in the discussion

[03:40:37.0000] <jgraham>
annevk: I think the confusing is because "origin" is used in multiple senses

[03:41:07.0000] <jgraham>
annevk: Would be much clearer if the spec said "User agents must have a set of local storage areas, one for each document origin."

[03:42:17.0000] <jgraham>
But yes, I understand the intent now. In fact I think I did in the past but forgot again. Thanks

[03:42:53.0000] <annevk>
karlcow: kinda seems similar to the HTML parser arguments we have had countless of times... And the processor he suggests is just a validator and parser combined, not that special

[03:43:53.0000] <annevk>
karlcow: and as for the "can be done on top of RFC 3986" argument; 1. I've yet to see that 2. I don't think it's useful

[03:44:56.0000] <annevk>
jgraham: what trips me up is that origin is not exclusively tied to the URL

[03:44:59.0000] <annevk>
jgraham: every time

[03:45:59.0000] <karlcow>
annevk: not useful for your context, but seems useful for other users. worth trying to see if RFC3986 could be written in a way which has hooks to your documents and hoping that people propose actual text more than this should be done like this. That would be the second step.

[03:47:08.0000] <AryehGregor>
annevk, well, it compiles, and makes it pass my tests.  I also glanced at the source code of the Python file that processes that, and didn't see how a : would make a difference.

[03:47:15.0000] <AryehGregor>
We'll see if it passes the try run.

[03:47:52.0000] <annevk>
karlcow: I'm not sure how it would be useful

[03:48:16.0000] <karlcow>
annevk: that's normal. It is not your context.

[03:48:23.0000] <annevk>
(again assuming we want a single processing library for URLs)

[03:48:44.0000] <annevk>
karlcow: saying it's normal doesn't help me understand

[03:49:28.0000] <AryehGregor>
annevk, maybe your spec could add the concept of parse errors and allow non-browser implementers to abort processing on the first parse error, like HTML does?

[03:49:38.0000] <AryehGregor>
/me hasn't been following at all, so maybe that doesn't make sense

[03:49:50.0000] <annevk>
AryehGregor: yeah, might do something like that

[03:49:50.0000] <hsivonen>
karlcow: to me, saying “do this on top of RFC xyz” is like saying “go fetch me a rock”

[03:50:22.0000] <hsivonen>
(in this case; not to suggest that to apply to all RFCs ever)

[03:50:23.0000] <karlcow>
hsivonen: I do not understand the expression "go fetch me a rock".

[03:50:41.0000] <AryehGregor>
annevk, it seems like "processing with all errors fatal" is necessarily a subset of "processing with detailed error recovery", and it would be a lot easier to include the former in a spec for the latter than vice versa.

[03:50:57.0000] <hsivonen>
karlcow: http://intertwingly.net/blog/2005/05/11/Fetch-Me-A-Rock

[03:51:11.0000] <annevk>
AryehGregor: yeah, just need to figure out what we want to make conforming

[03:51:45.0000] <karlcow>
hsivonen: then it is why I talked about contributions, more than discussions.

[03:51:49.0000] <AryehGregor>
hsivonen, how should the bugs for these be split up?  All but windows-1252 and windows-1254 are already implemented by either IE or WebKit, so the compat risk should hopefully not be too large.  https://bugzilla.mozilla.org/show_bug.cgi?id=802030#c2

[03:52:38.0000] <annevk>
AryehGregor+=2

[03:52:48.0000] <AryehGregor>
?

[03:52:48.0000] <karlcow>
annevk: about normal/understand, that's true. The point of my comments was not about making someone understand. ☺

[03:54:02.0000] <AryehGregor>
karlcow, why do you always have to come around and try to get us to play nice with the non-web people?  We want to sneer at them for being impractical and ignore them, not be forced to acknowledge that there are implementations of Internet-related technologies that people care about other than web browsers.

[03:54:18.0000] <annevk>
AryehGregor: ++ seemed insufficient

[03:54:27.0000] <AryehGregor>
annevk, one ++ for each bug?

[03:54:29.0000] <jgraham>
++++

[03:54:42.0000] <annevk>
compiler error, nice one jgraham

[03:54:46.0000] <AryehGregor>
jgraham, is that valid C?

[03:54:55.0000] <jgraham>
I'm not sure

[03:54:55.0000] <AryehGregor>
/me doesn't see how it's ambiguous, strictly speaking

[03:54:59.0000] <karlcow>
AryehGregor: your *we* is not my *we* ☺ not interesting position.

[03:55:31.0000] <hsivonen>
AryehGregor: it might make sense to cover the cases that are already true in IE or WebKit in one bug and leave ISO-8859-1 as a special case bug

[03:55:34.0000] <jgraham>
Doesn't work in javascript

[03:55:35.0000] <annevk>
karlcow: look if all you are going to tell me that people have different view points, I'm not sure how that's helpful

[03:55:41.0000] <annevk>
karlcow: that seems pretty clear from the disconnect

[03:55:47.0000] <annevk>
karlcow: what I'd like is to get past the disconnect

[03:55:52.0000] <AryehGregor>
test.c:3:5: error: lvalue required as increment operand

[03:56:01.0000] <jgraham>
Yeah, same problem

[03:56:03.0000] <AryehGregor>
That's for "x++++".  That makes sense.

[03:56:08.0000] <AryehGregor>
But then "++++x" should work?

[03:56:18.0000] <karlcow>
annevk: "get past the disconnect" ☺ yes. It goes both ways ;)

[03:56:22.0000] <AryehGregor>
No.  Why not?

[03:56:37.0000] <AryehGregor>
Ah, I guess ++x and x++ both return rvalues.

[03:56:52.0000] <AryehGregor>
It's just that one is the value before increment and one after.

[03:58:03.0000] <annevk>
karlcow: well I'm glad you're having fun

[03:58:10.0000] <AryehGregor>
Oh, I misread my data.  iso-8859-9 is the same as windows-1254 in WebKit too.

[03:58:33.0000] <AryehGregor>
hsivonen, and that bug should be extended to cover including us-ascii, too, since the spec says that should also be an alias for windows-1252.

[03:58:44.0000] <hsivonen>
AryehGregor: yeah

[04:00:28.0000] <hsivonen>
AryehGregor: so when you say gbk is the same as gb2312, do you mean the Encoding Standard is wrong when it makes gbk the preferred label?

[04:00:30.0000] <karlcow>
/me is not having fun nor being sad 

[04:01:09.0000] <AryehGregor>
hsivonen, I mean that it treats gb2312 as an alias for gbk, while Gecko appears to treat them as distinct.

[04:01:22.0000] <AryehGregor>
(Vis-a-vis .characterSet, I dunno about encoders/decoders.)

[04:01:25.0000] <hsivonen>
AryehGregor: oh ok.

[04:02:06.0000] <hsivonen>
I expect Gecko to decode gb2312 the same way it decodes gbk, but I haven’t any proof at hand

[04:03:00.0000] <hsivonen>
one of these days I should implement the Encoding Standard in the Java version of the parser

[04:03:16.0000] <hsivonen>
(instead of using the alias facilities provided by the JDK)

[04:05:32.0000] <zcorpan>
TabAtkins: :past/:future are implemented in opera

[04:06:39.0000] <AryehGregor>
hsivonen, what's a bug I can use for a reference as to how to remove support for an encoding?

[04:10:20.0000] <zcorpan>
TabAtkins: i see 32 tests containing :past

[04:10:38.0000] <zcorpan>
(most seem to have "timestamp" in the file name)

[04:11:48.0000] <zcorpan>
TabAtkins: last i checked (at FOMS) nobody else implemented css for webvtt at all

[04:14:34.0000] <annevk>
AryehGregor: I think Gecko makes gb2312 a label for gb18030 but I'm not sure

[04:14:51.0000] <AryehGregor>
annevk, internally it's a label for GB2312, or so it seems.

[04:14:59.0000] <annevk>
AryehGregor: it has been suggested (see Encoding Standard bugs) to make all gb* a label for gb18030

[04:15:01.0000] <annevk>
okay

[04:15:01.0000] <AryehGregor>
gb18030 is a separate internal encoding.

[04:15:19.0000] <AryehGregor>
I'm just looking at the labels, though, not encoders/decoders.

[04:16:01.0000] <Ms2ger>
AryehGregor, bug 623610 maybe?

[04:16:47.0000] <AryehGregor>
Ms2ger, what about it?

[04:16:50.0000] <AryehGregor>
Oh, I see.

[04:16:51.0000] <AryehGregor>
Thanks!

[04:16:54.0000] <Ms2ger>
Np

[04:31:14.0000] <annevk>
AryehGregor: the " Big5-HKSCS   -> Big5" is prolly controversial for Gecko

[04:31:25.0000] <AryehGregor>
annevk, oh, really?  Why?

[04:31:38.0000] <annevk>
Gecko has a completely custom HKSCS implementation

[04:31:44.0000] <AryehGregor>
/me suspects he's going to wind up with a giant patch that he has to rewrite from scratch if he tries to do them all at once

[04:31:52.0000] <annevk>
euh, completely custom big5 implementation

[04:32:08.0000] <annevk>
yeah, better to do them separate I suspect

[04:32:08.0000] <AryehGregor>
hsivonen, does it make sense to do all these merges at once, or should I try doing one first and see how it goes?

[04:32:13.0000] <AryehGregor>
/me hg revert -aC

[04:32:35.0000] <AryehGregor>
Which are the best ones to start with here?  https://bugzilla.mozilla.org/show_bug.cgi?id=802082#c1

[04:33:09.0000] <annevk>
Thai should be safe

[04:33:17.0000] <annevk>
ISO-8859-9   -> windows-1254 too

[04:33:27.0000] <annevk>
windows-949  -> euc-kr is just about adding a label right?

[04:33:27.0000] <AryehGregor>
Okay, so the three that convert to windows-*?

[04:33:36.0000] <AryehGregor>
No, they seem to be separate encodings.

[04:33:43.0000] <AryehGregor>
I have a separate bug for adding all the labels we want, no?

[04:33:46.0000] <annevk>
windows-874 is Thai

[04:33:53.0000] <annevk>
oh okay

[04:34:02.0000] <annevk>
yeah, the ones to windows-* are safe

[04:34:07.0000] <AryehGregor>
https://bugzilla.mozilla.org/show_bug.cgi?id=802059

[04:34:10.0000] <AryehGregor>
Okay, I'll start with those.

[04:34:24.0000] <annevk>
ISO-8859-6 should be too, but email guys might have comments

[04:34:57.0000] <annevk>
and I guess the gbk one is safe, but see the Encoding Standard bugs, someone from Mozilla had some ideas

[04:37:45.0000] <foolip>
zcorpan, sorry, I only review specs with typos in them ;)

[04:38:11.0000] <zcorpan>
foolip: how do you know quirks doesn't have typos?

[04:39:10.0000] <jgraham>
If it had typos, he would have reviewed it

[04:39:17.0000] <jgraham>
ergo it doesn't

[04:40:52.0000] <zcorpan>
ah. ok. does that mean i rock?

[04:59:54.0000] <AryehGregor>
Merging two encodings is pretty tedious work.

[05:00:01.0000] <AryehGregor>
I'm glad I started with only three.

[05:00:05.0000] <AryehGregor>
/me wonders if it actually works

[05:00:54.0000] <AryehGregor>
This code is apparently shared for mail, so it might break mail stuff even if it's safe for the web.  :(

[05:01:48.0000] <AryehGregor>
 41 files changed, 42 insertions(+), 1180 deletions(-)

[05:01:52.0000] <AryehGregor>
/me always likes patches like that

[05:06:25.0000] <jgraham>
Ones with 42 insertions?

[05:06:53.0000] <AryehGregor>
With 1138 net deletions.

[05:07:04.0000] <jgraham>
I know :p

[05:07:13.0000] <AryehGregor>
No, it was not a Hitchhiker's Guide reference.

[05:07:36.0000] <Ms2ger>
Not?

[05:09:25.0000] <annevk>
Are you sure? I write my specs just so that patches end up with references to The Guide

[05:11:41.0000] <annevk>
I wonder why Mail still allows anything but utf-8; seems so weird

[05:11:57.0000] <AryehGregor>
You mean for outgoing mail?

[05:12:24.0000] <annevk>
yes

[05:12:39.0000] <annevk>
btw, you might want to rename choices in the Encoding menu if you remove all variants

[05:13:22.0000] <hsivonen>
Is the “existing master branch” for the HTML WG documented somewhere? Who writes to it?

[05:13:25.0000] <annevk>
e.g. just have "Thai"

[05:13:35.0000] <AryehGregor>
Makes sense.

[05:13:37.0000] <AryehGregor>
Comment to the bug?

[05:14:14.0000] <annevk>
hsivonen: https://github.com/w3c/html/commits/master

[05:14:31.0000] <annevk>
AryehGregor: ok

[05:14:55.0000] <AryehGregor>
annevk, are you okay with this? https://bugzilla.mozilla.org/show_bug.cgi?id=801425#c12

[05:16:19.0000] <annevk>
well no, but I don't really want to fight that with the SVG WG

[05:16:24.0000] <annevk>
so yes

[05:16:43.0000] <hsivonen>
so does a HTML 5.0 branch even exist in git yet?

[05:17:39.0000] <annevk>
hsivonen: btw, not a 100% sure that is it, but I think it is

[05:18:09.0000] <hsivonen>
what do “behind” and “ahead” mean here: https://github.com/w3c/html/branches ?

[05:18:29.0000] <jgraham>
hsivonen: AIUI master is the HTML 5 branch at the moment

[05:18:33.0000] <AryehGregor>
annevk, why isn't the use-case legitimate?  Is there any better way to declaratively feature-detect in SVG?

[05:18:43.0000] <jgraham>
behind === missing commits in its upstream branch

[05:18:55.0000] <jgraham>
ahead === containing commits not in its upstream branch

[05:18:56.0000] <AryehGregor>
I don't know if the way they're doing it is ideal, but it looks like it meets a real use-case, unlike .hasFeature() for DOM.

[05:19:13.0000] <karlcow>
annevk: try

[05:19:13.0000] <karlcow>
     defaults write com.apple.mail NSPreferredMailCharset "UTF-8"

[05:19:13.0000] <karlcow>
then restart mail.app

[05:19:29.0000] <jgraham>
Assuming github uses them in the same sense as git

[05:19:48.0000] <annevk>
AryehGregor: HTML doesn't have feature testing either; also it has all the same flaws as hasFeature() as dbaron mentions

[05:19:57.0000] <hsivonen>
jgraham: and upstream for feature/whatwg* is whatwg svn?

[05:20:03.0000] <annevk>
AryehGregor: and it's far too cumbersome to use

[05:20:17.0000] <SimonSapin>
HTML and XML attributes are not ordered, are they?

[05:20:19.0000] <annevk>
karlcow: not sure what you mean, I use Gmail at the moment and have it configured to always compose in utf-8

[05:20:31.0000] <AryehGregor>
annevk, HTML has script.  SVG is sometimes used in contexts where script isn't available, e.g., <img>.

[05:20:33.0000] <annevk>
SimonSapin: correct

[05:20:45.0000] <karlcow>
annevk: oooh my bad I thought you were talking about mail.app :)

[05:21:03.0000] <jgraham>
hsivonen: It looks like it means "compared to master", not "compared to upstream"

[05:21:18.0000] <SimonSapin>
I wonder what attr(*|foo) (in CSS) is supposed to mean with multiple attributes with that local name in different namespaces.

[05:21:28.0000] <karlcow>
/me has been fooled by the capitalization of Mail

[05:21:49.0000] <karlcow>
(pavlov)

[05:22:04.0000] <jgraham>
I don't really know why github doesn't have a view showing all the commits and branchpoints as a graph

[05:22:09.0000] <jgraham>
Or does it?

[05:22:10.0000] <hsivonen>
jgraham: do the changesets coalesce for the purposes of ahead/behind when the Editorial Team lands Hixie’s changesets out of order?

[05:22:32.0000] <Ms2ger>
SimonSapin, that's allowed?

[05:22:46.0000] <jgraham>
I don't know what happens when they land out of order, but I suspect that's one patch behind and one ahead

[05:23:00.0000] <jgraham>
Because if you cherry-pick a commit it gets a new SHA-1

[05:23:02.0000] <hsivonen>
It annoys me that the chairs keep being coy about what they are up to instead of just saying what they are planning to do.

[05:23:10.0000] <annevk>
SimonSapin: if CSS allows that, sounds like a bug

[05:23:21.0000] <jgraham>
Well generally any rebasing gives you new SHA-1s

[05:23:27.0000] <SimonSapin>
Ms2ger: the grammar uses wqname, I guess we should change to qname

[05:23:43.0000] <Ms2ger>
Yay grammar

[05:24:14.0000] <hsivonen>
jgraham: right. what’s the best way to see the delta between the HTML WG and the WHATWG?

[05:24:36.0000] <jgraham>
hsivonen: I am not sure

[05:24:41.0000] <hsivonen>
what’s the purpose of all the different feature/whatwg* branches?

[05:24:49.0000] <jgraham>
Maybe compare commit messages?

[05:25:15.0000] <jgraham>
Or perhaps ask MikeSmith or darobin or nessy for help?

[05:26:50.0000] <MikeSmith>
as I understand it the purpose is to isolate changesets to make it possible to cherry-pick ones to merge into the W3C version

[05:26:59.0000] <MikeSmith>
but nessy could explain it much better

[05:27:07.0000] <MikeSmith>
or Robin

[05:27:39.0000] <MikeSmith>
I don't know what the best way is to get a diff

[05:27:41.0000] <Philip`>
/me notes randomly that Gerrit has a thing that automatically assigns a Change-Id to commits, which gets preserved when you cherry-pick or rebase etc, which makes it easier to track the relationships between different branches

[05:28:39.0000] <jgraham>
That sounds kind of cool

[05:28:46.0000] <jgraham>
/me wonders if Gerrit is any good

[05:29:11.0000] <Philip`>
Apparently it's less bad than many alternatives

[05:29:13.0000] <jgraham>
I mean it sounds like the closest thing that exists to the utterly-kickass custom code review tool we have

[05:29:33.0000] <jgraham>
I also heard it was impossible to set up

[05:30:05.0000] <Philip`>
The fun thing is trying to teach Perforce users how to use Gerrit and Git at the same time

[05:30:12.0000] <hsivonen>
Philip`!

[05:30:29.0000] <hsivonen>
Philip`: what’s your current outlook on fixing font subsetter bugs?

[05:30:30.0000] <jgraham>
Philip`: Wow, it sounds like your life ssucks ;)

[05:30:55.0000] <jgraham>
Also, it seems like it you come back here people start asking about bugfixes :)

[05:30:56.0000] <Philip`>
(Fortunately I'm not the one having to teach them :-) )

[05:31:48.0000] <hsivonen>
Philip`: what should my expectations be wrt. https://bitbucket.org/philip/font-optimizer/issue/6/ligature-and-alternative-glyph ?

[05:32:08.0000] <Philip`>
hsivonen: I suppose realistically my current outlook is that I haven't cared about the font subsetter for many years and haven't got any immediate plans to start caring again

[05:32:22.0000] <Ms2ger>
Sounds like your canvas tests, then

[05:32:25.0000] <hsivonen>
Philip`: OK. thanks

[05:33:14.0000] <Philip`>
hsivonen: That sounds like it's mostly likely a bug in the code that rewrites the GSUB table

[05:33:23.0000] <hsivonen>
Philip`: yes.

[05:33:36.0000] <Philip`>
which is slightly scary code, if I remember correctly

[05:33:50.0000] <Philip`>
(since GSUB is slightly scary and has far too many features)

[05:33:54.0000] <hsivonen>
Philip`: I looked at that code and figured that in order to grok it, I’d have to read the spec for GSUB first

[05:34:13.0000] <Philip`>
Yeah, that's definitely required

[05:34:17.0000] <hsivonen>
Philip`: there was one comment about overriding a value to work around a bug in an underlying library

[05:34:43.0000] <hsivonen>
maybe I should just try removing that to see if the workaround is interacting badly with the library (which may or may not have been fixed by now)

[05:35:29.0000] <Philip`>
I think my usual approach for debugging the GSUB stuff was to use some tool that dumps the raw parsed GSUB data, and then look at it manually to see what looks dodgy

[05:36:21.0000] <Philip`>
Usually it's something boring like a set of N values being subsetted into a set of 0 values, and font libraries not liking that

[05:36:22.0000] <hsivonen>
At this point, I don’t know what I should try: fixing your code, figuring out if Google’s Java can be edited to do what I want, figuring out if Adobe’s Java can be edited to do what I want or trying to get fontforge Python API-based subsetting to work

[05:36:51.0000] <Philip`>
(and so you have to go up and delete whatever object is containing that set)

[05:36:58.0000] <hsivonen>
Philip`: do you have a recommendation for such a GSUB dump tool?

[05:37:17.0000] <Philip`>
I don't remember what I used :-(

[05:37:26.0000] <hsivonen>
OK. :-(

[05:37:27.0000] <Philip`>
It might have just been Font::TTF and Data::Dumper or something like that

[05:38:05.0000] <hsivonen>
I suppose eventually browsers will have to work around buggy fonts generated with your code

[05:38:14.0000] <hsivonen>
I already filed a bug against Safari...

[05:38:22.0000] <Philip`>
But I'm trying to start a habit of not being totally useless, so if you remind me some time this evening then I might be able to have a look at it myself (and try to find the old tools I was using)

[05:38:38.0000] <Philip`>
Do many people actually use my code?

[05:38:49.0000] <hsivonen>
I don’t know

[05:38:49.0000] <Philip`>
/me finds that frightening

[05:39:04.0000] <hsivonen>
It’s the most approachable option of all the alternatives I have found

[05:39:13.0000] <hsivonen>
Philip`: Google seems to use it

[05:39:17.0000] <Philip`>
I suppose I also ought to fix the many-years-old bug where it violates the Open Font License

[05:39:46.0000] <Philip`>
(Also, I suppose I should fix canvas tests, but that's too ambitious for now...)

[05:39:48.0000] <hsivonen>
Philip`: you mean including the Reserved Font Name in “subset of Foo”

[05:39:54.0000] <Philip`>
hsivonen: Yes

[05:40:23.0000] <hsivonen>
It’s a bit annoying that OFL and UFL require the opposite things on that point

[05:41:22.0000] <Ms2ger>
/me grumbles at bugzilla.opendarwin.org

[05:42:16.0000] <hsivonen>
Philip`: based on their logging of what they’ve done to particular fonts, it appears that Google Web Fonts admins use both subset.pl and their own subset.py that drives fontforge

[05:42:34.0000] <hsivonen>
but subset.py requires building fontforge from CVS, etc.

[05:44:56.0000] <Ms2ger>
Hm, the WHATWG bug widget still refers to "HTML5"

[05:45:42.0000] <Philip`>
Do you mean they use different tools for different fonts, or they use both on one font (getting the intersections of the subsets, I guess)?

[05:50:28.0000] <Philip`>
http://code.google.com/p/googlefontdirectory/source/browse/quando/METADATA?r=581d26fdfffeeff1f67f074ac12a7f65bdba8435 - not quite sure what that's trying to do

[05:50:56.0000] <Ms2ger>
annevk, oh, I guess you get to spec http://blogs.msdn.com/b/michkap/archive/2005/09/17/469941.aspx

[05:52:16.0000] <annevk>
Ms2ger: the spec covers that

[05:52:51.0000] <Ms2ger>
It does?!

[05:53:12.0000] <hsivonen>
Philip`: that particular case seems like using subset.pl for generating fonts for rendering the name of the font in a list of fonts and subset.py for generating a bunch of subsets for different reportoires for use on Web sites

[05:54:31.0000] <Ms2ger>
As in, rendering \ as � depending on charset?

[05:55:02.0000] <annevk>
Ms2ger: it doesn't cover fonts

[05:55:48.0000] <annevk>
Ms2ger: it does convert U+00A5 to U+005C during encoding for instance

[05:56:32.0000] <annevk>
Ms2ger: as he says, it's not dependent on the charset, it's something else

[05:56:44.0000] <Ms2ger>
Oh?

[05:57:04.0000] <Philip`>
hsivonen: Ah, right

[05:57:22.0000] <Philip`>
(Maybe the Fontforge thing is limited to Unicode blocks, you can't tell it precisely which characters to include?)

[05:57:27.0000] <Ms2ger>
Hm

[05:57:35.0000] <Ms2ger>
It's something weird

[05:57:40.0000] <Ms2ger>
/me ignores it for now

[05:57:50.0000] <hsivonen>
Philip`: I haven’t looked at the fontforge Python API

[05:58:12.0000] <hsivonen>
Philip`: it seems to me Google’s service design is limited to blocks

[05:59:01.0000] <Ms2ger>
http://dvcs.w3.org/hg/html/rev/27e1f424131b

[05:59:03.0000] <Ms2ger>
. . .

[05:59:48.0000] <AryehGregor>
. . . . .

[05:59:49.0000] <AryehGregor>
wat.

[06:11:16.0000] <AryehGregor>
annevk, okay, I'll update the hasFeature() spec now to return true except for stuff that looks like SVG.

[06:20:37.0000] <annevk>
Ms2ger: lolwut?

[06:49:12.0000] <AryehGregor>
Where does the data repo live these days?

[06:49:25.0000] <AryehGregor>
Build instructions for our specs would be handy.

[06:50:19.0000] <Ms2ger>
bitbucket still

[06:52:46.0000] <annevk>
AryehGregor: yeah, I'm planning on adding those

[06:53:08.0000] <AryehGregor>
Oh, right, there.

[06:53:18.0000] <annevk>
Ms2ger: you mind if I move it later?

[06:53:35.0000] <AryehGregor>
Ms2ger, hey, you're on github.  How did that happen, hg-git?

[06:53:59.0000] <annevk>
Ms2ger: also, I was thinking if we just name it "data", we could change all the WHATWG Makefile's and make them assume it's one directory lower

[06:54:06.0000] <annevk>
Ms2ger: would work nicely

[06:54:17.0000] <annevk>
Ms2ger: or maybe "xref" or something

[06:54:27.0000] <AryehGregor>
Now where do I get anolis again?

[06:54:39.0000] <annevk>
AryehGregor: replace specification-data with anolis

[06:54:47.0000] <annevk>
i.e. same place

[06:55:41.0000] <annevk>
Ms2ger: then the Makefile simply says ../xref/ or some such

[07:13:50.0000] <Ms2ger>
annevk, mm, wfm, I guess

[07:13:55.0000] <Ms2ger>
AryehGregor, yes, hg-git

[07:16:55.0000] <Ms2ger>
AryehGregor, "Currently .properties cannot handle : in key" is a lie, btw

[07:17:01.0000] <AryehGregor>
Ms2ger, I noticed.

[07:17:03.0000] <AryehGregor>
Was it ever true?

[07:17:10.0000] <Ms2ger>
I believe so

[07:19:44.0000] <Ms2ger>
Henri Sivonen - Bug 563536, bug 204111 - Put data from uconv property files into code to avoid thread-unsafe property file loading. r=smontagu.

[07:19:51.0000] <Ms2ger>
Was what fixed it, I think

[07:35:39.0000] <GPHemsley>
jgraham: https://github.com/w3c/html/network

[07:36:29.0000] <GPHemsley>
(The Network tab on any repo shows the graph)

[07:46:13.0000] <jgraham>
GPHemsley: Possibly I don't understand how to use that, but it doesn't seem very useful

[07:46:42.0000] <jgraham>
Oh I see

[07:46:47.0000] <jgraham>
YOu have to drag it

[07:46:57.0000] <jgraham>
It still doesn't seem very useful

[08:04:43.0000] <smaug____>
div.dataset = {yo: 'yo', ma: 'ma', la: 'la'};  doesn't work, right?

[08:04:52.0000] <Ms2ger>
No

[08:04:59.0000] <Ms2ger>
/me looked at the same bug

[08:07:42.0000] <AryehGregor>
annevk_, so it looks like jQuery actually uses the DOM Level 3 Core .compareDocumentPosition behavior.  In particular, that either DOCUMENT_POSITION_FOLLOWING or DOCUMENT_POSITION_PRECEDING is returned even for disconnected nodes, along with DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC.

[08:08:02.0000] <Ms2ger>
jQuery \o/

[08:08:17.0000] <AryehGregor>
annevk_, to be honest, the API is horrible anyway and nobody in their right mind should use it for anything but sorting a list of nodes.

[08:08:32.0000] <AryehGregor>
For which, in fact, you need the crazy DOM Level 3 Core behavior.

[08:08:44.0000] <AryehGregor>
And which is what jQuery uses it for.

[08:08:54.0000] <AryehGregor>
It's not a terrible use-case, the API is just amazingly bad.

[08:09:37.0000] <AryehGregor>
IE, Gecko, and Opera have interop on returning FOLLOWING/PRECEDING even for disconnected nodes.

[08:09:54.0000] <AryehGregor>
So I think the right thing here is probably to spec it.

[08:10:18.0000] <hsivonen>
was http://www.w3.org/TR/widgets-uri/ abandoned because of general disinterest in Widgets, because of getting fed up with battling the TAG or because of disinterest from implmentors who were nonetheless implementing some Widget specs?

[08:10:44.0000] <hsivonen>
/me just proposed using widget: for addressing into EPUB books in B2G...

[09:04:45.0000] <AryehGregor>
Ms2ger, do you mind if I steal your hasFeature tests, since they no longer match the spec and I'm about to write new ones?

[09:04:49.0000] <AryehGregor>
I figured I'd base them on yours.

[09:04:57.0000] <AryehGregor>
Just to have a pool of likely strings to test.

[09:05:56.0000] <AryehGregor>
(although, they're all supposed to return true anyway)

[09:40:47.0000] <magcius>
Is http://www.w3.org/TR/css3-syntax/ still relevant?

[09:41:02.0000] <magcius>
Or is http://www.w3.org/TR/CSS2/syndata.html more up to date?

[09:41:32.0000] <magcius>
According to the CSS3 grammar, it's impossible to have signed numbers.

[09:44:04.0000] <magcius>
But the CSS 2.1 grammar wouldn't allow '-vendor-prefix' things, because otherwise it would be parsed as an ident.

[09:44:25.0000] <magcius>
Does the tokenization step now depend on context?

[10:14:58.0000] <Ms2ger>
AryehGregor, of course, go ahead

[10:44:35.0000] <hsivonen>
Philip`: did your memory about ttf debugging tools refresh?

[11:01:09.0000] <hober>
hsivonen: you could use EPUB CFI or whatever it's called

[11:09:48.0000] <TabAtkins>
magcius: The TR version of Syntax is irrelevant and old and busted (check the date on it - 2003!).  I'm actively working on the ED version of it at http://dev.w3.org/csswg/css3-syntax/

[11:10:04.0000] <magcius>
TabAtkins, aha, thanks!

[11:10:18.0000] <TabAtkins>
The 2.1 grammar *has* been changed to allow +/- directly in the number token, but it's in errata, not in the main document.

[11:10:58.0000] <TabAtkins>
As written in 2.1 currently, +/- have to be explicitly requested as DELIM token whenever you use a NUMBER token (or things that build on NUMBER) in a grammar.

[11:11:18.0000] <TabAtkins>
The new Syntax spec implements the resolution to have +/- be part of the NUMBER token directly.

[11:12:03.0000] <magcius>
TabAtkins, that's amazing. Thank you so much!

[11:13:22.0000] <magcius>
TabAtkins, I'm loving this new spec.

[11:13:30.0000] <magcius>
Shiny with the railroad diagrams

[11:13:34.0000] <TabAtkins>
Yus!

[11:19:22.0000] <hober>
I wonder who will chair the Web Notification WG now.

[11:40:40.0000] <Ms2ger>
hober, you

[11:42:49.0000] <hober>
Ms2ger: no thanks

[11:42:56.0000] <TabAtkins>
No backsies!

[11:43:03.0000] <hober>
:)

[11:43:34.0000] <gsnedders>
AryehGregor: Try googling Anolis :)

[12:08:33.0000] <hsivonen>
hober: what's EPUB CFI and use it for what?

[12:10:36.0000] <hsivonen>
hober: no, it doesn't fit

[12:11:29.0000] <hsivonen>
it's not a hierachical URL scheme for the contents of the EPUB archive

[12:19:40.0000] <hober>
hsivonen: ahh, ok

[12:20:10.0000] <annevk_>
hober: mutation events are dead

[12:20:16.0000] <annevk_>
hober: mutation observers are not

[12:20:46.0000] <annevk_>
AryehGregor: man, compareDocumentPosition() blows

[12:21:51.0000] <annevk_>
http://lists.w3.org/Archives/Public/www-archive/2012Oct/0064.html filed for future claim chowder? well not really, but I wish we kept a list of those somewhere

[12:40:23.0000] <hober>
annevk_: I knew I'd mention whichever one was the old one :)

[12:43:13.0000] <zewt>
would have been better called "change events" or something heh

[12:43:45.0000] <TabAtkins>
I think we explicitly got away from the "events" name because you *don't* get events for individual changes.

[12:44:00.0000] <zewt>
the problem is "mutation"

[12:44:03.0000] <TabAtkins>
You get an event "as soon as possible" with a list of everything that's changed since your last event.

[12:44:14.0000] <zewt>
since everyone remembers "mutation something" and then forgets which is which, heh

[12:44:20.0000] <TabAtkins>
True that.

[13:07:40.0000] <gsnedders>
annevk_: Can we add a new compareDocumentPosition function?

[13:08:35.0000] <gsnedders>
annevk_: where < 0 when preceding, > 0 following, 0 when equal. Maybe make it -1 if it's an ancestor, -2 if not, or something?

[13:08:40.0000] <gsnedders>
Same with children.

[13:10:37.0000] <TabAtkins>
Like a proper comparator, taking two Nodes as arguments?

[13:10:53.0000] <gsnedders>
Indeed.

[13:10:59.0000] <TabAtkins>
I support.

[13:11:06.0000] <gsnedders>
Or even foo.compare(bar)

[13:11:12.0000] <gsnedders>
Doesn't matter which model is used, really.

[13:11:20.0000] <TabAtkins>
Nah, needs to be a real comparator so you can pass it to []#sort.

[13:11:37.0000] <TabAtkins>
Or both, whatever.

[13:11:38.0000] <gsnedders>
Yeah, guess that's better.

[13:12:03.0000] <gsnedders>
Instead of requiring (x, y) => x.compare(y) or whatever

[13:12:18.0000] <TabAtkins>
If we're embedding information in the side-channel of magnitude, I find it useful to know if something is an ancestor, a previous sibling, a previous sibling of an ancestor, or unrelated-but-preceding.

[13:12:25.0000] <TabAtkins>
Yeah.

[13:13:08.0000] <gsnedders>
Yeah, I'd rather have magnitude differ my something like that.

[13:13:31.0000] <TabAtkins>
Though I suppose just "ancestor" is the cheapest one to answer, since you obtain the information automatically just by performing the check.

[13:14:10.0000] <gsnedders>
Is sibling of an ancestor that important?

[13:14:30.0000] <TabAtkins>
It's useful for the CSS counter algorithm, so I suspect it might be useful for other things with similar structure.

[13:14:53.0000] <TabAtkins>
(which reminds me - I need to rewrite the counter algorithm today again)

[13:15:00.0000] <gsnedders>
Really? I thought the algorithm only cares about document order.

[13:15:42.0000] <TabAtkins>
Nope, you inherit scopes from your previous sibling, or your ancestor.  You then inherit *values* from the immediately preceding element in document order.

[13:16:02.0000] <TabAtkins>
Depending on how you write the algorithm, it's not strictly necessary to know about siblings of ancestors.

[13:16:31.0000] <gsnedders>
Oh, isn't the scope just taken by the parent element of where it's defined? That's what I always think of it as?

[13:16:43.0000] <TabAtkins>
Nope, you can get scopes from your siblings.

[13:16:54.0000] <TabAtkins>
If they *establish* one.

[13:17:23.0000] <gsnedders>
Right, I just think of it going to the parent of where it is established, but not applying to that element directly.

[13:17:28.0000] <gsnedders>
Which is effectively the same thing.

[13:18:16.0000] <TabAtkins>
No, it doesn't go to the parent.  The parent can establish the same counter, and that gives you two nested counters, the innermost coming from your sibling.

[13:18:34.0000] <TabAtkins>
Plus it doesn't apply to preceding siblings.

[13:19:14.0000] <TabAtkins>
I guess figuring out siblings is easy from the comparison algorithm, too - it's "yes" if the comparison ended after a single walk up from both.

[13:19:26.0000] <gsnedders>
Looking over this, the spec does match my model, so I guess I'm just explaining it badly.

[13:19:42.0000] <TabAtkins>
I think the spec as written is wrong, since I wrote it recently and am pretty sure I got it wrong.

[13:21:24.0000] <gsnedders>
What I think matches what you're saying here, basically, too.

[13:22:00.0000] <TabAtkins>
Um, okay.  ^_^

[13:22:26.0000] <TabAtkins>
The clearest statement of what I mean is the "inherit scopes from previous sibiling, or else parent; inherit values from document-preceding element".

[13:22:32.0000] <gsnedders>
Basically I have a different model of it in my head that's semantically equiv.

[13:22:35.0000] <TabAtkins>
That's entirely correct.

[13:23:22.0000] <gsnedders>
More complicated edge-cases, but makes me reason about the normal case more easily.

[14:04:49.0000] <hober>
annevk_: https://www.w3.org/Bugs/Public/show_bug.cgi?id=17057#c3

[14:07:38.0000] <Philip`>
/me keeps typoing "hg" as "git" :-(

[14:07:59.0000] <Philip`>
hsivonen: Looks like the problem with that font is the "# XXX: This is a really horrid hack." part

[14:08:35.0000] <Philip`>
If it's commented, does that mean it's a feature not a bug?

[14:10:14.0000] <Philip`>
The easy solution is to add a "return 0" in that bit, which makes it drop the whole lookup group thing, and then all the other ligatures become visible

[14:10:29.0000] <Philip`>
but I don't know whether the data it's dropping is important for anything

[15:15:19.0000] <SimonSapin>
TabAtkins: (re www-style) Ok, great :)

[15:15:34.0000] <TabAtkins>
SimonSapin: ^_^

[15:17:05.0000] <SimonSapin>
TabAtkins: how much can we change stuff that is already in CR? Were these ok because they are minor?

[15:18:13.0000] <TabAtkins>
Depends.  We *can* change anything, but some types of changes require a quick circle back to LC for Process reasons.

[15:18:34.0000] <TabAtkins>
I think we're allowed to make changes in the transition to PR?  I dunno.

[15:18:39.0000] <TabAtkins>
fantasai would know better.

[15:18:49.0000] <SimonSapin>
How do we know which is which?

[15:19:14.0000] <TabAtkins>
Things which make implementations of the old spec invalid require an LC pass.

[15:19:28.0000] <TabAtkins>
Doing the opposite is fine.

[15:19:37.0000] <TabAtkins>
And editorial changes are fine.

[15:20:21.0000] <SimonSapin>
got it, thanks

[15:21:00.0000] <SimonSapin>
(isn’t wqname -> qname in the first case?)

[15:21:05.0000] <TabAtkins>
Yes.

[15:21:31.0000] <TabAtkins>
(Though going the from qname -> wqname would be the second case - loosening a restriction.)

[15:22:18.0000] <TabAtkins>
Conceptually, it's just whether a complete implementation of the old spec would now be incomplete (okay) or incorrect (not okay).

[15:23:17.0000] <SimonSapin>
I’ve only tested three implementations, but none of them parsed attr(*|foo)

[15:24:21.0000] <TabAtkins>
Right, that change happened during LC, so it's likely that impls arent' updated to it yet.

[15:24:31.0000] <TabAtkins>
But the rule is based on a *theoretical* complete implementation.

[15:26:36.0000] <SimonSapin>
so do we need one more cycle for css3-values for today’s changes?

[15:27:51.0000] <TabAtkins>
We will, yeah.  Probably do it after the testsuite is done, when we're about ready to do PR.

[15:28:02.0000] <TabAtkins>
So as to avoid cycling through multiple times.

[15:48:24.0000] <Philip`>
hsivonen: Ah, looks like the offending GSUB subtable is used for e.g. "ch" when you enable dlig

[15:48:55.0000] <Philip`>
so it seems like it'd be nicest to handle that case correctly

[15:50:44.0000] <Philip`>
/me tries to remember enough of how all the code works

[15:58:37.0000] <Philip`>
/me decides it's a problem for tomorrow, not today

[16:17:24.0000] <jamund>
I want to update http://wiki.whatwg.org/wiki/Validator.nu_Web_Service_Interface and add a CORS example

[16:17:45.0000] <jamund>
https://gist.github.com/3902535

[16:18:08.0000] <Hixie_>
do you need an account?

[16:18:15.0000] <jamund>
Sure. I don't know how to get access.

[16:18:19.0000] <Hixie_>
tell me your username, name, e-mail address

[16:18:38.0000] <jamund>
xjamundx, Jamund Ferguson, jamund⊙gc

[16:19:11.0000] <Hixie_>
it is done, check e-mail

[16:20:04.0000] <jamund>
thanks.


2012-10-17
[18:16:37.0000] <zewt>
there sure is a "make fullscreen as uselessly obnoxious with endless intrusive crap" fad going on

[18:16:58.0000] <zewt>
"if we detect a printer, why don't we have it print out an agreement and refuse to enter fullscreen until it's signed and mailed in"

[18:39:47.0000] <smaug____>
/me will need to learn what dglazkov means with projection in shadow dom

[20:56:52.0000] <tiglionabbit>
hi

[20:57:54.0000] <tiglionabbit>
has anyone proposed changing the definitions of inches and centimeters?

[21:08:09.0000] <SamB_MacG5>
hmm?

[21:08:25.0000] <SamB_MacG5>
tiglionabbit: why?

[21:08:33.0000] <tiglionabbit>
well, for starters, I find it extremely difficult to determine if the user has a tiny screen or not

[21:08:51.0000] <tiglionabbit>
how can I know if my text is going to be too small or my buttons are going to be too small to press?

[21:09:05.0000] <tiglionabbit>
my phone's screen resolution is 960x540

[21:09:17.0000] <SamB_MacG5>
also, isn't that a CSS matter?

[21:09:24.0000] <tiglionabbit>
that's a higher resolution than my mom's desktop computer

[21:09:25.0000] <tiglionabbit>
yes

[21:09:36.0000] <tiglionabbit>
isn't that in the domain of this group?

[21:09:56.0000] <tiglionabbit>
I think we should specify a way for browsers to report their device's physical dimensions

[21:10:14.0000] <SamB_MacG5>
well, *that* might not be a bad idea

[21:10:16.0000] <tiglionabbit>
and I think we should have some flag to reclaim the use of inches and centimeters as actual units of measurement

[21:10:29.0000] <SamB_MacG5>
though obviously desktop browsers might have trouble ...

[21:10:41.0000] <SamB_MacG5>
not so sure there

[21:10:54.0000] <tiglionabbit>
either that or say that if anyone was actually relying on the stupid definition those had before they are a fool and deserve to have their site break, because they probably intended them to be correct anyway.

[21:12:13.0000] <tiglionabbit>
it would be awesome if inches and centimeters worked correctly in print, too

[21:12:37.0000] <SamB_MacG5>
don't they?

[21:12:42.0000] <tiglionabbit>
I don't know

[21:12:53.0000] <tiglionabbit>
I know the spec defines inches and centimeters in pixels though, which is retarded :P

[21:13:34.0000] <tiglionabbit>
there is clear evidence that using pixels to measure things is not going to scale.  I mean, we've already resorted to lying about how many pixels we're displaying on retina devices

[21:13:54.0000] <tiglionabbit>
it's at the point where sometimes a pixel is one pixel, but sometimes it's two, and sometimes it's one and a half

[21:14:03.0000] <tiglionabbit>
and that is pretty messed up

[21:14:06.0000] <SamB_MacG5>
users don't usually much like it if you try to use real inches though, either ...

[21:14:16.0000] <tiglionabbit>
why not?

[21:14:33.0000] <SamB_MacG5>
well, not on desktops anyway

[21:14:46.0000] <tiglionabbit>
so I understand that there is a problem when you start zooming things, but I'd assume we're talking about 100% zoom here

[21:15:37.0000] <tiglionabbit>
and that mobile devices have their virtual viewport, so the inches would have to apply to the virtual document and not the real viewport in that case.  That way they'd work gracefully if you set the viewport meta tags to match your device width

[21:16:09.0000] <tiglionabbit>
but yeah, is there no proposal in the works for this?  Should I start one?

[21:16:25.0000] <tiglionabbit>
I've never proposed stuff before, but I feel like this is a pretty obvious enhancement that anyone who does reactive websites will appreciate

[21:19:02.0000] <roc>
CSS pixels are well defined and they are not screen pixels

[21:19:28.0000] <tiglionabbit>
roc: ok.  so?

[21:20:11.0000] <roc>
for one thing, they're defined in such a way that a CSS inch == a physical inch in print

[21:20:40.0000] <tiglionabbit>
oh wait really?

[21:20:47.0000] <tiglionabbit>
we're redefining pixels so they mach the definition of an inch?

[21:21:03.0000] <tiglionabbit>
oh in print

[21:21:06.0000] <tiglionabbit>
but not on a physical device

[21:21:08.0000] <roc>
"we"?

[21:21:10.0000] <tiglionabbit>
no physical device does this right

[21:21:15.0000] <tiglionabbit>
we as in the people who make the specs

[21:21:23.0000] <SamB_MacG5>
there is no "right"

[21:21:30.0000] <roc>
the CSS definition of px has remained mostly unchanged for the last 15 years

[21:21:31.0000] <SamB_MacG5>
not on screen ;-)

[21:22:16.0000] <SamB_MacG5>
wait, they had already fixed the px:in ratio in '97?

[21:22:19.0000] <tiglionabbit>
roc: no it hasn't.  Until mobile devices came about, pixels were pixels

[21:22:25.0000] <roc>
no

[21:22:54.0000] <tiglionabbit>
now they're not pixels anymore.  They're often bigger than pixels, but zoomed out

[21:23:00.0000] <roc>
in CSS1 "px" was already defined in terms of a visual angle

[21:23:22.0000] <SamB_MacG5>
roc: how do you tell how far the user is from the screen?

[21:23:36.0000] <roc>
you guess

[21:24:14.0000] <tiglionabbit>
how come everything in CSS has to be so obtuse?  :P

[21:24:31.0000] <roc>
SamB_MacG5: the more recent change (but we're still talking a few years ago) was to redefine "in" to be defined by a visual angle instead of a physical inch

[21:24:37.0000] <SamB_MacG5>
welcome to the wonderful world of computing

[21:24:47.0000] <tiglionabbit>
people are generally the same distance from their screen no matter what device they are using

[21:24:52.0000] <roc>
that is not true

[21:24:58.0000] <tiglionabbit>
so I see no reason why real inches and centimeters shouldn't be used

[21:25:10.0000] <roc>
most people keep their desktop monitors around arms length. No-one uses a phone at arm's length.

[21:25:12.0000] <SamB_MacG5>
I'm pretty sure I hold my phone a lot closer than I sit to my desktop screens ...

[21:25:34.0000] <SamB_MacG5>
and the TV is several times further yet

[21:25:38.0000] <roc>
exaclty

[21:26:06.0000] <SamB_MacG5>
(though, granted, it's something like 320x240 ...)

[21:26:46.0000] <tiglionabbit>
I don't think mobile browsers actually get this right though...

[21:27:04.0000] <tiglionabbit>
they either use real pixels, double-pixels, or 1.5 pixels

[21:27:15.0000] <SamB_MacG5>
well, there are practical considerations

[21:27:30.0000] <roc>
some of them don't get it right, and everyone uses approximations

[21:27:34.0000] <SamB_MacG5>
like, trying to avoid really lousy image scaling

[21:28:06.0000] <SamB_MacG5>
simpler ratios help there

[21:28:20.0000] <roc>
but making 1px look approximately the right size even if that means using more than 1 device pixel per CSS px is entirely in the spirit of the CSS spec

[21:29:36.0000] <SamB_MacG5>
of course, your point about making button sizes fit fingers is valid

[21:30:07.0000] <roc>
for that, we need a different unit

[21:30:22.0000] <SamB_MacG5>
(... but how do you know the size of the user's finger?)

[21:30:42.0000] <roc>
in Gecko we have a "mozmm" unit for that. It's physical mm for the few cases where you need physical mm. Touch interfaces is one.

[21:31:36.0000] <SamB_MacG5>
maybe it should be called "thumb" ;-P

[21:31:47.0000] <SamB_MacG5>
(different unit, obviously ...)

[21:32:58.0000] <tiglionabbit>
omg there is a real unit?

[21:33:06.0000] <roc>
it's pretty hard for the browser to figure out the user's finger size so might as well use mm and make it the Web dev's problem :-)

[21:33:26.0000] <roc>
there isn't a standard unit yet, but I think mozmm should be standardized

[21:34:01.0000] <roc>
although I'm a bit afraid people will use it for the wrong thing

[21:34:07.0000] <SamB_MacG5>
hmm, I suppose if everyone is going to claim to be Mozilla 5.0 anyway you might as well ...

[21:34:11.0000] <roc>
it should only be used when you need something to be "life sized"

[21:34:21.0000] <tiglionabbit>
what's the wrong thing?

[21:34:29.0000] <tiglionabbit>
I would use it for buttons

[21:34:35.0000] <SamB_MacG5>
put a picture of a city-wrecking lizard on it

[21:34:37.0000] <tiglionabbit>
and font sizes

[21:34:42.0000] <roc>
not font sizes

[21:34:45.0000] <tiglionabbit>
why not?

[21:34:45.0000] <SamB_MacG5>
no! not font sizes!

[21:35:06.0000] <SamB_MacG5>
that's about eyes, not fingers

[21:35:06.0000] <tiglionabbit>
don't you want fonts to be readable in any resolution?

[21:35:07.0000] <roc>
it should only be used when you need to match the size of a physical object

[21:35:17.0000] <roc>
independent of the viewing distance

[21:35:38.0000] <roc>
what Sam said

[22:28:59.0000] <annevk_>
"Liberal handling of previously illegal strings as IRIs has some security implications that should be examined carefully; this is not like content parsing and style sheet application."

[22:29:18.0000] <annevk_>
uhuh ...

[22:29:32.0000] <annevk_>
I guess that's my cue for giving up on that discussion

[23:00:28.0000] <MikeSmith>
annevk_: other dude in that thread is arguing that what he calls the "fixing algorithm"  should be in different spec, and that's exactly what we already have, so I'm having a hard time understanding what else they want.

[23:09:45.0000] <JonathanNeal>
In CSS, what's the difference between continuous media and paged media?

[23:13:32.0000] <annevk_>
MikeSmith: it's not exactly a "fixing algorithm" though

[23:13:47.0000] <annevk_>
MikeSmith: "fixing" is the same misperception people have about the HTML parser

[23:15:20.0000] <MikeSmith>
annevk_: yeah that's why I put it in quotes there

[23:15:48.0000] <MikeSmith>
annevk_: clearly there are a whole bunch of misperceptions from commenters in that discussion

[23:16:15.0000] <MikeSmith>
JonathanNeal: paged media has pages similar to PDF or whatever

[23:16:17.0000] <MikeSmith>
page breaks

[23:16:28.0000] <JonathanNeal>
Oh, I see.

[23:17:33.0000] <JonathanNeal>
so queries are suposed to work within the page breaks in paged media?

[23:18:33.0000] <Hixie_>
annevk_: a lot of the confusion i've seen comes from people not understanding that you haven't defined conformance criteria yet. (We had the same thing with HTML parsing for a long time)

[23:19:21.0000] <annevk_>
yeah, I need to do that and update the terminology so we can start using it in other specs

[23:26:45.0000] <MikeSmith>
JonathanNeal: dunno what kind of queries you mean but nothing else should really be effected by whatever rules you have to define page breaks

[23:27:29.0000] <MikeSmith>
JonathanNeal: you know don't define explicit page breaks in your markup, you make rules saying, break before every H2 or whatever

[23:27:51.0000] <JonathanNeal>
"The ‘width’ media feature describes the width of the targeted display area of the output device. For continuous media, this is the width of the viewport (as described by CSS2, section 9.1.1 [CSS21]) including the size of a rendered scroll bar (if any). For paged media, this is the width of the page box (as described by CSS2, section 13.2 [CSS21])."

[23:28:35.0000] <MikeSmith>
ah

[23:29:03.0000] <MikeSmith>
JonathanNeal: I don't know what the "page box" is so I guess I should shut up

[23:29:17.0000] <tiglionabbit>
it is what it sounds like

[23:29:23.0000] <MikeSmith>
but I'm not sure how much of the paged-media stuff anybody has actually implemented

[00:05:42.0000] <MikeSmith>
trying to figure out what's up with https://www.w3.org/Bugs/Public/show_bug.cgi?id=13409

[00:06:02.0000] <MikeSmith>
"Defining Entity references for characters in XHTML"

[00:06:30.0000] <MikeSmith>
maybe would help if David Carlisle came on IRC here to talk about it

[00:08:26.0000] <hallvors>
annevk_: yt?

[00:09:11.0000] <annevk>
hallvors: yeah

[00:09:21.0000] <zcorpan>
"On the other hand, caches that don't assume "Vary: User-Agent" are already completely broken on the web when they sit between multiple users using multiple browsers and the rest of the web...." http://www.w3.org/mid/507D94AB.3000207⊙me

[00:09:29.0000] <hallvors>
quick question on XHR spec:

[00:09:42.0000] <zcorpan>
this is why there should be a spec requiring such things

[00:09:59.0000] <annevk>
zcorpan: you mean like in the HTTP spec?

[00:10:08.0000] <zcorpan>
yeah

[00:10:17.0000] <AryehGregor>
gsnedders, I did Google "anolis", but I vaguely recalled there were two versions and the fork was what was needed to build.  Once I actually saw the search results I saw you retired your version in favor of the fork, though.

[00:10:19.0000] <annevk>
zcorpan: https://twitter.com/robinberjon/status/255307260375494656

[00:10:30.0000] <hallvors>
in "infrastructure for send() method", there is a section on sending events that confuses me a bit

[00:10:56.0000] <hallvors>
Below 7. If the upload complete flag is unset, follow these substeps

[00:11:16.0000] <hallvors>
it talks about "Fire a progress event named *event*"

[00:11:40.0000] <zcorpan>
maybe i'll just file an issue on httpbis and see what happens

[00:12:11.0000] <hallvors>
Firing an event named event doesn't make much sense so I guess this is an accident of editing ;-)

[00:12:25.0000] <annevk>
it's a variable and does make sense

[00:12:49.0000] <zcorpan>
how does one file issues on httpbis?

[00:13:06.0000] <annevk>
zcorpan: email the mailing list stating it's a new issue

[00:13:34.0000] <annevk>
zcorpan: we keep track of some stuff here: http://wiki.whatwg.org/wiki/HTTP

[00:13:41.0000] <hallvors>
mm.. ok, but where is its value defined in that case?

[00:14:22.0000] <annevk>
by the calling algorithm

[00:14:57.0000] <annevk>
"request error" is the generic case, "abort error" is a specific case for instance

[00:14:57.0000] <hallvors>
right

[00:15:01.0000] <hallvors>
got it

[00:16:03.0000] <annevk>
I plan on changing the "terminate send()" concept btw

[00:16:15.0000] <annevk>
make it into a flag somehow because currently it's kinda broken

[00:16:21.0000] <annevk>
same for "terminate abort()"

[00:16:59.0000] <annevk>
but I see the W3C spec is still out of date

[00:17:54.0000] <hallvors>
I should try to find the discussion that let to the AnonXMLHttpRequest constructor thing BTW - I don't understand why we can't just do xhr.withCredentials=false if we want an anonymous same-domain request..

[00:18:19.0000] <annevk>
that still exposes Origin

[00:18:24.0000] <annevk>
and Referer

[00:18:39.0000] <annevk>
and AnonXMLHttpRequest is no more

[00:18:50.0000] <annevk>
it's an argument to new XMLHttpRequest now

[00:19:18.0000] <annevk>
hallvors: I recommend reading http://xhr.spec.whatwg.org/

[00:19:26.0000] <hallvors>
OK. So how do I detect if that functionality is supported?

[00:19:35.0000] <hallvors>
(I'm looking at both versions)

[00:20:11.0000] <hallvors>
but as you can tell I haven't quite figured out the differences. I'll look at the github log again ;-)

[00:20:39.0000] <hallvors>
if(XMLHttpRequest.length==1) // anon is supported ?

[00:21:30.0000] <AryehGregor>
hallvors, does that actually work per spec and/or in implementations?

[00:21:41.0000] <AryehGregor>
My recollection is .length is fairly useless for feature-testing both in the spec and in implementations.

[00:22:13.0000] <zcorpan>
annevk: emailed and added to the wiki

[00:22:28.0000] <annevk>
not sure if you can feature-test it, not all new functionality can unfortunately

[00:22:37.0000] <hallvors>
.length is currently 0 in Opera, so it might work :-p

[00:23:03.0000] <zcorpan>
.length in opera is usually 0 even for methods that support more arguments

[00:23:22.0000] <zcorpan>
for DOM stuff i mean

[00:23:56.0000] <hallvors>
we have lots of older stuff testing .length on functions - but only or ECMA stuff I guess

[00:24:28.0000] <AryehGregor>
zcorpan, IE too, I believe.

[00:24:39.0000] <zcorpan>
AryehGregor: oh? didn't know that

[00:24:39.0000] <AryehGregor>
And I think the spec says optional arguments don't count toward .length.

[00:24:54.0000] <AryehGregor>
And I think maybe WebKit?

[00:24:56.0000] <AryehGregor>
So it will only work in Gecko and only because it's nonstandard, IIRC.

[00:25:04.0000] <AryehGregor>
/me looks for the Gecko bug

[00:25:31.0000] <AryehGregor>
https://bugzilla.mozilla.org/show_bug.cgi?id=793151

[00:26:33.0000] <AryehGregor>
Ah, Gecko's about to match the spec so that .length is totally useless for feature-testing in all browsers.

[00:26:33.0000] <AryehGregor>
Hurrah.

[00:26:41.0000] <zcorpan>
woah, i thought webkit did this

[00:26:52.0000] <zcorpan>
quick testing gives 0 :-(

[00:27:02.0000] <AryehGregor>
hallvors, I believe the issue is that ECMAScript does make .length include optional arguments, now that ES has the concept of optional arguments.

[00:27:12.0000] <hallvors>
Who would rely on some privacy feature that can't be feature-tested?

[00:27:12.0000] <hallvors>
annevk: can send() for a synchronous test still throw the TimeoutError?

[00:27:14.0000] <AryehGregor>
Although maybe that should just be changed before it sticks.

[00:27:43.0000] <AryehGregor>
hallvors, well, you can try using the extra argument, and abort if it throws.

[00:27:43.0000] <zcorpan>
yeah let's fix .length

[00:27:59.0000] <AryehGregor>
Passing too many arguments should cause implementations to throw.

[00:28:00.0000] <zcorpan>
no

[00:28:04.0000] <AryehGregor>
Oh, it doesn't?

[00:28:09.0000] <hallvors>
no

[00:28:10.0000] <zcorpan>
extra arguments are silently ignored

[00:28:11.0000] <annevk>
hallvors: in workers

[00:28:13.0000] <AryehGregor>
Yay.

[00:28:32.0000] <AryehGregor>
zcorpan, if you want to change the spec, why don't you comment on that Gecko bug asking that we not change our behavior to match the spec?

[00:28:35.0000] <AryehGregor>
(I mean, I could too, I guess)

[00:28:51.0000] <hallvors>
aha - so webworkers is what all those "when there is an associated document" clauses are about

[00:28:52.0000] <zcorpan>
the spec matches gecko, right?

[00:29:14.0000] <zcorpan>
i'd like everyone else to match gecko :-)

[00:29:15.0000] <AryehGregor>
The spec matches the behavior of Gecko that just got r+ and will land whenever Ms2ger gets around to landing all his pending patches next.

[00:29:30.0000] <AryehGregor>
The old behavior of Gecko is what we want (optional arguments do count toward .length).

[00:29:33.0000] <AryehGregor>
Wait, I just confused myself.

[00:29:41.0000] <zcorpan>
you confused me too :-P

[00:29:51.0000] <AryehGregor>
I'm sick, so I'm not totally coherent right now.

[00:30:06.0000] <AryehGregor>
I mean, the point is that Gecko's current behavior is the useful one, and it's about to change to match the spec, which is not useful.

[00:30:16.0000] <AryehGregor>
I think.

[00:30:23.0000] <zcorpan>
the spec says optional arguments are included in length?

[00:30:56.0000] <hallvors>
/me never really found .length very useful in the first place..

[00:31:39.0000] <AryehGregor>
The spec says optional arguments are *not* included in .length, so adding an optional argument doesn't change .length.

[00:31:40.0000] <AryehGregor>
http://dev.w3.org/2006/webapi/WebIDL/#es-operations

[00:31:45.0000] <AryehGregor>
"Return the length of the shortest argument list of the entries in S."

[00:32:01.0000] <zcorpan>
just found it

[00:32:47.0000] <AryehGregor>
Optional arguments to functions are new in ES6, aren't they?

[00:32:47.0000] <zcorpan>
but now i need to understand the effective overload set

[00:33:03.0000] <AryehGregor>
Just pretend it means "the set of all possible overloads of this function".

[00:33:13.0000] <AryehGregor>
Including different overloads for optional or variable arguments.

[00:33:33.0000] <AryehGregor>
So f(x, optional y) would have f(x) and f(x, y) in the overload set.

[00:33:40.0000] <hallvors>
annevk: why is withCredentials not allowed set for sync requests? (except in workers)

[00:34:02.0000] <AryehGregor>
(understanding the concept of the effective overload set is generally one of the primary stumbling-blocks for people who haven't studied WebIDL closely :) )

[00:34:16.0000] <AryehGregor>
hallvors, I'm guessing because we hate sync XHR and want it to die a fiery death, so we refuse to add new features to it.

[00:34:26.0000] <AryehGregor>
(except in workers, where sync APIs are fine)

[00:34:36.0000] <zcorpan>
AryehGregor: so optional arguments do not get counted per spec for "length"?

[00:34:45.0000] <AryehGregor>
zcorpan, correct.

[00:34:54.0000] <zcorpan>
AryehGregor: is that the useful behavior?

[00:34:59.0000] <AryehGregor>
No.

[00:35:00.0000] <zcorpan>
ok

[00:35:01.0000] <AryehGregor>
It makes .length completely useless.

[00:35:10.0000] <AryehGregor>
We might as well just make it 0, which is what most implementations do anyway.

[00:35:41.0000] <zcorpan>
i can file a spec bug

[00:35:45.0000] <hallvors>
AryehGregor: how ... emotional ;-)

[00:35:51.0000] <AryehGregor>
http://wiki.ecmascript.org/doku.php?id=harmony:parameter_default_values

[00:35:56.0000] <AryehGregor>
"The length property of a function should be updated to not include optional parameters.

[00:35:56.0000] <AryehGregor>
— Erik Arvidsson 2010/11/05 22:37"

[00:36:09.0000] <AryehGregor>
I asked heycam and he said the reason he did it was to match ES6.

[00:36:13.0000] <AryehGregor>
But I think we should just change ES6, right?

[00:37:28.0000] <zcorpan>
ah. was there any rationale for IE6's decision?

[00:37:28.0000] <zcorpan>
er

[00:37:30.0000] <zcorpan>
ES6

[00:37:37.0000] <AryehGregor>
Not on that page.

[00:37:44.0000] <AryehGregor>
You could ask Erik Arvidsson why he said that.

[00:37:50.0000] <AryehGregor>
I don't know if there were mailing list discussions etc.

[00:37:50.0000] <hallvors>
annevk: "if the document cannot be serialized an "InvalidStateError" exception is thrown"

[00:37:55.0000] <AryehGregor>
By his name, he probably works for your employer.  :)

[00:38:03.0000] <hallvors>
I think that's a normative statement

[00:38:14.0000] <AryehGregor>
No, Google, it seems.

[00:38:15.0000] <hallvors>
Aryeh: he's at Google AFAIK

[00:38:38.0000] <AryehGregor>
I guess Opera can't employ *everyone* in the world with a Scandinavian name.

[00:38:58.0000] <hallvors>
I found it a bit confusing that it's in a "note"

[00:39:30.0000] <hallvors>
Isn't it better to add it to the previous paragraph?

[00:39:55.0000] <AryehGregor>
hallvors, it's part of the "serialize" algorithm, I'm guessing.

[00:40:08.0000] <AryehGregor>
Oh, except that that's underdefined.

[00:40:11.0000] <AryehGregor>
http://domparsing.spec.whatwg.org/#concept-serialize-xml

[00:40:31.0000] <AryehGregor>
Ah, this case in defined if you follow all the breadcrumbs: http://www.whatwg.org/specs/web-apps/current-work/multipage/the-xhtml-syntax.html#xml-fragment-serialization-algorithm

[00:41:03.0000] <AryehGregor>
So "serialize" is here: http://domparsing.spec.whatwg.org/#concept-serialize

[00:41:07.0000] <AryehGregor>
Which refers you to here: http://domparsing.spec.whatwg.org/#concept-serialize-xml

[00:41:07.0000] <AryehGregor>
Which in the document case refers you to here: http://www.whatwg.org/specs/web-apps/current-work/multipage/the-xhtml-syntax.html#xml-fragment-serialization-algorithm

[00:41:08.0000] <AryehGregor>
Which includes various cases that throw.

[00:41:25.0000] <AryehGregor>
In web specs as in programming languages, if you invoke an algorithm that throws, the exception propagates upward.

[00:42:15.0000] <hallvors>
OK, thanks :)

[00:43:29.0000] <hallvors>
spec says username/password are always ignored for CORS - what about asking remote site if it accepts an Authenticate header instead?

[00:44:12.0000] <hallvors>
(that's what happens if you set Authenticate manually with setRequestHeader(), ight? - why force authors who need this functionality to do it the harder way?)

[00:45:59.0000] <hallvors>
hm.. the whatwg version doesn't say that anymore

[00:46:00.0000] <AryehGregor>
zcorpan, es-discuss is the list to search for discussions of optional parameters and length, right?

[00:46:21.0000] <AryehGregor>
hallvors, the only maintained XHR spec is at whatwg.org.  All others are out-of-date.

[00:46:38.0000] <zcorpan>
i guess, i was going to send an email to public-script-coord without searching for prior discussions :-P

[00:46:50.0000] <AryehGregor>
Ah, public-script-coord.

[00:47:08.0000] <AryehGregor>
I'm filing a WebIDL bug, so I want links to prior discussions if there are any.

[00:47:44.0000] <zcorpan>
if i send my email you can point to that :-)

[00:47:45.0000] <AryehGregor>
Is ES6 version-controlled somewhere such that I can search for when the relevant requirement was added?

[00:48:43.0000] <AryehGregor>
Hmm, public-script-coord is quite low-traffic.

[00:48:43.0000] <AryehGregor>
I wonder if it's worth joining.

[00:48:46.0000] <zcorpan>
/me sent

[00:49:18.0000] <zcorpan>
i think it also has a pretty good signal/noise ratio

[00:55:36.0000] <hallvors>
annevk: I'm trying to figure out where the spec says that user / pass arguments add to author request headers.

[00:57:56.0000] <hallvors>
(because that's the way to spec that an Authenticate: header generated from the user password arguments will require a preflight - AFAIK?)

[00:59:47.0000] <annevk>
hallvors: sync requests are intentionally crippled

[01:00:32.0000] <annevk>
hallvors: it's a note because the normative statement is made elsewhere

[01:00:43.0000] <annevk>
hallvors: we don't define what serialize means, DOM Parsing does

[01:01:27.0000] <annevk>
hallvors: yeah, the user/password restriction I removed recently as it was bogus

[01:01:42.0000] <hallvors>
I've seen the change in the github log

[01:02:16.0000] <hallvors>
6 days ago, so I'm sort of catching up with your thinking maybe ;)

[01:02:52.0000] <hallvors>
but where exactly does it say that giving user, password in open() will require a CORS preflight and acceptance?

[01:03:23.0000] <hallvors>
I expect that to happen but I don't understand where the spec says it must..

[01:04:26.0000] <hallvors>
maybe open() algorithm should add an authorize: header to author request headers?

[01:07:09.0000] <hallvors>
(BTW, it would be nice if giving user/pass in open() would make the implementation send the Authorize header immediately, rather than waiting for a 401 first.. Sort of, if I supply user name and password, it's my intention that they are sent. I guess that would violate some HTTP rules though?)

[01:07:11.0000] <annevk>
yeah

[01:07:41.0000] <annevk>
that seems unwise, you don't want to give away credentials if they're not asked for

[01:08:13.0000] <annevk>
I guess unless you want to implement authentication on your own...

[01:08:20.0000] <hallvors>
but it also seems a bit wasteful to send a potentially large entity body, then get 401, and re-send.. :-p

[01:08:22.0000] <annevk>
I had the idea of adding a flag for that at some point, but it has not happened yet

[01:08:54.0000] <hallvors>
Well, if I do setRequestHeader('Authenticate', .. ) will it be sent immediately?

[01:09:39.0000] <annevk>
dunno, I'm happy for you to figure out how HTTP authentication and XHR interact

[01:09:48.0000] <hallvors>
and *why* is sync requests "intentionally" crippled?

[01:10:00.0000] <hallvors>
Sure, I'll investigate :)

[01:10:14.0000] <AryehGregor>
hallvors, because sync I/O or network access freezes all script for an indeterminate time period.

[01:10:20.0000] <AryehGregor>
It's terrible for perf.

[01:10:23.0000] <AryehGregor>
localStorage too.

[01:10:28.0000] <hallvors>
I guess I can clone your spec on github and send you some pull requests if I figure out something interesting ;-)

[01:10:46.0000] <AryehGregor>
So new features are exclusively async, except in workers, since those don't freeze anything but themselves.

[01:10:51.0000] <hallvors>
isn't that the script author's problem? :-p

[01:10:59.0000] <annevk>
hallvors: yeah, that'd be sweet

[01:11:03.0000] <AryehGregor>
Pages that don't work well are everyone's problem.

[01:11:10.0000] <annevk>
hallvors: if you want I can give you access to all WHATWG specs

[01:11:22.0000] <AryehGregor>
The idea of the web platform is you don't have to know what you're doing to write web pages that work okay.  :)

[01:11:23.0000] <annevk>
hallvors: but we handle pull requests too

[01:11:29.0000] <hallvors>
LOL

[01:11:51.0000] <hallvors>
annevk: sending you pull requests is fine for now.

[01:12:28.0000] <zcorpan>
http://lists.w3.org/Archives/Public/ietf-http-wg/2012OctDec/0115.html

[01:13:34.0000] <AryehGregor>
zcorpan, to be fair, simply varying on User-Agent does make caches virtually useless.

[01:14:10.0000] <zcorpan>
yet bz said that caches that don't do it are broken?

[01:14:24.0000] <AryehGregor>
Sure, but broken is sometimes better than useless.

[01:14:27.0000] <annevk>
I guess if you don't do it for images and video content you're still fine

[01:14:29.0000] <AryehGregor>
Arguably, any kind of transparent proxy is broken.

[01:14:40.0000] <AryehGregor>
But sometimes they're necessarily for performance.

[01:15:19.0000] <AryehGregor>
Back in the day, Wikimedia hacked its Squids to vary more intelligently than the default.

[01:15:47.0000] <AryehGregor>
IIRC, it was based on the fact that different browsers format their Accept-Encoding headers differently, so simply telling it to vary on Accept-Encoding would fragment the cache.

[01:15:59.0000] <annevk>
I doubt all the sites that set custom XHR headers also set Vary accordingly

[01:16:14.0000] <hallvors>
open() has a list of state stuff it resets (step 18) - but some stuff isn't mentioned, like the error flag, upload complete and upload events flags. Does calling open() again preserve previously defined upload event listeners, for example?

[01:16:17.0000] <AryehGregor>
Instead, they hacked it to parse the header and vary only based on whether the thing they were interested in was present.

[01:16:45.0000] <AryehGregor>
But let's be honest, sites vary their content based on all kinds of things and don't bother sending Vary headers.

[01:16:56.0000] <annevk>
hallvors: it doesn't reset event listeners

[01:17:01.0000] <AryehGregor>
Caches are never going to really be correct.

[01:17:19.0000] <zcorpan>
AryehGregor: i guess that's a fair point

[01:17:34.0000] <AryehGregor>
In any event, it is absolutely true that if you vary based on User-Agent, you may as well not have a cache, because every two people with a different minor browser version or different set of plugins installed or heaven knows what will get a different cache entry.

[01:18:01.0000] <annevk>
hallvors: error flag is unset by send() itself

[01:18:07.0000] <AryehGregor>
Even if User-Agent just consisted of one of the five strings "ie"/"firefox"/"chrome"/"safari"/"opera", you just completely murdered the entire tail of your cache.

[01:18:28.0000] <AryehGregor>
For commonly-used resources you're now making five times as many requests as before, and for uncommon resources you may as well not bother caching them.

[01:18:44.0000] <AryehGregor>
Even fragmenting your cache in two is pretty disastrous.

[01:19:07.0000] <AryehGregor>
I know all this stuff from my Wikipedia experience.

[01:19:26.0000] <AryehGregor>
We would sacrifice features and spend tons of time left and right to avoid fragmenting any caches for anonymous users.

[01:19:31.0000] <AryehGregor>
(i.e., not logged in)

[01:19:37.0000] <annevk>
hallvors: I guess the upload complete flag should be unset when the error flag is unset

[01:19:52.0000] <AryehGregor>
And if you logged in, suddenly your performance dropped like a stone because you started missing caches everywhere.

[01:19:58.0000] <zcorpan>
AryehGregor: feel free to edit http://wiki.whatwg.org/wiki/HTTP#Assume_Vary:_User-Agent

[01:20:21.0000] <annevk>
hallvors: same for the upload events flag

[01:20:31.0000] <annevk>
hallvors: and then step 6/7 need to be switched

[01:20:36.0000] <annevk>
hallvors: will fix

[01:23:33.0000] <hallvors>
hm.. if open() doesn't reset any event listeners (which seems the right thing to do), the upload events flag can just be set where it is currently set in send()

[01:23:34.0000] <hallvors>
I think

[01:24:33.0000] <hallvors>
/me thinks Wikipedia is an outlier, in terms of request volume / budget and resources :-)

[01:24:56.0000] <annevk>
hallvors: https://github.com/whatwg/xhr/commit/e439e4b6be1277e3fde8951b39e95bec59e89b78

[01:25:18.0000] <AryehGregor>
hallvors, also in terms of cacheability.

[01:25:24.0000] <annevk>
hallvors: sure, but if it's already set, and people removed the event listeners after the first time invoking send(), it needs to be unset the second time

[01:25:40.0000] <AryehGregor>
If you think about it, Wikipedia is one of the few major websites where all important content is completely cacheable on the server side.

[01:25:56.0000] <AryehGregor>
Not by clients, because it might change, but it doesn't vary per-user unless you're logged in.

[01:26:02.0000] <AryehGregor>
And 95%+ of users aren't logged in.

[01:27:05.0000] <hallvors>
fix looks good :)

[01:44:34.0000] <AryehGregor>
zcorpan, commented.

[01:45:20.0000] <AryehGregor>
zcorpan, I think when bz said such caches are completely broken, he meant that they're guaranteed to break some pages, not that they're never desirable.

[01:45:44.0000] <AryehGregor>
Oh, no, he did say they should set it.

[01:47:40.0000] <zcorpan>
AryehGregor: thanks. can i send your comment as a reply to ietf-http-wg?

[01:47:43.0000] <AryehGregor>
zcorpan, sure.

[01:47:51.0000] <AryehGregor>
I'm posting something to public-webapps now.

[01:56:20.0000] <AryehGregor>
zcorpan, posted.

[01:58:06.0000] <zcorpan>
thanks

[02:14:21.0000] <AryehGregor>
zcorpan, I'll never pass up a chance to tell bz he's wrong.  ;)

[02:14:39.0000] <AryehGregor>
(although there's always the lingering unease that maybe he's right after all)

[02:14:45.0000] <AryehGregor>
(I'll see what he says)

[02:15:00.0000] <jgraham>
AryehGregor: You know that will end badly, right?

[02:21:19.0000] <AryehGregor>
Yeah, it generally does.

[02:21:26.0000] <AryehGregor>
Doesn't stop me from trying, though.

[03:01:59.0000] <annevk>
AryehGregor: you okay with naming specification-data "xref" and hosting it under /whatwg too?

[03:02:09.0000] <AryehGregor>
annevk, sure.

[03:02:29.0000] <annevk>
AryehGregor: I'm also going to change the Makefile's of most specs to just point to ../xref/ instead of ./data/

[03:02:46.0000] <AryehGregor>
annevk, interesting.

[03:02:49.0000] <AryehGregor>
Sounds okay to me.

[03:03:12.0000] <AryehGregor>
It would also be nice if the makefiles updated the database.

[03:03:21.0000] <AryehGregor>
Although probably we wouldn't want them to do it synchronously.

[03:03:48.0000] <AryehGregor>
Especially since git tends to like to synchronously run git-gc for like three minutes once in a while.

[03:04:23.0000] <annevk>
AryehGregor: you mean did a commit?

[03:04:46.0000] <annevk>
would be nice yeah...

[03:04:51.0000] <AryehGregor>
What?

[03:09:18.0000] <annevk>
well the Makefile updates the local database

[03:09:51.0000] <AryehGregor>
Oh, I meant pull, not push.

[03:10:18.0000] <AryehGregor>
Actually, it would make more sense if we hooked git pull so it pulled the data repo too.

[03:10:37.0000] <AryehGregor>
Auto-commit/push is a bad idea, because you might run the makefile on several iterations locally and not want to save them . . .

[03:38:11.0000] <annevk>
hmm, so Anolis apparently has data hardcoded somewhere?!

[03:39:53.0000] <annevk>
anolis annevk$ grep -r "data/" *

[03:39:53.0000] <annevk>
anolislib/processes/refs.py:    list = open("data/references.json", "rb")

[03:39:53.0000] <annevk>
anolislib/processes/xspecxref.py:    manifest = open("data/specs.json", "rb")

[03:39:55.0000] <annevk>
anolislib/processes/xspecxref.py:      file = open("data/xrefs/" + v, "rb")

[03:39:57.0000] <annevk>
build/lib/anolislib/processes/refs.py:    list = open("data/references.json", "rb")

[03:39:59.0000] <annevk>
build/lib/anolislib/processes/xspecxref.py:    manifest = open("data/specs.json", "rb")

[03:40:01.0000] <annevk>
build/lib/anolislib/processes/xspecxref.py:      file = open("data/xrefs/" + v, "rb")

[03:40:07.0000] <annevk>
ffffffffuuuu

[03:48:09.0000] <annevk>
I wonder how Ms2ger wants to fix that

[03:56:44.0000] <hsivonen>
It annoys me that the long “Plan 2014” is very vague on the most interesting thing: the relationship with the WHATWG HTML spec

[03:57:09.0000] <hsivonen>
the Chairs could inspire trust by being less mysterious about such a central point

[04:04:27.0000] <jgraham>
hsivonen: Probably mentioning it reduces the chance of consensus whatever you say

[04:04:59.0000] <jgraham>
So being vauge seems like a good strategy from their point of view regardless of whether they have good intentions or not

[04:12:14.0000] <hsivonen>
jgraham: consensus by vagueness is a terrible way to do things. It’s how the WAI reaches consensus.

[04:13:07.0000] <hsivonen>
so then we get to have permathreads at the HTML WG, because two editors of one WAI spec have opposite understanding of what their vague text means.

[04:13:20.0000] <jgraham>
I didn't endorse it. But I'm saying that I can see how it would be a natural outcome of a consensus based process

[04:13:38.0000] <hsivonen>
jgraham: yes. and it had occurred to me.

[04:14:36.0000] <hsivonen>
jgraham: note that I didn’t wonder *why* above

[04:14:56.0000] <jgraham>
Fair enough

[04:15:00.0000] <hsivonen>
it’s pretty clear that by keeping the intentions a mystery, there’s nothing concrete to object to

[04:16:10.0000] <hsivonen>
that doesn’t stop me from objecting to keeping the intentions a mystery

[04:20:51.0000] <jgraham>
I think we are agreeing

[04:44:11.0000] <zcorpan>
should crossOrigin be "limited to only known values"?

[04:44:54.0000] <annevk>
think so

[04:45:50.0000] <zcorpan>
currently crossorigin="" means anonymous but crossOrigin returns "" for both that and missing attribute (which maps to the No CORS state)

[04:47:30.0000] <hsivonen>
clearly, the HTML WG needs more participants objecting to keeping the Chair intentions secret to make the mystery cause less consensus than stating the intentions

[05:45:52.0000] <hsivonen>
Sam’s post is rather remarkable in the length it goes into in order to highlight evidence of past action while carefully refraining from stating future intentions.

[05:47:31.0000] <annevk>
why are you still bothering? is there a point?

[05:50:35.0000] <hsivonen>
annevk: the point is assessing how much to participate from now myself and what advice to give to others on the topic of participation

[05:50:49.0000] <hsivonen>
s/now/now on/

[06:10:21.0000] <hallvors>
If WHATWG cooks good stuff, implementors will eat it, and the HTMLWG will want to include the recipes in its cookbook collection.

[06:11:48.0000] <smaug____>
is it common to use outerHTML to remove a node from its parent?

[06:11:53.0000] <smaug____>
since it feels really odd

[06:12:07.0000] <smaug____>
and is slower than other ways

[06:12:52.0000] <jgraham>
That is true. But if some chefs are working with the HTMLWG cookbook and some with the WHATWG cookbook, and they are supposed to be serving the same meal, but the books sometimes have totally different recipies, there will be tears in the dining room, and people will go to a different resturant

[06:13:50.0000] <jgraham>
smaug____: Dunno. Does jQuery do it?

[06:14:20.0000] <smaug____>
there was just one bug report related to mutationobservers in that cas

[06:14:22.0000] <smaug____>
e

[06:15:04.0000] <smaug____>
but this reminds me

[06:15:16.0000] <smaug____>
has anyone implemented the new stuff in Element

[06:15:28.0000] <smaug____>
remove() etc

[06:15:38.0000] <smaug____>
before and after are still wrong IMO

[06:39:09.0000] <jgraham>
krijnhuman: Did I ask you about logging #testing before?

[06:39:38.0000] <jgraham>
(on the w3c server)

[06:40:13.0000] <Ms2ger>
smaug____, I've got a patch for remove(), btw

[07:06:56.0000] <krijnhuman>
jgraham: can't remember..

[07:07:10.0000] <krijnhuman>
Yes :)

[07:07:48.0000] <krijnh>
Hm, dropped out of that channel 4 months ago..

[07:09:30.0000] <Ms2ger>
krijnh, and #developers? :)

[07:09:40.0000] <krijnh>
Moz?

[07:11:05.0000] <krijnh>
Ah, yeah

[07:11:08.0000] <krijnh>
That's a funny story

[07:14:01.0000] <Ms2ger>
Heh

[07:14:23.0000] <krijnh>
Hard disk had 0kb free space

[07:14:29.0000] <krijnh>
Apparently then it stops logging

[07:14:58.0000] <Ms2ger>
Neat

[07:15:04.0000] <krijnh>
Because of these logs, I had to throw away old photos

[07:15:07.0000] <krijnh>
Hope you're happy now!

[07:15:24.0000] <Ms2ger>
Very :)

[07:15:57.0000] <krijnh>
And /irc-logs/ is almost 1gb now

[07:15:58.0000] <krijnh>
Tee hee

[07:31:30.0000] <crocket>
There's a table with a specific class or id.

[07:31:50.0000] <crocket>
I want to set border to 1 for table, td, and th of that table.

[07:32:09.0000] <crocket>
But putting id or class in every td and th is a hassle.

[07:32:23.0000] <crocket>
How can I bypass that hassle?

[07:53:44.0000] <zcorpan>
Ms2ger: i recall you converted my worker tests to testharness.js, is that right? if so, where are the new tests? (the ones on w3c-test.org seems to use jsframework.js)

[07:54:33.0000] <Ms2ger>
zcorpan, I started

[07:55:06.0000] <zcorpan>
Ms2ger: i see. is the work-in-progress available online? :-)

[07:55:31.0000] <Ms2ger>
All the files that aren't called 001.html in your submission folder :)

[07:55:54.0000] <Ms2ger>
./constructors/Worker, and some in ./constructors/SharedWorker:

[07:56:00.0000] <Ms2ger>
Looks like I didn't get far :)

[08:00:46.0000] <zcorpan>
ah. thanks

[08:01:53.0000] <Ms2ger>
Np

[10:04:32.0000] <Tavp>
hey guys, I have a DropDownList, but when I click to select an Item, it never selects the one that I clicked. No matter where I put a Dropdownlist on my page, it does not work the why it normaly does. Might it be something abou the select="selected"???

[10:17:54.0000] <TabAtkins>
A DropDownList sounds like something other than HTML, in which case I dunno.

[10:34:40.0000] <hsivonen>
os there a public list of AC reps?

[10:34:45.0000] <hsivonen>
*is

[10:40:19.0000] <TabAtkins>
I *think* there is?  Well, maybe not public - it might be behind a member wall.

[10:40:49.0000] <hsivonen>
huh. Florian Rivoal is listed as Invited Expert--not Opera Software in CSS

[10:40:59.0000] <jgraham>
He left Opera

[10:41:03.0000] <hsivonen>
oh

[10:41:12.0000] <jgraham>
To do an MBA

[10:43:36.0000] <SimonSapin>
hsivonen: the list is here, but not public: https://www.w3.org/Member/ACList.php

[10:46:08.0000] <hsivonen>
/me found https://www.w3.org/2000/09/dbwg/details?group=33280

[10:46:32.0000] <hsivonen>
SimonSapin: thanks

[10:49:43.0000] <hsivonen>
/me finds https://www.w3.org/2000/09/dbwg/details?group=41480

[11:07:50.0000] <volkmar>
Hixie_: ping

[11:38:35.0000] <Hixie_>
volkmar: pong

[11:41:41.0000] <volkmar>
Hixie_: for @inputmode, you are recommanding latin-name for titlecase

[11:42:04.0000] <volkmar>
sorry, latin-name is titlecase and you recommend it for names input

[11:42:25.0000] <Hixie_>
the spec recommends "latin-name" for cases where the page wants latin names to be input, it's not titlecase necessarily

[11:42:31.0000] <volkmar>
Hixie_: but text fields that intend to receive titles (like movie title) should likely have this inputmode=latin-name

[11:42:35.0000] <Hixie_>
e.g. i'd expect it to not uppercase the "v" in "Anne van Kesteren"

[11:42:58.0000] <Hixie_>
movie titles are a use case that isn't currently handled; if it's a common one we can definitely add it

[11:43:05.0000] <Hixie_>
latin-titlecase or some such

[11:43:39.0000] <Hixie_>
i was thinking we should probably also add latin-prose-chat, which would be like -prose but with smiley input

[11:44:05.0000] <volkmar>
Hixie_: but then latin-name looks like more an input type than inputmode because you can easily image a contact picker to pick a contact's name

[11:44:33.0000] <volkmar>
Hixie_: if you go with latin-titlecase, I wonder why bothering having hard to understand names

[11:44:42.0000] <volkmar>
and just do latin-titlecase, latin-lowercase, etc.

[11:44:49.0000] <Hixie_>
input types, input modes, and autocomplete types have a lot of similarities, indeed

[11:44:56.0000] <Hixie_>
titlecase isn't the same as name

[11:45:03.0000] <Hixie_>
as per the example above

[11:45:19.0000] <Hixie_>
titlecase would do "Anne Van Kesteren", name would do "Anne van Kesteren"

[11:45:35.0000] <volkmar>
Hixie_: unless this is autocompleted

[11:45:40.0000] <volkmar>
I doubt that would be really doable

[11:46:16.0000] <volkmar>
unless the keyboard goes back and remove the uppercase from the V knowing that "Van" should be "van" in Dutch name

[11:46:47.0000] <Hixie_>
(i'm just talking about inputmode, certainly a new input type that supports picking names from a contact list, or an autocomplete value, that supports picking names from relevant names possibly from the contact list, would also be able to do clever things. but that's another discussion.)

[11:47:17.0000] <Hixie_>
doesn't have to be keyboard

[11:47:35.0000] <Hixie_>
e.g. speech recognition is done word-at-a-time or even phrase-at-a-time and could still be affected by this

[11:47:47.0000] <Hixie_>
same with gesture writing like Swype or whatever it's called

[11:49:25.0000] <Hixie_>
volkmar: at the end of the day, i see three things here for inputmode. One is, will anyone implement latin-name? If not, we should drop it. Another is, is there a use case for latin-titlecase? If so, we should add it. And the other is is there a use case for latin-prose-chat, in which case we should add that.

[11:49:53.0000] <Hixie_>
volkmar: i have no strong opinion on either of these, and am happy to do any or all of them.

[11:49:59.0000] <volkmar>
Hixie_: my problem is about implementing actually

[11:50:12.0000] <volkmar>
Hixie_: as you know our implementation is different from what you spec'd

[11:50:20.0000] <volkmar>
and we have to find a common ground

[11:50:56.0000] <volkmar>
I would like to do that before Firefox Android with that feature goes in Beta channel and before Firefox OS ship (and we already branched)

[11:53:37.0000] <volkmar>
Hixie_: is iOS or Android implementing something allowing latin-name?

[11:54:08.0000] <Hixie_>
android has like a zillion possible combinations for its keyboard

[11:54:12.0000] <Hixie_>
not sure about iOS

[11:54:35.0000] <Hixie_>
i don't think anything in android yet supports doing "van" right out of the box, but i'd be surprised if it couldn't be implemented on top

[11:56:08.0000] <volkmar>
Hixie_: my point is that if the main smartphone OS's don't have this implemented, that might mean there is no such use case

[11:56:20.0000] <volkmar>
or putting that on the keyboard isn't the good solution

[11:56:24.0000] <Hixie_>
there's obviously a use case for name input

[11:57:02.0000] <volkmar>
Hixie_: yes, but I think autocompletion or a type would be the real solution

[11:57:05.0000] <Hixie_>
there's use cases for tons of things that smartphone OSes doesn't implement

[11:57:22.0000] <Hixie_>
type, autocomplete, and inputmode are orthogonal

[11:57:33.0000] <Hixie_>
i don't disagree that a type would be interesting

[11:57:36.0000] <Hixie_>
but it's a different discussion

[11:57:59.0000] <Hixie_>
e.g. we have a tel inputmode and a tel input type and a tel autocomplete type

[11:58:20.0000] <volkmar>
Hixie_: I think the tel inputmode is silly actually

[12:00:51.0000] <Hixie_>
volkmar: ok

[12:00:56.0000] <Hixie_>
volkmar: not sure what to tell you

[12:01:28.0000] <volkmar>
Hixie_: I wanted to discuss about those latin-* values

[12:02:17.0000] <volkmar>
right now, I feel like they are more listing use cases than behaviour but I wonder if we shouldn't have explicit values

[12:02:37.0000] <volkmar>
latin-prose vs latin-autocapitalized for example

[12:03:27.0000] <volkmar>
hmm

[12:03:43.0000] <Hixie_>
latin-autocapitalized (or rather, latin-titlecase, which is shorter) is a different use case / behaviour than latin-name, so i think they are sparate topics. But I'm happy to add -titlecase if it's something we should support, and i'm happy to drop -name if nobody is going to implement it.

[12:04:27.0000] <volkmar>
oh, by autocapitalized, I mean compared to latin-prose, which means capitalized at the beginning of each sentence

[12:05:06.0000] <Hixie_>
latin-prose means more than just capitalise sentences, it means predict words, etc, too

[12:05:31.0000] <volkmar>
Hixie_: that's the 'latin' part in the value that does that, right?

[12:05:48.0000] <volkmar>
latin-* should predict words, afaiui

[12:05:50.0000] <Hixie_>
no, 'latin' alone doesn't do word prediction. see the descriptions in the spec.

[12:05:56.0000] <Hixie_>
(latin-name doesn't either)

[12:06:14.0000] <volkmar>
Latin-script input in the user's preferred language(s), with some typing aids enabled (e.g. text prediction).

[12:06:24.0000] <Hixie_>
(or rather, does, but from contact list rather than dictionary. or some such. it's up to the UA.)

[12:06:29.0000] <volkmar>
there is a difference between text and word prediction?

[12:07:05.0000] <Hixie_>
the point is that the spec doesn't require any particular behaviour, this is up to the UA

[12:07:14.0000] <Hixie_>
that's why we have to give use cases, not behaviour

[12:08:36.0000] <Hixie_>
i have to head out. if you have feedback, please send it to the list or file a bug; if it's urgent let me know and i'll prioritise it

[12:09:07.0000] <volkmar>
Hixie_: ok, thanks :)

[12:48:18.0000] <annevk>
AryehGregor: fwiw, the argument for createElement creating elements in the HTML namespace is that you really ought to be using createElementNS for XML documents

[14:45:22.0000] <SamB_MacG5>
/me laments the poor font coverage of &lang; and &rang;

[15:03:13.0000] <Hixie_>
is there a spec that deals with onbeforecopy and stuff?

[16:03:25.0000] <Hixie_>
as far as i can tell from http://gavinsharp.com/irc/whatwg.html zcorpan is online pretty much exactly when i'm not.

[16:04:05.0000] <TabAtkins>
I'm not far from overtaking hsivonen, excellent.

[16:05:05.0000] <TabAtkins>
Damn, if you combine in the lines from TabAtkins_, I'm definitely ahead.

[16:05:38.0000] <Hixie_>
i suppose i could _e-mail_ him

[16:05:40.0000] <TabAtkins>
gavin: Yo, Gavin, mind registering my aliases of TabAtkins_ and TabAtkins__ with TabAtkins?

[16:16:20.0000] <gavin>
TabAtkins: http://svn.gavinsharp.com/viewvc.cgi/pisg/freenode.cfg.inc?r1=56&r2=62&diff_format=h

[16:16:36.0000] <gavin>
I kicked off another off-cycle run, should be updated in 10 minutes or so

[16:16:41.0000] <gavin>
probably less than that

[16:16:58.0000] <TabAtkins>
Cool, thanks!

[16:17:57.0000] <gavin>
oh, it's done now

[16:18:10.0000] <gavin>
hmm, didn't work

[16:22:23.0000] <gavin>
that's weird

[16:22:30.0000] <gavin>
doesn't seem to want to merge you with TabAtkins_

[16:23:19.0000] <TabAtkins>
You sure that that attribute accepts regexes?

[16:23:40.0000] <TabAtkins>
Or rather, if it *does* accept regexes, you miswrote it. ^_^

[16:23:47.0000] <gavin>
it's not regexps, it's some weird glob-like thing

[16:23:52.0000] <TabAtkins>
Ah, weird.

[16:23:58.0000] <gavin>
trying again with a different variant

[16:24:04.0000] <TabAtkins>
Well, just merge me with TabAtkins_ explicitly.  I'm very rarely TabAtkins__

[16:25:46.0000] <gavin>
I tried that, doesn't work

[16:25:52.0000] <gavin>
something weird must be going on


2012-10-18
[17:38:37.0000] <smaug____>
could someone remind me what is the use case for <iframe srcdoc="..."> which can't be handled with data urls?

[17:39:49.0000] <TabAtkins>
srcdoc has much easier escaping requirements.

[17:40:16.0000] <TabAtkins>
To securely escape @srcdoc, you only need to escape your quoting character.  (You also want to escape &, but that's not necessary for security.)

[17:41:37.0000] <smaug____>
but no different use cases

[17:42:07.0000] <smaug____>
just thinking whether to implement it

[18:29:09.0000] <Hixie_>
smaug____: srcdoc="" is basically equivalent to data:, but has the huge advantage that it is actually readable in the source (e.g. you don't have to escape ' ').

[18:33:08.0000] <TabAtkins>
Also, if you're using DOM to set it, it's literally nothing more than "iframe.srcdoc = text;".  No escaping at all is required.

[18:34:19.0000] <Hixie_>
indeed

[18:34:43.0000] <Hixie_>
so in conclusion, it's just convenience, but it's _really_ much more convenient. :-)

[18:36:44.0000] <smaug____>
k

[22:10:00.0000] <annevk>
krijn: server does not appear to be responding

[22:15:42.0000] <annevk>
TabAtkins: not sure that being nr. 1 on the IRC stats is actually an accomplishment or just an indication I don't do much at all :-)

[23:05:08.0000] <annevk>
hmm

[23:05:17.0000] <annevk>
should TextEncoder support encoding to utf-16/ut16-be?

[23:05:37.0000] <annevk>
utf-16be doh

[23:32:03.0000] <annevk>
optional DOMString label = "utf-8" // this is fine right?

[23:36:41.0000] <hsivonen>
sigh. code is so broken

[23:37:47.0000] <hsivonen>
The HTML WG generates too much bug spam these days. I wonder if it’s possible to create a filter that shows only the resolutions that need objecting to.

[23:38:01.0000] <hsivonen>
maybe I should send it all to /dev/null

[23:38:06.0000] <hsivonen>
and public-html, too

[00:02:58.0000] <Stevef__>
hsivonen: morning, on list you wrote "if the <main>element is used in a conforming way, it won't have a <p> element preceding it anyway." what effect does having the p element preceding have on parsing?

[00:04:04.0000] <annevk>
Stevef__: <p> is normally closed by block-level elements

[00:04:16.0000] <annevk>
euh I mean, whatever we call block-level these days :)

[00:05:22.0000] <Stevef__>
annevk: ah OK understand now, thanks!

[00:05:53.0000] <hsivonen>
Stevef__: what annevk said

[00:07:34.0000] <annevk>
I don't really understand the fear of changing the parser btw

[00:07:53.0000] <annevk>
I kinda thought the whole point of having it defined was so we could make changes

[00:11:20.0000] <hsivonen>
annevk: it doesn’t really help authors to get subtly different results in parsers of different vintage

[00:11:51.0000] <hsivonen>
annevk: with with the UA stylesheet, you can always deal with differences by putting main { display: none; } in your author stylesheet

[00:12:12.0000] <hsivonen>
annevk: I thought the point of having it defined was making it the same everywhere

[00:12:57.0000] <hsivonen>
so I search for list:(public-html.w3.org) in Gmail and it doesn’t find anything older than September 28

[00:13:01.0000] <hsivonen>
bug or feature?

[00:13:30.0000] <Stevef__>
hsivonen: :-)

[00:13:34.0000] <annevk>
I kinda see it as making the baseline much stronger, but I don't like clinging to the baseline that much. If it makes sense to introduce a parser change, I'm all for another five years of instability around that particular feature.

[00:14:10.0000] <annevk>
Introducing <intent> for instance does not seem that harmful to me and long term it's probably better. (Assuming we want intents at all, I don't really have an opinion on that.)

[00:16:59.0000] <hsivonen>
annevk: making <main> close <p> would be relatively harmless and would have a transition story

[00:17:08.0000] <hsivonen>
annevk: <intent> has no sane transition story

[00:17:25.0000] <hsivonen>
annevk: it worries me that you think <intent> would not be harmful

[00:17:48.0000] <annevk>
https://twitter.com/miketaylr/status/258613311057309696 this is great

[00:18:26.0000] <annevk>
hsivonen: now all browsers are updating having a transition story seems less necessary, breaking compat is still to be avoided

[00:20:24.0000] <hsivonen>
annevk: Android stock and IE are updating but not cleaning up after themselves yet

[00:21:00.0000] <hsivonen>
/me also expects time warp-stuck copies of Presto to live on all sorts of devices

[00:21:37.0000] <annevk>
obviously it's better to not introduce breakage, but the reality is that a lot of things will be broken on those older browsers already

[00:22:17.0000] <annevk>
and the sites where these new features would see adoption first are likely to already be rendering badly

[00:24:15.0000] <annevk>
The main reason I think breakage is okay is that I think usability and aesthetics of the APIs we introduce matter

[00:28:44.0000] <annevk>
Anyone know why http://wiki.whatwg.org/wiki/StringEncoding#TextDecoder decode()'s first argument would be optional?

[00:29:14.0000] <annevk>
gonna change that for now

[00:31:15.0000] <hsivonen>
I wonder why cwilso rejoined the HTML WG

[00:34:16.0000] <annevk>
distributed extensibility!

[00:38:38.0000] <MikeSmith_>
hsivonen: if you have suggestions for changing the bugmail config for public-html, please tell the chairs

[00:39:15.0000] <MikeSmith_>
right now as far as I can recall it's set up so that only messages for new bugs go to the list

[00:39:37.0000] <MikeSmith_>
I'd rather no bugmail at all went to the list

[00:41:11.0000] <MikeSmith_>
btw I thought there was user option in modern bugzilla for subscribing to bugmail for specific components

[00:42:01.0000] <MikeSmith_>
I can't find any option for it in the version we're running now

[00:42:08.0000] <MikeSmith_>
which I think is 4.2.3

[00:55:01.0000] <hsivonen>
MikeSmith_: I have already told the chairs.

[00:55:33.0000] <hsivonen>
MikeSmith_: My communication with the chairs does not seem to be useful.

[00:55:33.0000] <MikeSmith_>
ah ok

[00:55:58.0000] <hsivonen>
MikeSmith_: It seems it would be rational to stop communicating with the Chairs and go write some software.

[00:56:04.0000] <MikeSmith_>
the last time I tried to have a discussion about it the response I got was "nobody else has complained"

[01:14:30.0000] <zcorpan>
krijn: down?

[01:14:41.0000] <krijn>
Meh, yeah

[01:17:56.0000] <hsivonen>
/me realizes public-webapps has bugspam, too

[01:18:10.0000] <jgraham>
I quite like that bugspam

[01:18:19.0000] <krijn>
I'm more into hugspam

[01:18:30.0000] <hsivonen>
/me creates a filter to make IndexedDB disappear

[01:20:12.0000] <hsivonen>
no wonder why my Bugzilla label was always so full of stuff I didn’t want to see

[01:20:45.0000] <hsivonen>
(I already had a generic filter to move discussion list bugspam among all other bugmail)

[01:22:56.0000] <zcorpan>
Hixie_: i read logs, so you can just pretend i'm here and i'll respond 12h later :-P

[01:23:42.0000] <zcorpan>
(well i *usually* reads logs; email is a safer bet)

[01:24:04.0000] <hsivonen>
zcorpan: logs are not responding

[01:24:22.0000] <zcorpan>
hsivonen: logbot is

[01:29:23.0000] <zcorpan>
anyone object to me removing this dir? http://w3c-test.org/webapps/tests/

[01:29:57.0000] <jgraham>
Not me

[01:30:14.0000] <zcorpan>
a bit annoying that html and webapps have different structure

[01:30:23.0000] <zcorpan>
both broken

[01:30:33.0000] <jgraham>
I was going to say :)

[01:30:41.0000] <Ms2ger>
Yes

[01:30:56.0000] <zcorpan>
can we fix it? what should it be like instead?

[01:31:01.0000] <Ms2ger>
I added that dir back because links were broken

[01:31:22.0000] <zcorpan>
i can put in a htaccess that redirects

[01:31:34.0000] <Ms2ger>
If that works, sure

[01:31:39.0000] <jgraham>
Ms2ger: Can't you fix the links?

[01:34:26.0000] <annevk>
zcorpan: wait, is that the dir with XHR in it?

[01:34:39.0000] <annevk>
zcorpan: because then you're breaking links on w3.org

[01:34:50.0000] <annevk>
zcorpan: but maybe I should stop caring about that

[01:36:24.0000] <zcorpan>
annevk: look closer

[01:37:08.0000] <zcorpan>
which links are we talking about?

[01:40:00.0000] <annevk>
the link towards http://w3c-test.org/webapps/tests/XMLHttpRequest/info.htm

[01:40:47.0000] <annevk>
from the XHR CR

[01:40:55.0000] <annevk>
which is kinda impossible to find right now, but it did exist

[01:41:14.0000] <annevk>
ah, http://www.w3.org/TR/XMLHttpRequest1/

[01:41:36.0000] <annevk>
http://www.w3.org/TR/2010/CR-XMLHttpRequest-20100803/ "test suite"

[01:51:34.0000] <SimonSapin>
"There is a good chance a test suite for XMLHttpRequest will be placed around here." :)

[01:54:13.0000] <zcorpan>
ok, i'll put in a 301 redirect from http://w3c-test.org/webapps/tests/XMLHttpRequest/info.htm to http://w3c-test.org/webapps/XMLHttpRequest/tests/submissions/Opera/info.htm

[02:01:39.0000] <annevk>
the original location was much better :-)

[02:04:26.0000] <zcorpan>
sigh. why does the redirect not work?

[02:16:05.0000] <zcorpan>
annevk: maybe say "Implementations that do not implement the DOM" instead of "Non-browser implementations"?

[02:17:24.0000] <annevk>
hmm, maybe non-JavaScript implementations but I would not want to require Node for instance...

[02:21:15.0000] <annevk>
Ms2ger: liked my hack to Anolis?

[02:21:33.0000] <annevk>
Ms2ger: I think something went wrong again with branches btw

[02:21:37.0000] <annevk>
Ms2ger: sucky branches

[02:22:49.0000] <zcorpan>
annevk: is the BOM not consumed in streaming mode?

[02:23:14.0000] <annevk>
zcorpan: it is

[02:23:43.0000] <annevk>
zcorpan: there's a subtle difference between the streaming flag and the stream variable and I abuse it

[02:24:34.0000] <zcorpan>
annevk: i'm confused

[02:25:16.0000] <annevk>
the first time you invoke decode() with stream set to true the streaming flag will be unset

[02:25:30.0000] <annevk>
the second time you invoke decode() you don't want a BOM to be removed anymore

[02:26:01.0000] <annevk>
unless I guess you feed it one byte at a time

[02:26:32.0000] <Ms2ger>
annevk, haven't looked yet

[02:26:46.0000] <zcorpan>
oh, i see. it would be less confusing if that was called something like "decode has been invoked before" or some such

[02:26:48.0000] <annevk>
if feeding it one byte at a time is a reasonable scenario we'll need a "seen BOM flag" too

[02:27:09.0000] <zcorpan>
ah. yeah.

[02:27:29.0000] <zcorpan>
that should just work, really

[02:27:51.0000] <zcorpan>
i mean, stream should work with arbitrary chunks

[02:28:07.0000] <annevk>
I guess yeah, but then I need even more changes I just realised :/

[02:30:25.0000] <jgraham>
Yeah, you have to work feeding it one byte at a time

[02:31:37.0000] <zcorpan>
annevk: "If encoding is failure, or is none of utf-8, utf-16, and utf-16be, throw a "EncodingError"." doesn't NotSupportedError make more sense here?

[02:32:56.0000] <annevk>
the annoying thing is that then I need to define the actual buffer semantics

[02:33:35.0000] <annevk>
zcorpan: that comment seems appropriate for the list

[02:34:27.0000] <zcorpan>
annevk: is there a bugzilla component?

[02:34:36.0000] <annevk>
zcorpan: doesn't test.w3.org exist for cross-origin tests?

[02:34:43.0000] <annevk>
zcorpan: yes

[02:35:01.0000] <annevk>
zcorpan: not sure jsbell will see that though

[02:35:35.0000] <jgraham>
Cross origin tests?

[02:35:36.0000] <zcorpan>
annevk: www1.w3c-test.org exists for cross-origin tests. w3c-test.org was introduced because tests can't be trusted to not do damage to w3.org.

[02:35:52.0000] <jgraham>
Ah, what zcorpan said

[02:35:59.0000] <jgraham>
Gazumped

[02:36:05.0000] <zcorpan>
annevk: can you add the file bug script?

[02:36:13.0000] <annevk>
it's there

[02:36:46.0000] <jgraham>
Oh, that word doesn't actually seem to have the sense I thought it did

[02:36:51.0000] <annevk>
oops, doesn't link to the right place

[02:38:14.0000] <zcorpan>
jgraham: what did you think it means? (i haven't heard that word before)

[02:39:42.0000] <jgraham>
I was thinking it could be used in a generic sense to mean that  you were working on something, and at the last minute someone else came in first with something better than your offering

[02:40:07.0000] <annevk>
zcorpan: fixed link

[02:40:23.0000] <annevk>
will fix the decode situation later

[02:40:29.0000] <jgraham>
But it seems that it is more narrowly defined to be about commercial transactions

[02:40:42.0000] <annevk>
need some kind of decode algorithm that keeps track of the buffer

[02:40:53.0000] <annevk>
:( :( :(

[02:44:39.0000] <zcorpan>
annevk: filed a bug

[02:47:28.0000] <krijn>
Hmpf, power outage, again

[02:49:01.0000] <zcorpan>
krijn: you should install a backup battery

[02:58:18.0000] <hsivonen>
long ISSUE is long: http://www.w3.org/2001/tag/group/track/issues/57

[03:06:16.0000] <zcorpan>
i read the description and i don't understand what the issue is

[03:21:50.0000] <hsivonen>
The Microdata API has revealed multiple incompatibilities with Web content after Firefox 16 went to release

[03:22:14.0000] <hsivonen>
I wonder why these weren’t already discovered and reported by Opera

[03:22:27.0000] <jgraham>
hsivonen: Examples?

[03:22:53.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=763229

[03:23:01.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=801988

[03:23:09.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=802548

[03:23:26.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=800850

[03:23:35.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=802874

[03:31:09.0000] <jgraham>
hsivonen: Not sure if/why we didn't find those (maybe they got site-patched?), but they mostly seem to have been solved by evangelism

[03:31:44.0000] <jgraham>
Would be really nice if people could be convinced that making up their own attributes/elements is badness though

[03:34:11.0000] <zcorpan>
as well as setting properties on elements, right?

[03:57:48.0000] <jgraham>
Yeah, generally messing with platfoem objects except in the narrow list of safe ways is badness

[04:09:08.0000] <krijn>
annevk: heb jij mijn html5.org pass nog ergens?

[04:09:31.0000] <divya>
jgraham: likely they just square away opera with ie

[04:28:24.0000] <smaug____>
control.labels isn't live, right?

[04:54:39.0000] <zcorpan>
smaug____: why would it not be?

[04:58:34.0000] <smaug____>
zcorpan: I don't see anything in the spec saying it would be

[05:00:06.0000] <smaug____>
ah, by default it is live

[05:00:08.0000] <zcorpan>
smaug____: "Unless otherwise stated, a collection must be live." http://dom.spec.whatwg.org/#concept-collection

[05:00:27.0000] <smaug____>
readability is less than good

[05:20:28.0000] <MikeSmith_>
zcorpan: http://w3c-test.org/quirks-mode/

[05:20:39.0000] <MikeSmith_>
sorry it took me so long to get around to it

[05:21:13.0000] <MikeSmith_>
looks like everything is there now as expected

[05:21:14.0000] <MikeSmith_>
http://w3c-test.org/quirks-mode/tests/

[05:21:18.0000] <zcorpan>
MikeSmith_: thanks!

[05:21:47.0000] <MikeSmith_>
zcorpan: and now I'm trying to figure out how I can get the redirect set up on test.w3.org

[05:22:03.0000] <zcorpan>
MikeSmith_: cool

[05:25:14.0000] <annevk>
krijn: kan 'm resetten

[05:25:19.0000] <annevk>
krijn: doe ik nu even

[05:25:26.0000] <hsivonen>
oh great. Gecko detects BOMless UTF-16 for XML even though the spec says it’s prohibited

[05:25:46.0000] <hsivonen>
I wonder what kind of YSoD doom would ensue if I fixed that

[05:26:06.0000] <annevk>
krijn: wil je ftp houden of liever ssh?

[05:28:36.0000] <annevk>
noticing encoding issues on that w3c-test.org/quirks-mode URL

[05:29:13.0000] <hsivonen>
annevk: btw, the .txt files for the Encoding Standard need charset=UTF-8 (or BOM)

[05:30:42.0000] <zcorpan>
hsivonen: does the html spec support bomless utf-16 for html? last i checked i couldn't find anything

[05:31:18.0000] <hsivonen>
zcorpan: it doesn’t (except potentially via the heuristic detector black box)

[05:31:29.0000] <zcorpan>
ok

[05:31:52.0000] <zcorpan>
do you know what the browser landscape looks like offhand?

[05:32:03.0000] <hsivonen>
I don’t

[05:32:08.0000] <annevk>
hsivonen: but the files seem to work fine?

[05:32:22.0000] <annevk>
ooh, only in Opera

[05:32:32.0000] <hsivonen>
Gecko tries to detect the case where the file is all-Basic Latin BOMless UTF-16

[05:32:45.0000] <hsivonen>
probably an overreaction

[05:32:58.0000] <zcorpan>
hsivonen: before fixing gecko to match the xml spec, might be worth it to see what happens in other browsers and in html. maybe the xml spec is just wrong?

[05:33:06.0000] <hsivonen>
if we reacted like that to Microdata, we’d have nuked the Microdata API by now

[05:33:45.0000] <hsivonen>
zcorpan: yeah. testing other browsers is just more annoying than looking at the Gecko code

[05:35:04.0000] <zcorpan>
annevk: opera detects utf-8. maybe we should drop that

[05:35:30.0000] <hsivonen>
in other news, Gecko looks broken in the case where the BOM or the XML declaration isn’t fully within the first network buffer

[05:35:37.0000] <annevk>
got some very bad latency over ssh :/

[05:36:24.0000] <hsivonen>
Same thing with the CSS parser, it looks like, unless I’m missing some buffering

[05:36:50.0000] <hsivonen>
looks like I’m the only one in the habit of making my BOM sniffing resilient against buffer boundaries

[05:37:18.0000] <annevk>
hsivonen: I think I fixed it by adding AddDefaultCharset utf-8

[05:38:07.0000] <annevk>
whoa, AddDefaultCharset defaults to iso-8859-1

[05:38:46.0000] <hsivonen>
annevk: thanks

[05:39:07.0000] <hsivonen>
annevk: IIRC, Gecko works around that Apache stubbornness

[05:39:46.0000] <annevk>
zcorpan: it's causing breakage in other browsers!

[05:42:01.0000] <odinho>
annevk: mosh -- just installed it on client and server because I've been doing lots'a 3G lately. It makes remote ssh-ing smooth. :-)

[05:44:04.0000] <MikeSmith_>
zcorpan: OK set up http://test.w3.org/* to 301 to http://w3c-test.org/*

[05:44:49.0000] <zcorpan>
MikeSmith_: thanks. seems the redirect prepends a slash to the new url

[05:44:53.0000] <zcorpan>
in the path

[05:45:05.0000] <MikeSmith_>
yeah saw that I dunno why

[05:45:10.0000] <zcorpan>
how did you implement it?

[05:45:21.0000] <MikeSmith_>
RedirectMatch permanent ^(.*)$ http://w3c-test.org/$1

[05:45:52.0000] <zcorpan>
I'd do: Redirect 301 / http://w3c-test.org/

[05:46:13.0000] <zcorpan>
but otherwise dropping the slash before $1 would work i guess

[05:46:16.0000] <MikeSmith_>
ok lemme try that

[05:46:21.0000] <MikeSmith_>
ah yeah

[05:47:23.0000] <MikeSmith_>
OK slash shoudl be gone now

[05:48:03.0000] <zcorpan>
thanks!

[05:48:59.0000] <zcorpan>
MikeSmith_: i had sent an email about this (and the other redirect issue) http://www.w3.org/mid/op.wmdajyzjidj3kv⊙sl

[05:49:09.0000] <MikeSmith_>
yeah saw that

[05:49:13.0000] <MikeSmith_>
plh pinged me about it

[05:50:29.0000] <MikeSmith_>
hmm the link in that spec is still busted

[05:51:10.0000] <MikeSmith_>
since the tests subdirectory is gone

[05:52:08.0000] <MikeSmith_>
seems it should just get redirected to http://w3c-test.org/webapps/XMLHttpRequest/tests/ now, right

[05:52:11.0000] <MikeSmith_>
?

[05:52:40.0000] <MikeSmith_>
I think if you add a redirect in an .htaccess in the repo, that should work

[06:01:40.0000] <zcorpan>
i did that, it didn't work

[06:02:13.0000] <zcorpan>
http://dvcs.w3.org/hg/webapps/rev/f5791dfb4e7b

[06:02:18.0000] <MikeSmith_>
ok

[06:02:26.0000] <MikeSmith_>
lemme check

[06:03:47.0000] <zcorpan>
maybe redirects are not allowed except for the root .htaccess? dunno if apache has such a setting

[06:03:52.0000] <MikeSmith_>
ah

[06:03:57.0000] <MikeSmith_>
yeah, probably

[06:04:03.0000] <MikeSmith_>
AllowOptions setting

[06:07:48.0000] <hsivonen>
about:blank is defined to be UTF-8, right?

[06:09:47.0000] <jgraham>
http://tools.ietf.org/html/draft-holsten-about-uri-scheme-06 says so, at least

[06:12:09.0000] <hsivonen>
ok. thanks

[06:14:46.0000] <MikeSmith_>
zcorpan: if you change it to Redirect 301 /webapps/tests/XMLHttpRequest/info.htm http://w3c-test.org/webapps/XMLHttpRequest/tests/submissions/Opera/info.htm

[06:14:49.0000] <MikeSmith_>
that should work

[06:15:06.0000] <MikeSmith_>
absolute path

[06:28:47.0000] <annevk>
zcorpan: how do you feel about TypeError?

[06:29:23.0000] <zcorpan>
annevk: you mean using an enum?

[06:29:30.0000] <annevk>
no just throwing TypeError

[06:30:03.0000] <annevk>
as if it was an enum, basically

[06:30:12.0000] <zcorpan>
i guess that works

[06:30:35.0000] <annevk>
cool

[06:54:49.0000] <annevk>
i fixed the stream thingie too I think

[06:55:40.0000] <annevk>
it should prolly be done in a nicer way though, if someone sees a way to rewrite the conceptual interfaces that'd be great

[07:12:15.0000] <jgraham>
http://programmers.stackexchange.com/questions/168751/is-the-use-of-utf8-preferable-to-utf8-true

[07:23:34.0000] <annevk>
interesting answer

[07:31:38.0000] <zcorpan>
MikeSmith_: seems the redirect works now. thanks!

[07:32:30.0000] <MikeSmith_>
cool

[07:37:32.0000] <zcorpan>
how was it again, setting event handler idl attributes to non-functions means it gets set to null?

[07:51:28.0000] <annevk>
think so

[08:25:52.0000] <annevk>
zewt: optional might then make sense, not sure about nullable

[08:27:24.0000] <annevk>
but I guess making input optional makes sense

[09:25:11.0000] <krijn>
annevk: maakt niet uit, ftp is goed genoeg denk ik

[10:36:32.0000] <zcorpan>
annevk: did specification-data move?

[11:30:43.0000] <annevk>
zcorpan: yes

[11:30:56.0000] <annevk>
zcorpan: https://github.com/whatwg/xref

[11:35:44.0000] <zcorpan>
ok, thanks. cloned.

[11:37:03.0000] <annevk>
zcorpan: you want to be a team member?

[11:37:14.0000] <zcorpan>
does that give me write access?

[11:37:20.0000] <annevk>
yeah

[11:37:30.0000] <zcorpan>
sure

[11:37:35.0000] <annevk>
gives you access to all things WHATWG on GitHub

[11:37:51.0000] <annevk>
simonp is you?

[11:37:59.0000] <zcorpan>
no

[11:38:02.0000] <zcorpan>
zcorpan

[11:38:39.0000] <annevk>
zcorpan: zcorpan gives a 500?

[11:38:47.0000] <zcorpan>
yeah i noticed

[11:39:01.0000] <zcorpan>
no idea why

[11:39:06.0000] <zcorpan>
i'm logged in as "zcorpan"

[11:39:27.0000] <annevk>
well you should have access now

[11:40:16.0000] <annevk>
zcorpan: I also pushed an update to Anolis so you can now reuse the same database for several specifications

[11:40:26.0000] <annevk>
zcorpan: all of the WHATWG standards have already been updated to that effect

[11:41:24.0000] <smaug____>
anyone know if there is js version of Graphviz' dot

[12:26:53.0000] <pablof>
is there a repo somewhere for the eventsource spec?

[12:46:34.0000] <Hixie_>
pablof: svn.whatwg.org, it's just part of HTML

[12:47:02.0000] <pablof>
thanks

[12:58:24.0000] <JonathanNeal>
In the Media Query language, if we're matching anything 30em we use (width: 30em), and if we're matching anything 30em or smaller we use (max-width: 30em), but what if we're matching anything less than 30em?

[13:00:14.0000] <Philip`>
(max-width: 29.999em) ?

[13:02:05.0000] <JonathanNeal>
That's the work around, definitely.

[13:02:25.0000] <JonathanNeal>
Has anyone suggested language that targets "less than"?

[13:03:05.0000] <Hixie_>
what's the use case?

[13:03:14.0000] <Hixie_>
(www-style would be the appropriate forum for this discussion, btw)

[13:09:15.0000] <JonathanNeal>
is that an email group, Hixie_?

[13:09:27.0000] <JonathanNeal>
or rather, where is www-style?

[13:10:48.0000] <JonathanNeal>
Hixie_: the usecase is defining multiple breakpoints based on the same value. The problem is that defining anything 30em or smaller is easy, but defining anything less than 30em is hard, you end up appending all these 9's.

[13:11:28.0000] <annevk>
JonathanNeal: http://lists.w3.org/Archives/Public/www-style/

[13:11:57.0000] <JonathanNeal>
@media (max-width: 30em) {} @media (min-width: 30.0001em) && (max-width: 60em) {}

[13:11:58.0000] <Hixie_>
JonathanNeal: what anne said (sorry, was afk)

[13:12:26.0000] <Hixie_>
JonathanNeal: i don't understand why you can't just do a series of max breakpoints

[13:12:43.0000] <Hixie_>
JonathanNeal: like, max 300px, max 600px, max 900px, anything above

[13:14:10.0000] <JonathanNeal>
because then i have to manage more offsets, between the unmq'd stylesheet and now each mq matching stylesheet after that.

[13:14:43.0000] <Hixie_>
come again?

[13:14:49.0000] <Hixie_>
i don't follow

[13:24:03.0000] <JonathanNeal>
Sorry, Hixie_, I think there should be something like < and > (albeit those symbols may conflict with X/HTML). I thought something may have been pitched.

[13:32:28.0000] <JonathanNeal>
Like @media (max-width: 30em) {} @media (gt-width: 30em) && (max-width: 50em) {}

[13:38:18.0000] <JonathanNeal>
alternatively, above-width, below-width, over-width, under-width.

[13:41:31.0000] <JonathanNeal>
I like above and below because they have the name number of letters and fit nicely beside max and min.

[14:53:31.0000] <SamB_MacG5>
/me wishes file:// had a CORS-equivalent ...

[16:34:26.0000] <Hixie_>
/me deals with some feedback on the spec that makes him think he should require that everyone who comments on the spec should first read the spec and take a test

[16:34:58.0000] <Hixie_>
(though actually, the number of times people suggest something that hte spec already says is remarkably low, all things considered)

[16:49:19.0000] <SamB_MacG5>
Hixie_: that wouldn't be a good plan for clarification suggestions ...

[16:49:32.0000] <SamB_MacG5>
/requests


2012-10-19
[17:22:23.0000] <TabAtkins>
Hixie_: <iframe seamless> imports the stylesheets from the surrounding document, but selectors still don't match across the iframe boundaries, right?

[17:23:20.0000] <kennyluck>
I hope someone can answer some fundamental questions about the flex layout that I still haven't figured out...

[17:23:25.0000] <TabAtkins>
Yo.

[17:23:41.0000] <kennyluck>
What's the point of having 'flex-basis'?

[17:24:00.0000] <kennyluck>
When it usually just means 'width' and 'height'?

[17:24:05.0000] <kennyluck>
s/and/or/

[17:24:13.0000] <TabAtkins>
It abstracts width/height into the flex axis, so you don't have to worry about which property to use in the common case.

[17:24:35.0000] <TabAtkins>
It also lets you cascade width/height and flexibility separately if you wish.

[17:27:18.0000] <kennyluck>
TabAtkins, hmm… ok, thanks. What about this, suppose I want to set the flex basis of an element to, say, 100px, am I more encouraged to do 'flex: 1 100px' than 'flex:　1auto; width: 100px'?

[17:27:41.0000] <TabAtkins>
Either one works.  If you don't specifcially need the cascading ability, the former is simpler, so might as well use that.

[17:28:52.0000] <kennyluck>
TabAtkins, is there an good use case of casding width and flex-basis separately?

[17:29:04.0000] <TabAtkins>
Same as cascading anything separately.

[17:29:06.0000] <kennyluck>
Not I don't believe in it. Just want to know.

[17:29:20.0000] <TabAtkins>
It's one of those fundamental abilities that is useful sometimes.  Dont' have any specific examples off the top of my head.

[18:37:29.0000] <Hixie_>
TabAtkins: nothing will ever match * > :root, right

[23:05:06.0000] <annevk>
So I'm thinking about URL conformance, does it even make sense to have a valid URL concept without caring about the scheme?

[23:07:32.0000] <annevk>
Otherwise you get this thing where "data:test" is "valid" but actually it is not and should be flagged

[23:08:24.0000] <annevk>
And you could even have "data:te st" which is in "error", but comes out of parsing as "data:te%20st" which is "valid" but actually it is not and should be flagged

[23:11:04.0000] <annevk>
What seems kind of consistent is that you have a "scheme", a data part, and a "fragment"

[23:11:15.0000] <annevk>
with the data part being dependent upon the "scheme"

[23:30:40.0000] <annevk>
btw, if you type in "data:test" in Opera and hit enter, it hangs a little

[23:31:28.0000] <annevk>
zcorpan: is there an open bug on removing media from <source>?

[23:31:58.0000] <zcorpan>
annevk: i thought there was but couldn't find it from a 1-minute search

[23:36:04.0000] <annevk>
zcorpan: https://www.w3.org/Bugs/Public/show_bug.cgi?id=19619 (filed a new one)

[00:01:18.0000] <annevk>
Hixie_: the default styles for <pre><code> yield in too much orange: http://encoding.spec.whatwg.org/#api

[00:01:30.0000] <annevk>
Hixie_: even for the Dutch

[00:01:52.0000] <zcorpan>
all: default; seems scary

[00:20:19.0000] <annevk>
Chrome's debugger seems to have the ability to modify a script, but how do I run the script after I made the modifications?

[00:21:03.0000] <annevk>
In particular I'm trying to figure out why dfn.js fails for http://url.spec.whatwg.org/

[00:21:04.0000] <jgraham>
/me thought annevk had his text editor set up to orange-on-orange anyway

[00:21:42.0000] <annevk>
maybe the easiest is for me to simply copy dfn.js and do the thing locally

[00:22:00.0000] <jgraham>
Undefined variable getCookie?

[00:23:24.0000] <jgraham>
(which means that the init function is never called afaict)

[00:25:30.0000] <jgraham>
Oh still doesn't seem to work if I "fix" that

[00:26:36.0000] <annevk>
the problem is a reference to "constructor"

[00:27:52.0000] <annevk>
most other specs I write call that bit "constructors"

[00:31:33.0000] <annevk>
jgraham: fwiw, the getCookie thing also still fails, but doesn't cause total breakage

[00:31:49.0000] <annevk>
I'll just name it "Constructors" for now; arguably it's several anyway because of the optional argument

[00:41:49.0000] <zcorpan>
TabAtkins: you realize you made yourself look like a dick on twitter over the "authors" thing?

[00:47:13.0000] <hsivonen>
so many holes in XML enforcement

[00:47:30.0000] <hsivonen>
bogus charsets work as in HTML instead of causing the YSoD

[00:48:47.0000] <hsivonen>
I wonder what kind of breakage would ensue if I made this tough compliant.

[00:48:55.0000] <hsivonen>
s/tough/stuff/

[00:49:23.0000] <annevk>
hsivonen: we can also change the respective encodings to emit a FFFD instead of a decoder error

[00:49:45.0000] <hsivonen>
I mean bogus charset names

[00:50:55.0000] <hsivonen>
I don't have an opinion on what we should do on either invalid data or bogus names. For now, I try not to fix too many bugs at the same time to get better regression windows.

[00:51:32.0000] <hsivonen>
This old parser code is annoying to look at. When I look at it to fix one bug, I see three more.

[00:52:07.0000] <hsivonen>
I should get around to rewriting all this.

[00:53:25.0000] <zcorpan>
hsivonen: seems chrome shows YSoD. (not opera) http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1854

[00:53:42.0000] <zcorpan>
haven't tested http content-type

[00:54:08.0000] <hsivonen>
zcorpan: nice to see Chrome is compliant

[00:55:35.0000] <zcorpan>
(chrome also shows ysod for x-user-defined in the xml decl)

[00:57:11.0000] <hsivonen>
Where did Leif put his XML BOM tests?…

[00:57:36.0000] <zcorpan>
no ysod for  http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1855

[01:51:20.0000] <jgraham>
Speaking of people coming across badly, some of the rhetoric in the <maincontent> thread really needs to be toned down

[01:54:05.0000] <jgraham>
And speaking of twitter, is there an equivalent to the parable about bind men and the elephant to describe the situation where people are hampered in their understanding not by an incomplete set of input data, but by insufficent communication bandwidth?

[01:55:46.0000] <jgraham>
*blind

[02:17:59.0000] <krijn>
Made a backup of all the static logs on http://krijn.html5.org/irc-logs/, in case my server goes down again

[02:18:17.0000] <krijn>
2012 isn't there yet

[02:24:36.0000] <Stevef__>
jgraham: re <maincontent> if I need to tone down please feel free to point out where

[02:25:21.0000] <jgraham>
Stevef__: I wasn't really refering to you :)

[02:26:25.0000] <jgraham>
Stevef__: You might like to fix the title case in your use case document

[02:26:27.0000] <annevk>
Stevef__: did you ever reply to hsivonen?

[02:26:43.0000] <annevk>
Stevef__: I agree with him that it needs a one-word name

[02:27:29.0000] <Stevef__>
jgraham: that makes a change :-) have been trying best to be good, I was afraid my respone to Hixie last night might have been a bit OT as I had been to a wine tasting at a vineyard in carcassonne

[02:28:08.0000] <zcorpan>
aren't you supposed to spit it out after tasting?

[02:28:15.0000] <jgraham>
Stevef__: Well if there was something, I might have skipped over it :)

[02:28:55.0000] <Stevef__>
annevk: re name, right I responded to maciej over on html wg list http://lists.w3.org/Archives/Public/public-html/2012Oct/0112.html and henri also tweeted at me about it

[02:29:38.0000] <Stevef__>
annevk: have no problem with chnaging it, just leaving it for a bit for more feedback

[02:30:05.0000] <annevk>
just wondering as you replied to every other email in the WHATWG thread

[02:30:29.0000] <annevk>
I'm fine with letting people bikeshed on, I employ similar tactics

[02:31:44.0000] <Stevef__>
annevk: as i had replied to ian yang on list about the name and relied to henri offlist didn't think it needed a repsonse, the more substantive stuff about parsing UA stylesheet i captured in a bug and ccd him

[02:32:06.0000] <annevk>
sure, as I said, just wondering :)

[02:32:25.0000] <annevk>
sounds like you're on top of it

[02:34:26.0000] <Stevef__>
am trying to be...

[02:37:23.0000] <zcorpan>
Stevef__: do you have a dataset of top 10,000 pages with urls now, btw?

[02:39:20.0000] <Stevef__>
zcorpan: I have a data set generated late last month with each file in a folder that uses the URL as a name, and also each file has a comment in it with the URL

[02:39:56.0000] <zcorpan>
Stevef__: sounds nice. is it available online?

[02:40:32.0000] <Stevef__>
zcorpan: will make available when i get back home am in France at the moment, will ping you when it available

[02:40:48.0000] <zcorpan>
cool thanks

[02:41:58.0000] <annevk>
new datasets?

[02:42:01.0000] <annevk>
sweet

[02:42:41.0000] <Stevef__>
same URL list that i did back in march

[02:44:35.0000] <Stevef__>
gotta travel up to toulouse now to catch a big bird home catch you all later

[03:33:13.0000] <hsivonen>
does the W3C test suite support setting the content-type header now?

[03:35:59.0000] <jgraham>
Well sure, if you make a .htaccess file

[03:36:08.0000] <hsivonen>
ok

[03:36:41.0000] <hsivonen>
the mochitest mechanism of having a foo.bar^headers^ file is quite nice

[03:37:37.0000] <jgraham>
Yeah

[03:38:26.0000] <jgraham>
One could port that to apache if people thought that it was a significant improvement over .htaccess files I guess

[03:38:55.0000] <jgraham>
In general lack of standardisation of the server-side component of testing is a big problem

[03:39:02.0000] <hsivonen>
does anyone have CSS BOM precedence tests yet?

[03:39:29.0000] <jgraham>
That is Opera + Mozilla + WebKit + IE (presumably) all have different setups

[03:39:42.0000] <jgraham>
And making one test that can run in all environments can be tricky

[03:40:27.0000] <jgraham>
/me goes back to removing Opera-specific server names from some tests

[03:52:24.0000] <hsivonen>
annevk: FYI, http://idpf.org/epub/30/spec/epub30-publications.html#tbl-core-media-types has some non-IANA font MIME types

[03:52:28.0000] <odinho>
jgraham: You knight in shining armour ;-)

[03:53:59.0000] <jgraham>
Saying something about a queen?

[03:54:50.0000] <hsivonen>
application/epub+zip is unregistered, too

[03:55:03.0000] <hsivonen>
looks like the IDPF has given up on IANA

[03:57:31.0000] <jgraham>
Like everyone else then?

[04:10:29.0000] <hsivonen>
does JS process \u escapes before or after tokenization?

[04:10:42.0000] <hsivonen>
can \u escapes be used in indentifiers?

[04:11:14.0000] <jgraham>
Yes

[04:11:19.0000] <hsivonen>
thanks

[04:11:45.0000] <jgraham>
Which is less evil? A 32Mb file in version control or a PHP script to output 32Mb of data?

[04:12:18.0000] <odinho>
hsivonen: And before you could  var v\u0061r = hello;    and it would use "var" as a variable name. But not anymore :D

[04:13:12.0000] <odinho>
jgraham: Hm, -- if the version control does gzip, or handles sparse files, the 32mb of data could be compressed to almost nothing.

[04:13:26.0000] <odinho>
jgraham: Although I'd probably go with PHP script. Because we have lots of those already.

[04:13:57.0000] <jgraham>
odinho: You I guess 32Mb of highly compressible text might not be too bad. I think git at least compresses

[04:14:22.0000] <jgraham>
I don't want to use PHP if I don't have to if it a problem for WebKit/Mozilla

[04:14:50.0000] <odinho>
jgraham: But if they want to run CORS/XHR and other tests that need a server component, -- they have to support it anyway.

[04:15:05.0000] <hsivonen>
hmm. Is U+0E4F banned as the first character of a JS identifier?

[04:15:22.0000] <hsivonen>
oh. well. I’ll try not to overdo this test

[04:15:25.0000] <odinho>
So I think/hope/pray (no, not the last one) that they will get it soon.

[04:16:07.0000] <jgraham>
odinho: Well they have a server component

[04:16:15.0000] <jgraham>
It just doesn't support PHP

[04:16:43.0000] <odinho>
I would guess they're interested to fix that.

[04:17:03.0000] <jgraham>
hsivonen: http://es5.github.com/#x7.6

[04:17:34.0000] <jgraham>
odinho: Well no one has said to me "yeah, PHP, that sounds like a good idea, we'll get right on it"

[04:17:46.0000] <zcorpan>
hsivonen: http://dvcs.w3.org/hg/web-ecmascript/file/e0a9564ea062/identifiers/index.html

[04:18:10.0000] <jgraham>
Dunno what webkit does, but Mozilla have some custom javascript server that they can control from within the test

[04:18:14.0000] <odinho>
jgraham: They should. They should run my tests.

[04:18:34.0000] <jgraham>
odinho: Do they show bugs in Mozilla/WebKit?

[04:18:40.0000] <odinho>
Yeah, some.

[04:18:43.0000] <odinho>
Ofc.

[04:18:48.0000] <odinho>
It's the web, man.

[04:18:52.0000] <jgraham>
You should tell sicking that

[04:19:09.0000] <hsivonen>
thanks. I’m slightly annoyed about the spec trying to use Unicode classes instead of treating runs of code points as opaque strings

[04:19:20.0000] <hsivonen>
but not a real problem

[04:19:46.0000] <hsivonen>
I was just trying to make a variable name that matches the UTF-8 BOM decoded as Windows-874

[04:20:59.0000] <smaug____>
odinho: FYI, on Mozilla's httpd.js server one can run .sjs scripts. Something like http://mxr.mozilla.org/mozilla-central/source/browser/base/content/test/authenticate.sjs

[04:23:28.0000] <smaug____>
IIRC for websockets we use pywebsocket server

[04:23:30.0000] <odinho>
smaug____: I've looked a bit at it, but that only works for mozilla, so it won't do putting that on w3c-test.org

[04:24:02.0000] <smaug____>
right

[04:24:10.0000] <jgraham>
Yeah, obviously reusing an XPCOM-based server wholesale isn't going to fly

[04:24:13.0000] <odinho>
Although if we had a common server side format that'd be so much nicer.

[04:24:15.0000] <smaug____>
does w3c-test.org support only php ?

[04:24:35.0000] <odinho>
I don't care if it's PHP, Python or server side javascript.

[04:24:37.0000] <jgraham>
Well I think we have pywebsocket and jetty for web sockets tests

[04:24:40.0000] <odinho>
(As long as it's not Perl)

[04:24:54.0000] <jgraham>
But the problem isn't really PHP-vs-foo

[04:25:16.0000] <jgraham>
It's "how do we get everyone running the tests in their own test infrastructure"

[04:25:33.0000] <odinho>
Yes. That's the "common" part.

[04:25:36.0000] <smaug____>
--odinho

[04:25:38.0000] <jgraham>
Which means that it has to be a system that works for a number of setups

[04:25:53.0000] <odinho>
smaug____: Waaa :'(

[04:26:04.0000] <smaug____>
(Perl is way nicer than Python :) )

[04:26:25.0000] <jgraham>
(smaug____ is obviosuly crqazy)

[04:26:41.0000] <jgraham>
In particular it has to work for people that want to distribute all tests to each slave

[04:27:07.0000] <jgraham>
And I guess they might not want to have to get apache + PHP running on each individual salve?

[04:27:11.0000] <jgraham>
*slave

[04:27:41.0000] <jgraham>
(I don't really know the rationale for the current Mozilla design, so I can't tell what would work for you guys)

[04:27:58.0000] <smaug____>
I'd assume python based server side thing might be the easiest to sell to Mozilla

[04:28:41.0000] <jgraham>
smaug____: Any idea who at Mozilla I should talk to about this?

[04:29:26.0000] <odinho>
I like Python too. I'd be willing to rewrite all my server side php things to some python server side resource.

[04:30:05.0000] <jgraham>
Yeah, there isn't enough stuff on w3c-test.org that migration is a serious problem at the moment

[04:30:20.0000] <jgraham>
But we need to find a solution that works for everyone asap

[04:30:26.0000] <odinho>
Agreed! :D

[04:30:26.0000] <smaug____>
jgraham: probably ted

[04:31:32.0000] <jgraham>
I don't know if I know who that is :) Is that an email address?

[04:31:35.0000] <odinho>
https etc will be a bit strange though.

[04:31:55.0000] <odinho>
And maybe the test system should have some common.js as well where settings like expected domains and ports etc can be set.

[04:32:42.0000] <jgraham>
Well if you run your own server you can control things like that

[04:33:47.0000] <jgraham>
I mean if there is one common setup that everyone uses, we can go with convention over configuration

[04:35:08.0000] <smaug____>
jgraham: use bugzilla as phonebook

[04:35:15.0000] <smaug____>
type :ted to the cc field

[04:35:21.0000] <jgraham>
Hah

[04:35:22.0000] <annevk>
hsivonen: at some point I'd like to fix MIME type parsing and registration

[04:36:19.0000] <jgraham>
Does anyone that works on WebKit still hang out here?

[04:37:39.0000] <annevk>
jgraham: there's several, e.g. arv, abarth, othermaciej, beverloo, ...

[04:37:51.0000] <jgraham>
Yeah, but I never see them :)

[04:38:21.0000] <jgraham>
I guess WebKit isn't even the right level

[04:38:43.0000] <jgraham>
Might need someone from Chromium and someone from Safari

[04:38:56.0000] <jgraham>
(they have seperate test systems, right?)

[04:39:55.0000] <smaug____>
well, webkit related tests are in webkit's tree

[04:40:16.0000] <smaug____>
but doesn't Safari and Chromium use separate network layer, so they have different bugs there

[04:40:47.0000] <smaug____>
s/separate/different/

[04:41:01.0000] <smaug____>
bah, now my English is getting horrible

[04:42:00.0000] <zcorpan>
smaug____: must be the Perl

[04:48:28.0000] <annevk>
smaug____: yeah, Safari uses Mac OS X's network layer

[04:48:38.0000] <MikeSmith>
smaug____, jgraham : we can add support python on w3c-test.org if there's a real need

[04:49:07.0000] <annevk>
marcosc: even though <source media> "works" it doesn't actually dynamically adjust or anything

[04:49:12.0000] <annevk>
marcosc: it's hardly useful for anything

[04:52:10.0000] <marcosc>
annevk: yes, it's not "responsive"

[04:52:35.0000] <marcosc>
Why was it added?

[04:53:23.0000] <marcosc>
/me was actually quite surprised that it was there. 

[04:54:07.0000] <odinho>
lol, tobie is expressing interest for almost anything on TPAC wiki. I wanted to do the same, but am currently restraining it a bit :P

[04:55:22.0000] <marcosc>
odinho: if you really want to sign up for the Web Marketing one, no one is stopping you :)

[04:55:27.0000] <odinho>
images are not supposed to be dynamically adjusted either.

[04:55:35.0000] <odinho>
marcosc: Too embarrasing. :S

[04:55:41.0000] <zcorpan>
put in a fake tag entry to see how many are interested

[04:55:59.0000] <marcosc>
heh

[04:56:23.0000] <odinho>
zcorpan: == TAG chitchat == People who have expressed interest: ...

[04:57:04.0000] <zcorpan>
or longdesc! gotta resolve longdesc!

[04:57:11.0000] <marcosc>
heh :)

[04:57:24.0000] <marcosc>
how about resolving longdesc with httpRange-14 ?

[04:57:40.0000] <annevk>
longdesc is back again?

[04:57:59.0000] <hsivonen>
IE9 is weird. If a JS or CSS file starts with a UTF-8 BOM and HTTP says it’s not UTF-8, IE9 skips the BOM and then decodes the file according to the HTTP-level charset.

[04:59:16.0000] <zcorpan>
annevk: does it ever leave?

[04:59:27.0000] <zcorpan>
longdesc stays for long

[04:59:59.0000] <jgraham>
You are saying it shoudl have been named longdiscuss?

[05:00:21.0000] <annevk>
hsivonen: o_O

[05:00:26.0000] <jgraham>
"a href pointing to a longer discussion of the image's contents"

[05:00:34.0000] <annevk>
hsivonen: I hope I'm not going to spec that

[05:00:35.0000] <marcosc>
heh

[05:02:09.0000] <annevk>
This responsive image thing is kinda similar; people all up in arms about a single attribute

[05:02:44.0000] <hsivonen>
annevk: I hope you are not

[05:02:58.0000] <hsivonen>
IE10 (Preview) behaves the same

[05:05:56.0000] <hsivonen>
also for HTML

[05:06:24.0000] <annevk>
I'm pretty sure that means they changed behavior

[05:06:45.0000] <hsivonen>
from 8 you mean?

[05:07:05.0000] <annevk>
Or maybe we did not check the HTTP override closely enough? Hmm

[05:07:54.0000] <hsivonen>
from 9 even

[05:08:12.0000] <hsivonen>
IE9 is different for HTML on one hand and JS and CSS on the other

[05:09:12.0000] <hsivonen>
writing well-researched email to www-style is so much slower than just changing the code...

[05:43:54.0000] <hsivonen>
finally got the email sent: http://lists.w3.org/Archives/Public/www-style/2012Oct/0516.html

[06:18:33.0000] <zcorpan>
MikeSmith: http://dvcs.w3.org/hg/webapps/rev/93b89bd30489 gives 500

[06:20:07.0000] <Ms2ger>
https://dvcs.w3.org/hg/webapps/rev/93b89bd30489 doesn't, fwiw

[06:21:48.0000] <zcorpan>
oh

[07:23:04.0000] <Ms2ger>
/me looks for someone from Opera

[07:23:07.0000] <Ms2ger>
jgraham?

[07:23:16.0000] <jgraham>
/me looks like someone from Opera

[07:24:18.0000] <Ms2ger>
jgraham, bz wants to add something to your microdata test: https://bugzilla.mozilla.org/attachment.cgi?id=673223&action=diff#a/dom/imptests/html/tests/submission/Opera/microdata/test_001.html_sec1

[07:27:10.0000] <jgraham>
Ms2ger: Sounds good to me

[07:27:16.0000] <Ms2ger>
Thanks

[07:27:32.0000] <jgraham>
I am not quite the right person to really review it, but I don't object to it at least

[07:27:41.0000] <jgraham>
Is the order well defined?

[07:28:41.0000] <Ms2ger>
I think I managed to convince myself the spec agrees with that order :)

[07:28:54.0000] <jgraham>
Ms2ger: Are you going to push that back to the W3C?

[07:28:59.0000] <Ms2ger>
Yes

[07:29:07.0000] <jgraham>
Awesome, thanks

[07:29:52.0000] <Ms2ger>
Np

[08:00:06.0000] <SimonSapin>
Is there a way to test the computed value (not used value) of a CSS property?

[08:01:21.0000] <Ms2ger>
jgraham, fwiw, the Mozilla people most likely to know about test servers hang out on irc.mozilla.org #ateam

[08:02:36.0000] <jgraham>
Ms2ger: Thanks

[08:02:50.0000] <Ms2ger>
Np

[08:03:12.0000] <jgraham>
I have written a slightly incoherent email, but am waiting to see if I can work out who is responsible for this stuff at Google and Apple

[08:03:26.0000] <jgraham>
Or however the infrastructure is set up

[08:20:36.0000] <annevk>
SimonSapin: getComputedStyle works often

[08:20:41.0000] <annevk>
SimonSapin: but not all the time

[08:21:35.0000] <annevk>
omg someone murdered my CSSOM work and replaced it with respec-style shit

[08:21:38.0000] <SimonSapin>
annevk: I want to test vw estc

[08:21:46.0000] <SimonSapin>
annevk: I want to test vw etc. in implementations

[08:22:27.0000] <SimonSapin>
apparently the computed value is supposed to resolve vw and be absolute

[08:22:33.0000] <annevk>
SimonSapin: see http://dev.w3.org/csswg/cssom/#resolved-value for which properties it returns the computed value

[08:22:56.0000] <SimonSapin>
but in paged media the viewport size is potentially different across pages on the same document

[08:23:03.0000] <annevk>
(or should return, anyway)

[08:42:13.0000] <dglazkov>
good morning, Whatwg!

[09:05:58.0000] <gsnedders>
We have multiple specs defining the URL object? Yay!

[09:09:07.0000] <annevk>
gsnedders: we do?

[09:09:56.0000] <gsnedders>
File API.

[09:10:32.0000] <gsnedders>
Supplemental interface, but confused me when I was looking for createObjectURL in the URL spec.

[09:12:40.0000] <annevk>
oh multiple like that

[09:18:30.0000] <abarth>
jgraham: we're around, just in different time zones

[09:22:37.0000] <odinho>
abarth: Hmm. If a tree falls in the forest, but noone hears ... etc. :P

[09:58:37.0000] <annevk>
ooh, jsbell, didn't realize that's how ArrayBufferView worked

[09:59:05.0000] <annevk>
I wish the Typed Array spec had a shorthand so could just talk about the bytes from the ArrayBufferView

[10:00:00.0000] <jsbell>
heh. The reason I got mired in this in the first place was writing an JS library to encode/decode to a binary format. This was before Typed Arrays were supported anywhere so I started off writing a TA shim. So... intimately aware of the details. :)

[10:00:50.0000] <annevk>
heh, man of many shims

[10:30:00.0000] <JonathanNeal>
What are we shimming now? Forcing CSS to recognize unsupported entries like old IE did?

[10:30:21.0000] <TabAtkins>
annevk: It's your fault for abandoning us!

[10:30:58.0000] <TabAtkins>
SimonSapin: getComputedStyle should work for all non-2.1 properties, and generally all 2.1 properties not directly involved in layout.

[10:33:28.0000] <TabAtkins>
zcorpan: Yeah, I know, but I was pissed, shrug.  Annoys me when people forget just how large the author community is, and thus take "I think this is easy to misuse" as a personal attack against themselves.

[10:33:46.0000] <TabAtkins>
And/or forget how many hostile authors there are.

[12:11:53.0000] <Hixie>
Glenn Adams doesn't hang out on IRC right?

[12:12:19.0000] <TabAtkins>
I've seen him on W3C server, under glenn.

[12:12:25.0000] <TabAtkins>
But he's not there now.

[12:14:17.0000] <Hixie>
sigh

[12:14:21.0000] <Hixie>
why did anne have to give up on CSSOM

[12:14:37.0000] <TabAtkins>
I know.  I'd take it over, but I'm too busy with other things. :/

[12:14:40.0000] <Hixie>
it's already bit-rotting, losing MUST statements and stuff

[12:16:24.0000] <Ms2ger>
"glazou", I believe

[12:22:14.0000] <astearns>
am I reading correctly that I cannot set up a MutationObserver to observe changes in CSS properties?

[12:22:20.0000] <TabAtkins>
Correct.

[12:22:29.0000] <TabAtkins>
MutationObservers observe DOM mutations.

[12:22:39.0000] <TabAtkins>
Though you can observe changes in 'style' attributes.

[12:25:41.0000] <astearns>
is there a principle behind this restriction, or is it just future work to define a CSSMutationObserver?

[12:27:00.0000] <TabAtkins>
DOM observers are easier, in general, than a generic JS object observer.

[12:27:06.0000] <TabAtkins>
However, the latter is planned for the future.

[12:29:32.0000] <astearns>
OK, thanks

[13:01:52.0000] <Ms2ger>
/me whacks dglazkov 

[13:05:08.0000] <Hixie>
now what

[13:06:21.0000] <dglazkov>
yay

[13:07:11.0000] <Ms2ger>
dglazkov, https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#shadow-root-object

[13:07:24.0000] <Ms2ger>
You need to add ? for nullable types

[13:07:33.0000] <Ms2ger>
and get rid of 'in' and 'raises'

[13:08:30.0000] <dglazkov>
Ms2ger: sure thing, thanks! can you file a bug so I don't forget? there's a nice line at the right top corner

[13:08:35.0000] <dglazkov>
line->link

[13:18:35.0000] <dglazkov>
<3

[13:25:01.0000] <dglazkov>
Ms2ger: are you going to be at the TPAC in Lyon?

[13:25:16.0000] <Ms2ger>
Perhaps

[13:26:44.0000] <astearns>
we should all dress up as Ms2ger on Halloween

[13:28:55.0000] <jgraham>
You mean we each dress up as a rack server and then lie on top of each other?

[13:28:58.0000] <dglazkov>
Ms2ger: well -- I am not going :P

[13:29:22.0000] <Ms2ger>
jgraham, kinky

[13:34:39.0000] <jgraham>
dglazkov: So who will be filling your role as the supernaturally cheery one?

[13:57:12.0000] <dglazkov>
jgraham: slightlyoff, of course!

[14:01:37.0000] <TabAtkins>
That... seems like a perversion of nature.

[14:30:32.0000] <smaug____>
what... Ms2ger said "perhaps"

[14:30:52.0000] <smaug____>
will we see him/her/it

[14:32:38.0000] <jgraham>
I think perhaps is a mysterious-sounding synonym for "no"

[14:32:46.0000] <jgraham>
At least in this case

[14:33:33.0000] <Hixie>
i might be at tpac

[14:33:50.0000] <Hixie>
if there was a wormhole that suddenly opened below my desk and dropped by there against my will

[14:33:54.0000] <Hixie>
:-P

[14:36:37.0000] <jgraham>
/me thinks there are a variety of substantially more likely scenarios that would lead to Hixie being at TPAC

[14:37:33.0000] <Philip`>
Declare that TPAC will occur wherever Hixie is, so that he will inevitably be attending it

[14:38:39.0000] <jgraham>
For example

[14:44:51.0000] <Hixie>
now you're just scaring me

[14:44:55.0000] <Hixie>
it's not halloween yet!

[14:49:10.0000] <hober>
halloween falls on the plenary day this year

[14:49:17.0000] <hober>
clearly we should all go as httpRange-14

[15:08:47.0000] <zewt>
Hixie: eh fyi, https://www.w3.org/Bugs/Public/show_bug.cgi?id=18610 doesn't feel like you read the text at all

[15:14:36.0000] <Hixie>
how so?

[15:14:57.0000] <Hixie>
the comment says "i don't want to wait for gc". my point is, just wait for gc.

[15:18:01.0000] <zewt>
if that was good enough, then we wouldn't need Blob.close, either

[15:19:18.0000] <zewt>
anyway, answering "i want to be able to do something" with "sure, just don't do it" doesn't feel like much of an answer :)

[15:19:22.0000] <Hixie>
I don't think we do, but that's not my responsibility

[15:20:10.0000] <Hixie>
if you want detailed answers, mail the list. :-) but i don't really see what answer i would give that's more detailed, it doesn't really give a use case, so "don't do that" is pretty much the only valid answer

[16:06:13.0000] <Hixie>
ok. 48 bugs ahead of schedule, 49 e-mails ahead of schedule. Just right for the weekend.


2012-10-20
[17:03:19.0000] <zewt>
heh, i wonder how many users actually use scrollbars today

[17:03:41.0000] <zewt>
the only time i can think of where i actually manipulate them (vs. just looking at them) is for horizontal scrolling

[17:03:49.0000] <zewt>
which is rare

[05:44:24.0000] <annevk>
"[widgets] Does anyone still care about Widget Updates?" s/Updates//

[05:57:43.0000] <MikeSmith>
eh does <a href="a=1&reg=2"></a> not work in IE9 and before?

[05:57:51.0000] <MikeSmith>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=19102#c4

[06:29:35.0000] <MikeSmith>
wow WebKit nightly builds not supported on OS X 10.6 any more

[06:59:34.0000] <GPHemsley>
that's a mistake

[06:59:55.0000] <GPHemsley>
(IMO)

[07:13:53.0000] <espadrine>
haven't they always tried to make people switch to more recent OS versions?

[07:14:18.0000] <espadrine>
(so that their clients would buy more recent computers)

[07:32:56.0000] <GPHemsley>
Whose job is it to upgrade MediaWiki again? TabAtkins?

[07:34:16.0000] <Ms2ger>
No

[07:36:29.0000] <Ms2ger>
Lachy or AryehGregor, usually

[07:37:32.0000] <GPHemsley>
Ah

[07:37:39.0000] <GPHemsley>
PHP could also do with an upgrade, too

[07:38:32.0000] <zewt>
MikeSmith: becomes a=1®=2 for me in ie9

[07:39:08.0000] <MikeSmith>
zewt: ah OK, thanks

[07:39:41.0000] <MikeSmith>
so I wonder why did Hixie decide to not make it an error any more

[07:39:58.0000] <Ms2ger>
GPHemsley, did I just hear you volunteer? :)

[07:40:22.0000] <GPHemsley>
Ms2ger: Well, I don't have access, so... ;)

[07:40:32.0000] <Ms2ger>
That can be solved :)

[07:41:08.0000] <GPHemsley>
:P

[07:42:03.0000] <GPHemsley>
Sure, if you trust me not to break things

[07:42:47.0000] <Ms2ger>
Sure

[07:51:42.0000] <GPHemsley>
Is this page still current? http://wiki.whatwg.org/wiki/Sanitization_rules

[08:18:08.0000] <GPHemsley>
/me broke pimpmyspec.net on his first try. /cc jgraham 

[08:19:56.0000] <GPHemsley>
jgraham: http://pastebin.mozilla.org/1872408

[08:20:39.0000] <GPHemsley>
gsnedders: ^^

[08:21:25.0000] <GPHemsley>
All I did was through in http://mimesniff.spec.whatwg.org/ with all default settings

[08:21:29.0000] <GPHemsley>
s/through/throw/

[08:21:59.0000] <Lachy>
Ms2ger, AryehGregor handles the media wiki upgrades. GPHemsley, I expect the PHP version is managed by Dreamhost and there's nothing we can do about it.

[08:23:22.0000] <GPHemsley>
I don't think Dreamhost would keep using PHP 5.2...

[08:23:37.0000] <Ms2ger>
/me is confused where the source to mimesniff lives

[08:23:39.0000] <GPHemsley>
I'm fairly certain their keep their PHP install relatively up-to-date

[08:23:47.0000] <GPHemsley>
s/their/they/

[08:24:11.0000] <GPHemsley>
Ms2ger: https://github.com/whatwg/mimesniff no?

[08:24:45.0000] <Ms2ger>
I only see the post-processed version there

[08:26:40.0000] <GPHemsley>
oh

[14:10:59.0000] <annevk>
GPHemsley: yeah, I think we need to convert mimesniff to an input to Anolis first before it works

[14:11:18.0000] <annevk>
GPHemsley: I guess I'll do that once I think about it at a moment I don't feel like doing anything else (unless someone else beats me to it)

[14:11:34.0000] <annevk>
GPHemsley: or unless abarth tells us where the source file is located


2012-10-21
[01:10:26.0000] <kennyluck>
Any Opera folk here?

[01:30:51.0000] <Ms2ger>
kennyluck, fwiw, I think the fail-if-unsupported requirement is silly

[01:34:15.0000] <kennyluck>
Ms2ger, someone at the event suggests we mimic border-radius with <canvas> feature or something I just can't remember...

[01:34:24.0000] <Ms2ger>
Ugh

[01:34:25.0000] <kennyluck>
But right, it's silly.

[03:57:46.0000] <gsnedders>
FWIW, though he's gone now, I think fail-if-unsupported is nice-to-have, but if not easily possible not a hard requirement.

[04:16:43.0000] <annevk>
GPHemsley: btw, please ask AryehGregor for access to the wiki

[04:17:25.0000] <annevk>
GPHemsley: be totally cool if you update it

[04:53:16.0000] <AryehGregor>
/me isn't sure he remembers how to give access to the wiki

[04:53:50.0000] <jgraham>
I wonder if tests should come with a priority label, like bugs

[04:54:58.0000] <jgraham>
So something testing a minor edge condition that doesn't matter in practice could be a P5, but a test to check a feature works at all would be a P1

[04:55:53.0000] <jgraham>
Seems like a lot of work and possibly the source of fights, but much more useful than a setup where all tests are considered essential

[04:57:27.0000] <jgraham>
And kind of reenforces the idea that interoperability is a continuum

[04:58:36.0000] <Velmont>
Yes. I've often thought about that. I sometimes feel a bit reluctant to actually write some of the tests and/or upload them because they're checking super stupid stuff like ordering of exceptions that probably noone cares much about anyway.

[04:58:45.0000] <Velmont>
When some of the other failures are rather severe, I mean :-)

[05:00:39.0000] <jgraham>
I guess one problem is that it's possible to fail a P1 test for a P3 reason e.g. a security test failing sounds like a P1, but if the problem is "throws the wrong exception name", that's a tiny problem compared to "doesn't throw"

[05:01:39.0000] <Velmont>
Yea. So for e.g. the CORS tests, they were using XHR and checking for NETWORK_ERR. But when we made the feature for assert_throws to just check for throwing I changed them.

[05:02:09.0000] <Velmont>
Because almost all the tests were failing on gecko because of that single "no we use NS_STUPID_LONG_NETWORK_ERROR instead"

[05:18:03.0000] <jgraham>
Well that is pretty silly

[05:18:22.0000] <jgraham>
I mean not using assert_throws just because a browser has bugs

[05:19:43.0000] <jgraham>
I can't think of a good way that one could bake this into testharness, really

[05:33:26.0000] <SimonSapin>
TabAtkins: do we have something like "pull requests" for specs? I want to make editorial changes to css3-values (have the definition for dpi say "CSS inch" instead of just "inch".) I guess just making the edit myself would be less work for you, but I still want to get some review before pushing to the ED.

[05:36:21.0000] <jgraham>
For the specs that are on github (not that one, I guess), we have something very like pull requests :)

[05:40:23.0000] <SimonSapin>
jgraham: yes, I can imagine that :)

[05:40:51.0000] <SimonSapin>
but the CSSWG uses a private mercurial server http://dvcs.w3.org/hg/csswg/

[05:41:04.0000] <jgraham>
Yeah, I know

[05:41:24.0000] <jgraham>
I suspect that filing a bug and making a patch is the right thing to do

[05:42:11.0000] <SimonSapin>
we use the mailing list more that the bug tracker, but I guess I could send patches by email

[05:42:36.0000] <jgraham>
Could work

[05:42:53.0000] <jgraham>
I know the CSSWG at least has components in the bugtracker these days

[05:43:10.0000] <jgraham>
I'm not sure what they are actually used for

[05:43:19.0000] <SimonSapin>
I would love to use github for this but I guess it’s not gonna happen, having just switched to hg and all

[05:43:43.0000] <jgraham>
Well there are noises about moving more stuff to github

[05:44:25.0000] <jgraham>
Not necessarily for CSSWG though, since plinss is quite oppsoed to it

[05:44:28.0000] <jgraham>
*opposed

[05:44:43.0000] <SimonSapin>
do you know why he is opposed?

[05:45:13.0000] <AryehGregor>
jgraham, if conformance tests are ways for implementers to spot bugs, rather than ways for them to brag about how they implement the standards, prioritization doesn't seem necessary.

[05:45:38.0000] <AryehGregor>
If they're only to brag, then just don't test things that aren't so important.

[05:45:44.0000] <AryehGregor>
The problem is when the two goals are conflated.

[05:46:13.0000] <jgraham>
SimonSapin: I can't actually find confirmation he is opposed. So maybe I am misstating his position

[05:46:53.0000] <jgraham>
So now I will stop. But I thought someone, possibly him, thought that git would be too confusing for normal humans

[05:47:01.0000] <jgraham>
AryehGregor: The problem is that those are both goals

[05:47:40.0000] <AryehGregor>
That's your problem, then.

[05:47:56.0000] <AryehGregor>
Also: yes, git is definitely too confusing for normal humans.  We tend to assume spec-writers are supernormal.

[05:48:06.0000] <AryehGregor>
(also, they can always use hg-git, like Ms2ger does)

[05:48:16.0000] <jgraham>
My problem in particular, or just a problem?

[05:49:13.0000] <jgraham>
Anyway, it is not obvious to me that having both as goals is bad

[05:49:22.0000] <Philip`>
/me guesses implementers would find it quite useful for the test results to somehow indicate e.g. "these 500 test cases are failing because of bug 123456 in your browser" (so they don't have to check every single case to make sure there's not a really important unknown bug), which would be a superset of the functionality needed for prioritising failures

[05:50:09.0000] <AryehGregor>
I meant "That's your problem, then" as "Well, then, mister, there's yer problem right there, starin' ya in the face", not "Thankfully, that's your problem, not mine".

[05:50:23.0000] <AryehGregor>
Philip`, in practice, that's done by implementers reviewing the failures.

[05:50:36.0000] <AryehGregor>
(which I've done lots of)

[05:50:56.0000] <jgraham>
So one problem I currently see is that W3C tests are too often ignored

[05:51:17.0000] <jgraham>
Because there is no kudos associated with doing well in them

[05:51:31.0000] <jgraham>
Whereas crap like html5test.com gets loads of attention

[05:51:42.0000] <Ms2ger>
Velmont, I care about the ordering of exceptions ;)

[05:52:02.0000] <jgraham>
On the other hand, making W3C tests a big PR thing has really bad side effects

[05:52:20.0000] <jgraham>
people start submitting tests to look good or to make others look bad

[05:52:30.0000] <AryehGregor>
Both are fair points.

[05:52:52.0000] <AryehGregor>
One thing we could do is hope that people care about actual interop in practice and thus consult any high-quality test suite.

[05:52:59.0000] <jgraham>
e.g. by making every test fail for some browser for some tiny bug

[05:53:08.0000] <Ms2ger>
jgraham, also, I do think git is too confusing for humans :)

[05:53:08.0000] <jgraham>
(that could be hard to fix)

[05:53:20.0000] <jgraham>
Ms2ger: You aren't human, so what would you know?

[05:54:15.0000] <jgraham>
AryehGregor: I would like to believe that, but look at the amount of attention that html5test gets compared to any proper testsuite

[05:54:28.0000] <jgraham>
People want nice simple answers

[05:54:35.0000] <Ms2ger>
And it looks fancy!

[05:56:49.0000] <Philip`>
It seems a lot of people have never used any VCS other than git and get on perfectly fine with it, and hate being forced to use anything else, so I think the problem is just that git is too confusing for any human who has used any other VCS before

[05:57:27.0000] <AryehGregor>
Philip`, maybe all the normal people are scared away from VCSes in general when asked to use git.

[05:58:47.0000] <Philip`>
(If you've used e.g. CVS/SVN, then Hg is a totally different underlying model but still has familiar syntax and terminology, whereas Git has the different model and also has needlessly incompatible syntax and terminology)

[05:59:33.0000] <jgraham>
Anyway, so I think my point is that it would be nice if there was a middle ground; some way to encode the idea that not all failures are as serious as others - a fact that is known to anyone that has ever developed software - into the testsuite itself

[05:59:56.0000] <jgraham>
So that a browser could advertise "we pass all the P1 and P2 tests for feature X"

[06:00:24.0000] <jgraham>
And not be penalised for the fact that it throws the wrong exception name sometimes, causing P3 failures

[06:00:53.0000] <SimonSapin>
Philip`: I used svn and then hg before switching to git. Now I have developed lots of habits with git and git-related tools, and I hate being forced to use hg or svn

[06:01:21.0000] <jgraham>
I think git has a learning curve like / but mercurial has a learning curve like _|

[06:01:33.0000] <Ms2ger>
The other way around, you mean :)

[06:02:04.0000] <jgraham>
Ms2ger: Git has a learning curve like \? :p

[06:02:21.0000] <Ms2ger>
Well... yes :)

[06:02:58.0000] <Ms2ger>
And you have to climb it upside-down

[06:04:30.0000] <Ms2ger>
/me really doesn't like git

[06:04:48.0000] <jgraham>
/me is really surprised by this

[06:04:58.0000] <jgraham>
Or I would be if I didn't already know it

[06:07:18.0000] <jgraham>
(that wasn't sarcasm btw, I really have no idea why you find it so distasteful)

[06:11:40.0000] <SimonSapin>
Ms2ger: is hg-git good enough, or do you really prefer the upstream to use hg?

[06:13:08.0000] <Ms2ger>
I can live with hg-git, as long as upstream doesn't do anything weird :)

[06:13:27.0000] <SimonSapin>
what kind of weird thing?

[06:14:37.0000] <Ms2ger>
Anything I don't know how to deal with through my hg experience :)

[06:16:03.0000] <SimonSapin>
I guess that would also apply to git users with a git upstream

[06:16:30.0000] <SimonSapin>
or any other combination

[06:16:48.0000] <Ms2ger>
True

[07:15:37.0000] <GPHemsley>
AryehGregor: If you ever remember how to give people access to the wiki, I'll be happy to have some. :)

[07:15:38.0000] <Velmont>
jgraham: I am using assert_throws(null, { sync xhr }).  I don't reeeaally need to specify WHAT it throws because that should be checked in XHR tests, not for CORS.

[07:15:50.0000] <Velmont>
jgraham: I'm just using XHR because it's easiest (and most thorough) way to test CORS.

[07:16:17.0000] <Velmont>
jgraham: So WHAT exception it returns is not that interesting, that it doesn't succeed is the important part (for CORS).

[07:16:39.0000] <GPHemsley>
Ms2ger: Maybe one day you could walk me through getting hg-git installed? When I tried it a few months ago, it wasn't working.

[07:16:47.0000] <Velmont>
Ms2ger: Yeeaaaaaa. Not essential though.

[07:17:18.0000] <Ms2ger>
GPHemsley, on what OS?

[07:17:24.0000] <GPHemsley>
Mac 10.6

[07:17:29.0000] <Ms2ger>
Mm

[07:19:31.0000] <Ms2ger>
easy_install, according to http://hg-git.github.com/

[07:24:25.0000] <GPHemsley>
Ms2ger: I thought I followed the instructions properly, but I got an error when I tried to use it. (Particularly, I don't think hggit was even found.)

[07:24:33.0000] <GPHemsley>
So either I or they missed a step somewhere.

[07:25:20.0000] <Ms2ger>
How did you use it? You just need to hg clone git://...

[07:34:23.0000] <GPHemsley>
When I add `hggit = ` to my .hgrc, it tells me it can't find the module

[07:35:05.0000] <Ms2ger>
Strange

[08:35:28.0000] <SimonSapin>
GPHemsley: make sure that you run easy_install with the same python as the one used by hg

[10:57:53.0000] <GPHemsley>
SimonSapin: How do I do that?

[11:18:37.0000] <SimonSapin>
GPHemsley: I’m not sure … Try this: head -c1 $(which hg)

[11:18:48.0000] <SimonSapin>
it should give you the path to the python interpreter

[11:19:31.0000] <GPHemsley>
-n1, but yeah, thanks

[11:19:49.0000] <SimonSapin>
yeah, -n1

[11:19:51.0000] <GPHemsley>
... and it is indeed not the same as `which python`

[11:20:41.0000] <SimonSapin>
GPHemsley: do you have easy_install in the same directory?

[11:21:04.0000] <GPHemsley>
easy_install is in a third directory >_<

[11:21:34.0000] <GPHemsley>
and it seems that `which python` is actually the older one (with regard to version number)

[11:21:54.0000] <GPHemsley>
I have a feeling I have a bunch of different versions of python on this computer

[11:21:55.0000] <SimonSapin>
how did you install hg?

[11:22:02.0000] <GPHemsley>
good question

[11:23:21.0000] <zewt>
i never touch easy_install in linux, that's the package manager's job

[11:23:46.0000] <SimonSapin>
This is the general direction to look into but I’m not familiar with OS X so I can’t help much more

[11:23:56.0000] <zewt>
no idea on osx

[11:24:33.0000] <GPHemsley>
SimonSapin: Looks like the current one was installed via MacPorts

[11:24:44.0000] <SimonSapin>
the current what?

[11:24:47.0000] <GPHemsley>
hg

[11:25:18.0000] <GPHemsley>
and I believe the python it is using

[11:25:24.0000] <GPHemsley>
which is not the same as `which python`

[11:25:35.0000] <GPHemsley>
so I'm thinking maybe I should just switch `which python`

[11:25:46.0000] <GPHemsley>
(how do I do that?)

[11:28:31.0000] <GPHemsley>
SimonSapin: http://pastebin.mozilla.org/1873683

[11:54:16.0000] <GPHemsley>
oh, what a mess

[11:54:27.0000] <GPHemsley>
I have so many different versions of Python on this computer

[12:04:58.0000] <jgraham>
GPHemsley: Oh, OSX, yeah bad luck

[12:08:13.0000] <jgraham>
GPHemsley: Do you have easy_install in ports? (or pip for that matter)

[12:10:38.0000] <GPHemsley>
jgraham: Hang on, I'm reinstalling stuff

[12:22:30.0000] <annevk>
GPHemsley: you could also just install the GitHub app

[12:22:58.0000] <annevk>
I used command line thus far, but that app is quite convenient

[12:43:12.0000] <GPHemsley>
w00t

[12:43:14.0000] <GPHemsley>
got it working

[12:43:25.0000] <GPHemsley>
it was a conflict between python versions

[12:43:35.0000] <GPHemsley>
so thanks SimonSapin, et al.

[12:46:27.0000] <GPHemsley>
annevk: I'll stick to the command line, now that it works again :)

[13:18:38.0000] <zewt>
holy hell

[13:18:56.0000] <zewt>
chrome now refuses to install greasemonkey scripts normally: "extensions, apps, and user scripts can only be added from the chrome web store"

[14:29:29.0000] <jgraham>
zewt: have fun being upsold

[14:30:42.0000] <zewt>
fun having features silently auto-upgraded into "go to our store!"


2012-10-22
[20:45:44.0000] <Hixie>
;

[20:45:47.0000] <Hixie>
oops

[00:20:00.0000] <MikeSmith>
Hixie: https://www.w3.org/Bugs/Public/show_bug.cgi?id=19582

[00:20:05.0000] <MikeSmith>
have you ever heard of those?

[00:20:22.0000] <MikeSmith>
I wonder how widely used they are

[00:20:33.0000] <MikeSmith>
coap and coaps

[00:20:39.0000] <MikeSmith>
schemes

[00:21:17.0000] <MikeSmith>
I assume the criteria for whitelisting schemes is that they are actually used

[00:23:02.0000] <MikeSmith>
or actually that there are Web sites that handle them, than can process them

[00:53:20.0000] <MikeSmith>
Hixie: I'm gonna forward a couple more comments I got back from IANA for other media-type registration requests

[00:53:29.0000] <MikeSmith>
do with them what you will

[00:58:54.0000] <hsivonen>
MikeSmith: do you know what the deal is with http://idpf.org/epub/30/spec/epub30-ocf.html#app-media-type purporting to contain a registration but the type is not in the registry?

[00:59:18.0000] <MikeSmith>
/me looks now

[01:00:02.0000] <MikeSmith>
hsivonen: I can only surmise that they have not actually submitted the registration request to IANA yet

[01:00:10.0000] <hsivonen>
ok

[01:00:16.0000] <MikeSmith>
despite the statement "This appendix registers"

[01:00:51.0000] <MikeSmith>
there unfortunately is no way to tell if anybody has submitted a particular media-type request to IANA

[01:01:07.0000] <hsivonen>
It surprises me a bit considering that Murata Makoto seems to have experience with navigating the registration procedure.

[01:01:13.0000] <MikeSmith>
because you have to submit requests to a non-archived address, and then they respond privately

[01:02:00.0000] <MikeSmith>
I guess the procedure has changed since the last time Murata-san got something registered

[01:02:07.0000] <MikeSmith>
I can ask him about that one if you want

[01:03:24.0000] <hsivonen>
no need.

[01:04:15.0000] <MikeSmith>
ok

[01:18:24.0000] <hsivonen>
sigh. reloading document.written docs. can’t we just do what WebKit does...

[02:00:12.0000] <jgraham>
hsivonen: What does WebKit do?

[02:00:37.0000] <jgraham>
And "yes, probably, if you implement it in Gecko"

[02:01:09.0000] <jgraham>
(I sort of recall that WebKit does something dumb though)

[02:41:35.0000] <hsivonen>
jgraham: WebKit loads the URL that the location object represents

[02:41:53.0000] <jgraham>
That sounds familiar

[02:42:10.0000] <jgraham>
It seems simple and user-hostile

[02:42:16.0000] <hsivonen>
yes

[02:43:51.0000] <hsivonen>
whoa. looks like glazou implemented EPUB2 after all

[02:51:48.0000] <Stevef>
FYI requested <main> element spec to be published as FPWD and listed recent changes http://lists.w3.org/Archives/Public/public-html/2012Oct/0133.html

[02:59:54.0000] <Stevef>
a question to any of the WHATWG regulars: am unclear whether its OK for me to continue to ask for feedback on <main> on the WHATWG list, any thoughts?

[03:03:55.0000] <annevk>
FYI: I'll be at TPAC

[03:04:33.0000] <jgraham>
Yay

[03:06:51.0000] <annevk>
Thanks to hsivonen and Mozilla

[03:07:29.0000] <jgraham>
You are being smuggled in his suitecase?

[03:11:06.0000] <annevk>
Yes

[03:12:37.0000] <hsivonen>
/me is planning to travel with a backpack

[03:22:08.0000] <annevk>
:-)

[03:22:32.0000] <annevk>
Stevef: yes

[03:22:44.0000] <annevk>
Stevef: HTML is definitely on topic

[03:24:52.0000] <Stevef>
annevk: ok thanks

[03:30:56.0000] <Stevef>
annevk: i want to ensure that all people who may be interested in it are aware that its being developed and have the opportunity to provide input

[03:31:24.0000] <annevk>
Yeah, makes sense to me

[03:36:02.0000] <hsivonen>
@charset handling in Gecko is interesting

[03:36:54.0000] <hsivonen>
if the @charset rule itself in encoded in BOMless UTF-16, Gecko will carefully decode @charset as UTF-16 and then decode the whole stylesheet according to whatever encoding was declared

[03:37:16.0000] <hsivonen>
even though a non-UTF-16 encoding must be bogus

[03:37:43.0000] <hsivonen>
since in the case of non-UTF-16, @charset itself wouldn’t be UTF-16

[03:37:53.0000] <annevk>
that's kinda messed up

[03:37:58.0000] <hsivonen>
so much brokenness because of UTF-16

[03:38:20.0000] <annevk>
that should just fail or something

[03:38:43.0000] <SimonSapin>
hsivonen: isn’t that what is specified in http://www.w3.org/TR/CSS21/syndata.html#charset ?

[03:39:45.0000] <annevk>
SimonSapin: where does it say there that a utf-16 encoded @charset but with @charset not listing a utf-16 encoding, it should decode it per the listed encoding?

[03:39:59.0000] <hsivonen>
SimonSapin: apparently yes! the spec is messed up, too!

[03:40:05.0000] <hsivonen>
annevk: see the table

[03:40:16.0000] <annevk>
hmm really?! the fuck

[03:40:47.0000] <annevk>
I wonder if Hixie is to blame for that table

[03:40:54.0000] <hsivonen>
also, the spec supports UTF-32

[03:41:27.0000] <SimonSapin>
I think this is to be rewritten in css3-syntax. Input on this subject is greatly appreciated: http://dev.w3.org/csswg/css3-syntax/#the-input-byte-stream

[03:42:27.0000] <annevk>
I think utf-16 should only be supported out-of-band-or-BOM

[03:42:43.0000] <annevk>
so you just check for ASCII "@charset" at the start and go with that

[03:42:54.0000] <annevk>
then you drop utf-32

[03:43:01.0000] <annevk>
and only support what the Encoding Standard says

[03:43:16.0000] <hsivonen>
also, CSS3 Syntax makes the default UTF-8

[03:43:19.0000] <annevk>
including the BOM handling of the Encoding Standard (by reference)

[03:43:35.0000] <hsivonen>
not that it matters, unless you support loading CSS without a referring Document

[03:43:48.0000] <hsivonen>
wait

[03:43:56.0000] <SimonSapin>
annevk: feel free to send this to www-style :)

[03:44:03.0000] <hsivonen>
CSS3 syntax doesn’t inherit from Document

[03:44:39.0000] <SimonSapin>
hsivonen: what do you mean?

[03:44:52.0000] <annevk>
is inheritance from Document also cross-origin?

[03:45:03.0000] <hsivonen>
annevk: good question

[03:45:07.0000] <annevk>
SimonSapin: if your HTML is windows-1252 and your CSS does not say, it's windows-1252 too

[03:45:19.0000] <hsivonen>
SimonSapin: what annevk said

[03:45:24.0000] <SimonSapin>
oh, inheriting the encoding

[03:46:08.0000] <annevk>
and I think inheritance should not work for utf-16 (that means utf-8 again or some such)

[03:46:13.0000] <SimonSapin>
css 2.1 does that. The new syntax draft should too, but I guess that part just hasn’t been written yet

[03:46:20.0000] <hsivonen>
annevk: good point

[03:47:30.0000] <hsivonen>
All this would be so much simpler if UTF-16 had never been used for interchange

[03:48:01.0000] <SimonSapin>
why does utf16 require special treatment?

[03:49:19.0000] <annevk>
SimonSapin: because it's the only non-ASCII-compatible encoding

[03:49:32.0000] <hsivonen>
http://memegenerator.net/instance/28773378

[03:49:57.0000] <annevk>
SimonSapin: and generally people have no idea what they're doing

[03:50:07.0000] <SimonSapin>
even the various CJK encodings are ascii-compatible?

[03:50:16.0000] <annevk>
SimonSapin: yes, see the Encoding Standard

[03:50:17.0000] <hsivonen>
SimonSapin: yes.

[03:50:45.0000] <hsivonen>
SimonSapin: UTF-16 is the only encoding that doesn’t conform to the pattern

[03:50:55.0000] <hsivonen>
well, UTF-16 and UTF-16BE really

[03:51:08.0000] <SimonSapin>
ignoring utf32

[03:51:20.0000] <annevk>
utf-32 is not supported in most browsers

[03:51:32.0000] <hsivonen>
SimonSapin: UTF-32 is defined not to exist on the Web

[03:51:42.0000] <SimonSapin>
oh, ok

[03:51:46.0000] <annevk>
EBCDIC is also not ASCII-compatible, but does not exist either

[03:51:52.0000] <annevk>
"exist" :)

[03:52:21.0000] <annevk>
hsivonen: you know how to get that on w3cmemes?

[03:52:34.0000] <hsivonen>
annevk: I don’t

[03:52:35.0000] <SimonSapin>
the table in css2.1 has entries for EBCDIC, IBM1026 and GSM 03.38. whatever these are

[03:53:56.0000] <annevk>
CSS 2.1 was written when we had not looked at encodings in detail I think

[03:54:28.0000] <annevk>
or when the feeling was we should support all of them or something because IANA lists them in a document somewhere? I'm not entirely sure what the thinking was at the time, but we can now say it was wrong

[03:56:25.0000] <SimonSapin>
annevk: if you feel like writing up the details of how css3-syntax should get unicode from bytes, that would greatly help

[04:04:25.0000] <annevk>
SimonSapin: As I'm still trying to postpone working on URL conformance I guess I can do that

[04:07:38.0000] <annevk>
SimonSapin: are you co-editor or something?

[04:08:17.0000] <SimonSapin>
annevk: no. I’m implementer and recently joined the wg, but not editing anything

[04:09:16.0000] <SimonSapin>
but I’m interested in seeing this progress, and maybe I can push it a little in the group

[04:10:01.0000] <annevk>
kk, I'll take a look

[04:13:49.0000] <MikeSmith>
anybody know what plans if any there are for the Streams API draft

[04:14:05.0000] <MikeSmith>
the one from Microsoft

[04:16:12.0000] <annevk>
well they implement it

[04:16:41.0000] <annevk>
and sicking was finally convinced it's better than chunked

[04:16:53.0000] <annevk>
so I put it in XHR

[04:16:57.0000] <annevk>
haven't heard much since

[04:17:10.0000] <annevk>
but maybe that's because it's WHATWG XHR and Microsoft does not care about that?

[04:17:52.0000] <MikeSmith>
dunno

[04:18:55.0000] <MikeSmith>
but I thought part of the job of the three editors of the W3C XHR draft was to track your upstream changes and evaluate them and pull them to the W3C version as needed

[04:20:14.0000] <MikeSmith>
and the Crypto WG seems to be interested in the Streams spec as well

[04:20:23.0000] <MikeSmith>
and other people have asked me about it lately

[04:27:38.0000] <annevk>
SimonSapin: http://html5.org/temp/cssencoding.txt

[04:28:34.0000] <annevk>
SimonSapin: I think that can replace all that CSS 2.1 has

[04:28:48.0000] <annevk>
SimonSapin: note that the Encoding Standard deals with all the BOM stuff already so that does not need to be listed

[04:38:03.0000] <annevk>
MikeSmith: is it? I've heard surprisingly little about their plans

[04:38:26.0000] <annevk>
MikeSmith: though hallvors came in here the other day suggesting something like that

[04:38:35.0000] <annevk>
MikeSmith: and he'd maybe even contribute to whatwg/xhr

[04:40:39.0000] <MikeSmith>
annevk: I think that's the general plan for all things you're editing that have a W3C equivalent

[04:42:07.0000] <annevk>
need a lot of editors then :p

[04:42:16.0000] <MikeSmith>
yeah

[04:42:38.0000] <hsivonen>
annevk, SimonSapin: http://lists.w3.org/Archives/Public/www-style/2012Oct/0615.html

[04:43:17.0000] <annevk>
ah cool

[04:43:31.0000] <annevk>
I tweeted my thing cc'ing TabAtkins

[04:43:37.0000] <annevk>
hopefully he'll sort it out somehow

[04:43:42.0000] <hsivonen>
annevk: wait, you’t honor the charset declared by @charset even if there is a UTF-8 BOM?

[04:44:03.0000] <annevk>
hsivonen: no, BOM overrides all

[04:44:09.0000] <annevk>
hsivonen: BOM is part of step 7

[04:44:28.0000] <annevk>
hsivonen: that's why the input to decode is called "fallback encoding"

[04:44:29.0000] <hsivonen>
annevk: why bother with EF BB BF in step 3 then?

[04:44:39.0000] <annevk>
ooh that seems like a bug

[04:45:01.0000] <annevk>
shit I thought the difference there was quotes or no quotes

[04:45:05.0000] <annevk>
my bad

[04:45:23.0000] <annevk>
fixed

[04:45:32.0000] <hsivonen>
annevk: thanks

[04:45:54.0000] <matjas>
annevk: “the set label” → “then set label”

[04:45:58.0000] <matjas>
i think

[04:46:12.0000] <annevk>
matjas: yeah fixed that when I fixed the thing hsivonen just mentioned :)

[04:46:54.0000] <annevk>
hsivonen: whoa CSS 2.1 was crazy

[04:47:09.0000] <annevk>
hsivonen: overriding the utf-8 BOM if the @charset that followed it said something else

[04:47:48.0000] <hsivonen>
I should check if I accidentally made scripts inherit UTF-16

[04:48:57.0000] <hsivonen>
sigh. I did.

[04:49:29.0000] <hsivonen>
though so did our old script decoding code

[04:49:56.0000] <hsivonen>
/me files a bug

[04:57:32.0000] <annevk>
kind of funny that out of that big table in CSS 2.1 the only relevant line ends up being 40 63 68 61 72 73 65 74 20 22 (XX)* 22 3B

[04:58:20.0000] <annevk>
to be fair, that's mostly because it catered towards utf-16/utf-32/BOM, but also EBCDIC / IBM1026 / GSM?!

[05:07:25.0000] <hsivonen>
whoa! http://lists.w3.org/Archives/Public/www-style/2012Oct/0597.html French and Dutch consider 0 positive????!!!‼⁇⁈⁉‽

[05:08:33.0000] <jgraham>
Like IEEE 754 then :)

[05:09:03.0000] <annevk>
hsivonen: nah, that's just Belgian usage

[05:09:05.0000] <annevk>
hsivonen: http://nl.wikipedia.org/wiki/Positief_getal

[05:09:07.0000] <jgraham>
(as opposed to -0 ofc)

[05:09:20.0000] <annevk>
hsivonen: in Dutch it's neither negative nor positive

[05:09:57.0000] <annevk>
well, Dutch as practiced in the Netherlands

[05:10:59.0000] <SimonSapin>
hsivonen: I’m french; just saying "positive" is often ambiguous

[05:11:44.0000] <annevk>
non-negative is good though

[05:11:44.0000] <SimonSapin>
when I studied math or physics (in france) we always said "strictly positive" or "positive or zero"

[05:11:55.0000] <annevk>
but ideally we just define these words somewhere

[05:12:17.0000] <annevk>
SimonSapin: Belgium does the same "strikt positief" :)

[05:12:21.0000] <annevk>
(I just read)

[05:12:33.0000] <SimonSapin>
non-negative is good, but I never heard it in french

[05:18:01.0000] <Ms2ger>
Actually, it's more complicated in Belgium

[05:19:11.0000] <MikeSmith>
wondering how could it be more complicated then discussed above...

[05:19:12.0000] <hsivonen>
how can it be more complicated than a yes or no question?

[05:19:37.0000] <hsivonen>
Is 0 positive? Yes or no.

[05:19:54.0000] <Ms2ger>
"Can be either, depending on the field the person you're talking to works in"

[05:20:04.0000] <webben>
could one just substitute "more than 0" and "0 or more" ?

[05:21:00.0000] <jgraham>
Yes, I think that this is the point where karlcow starts saying things like "different cultures, different perspectives"

[05:21:31.0000] <annevk>
half full half empty?

[05:21:35.0000] <jgraham>
To explain why not everyone can agree on a single unambiguous definition for the word "positive"

[05:21:50.0000] <MikeSmith>
jgraham: :-)

[05:22:23.0000] <MikeSmith>
so please try to have these kinds of conversations while karl's around

[05:22:32.0000] <Ms2ger>
Clearly, everyone should just agree on positive for >0 and non-negative for >=0

[05:23:15.0000] <SimonSapin>
… and on the metric system, and utf-8, and driving on the right side of the road

[05:23:44.0000] <SimonSapin>
and don’t forget Esperanto :)

[05:23:56.0000] <Ms2ger>
All of that, except for Esperanto :)

[05:28:00.0000] <jgraham>
I thought even the made-up-language folks hated Esperanto

[05:28:41.0000] <jgraham>
Isn't Lobjan where all the hot geek action is these days?

[05:28:51.0000] <MikeSmith>
we should make a natural language based on JavaScript

[05:28:52.0000] <SimonSapin>
I don’t actually know any Esperanto or other made-up language

[05:29:05.0000] <jgraham>
MikeSmith: Never bet against javascript

[05:30:05.0000] <AryehGregor>
GPHemsley, I should be able to give you SSH access if you give me your public key, but I'm not actually sure I should be doing that, so maybe better to ask Hixie.

[05:30:23.0000] <hsivonen>
made-up language folks don’t seem too focused on installed base and Support Existing content

[05:31:51.0000] <annevk>
AryehGregor: yeah you're allowed to do that

[05:31:56.0000] <jgraham>
In the vein of "there's an xkcd for that": http://www.exocomics.com/101

[05:32:02.0000] <AryehGregor>
Okay, tnen.

[05:32:05.0000] <AryehGregor>
then.

[05:32:09.0000] <AryehGregor>
GPHemsley, then I'll need your public key.

[05:32:23.0000] <AryehGregor>
I should still have my own login info lying around.

[06:10:14.0000] <annevk>
kinda wished we had gone with "idl" in xref rather than "webidl"

[06:16:13.0000] <annevk>
so URL terminology

[06:16:18.0000] <annevk>
URL is a string

[06:16:32.0000] <annevk>
there's relative and absolute URLs (also both strings)

[06:16:51.0000] <annevk>
parsed URL is the object you get from parsing a URL

[06:17:33.0000] <annevk>
conformance of relative URLs hinges upon the base URL in play

[06:17:48.0000] <annevk>
(base URL needs to have an hierarchical scheme)

[06:18:32.0000] <annevk>
absolute URL consists of "scheme", "data", "fragment"; for hierarchical absolute URLs "data" is "domain", "port", "path", "query"

[06:18:36.0000] <annevk>
for others it depends

[06:20:22.0000] <annevk>
relative URLs are either relative authority relative URLs (start with //), query relative URLs (start with ?), fragment relative URLs (start with #), or path relative URLs (anything else)

[06:21:02.0000] <annevk>
"http:path" weirdness is non-conforming

[06:21:18.0000] <annevk>
because it depends on the base URL whether it's relative or absolute

[06:23:21.0000] <annevk>
and I'm not a 100% sure about URLUtils.valid anymore as it does not say much about whether the input was conforming, just whether parsing did not result in failure

[06:35:38.0000] <scott_gonzalez>
Shouldn't dialog.showModal() set focus to the dialog element itself if there is no autofocus element? http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#dom-dialog-showmodal

[06:35:50.0000] <scott_gonzalez>
Or is step 9 saying that the dialog shouldn't even open in that case?

[06:47:08.0000] <GPHemsley>
AryehGregor: Where do you want me to send/put it?

[06:47:53.0000] <annevk>
scott_gonzalez: it's saying focus is not changed in that case

[06:48:15.0000] <annevk>
scott_gonzalez: it's opened the moment the open attribute is added

[06:48:52.0000] <scott_gonzalez>
annevk: Wouldn't a modal dialog without focus be a problem?

[06:49:56.0000] <annevk>
scott_gonzalez: why?

[06:50:17.0000] <scott_gonzalez>
Because you can't interact with anything other than the dialog, but focus is outside of the dialog.

[06:50:25.0000] <annevk>
(it does seem like there should be some integration of the inertness concept and focusing)

[06:50:27.0000] <scott_gonzalez>
How would a keyboard user accomplish anything in that case?

[06:50:57.0000] <scott_gonzalez>
And how would screen readers know to announce the dialog if it doesn't have focus?

[06:51:03.0000] <annevk>
well the other things are marked inert so cannot be interacted with either

[06:51:05.0000] <scott_gonzalez>
Should I bring this to WAI PF?

[06:51:13.0000] <annevk>
presumably that means the focus is on the Window

[06:51:20.0000] <annevk>
scott_gonzalez: I'd raise it on the WHATWG list

[06:51:24.0000] <scott_gonzalez>
ok

[06:53:04.0000] <Stevef>
scott_gonzalez: I would suggest focus needs to move to the dialog itself

[06:53:23.0000] <scott_gonzalez>
Stevef: That is my thought as well, and what we do in jQuery UI.

[06:56:37.0000] <annevk>
is <dialog> defined as focusable element though?

[06:57:51.0000] <scott_gonzalez>
I'm not sure, but presumably it should be if there are no requirements for a focusable close button.

[06:58:24.0000] <scott_gonzalez>
I would think that `control` should fallback to the first tab focusable element if no element with autofocus exists.

[07:01:37.0000] <annevk>
scott_gonzalez: anyway, email the list explaining the potential problems and I'm sure Hixie will address it

[07:01:43.0000] <annevk>
bbl

[07:08:32.0000] <MikeSmith>
"relative authority relative URLs" don't roll off the tongue so well

[07:09:02.0000] <jgraham>
heh

[07:12:16.0000] <annevk>
MikeSmith: I was just thinking about that some more, I think they're actually scheme-relative URLs

[07:12:40.0000] <annevk>
authority-relative would be path/fragment/query combined, but I don't think we need a name for that

[07:13:43.0000] <annevk>
MikeSmith: oh I see, the double usage of "relative", heh

[07:14:52.0000] <MikeSmith>
yeah that part

[07:14:53.0000] <MikeSmith>
I meant

[07:15:27.0000] <MikeSmith>
annevk: anyway, fwiw, all you outlined above earlier sounds sane to me

[07:15:55.0000] <annevk>
the thing the IETF is not going to like is that this stuff is scheme-dependent

[07:16:08.0000] <MikeSmith>
right

[07:16:09.0000] <annevk>
but at least for the hierarchical stuff that's how it's implemented

[07:16:11.0000] <MikeSmith>
but that is a face

[07:16:14.0000] <MikeSmith>
*fact

[07:16:19.0000] <MikeSmith>
yeah, what you said

[07:16:41.0000] <MikeSmith>
if they don't like reality there's not much we can do about that

[07:17:21.0000] <MikeSmith>
and I don't really think it's so widespread a dislike at the IETF

[07:17:27.0000] <MikeSmith>
I think it's a very vocal minority

[07:17:39.0000] <MikeSmith>
or a kind of "Moral Majority"

[07:18:48.0000] <MikeSmith>
I really wonder what causes people to turn from being pragmatic into becoming techno-reactionaries

[07:22:06.0000] <annevk>
MikeSmith: you want as "Michael™ Smith" in the acknowledgments or without the ™?

[07:22:19.0000] <annevk>
MikeSmith: and apologies for adding you so late, and even more apologies to abarth!

[07:23:01.0000] <MikeSmith>
annevk: I didn't do much

[07:23:10.0000] <MikeSmith>
but if you put me, with the tm in some form is great

[07:23:15.0000] <GPHemsley>
AryehGregor_: Where do you want me to send/put it?

[07:53:05.0000] <[tm]>
wow http://labs.ft.com/2012/06/text-re-encoding-for-optimising-storage-capacity-in-the-browser/

[07:59:09.0000] <hsivonen>
[tm]: so sad

[08:05:26.0000] <GPHemsley>
Hixie: I can't find any external contenteditable standard, and it seems to still be in HTML.

[08:06:48.0000] <annevk>
GPHemsley: that wiki page is talking about http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html

[08:15:36.0000] <GPHemsley>
annevk: Ah, thanks.

[08:39:40.0000] <annevk>
GPHemsley: btw, were you planning on maintaining mimesniff?

[08:40:01.0000] <annevk>
GPHemsley: if you need help in retrofitting what's there now as input for Anolis, let me know

[08:41:30.0000] <GPHemsley>
annevk: I hadn't thought about it, but I could give it a shot...

[08:41:55.0000] <GPHemsley>
annevk: If you're referring to the error I mentioned a while back, it was just the first one I grabbed.

[08:42:26.0000] <GPHemsley>
annevk: But if you're looking to lighten your load

[08:45:36.0000] <annevk>
GPHemsley: heh, I'm not doing anything with it at the moment and I don't think abarth is either

[08:45:46.0000] <GPHemsley>
yeah, was just gonna ask

[08:45:56.0000] <GPHemsley>
(I just assumed it was you, until I looked)

[08:46:05.0000] <annevk>
GPHemsley: not sure much needs to be done other than font sniffing, but there's a few other MIME related matters that could use looking at

[08:46:20.0000] <GPHemsley>
Did we ever get an answer as to where the source was?

[08:48:58.0000] <annevk>
I suspect either abarth has it or lost it

[08:49:10.0000] <annevk>
judging by https://github.com/abarth/websec/tree/master/drafts it was never in git

[08:49:28.0000] <jgraham>
Um, why don't the FT people just use some proper form of compression on the data they want to store?

[08:51:15.0000] <[tm]>
annevk: GPHemsley : i think before maybe abarth wasusin some

[08:51:32.0000] <[tm]>
some xml thing

[08:51:55.0000] <[tm]>
so that he could generate the ietf version

[08:52:55.0000] <[tm]>
in whatever asshat format that requires

[08:53:58.0000] <annevk>
GPHemsley: but it hardly has any cross-references so rewriting it back to normal is trivial

[08:54:23.0000] <GPHemsley>
annevk: Well, I don't have any experience using anolis, so I'd need guidance either way ;)

[08:55:00.0000] <annevk>
GPHemsley: I can make the Overview.src.html, was planning on doing that anyway

[08:55:08.0000] <GPHemsley>
alrighty

[08:56:01.0000] <annevk>
but yeah, with regards to MIME; MIME type parsing needs to be defined at some point

[08:56:40.0000] <annevk>
string -> parsing -> MIME object -> serialize (with options such as without parameters, lowercase)

[08:56:55.0000] <annevk>
and then everything in the platform that takes a MIME type needs to hook into that somehow

[08:57:00.0000] <annevk>
(or not)

[08:57:29.0000] <annevk>
and no longer tying MIME to IANA would also be nice

[09:01:45.0000] <GPHemsley>
annevk: You'd still want to have a registry though, no?

[09:02:03.0000] <annevk>
GPHemsley: yeah, wiki thing

[09:02:10.0000] <GPHemsley>
hmm

[09:07:44.0000] <[tm]>
the wiki thing in practice is not proving to be so brilliant

[09:09:04.0000] <[tm]>
though it's still better than the byzantine iana etc. stuff

[09:09:21.0000] <GPHemsley>
[tm]: What are the problems?

[09:10:30.0000] <[tm]>
GPHemsley: with the iana way?

[09:10:40.0000] <GPHemsley>
[tm]: No, with the wiki way

[09:10:46.0000] <[tm]>
ah

[09:11:06.0000] <[tm]>
there's an open bug about that

[09:11:30.0000] <[tm]>
remind me later if you care enough

[09:11:42.0000] <[tm]>
away from my pc now

[09:12:04.0000] <GPHemsley>
k

[09:13:21.0000] <[tm]>
the rel registry at micriformats.org is particularly FUBAR by design

[09:13:35.0000] <GPHemsley>
http://microformats.org/wiki/existing-rel-values

[09:14:13.0000] <[tm]>
was a bad idea to hitch sny wagon to that mess

[09:14:59.0000] <GPHemsley>
can it be unhitched?

[09:15:35.0000] <[tm]>
i sure hope so

[09:16:15.0000] <[tm]>
if common sense can eventually prevail

[09:16:20.0000] <GPHemsley>
You know what would be cool? If using a +modifier on a mailing list e-mail address automatically added it in brackets to the subject

[09:16:50.0000] <GPHemsley>
e.g. whatwg+mimesniff⊙wo => [mimesniff] sadfasdfj

[09:17:19.0000] <GPHemsley>
and likewise, subscribing to such e-mail addresses would only give you the messages prefixed as such

[09:17:42.0000] <GPHemsley>
then, those who want everything can subscribe to whatwg⊙wo

[09:17:53.0000] <GPHemsley>
and those who don't can subscribe only to the modifiers they want

[09:18:47.0000] <GPHemsley>
though I imagine someone will have to talk to the Mailman developers about that

[10:04:52.0000] <GPHemsley>
ugh, the structure of an MP3 is annoyingly variable

[10:26:27.0000] <GPHemsley>
Where does the code that powers the website live? And who's in charge of that?

[10:28:44.0000] <Hixie>
MikeSmith: i like the one where the guy says application/xhtml+xml and application/xml are in any way different

[10:29:06.0000] <Hixie>
MikeSmith: fwiw i'm planning on ignoring those, sometime next year i'll figure out a more practical way of documenting Content-Type values

[10:29:38.0000] <Hixie>
annevk: i think that table was by dbaron, but i could be wrong

[10:33:43.0000] <Hixie>
GPHemsley: i encourage you not to write text that is less accurate than possible in the interests of political correctness

[10:34:02.0000] <Hixie>
GPHemsley: e.g. webdatabase is dead, it's not "not being actively maintained"

[10:34:26.0000] <Hixie>
GPHemsley: politically correct phraseaology tends to mislead people who aren't familiar with the politics

[10:40:53.0000] <GPHemsley>
Hixie: IMO, saying it is dead is the language that is less accurate than possible. A spec cannot be "dead" so long as the document is still present and available.

[10:41:19.0000] <Hixie>
that's like saying a person can't be dead while the corpse isn't ceremated :-)

[10:41:50.0000] <GPHemsley>
Not really, because a spec can be resurrected at a future date (just like with HTML)

[10:42:14.0000] <Hixie>
HTML never died

[10:42:30.0000] <Hixie>
but would "abandoned" be better?

[10:42:46.0000] <GPHemsley>
I suppose, as long as you keep the date, as well.

[10:43:07.0000] <TabAtkins>
SimonSapin: If it's editorial, feel free to make the edit yourself, and ping me about it.  Just be sure to honor the indentation/line-breaking style of the spec you're editting. ^_^

[10:43:16.0000] <Hixie>
i changed the date to "late 2010" since it's hard to pin down exactly when it was last maintained (it was certainly before the last date on the spec)

[10:43:36.0000] <Hixie>
(since i stopped working on it months before people asked for the warning to be added on the w3c copy)

[10:43:46.0000] <GPHemsley>
Very well

[10:43:48.0000] <Hixie>
(i even stopped working on it months before i deleted it out of the whatwg copy)

[10:43:56.0000] <Hixie>
(which itself was long before the warning was added)

[10:44:04.0000] <SimonSapin>
TabAtkins: see http://www.w3.org/mid/5083ED64.1090402⊙kf

[10:46:07.0000] <GPHemsley>
Hixie: Are the W3C versions of workers, sockets, storage, and server-side events identical to the language in the WHATWG HTML spec?

[10:46:50.0000] <Hixie>
the headers are definitely different

[10:47:00.0000] <GPHemsley>
content-wise

[10:47:16.0000] <GPHemsley>
normatively

[10:47:23.0000] <Hixie>
dunno how much the bodies differ, think the gorup froze the non-dev versions for TR/ publication

[10:47:26.0000] <Hixie>
i don't pay much attention

[10:48:25.0000] <GPHemsley>
well, these links are to the dev versions

[10:48:46.0000] <Hixie>
those should be more or less identical, at least in ways that matter

[10:48:58.0000] <Hixie>
certainly much more so than the w3c html5 spec

[10:49:14.0000] <GPHemsley>
I'm just wondering if the relationship between HTML5 and HTML is significantly different from the rest to warrant two different sections

[10:49:27.0000] <Hixie>
ah

[10:49:28.0000] <GPHemsley>
Because HTML5 is unambiguously a fork; perhaps the others strictly aren't.

[10:49:33.0000] <Hixie>
i wouldn't worry about it

[10:52:37.0000] <TabAtkins>
SimonSapin: I'm fine with changing it to "CSS in", but the "dot" is intentionally ambiguous, and should be defined wherever it is used. (I might not be doing this in Images 3 right now.)

[10:52:48.0000] <TabAtkins>
In MQ, it's device pixels.  In Images, it's image pixels.

[10:53:16.0000] <GPHemsley>
Hixie: Also, if you could double-check the names for the former sections of the spun-off specs, that'd be great. I don't know where to find those, but I think we should make sure they're correct for anyone looking for them by their old names.

[10:53:33.0000] <GPHemsley>
Hixie: In many cases, I had to guess, because I didn't know where to look to find that info.

[10:56:24.0000] <Hixie>
GPHemsley: the names changed a lot over time

[10:56:43.0000] <Hixie>
GPHemsley: which names should we list?

[10:56:58.0000] <GPHemsley>
the most recent one before it was spun off

[10:57:00.0000] <GPHemsley>
I think

[10:57:22.0000] <Hixie>
that should almost always be the same as the new spec's name

[10:57:38.0000] <GPHemsley>
Oh, hmm

[10:58:15.0000] <Hixie>
actually /tr/html5 might actually be useful for this purpose :-)

[10:58:39.0000] <GPHemsley>
ah! :)

[10:59:32.0000] <Hixie>
yeah if you go back far enough you should be able to use those to find section names

[10:59:42.0000] <Hixie>
i expect in many cases it'll be difficult to pick one section name, though

[11:01:21.0000] <GPHemsley>
alright, I'll take a look

[11:02:52.0000] <scott_gonzalez>
Hixie: When I said that dialog's control should fall back to the first tab focusable element, I meant within the dialog, which would exclude the body.

[11:03:10.0000] <Hixie>
doesn't make any difference, does it?

[11:03:37.0000] <scott_gonzalez>
Well, it does in terms of what has focus to get exposed to AT.

[11:04:09.0000] <scott_gonzalez>
You said "This is no different than when the page first loads. If nothing has

[11:04:10.0000] <scott_gonzalez>
autofocus="", or if no script calls .focus(), then nothing in the page has

[11:04:10.0000] <scott_gonzalez>
focus."

[11:04:16.0000] <scott_gonzalez>
But the body gets focus in that case.

[11:04:22.0000] <Hixie>
not really

[11:04:35.0000] <Hixie>
the body having focus is one of those weird hacks that's not entirely true but we mostly pretend

[11:04:42.0000] <Hixie>
anyway, i would expect ATs to implement <dialog> natively and report that a dialog was opened, and act accordingly

[11:05:18.0000] <tantek>
[t m] why do you say "wiki thing in practice is not proving to be so brilliant" and "particularly FUBAR by design" ? do you have specific problems or suggested improvements?

[11:05:21.0000] <tantek>
[tm]

[11:05:40.0000] <scott_gonzalez>
So I guess I should ask browser vendors if they will expose the information when the dialog doesn't have focus?

[11:06:16.0000] <Hixie>
scott_gonzalez: what information?

[11:06:26.0000] <scott_gonzalez>
That the dialog has opened.

[11:06:50.0000] <scott_gonzalez>
If you do this in JS and use ARIA, I'm fairly certain nothing is announced unless the dialog gets focus.

[11:06:58.0000] <Hixie>
it'd be pretty inaccessible if you didn't report it

[11:07:03.0000] <Hixie>
ARIA has nothing to do with this

[11:07:15.0000] <scott_gonzalez>
I realize ARIA isn't involved here.

[11:07:34.0000] <scott_gonzalez>
But it's the only thing I can reference in terms of what browsers are exposing right now.

[11:07:54.0000] <scott_gonzalez>
For example, you can't have an alert() that doesn't get focus.

[11:08:04.0000] <tantek>
for anything microformats related, e.g. the rel-registry http://microformats.org/wiki/existing-rel-values, feel free to also /join #microformats and ask questions / provide feedback there

[11:08:37.0000] <tantek>
we'll continue to make improvements as people point out specific problems or make specific suggestions. thanks!

[11:09:04.0000] <Hixie>
scott_gonzalez: i think there are multiple things here that you are conflating but that are separate.

[11:09:34.0000] <Hixie>
scott_gonzalez: 1. reporting to the user that there is a (modal) dialog. 2. the keyboard focus. 3. the AT focus.

[11:10:12.0000] <Hixie>
scott_gonzalez: on Mac, if a dialog comes up, the app has keyboard focus, but no control in the dialog need have focus. a control will have AT focus, however.

[11:11:37.0000] <GPHemsley>
Hixie: Wrt the republications, why do you feel that it should be emphasized that the work is originally done in the WHATWG? (The entire page is already referring specifically to the WHATWG standard.)

[11:12:22.0000] <Hixie>
GPHemsley: because people have accused me of stealing from the w3c html spec and that pisses me off

[11:12:32.0000] <GPHemsley>
ah, ok :)

[11:12:36.0000] <Hixie>
:-)

[11:16:30.0000] <scott_gonzalez>
Hixie: I see what you're saying. So it's impossible to fully emulate the focus with JavaScript, correct?

[11:16:52.0000] <scott_gonzalez>
Because document.activeElement would continue to be the element that had focus prior to the dialog being shown?

[11:17:34.0000] <scott_gonzalez>
At least that's the behavior I'm seeing with alert() in Chrome, even while the OK button has focus inside the dialog.

[11:17:35.0000] <Hixie>
scott_gonzalez: not sure what you mean by "emulate the focus", but when a dialog comes up, if the previously focused element is now inert, it loses focus.

[11:18:54.0000] <scott_gonzalez>
If I focus on an element, then run alert() in the console, document.activeElement continues to be the previously focused element.

[11:19:06.0000] <scott_gonzalez>
But the whole page is inert, correct?

[11:20:20.0000] <Hixie>
no

[11:20:41.0000] <Hixie>
alert() is a different OS-level window, it doesn't affect the in-page focus of the previous page

[11:20:50.0000] <Hixie>
"inert" is a technical term that is used to implement <dialog>

[11:28:47.0000] <scott_gonzalez>
I guess I'll just have to wait for an implementation to be available.

[11:37:37.0000] <Hixie>
annevk: dude, i'm so not making every non-utf8 doc non-conforming. :-/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=15332

[11:38:29.0000] <annevk>
GPHemsley: for the registrations Hixie had this idea to have a wiki page and move the ones that are proven into the main specification (with reference to another specification if present or otherwise inline)

[11:39:10.0000] <GPHemsley>
Interesting...

[11:39:17.0000] <annevk>
GPHemsley: either something like that or we'd need someone to make a web service of sorts, but the annoying thing with that is that you need to solve a lot of the same problems with respect to identity and such

[11:39:48.0000] <GPHemsley>
annevk: Identity of what? The person submitting?

[11:40:12.0000] <annevk>
GPHemsley: yeah, the nice thing about the wiki is that you already have an account and such

[11:40:34.0000] <annevk>
nice thing about a web service would be that the validator logic would become a bit simpler, because wiki scraping sucks

[11:40:52.0000] <annevk>
and the wiki already has history and such too

[11:41:21.0000] <GPHemsley>
why does identity matter? should only the attachment to a particular spec matter?

[11:41:28.0000] <GPHemsley>
s/should/shouldn't/

[11:41:52.0000] <Hixie>
i expect to do this registry stuff sometime next year

[11:42:03.0000] <annevk>
GPHemsley: you need some kind of protection against spammers

[11:42:43.0000] <GPHemsley>
annevk: Random spammers or malicious registration spammers?

[11:43:04.0000] <annevk>
GPHemsley: is there a difference?

[11:43:06.0000] <Hixie>
need to think about it some more, but i'm thinking there's conforming entries with spec text, non-conforming entries that describe actual use, experimental entries that people want to use, and rejected entries that were experimental and didn't work out

[11:43:17.0000] <annevk>
Hixie: I need something for URLs too

[11:43:22.0000] <GPHemsley>
annevk: Well, the former is nonsensical and the latter is... not

[11:43:35.0000] <Hixie>
annevk: oh there's lots of registries here

[11:44:17.0000] <Hixie>
mime, rel, meta name are the three big ones i have to deal with

[11:44:20.0000] <Hixie>
but there are many others

[11:44:48.0000] <Hixie>
meta name has been interesting, there are SO MANY out there

[11:44:57.0000] <Hixie>
not sure what we should do with that yet

[11:45:34.0000] <annevk>
it's pretty successful too

[11:47:36.0000] <annevk>
https://twitter.com/masinter/status/260438941751201792 heh

[11:49:39.0000] <Hixie>
annevk: it certainly documents more values than iana would

[11:49:39.0000] <annevk>
URL schemes is pretty interesting, as it has an effect on parsing

[11:49:48.0000] <Hixie>
annevk: but it has failed at making authors avoid dumb values

[11:49:52.0000] <Hixie>
anyway, gotta go to work, bbiab

[11:52:03.0000] <annevk>
I love http://lists.w3.org/Archives/Public/uri/2012Oct/0011.html

[11:52:41.0000] <annevk>
The way to achieve KISS is by writing specs like the way Hixie wrote HTML, by spelling out every single thing that needs to be done

[11:53:12.0000] <annevk>
Because only then do you realize a) HTML is actually super complex and b) you could probably design something simpler that does just as well

[11:53:49.0000] <annevk>
The way to achieve KISS is not by writing simpler specs, it's by coming up with simpler constructs, less variance, etc.

[11:55:38.0000] <GPHemsley>
Argh, HTML archaelogy is hard.

[11:56:42.0000] <annevk>
GPHemsley: following @mattur on twitter yet?

[11:57:29.0000] <GPHemsley>
annevk: No, why?

[11:57:42.0000] <divya>
he is the doyen of html archealogy

[11:58:03.0000] <annevk>
The problem with some members of the TAG, like Noah, is that they don't like complex specs for some reason, but we're only describing what was already out there. We're not even introducing new complexity in many cases. Far more often reducing it (e.g. the Encoding Standard makes many simplifications over what we have now).

[11:59:07.0000] <GPHemsley>
annevk, divya: Well, it's made more difficult by the fact that github is treating the (W3C-converted?) source as a binary file, even though it's all text.

[11:59:16.0000] <annevk>
Most of the HTML standard is about reducing complexity too. First you had 4+ different complex HTML parser implementations. Now you have 4+ equivalent complex HTML parser implementations (that all got slightly saner too).

[11:59:48.0000] <annevk>
GPHemsley: use http://html5.org/tools/web-apps-tracker ?

[12:00:14.0000] <GPHemsley>
I need access to the contents of the file itself at a given revision

[12:00:23.0000] <GPHemsley>
I'm trying to track down when things changed

[12:00:35.0000] <GPHemsley>
in 2009

[12:00:36.0000] <GPHemsley>
;)

[12:00:53.0000] <GPHemsley>
it's alright, I'm almost there

[12:01:18.0000] <annevk>
GPHemsley: there's a secret parameter named limit

[12:01:24.0000] <annevk>
GPHemsley: set it -1 and enjoy

[12:01:29.0000] <GPHemsley>
can't wait to find out what the commit message is, because it's clearly not going to be especially descriptive

[12:01:42.0000] <GPHemsley>
annevk: The problem is, I don't know what I'm looking for

[12:01:48.0000] <GPHemsley>
beyond the contents of the file

[12:02:19.0000] <GPHemsley>
I've narrowed it down to a few days in June 2009

[12:02:28.0000] <AryehGregor_>
GPHemsley, just give it to me on IRC, or pastebin or something.  Or e-mail, which would probably be best because then I'll see it.

[12:02:45.0000] <GPHemsley>
AryehGregor: .name?

[12:02:47.0000] <AryehGregor>
Oh, you're around right now.  So just give it to me on IRC.

[12:02:49.0000] <AryehGregor>
?

[12:03:10.0000] <AryehGregor>
ayg⊙an will work.

[12:03:20.0000] <AryehGregor>
May as well just tell me on IRC, though, once we're here.

[12:03:51.0000] <GPHemsley>
AryehGregor: I already had the draft set up, so I sent it via e-mail. :)

[12:05:15.0000] <AryehGregor>
GPHemsley, try logging in.  whatwikiuser⊙wo

[12:05:28.0000] <AryehGregor>
(yes, it's a shared login and I just added you to authorized_keys)

[12:05:59.0000] <GPHemsley>
works, thanks

[12:06:42.0000] <GPHemsley>
/me is suddenly doing a hundred things at once

[12:18:17.0000] <GPHemsley>
annevk: I don't suppose there's a way to view the HTML page as it was at a particular revision?

[12:18:28.0000] <GPHemsley>
(the compiled version)

[12:32:53.0000] <annevk>
GPHemsley: no

[12:33:38.0000] <annevk>
GPHemsley: I have thought about doing it, but a) the subresources make that complex and b) it would take up a lot of space (but that's not necessarily a problem)

[12:33:59.0000] <annevk>
GPHemsley: also, usually you can get pretty far by using the W3C snapshots

[12:39:20.0000] <tantek>
Hixie - for a while I considered setting up documentation of existing meta name values on the microformats wiki similar to rel values, but to date it's been rejected due to meta name being an encouragement of the use of invisible metadata which is seen as bad (for data quality etc.) in general.

[12:39:52.0000] <tantek>
what's the utility of "validating" the use of meta names which are likely going to be used to pollute the web anyway?

[12:41:05.0000] <tantek>
that being said, it does seem like every new semi-popular social content hosting site wants to make up their own meta names (or pseudo-rdfa-like properties, FB OGP ahem) for purposes of "stuff about the page to include when someone posts a link to the page"

[12:41:43.0000] <TabAtkins>
hsivonen, annevk: Syntax spec updated to use Anne's list of steps and point to the Encoding Standard.

[12:41:44.0000] <tantek>
when multiple vendors independently innovate something like that, usually it's a sign that there's a need for a standard to reduce the burden on publishers.

[12:43:30.0000] <tantek>
so because of that, we may end up documenting research on existing meta name/property usage anyway :/

[12:43:40.0000] <tantek>
not sure it will be useful as a "registry"

[12:43:52.0000] <tantek>
but hey, that's how existing-rel-values started (documenting a few things)

[12:44:04.0000] <tantek>
and then eventually it turned into the most comprehensive documentation of rel values on the web

[12:44:59.0000] <tantek>
which I think is due more to it being on a wiki page than having anything to do with microformats in particular, although the culture of the microformats community is a very research/documentation-centric culture so that probably had something to do with it.

[12:45:29.0000] <tantek>
in contrast to a "just email your proposal to a mailing list and the 'experts' will consider it and get back to you eventually" type "culture"

[12:46:23.0000] <annevk>
TabAtkins: sweet, will review later!

[12:46:39.0000] <annevk>
MikeSmith: can we get a MIME component under the WHATWG product?

[12:58:41.0000] <annevk>
I updated http://mimesniff.spec.whatwg.org/ to be generated from a source file

[12:58:45.0000] <annevk>
It can use some work still

[13:01:03.0000] <annevk>
tantek: that's in part why I moved the specs to GitHub, so people can hack on the text

[13:01:43.0000] <annevk>
tantek: two pull requests to date, but I'm hoping it'll go better long term

[13:01:58.0000] <tantek>
annevk - github does lower the barrier to entry to contributing to specs

[13:02:31.0000] <tantek>
I tried (unsuccessfully) to get the CSSWG to "skip" using HG/mercurial and just wait with CVS a bit longer until it was obvious everyone was going to switch eventually to git/github

[13:03:02.0000] <tantek>
to avoid one unnecessary infrastructure transition

[13:04:12.0000] <annevk>
I should have done that in retrospect, but this works

[13:04:29.0000] <annevk>
and porting history was easier starting with hg

[13:04:47.0000] <tantek>
oh ok, that's good then

[13:05:56.0000] <annevk>
SimonSapin: TabAtkins just updated css3-syntax ;)

[13:07:47.0000] <SimonSapin>
annevk: yeah, I just saw that. Thanks for your input ;)

[13:23:37.0000] <zcorpan>
krijn: log page isn't updating properly

[13:34:06.0000] <krijn>
zcorpan: sorry, fixed

[13:37:06.0000] <zcorpan>
someone should make a meme of glenn adams' replies to hsivonen on www-style

[13:44:25.0000] <jgraham>
Hixie: To an excellent approximation, all documents are already invalid, so making UTF8 required for conformance hardly seems like it would make much difference

[13:46:07.0000] <jgraham>
othermaciej: I like your ideas and would like to subscribe to your newsletter

[13:46:42.0000] <othermaciej>
jgraham: which ideas?

[13:46:43.0000] <jgraham>
Or, more specifically, would like to attend your "how to use mailing lists more productivly" session at TPAC

[13:47:45.0000] <jgraham>
(I assume you meant it as a plenary day topic rather than a HTMLWG topic?)

[13:50:37.0000] <othermaciej>
I meant it as an HTML WG topic for HTML WG's use of lists specifically, but it sounds like it could also be a good plenary day topic

[13:51:27.0000] <jgraham>
Well I guess I am happy with either

[13:52:47.0000] <zcorpan>
TabAtkins: "If label is null, set label to the value of charset attribute on the <link> element that caused the style sheet to be included, if any." this could be xml-stylesheet as well (unless i dropped support for charset there? don't recall)

[13:53:40.0000] <zcorpan>
anyway, should probably be more generic or just provide a hook for the html spec to use or so

[13:54:30.0000] <TabAtkins>
zcorpan: Tell annevk, I just reused his text with light rephrasing. ^_^

[13:54:43.0000] <annevk>
TabAtkins: hey, you are responsible now ;)

[13:55:04.0000] <TabAtkins>
I explicitly disclaim any responsibility for encoding.

[13:55:21.0000] <zcorpan>
does step 6 match implementations?

[13:55:31.0000] <GPHemsley>
ALERT: I'm going to be starting the wiki upgrade momentarily. If there are any objections, raise them now. If not, expect the wiki to be a little weird for a while.

[13:55:55.0000] <zcorpan>
i would have expected that a bogus encoding decl falls back to inheriting the encoding instead of falling back to utf-8

[13:56:26.0000] <zcorpan>
or look for the next place that declares a label to see if that's a valid label

[13:56:35.0000] <annevk>
zcorpan: you mean the "get an encoding from label" thing happens between every step?

[13:56:42.0000] <GPHemsley>
Hixie, annevk, AryehGregor: Any objections?

[13:56:57.0000] <zcorpan>
annevk: something like that yeah

[13:57:00.0000] <annevk>
GPHemsley: did you backup?

[13:57:03.0000] <GPHemsley>
yup

[13:57:07.0000] <annevk>
GPHemsley: go ahead

[13:57:55.0000] <annevk>
zcorpan: yeah so if that's the case I guess we need to make things a bit easier

[13:58:05.0000] <annevk>
zcorpan: not entirely sure how

[13:58:29.0000] <zcorpan>
easier in what way?

[13:58:37.0000] <annevk>
zcorpan: maybe introduce "known label" as a concept

[13:59:09.0000] <annevk>
if label is null, set label to the value of the charset attribute on ..., if that is a known label"

[14:00:08.0000] <zcorpan>
oh easier to spec

[14:00:11.0000] <tantek>
/me scrolls up, reading about UTF-8 and validity

[14:00:45.0000] <zcorpan>
i don't see why that's easier than the current "get an encoding", offhand

[14:01:07.0000] <annevk>
try to rephrase that using get an encoding

[14:01:17.0000] <tantek>
othermaciej - if you did that as a plenary day topic, I would be very tempted to show up and take notes in order to capture them on the wiki ;)

[14:01:36.0000] <annevk>
you only want to set label if get an encoding does not return failure basically

[14:01:51.0000] <annevk>
at least, it seems to be that's what you're saying, this is all untested thus far

[14:02:30.0000] <tantek>
hmm, I think I would be ok with making UTF-8 required for HTML5 documents.

[14:02:42.0000] <tantek>
is that the basic idea jgraham?

[14:02:44.0000] <annevk>
GPHemsley: any chance we can configure the wiki to not have the redundant /wiki/ thing and redirect the old stuff?

[14:02:54.0000] <TabAtkins>
That would effectively make <meta charset=utf-8> a required part of every document, since documents default to something else.

[14:02:55.0000] <GPHemsley>
annevk: One thing at a time :)

[14:02:56.0000] <annevk>
GPHemsley: not sure if it's worth it btw

[14:03:09.0000] <zcorpan>
annevk: i'd just abort the algorithm once an encoding is found (or jump to the last step)

[14:03:13.0000] <annevk>
TabAtkins: yeah, that or a BOM or a content-type

[14:04:28.0000] <tantek>
annevk - we're actually thinking of making that same change (dropping the need for /wiki/ ) at microformats.org, since the wiki is where the newest content has all ended up, and the other semi-static areas (all in WordPress) are not as interesting.

[14:04:46.0000] <annevk>
zcorpan: still seems like that would be pretty unwieldy

[14:04:53.0000] <tantek>
new community sites are wiki-based but without the /wiki/ , e.g. http://indiewebcamp.com/

[14:05:03.0000] <tantek>
(as used by #indiewebcamp )

[14:05:26.0000] <annevk>
well we already have wiki.whatwg.org

[14:05:32.0000] <annevk>
and then another /wiki/ to boot

[14:06:08.0000] <TabAtkins>
tantek: I didn't even realize there was a non-wiki portion of Microformats.org

[14:06:44.0000] <tantek>
Exactly my point Tabatkins

[14:06:59.0000] <tantek>
in 2005, we used the building blocks for independent community as we best understood them.

[14:07:18.0000] <tantek>
over time we've learned what works and what doesn't, what becomes a good source of the latest "truth" and what becomes a "support forum" ;)

[14:08:13.0000] <annevk>
oh god

[14:11:22.0000] <zcorpan>
annevk: data:text/html;charset=windows-1251,<!DOCTYPE%20html>%0A<link%20rel%3Dstylesheet%20charset%3D"bogus"%20href%3D"data%3Atext%2Fcss%3Bcharset%3Dbogus%2C%40charset%20%26quot%3Bbogus%26quot%3B%3B%20body%3A%3Abefore%20%7B%20content%3A'%C3%A9'%20%7D">x%20

[14:11:28.0000] <annevk>
GPHemsley: well now we know you're maintaining we're gonna spam you of course :-)

[14:11:36.0000] <GPHemsley>
:)

[14:11:43.0000] <zcorpan>
starting point; haven't figured out what actually happens

[14:11:49.0000] <zcorpan>
now i need sleep

[14:13:39.0000] <tantek>
GPHemsely - thanks for maintaining the wiki - greatly appreciated.

[14:13:49.0000] <tantek>
GPHemsley even :)

[14:14:03.0000] <GPHemsley>
don't thank me yet :P

[14:19:20.0000] <zcorpan>
what's up with the whatwg wiki?

[14:20:03.0000] <annevk>
GPHemsley is updating it

[14:21:29.0000] <GPHemsley>
OK, the wiki is back up, but I have to figure out why the short URLs are broken

[14:21:31.0000] <Hixie>
jgraham: that seems a bit harsh

[14:21:43.0000] <Hixie>
GPHemsley: you know abotu the blame.r* files right?

[14:21:50.0000] <zcorpan>
ah

[14:22:03.0000] <GPHemsley>
Hixie: No, where are they?

[14:22:49.0000] <zcorpan>
Hixie: what bad effects would a utf-8 requirement cause?

[14:23:03.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/blame.r* where the values of blame.r* are: (please hold, your call is important to us)

[14:24:06.0000] <annevk>
tantek: can't find the license of the microformats wiki

[14:24:17.0000] <Hixie>
blame.r0005 blame.r0050 blame.r0500 blame.r0954 blame.r1000 blame.r1250 blame.r1500 blame.r1838 blame.r1863 blame.r1936 blame.r1976 blame.r1980 blame.r2000 blame.r2200 blame.r2216 blame.r2500 blame.r2800 blame.r2905 blame.r2947 blame.r3000 blame.r3075 blame.r3250 blame.r3500 blame.r4000 blame.r4667 blame.r5000 blame.r5287 blame.r5372 blame.r5600 blame.r6000 blame.r6400 blame.r6666 blame.r7000 blame.r7393

[14:24:23.0000] <tantek>
annevk - CC)

[14:24:24.0000] <tantek>
er

[14:24:26.0000] <tantek>
CC0

[14:24:30.0000] <tantek>
it's on every edit that's done

[14:24:31.0000] <zcorpan>
maybe there would be more stuff being mislabeled as utf-8 when it's not in fact utf-8

[14:24:37.0000] <tantek>
since the end of 2007

[14:25:00.0000] <annevk>
tantek: but it's not stated anywhere visibly

[14:25:09.0000] <tantek>
every edit since then was a required public domain contribution per Creative Commons, forward compatible with CC0

[14:25:13.0000] <Hixie>
zcorpan: just seems like make-work for people who are happily using win1252 or whatever.

[14:25:16.0000] <tantek>
it is on the Copyright page

[14:25:29.0000] <Hixie>
zcorpan: not saying that utf-8 shouldn't be _strongly_ recommended, but still, non-utf-8 still works

[14:26:02.0000] <annevk>
tantek: link? cannot find that

[14:26:17.0000] <zcorpan>
Hixie: only if you don't mind being limited to ascii for new features where we require utf-8

[14:26:32.0000] <Hixie>
zcorpan: like what?

[14:26:38.0000] <zcorpan>
like workers

[14:26:53.0000] <Hixie>
can't put html in workers

[14:27:04.0000] <tantek>
annevk: LMGTFY microformats copyright http://microformats.org/wiki/Microformats_Wiki:Copyrights

[14:27:05.0000] <GPHemsley>
Hixie: Ah, very nice, thanks!

[14:27:08.0000] <tantek>
:)

[14:27:44.0000] <zcorpan>
Hixie: so? you can put text in a worker and send text from an html page to a worker

[14:27:54.0000] <annevk>
tantek: I guess Google would have been a better choice than using the microformats wiki search

[14:27:56.0000] <TabAtkins>
"

[14:28:05.0000] <TabAtkins>
"can't put html in workers" yet.

[14:28:14.0000] <tantek>
Google > MediaWiki search feature

[14:28:22.0000] <tantek>
I don't search wikipedia

[14:28:34.0000] <tantek>
I search Google for wikipedia term-that-i'm-looking-for

[14:28:38.0000] <GPHemsley>
Yay! Wiki is back

[14:28:42.0000] <tantek>
Yay!

[14:28:59.0000] <Hixie>
zcorpan: by that point it's UTF-16, so that seems like a non-issue

[14:29:42.0000] <GPHemsley>
If anybody finds any problems, let me know.

[14:30:05.0000] <zcorpan>
Hixie: not when the author writes the worker and the html page in a text editor and saves them both as win1252

[14:30:18.0000] <tantek>
still, annevk, it's a good point, and more discoverability helps.

[14:30:22.0000] <tantek>
/me goes to create some redirects

[14:31:00.0000] <annevk>
GPHemsley: MIT License image seems broken

[14:31:07.0000] <GPHemsley>
annevk: Link?

[14:31:26.0000] <tantek>
ok, wiki search for copyright should work again

[14:31:31.0000] <tantek>
er, should work *now*

[14:31:34.0000] <Hixie>
zcorpan: well we already require that workers be utf-8, so if they're already ignoring that, surely they'll ignore our requirement for HTML too

[14:31:41.0000] <annevk>
GPHemsley: oh, it doesn't link anywhere

[14:31:50.0000] <GPHemsley>
annevk: BTW, MediaWiki docs seems to discourage having the wiki at the top level

[14:32:03.0000] <annevk>
GPHemsley: footer could use some cleanup in general

[14:32:19.0000] <annevk>
GPHemsley: mkay, guess we can keep it this way, but it's rather ugly

[14:33:00.0000] <annevk>
Hixie: the idea is just to align the requirement so the message becomes a lot simpler

[14:33:19.0000] <zcorpan>
Hixie: that's not what i'm trying to say. :-) i mean Joe will be happy with win1252 until he tries to use workers, where non-ascii don't work for him. either he'll switch everything to utf-8 or just use ascii for the worker.

[14:34:17.0000] <Hixie>
zcorpan: i'm all in favour of us pushing Joe to UTF-8 everywhere. But I think saying you just can't use Win1252 or whatever, when it's working fine, is way more drastic than necessary.

[14:34:33.0000] <Hixie>
the validator could give a big-ass warning

[14:34:44.0000] <zcorpan>
ok

[14:34:53.0000] <annevk>
it's fine until you put a <form> in your page

[14:35:03.0000] <annevk>
or a link with a query string to another server

[14:35:09.0000] <annevk>
it's not really fine

[14:35:47.0000] <zcorpan>
/me *poof*

[14:36:52.0000] <Hixie>
that was an unconvincing disappearance :-P

[14:36:57.0000] <Hixie>
annevk: what's wrong with having a form in the page?

[14:37:39.0000] <annevk>
Hixie: user entering non-windows-1252 code points

[14:37:58.0000] <annevk>
Hixie: could be even worse if the forms contents are submitted through XHR to the server (will use utf-8)

[14:38:25.0000] <annevk>
there's so many encoding traps

[14:39:08.0000] <Hixie>
those codepoints just get collapsed into other text, right?

[14:39:55.0000] <annevk>
for <form> submission the server will get some HTML entity looking like things which it cannot distinguish from actually entered HTML entities

[14:40:26.0000] <annevk>
for <form> submission through XHR the server will get utf-8 which it might not know how to deal with considering it is outputting windows-1252

[14:41:36.0000] <Hixie>
yeah, well, like i said. we should encouarge people to use utf-8.

[14:43:04.0000] <jgraham>
All a validator can do for anything is issue "big-ass warnings"

[14:43:40.0000] <jgraham>
Some of them will be marked "error", but that isn't strongly correlated with them actually producing erroneous behaviour

[14:44:18.0000] <jgraham>
It does, however, seem very odd not to use the warning marked "error" in a case where erroneous behaviour is quite likely

[14:46:59.0000] <tantek>
Hixie, how hard is it to get form submissions to use UTF-8?

[14:47:10.0000] <Hixie>
as an author? not hard at al

[14:47:11.0000] <Hixie>
l

[14:47:15.0000] <tantek>
URL?

[14:47:20.0000] <tantek>
(of explanatory example)

[14:47:24.0000] <annevk>
tantek: <form accept-charset=utf-8>

[14:47:31.0000] <tantek>
does anyone do it?

[14:47:37.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#attr-form-accept-charset

[14:48:11.0000] <annevk>
tantek: submission as utf-8 with the page on which the submitted results might be shown not as utf-8 is a major no-no though

[14:48:34.0000] <annevk>
tantek: which is why I think usage of accept-charset is a clear sign of something being broken too

[14:48:36.0000] <tantek>
/me googles for the equivalent with "multipage" 

[14:48:50.0000] <Hixie>
just stick multipage/ in front of the #

[14:48:53.0000] <Hixie>
it autoredirects

[14:48:58.0000] <tantek>
oh nice

[14:49:06.0000] <Hixie>
http://whatwg.org/html#foo will redirect to 'foo' in the multipage copy

[14:49:20.0000] <tantek>
wow that's a poorly named attribute

[14:49:23.0000] <Hixie>
(or, use a browser that can handle the spec :-P )

[14:49:24.0000] <annevk>
<form accept-charset> is like <link charset> or <script charset>, hacks for a bygone era

[14:49:30.0000] <tantek>
"accept" to specify what you're *sending* ?

[14:49:42.0000] <Hixie>
/me points to the /topic

[14:49:50.0000] <jgraham>
It's the charset the form accepts, obviously :p

[14:49:57.0000] <tantek>
hey if we can rename IRI to URL, why can't we fix this? ;)

[14:50:32.0000] <Hixie>
because software doesn't care what URLs are called, but does care about what attributes are called :-P

[14:50:35.0000] <jgraham>
In other news, insofar as a list of "features at risk" makes sense at all (it doesn't) how did register*Handler get on it?

[14:51:06.0000] <annevk>
tantek: the fix here is to just obsolete the attribute

[14:51:08.0000] <Hixie>
i hope the Navigation algorithm and Window objects are "at risk"

[14:52:01.0000] <jgraham>
Hixie: No, but if one believed The Process I think they would be

[14:52:20.0000] <jgraham>
I don't recall if the 2014 document tries to get around this somehow

[14:52:40.0000] <Hixie>
my suggestion on this utf-8 thing, btw, is to wait until utf-8 is more like 90% of the web, and then remove all the charset nonsense and just require utf-8 everywhere

[14:52:50.0000] <Hixie>
we're getting there

[14:53:07.0000] <jgraham>
(I am not of the opinion that the right thing to do here is to demonstrate how silly the process is by gutting the spec)

[14:53:08.0000] <TabAtkins>
Any clue what %age we're at already?

[14:53:19.0000] <annevk>
Hixie: until then you can make it a wilful violation of the Encoding Standard? :-)

[14:53:23.0000] <Hixie>
2010 we were just under 50%, rising quickl

[14:53:24.0000] <Hixie>
y

[14:53:27.0000] <Hixie>
annevk: yup :-P

[14:53:49.0000] <Hixie>
jgraham: we're long past the htmlwg doing "the right thing"

[14:54:58.0000] <tantek>
is there a <meta> for setting accept-charset on forms in the document to utf-8 by default so that authors don't have to remember to specify it for every form explicitly?

[14:55:21.0000] <TabAtkins>
Doesn't a document charset percolate to the form?

[14:55:29.0000] <say2joe>
in reference to the recent url (spec) (http://www.whatwg.org/specs/web-apps/current-work/#attr-form-accept-charset), I've long been confused by the use of the LABEL element. Why is there such rampant use of including input elements within labels? Would it not be more semantic to use <label for="controlName">My label:</labe><input name="controlName" /> rather than <label><input /></label>?

[14:55:38.0000] <jgraham>
Well it seems to me that whatever The Right Thing is, dropping features that have three mostly-interoperable implementations is rather obviously the wrong thing

[14:55:48.0000] <tantek>
TabAtkins - my understanding is that it doesn't, and that forms are weird that way.

[14:55:49.0000] <TabAtkins>
say2joe: What do you mean by "semantic"? The two are exactly equivalent.

[14:56:07.0000] <jgraham>
But I can't see that Opera (or anyone else!) has released their tests, so I will need to fix that

[14:56:10.0000] <say2joe>
IMO, a label should be just a label… and, not include a control.

[14:56:31.0000] <say2joe>
but people often omit the for attribute and wrap the label around an input control element.

[14:56:42.0000] <tantek>
because it's easier to maintain

[14:56:46.0000] <tantek>
no additional for/id attr to maintain

[14:57:00.0000] <TabAtkins>
say2joe: Yes, and there's nothing wrong with that.  Wrapping an input in a label is *exactly the same*, semantically, as using an id to target the label.

[14:57:04.0000] <Hixie>
say2joe: it is defined as being equivalent in the spec

[14:57:08.0000] <say2joe>
they both work, obviously, but I prefer to only include the label within a label element… since it is supposed to be just a label.

[14:57:20.0000] <Hixie>
say2joe: it's not support to be just a label

[14:57:21.0000] <TabAtkins>
You're allowed to do that.  But there's nothing wrong with the other way.

[14:57:28.0000] <Hixie>
say2joe: it's supposed to be a label and optionally the labeled element

[14:57:34.0000] <Hixie>
s/support/supposed/

[14:57:37.0000] <say2joe>
i was just hoping to get some feedback on why it seems the label element is so flexible.

[14:57:42.0000] <tantek>
where does it say it's supposed to be "just a label"?

[14:57:48.0000] <tantek>
citation?

[14:57:49.0000] <say2joe>
Hixie: I understood (supposed). np

[14:57:57.0000] <Hixie>
say2joe: it's flexible because that's more convenient :-)

[14:58:02.0000] <say2joe>
uh… the element name is label.

[14:58:15.0000] <Hixie>
the element name could be <pineapple>, that wouldn't change a single thing about its meaning :-)

[14:58:16.0000] <tantek>
reasoning from element name failed in HTML long ago

[14:58:17.0000] <say2joe>
i'm just inferring that it should be just a label.

[14:58:25.0000] <say2joe>
tantek: good point.

[14:58:26.0000] <tantek>
e.g. <address>

[14:58:30.0000] <Hixie>
<hr>

[14:58:34.0000] <tantek>
lol

[14:58:45.0000] <TabAtkins>
say2joe: And several people, including the author of HTML5, are saying that your inference is wrong. ^_^

[14:59:03.0000] <say2joe>
:) I'll drop the subject… but, i've brought this up to junior developers as my sense of properness… if one can be so bold.

[14:59:22.0000] <annevk>
tantek: document charset does set the <form> charset

[14:59:25.0000] <tantek>
wherefrom that "sense of properness"?

[14:59:30.0000] <annevk>
tantek: so you should just use <meta charset=utf-8>

[14:59:38.0000] <tantek>
ok cool, thanks annevk

[14:59:49.0000] <TabAtkins>
Given the convenience of wrapping inputs in labels, and the fact that there is *absolutely nothing wrong with it*, I'd strongly recommend against teaching people that using for/id is the "correct" way to do it.

[14:59:52.0000] <say2joe>
label (IMO) should just contain a label… that to me is proper… and more semantic.

[14:59:53.0000] <tantek>
and yes, then it *is* odd to have pages which display in one charset and submit in another :/

[15:00:00.0000] <Hixie>
say2joe: you have to read the spec to find out what elements mean... the element names have very little bearing on it

[15:00:09.0000] <Hixie>
say2joe: imagine all the element names to be opaque strings

[15:00:10.0000] <tantek>
what do you mean by more "proper" ?

[15:00:23.0000] <TabAtkins>
say2joe: You keep using the word "semantic", but you're using it in a way that suggests you don't really understand the definition. ^_^

[15:00:30.0000] <say2joe>
tantek: "label (IMO) should just contain a label… that to me is proper… and more semantic."

[15:00:37.0000] <tantek>
TabAtkins - ob-princess-bride

[15:00:48.0000] <TabAtkins>
say2joe: Semantics are just a contract between you, the page author, and the browser.  A common language for you to communicate with the machine on the other end.

[15:00:49.0000] <say2joe>
semantic means contextually appropriate (to me)

[15:00:53.0000] <TabAtkins>
Nothing more, nothing less.

[15:01:16.0000] <Hixie>
the "semantic" of an element is what the spec says the element means

[15:01:17.0000] <tantek>
say2joe - I saw your statement about proper and semantic

[15:01:17.0000] <TabAtkins>
<label> communicates the same thing to the browsers whether it's wrapped around an input or uses for/id to link itself manually.

[15:01:22.0000] <Hixie>
not what the name makes it sounds like it should mean

[15:01:22.0000] <tantek>
I'm still wondering what you mean by "proper"

[15:01:29.0000] <tantek>
what values does it represent?

[15:01:32.0000] <tantek>
or principles?

[15:01:48.0000] <Hixie>
much like how "inflammable" doesn't mean the opposite of "flammable", despite it sounding like it should -- it means what the dictionary says it means

[15:01:57.0000] <GPHemsley>
annevk: I don't suppose you could add me to the wiki administrators group?

[15:02:16.0000] <Hixie>
wait, you reinstalled the wiki and aren't in the admin group?!

[15:02:19.0000] <Hixie>
what are we doing to you

[15:02:25.0000] <tantek>
different admin groups

[15:02:26.0000] <say2joe>
I understand that both methodologies are in common use (perhaps, my preference, being less so). anyway, I've gotten the feedback I desired, I suppose.

[15:02:38.0000] <Hixie>
ooh, new wiki is pretty

[15:02:39.0000] <jgraham>
krijn: Your clock seems to be 10 minutes in the future

[15:02:40.0000] <annevk>
GPHemsley: how do I do that?

[15:02:52.0000] <annevk>
Hixie: GPHemsley found a backdoor I guess :)

[15:03:06.0000] <Hixie>
GPHemsley: what's your username

[15:03:16.0000] <GPHemsley>
Hixie: GPHemsley

[15:03:19.0000] <krijn>
jgraham: problem?

[15:03:20.0000] <GPHemsley>
:P

[15:03:43.0000] <Hixie>
GPHemsley: done

[15:03:46.0000] <GPHemsley>
thanks

[15:03:55.0000] <Hixie>
dude, thank _you_

[15:03:59.0000] <GPHemsley>
:)

[15:04:04.0000] <Hixie>
seriously

[15:04:43.0000] <jgraham>
Why isn't the wiki linked from whatwg.org?

[15:04:58.0000] <Hixie>
it isn't?

[15:05:04.0000] <Hixie>
oh, the boxes

[15:05:09.0000] <Hixie>
i rotate them around irregularly

[15:05:18.0000] <annevk>
jgraham: FAQ/IRC are wiki links

[15:05:32.0000] <annevk>
Hixie: could replace News with Wiki; blog is not maintained :/

[15:05:48.0000] <Hixie>
hm yeah, we haven't blogged in a while

[15:05:57.0000] <jgraham>
annevk: Yeah, OK but the front page isn't linked

[15:06:13.0000] <jgraham>
Seems reasonable to link to the wiki under the title "Wiki"

[15:06:48.0000] <Hixie>
what should the text be below the link

[15:07:15.0000] <krijnh>
00:19:22

[15:07:28.0000] <jgraham>
"Otherwise tantek gets grumpy"?

[15:07:33.0000] <Hixie>
hah

[15:07:36.0000] <Hixie>
reload

[15:07:49.0000] <Hixie>
if anyone blogs let me know and i'll switch it back to the blog

[15:08:04.0000] <jgraham>
You could just add an extra link :)

[15:08:18.0000] <tantek>
hah - I'm not sure how useful it is to link wiki to wiki

[15:08:19.0000] <Hixie>
don't want to have too many

[15:08:27.0000] <tantek>
I mean, if everything is just moving to the wiki anyway...

[15:08:38.0000] <tantek>
wouldn't that just be "home" ?

[15:08:39.0000] <groms>
whattf.org is still hanging around :)

[15:08:44.0000] <krijnh>
00:10:01

[15:08:48.0000] <krijnh>
#thereifixedit

[15:09:00.0000] <tantek>
thanks krijnh

[15:09:01.0000] <annevk>
tantek: I was not talking about moving the wiki from wiki.whatwg.org to whatwg.org; just /wiki/ to /

[15:09:36.0000] <tantek>
how about dropping the subdomain instead?

[15:09:42.0000] <jgraham>
Well on the screen I currently have, 9 links take up the same space as 10

[15:09:49.0000] <tantek>
redirect wiki.whatwg.org/wiki/ to whatwg.org/wiki and serve it from there

[15:09:55.0000] <Hixie>
ew

[15:10:02.0000] <tantek>
subdomains are lame anyway

[15:10:06.0000] <tantek>
hierarchy inversion and all that

[15:10:19.0000] <jgraham>
You must hate html.spec.whatwg.org

[15:10:20.0000] <tantek>
usually indicate of corporate org charts

[15:10:38.0000] <Hixie>
putting aside the issue of subdomains being cooler than subdirectories, the more practical reason why we have subdomains is that we can more easily give people access to admin parts of the server

[15:10:39.0000] <tantek>
jgraham, meh. github is nicer than mecurial

[15:10:47.0000] <Hixie>
e.g. the way GPHemsley just updated the wiki

[15:11:01.0000] <tantek>
right, subdomains are political

[15:11:07.0000] <tantek>
they help you keep organizational silos

[15:11:18.0000] <jgraham>
They are also nice from the point of view of the SOP

[15:11:29.0000] <jgraham>
Although that might not be so important in this case

[15:11:50.0000] <groms>
vhosts, lovely things

[15:12:27.0000] <jgraham>
/me is still failing to figure out the github vs mercurial comment

[15:12:47.0000] <jgraham>
(it isn't even comparing two like entities)

[15:13:17.0000] <Hixie>
/me waves a svn flag quietly in the corner

[15:14:39.0000] <groms>
sccs

[15:14:53.0000] <jgraham>
/me hopes it's the white flag of surrender

[15:15:29.0000] <Hixie>
hey HTML is still done on subversion :-P

[15:15:55.0000] <jgraham>
Not at the W3C :p

[15:16:51.0000] <jgraham>
But I should be asleep. Good night / morning / afternoon, everyone.

[15:56:43.0000] <Hixie>
GPHemsley: everytime i read "republications" i read it as "republicans"

[15:56:51.0000] <Hixie>
i've been reading too much politics news, clearly

[15:57:14.0000] <GPHemsley>
I had a similar experience :)

[16:08:13.0000] <annevk>
GPHemsley: there's also minor spin-offs; parts of HTML ended up in the DOM and the Encoding Standard

[16:08:23.0000] <annevk>
(well actually, the latter has yet to happen fully)

[16:08:50.0000] <GPHemsley>
annevk: If you have a revision number, feel free to put it in the list. I'll investigate it later.

[16:09:02.0000] <GPHemsley>
(Right now I'm looking for some good extensions to install on the wiki. :) )

[16:09:22.0000] <annevk>
oh interesting

[16:09:30.0000] <annevk>
you're tracking revisions

[16:09:57.0000] <Hixie>
annevk: was there any attempt at doing the work that ended up in the encodings spec at the ietf/iana?

[16:10:35.0000] <annevk>
le me get you some references and then I'll get some sleep

[16:10:47.0000] <GPHemsley>
annevk: Yeah, I figure it's useful for archaeology; that way the work only has to be done once

[16:10:53.0000] <GPHemsley>
And there's no question about what happened

[16:12:05.0000] <GPHemsley>
Also, just to confirm: The only reason user creation is set to manual is to combat spam, right? So if better methods to combat spam were available, they would be preferred?

[16:12:09.0000] <annevk>
http://mail.apps.ietf.org/ietf/charsets/threads.html#01830 shows mostly disinterest so by my next thread I did the work http://mail.apps.ietf.org/ietf/charsets/threads.html#02027

[16:12:26.0000] <annevk>
http://mail.apps.ietf.org/ietf/charsets/threads.html#02034 was the last thread before I unsubscribed

[16:12:30.0000] <annevk>
Hixie: ^^

[16:12:33.0000] <Hixie>
annevk: oh, cool, thanks. didn't expect so much data :-)

[16:13:12.0000] <annevk>
Hixie: if you want to reply to James btw, http://wiki.whatwg.org/wiki/IETF

[16:13:27.0000] <annevk>
Hixie: I'm not subscribed to the uri list and he did not include me, but that would've been my answer

[16:13:48.0000] <annevk>
along maybe with some pointers to past attempts at "fixing things via them"

[16:14:04.0000] <Hixie>
k

[16:14:17.0000] <annevk>
GPHemsley: yes

[16:14:26.0000] <GPHemsley>
k

[16:14:33.0000] <annevk>
GPHemsley: e.g. if you don't mind deleting spam accounts that works too

[16:14:45.0000] <annevk>
I was mostly doing it for a while and grew tired of it

[16:14:58.0000] <GPHemsley>
annevk: Well, there are wiki extensions that combat spam that I could install.

[16:15:07.0000] <annevk>
that'd be awesome too

[16:15:18.0000] <GPHemsley>
I don't know how effective they are, though, so I wanted to make sure re-enabling regular user registration would be OK.

[16:15:51.0000] <annevk>
it's totally fine to try those things without asking

[16:16:20.0000] <annevk>
we hate the current process too

[16:16:43.0000] <annevk>
GPHemsley: thanks for all the work so far btw

[16:16:48.0000] <annevk>
GPHemsley++

[16:16:49.0000] <annevk>
nn

[16:16:52.0000] <GPHemsley>
:)

[16:17:26.0000] <Hixie>
indeed

[16:17:43.0000] <annevk>
GPHemsley: we mostly operate on ask forgiveness rather than ask permission, but people seem to like asking permission around here :)

[16:17:54.0000] <annevk>
really nn now :p

[16:18:03.0000] <GPHemsley>
I'll keep that in mind.

[16:18:06.0000] <GPHemsley>
Have a good night.

[16:55:08.0000] <GPHemsley>
FTR, I have generated whatwg.org reCAPTCHA keys. Not sure if anyone will want to use them outside of the wiki.


2012-10-23
[17:02:55.0000] <jsbell>
Replying to crockford on jslint mailing list: not sure if helping, or feeding the troll

[17:03:45.0000] <WeirdAl>
jsbell: that needs a meme pic :)

[17:09:42.0000] <GPHemsley>
Regular user registrations are now turned back on. Additional anti-spam measures have been put in place. If anyone sees any problems, let me know.

[17:10:16.0000] <GPHemsley>
Also, if there are features/extensions that people think would be useful on the wiki, let me know about that, too. :)

[17:17:20.0000] <tantek>
GPHemsley - I'm upgrading the anti-spam measures on the microformats wiki and am curious what you chose to add to the WHATWG wiki.

[17:17:37.0000] <tantek>
(also MediaWiki obv)

[17:17:54.0000] <GPHemsley>
tantek: For now, I've only added the reCAPTCHA setting for ConfirmEdit and SimpleAntiSpam.

[17:18:01.0000] <tantek>
ok cool

[17:18:13.0000] <GPHemsley>
I'll wait and see if it's sufficient.

[17:18:26.0000] <GPHemsley>
I used Wikipedia's installation as an inspiration.

[17:18:36.0000] <GPHemsley>
They have a lot of extensions for blocking and whatnot.

[17:18:41.0000] <tantek>
yeah

[17:18:55.0000] <GPHemsley>
But not too many general purpose extensions.

[17:18:59.0000] <GPHemsley>
So we'll see if that's enough.

[17:21:19.0000] <yuhong>
Just wrote a more detailed explaination of the origiin of legacy color parsing: http://stackoverflow.com/questions/8318911/why-does-html-think-chucknorris-is-a-color/12630675#12630675

[20:38:09.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/uri/2012Oct/thread.html#msg3

[20:38:26.0000] <MikeSmith>
for those who missed it

[20:39:56.0000] <MikeSmith>
(I didn't even know the uri⊙wo list existed)

[20:52:39.0000] <othermaciej>
MikeSmith: wow, that's a big thread

[20:52:47.0000] <MikeSmith>
yeah

[20:52:54.0000] <MikeSmith>
there's a lot of repetition in it though

[20:55:55.0000] <MikeSmith>
some actually profanity in there too

[20:55:58.0000] <MikeSmith>
so that's a plus

[21:24:54.0000] <zewt>
MikeSmith: randomly clicking giving me such fascinating snippets

[21:25:08.0000] <zewt>
This is why any references to fixing or aligning URI syntax with reality is besides the point and not neccessary."

[21:25:13.0000] <zewt>
"

[21:26:10.0000] <othermaciej>
zewt: that quote hurt my eyebrows

[21:26:14.0000] <MikeSmith>
zewt: yeah there's a few more gems like that

[21:32:03.0000] <zewt>
definitely fascinating that this discussion is carefully taking place on a list nobody in the world has ever heard of, instead of one where the silliness might actually be observed

[21:32:13.0000] <MikeSmith>
right

[21:32:20.0000] <zewt>
haha holy shit

[21:32:21.0000] <zewt>
> Why not define (or reuse) a separate term for the input stream, and

[21:32:21.0000] <zewt>
> leave "URL" alone?

[21:32:33.0000] <MikeSmith>
yeah been there

[21:32:37.0000] <zewt>
URI URL URX URO URQ yeah let's come up with another word!

[21:32:43.0000] <zewt>
they're all URLs, get over it

[21:33:04.0000] <othermaciej>
how about Link Online Locator

[21:33:21.0000] <zewt>
people saying "URI" in discussions where everyone else is saying "URL" makes me want to poke them--"really, dude?"

[21:33:22.0000] <MikeSmith>
"hypertext reference"

[21:33:43.0000] <othermaciej>
because I'd love to have an "LOL" class in WebKit

[21:33:57.0000] <othermaciej>
also, it seems really appropriate in this case

[21:34:06.0000] <MikeSmith>
snort

[21:34:28.0000] <zewt>
people who say "URI" are in my same brain-bucket as people who say "FOSS"

[21:34:36.0000] <zewt>
well, for people who say them without irony

[21:35:15.0000] <zewt>
also "KiB", etc

[21:35:18.0000] <othermaciej>
some people say URI just because they have been trained that way, saying "IRI" is the truly extreme level

[21:35:27.0000] <othermaciej>
because no normal person has the slightest clue what that is

[21:36:18.0000] <othermaciej>
technically, saying "scheme" instead of "protocol" to name that particular part of the *R* is also pendatic

[21:36:38.0000] <MikeSmith>
but it's fewer letters

[21:37:04.0000] <zewt>
i'll forgive scheme only because it's broadly used in APIs

[21:37:20.0000] <zewt>
but it's definitely an extra hop in mental processing for me vs. protocol

[21:37:54.0000] <MikeSmith>
anyway is there currently a formal definition of "URL" anywhere? last time I remember checking, it seemed the intent of the URI/IRI specs was to obsolete the term URL and replace it with those

[21:38:17.0000] <zewt>
specs don't "get" to obsolete terms, heh

[21:38:29.0000] <zewt>
that's sort of the overall point of the above :P

[21:38:54.0000] <zewt>
oh yeah. "ecmascript"

[21:39:48.0000] <MikeSmith>
well my point is that nobody can reasonably claim there's a current spec for the term "URL" that this conflicts with

[21:39:50.0000] <othermaciej>
MikeSmith: URLs are URIs that are not URNs

[21:39:53.0000] <othermaciej>
(I think)

[21:39:59.0000] <othermaciej>
(per current official IETF canon)

[21:40:02.0000] <MikeSmith>
ok

[21:40:05.0000] <zewt>
othermaciej: is that a tonguetwister?

[21:40:44.0000] <MikeSmith>
.me reads http://tools.ietf.org/html/rfc3986#section-1.1.3

[21:41:01.0000] <zewt>
heh another good one:

[21:41:02.0000] <zewt>
Um, true... but it's also the case that the implementation community hasn't over the years been doing as much as might be best to make reality match the specifications. The new specs we're writing now would like have been a lot thinner and cleaner if they had.

[21:41:24.0000] <zewt>
"new at this, are you?"

[21:41:39.0000] <zewt>
(and the answer presumably being "no", which is the unfortunate part)

[21:45:25.0000] <othermaciej>
many standards people believe that browsers have power to change reality just by being more strict

[21:46:42.0000] <zewt>
well, in a way they do--but they're not going to, since there are stronger forces acting on them than specs

[21:48:12.0000] <zewt>
if not to the point of changing reality (heh) there are plenty of things they could do that they're just not going to--and one thing the HTML spec (etc) have done is ... getting over it

[22:04:54.0000] <MikeSmith>
can somebody remind me what's supposed to be the processing behavior for the semicolon-less named character references in the "Named character references" table?

[22:05:37.0000] <MikeSmith>
UAs are supposed to use the corresponding character even though the character reference lacks the semicolon?

[22:05:53.0000] <MikeSmith>
this does not seem to be clear in the current spec

[22:09:17.0000] <MikeSmith>
hmm yeah matjas test cases seems to indicate that's in fact what's supposed to happen

[22:09:21.0000] <MikeSmith>
http://mathias.html5.org/tests/html/named-character-references/

[22:09:32.0000] <MikeSmith>
(if you look at the script in the source)

[22:09:41.0000] <MikeSmith>
bah anyway the spec doesn't make that clear

[22:11:32.0000] <MikeSmith>
I guess this is case where it's a document-conformance error but the UA still has to process it

[22:39:42.0000] <zewt>
seems clear (if complicated) from 12.2.4.69

[22:54:25.0000] <MikeSmith>
zewt: yeah true after reading more

[22:56:39.0000] <zewt>
html is Will It Blend? for old browser bugs

[23:10:16.0000] <othermaciej>
MikeSmith: reading the thread I'm amused at Hixie's unabashed bomb-throwing

[23:11:58.0000] <MikeSmith>
othermaciej: I guess he reckons he's speaking truth to power

[23:12:00.0000] <MikeSmith>
or something

[23:12:22.0000] <MikeSmith>
I like the part where he kinda chides mnot for saying "fuck"

[23:14:35.0000] <othermaciej>
does curl enforce url/uri validity in its parameter or is tbray describing how he wishes it worked?

[23:15:03.0000] <MikeSmith>
it doesn't as far as I can tell from using it

[23:15:11.0000] <MikeSmith>
so I'm not sure what he's talking about

[23:15:37.0000] <MikeSmith>
he or somebody in that thread even says something about "I consider that a bug in curl"

[23:16:03.0000] <Hixie>
othermaciej: curl does one thing with bad urls in its command line and another with bad urls in HTTP redirect Location: headers

[23:16:35.0000] <othermaciej>
Hixie: it seems indisputably better for it to always do the same thing with bad urls and for that to be the same as what browsers do with them

[23:16:44.0000] <Hixie>
you would think

[23:17:03.0000] <othermaciej>
apparently the word "indisputably" does not mean what I think it means

[23:18:28.0000] <hsivonen>
/me wonders what the context is

[23:18:40.0000] <Hixie>
hsivonen: recent threads in uri⊙wo

[23:18:49.0000] <hsivonen>
Hixie: thanks

[23:18:53.0000] <Hixie>
othermaciej: what's funny is the one thing they seem to think _should_ be specced is the one thing i think we can never spec, namely, how to handle user input in the url bar

[23:19:08.0000] <Hixie>
hsivonen: (context being IETF being offended by Anne's intention to obsolete STD66)

[23:19:19.0000] <othermaciej>
Hixie: in practice we will probably have to figure out how to convert Anne's parsed output of a URL into a URI sufficiently valid for our network library to accept, whether he specs that bit or not

[23:19:22.0000] <othermaciej>
(so I hope he specs it)

[23:19:45.0000] <othermaciej>
Hixie: I

[23:19:58.0000] <Hixie>
othermaciej: i think in practice the right eventual solution is to just replace the URL handling in the network library

[23:20:04.0000] <othermaciej>
I'd love to see someone try to spec what happens when you type "foo bar" in the address field of the browser ui

[23:20:43.0000] <othermaciej>
Hixie: we might end up doing that long-term eventually

[23:20:45.0000] <zewt>
hell, I have no idea what's going to happen when I type anything in a "modern" browser

[23:21:08.0000] <othermaciej>
Hixie: even in that case we'd probably want to pass them a string, not a struct representing the parsed components, but it could be a resolved-but-unparsed string

[23:21:09.0000] <zewt>
(when I type "foo bar" in Chrome I'd expect it to search for "foo bar", but odds are it'll search for "foo bar underpants" or something instead)

[23:21:35.0000] <hsivonen>
that the term LEIRI even shows up in that discussion is part of the problem and shows that Anne’s spec is needed.

[23:22:25.0000] <SamB_MacG5>
othermaciej: obviously, it looks for a bookmark with a keyword of "foo", and ...

[23:22:40.0000] <SamB_MacG5>
... and then extensions get a chance to mess with things, and ...

[23:22:44.0000] <zewt>
3. profit

[23:23:14.0000] <SamB_MacG5>
... and then your mom ...

[23:23:18.0000] <Hixie>
othermaciej: yeah, he defines canonicalisation, i believe. or will.

[23:23:25.0000] <Hixie>
othermaciej: we need it for DOM APIs anyway

[23:23:47.0000] <othermaciej>
I think what's needed is resolution against a base incorporating canonicalization

[23:23:57.0000] <Hixie>
right

[23:24:10.0000] <othermaciej>
(I guess it is fine if those are defined as separate steps, but we'll likely want to code it as one pass for efficiency)

[23:24:19.0000] <Hixie>
pretty sure anne's on the ball on this

[23:24:27.0000] <SamB_MacG5>
othermaciej: at first I was wondering why you'd want to resolve not to have such a thing ...

[23:24:45.0000] <othermaciej>
I do not doubt his acumen

[23:25:08.0000] <tantek>
WTF is LEIRI?

[23:25:12.0000] <Hixie>
dude

[23:25:14.0000] <Hixie>
take my advice

[23:25:17.0000] <Hixie>
and back away

[23:25:20.0000] <Hixie>
retract your qusetion

[23:25:24.0000] <Hixie>
you will regret it otherwise

[23:25:28.0000] <SamB_MacG5>
ouch

[23:25:38.0000] <SamB_MacG5>
/me decides to stop wondering, too

[23:25:41.0000] <Hixie>
/me runs away, lest he get caught in the fallout

[23:25:42.0000] <tantek>
wow - this? http://www.w3.org/TR/leiri/

[23:25:59.0000] <SamB_MacG5>
/me does not open that

[23:26:02.0000] <othermaciej>
tantek: I got Google to give me that link, but that didn't really answer what it is or why it exists

[23:26:09.0000] <tantek>
Legacy extended IRIs for XML - isn't that twice redundant?

[23:26:36.0000] <SamB_MacG5>
and why "for XML"?

[23:26:42.0000] <tantek>
/me checks the publication date to make sure it is not --04-01

[23:26:58.0000] <SamB_MacG5>
I don't think the W3 does those

[23:28:46.0000] <othermaciej>
Reading this url@ thread, I can't really tell if it's just an argument about terminology or a substantive disagreement

[23:29:10.0000] <Hixie>
othermaciej: it's a power struggle pretending to be a technical discussion

[23:29:47.0000] <tantek>
Legacy / XML

[23:29:54.0000] <tantek>
extended / XML

[23:29:57.0000] <Hixie>
with me in the peanut gallery trying to seriously explain things while resisting (some times better than other times) the urge to troll.

[23:30:08.0000] <tantek>
Hixie, that's what IRC is for

[23:30:34.0000] <Hixie>
yeah, that's why i didn't troll more than i did :-)

[23:30:52.0000] <tantek>
What restraint!

[23:31:50.0000] <Hixie>
:-P

[23:35:07.0000] <hsivonen>
why is Roy insisting on not calling the things you put in href URLs?

[23:35:37.0000] <Hixie>
if you figure out the answer to that, let me know

[23:41:53.0000] <othermaciej>
uh-oh, mnot said he thinks the httpbis wg has addressed all feedback to the satisfaction of those raising it

[23:42:23.0000] <Hixie>
that's a bit like how the htmlwg has addressed all formal objections to the satisfaction of those raising them :-P

[23:43:02.0000] <othermaciej>
I don't think the html wg believes it has addressed any formal objections at all (since technically it is the Director's job to do so)

[23:43:20.0000] <othermaciej>
anyway, I posted the one obvious httpbis counter-example I know of to the list

[23:43:27.0000] <othermaciej>
am curious to see outcome

[23:44:15.0000] <Hixie>
othermaciej: the chairs asked me if my objection was satisfied, i said nothing had changed, they said "if you don't act like a jerk we'll assume you're satisfied then"

[23:44:42.0000] <Hixie>
that's basically the same tactic the http group uses - say no until the person gives up

[23:45:23.0000] <othermaciej>
Hixie: I'm not sure I would characterize your behavior in that exchange as *not* acting like a jerk...

[23:45:33.0000] <annevk>
Roy's answer fascinated me the most; it seemed to say STD 66 did not define parsing at all, just the object you'd get eventually.

[23:45:42.0000] <Hixie>
othermaciej: fair point, but still

[23:45:42.0000] <annevk>
I do wonder though what that regular expression does there then...

[23:45:54.0000] <Hixie>
othermaciej: "if you don't act like even more of a jerk" maybe? :-)

[23:46:59.0000] <Hixie>
othermaciej: anyway, the strategy of "just keep adding hurdles until they give up" is one that has been used a lot in the htmlwg since 2007

[23:47:33.0000] <othermaciej>
Hixie: I think Sam drew his conclusion from the fact that you said you didn't want to be involved in threads regarding the w3c process - the only way to satisfy that request is to *not* process the Formal Objection, since doing so would cause you to get further email about w3c process

[23:48:04.0000] <othermaciej>
Hixie: if that was not your intent then you should have given a straight answer to my simple yes-or-no question (which was not a trick question or a false dilemma or anything)

[23:48:12.0000] <Hixie>
othermaciej: i'm not saying i wanted the FO kept (i couldn't care less either way), my point was just that it wasn't addressed

[23:48:28.0000] <Hixie>
othermaciej: having me no longer care doesn't mean the spec got fixed :-)

[23:49:07.0000] <annevk>
Okay, MIME bugs can be filed against http://mimesniff.spec.whatwg.org/ now

[23:49:13.0000] <annevk>
thanks MikeSmith!

[23:49:23.0000] <Hixie>
oh hey, anne's back

[23:49:46.0000] <MikeSmith>
/me opens a third breakfast beer in celebration

[23:50:06.0000] <MikeSmith>
othermaciej: if you posted a message to uri@ it didn't go

[23:50:20.0000] <othermaciej>
MikeSmith: no, I posted to ietf-http-wg

[23:50:26.0000] <MikeSmith>
ah ok

[23:50:39.0000] <othermaciej>
replying to myself from 2.5 years ago

[23:50:47.0000] <othermaciej>
http://lists.w3.org/Archives/Public/ietf-http-wg/2012OctDec/0150.html

[23:51:06.0000] <MikeSmith>
that's the way to show em how to do it man

[23:51:10.0000] <annevk>
othermaciej: haha, good luck with that

[23:51:30.0000] <othermaciej>
annevk: well, either they will fix it or the bluff is called

[23:51:47.0000] <annevk>
although I have to say, some of my feedback has been addressed, but only after I complained several times and mnot put a little bit of a defence up for my feedback

[23:52:09.0000] <annevk>
e.g. they somewhat addressed some of the Redirect stuff http://wiki.whatwg.org/wiki/HTTP

[23:52:22.0000] <annevk>
they undefined content-location

[23:52:30.0000] <Hixie>
content-base?

[23:52:49.0000] <annevk>
Hixie: it's the base URL yeah, but it's named -location

[23:53:02.0000] <Hixie>
i thought there was another one called content-base

[23:53:17.0000] <Hixie>
when you say "undefined", you mean what exactly?

[23:53:22.0000] <Hixie>
not saying what it should do is hardly a solution...

[23:53:28.0000] <annevk>
The main problem with the IETF is that they do not test implementations. They just assume a bunch of things about how things are implemented. Julian being a recent exception

[23:54:38.0000] <annevk>
And then when you point that out they ask you to do all the hard work only for them to reject most of it or water down stuff. Not actually make a useful spec for implementors, despite what they claim.

[23:56:20.0000] <annevk>
That's another reason why I'm extremely skeptical of helping them out with the URL work. The odds of getting the specification I think is useful for implementors are so small.

[23:56:59.0000] <hsivonen>
hmm. someone on an IETF list was “puzzled” by calling UTF-16 a legacy encoding

[23:58:00.0000] <annevk>
heh, you'd wonder why they still insist on publishing in ASCII then!

[23:58:23.0000] <Hixie>
annevk: they aren't willing to do hard work, and to get the simplest things done you have to argue for hours and days and weeks. what's the point of even trying.

[23:58:48.0000] <Hixie>
annevk: we get better quality feedback and get things done a zillion times faster by doing it at the whatwg.

[23:59:02.0000] <Hixie>
anyway. bed time. nn.

[23:59:08.0000] <annevk>
othermaciej: my URL parsing algorithm  does exactly what you want btw

[23:59:36.0000] <othermaciej>
annevk: winning

[23:59:37.0000] <annevk>
othermaciej: it parses, resolves, and canonicalizes in one go (with a little bit of reparsing for domains)

[00:00:09.0000] <annevk>
so I think it could be ultra fast, but I'm not the guy to implement it in C and find out :)

[00:01:14.0000] <annevk>
Hixie: that's exactly it; nn

[00:06:17.0000] <othermaciej>
annevk: is there a form of the algorithm that outputs a string suitable to give to a network library (as opposed to parsed components) or is there an implied "paste the components together in the proper way" step at the end?

[00:06:26.0000] <othermaciej>
(I think the latter way is ok)

[00:06:48.0000] <annevk>
othermaciej: my idea was to have a separate "serialize" thing, indeed

[00:07:03.0000] <annevk>
othermaciej: but yeah, it's basically putting the components in order

[00:20:17.0000] <annevk>
GPHemsley: http://wiki.whatwg.org/wiki/Special:RecentChanges lots of spam users almost immediately :/

[00:22:49.0000] <tantek>
damn that sucks (the spam users)

[00:34:18.0000] <annevk>
yeah, that's why we disabled it back then

[00:34:40.0000] <annevk>
I'll wait for GPHemsley to come back, maybe he has some more tricks

[00:36:06.0000] <tantek>
spam pages deleted and creators of those pages blocked. I'll leave the other random accounts alone for now.

[00:38:47.0000] <annevk>
tantek++

[01:24:08.0000] <zjhxmjl>
join centos

[01:24:41.0000] <zjhxmjl>
join #centos

[01:35:59.0000] <annevk>
okay, could not resist http://lists.w3.org/Archives/Public/uri/2012Oct/0037.html

[01:38:46.0000] <tantek>
well written annevk

[01:39:49.0000] <tantek>
I am shocked, shocked to hear that there is stop energy is going on in IETF mailing lists!

[01:40:42.0000] <tantek>
http://www.youtube.com/watch?v=SjbPi00k_ME

[01:56:00.0000] <othermaciej>
annevk: looks like I actually got satisfaction

[01:56:05.0000] <othermaciej>
or will anyway

[02:01:53.0000] <annevk>
scumbag IETF: does not solve your problems; complaints when you solve them yourself

[02:02:06.0000] <annevk>
s/ts/s/

[02:06:15.0000] <othermaciej>
will the resolve+canonicalize+parse algorithm followed by serialize always result in a valid URI per the RFC? (or valid IRI?)

[02:06:44.0000] <othermaciej>
or will it sometimes result in something not-rfc-valid?

[02:07:07.0000] <othermaciej>
cause you might actually be sort of doing what at least mnot has asked for, other than terminology

[02:09:06.0000] <annevk>
othermaciej: no it's not always valid

[02:09:09.0000] <annevk>
othermaciej: see my email

[02:09:22.0000] <annevk>
othermaciej: e.g. http://www.w3.org/% is not valid yet is transmitted as such

[02:09:51.0000] <othermaciej>
if invalid stuff sometimes gets over the wire as such, and in particular if servers may depend on that behavior, then there is no sensible way to build on STD66

[02:09:59.0000] <annevk>
agreed

[03:10:17.0000] <annevk>
why is there no custom scumbag meme generator?

[03:10:25.0000] <annevk>
I guess I'll do some work instead

[03:17:33.0000] <hsivonen>
annevk: do you have a list of encodings supported by each browser?

[03:18:50.0000] <annevk>
hsivonen: http://wiki.whatwg.org/wiki/Web_Encodings has historical data

[03:19:01.0000] <annevk>
hsivonen: it's not been updated

[03:19:15.0000] <annevk>
hsivonen: http://coq.no/character-tables/mime/en is pretty good too

[03:19:21.0000] <annevk>
hsivonen: (but not in list form)

[03:21:32.0000] <hsivonen>
annevk: thanks

[03:22:13.0000] <hsivonen>
ok. enough replying to Glenn Adams about unsupported encodings. Back to code.

[03:23:42.0000] <annevk>
hsivonen: fwiw, the \ and Yen thing is supported in fonts

[03:24:09.0000] <annevk>
hsivonen: it's not part of the encoding layer and does not affect parsers and such, but Japanese fonts are "corrupted"

[03:24:17.0000] <hsivonen>
yeah. very sad.

[03:26:09.0000] <hsivonen>
It seems that the Nordic countries have been much better at recovering from that kind of bogosity. Why not Japan and Korea?

[03:26:45.0000] <hsivonen>
maybe because for the Nordic countries, the bogosity wasn’t carried over to Mac and Windows but in the Yen/Won case, it was?

[03:26:59.0000] <hsivonen>
and after it infected Windows, it was too late

[04:26:19.0000] <annevk>
:(

[04:26:35.0000] <annevk>
Posting to that thread on uri is now becoming a major time sink

[04:27:06.0000] <hsivonen>
annevk: walk away

[04:42:06.0000] <dbaron>
hsivonen, what platforms had said bogosity for Nordic countries?

[04:48:58.0000] <SimonSapin>
hsivonen: has the situation improved with PNG gamma? http://hsivonen.iki.fi/png-gamma/

[04:59:15.0000] <annevk>
hsivonen: yeah, the point-by-point sniping is doing nobody any favors

[04:59:29.0000] <annevk>
except fans of 386

[05:00:35.0000] <hsivonen>
dbaron: I’m not really sure what platforms. I think some pre-Linux Unix boxes had it.

[05:01:17.0000] <hsivonen>
dbaron: I experienced it briefly in 1995–1996 with email and telnet

[05:01:37.0000] <hsivonen>
SimonSapin: I haven’t tested recently

[05:01:51.0000] <SimonSapin>
ok, thanks

[05:11:50.0000] <Ms2ger>
Ooh, LEIRI

[05:11:51.0000] <Ms2ger>
Hadn't seen that for a while

[05:19:43.0000] <jgraham>
And didn't that make you sad

[05:28:15.0000] <annevk>
FYI: I created @xhrstandard, @urlstandard, @encodings, and @thedomstandard

[05:28:30.0000] <annevk>
They tweet for commits

[05:45:05.0000] <annevk>
http://encoding.spec.whatwg.org/ has a fun variant of the WHATWG logo thanks to Robbert; loving it

[05:54:59.0000] <SimonSapin>
annevk: goes with this: http://www.geekwear.de/produkte/scheiss-encoding-shirt.html

[06:42:36.0000] <annevk>
heh

[06:44:36.0000] <GPHemsley>
Well, that didn't take long.

[06:47:02.0000] <GPHemsley>
I've shut them off again.

[06:47:38.0000] <GPHemsley>
Kinda worrying, though, that they can get through a CAPTCHA and an additional layer of prevention.

[07:10:53.0000] <annevk>
I wonder how wikipedia itself does it

[07:11:13.0000] <annevk>
GPHemsley: can't we use twitter or google or something as identify provider?

[07:11:38.0000] <GPHemsley>
Wikipedia has a much more complex system, with a lot of blocks and filters and whatnot.

[07:11:39.0000] <annevk>
/me keeps making that typo :/

[07:11:48.0000] <GPHemsley>
/me too

[07:12:04.0000] <GPHemsley>
right now I'm strengthening user permissions

[07:12:26.0000] <GPHemsley>
it's possible the upgrade may have made things a little too free by default :)

[07:12:50.0000] <zewt>
annevk: aren't you happy you joined that discussion? heh (@uri[sic])

[07:12:53.0000] <annevk>
what would be nice if on the recent changes page you can just mark a bunch of stuff as spam and then let the wiki sort it out

[07:13:34.0000] <annevk>
zewt: I was happy with my first email, not so happy with the point-by-point sniping that followed

[07:14:07.0000] <annevk>
zewt: prolly not gonna post more

[07:14:15.0000] <zewt>
annevk: that's usually where i try to go "okay if you say so I'm going back to work", but yeah, that's hard to do, heh

[07:18:15.0000] <annevk>
GPHemsley: Anolified MIME Sniffing btw

[07:27:19.0000] <GPHemsley>
annevk: K, thanks.

[07:37:18.0000] <annevk>
I started sketching the Writing URLs section: http://url.spec.whatwg.org/#writing

[07:37:39.0000] <annevk>
any thoughts on it are welcome; wondering whether this is the approach to go in

[07:42:29.0000] <GPHemsley>
Are there any non-sysop wiki users here who could test something for me?

[08:19:20.0000] <annevk>
where is Ms2ger?

[08:19:30.0000] <annevk>
I don't like the name he minted for the URL registry page

[08:19:31.0000] <jgraham>
Belgium

[08:19:44.0000] <annevk>
I think URLExtensions would be more in line with what we have thus far

[08:50:51.0000] <annevk>
GPHemsley: fwiw, in the right bottom of the wiki the MIT thingie still weird

[08:51:06.0000] <GPHemsley>
annevk: If you have an image for me to put there, I can set it.

[08:53:26.0000] <annevk>
GPHemsley: http://commons.wikimedia.org/wiki/File:License_icon-mit.svg maybe?

[08:53:32.0000] <annevk>
GPHemsley: or maybe just nothing at all?

[08:53:40.0000] <annevk>
GPHemsley: it's already mentioned in text too after all

[08:54:19.0000] <annevk>
GPHemsley: Privacy policy and disclaimer links are prolly also best removed as we don't have either

[08:54:35.0000] <annevk>
GPHemsley: and the About WHATWG Wiki page is useless too

[08:54:35.0000] <GPHemsley>
Well, these are all standard parts of the skin.

[08:56:52.0000] <GPHemsley>
Oh, it's looking for an 88x31 image for the license.

[09:00:14.0000] <GPHemsley>
annevk: How about now? ^_^

[09:00:46.0000] <annevk>
cool

[09:16:41.0000] <GPHemsley>
annevk: Incidentally, I can put any link and 88x31 image there, so if you want to put something else there, that's cool too.

[09:17:38.0000] <GPHemsley>
annevk: Or maybe this would be better: http://commons.wikimedia.org/wiki/File:License_icon-mit-88x31.svg

[09:19:13.0000] <GPHemsley>
annevk: Try it now.

[09:36:17.0000] <annevk>
also nice :)

[09:51:30.0000] <annevk>
GPHemsley: okay, added the disclaimer, no idea what to do with the privacy policy

[09:53:00.0000] <GPHemsley>
"To remove the Privacy policy or Disclaimers links at the bottom of each page, set the content of pages MediaWiki:Privacy or MediaWiki:Disclaimers respectively to a single hyphen (-)."

[09:54:34.0000] <[tm]>
the IETF is a business model

[09:54:56.0000] <annevk>
doesn't work for MediaWiki:About :/

[09:57:49.0000] <GPHemsley>
annevk: Actually, for us, the prefix is 'WHATWG Wiki'

[09:58:03.0000] <annevk>
GPHemsley: works if I use MediaWiki

[09:58:12.0000] <GPHemsley>
yeah, IDK, weird things going on

[09:58:18.0000] <annevk>
...

[09:59:42.0000] <annevk>
cannot remove it either by changing WHATWG Wiki:About to -

[09:59:49.0000] <annevk>
so I guess we'll keep it

[10:00:10.0000] <GPHemsley>
That's no big deal

[10:00:14.0000] <GPHemsley>
It's nice to have an about page

[10:03:00.0000] <annevk>
if you say so :) I added some text to make it more interesting

[10:03:21.0000] <GPHemsley>
hmm

[10:03:52.0000] <GPHemsley>
Apparently I was wrong

[10:04:05.0000] <GPHemsley>
the MediaWiki pages are the ones that disable the links

[10:04:14.0000] <GPHemsley>
but the WHATWG Wiki pages still exist

[10:04:25.0000] <annevk>
so we should remove those?

[10:05:00.0000] <annevk>
oh you clean it up now ;)

[10:06:29.0000] <GPHemsley>
:)

[10:06:37.0000] <GPHemsley>
/me made a mess all over the wiki.

[10:06:59.0000] <GPHemsley>
but I think it's fixed now

[10:07:05.0000] <shakesoda>
is anyone aware of any pen pressure APIs being proposed? (and is this even the right place to ask?)

[10:07:41.0000] <shakesoda>
I'm slightly surprised that the only way to get pen pressure in browsers appears to be wacom's plugin, which I can't use (linux)

[10:10:15.0000] <annevk>
it sounds like https://dvcs.w3.org/hg/gamepad/raw-file/tip/gamepad.html should address that somehow

[10:10:18.0000] <annevk>
but maybe not

[10:21:19.0000] <shakesoda>
looks like a suitable interface to me, would just need a sane (consistent) mapping of the axes.

[10:22:01.0000] <shakesoda>
e.g. axes[0] => pressure, axes[1] => tilt, axes[2] => rotation

[11:51:46.0000] <annevk>
I don't understand http://lists.w3.org/Archives/Public/uri/2012Oct/0053.html

[11:51:48.0000] <annevk>
I thought the IETF does not use the term URL anymore?

[11:52:28.0000] <annevk>
Ah, it has a non-normative note on them here: http://tools.ietf.org/html/rfc3986#section-1.1.3

[11:56:26.0000] <tantek>
annevk - it's an interesting message from the perspective of a group telling an individual "why don't you come do the work in our group?"

[11:56:44.0000] <tantek>
WHATWG has had the same problem, telling individuals to come do the work at WHATWG

[11:56:52.0000] <tantek>
so it can happen to any group

[11:57:30.0000] <annevk>
what I think we told those people was that if you don't have actual implementors on board, you're gonna have a bad time

[11:57:40.0000] <tantek>
indeed

[11:57:59.0000] <tantek>
it's ironic since the motto of IETF is something like rough consensus and *running code* (emphasis added)

[11:58:05.0000] <annevk>
WHATWG is a great place to go for implementor feedback, as long as we manage to keep the signal/noise ratio somewhat sane

[11:58:06.0000] <tantek>
how did that latter part get lost?

[11:58:24.0000] <annevk>
running code, as long as it's within silos we work on?

[11:59:02.0000] <annevk>
(not entirely fair to jreschke, who hacks on Gecko now and then)

[11:59:13.0000] <tantek>
WHATWG *is* a great place to go for implementor feedback. That I agree with. I think the majority of actual bad friction (at/with WHATWG) has been when it involves innovating/designing for author-centric technologies - like all the responsive image stuff.

[11:59:16.0000] <annevk>
biab

[11:59:36.0000] <tantek>
but even there the results are decent to a first approximation, so, carry-on as they say.

[11:59:57.0000] <tantek>
re: the running code being lost

[12:00:11.0000] <tantek>
perhaps that's a pattern in the growth/expansion of any standards community/group?

[12:01:11.0000] <tantek>
they start out as primarily (or only?) implementors, then more and more others get involved, until the non-implementors vastly outnumber the implementors, and mistake their email participation in the group for actual productivity.

[12:01:25.0000] <tantek>
similar thing obviously happened at W3C.

[12:02:19.0000] <tantek>
theb non-implementors start to write "wish list" specs completely detached from implementability and wonder why no one is paying attention to them.

[12:02:31.0000] <tantek>
s/theb/then

[12:06:10.0000] <GPHemsley>
FYI: I've add a few extensions (and a bunch of gadgets) to the wiki. Check the list out here: http://wiki.whatwg.org/wiki/Special:Version

[12:06:54.0000] <GPHemsley>
Most of the gadgets are turned on by default, but there are a few that aren't (and you are welcome to turn the others off for yourself).

[12:07:12.0000] <GPHemsley>
If there's a gadget you want installed, let me know.

[12:09:37.0000] <tantek>
GPHemsley - we've found the SemanticHTML extensions quite handy on the #microformats wiki: https://github.com/BenWard/mediawiki-semantic-html

[12:09:38.0000] <annevk>
tantek: yeah, there's some bridge to be crossed between the jQuery people and where browsers are still at

[12:10:15.0000] <tantek>
BTW that's a nice list http://wiki.whatwg.org/wiki/Special:Version - will likely crib some of that for #microformats as well

[12:10:37.0000] <annevk>
tantek: I haven't really thought much about it, other than whenever I design a new API ask a bunch of them explicitly for feedback (or for the entire design of the API)

[12:10:58.0000] <annevk>
tantek: but most of my work is on upgrading fifteen-year-old standards

[12:11:07.0000] <tantek>
GPHemsley - this one too for code examples: http://www.mediawiki.org/wiki/Extension:SyntaxHighlight_GeSHi

[12:11:40.0000] <tantek>
annevk - WHATWG methodology seems quite good (produces good results) at upgrading/fixing old standards, that's for sure.

[12:12:11.0000] <annevk>
GPHemsley: sounds interesting

[12:16:03.0000] <Ms2ger>
annevk, I minted something?

[12:16:43.0000] <annevk>
Ms2ger: http://wiki.whatwg.org/wiki/Registry-URL-schemes

[12:17:06.0000] <Ms2ger>
Huh, I did do that

[12:19:25.0000] <Ms2ger>
No longer needed, I gues

[12:19:25.0000] <Ms2ger>
s

[12:19:35.0000] <annevk>
actually it is

[12:19:42.0000] <annevk>
unless we defer to IANA

[12:20:08.0000] <annevk>
conformance is going to be scheme-dependent

[12:20:49.0000] <Ms2ger>
Mm, and I guess you don't want all that in url.s.w.o

[12:22:59.0000] <annevk>
a) there's conformance rules; what syntax coms after tel:/fax:/skype:/data:/javascript:/ws:/... b) there's processing rules; after parsing the URL various schemes need post-processing

[12:23:48.0000] <annevk>
e.g. you can parse "tel:data" and then you'll want to process "data" and prolly mark that as an invalid resource

[12:24:27.0000] <annevk>
now given the enormous amount of URL schemes, I think not all of those should be in url.spec.whatwg.org

[12:24:51.0000] <annevk>
though I might include e.g. javascript: to illustrate how it works

[12:25:36.0000] <annevk>
MikeSmith: gonna need your thoughts on the above too at some point ^^

[12:25:56.0000] <annevk>
MikeSmith: might be a lot of work to support URL validation

[12:29:43.0000] <GPHemsley>
tantek: OK, I've added both of those.

[12:29:56.0000] <GPHemsley>
(Syntax highlighting defaults to HTML5.)

[12:35:26.0000] <annevk>
guess I can't ++ GPHemsley more for fear of integer overflow

[12:35:36.0000] <GPHemsley>
:)

[12:42:45.0000] <tantek>
GPHemsley thanks!

[12:42:51.0000] <tantek>
GPHemsley++

[12:46:03.0000] <GPHemsley>
/me feels like a slot machine. *cha-ching*

[12:52:00.0000] <annevk>
found a bug in Nightly

[12:52:10.0000] <annevk>
file:/// shows "Index of file:///"

[12:52:48.0000] <annevk>
(rather than "Index of file:/")

[12:59:04.0000] <hober>
Hixie: out of curiosity, what does <!--DEFER foo--> do in your toolchain?

[13:05:08.0000] <jgraham>
hober: Is that stuff that has been removed from the spec but hixie wants to keep around in case we ever decide to resurrect the idea?

[13:05:53.0000] <hober>
jgraham: i dunno; it only appears once in source

[13:06:21.0000] <hober>
<!--DEFER snapshot complete-->, line 32

[13:09:11.0000] <Ms2ger>
You're trying to figure out something about his toolchain?

[13:09:14.0000] <Ms2ger>
Good luck :)

[13:10:06.0000] <hober>
heh

[13:12:10.0000] <jgraham>
hober: Oh, well my theory makes no sense in context. Maybe I just invented the idea that there was something like that

[13:16:14.0000] <annevk>
there is, he just uses comments like the rest of us for that ;)

[13:16:16.0000] <GPHemsley>
/me wonders if there's any chance the W3C Bugzilla instance will install the Component Watching extension

[13:16:40.0000] <annevk>
GPHemsley: sysreq⊙wo iirc

[13:16:52.0000] <annevk>
GPHemsley: maybe cc MikeSmith for superior lobbying powers

[13:16:53.0000] <TabAtkins>
Damn, annevk beat me.

[13:17:00.0000] <GPHemsley>
MikeSmith: ^^

[13:17:01.0000] <GPHemsley>
;)

[13:17:05.0000] <Ms2ger>
GPHemsley, is that an extension or just a new feature?

[13:17:12.0000] <Ms2ger>
The W3C bugzilla is ages out of date

[13:17:22.0000] <GPHemsley>
It's an extension, AFAIK.

[13:17:34.0000] <GPHemsley>
Though it would ideally be an integrated feature.

[13:17:44.0000] <GPHemsley>
BMO has it installed.

[13:26:05.0000] <GPHemsley>
/me thinks the W3C depends on e-mail too much.

[13:26:15.0000] <GPHemsley>
(Maybe if they used Bugzilla more, it'd be up to date.)

[13:26:15.0000] <Ms2ger>
E-mail is a support forum

[13:26:17.0000] <Ms2ger>
/me runs

[13:26:47.0000] <GPHemsley>
/me doesn't bother running after Ms2ger.

[13:29:47.0000] <annevk>
too bad a private repo costs money

[13:30:06.0000] <annevk>
would be nice to store twitter account details and such somewhere where more people had access to them

[13:30:28.0000] <annevk>
does WikiMedia have some concept of private pages?

[13:31:02.0000] <annevk>
though I guess we'd want to run the thing over https in that case

[13:31:04.0000] <annevk>
meh

[13:31:06.0000] <Ms2ger>
I don't think so

[13:31:09.0000] <GPHemsley>
hmm

[13:31:22.0000] <GPHemsley>
let me look

[13:32:24.0000] <GPHemsley>
"If you need per-page or partial page access restrictions, you are advised to install an appropriate content management package. MediaWiki was not written to provide per-page access restrictions, and almost all hacks or patches promising to add them will likely have flaws somewhere, which could lead to exposure of confidential data. We are not responsible for anything being leaked, leading to loss of funds or one's job."

[13:34:17.0000] <GPHemsley>
BTW, who has access to the web server interface? AryehGregor? Because PHP is really out of date. (I couldn't even find PHP5 on the command line, and I don't know how the command line differs from what is run on the server.)

[13:34:43.0000] <annevk>
GPHemsley: what is the PHP version?

[13:34:46.0000] <GPHemsley>
Also, the connection seems to time out in a way that prevents me from accessing the cursor.

[13:34:54.0000] <GPHemsley>
so I can't even Ctrl-C to kill it

[13:35:07.0000] <GPHemsley>
annevk: in the command line? PHP 4 something

[13:35:22.0000] <annevk>
GPHemsley: Hixie has the ability to change those settings

[13:35:27.0000] <GPHemsley>
though the wiki is somehow run by 5.2.17 or so

[13:35:48.0000] <annevk>
okay, that sounds like the latest version DreamHost runs

[13:35:58.0000] <annevk>
not sure about the command line option

[13:35:59.0000] <GPHemsley>
There are some scripts that are better run via command line that I couldn't run, because I couldn't find PHP5

[13:36:16.0000] <annevk>
GPHemsley: PHP by default runs over CGI in DreamHost

[13:36:40.0000] <annevk>
GPHemsley: Hixie can enable mod_php I think as he has DreamHost PS, but I'm not sure if he's done that

[13:36:48.0000] <annevk>
dunno much about PHP on the command line

[13:37:30.0000] <annevk>
GPHemsley: https://discussion.dreamhost.com/thread-90033.html

[13:37:47.0000] <annevk>
GPHemsley: http://wiki.dreamhost.com/PHP#PHP-CLI_.28Using_PHP_from_the_Command_line.29

[13:38:13.0000] <GPHemsley>
AFAICT, DreamHost also offers the option to use 5.3.x

[13:38:28.0000] <annevk>
correct, but the default is 5.2.x

[13:39:10.0000] <GPHemsley>
ah, I see

[13:39:12.0000] <GPHemsley>
weird

[13:39:24.0000] <GPHemsley>
is there a reason not to switch to 5.3.x?

[13:40:30.0000] <annevk>
I think you want to make the case the other way around, as it's some work for Hixie and potential breakage

[13:40:53.0000] <GPHemsley>
well, it's merely a flip of a drop-down

[13:41:39.0000] <GPHemsley>
and it seems that it can be set on a per-subdomain basis

[13:41:56.0000] <GPHemsley>
and AFAIK, only the wiki is run on this particular subdomain

[13:42:06.0000] <annevk>
all true

[13:43:16.0000] <GPHemsley>
and PHP 5.2.x is no longer maintained

[13:43:36.0000] <GPHemsley>
which is more a judgement on DreamHost than the WHATWG, but...

[13:43:57.0000] <annevk>
I guess my point is more that if there's nothing in 5.3 we need, we might as well wait for DreamHost to make the switch

[13:44:49.0000] <GPHemsley>
Well unmaintained potentially means insecure

[13:44:54.0000] <GPHemsley>
but again, that's on DreamHost

[13:45:19.0000] <GPHemsley>
so, ok

[13:45:43.0000] <GPHemsley>
it all depends on how the MediaWiki development goes, and whether we update it

[13:46:01.0000] <GPHemsley>
because I think we're at the bare minimum PHP version right now

[13:46:44.0000] <GPHemsley>
I'm surprised DreamHost hasn't spun up any 5.4.x options, though

[13:46:53.0000] <GPHemsley>
they're already at 5.4.7

[13:47:16.0000] <GPHemsley>
though I suppose 5.4.0 was only released in March

[13:48:35.0000] <Hixie>
ok the logo for encoding.spec.whatwg.org is pretty damn funny

[13:48:48.0000] <Hixie>
hober: something about making one of the keywords work like an alias for the other, or something

[13:49:01.0000] <Hixie>
hober: i don't think it is used for any of the keywords you guys use

[13:55:40.0000] <hober>
ahh, ok. just curious, thanks

[13:56:03.0000] <hober>
annevk Hixie: yeah, the encoding logo is perfect

[13:59:28.0000] <Hixie>
annevk: please don't fall into the trap the XML guys fell into -- "valid URL" is a fine thing to define, but "URL" shouldn't be only things that are valid

[13:59:50.0000] <Hixie>
otherwise it gets really confusing and you have people saying "oh that's not a url" when you point them to invalid values of href="" attributes

[14:00:14.0000] <Ms2ger>
Hixie, well, that href value sure ain't XML...

[14:00:41.0000] <Hixie>
the equivalent in XML world is people saying "that's not XML" about resources sent as application/xml

[14:01:12.0000] <annevk>
Hixie: I guess that's fair

[14:01:43.0000] <annevk>
Hixie: but do we then also need valid relative URL etc.

[14:01:59.0000] <Hixie>
hey, tim thinks you guys are my "tribe"

[14:02:06.0000] <Hixie>
not sure what that means, but it's something

[14:02:22.0000] <annevk>
I thought we were a gang, with the gang sign and all

[14:02:25.0000] <annevk>
or a caball?

[14:02:43.0000] <annevk>
s/ll/l/

[14:02:46.0000] <Hixie>
i always thought the gang sign thing was silly, personally :-P

[14:03:01.0000] <annevk>
well it's a gang sign :)

[14:04:39.0000] <annevk>
so in http://url.spec.whatwg.org/#writing should I have "A URL is a string that might identify a resource. A *valid URL* identifies a resource and is either a relative URL or an absolute URL."

[14:04:42.0000] <annevk>
Hixie: ^^

[14:05:39.0000] <Hixie>
a valid URL might not identify a resource

[14:05:48.0000] <Hixie>
e.g. a relative URL without a base URL is valid, as is a urn: URL.

[14:06:11.0000] <annevk>
my definition of valid URL was going to be more restricted

[14:06:12.0000] <Hixie>
"A URL is a string that might identify a resource. A *valid URL*  absolute URL."

[14:06:16.0000] <Hixie>
er

[14:06:18.0000] <Hixie>
mispaste

[14:06:36.0000] <Hixie>
you don't want urn:s to be valid? o_O

[14:07:00.0000] <Hixie>
if you define "valid URL" as something that "identifies a resource" you're going to have to define "resource"

[14:07:04.0000] <Hixie>
i don't recommend that rat hole

[14:07:07.0000] <Hixie>
it's not scenic

[14:07:23.0000] <Ms2ger>
'The term "resource" is defined in HTML.'

[14:07:39.0000] <annevk>
I think I copied that bit from HTML actually

[14:07:53.0000] <Hixie>
(also, I wouldn't define valid URL as "either a relative URL or an absolute URL", I'd define it as "either a valid relative URL or a valid absolute URL" :-)

[14:08:04.0000] <Hixie>
HTML says "A URL is a string used to identify a resource.

[14:08:05.0000] <Hixie>
A URL is a valid URL if at least one of the following conditions holds:

[14:08:14.0000] <Hixie>
* [four links to STD 66]"

[14:08:37.0000] <annevk>
What I meant was that I wanted to outlaw "../" if the base URL is e.g. "about:blank"

[14:09:03.0000] <Hixie>
(and the term "resource" in HTML doesn't include things like mailto: targets, it's only things that could be HTTP bodies)

[14:09:25.0000] <Hixie>
annevk: that makes sense, i guess

[14:09:31.0000] <annevk>
Hixie: so you don't include "mailto:x@x" in your definition of URL?!

[14:09:40.0000] <Hixie>
i don't include "resource" in my definition of URL

[14:09:48.0000] <Hixie>
at least, not in a normative way

[14:10:05.0000] <Hixie>
"used to identify a resource" is fluff in that definition above

[14:10:25.0000] <annevk>
I think it's the same in mine

[14:10:49.0000] <annevk>
but do you really want the spec to both define "valid relative URL" and "relative URL" ?

[14:11:45.0000] <annevk>
Hixie: the way HTML defines documents also excludes invalid documents

[14:11:52.0000] <annevk>
Hixie: in http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#writing

[14:12:29.0000] <Hixie>
i dunno that it's useful to define "relative URL" really, no. I'm just worried people will say "that's not a relative URL!" when pointing at "%", and miss the point that it's a URL anyway.

[14:12:46.0000] <Hixie>
that section doesn't define documents

[14:12:54.0000] <Hixie>
it defines conformance criteria for documents

[14:13:08.0000] <Hixie>
that is, it doesn't say "documents are", it says "documents must"

[14:13:09.0000] <annevk>
right, this is conformance criteria for URLs

[14:13:18.0000] <Hixie>
well it's fine to say "URLs must ..."

[14:13:29.0000] <Hixie>
jsut not "URLs are [something that doesn't include all strigns]"

[14:13:41.0000] <Hixie>
woo, typos galore

[14:14:00.0000] <annevk>
okay, so I'll replace some are with must there

[14:14:28.0000] <annevk>
I guess I'm there if I say "a URL must be either a relative URL or an absolute URL"

[14:14:49.0000] <annevk>
because the rest is then required by virtue of that being required

[14:15:09.0000] <Hixie>
yes, that's fine

[14:15:40.0000] <Hixie>
though it would be convenient for HTML's sake if you just defined "URL" and "valid URL" instead. :-P

[14:15:52.0000] <Hixie>
but i'll live either way

[14:16:20.0000] <annevk>
/me takes a look at usage in HTML

[14:16:48.0000] <annevk>
ooh, only 218 hits

[14:18:39.0000] <annevk>
Hixie: I can define those non-empty URL / URL with spaces concepts for you without the word valid ;)

[14:19:34.0000] <Hixie>
my concern isn't those, it's more with being able to talk about things that are URLs without having people say "well it's not valid so it doesn't apply"

[14:20:08.0000] <Hixie>
the concern is greater with the concept of URLs because of the people who historically have worked with URLs

[14:20:53.0000] <annevk>
well, does HTML say the document "<x>" is HTML?

[14:21:21.0000] <Hixie>
whether something is HTML or not depends on how it's labeled

[14:21:25.0000] <Hixie>
per the spec

[14:21:44.0000] <Hixie>
and not on whether it's valid

[14:21:59.0000] <TabAtkins>
Every possible sequence of bytes is HTML if it's labelled correctly.

[14:22:07.0000] <Hixie>
right

[14:22:12.0000] <Hixie>
including no bytes

[14:22:23.0000] <annevk>
I think we should have the same for URLs

[14:22:27.0000] <Hixie>
i agree

[14:22:37.0000] <TabAtkins>
Yeah.  Similarly, anything inside of @href is a URL, though maybe not a valid one.

[14:22:42.0000] <Hixie>
right

[14:22:57.0000] <Hixie>
the difference is that URLs tend not to be explicitly labeled the way documents are

[14:23:05.0000] <annevk>
The "Writing" section just defines URL conformance

[14:23:21.0000] <annevk>
well, how to write URLs

[14:23:22.0000] <jgraham>
Obviously they need a mime type!

[14:23:33.0000] <annevk>
jgraham: there's text/uri-list or some such...

[14:23:37.0000] <jgraham>
<a href="foo" type="text/url">

[14:24:03.0000] <jgraham>
Then we could replace srcdoc with <iframe src="<p>foo" type="text/html">

[14:24:21.0000] <jgraham>
And then we could replace all tags with <object>

[14:24:27.0000] <jgraham>
Then our work would be done

[14:24:39.0000] <annevk>
Hixie: maybe I need to move "A URL is a string to identify a resource" out of the writing section?

[14:27:39.0000] <Ms2ger>
/me tries to figure out what annevk did to the anolis repo

[14:28:11.0000] <annevk>
Hixie: a) I want to define conformance for URLs so validators can give useful messages to developers and we can maybe tie the parser into it somehow for people who want strict parsing (similar to HTML) b) I don't want to end up defining every term related to URL twice, once restricted and once unrestricted

[14:30:27.0000] <Hixie>
annevk: yeah! that sounds like a good plan (moving the definition of URL away from its authoring conformance criteria)

[14:30:44.0000] <Hixie>
annevk: agreed entirely with not defining things twice.

[14:30:49.0000] <Hixie>
annevk: different section should be enough

[14:33:13.0000] <Hixie>
annevk: ok i suggested replacing STD 66 with your spec once you're done, we'll see how that goes

[14:35:26.0000] <annevk>
oh that thread :)

[14:38:20.0000] <Hixie>
hm, no heycam

[14:43:26.0000] <Ms2ger>
Gone until the fifth, it seems

[14:53:14.0000] <TabAtkins>
Le sigh.  People questioned the need for a state-machine parser for CSS.  The grammar is enough to get convergence, they said.  LIES.

[14:54:03.0000] <TabAtkins>
Every single browser does a different, uniquely stupid, thing with NULLs in stylesheets, with the treatment varying randomly depending on exactly where the NULL shows up.

[14:56:27.0000] <Ms2ger>
TabAtkins, and CSS isn't even at the IETF

[14:56:42.0000] <TabAtkins>
However, we do have Bert. That's almost as good.

[14:56:49.0000] <annevk>
heh

[14:57:07.0000] <Ms2ger>
And other Glenn!

[14:57:22.0000] <TabAtkins>
He's randomly okay.  I dunno.

[14:57:31.0000] <annevk>
is there any grammar-based technology that is considered okay?

[14:57:50.0000] <annevk>
(parser being defined by grammar)

[14:58:06.0000] <TabAtkins>
As a first pass, man, I doubt it.

[14:58:16.0000] <Ms2ger>
JSON?

[14:58:18.0000] <TabAtkins>
Grammars are great *after* you've handled segmentation and error-handling.

[14:58:47.0000] <annevk>
Ms2ger: yeah, JSON and maybe JavaScript

[14:58:50.0000] <Ms2ger>
As long as you can just ignore anything that doesn't match your grammar, I guess it's fine

[14:58:50.0000] <TabAtkins>
Ms2ger: One would think so, except JSON accidentally included *one* character that valid JS can't have.

[14:59:07.0000] <annevk>
and forgot comments

[14:59:09.0000] <Ms2ger>
TabAtkins, can't really blame that on the grammar, though

[14:59:31.0000] <Ms2ger>
Well, comments weren't forgotten, but excluded deliberately to avoid extensions, AIUI

[14:59:41.0000] <TabAtkins>
Yes, it was deliberate, per Crock.

[15:00:10.0000] <Hixie>
defining parsing with a grammar makes sense so long as your grammar matches all input strings

[15:00:11.0000] <annevk>
i know i know

[15:00:13.0000] <Hixie>
but that's not easy

[15:00:28.0000] <Hixie>
(but then it's not trivial with prose or dedicated code, either)

[15:00:30.0000] <TabAtkins>
Total grammars are both hard to write and hard to read.

[15:00:57.0000] <Hixie>
iirc the event source parser might be defined that way?

[15:00:58.0000] <Hixie>
i forget

[15:01:00.0000] <annevk>
so Bert doesn't like css3-syntax?

[15:01:02.0000] <Hixie>
/me looks

[15:01:10.0000] <Ms2ger>
Getting everything defined is hard

[15:01:14.0000] <Ms2ger>
News at 11

[15:01:16.0000] <annevk>
Hixie: I think it was defined that way

[15:01:30.0000] <Hixie>
ah, no, its conformance criteria are defined that way but the parsing is separate

[15:01:34.0000] <Hixie>
oh well

[15:01:35.0000] <TabAtkins>
annevk: He does not.  But we don't have to care - the WG has gotten comfortable with overriding Bert with quick straw polls when necessary.

[15:02:05.0000] <annevk>
I'd assume most implementors prefer parsing being written out

[15:02:19.0000] <Hixie>
i'd assume most implementors would prefer the parsing being written as a grammar, if it works

[15:02:24.0000] <annevk>
can make much faster parsers that way too

[15:02:24.0000] <Hixie>
since then they can just copy and paste

[15:02:35.0000] <Hixie>
but if it doesn't work... yeah

[15:02:38.0000] <TabAtkins>
dbaron seems somewhat reluctant, strangely.  But I think his reluctance is mostly a matter of wanting to ensure I don't introduce errors.

[15:06:26.0000] <annevk>
regression tests should help with that; but yeah, that's the risk with defining anything that already exists in a new way

[15:12:06.0000] <GPHemsley>
ICYMI: http://wiki.curatecamp.org/index.php/CURATEcamp_24_hour_worldwide_file_id_hackathon_Nov_16_2012

[15:12:47.0000] <GPHemsley>
It seems like there should be some overlap of goals/effort with that project and the efforts of the WHATWG.

[15:14:05.0000] <annevk>
TabAtkins: any plans on defining the layout tree?

[15:14:47.0000] <hober>
or hit testing :)

[15:15:59.0000] <annevk>
if only the WG had given Leif free roam

[15:16:30.0000] <TabAtkins>
annevk: Yes, I plan to write the box tree spec at some point.

[15:16:52.0000] <TabAtkins>
Getting closer to it, now that I've written the first draft of Display, assuming the WG accepts the draft.

[15:17:07.0000] <TabAtkins>
Shit's impossible to do cleanly with the existing 'display' property.

[15:17:31.0000] <annevk>
i like

[15:18:53.0000] <TabAtkins>
This is cool - my wife and I did a playtest of a *very* early version of the new game Fuse.

[15:35:58.0000] <GPHemsley>
How does Web Storage related to Web (SQL) Database?

[15:36:06.0000] <GPHemsley>
-d

[15:37:18.0000] <GPHemsley>
Hixie: ^^

[15:38:10.0000] <TabAtkins>
It doesn't.

[15:38:15.0000] <Hixie>
they were both part of HTML, but beyond that, it doesn't

[15:40:54.0000] <GPHemsley>
Hixie: It seems like Web (SQL) Database was removed in steps?

[15:41:08.0000] <Hixie>
it was commented out, then deleted, probably

[15:58:21.0000] <GPHemsley>
Hixie: I need an intermediary blame. How could I get that?

[15:58:31.0000] <GPHemsley>
(between 5000 and 4000)

[15:59:13.0000] <GPHemsley>
In particular, a blame for 4722 would be helpful

[16:03:58.0000] <TabAtkins>
Hixie can generate them, I think.  He just doesn't do blames for arbitrary commits, because it's time-expensive to generate.

[16:07:38.0000] <GPHemsley>
(Incidentally, it's somewhat frustrating that the references were not added until very late in the development of the spec.)

[16:52:37.0000] <Hixie>
GPHemsley: sure, give me a few minutes

[16:52:52.0000] <Hixie>
GPHemsley: i wish i still hadn't added the refs, they're a pain to maintain :-)

[16:53:24.0000] <Hixie>
GPHemsley: check the obvious URL in a few minutes

[16:53:35.0000] <Hixie>
(dunno how long it takes)


2012-10-24
[22:55:43.0000] <hsivonen>
Hixie: TimBL calls us your tribe? Or Tim Bray?

[22:56:06.0000] <Hixie>
bray

[22:59:15.0000] <hsivonen>
ok

[22:59:47.0000] <Hixie>
nn.

[23:05:00.0000] <hsivonen>
nn

[23:28:51.0000] <hsivonen>
annevk: seems like a bad idea to investigate what browsers are doing without having a Windows license to investigate IE

[23:47:06.0000] <hsivonen>
The uri discussion is pretty firmly in the “the point, you are proving it” department.

[23:48:25.0000] <wirepair_>
hsivonen: where is this discussion occuring?

[23:51:01.0000] <annevk>
hsivonen: I'll fix it once I'm no longer draining my savings account

[00:01:53.0000] <hsivonen>
wirepair_: http://lists.w3.org/Archives/Public/uri/2012Oct/

[00:03:30.0000] <wirepair_>
cheers

[00:21:53.0000] <annevk>
sorry about the hg mess I left Anolis in Ms2ger; I'm that dog that has no idea what he's doing

[00:23:22.0000] <annevk>
Ms2ger: glad you fixed it

[00:28:34.0000] <hsivonen>
TabAtkins: thanks for fixing the character encoding stuff in CSS3 Syntax.

[00:32:55.0000] <Ms2ger>
/me was surprised to see someone from "China Unicorn" introduce themselves

[00:33:18.0000] <hsivonen>
Ms2ger: keming?

[00:34:22.0000] <Ms2ger>
For some reason, thunderbird displays e-mails encoded in one of the cjk encodings in variable-width, and everything else in monospace

[00:34:50.0000] <Ms2ger>
So yes, more keming than I'm used to :)

[00:58:54.0000] <hsivonen>
dbaron: I couldn’t find proper data about which systems used the SEN_850200_B encoding, but old usenet postings suggest VAX/VMS used it.

[00:59:37.0000] <hsivonen>
SEN_850200_B being a 7-bit modification of ASCII used for Swedish and Finnish

[00:59:55.0000] <dbaron>
hsivonen, well, glad it's gone now :-)

[01:00:46.0000] <hsivonen>
me too

[01:02:15.0000] <hsivonen>
surprisingly, http://wiki.whatwg.org/wiki/Web_Encodings says IE supports it

[01:15:36.0000] <MikeSmith>
in the outline algorithm what exactly does "create an implied heading" mean?

[01:16:13.0000] <MikeSmith>
I assume it means, leave a spot in the outline for that section (which lacks a heading)

[01:19:14.0000] <Ms2ger>
It's like <h1>[Something the UA thinks makes sense here]</h1>

[01:22:33.0000] <jgraham>
Right, exactly

[01:25:13.0000] <jgraham>
So, someone remind me what the argument is that the outline algorithm is a candidate for removal?

[01:25:40.0000] <jgraham>
Is it "we don't need a well defined way to do this at all" or "this particular algorithm has known problems"?

[01:25:48.0000] <annevk>
not implemented?

[01:26:18.0000] <jgraham>
That's not really true

[01:26:45.0000] <jgraham>
Unless the only value of "implemented" that counts is "by default in browsers"

[01:26:57.0000] <annevk>
hsivonen: Gecko and IE support a lot of weird stuff :/

[01:27:17.0000] <jgraham>
(at least, I think there are browser extensions that add the functionality. I don't know if there are also authoring tools or ATs that implement it)

[01:27:18.0000] <annevk>
Microsoft and IBM shitting all over the web :p

[01:28:34.0000] <jgraham>
For example http://o-extensions.y2-game.de/toc/

[01:30:35.0000] <jgraham>
http://code.google.com/p/h5o/

[01:32:22.0000] <MikeSmith>
I don't know who thinks the outline algorithm should be a candidate for removal

[01:32:31.0000] <MikeSmith>
somebody added it to the Wiki page

[01:33:34.0000] <MikeSmith>
but I don't remember any discussion about it

[01:33:48.0000] <jgraham>
istr that othermaciej and hsivonen do

[01:34:04.0000] <MikeSmith>
oh

[01:34:28.0000] <jgraham>
I might be wrong though

[01:34:41.0000] <jgraham>
And I don't remember their reasoning in detail

[01:34:53.0000] <MikeSmith>
hmm

[01:35:00.0000] <MikeSmith>
I should talk to hsivonen I guess

[01:36:13.0000] <MikeSmith>
because I have a validator contributor who's offered to implement support for an outline feature in the validator code

[01:36:42.0000] <MikeSmith>
and I'm asking him to implement it according to the outline algorithm in the spec

[01:37:32.0000] <MikeSmith>
that's one of the features the legacy W3C validator provides that validator.nu doesn't have yet

[01:39:53.0000] <jgraham>
Sounds pretty neat

[01:40:04.0000] <jgraham>
But yeah, talk to hsivonen :)

[01:40:19.0000] <MikeSmith>
yeah

[01:41:08.0000] <MikeSmith>
btw what does "istr" mean?

[01:42:51.0000] <jgraham>
I seem to recall

[01:42:59.0000] <jgraham>
But maybe no one else says that :)

[01:43:46.0000] <hsivonen>
MikeSmith: the CR exit criteria requires two browser implementations. for the outline algorithm, those don’t seem forthcoming

[01:44:10.0000] <annevk>
s/istr that/iirc/ ;)

[01:44:17.0000] <othermaciej>
MikeSmith: it seems unlikely that any browser will implement the outline algorithm to me

[01:44:20.0000] <othermaciej>
let alone two

[01:44:40.0000] <MikeSmith>
hsivonen, othermaciej: are you sure that outline algorithm requires it on the browser conformance class?

[01:44:45.0000] <MikeSmith>
/me looks

[01:44:45.0000] <othermaciej>
it may be that some interesting non-browser consumers will implement it but I don't see evidence of that either

[01:44:56.0000] <annevk>
doesn't AT support something like it already?

[01:44:58.0000] <othermaciej>
the outline algorithm isn't part of any conformance class iirc

[01:45:02.0000] <hsivonen>
validator code demonstrating implementability using SAX without full tree access could be good input for efficient selector impl, too

[01:45:37.0000] <MikeSmith>
hsivonen: hmm yeah

[01:46:38.0000] <MikeSmith>
hsivonen: but I think the guy i've been talking with who's offered to implement it may not understand how much work it is to implement in SAX

[01:47:16.0000] <othermaciej>
I don't know if any screen readers or other assistive technologies aim to implement the html5 outline algorithm

[01:47:55.0000] <othermaciej>
from what I can tell, html5 does not require any conformance class to implement the outline algorithm, but it does appear to forbid generating a document outline that does not match the outline algorithm

[01:48:37.0000] <othermaciej>
thus, an AT with a "jump to next heading" that doesn't match the outline algorithm would be nonconforming per the current draft

[01:50:06.0000] <othermaciej>
I am curious if anyone has attempted to implement the implied lower heading levels for h1 with sectioning ancestors

[01:50:18.0000] <othermaciej>
though that seems much simpler than implementing the outline algorithm

[01:51:01.0000] <MikeSmith>
there are browser plugins that generate outlines and that follow the spec

[01:51:08.0000] <MikeSmith>
or claim to

[01:52:11.0000] <jgraham>
So, it seems kind of absurd to me that we would have all this machinary for creating tree-structured documents and not have any defined mapping between the markup and the tree structure it generates

[01:52:22.0000] <MikeSmith>
http://code.google.com/p/h5o/

[01:52:42.0000] <jgraham>
On the other hand, I am not particularly wedded to the current algorithm

[01:53:32.0000] <MikeSmith>
that would seem to be a good feature to add to developer tools in browsers in some form

[01:53:41.0000] <MikeSmith>
*this would seem to be

[01:53:42.0000] <jgraham>
It would for-sure be nice if there was something fast enough to use with a notional ::heading(n) selector

[01:54:33.0000] <hsivonen>
MikeSmith: creating a tree just for the outline would be kinda uncool considering that we are supposed to be on track to removing Schematron and, therefore, trees

[01:55:09.0000] <MikeSmith>
hmm yeah

[01:56:29.0000] <MikeSmith>
hsivonen: it would be an option though

[01:56:40.0000] <MikeSmith>
or could be implemented that way I mean

[02:00:27.0000] <MikeSmith>
hsivonen: is TreeDumpContentHandler not also creating a tree?

[02:01:15.0000] <hsivonen>
MikeSmith: it’s not on its own

[02:01:34.0000] <hsivonen>
It can be used with the treeless mode, too

[02:01:38.0000] <MikeSmith>
ah

[02:02:13.0000] <hsivonen>
one possibility is creating a redacted tree that throws away stuff that doesn’t affect the outline

[02:02:50.0000] <hsivonen>
but I think implementation without a tree would give the most insight into whether the outline algorithm is ever going to find its way into a selector

[02:08:24.0000] <hsivonen>
I wonder if this is XML 5th ed. sending fun my way or something else: https://bug804116.bugzilla.mozilla.org/attachment.cgi?id=673828

[02:08:45.0000] <hsivonen>
well-formed in Chrome. Ill-formed in Firefox and Opera.

[02:09:05.0000] <MikeSmith>
hsivonen: maybe I should write the outline code myself instead of expecting that the guy who volunteered will be able to do it the way we need

[02:11:28.0000] <MikeSmith>
hsivonen: the point where it fails in Firefox is odd

[02:11:31.0000] <MikeSmith>
if that marker is correct

[02:11:42.0000] <MikeSmith>
oh it fails at different point in Opera

[02:11:52.0000] <MikeSmith>
if the marker is correct there

[02:12:08.0000] <hsivonen>
yeah. more investigation needed.

[02:12:39.0000] <hsivonen>
I can’t tell if it succeeds or fails in IE10, since I don’t know what success and failure are supposed to look like

[02:40:46.0000] <Stevef_>
annevk: JAWS implements the outline algorithm sans hgroup, but the implementation is borked see my comment here for details http://www.netmagazine.com/tutorials/html5-ranked-headings-screen-readers#comments

[02:47:03.0000] <Stevef_>
on the subject I note that there is no longer a requirement for UAs to hide the subheadings in hgroup from generated outlines, which was the only use case put forward for hgroup

[02:50:12.0000] <Stevef_>
also looking a usage data and how hgroup is defined a simple rule for indicating subheadings for the purpose of outline generators could be that if a hx has a sibling hx then its a subheading

[02:55:31.0000] <Stevef_>
hgroup usage examples: http://html5accessibility.com/HTML5data/hgroup.html

[03:06:07.0000] <Stevef_>
othermaciej: it seems apparent that browsers would need to implement the outline algorithm and provide that correct heading levels via accessibility APIs as the heading levels indicated in the element names can no longer be relied upon.

[03:07:22.0000] <jgraham>
Stevef_: Excluding hgroup, do you have any feedback indicating that these aren't exposed due to a problem in the algorithm, or simply because people haven't got that far yet?

[03:12:39.0000] <Stevef_>
jgraham: well freedom scientific have tried to implement the algorithm and can't seem to get it right, reason unknown, probably incompetence. Haven't seen any indication from browser implementers that they plan to implement the accessibility mapping, probably because there are other more important things to implement. the sane approach (i think) would be for browsers to provide the adjusted...

[03:12:41.0000] <Stevef_>
...heading structure via the acc APIs for ATs to consume

[03:12:48.0000] <MikeSmith>
Stevef_: in the current outline algorithm, I think if hx has a sibling hx that's of lower rank, then it has a nested subsection

[03:14:59.0000] <Stevef_>
mikesmith: ok what i meant was direct sibling (don't know if that is meaningful) as in <h1></h1><h2> rather than <h1></h1> <elementx> <h2>

[03:15:38.0000] <MikeSmith>
yeah I know

[03:15:58.0000] <Stevef_>
mikesmith: only hx are allowed in hgroup so where it is used conformingly that is the pattern you get

[03:16:31.0000] <MikeSmith>
the current spec for the outline algorithm doesn't treat those to cases differently, I don't think

[03:17:00.0000] <MikeSmith>
of course it could be changed if a good rationale is made

[03:17:03.0000] <Stevef_>
mikesmith: the oultine algorithm is not set in stine right?

[03:17:13.0000] <MikeSmith>
right, sure

[03:17:20.0000] <MikeSmith>
nothing is

[03:17:28.0000] <MikeSmith>
well nothing that's not already implemented widely

[03:17:46.0000] <jgraham>
Kind of seems weird if you can't do

[03:18:00.0000] <jgraham>
<h2>Introduction</h2>

[03:18:16.0000] <jgraham>
<h3>Outline of the problem</h3>

[03:18:25.0000] <jgraham>
And then later

[03:18:37.0000] <jgraham>
<h3>Previous work</h3>

[03:18:56.0000] <jgraham>
Without the first <h3> and the second being treated equally

[03:21:27.0000] <Stevef_>
jgraham: right, throw that idea away :-)

[03:22:00.0000] <MikeSmith>
I think that's a bad pattern

[03:22:04.0000] <MikeSmith>
though I know people do it

[03:22:26.0000] <jgraham>
What's a bad pattern?

[03:22:45.0000] <MikeSmith>
there rightly should be some text between the Introduction heading and the next subheading

[03:22:56.0000] <MikeSmith>
to introduce the introduction

[03:23:21.0000] <MikeSmith>
"This section provides an outline of the problem and then discusses previous work."

[03:23:45.0000] <MikeSmith>
Otherwise when it's rendered it in fact just looks like a subheading anyway

[03:24:13.0000] <MikeSmith>
in the rendering the reader has no way to tell if the author meant it as a subheading or as a subsection heading

[03:24:55.0000] <MikeSmith>
a reader could read the title of the whole section as "Introduction: Outline of the problem"

[03:26:18.0000] <Stevef_>
mikesmith: so its back to the issue of how to indicate subheadings

[03:26:35.0000] <jgraham>
MikeSmith: It seems like my thesis (which just happened to be on this machine and so easy to look at) mostly agrees with you, but sometimes doesn't

[03:26:53.0000] <MikeSmith>
I guess I'm not convinced the issue of how to indicate subheadings is really an important problem to solve

[03:27:16.0000] <jgraham>
e.g. \subsection{Properties of a Plasma}

[03:27:17.0000] <jgraham>
\subsubsection{Debye Radius}

[03:27:18.0000] <MikeSmith>
jgraham: fix the places where it doesn't agree with me :)

[03:27:48.0000] <MikeSmith>
LaTeX should enforce this for you

[03:27:57.0000] <MikeSmith>
I know it doesn't

[03:28:01.0000] <MikeSmith>
I'm saying it should

[03:28:10.0000] <jgraham>
MikeSmith: I'll need to borrow a DeLorean :p

[03:28:16.0000] <MikeSmith>
hah

[03:29:00.0000] <MikeSmith>
you could just add "5th Edition" to your thesis after you make the changes

[03:29:07.0000] <MikeSmith>
and then everything will be OK

[03:29:18.0000] <jgraham>
heh

[03:30:07.0000] <Stevef_>
MikeSmith: "I guess I'm not convinced the issue of how to indicate subheadings is really an important problem to solve" agreed, but the problem is there due to a feature being added to do it

[03:30:43.0000] <MikeSmith>
anyway I think because of the way authors (mis)use section titles, readers would not be able unambiguously know whether something is intended as a subheading or a subsection heading even if we have a way to mark it up explicitly

[03:30:57.0000] <MikeSmith>
Stevef_: yeah I hear you

[03:31:52.0000] <MikeSmith>
paved with good intentions

[03:32:43.0000] <Stevef_>
MikeSmith: but i suppose the problem is moot if the feature isn't implemented

[03:33:11.0000] <MikeSmith>
well hgroup is implemented in the parser

[03:33:22.0000] <MikeSmith>
and in the default UA stylesheet

[03:33:32.0000] <MikeSmith>
as Henri's pointed out

[03:34:20.0000] <Stevef_>
MikeSmith: I mean meaningfull implementation as it catually has an effect on something rather than rendering right

[03:34:31.0000] <MikeSmith>
yeah

[03:35:53.0000] <MikeSmith>
I don't think browsers are ever going to do what's shown in the example in the spec

[03:36:09.0000] <MikeSmith>
as far as the default rendering

[03:36:25.0000] <MikeSmith>
or I dunno maybe it's not the intent of the spec to suggest that they do

[03:37:12.0000] <MikeSmith>
that is, rendering <h1>The reality dysfunction</h1> <h2>Space is not the only void</h2> as "The reality dysfunction: Space is not the only void"

[03:38:03.0000] <annevk>
MikeSmith: I don't think the rendering section suggests doing that

[03:38:09.0000] <annevk>
MikeSmith: maybe for AT?

[03:38:09.0000] <MikeSmith>
I think if somebody wants that rendering, they're just going to mark it up as <h1>The reality dysfunction: Space is not the only void</h1> anyway

[03:38:27.0000] <MikeSmith>
annevk: that example is from http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-hgroup-element

[03:38:41.0000] <Stevef_>
Mikesmith: agreed

[03:39:07.0000] <annevk>
MikeSmith: yeah that's not about browsers

[03:39:46.0000] <Stevef_>
the requirement for acc mapping is that this <h1>The reality dysfunction</h1> <h2>Space is not the only void</h2> becomes <h1>The reality dysfunction Space is not the only void</h1>

[03:40:20.0000] <MikeSmith>
Stevef_: why is that the requirement?

[03:40:52.0000] <Stevef_>
MikeSmith: the ARIA mapping

[03:40:58.0000] <MikeSmith>
OK

[03:41:26.0000] <Stevef_>
or rather the default implied mapping

[03:41:41.0000] <MikeSmith>
is the requirement literally that? no punctuation at all between the two? e.g., no colon character?

[03:44:42.0000] <Stevef_>
MikeSmith: no the requirment is that the indovidual heading levels are removed and the hgroup becomes the heading, so in acc mapping they would not add colons or other things

[03:44:59.0000] <MikeSmith>
that don't seem so great

[03:45:17.0000] <MikeSmith>
in that example it obviously changes that meaning

[03:46:25.0000] <MikeSmith>
Stevef_: why can't the acc mapping be changed to require putting some character in between there?

[03:46:52.0000] <Stevef_>
MikeSmith: thats what i have been arguing about for ever, I originally just wanted to get some sanity in the hgroup mapping as it removes differentiation

[03:47:07.0000] <MikeSmith>
ok

[03:48:29.0000] <Stevef_>
MikeSmith: well an answer is because "How a user agent exposes such multi-level headings in user interfaces (e.g. in tables of contents or search results) is left open to implementors, as it is a user interface issue. "

[03:49:51.0000] <Stevef_>
Mikesmith: also what character would be always appropriate?

[03:50:16.0000] <MikeSmith>
whatever character is appropriate to the locale

[03:50:54.0000] <MikeSmith>
or actually, the equivalent of a full stop

[03:51:44.0000] <Stevef_>
MikeSmith: what I mean is there always a character that provides the intended meaning depenedning on the content of the heading and subheading?

[03:53:57.0000] <MikeSmith>
Stevef_: in the case of AT it would be preferable to not have it read out the character literally, right?

[03:54:32.0000] <MikeSmith>
so given that I think it should just be a period

[03:54:43.0000] <MikeSmith>
or whatever the full stop is for the localte

[03:54:47.0000] <MikeSmith>
*locale

[03:55:05.0000] <MikeSmith>
e.g., "。" for Japanese

[03:55:36.0000] <MikeSmith>
because I would think that all that you would want to voice to do is to stop between those two parts

[03:55:50.0000] <MikeSmith>
in the same way it would normally stop between sentences

[03:57:12.0000] <Stevef_>
Mikesmith: i think its better to provide a semantic that indicates its a subheading in  acc mapping then let the AT and the AT user decide how they want the semantics indicated or not

[03:58:57.0000] <Stevef_>
MikeSmith: and better to let the author do it <h1>The reality dysfunction: Space is not the only void</h1> or <h1>The reality dysfunction</h1> <p>Space is not the only void<p>

[04:00:23.0000] <Stevef_>
MikeSmith: but will float with marco and the mozilla acc engineers to see what they think

[04:00:58.0000] <MikeSmith>
Stevef_: sounds right to me

[04:20:22.0000] <Stevef_>
on another note, reviewing a web site found this onchange="VBSCRIPT:ImgNavJump()" ...

[04:26:18.0000] <annevk>
look harder, there's weirder stuff out there :)

[04:30:00.0000] <Stevef_>
yeah, just hadn't seen vbscript in the wild for a while

[04:48:36.0000] <hsivonen>
yes, it was indeed XML 1.0 5th ed. wasting my time today

[05:32:09.0000] <annevk>
hmm

[05:32:14.0000] <annevk>
<!DOCTYPE html>

[05:32:14.0000] <annevk>
<style> :target { background:yellow } </style>

[05:32:14.0000] <annevk>
<a href="#%b1">test</a>

[05:32:15.0000] <annevk>
<div id=%b1>test</div>

[05:32:18.0000] <annevk>
why would that not match?

[05:32:22.0000] <benschwarz>
Hixie: when you're back — https://github.com/benschwarz/developers.whatwg.org/issues/69

[05:41:08.0000] <annevk>
benschwarz: are you then also going to make it the full specification rather than a subset?

[05:41:38.0000] <benschwarz>
annevk: It'll still bare the title "Web developer edition"

[05:42:21.0000] <annevk>
I meant including Web Workers and such

[05:42:38.0000] <annevk>
fwiw, your chapter nine has been long gone from the real spec

[05:43:08.0000] <benschwarz>
annevk: hmm. thats something we should raise with Hixie

[05:43:47.0000] <benschwarz>
annevk: I could see value in adding the full specification

[05:44:10.0000] <benschwarz>
I need to catch Hixie when he is online, clearly

[05:44:41.0000] <annevk>
that'd be about 7 hours from now for about 9 hours

[06:01:22.0000] <benschwarz>
right when I sleep :)

[06:07:21.0000] <zcorpan>
Stevef_: that's not actually vbscript though. event handler attributes are always javascript. in javascript, the thing before the colon is called a label and can be an arbitrary identifier

[06:07:57.0000] <Stevef_>
zcorpan, right thanks

[06:09:23.0000] <zcorpan>
hsivonen: chrome implements 5th ed?

[06:11:47.0000] <annevk>
libxml2 prolly does and WebKit updated to the latest

[06:12:00.0000] <zcorpan>
booo

[06:12:20.0000] <annevk>
XML 5th is a step towards XML 5

[06:12:23.0000] <zcorpan>
now cue 6th ed with LEIRI support

[06:12:51.0000] <zcorpan>
(i recall the xml core wg actually working on that)

[06:23:08.0000] <annevk>
but that's not going to impact behavior

[07:06:10.0000] <GPHemsley>
FTR, r3580 was when the references were added.

[07:06:49.0000] <GPHemsley>
Which means anything before that is difficult to find what I'm looking for.

[07:07:34.0000] <GPHemsley>
(Though probably not impossible.)

[07:08:16.0000] <GPHemsley>
BTW, giving the HTML5 Tracker different titles on different pages would be super helpful.

[07:12:37.0000] <GPHemsley>
It sure would be nice if there were such thing as forward blame, to answer the question "When does this line get changed next or removed?"

[07:13:01.0000] <annevk>
GPHemsley: http://code.google.com/p/html5/source/browse/#svn%2Ftrunk%2Fweb-apps-tracker

[07:13:11.0000] <annevk>
GPHemsley: not entirely sure if that's in sync with the code online

[07:13:27.0000] <GPHemsley>
eww, icky

[07:13:59.0000] <annevk>
what is icky? the Python?

[07:14:47.0000] <GPHemsley>
SVN + Google Code

[07:14:54.0000] <annevk>
oh

[07:15:07.0000] <annevk>
I'm happy to move the web-apps-tracker code elsewhere

[07:15:19.0000] <annevk>
maybe that should become a GitHub repo as well

[07:15:29.0000] <GPHemsley>
/me thinks so

[07:17:12.0000] <hsivonen>
annevk: fwiw, I said I think we should not implement 5th ed. without going all the way to XML-ER/XML5.

[07:27:17.0000] <hsivonen>
I was wrong the other day when I claimed that Gecko fails to handle buffer boundaries within the BOM in CSS or within the CSS @charset rule.

[07:32:39.0000] <GPHemsley>
WebVTT uses CVS?? @_@

[07:35:21.0000] <GPHemsley>
Actually, I quite like the old CVSWeb/ViewVC interface, so I won't complain too much.

[08:01:15.0000] <GPHemsley>
/me can't believe it's almost two years since WebSRT was renamed to WebVTT.

[08:15:30.0000] <annevk>
is there a way you can import part of an SVN repository into GitHub?

[08:15:36.0000] <annevk>
or should I not bother preserving history?

[08:15:43.0000] <annevk>
(not sure if I'm going to do it now btw)

[08:15:45.0000] <GPHemsley>
/me wonders why the WebRTC spec doesn't list all the previous versions on the same page.

[08:16:35.0000] <jgraham>
annevk: Define "part"? git-svn will allow you to import anything that you can express as a partial checkout (i.e. a particular directory)

[08:17:17.0000] <annevk>
jgraham: I guess I'm thinking contents of a directory

[08:17:29.0000] <jgraham>
Then yes, use git-svn

[08:18:55.0000] <annevk>
jgraham: if you have it installed, can you do it for me?

[08:19:14.0000] <jgraham>
Yeah, probably

[08:19:25.0000] <annevk>
I'll create a repo

[08:20:33.0000] <annevk>
jgraham: https://github.com/whatwg/web-apps-tracker

[08:21:19.0000] <annevk>
jgraham: http://code.google.com/p/html5/source/browse/#svn%2Ftrunk%2Fweb-apps-tracker are the folder contents that need to end up there

[08:26:56.0000] <GPHemsley>
/me wonders if web-apps-tracker is still an appropriate name

[08:30:36.0000] <annevk>
GPHemsley: when Hixie moves the spec to html.spec.whatwg.org we can have that discussion

[08:30:42.0000] <GPHemsley>
heh

[08:30:49.0000] <GPHemsley>
can't wait

[08:31:20.0000] <annevk>
would you more commonly want a URL serialized including or without fragment?

[08:31:47.0000] <annevk>
I'm going for with

[08:33:04.0000] <gavinc>
annevk: +1 to including fragment

[08:33:37.0000] <GPHemsley>
annevk: If I were to take over mimesniff, how would that work?

[08:33:37.0000] <jgraham>
annevk: Done

[08:33:39.0000] <annevk>
I'll also have without, for HTTP

[08:33:46.0000] <annevk>
jgraham: sweet

[08:34:35.0000] <gavinc>
annevk: I think you'd mentioned before changing hierarchical to relative?

[08:34:39.0000] <annevk>
GPHemsley: talk to abarth maybe about issues, email the WHATWG list for issues, and fix things and ask for review

[08:34:54.0000] <annevk>
gavinc: in the parser?

[08:35:41.0000] <annevk>
gavinc: does it make sense to talk about "relative schemes"?

[08:35:51.0000] <annevk>
gavinc: I guess then we could avoid all usage of hierarchical

[08:36:49.0000] <gavinc>
annevk: I just found it hard to read those parts coming from the existing language around "relative" and "resolve" the lack of those words got me good and lost on my first reading

[08:37:47.0000] <gavinc>
purely an editorial thing, in general once I got that sorted out I found it far simpler to read and understand then the old RFCs

[08:39:46.0000] <annevk>
sure, I was just wondering whether the wording "relative scheme" makes sense; I guess about as much as "hierarchical scheme"

[08:40:36.0000] <annevk>
gavinc: can you pm me your name for the acknowledgments (unless you want to go as gavinc); for when I make that change

[08:44:00.0000] <gavinc>
oh, and some comment that EOF code point is the "" null string? again, confused for a few moments before getting it

[08:44:58.0000] <annevk>
well it could be anything really, it's a conceptual thing

[08:45:50.0000] <gavinc>
... yeah ... perhaps a bit too abstract given the concreteness of all the other switches in the hierarchical parsing section

[08:46:34.0000] <annevk>
gavinc: would it help if I clarified it signifies end-of-input?

[08:46:44.0000] <gavinc>
Yes!

[08:54:03.0000] <annevk>
GPHemsley: there's some cleanup to be done too, e.g. one of the references is not present last I checked

[08:54:23.0000] <annevk>
GPHemsley: and the text could use some of the <dfn>/<span> hyperlinking other specs have

[08:55:41.0000] <annevk>
GPHemsley: and personally I think we want to define how to parse MIME types; as well as which are conforming, how to extract certain parameters, etc.

[08:56:09.0000] <annevk>
GPHemsley: that would require some studying of other specifications that depend on MIME types, such as XMLHttpRequest / HTML / etc.

[08:56:14.0000] <annevk>
gavinc: done

[08:59:45.0000] <Hixie>
benschwarz: pong

[09:00:02.0000] <Hixie>
GPHemsley: why are the references interesting, anyway?

[09:01:01.0000] <Hixie>
benschwarz: (did the renames, should be up soon)

[09:01:25.0000] <Hixie>
benschwarz: (oh actually it might take a few days unless you want me to force it, since i only update that weekly iirc)

[09:02:35.0000] <gavinc>
annevk: thanks!

[09:04:19.0000] <annevk>
Hixie: made the changes you asked for, still a bit unsure about URL conformance with respect to having it tied down

[09:04:42.0000] <annevk>
Hixie: e.g. we could forbid <a href="/<>">test</a> but is there really any point if <> are going to be escaped anyway?

[09:05:23.0000] <annevk>
Hixie: and although STD 66 does not allow [] anywhere allowing them seems harmless and useful for mailto:whatwg⊙wo?subject[URL]

[09:05:50.0000] <Hixie>
annevk: the reason for conformance criteria is to steer authors away from stuff that could be confusing or likely indicates author error

[09:06:08.0000] <Hixie>
annevk: given that people like to mark URLs by putting them between <...>, it seems reasonable to exclude < > from URLs

[09:06:18.0000] <annevk>
Hixie: and with URLs whose relative flag is false, such as data:, UAs do not even escape %20

[09:06:44.0000] <annevk>
and forbidding it gives ugly URLs

[09:07:03.0000] <Hixie>
data:,where does this URL end? here? here? has it ended yet?

[09:07:27.0000] <Hixie>
how about now, has it ended? :-)

[09:07:55.0000] <annevk>
well you put these URLs in place with clear defined delimiters

[09:08:02.0000] <Hixie>
like spaces? :-)

[09:08:17.0000] <annevk>
if you're going to put URLs in plain text, you're gonna have a bad time anyway

[09:08:29.0000] <Hixie>
not if i use IRIs or STD66

[09:08:50.0000] <Hixie>
also, space-separated URLs are used in the spec in various places

[09:08:59.0000] <Hixie>
e.g. imgsrc="" delimits URLs on spaces

[09:09:39.0000] <annevk>
yeah in those contexts you'd have to constrain your URL somehow

[09:09:53.0000] <annevk>
you're gonna have the same problem in a language where : has special meaning

[09:09:56.0000] <Hixie>
if i could "constrain my URL" i would have banned commas

[09:10:11.0000] <Hixie>
you can't tell people the URL syntax is different here than there

[09:10:13.0000] <Hixie>
that's just silly

[09:12:52.0000] <gavinc>
MAY or MAY NOT ... aka do whatever the f**k you want why the heck am I adding that to a spec?!

[09:37:24.0000] <annevk>
gavinc: you're bound by the laws of consensus? :p

[09:38:17.0000] <gavinc>
annevk: indeed

[09:39:12.0000] <annevk>
uri⊙wo is now bikeshedding what we could call URLs if we're not calling them URLs

[09:39:35.0000] <annevk>
we're gonna call them URLs though

[09:40:07.0000] <gavinc>
Oh don't worry I'm calling them IRIs

[09:40:12.0000] <gavinc>
/me goes and cries

[09:41:53.0000] <GPHemsley>
Hixie: Generally, when a portion of HTML was spun-off as a separate spec, it got referenced in the References section. So when trying to track down when it first got spun off, I could use its (non-)presence which direction in history to go.

[09:42:42.0000] <Hixie>
GPHemsley: interesting

[09:42:56.0000] <Hixie>
GPHemsley: did anything get spun off before then?

[09:43:03.0000] <Hixie>
before the refs section i mean

[09:43:11.0000] <annevk>
XHR

[09:43:17.0000] <annevk>
but that might even predate SVN

[09:43:31.0000] <Hixie>
true, but that didn't get a ref anyway

[09:43:50.0000] <Hixie>
though i guess it does now have one

[09:43:53.0000] <annevk>
Selectors API too I guess, but that was never more than a note

[09:44:08.0000] <Hixie>
yeah that was wishful thinking before lachlan worked on it

[09:44:35.0000] <GPHemsley>
If it predates SVN, is it really a spin-off?

[09:44:47.0000] <annevk>
bbl

[09:44:55.0000] <GPHemsley>
If it was nothing more than a note, is it really a spin-off?

[09:45:00.0000] <Hixie>
xhr was definitely a spinoff

[09:45:06.0000] <Hixie>
selectors api, not really

[09:45:09.0000] <Hixie>
i mean, kinda

[09:45:22.0000] <Hixie>
i was going to have to do work, and lachlan made it so that i didn't have to do work

[09:45:26.0000] <Hixie>
but i wouldn't claim any credit

[09:45:39.0000] <Hixie>
unlike on xhr, where obviously i did all the hard work and anne just had to fix some typos

[09:45:42.0000] <Hixie>
/me runs away

[09:46:09.0000] <GPHemsley>
My definition of a spinoff is whether it was if conformance/specification requirements were once in HTML and are now elsewhere.

[09:46:22.0000] <GPHemsley>
So, hypotheticals are not really spinoffs, IMO.

[09:46:24.0000] <Hixie>
xhr had conformance requirements for sure

[09:46:30.0000] <Hixie>
but selectors had nothing

[09:46:55.0000] <GPHemsley>
So, what was the file before SVN?

[09:47:04.0000] <Hixie>
just, uh, a file

[09:47:11.0000] <GPHemsley>
how long did that last?

[09:47:18.0000] <Hixie>
more than it had any right to

[09:47:26.0000] <Hixie>
(started late 2003)

[09:47:34.0000] <Hixie>
(svn started what, 2006?)

[09:48:04.0000] <Hixie>
march 2006

[09:48:13.0000] <Hixie>
so all of 2004 and 2005 plus about six months

[09:48:30.0000] <Hixie>
i was young! we didn't know what we were doing! :-P

[09:48:42.0000] <GPHemsley>
heh

[09:49:09.0000] <Hixie>
there's some snapshots from before then, see http://www.whatwg.org/specs/web-apps/

[09:49:38.0000] <Hixie>
back then http://www.whatwg.org/specs/web-forms/ was the main thing being worked on

[09:49:44.0000] <Hixie>
which later got "spun in"

[09:50:02.0000] <Hixie>
http://www.whatwg.org/specs/web-forms/2004-06-27-call-for-comments/ has some links to even earlier versions

[09:50:06.0000] <Hixie>
in the header

[09:50:50.0000] <Hixie>
https://lists.w3.org/Archives/Member/w3c-archive/2003Sep/att-0014/hfp.html is the earliest spec that later turned into what is now the HTML Living Standard

[09:50:56.0000] <Hixie>
wrote that in about a week or something

[09:51:05.0000] <Hixie>
i had no idea what i was getting into

[09:51:08.0000] <GPHemsley>
well, it was still in on 2006-01-01

[09:51:16.0000] <GPHemsley>
so that narrows it down

[09:51:50.0000] <GPHemsley>
/me doesn't have W3C access.

[09:51:59.0000] <Hixie>
wow there's still stuff that i wrote in that 2003 september draft that lives on in today's version!

[09:52:04.0000] <Hixie>
appendix B for example

[09:52:11.0000] <Hixie>
uh, let me copy that to somewhere more public

[09:53:21.0000] <Hixie>
http://www.hixie.ch/specs/html/forms/hfp.html

[09:54:25.0000] <GPHemsley>
Could you get me that list of available blames?

[09:54:29.0000] <GPHemsley>
again

[09:54:36.0000] <Hixie>
yeah one sec

[09:58:02.0000] <Hixie>
GPHemsley: http://www.whatwg.org/specs/web-apps/current-work/blames-list.cgi

[09:58:29.0000] <GPHemsley>
Ah, thanks.

[10:07:56.0000] <GPHemsley>
Hixie: Do you have an exact date for that first draft?

[10:08:25.0000] <Hixie>
for when i sent it to w3c-archive? or for when i started working on it? or?

[10:09:00.0000] <GPHemsley>
sure, the date you sent it would be fine

[10:09:15.0000] <MikeSmith>
GPHemsley: http://platform.html5.org/history/ might be useful to you some

[10:09:43.0000] <MikeSmith>
2003-09-05 was the date it was posted I think

[10:10:03.0000] <Hixie>
Fri, 5 Sep 2003 11:28:31 +0000 (UTC)

[10:10:16.0000] <Hixie>
https://lists.w3.org/Archives/Member/w3c-archive/2003Sep/0014.html

[10:10:45.0000] <GPHemsley>
ah, ok, thanks

[10:18:05.0000] <MikeSmith>
about the @uri discussion I wonder how many other specs if any actually normatively refer to the definition of URL in RFC 3986

[10:18:10.0000] <say2joe>
9 years for new (HTML5) input attributes! unbelievable… what's worse is IE still barely supports them.

[10:18:56.0000] <MikeSmith>
RFC 3986 itself never even refers back to that definition. The term is used exactly once in the whole spec, in the sentence that defines it

[10:19:32.0000] <MikeSmith>
so there's really not much to conflict with there

[10:28:59.0000] <GPHemsley>
Alright, I put all those links on the wiki: http://wiki.whatwg.org/wiki/HTML_snapshots

[10:29:18.0000] <GPHemsley>
Hixie, MikeSmith: ^^

[10:37:47.0000] <annevk>
Hixie: hey, I did Selectors API first :p

[10:37:59.0000] <Hixie>
oh, right

[10:38:10.0000] <annevk>
Hixie: and yeah, fixed thousands of "typos" in XHR

[10:38:19.0000] <Hixie>
:-P :-P

[10:40:55.0000] <jgraham>
Wow, Firefox is pushing through a change to the UA string despite having a list of 14 known bank sites that break. That seems... odd

[10:42:35.0000] <annevk>
are they making it shorter?

[10:42:43.0000] <jgraham>
A little

[10:42:46.0000] <annevk>
yay

[10:43:17.0000] <Hixie>
jgraham: not even putting in hacks for those sites?

[10:43:37.0000] <gavin>
they are site-specific UA changes

[10:44:06.0000] <gavin>
oh, I misread jgraham's statement

[10:44:24.0000] <gavin>
the current plan is to keep the UA change, and put in hacks for the broken sites

[10:44:29.0000] <Hixie>
aah

[10:44:32.0000] <gavin>
but it's still early in the cycle

[10:44:53.0000] <gavin>
so those plans might change

[10:45:39.0000] <gavin>
the set of people involved in making changes on trunk and the set of people involved in letting those changes ship in release are different :)

[11:02:43.0000] <GPHemsley>
hmm... the change tracker doesn't show the diff for r1

[11:03:17.0000] <GPHemsley>
possibly because the to=1 is not treated as an integer

[11:03:47.0000] <GPHemsley>
or, because from=0 is no good

[11:09:15.0000] <annevk>
GPHemsley: it's in GitHub now

[11:09:32.0000] <GPHemsley>
annevk: Should I take that as a hint? :P

[11:09:37.0000] <annevk>
uhuh

[11:12:27.0000] <annevk>
I remember I used to download web-apps every now and then and just diff it locally

[11:17:38.0000] <annevk>
just learned how jQuery names "relative references": "url"

[11:20:17.0000] <GPHemsley>
Hixie: Wouldn't it be best to move http://www.whatwg.org/specs/web-forms/current-work/ to http://www.whatwg.org/specs/web-forms/2009-01-05/ and then redirect the former to http://www.whatwg.org/specs/web-apps/current-work/ ?

[11:22:05.0000] <Hixie>
GPHemsley: "best" in what sense?

[11:22:20.0000] <GPHemsley>
Hixie: In whatever sense makes the answer "yes" ;)

[11:22:41.0000] <Hixie>
in the sense that "it would be work Hixie has to do that doesn't help anyone ever", yes :-P

[11:23:03.0000] <GPHemsley>
meh

[11:23:19.0000] <Hixie>
the spec is pretty clear that it's dead, i'm happier letting it rot in peace

[11:23:32.0000] <Hixie>
maybe "rest in peace" would be a better way to put it

[11:23:51.0000] <GPHemsley>
well, it just makes it a little odd to link to, that's all

[11:31:17.0000] <Hixie>
yeah

[11:31:30.0000] <Hixie>
i think we'll live with that :-)

[11:40:17.0000] <Hixie>
hey we crossed the 2000-subscriber mark recently

[11:40:20.0000] <Hixie>
we're at 2006 now

[11:41:16.0000] <jgraham>
Does the 2012th subscriber get a WHATWG soft toy?

[11:41:32.0000] <Hixie>
if you wish to send one to them, sure

[11:41:44.0000] <jgraham>
If you wish to get them made, sure

[11:41:57.0000] <jgraham>
I suggest the logo from the encoding spec for the design

[11:42:23.0000] <Hixie>
i just got done writing someone an e-mail explaining how at the whatwg things get done because motivated people do what they want rather than relying on others :-P

[11:42:44.0000] <Hixie>
bbiab

[13:37:07.0000] <annevk>
Hixie: tweeted that XHTML Module link, nice that you made it public

[13:38:39.0000] <zcorpan>
annevk: did someone test text/css charset further?

[13:39:15.0000] <annevk>
zcorpan: no sorry, forgot about it, but I think you're right that we need to check at each step

[13:39:31.0000] <annevk>
zcorpan: whether it's a valid label to begin with

[13:40:18.0000] <zcorpan>
ok. i can probably test it tomorrow when i'm on the train

[13:41:06.0000] <annevk>
zcorpan: if you have ideas how to rephrase my algorithm without making it longer and without introducing new terminology that'd be cool

[13:41:15.0000] <annevk>
I have a way with new terminology

[13:41:24.0000] <zcorpan>
i don't see the problem with making it longer

[13:41:35.0000] <zcorpan>
just state what you have to implement

[13:41:50.0000] <zcorpan>
and let the implementor worry about optimizations

[13:41:53.0000] <annevk>
but I think browsers just check whether it's a valid label at first, don't actually get the corresponding encoding

[13:42:03.0000] <zcorpan>
that's optimzation

[13:42:18.0000] <annevk>
well I guess, but if the algorithm is needlessly longer and complicated I don't like it

[13:42:40.0000] <zcorpan>
and anyway, if it's a valid label, you stop there and need to get the encoding for that label anyway, so what's the difference?

[13:43:03.0000] <annevk>
you don't stop there

[13:43:11.0000] <annevk>
anyway, bbl

[13:55:29.0000] <annevk>
GPHemsley: fyi, there were several Web Forms 2.0 publications here as well: http://www.w3.org/TR/web-forms-2/

[13:55:37.0000] <annevk>
GPHemsley: I cannot find the older versions though unfortunately

[14:44:49.0000] <annevk>
Hixie: fwiw URL serializing is now defined

[14:45:08.0000] <annevk>
Hixie: are there any contexts for which a parse and then serialize shortcut would be useful?

[14:52:55.0000] <annevk>
http://www.reddit.com/r/IAmA/comments/120oqd/i_am_south_korean_singer_rapper_composer_dancer/

[14:57:02.0000] <annevk>
"You have been banned from r/pyongyang." haha

[15:28:54.0000] <Hixie>
annevk: dunno (i saw there was a serialise argument in the api section already)

[15:57:43.0000] <zewt>
dreaming of the day sites don't have file download "links" as form submit buttons with onclick handlers that call window.open

[16:20:04.0000] <GPHemsley>
annevk: I found this, but it seems like it might be identical to the WHATWG one: http://dev.w3.org/html5/web-forms-2/

[16:21:23.0000] <GPHemsley>
annevk: Ah, I think there may have only been one before it was superseded: http://www.w3.org/TR/2006/WD-web-forms-2-20060821/

[16:25:37.0000] <GPHemsley>
/me would just like to say that he thinks the separation between W3C HTML5 and WHATWG HTML is a good one. The latter should be implemented unprefixed and on by default; the latter should be prefixed and/or preffed off by default.

[16:25:45.0000] <GPHemsley>
(In terms of features.)

[16:26:26.0000] <GPHemsley>
I don't know if that's a controversial opinion or not...

[16:51:46.0000] <zewt>
... where they disagree, nobody's ever going to implement both, heh

[16:57:05.0000] <Hixie>
why would things in the WHATWG spec be prefixed? Prefixing is to avoid conflicts with specs, and I guarantee that I won't spec something that conflicts.

[16:57:38.0000] <Hixie>
(unless doing so is considered ok, e.g. because the code never shipped or was never used or whatever)


2012-10-25
[17:02:53.0000] <GPHemsley>
Nevermind, I don't feel like having a detailed discussion right now :P

[17:03:27.0000] <GPHemsley>
Though it's possible the ideal W3C that I have in my head is too far from reality.

[18:57:15.0000] <Yuhong>
GPHemsley: Yep, I have considered "HTML5" a misnomer even as a buzzword for a while now.

[19:00:04.0000] <Yuhong>
http://news.ycombinator.com/item?id=4422122

[19:00:18.0000] <Yuhong>
On Mosaic IMG tag.

[19:37:26.0000] <Hixie>
there's a CLOCK on this wiki

[19:37:30.0000] <Hixie>
o_O

[19:53:07.0000] <MikeSmith>
Hixie: that's a timer so that I can time how quickly I can delete edits that other people make

[20:06:51.0000] <Hixie>
hah

[21:13:20.0000] <cgcardona>
http://jsfiddle.net/E9DSH/ shows the networkState as 1 (NETWORK_IDLE) when the Audio Object's progress event fires when the spec says it should be 2 (NETWORK_LOADING). Am I missing something?

[21:13:31.0000] <cgcardona>
Also sometimes the suspend event fires with a NETWORK_LOADING instead of a NETWORK_IDLE

[21:13:45.0000] <cgcardona>
in chrome ^^

[21:13:58.0000] <cgcardona>
Also in Safari - so I'm guessing webkit.

[21:14:37.0000] <cgcardona>
I'm wondering if it's just some subtlety in the resource selection algorithm

[21:15:07.0000] <cgcardona>
I'm looking here: http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#event-media-progress

[21:17:51.0000] <cgcardona>
Also it's interesting that it fires more than one time

[21:18:15.0000] <MikeSmith>
cgcardona: it seems to be showing 2 for me

[21:18:23.0000] <MikeSmith>
in that jsfiddle

[21:18:25.0000] <cgcardona>
MikeSmith: on each page refresh?

[21:18:37.0000] <cgcardona>
it does perhaps once out of every 15 or so for me

[21:18:47.0000] <cgcardona>
put all the other times it's a 1

[21:19:08.0000] <GPHemsley>
Hixie: Yup, it's a UTC clock. And if you click it, you purge the page cache (if that's a problem).

[21:19:18.0000] <GPHemsley>
/me is not sure what Yuhong was referring to.

[21:19:45.0000] <GPHemsley>
annevk: I notice the URL spec doesn't cite WebIDL.

[21:20:10.0000] <MikeSmith>
cgcardona: it's same for me after a page refresh

[21:20:15.0000] <MikeSmith>
consistently 2

[21:20:42.0000] <cgcardona>
how strange. in chrome? what version?

[21:21:41.0000] <MikeSmith>
latest canary and dev on OS X

[21:22:03.0000] <MikeSmith>
24.0.1302

[21:22:42.0000] <cgcardona>
ok cool MikeSmith thanks. I'm only getting 2 maybe 15% of the time. strange.

[21:23:16.0000] <MikeSmith>
also I guess you know that test doesn't seem to work in Firefox or Opera

[21:23:29.0000] <cgcardona>
right its got an mp3 extension

[21:23:40.0000] <cgcardona>
my actual audio library accounts for that and detects the codec

[21:23:47.0000] <cgcardona>
and adds the correct file type

[21:24:15.0000] <Hixie>
GPHemsley: funky

[21:28:38.0000] <GPHemsley>
Incidentally, if you don't like the clock, you can turn it off in My preferences > Gadgets

[21:28:58.0000] <GPHemsley>
(You'll find a list of a bunch of other gadgets that are installed, as well.)

[21:30:30.0000] <GPHemsley>
/me wonders if he should take away annevk's minor edit privileges.

[21:52:28.0000] <GPHemsley>
<3 http://ian.hixie.ch/bible/policies

[21:53:04.0000] <Hixie>
http://ian.hixie.ch/bible/handling-people is the more useful one

[21:53:15.0000] <Hixie>
knowing those makes it so much easier to tell when people are manipulating you

[21:55:53.0000] <Hixie>
(for standards work, spotting the ones in the last section of that file is especially useful)

[21:56:27.0000] <cgcardona>
epic

[21:59:21.0000] <cgcardona>
'Not sure if Hixie really thinks my work is shit—or if he's trying to tell if I'm manipulating him' http://memegenerator.net/instance/28964300

[22:03:57.0000] <GPHemsley>
/me notes Hixie's rules for pluralizing words that end in 'us' is (almost) completely non-interoperable: http://ian.hixie.ch/bible/english

[22:06:08.0000] <GPHemsley>
(The exception is 'radii'.)

[22:07:32.0000] <GPHemsley>
Also, "similar" is undefined in "Any word whose singular ends with a *sound* like "us" or similar,"

[22:07:41.0000] <Hixie>
details

[22:07:55.0000] <a-ja>
no "All Y'all" in en-US-hixie ?

[22:08:08.0000] <GPHemsley>
as there are at least 3 different sounds represented in that list of words

[22:08:27.0000] <Hixie>
not if you pronounce them correctly! :-P

[22:08:42.0000] <GPHemsley>
bus/cactus/octopus

[22:08:58.0000] <GPHemsley>
all have different vowels in their last syllable

[22:09:15.0000] <Hixie>
no no no, all the same

[22:09:19.0000] <Hixie>
LALALA I CAN'T HEAR YOU

[22:09:23.0000] <GPHemsley>
^_^

[22:09:34.0000] <GPHemsley>
if you can't hear me, how do you know what the sounds are?

[22:10:42.0000] <GPHemsley>
a-ja: If he listed all the 2nd person plurals in en-US, he'd have to create a completely different spec

[22:11:25.0000] <a-ja>
point taken

[22:11:41.0000] <GPHemsley>
/me wonders if he could ever find evidence of Hixie using singular 'they'...

[22:12:39.0000] <Hixie>
not hard, especially when i'm trying to be feminist

[22:12:49.0000] <GPHemsley>
Another violation, then.

[22:12:53.0000] <Hixie>
indeed :-)

[22:13:00.0000] <GPHemsley>
tsk tsk

[22:16:50.0000] <GPHemsley>
There has been surprisingly little use of 'thru' in this channel.

[22:18:33.0000] <GPHemsley>
Alright, that's enough Hixie stalking for one night.

[22:18:50.0000] <GPHemsley>
Time for me to go to bed.

[22:44:50.0000] <hsivonen>
context for http://memegenerator.net/instance/28964300 ?

[22:55:24.0000] <cgcardona>
heh

[22:55:39.0000] <cgcardona>
hixie's comment like two lines above it

[22:55:51.0000] <cgcardona>
Hixie: knowing those makes it so much easier to tell when people are manipulating you

[22:56:02.0000] <cgcardona>
hsivonen: ^

[22:56:14.0000] <cgcardona>
just a joke

[22:59:09.0000] <hsivonen>
cgcardona: oh I see

[23:00:13.0000] <hsivonen>
pattern matching the uri mailing list discussion to handling-people would be an amusing exercise

[23:07:40.0000] <hsivonen>
Is http://css-live.ru/ a legitimate site?

[23:07:55.0000] <hsivonen>
i.e. not a SEO scheme?

[23:09:29.0000] <MikeSmith>
hsivonen: never came across it before

[23:10:09.0000] <MikeSmith>
but link:css-live.ru shows only 32 links to it

[23:11:11.0000] <MikeSmith>
hmm mostly from the site itself and from "wordpressadmin.ru"

[23:13:24.0000] <hsivonen>
they ask for permission to translate articles

[23:13:37.0000] <MikeSmith>
oh

[23:13:58.0000] <hsivonen>
so far, my experience with offers to translate my stuff into Eastern European languages have been SEO schemes

[23:14:18.0000] <hsivonen>
hmm. the start and end of that sentence don’t match

[23:14:19.0000] <MikeSmith>
yeah same here

[23:14:32.0000] <hsivonen>
I guess I forgot what I was saying in mid-sentence

[23:14:37.0000] <MikeSmith>
heh

[23:15:47.0000] <MikeSmith>
from what I have seen, in many cases where W3C gets offers to translate something, it's from somebody doing it just for SEO reasons

[23:17:46.0000] <cgcardona>
MikeSmith: this shows what's happening with the audio object in greater detail. http://jsfiddle.net/CPrtb/ You'll need to have your console open so you can see the logs.

[23:18:02.0000] <cgcardona>
of course i don't have a button for the volume on there but those events fire as well.

[23:19:54.0000] <cgcardona>
admittedly verbose :p

[23:24:00.0000] <MikeSmith>
cgcardona: that music is nice until the dude starts single

[23:24:05.0000] <cgcardona>
Lp

[23:24:07.0000] <cgcardona>
:p

[23:24:08.0000] <MikeSmith>
did Taylor Swift write this song?

[23:24:10.0000] <MikeSmith>
:)

[23:24:11.0000] <MikeSmith>
a

[23:24:15.0000] <cgcardona>
:)

[23:24:33.0000] <MikeSmith>
anyway, I see only NETWORK_LOADING in the console

[23:25:05.0000] <cgcardona>
never a NETWORK_IDLE?

[23:25:14.0000] <cgcardona>
wonder what the heck is going on over here?

[23:25:29.0000] <MikeSmith>
ah weird

[23:25:39.0000] <cgcardona>
i get NETWORK_IDLE for suspend, pause, timeupdate

[23:25:54.0000] <cgcardona>
canplay, canplaythrough

[23:26:06.0000] <cgcardona>
anyway - it's no biggie. I'm just trying to understand the Audio Object greater

[23:26:08.0000] <MikeSmith>
after a page reload yeah now I'm seeing _IDLE for play

[23:26:16.0000] <MikeSmith>
I see _LOADING for pause

[23:26:52.0000] <cgcardona>
i'm guessing it has to do with the media element load algorithm in a way I'm not understanding.

[23:27:00.0000] <cgcardona>
i've not read through the media element load algorithm too deeply so I'm gonna check it out now.

[23:41:31.0000] <MikeSmith>
hsivonen: fyi I finally just now pushed the datetime change to the repo, and re-deployed for all the W3C validator hosts

[23:43:31.0000] <hsivonen>
MikeSmith: ok. I wonder if I should redeploy now or after TPAC.

[23:43:55.0000] <MikeSmith>
no rush I guess

[23:44:02.0000] <hsivonen>
hmm. Robin is listed as unaffiliated as a TAG member

[23:44:22.0000] <MikeSmith>
I thought Robin had stepped down from the TAG

[23:44:29.0000] <hsivonen>
oh

[23:44:58.0000] <hsivonen>
I was just checking if getting hired by the W3C triggered some rule that prohibited continued participation on the TAG

[23:45:21.0000] <hsivonen>
so the answer is “yes”? and the TAG page is just out of date?

[23:46:10.0000] <MikeSmith>
I think there's no prohibition but it was probably more just about him making a choice about his time

[23:46:19.0000] <hsivonen>
I see

[23:46:25.0000] <MikeSmith>
but yeah I think it's probably out of date

[23:47:25.0000] <hsivonen>
so being on both the TAG and on the HTML WG was too much even for Robin. :-)

[23:48:45.0000] <hsivonen>
groups to try next: public-tracking

[23:49:13.0000] <MikeSmith>
that's a fun list

[23:49:28.0000] <annevk>
GPHemsley: I can only make big changes?

[23:49:51.0000] <MikeSmith>
hsivonen: Robin stepped down as co-chair of the DAP WG as well, btw

[23:50:06.0000] <annevk>
GPHemsley: and yeah, yeah, I'll add a reference; I'll do that Oprah thing at one point, references for everyone

[23:50:34.0000] <hsivonen>
MikeSmith: ok. I hadn’t noticed.

[23:50:58.0000] <hsivonen>
I was wondering why there was a different chair listed on the TPAC schedule

[00:09:10.0000] <annevk>
Hixie: btw, I found the bug with dfn.js; you cannot use ID names such as "constructor"

[00:09:34.0000] <annevk>
Hixie: I ended up renaming the section to "Constructors"

[00:38:37.0000] <hsivonen>
annevk: in your formulation for text/css encoding determination, you forgot the case where an ASCII-encoded @charset rule claims the encoding is UTF-16 (or BE)

[00:39:00.0000] <hsivonen>
annevk: also, the formulation checks the validity of the label only at the end

[00:39:10.0000] <hsivonen>
instead upon seeing each label candidate

[00:39:14.0000] <annevk>
hsivonen: yeah, Simon pointed out the second bug

[00:39:44.0000] <annevk>
my bad

[00:39:53.0000] <hsivonen>
TabAtkins: ^

[00:40:11.0000] <annevk>
I can rewrite it I suppose, I believe TabAtkins likes to just copy & paste...

[00:40:47.0000] <hsivonen>
ok

[00:41:33.0000] <hsivonen>
I noticed the bug about checking the label only at the end after I had already written code to check the label immediately in each case

[00:42:02.0000] <hsivonen>
shows that I think I know what the spec is supposed to say instead of really following the spec. :-/

[00:43:34.0000] <annevk>
I wonder if I should introduce "known label" or just use "get an encoding" in each step

[00:43:43.0000] <annevk>
I guess I'll try the latter first since Simon preferred that

[00:44:23.0000] <hsivonen>
annevk: it would be nice if the resulting text made it obvious that the BOM takes precedence without spec lawyering

[00:45:02.0000] <hsivonen>
can a non-ASCII byte sequence be valid in two of the three legacy Japanese encodings?

[00:45:14.0000] <hsivonen>
or in both of the legacy Korean encodings?

[00:52:03.0000] <annevk>
hsivonen: how about now: http://html5.org/temp/cssencoding.txt

[00:52:05.0000] <annevk>
oh shit

[00:52:09.0000] <annevk>
forgot about utf-16 again :/

[00:53:34.0000] <annevk>
fixed that too

[00:53:40.0000] <annevk>
/me curses utf-16

[00:55:31.0000] <annevk>
hsivonen: btw, I also added <?xml-stylesheet?>, Simon suggested it could have a charset attribute too

[00:56:04.0000] <annevk>
hsivonen: if that's bogus I'll remove it again; I really think step 4/5 ought to move elsewhere, they should be an argument to determining the encoding

[00:57:18.0000] <hsivonen>
annevk: I wonder if step 2 should change UTF-16 to UTF-8 like <meta>

[00:57:25.0000] <hsivonen>
no idea what’s more Web compatible

[00:57:49.0000] <hsivonen>
Gecko already supported xml-stylesheet charset

[00:59:07.0000] <hsivonen>
so looks OK except I’m not sure if step 2 should do the thing that <meta> does with UTF-16

[00:59:13.0000] <annevk>
hsivonen: normally we just ignore utf-16 labels right?

[00:59:25.0000] <hsivonen>
do we? where?

[00:59:29.0000] <annevk>
hsivonen: cross-document

[00:59:42.0000] <hsivonen>
but this is not cross-document

[00:59:46.0000] <annevk>
hsivonen: should we ignore it for <link charset>?

[00:59:53.0000] <annevk>
hsivonen: yeah okay, I'm happy to align with <meta>

[01:00:12.0000] <annevk>
if you make the call I'll update my text file

[01:00:24.0000] <hsivonen>
annevk: I wouldn’t ignore it for <link charset> without data showing that ignoring is more Web-compatible

[01:00:31.0000] <annevk>
writing some minor text/css history here :p

[01:00:51.0000] <hsivonen>
annevk: the sheet operates in the origin of the including document, so the security scenario is not like iframe

[01:01:02.0000] <hsivonen>
annevk: let’s align with <meta>

[01:04:21.0000] <annevk>
hsivonen: reload

[01:04:26.0000] <hsivonen>
how does the process work at the CSS WG? Will this text go through an epic debate in a telecon next?

[01:04:46.0000] <hsivonen>
annevk: thanks. looks good

[01:04:48.0000] <hsivonen>
TabAtkins: http://html5.org/temp/cssencoding.txt

[01:07:10.0000] <annevk>
hsivonen: last time TabAtkins just put it in css3-syntax

[01:07:24.0000] <annevk>
hsivonen: I understand that Bert does not like css3-syntax, but that's a minor hurdle

[01:09:02.0000] <hsivonen>
meanwhile on www-tag: “Wrong on several counts. First, this isn’t what ‘meaning’ means.”

[01:09:56.0000] <annevk>
I was loving that tweet

[01:10:18.0000] <annevk>
subject too "Working without being ambushed by Ambiguity"

[01:12:38.0000] <annevk>
whoa, timbl started that thread

[01:12:39.0000] <annevk>
http://lists.w3.org/Archives/Public/www-tag/2012Oct/0086.html

[01:12:44.0000] <annevk>
pretty lengthy

[01:21:01.0000] <hsivonen>
From the W3C: “The Open Web Platform, which includes core W3C technologies such as HTML, CSS, SVG, XML, XSLT, XSL-FO, PNG, RDF, and many more, are already extensively in eBooks and eBook production.”

[01:26:17.0000] <annevk>
Open technologies for your walled gardens! We'll even promote them too!

[01:58:48.0000] <MikeSmith>
hsivonen_: left out TTML from that list

[01:58:55.0000] <MikeSmith>
/me makes a note to add it later

[02:02:11.0000] <hsivonen>
sigh. what’s wrong with me. I’ve started hg pulling without hg qpopping first

[02:02:47.0000] <MikeSmith>
didn't know you were using queues

[02:02:59.0000] <MikeSmith>
I've doned that too

[02:09:27.0000] <jgraham>
hsivonen: What's wrong with you is that you're still using hg ;)

[02:09:55.0000] <Ms2ger>
/me kicks jgraham 

[02:43:44.0000] <hsivonen>
I just took a look at our Character Encoding menu code

[02:43:50.0000] <hsivonen>
complex code is complex

[02:43:55.0000] <hsivonen>
RDF and all

[02:45:03.0000] <Ms2ger>
Yay RDF

[02:46:39.0000] <hsivonen>
uh oh. our plug-in host has code for translating Gecko charset names to Java charset names

[02:46:44.0000] <hsivonen>
I wonder what that is about

[02:53:22.0000] <annevk>
hsivonen: try to make your menu more like Chrome/Safari

[02:54:49.0000] <hsivonen>
annevk: what data is the non-inclusion of e.g. MacGreek in the Encoding Standard based on?

[02:55:00.0000] <hsivonen>
that is, Mac encodings other than roman and cyrillic

[02:55:19.0000] <hsivonen>
what about EUC-TW? based on not having a common name among browsers?

[02:55:35.0000] <annevk>
for single-byte encodings the data I used for my decisions is here: http://lists.w3.org/Archives/Public/www-archive/2012Apr/att-0058/spectable.html

[02:55:48.0000] <annevk>
(there's several variants of that table floating around, I think that's the latest)

[02:56:08.0000] <annevk>
for multi-byte encodings I looked on those common among browsers, indeed

[02:56:26.0000] <annevk>
basically the same way of decision making, just less data on the latter because there's not that many

[02:57:10.0000] <hsivonen>
annevk: that page doesn’t explain the non-inclusion of non-Roman, non-Cyrillic Mac

[03:00:08.0000] <annevk>
hsivonen: sorry

[03:00:16.0000] <annevk>
http://lists.w3.org/Archives/Public/www-archive/2011Dec/att-0021/encoding-labels.html is somewhat better at addressing that question I suppose

[03:00:52.0000] <annevk>
non-support by Chrome/Opera was the reason for removal of most of them it seems, sometimes non-support by Firefox/IE/Safari

[03:01:54.0000] <annevk>
(that table is hard to read though :/)

[03:02:37.0000] <hsivonen>
I see. I hope it’s the right call for MacGreek, etc.

[03:02:40.0000] <hsivonen>
most likely is

[03:02:51.0000] <annevk>
hsivonen: I think the reason is that Chrome has no support for x-mac-ce, x-mac-greek, x-mac-turkish

[03:03:12.0000] <hsivonen>
I just want to know the basis in case someone blames me if we remove those and some site breaks

[03:03:13.0000] <annevk>
hsivonen: and Opera on non-Mac platforms has no support for those either

[03:03:22.0000] <hsivonen>
annevk: interesting

[03:03:41.0000] <annevk>
(weird decision by Opera's encoding guy imo)

[03:03:47.0000] <hsivonen>
I’d be surprised if there were Mac*Roman* Web sites

[03:03:53.0000] <annevk>
(there's a bug that may or may not be fixed already)

[03:04:30.0000] <annevk>
hsivonen: they also did not turn up in the content studies, but macintosh and I think ukrainian did

[03:04:53.0000] <annevk>
but it's now almost a year since I did the research so memory is fussy

[03:05:36.0000] <hsivonen>
in Mac Opera pulling additional encodings from a platform API or something?

[03:06:12.0000] <annevk>
I guess I can say it's an ifdef, I hope they won't sue :)

[03:06:41.0000] <odinho>
annevk: oh my oh my oh my ;-)

[03:35:36.0000] <annevk>
hsivonen: should I subscribe to apps-discuss?

[03:36:34.0000] <hsivonen>
annevk: probably better not to

[03:37:08.0000] <hsivonen>
annevk: do you want to argue about how reality-aligned text/* registrations will be?

[03:37:24.0000] <hsivonen>
386 opportunity

[03:37:38.0000] <annevk>
heh

[03:38:00.0000] <annevk>
I'm hoping GPHemsley will squash that argument in MIME Sniffing at some point

[03:38:50.0000] <hsivonen>
is GPHemsley editing MIME Sniffing?

[03:43:49.0000] <annevk>
he's considering it

[03:45:09.0000] <MikeSmith>
hmm isn't foo&;bar a document-conformance error?

[03:45:13.0000] <MikeSmith>
and parse error

[03:46:32.0000] <MikeSmith>
spec says an ambiguous ampersand is and ampersand followed by one or more alphanumeric chars followed by semicolon

[03:46:53.0000] <MikeSmith>
I think I assumed it was zero or more alphanumeric

[04:01:48.0000] <MikeSmith>
hmm yeah foo&;bar is not a parse error and not a document-conformance error either

[04:10:46.0000] <zcorpan>
annevk: looks good. now i'll check how well browsers match it

[04:15:00.0000] <annevk>
hsivonen: so I guess at some point I should write a xmlencoding.txt too?

[04:15:53.0000] <hsivonen>
possibly. that code in Gecko is semi-bogus

[04:16:06.0000] <hsivonen>
and hard to fix nicely

[04:36:05.0000] <annevk>
fair enough and actually, if we're gonna touch XML at all, we might as well improve it a whole lot

[04:49:43.0000] <MikeSmith>
argh is "&hyphen" still meant to be a parse error?

[04:51:10.0000] <MikeSmith>
&hypen; (with semi-colon) is listed in the named-character references tables but &hyphen is not

[04:52:31.0000] <MikeSmith>
for cases like &acute which is listed both with and without semicolon in the table, my workspace validator code is still correctly reporting a parse error

[04:53:02.0000] <MikeSmith>
but for ones like &hyphen which aren't listed without a semicolon I'm not reporting an error

[04:53:10.0000] <MikeSmith>
any more

[04:53:14.0000] <MikeSmith>
I wonder if I should be

[04:54:31.0000] <annevk>
you want me to try read the spec for that case?

[04:56:12.0000] <MikeSmith>
nah

[04:56:24.0000] <MikeSmith>
I just need to re-read it

[04:56:31.0000] <MikeSmith>
but I'm hungry

[04:56:47.0000] <MikeSmith>
so I'll eat and then re-read

[04:57:29.0000] <zcorpan>
don't forget to consume the hyphen at the end

[04:57:34.0000] <zcorpan>
i mean semicolon

[04:57:59.0000] <zcorpan>
if your meal does not end with a semicolon, it may or may not be a parse error

[04:58:43.0000] <MikeSmith>
hah

[04:58:47.0000] <MikeSmith>
clever

[04:59:05.0000] <zcorpan>
(possibly you need to unconsume all of it and then eat it again, but let's not worry about that)

[05:07:25.0000] <jgraham>
Please don't eat your meal again if you have to unconsume it because it didn't reach a semicolon

[05:07:33.0000] <jgraham>
That's not healthy

[05:58:42.0000] <zcorpan>
hsivonen: why wouldn't <p> precede <main> in conforming content?

[06:54:54.0000] <GPHemsley>
annevk: You tend to be a little overzealous in what you consider "minor" ;)

[07:02:13.0000] <GPHemsley>
annevk: In order to edit mimesniff, I'd have to be a member of the whatwg organization on github, right?

[07:02:24.0000] <annevk>
GPHemsley: yeah

[07:03:37.0000] <annevk>
GPHemsley: I can add you if that's what you're asking for

[07:03:54.0000] <annevk>
GPHemsley: I'm non-intrusive man, just look at uri⊙wo

[07:04:34.0000] <GPHemsley>
annevk: Sure, then, I suppose I'll give it a shot.

[07:04:49.0000] <annevk>
GPHemsley: username is GPHemsley?

[07:04:53.0000] <GPHemsley>
yup

[07:05:06.0000] <GPHemsley>
I still do wish we had more than one mailing list, though

[07:05:28.0000] <GPHemsley>
I really don't want to subscribe to a list where I won't read 95% of the content :/

[07:06:10.0000] <annevk>
GPHemsley: just ask people to file bugs rather than email

[07:06:28.0000] <annevk>
GPHemsley: and archive stuff that does not have you in cc or to or something like that

[07:06:33.0000] <annevk>
GPHemsley: but whatwg is not super high traffic

[07:06:39.0000] <GPHemsley>
It used to be...

[07:06:47.0000] <GPHemsley>
(I was subscribed a few years ago)

[07:07:53.0000] <GPHemsley>
but OK

[07:07:54.0000] <annevk>
GPHemsley: you're part of the GitHub team now

[07:07:57.0000] <GPHemsley>
I'll give it another shot

[07:08:00.0000] <GPHemsley>
annevk: Thanks!

[07:11:36.0000] <GPHemsley>
If anyone was worried, I've restored the favicon to the wiki.

[07:13:43.0000] <GPHemsley>
/me wonders what lxml is, since it has a lot of install warnings.

[07:14:50.0000] <annevk>
I kinda want to define scheme as including the ":"

[07:16:20.0000] <GPHemsley>
/me finds it curious that the new wiki search is case-sensitive

[07:17:33.0000] <annevk>
I guess nobody can stop me doing that, but I if anyone thinks of any issues, let me know!

[07:17:45.0000] <MikeSmith>
oh boy

[07:18:15.0000] <annevk>
MikeSmith: was uri⊙wo the mailing list we discussed the other day btw?

[07:18:17.0000] <MikeSmith>
annevk: I can't imagine that anybody's going to object to you re-defining what a scheme is

[07:18:22.0000] <MikeSmith>
annevk: yeah

[07:18:29.0000] <MikeSmith>
you posted to it didn't you?

[07:18:34.0000] <annevk>
MikeSmith: so I guess I sort of covered posting on there

[07:18:46.0000] <annevk>
MikeSmith: well someone else started, my name is in the thread's subject...

[07:19:13.0000] <GPHemsley>
anolis, html5lib, and mimesniff all have to have the same parent directory, right?

[07:19:15.0000] <MikeSmith>
annevk: hey I was thinking we should post to whatever mailing list there is for curl developers

[07:19:21.0000] <MikeSmith>
or curl developers and users

[07:19:31.0000] <MikeSmith>
and wget, etc.

[07:19:46.0000] <annevk>
GPHemsley: no, just xref and mimesniff

[07:19:59.0000] <annevk>
GPHemsley: anolis/html5lib you need to install using system Python

[07:20:14.0000] <MikeSmith>
as in post a heads-up saying Hey here's the new URL spec that it would be great to have some review and feedback on

[07:21:04.0000] <annevk>
MikeSmith: maybe I should write the thing first where you can terminate the parser if input does not match the URL syntax

[07:21:23.0000] <annevk>
MikeSmith: as far as I can tell that should be relatively straightforward

[07:23:35.0000] <GPHemsley>
annevk: I'm getting a "/bin/sh: anolis: command not found" error

[07:24:11.0000] <annevk>
GPHemsley: did you install Anolis?

[07:24:23.0000] <GPHemsley>
oh, hang on, I think it's just a PATH issue

[07:26:52.0000] <GPHemsley>
hmm, it says I need cssselect installed

[07:28:07.0000] <MikeSmith>
annevk: that sounds good to me

[07:28:35.0000] <MikeSmith>
(about the terminating the parser stuff)

[07:32:39.0000] <GPHemsley>
hmm... apparently if you run make without having changed anything, the compiled file disappears

[07:32:45.0000] <GPHemsley>
(that seems weird)

[07:34:32.0000] <annevk>
run

[07:34:36.0000] <annevk>
touch Overview.src.html

[07:34:38.0000] <annevk>
make

[07:34:47.0000] <annevk>
if it's still gone, something else is amiss

[07:36:02.0000] <GPHemsley>
annevk: Well, I made actual changes and ran make again, and it came back

[07:36:37.0000] <GPHemsley>
(recall that the file was already present before I ran make on an unchanged source)

[07:36:59.0000] <annevk>
sure, doesn't seem like a huge deal then

[07:43:14.0000] <dsadinoff>
To whom can we turn to solve the "I'd like to see frozen headers while scrolling a table" problem?  There seem to be many half-baked solutions, but none that work reliably.  Seems like a job for CSS, no?

[07:43:32.0000] <annevk>
dsadinoff: yeah, www-style⊙wo

[07:44:03.0000] <annevk>
dsadinoff: WHATWG isn't doing any CSS for now

[07:44:15.0000] <dsadinoff>
okay, sorry to bother you.

[07:44:45.0000] <MikeSmith>
dsadinoff: it's still OK to talk about CSS here :)

[07:44:54.0000] <annevk>
right, this channel is pretty open-ended

[07:47:39.0000] <dsadinoff>
Mostly, I'm looking for evidence that it's on someone's to-do list.  It's kind of an HTML issue, in that I see it as the unfulfilled promise of HTML4's THEAD

[07:48:30.0000] <GPHemsley>
abarth, Hixie: Do you relinquish editorship of mimesniff?

[07:48:41.0000] <annevk>
dsadinoff: it's not HTML

[07:49:03.0000] <annevk>
dsadinoff: HTML has no control over UI or look & feel, CSS does to some extent

[07:49:47.0000] <dsadinoff>
THEAD seems like HTML to me.

[07:50:20.0000] <SimonSapin>
dsadinoff: feel free to ask on http://lists.w3.org/Archives/Public/www-style/ (the CSS mailing list)

[07:50:22.0000] <annevk>
MikeSmith: so I did redefined query/fragment to include the leading ?/#

[07:50:31.0000] <annevk>
-d

[07:50:50.0000] <GPHemsley>
/me mumbles something about anolis not letting him use &#x0040;

[07:51:17.0000] <annevk>
GPHemsley: not gonna protect you

[07:51:32.0000] <GPHemsley>
from the stupid ones... >_>

[07:51:33.0000] <dsadinoff>
Thanks everybody. there seems to be an interesting and germane discussion at www-style on "sticky positioning"  .

[07:51:36.0000] <dsadinoff>
cheers!

[07:52:13.0000] <MikeSmith>
annevk: redefine all the things!

[07:52:39.0000] <annevk>
MikeSmith: it's not exactly on purpose, it was just the easiest

[07:53:12.0000] <annevk>
MikeSmith: and "redefining" scheme makes it easier too, and we do often talk about data: URLs and javascript: URLs

[07:53:20.0000] <annevk>
it fits usage too

[07:53:22.0000] <MikeSmith>
true

[07:53:44.0000] <annevk>
but I can see arguments either way, e.g. that syntax constructs should not be part of the value

[07:53:59.0000] <annevk>
but that's mostly a purity argument, not a pragmatic one

[07:54:08.0000] <annevk>
man, I think about this too much, better take a break

[07:55:12.0000] <GPHemsley>
:)

[07:55:36.0000] <GPHemsley>
annevk: So, are you doing away with the // or what?

[07:56:47.0000] <annevk>
GPHemsley: can't; http:example.org on http://foo/ results in http://foo/example.org

[07:57:09.0000] <GPHemsley>
it does? o_0

[07:58:05.0000] <annevk>
but now this

[07:58:19.0000] <annevk>
http:example.org on https://foo/ results in http://example.org/

[07:58:30.0000] <annevk>
you know why? because topic

[07:58:36.0000] <GPHemsley>
-_-

[07:59:01.0000] <Hixie>
GPHemsley: i haven't edited it since it came out of the html spec

[07:59:12.0000] <GPHemsley>
/me takes that as a yes

[07:59:40.0000] <annevk>
GPHemsley: generally you should feel free to submit patches to any of the specs in the whatwg repo

[08:00:05.0000] <annevk>
GPHemsley: Ms2ger, I, and others review the changes and will let you know if something goes amiss

[08:00:52.0000] <GPHemsley>
annevk: For mimesniff, though, I can commit directly, right? Or no?

[08:01:24.0000] <annevk>
commit-then-review is what we usually practice

[08:01:25.0000] <GPHemsley>
/me needs to clarify what you mean by "submit patches", as he hasn't seen anyone do that.

[08:01:30.0000] <GPHemsley>
ah, ok

[08:01:57.0000] <GPHemsley>
I come from Mozillaland, where patches are submitted to bug reports to be reviewed.

[08:02:16.0000] <Hixie>
the whatwg attitude is "trust and verify", we just assume that if someone goes crazy we'll revoke their rights and restore from backup

[08:02:42.0000] <GPHemsley>
k

[08:02:43.0000] <Hixie>
so far you seem pretty sensible, to me :-P

[08:02:47.0000] <annevk>
maybe we should do that at some point, but thus far for every 1000 commits there's only a couple that are wrong

[08:02:48.0000] <GPHemsley>
:)

[08:02:57.0000] <annevk>
so it's not really worth the hassle

[08:03:09.0000] <GPHemsley>
ok, just wanted to clarify

[08:05:06.0000] <annevk>
GPHemsley: you already forgot you have to ask for forgiveness? :p

[08:05:18.0000] <GPHemsley>
/me is not used to having so much power.

[08:07:09.0000] <GPHemsley>
In that case, I hope abarth forgives me if his answer is no. :)

[08:11:35.0000] <GPHemsley>
it sure is easy to break anolis...

[08:11:45.0000] <GPHemsley>
have one undefined reference, and the whole thing explodes ;)

[08:12:25.0000] <GPHemsley>
How do I add a new reference? Do I have to edit xref?

[08:12:33.0000] <annevk>
Hixie: I think I asked this before, why is it "space characters" and not "ASCII whitespace"?

[08:13:11.0000] <annevk>
GPHemsley: yes

[08:13:24.0000] <MikeSmith>
annevk: so you think it would be useful to send a heads-up about the URL spec to the curl mailing list? "review is welcome" etc.?

[08:13:30.0000] <MikeSmith>
if so I can send one

[08:14:03.0000] <annevk>
MikeSmith: ah yeah, why not, maybe indicate the plan is to give the parser a strict option

[08:14:18.0000] <MikeSmith>
OK

[08:14:23.0000] <annevk>
MikeSmith: most of the groundwork for such an option is now in place, might add it tomorrow

[08:14:28.0000] <MikeSmith>
hai

[08:14:29.0000] <GPHemsley>
annevk: references.json?

[08:14:32.0000] <annevk>
MikeSmith: oh and maybe cc me and say they have to cc me if they want replies

[08:14:40.0000] <MikeSmith>
k

[08:14:47.0000] <annevk>
GPHemsley: yes, for a data-anolis-ref

[08:14:50.0000] <Hixie>
annevk: same reason it's not "characters that are spaces" or "spaces" or "whitespace characters" or "the bimbams" or any other equivalently defined opaque phrase :-)

[08:15:08.0000] <GPHemsley>
annevk: Are there other kinds?

[08:15:24.0000] <annevk>
Hixie: I might start using ASCII whitespace in my specs

[08:15:43.0000] <annevk>
Hixie: aligns better with a bunch of other terms I need for URL

[08:15:50.0000] <GPHemsley>
annevk: This one is unusual in that it's an academic reference, rather than a spec or other webpage

[08:16:04.0000] <annevk>
Hixie: and I have this wish of at some point having unified terminology...

[08:16:21.0000] <annevk>
GPHemsley: yeah, cross-spec references

[08:16:33.0000] <annevk>
GPHemsley: no that's fine, it can go in references.json

[08:16:57.0000] <GPHemsley>
it may have the record for longest ref abbreviation

[08:17:01.0000] <Hixie>
annevk: if you really care, file a bug, but it's a lot of work to change and unless you have a really compelling reason (cross-spec consistency isn't strong enough imho) i'll likely wontfix or later it...

[08:17:39.0000] <GPHemsley>
...or maybe not

[08:17:50.0000] <GPHemsley>
annevk: Are their best practices for naming a ref?

[08:17:51.0000] <annevk>
Hixie: I was mostly wondering if you had a compelling reason for me not to pursue "ASCII whitespace" in my specs and maybe at some point once we're all bored fix specs to use that everywhere :)

[08:18:04.0000] <GPHemsley>
s/their/there/

[08:18:09.0000] <annevk>
Hixie: so thanks :)

[08:18:35.0000] <annevk>
GPHemsley: uppercase, not too long, not really?

[08:18:48.0000] <GPHemsley>
annevk: Should there be?

[08:18:54.0000] <GPHemsley>
we have a lovely wiki...

[08:18:55.0000] <GPHemsley>
;)

[08:19:17.0000] <annevk>
GPHemsley: heh, if you feel like finding the pattern and encouraging people to follow it, be my guest

[08:20:12.0000] <Hixie>
annevk: sounds fine to me. i could come up with an argument like "phrases with acronyms don't read as well" but it'd be a post-hoc rationalisation.

[08:21:31.0000] <annevk>
GPHemsley: as a warning of sorts, in general additional rules make it more complicated for people to contribute

[08:21:51.0000] <GPHemsley>
they're *guidelines* ;)

[08:22:07.0000] <annevk>
GPHemsley: I'm not opposed :)

[08:22:13.0000] <GPHemsley>
is there a way to specify a year/date in the references?

[08:22:39.0000] <annevk>
GPHemsley: don't think so

[08:22:46.0000] <annevk>
GPHemsley: put it in the title

[08:22:46.0000] <GPHemsley>
/me wonders if that's a problem.

[08:24:23.0000] <GPHemsley>
I'll leave it out for now.

[08:24:53.0000] <annevk>
MikeSmith: GPHemsley: good luck, gotta go train/cycle around

[08:24:58.0000] <GPHemsley>
k

[08:25:01.0000] <GPHemsley>
thanks

[08:25:05.0000] <Hixie>
as editor, you don't want the date in the refs, trust me

[08:25:06.0000] <MikeSmith>
enjoy annevk

[08:25:11.0000] <Hixie>
you'll just spend your whole time updating refs

[08:27:05.0000] <GPHemsley>
well, article dates tend not to change, but OK

[08:27:31.0000] <GPHemsley>
Hixie: Incidentally, what is RFCs.json for? Because apparently it's not used to cite as RFCs as references...

[08:31:01.0000] <MikeSmith>
it is used I think

[08:31:06.0000] <MikeSmith>
somehow

[08:31:08.0000] <MikeSmith>
or maybe not

[08:31:16.0000] <MikeSmith>
ms2ger would know

[08:33:57.0000] <Hixie>
hm, today will probably end up being a feature day

[08:34:02.0000] <Hixie>
the next few bugs are all feature requests

[08:34:16.0000] <Hixie>
allow-pointerlock for sandbox, and a bunch of appcache things

[08:35:16.0000] <GPHemsley>
Is it standard practice to list acknowledgements alphabetically by first name, or am I free to do whatever I want? :)

[08:36:52.0000] <GPHemsley>
Oh, and where does en-x-hixie stand on the spelling of acknowledgements?

[08:36:58.0000] <Hixie>
free to do whatever you want

[08:37:07.0000] <Hixie>
on pretty much anything

[08:37:16.0000] <Hixie>
and if your judgement is poor, you'll hear about it :-P

[08:37:41.0000] <GPHemsley>
well, the fact that you are not worried about my judgment makes me happy

[09:28:20.0000] <MikeSmith>
I pushed ampersand changes from my workspace to http://qa-dev.w3.org:8888/

[09:28:29.0000] <MikeSmith>
behavior now should match the spec

[09:28:53.0000] <MikeSmith>
if anybody has time to test

[09:29:12.0000] <MikeSmith>
/me Memoserv help

[09:29:38.0000] <MikeSmith>
oops

[10:03:16.0000] <GPHemsley>
Oh, right, we're using W3C for bug tracking, aren't we?

[10:04:35.0000] <GPHemsley>
How do I get myself set as the default assignee/QA contact?

[10:28:19.0000] <Ms2ger>
GPHemsley, ask MikeSmith

[10:28:47.0000] <GPHemsley>
/me has asked so many questions today.

[10:28:59.0000] <GPHemsley>
Ms2ger: Which one are you referring to?

[10:29:19.0000] <Ms2ger>
The most recent

[10:29:23.0000] <Ms2ger>
<GPHemsley> How do I get myself set as the default assignee/QA contact?

[10:29:31.0000] <GPHemsley>
ah, thanks

[10:33:45.0000] <pablof>
i hear this Anne chick is hot, http://lists.webkit.org/pipermail/webkit-dev/2012-October/022583.html

[11:01:30.0000] <GPHemsley>
/me recalls making the same mistake.

[11:12:02.0000] <MikeSmith>
GPHemsley: for what component? MIME?

[11:12:14.0000] <GPHemsley>
yeah

[11:14:26.0000] <MikeSmith>
ok done

[11:18:10.0000] <GPHemsley>
thanks

[11:18:59.0000] <GPHemsley>
/me finds it interesting that whitespace between <p> and text is stripped but whitespace between <dt> and text is not.

[11:19:20.0000] <Hixie>
stripped by what?

[11:22:22.0000] <GPHemsley>
the browser

[11:24:11.0000] <tantek>
which browser?

[11:24:20.0000] <Ms2ger>
Not in the DOM, I presume

[11:27:30.0000] <Hixie>
not sure what you mean

[11:27:34.0000] <Hixie>
neither should be stripped

[11:31:59.0000] <GPHemsley>
if I have <p>\n\tFoo, the browser shows |Foo (where | is the edge of the box

[11:32:10.0000] <GPHemsley>
if I have <dt>\n\tFoo, the browser shows | Foo (where | is the edge of the box)

[11:32:28.0000] <Ms2ger>
Well, yes

[11:32:32.0000] <Ms2ger>
That's the margin on the dt

[11:32:35.0000] <Ms2ger>
No

[11:32:38.0000] <Ms2ger>
I'm stupid

[11:32:49.0000] <Ms2ger>
And I can't tell the difference between d ant t

[11:33:17.0000] <GPHemsley>
and this is in Gecko

[11:33:48.0000] <Ms2ger>
Not here

[11:35:08.0000] <GPHemsley>
really?

[11:35:12.0000] <GPHemsley>
hmm

[11:36:56.0000] <GPHemsley>
I wonder if it has anything to do with dt:before { content: 'asdf'; }

[11:37:13.0000] <GPHemsley>
oh, or maybe it's the inline-block

[11:42:23.0000] <Ms2ger>
Oh, and RFCs.json is just a list you can copy from if you need a reference to an RFC and you're too lazy to write it up yourself

[11:42:51.0000] <Ms2ger>
(I made it while working on the HTML References section)

[11:44:48.0000] <Hixie>
GPHemsley: in the absence of other styles, that's a bug

[11:45:17.0000] <GPHemsley>
Hixie: Alright, I'll investigate it later.

[11:45:30.0000] <GPHemsley>
Ms2ger: Ah, OK. That's what I used it for. :)

[11:45:32.0000] <Hixie>
GPHemsley: :before acts like a text node that was inserted at the start of the element, so if that doesn't end with a space, and it's in-flow, then that will do it

[12:00:28.0000] <Hixie>
anyone know what referer browsers use when fetching things listed in appcache manifests?

[12:06:28.0000] <ap>
Hixie: I think that Safari doesn't send any

[12:09:00.0000] <annevk>
pablof: pics or it didn't happen

[12:09:12.0000] <Hixie>
ap: interesting.

[12:09:34.0000] <annevk>
GPHemsley: Acknowledgments without e is per W3C style guide iirc

[12:09:52.0000] <GPHemsley>
does that matter? :)

[12:10:10.0000] <annevk>
GPHemsley: lexicographical by first name is because of nick names and complex sort order for last names in e.g. the Netherlands

[12:10:23.0000] <Hixie>
ap: any opinion on whether we should change that? turns out the spec is bogus on this (it essentially has a null deref), so i need to define something. The three options I can see are nothing, the manifest, and the Document that triggered the update. The manifest probably makes the most sense.

[12:10:27.0000] <GPHemsley>
annevk: Yeah, that one I decided to leave.

[12:10:32.0000] <annevk>
GPHemsley: I don't think an "e" matters a whole lot, just nice to be consistent

[12:10:41.0000] <Hixie>
i sort by first name because that's what emacs's "sort-lines" does

[12:11:01.0000] <GPHemsley>
Hixie: Ah, so that's why you leave the 'and' tacked on to the end of a line

[12:11:11.0000] <Hixie>
yeah :-)

[12:12:04.0000] <GPHemsley>
annevk: I'm of the opinion that 'dg' doesn't make the right sound without the 'e' after it, so...

[12:12:51.0000] <ap>
Hixie: agreed. that should be a relatively easy (albeit low priority) fix to use manifest for Referer for us, and I don't think that it could break anything

[12:13:18.0000] <Hixie>
ap: cool, i'll do that then, assuming my testing finds nothing substantial in other browsers. thanks.

[12:13:37.0000] <annevk>
GPHemsley: you're not an American?

[12:13:44.0000] <GPHemsley>
oh, I am

[12:13:51.0000] <GPHemsley>
but I'm also a linguist

[12:13:58.0000] <GPHemsley>
and a standards enthusiast

[12:14:09.0000] <Hixie>
woah, woah

[12:14:10.0000] <GPHemsley>
when you put the last two together, the third goes out the window ;)

[12:14:12.0000] <annevk>
from Wikipedia's manual of style "acknowledgement vs acknowledgment: acknowledgement is preferred in British English,[9] acknowledgment in American English."

[12:14:15.0000] <Hixie>
standards enthusiast?

[12:14:18.0000] <Hixie>
i'm not sure that's allowed

[12:14:27.0000] <GPHemsley>
uh oh

[12:14:28.0000] <GPHemsley>
/me runs

[12:14:36.0000] <annevk>
Hixie: what are you gonna do? :p

[12:14:50.0000] <Hixie>
damnit, there's nothing i CAN do!

[12:15:03.0000] <Hixie>
i will look at him or her sternly!

[12:15:16.0000] <Hixie>
(not falling into this trap of assuming people are a particular gender again!)

[12:15:35.0000] <GPHemsley>
now now

[12:15:39.0000] <GPHemsley>
everyone settle down

[12:16:10.0000] <GPHemsley>
would it ease your mind if s/standards/specification/ ?

[12:17:08.0000] <Hixie>
not sure

[12:17:38.0000] <Hixie>
what kind of specification?

[12:17:45.0000] <GPHemsley>
what are my options?

[12:18:10.0000] <Hixie>
orange specifications and yellow specifications.

[12:18:30.0000] <GPHemsley>
orange

[12:18:38.0000] <Hixie>
hmmmmmm ok then

[12:19:03.0000] <Hixie>
in completely unrelated news, can i just say that debugging appcache is a huge pain in the neck

[12:19:12.0000] <Hixie>
because you have to reload things like 5 times to make sure you have hte latest files

[12:20:00.0000] <GPHemsley>
oh, and FTR, I prefer male pronouns

[12:20:13.0000] <Hixie>
for use when refering to you, or to others?

[12:20:44.0000] <GPHemsley>
when referring to me

[12:20:50.0000] <Hixie>
just checking

[12:20:55.0000] <GPHemsley>
for everyone else, I just use "them"

[12:21:03.0000] <Hixie>
seems wise

[12:21:25.0000] <Hixie>
/me finds out why his file isn't getting cached

[12:21:34.0000] <Hixie>
forgot to update the manifest to point to it.

[12:21:35.0000] <annevk>
Hixie: http://url.spec.whatwg.org/#writing should now match IRI except that I allow "iprivate" anywhere rather than just in "iquery"

[12:21:44.0000] <Hixie>
good times

[12:21:52.0000] <GPHemsley>
/me will write an English orthography spec one day.

[12:22:10.0000] <Hixie>
annevk: is a URI just a URL that only contains US-ASCII? (ignoring what escapes expand to?)

[12:22:16.0000] <annevk>
Hixie: and that definition of URL units should at some point be aligned with the code point ranges of the HTML syntax (for code points above ASCII)

[12:22:21.0000] <annevk>
Hixie: yeah

[12:22:27.0000] <Hixie>
cool

[12:22:56.0000] <Hixie>
hm. i wonder if it would make IETF folk happier or less happy if you actually put that definition of URI in the spec, come to the think of it.

[12:23:09.0000] <Hixie>
probably not worth it, on the balance.

[12:23:46.0000] <GPHemsley>
Do we care about line length?

[12:24:07.0000] <annevk>
GPHemsley: readable diffs are nice

[12:24:20.0000] <GPHemsley>
well, I've put each sentence on a separate line

[12:24:30.0000] <GPHemsley>
I'm just wondering if I should also wrap lines

[12:24:44.0000] <Hixie>
i wrap to 100 chars these days

[12:24:47.0000] <annevk>
my line length is pretty short at the moment, 77

[12:24:58.0000] <Hixie>
used to wrap to 70 but my computers got bigger

[12:25:03.0000] <annevk>
heh

[12:25:18.0000] <GPHemsley>
if I wrapped, it'd be at 78, I think

[12:25:42.0000] <GPHemsley>
so, did I hear two votes for wrapping?

[12:25:43.0000] <annevk>
oh it's 76

[12:26:06.0000] <Ms2ger>
Hixie, which does make your diffs a lot less useful :)

[12:26:47.0000] <GPHemsley>
I'm hearing 3 votes for wrapping

[12:27:06.0000] <annevk>
Hixie: Progress Events is part of XMLHttpRequest now

[12:28:13.0000] <Ms2ger>
GPHemsley, wrap, but only if you do at 80 :)

[12:28:25.0000] <GPHemsley>
Ms2ger: What's wrong with 78?

[12:28:40.0000] <Ms2ger>
It's two characters short of 80

[12:28:43.0000] <GPHemsley>
that leaves room for line endings, though

[12:29:20.0000] <Ms2ger>
Why not 79, then? :)

[12:29:23.0000] <GPHemsley>
I suppose the real question is, what are the usecases for wrapped lines?

[12:29:30.0000] <GPHemsley>
Just in case Windows gets involved

[12:34:26.0000] <Hixie>
Ms2ger: for now, yeah.

[12:34:29.0000] <Hixie>
Ms2ger: transition pain.

[12:35:01.0000] <Ms2ger>
Hixie, man, do you know how long your spec is? This is going to take ages ;)

[12:35:13.0000] <Hixie>
not as long as one might imagine

[12:35:33.0000] <Ms2ger>
$ wc -l source

[12:35:34.0000] <Ms2ger>
125073 source

[12:37:30.0000] <annevk>
GPHemsley: readable diffs

[12:38:07.0000] <GPHemsley>
annevk: I can't tell if you're objecting or agreeing.

[12:38:15.0000] <Hixie>
Ms2ger: how many of those are lines less than 80 characters, that start with one or more spaces, and that are not followed by a blank line or a line with a different indent?

[12:38:29.0000] <annevk>
GPHemsley: that's the use case for wrapped lines and why I want them

[12:38:34.0000] <GPHemsley>
ohh

[12:38:45.0000] <GPHemsley>
what makes a diff unreadable?

[12:38:55.0000] <Ms2ger>
Hixie, I bet you can write an elisp one-liner to tell me that

[12:39:44.0000] <annevk>
GPHemsley: long lines, because it's line-based diffing typically

[12:39:57.0000] <Hixie>
Ms2ger: perl one-liner maybe. i don't do elisp. :-)

[12:40:04.0000] <Ms2ger>
/me gasps

[12:40:18.0000] <annevk>
GPHemsley: given 80 or so characters it's relatively easy to spot a change, if lines go over 9000 not so much

[12:40:29.0000] <GPHemsley>
annevk: so the problem is that the lines go off the screen? because one could also make the case that long single-lines make it easier to compare the lines

[12:40:51.0000] <Hixie>
i wrote a 1000-line multithreaded scheme app once (a command-line lambda calculus interpreter) and then i realised if i was going to do any more scheme or lisp i'd run out of parentheses, so i went to perl where they're optional.

[12:40:58.0000] <GPHemsley>
(assuming the same wrapped-line diff spans multiple lines)

[12:41:25.0000] <GPHemsley>
/me wonders how you run out of parentheses

[12:41:28.0000] <Ms2ger>
GPHemsley, well, sure, but you have to search for the difference within the line

[12:41:37.0000] <Hixie>
GPHemsley: you only get assigned a fixed number when you're born

[12:41:40.0000] <Ms2ger>
And that's easier for shorter lines

[12:41:53.0000] <GPHemsley>
Hixie: Well, shoot. I might run out, then. I use them all the time!

[12:42:14.0000] <Hixie>
gotta be careful with them, man!

[12:42:28.0000] <GPHemsley>
Ms2ger: Well, if you also keep one sentence per line, they're already relatively short.

[12:42:32.0000] <Ms2ger>
True

[12:42:38.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/html/offline/005.html tells me opera and webkit return "" and gecko returns the Document. Wonder what Gecko returns if two docs are refreshing the same appcache at the same time...

[12:42:45.0000] <GPHemsley>
But this is all hypothetical now, because I've already begun the wrapping process on this spec

[12:42:56.0000] <Ms2ger>
The issue is mainly if you put entire paragraphs on one line

[12:43:41.0000] <GPHemsley>
right

[12:43:51.0000] <Hixie>
(fwiw, my main use case for wrapping is just that it makes editing easier. same reason why i don't do one-sentence-per-line, which is better for diffs: my editor setup makes it easier to wrap paragraphs than sentences, and it's easier to read regularly wrapped paragraphs than irregular-length sentences.)

[12:43:54.0000] <GPHemsley>
although these sentences do tend to go very long

[12:46:11.0000] <Ms2ger>
If your sentences get too long, use a nice <ol> :)

[12:47:34.0000] <Hixie>
i guess IE9 doesn't do appcache

[12:47:35.0000] <Hixie>
does IE10/

[12:47:36.0000] <Hixie>
?

[12:47:42.0000] <Hixie>
anyone got IE10 who can test http://www.hixie.ch/tests/adhoc/html/offline/005.html for me?

[12:48:10.0000] <Ms2ger>
/me has some version in a vm

[12:48:31.0000] <Hixie>
i wonder what the referrer for the manifest itself should be

[12:48:48.0000] <Hixie>
one of the documents at random, i guess, the first time, and then the manifest the second time, maybe

[12:48:58.0000] <Hixie>
or just the document both times

[12:50:33.0000] <Ms2ger>
FAIL

[12:50:41.0000] <Ms2ger>
And then ...005.html

[12:50:52.0000] <Ms2ger>
Hixie, ^

[12:55:55.0000] <Hixie>
cool, thanks

[12:56:58.0000] <Hixie>
ap: so looks like two browsers do "" and two browsers use the Document's URL (presumably a random one, or the "first" one, if there are multiple at the same time)

[12:57:22.0000] <Hixie>
ap: which suggests maybe changing it to the manifest isn't a good move

[12:57:30.0000] <Hixie>
ap: do you mind if we use the (a) document url?

[13:01:51.0000] <Hixie>
ap: i've cc'ed you on https://www.w3.org/Bugs/Public/show_bug.cgi?id=17687

[13:06:39.0000] <GPHemsley>
hmm...

[13:07:04.0000] <GPHemsley>
Ms2ger: Anolis seems to randomly insert a blank line with a bunch of whitespace in the middle of my table

[13:07:23.0000] <GPHemsley>
oh

[13:07:37.0000] <GPHemsley>
it's just poorly correcting a tag mismatch

[13:07:45.0000] <Ms2ger>
Blame html5lib :)

[13:07:58.0000] <GPHemsley>
ah, heh

[13:11:29.0000] <GPHemsley>
Well, that diff is messy and mostly useless.

[13:11:35.0000] <GPHemsley>
But I swear it's mostly whitespace.

[13:11:51.0000] <GPHemsley>
A few bits of punctuation and tag clean-up, too.

[13:11:54.0000] <GPHemsley>
But mostly whitespace.

[13:14:35.0000] <GPHemsley>
/me wonders if Alfred HÎnes should really be Alfred Hönes.

[13:15:27.0000] <GPHemsley>
(It wouldn't be Alfred HŒnes, would it?)

[13:16:53.0000] <GPHemsley>
yeah, I think I was right the first time

[13:18:59.0000] <annevk>
the name in the doc results in a bunch of results on Google

[13:19:03.0000] <annevk>
so I think it's correct

[13:19:42.0000] <GPHemsley>
yeah, but his ASCII signature and search for the umlaut version suggest otherwise

[13:21:00.0000] <annevk>
I guess you could email him what he prefers, but I reckon abarth paid attention to that

[13:23:42.0000] <GPHemsley>
IDK, the whole list came at once

[13:24:01.0000] <GPHemsley>
I get the feeling it was copy&pasted from an e-mail with encoding problems.

[13:24:29.0000] <GPHemsley>
https://github.com/whatwg/mimesniff/commit/886dd7e31f32f37a4d9a6933b867a72b95555db4

[13:24:41.0000] <GPHemsley>
more specifically https://github.com/whatwg/mimesniff/commit/886dd7e31f32f37a4d9a6933b867a72b95555db4#L0R1136

[13:25:20.0000] <annevk>
I doubt that's an encoding problem though, it seems very intentional

[13:25:51.0000] <GPHemsley>
I mean an encoding problem in the source material.

[13:27:05.0000] <annevk>
me too

[13:27:18.0000] <GPHemsley>
encoding problems are rarely intentional ;)

[13:27:41.0000] <annevk>
I cannot think of anything that turns ö into Î

[13:28:02.0000] <GPHemsley>
well, see e.g. http://www.ietf.org/mail-archive/web/dnsop/current/msg09665.html

[13:28:10.0000] <GPHemsley>
"From: Alfred Hönes"

[13:28:30.0000] <GPHemsley>
I'm thinking something turned oe -> Œ for some reason

[13:28:54.0000] <GPHemsley>
then MacRoman got interpreted as ISO 8859-1 or equivalent

[13:41:14.0000] <Velmont>
gsnedders: You said mozilla had a html5 parser lib for embedding when html5lib got too slow?

[13:43:40.0000] <GPHemsley>
/me wonders if the print template shouldn't up the font size.

[13:44:07.0000] <GPHemsley>
And maybe reduce the margins...

[13:49:55.0000] <GPHemsley>
/me wanders off to proofread

[13:53:36.0000] <ap>
Hixie: I doubt that there is any compatibility impact from any of the choices in this case. If we are trying to remain compatible however, I'd prefer going with WebKit behavior - we have more engine specific content, and would be much more likely to suffer. People use appcache on iOS quite a bit

[13:59:50.0000] <annevk>
dglazkov: getElementById should return Element, not HTMLElement, on ShadowRoot

[14:00:36.0000] <annevk>
dglazkov: same goes for the ShadowRoot constructor I guess

[14:02:07.0000] <annevk>
dglazkov: I guess I should give it some more careful review at some point, need more time :/

[14:09:13.0000] <annevk>
oh boy

[14:09:14.0000] <annevk>
http://lists.w3.org/Archives/Public/www-archive/2012Oct/0084.html

[14:13:24.0000] <Velmont>
Anyone in Paris for TTWF? Hmm. It is kinda late, need to find food. Should potentially have an IRC-channel for testtwf

[14:13:44.0000] <annevk>
Velmont: going to TPAC?

[14:14:09.0000] <Velmont>
annevk: Indeed am, mr :]

[14:14:22.0000] <annevk>
Velmont: I'm prolly at some Hilton hotel in Lyon around 6PM Sunday

[14:14:31.0000] <annevk>
unless you know, things go wrong

[14:14:54.0000] <Velmont>
annevk: I have used some precious space in my rucksack for your t-shirt.

[14:15:03.0000] <annevk>
awesome!

[14:19:46.0000] <Velmont>
sicking: So... Can you think of any obvious missing IDB tests?

[14:21:06.0000] <Velmont>
I have already written all the obvious stuff I could think of, -- but I should really have a list ready for test the web forward authors.

[14:24:13.0000] <sicking>
Velmont: hmmm

[14:24:49.0000] <sicking>
Velmont: we do have a lot of tests in our testsuite. But our tests heavily depends on 'yield' so i don't think they would be easy to run in other browsers

[14:24:58.0000] <sicking>
Velmont: …until they support ES6 that is

[14:26:42.0000] <sicking>
Velmont: did you write tests for all different cursors?

[14:27:15.0000] <sicking>
Velmont: i.e. backward/forward/nondupe on both indexes and objectStores

[14:27:32.0000] <sicking>
Velmont: and that nondupe ones skips dupes as appropriate

[14:27:40.0000] <sicking>
Velmont: our tests are all here: http://mxr.mozilla.org/mozilla-central/source/dom/indexedDB/test/unit/

[14:28:27.0000] <sicking>
Velmont: oh, and doing mutations as you are using all of these cursors

[14:28:33.0000] <Velmont>
sicking: I did look at them a bit when I did investigation.

[14:29:06.0000] <Velmont>
sicking: I **think** I have for back/forward/nodupe, -- quite a few tests on that. -- I have some for doing mutations as I'm doing most of those cursors...

[14:29:30.0000] <Velmont>
sicking: The biggest problem I have is information gathering/overload/etc probably.

[14:29:44.0000] <sicking>
Velmont: "overload"?

[14:29:51.0000] <Velmont>
sicking: I started marking up my tests with the assertions they test. But that was tedious and boring.

[14:31:16.0000] <Velmont>
overload as in I can't keep the overview over what tests I've written and which ones I've yet to do in my head any more.

[14:31:52.0000] <sicking>
Velmont: ah

[14:32:06.0000] <Velmont>
And all the lists I've started creating is half-baked :P -- Hmm. Should probably continue tagging the tests...

[14:32:27.0000] <Velmont>
sicking: I have some hacky javascript that colours the spec green for the assertions it finds in the tests.

[14:33:30.0000] <sicking>
Velmont: tests for what happens after a database or transaction is closed is likely going to find you bugs. I.e. checking that calling various functions works or throws as expected

[14:34:01.0000] <sicking>
Velmont: OOoh, error handling in general would be great

[14:34:04.0000] <Velmont>
sicking: Yeah, -- I only have an easy test for that I think.

[14:34:31.0000] <Velmont>
(not only one easy test for error handling in general, but that specific close case :P)

[14:34:49.0000] <Velmont>
sicking: Ahh. And ordering of exceptions ...

[14:34:56.0000] <Velmont>
sicking: If we only had a spec for that :P

[14:35:00.0000] <sicking>
Velmont: indeed! :)

[14:35:06.0000] <Velmont>
sicking: Then I could have someone write the test for it :D

[14:36:43.0000] <Velmont>
Hmm.  1) find all the cases where exception ordering matter   2) list them   3) make a helper that does that, and reports what exception fired   4)  find commonalities / make a nice list over how you think stuff should behave.

[14:37:31.0000] <Velmont>
Could always actually have them help with researching it, helping to spec it. Guess that would be cool for someone that is interested.

[15:12:50.0000] <Velmont>
Soo... MikeSmith or whoever does magic, -- can webapps and webappsec hg repositories be mirrored on github?

[15:25:20.0000] <GPHemsley>
/me can't help but think that the mimesniff algorithm could be greatly simplified.

[15:26:47.0000] <Velmont>
Uhhh... That email on html-public now, "not safe". What a strange strange email.

[15:43:34.0000] <GPHemsley>
/me notes that it seems everyone violates the GIF parsing spec with regard to spec version numbers.

[15:49:20.0000] <GPHemsley>
does anyone know off-hand if HTTP specifies how to handle the case when a given header is sent more than once?

[15:50:42.0000] <GPHemsley>
oh, it seems that certain headers allow more than one per request

[15:51:22.0000] <Velmont>
Yep. :-) And some don't.

[16:14:15.0000] <karlcow>
GPHemsley: yes for example, you may have multiple "Via: " headers

[16:16:23.0000] <karlcow>
I do not remember from the top of my head in case of multiple same header when only one is expected what the spec says.

[16:18:32.0000] <GPHemsley>
what I'm concerned with is whether I have to define the behavior or if it's already defined in HTTP

[16:20:47.0000] <karlcow>
"HTTP does not define

[16:20:47.0000] <karlcow>
   specific error handling mechanisms except when they have a direct

[16:20:47.0000] <karlcow>
   impact on security, since different applications of the protocol

[16:20:47.0000] <karlcow>
   require different error handling strategies." — http://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-21#section-2.5

[16:21:25.0000] <karlcow>
GPHemsley: a simple question on HTTP mailing-list can help, just exposing the case and asking if it is defined.

[16:28:54.0000] <karlcow>
Though GPHemsley see section 3.2 http://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-21#section-3.2

[16:29:00.0000] <zewt>
whoever decided that 1+null == 1, but 1+undefined == NaN, needs to be shot into the sun

[16:29:37.0000] <karlcow>
Paragraph starting with "Multiple header fields with the same field name MUST NOT be sent in a"

[16:30:14.0000] <karlcow>
"Multiple header

[16:30:15.0000] <karlcow>
   fields with the same field name can be combined into one "field-name:

[16:30:15.0000] <karlcow>
   field-value" pair, without changing the semantics of the message, by

[16:30:15.0000] <karlcow>
   appending each subsequent field value to the combined field value in

[16:30:15.0000] <karlcow>
   order, separated by a comma."

[16:30:53.0000] <GPHemsley>
"The order in which header fields with

[16:30:54.0000] <GPHemsley>
   the same field name are received is therefore significant to the

[16:30:54.0000] <GPHemsley>
   interpretation of the combined field value"

[16:31:03.0000] <karlcow>
yup

[16:31:05.0000] <GPHemsley>
but it doesn't say what that significance is

[16:31:10.0000] <karlcow>
but it doesn't say…

[16:31:12.0000] <karlcow>
voila!

[16:31:14.0000] <karlcow>
:)

[16:31:25.0000] <GPHemsley>
so that doesn't help me :P

[16:31:39.0000] <karlcow>
I guess it might be on case by case.

[16:31:56.0000] <karlcow>
If a value make sense or not too.

[16:32:01.0000] <karlcow>
makes

[16:33:15.0000] <karlcow>
GPHemsley: I would write down your specific use case and send it to ietf-http-wg⊙wo


2012-10-26
[17:05:36.0000] <GPHemsley>
which is scarier: unexpected, unanticipated, or unforeseen?

[17:05:56.0000] <zewt>
inconceivable

[17:06:16.0000] <GPHemsley>
that's a little over the top ;)

[17:08:02.0000] <zewt>
perhaps "never go in against a sicilian when death is on the line"

[17:12:32.0000] <GPHemsley>
/me bops zewt on the head.

[17:24:55.0000] <Velmont>
jgraham, gsnedders, hsivonen and other html5lib people: So I have a friend using html5lib now (since he couldn't find a more performant and well-working lib). But he wants stuff in <noscript> not to be taken as text, but parsed.

[17:25:39.0000] <Velmont>
Is that possible? What do implementations do when they don't have script? Take that snippet-o-text and run parser on it as a fragment?

[17:26:01.0000] <GPHemsley>
annevk: I want to steal all your definitions.

[17:29:16.0000] <GPHemsley>
(But I can't)

[17:45:05.0000] <GPHemsley>
Is the only way to define ASCII through Unicode?

[17:45:41.0000] <GPHemsley>
oh, RFC 20

[17:53:22.0000] <abarth>
GPHemsley: are you looking for me?

[17:53:40.0000] <abarth>
GPHemsley: i'm sorry I haven't been online recently.  what can I do for you?

[17:54:38.0000] <GPHemsley>
abarth: Are you officially done being the editor of mimesniff?

[17:54:55.0000] <abarth>
GPHemsley: that sounds like a loaded question

[17:55:06.0000] <GPHemsley>
well

[17:55:07.0000] <abarth>
GPHemsley: :)

[17:55:38.0000] <GPHemsley>
Well, see, if you aren't, then I've usurped you

[17:55:41.0000] <GPHemsley>
:)

[17:55:53.0000] <abarth>
what changes have you been making?

[17:56:06.0000] <abarth>
i haven't seen any discussed on whatwg@

[17:56:10.0000] <abarth>
maybe there's another mailing list?

[17:56:35.0000] <GPHemsley>
the discussion has mostly been in here

[17:56:57.0000] <abarth>
that's unfortunate for folks who aren't available synchronously

[17:57:03.0000] <abarth>
generally, I prefer mailing lists

[17:57:13.0000] <abarth>
so I don't have to be in the same time zone as the discussion

[17:57:33.0000] <GPHemsley>
yeah

[17:57:41.0000] <GPHemsley>
so I take it you're still attached, then?

[17:57:57.0000] <abarth>
I don't really know how to answer that question

[17:58:04.0000] <abarth>
whatwg is a do-ocracy

[17:58:13.0000] <abarth>
i haven't being doing much recently

[17:58:18.0000] <abarth>
you seem interested in doing more

[17:58:47.0000] <abarth>
https://github.com/whatwg/mimesniff/commit/3efba5ec7b621deb7d08ace0939b1ec2338a083e is hard to read

[17:58:56.0000] <abarth>
is there anything interested in that change from a technical PoV?

[17:59:03.0000] <GPHemsley>
nope

[17:59:16.0000] <GPHemsley>
[16:12:49]  <GPHemsley> Well, that diff is messy and mostly useless.

[17:59:17.0000] <GPHemsley>
[16:12:56]  <GPHemsley> But I swear it's mostly whitespace.

[17:59:17.0000] <GPHemsley>
[16:13:11]  <GPHemsley> A few bits of punctuation and tag clean-up, too.

[17:59:17.0000] <GPHemsley>
[16:13:14]  <GPHemsley> But mostly whitespace.

[17:59:28.0000] <abarth>
so far all these changes look great

[17:59:34.0000] <abarth>
/me is reading https://github.com/whatwg/mimesniff/commit/10b89e4601ab9f7671b7be717c4eb072a7561f4c

[17:59:51.0000] <abarth>
ah, you've personified user agents :)

[18:00:08.0000] <GPHemsley>
indeed

[18:00:18.0000] <GPHemsley>
right now, though, I'm mostly worried about this change: https://github.com/whatwg/mimesniff/commit/4878990a333db8bb3e30b8602ea8ff986aec5ef6

[18:00:19.0000] <GPHemsley>
:)

[18:00:37.0000] <abarth>
GPHemsley: I can't worry about that stuff

[18:01:00.0000] <GPHemsley>
so you don't mind?

[18:01:10.0000] <abarth>
not if you're planning to improve the spec

[18:01:14.0000] <GPHemsley>
*hew*

[18:01:16.0000] <GPHemsley>
+p

[18:01:23.0000] <GPHemsley>
but yeah

[18:01:25.0000] <abarth>
for technical changes, i think it would be good to discuss the changes on whatwg@

[18:01:43.0000] <GPHemsley>
well, I don't plan on making any substantive changes just yet

[18:01:51.0000] <GPHemsley>
but it does seem like things could be consolidated

[18:02:03.0000] <abarth>
what do you mean by that?

[18:02:38.0000] <GPHemsley>
well, for example, each section seems to start the algorithm over again

[18:02:47.0000] <GPHemsley>
like, read up to 512 bytes, etc.

[18:03:07.0000] <GPHemsley>
and that stuff could probably all be consolidated to a single section

[18:03:14.0000] <abarth>
yeah, that's to make it easier to reference from other specs

[18:03:33.0000] <abarth>
e.g., HTML wants to sniff for images only for <img>

[18:03:40.0000] <GPHemsley>
hmm

[18:03:44.0000] <abarth>
you should be careful not to break any external references

[18:03:56.0000] <GPHemsley>
is there a list of such things somewhere?

[18:04:08.0000] <abarth>
nope

[18:04:45.0000] <GPHemsley>
well, I was told people would tell me if I broke things

[18:05:13.0000] <abarth>
the bold things are things that might be referenced

[18:05:29.0000] <abarth>
e.g., " match the signature for MP4"

[18:05:46.0000] <abarth>
http://mimesniff.spec.whatwg.org/#rules-for-sniffing-fonts-specifically needs work

[18:05:56.0000] <abarth>
there's a bunch of reverse engineering that needs to be done for that section

[18:06:20.0000] <GPHemsley>
right

[20:06:46.0000] <Hixie>
GPHemsley: generally assume each named algorithm or algorithm in its own section is referenced from somewhere unless you ask around and nobody knows, including at least me (html), anne (xhr), and abarth

[20:06:54.0000] <Hixie>
GPHemsley: i think they're all referenced from HTML, at least

[20:07:02.0000] <Hixie>
maybe not fonts and video-related stuff yet

[20:07:06.0000] <Hixie>
though the later is probably coming

[20:20:22.0000] <MikeSmith>
learning about "URL units" and "the URL byte"

[20:20:36.0000] <MikeSmith>
seems like that should be "a URL byte"

[20:24:17.0000] <MikeSmith>
fewer letters than "percent-encoded octet"

[20:34:13.0000] <MikeSmith>
Hixie, it seems you've lost your seat at the "table of standards discussions"

[20:34:21.0000] <MikeSmith>
now you gotta go sit at the kids table

[20:34:29.0000] <Hixie>
so i heard

[20:34:58.0000] <MikeSmith>
oh wait I think the kids table is where we already been sitting for a while now

[20:35:14.0000] <MikeSmith>
I wonder who's still sitting at the table of standards discussions

[20:36:57.0000] <Hixie>
kids tables is where all the fun is anyway

[20:38:16.0000] <MikeSmith>
you're too dangerous for polite standards society

[20:38:36.0000] <MikeSmith>
you should put that on our c.v.

[20:41:21.0000] <MikeSmith>
the only thing that message is lacking is a Cc to Ban Ki-moon

[20:48:16.0000] <Hixie>
hah

[20:48:35.0000] <Hixie>
hopefully i won't need my cv for a looong time

[20:48:50.0000] <Hixie>
amusingly, my boss loves it when he hears complaints about me

[20:49:04.0000] <Hixie>
he once told me off for not working hard enough on the basis that he hadn't heard any complaints in months

[20:49:35.0000] <Hixie>
one complaint he heard even made him think i should get a pay raise

[20:49:43.0000] <Hixie>
so really, i'm all for danny's rants :-P

[20:52:03.0000] <MikeSmith>
I'm intrigued by this "boss loves it when he hears complaints about me" idea

[20:52:22.0000] <MikeSmith>
I'm gonna talk to my boss about that one

[20:52:31.0000] <Hixie>
good luck with that. i have a particularly great work situation.

[20:52:32.0000] <MikeSmith>
get him to come around to seeing it as a plus

[20:53:43.0000] <MikeSmith>
Hixie: well I have better public transportation where I live

[20:54:00.0000] <MikeSmith>
so la-di-da

[20:54:16.0000] <Hixie>
can't argue with that

[20:55:39.0000] <Hixie>
to get from my place to where i work takes two busses and an hour. I can cycle there in 15 minutes.

[20:56:02.0000] <Hixie>
Google Maps actually tells me it's quicker to walk than take public transit.

[20:56:07.0000] <MikeSmith>
wow

[20:56:43.0000] <MikeSmith>
yeah it sucks to be somebody who doesn't have a drivers license and be visiting there

[20:57:06.0000] <MikeSmith>
and the taxis there are a farce

[20:57:20.0000] <Hixie>
(i didn't even know google maps could give that option. that's kinda funny.)

[20:58:25.0000] <MikeSmith>
they must have added it to compete with Apple iOS Maps

[20:58:41.0000] <Hixie>
sooooooo no comment

[21:02:08.0000] <MikeSmith>
me wonders if kennyluck is around

[21:02:18.0000] <kennyluck>
MikeSmith, Iam.

[21:02:23.0000] <MikeSmith>
oh cool

[21:02:47.0000] <MikeSmith>
kennyluck: wanted to ask you about the bug comment you made on ampersands handling in IE

[21:03:06.0000] <kennyluck>
MikeSmith, what about it?

[21:03:26.0000] <MikeSmith>
you said it doesn't work properly in IE

[21:03:40.0000] <kennyluck>
No.

[21:03:42.0000] <MikeSmith>
one thing, the example you gave was href="foo&reg"

[21:03:58.0000] <MikeSmith>
but that's not an ambiguous-ampersand case

[21:04:02.0000] <MikeSmith>
not at at the spec defines it

[21:04:18.0000] <kennyluck>
MikeSmith, I think I gave something like "a=1&reg=2"

[21:04:23.0000] <MikeSmith>
yeah

[21:04:26.0000] <MikeSmith>
that too

[21:04:45.0000] <MikeSmith>
"&reg" is a match in the named-character references table

[21:05:18.0000] <MikeSmith>
I assumed that means it's one of those that UAs recognize and handle even if they don't have a semicolon

[21:05:43.0000] <MikeSmith>
and somebody who tested told me that yeah IE9 handles it that way as expected

[21:06:07.0000] <MikeSmith>
so anyway what I am wondering is what exactly does IE9 and before not handle corretly

[21:06:40.0000] <MikeSmith>
like, does IE9 not deal with a simpler case like "a=1&b=2" correctly

[21:06:57.0000] <kennyluck>
MikeSmith, so for example, in http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1857

[21:07:04.0000] <MikeSmith>
/me takes a look

[21:07:24.0000] <kennyluck>
IE9 shows "a=1®=2 a=1®=2 Link"

[21:07:51.0000] <kennyluck>
while the standards/Firefox/WebKit say it should be "a=1&reg=2 a=1&reg=2 Link"

[21:08:20.0000] <MikeSmith>
oh ok

[21:08:21.0000] <MikeSmith>
I see

[21:09:04.0000] <MikeSmith>
still that's not a problem with general handling of the simple case

[21:09:11.0000] <kennyluck>
MikeSmith, spec says whenever a semicolon-less entity is encountered in the attribute, there's special handling, and IE9- doesn't do that.

[21:09:26.0000] <MikeSmith>
the non-looks-like-named-character-reference case

[21:09:35.0000] <MikeSmith>
yeah I understand now

[21:09:43.0000] <MikeSmith>
thanks -- wasn't clear to me before

[21:10:19.0000] <MikeSmith>
so for that case in the validator at least we could have it emit a warning I think

[21:10:32.0000] <kennyluck>
MikeSmith, warning or error, yes.

[21:10:34.0000] <MikeSmith>
oh wait

[21:10:38.0000] <MikeSmith>
we already do man

[21:10:43.0000] <MikeSmith>
what am I saying

[21:10:49.0000] <MikeSmith>
yeah we emit an error for that

[21:10:57.0000] <kennyluck>
MikeSmith, yes, the problem is that the spec seems to forbid doing that?

[21:11:04.0000] <MikeSmith>
no

[21:11:07.0000] <MikeSmith>
it doesn't

[21:11:22.0000] <kennyluck>
Since it's not a parse error?

[21:11:31.0000] <MikeSmith>
it says that if you have a match to something in the table but the last character is not a semicolon, then that's a parse error

[21:11:38.0000] <MikeSmith>
it is a parse error

[21:11:46.0000] <MikeSmith>
and we report the parse error

[21:12:13.0000] <MikeSmith>
Henri's HTML parser code does, and then the gets sent on to the validator message reporter

[21:12:22.0000] <MikeSmith>
lemme get you the spec reference

[21:12:36.0000] <MikeSmith>
it's like the second-to-last paragraph

[21:13:15.0000] <MikeSmith>
http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#tokenizing-character-references

[21:13:23.0000] <kennyluck>
MikeSmith, no, I think the spec intentionally leaves this case as non-error. "If the character reference is being consumed as part of an attribute, and the last character matched is not a U+003B SEMICOLON character (;), and the next character is either a U+003D EQUALS SIGN character (=) or in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), U+0041 LATIN CAPITAL LETTER A to U+005A LATIN CAPITAL LETTER Z, or U+0061 LATIN SMALL LETTER A to U+007

[21:13:24.0000] <kennyluck>
LATIN SMALL LETTER Z, then, for historical reasons, all the characters that were matched after the U+0026 AMPERSAND character (&) must be unconsumed, and nothing is returned."

[21:13:36.0000] <MikeSmith>
"Otherwise, a character reference is parsed. If the last character matched is not a U+003B SEMICOLON character (;), there is a parse error."

[21:13:47.0000] <kennyluck>
Note that this paragraph, unlike the others, doesn't have "then this is a parse error."

[21:14:17.0000] <kennyluck>
but this case falls into the "part of an attribute" case.

[21:14:26.0000] <MikeSmith>
ah yeah

[21:14:36.0000] <MikeSmith>
so maybe Hixie just needs to add that same language there

[21:15:31.0000] <MikeSmith>
seems like that should just a parse error

[21:15:34.0000] <kennyluck>
which makes certain sense. When almost all browsers support this special handling, you no longer have any fear in using something like "a=1&reg=2", so it shouldn't be a parse error (at least in the future).

[21:16:17.0000] <MikeSmith>
yeah

[21:16:45.0000] <kennyluck>
But for now, I think it could be a parse error. (If we allow dynamic author conformance, which I don't consider a bad thing)

[21:16:56.0000] <MikeSmith>
the validator and Firefox treat it as a parse error already

[21:17:19.0000] <kennyluck>
s/dynamic/evolving/

[21:17:39.0000] <MikeSmith>
yeah

[21:18:05.0000] <MikeSmith>
if you do View Source on your example from http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=1857 it should mark that stuff in red to show it's a syntax error

[21:18:08.0000] <MikeSmith>
/me tries it

[21:18:59.0000] <kennyluck>
Yeah.

[21:19:38.0000] <MikeSmith>
yeah it does

[21:19:43.0000] <MikeSmith>
that is so cool

[21:20:05.0000] <MikeSmith>
hsivonen++

[21:20:47.0000] <MikeSmith>
anyway I guess that parser is not conformant with the spec right now

[21:21:32.0000] <MikeSmith>
kennyluck: thanks for explaining

[21:21:59.0000] <kennyluck>
MikeSmith, nope.

[21:26:57.0000] <kennyluck>
I kind of think "the next character is either a U+003D EQUALS SIGN character (=) or…" should also include "%" though.

[21:27:36.0000] <MikeSmith>
why?

[21:27:42.0000] <kennyluck>
just for <input name="reg表"> or something this crazy.

[21:28:59.0000] <kennyluck>
which generates a "&reg%E8%A1%A8=…"

[21:28:59.0000] <kennyluck>
Anyway, not an important case that I care enough.

[21:31:33.0000] <MikeSmith>
ok

[21:31:57.0000] <kennyluck>
I do wonder why the spec doesn't just stop parsing semicolon-less entity in attributes.

[22:15:35.0000] <annevk>
kennyluck: some Adobe blog said you're working at Opera, is that true?

[22:15:57.0000] <annevk>
kennyluck: http://blogs.adobe.com/webplatform/2012/10/25/test-the-web-forward-beijing/

[22:16:07.0000] <annevk>
kennyluck: seemed unlikely to me, but who knows

[22:24:16.0000] <MikeSmith>
annevk: maybe "URL-encoded byte"

[22:24:22.0000] <MikeSmith>
sorry for party rocking

[22:24:50.0000] <annevk>
ah yeah, that terminology is not really fixed

[22:24:50.0000] <MikeSmith>
I think we should now use "party rocking" instead "bikeshedding"

[22:24:55.0000] <annevk>
heh

[22:25:26.0000] <MikeSmith>
dude on uri@ says you can only use "bikeshedding" if you're a nuclear scientist

[22:25:58.0000] <annevk>
and I used "The" because for some reason I ended up using "The" for all of them

[22:26:12.0000] <annevk>
I'm happy for a native speaker to reword to patch all of that a bit

[22:29:05.0000] <MikeSmith>
I'm sure somebody more OCD than me will eventually give you a bunch of suggestions

[22:30:09.0000] <annevk>
only invalid ports and relative URLs resolved against URLs without a relative schemes cause the parser to halt at this point

[22:30:22.0000] <annevk>
I think there's a few host-related errors that do the same, but that's surprisingly few

[22:31:15.0000] <MikeSmith>
yeah

[22:33:17.0000] <MikeSmith>
hmm but also for no scheme, right?

[22:33:53.0000] <MikeSmith>
"If base URL is null, or base URL's scheme is not a relative scheme, invalidate."

[22:34:11.0000] <annevk>
yeah, that's the relative URL case I mentioned

[22:34:33.0000] <annevk>
when you parse a relative URL you start out by parsing the scheme, because you don't know it's a relative URL just yet

[22:35:05.0000] <annevk>
you know it's a relative URL because it does not start with something that's a scheme

[22:35:14.0000] <MikeSmith>
ah ok

[22:36:54.0000] <annevk>
GPHemsley: please call them bytes

[22:46:44.0000] <annevk>
http://www.communitywiki.org/DoOcracy is nice

[22:46:50.0000] <annevk>
thanks abarth for the new word

[22:49:34.0000] <abarth>
annevk: you're welcome :)

[22:50:23.0000] <annevk>
abarth: did you ever fully figure out file URLs btw?

[22:50:28.0000] <annevk>
ah, good night

[23:02:35.0000] <annevk>
http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Sep/0305.html

[23:02:41.0000] <annevk>
it doesn't seem too complex

[23:02:53.0000] <annevk>
anyone know what other URLs Gecko has this "no authority" thing for?

[23:03:33.0000] <annevk>
per http://www.cs.tut.fi/~jkorpela/fileurl.html stripping the host away btw seems like a problem

[23:05:19.0000] <MikeSmith>
I'm wondering if it would be better to just not spec file URLs at all

[23:05:47.0000] <MikeSmith>
they're not really portable anyway

[23:05:59.0000] <MikeSmith>
not something you share with somebody else

[23:06:29.0000] <MikeSmith>
so not clear what real utility they have anyway

[23:06:39.0000] <MikeSmith>
or what need there is for interoperability

[23:07:48.0000] <MikeSmith>
I mean I don't even expect that I can take a file URL that Firefox shows me in its address bar, and copy & paste that into my Chrome address bar and necessary expect that it'll work

[23:08:36.0000] <MikeSmith>
I realize there are other cases like using command-line utils with file URLs

[23:27:45.0000] <annevk>
I don't want the API to be unpredictable for a very tiny subset of URLs

[23:28:04.0000] <annevk>
and the parser already covers most of the things such as treating \ and / equivalent

[23:28:30.0000] <annevk>
a few of the things bz mentions are about further processing file URLs, we don't have to specify that

[23:30:12.0000] <annevk>
we just want to define what new URL("file:" + anything).href and new URL(anything, "file:" + anything2).href return

[23:31:45.0000] <annevk>
benschwarz: http://developers.whatwg.org/ has no style sheet?

[23:31:55.0000] <annevk>
benschwarz: https://twitter.com/RPKaper/status/261638622061686785

[23:33:19.0000] <benschwarz>
annevk: hmm. thanks for the heads up

[23:33:21.0000] <benschwarz>
checking it out

[23:35:15.0000] <MikeSmith>
annevk: yeah fair enough

[23:37:04.0000] <benschwarz>
annevk: look better now?

[23:37:26.0000] <annevk>
benschwarz: works, thanks

[23:37:33.0000] <benschwarz>
no idea.

[23:37:37.0000] <benschwarz>
just regenerated and deployed

[23:37:50.0000] <a-ja>
WFM now too

[23:38:31.0000] <annevk>
benschwarz: btw, we have https://github.com/whatwg now, but I guess the setup as you have it now works fine

[23:46:13.0000] <benschwarz>
annevk: it probably needs a bit of love, but yeah, as long as I don't die… its fine

[23:56:55.0000] <annevk>
Ms2ger? Why does XPathEvaluator have a constructor rather being replaced with "partial Document"? Also, why do I care? Reference: http://wiki.whatwg.org/wiki/DOM_XPath

[00:02:22.0000] <annevk>
MikeSmith: btw, I called it a URL byte because percent escape does not tell you at all you're actually looking at a byte

[00:02:56.0000] <MikeSmith>
yeah understood

[00:03:16.0000] <annevk>
anecdotal evidence suggests developers think they're looking at characters

[00:03:45.0000] <MikeSmith>
elsewhere they're called "percent-encoded octets"

[00:04:20.0000] <MikeSmith>
so bytes is better than octets

[00:04:43.0000] <MikeSmith>
but I think what "URL byte" is missing is the fact that they're encoded

[00:05:22.0000] <MikeSmith>
but anyway in practice people talk about "URL encoding" stuff

[00:05:40.0000] <MikeSmith>
more than "percent-encoding"

[00:05:56.0000] <MikeSmith>
so "a URL-encoded byte" seems clear

[00:06:48.0000] <annevk>
fair enough, will do that

[00:07:58.0000] <annevk>
MikeSmith: would this work for the algorithm then: "To URL-encode a byte /byte/ into a *URL-encoded byte*, run these steps:"

[00:08:14.0000] <annevk>
or would that be "To URL encode" sans hyphen?

[00:11:32.0000] <MikeSmith>
sans hyphen is OK

[00:11:33.0000] <MikeSmith>
b

[00:11:48.0000] <MikeSmith>
because it's not ambiguous

[00:12:15.0000] <MikeSmith>
the purpose of adding a hyphen is usually just to make it grammatically unambiguous

[00:13:16.0000] <MikeSmith>
usually for compound words that are used as adjectives

[00:13:17.0000] <annevk>
actually, might have to call it percent-encoded byte after all, it's also used for host names

[00:13:24.0000] <MikeSmith>
ah

[00:13:46.0000] <MikeSmith>
makes sense

[00:14:02.0000] <MikeSmith>
byte is still better than octet at least

[00:14:24.0000] <annevk>
not sure what to call URL units then

[00:14:33.0000] <MikeSmith>
I never have understood in what real-world normal cases something that's an octet is not a byte

[00:14:39.0000] <annevk>
or maybe it's fine to use URL as a term even for host names

[00:15:00.0000] <annevk>
MikeSmith: I think Chris Lilley gave me an example, but I might misremember

[00:15:07.0000] <MikeSmith>
ah OK

[00:15:12.0000] <annevk>
something ancient

[00:15:17.0000] <MikeSmith>
yeah

[00:15:26.0000] <MikeSmith>
I guess Richard probably knows some

[00:15:58.0000] <MikeSmith>
URL units is same as what RFCs call unreserved, right?

[00:16:03.0000] <annevk>
Encoding Standard defines it as having room for 256, i.e. 8 bits

[00:16:11.0000] <annevk>
MikeSmith: not entirely

[00:16:14.0000] <MikeSmith>
unreserved chars

[00:16:15.0000] <MikeSmith>
o

[00:16:18.0000] <MikeSmith>
oh OK

[00:16:49.0000] <annevk>
sub-delims, iunreserved, iquery/ifragment, ipchar

[00:17:06.0000] <annevk>
I made URL units the superset and then added local restrictions

[00:17:20.0000] <annevk>
that seemed way more clear then the ABNF thing

[00:19:24.0000] <annevk>
MikeSmith: e.g. userinfo is pchar, it just lacks @ so it has a way more complicated production instead, and they all do stuff like that while the difference is only a character or two

[00:20:13.0000] <MikeSmith>
OK

[00:20:35.0000] <MikeSmith>
and I hear you about being clearer than ABNF

[00:28:20.0000] <kennyluck>
annevk, (re. some Adobe blog said you're working at Opera, is that true?) more or less. It's more like a joint venture of Opera and another Chinese company.

[00:33:32.0000] <annevk>
kennyluck: congrats then, thought you were still at the W3C

[00:34:21.0000] <kennyluck>
annevk, oh ok.

[00:41:27.0000] <Ms3ger>
/me waves at shepazu 

[00:41:43.0000] <Ms3ger>
annevk: because everyone implements the constructor, I think

[00:43:19.0000] <Ms3ger>
annevk: I found a Mozilla test that happened to rely on that, so I thought I might as well document that somewhere

[00:43:27.0000] <annevk>
Ms3ger: so I guess we need to add Document implements XPathEvaluator; to that fragment too

[00:43:42.0000] <annevk>
Ms3ger: Opera implements the constructor too

[00:43:56.0000] <annevk>
so does Chrome

[00:44:50.0000] <Ms3ger>
annevk: looks that way for implements

[00:44:59.0000] <MikeSmith>
Ms3ger: btw GPHemsley was asking earlier what the rfc.json file was for

[00:45:00.0000] <annevk>
i'll add that

[00:45:08.0000] <Ms3ger>
annevk: thanks :)

[02:37:15.0000] <annevk>
tantek's URL breakdown does not cover userinfo much :/

[04:01:15.0000] <annevk>
quite pleased with my UTFString invention

[04:01:21.0000] <annevk>
now I just need heycam to write it down

[04:02:05.0000] <SimonSapin>
annevk: can we read about this somewhere yet?

[04:02:23.0000] <annevk>
sorry, http://lists.w3.org/Archives/Public/public-script-coord/2012OctDec/0082.html

[04:02:56.0000] <SimonSapin>
sounds good

[04:32:45.0000] <annevk>
there's even less conversion towards STD 66 for URLs without relative schemes

[04:33:28.0000] <annevk>
afaict only code points lower than U+0020 (not including!) and higher than U+007E are escaped for e.g. mailto:, random: etc.

[04:36:50.0000] <annevk>
oh what the fuck

[04:37:40.0000] <annevk>
for URLs with a relative scheme Chrome does not escape fragment code points higher than U+007E but they do for URLs without relative scheme

[04:37:45.0000] <annevk>
that's some crazy right there

[04:45:12.0000] <MikeSmith>
weird

[04:52:55.0000] <MikeSmith>
Velmont: I will set up GH mirroring for the webapps repo but for the webappsec one I guess I should ask the chairs of that group first

[05:04:40.0000] <annevk>
MikeSmith: did you end up posting to that list?

[05:05:44.0000] <MikeSmith>
no not yet

[06:17:33.0000] <gsnedders>
Velmont: No easy way, because script execution has to happen during parsing.

[06:17:40.0000] <gsnedders>
Velmont: c.f. document.write, etc.

[07:13:57.0000] <annevk>
hacking validation in the parser has a few tricky corner cases

[07:14:38.0000] <annevk>
maybe I should write it out in JavaScript first

[07:22:07.0000] <hsivonen>
any recommendations for an Android text editor

[07:22:20.0000] <hsivonen>
?

[07:23:00.0000] <gsnedders>
Jota seems to be decent, for what I've used it for.

[07:23:16.0000] <gsnedders>
How much editing are you doing, and what sort?

[07:27:05.0000] <MikeSmith>
hsivonen: I've never used a text editor on Android. Would be nice if there were an Android version of iAWriter

[07:27:19.0000] <hsivonen>
oh no. memes are offline.

[07:27:46.0000] <hsivonen>
gsnedders: not much and of the sort of tweaking config files or the like

[07:28:23.0000] <gsnedders>
Then Jota gets my vote.

[07:28:52.0000] <hsivonen>
hmm. there’s Jota and Jota+

[07:29:02.0000] <hsivonen>
what’s its business model, BTW?

[07:30:09.0000] <hsivonen>
Maybe Jota is for Android < 2.2 and Jota+ is for Android >= 2.2

[07:30:45.0000] <gsnedders>
No idea, can't remember off hand.

[07:32:21.0000] <hsivonen>
gsnedders: thanks

[07:34:17.0000] <hsivonen>
whoa. the W3C has finally gotten https for https://lists.w3.org/Archives/Member/

[07:35:41.0000] <hsivonen>
/me wonders if Member-only pages on www.w3.org are now behind https

[07:36:52.0000] <annevk>
hsivonen: /Member/ does redirect

[07:37:01.0000] <hsivonen>
at least dbmg is behind https now

[07:37:11.0000] <Lachy>
annevk, yes, it does

[07:37:33.0000] <hsivonen>
/me didn’t know about /Member/

[07:37:41.0000] <annevk>
so does /Style/Group/CSS/

[07:38:18.0000] <annevk>
don't really recall any other Member-only links

[07:40:55.0000] <annevk>
hober: abarth: file:test/ parses in a buggy way

[07:42:39.0000] <annevk>
Does anyone know why Mozilla always kills the authority component in a file URL?

[07:46:32.0000] <hsivonen>
annevk: if you want to know about file: URLs in Gecko, you need to ask bz

[07:46:54.0000] <annevk>
I have an email from him on file, maybe a pointer to the codebase is sufficient

[07:49:32.0000] <hsivonen>
fun. there a 4 implementations

[07:49:42.0000] <hsivonen>
OS/2, OS X, Unix and Windows

[07:50:03.0000] <hsivonen>
https://mxr.mozilla.org/mozilla-central/source/netwerk/base/src/nsURLHelperWin.cpp#50

[07:50:10.0000] <hsivonen>
https://mxr.mozilla.org/mozilla-central/source/netwerk/base/src/nsURLHelperOS2.cpp#48

[07:50:18.0000] <hsivonen>
https://mxr.mozilla.org/mozilla-central/source/netwerk/base/src/nsURLHelperOSX.cpp#144

[07:50:30.0000] <hsivonen>
https://mxr.mozilla.org/mozilla-central/source/netwerk/base/src/nsURLHelperUnix.cpp#51

[07:50:42.0000] <hsivonen>
annevk: ^

[07:51:10.0000] <annevk>
oh my

[07:51:46.0000] <hsivonen>
s/there a/there are/

[07:52:40.0000] <annevk>
wait, I think this is after parsing

[07:54:58.0000] <annevk>
http://mxr.mozilla.org/mozilla-central/source/netwerk/base/src/nsURLHelper.cpp#147 looks like it's it

[07:55:11.0000] <annevk>
(the actual parser)

[07:56:09.0000] <annevk>
hmm, Gecko's URL implementation is weiiird

[07:56:27.0000] <Ms2ger>
annevk, well, it's Gecko :)

[07:57:10.0000] <annevk>
I think I got most of the file URL logic except that // means authority and anything else means empty authority

[07:57:19.0000] <annevk>
it seems that everyone but Opera has that

[07:57:37.0000] <annevk>
and then I guess there's the Windows C: drives thing, not sure what to do with those

[07:57:51.0000] <annevk>
would be a bit weird to special case Windows in the spec

[08:13:00.0000] <GPHemsley>
annevk: The use of "octet" is a pre-existing condition. I'd be happy to reference another spec, but I didn't think the encoding definition was specific enough.

[08:13:16.0000] <GPHemsley>
/me wonders if we shouldn't have a special spec just for common definitions

[08:14:45.0000] <GPHemsley>
Hixie: Is there an easy way to discover exactly where in the HTML spec the sub-algorithms are referenced?

[08:15:57.0000] <annevk>
GPHemsley: pre-existing?

[08:16:04.0000] <annevk>
GPHemsley: oh you mean Adam was using that already?

[08:16:59.0000] <GPHemsley>
/me disagrees with MikeSmith's assessment that "in practice people talk about "URL encoding" stuff more than "percent-encoding""

[08:17:16.0000] <annevk>
GPHemsley: if you think the definition of "byte" has a bug, you should file a bug

[08:18:34.0000] <GPHemsley>
Wikipedia suggests that the use of octet was to get around the fact that "byte" could be 6, 7, 8, etc. bits long, depending on usage

[08:19:15.0000] <annevk>
I know, but that's ancient and people call it a byte these days

[08:19:31.0000] <annevk>
(I used octet before in the Encoding Standard)

[08:22:45.0000] <GPHemsley>
So, you're saying that bytes are nowadays already assumed to have 8 bits?

[08:23:29.0000] <annevk>
no, I should prolly make that explicit as you did

[08:23:34.0000] <SimonSapin>
we use octet in French, and I learned byte as the translation

[08:23:36.0000] <GPHemsley>
Also, it seems to are deliberately avoiding actually defining 'byte' in the encoding spec. What's the motivation there?

[08:23:36.0000] <annevk>
I'm saying we should use the term byte, everywhere

[08:23:37.0000] <GPHemsley>
ah

[08:24:07.0000] <hsivonen>
octet is IETF speak. everyone else says byte

[08:24:32.0000] <GPHemsley>
annevk: Alright, let me know when you update encoding

[08:24:44.0000] <GPHemsley>
Incidentally, do you link every instance of 'byte' back to the definition?

[08:24:48.0000] <annevk>
no

[08:26:01.0000] <GPHemsley>
should one?

[08:26:25.0000] <annevk>
GPHemsley: not sure, you'd get a lot of links :)

[08:26:32.0000] <annevk>
GPHemsley: not sure about code point and string either

[08:26:51.0000] <annevk>
GPHemsley: feel free to experiment and see how it goes :)

[08:26:59.0000] <annevk>
GPHemsley: fixed encoding btw

[08:27:03.0000] <GPHemsley>
k

[08:27:07.0000] <GPHemsley>
I'll update in a moment

[08:28:10.0000] <GPHemsley>
I'm wondering whether the Unicode-based definitions are appropriate for mimesniff

[08:28:17.0000] <GPHemsley>
because they're dealing directly with the bytestream

[08:28:26.0000] <GPHemsley>
s/they're/it's/

[08:28:51.0000] <annevk>
you can just use your own definitions

[08:29:15.0000] <GPHemsley>
ok

[08:29:31.0000] <GPHemsley>
do you think the ones I have are good enough?

[08:29:33.0000] <annevk>
but keep them in sync, maybe at some point we'll write draft for all these simple terms

[08:29:41.0000] <GPHemsley>
ok

[08:32:26.0000] <annevk>
GPHemsley: I would say The C bytes are bytes x, y, and z.

[08:32:35.0000] <annevk>
talking about the value of a byte seems cumbersome

[08:33:11.0000] <GPHemsley>
ok

[08:34:35.0000] <annevk>
and one last bit of advice, if you disagree with something in a spec, please do raise it :)

[08:34:51.0000] <GPHemsley>
alright

[08:34:59.0000] <GPHemsley>
it wasn't like I was hanging on to it for a while

[08:36:22.0000] <annevk>
fair enough

[08:43:52.0000] <annevk>
TabAtkins: you need to deal with lone surrogates

[08:44:19.0000] <annevk>
TabAtkins: at least, http://lists.w3.org/Archives/Public/www-style/2012Oct/0689.html suggests you don't

[08:58:02.0000] <GPHemsley>
Ms2ger: Is there any chance you can document all the fancy things that Anolis does?

[08:58:20.0000] <annevk>
has anyone developed a clever filter yet for emails such as http://lists.w3.org/Archives/Public/public-webapps/2012OctDec/0272.html ?

[08:59:32.0000] <Ms2ger>
GPHemsley, a rather small one :)

[08:59:39.0000] <Ms2ger>
GPHemsley, you found the readme?

[09:17:19.0000] <annevk>
hmm, no strict parser yet, but I think I have figured out how to put file URLs in the parser

[09:17:26.0000] <annevk>
but also no commit for that

[09:24:40.0000] <GPHemsley>
Ms2ger: Oh, no, I didn't actually try looking first. That's silly. ;)

[09:30:47.0000] <[tm]>
deep into a shochu session here. probably a good time for me to post some replies on the uri⊙w thread

[09:33:41.0000] <[tm]>
either that our email www-archive and www-tag to complain that Hixie is the antichrist

[09:34:15.0000] <Ms2ger>
Trying to get him a pay raise, eh?

[09:34:19.0000] <GPHemsley>
annevk: It'd probably be useful if you spelled out precisely which terms in url are used as defined in encoding

[09:35:13.0000] <GPHemsley>
Ms2ger: What do we do with plurals?

[09:35:22.0000] <Ms2ger>
Sorry?

[09:35:38.0000] <GPHemsley>
like, if I define a term as singular and then want to mark up a plural instance

[09:35:55.0000] <Ms2ger>
<span title=singular>plural</span>

[09:35:55.0000] <GPHemsley>
<dfn>byte</dfn> <span>bytes</span>

[09:36:01.0000] <GPHemsley>
ah, ok

[10:00:06.0000] <annevk>
GPHemsley: I don't care for that, too much work and they are linked anyway

[10:00:13.0000] <annevk>
maybe once everything is done

[10:00:32.0000] <GPHemsley>
well, until then, it's an almost useless statement, IMO

[10:01:48.0000] <GPHemsley>
s/useless/redundant/, if you like

[10:02:55.0000] <Hixie>
GPHemsley: find in page?

[10:03:22.0000] <GPHemsley>
Hixie: hmm?

[10:03:39.0000] <Hixie>
GPHemsley: how to find use of an algorithm

[10:04:07.0000] <GPHemsley>
ah

[10:04:16.0000] <GPHemsley>
that's not the easiest possible way

[10:05:31.0000] <Hixie>
try looking for the first reference to mimesniff

[10:05:40.0000] <Hixie>
maybe there's some <dfn>s you can click on

[10:05:42.0000] <Hixie>
no guarantee though

[10:08:18.0000] <GPHemsley>
alright

[10:09:17.0000] <Hixie>
actually just looking for the string [mimesniff] should find you most references

[10:12:06.0000] <Ms2ger>
GPHemsley, it's kinda hard to figure out where the ref should go, and I kinda like the idea of making cross-doc dependencies explicit

[10:12:32.0000] <GPHemsley>
Ms2ger: What do you mean? If it's declared once in the file, shouldn't that be enough?

[10:12:47.0000] <Ms2ger>
Anyway, off for a bit

[10:13:15.0000] <GPHemsley>
Because you already can't have a local term that has the same name as an external term

[10:17:29.0000] <Ms2ger>
A kind of from foo import bar, then?

[10:27:55.0000] <GPHemsley>
Ms2ger: If that's only an analogy, then yes, I suppose.

[10:28:07.0000] <Ms2ger>
Mm

[10:28:12.0000] <Ms2ger>
Patches welcome, I guess ;)

[10:28:15.0000] <GPHemsley>
heh

[10:28:49.0000] <Ms2ger>
The current situation is a local optimum for me :)

[10:28:54.0000] <GPHemsley>
perhaps <dfn data-anolis-ref>

[10:29:01.0000] <GPHemsley>
err

[10:29:05.0000] <GPHemsley>
perhaps <dfn data-anolis-spec>

[10:29:36.0000] <Ms2ger>
Mm, and then strip those dfn nodes?

[10:30:06.0000] <GPHemsley>
<dfn data-anolis-spec> would be treated like <span data-anolis-spec> is now

[10:30:18.0000] <GPHemsley>
and then <span> will be the same for both local and external terms

[10:52:56.0000] <GPHemsley>
is 'retrieve' an OK term to use for obtaining a file, or should I use 'fetch'?

[10:53:28.0000] <Ms2ger>
Probably avoid 'fetch' if you don't mean the one in HTML

[10:57:32.0000] <GPHemsley>
ok

[11:49:21.0000] <GPHemsley>
FYI: You can now follow mimesniff commits by following @mimesniff on Twitter.

[11:52:06.0000] <annevk>
GPHemsley: to define byte is redundant?

[11:52:19.0000] <annevk>
GPHemsley: I think defining the primitives is quite useful

[11:52:38.0000] <GPHemsley>
no, I was referring to the mention of the Encoding Standard in URL

[11:53:12.0000] <GPHemsley>
"Some terms used in this specification are defined in the Encoding Standard." is useless and/or redundant without specifying exactly which terms

[11:53:22.0000] <GPHemsley>
IMO

[11:54:39.0000] <annevk>
it's just to get it in the references section, for people who prefer to see the dependencies

[11:54:46.0000] <annevk>
that's mostly the reason

[11:54:50.0000] <GPHemsley>
ah, I see

[11:55:06.0000] <GPHemsley>
still, I think it'd be better if you specified exactly which terms

[11:55:19.0000] <GPHemsley>
and if Ms2ger happens to implement my feature suggestion, it would simplify things even more

[11:55:44.0000] <annevk>
I don't want to keep updating boilerplate text

[11:55:55.0000] <annevk>
indicating which specifications you need to have prior knowledge of is useful

[11:56:11.0000] <annevk>
me having to keep track of which terms I use exactly is busy work

[11:56:27.0000] <GPHemsley>
hmm

[11:56:45.0000] <GPHemsley>
I don't think I agree with you on that point

[11:57:36.0000] <annevk>
I'm happy to discuss technical matters, editorial matters I'm much less interested in debating

[12:00:24.0000] <GPHemsley>
very well

[12:00:37.0000] <GPHemsley>
in that case, any thoughts on my most recent commits?

[12:07:23.0000] <GPHemsley>
d'oh

[12:15:15.0000] <annevk>
GPHemsley: fwiw, what you suggested can prolly be automated by implementing some kind of "<!--terms-->" directive in Anolis

[12:15:24.0000] <annevk>
GPHemsley: if someone does that I'm happy to use it in my specs

[12:17:16.0000] <annevk>
Velmont: didn't dare to mention green? :p

[12:19:29.0000] <Hixie>
this is fasciating. Shelley is so pissed at me that even when I agree with her, she says i'm wrong.

[12:19:30.0000] <annevk>
GPHemsley: HTTP does not define media types, it's some other RFC that HTTP references

[12:20:38.0000] <annevk>
GPHemsley: <p class=note> and MUST NOT do not go together

[12:21:17.0000] <annevk>
GPHemsley: I'm not sure if we use "file" or "resource"; I think we use "resource" and I think HTTP headers are considered to be part of the "resource"

[12:21:39.0000] <annevk>
that was for https://github.com/whatwg/mimesniff/commit/a074d56faecd1d7f9c2558e21b63747248d22e97

[12:22:07.0000] <Hixie>
I use "resource" to mean a bag of bits, e.g. the body of an HTTP response. The headers are associated with the resource, but aren't the resource itself.

[12:23:32.0000] <annevk>
ah yeah

[12:24:38.0000] <annevk>
GPHemsley: is your idea for the twitter accounts to make them follow their dependencies?

[12:24:51.0000] <annevk>
GPHemsley: because that seems like a nice inside joke :)

[12:46:39.0000] <annevk>
not sure why I calculated this, but four years from now the WHATWG will have existed for half the length of the existence of the web at that point

[12:49:32.0000] <Hixie>
ok so appcache interceptor idea

[12:49:47.0000] <Hixie>
appcache contains a reference to a JS file

[12:50:12.0000] <Hixie>
when the appcache is complete and has a declared interceptor, the networking model changes to a third model that just does this:

[12:50:17.0000] <Hixie>
launch a dedicated worker

[12:50:36.0000] <Hixie>
each time there's a network request, post the request to the worker in a defined way

[12:50:59.0000] <Hixie>
e.g. as a { url: '', headers: [], body: '' } object

[12:51:19.0000] <Hixie>
and a port with the request

[12:52:03.0000] <Hixie>
the worker then, at its leisure, sends the data back through that port, in the form of one or more messages whose payloads are strings

[12:52:17.0000] <Hixie>
the payload is concatenated together and treated like an HTTP response

[12:52:37.0000] <Hixie>
and there's some defined way to end the connection, e.g. sending a payload of 'null' or something

[12:52:47.0000] <annevk>
I always wondered why that wasn't there

[12:54:08.0000] <annevk>
but if the worker does not have a DOM, that might suck...

[12:54:09.0000] <Hixie>
maybe a shared worker instead of a dedicated worker

[12:54:46.0000] <annevk>
I mean we always tell people to use a DOM, and then suddenly we give them string concat to produce HTML

[12:54:53.0000] <annevk>
security guys are gonna have a field day with that

[12:55:01.0000] <annevk>
or field years, more likely

[12:55:08.0000] <Hixie>
agreed but i dunno what to do about that

[12:55:36.0000] <Hixie>
though actually, maybe this can't actually be used for HTML anyway

[12:55:52.0000] <Hixie>
so that's a non-issue

[12:56:15.0000] <Hixie>
since any time you would use HTML, you don't yet have a cache and worker to get the data from

[12:57:48.0000] <annevk>
but you'd want to use HTML for this...

[12:59:04.0000] <annevk>
in fact I think people may even prefer sometimes using something like this over pushState() even when network is available as it makes it much easier to separate server and client logic

[13:05:58.0000] <GPHemsley>
annevk: Indeed, that was the idea (re followees). :)

[13:06:40.0000] <annevk>
@encodings is going to be popular

[13:06:42.0000] <GPHemsley>
annevk, Hixie: So, should keep 'file' or switch to 'resource'?

[13:06:52.0000] <GPHemsley>
heh

[13:07:10.0000] <GPHemsley>
+I

[13:07:16.0000] <annevk>
resource as bag of bits seems cleaner

[13:07:34.0000] <GPHemsley>
ok

[13:08:21.0000] <annevk>
hahahaha http://krijnhoetmer.nl/irc-logs/whatwg/20121026#l-783

[13:08:32.0000] <annevk>
I need to get to Tokyo somehow

[13:15:16.0000] <mmiller_>
TabAtkins: hey dude, I'm trying to use your CSS parser to parse jQuery-ui, and I'm running into an error Unknown state 'url-unquote'. Is it a known issue.

[13:15:34.0000] <mmiller_>
Is that a known issue?

[13:16:22.0000] <GPHemsley>
annevk: HTTP defines what it means to be a valid media type, syntactically.

[13:16:31.0000] <annevk>
https://mxr.mozilla.org/mozilla-central/source/netwerk/base/public/nsIStandardURL.idl does not seem to cover mailto: very weird

[13:16:57.0000] <GPHemsley>
Hixie: Do you explicitly define 'resource' somewhere?

[13:17:19.0000] <annevk>
GPHemsley: could be, I haven't checked, but it could also be that it just defines the constrained HTTP syntax, but that might be all you need

[13:17:39.0000] <GPHemsley>
indeed, I think it is

[13:17:49.0000] <GPHemsley>
       media-type     = type "/" subtype *( ";" parameter )

[13:17:49.0000] <GPHemsley>
       type           = token

[13:17:50.0000] <GPHemsley>
       subtype        = token

[13:17:57.0000] <GPHemsley>
that's all

[13:18:28.0000] <annevk>
well and whatever token is, and that you can have whitespace between those tokens because of some text somewhere in HTTP

[13:18:51.0000] <annevk>
and that for finding the charset parameter it's not entirely followed iirc

[13:19:00.0000] <annevk>
MIME types are a can of worms

[13:19:17.0000] <GPHemsley>
annevk: As for note + MUST NOT, what do you recommend?

[13:19:49.0000] <annevk>
GPHemsley: just say "are not used" because the specification already makes the requirement by not allowing it

[13:19:55.0000] <GPHemsley>
ok

[13:20:57.0000] <GPHemsley>
ah, interesting

[13:21:08.0000] <annevk>
"official" sounds kinda lame btw, can't you just say, to determine the "media type" of a file?

[13:21:09.0000] <GPHemsley>
I didn't pick up on the whitespace issue

[13:21:19.0000] <GPHemsley>
annevk: We have two different fversions of that

[13:22:03.0000] <GPHemsley>
there's the media type as told to us by the server, and then there's the media type that we detect from the actual bytes

[13:22:25.0000] <GPHemsley>
i.e. "official media type" vs. "sniffed media type"

[13:22:50.0000] <annevk>
I'd go with "media type" and "sniffed media type" (or "actual media type")

[13:23:01.0000] <GPHemsley>
alright

[13:23:03.0000] <annevk>
it's not official if it's ignored :)

[13:23:12.0000] <GPHemsley>
I was just building off of the existing text here

[13:24:32.0000] <GPHemsley>
oh, but then that conflicts with my other definition of "media type"

[13:24:51.0000] <GPHemsley>
maybe suggested?

[13:27:28.0000] <GPHemsley>
annevk: "suggested media type" vs. "actual media type"?

[13:28:14.0000] <annevk>
GPHemsley: "specified"

[13:28:34.0000] <GPHemsley>
ok

[13:28:36.0000] <annevk>
oh man, now I'm editorializing

[13:28:43.0000] <annevk>
I better focus on something else :)

[13:29:05.0000] <annevk>
like reading https://mxr.mozilla.org/mozilla-central/source/netwerk/base/public/nsIStandardURL.idl again

[13:29:09.0000] <annevk>
still looks weird

[13:29:41.0000] <annevk>
ooh, I suppose mailto is not a "standard URL"

[13:32:29.0000] <annevk>
Is https://mxr.mozilla.org/mozilla-central/ident?i=getRelativeSpec actually used? does not seem exposed to the platform

[13:32:33.0000] <annevk>
interesting function though

[14:16:56.0000] <GPHemsley>
File Anolis bug so no one forgets: https://bitbucket.org/ms2ger/anolis/issue/7/support-external-definition-dependencies

[14:17:00.0000] <GPHemsley>
+d

[15:22:43.0000] <GPHemsley>
gee, this place sure empties out on a Friday afternoon...

[15:33:29.0000] <Hixie>
GPHemsley: i try to avoid having anything depend on the exist meaning of the word "resource", but the html spec has some handwaving about it somewhere

[15:34:23.0000] <Hixie>
GPHemsley: in particular, things to be wary of (and reasons not to use the term "file") include that resources can be infinite, that they might have no name or metadata, that they might be finite but slow (e.g. 10 bytes spread over 10 seconds, impossible to get quicker), etc

[15:52:02.0000] <Hixie>
hmmmmmmm.

[15:52:14.0000] <Hixie>
i wonder if instead of a shared or dedicated worker, it should be a new kind of worker

[15:52:28.0000] <Hixie>
ApplicationCacheInterceptWorkerGlobalScope or something

[15:53:20.0000] <Hixie>
it wouldn't be something you can _directly_ communicate with, but you could have it connect to a shared worker and share stuff that way

[16:06:14.0000] <Hixie>
are XHR headers ordered? anyone know?

[16:06:48.0000] <Hixie>
looks like yes

[16:07:05.0000] <Hixie>
i wonder if it's ok to drop the sort order for request headers across names

[16:08:30.0000] <Velmont>
21:18 < annevk> Velmont: didn't dare to mention green? :p

[16:09:27.0000] <Velmont>
annevk: Hehe... I was actually more specifically talking about IndexedDB, and this was specifically for writing tests, so no wonder they should use the real (ED) version.

[16:10:13.0000] <Velmont>
annevk: But I did say «Don't ever see blue, like ever, this should always be red. If it's blue, you're looking at some outdated old crap» <-- something like that.

[16:10:20.0000] <Velmont>
Fired people up well and good ;-P


2012-10-27
[20:38:15.0000] <GPHemsley>
hmm... it seems I may not be the only one to allow "application/octet-stream" fall victim to find and replace

[20:39:53.0000] <GPHemsley>
"there actually are hardware architectures where one

[20:39:53.0000] <GPHemsley>
byte is 32 bits"

[20:40:49.0000] <GPHemsley>
his hardware architecture has a big byte, if you know what I mean

[20:41:11.0000] <zewt>
do i have to make the sir mixalot joke

[20:49:26.0000] <JonathanNeal>
What are the pros and cons of dropping the <ul> and </li> in an HTML structure like <nav><a href="1">1</a><a href="2">2</a><a href="3">3</a></nav>?

[20:51:43.0000] <GPHemsley>
Hixie: Does HTML use xref? I see MIMESNIFF in HTML, but it's not in references.json.

[20:55:17.0000] <GPHemsley>
Hixie: Also, what is this? http://www.whatwg.org/specs/web-apps/current-work/epub.html

[23:25:50.0000] <annevk>
GPHemsley: it doesn't

[23:43:09.0000] <annevk>
anyone awake that can help sketching a path API?

[23:43:34.0000] <annevk>
it's effectively a list of strings, but you also want to set them

[23:46:23.0000] <annevk>
URLPath -> list of URLPathSegment -> URLPathSegment.segment; .path[0].segment = ? it seems so cumbersome

[23:47:06.0000] <annevk>
and I guess you want a shortcut for the last segment, should we call that filename? ...

[23:47:08.0000] <annevk>
meh

[23:50:06.0000] <annevk>
could also do getPath and setPath

[23:50:29.0000] <annevk>
getPath returns a list, setPath takes the ... thingie

[23:50:33.0000] <annevk>
(keep forgetting the name)

[23:54:48.0000] <SimonSapin>
annevk: the last segment could be basename

[23:55:48.0000] <annevk>
ah interesting

[23:57:20.0000] <SimonSapin>
that’s how it’s called at least in unix and python

[23:59:06.0000] <SimonSapin>
annevk: what else do you want in this API? Set individual segments?

[23:59:58.0000] <annevk>
yeah, just give people some more control over URLs

[00:00:23.0000] <annevk>
I think the get/setPath thingie might be good enough, but if there's a better alternative...

[00:01:18.0000] <SimonSapin>
dirname is the complement to basename; not sure if it is useful

[00:01:36.0000] <SimonSapin>
you can already parse ".." with the previous URL as the base

[00:03:20.0000] <annevk>
relPathname might be interesting, resolves the new path against the old path, returns the same as pathname

[00:05:18.0000] <annevk>
I emailed a bit with Rodney from http://medialize.github.com/URI.js/

[00:05:58.0000] <annevk>
he suggested that on the server you want to have an API for the "effective TLD" (publicsuffix.org)

[00:06:12.0000] <annevk>
not sure how much usage that would have client-side

[00:06:52.0000] <annevk>
e.g. that if you have "amazon.co.uk" in your URL and you do something like URL.effectiveTLD = "com"

[00:06:58.0000] <annevk>
and you end up with amazon.com

[00:07:23.0000] <annevk>
I guess I can note it down

[00:08:07.0000] <annevk>
prolly also useful for cookies

[00:22:31.0000] <annevk>
arv: feedback welcome on https://github.com/whatwg/url/commit/e68d34885b7ec3dc44d7124e93de5bd5f1718e4e

[00:22:35.0000] <annevk>
abarth: ^^

[00:28:51.0000] <abarth>
annevk: please no effectiveTLD

[00:28:57.0000] <abarth>
annevk: that needs to die in a fire

[00:29:01.0000] <abarth>
its not interoperable

[00:29:19.0000] <annevk>
how can it die without security problems?

[00:29:33.0000] <abarth>
we shouldn't expose it in the API

[00:29:40.0000] <abarth>
its bad enough that we use it for cookies

[00:29:47.0000] <abarth>
we shouldn't be using it in new places in the platform

[00:31:36.0000] <annevk>
okay

[00:31:37.0000] <annevk>
noted

[01:04:50.0000] <annevk>
found a way to support parsing file: URLs without introducing extra state: https://github.com/whatwg/url/commit/c7e2c5fbc63710b5421889add11add6f7d19f67d

[01:05:12.0000] <annevk>
that's prolly enough for today

[01:46:55.0000] <asmodai>
You guys seen http://www.firstmenonthemoon.com/ ?

[01:48:18.0000] <WeirdAl>
anyone awake?  I'm wondering about why TreeWalker.nextNode doesn't honor FILTER_REJECT.

[01:52:07.0000] <Ms2ger>
Blame... jst, I guess

[02:58:13.0000] <divya>
TabAtkins: JOIN #testtwf

[03:13:59.0000] <divya>
TabAtkins: https://www.w3.org/Bugs/Public/show_bug.cgi?id=19736

[07:34:12.0000] <GPHemsley>
So, do we talk about flags as set or unset? Or can we talk about them as set to true or set to false?

[07:34:58.0000] <Ms2ger>
set/unset

[07:37:28.0000] <zcorpan_>
GPHemsley: http://trac.tools.ietf.org/wg/websec/trac/report/1?asc=0&sort=component lists issues with mimesniff

[07:37:52.0000] <GPHemsley>
zcorpan_: Woah. OK, thanks.

[08:00:58.0000] <zcorpan_>
annevk: is the input to "parse URL" a sequence of unicode characters? or utf-16 code units?

[08:09:05.0000] <zewt>
unsurprised at the name of the person that reopened 12510 ...

[08:10:35.0000] <Ms2ger>
annevk, yep, there's a bug on IDL waiting for heycam to come back

[08:11:59.0000] <annevk5>
zcorpan_: code points, see public-script-coord for my UTFString proposal

[08:12:11.0000] <zcorpan_>
annevk5: thanks

[08:12:54.0000] <annevk5>
(no need to make the IETF more upset than strictly necessary

[08:12:55.0000] <annevk5>
))

[08:13:44.0000] <zewt>
somehow seems like an odd thing to define at the IDL level, though I'm not sure I could say exactly why

[08:14:46.0000] <zewt>
seems more like a part of apis than a language binding thing

[08:17:45.0000] <annevk5>
IDL does a lot of conversion, this is not really new and besides, it's a lot simpler than the alternative

[08:18:41.0000] <annevk5>
WeirdAl: I'm not opposed to extending TreeWalker more, but if there's just a few people using it, is it really worth it?

[08:18:55.0000] <WeirdAl>
/me shrugs

[08:19:21.0000] <WeirdAl>
actually I wanted to ask you about nextNode - why does it not honor FILTER_REJECT?

[08:19:49.0000] <WeirdAl>
previousNode does at least glance at that

[08:20:23.0000] <zewt>
isn't it pretty simple to define "execute a callback with error handling" and just use that where wanted

[08:20:44.0000] <zewt>
i mean, wouldn't doing this in webidl mean webidl would have to know about "window" in the first place? seems like webidl is lower level than that

[08:21:14.0000] <annevk5>
oh you meant the exception thing

[08:21:18.0000] <WeirdAl>
dammit, I hate control-Q

[08:21:28.0000] <GPHemsley>
/me worries that notes within a list are indented too much and may be confused with lists within lists.

[08:21:29.0000] <WeirdAl>
I missed whatever you said :(

[08:21:30.0000] <annevk5>
WeirdAl: that might be a bug actually

[08:21:56.0000] <annevk5>
WeirdAl: do browsers agree or disagree with the spec?

[08:22:05.0000] <annevk5>
WeirdAl: if they disagree it's a bug for sure...

[08:22:12.0000] <WeirdAl>
honestly I usually think only of Mozilla ;0

[08:22:15.0000] <WeirdAl>
;)

[08:22:42.0000] <WeirdAl>
I think their impl matches the spec.  Again, I was looking for an explanation of why FILTER_REJECT doesn't factor in.

[08:22:56.0000] <annevk5>
so the new spec is based on Gecko, might get circular

[08:23:29.0000] <WeirdAl>
figures :p

[08:24:36.0000] <annevk5>
the spec has a

[08:24:49.0000] <zewt>
n unwanted newline

[08:24:57.0000] <WeirdAl>
and actually I wasn't referring to any exception - just that when I am done iterating over currentNode's descendants, later nodes might ignore FILTER_REJECT

[08:25:02.0000] <annevk5>
`<!-- XXX WTF? -->` for sibling traversal

[08:27:43.0000] <WeirdAl>
hehe

[08:27:45.0000] <annevk5>
zewt: dunno about the exception thing, but DOM does not know about the global object, IDL does I think at the binding level

[08:28:13.0000] <annevk5>
WeirdAl: bug + testcase would help, but if the other browsers agree with Gecko there's not much we can do I think

[08:28:40.0000] <WeirdAl>
/me frets

[08:28:41.0000] <GPHemsley>
/me wonders how annevk uses flags and <b>

[08:29:36.0000] <WeirdAl>
annevk - maybe I should ask smaug - he's familiar enough to know the why's

[08:30:40.0000] <annevk5>
GPHemsley: unset/set

[08:30:55.0000] <annevk5>
GPHemsley: <b> is when I don't want to use <dfn>

[08:31:49.0000] <GPHemsley>
annevk5: In what conditions does that occur?

[08:33:09.0000] <annevk5>
GPHemsley: lazy, or when <dfn> feels like overkill

[08:33:14.0000] <zewt>
annevk: fyi, onerror is also fired as a real DOM event

[08:33:27.0000] <annevk5>
mostly the latter I guess

[08:35:36.0000] <GPHemsley>
annevk5: What's the SOP for using words like perform/execute/rules/steps, etc.?

[08:35:37.0000] <zewt>
(much more usefully, too, at least in chrome; the DOM event gives separate "message", "file", "lineno" properties, where window.onerror is just a string)

[08:37:15.0000] <annevk5>
zewt: window.onerror is a callback with multiple arguments

[08:37:27.0000] <annevk5>
zewt: all of those...

[08:37:39.0000] <annevk5>
GPHemsley: whatever fits the context

[08:38:00.0000] <zewt>
oh yeah, can never remember that, but anyway the point is webidl surely shouldn't be firing events

[08:38:11.0000] <GPHemsley>
annevk5: Alright, well, you let me know if it doesn't fit the context :P

[08:38:56.0000] <annevk5>
zewt: that's not the suggestion

[08:39:06.0000] <annevk5>
HTML defines window.onerror

[08:41:12.0000] <annevk5>
IDL defines invoking callbacks and it should define where their exceptions go

[08:41:41.0000] <annevk5>
or provide some hook for HTML to hook into, but this is not a matter for the DOM

[09:33:54.0000] <GPHemsley>
/me wonders what to do with a lot of ands and ors

[09:38:36.0000] <Philip`>
GPHemsley: Disjunctively normalise them

[09:39:53.0000] <GPHemsley>
Philip`: Can you give me an example? I have ( x && ( y || ( z && w ) ) )

[09:40:33.0000] <Philip`>
(x && y) || (x && z && w)

[09:41:03.0000] <GPHemsley>
aw, boo

[09:41:04.0000] <GPHemsley>
alright

[09:41:53.0000] <Philip`>
/me has no idea what the context of the question was, and wasn't attempting to give a serious answer

[09:42:30.0000] <GPHemsley>
well, it solves the problem

[09:42:36.0000] <GPHemsley>
it just duplicates wordage

[09:44:07.0000] <Philip`>
Define short terms to refer to the wordy concepts

[09:48:14.0000] <GPHemsley>
it's alright

[09:48:20.0000] <GPHemsley>
they're fairly short already

[09:53:03.0000] <hsivonen>
SGML reverse Huffman coded the terminology and gave the longest names to the most commonly talked about concepts

[09:53:32.0000] <hsivonen>
as in external document type definition subset

[10:03:59.0000] <Hixie>
GPHemsley: my references system is to put all the references at the bottom of the source file, and then have code to filter out the ones that aren't used

[10:06:29.0000] <GPHemsley>
Hixie: You like to buck every system, huh? :P

[10:12:40.0000] <Hixie>
to be fair, the html spec predates most of these systems :-P

[10:51:05.0000] <GPHemsley>
Comments welcome on my latest mimesniff commit

[10:56:55.0000] <GPHemsley>
/me wonders if he is the only one who ever uses the wiki

[12:08:14.0000] <annevk>
GPHemsley: x and either y or z and w

[12:09:41.0000] <annevk>
(answering your question above, not saying you have to write it like that)

[12:11:40.0000] <annevk>
GPHemsley: convention is to lowercase RFC2119 terms

[12:12:03.0000] <annevk>
GPHemsley: convention is to end flag terms with " flag"

[12:12:17.0000] <annevk>
GPHemsley: convention is to lowercase user agent

[12:12:50.0000] <annevk>
GPHemsley: convention is to put <code title> around strings, such as "<code title>text/xml</code>"

[12:14:58.0000] <annevk>
GPHemsley: I would combine the "Begin reading" and "Continue reading" steps as "Read bytes from the resource into /buffer/ until one of ..."

[12:17:02.0000] <annevk>
GPHemsley: as for your XXX comments, did you check whether e.g. "image/blahblah" is sniffed?

[12:17:16.0000] <annevk>
GPHemsley: because if that's not going to be snfifed, there's your reason ;)

[12:18:32.0000] <annevk>
GPHemsley: oh, and I use the wiki :)

[13:28:12.0000] <JonathanNeal>
Surely <nav> handles this now? http://www.w3.org/TR/WCAG10-HTML-TECHS/#group-bypass

[13:45:28.0000] <annevk_>
Transmission.app software update: "Fix crash when adding magnet links with malformed webseeds"; "Fix handling of magnet links' webseed URLs that contain whitespace"; but but but URI implementations are interoperable!!1!

[13:47:18.0000] <zewt>
i thought the argument was "so what if implementations aren't interoperable, that's not the spec's problem"

[13:47:27.0000] <zewt>
not that the arguments are necessarily coherent

[13:55:06.0000] <stevefaulkner>
JonathanNeal: how does <nav> handle it?

[13:55:34.0000] <annevk_>
Yeah dunno, I guess I'll hear a few more next week

[13:57:05.0000] <JonathanNeal>
stevefaulkner: i missed the <img>, I was looking into an accessibility issue, where I was told to include non-link, printable characters (surrounded by spaces) between adjacent links.

[13:57:46.0000] <JonathanNeal>
I want to do something like <nav><a href="#foo">Foo</a> <a href="#bar">Bar</a></nav>

[13:59:19.0000] <stevefaulkner>
JonathanNeal: <nav><a href="#foo">Foo</a>, <a href="#bar">Bar</a></nav> ?

[13:59:34.0000] <JonathanNeal>
Yea, dropping the ul and li's.

[14:01:04.0000] <stevefaulkner>
JonathonNeal: i wouldn't use wist for 2 links but if you have a set of related links a list is the best way to group them

[14:01:29.0000] <JonathanNeal>
How would a <nav> fail to do this?

[14:02:40.0000] <stevefaulkner>
JonathanNeal: it does not convey a a list semantic in any browser

[14:03:14.0000] <JonathanNeal>
The nav element represents a section of a page that links to other pages or to parts within the page: a section with navigation links.

[14:03:54.0000] <JonathanNeal>
I don't see how sub-organizing those links into a list is necessary. It could be done, certainly, but it's no longer necessary.

[14:04:55.0000] <stevefaulkner>
JonathanNeal: what it says it does in the spec is a fiction unless the semantics are expressed via browsers

[14:05:35.0000] <JonathanNeal>
Well, when I tested it with VoiceOver and Jaws I did not experience a loss.

[14:06:43.0000] <JonathanNeal>
It certainly doesn't break any semantics.

[14:06:53.0000] <stevefaulkner>
JonathanNeal: a list conveys explicitly a set of items, <nav> or any other grouping semantic does not

[14:10:01.0000] <stevefaulkner>
JonathanNeal: <nav> provides less structural information as implemented and in some browsers (IE for example) does not even convey the fact that its navigation links

[14:11:47.0000] <stevefaulkner>
<nav role="navigation> has better support across browsers and AT

[14:22:10.0000] <JonathanNeal>
Sure, though isn't <nav> supposed to inherently have that role?

[14:30:09.0000] <zcorpan>
annevk: is there a place already where url test cases should live?

[14:33:11.0000] <annevk>
prolly the same place AryehGregor ends up putting the encoding tests?

[14:33:41.0000] <annevk>
https://github.com/annevk/url has some tests fwiw, mostly copied from WebKit with some changes

[14:33:49.0000] <annevk>
(changes are annotated)

[14:34:12.0000] <annevk>
(but that parser does not yet have file URL parsing)

[14:35:44.0000] <annevk>
Why does http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html not mention the Unicode restrictions made in the parser?

[14:35:51.0000] <annevk>
E.g. disallowing U+3FFFF

[14:49:04.0000] <annevk>
Context: https://www.w3.org/Bugs/Public/show_bug.cgi?id=19743

[14:53:57.0000] <jgraham>
Things that make me sad: specs without dfn.js

[14:54:11.0000] <GPHemsley>
annevk: Ah, convention! That's the word I've been looking for!

[14:55:32.0000] <GPHemsley>
annevk: Regarding my XXX comments: What if an image is tagged "image/blahblah" but is actually "image/gif"?

[14:57:31.0000] <jgraham>
Hmm, so why is the index argumetn of HTMLTableElement.insertRow(index) optional?

[14:57:34.0000] <GPHemsley>
annevk: Would <code> also be appropriate for the "Bytes in ASCII" values?

[14:57:38.0000] <jgraham>
Does it match IE?

[14:57:44.0000] <jgraham>
/me doesn't have IE

[14:57:56.0000] <jgraham>
Apparently it doesn't match anything else

[14:58:15.0000] <jgraham>
Oh, maybe it matches WebKit

[15:04:08.0000] <GPHemsley>
annevk: Why <code title> rather than <code>?

[15:13:25.0000] <stevefaulkner>
JonathanNeal: yes, but when it will be implemented across browsers and platforms is anybodies guess > http://html5accessibility.com

[15:18:26.0000] <JonathanNeal>
stevefaulkner: that's true, and Firefox only forwards the role right now, but what accessibility software is using ARIA roles like nav?

[15:18:37.0000] <JonathanNeal>
That's not a remark meant to be contrary, I'm really curious.

[15:21:42.0000] <GPHemsley>
annevk: So, are you saying it's not necessary to explicitly state that byte-reading should begin with byte 0?

[15:22:20.0000] <stevefaulkner>
JonathanNeal: all main screen readers support navigation via ARIA landmark roles, here is some data from a almost a year ago http://www.html5accessibility.com/tests/landmarks.html support has improved further since then

[15:22:41.0000] <annevk>
GPHemsley: I'm saying that, and byte 0 is poor wording as one might take it to mean byte 0x00

[15:23:05.0000] <annevk>
GPHemsley: <code title> to avoid accidental linking

[15:23:15.0000] <GPHemsley>
annevk: How do I ensure that reading does not begin at some arbitrary point within the resource?

[15:24:02.0000] <GPHemsley>
annevk: I have not seen <code> be linked or otherwise marked up differently anywhere (unlike, e.g., <span>). In what situation does that happen?

[15:24:11.0000] <annevk>
GPHemsley: Read from resource into /buffer/, starting at the first byte, and run these steps:, maybe?

[15:24:22.0000] <annevk>
GPHemsley: <dfn>x</dfn> <code>x</code>

[15:24:47.0000] <GPHemsley>
that's confusing

[15:24:54.0000] <GPHemsley>
(the latter)

[15:25:06.0000] <annevk>
GPHemsley: Did you test Content-Type:image/somethingunsupported with an image whose actual type is image/gif?

[15:25:17.0000] <annevk>
GPHemsley: <code> links just like <span>

[15:26:20.0000] <GPHemsley>
I haven't tested anything yet

[15:26:41.0000] <GPHemsley>
I'm just working with the existing wording at this point

[15:27:02.0000] <JonathanNeal>
stevefaulkner: have experience with JAWS? I can't get it to read Internet Explorer pages to me.

[15:27:33.0000] <annevk>
GPHemsley: I'm pretty sure that's why the wording is that way

[15:27:39.0000] <annevk>
GPHemsley: because it's not sniffed in that case

[15:29:33.0000] <stevefaulkner>
JonathanNeal: yeah, but could be many reasons, try refreshing the page, also try insert+z to turn virtual cursor off and the same to turn back on after pause, that refreshes JAWS virtual buffer may help...

[15:29:43.0000] <GPHemsley>
annevk: Frankly, I'm somewhat confused as to why images are sniffed at all. Basically, the algorithm is only sniffing around the arbitrary image types that the UA supports.

[15:30:04.0000] <GPHemsley>
but I'll look into it further later

[15:30:11.0000] <annevk>
because people put a PNG on the web with an image/gif media type

[15:30:40.0000] <annevk>
or a PNG with a image/x-icon media type (I've done that and took me years to notice because it just worked)

[15:31:14.0000] <annevk>
and don't try to find logic, that's not the way this works

[15:39:08.0000] <annevk>
GPHemsley: anyway, have fun :) bedtime here

[15:39:22.0000] <GPHemsley>
ah, alright

[15:39:23.0000] <GPHemsley>
g'night

[15:46:31.0000] <JonathanNeal>
JAWS 14 reports <nav> in IE8 as "navigation region", without role="navigation".


2012-10-28
[19:29:45.0000] <stevefaulkner>
JonathanNeal: yeah JAWS sometime interrogates the DOM directly and applies role mappings if not exposed via API

[19:30:57.0000] <JonathanNeal>
stevefaulkner: so is it a matter of being redundant for others?

[19:32:51.0000] <stevefaulkner>
JonathanNeal: if you want to support AT other than later JAWS then yeah

[19:33:05.0000] <JonathanNeal>
which AT?

[19:35:17.0000] <stevefaulkner>
NVDA, WE, VoiceOver, supernova

[19:37:46.0000] <stevefaulkner>
Orca

[19:37:58.0000] <JonathanNeal>
VoiceOver gives no distinction between <nav> and <nav role="navigation">

[19:39:04.0000] <JonathanNeal>
In fact, it gives no distinction between <nav> and <div>. Not in the text prompt and not in the voice prompt.

[19:42:50.0000] <stevefaulkner>
JonathanNeal: your statement is not helpful without some more info = what version of VoiceOver and OS and what Browser /version

[19:44:20.0000] <JonathanNeal>
Well, it was as descriptive as yours :) VoiceOver 6, Mountain Lion, Chrome 22.

[19:45:35.0000] <JonathanNeal>
Same in Safari 6.0.1

[19:48:49.0000] <stevefaulkner>
then i suggest you are doing something wrong as in Safari 6 etc thereI get a difference

[19:49:18.0000] <JonathanNeal>
I'll try it again, with and without role="navigation" on the <nav>

[19:50:16.0000] <JonathanNeal>
Yea, nothing about role="navigation".

[19:51:29.0000] <stevefaulkner>
JonathanNeal: will check in morning and get back to you

[19:51:53.0000] <GPHemsley>
Hixie: What did Web Controls evolve into?

[20:00:45.0000] <GPHemsley>
http://ln.hixie.ch/?start=1140242962&count=1

[20:05:34.0000] <GPHemsley>
http://ln.hixie.ch/?start=1144794177&order=-1&count=1

[20:08:11.0000] <GPHemsley>
http://ln.hixie.ch/?start=1154950069&order=-1&count=1

[20:08:28.0000] <GPHemsley>
http://www.w3.org/2001/tag/doc/mime-respect-20060412

[20:19:50.0000] <GPHemsley>
http://ln.hixie.ch/?start=1170104775&order=-1&count=1

[20:19:57.0000] <GPHemsley>
"Don't fall into the temptation of discussing the meaning of the word "meaning"."

[20:20:03.0000] <GPHemsley>
http://www.w3.org/mid/20070129180343.GG1946⊙co

[20:24:52.0000] <GPHemsley>
Hey, remember that time when Acid3 was a thing?

[21:13:41.0000] <jackolant>
This is kind of awkward, but I never seem to understand the relationship between Mozilla, W3C and WhatWG.

[21:13:54.0000] <jackolant>
All three have specifications and examples and documents and proposals and drafts and standards...

[21:14:05.0000] <jackolant>
It seems as if Mozilla Developer Network is the "bible" somehow.

[21:14:16.0000] <jackolant>
Yet it's written as articles, often in a non-formal fashion.

[21:38:21.0000] <Hixie>
GPHemsley: evolved into rot. :-(

[21:39:02.0000] <Hixie>
jackolant: mozilla is a browser vendor, any proposals and drafts are "just" proposals (proprietary, in a way, though maybe not with any more or less buy-in than what i'm about to talk about)

[21:39:12.0000] <jackolant>
:S

[21:39:24.0000] <Hixie>
jackolant: w3c, ietf, and whatwg are different standards organisations that work on web techs

[21:39:39.0000] <jackolant>
I have never heard of IETF before now, and I've read a lot...

[21:39:53.0000] <Hixie>
jackolant: w3c and whatwg work on higher-level stuff like html, ietf on lower-level stuff like TCP/IP and URLs and DNS

[21:40:08.0000] <Hixie>
(afk bbiab, if you want more detail)

[21:41:45.0000] <jackolant>
Hmm.

[21:42:02.0000] <jackolant>
Well, basically, whenever I need to look something up, I open MDN which I have bookmarked and search for a keyword.

[21:42:14.0000] <jackolant>
I get a bunch of results which is usually an article which seems to be in wiki format.

[21:42:19.0000] <jackolant>
This feels very non-formal.

[21:42:29.0000] <jackolant>
They also link to http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#the-canvas-element

[21:42:39.0000] <jackolant>
This page in itself feels very slow and strange.

[21:43:34.0000] <jackolant>
I wish they would lock themselves in for a few weeks non-stop and come out with a Bible with a version number.

[21:43:36.0000] <jackolant>
And then that's THAT.

[21:43:38.0000] <jackolant>
It's fixed.

[21:43:40.0000] <jackolant>
Never touched again.

[21:43:47.0000] <jackolant>
Then they do the same thing a few months later.

[21:43:52.0000] <jackolant>
And use all the feedback etc.

[21:43:57.0000] <jackolant>
And then another Bible is done.

[21:44:01.0000] <jackolant>
Never to be touched again.

[21:44:35.0000] <jackolant>
This "living standard" stuff is asking for confusion and problems IMO.

[21:46:55.0000] <Hixie>
jackolant: you want us to only release things every two months instead of every two hours?

[21:47:11.0000] <Hixie>
jackolant: so if we find an error we should wait before we fix it?

[21:49:55.0000] <jackolant>
Well... my main message with that speech was that there needs to be some "milestones".

[21:49:58.0000] <jackolant>
Like "stable releases".

[21:50:16.0000] <jackolant>
And not like many FOSS projects where the stable version is ancient and you are expected to use the very latest bleeding edge one.

[21:50:56.0000] <jackolant>
Even if you do fix some error immediately, that is still just a specification and the implementators will need to implement it.

[21:54:35.0000] <Hixie>
what purpose does a milestone spec serve?

[21:54:47.0000] <Hixie>
all it would do is mean the people following the spec were following something that was wrong

[21:54:55.0000] <Hixie>
which would mean the browsers would be even more buggy

[22:00:15.0000] <zewt>
<jackolant> Never touched again. <- that smells very IETF to me

[22:08:23.0000] <jackolant>
The point is that a fixed version would be released.

[22:08:27.0000] <jackolant>
Without changing the old one.

[22:08:41.0000] <Hixie>
but of what use would that be?

[22:08:41.0000] <jackolant>
"If you follow this version, you can be sure that this what you work with."

[22:08:53.0000] <jackolant>
There's a lot of old software that has bugs that people depend on...

[22:09:04.0000] <Hixie>
oh, i see the misunderstanding

[22:09:25.0000] <Hixie>
browsers don't implement the specs the way you think

[22:09:41.0000] <jackolant>
:S

[22:09:41.0000] <Hixie>
it's not like we release a spec in december and all the browsers release an update that exactly matches the spec

[22:10:10.0000] <Hixie>
nor do the browsers behave differently for pages written in 2010 than pages written in 2011 (or 2001)

[22:10:36.0000] <jackolant>
By the way, there needs to be a way to directly get/set/manipulate pixels of images... looping through the imageData in JS is extremely slow.

[22:11:11.0000] <Hixie>
yeah, there's work on making gpu-based thingies to do image manipulation

[22:11:32.0000] <Hixie>
/me hands off to zewt to handle the questions about spec development and releases and goes to watch some TV

[22:11:36.0000] <Hixie>
bbl :-)

[22:11:53.0000] <jackolant>
My browser crashed.

[22:14:23.0000] <Hixie>
(case in point, no spec has ever said that the browser should crash :-) )

[22:15:16.0000] <jackolant>
Opera seems to be crashy every other version.

[22:15:20.0000] <jackolant>
And stable every other version.

[22:15:26.0000] <jackolant>
I mean "stable" ones.

[23:38:18.0000] <annevk>
whoa, I found some clean Gecko code

[23:38:19.0000] <annevk>
http://mxr.mozilla.org/mozilla-central/source/nsprpub/pr/src/misc/prnetdb.c#1544

[23:41:16.0000] <Yuhong>
<Hixie> it's not like we release a spec in december and all the browsers release an update that exactly matches the spec

[23:42:11.0000] <Yuhong>
Similar reasons are why I consider the term "HTML5" a misnomer even as a buzzword.

[23:42:17.0000] <Yuhong>
<Hixie> nor do the browsers behave differently for pages written in 2010 than pages written in 2011 (or 2001)

[23:45:14.0000] <Yuhong>
Validators did, and I was considering versioned HTML specs for validators only, but then I realized that it would only promote the misuse of the term as a buzzword.

[00:07:07.0000] <annevk>
GPHemsley: you forgot to lowercase SHOULD NOT, MAY, etc. And you also still use some of those in a class=note which is wrong.

[00:53:51.0000] <annevk>
Neither Opera nor Mozilla normalize IPv6 addresses

[00:53:57.0000] <annevk>
in URLs

[00:54:49.0000] <annevk>
And neither does Safari

[00:54:55.0000] <annevk>
man, that's boring

[00:55:25.0000] <annevk>
I hope they're all willing to change that

[02:14:26.0000] <annevk>
I think I said this before, but figuring out where domain names are actually defined is extremely hard and thus far I've only found non-host-name RFCs mentioning the trailing dot; the few ancient RFCs with actual syntax definitions do not mention it

[02:15:48.0000] <annevk>
You'd hope something as essential as that is nailed down in beautiful prose with lots of tests... but you'd be wrong.

[02:19:10.0000] <annevk>
http://en.wikipedia.org/wiki/Domain_Name_System#Domain_name_syntax does not even mention the trailing dot

[02:19:23.0000] <annevk>
and none of the RFCs it references do either afaict

[03:15:52.0000] <Stevef_>
JonathanNeal: with this test file https://dl.dropbox.com/u/377471/tests/navtest.html voiceOver+safari 6 announces when entering and leaving <nav> <nav role="navigation"> or <div role="navigation"> as expected as <nav> is exposed as role=navigation. in chrome  <nav> is not exposed as role=navigation all esle is the same as safari. when llinks are organised as list then number of items and...

[03:15:54.0000] <Stevef_>
...current position in list is announced, this does not occur in <nav> without list

[03:21:01.0000] <Stevef_>
JonathanNeal: so my advice is is if you want more robust support for exposing nav semantic use <nav role="navigation">, if links are organized as a list visually mark them up as a list otherwise the semantics implied by visual organization is lost.

[03:35:40.0000] <annevk>
would be nice if they fixed voice over to just list the number of <a>s in a <nav>

[03:37:21.0000] <hober>
annevk: file a bug? :)

[03:38:56.0000] <annevk>
nah, I hunt for bugs that warrant module rewrites :p

[03:41:51.0000] <hober>
heh

[03:43:55.0000] <Stevef_>
annevk: that may work for simple lists, not so for nested link lists

[03:48:15.0000] <annevk>
hmm, browsers don't even agree whether http://example%2eorg/ should work

[03:48:45.0000] <annevk>
Stevef_: sure, you need some heuristics

[03:49:02.0000] <annevk>
but you do with lists too, they might be weird after all

[03:51:00.0000] <Stevef_>
annevk:what heauristics do you need with lists? the item number and nesting are explicit

[03:52:31.0000] <Ms2ger>
Ah, CSSWG F2F meetings are always fun

[03:52:33.0000] <Ms2ger>
> jet proposes discussing the travelling salesman problem instead

[03:53:05.0000] <annevk>
Stevef_: e.g. if <ol> contains a <div> directly or contains another <ol> directly (developer mistakes)

[03:54:12.0000] <smaug____>
uh, waking up early enough for tpac will be hard

[03:54:30.0000] <annevk>
will you be there smaug____?

[03:54:51.0000] <smaug____>
I will

[03:55:23.0000] <annevk>
sweet, I think last time was two years ago and we only briefly said hi :)

[03:55:23.0000] <hober>
Ms2ger: it's even better live

[03:55:42.0000] <annevk>
CSS is meeting today?

[03:56:11.0000] <Ms2ger>
Yeah

[03:56:29.0000] <Ms2ger>
And they resolved to get transforms to CR in a few weeks

[03:56:35.0000] <annevk>
hober: want to have dinner tonight then? I land at 5PM, should be at the hotel around 6/6:30PM I hope

[03:56:52.0000] <Ms2ger>
/me had some fun pointing out that was resolved in February too

[03:57:03.0000] <Stevef_>
annevk: <ul><div>... does not effect effect properties of list in accessibility tree

[03:57:12.0000] <annevk>
Ms2ger: "and we really mean it!11!"

[03:57:18.0000] <hober>
annevk: sure! erin and i aren't staying at the official hotel though.

[03:57:47.0000] <annevk>
hober: I'm staying at the Hilton and I've no idea where anything is :)

[03:57:51.0000] <annevk>
hober: guess I'll find out

[03:58:03.0000] <hober>
annevk: we're at the roosevelt

[03:58:23.0000] <annevk>
Stevef_: and <ul><div><li>test</li></div><li>test</ul> and things like that? anyway, you don't really need to test, was just saying

[04:01:41.0000] <Stevef_>
annevk: I would suggest if the nav element implies a list then it should be implemented as such in browser, so accessibility tree exposes in this way

[04:03:08.0000] <annevk>
Stevef_: suggest to me? I'm not representing anyone...

[04:04:00.0000] <Stevef_>
annevk: didn't say you were, suggest in the general sense and heuristics should be implemented browser side rather than AT side

[04:05:32.0000] <annevk>
I would rather leave that up to implementors, might be that some AT developers prefer a simple interface to innovate upon whereas others have easy access to the underlying browser and can innovate there...

[04:13:27.0000] <Stevef_>
from what i gather from AT developers they want semantics exposed via acc APIs so they don't have to go digging through the DOM driectly, also there is a much better chance of interop if stuff is exposed interop by the lmited number of browser engines as against the greater number of AT

[04:13:54.0000] <Stevef_>
exposed uniformly that is

[04:19:30.0000] <Stevef_>
and applying heuristics browser side (as friefox does for layout tables) does no preclude innovation on the AT side...

[04:26:20.0000] <annevk>
kinda surprising there's more AT than browsers yet they're generally perceived (at least a while back when I still followed this stuff) as crappy

[04:31:24.0000] <Stevef_>
part of the crappiness of AT is due to crappiness of browser accessibility support, but people have overlooked or not understood that in the past and now

[04:33:01.0000] <Stevef_>
that is evident when you look at how well NVDA works with Firefox for example goood browser acc implementation = good AT = happy users

[04:45:16.0000] <Stevef_>
in contrast to Opera, which does not work in any practical sense with any screen reader and works poorly with screen magnifiers

[05:05:43.0000] <annevk>
matjas: if you read the logs, I'll acknowledge you in the next commit for the domain label separator testing stuff

[05:05:59.0000] <annevk>
matjas: in the URL Standard, forgot it in this commit

[05:06:42.0000] <AryehGregor>
annevk, are you planning on looking at this anytime soon?  I'd like to fix either Gecko or my test, as the case may be.  https://www.w3.org/Bugs/Public/show_bug.cgi?id=19555

[05:08:33.0000] <annevk>
AryehGregor: I'm not sure how to fix it

[05:08:53.0000] <AryehGregor>
annevk, meaning you're not sure what we want, or you're not sure how to spec it?

[05:09:07.0000] <annevk>
either I suppose

[05:09:22.0000] <AryehGregor>
What's the rationale for not matching what all browsers do?

[05:09:48.0000] <AryehGregor>
Granted it's awkward and confusing, but so is the whole API, and jQuery might depend on it.

[05:10:10.0000] <AryehGregor>
Plus, we'd be making the API strictly less useful than it already is -- there's no other good way to do what it does (if there's any way at all).

[05:11:10.0000] <annevk>
I tried to simplify the method with what I thought I could get away with

[05:11:23.0000] <annevk>
I also don't like "implementation specific" ever

[05:11:59.0000] <annevk>
I don't mind specifying something else though, but I'm not sure what exactly and how to specify it, in particular the bit about disconnected nodes and order

[05:12:16.0000] <AryehGregor>
The idea is just that you might want to order a list of nodes in some fashion that will work for .sort().

[05:12:50.0000] <annevk>
sure, but what the fuck does "then the order is based upon order between the root container of each node that is in no container" mean?

[05:14:45.0000] <AryehGregor>
It really means "if you compare two nodes that don't have the same root, the order is determined by comparing the pointers to their respective roots, assuming the pointer to a node remains constant across its lifetime".  But the spec doesn't want to say that.

[05:15:40.0000] <annevk>
does root here mean the "node document"?

[05:15:47.0000] <annevk>
nodes don't have a root

[05:15:49.0000] <AryehGregor>
No, it means the furthest ancestor.

[05:16:02.0000] <annevk>
a = document.createElement("a"); what's the root here?

[05:16:22.0000] <AryehGregor>
Specifically, the algorithm for comparing two nodes that don't have the same root are: 1) Let A and B be the nodes.  2) While A's parent is not null, set A to its parent.  3) While B's parent is not null, set B to its parent.  4) Return the result of comparing A and B according to some sort function that stably and totally orders all nodes.

[05:16:49.0000] <AryehGregor>
annevk, function root(node) { while (node.parentNode) node = node.parentNode; return node; }

[05:16:57.0000] <AryehGregor>
I don't know what the current DOM spec calls that, offhand.

[05:17:09.0000] <annevk>
might call it root actually, hmm

[05:17:26.0000] <annevk>
or furthest inclusive ancestor

[05:17:28.0000] <annevk>
maybe

[05:17:41.0000] <AryehGregor>
http://dom.spec.whatwg.org/#concept-tree-root

[05:18:07.0000] <annevk>
so anyway, that sort function being undefined does not strike me as a good solution

[05:18:25.0000] <annevk>
that will trip up people (and I believe it already does)

[05:18:42.0000] <AryehGregor>
It can't meaningfully be defined.

[05:18:53.0000] <AryehGregor>
How do you propose to define it?

[05:19:06.0000] <AryehGregor>
In practice, Gecko uses pointer comparison, and I'm guessing so do IE/Opera.

[05:19:09.0000] <annevk>
dunno, latest created node is following?

[05:19:31.0000] <annevk>
but that's kinda awkward too

[05:19:31.0000] <AryehGregor>
How do browsers keep track of it?

[05:19:40.0000] <AryehGregor>
They're not going to add overhead for the sake of this method.

[05:19:51.0000] <AryehGregor>
Also, it's not immediately obvious to me that that's well-defined, although it might be.

[05:20:05.0000] <AryehGregor>
(e.g., are there any methods that create multiple nodes at once?)

[05:20:39.0000] <annevk>
never mind, it was just a thought

[05:20:49.0000] <Ms2ger>
(anything to do with innerhtml?)

[05:21:26.0000] <annevk>
I have to pack a few more things and go, maybe add a pointer to the bug about this discussion and just go with the DOM3 behavior for now

[05:22:03.0000] <annevk>
it's evil, but I can't think of anything better

[05:23:13.0000] <AryehGregor>
Same conclusion I reached.

[06:23:38.0000] <annevk>
AryehGregor: coming to TPAC?

[07:13:00.0000] <annevk>
made it into the plane, close call...

[07:13:21.0000] <annevk>
that hour extra didn't really help me

[08:14:27.0000] <tantek>
greetings and good morning

[08:15:07.0000] <tantek>
I'm thinking of editing the ContactsAPI in the WHATWG github. Is there any particular process to follow, or do I just create a new repository and go?

[08:15:51.0000] <tantek>
It's likely that the new W3C SysApps WG will publish snapshots of the ContactsAPI under the W3C license, but I prefer to edit it in a more open CC0+OWFa state.

[08:16:10.0000] <tantek>
And lastly, are there any other WebAPI/ContactsAPI implementers here who would like to co-edit?

[08:16:40.0000] <tantek>
this is the source material I'll be starting with: https://wiki.mozilla.org/WebAPI/ContactsAPI

[08:17:39.0000] <tantek>
I'll likely leave all the feature request evaluation type stuff in that wiki page, but the goal is to move the API pieces to a specification in a shared location.

[09:26:16.0000] <Ms2ger>
var parent = document.createElementNS("http://www.w3.org/1999/xhtml", "html:table")

[09:26:16.0000] <Ms2ger>
w(parent.tagName)

[09:26:26.0000] <Ms2ger>
Anybody want to guess what you get?

[09:27:29.0000] <Philip`>
I bet it will be something that's totally natural and logical and well defined and the same across all implementations

[09:27:42.0000] <Ms2ger>
How much would you bet on that?

[09:28:14.0000] <Philip`>
Something that is of no value to me

[09:29:04.0000] <Ms2ger>
Dammit

[09:29:16.0000] <Ms2ger>
Because I'd totally win that :)

[09:30:22.0000] <Ms2ger>
Boo, only three different results in four browsers

[09:31:24.0000] <Philip`>
I've got a 1 Swedish krona coin which I got from a supermarket instead of 10 pence - you could have that, if you want to come and pick it up

[09:32:22.0000] <Ms2ger>
I'll come over on the pretense of picking up that coin, and instead kidnap you to work on canvas tests

[09:32:29.0000] <Ms2ger>
... Did I say that out loud?

[09:35:45.0000] <zcorpan>
Philip`: i can take your coin if you're at tpac

[09:36:16.0000] <SimonSapin>
Ms2ger: I guess not many of us have text-to-speech IRC clients … so not out loud

[09:37:10.0000] <zcorpan>
Ms2ger: is it HTML:TABLE per spec?

[09:37:34.0000] <Ms2ger>
Yes

[09:38:09.0000] <Ms2ger>
(Opera: html:TABLE; Chrome: html:table; IE+Gecko: HTML:TABLE)

[09:39:27.0000] <zcorpan>
uh, i get undefined in opera 12.02 ...??

[09:39:39.0000] <Ms2ger>
??

[09:40:08.0000] <Ms2ger>
Works fine on 12.50/1538

[09:40:47.0000] <Ms2ger>
Now, a continuing question...

[09:40:58.0000] <zcorpan>
oh, parent

[09:41:06.0000] <zcorpan>
parent is unforegable

[09:41:12.0000] <Ms2ger>
Oh, yay

[09:41:39.0000] <zcorpan>
html:TABLE with a variable name that works

[09:42:25.0000] <Ms2ger>
Now add...

[09:42:26.0000] <Ms2ger>
var row = parent.insertRow(-1);

[09:42:26.0000] <Ms2ger>
w(row.tagName)

[09:44:20.0000] <zcorpan>
Ms2ger: are you writing this down in a proper test case?

[09:44:28.0000] <Ms2ger>
Yeah

[09:44:40.0000] <zcorpan>
excellent

[09:45:28.0000] <Ms2ger>
(Gecko: HTML:TR, non-Gecko: TR)

[09:48:51.0000] <zcorpan>
Ms2ger: nice email

[09:49:29.0000] <Ms2ger>
Thanks

[09:49:39.0000] <Ms2ger>
/me hates those tests

[09:50:18.0000] <jgraham>
I support removing all tests that are wrong

[09:58:40.0000] <zcorpan>
speaking of tests, i'm working a bit on http://simon.html5.org/test/css/css-charset/ (i'll put this somewhere better when there's more coverage)

[10:06:49.0000] <zcorpan>
AryehGregor: annevk: ^

[10:10:40.0000] <zcorpan>
/me finds http://html5.org/temp/cssencoding.txt again

[10:29:43.0000] <zcorpan>
AryehGregor: annevk: btw seems browsers don't bother with the step "1. Let encoding be utf-8."

[10:30:28.0000] <zcorpan>
(if you load a css file in a top-level browsing context, seems to use the same rules as text/plain basically)

[10:35:24.0000] <Ms2ger>
jgraham, agreed with your reorganization if you use dashes like I did :)

[10:38:18.0000] <jgraham>
Ms2ger: heh

[11:02:40.0000] <GPHemsley>
annevk: I only lowercased the words in the sections I've worked on. (I'm in the process of rewriting the whole thing to be clearer and more integrated.)

[11:15:24.0000] <GPHemsley>
annevk: Same goes for their use in notes.

[11:23:13.0000] <Yuhong>
<Hixie> it's not like we release a spec in december and all the browsers release an update that exactly matches the spec

[11:23:35.0000] <Yuhong>
Similar reasons are why I even consider "HTML5" a misnomer even as a buzzword.

[13:16:47.0000] <hsivonen>
where should one get dinner in the TPAC area?

[13:17:17.0000] <Ms2ger>
I'd tend to look at the w3c-css-wg archives

[13:22:03.0000] <hsivonen>
w3c-css-wg didn't help

[13:22:46.0000] <hsivonen>
I guess I'll head to the first place with areasonable menu in Cité international

[13:31:40.0000] <GPHemsley>
Gmail marked a list e-mail from the Chrome team as spam ^_^

[13:41:58.0000] <Ms2ger>
It always does

[14:35:25.0000] <Hixie>
jgraham: re directories for testing, one thing to keep in mind is to make sure there's room in the organisation for tests that check interactions and thus don't fit neatly into categories

[15:56:49.0000] <wilhelm>
1. Drink wine. 2. Write agenda for WG meeting. 3. ???

[16:13:28.0000] <zewt>
goto 1


2012-10-29
[23:43:02.0000] <asmodai>
interesting WebGL shader experiment  http://glsl.heroku.com/e#4039.0

[00:46:15.0000] <jgraham>
Hixie: Yeah, my opinion on those is "just pick something sensible"

[00:46:44.0000] <jgraham>
I suppose there is some danger that a too-rigid heirachy stops people from writing that kind of test at all

[00:47:07.0000] <jgraham>
But it doesn't seem that likely

[03:36:46.0000] <asmodai>
gsnedders: just saw your code review tweet arrive via acquaintances, nifty!

[06:03:31.0000] <smaug____>
where is anne

[06:07:27.0000] <hsivonen>
there he is

[06:07:27.0000] <hober>
he was with jeff earlier

[06:07:51.0000] <hsivonen>
cunning timing

[06:17:00.0000] <annevk>
I talked with W3C's CEO, we could not reach some kind of agreement for now where the W3C would publish the WHATWG standards either with a permissive license or with me editing the WHATWG standards as is and publishing them under a restrictive license at the W3C.

[06:17:46.0000] <annevk>
So the situation will be that the W3C looks for editors to fork the WHATWG work under their license, which comes down to the same thing, but is more agreeable apparently.

[06:18:03.0000] <hober>
:(

[06:19:24.0000] <hsivonen>
:-(

[06:21:01.0000] <annevk>
He made it quite clear that he is not the person that can make this change. Member companies, including those representing browsers, would have to feel strongly about this for change to happen.

[06:21:54.0000] <hsivonen>
is this about different rules for Invited Experts vs. Members? there is Member precedent for this scnario, right?

[06:22:14.0000] <hsivonen>
specifically, Hixie specs

[06:22:56.0000] <hsivonen>
so the AC makes things bad again?

[06:23:20.0000] <hsivonen>
why does the CEO need to make this an AC issue?

[06:23:37.0000] <hober>
IIRC the relevant precedent is the non-exclusive copyright that a/o/m granted: http://lists.w3.org/Archives/Public/public-html/2007Apr/0429.html

[06:23:40.0000] <hsivonen>
why not just not ask the AC?

[06:23:46.0000] <annevk>
No, I think the rules are roughly the same there. They do not see that as a precedent they want to repeat even though it is repeating essentially anyway (with different editors). Thinking about it more makes it harder for me to understand their position.

[06:24:52.0000] <annevk>
They did ask the AC and a vocal minority said no (including some browser representatives I'm led to believe) and a vocal majority declined to comment.

[06:25:23.0000] <annevk>
*non-vocal majority, doh

[06:25:38.0000] <annevk>
and maybe not declined, but just did not comment

[06:26:29.0000] <hsivonen>
what's the upside of having your work published by the W3C? just the PP or do the threaten to ban normative refs to your stuff?

[06:27:06.0000] <othermaciej>
it seems like the biggest benefit would be to the w3c

[06:27:46.0000] <annevk>
The W3C believes their DNA is to be the standards body of the web (minus I suppose the little misdirection with regard to XHTML and such). From the perspective of being the standards body of the web, it makes sense to publish the standards that comprise it.

[06:27:56.0000] <hsivonen>
/me thinks it was a strategic error to ask the AC instead of relxing stuff by executive order

[06:28:49.0000] <annevk>
Agreed, this was something timbl should have just told the world about how it is.

[06:29:00.0000] <annevk>
s/was/is/

[06:34:19.0000] <zcorpan>
annevk: the browsers i have seem to fail http://simon.html5.org/test/css/css-charset/page-utf16-css-no-decl.html :-(

[06:36:55.0000] <GPHemsley>
Ms2ger: The anolis readme has not been updated to link to bitbucket instead of gsnedders

[06:40:00.0000] <zcorpan>
annevk: http://simon.html5.org/test/css/css-charset/page-utf16-css-no-decl-ascii-only.html - still fails

[06:46:48.0000] <karlcow>
/me is not sure how hsivonen makes executive order compatible with no member companies. It seems strange. I mean on the logical level.

[06:46:57.0000] <zcorpan>
annevk: http://simon.html5.org/test/css/css-charset/page-windows-1251-css-at-charset-utf16.html is kinda what hsivonen asked for. except the stylesheet ruleset is ascii-compatible

[06:48:52.0000] <karlcow>
The only way I see it changing is by convincing companies that it is in their own interests to do the work. Somehow it seems partly more a fight of some company employees with their own companies. :/ difficult issue.

[06:49:09.0000] <karlcow>
s/to do the work/to relax the license/ brain fork

[06:50:02.0000] <annevk>
zcorpan: so if you make an ASCII-only CSS file of that too, we can find out if browsers decode it as utf-16 or the page encoding

[06:50:15.0000] <annevk>
zcorpan: now the fail is ambiguous

[06:50:51.0000] <zcorpan>
annevk: http://simon.html5.org/test/css/css-charset/page-windows-1251-css-at-charset-utf16-ascii-only.html

[06:51:21.0000] <annevk>
whoa, both Opera and Gecko fail

[06:51:44.0000] <annevk>
CSS 2.1 requires them to fail, but still that is some pretty crazy requirement to begin with...

[06:52:18.0000] <hsivonen>
from code inspection, gecko decodes as utf-16 if @charset claims so

[06:53:13.0000] <zcorpan>
opera even decodes http://simon.html5.org/test/css/css-charset/at-charset-utf16-ascii-only.css as utf-16 when loading in a top-level browsing context

[06:53:45.0000] <zcorpan>
(might be a cache thing)

[06:53:51.0000] <hsivonen>
in gecko, the code path is totally different for that

[06:54:11.0000] <hsivonen>
top level context uses text/plain code

[06:54:29.0000] <hsivonen>
i.e. HTML with meta disabled

[06:54:44.0000] <zcorpan>
i thought we use text/plain behavior as well, but it's likely that we remember the encoding we used for decoding the file as a stylesheet

[06:54:54.0000] <zcorpan>
there are issues like that

[06:55:19.0000] <hsivonen>
we should too but I think I accidentally broke that

[06:56:15.0000] <zcorpan>
are there other cases i should test?

[06:56:51.0000] <zcorpan>
should we change the inherit-utf-16 case?

[06:58:17.0000] <annevk>
zcorpan: can you do "IndexOptions DescriptionWidth=*"

[06:58:31.0000] <annevk>
see http://httpd.apache.org/docs/2.2/mod/mod_autoindex.html for other options

[06:59:09.0000] <annevk>
sorry

[06:59:11.0000] <annevk>
NameWidth=* is the one

[06:59:34.0000] <zcorpan>
done

[07:00:27.0000] <annevk>
zcorpan: xml-stylesheet test? hsivonen said Gecko supports charset= there

[07:00:37.0000] <zcorpan>
i guess i can test with bogus decl in more places and see that it falls back to a recognized label at different places

[07:00:41.0000] <zcorpan>
ah yeah

[07:01:48.0000] <hsivonen>
do we know yet what exactly @charset "utf-16"; does in WebKit and IE

[07:02:16.0000] <hsivonen>
what Gecko does makes no sense

[07:04:02.0000] <asmodai>
w3.org dead due to Sandy?

[07:04:25.0000] <hober>
asmodai: or tpac

[07:04:36.0000] <annevk>
zcorpan: do you know what step 3 does in IE? The utf-16 -> utf-8 thing for @charset

[07:04:48.0000] <zcorpan>
no. don't have ie

[07:04:51.0000] <annevk>
ah, hsivonen asked the same

[07:04:52.0000] <asmodai>
hober: :\

[07:04:54.0000] <annevk>
yeah me neither :/

[07:05:01.0000] <annevk>
oh wait

[07:05:14.0000] <karlcow>
asmodai: working for me

[07:05:27.0000] <asmodai>
karlcow: Ah, it's back now

[07:05:39.0000] <asmodai>
couldn't reach it in the past 5-10 minutes or so

[07:05:58.0000] <asmodai>
Still has problems loading chrome, heh

[07:08:10.0000] <hsivonen>
sad when the position is "we need need to ask lawyers"

[07:09:50.0000] <zcorpan>
http://simon.html5.org/test/css/css-charset/xml-stylesheet-page-windows-1251-charset-attribute-windows-1250.xhtml hmm. elm is null. is there something about <div id="&#x010C;"></div> not doing what it looks like it does in XML?

[07:11:03.0000] <annevk>
it returns Č afaict

[07:49:44.0000] <zcorpan>
hsivonen: http://simon.html5.org/test/css/css-charset/page-windows-1251-css-at-charset-utf16.html - webkit uses utf-8 for @charset "utf-16" afaict

[07:50:56.0000] <hsivonen>
zcorpan: good. so the rule is not inventing something new

[07:50:56.0000] <zcorpan>
i solved the xml issue by setting .id in script

[08:09:13.0000] <zcorpan>
hsivonen: firefox seems to fail (all?) the "bogus" tests

[08:09:26.0000] <zcorpan>
e.g. http://simon.html5.org/test/css/css-charset/page-windows-1251-css-http-bogus-at-charset-windows-1250.html

[08:11:04.0000] <annevk>
zcorpan: you mean they apply the "get an encoding" step at the end?

[08:11:23.0000] <zcorpan>
i haven't figured out what gecko does exactly

[08:59:47.0000] <dglazkov>
good morning, Whatwg!

[09:50:34.0000] <zcorpan>
TabAtkins: any idea where css tests should be submitted?  http://hg.csswg.org/test ?  http://dvcs.w3.org/hg/csswg/ ?

[10:09:43.0000] <zcorpan>
do non-gecko browsers on windows do the file://c:/something -> file:///c:/something thing?

[10:12:11.0000] <GPHemsley>
annevk: I wonder if we could abstract the decoder algorithm in encoding out to that generic definition document? I seem to be writing almost the same thing for mimesniff, at least in terms of reading bytes and keeping track of the pointer, etc.

[10:17:13.0000] <GPHemsley>
/me wonders why you can't highlight a line in the logs as important after 24 hours.

[12:25:50.0000] <Hixie>
TabAtkins: src="url(foo)" behaviour is already pretty much fixed in stone, fwiw (it's the same as src="url%28foo%29", more or less)

[12:26:07.0000] <Hixie>
(i onl briefly glanced at the thread so please disregard if my statement is redundant :-) )

[13:41:55.0000] <bencc>
websocket is version 13

[13:42:08.0000] <bencc>
is it possible that in the future there will be version 14, 15... ?

[13:46:25.0000] <Ms2ger>
GPHemsley, the reason you can't highlight the logs from the past is that they need to be cached aggressively, because krijn serves the logs from his toaster (or equivalent hardware)

[13:46:35.0000] <krijn>
:D

[13:46:37.0000] <GPHemsley>
ah :)

[13:46:43.0000] <krijn>
Yeah, sorry about that

[13:46:56.0000] <Ms2ger>
Thanks for providing them anyway ;)

[13:47:16.0000] <krijn>
I think the highlighting of lines is misused most of the times anyway

[13:47:38.0000] <krijn>
What the

[13:47:42.0000] <krijn>
Speaking of the devil

[13:48:25.0000] <Ms2ger>
As troll bait, you mean?

[13:48:32.0000] <Ms2ger>
That's how I use it, at least

[13:49:13.0000] <krijn>
That's correct usage :)

[13:51:11.0000] <GPHemsley>
Ms2ger: Oh, subtle!

[13:51:18.0000] <Ms2ger>
Hmm? :)

[13:57:45.0000] <Ms2ger>
Anything interesting happened in the webapps meeting, btw?

[13:59:12.0000] <Ms2ger>
/me confirms nor denies he wrote multicol and flexbox tests

[14:05:55.0000] <pablof>
TabAtkins: is window.CSS in some spec?

[14:07:19.0000] <Ms2ger>
Not yet, I don't think

[14:11:01.0000] <isaacd>
Running validator.nu code locally is now giving me an exception.  (Re-checking-out-and-building didn't help.  Error log: http://pastebin.com/r2i3LrX2 )

[14:16:58.0000] <GPHemsley>
/me enjoys tagging random elements with 'class=XXX' to see how badly the styling breaks.

[15:10:58.0000] <roc>
what's Philip Jagenstadt's IRC nick again?

[15:11:09.0000] <Ms2ger>
foolip

[15:11:15.0000] <roc>
thank you sir

[15:11:33.0000] <Ms2ger>
Np

[15:11:42.0000] <roc>
foolip: Web Audio once again requires the attention of someone who groks Web standards

[15:12:30.0000] <Ms2ger>
Hixie, pointers to callbacks that do propagate exceptions?

[15:18:29.0000] <Hixie>
Ms2ger: i dunno

[16:48:40.0000] <Hixie>
where's ms2ger?

[16:59:08.0000] <gsnedders>
Bed, I guess.

[16:59:18.0000] <gsnedders>
Some of us sleep, sometimes.

[16:59:33.0000] <Hixie>
that can't be right


2012-10-30
[17:00:54.0000] <zewt>
heh i just went "where's ms2ger" about 30 minutes ago as I went to give a partial answer to his question

[17:01:00.0000] <zewt>
(Array.map)

[01:42:30.0000] <foolip>
roc, my inbox is aware of the problem :)

[01:46:41.0000] <Ms2ger>
zewt, sure, but that's pure JS, how about DOM callbacks? :)

[01:57:04.0000] <zcorpan>
hsivonen: http://simon.html5.org/test/css/css-charset/page-utf16-css-bomless-utf16be.html - seems chrome inherits utf-16 even when the stylesheet is bomless utf-16 big endian, but opera and firefox detect it as big endian and apply the style sheet

[01:58:46.0000] <hsivonen>
:-( BOMless UTF-16. I wonder how much of that exists

[01:59:52.0000] <hsivonen>
should BOMless UTF-16 detection happen right after BOM detection in the prededence order

[02:00:13.0000] <zcorpan>
get we get away with it not happening?

[02:01:26.0000] <zcorpan>
i guess i'll check the tests in to csswg repo now and send an email to www-style

[02:01:48.0000] <hsivonen>
maybe we could. the magnitude of the BOMless UTF-16 problem is all hearsay lore to me

[02:02:29.0000] <hsivonen>
and I'm generally very skeptical of lore of the type "weird things happen in Japan"

[02:03:28.0000] <Ms2ger>
Weird things do happen in Japan, have you seen their game shows?

[02:06:48.0000] <tantek>
greetings - anyone else here in Lyon?

[02:13:30.0000] <SimonSapin>
tantek: yes, and 2 seats on your left :)

[02:23:01.0000] <annevk>
I'm loving https://o.twimg.com/1/proxy.jpg?t=FQQVBBg9aHR0cDovLzI1Lm1lZGlhLnR1bWJsci5jb20vdHVtYmxyX21jcDdrclVXbG0xcnZzYmg5bzFfNDAwLmpwZxQCFgASAA&s=SEoPugLBeIQN508LZx8yZdpKfW-5LTFsMuzqsQ2JgLs

[02:29:54.0000] <annevk>
without context you instantly know it's about the CSS WG

[02:30:07.0000] <annevk>
although maybe that's because nobody else really cares about "RESOLUTION" is much as they do

[02:31:03.0000] <hober>
annevk: :)

[02:31:28.0000] <hober>
annevk: you could come upstairs and soak up the meme material

[02:32:06.0000] <MikeSmith>
become a mutation observer

[03:05:03.0000] <jgraham>
MikeSmith: Do you remember which websockets servers we have on w3c-test.org

[03:05:07.0000] <jgraham>
?

[03:06:50.0000] <jgraham>
We have some pywebsockets stuff that we want to submit

[03:40:46.0000] <tantek>
hello SimonSapin!

[03:48:29.0000] <divya>
yeah why dont u join the csswg as a joke annevk

[03:48:32.0000] <divya>
it would be fun.

[03:48:37.0000] <divya>
or a world war.

[03:48:45.0000] <divya>
either way entertainment would be primary

[03:48:51.0000] <annevk>
I'm in the CSS WG by proxy

[03:49:03.0000] <divya>
who is your proxy

[03:49:07.0000] <divya>
hober?

[03:49:15.0000] <annevk>
my latest spec is http://html5.org/temp/cssencoding.txt and it already has a test suite and a "CSS spec"

[03:49:27.0000] <divya>
UH OH

[03:49:33.0000] <divya>
paging glazou

[03:49:47.0000] <annevk>
o_O

[03:50:43.0000] <divya>
(you missed yesterday's battle with macej)

[03:51:17.0000] <annevk>
also the Member-only email (although I guess not really, since it leaked somehow to me)

[03:51:47.0000] <annevk>
I'm happy to miss out on these things and amuse myself by reading w3cmemes

[03:54:30.0000] <othermaciej>
what Member-only email?

[03:55:22.0000] <othermaciej>
divya: I still don't understand why there was a battle in the first place there

[03:56:15.0000] <divya>
some people felt slighted othermaciej

[03:56:23.0000] <divya>
thats all.

[03:56:31.0000] <divya>
but i dunno, i am essentially a passive observer.

[03:56:33.0000] <annevk>
this WebApps discussion is such a waste of time

[03:56:46.0000] <annevk>
almost asked for the mike to say WHATWG

[03:56:50.0000] <divya>
plz dont say that annevk now someone will tweet this.

[03:56:56.0000] <annevk>
but fixing URLs seems a better use of time

[03:57:00.0000] <divya>
"WHATWG CLIQUE HATES WEBAPPS"

[03:57:13.0000] <annevk>
people tweet a lot of things

[03:57:13.0000] <divya>
NEWS AT 11

[03:57:19.0000] <annevk>
it's Flm at 11

[03:57:21.0000] <annevk>
Film*

[03:57:26.0000] <annevk>
!11!

[03:57:40.0000] <divya>
/me adopts a roman orator pose for argument

[03:57:45.0000] <othermaciej>
divya: I do not understand the part where you solve a cross-wg communication problem by refusing to communicate and then ambushing the chairs of the other wg

[03:58:19.0000] <divya>
well you all walked into the trap othermaciej :)))

[03:58:41.0000] <divya>
it should have been a htmlxcss meeting like it happens with svgxcss

[03:59:00.0000] <hober>
othermaciej: that sounds like meme fodder right there...

[03:59:50.0000] <othermaciej>
hober: its a traaaapppp

[04:00:18.0000] <divya>
¡11!

[04:00:21.0000] <othermaciej>
divya: yeah, next time I'm asked to make a surprise appearance of another WG I am probably going to say no

[04:00:49.0000] <divya>
i think you should ask for a combined meeting othermaciej i thought it worked well for css and svg

[04:01:03.0000] <divya>
omg the memes keep pouring

[04:03:11.0000] <divya>
https://twitter.com/sgalineau/status/263234033985679362

[04:06:26.0000] <zcorpan>
ok i've submitted the css tests and sent an email. http://lists.w3.org/Archives/Public/www-style/2012Oct/0833.html

[04:06:42.0000] <divya>
othermaciej: http://w3cmemes.tumblr.com/image/34630866378

[04:07:04.0000] <divya>
good work all these w3cmeme creators.

[04:07:05.0000] <othermaciej>
divya: true

[04:07:46.0000] <hsivonen>
would you rather be ambushed by ambiguity or by CSS chairs?

[04:08:22.0000] <hober>
/me notes that or is not xor: one of the css chairs is a tag member :)

[04:14:32.0000] <annevk>
zcorpan: note that step 5 was already changed yesterday

[04:14:39.0000] <annevk>
zcorpan: per discussion between hsivonen and I

[04:15:17.0000] <zcorpan>
ah. i hadn't refreshed.

[04:51:21.0000] <MikeSmith>
jgraham: (when your back) we have mod_pywebsccket on w3c-test.org

[04:58:17.0000] <AryehGregor>
annevk, I study full-time and work like five hours a week average.  No chance I'm going to any conferences.

[06:03:52.0000] <divya>
wow it is othermaciej time on w3cmemes

[06:42:41.0000] <karlcow>
hmm replies to digest… sad panda

[07:12:48.0000] <zewt>
notherems2: there should be no inherent difference between callback-based APIs that happen to be defined by JS or that happen to be defined by DOM APIs

[07:20:03.0000] <sigwhite>
Is there an API to access the device's network speed (e.g. 3G, 4G, LTS) yet?

[07:20:13.0000] <jgraham>
No

[07:20:21.0000] <sigwhite>
Thanks. You rock.

[07:20:23.0000] <jgraham>
What would you use that for?

[07:20:42.0000] <sigwhite>
No idea. Someone asked me. I figured I might as well go to the source.

[07:20:46.0000] <jgraham>
OK

[07:26:07.0000] <GPHemsley>
annevk: Don't forget to handle these schemes: http://tools.ietf.org/html/rfc2324#section-3

[07:28:32.0000] <zewt>
(not that "3G" actually tells you what the speed is...)

[07:40:31.0000] <zewt>
RIM's inspiring appearance on whatwg suggests bright, innovative future

[07:41:15.0000] <GPHemsley>
Just found this (from 2010): http://www.w3.org/2010/11/TPAC/HTMLnext-perspectives.pdf

[07:41:29.0000] <GPHemsley>
Can't tell if the colors are supposed to be meaningful

[07:48:13.0000] <GPHemsley>
abarth: Do you recall if the order of the list of type patterns is significant in mimesniff?

[07:49:05.0000] <GPHemsley>
abarth: (There doesn't appear to be much overlap between the patterns that could result in a precedence conflict, IMO.)

[08:07:15.0000] <annevk>
I don't really get brendan on public-script-coord

[08:07:44.0000] <annevk>
but I guess I'll let heycam solve it now he's at least okay with having it

[08:08:22.0000] <annevk>
AryehGregor: I had forgotten you were studying, my bad

[08:09:07.0000] <annevk>
GPHemsley: a lot of those URL schemes can never be URL schemes

[08:09:21.0000] <annevk>
GPHemsley: the person that wrote that RFC has no understanding of the URI/IRI syntax rules

[08:09:31.0000] <annevk>
GPHemsley: poor joke :p

[08:10:44.0000] <GPHemsley>
/me points to the author of http://tools.ietf.org/html/rfc1738

[08:12:08.0000] <annevk>
heh

[08:14:51.0000] <annevk>
http://w3cmemes.tumblr.com/post/34633601085/grumpy-old-maciej-has-a-question-about-your-spec oh god

[08:14:58.0000] <annevk>
w3cmemes is on a roll

[08:17:13.0000] <zcorpan>
the only case where the websocket api now gives an 'error' event, afaict, is: "If the user agent was required to fail the WebSocket connection or the WebSocket connection is closed with prejudice, fire a simple event named error at the WebSocket object. [WSP]"

[08:17:47.0000] <zcorpan>
though i guess that gets invoked by various things

[08:19:54.0000] <zcorpan>
yeah

[08:26:07.0000] <GPHemsley>
I'm still bothered by the fact that people think that the WHATWG has somehow "subverted the standards process"...

[08:31:04.0000] <zewt>
what's wrong with subverting a damaged and damaging process and replacing it with one that works?

[08:31:17.0000] <GPHemsley>
Hmm... this log somehow got duplicated: http://logbot.glob.com.au/?c=freenode%23whatwg&s=13+Mar+2012&e=13+Mar+2012

[08:55:41.0000] <MikeSmith>
tantek: are you in the webapps meeting room?

[08:55:51.0000] <MikeSmith>
Greg Billock is talking about Web Intents

[08:56:10.0000] <MikeSmith>
ah you are

[08:56:11.0000] <MikeSmith>
nm

[08:56:45.0000] <hober>
MikeSmith: no, tantek is in css and trolling webapps over irc :)

[08:57:12.0000] <MikeSmith>
ah

[08:57:20.0000] <zewt>
why is it 2012 and it's still hard to find http libraries that even have the word "pipelining" in the documentation

[09:00:26.0000] <annevk>
hober: did CSS actually "resolve" to not use ASCII case-insensitive matching?

[09:00:45.0000] <annevk>
ooh

[09:00:48.0000] <annevk>
I just thought of something

[09:01:01.0000] <hober>
no, i think we are waiting on i18n wg feedback

[09:01:14.0000] <hober>
bert wants something more complicated than ascii case-insensitive matching

[09:01:23.0000] <annevk>
ffs

[09:01:40.0000] <annevk>
so what is CSS internally? DOMString?

[09:01:43.0000] <annevk>
because of the CSSOM?

[09:01:57.0000] <annevk>
because then using Unicode will be even weirder, what's gonna happen to lone surrogates?

[09:02:13.0000] <annevk>
will somebody please think of the lone surrogates

[09:02:19.0000] <hober>
"lone surrogates" was the name of my high school country-western band

[09:03:25.0000] <annevk>
/me updated http://wiki.whatwg.org/wiki/Band_names

[09:04:42.0000] <divya>
is that a w3c meme annevk

[09:04:49.0000] <divya>
it appears to be so

[09:05:19.0000] <divya>
/me coughs at w3cmeme creators

[09:05:19.0000] <annevk>
I learned about the ASCII thing because of the meme :)

[09:05:28.0000] <annevk>
divya: you want to submit memes?

[09:05:38.0000] <divya>
/me is on quickmemes

[09:06:06.0000] <hober>
what happened to the wiki? i can't log in anymore. :(

[09:07:01.0000] <divya>
you are no longer member of whatwg hober

[09:07:06.0000] <divya>
given you are now editor in w3

[09:07:07.0000] <divya>
c

[09:07:15.0000] <hober>
nvm, just forgot my username

[09:07:39.0000] <divya>
/me is disappointed there is no conspiracy

[09:07:46.0000] <odinho_>
divya: I liked your version better

[09:08:18.0000] <hober>
divya should know by now that there is no vast, browser-wing conspiracy

[09:08:32.0000] <divya>
there is only a small WG conspiracy

[09:08:51.0000] <divya>
/me is joking in case people want to quote me out of context

[09:08:59.0000] <divya>
/me awaits twitter drama

[09:13:38.0000] <annevk>
http://w3cmemes.tumblr.com/post/34640099897/unicode-operations-on-a-domstring-are-not-a-good

[09:14:16.0000] <divya>
+++++

[09:23:32.0000] <hober>
"user bang important rule" was the second album of which band?

[09:25:11.0000] <hsivonen>
what kind of <intent> element came up while I away from the webapps room?

[09:27:38.0000] <annevk>
dunno, I'm trying to fix URLs

[09:29:24.0000] <annevk>
zcorpan: willing to test ftp/gopher as well?

[09:29:57.0000] <annevk>
zcorpan: per spec only a few schemes can have a query component: http://url.spec.whatwg.org/#relative-scheme

[09:34:08.0000] <annevk>
zcorpan: in Gecko I get page-encoding for e.g. ws://test/?†

[09:34:28.0000] <annevk>
zcorpan: did you test inside <a>?

[09:34:54.0000] <annevk>
zcorpan: because for APIs the encoding flag might just be set to utf-8, as it is in e.g. XMLHttpRequest and CSS

[09:34:54.0000] <zcorpan>
annevk: my test case tests WebSocket(...) and what gets sent to the server

[09:35:01.0000] <annevk>
yeah that's different

[09:40:31.0000] <zcorpan>
annevk: http://simon.html5.org/test/url/url-encoding.html

[09:41:39.0000] <annevk>
add file:///

[09:41:44.0000] <annevk>
and thanks!

[09:42:00.0000] <zewt>
thanks!:///

[09:42:58.0000] <annevk>
bot detected

[09:44:12.0000] <hsivonen>
so presumably dinner is only after the pointer events meeting?

[09:45:16.0000] <zcorpan>
annevk: file: added

[09:45:30.0000] <zcorpan>
with two slashes :-)

[09:49:15.0000] <zcorpan>
what's the procedure for subscribing to whatwg bugs in w3c bugzilla?

[09:49:55.0000] <zcorpan>
i stalked Hixie for a while but realized that i received some bug emails twice, which is uncool

[09:50:11.0000] <MikeSmith>
what is subscribing?

[09:50:15.0000] <zcorpan>
well

[09:50:23.0000] <zcorpan>
i want to be notified about the bugs

[09:50:41.0000] <MikeSmith>
ah

[09:51:17.0000] <MikeSmith>
you got notification for the clone and bug both I guess you mean

[09:51:39.0000] <zcorpan>
no, i got two emails for the same bug #

[09:51:41.0000] <zcorpan>
iirc

[09:51:50.0000] <MikeSmith>
oh

[09:52:30.0000] <zcorpan>
how is one supposed to set up the prefs to get notified about bugs for specs one cares about?

[09:52:52.0000] <MikeSmith>
can't

[09:52:55.0000] <MikeSmith>
as far as I know

[09:52:59.0000] <zcorpan>
:-(

[09:53:02.0000] <MikeSmith>
with our bugzilla

[09:53:04.0000] <MikeSmith>
currently

[09:53:19.0000] <MikeSmith>
there is some feature for watching a component

[09:53:29.0000] <MikeSmith>
in some recent version of bugzilla

[09:53:38.0000] <MikeSmith>
but not in the version we're running now

[09:53:53.0000] <Hixie>
zcorpan: dude i get like 4 copies of each bugmail, it's insane

[09:53:54.0000] <zcorpan>
isn't there a workaround we can use if we refuse to update bugzilla?

[09:53:54.0000] <MikeSmith>
at least I've not been able to find an option to enable such a feature

[09:54:17.0000] <Hixie>
zcorpan: (one for me, one for watching the various lists, one for the htmlwg lists who are cc'ed, one for contributor⊙.)

[09:54:28.0000] <zcorpan>
i recall something about default QA contact being different for each component and then watching that

[09:54:42.0000] <zcorpan>
as a workaround

[09:54:50.0000] <zcorpan>
MikeSmith: can that be pulled off?

[09:55:02.0000] <Hixie>
i love the article where Paul Cotton was interviewed and he says the difference between the HTMLWG and the WHATWG is that in the WHATWG one person decides whereas in the HTMLWG the group decides

[09:55:08.0000] <MikeSmith>
zcorpan: yes

[09:55:10.0000] <MikeSmith>
we can do that

[09:55:15.0000] <zcorpan>
MikeSmith: excellent

[09:55:17.0000] <Hixie>
hello, the HTMLWG process is that three people, of which he's one, take turns to decide!

[09:56:55.0000] <zewt>
Hixie: is he criticizing the htmlwg? we all know how bad design by committee is, after all~

[09:57:36.0000] <Hixie>
no he was criticising me, for doing what he does :-)

[09:58:04.0000] <zewt>
sounds more like the other way around, though perhaps he's not aware of what he's doing :P

[09:58:16.0000] <MikeSmith>
zcorpan: I'll add some right now

[09:58:22.0000] <zcorpan>
MikeSmith: thanks

[10:02:16.0000] <Hixie>
annevk: still no reply from those ietf folk, i wonder if my last e-mail just made them give up

[10:03:41.0000] <annevk>
Hixie: yeah dunno, I'm making modest process in between talking with people here

[10:03:51.0000] <GPHemsley>
zcorpan, MikeSmith: Indeed, the old BMO way was to have fake QA Contacts that people could watch. I think it's a good workaround, if you don't actually have real QA Contacts.

[10:03:57.0000] <annevk>
Hixie: with the spec that is

[10:04:15.0000] <Hixie>
annevk: cool

[10:05:25.0000] <GPHemsley>
/me wonders why we don't just set up our own Bugzilla instance.

[10:05:46.0000] <GPHemsley>
/me then remembers that suggesting such things counts as volunteering and thus retracts his statement.

[10:06:26.0000] <zcorpan>
i think i heard GPHemsley volunteering to set up our own Bugzilla instance.

[10:06:45.0000] <GPHemsley>
zcorpan: You are imagining things.

[10:06:55.0000] <zcorpan>
oh. :-(

[10:06:55.0000] <GPHemsley>
zcorpan: It's the voice in your head.

[10:07:33.0000] <GPHemsley>
Which could mean that it's actually *you* volunteering! ;)

[10:07:50.0000] <zcorpan>
otoh, having our own instance would make it harder to clone and move bugs, no?

[10:07:56.0000] <zcorpan>
to other groups, i mean

[10:08:10.0000] <annevk>
yeah, sharing Bugzilla is very useful

[10:08:34.0000] <zcorpan>
just need to kick some w3c people to update it

[10:09:28.0000] <divya>
can bugzilla be skinned?

[10:10:07.0000] <zcorpan>
sure. just use a user stylesheet.

[10:10:34.0000] <zcorpan>
or glue a piece of skin to your screen.

[10:11:19.0000] <divya>
/me lols because csswg discussion is even more depressing

[10:11:41.0000] <divya>
zcorpan: no not like that, i mean is there a way to change the annoying dropdowns to autocomplete input boxes?

[10:12:36.0000] <zcorpan>
which field autocompletes?

[10:12:54.0000] <divya>
in w3c bugzilla you have to choose the specs from some 20 or so dropdown list

[10:13:00.0000] <divya>
or the scroll thing

[10:13:39.0000] <divya>
e.g. https://www.w3.org/Bugs/Public/show_bug.cgi?id=19735

[10:13:41.0000] <divya>
Product

[10:13:43.0000] <divya>
Component

[10:13:50.0000] <divya>
Platform

[10:14:20.0000] <zcorpan>
oh. what's wrong with it?

[10:14:25.0000] <divya>
:||||||||||||||||||||||||||||||

[10:14:38.0000] <divya>
never mind then.

[10:15:54.0000] <zcorpan>
i didn't mean to put you off, i'm more trying to understand what you think is bad

[10:16:16.0000] <zcorpan>
is the problem that there are 20 or so items in the list? or is the list itself hard to use? something else?

[10:16:47.0000] <divya>
yes zcorpan its painful

[10:16:48.0000] <MikeSmith>
zcorpan, Hixie and anybody else who's keen on bugmail: If I change the existing QA-contact address on the WHATWG HTML bugs, that's 1400+ bugs

[10:17:06.0000] <divya>
anyways BREAK TIME BAI

[10:17:06.0000] <MikeSmith>
and I think you might be a bugmail notifcation for each one of those

[10:17:32.0000] <zcorpan>
MikeSmith: so long as they're easily searchable so i can filter them out, i'm fine with that

[10:18:24.0000] <MikeSmith>
I think most sane people have their bugmail prefs set so that they don't get nofications about changes to the QA contact

[10:18:31.0000] <zcorpan>
i just unchecked the qa contact checkbox so i guess i won't get those emails now

[10:18:36.0000] <MikeSmith>
ok

[10:18:42.0000] <annevk>
let me change my settings before you hit submit

[10:18:45.0000] <MikeSmith>
hai

[10:19:14.0000] <MikeSmith>
anybody else please change their bugmail settings now please

[10:19:45.0000] <MikeSmith>
and anybody who doesn't and then gets the mailbomb, please don't kill me

[10:19:55.0000] <zcorpan>
https://www.w3.org/Bugs/Public/describecomponents.cgi?product=WHATWG seems to have default qa already

[10:20:19.0000] <Hixie>
MikeSmith: why would we change the qa contact?

[10:20:27.0000] <Hixie>
isn't it already contributor@?

[10:20:48.0000] <MikeSmith>
Hixie: because Simon wants a specific address to watch

[10:21:04.0000] <MikeSmith>
Hixie:  is that the only one where we using contributor@ as QA contact?

[10:21:12.0000] <Hixie>
i hope so

[10:21:17.0000] <MikeSmith>
/me vaguely recalls he talked with Hixie about this before

[10:21:18.0000] <MikeSmith>
OK

[10:21:25.0000] <MikeSmith>
I won't change that one then

[10:21:29.0000] <Hixie>
k

[10:21:59.0000] <MikeSmith>
zcorpan: follow contributor@ for WHATWG HTML spec bugs

[10:22:14.0000] <zcorpan>
ok. thanks!

[10:22:19.0000] <MikeSmith>
for the rest of WHATWG components I changed em already

[10:25:11.0000] <MikeSmith>
divya, we wrapping up here in webapps

[10:25:24.0000] <MikeSmith>
you prepared for eating food now?

[10:27:30.0000] <zcorpan>
mmmm... fooood...

[10:33:20.0000] <GPHemsley>
MikeSmith: Why'd you make them your e-mail address?

[10:34:47.0000] <MikeSmith>
GPHemsley: because I don't own no other seven e-mail addresses to use isntead

[10:35:12.0000] <Hixie>
i can set up arbitrary addresses @whatwg.org if you need 'em

[10:35:27.0000] <Hixie>
in fact, they don't even have to receive mail

[10:35:34.0000] <Hixie>
so you can just use arbitrary addresses without me doing anything

[10:51:57.0000] <Hixie>
i got SEVEN copies of the bugmail for bug 19773 when it was created

[10:51:57.0000] <Hixie>
wtf

[10:53:05.0000] <WeirdAl>
stupid chatzilla - it thought you meant 19773 @ Mozilla's bugzilla

[10:53:45.0000] <Ms2ger>
netwerk/base/public/nsIIOService.idl interface status?

[10:53:50.0000] <Ms2ger>
Could've been!

[10:53:55.0000] <WeirdAl>
:D

[10:59:58.0000] <GPHemsley>
MikeSmith, Hixie: Yeah, I think arbitrary whatwg.org e-mail addresses would be better. I was thinking something like mimesniff⊙swo

[11:55:58.0000] <GPHemsley>
Hixie: I would like to change the wiki e-mail address(es) so that the messages seem to come from the wiki instead of you, but I seem to recall you objecting to that in the past.

[11:56:25.0000] <Hixie>
it should come from a person, since a person is responsible for dealing with problems, imho

[11:57:14.0000] <Hixie>
but as admin of the wiki, you can do with it as you wish

[11:57:36.0000] <Hixie>
just keep us posted :-)

[12:21:41.0000] <GPHemsley>
Hixie: Out of curiosity, does anybody have @whatwg.org e-mail addresses (besides contributor@)?

[12:36:23.0000] <Hixie>
GPHemsley: no

[12:46:39.0000] <smaug____>
Ms2ger: come back :)

[12:47:38.0000] <Ms2ger>
:)

[12:48:08.0000] <Ms2ger>
/me should be used to bz knowing everything by now

[12:50:58.0000] <smaug____>
I somehow think he didn't get this one right

[13:04:14.0000] <GPHemsley>
Registered users	1,428

[13:04:14.0000] <GPHemsley>
Active users (list of members)

[13:04:14.0000] <GPHemsley>
(Users who have performed an action in the last 30 days)	14

[13:04:24.0000] <GPHemsley>
;_;

[13:04:54.0000] <karlcow>
GPHemsley: the stats for?

[13:05:01.0000] <GPHemsley>
the wiki

[13:05:17.0000] <karlcow>
which one?

[13:05:26.0000] <GPHemsley>
WHATWG

[13:05:42.0000] <karlcow>
ah expected.

[13:06:36.0000] <GPHemsley>
Hixie: Can you create an e-mail alias for me?

[13:06:53.0000] <GPHemsley>
Hixie: (for wiki.whatwg.org)

[13:17:20.0000] <Hixie>
GPHemsley: yeah, e-mail me details, running to lunch now

[13:17:26.0000] <GPHemsley>
alright

[13:32:25.0000] <GPHemsley>
Hixie: Mail sent.

[13:33:31.0000] <GPHemsley>
Does somebody want to try editing my talk page to test the e-mail system?

[14:46:47.0000] <Hixie>
GPHemsley: admin@wiki now goes to you and me

[14:46:55.0000] <GPHemsley>
k, thanks

[14:47:02.0000] <Hixie>
we could add anne too if he wants

[14:47:26.0000] <Hixie>
then if we need to have people ask us for accounts we can have them mail that dadress instead

[14:48:29.0000] <GPHemsley>
well, I've set it up so that all trusted users can create accounts

[14:50:16.0000] <Hixie>
k

[16:10:23.0000] <zcorpan>
http://filamentgroup.com/lab/rwd_img_compression/ is interesting

[16:11:10.0000] <zcorpan>
if that is good enough for retina, yet has smaller file size than what people do today for non-retina, it seems like a solved problem with just <img src>.

[16:13:04.0000] <zcorpan>
well, <img src width height>. we might want a way to say "2x" without knowing the exact dimensions

[16:13:58.0000] <zewt>
fg

[16:14:04.0000] <WeirdAl>
Hey folks - looking at svn.whatwg.org/webapps, and I'm wondering how the multipage version is generated... I'm wondering if you have a script for that which could be checked in.  :)

[16:14:05.0000] <zewt>
yeah, that.

[16:14:05.0000] <zcorpan>
(and design a solution just for the remaining problems with the art direction use case)

[16:16:35.0000] <zewt>
dear whoever this person is: files are not measured in pounds

[16:17:04.0000] <zcorpan>
i wonder how webp compares with this technique

[16:17:38.0000] <zewt>
zcorpan: it's roundabout, but it sounds like a wordy way of saying "high pixel density images can tolerate more artifacts" and "just quadruple your image resolution and target the same file size"

[16:18:23.0000] <zewt>
it's roundabout, so i'm not sure if i'm getting from it what was intended (and I'm a bit distracted)

[16:19:11.0000] <zcorpan>
zewt: right. though the bigger image has worse artifacts even when scaled down for the sky, as the first comment points out. which is why i wonder how webp compares.

[16:19:42.0000] <zewt>
a proper test would be three images: low-dpi high-bitrate ("regular"), high-dpi high-bitrate ("regular retina") and high-dpi low-bitrate-matching-#1s-file-size

[16:20:26.0000] <zcorpan>
and various different images

[16:20:50.0000] <zewt>
(i have an ipad 3 in front of me, but without a decent test I don't feel like painstakingly typing that URL into it; chrome to ipad wanted)

[16:22:00.0000] <zcorpan>
maybe i can hack together a test. i'll see if i have interesting images. also, what is a good webp encoder and what is a good jpeg encoder these days?

[16:22:42.0000] <zewt>
(don't know; i stopped paying attention to webp since it didn't look like it was a serious attempt at a general-purpose jpeg replacement)

[16:23:37.0000] <zewt>
seemed (a couple years ago?) like it was hyperfocused on "a lossy image format for web pages" and not caring about replacing jpeg in general, and I don't think I want a world where we have two production lossy image formats and people need to make complex judgements to decide which to use

[16:24:39.0000] <zcorpan>
i thought webp was being improved. though i haven't followed it closely.

[16:26:02.0000] <zewt>
it's not that it isn't being improved (no idea on that, really), but that it seemed they were happy to not support things that aren't directly relevant to web images

[16:26:16.0000] <zcorpan>
i wish more time was spent on improving jpeg encoders

[16:26:18.0000] <zewt>
for example, jpeg's max file size I believe is 64x64k, webp 16x16k

[16:26:40.0000] <zewt>
users shouldn't need criteria like "use webp! but if your file is very large, use jpeg instead!"

[16:27:11.0000] <zewt>
(that's just the random thing I happened to recall off the top of my head, I think there were others but it's been too long)

[16:27:22.0000] <zcorpan>
right

[16:28:18.0000] <zewt>
cmyk might have been another

[16:28:33.0000] <zewt>
(i guess those are both print things, where you probably don't want jpeg either)

[16:29:09.0000] <zcorpan>
though 16x16k seems enough even for big images that have twice the resolution you want

[16:29:19.0000] <zcorpan>
for the web, i mean

[16:29:36.0000] <zewt>
for the web, sure (more than that will tend to choke browsers anyway)

[16:51:24.0000] <Hixie>
gah

[16:51:40.0000] <Hixie>
anyone remember where i put those tests recently that checked <embed> behaviour when display:none / height:0 / etc?

[16:59:21.0000] <WeirdAl>
Hixie: no idea, but on another note:  how do you generate the multipage editions of the HTML5 spec from the source file?

[16:59:33.0000] <WeirdAl>
(see my question posted 45 minutes ago)


2012-10-31
[17:02:08.0000] <Hixie>
it's a complicated set of scripts

[17:02:14.0000] <Hixie>
split across multiple machines

[17:02:19.0000] <Hixie>
why?

[17:14:01.0000] <zcorpan>
i have an image that got absolutely ruined by quality 0 jpeg with gimp

[17:25:09.0000] <WeirdAl>
Hixie - well, I'd like to be able to locally break that 6MB file up into chapters

[17:25:21.0000] <WeirdAl>
and I'd rather use official scripts than try to homebrew it

[17:25:50.0000] <WeirdAl>
Python would be really good at it, I'd think...

[17:26:44.0000] <WeirdAl>
if the scripts were checked in, that'd be good enough for me to work with (I think)

[17:29:54.0000] <WeirdAl>
hmm, I'll have to file a bug on XHTML serialization - it doesn't specify what should happen with the XML prolog, if there ever was one

[17:30:30.0000] <WeirdAl>
when parsing the DOM, the <?xml ?> prolog is usually lost.

[17:31:54.0000] <Youdaman>
g'day

[17:32:30.0000] <Youdaman>
divya: thank you for your informative video via MarakanaTechTV :)

[18:04:26.0000] <zcorpan>
so from my testing, with the image i played around with, using quality 0, 10, 20, results in quite blocky artifacts which look horrible. however, quality 40 is OK and gives a better image zoomed in compared to smaller quality 90 image.

[18:07:11.0000] <zcorpan>
so using a 2x image with 40 quality results in similar-filesize with better quality for retina (or zoomed in), while using 4x with 10 quality results in similar-filesize with horrible quality everywhere

[18:07:50.0000] <zcorpan>
(compared to 1x 90 quality)

[18:08:33.0000] <zcorpan>
(all 4:2:2 subsampling and unchecked most checkboxes in gimp's export jpeg)

[18:09:58.0000] <zcorpan>
(using 4:2:0 subsampling seems to reduce file size but doesn't degrade quality noticeably)

[18:42:19.0000] <zcorpan>
http://simon.html5.org/dump/compressive/test.html

[18:42:25.0000] <Hixie>
hm, weirdal left

[18:43:29.0000] <Hixie>
size 25% isn't loading properly for me

[18:43:34.0000] <Hixie>
quality 10 is a disaster on the wall

[18:45:06.0000] <zcorpan>
problems uploading...

[18:47:56.0000] <zcorpan>
sigh. i'll try again tomorrow.

[20:13:13.0000] <GPHemsley>
apparently filesize equates to "weight" now?

[20:17:26.0000] <GPHemsley>
wait, so, WeirdAl doesn't want to reverse-engineer the scripts powering the spec that was written because people were always having to reverse-engineer how scripts were processed?

[20:34:54.0000] <SamB_MacG5>
"complicated set of scripts split across multiple machines" sounds like a bad idea ...

[20:35:34.0000] <SamB_MacG5>
(though I guess that's also par for debian.org/debian.net ...)

[00:25:47.0000] <annevk>
Hixie: I'm afraid of me bringing it up again later :p

[00:25:52.0000] <annevk>
(re WorkerUtils)

[00:53:28.0000] <divya>
Youdaman: thanks you are welcome is that why you are here :)

[00:53:32.0000] <divya>
if so i am glad :)

[00:55:33.0000] <hsivonen>
is there a backchannel for the plenary?

[00:57:32.0000] <annevk>
#tpac-chat on W3C IRC

[00:57:40.0000] <hsivonen>
thanks

[00:57:48.0000] <annevk>
there's also #tpac-treehouse on Freenode, but more quiet

[00:58:12.0000] <Ms2ger>
Anything happening?

[00:59:39.0000] <hsivonen>
Ms2ger; we should listen to analysts

[01:04:22.0000] <Youdaman>
divya: yep that's why i'm here :)

[01:06:39.0000] <smaug____>
hsivonen: and there is also #tpac

[01:07:14.0000] <annevk>
modular modular modular

[01:07:45.0000] <annevk>
because if you split a coherent doc in two, it's modular...

[01:08:01.0000] <hsivonen>
#tpac is for minuting

[01:10:20.0000] <annevk>
teehee, I think I can merge parse and interpret soonish

[01:11:19.0000] <divya>
Youdaman: naice!

[01:11:27.0000] <divya>
any new memes yet?

[01:11:40.0000] <divya>
i see no source for memes tho.

[01:12:14.0000] <hober>
annevk divya: i guess we could make some kind of whaambulance meme

[01:12:26.0000] <divya>
ahah what does it mean hober

[01:12:48.0000] <annevk>
http://lists.w3.org/Archives/Public/public-script-coord/2012OctDec/0110.html

[01:13:14.0000] <annevk>
divya: ^^

[01:14:20.0000] <divya>
waaah

[01:14:22.0000] <divya>
naice

[01:14:48.0000] <divya>
WHAAMBULANCE

[01:37:37.0000] <nessy>
http://www.youtube.com/watch?v=IT0ofNU1NzA

[01:37:45.0000] <nessy>
I actually had to look that one up ;-)

[05:28:51.0000] <smaug____>
"Extended DRM"

[05:29:00.0000] <smaug____>
must be something awesome :/

[05:33:46.0000] <annevk>
uhuh

[05:33:55.0000] <annevk>
zcorpan: went okay I think, considering the TPAC

[05:34:24.0000] <annevk>
the topic, lol

[05:34:42.0000] <zcorpan>
cool

[05:34:51.0000] <Ms2ger>
The TuPAC?

[06:10:31.0000] <[tm]>
wtf "ERROR Closing Link: 91.217.168.220 (Too many user connections (global))"

[06:10:38.0000] <[tm]>
from irc.freenode.net

[06:22:21.0000] <annevk>
yeah someone should email the Freenode staff with our IP

[06:22:24.0000] <annevk>
to ask for an upgrade

[06:22:29.0000] <annevk>
had the same problem yesterday

[06:22:42.0000] <[tm]>
annevk: no way to get around it from the client side, right?

[06:22:54.0000] <Ms2ger>
ssh, I guess

[06:24:55.0000] <[tm]>
Ms2ger: yeah that's what I'm doing here

[06:27:59.0000] <smaug____>
drm is just pure evil

[06:29:34.0000] <tantek>
not sure if drm is pure evil, or pure stupidity.

[06:30:19.0000] <hober>
that or isn't an xor :)

[06:44:05.0000] <annevk>
[tm]: no, we had the same problem at Opera, I emailed them telling them we're Opera and we like their service and would need upwards of 200 allowed connections

[06:44:32.0000] <annevk>
[tm]: that's about all it takes

[06:45:17.0000] <gsnedders>
Can you not just msg some online staff?

[06:46:17.0000] <annevk>
well I couldn't connect at the time :)

[08:09:32.0000] <GPHemsley>
If anyone gets a chance in between arguments, feedback welcome on my latest commit to mimesniff.

[08:14:56.0000] <annevk>
GPHemsley: hard to review :/

[08:15:08.0000] <GPHemsley>
yeah, the stupid differ b0rked

[08:15:24.0000] <GPHemsley>
marked sections as changed that hadn't been changed

[08:15:32.0000] <GPHemsley>
no idea why

[08:15:49.0000] <annevk>
a bunch of things like "a video type supported by the user agent" are not linked

[08:16:03.0000] <annevk>
GPHemsley: whitespace?

[08:16:29.0000] <GPHemsley>
the majority of the changes are in the "Unknown media type" section

[08:16:42.0000] <GPHemsley>
which I completely rewrote

[08:16:58.0000] <GPHemsley>
those unlinked terms were like that before this change

[08:17:01.0000] <GPHemsley>
I haven't defined them yet

[08:17:12.0000] <annevk>
k

[08:17:30.0000] <GPHemsley>
all of 5.2 needs review

[08:17:42.0000] <annevk>
in general I guess the cleanup looks good, but it might take a while before you find someone to review that

[08:17:46.0000] <annevk>
maybe once people write tests for it

[08:17:47.0000] <GPHemsley>
a few definitions were added in 3

[08:17:49.0000] <GPHemsley>
yeah

[08:18:02.0000] <GPHemsley>
incidentally, where would those tests live?

[08:19:48.0000] <annevk>
Hixie: looks like we need quirks.spec.whatwg.org

[08:19:58.0000] <annevk>
Hixie: ownership -> annevankesteren again

[08:20:41.0000] <GPHemsley>
abarth: Do you recall if the order of the list of type patterns is significant in mimesniff?

[08:20:50.0000] <GPHemsley>
abarth: (There doesn't appear to be much overlap between the patterns that could result in a precedence conflict, IMO.)

[09:52:44.0000] <abarth>
GPHemsley: I think the order is mostly not important

[09:52:57.0000] <GPHemsley>
ah, good

[09:53:00.0000] <abarth>
GPHemsley: That's something you should check before changing, however

[09:53:13.0000] <GPHemsley>
ah, not so good

[09:53:14.0000] <GPHemsley>
:P

[11:08:25.0000] <annevk>
Hixie: I also want notifications or notification

[11:08:45.0000] <annevk>
Hixie: given that we have "Fullscreen" I think "Notification" makes sense

[11:12:27.0000] <annevk>
/me is looking forward to next week

[11:12:34.0000] <annevk>
/me wants to solve host names

[11:27:26.0000] <Hixie>
annevk: "fullscreens" wouldn't make sense, would it?

[11:27:39.0000] <Hixie>
"notifications" seems more correct to me, but i dunno, your call

[11:27:47.0000] <annevk>
okay

[11:27:54.0000] <Hixie>
notifications. and quirks. ?

[11:28:10.0000] <annevk>
for now, yes

[11:28:21.0000] <annevk>
tantek wants to add some stuff, but he's not yet ready I think

[11:28:28.0000] <annevk>
thanks

[11:28:53.0000] <annevk>
gonna go back to the reception thingie now

[11:28:59.0000] <Hixie>
is zcorpan giving up on quirks?

[11:29:15.0000] <annevk>
no, W3C gave up on him by not allowing CC0, so he wants to move it here

[11:29:22.0000] <Hixie>
aah, ok

[11:29:24.0000] <annevk>
but he wants to reuse my setup for github

[11:29:30.0000] <Hixie>
so your user?

[11:29:33.0000] <annevk>
yes

[11:29:35.0000] <Hixie>
roger

[11:30:02.0000] <Hixie>
(when was quirks ever a w3c spec?)

[11:31:18.0000] <Hixie>
both done

[11:31:32.0000] <Hixie>
let me know when to update the specs list

[11:33:17.0000] <Hixie>
oh, i see, they just don't want people to do drafts under a non-CLA license

[11:33:18.0000] <Hixie>
ok

[11:33:57.0000] <Hixie>
well that's a non-issue, we only need the FSA from the w3c

[12:12:45.0000] <GPHemsley>
Hixie: Thanks for all the bugs! :P

[12:13:23.0000] <GPHemsley>
Hixie: A few of them are just wording issues, so I'll need your help figuring out how to say what I mean.

[12:14:16.0000] <Hixie>
sure

[12:35:05.0000] <Hixie>
MikeSmith: https://www.w3.org/Bugs/Public/show_bug.cgi?id=18338#c2 (please feel free to close the bug or reassign it if you think it shouldn't be in html after all)

[12:35:21.0000] <MikeSmith>
/me looks now

[12:36:10.0000] <MikeSmith>
Hixie: I guess I've been waiting to hear what hsivonen thinks of that one

[12:36:52.0000] <MikeSmith>
I vaguely recall him saying that he thinks it'd good to have the HTML spec say something about this

[12:37:00.0000] <MikeSmith>
anyway I'll ask him

[12:37:37.0000] <MikeSmith>
gotta drop off soon

[12:45:36.0000] <GPHemsley>
Hixie: Wasn't sure if you wanted me to move the components for the bugs assigned to do; I didn't.

[12:45:49.0000] <GPHemsley>
Hixie: I've responded to all the bugs you filed.

[12:46:54.0000] <Hixie>
k

[12:47:21.0000] <GPHemsley>
Hixie: P.S. Don't forget MIMESNIFF is also referenced here: http://www.whatwg.org/specs/web-apps/current-work/multipage/iana.html

[12:47:33.0000] <GPHemsley>
(Not sure if you need to update that, except maybe the name of the spec.)

[12:58:22.0000] <Hixie>
that section is not long for this world

[13:27:07.0000] <Ms2ger>
Hixie, do you mind us being crazy? :)

[13:35:56.0000] <GPHemsley>
/me proposes having a media type 'font'.

[13:36:40.0000] <GPHemsley>
(Also 'archive')

[13:36:50.0000] <GPHemsley>
font/ttf

[13:36:54.0000] <GPHemsley>
archive/zip

[13:36:55.0000] <GPHemsley>
etc.

[13:38:32.0000] <Ms2ger>
Heh

[13:41:50.0000] <GPHemsley>
Ms2ger: Unrealistic?

[13:42:04.0000] <GPHemsley>
/me thinks too much gets lumped into 'application'

[13:42:20.0000] <Ms2ger>
I've seen people talk about font/ for years :)

[13:44:42.0000] <GPHemsley>
ah

[13:44:49.0000] <GPHemsley>
well

[13:44:52.0000] <GPHemsley>
hmm

[13:45:00.0000] <GPHemsley>
If I spec it, they will come?

[13:45:52.0000] <GPHemsley>
"A font type is any valid media type where type is equal to "font" or the media type portion is equal to one of the following: ..."

[13:46:53.0000] <GPHemsley>
Ms2ger, Hixie: What do you think?

[13:47:10.0000] <Ms2ger>
I care very little :)

[13:48:24.0000] <GPHemsley>
/me assumes that is support.

[13:48:32.0000] <GPHemsley>
;)

[15:01:34.0000] <Hixie>
GPHemsley: i agree, if we assume mime types make sense at all, that there should be a font/ top-level type, but i'm not sure the mime sniffing spec is where it should be. But then if you want to replace the IANA MIME type registry and all the MIME machinery, it would make sense to have a new spec that subsumes mime sniffing and all those things.

[15:01:47.0000] <Hixie>
GPHemsley: might want to approach the IETF first to see if they're amenable to considering that first, though

[15:01:59.0000] <Hixie>
GPHemsley: also, might be worth getting the mime sniffing stuff solid first :-P

[15:34:25.0000] <hsivonen>
epub has prior art for font types.

[15:34:59.0000] <hsivonen>
application/vnd.ms-opentype and application/font-woff

[15:35:34.0000] <hsivonen>
better not reinvent that stuff

[15:40:23.0000] <hsivonen>
I don't know where the idpf pulled those out of, but this stuff has been made up already

[16:55:26.0000] <zcorpan>
curious about the CLA attribution requirement: "That attribution must include, at minimum, the Specification name and version number."

[16:56:09.0000] <zcorpan>
so if a CLA spec doesn't have a version number, it's not possible to give it attribution

[16:56:55.0000] <zcorpan>
yet there is no requirement to give a spec a version number, afaict

[16:57:27.0000] <zcorpan>
(i guess the same argument could be made for the specification name, but that hasn't actually happened)

