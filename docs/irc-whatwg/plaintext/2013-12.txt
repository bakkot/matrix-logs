2013-12-01
[00:51:59.0000] <Ms2ger>
SimonSapin, you can log into critic with your github account

[03:27:30.0000] <Leith_Bade>
how do I add something to http://wiki.whatwg.org/wiki/MetaExtensions? the w3c validator didn't like Google's AJAX crawling meta-tag (https://developers.google.com/webmasters/ajax-crawling/docs/specification) and told me to add it to that page

[11:24:26.0000] <Ms2ger>
"Lesson from today: don't ever favor process over empathy."

[11:24:30.0000] <Ms2ger>
That took long :)

[11:24:50.0000] <smaug____>
if element A is in a document D associated with browsing context and setAttribute("onclick", "/*some script*/"); is called. Then A is adopted to document E which isn't associated with a browsing context and A.onclick is accessed, should it be null or compiled event handler?

[11:25:43.0000] <Ms2ger>
/me sticks his head in the sand

[11:29:09.0000] <smaug____>
/me wonders where "the Window object with which document is currently associated." is defined

[12:42:59.0000] <gsnedders>
SimonSapin: idk, I'm just wondering aloud in the bug :)

[14:19:49.0000] <smaug____>
Hixie: ping

[14:21:46.0000] <smaug____>
Hixie: I can't seem to find where "the Window object with which document is currently associated." and "the Document with which the Window is currently associated." are defined. Trying to figure out http://logbot.glob.com.au/?c=freenode%23whatwg&s=1%20Dec%202013&e=1%20Dec%202013#c842849


2013-12-02
[23:53:29.0000] <MikeSmith>
hsivonen: about the validator XHTML1 schema, I'm wondering if you remember why the xml:space attribute for the style element in the schema

[23:53:32.0000] <MikeSmith>
https://bitbucket.org/validator/validator/src/7625938e679a27265ae625e57b5ed33c063dfacb/schema/xhtml10/style.rnc?at=default#cl-44

[23:54:28.0000] <MikeSmith>
oh wait maybe I see why

[23:56:10.0000] <MikeSmith>
you added it to some other patterns

[23:57:19.0000] <MikeSmith>
anyway, I ask above if you remember why you zapped it from style

[23:58:41.0000] <MikeSmith>
I assume it's probably because you intended that it be included in some other pattern that the style schema inclluded

[00:00:40.0000] <MikeSmith>
but anyway at this point it doesn't, and the effect is that the validator flags any style element with an xml:space attribute as an error

[00:03:21.0000] <MikeSmith>
which is especially a problem if you turn the "load external entities" option on, because the XHTML1 DTD makes xml:space #FIXED 'preserve' for style

[00:04:37.0000] <MikeSmith>
so the XML parser adds it if it's not there already, and then the validator flags it as an error even though it's not even present in the input document (pre-parsing)

[00:04:59.0000] <MikeSmith>
which from a user perspective is pretty confusing

[00:09:38.0000] <MikeSmith>
OK yeah I see now that you created an "xml.space.attrib" pattern and added it to the "Core.attrib" pattern

[00:11:53.0000] <MikeSmith>
the problem is that because the style.attlist pattern doesn't include Core.attrib, that has the effect of xml:space no longer being allowed for the style element

[00:14:35.0000] <MikeSmith>
Ms2ger: do you know, is Servo still using hubbub for HTML parsing?

[00:14:38.0000] <Ms2ger>
Yup

[00:14:50.0000] <Ms2ger>
Want to finish the translation? :)

[00:15:27.0000] <MikeSmith>
heh

[00:15:56.0000] <MikeSmith>
thanks for the kind offer, but no thanks

[00:16:05.0000] <Ms2ger>
Aww

[00:16:13.0000] <Ms2ger>
Oh hey, tests for marquee

[00:17:00.0000] <MikeSmith>
nice

[00:17:04.0000] <MikeSmith>
who from?

[00:17:20.0000] <MikeSmith>
Ms2ger: btw, <!doctype html><p>Test

[00:17:25.0000] <MikeSmith>
in servo

[00:17:37.0000] <MikeSmith>
with no </p> end tag

[00:17:38.0000] <Ms2ger>
Intel

[00:17:43.0000] <MikeSmith>
hmm

[00:18:24.0000] <MikeSmith>
I think Intel may have some people with too much time on their hands then

[00:18:49.0000] <MikeSmith>
which person at Intel? Not Zhang?

[00:19:11.0000] <Ms2ger>
xiaojunwu, but I don't know if they wrote or just submitted them

[00:19:39.0000] <MikeSmith>
so can I assume that <!doctype html><p>Test fails to render as expected because of broken parsing? or some other reason?

[00:20:28.0000] <Ms2ger>
Looking

[00:22:26.0000] <Ms2ger>
Looks like we don't do a reflow

[00:23:09.0000] <MikeSmith>
well

[00:23:18.0000] <MikeSmith>
that's odd

[00:24:01.0000] <MikeSmith>
I wouldn't think that should be depending on the presence of the end tag in the input document

[00:25:46.0000] <Ms2ger>
Or not

[00:26:27.0000] <MikeSmith>
seems like it must be constructing a different DOM

[00:27:11.0000] <MikeSmith>
so please add an Inspect Element in Servo so I can inspect the DOM

[00:27:44.0000] <Ms2ger>
Heh

[00:27:45.0000] <MikeSmith>
in exchange I'll contribute some marquee tests for Servo

[00:27:52.0000] <Ms2ger>
DOM looks sane

[00:27:58.0000] <MikeSmith>
weird

[00:28:28.0000] <Ms2ger>
Oh no it doesn't

[00:28:32.0000] <Ms2ger>
There's no Text

[00:29:06.0000] <MikeSmith>
that would probably do it I guess

[00:30:04.0000] <Ms2ger>
File an issue?

[00:30:08.0000] <MikeSmith>
hai

[00:30:27.0000] <Ms2ger>
Not that I expect it to be fixed before we get the new parser

[00:30:31.0000] <MikeSmith>
this will be the first non-build-related bug I reported for Servo

[00:30:36.0000] <Ms2ger>
Which brings us to... :)

[00:30:40.0000] <MikeSmith>
heh

[00:31:15.0000] <MikeSmith>
first I'd need to learn Rust

[00:31:47.0000] <MikeSmith>
which I think would require me dosing up more than normal

[00:32:19.0000] <Ms2ger>
It's actually quite nice :)

[00:32:38.0000] <MikeSmith>
btw by file an issue you mean a bugzilla.mozilla bug? or a gh issue?

[00:32:54.0000] <Ms2ger>
Github

[00:32:58.0000] <MikeSmith>
oK

[00:33:03.0000] <Ms2ger>
Unfortunately

[00:35:18.0000] <MikeSmith>
yeah well I guess they're going to fully break new ground they might as well use a broken bug-reporting system too

[00:35:26.0000] <Ms2ger>
Ouch.

[00:36:12.0000] <MikeSmith>
well I was going to say if they're going to make a toy browser engine they might as well use a toy bug-reporting system

[00:36:19.0000] <MikeSmith>
but I decided not to say that

[00:36:46.0000] <MikeSmith>
because that would be really obnoxious

[00:39:38.0000] <Ms2ger>
Hey, Samsung might actually ship it

[00:41:13.0000] <MikeSmith>
good maybe they can have somebody finish the parser work

[00:41:38.0000] <MikeSmith>
it is going to be very cool when it does finally ship

[00:42:00.0000] <MikeSmith>
it's pretty crazy how far along it is after just a year

[00:42:09.0000] <Ms2ger>
Could use more people who know about the DOM, fwiw ;)

[00:42:43.0000] <MikeSmith>
plh!

[00:43:04.0000] <MikeSmith>
I won't tell him but I'll suggest to him that he learn Rust just for fun

[00:43:11.0000] <Ms2ger>
Heh

[01:02:39.0000] <MikeSmith>
yipes Mike West getting a little carried away in the blink "Intent to remove"-fest https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/14q_I06gwg8

[01:02:55.0000] <MikeSmith>
"what we currently do with the tag is strange, and doesn't seem to actually support it's usage in the wild.

[01:03:52.0000] <MikeSmith>
where what they are currently doing with the tag = conforming to what the HTML spec requires them to do with

[01:04:10.0000] <MikeSmith>
which is admittedly pretty strange

[01:04:53.0000] <MikeSmith>
but you'd hope engineers would be reading the specs before proposing to yank stuff

[01:06:32.0000] <MikeSmith>
especially when he's citing the spec in his message

[02:11:20.0000] <Ms2ger>
/me wants a version of http://simon.html5.org/tools/js/unicodeize/ that also gives the names of the characters

[02:15:07.0000] <zcorpan>
Ms2ger: fork it :-)

[02:15:37.0000] <Ms2ger>
Sorry

[02:15:43.0000] <Ms2ger>
I want someone else to make it :)

[02:19:26.0000] <zcorpan>
there's http://software.hixie.ch/utilities/cgi/unicode-decoder/character-identifier but i don't know if that helps

[02:21:05.0000] <zcorpan>
i wonder why https://critic.hoppipolla.co.uk/r/437 doesn't show the meta refresh commit

[02:21:35.0000] <Ms2ger>
Oh, that's neat too

[02:22:02.0000] <Ms2ger>
Even though it says (this script is currently broken)

[02:22:30.0000] <Ms2ger>
I'd fix it to match what I need, but it's perl :/

[02:22:42.0000] <Ms2ger>
/me specs PI serialization instead

[02:26:38.0000] <Ms2ger>
/me notices that Travis didn't serialize the target

[02:38:10.0000] <Ms2ger>
So, a PI with an empty data

[02:38:19.0000] <Ms2ger>
"<?a ?>" or "<?a?>"?

[02:39:06.0000] <jgraham>
zcorpan: Better?

[02:39:41.0000] <zcorpan>
jgraham: yep, thanks

[02:39:55.0000] <zcorpan>
Ms2ger: in xml?

[02:40:05.0000] <Ms2ger>
Yeah

[02:41:33.0000] <jgraham>
08:32 < Ms2ger> It's actually quite nice :)

[02:41:44.0000] <jgraham>
Ms2ger: One word: AbstractNode

[02:42:20.0000] <Ms2ger>
jgraham, we're busy removing that ;)

[02:42:47.0000] <zcorpan>
Ms2ger: what does ie do?

[02:43:29.0000] <jgraham>
Ms2ger: Sure, but the fact that it ever happened :)

[02:44:01.0000] <jgraham>
(I like Rust btw, but the inability to model the DOM without craziness is rather unfortunate)

[02:44:31.0000] <Ms2ger>
IE and Chrome have the space, Gecko doesn't have one

[02:46:07.0000] <zcorpan>
Ms2ger: then include the space :-)

[02:46:36.0000] <zcorpan>
http://www.browserstack.com/screenshots/b7d6431d229dc231b4dbd4948514028a882dfed6 :-|

[02:47:43.0000] <Ms2ger>
How about in HTML?

[02:48:19.0000] <Ms2ger>
Chrome and IE throw when you create a PI, Gecko serializes without a space

[02:48:54.0000] <Ms2ger>
/me tries something else

[02:49:19.0000] <zcorpan>
http://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#html-fragment-serialization-algorithm defines that already, with space

[02:55:28.0000] <zcorpan>
if i understand the spec correctly then <embed type=image/svg+xml> should create a browsing context that is able to load basically anything into it

[02:59:08.0000] <annevk>
zcorpan: no, because that's not a plugin that the browser supports

[03:01:01.0000] <zcorpan>
annevk: hmm. in that case the resource has to have image/svg+xml content-type to create the browsing context. and then you can navigate to anything

[03:01:46.0000] <annevk>
zcorpan: yeah

[03:02:04.0000] <Ms2ger>
Hmm, HTML is interesting

[03:02:55.0000] <Ms2ger>
The HTML spec and Gecko do <?a >, IE and Chrome do <?a ?>

[03:03:37.0000] <Ms2ger>
zcorpan, so what do you think about that? :)

[03:04:07.0000] <zcorpan>
Ms2ger: i think the spec is right

[03:05:43.0000] <zcorpan>
Ms2ger: html ends the bogus comment on the first > and in sgml PIs end with >

[03:06:29.0000] <Ms2ger>
It's been a while since I heard SGML used as an argument here :)

[03:06:51.0000] <annevk>
Is this for serializing a processing instruction?

[03:07:21.0000] <Ms2ger>
Yeah

[03:07:39.0000] <annevk>
Just do the same as in XML?

[03:07:52.0000] <Ms2ger>
zcorpan disagrees :)

[03:08:00.0000] <annevk>
Either that or serialize as a plain comment

[03:08:11.0000] <annevk>
<!--target contents-->

[03:08:14.0000] <Ms2ger>
/me steps back to let the people who care fight it out

[03:08:20.0000] <zcorpan>
annevk: why?

[03:08:54.0000] <annevk>
zcorpan: same path as XML is simpler and more predictable, HTML comments generates less errors on a reparse

[03:17:24.0000] <Ms2ger>
/me will post to the list later

[03:25:36.0000] <hsivonen>
MikeSmith: Maybe I added xml:space to all elements and had to remove it from <style> to avoid the double attribute error from Jing

[03:27:09.0000] <MikeSmith>
hsivonen: as far as I can see in the current schema it's not been added to all elements. Because you added it to Common.attrib but <style> doesn't use  Common.attrib

[03:30:24.0000] <hsivonen>
MikeSmith: OK. I have no idea what I was thinking, then

[03:35:51.0000] <MikeSmith>
hsivonen: Maybe you were thinking that the schema you started from was probably consistent and logical :)

[03:36:21.0000] <Ms2ger>
Ehehehe

[03:37:04.0000] <MikeSmith>
can't make a silk purse from a sow's ear

[03:37:59.0000] <MikeSmith>
since the specs the schema is modeling aren't consistent and logical

[03:38:27.0000] <Ms2ger>
That's an interesting expression

[03:38:28.0000] <hsivonen>
yeah, I don't think the schema writers are to blame in this case

[03:38:43.0000] <annevk>
Why do we want to allow xml:space though?

[03:38:46.0000] <annevk>
Seems like a bug

[03:38:51.0000] <hsivonen>
(and I don't mean myself but the earlier authors)

[03:39:18.0000] <annevk>
And why would <style> not have Common.attrib?

[03:39:28.0000] <hsivonen>
annevk: I may have been thinking that xml:space should be allowed throughout as part of the XML layer

[03:40:15.0000] <hsivonen>
annevk: I made the changeset MikeSmith is referring to back when I still tried to support xml:id, too

[03:40:30.0000] <annevk>
xml:id :-)

[03:41:05.0000] <hsivonen>
annevk: well, you believed in xml:id once, too

[03:41:29.0000] <annevk>
Oh yeah, was just laughing because I forgot about it

[03:43:46.0000] <Ms2ger>
/me goes off for lunch

[03:44:19.0000] <annevk>
Ms2ger: https://github.com/whatwg/domparsing/pull/1

[03:44:39.0000] <Ms2ger>
Huh

[03:44:49.0000] <Ms2ger>
I missed that

[03:45:00.0000] <Ms2ger>
Will merge it after lunch

[03:48:39.0000] <MikeSmith>
annevk: the reason for the schema not allowing Common.attrib for style is that that the XHTML1 spec doesn't allow style to have certain global attributes. Which makes sense because HTML4 didn't allow them for style either, and XHTML1 was supposedly just a reformulation of HTML4 in XML

[03:49:26.0000] <MikeSmith>
but then I notice that the XHTML1 spec allows style to have the id attribute, despite the fact that HTML4 didn't

[03:51:06.0000] <annevk>
Why do we still validate HTML4?

[03:51:19.0000] <MikeSmith>
annevk: and this is all just about XHTML1/HTML4 checking in the validator, so the reason to allow xml:space is because the XHTML1 spec allows it

[03:51:39.0000] <MikeSmith>
annevk:  so I can retire the legacy W3C validator for once and all

[03:51:53.0000] <annevk>
Can't we retire both?

[03:52:02.0000] <annevk>
And wow, didn't know that was still around

[03:52:46.0000] <MikeSmith>
yeah, despite me doing my best to kill it

[03:53:37.0000] <MikeSmith>
anyway, the requirement I've been given is that I need to continue to provide support for checking HTML4 and XHTML1 documents

[03:54:01.0000] <borior>
annevk: hey there, I've been pointed in your direction after moaning a lot about the absence of a vendor-agnostic browser extension API and/or packaging format

[03:54:22.0000] <annevk>
MikeSmith: dude, you sound like Steven Pemberton now :p

[03:54:31.0000] <annevk>
"Our charter told us to build XHTML 2.0, so we did."

[03:55:07.0000] <borior>
I've been reading about the webapps wg. Where's the best place to get an overview of the current state of affairs and intended directions?

[03:55:48.0000] <annevk>
borior: I'm not sure anyone is working on standardized packaging at the moment, maybe the SysApps WG?

[03:56:21.0000] <annevk>
borior: I'm not a big fan of packaged apps: http://the-pastry-box-project.net/anne-van-kesteren/2013-december-2/

[03:56:47.0000] <borior>
right, neither am I

[03:57:01.0000] <annevk>
borior: as for extensions, that might make sense, but given that we have enough trouble as it is to agree on public APIs, standardizing internal APIs seems tough

[03:57:19.0000] <borior>
the use case I'm interested in at the moment is annotation

[03:57:59.0000] <borior>
which in technical terms, for me, means I'd like to authorise some code to run in an isolated execution context on every page i visit, with access to the DOM

[03:58:24.0000] <borior>
this doesn't require packaging, per se, but it would require some mechanism to install that intent (and code) into my UA

[03:58:50.0000] <borior>
which seems partially to be the intent of the mozApps stuff

[03:59:12.0000] <borior>
but hey, that's vendor-specific again, and it makes me sad :(

[03:59:21.0000] <MikeSmith>
annevk: I forgot to mention that I'll also be adding XForms support. When I'm done with that I plan to also include modularization and then, decentralized extensibility

[04:00:04.0000] <annevk>
MikeSmith: sounds like you'll be hitting your bonus targets

[04:00:36.0000] <annevk>
borior: yeah, I don't think we're even close on getting to some standardized solution for problems like that

[04:01:35.0000] <borior>
annevk: is is something worth raising in the webapps wg lists? or are you focused on features for specific (i.e. "has-a-url") pages?

[04:01:39.0000] <borior>
*it

[04:02:35.0000] <annevk>
borior: doesn't hurt to ask I suppose, but I don't know anyone trying to tackle that

[04:02:59.0000] <borior>
okay, that's really helpful, anyway

[05:01:21.0000] <annevk>
Domenic_: do we have a way yet to see how many tests a browser passes of the promises test suite?

[05:01:38.0000] <annevk>
Domenic_: even if not run through the Ecma test suite?

[05:01:50.0000] <annevk>
Domenic_: would be nice to see how much Gecko passes before we enable it by default in https://bugzilla.mozilla.org/show_bug.cgi?id=918806

[05:33:11.0000] <zcorpan>
anyone know why <embed name> is obsolete?

[05:33:39.0000] <zcorpan>
just don't want to embrace the browsing context aspect of it?

[06:00:29.0000] <annevk>
Okay, what's the context for the ice cream memes?

[06:00:37.0000] <annevk>
I'm not finding it on public-restrictedmedia :/

[06:01:57.0000] <zcorpan>
annevk: follow the link in the post

[06:04:56.0000] <annevk>
zcorpan: ta

[06:05:03.0000] <annevk>
zcorpan: I'm having a hard time following that

[06:25:08.0000] <zcorpan>
Hixie: the spec status annotation thing could have some more context in the password email so that it's easier to find

[06:25:08.0000] <darobin>
I really likes that ice cream analogy

[06:25:14.0000] <SimonSapin>
annevk: All URLs (including with non-relative scheme) have a fragment, but not a query?

[06:25:35.0000] <SimonSapin>
http://url.spec.whatwg.org/ says "An absolute URL must be a scheme, followed by ":", followed by scheme data, optionally followed by "?" and a query."

[06:25:59.0000] <annevk>
SimonSapin: URLs have a query

[06:26:15.0000] <SimonSapin>
data:text/html,Test?query#fragment shows ?query as part of the content

[06:26:55.0000] <zcorpan>
Hixie: like including terms like "whatwg", "html standard", "Specification annotation system"

[06:27:04.0000] <annevk>
SimonSapin: sure

[06:27:06.0000] <jgraham>
darobin: For the content, or for the fact that it mentions ice cream

[06:27:08.0000] <jgraham>
?

[06:27:16.0000] <darobin>
jgraham: yes

[06:27:25.0000] <annevk>
SimonSapin: content being scheme data, ?, query

[06:27:26.0000] <jgraham>
darobin: s/or/xor/

[06:27:45.0000] <SimonSapin>
hum, ok

[06:27:54.0000] <darobin>
s/yes/quantum superposition/

[06:28:06.0000] <Ms2ger>
s/darobin/cat/

[06:28:18.0000] <darobin>
Ms2ger: that's already a given :)

[06:28:27.0000] <annevk>
I thought it was dahut

[06:28:31.0000] <jgraham>
I couldn't really understand the content

[06:28:37.0000] <Ms2ger>
/me puts darobin in an unobservable box

[06:28:40.0000] <annevk>
But ice cream!

[06:28:52.0000] <annevk>
Ms2ger: I thought the box was observable

[06:28:54.0000] <jgraham>
I don't know who are supposed to be the equivalent of ice-cream vendors in this situation

[06:28:57.0000] <darobin>
annevk: no I *hunt* dahuts

[06:29:06.0000] <darobin>
Ms2ger: please include ice cream

[06:29:08.0000] <Ms2ger>
annevk, I was wondering who was going to be pedantic about it :)

[06:29:09.0000] <annevk>
darobin: must be some big ass cat

[06:29:38.0000] <Ms2ger>
darobin, there will be a superposition of ice cream and no ice cream, that's the best I can do

[06:29:39.0000] <darobin>
annevk: hey! I may have put on some weight, but I think "big ass" is stretching it

[06:29:55.0000] <darobin>
Ms2ger: I reckon that's superposably delicious

[06:30:46.0000] <jgraham>
(I also think that argument-by-analogy is very silly)

[06:30:54.0000] <jgraham>
(and generally leads to bad results)

[06:31:40.0000] <annevk>
Yeah, much better to argue through authority

[06:31:55.0000] <darobin>
jgraham: this is TimBL, you have to think hypertextually

[06:31:56.0000] <Ms2ger>
Well, if annevk says so...

[06:31:57.0000] <annevk>
I'm on the TAG, now shut up

[06:32:02.0000] <gsnedders>
jgraham: Do you have any opinion on what should be an attribute and what should be a method in Python?

[06:32:12.0000] <daleharvey>
So, anyone know who I should ask about crazy behaviour with websql on safari?

[06:32:21.0000] <darobin>
his point is linked to the part where he talks about only having Apple content on iOS, only having Sony content on Sony devices, etc.

[06:32:22.0000] <daleharvey>
I mean crazier than usual behaviour, obviously

[06:32:35.0000] <Ms2ger>
daleharvey, why are you using websql?

[06:32:46.0000] <annevk>
daleharvey: maybe ask in #webkit? WebSQL isn't really part of the web

[06:32:51.0000] <darobin>
same with ice cream with limited distribution if the fridges are all controlled by a given company

[06:32:57.0000] <daleharvey>
backwards compat :(

[06:33:17.0000] <jgraham>
darobin: That doesn't seem like a problem at the moment, and doesn't seem like it will become a problem in any scenario where EME could make a difference

[06:33:25.0000] <darobin>
I'm not sure I agree (the argument seems to rely on indie film makers really wanting DRM, I'm not sure that's the case), but within those parameters it has merit

[06:33:34.0000] <jgraham>
gsnedders: Are you actually asking about usedEncoding?

[06:33:38.0000] <gsnedders>
jgraham: Yes.

[06:33:51.0000] <daleharvey>
annevk: cool cheers

[06:33:52.0000] <jgraham>
gsnedders: I think parser.encoding could be fine

[06:33:57.0000] <darobin>
jgraham: yeah, I'm not saying that it reaches the heart of the problem, just that it makes sense as a problem *if* it is a problem

[06:35:44.0000] <jgraham>
gsnedders: (that is, perhaps, a bit misleading; one could argue that it should be documentEncoding or something. But shortness seems desirable)

[06:36:50.0000] <SimonSapin>
jgraham: there is naming, and there is property vs. method

[06:37:39.0000] <SimonSapin>
Properties look like attributes, which are cheap to access. So properties that are expensive (in run time) to access are bad, but this is not the case here.

[06:37:48.0000] <jgraham>
SimonSapin: I don't see ehy it would be a method in this case

[06:37:56.0000] <SimonSapin>
ok

[06:37:57.0000] <jgraham>
It just reflect a lower-level attribute

[06:39:35.0000] <SimonSapin>
for naming, I wanted it to show that it may be different from the given encoding parameter (eg. if there is a BOM)

[06:39:49.0000] <hsivonen>
zcorpan: if you don't like the WebKit/Blink hack for x-user-defined in <meta>, do you prefer my other option at https://bugzilla.mozilla.org/show_bug.cgi?id=213517#c13 ?

[06:40:04.0000] <gsnedders>
SimonSapin: See my recent bug on needing to split the encoding argument up

[06:40:32.0000] <SimonSapin>
yes

[06:40:39.0000] <SimonSapin>
it’s related

[06:41:07.0000] <gsnedders>
hsivonen: +1 for WebKit/Blink behaviour

[06:43:12.0000] <gsnedders>
jgraham: I share SimonSapin's concern about ambiguity given encoding parameter

[06:43:33.0000] <jgraham>
shrug

[06:43:40.0000] <hsivonen>
gsnedders: can you elaborate on why you prefer the WebKit/Blink behavior?

[06:44:06.0000] <jgraham>
If you think it's a big deal, use documentEncoding or something

[06:45:33.0000] <zcorpan>
hsivonen: i think i prefer special-casing XHR in terms of being less insane, but i don't care strongly either way, and i don't have an opinion about the font/UI issue

[06:47:05.0000] <hsivonen>
zcorpan: I think the font/UI issue is the deciding factor

[06:47:27.0000] <hsivonen>
zcorpan: though I dislike the craziness of HTTP-level x-user-defined in the WebKit/Blink case

[06:48:52.0000] <zcorpan>
hsivonen: so for the record let's consider #3 remove mystery UI, make x-user-defined alias of windows-1252 everywhere except XHR and in XHR it maps to the x-user-defined encoding

[06:48:56.0000] <SimonSapin>
gsnedders: I have http://pythonhosted.org/webencodings/ that implements http://encoding.spec.whatwg.org/ , if that helps

[06:48:57.0000] <gsnedders>
SimonSapin: Change it to be an attribute (possibly just a getter?) and probably go for documentEncoding? Either that or follow CSS WG habit and call it "bikeshed"? :)

[06:49:15.0000] <gsnedders>
SimonSapin: Can you file a bug somewhere along those lines?

[06:55:40.0000] <SimonSapin>
gsnedders: done and done

[06:57:11.0000] <gsnedders>
SimonSapin: I've filed a bug on webencodings, btw

[07:00:58.0000] <SimonSapin>
gsnedders: when is getstate/setstate it useful?

[07:11:38.0000] <hsivonen>
/me sees TimBL's DRM reply on www-tag

[07:11:39.0000] <hsivonen>
whoa

[07:17:34.0000] <gsnedders>
SimonSapin: I've used it in implementation of a decoder than can change the currently used decoder while decoding.

[07:18:43.0000] <gsnedders>
SimonSapin: For the sake of changing when you have a meta beyond the pre-scan and need to change the encoding of the input stream.

[07:20:54.0000] <Domenic_>
annevk: I think I have time to work on that tonight, should be relatively straightforward.

[07:44:13.0000] <darobin>
Domenic_: if I were a friend I'd tell you to run away fast; but since I don't really know you that well: best of luck in the elections :)

[07:46:45.0000] <jgraham>
darobin: misanthrope

[07:47:21.0000] <darobin>
jgraham: hey, I've been there, I'm allowed to relish the pain of others who stumble down the same path

[07:47:30.0000] <darobin>
though to be honest, the TAG just ain't what it used to be :)

[08:49:38.0000] <JonathanNeal>
Hello!

[08:50:01.0000] <Domenic_>
darobin: thanks/haha :). where was the announcement? Haven't seen it yet.

[08:51:25.0000] <darobin>
Domenic_: it's coming out soon

[08:53:57.0000] <Domenic_>
should probably fire up ye old blog engine then...

[09:13:03.0000] <darobin>
Domenic_: yeah, get the blog warmed up, and ping the band manager when you have something!

[09:13:29.0000] <Domenic_>
installing ruby on work computer.... @_____@ why is everything so hard

[09:26:33.0000] <jgraham>
/me wonders what you call a group of managers

[09:26:42.0000] <Ms2ger>
A herd?

[09:26:49.0000] <Ms2ger>
A meeting?

[09:27:04.0000] <jgraham>
I was thinking "Committee"

[09:27:14.0000] <jgraham>
I had an object called a ManagerPool

[09:27:21.0000] <jgraham>
But it isn't really a pool

[09:27:35.0000] <Ms2ger>
ManagerMeeting? Sounds good to me :)

[09:57:50.0000] <annevk>
Domenic_: sweet

[11:14:06.0000] <Hixie>
smaug____: pong

[11:14:35.0000] <Ms2ger>
Hixie, wdyt about PI serialization in HTML, btw?

[11:17:37.0000] <smaug____>
Hixie: the question was about http://logbot.glob.com.au/?c=freenode%23whatwg&s=1%20Dec%202013&e=1%20Dec%202013#c842854

[11:22:15.0000] <Hixie>
Ms2ger: do PIs still exist?

[11:22:27.0000] <Hixie>
smaug____: looking...

[11:22:39.0000] <Hixie>
smaug____: it's defined in various places

[11:22:47.0000] <Hixie>
smaug____: usually when a Document is created

[11:23:00.0000] <Hixie>
smaug____: though i think there's at least one case (document.open, iirc) where the assignment changes on the fly

[11:23:02.0000] <smaug____>
especially "the Window object with which document is currently associated."

[11:23:18.0000] <smaug____>
I couldn't find where it is defined

[11:23:53.0000] <smaug____>
but perhaps I was searching for wrong key words

[11:23:58.0000] <Ms2ger>
Hixie, sure

[11:24:50.0000] <Hixie>
smaug____: "Create a new Window object, and associate it with the Document" at #create-a-document-object is the main place

[11:25:03.0000] <Hixie>
smaug____: looks like the about:blank document never gets explicitly associated, let me file a bug to fix that

[11:25:23.0000] <smaug____>
And data documents aren't associated either, right?

[11:25:46.0000] <smaug____>
which is why I started to wonder http://logbot.glob.com.au/?c=freenode%23whatwg&s=1%20Dec%202013&e=1%20Dec%202013#c842849

[11:25:58.0000] <Hixie>
smaug____: and document.open() says "Replace the Document's singleton objects with new instances of those objects. (This includes in particular the Window [...]"

[11:26:24.0000] <Hixie>
smaug____: some documents don't have an associated window, right

[11:26:48.0000] <Hixie>
smaug____: an interesting question

[11:27:47.0000] <Hixie>
smaug____: looks like "get the current value of the event handler" doesn't check for that case, oops

[11:28:04.0000] <smaug____>
http://www.whatwg.org/specs/web-apps/current-work/#getting-the-current-value-of-the-event-handler would have a null pointer error, effectively

[11:28:38.0000] <Hixie>
yeah

[11:28:42.0000] <Hixie>
ok, i filed a bug on that too

[11:28:49.0000] <Hixie>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=23957 https://www.w3.org/Bugs/Public/show_bug.cgi?id=23956

[11:29:37.0000] <smaug____>
I wonder what behavior we want for the latter one

[11:30:26.0000] <smaug____>
/me should test non-Gecko browsers

[12:09:52.0000] <aleray>
Hi, in html5lib python, how to choose between etree, lxml and dom for treewalker?

[12:21:26.0000] <TabAtkins>
aleray: Just look at the libraries and figure out which one has the things you want?

[12:22:08.0000] <TabAtkins>
I use the lxml treewalker.  It's not a good API at all (I've had to write several DOM compat shims for missing functions), but it's compatible with CSSSelect, another library that converts CSS Selectors into XPath for me.

[12:30:20.0000] <aleray>
TabAtkins,  thanks

[12:56:52.0000] <Domenic_>
Man that @w3ctag twitter account is having a hard time.

[12:58:20.0000] <TabAtkins>
Domenic_: What's wrong?

[12:58:37.0000] <Domenic_>
First it got the wrong date, then the wrong link

[12:58:43.0000] <TabAtkins>
Ah.

[14:00:35.0000] <Hixie>
so does anyone have an opinion on cite=""?

[14:00:46.0000] <Hixie>
the obvious answer is "let's drop it, nobody uses it"

[14:01:28.0000] <Hixie>
but that seems a bit sad

[14:01:33.0000] <Hixie>
even the spec uses them

[14:01:51.0000] <Hixie>
(by "nobody uses it" i meant no UAs make use of it)

[14:02:20.0000] <Hixie>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=22907

[14:06:44.0000] <tantek>
Hixie - I've been leaning more and more negative on cite="" (presuming you mean on q and blockquote)

[14:06:52.0000] <tantek>
cite="" feels very longdescy

[14:07:32.0000] <tantek>
attributes to URLs which don't cause any noticeable effect in the browser tend to either rot or become polluted with noise.

[14:07:44.0000] <tantek>
it's an invisible metadata problem

[14:07:54.0000] <Hixie>
its main difference with longdesc="" is that since there's been no advocacy for it, the data isn't unusually bad

[14:07:57.0000] <Hixie>
but yeah

[14:08:25.0000] <tantek>
Hixie, and I've *tried* to use it too (and often still do) but often wonder what's the point.

[14:08:31.0000] <Hixie>
ditto

[14:08:43.0000] <tantek>
It's like, oh maybe I'll make use of this in some script or JS thing eventually...

[14:08:48.0000] <Hixie>
there's been a note in the spec for many years suggesting adding a <credit> element for <figure>, which could take a similar role if used with a <a> in <q>/<blockquote>

[14:08:50.0000] <tantek>
but that never seems to happen :(

[14:09:00.0000] <Hixie>
that would make it less hidden-metadatay

[14:09:28.0000] <tantek>
nah, since it's a URL it should be something that works with <a href>

[14:09:37.0000] <tantek>
an already visible URL building block

[14:09:56.0000] <Hixie>
right that's what i mean

[14:10:08.0000] <tantek>
I mean not a new element

[14:10:27.0000] <tantek>
maybe someway to tie the q/blockquote with the <a href> to the source.

[14:10:32.0000] <Hixie>
something like <blockquote> ... <credit> Quoted from <a href="...">foo bar</a>, copyright 2004. </credit> </blockquote>

[14:10:33.0000] <tantek>
similar to <label for> maybe

[14:10:52.0000] <tantek>
oh just by nesting? perhaps

[14:11:05.0000] <Hixie>
a lot of people really want some sort of nesting for blockquote

[14:11:24.0000] <Hixie>
(not sure why <figure> isn't enough, but that's another issue -- and credit/a-href could work there too)

[14:11:40.0000] <tantek>
I really don't know what that means "want some sort of nesting for blockquote"

[14:11:53.0000] <tantek>
I've tried using <figure> and it's been awkward enough that I gave up.

[14:11:56.0000] <tantek>
I can try again I suppose.

[14:12:13.0000] <Hixie>
what's awkward about it?

[14:12:30.0000] <Hixie>
by "some sort of nesting" i mean people want the <blockquote> to contain the citation as well somehow

[14:12:35.0000] <tantek>
the markup just didn't seem to fit into how I was authoring the images / text

[14:12:39.0000] <Hixie>
ah

[14:12:45.0000] <Hixie>
would be interesting to study that

[14:12:48.0000] <tantek>
yeah

[14:12:56.0000] <tantek>
I should gather some more detailed data/feedback

[14:13:02.0000] <Hixie>
<figure> was designed to just take the place of the <div> people were using anyway

[14:13:06.0000] <tantek>
but wanted to at least share that rough impression

[14:13:12.0000] <tantek>
as (un)helpful as that is

[14:13:45.0000] <tantek>
typically these are all example I run across when writing blog posts

[14:13:59.0000] <tantek>
/me is still sad Hixie has switched to blogging on G+ rather than ln.hixie.ch

[14:14:50.0000] <Hixie>
g+ gave me per-post acls, which i've wanted for years

[14:15:19.0000] <Hixie>
g+ sucks when you want inline links or diagrams though

[14:16:35.0000] <tantek>
Hixie - maybe only post on G+ when you need an ACL then, and otherwise post your "public" posts on ln.hixie.ch?

[14:16:38.0000] <mrbkap>
dglazkov: ping?

[14:17:00.0000] <tantek>
Hixie - you could always add G+ sign-in to ln.hixie.ch to show ACL'd posts there ;)

[14:17:07.0000] <Hixie>
tantek: g+ also gives me other things, like comments, spam filtering on comments, etc

[14:17:24.0000] <tantek>
Hixie, I'll get back to you once we've solved the blog comment spam problem :)

[14:19:43.0000] <Hixie>
heh

[14:20:55.0000] <Hixie>
good luck with that

[14:21:21.0000] <Hixie>
(i'm also pretty sure far more people read my stuff now than did on my blog)

[14:23:24.0000] <tantek>
yeah that may be a harder problem than the spam problem (reach/distribution)

[14:35:52.0000] <Hixie>
there's dozens and dozens of features that people have asked for in HTML that, before I can progress on them, I need to figure out whether anyone cares about

[14:58:48.0000] <tantek>
Hixie - you mean you're not able to pre-occupy them by asking them to research and document existing publishing practices that demonstrate the need? ;)

[14:59:17.0000] <tantek>
(existing publishing practices on *others* websites - helps demonstrate that some *other* people *might* care about it)

[14:59:29.0000] <tantek>
as opposed to every armchair tag proposer

[15:06:06.0000] <Hixie>
tantek: i'm not able to determine if there's people who want the feature or not, because they aren't aware of the bug and therefore haven't commented on it in the first place

[15:06:28.0000] <Hixie>
tantek: i'm oddly in the opposite problem than the one we usually find ourselves in -- not enough people saying they want something :-)

[15:11:21.0000] <tantek>
Hixie - that's a fine situation to just let time accrue interest if there is any. Such things can be left in limbo until there's demand.

[15:11:58.0000] <Hixie>
tantek: my problem is that i don't know if there's demand, because i don't know where the people who want these features are saying so

[15:14:04.0000] <tantek>
Hixie - sure - hopefully if such people exist they are searching for such a feature, and if you've documented the ideas/thoughts on the feature so far somewhere search discoverable, hopefully they'll find it.

[15:14:38.0000] <tantek>
praise be upon web search to see all, know all, find all, solve all. ;)

[15:15:03.0000] <Hixie>
tantek: i don't think bugzilla is searchable from google

[15:15:15.0000] <tantek>
well then that would be a problem

[15:15:28.0000] <Hixie>
tantek: also, it's also possible that the people who want this feature are finding it in some other inferior solution

[15:15:54.0000] <Hixie>
tantek: e.g. suppose someone wanted something from microformats, but found rdfa could do it in a pinch, and so stopped looking for how to do it in microfarmats

[15:18:00.0000] <tantek>
Hixie - that would be fine - if there really was sufficient such interest in such a "something" then eventually we'd see publishing patterns emerge of that kind of RDFa which we could use as data to develop a cleaner/simpler way to do it with microformats, document a transition, and go.

[15:18:20.0000] <Hixie>
would be nice to hear about it earlier on though

[15:19:03.0000] <tantek>
it's ok, we can accept the web as highly organically evolving and somewhat inefficient

[15:19:11.0000] <tantek>
the really important stuff will bubble up to the top

[15:19:27.0000] <Hixie>
i would like it to be more efficient :-)

[15:19:56.0000] <Hixie>
or at least, i'd like to know which of these many features are stuff nobody cares about, and which are things that lots of people are bitching about but i haven't heard enough complaints to know

[15:19:57.0000] <tantek>
me too. hence I ask people to post things places where Google and other search engines will pick them up, index them, and make them easily findable.

[15:20:18.0000] <tantek>
in my experience, amount of bitching does not actually related to utility / usefulness

[15:21:08.0000] <tantek>
and the good thing is, we can encourage people to "bitch" (I prefer brainstorm ;) ) on their on blogs

[15:21:16.0000] <tantek>
*own blogs


2013-12-03
[16:40:02.0000] <Hixie>
jamesr__: did you ever reply to http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Oct/0013.html by any chance?

[16:44:38.0000] <TabAtkins>
Hixie: s/textArea/textContent/

[17:12:35.0000] <jamesr__>
Hixie: i did not. in order to reply i'd have to figure out whether there are any observable differences between my proposed text and the spin the event loop algorithm

[17:13:02.0000] <jamesr__>
mentally it's a lot easier for me to map the steps of "spin the event loop" on to the actual C++ act of putting an object on the stack that spins the event loop, but that's not how the text really works

[17:13:05.0000] <Hixie>
TabAtkins: context?

[17:13:21.0000] <TabAtkins>
The most recent email you sent, about <output>

[17:13:27.0000] <Hixie>
ah, my bad

[17:13:29.0000] <Hixie>
oh well

[17:13:35.0000] <Hixie>
hopefully he figures out what i mean

[17:13:37.0000] <Hixie>
jamesr__: k

[17:13:55.0000] <Hixie>
jamesr__: not really sure how it differs, but ok

[17:13:58.0000] <Hixie>
jamesr__: :-)

[17:14:19.0000] <jamesr__>
Hixie: if it doesn't, then i'd suggest replacing it with my text just for the purpose of removing invociations of that step

[17:14:27.0000] <jamesr__>
since that step makes the spec incredibly hard to reason about

[17:14:35.0000] <Hixie>
jamesr__: i don't understand your text :-)

[17:14:50.0000] <jamesr__>
ok. well i don't think i fully understand the currently spec algorithm

[17:14:52.0000] <Hixie>
jamesr__: as far as i can tell, it's the same as what the spec says, but using non-spec terms :-)

[17:15:16.0000] <jamesr__>
window.showModalDialog() does something that i can map to the C++ callstack

[17:15:23.0000] <jamesr__>
and as an implementor that's relatively easy to reason about

[17:15:31.0000] <jamesr__>
this parsing step does not map to reentrancy in the C++ callstack

[17:15:36.0000] <Hixie>
jamesr__: "spin the event loop" right now means "suspend the current algorithm, end the task, and, later, queue up a new task that resumes the current algorithm"

[17:15:40.0000] <jamesr__>
so it's a lot harder at least for me to reason about what it really does

[17:15:55.0000] <jamesr__>
yeah but there are consequences about what's higher up on the stack

[17:16:10.0000] <jamesr__>
or equivalently what the consequences of "suspend the current algorithm" are

[17:16:22.0000] <Hixie>
what are the consequences?

[17:16:43.0000] <jamesr__>
i don't believe any major browser today supports continuations for javascript, so "suspend the current algorithm" if the algorithm has javascript on the stack means run a bunch of code on top of that callstack

[17:16:51.0000] <jamesr__>
instead of returning to the underlying native event loop

[17:16:53.0000] <Hixie>
i thought you were proposing that instead of spinning the event loop, we suspend the current algorithm, end the task, and later, queue up a new task that resumes the same algorithm. which seems to me identical.

[17:18:29.0000] <Hixie>
jamesr__: your e-mail didn't suggest a change to showModalDialog() as far as i can tell

[17:23:01.0000] <jamesr__>
no

[17:23:04.0000] <jamesr__>
that was an example

[17:23:17.0000] <jamesr__>
the parser case doesn't have the issues that showModalDialog() has of JS higher up the stack

[17:23:32.0000] <jamesr__>
but it's not obvious from reading the parser text that those issues are not a problem here

[18:16:37.0000] <Hixie>
jamesr__: k. i don't understand the exact issue then.

[18:16:50.0000] <Hixie>
jamesr__: please respond in due course so i can study your answer and fix the spec if necessary :-)

[18:17:13.0000] <Hixie>
jamesr__: (or ping me sometime around 11 and we can chat over lunch or whatever)

[20:05:17.0000] <Domenic_>
annevk: Firefox promises in Aurora are not doing so hot, 84/879 tests pass. http://domenic.me/aplus-tests-against-the-browser/

[22:12:20.0000] <rniwa>
annevk: yt?

[23:47:54.0000] <MikeSmith>
Domenic_: seems like those are not doing so great in Chromium either -- 94 passes, 778 failures

[23:48:10.0000] <MikeSmith>
unless there's some flag I should have set but don7t

[23:49:24.0000] <MikeSmith>
hmm I get different results when I re-run it

[23:50:13.0000] <MikeSmith>
in Chromium, 223 passes, 649 failuress

[23:50:27.0000] <MikeSmith>
with duration: 8.27s

[23:51:13.0000] <MikeSmith>
takes way longer for the tests to execute in Firefox Nightly

[23:51:45.0000] <MikeSmith>
duration: 129.66s

[23:51:59.0000] <MikeSmith>
passes: 237

[23:52:00.0000] <MikeSmith>
failures: 620

[23:52:28.0000] <MikeSmith>
but only runs 98% of the tests

[01:02:02.0000] <Ms2ger>
jgraham, can I use commit --amend with critic?

[01:10:10.0000] <MikeSmith>
jgraham: I notice that critic seems to send some messages without an address in the From header (only a GH username). Seems like it would be nicer if it always put some address for From , even if it's just some dummy default

[01:10:21.0000] <reggna>
Ms2ger: You can, if you prepare critic for a rebase, and critic will create a "merge commit".

[01:10:39.0000] <reggna>
Ms2ger: But it's probably easier to just commit a fixup and do the rebase later.

[01:12:12.0000] <MikeSmith>
also wonder why it sends messages base64-encoded (not that it bothers me -- just curious)

[01:47:28.0000] <zcorpan>
hmm. test(func, title, {help:foo}) should be able to take an array of urls

[01:48:25.0000] <zcorpan>
darobin: did you invent {help:foo} in testharness.js? is it being used? does something break if i use an array?

[01:48:49.0000] <darobin>
zcorpan: that doesn't look like something I'd have invented

[01:48:57.0000] <darobin>
is this the metadata you can add?

[01:49:00.0000] <darobin>
that's plinss

[01:49:12.0000] <zcorpan>
oh, ok

[01:49:16.0000] <darobin>
I am not sure what uses the data

[01:49:32.0000] <darobin>
I would say try using an array and if someone complains you'll have your answer :)

[01:49:50.0000] <zcorpan>
i'll just use an array and update the documentation saying that it takes a string or an array of strings

[01:50:20.0000] <darobin>
yeah that works too

[01:51:36.0000] <Ms2ger>
/me dislikes that argument

[02:03:20.0000] <hsivonen>
interesting that Greece and Japan appeared to have opted not to get a Punycode TLD

[02:11:22.0000] <odinho>
zcorpan: You even want multiple help urls on a single test? :|

[02:11:31.0000] <odinho>
Crazy :D

[02:17:10.0000] <hsivonen>
annevk: so the gbk decoder checks the gb18030 flag only in one step. What's hard about determining if that step could always run as if the gb18030 flag was set (unifying the two encodings)?

[02:54:35.0000] <jgraham>
Ms2ger: No

[02:54:50.0000] <Ms2ger>
So it seems

[02:56:12.0000] <jgraham>
Ms2ger: It's effectively an in-place rebase

[02:56:30.0000] <jgraham>
Which it *does* support, but you have to tell it that you are going to do one in advance

[02:56:56.0000] <jgraham>
(in the normal setup)

[02:57:05.0000] <annevk>
hsivonen: the open bugs suggest there might be more differences :/

[02:57:21.0000] <annevk>
rniwa: now...

[02:57:23.0000] <jgraham>
In the GH setup it would have to infer this from the GH API provided data

[02:57:28.0000] <annevk>
Domenic_: that's great, thanks!

[02:57:32.0000] <Ms2ger>
jgraham, I think I did tell it

[02:58:33.0000] <jgraham>
Ms2ger: I think you probably didn't, because the prepare rebase button, which is normally what you use here, doesn't work when you are tracking a branch, AIUI

[02:58:49.0000] <jgraham>
(which you always are in the GH setup)

[02:59:01.0000] <jgraham>
That button just shouldn't be visible in this case

[02:59:17.0000] <Ms2ger>
Fun

[02:59:47.0000] <jgraham>
Ms2ger: Yeah. I really have to put some more work in to critic

[03:00:01.0000] <jgraham>
But there is a rumor that I might get internet at home soon

[03:00:10.0000] <Ms2ger>
Well, I learned something today :)

[03:00:11.0000] <jgraham>
So then it is actually plausible that I will

[03:01:06.0000] <Ms2ger>
Does that mean you spend a lot of time in the office instead?

[03:02:30.0000] <jgraham>
It means I spend a lot of time wishing I had a proper internet connection, and some more time wishing that we weren't also in a cell phone dead spot where 2 bars of signal is the maximum we have observed

[03:03:07.0000] <Ms2ger>
I see

[03:37:49.0000] <zcorpan>
odinho: sure. it's not uncommon to test multiple things together

[04:17:43.0000] <odinho>
zcorpan: Yeah, -- I had several help urls back when we used <meta> and one test per file.  That's how the real world (tm) is.

[05:21:50.0000] <jgraham>
In the real world no one actually writes all that metadat

[05:21:52.0000] <jgraham>
a

[06:16:09.0000] <annevk>
hsivonen: https://www.w3.org/Bugs/Public/show_bug.cgi?id=23971

[06:28:43.0000] <darobin>
annevk: has there been any further discussion about the idea of having a sort of web platform conference thingie?

[06:29:08.0000] <Ms2ger>
Don't think so

[06:29:41.0000] <darobin>
I ask because I could get some logistical support from W3C to organise something

[06:29:58.0000] <darobin>
with a very open ended mission in terms of how it's run, etc.

[06:30:10.0000] <smaug____>
could we kill xslt, pretty please

[06:30:42.0000] <darobin>
smaug____: try v3, it adds something like JSON support :)

[06:31:02.0000] <smaug____>
seriously?

[06:32:46.0000] <Ms2ger>
smaug____, then you could remove peterv's only remaining contribution ;)

[06:32:55.0000] <odinho>
jgraham: lol, true.

[06:33:49.0000] <smaug____>
Ms2ger: I would count webidl bindings reasonable major contribution

[06:33:58.0000] <darobin>
smaug____: http://www.w3.org/TR/xslt-30/#json with love

[06:35:06.0000] <darobin>
the example almost makes me like Handlebars

[06:44:56.0000] <annevk>
darobin: so yeah, all I got is it has to be about social interaction, barcamp, loosely organized, for framework authors, complex apps, browser developers, and standards peeps

[06:45:25.0000] <darobin>
that sounds pretty much like what I wrote down :)

[06:45:30.0000] <annevk>
darobin: with focus on getting to know each other, talking through problems and annoyances

[06:45:38.0000] <annevk>
cool

[06:51:19.0000] <Ms2ger>
darobin, *I* never wrote such a library :)

[06:51:33.0000] <darobin>
Ms2ger: not even in Python?

[06:52:01.0000] <Ms2ger>
I doubt it

[06:53:18.0000] <darobin>
Ms2ger: so... you use the DOM? :)

[06:54:38.0000] <jgraham>
/me wonders what kind of library Ms2ger never wrote

[06:54:45.0000] <jgraham>
I feel like I am missing something obvious here

[06:55:12.0000] <Ms2ger>
darobin, right

[06:55:26.0000] <Ms2ger>
jgraham, "We've all written small libraries of the kind that Ian was describing, probably several times over."

[06:55:29.0000] <jgraham>
Oh, context is email

[06:56:02.0000] <MikeSmith>
q?

[06:56:03.0000] <jgraham>
darobin: Pretty sure that you bake things in, not boil things in

[06:56:08.0000] <darobin>
Ms2ger: well I guess we all have some of those kinky, painful things we enjoy

[06:56:10.0000] <jgraham>
Boiling is what you do to oceans

[06:56:22.0000] <darobin>
jgraham: my point exactly

[06:56:43.0000] <Ms2ger>
q+ MikeSmith

[06:57:10.0000] <Ms2ger>
annevk, http://html5.org/tools/web-apps-tracker?from=8324&to=8325 is empty

[06:57:18.0000] <hsivonen>
darobin: wow. that XSLT JSON thing was one of those things that confuse joke-or-serious  detection without the spec link

[06:57:46.0000] <Ms2ger>
hsivonen, even with the spec link...

[06:57:46.0000] <annevk>
Ms2ger: le sigh

[06:58:00.0000] <darobin>
hsivonen: you clearly haven't been to an XML conference in a while — all they talk about is JSON these days :)

[06:58:01.0000] <annevk>
The spec link fact sounds sad

[06:58:36.0000] <darobin>
hsivonen: that said, JSON support makes a lot of sense for XQuery — I guess it just got into XSLT that way

[07:00:03.0000] <annevk>
Ms2ger: "fixed"

[07:00:15.0000] <Ms2ger>
Ta

[07:00:18.0000] <hsivonen>
darobin: how is JSONx (not a joke apparently!) doing at XML conferences?

[07:00:34.0000] <annevk>
Ms2ger: should really say "Ta" since this is going to happen again soonish at the rate things are going now

[07:00:53.0000] <darobin>
hsivonen: I can't say I have my ear that close to the ground, but I haven't heard about that at all in those circles

[07:01:13.0000] <hsivonen>
darobin: I guess that's a good sign

[07:01:20.0000] <darobin>
hsivonen: processing JSON with XML tools started coming up a few years ago; most people recommend the "Snelson Mapping"

[07:01:39.0000] <darobin>
I doubt anyone needs any kind of standard for that, especially not given support in XQuery/XSLT...

[07:01:55.0000] <darobin>
the MarkLogic people have been supporting JSON forever, you can use it as a JSON DB

[07:02:03.0000] <darobin>
I think they use Snelson internally

[07:02:31.0000] <darobin>
the one thing from that world which I would dearly like is http://jsoniq.org/ for JSON DBs

[07:02:43.0000] <darobin>
(and is possible over IndexedDB)

[07:29:03.0000] <jgraham>
https://critic.hoppipolla.co.uk/r/368 has been stuck for weeks :(

[07:31:07.0000] <Ms2ger>
Since Monday last week ;)

[07:32:35.0000] <jgraham>
In unrelated news, it seems polyglot is the HTMLWG equivalent of a comedy callback. It's carefully timed so that just when everyone has forgotten it, it's brought out again for another laugh

[07:32:49.0000] <odinho>
lol

[07:47:08.0000] <Lachy_>
jgraham, what recent discussion has there been on polyglot? I don't see any on public-html

[07:51:12.0000] <jgraham>
"Preference Survey: Polyglot Note vs Recommendation Track"

[08:06:04.0000] <Lachy>
jgraham, I can't find any mail with that subject on any W3C list.

[08:06:26.0000] <Ms2ger`>
It's on the whatwg list

[08:06:28.0000] <Ms2ger`>
/me ducks

[08:07:05.0000] <Lachy>
:-)

[08:08:09.0000] <MikeSmith>
hey it's Lachy

[08:08:23.0000] <Lachy>
Hi Mike

[08:08:33.0000] <MikeSmith>
howdy

[14:01:48.0000] <Hixie>
is there work ongoing into server-push notifications for web apps that aren't open?

[14:11:31.0000] <Hixie>
GPHemsley: any chance we can make the big warnings at the top of http://wiki.whatwg.org/wiki/FAQ get hidden for that page?

[14:47:18.0000] <hober>
Hixie: I don't think I understand the question

[14:48:19.0000] <Hixie>
re server-push notifications?

[14:48:26.0000] <hober>
yeah

[14:49:02.0000] <Hixie>
well like on android you can receive a text message notification even if your text message app isn't running, because the cloud can push a notification to your device

[14:49:16.0000] <Hixie>
do we have anything similar but for web apps in the works?

[14:50:27.0000] <hober>
like https://developer.apple.com/notifications/safari-push-notifications/ ?

[14:50:47.0000] <Hixie>
yeah, but not a proprietary thing :-)

[14:51:21.0000] <hober>
istm a "push api" being worked on in the webapps wg

[14:51:34.0000] <hober>
but I don't know if that's related offhand

[14:51:47.0000] <Hixie>
https://dvcs.w3.org/hg/push/raw-file/tip/index.html ?

[14:52:01.0000] <Hixie>
seems like what i'm looking for!

[14:52:04.0000] <Hixie>
thanks!

[14:52:32.0000] <hober>
np

[14:58:24.0000] <Hixie>
oops

[14:58:29.0000] <Hixie>
marked the last two commits as editorial

[14:58:32.0000] <Hixie>
but they're normative

[15:00:08.0000] <othermaciej>
Hixie: a challenge to making a non-proprietary version is that app-not-running push generally needs an intermediary service of some kind, and therefore requires the web server authenticating to that push server

[15:00:15.0000] <Hixie>
yeah

[15:00:35.0000] <Hixie>
for that reason i was mostly hoping someone else was working on it so it could be Not My Problem. :-)

[15:00:39.0000] <othermaciej>
Push API punts on solving that (and also on defining the protocol you use to talk to the push service)

[15:01:18.0000] <Hixie>
pity

[15:01:54.0000] <othermaciej>
Push API isn't even a suitable generic cover over a not-fully-specified set of non-interoperable protocols like EME is

[15:02:54.0000] <Hixie>
it does seem to be common for spec writers to punt on the hard stuff

[15:03:04.0000] <Hixie>
it's like spec writers think there's glory in writing specs

[15:03:09.0000] <Hixie>
poor, poor misguided spec writers :-)

[15:03:09.0000] <othermaciej>
I don't think we could convert Safari's proprietary push stuff to that API for instance, because it has no mechanism for providing an authentication token to the app server that will then talk to the push server

[15:03:56.0000] <Hixie>
it doesn't provide a way to close the loop?

[15:04:03.0000] <Hixie>
that seems like a pretty big hole

[15:04:14.0000] <Hixie>
i guess send feedback?

[15:07:39.0000] <othermaciej>
adding to TODO list

[15:07:46.0000] <Hixie>
:-)


2013-12-04
[16:23:20.0000] <GPHemsley>
Hixie: Hmm... not easily. I don't think we can do it from within the normal interface, but we can probably do it by hacking the template/theme somehow.

[16:26:05.0000] <GPHemsley>
Hixie: Hmm, actually, we might be able to do it with some custom CSS.

[16:26:22.0000] <GPHemsley>
annevk: Were there other pages that you didn't want to see the anonnotice on?

[16:33:14.0000] <annevk>
GPHemsley: on the wiki? All of them I think

[16:33:57.0000] <annevk>
GPHemsley: you solved a minor problem with something far too heavyweight in my opinion

[16:34:25.0000] <GPHemsley>
annevk: Did you have an alternative solution?

[16:34:27.0000] <annevk>
GPHemsley: not sure how many page views the thing gets from non logged in users though, but whenever I visit it on my phone I dislike it

[16:35:09.0000] <annevk>
GPHemsley: maybe include the account banner on the registry pages

[16:35:26.0000] <annevk>
GPHemsley: the bit about specification discussions does not seem warranted

[16:35:39.0000] <annevk>
GPHemsley: we can just remind individuals of that fact every now and then

[16:35:51.0000] <annevk>
GPHemsley: or put in the FAQ

[16:39:54.0000] <GPHemsley>
Hixie: Gone from the FAQ page now. If there are any other pages where you want it gone, edit MediaWiki:Common.css (and remember to clear the cache by clicking on the clock in the upper right corner of the page in question).

[16:40:24.0000] <GPHemsley>
annevk: Everything in the anonnotice was done in response to something.

[16:40:55.0000] <annevk>
GPHemsley: I believe you, but I'm saying that boilerplate is not the right solution

[16:41:09.0000] <annevk>
GPHemsley: and that the problem might not be as big as you make it out to be

[16:41:22.0000] <annevk>
GPHemsley: the wiki is more read than written

[16:42:16.0000] <GPHemsley>
/me shrugs

[16:42:23.0000] <GPHemsley>
I'll revisit it at some point.

[17:54:52.0000] <rniwa>
sicking: yt?

[17:55:17.0000] <sicking>
rniwa: yup

[17:55:32.0000] <rniwa>
sicking: I just replied on your response to custom elements reaching CR

[17:55:46.0000] <rniwa>
sicking: as I mentioned in the email, we share the same concern you expressed

[17:56:08.0000] <rniwa>
sicking: in particular, it seems strange to move the custom elements spec into CR without moving other parts of the web components at least into the last call

[17:56:45.0000] <sicking>
agreed

[17:57:01.0000] <rniwa>
sicking: it might make sense to restrict the shadow DOM to only custom elements for now

[17:57:19.0000] <rniwa>
sicking: so that we don't have to resolve all the issues associated with attaching shadow DOM onto existing builtin html elements

[17:57:28.0000] <rniwa>
such as form controls, img, etc... that has been tricky to spec

[17:57:34.0000] <sicking>
don't know, i haven't followed this in enough detail

[17:57:42.0000] <rniwa>
hayato_: ping

[17:58:08.0000] <rniwa>
sicking: i think the problem, as you correctly pointed out, is that other vendors haven't had enough time to review the specifications :(

[17:58:21.0000] <rniwa>
sicking: i sympathize with google in that they've been working on this stuff for years

[17:58:37.0000] <rniwa>
but it'll be really unfortunate if we end up not being able to implement what's been spec'ed at the end of the day

[17:58:48.0000] <hayato_>
rniwa: y

[17:59:03.0000] <sicking>
yup

[17:59:13.0000] <rniwa>
hayato_: am I correct in saying that the reason shadow DOM spec. is having a hard to move forward

[17:59:23.0000] <rniwa>
hayato_: is because we can't really spec what happens with replaced elements, etc...?

[18:00:01.0000] <sicking>
rniwa: Is Dave Hyatt involved in the shadow DOM stuff at all from your side? It would be great to have his input

[18:00:01.0000] <rniwa>
hayato_: as far as I know, the behavior of shadow DOM is very well defined if we restrict ourselves to custom elements. am I wrong on this?

[18:00:13.0000] <rniwa>
sicking: unfortunately not that much at this point :(

[18:00:39.0000] <rniwa>
sicking: but I'm working with Sam and Maciej

[18:00:56.0000] <hayato_>
rniwa: let me catch up. what topic are you discussing? shadow dom on built-in elements?

[18:00:58.0000] <rniwa>
sicking: and they're also familiar with XBL so hopefully I've got it covered

[18:01:04.0000] <rniwa>
hayato_: yeah

[18:01:10.0000] <rniwa>
hayato_: so there is a concern sicking raised

[18:01:22.0000] <rniwa>
hayato_: which is that other browser vendors haven't had a time to review custom elements

[18:01:42.0000] <rniwa>
hayato_: and we have a concern that moving custom elements spec. forward without moving the rest of web components forward might be risky

[18:01:52.0000] <rniwa>
hayato_: in that we might end up having to "fix" custom elements later

[18:02:08.0000] <hayato_>
rniwa: there is a lot of unclear issues on shadow dom for built-in elements.

[18:02:12.0000] <rniwa>
hayato_: yeah

[18:02:22.0000] <rniwa>
hayato_: so why can't we punt that for now and move with the rest of the spec?

[18:02:27.0000] <hayato_>
rniwa: and there is no strong demand for that.

[18:02:37.0000] <rniwa>
hayato_: as far as I understand it, there is a tremendous value in supporting shadow DOM for custom elements

[18:02:42.0000] <rniwa>
hayato_: right

[18:03:09.0000] <rniwa>
hayato_: and extending the spec to support attaching shadow DOM on bulletin elements is a natural extension we can add later

[18:03:25.0000] <rniwa>
hayato_: so we can spec. the shadow DOM for custom elements so that we wouldn't block custom elements forever

[18:03:38.0000] <rniwa>
hayato_: does that make sense?

[18:03:39.0000] <rniwa>
sicking: ^

[18:04:03.0000] <sicking>
like I said, i haven't looked at the shadow DOM spec enough to have an opinion on this

[18:04:12.0000] <rniwa>
sicking: okay.

[18:04:26.0000] <rniwa>
sicking: will you be fine with spec'ing shadow DOM just for custom elements as v1 though?

[18:04:39.0000] <hayato_>
spec is here: http://w3c.github.io/webcomponents/spec/shadow/#html-elements-and-their-shadow-trees

[18:04:43.0000] <sicking>
i'll defer to William Chen and mrbkap

[18:04:50.0000] <rniwa>
sicking: or do you think attaching shadow DOM on builtin shtml elements is an important use case?

[18:04:58.0000] <rniwa>
mrbkap: ping?

[18:04:59.0000] <hayato_>
rniwa: But this is outdated.

[18:05:22.0000] <sicking>
i definitely think that attaching shadow DOM to form controls is an important use case. It might be part of one solution for styling form controls

[18:05:29.0000] <sicking>
which is a sorely needed feature

[18:05:36.0000] <hayato_>
tkent-san has been working on supporting shadow dom for built-in element, such as input elements in blink.

[18:06:12.0000] <rniwa>
sicking: isn't that decorator though

[18:08:20.0000] <hayato_>
we thought that attaching Shadow DOM to built-in elements is important use case, but it turned out there is no much demands from developers.

[18:08:24.0000] <esprehn>
We can't restrict it to custom elements without making shadow dom and custom elements tightly coupled

[18:08:58.0000] <rniwa>
esprehn, hayato_: we can add some optional argument in document.register to create a shadow DOM, right?

[18:09:09.0000] <esprehn>
For example a browser may implement support for one before the other, shipping shadow dom shouldn't be blocked on custom elements

[18:09:33.0000] <rniwa>
esprehn: but nobody can ship shadow DOM because there is no spec.

[18:09:51.0000] <esprehn>
It had a spec, what do you mean?

[18:09:52.0000] <rniwa>
esprehn: attaching shadow DOM on builtin elements is undefined as is

[18:10:02.0000] <esprehn>
It is not undefined

[18:10:26.0000] <esprehn>
No more than attaching it to a div or a span, you mean specific things like input

[18:10:38.0000] <hayato_>
rniwa: http://w3c.github.io/webcomponents/spec/shadow/#html-elements-and-their-shadow-trees is trying to address that.

[18:10:41.0000] <rniwa>
esprehn: input element is a builtin element

[18:11:03.0000] <esprehn>
So is div, but shadow dom works fine with it

[18:11:03.0000] <rniwa>
esprehn: for the spec to have a defined behavior for builtin elements, it needs to define behaviors of attaching shadow DOM on every single element we have

[18:11:11.0000] <rniwa>
esprehn: including SVG and MathML elements

[18:11:35.0000] <esprehn>
Or it could allow it only only div, span, td, etc for now and we could expand it later

[18:11:43.0000] <rniwa>
esprehn: that'll be fine

[18:12:00.0000] <rniwa>
esprehn: I think the problem here is that we can't move the spec. forward because there are too many edge cases to consider

[18:12:03.0000] <esprehn>
Restricting to only custom elements is too restrictive

[18:12:11.0000] <rniwa>
esprehn: maybe.

[18:12:19.0000] <rniwa>
esprehn: but what are use cases of using shadow DOM for other elements than custom elements?

[18:13:02.0000] <esprehn>
Wanting something special on a <td>

[18:13:33.0000] <rniwa>
esprehn: why don't you just put an element inside td then?

[18:13:34.0000] <esprehn>
I guess if you could <td is=foo> as custom

[18:14:06.0000] <esprehn>
That argument does not generalize

[18:14:25.0000] <esprehn>
We could eliminate all features :)

[18:14:35.0000] <rniwa>
esprehn: as I understand it, we've punted declarative syntax for custom elements for v2

[18:14:45.0000] <esprehn>
Yes

[18:14:46.0000] <rniwa>
esprehn: then I don't see why we want to address that use case in shadow DOM v1

[18:14:52.0000] <esprehn>
Huh?

[18:14:59.0000] <rniwa>
esprehn: <td is=foo>

[18:15:00.0000] <sicking>
rniwa: decorators would just be a way of attaching a shadow DOM. The actual rendering should still be done using shadow DOM

[18:15:13.0000] <rniwa>
sicking: sure

[18:15:22.0000] <esprehn>
Declarative custom elements and type extensions are totally unrelated

[18:15:22.0000] <rniwa>
sicking: but as I understand it, we haven't spec'ed that anywhere, right?

[18:15:40.0000] <rniwa>
sicking: so it seems natural for attaching shadow DOM to builtin elements and decorator to be spec'ed at the same time

[18:16:13.0000] <sicking>
rniwa: and in the meantime, being able to attach a shadow DOM to a form control, or a header/table/whatever is a great way of working around the lack of decorators

[18:16:16.0000] <esprehn>
Not having declarative syntax has no bearing on td is=foo

[18:16:30.0000] <sicking>
rniwa: maybe

[18:16:49.0000] <sicking>
rniwa: (the "maybe" being a reply to your latest comment)

[18:17:10.0000] <rniwa>
sicking: that's a good point.

[18:17:42.0000] <rniwa>
sicking: I'm not convinced that shadow DOM is the right way to address the problem of styling form controls though

[18:17:49.0000] <esprehn>
If we're concerned with complex widgets I'm fine with a whitelist

[18:17:54.0000] <rniwa>
sicking: it seems like we want something like what webkit exposes for form controls spec'ed

[18:18:06.0000] <sicking>
rniwa: what's that?

[18:18:24.0000] <esprehn>
Although the current idea (and what we implement) is that adding a ShadowRoot makes the native behavior go away

[18:18:29.0000] <sicking>
rniwa: see also my latest email to WHATWG

[18:18:37.0000] <rniwa>
sicking: these: http://trac.webkit.org/wiki/Styling%20Form%20Controls

[18:18:39.0000] <esprehn>
It turns into a <div> effectively

[18:21:30.0000] <sicking>
rniwa: yeah, something in that general direction.

[18:21:56.0000] <rniwa>
sicking: I think spec'ing these will be better than having authors replace builtin form controls

[18:22:06.0000] <rniwa>
sicking: and then can provide some form serialization mechanism

[18:22:14.0000] <esprehn>
Authors already replace the builtins

[18:22:27.0000] <esprehn>
The pseudo elements are not flexible enough

[18:23:10.0000] <sicking>
rniwa: authors need to be able to fully replace the styling though. So that you can turn a checkbox into a switch, or a <select> into a map

[18:23:33.0000] <rniwa>
sicking: why don't authors just write a custom element at that point?

[18:24:11.0000] <sicking>
rniwa: accessibility

[18:24:40.0000] <sicking>
rniwa: and you could get better platform integration

[18:24:47.0000] <rniwa>
sicking: but if authors are replacing it with a shadow DOM or whatever, then accessibility is somewhat broken unless they've explicitly set tabindex, etc... right?

[18:24:49.0000] <sicking>
rniwa: which is kind'a the same thing

[18:24:52.0000] <esprehn>
Or because they want the HTMLSelectElement API or search engines

[18:25:11.0000] <sicking>
rniwa: and having to re-implement the full form API, and keep it up-to-date as the web grows, seems annoying

[18:25:31.0000] <sicking>
rniwa: no. accessibility should still work with a different rendering

[18:25:32.0000] <rniwa>
esprehn: API on HTMLSelectElement wouldn't work because map isn't a select element.

[18:26:04.0000] <esprehn>
Yes it is

[18:26:11.0000] <sicking>
rniwa: i.e. a screenreader would still be able to tell the user that a checkbox is a checkbox and that it can be flipped, and let the user use voice commands to flip it, even if it's rendered as a switch

[18:26:12.0000] <rniwa>
sicking: how so? AT wouldn't know how to interact with the new UI.

[18:26:32.0000] <esprehn>
<select is=x-map> is indeed a select

[18:26:35.0000] <rniwa>
sicking: that is true although you can just use ARIA role for that.

[18:26:36.0000] <sicking>
rniwa: AT interacts with the DOM

[18:26:49.0000] <rniwa>
sicking: not really in webkit.

[18:27:29.0000] <sicking>
rniwa: AT should interact with the HTMLSelectElement even if there's a shadow DOM attached.

[18:27:54.0000] <esprehn>
Shadow dom just changes the presentation

[18:28:06.0000] <sicking>
yup

[18:28:13.0000] <sicking>
anyhow, time to head home

[18:28:22.0000] <rniwa>
sicking: night!

[18:28:48.0000] <sicking>
g'night!

[18:29:01.0000] <esprehn>
You create a renderblock instead of a renderselect, the select element API should continue working much like if the select was display none it continues working

[18:29:21.0000] <sicking>
rniwa: i think we agree on the central issue though. It seems too early to put these parts into CR

[18:29:28.0000] <rniwa>
sicking: yeah.

[18:30:12.0000] <rniwa>
esprehn: only if the implementation of map respected the changes made by that API and emulated the behavior

[18:30:20.0000] <rniwa>
esprehn: even then there are certain APIs that doesn't make any sense on maps

[18:31:04.0000] <rniwa>
e.g. what would changing "size" attribute mean on a map?

[18:31:10.0000] <rniwa>
or "multiple"

[18:31:23.0000] <rniwa>
would map respect "disabled" attribute?

[18:31:35.0000] <rniwa>
what if we added new attributes in the future like "disabled"?

[21:21:41.0000] <esprehn>
rniwa: what does changing size mean on a multi select on the iphone?

[21:22:13.0000] <esprehn>
rniwa: IIRC iOS shows only one option and shows a spinner in some native UI. The size attribute does nothing.

[23:21:58.0000] <marcosc>
Hixie: any chance you could comment on this thread? http://lists.w3.org/Archives/Public/public-webapps/2013OctDec/0725.html

[23:22:45.0000] <marcosc>
if we have to use JSON for application metadata... should it be in a <script> or <meta>/<link>?

[23:23:56.0000] <marcosc>
putting JSON into an attribute just feels really wrong to me

[23:24:23.0000] <marcosc>
if anyone else has an opinion, would really like to hear it

[23:25:05.0000] <marcosc>
Ms2ger: you're always full of kind things to say... http://lists.w3.org/Archives/Public/public-webapps/2013OctDec/0725.html

[23:25:24.0000] <Ms2ger>
Meh, manifests

[23:27:25.0000] <marcosc>
Ms2ger: you know you love it

[23:28:10.0000] <marcosc>
hsivonen: if possible, would really appreciate any feedback on  http://lists.w3.org/Archives/Public/public-webapps/2013OctDec/0725.html

[23:43:18.0000] <hsivonen>
Ms2ger: we have whines about late metas. we might not have whines about double metas

[23:43:33.0000] <hsivonen>
marcosc: I'll take a look

[23:44:26.0000] <hsivonen>
for those who are participants in the HTML WG but don't actually read the mail: there's now a poll where, contrary to the usual mode of operation, the Chairs are counting votes: https://www.w3.org/2002/09/wbs/40318/polyglot-status-preference-poll/

[23:45:39.0000] <marcosc>
hsivonen: thanks! really appreciate any feedback

[23:47:07.0000] <Ms2ger>
Oh wait

[23:47:20.0000] <Ms2ger>
It looks like this might actually be sent as a/xhtml+mxl

[23:47:23.0000] <Ms2ger>
xml, even

[23:58:29.0000] <hsivonen>
marcosc: is there an explanation somewhere why the new manifest doesn't need to come as early in the page load as the old (Hixie-AppCache) manifest?

[23:59:02.0000] <hsivonen>
marcosc: my immediate feedback is: why aren't inline manifests, <link> and <meta> all too late?

[23:59:25.0000] <marcosc>
hsivonen: because you only need that stuff async... if you ever need it at all

[23:59:57.0000] <marcosc>
most people don't go to a website and bookmark it straight away

[00:00:15.0000] <hsivonen>
marcosc: so no part of the first page load ever goes through the NavigationController?

[00:00:49.0000] <marcosc>
hsivonen: no. there is no relationship between manifest and navcon

[00:01:00.0000] <marcosc>
not yet, anyway

[00:01:28.0000] <hsivonen>
I guess I need to read more about what this thing is before I comment further

[00:01:44.0000] <marcosc>
http://manifest.sysapps.org/

[00:02:13.0000] <hsivonen>
same as http://w3c.github.io/manifest/ apparently

[00:02:25.0000] <marcosc>
yep, same thing

[00:02:54.0000] <marcosc>
hsivonen: the long version is here http://w3c-webmob.github.io/installable-webapps/

[00:03:09.0000] <marcosc>
(not done yet... but tell the whole story)

[00:03:57.0000] <marcosc>
hsivonen: section 3 is basically what we are trying to enable: http://w3c-webmob.github.io/installable-webapps/#add-to-homescreen

[00:25:40.0000] <Ms2ger>
Lovely: https://code.google.com/p/chromium/issues/detail?id=325330

[00:35:40.0000] <rniwa>
Ms2ger: hi Ms2ger!

[00:35:48.0000] <rniwa>
Ms2ger: lol

[00:35:53.0000] <Ms2ger>
I see you cc'd me on a bug :)

[00:35:58.0000] <rniwa>
Ms2ger: yeah

[00:36:03.0000] <rniwa>
Ms2ger: XML fragment parsing bug :(

[00:36:12.0000] <rniwa>
Ms2ger: it's such an edge case that I initially thought it's a bug in the test

[00:36:19.0000] <rniwa>
Ms2ger: but then Simon convinced me that it wasn't

[00:36:39.0000] <Ms2ger>
Dammit Simon :)

[00:36:44.0000] <rniwa>
Ms2ger: it's crazy I had to spend 2+ hours reading various parts of HTML5, DOM, & Parsing/Serialization specifications to figure it out

[00:37:14.0000] <rniwa>
/me is back

[00:37:21.0000] <Ms2ger>
!

[00:37:28.0000] <rniwa>
Ms2ger: anyway, I was wondering if you could approve https://github.com/w3c/web-platform-tests/pull/456 ?

[00:37:33.0000] <rniwa>
MikeSmith: ^

[00:37:53.0000] <rniwa>
it's a pretty straight forward fix for xhtml files

[00:38:01.0000] <Ms2ger>
Sure

[00:38:29.0000] <Ms2ger>
Ugh, CRLF

[00:39:19.0000] <rniwa>
Ms2ger: are we supposed to always use LF there?

[00:39:32.0000] <rniwa>
Ms2ger: I was almost going to fix it but I wasn't sure if it was policy.

[00:39:41.0000] <Ms2ger>
Vague policy :)

[00:39:52.0000] <Ms2ger>
Anyway, merged

[00:40:02.0000] <rniwa>
Ms2ger: I need to start merging tests for your parsing & serialization spec

[00:40:08.0000] <rniwa>
so that we can give a meaningful feedback

[00:40:16.0000] <rniwa>
s/merging/importing/

[00:40:26.0000] <Ms2ger>
Yeah, I should probably put them into wpt

[00:40:37.0000] <Ms2ger>
Do you have a th.js test for that bug, btw?

[00:41:03.0000] <rniwa>
Ms2ger: what do you mean by th.js test?

[00:41:12.0000] <Ms2ger>
One that uses testharness.js

[00:41:28.0000] <rniwa>
Ms2ger: oh no.

[00:41:39.0000] <rniwa>
Ms2ger: I had assumed it exists somewhere

[00:41:50.0000] <rniwa>
Ms2ger: and I was hoping that you could tell me where it might be :(

[00:41:58.0000] <rniwa>
Ms2ger: but I could write one up if you want

[00:42:03.0000] <Ms2ger>
There's some tests in the spec repo

[00:42:12.0000] <Ms2ger>
But not at all exhaustive :)

[00:42:22.0000] <rniwa>
Ms2ger: could you move it to https://github.com/w3c/web-platform-tests/ ?

[00:42:35.0000] <rniwa>
/me can merge such a PR

[00:42:36.0000] <Ms2ger>
Yeah

[00:42:42.0000] <rniwa>
Ms2ger: that's why...

[00:42:50.0000] <rniwa>
Ms2ger: I was looking for those tests in that repo

[00:42:54.0000] <rniwa>
but couldn't find it :(

[00:42:54.0000] <Ms2ger>
I'll get to it :)

[00:42:58.0000] <rniwa>
Ms2ger: great. thanks.

[00:43:36.0000] <rniwa>
now I can announce on webkit-dev that we're the first major browser engine to pass the W3C tests for template elements :D

[00:45:19.0000] <Ms2ger>
Are they all wrong? ;)

[00:45:27.0000] <rniwa>
Ms2ger: they're all good :D

[00:45:43.0000] <rniwa>
Ms2ger: in fact, i've been fixing all those tests because they had a bunch of bugs like the one you just merged

[00:45:44.0000] <Ms2ger>
That seems implausible :)

[00:46:00.0000] <Ms2ger>
Unless you fixed them up first

[00:46:04.0000] <rniwa>
Ms2ger: I had to manually check each test case to make sure they're doing sensible things

[00:46:19.0000] <rniwa>
Ms2ger: you can check what i've done

[00:46:22.0000] <Ms2ger>
As always :)

[00:46:45.0000] <Ms2ger>
I'd rather not be sucked into that stuff :)

[00:46:49.0000] <rniwa>
Ms2ger: yeah

[00:47:12.0000] <rniwa>
Ms2ger: you'd better spend that time writing more spec, test, or doing other more useful things

[00:47:26.0000] <Ms2ger>
Indeed

[00:50:58.0000] <MikeSmith>
rniwa: you still needs me to do anything?

[00:51:12.0000] <rniwa>
MikeSmith: nope. Ms2ger took care of it for me :D

[00:51:19.0000] <MikeSmith>
k

[00:55:42.0000] <rniwa>
/me is going to enable template element by default on all webkit ports

[00:56:16.0000] <Ms2ger>
rniwa, so I'll try to look at the bug tonight

[00:58:21.0000] <hsivonen>
marcosc: for the "what exists" overview, it might be worthwhile to investigate IE, too, since, IIRC, IE comes the closest to using the metadata elements from the HTML spec

[00:58:58.0000] <marcosc>
hsivonen: yes, I've done a little bit of research

[00:59:20.0000] <marcosc>
I'll make sure it gets added

[00:59:33.0000] <marcosc>
there is a lot of use of <meta name="application-name">

[00:59:36.0000] <marcosc>
I was impressed

[00:59:45.0000] <marcosc>
it's more popular than the apple equivalent

[01:06:39.0000] <hsivonen>
marcosc: any new recent exploration of installing apps to the homescreen but keeping the URL field available to the user somehow? (e.g. for copying tweet URLs)

[01:07:24.0000] <marcosc>
hsivonen: yeah, that's come up

[01:07:41.0000] <marcosc>
it might be some kind of option... "allow deep linking" or something

[01:08:34.0000] <marcosc>
but it might be that links might just work as normal, so you can long hold and copy a link

[01:08:52.0000] <marcosc>
hsivonen: there is also talk of enabling the user to access the address bar

[01:10:30.0000] <hsivonen>
oh so you'd long-hold the link on the view *previous* to the one you want to link to?

[01:12:41.0000] <hsivonen>
why did Apple create apple-mobile-web-app-title *after* application-name was in the spec?

[02:02:01.0000] <zcorpan>
annevk-cloud: what replaced "CORS-same-origin"?

[02:03:04.0000] <zcorpan>
annevk-cloud: see http://dev.w3.org/csswg/cssom/#requirements-on-user-agents-implementing-the-xml-stylesheet-processing-instruction

[03:02:26.0000] <zcorpan>
Hixie: is http://software.hixie.ch/utilities/js/live-dom-viewer/delayed-image supposed to have an empty body?

[03:56:13.0000] <hsivonen>
who operates web-sniffer.net and how does one report bugs to that person?

[04:02:31.0000] <annevk>
hsivonen: use http://redbot.org/ instead?

[04:38:36.0000] <hsivonen>
hmm. when reporting a WebKit security bug, most bugmail goes to @chromium.org

[05:31:23.0000] <philipj>
jgraham, ping

[06:00:37.0000] <jgraham>
philipj: Pong

[06:01:02.0000] <Ms2ger>
Did we hire philipj too?

[06:02:19.0000] <jgraham>
AFAIK no, he has just picked up bad irc habits from somewhere

[06:04:54.0000] <Ms2ger>
Oh, this isn't #ateam

[06:05:52.0000] <jgraham>
No, it isn't

[06:18:14.0000] <zcorpan>
annevk: what replaced "CORS-same-origin"?

[06:20:30.0000] <hsivonen>
marcosc: I sent an email to the manifest thread

[06:20:34.0000] <annevk>
zcorpan: the way it works now is that you get a response back and if you don't look behind the curtain (as some APIs such as <img> need to do) you can't really distinguish

[06:21:23.0000] <annevk>
zcorpan: I guess I should still have some kind of generic flag exposed so you can more easily determine whether to look behind the curtain

[06:22:12.0000] <zcorpan>
annevk: it's not obvious to me what i should say in cssom

[06:23:07.0000] <annevk>
zcorpan: I need more context

[06:23:40.0000] <zcorpan>
annevk: search for "cors-same-origin" in http://dev.w3.org/csswg/cssom/

[06:25:24.0000] <annevk>
zcorpan: the first instance looks like a bug

[06:25:55.0000] <annevk>
zcorpan: and yeah, for the second instance we should probably have that kind of convenience flag

[06:26:56.0000] <zcorpan>
annevk: why is it a bug?

[06:27:14.0000] <annevk>
zcorpan: I think you only want to do that kind of thing for actual same-origin

[06:27:33.0000] <annevk>
zcorpan: not allow some kind of CORS opt-in to a quirk

[06:30:28.0000] <zcorpan>
annevk: ok. how do i do that?

[06:33:49.0000] <annevk>
zcorpan: I guess you'd compare document's origin with request's origin

[06:34:04.0000] <annevk>
zcorpan: would prolly be cleaner if response had a URL and origin associated with it too

[06:34:14.0000] <zcorpan>
annevk: what if it redirects?

[06:34:22.0000] <annevk>
zcorpan: request's origin is updated

[06:34:32.0000] <zcorpan>
ah

[06:34:33.0000] <annevk>
zcorpan: so you'd compare after the fetch finalizes

[06:34:48.0000] <annevk>
zcorpan: it's not entirely clear to me how stable all of that is though

[06:35:01.0000] <annevk>
nobody has really given feedback yet whether this is the right abstraction for what's going on in a browser :/

[06:35:34.0000] <zcorpan>
annevk: ok. i'm not that familiar with the code in this area

[06:37:40.0000] <zcorpan>
annevk: thanks

[06:41:35.0000] <tj_vantoll>
Hi all, is it possible to respond to a mailing list thread from the digest email? I'm assuming that it's not but I wanted to check.

[06:43:00.0000] <tj_vantoll>
I'm basically wondering if there's a way to respond to a thread if I did not receive the actual email.

[06:43:02.0000] <annevk>
tj_vantoll: I think it's possible, but it's not super desirable as it breaks threading

[06:44:24.0000] <annevk>
tj_vantoll: if this is whatwg.org email, you can browse to the message in http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/ and then hit the first link (next to the author's name); that should open up your email client with the appropriate headers set

[06:44:42.0000] <annevk>
tj_vantoll: if it's w3.org email, you can do the same thing, but different

[06:45:09.0000] <jgraham>
In theory you could fix the threading headers by hand ofc

[06:45:42.0000] <tj_vantoll>
annevk:  It's a whatwg one. I had no idea that that link would do that.

[06:46:47.0000] <tj_vantoll>
I guess I'll give that a shot and see what happens. Thanks!

[06:54:46.0000] <sangwhan>
Anyone know which spec was the first to introduce a redundant named color "grey" when there was already "gray"?

[06:55:31.0000] <sangwhan>
SVG seems suspicious, but not sure

[06:55:42.0000] <annevk>
sangwhan: I think that's a CSS thing

[06:59:18.0000] <SimonSapin>
CSS blames SVG: http://www.w3.org/TR/css3-color/#svg-color

[06:59:57.0000] <hsivonen>
does Blink-Opera really not have a character encoding override menu?

[07:00:03.0000] <hsivonen>
hooray, if so!

[07:00:55.0000] <sangwhan>
hsivonen: not on the checkout/branch I have, but lemme check the nightly

[07:01:44.0000] <sangwhan>
SimonSapin: Yeah, and SVG doesn't quite blame anyone - but why would they do that is beyond me

[07:02:22.0000] <SimonSapin>
bikeshedding

[07:02:52.0000] <jgraham>
X11

[07:03:11.0000] <jgraham>
http://en.wikipedia.org/wiki/X11_color_names

[07:04:14.0000] <annevk>
Better add colour too

[07:04:14.0000] <sangwhan>
Copy the most impossible to use API on planet earth, well done :)

[07:04:20.0000] <SimonSapin>
Oh, we have a http://xkcd.com/978/

[07:04:30.0000] <sangwhan>
Now time to implement background-colour

[07:04:42.0000] <SimonSapin>
W3C spec refers to wikipedia, which talks about what the W3C does

[07:04:43.0000] <annevk>
Do gray and grey serialize back in the same way?

[07:04:51.0000] <annevk>
That might require more bits than you'd want to give out

[07:04:54.0000] <hsivonen>
sangwhan: I sure hope Opera doesn't add that misfeature later

[07:05:19.0000] <SimonSapin>
I think colors serialize to #hex or rgb()

[07:05:35.0000] <annevk>
SimonSapin: even for specified style?

[07:05:40.0000] <sangwhan>
annevk: don't colors serialize to non-named?

[07:05:50.0000] <annevk>
sangwhan: well that's what I wanted them to do

[07:05:55.0000] <sangwhan>
one way to find out

[07:05:58.0000] <annevk>
but glazou made a lot of noise

[07:07:02.0000] <zewt>
hsivonen: if not that's a bug, encoding override isn't an optional thing

[07:07:30.0000] <zewt>
at least for people who aren't in japan occasionally trying to view pages that are, heh

[07:09:17.0000] <annevk>
SimonSapin: it'll prolly take a while for me to fix those URL bugs

[07:09:56.0000] <SimonSapin>
annevk: I know you’re busy

[07:10:08.0000] <annevk>
SimonSapin: yeah, these games don't play themselves

[07:11:03.0000] <darobin>
IIRC the grey/gray thing comes from an antique Netscape

[07:11:16.0000] <darobin>
it was supposed to make HTML easier to use for all authors

[07:11:26.0000] <darobin>
/me glad they didn't push that localise in all languages...

[07:11:33.0000] <odinho>
/me want grå, now!

[07:11:34.0000] <darobin>
or some story like that, I don't recall

[07:11:50.0000] <darobin>
it's certainly stupid enough to be a Netscape feature

[07:12:20.0000] <sangwhan>
Presto keeps it as grey and exposes that (but internally seems to use the raw color) and Blink seems to go whammo rgb() the moment it goes in

[07:12:20.0000] <philipj>
jgraham, I was going to ask about how to use assert_throws for exceptions which aren't DOMExceptions, but gave up instead

[07:12:21.0000] <SimonSapin>
spec says to serialize <color> with rgb() or rgba() http://dev.w3.org/csswg/cssom/#serialize-a-css-component-value

[07:12:41.0000] <SimonSapin>
Gecko, Blink and Presto do keywords: data:text/html,<body style=color:grEen><script>document.write(document.body.style.color)</script>

[07:12:43.0000] <philipj>
jgraham, the exception object thrown for "not enough arguments" doesn't have a code attribute

[07:13:47.0000] <hsivonen>
zewt: what's the deal with this being more of a problem in Japan than in Russia even though there's a greater number of Cyrillic legacy encodings?

[07:13:56.0000] <hsivonen>
zewt: broken windows effect?

[07:14:01.0000] <annevk>
hsivonen: what about CESU-8 btw?

[07:14:02.0000] <sangwhan>
SimonSapin: my tests conflict with your results on blink, although TC is a bit different

[07:14:04.0000] <annevk>
hsivonen: include that too?

[07:14:23.0000] <SimonSapin>
sangwhan: what’s your test case?

[07:14:54.0000] <jgraham>
philipj: You should be able to pass in an instance of the exception type as the first argument

[07:15:02.0000] <hsivonen>
annevk: I couldn't figure out why CESU-8 would be dangerous

[07:15:19.0000] <jgraham>
e.g. assert_throws(new TypeError(), function() {throw new TypeError()}))

[07:15:20.0000] <hsivonen>
annevk: and for the BMP, it seems useful to get to read it as UTF-8

[07:16:00.0000] <sangwhan>
SimonSapin: document.querySelectorAll('body')[0].style.color='grey';alert(document.querySelectorAll('body')[0].style.color);

[07:16:03.0000] <annevk>
hsivonen: k

[07:16:08.0000] <annevk>
makes sense

[07:16:41.0000] <philipj>
jgraham, thanks!

[07:17:05.0000] <sangwhan>
hsivonen: nightlies don't have it either, but i don't know if the feature will make a comeback or not. not in the desktop team.

[07:18:14.0000] <SimonSapin>
sangwhan: wonderful. Blink uses rgb() for grey, but a keyword for grey

[07:18:23.0000] <SimonSapin>
a keyword for gray*

[07:18:39.0000] <annevk>
hsivonen: for what's worth, I am worried that there's pages out there that rely on the EBDIC label being ignored

[07:19:10.0000] <Ms2ger>
darobin, I thought that was x11 legacy

[07:19:15.0000] <hsivonen>
annevk: possible :-(

[07:19:24.0000] <Ms2ger>
I read an interesting post about the history of x11 at some point

[07:19:31.0000] <hsivonen>
annevk: getting telemetry for everything is so slow :-(

[07:19:51.0000] <darobin>
Ms2ger: IIRC it wasn't in Mosaic, but maybe that's named colours in general? — I don't know, it's been a long time

[07:20:01.0000] <hsivonen>
annevk: wouldn't such pages break in IE, then, though?

[07:20:25.0000] <Ms2ger>
"From notes it also seems some people was happy about this because they always forgot if it was grey or gray"

[07:20:26.0000] <sangwhan>
New Opera not having the encoding menu, not sure how that flies in Asia where encoding on every other website is broken beyond recognition though

[07:20:27.0000] <Ms2ger>
http://unix.stackexchange.com/questions/72919/what-are-the-origins-of-rgb-txt

[07:20:29.0000] <annevk>
hsivonen: fair point

[07:20:35.0000] <annevk>
hsivonen: if we only include the IE labels

[07:20:59.0000] <sangwhan>
SimonSapin: Hah, grey is different from gray? That's interesting

[07:21:28.0000] <SimonSapin>
that’s… I’m gonna go do something else now.

[07:21:37.0000] <hsivonen>
annevk: to serve the purpose of the mitigation, we should include all EBCDIC labels that ICU knows about

[07:23:54.0000] <sangwhan>
http://cvsweb.xfree86.org/cvsweb/*checkout*/xc/programs/rgb/rgb.txt?rev=1.1 has too many shades of gray or grey, thank god that wasn't adopted...

[07:24:18.0000] <Ms2ger>
sangwhan, 50?

[07:28:16.0000] <sangwhan>
Ms2ger: moar

[07:28:54.0000] <sangwhan>
Well, enough with this grey nonsense, I'll do a in memory swap to gray when I see grey from now on

[07:29:13.0000] <jgraham>
Ms2ger: 236 shades of gr[e|a]y

[07:29:19.0000] <Ms2ger>
Noooooooo

[07:29:53.0000] <annevk>
hsivonen: alright, I'll collect those and report the datasets in the bug

[07:30:06.0000] <hsivonen>
annevk: thanks!

[07:37:42.0000] <annevk>
hsivonen: oh man, ICU is a disaster

[07:37:47.0000] <annevk>
hsivonen: try data:text/html;charset=ibm-17593,<script>alert(document.characterSet)</script> in Chrome

[07:38:23.0000] <Ms2ger>
Good thing that TC39 forced everyone to use it

[07:41:32.0000] <annevk>
# This is a special version of ibm-1140 that the XML4C (Xerces) parser team

[07:41:32.0000] <annevk>
# requested in 2000.

[07:41:32.0000] <annevk>
# It maps both EBCDIC LF and NL controls to Unicode LF U+000A.

[07:42:05.0000] <karlcow>
annevk, I have asked the person who reported the bug 304/CORS to give a more explicit code example and http sequence to explain how and when it fails.

[07:42:20.0000] <annevk>
karlcow: seems pretty clear no?

[07:42:31.0000] <annevk>
karlcow: sicking should've looked up the status code...

[07:44:24.0000] <karlcow>
I was surprised by sicking's answer ;)

[07:45:01.0000] <annevk>
hsivonen: ICU also supports labels such as  ISO_2022,locale=ko,version=0

[07:45:20.0000] <annevk>
hsivonen: if we were to take it into account we would have to do much more it seems

[07:48:48.0000] <hsivonen>
annevk: hmm. yeah, if that kind of labels get reflected to the Web, it's hopeless

[07:49:00.0000] <hsivonen>
annevk: I think that can't happen with ICU4J, though

[07:49:29.0000] <hsivonen>
annevk: I believe its label handling is what one would consider normal legacy

[07:49:58.0000] <annevk>
hsivonen: what is ICU4J and how do I get that data out of http://demo.icu-project.org/icu-bin/convexp ?

[07:50:12.0000] <annevk>
hsivonen: but see the Chrome example I gave earlier, it gives utf-8 for that

[07:50:25.0000] <annevk>
hsivonen: rather than iso-8859-1

[07:50:27.0000] <hsivonen>
annevk: yeah, that ibm-17593 thing is very, very sad

[07:51:12.0000] <hsivonen>
annevk: ICU4J is the Java version of ICU.

[07:52:23.0000] <annevk>
hsivonen: okay, so that exposes a lot less labels and encodings

[07:53:18.0000] <annevk>
hsivonen: but if that's safe :/

[07:54:15.0000] <hsivonen>
annevk: http://source.icu-project.org/repos/icu/icu4j/trunk/main/classes/charset/src/com/ibm/icu/charset/UConverterAliasDataReader.java gives a hint of what file to look for in the repo

[07:54:36.0000] <annevk>
hsivonen: the file is http://source.icu-project.org/repos/icu/icu/trunk/source/data/mappings/convrtrs.txt

[07:54:51.0000] <annevk>
hsivonen: which as you can see has many mappings for utf-8

[07:55:02.0000] <hsivonen>
ಠ_ಠ at Chrome just exposing ICU alias data to the Web

[07:55:15.0000] <annevk>
data:text/html;charset=windows-65001,<script>alert(document.characterSet)</script> is utf-8 too in Chrome

[07:55:46.0000] <gsnedders>
hsivonen: CESU-8 allows non-shortest-form null, no? So might break with some sanitizers…

[07:55:48.0000] <hsivonen>
not cool. bad Chrome.

[07:56:18.0000] <hsivonen>
gsnedders: oh. I didn't know that. I thought only Java "modified UTF-8" did that

[07:56:39.0000] <annevk>
where is jsbell

[07:56:41.0000] <gsnedders>
hsivonen: There was a reason for my "no?" at the end, I thought that was part of the CESU-8 too?

[07:56:50.0000] <gsnedders>
hsivonen: I could, of course, be wrong :)

[07:57:35.0000] <gsnedders>
hsivonen: I am wrong.

[07:57:42.0000] <hsivonen>
ok

[07:58:00.0000] <annevk>
gsnedders: "CESU-8 is similar to Java's Modified UTF-8 but does not have the special encoding of the NUL character (U+0000)."

[07:58:09.0000] <gsnedders>
I was just typing that.

[07:58:24.0000] <gsnedders>
(It is, notably, the only difference between the two)

[08:05:57.0000] <annevk>
hsivonen: Safari does the same for ICU

[08:16:05.0000] <annevk>
tj_vantoll: btw, if you have Gmail I recommend switching from digest and just using a filter

[08:17:42.0000] <annevk>
hsivonen: filed bugs on Chrome and Safari

[08:17:50.0000] <annevk>
hsivonen: not entirely sure what to do for the replacement encoding now

[08:17:57.0000] <tj_vantoll>
annevk: I just did thanks.

[08:18:42.0000] <Hixie>
GPHemsley: thanks

[08:22:19.0000] <JonathanNeal>
Mornin' (Pacific)

[08:26:00.0000] <Hixie>
zcorpan: fixed

[08:26:41.0000] <Hixie>
GPHemsley: btw, anne is right that we don't necessarily need to respond to everything. it's like the story of the new bar vs the old bar, where the old bar has a bunch of notices up for random stuff its customers have done over the years.

[08:27:07.0000] <Hixie>
GPHemsley: it may simply be better to live with the occasional person having trouble, and help them personally rather than with a notice

[08:27:08.0000] <GPHemsley>
/me is not familiar with said story

[08:27:55.0000] <Hixie>
marcosc: i'm unclear on what problem this is solving

[08:28:08.0000] <annevk>
GPHemsley: you go to the new bar because it has less bullshit bothering you

[08:28:49.0000] <Hixie>
GPHemsley: the old bar will have signs like "no backpacks on tables" because one day twenty years ago, some guy put his backpack on a bar and knocked a drink over, or whatever

[08:29:14.0000] <Hixie>
GPHemsley: which is a pointless sign really :-)

[08:29:37.0000] <GPHemsley>
/me doesn't go to bars

[08:29:49.0000] <Hixie>
well me either

[08:30:04.0000] <Hixie>
but the point is just that there's a cost to putting signs up for every last thing

[08:30:10.0000] <Hixie>
(and people dont read long signs anyway)

[08:30:34.0000] <GPHemsley>
ok

[08:30:39.0000] <GPHemsley>
like I said, I'll revisit it later

[08:31:02.0000] <Hixie>
lgtm

[08:31:16.0000] <Hixie>
i'm not particularly worried about the notices myself

[08:31:31.0000] <Hixie>
just wanted to make sure the faq didn't scare people off :-)

[08:32:25.0000] <GPHemsley>
I think the FAQ will scare people off with or without the notices :P

[08:32:28.0000] <GPHemsley>
it's humongous

[08:32:33.0000] <Hixie>
well, true

[08:32:40.0000] <Hixie>
but gotta give it a chance :-)

[08:33:27.0000] <GPHemsley>
were there any other pages that you wanted the notice removed from?

[08:33:39.0000] <GPHemsley>
(or, like I said, you can take care of it yourself)

[08:33:41.0000] <Hixie>
nah, i only send people to the faq :-)

[08:34:18.0000] <GPHemsley>
k

[08:34:56.0000] <GPHemsley>
annevk: In the meantime, you should now be able to set up a user style that removes the notice

[08:35:42.0000] <Hixie>
bbiab

[08:41:17.0000] <annevk>
GPHemsley: thanks, but I try not to change my default setup

[08:41:24.0000] <annevk>
GPHemsley: makes it harder to reproduce bugs

[08:41:58.0000] <GPHemsley>
very well

[09:06:36.0000] <Hixie>
annevk: just logging in removes them too :_)

[09:09:44.0000] <annevk>
Hixie: I'm in permanent private mode on my phone

[09:09:59.0000] <annevk>
Hixie: and also, I'm more concerned about other people than myself here, I can cope

[09:11:40.0000] <Hixie>
"permanent private mode"?

[09:50:03.0000] <dglazkov>
good morning, Whatwg!

[11:29:14.0000] <zcorpan>
TabAtkins: did you flesh out something with <picture>?

[11:53:12.0000] <zcorpan>
hmm, the web component thread became emotional. maybe it needs ice cream

[13:13:44.0000] <annevk>
zcorpan: actual ice cream or a metaphor?

[13:16:02.0000] <zcorpan>
🍨

[13:16:46.0000] <Ms2ger>
Ice cream vas

[13:16:48.0000] <Ms2ger>
vans

[13:16:53.0000] <annevk>
"Your search - 🍨 - did not match any documents."

[13:24:03.0000] <gsnedders>
Ms2ger: don't end up with people dead people of ice cream vans!

[13:24:19.0000] <gsnedders>
(Context: http://en.wikipedia.org/wiki/Glasgow_Ice_Cream_Wars)

[13:50:19.0000] <zcorpan>
annevk: https://duckduckgo.com/?q=🍨

[15:43:26.0000] <Hixie>
dglazkov: http://lists.w3.org/Archives/Public/public-webapps/2013JulSep/0454.html is hard to read because of all the cuteness :-/

[15:59:10.0000] <dglazkov>
Hixie: your argument is invalid


2013-12-05
[20:21:07.0000] <rniwa>
Hixie: yt?

[20:38:20.0000] <Hixie>
yo

[20:43:11.0000] <MikeSmith>
rniwa: 上

[20:43:20.0000] <rniwa>
MikeSmith: thanks

[20:43:23.0000] <rniwa>
Hixie: hi

[20:43:29.0000] <rniwa>
Hixie: so i was reading your spec change

[20:43:36.0000] <rniwa>
Hixie: for form element

[20:44:12.0000] <rniwa>
Hixie: http://www.whatwg.org/specs/web-apps/current-work/#has-an-element-in-scope

[20:44:17.0000] <rniwa>
Hixie: doesn't seem to list the form element

[20:44:41.0000] <Hixie>
right?

[20:44:56.0000] <Hixie>
why would it?

[20:45:11.0000] <rniwa>
Hixie: your change in http://html5.org/tools/web-apps-tracker?from=8330&to=8331

[20:45:29.0000] <rniwa>
Hixie: refers to "If the stack of open elements does not have a form element in scope, then this is a parse error; abort these steps and ignore the token."

[20:45:44.0000] <Hixie>
right?

[20:45:49.0000] <Hixie>
i'm confused

[20:45:55.0000] <rniwa>
Hixie: what does "have a form element in scope" in this context mean?

[20:46:17.0000] <rniwa>
Hixie: does it mean that the local name "form" is in the scope?

[20:46:47.0000] <Hixie>
there's an algorithm

[20:47:07.0000] <Hixie>
i don't understand what's confusing here

[20:47:27.0000] <Hixie>
is there a specific step that's confusing?

[20:47:29.0000] <Hixie>
or?

[20:47:36.0000] <rniwa>
Hixie: my question is just about whether we should be checking the namespace of form element or not

[20:47:53.0000] <rniwa>
Hixie: when we're checking whether form element is in the scope or not

[20:48:05.0000] <rniwa>
Hixie: because the code we have in webkit currently doesn't check the namespace

[20:48:29.0000] <Hixie>
you check if it's an HTML <form> element, yes, like for all the other "have a ... element in scope" cases that reference specific elements from specific namespaces

[20:49:04.0000] <rniwa>
Hixie: oh nvm

[20:49:08.0000] <rniwa>
Hixie: I misread the code :(

[20:49:14.0000] <Hixie>
phew

[20:49:18.0000] <rniwa>
Hixie: the stack thing only contains html element

[20:49:26.0000] <rniwa>
Hixie: sorry about the confusion

[20:58:31.0000] <rniwa>
/me is making the parser change in webkit

[20:58:39.0000] <Hixie>
nice

[22:28:57.0000] <marcosc>
Hixie: yesterday you said that you didn't understand what problem I was trying to solve. Can you explain let me know what part of the proposal you don't understand? Maybe I can explain it better.

[22:29:52.0000] <marcosc>
or is it more about why are people not using what HTML already provides to achieve the use case?

[01:48:30.0000] <Ms2ger>
rniwa: yeah, the "have a form element in scope" bits are really confusing

[01:48:48.0000] <Ms2ger>
I tried to convince Hixie to make it clearer, but he didn't want to

[02:20:28.0000] <marcosc>
you know it's serious if Ms2ger cc's himself on it

[02:20:34.0000] <marcosc>
:)

[02:20:41.0000] <Ms2ger>
Yay, exceptions

[02:21:06.0000] <Ms2ger>
I'd make heycam|away take over speccing them, but you probably want it fixed this century :)

[02:21:08.0000] <zcorpan>
should we just ignore isindex in templates?

[02:21:29.0000] <marcosc>
/me imagines Ms2ger's thought process "Yeah... this aught to be amusing enough... I'll cc myself"

[02:22:27.0000] <marcosc>
Ms2ger: given that Im in Australia... I could just hop down to Melb and bug him to fix stuff

[02:22:52.0000] <Ms2ger>
Do it :)

[03:02:11.0000] <Ms2ger>
jgraham, so even though I broke critic with https://critic.hoppipolla.co.uk/r/449, want to merge? :)

[03:17:22.0000] <jgraham>
Ms2ger: I don't like the extra newline in object literals :p

[03:17:31.0000] <jgraham>
foo = {a:b

[03:17:33.0000] <jgraham>
         }

[03:17:40.0000] <jgraham>
Rather than

[03:17:48.0000] <jgraham>
foo = {a:b}

[03:17:59.0000] <jgraham>
(or at least multiline object literals)

[03:19:39.0000] <Ms2ger>
You mean

[03:19:40.0000] <Ms2ger>
{

[03:19:43.0000] <Ms2ger>
  a:b

[03:19:44.0000] <Ms2ger>
}

[03:19:48.0000] <Ms2ger>
Instead of

[03:19:54.0000] <Ms2ger>
{a:b,

[03:19:58.0000] <Ms2ger>
 c:d}?

[03:20:12.0000] <jgraham>
Something like that

[03:20:56.0000] <Ms2ger>
I think the first is more readable

[03:21:20.0000] <jgraham>
Well

[03:21:27.0000] <jgraham>
I'm not going to fight about it

[03:21:32.0000] <jgraham>
But you are wrong ;)

[03:22:39.0000] <jgraham>
I mean I think it's more readable in the way that extra whitespace normally is: it is locally more readable, but reduces the code density which can hurt global readability, and makes formatting more of a pain

[03:22:40.0000] <Ms2ger>
:D

[03:23:38.0000] <jgraham>
Would be nice if gh didn't make this impossible to review :(

[03:23:38.0000] <Ms2ger>
Given the number of lines I'm removing, I think the few lines I'm adding there are fine :)

[03:23:50.0000] <jgraham>
I guess I just have to trust you

[03:24:39.0000] <Ms2ger>
I think it should be fine

[03:24:45.0000] <Ms2ger>
But I'd think that :)

[03:24:50.0000] <Ms2ger>
Anyway, heading off

[03:25:54.0000] <jgraham>
Merged

[03:25:56.0000] <jgraham>
thanks

[03:28:33.0000] <Ms2ger>
Thank you

[04:39:43.0000] <hsivonen>
annevk-cloud: wow. so one character difference prevents ISO-8859-8-I from being a label of windows-1255? sad.

[04:42:01.0000] <gsnedders>
hsivonen: So I'm going to try and do something when it comes to dealing with unlabelled content over xmas/New Year. No promise I'll get very far. Also limit as to how much I'm willing to spend on cluster time. :)

[04:47:20.0000] <hsivonen>
gsnedders: cool

[04:48:19.0000] <gsnedders>
hsivonen: Any opinions on ways to try and detect? TLD-level defaults and byte bi-grams of the first 1024 bytes?

[04:51:38.0000] <hsivonen>
gsnedders: I was thinking of producing reasonable-sized lists of URLs for unlabeled pages and eyeballing the pages to be sure

[04:51:57.0000] <hsivonen>
gsnedders: otherwise, you have to develop *reliable* bigram data first

[04:52:12.0000] <gsnedders>
hsivonen: So I think that's probably doable.

[04:52:29.0000] <hsivonen>
the delta between Windows-1253 and ISO-8859-7 is frustratingly small, too

[04:52:56.0000] <hsivonen>
and explains how Firefox and Chrome get away with falling back to ISO-8859-7 when IE falls back to windows-1253

[05:03:09.0000] <gsnedders>
hsivonen: So we can afford to do more expensive identification to generate correct labelling for unlabelled content, and then attempt to construct an algorithm that can get that within only 1024 bytes of data (because that's what <meta pre-parse uses).

[05:04:33.0000] <hsivonen>
gsnedders: I'd look at the whole page whether by code or by eyes

[05:05:07.0000] <gsnedders>
hsivonen: Indeed, that's the plan. But ideally we'd want whatever we standardise to be able to do it from 1024 bytes.

[05:06:39.0000] <hsivonen>
gsnedders: oh you want to standardize bigram guessing? I thought you wanted to do research for TLD-based guessing.

[05:06:59.0000] <gsnedders>
hsivonen: Ideally, yes.

[05:07:17.0000] <gsnedders>
hsivonen: Because it avoids TLD-dependence, which doesn't like. Also worthwhile investigating TLD-based guessing, too.

[05:07:25.0000] <gsnedders>
hsivonen: And possibly a combination of the two.

[05:08:38.0000] <hsivonen>
research and data don't hurt, but I'm negatively predisposed towards the idea of guessing between multiple single-byte encodings

[05:09:04.0000] <hsivonen>
since it's not exact like validating the byte sequences of multi-byte encodings

[05:09:21.0000] <gsnedders>
hsivonen: I don't think we can avoid it, tbh.

[05:09:58.0000] <gsnedders>
hsivonen: I think there's too much content under .com and the like to avoid having to.

[05:10:33.0000] <hsivonen>
gsnedders: oh you want to make .com not subject to localization-based guessing

[05:11:02.0000] <gsnedders>
hsivonen: Yeah.

[05:11:16.0000] <gsnedders>
hsivonen: I want to totally get rid of locale-based guessing.

[05:11:20.0000] <hsivonen>
gsnedders: I'm pretty worried about introducing even a small number of misguesses to .com sites that require windows-1252 and that now work fine in windows-1252-affiliated localizations

[05:12:49.0000] <gsnedders>
hsivonen: We could potentially add some code to do the guessing to Gecko, but not use it, and just send telemetry on whether it agrees.

[05:13:05.0000] <gsnedders>
hsivonen: I think we may well have to have per-TLD bigram feature vectors, but I dunno. Need data.

[05:13:36.0000] <hsivonen>
gsnedders: potentially, but we can't collect URLs that way due to privacy. So there'd be no way of understanding *what* broke.

[05:14:48.0000] <gsnedders>
hsivonen: Indeed, but it would at least allow us to get some data on accuracy (esp. relative to times when people then manually override the encoding, whether it returns the same as that).

[05:18:07.0000] <gsnedders>
hsivonen: Besides, we should have some sort of data of detected-identically-to-expensive-detection v. detected-incorrectly once we have some hard data.

[05:45:52.0000] <Ms2ger>
/me is rather confused by Bj�rn

[05:48:18.0000] <jgraham>
/me is rather confused

[05:49:38.0000] <Ms2ger>
In general?

[05:49:43.0000] <jgraham>
Yes

[05:49:52.0000] <Ms2ger>
Or by the relative sanity of people who use hg?

[05:50:37.0000] <jgraham>
Björn is merely behaving consistently with the theory that he is not an individual, but a shady cult-like entity

[05:50:58.0000] <jgraham>
Pretty sure that hg never caused sanity

[05:51:07.0000] <jgraham>
See also: hatters

[05:51:49.0000] <Ms2ger>
That's a reference I missed

[05:53:32.0000] <jgraham>
http://en.wikipedia.org/wiki/Mad_as_a_hatter

[05:56:01.0000] <Ms2ger>
I see

[06:25:52.0000] <hsivonen>
annevk-cloud: is there a Blink bug analogous to https://bugs.webkit.org/show_bug.cgi?id=125225 ?

[07:55:10.0000] <Hixie>
marcosc: i couldn't find mention of a use case. i'm not saying it's bad, i just don't know what the use case is. maybe i missed it?

[07:55:23.0000] <Hixie>
Ms2ger: it's not that i didn't want to make it clearer, it's that i don't understand what's unclear

[07:56:57.0000] <Ms2ger>
Right

[08:45:37.0000] <Hixie>
ms (i would love nothing more than to make it clearer...)

[08:45:49.0000] <Hixie>
er, s/ms/ms2ger:/

[10:26:59.0000] <SimonSapin>
http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#anchor-points what is the alignment point?

[10:58:10.0000] <Hixie>
SimonSapin: you mean where is it defined?

[10:58:33.0000] <Hixie>
SimonSapin: or what?

[11:05:45.0000] <SimonSapin>
Hixie: this property defines the alignment point for an element, but I don’t know what kind of alignment this is about

[11:06:02.0000] <Hixie>
it's for <dialog>, read the previous section :-)

[11:06:19.0000] <Hixie>
(that's why it's a subsection of <dialog>)

[11:06:32.0000] <SimonSapin>
Ok. (I got a deep link to that and was missing some context.)

[11:10:28.0000] <SimonSapin>
Hixie: perhaps s/alignment point/anchor point/g in the last two paragraphs?

[11:19:17.0000] <rniwa>
aklein: yt?

[11:27:54.0000] <Hixie>
SimonSapin: possibly. can you file a bug? http://whatwg.org/newbug -- i'm on my way out the door or i'd do it myself. thanks!

[11:28:13.0000] <SimonSapin>
Hixie: will do

[12:02:00.0000] <aklein>
rniwa: now I am

[12:02:05.0000] <rniwa>
aklein: hi

[12:02:15.0000] <rniwa>
aklein: are you happy with https://code.google.com/p/chromium/issues/detail?id=326058?

[12:02:24.0000] <rniwa>
aklein: or http://html5.org/tools/web-apps-tracker?from=8330&to=8331

[12:02:38.0000] <rniwa>
sicking: hi sicking!

[12:04:02.0000] <aklein>
rniwa: Hixie's response in email seemed reasonable to me, I haven't had a chance to look at the spec edit yet...

[12:04:16.0000] <rniwa>
aklein: okay.

[12:04:28.0000] <rniwa>
aklein: basically, it made form element pointer moot inside template elements

[12:04:40.0000] <rniwa>
aklein: so that we now allow nested form elements inside template

[12:05:06.0000] <rniwa>
aklein: form controls are still associated with the closest form ancestor though

[12:06:38.0000] <aklein>
rniwa: so previously, we weren't associating elements inside templates with forms outside

[12:06:55.0000] <aklein>
is the change just that <form><template><form> results in a <form> inside the template?

[12:11:06.0000] <rniwa>
aklein: no, the problem was that previously we were having form element pointer being not null even if we entered a template element

[12:11:15.0000] <rniwa>
aklein: so if we had <form><template><form>

[12:11:19.0000] <rniwa>
aklein: then we'll rip off the inner form

[12:11:24.0000] <rniwa>
aklein: because it's a nested form element

[12:11:58.0000] <rniwa>
aklein: if we had <isindex>, we won't generate a new form element as long as there is an outer form element even if it was outside the template element

[12:12:03.0000] <rniwa>
aklein: e.g. <form><template><isindex>

[12:15:34.0000] <aklein>
I think we're saying the same thing, you're just saying it more precisely :)

[12:15:39.0000] <aklein>
so yes, I think we're fine with that change

[12:16:18.0000] <aklein>
it is a _little_ weird that you can put <form><form> inside a template, but I don't expect it to cause any trouble

[12:27:17.0000] <Ms2ger>
Is it just me, or does https://twitter.com/OperaLunchMenu suggest you don't get to eat a lot at Opera?

[12:28:24.0000] <gsnedders>
Ms2ger: In what way? Lack of options?

[12:29:22.0000] <Ms2ger>
In the sense that "Monday - Tomato soup" doesn't sound like a full meal to me :)

[12:31:18.0000] <gsnedders>
Well, it's based on what's published on the intranet, AFAIK, which doesn't always reflect what actually appears in the canteen. And there's quite often more options (though typically similar dishes) than it gives. And at least here soup and bread isn't that unusual as a meal. Even if I'd complain it's too small. :)

[12:31:36.0000] <gsnedders>
There again, speaking to someone who often has four meals a day probably isn't a good judge of what "too small" means :)

[13:15:02.0000] <Ms2ger>
Looks like hypermail doesn't like IDN: http://lists.w3.org/Archives/Public/www-archive/2013Dec/

[13:34:15.0000] <Domenic_>
<isindex>: the gift that keeps on giving.

[13:58:50.0000] <Hixie>
SimonSapin: thanks for the bug

[13:59:53.0000] <Hixie>
aklein: you know you've spent too much time with the html parser when you think the weird behaviour is that <form><form> works, not that <form><form> ignores the second <form> :-P

[14:03:31.0000] <zcorpan>
i think it's a bit weird that it works differently inside <template>

[14:04:39.0000] <Hixie>
it's weird that it works differently _outside_ template :-P

[14:04:48.0000] <Hixie>
(but yes, i agree)

[14:05:02.0000] <Hixie>
(lots is weird about html parsing :-( )

[14:13:26.0000] <a-ja>
Hixie: fyi, dholbert just landed multi-line flex on moz inbound...along with last of the shortcuts, best i can tell

[14:14:18.0000] <Hixie>
last of the shortcuts?

[14:14:47.0000] <a-ja>
flex has some shortcut properties

[14:15:31.0000] <Hixie>
oh, right

[14:15:32.0000] <Hixie>
cool

[14:15:43.0000] <Hixie>
i really should learn flex one of these days

[14:16:08.0000] <Hixie>
i worked on a far ancestor of it back in the day, and when i handed that off i kind of shut off that part of my brain

[15:20:47.0000] <JonathanNeal>
@Hixie is there a particular place for me to make change proposals to the HTML5 spec?

[15:21:17.0000] <Hixie>
http://whatwg.org/newbug or http://whatwg.org/mailing-list#spec or here or ian⊙hc

[15:22:41.0000] <JonathanNeal>
The /newbug link redirects me to w3.org, am I in fact reporting it to them?

[15:23:08.0000] <Hixie>
the whatwg uses the w3.org bugzilla, just make sure the component is WHATWG

[15:23:12.0000] <Hixie>
product is WHATWG, rather

[15:23:14.0000] <Hixie>
component is HTML

[15:23:21.0000] <JonathanNeal>
Got it. Thanks. I'll setup an account.

[15:23:32.0000] <Hixie>
you can also use the little widget in the bottom right of the spec

[15:23:36.0000] <Hixie>
that files a bug for you

[15:23:41.0000] <Hixie>
without you having to have an account

[15:23:45.0000] <JonathanNeal>
In the meantime, if you have any particular thoughts, especially positive/negative effects that immediately come to mind, I'm working on http://www.w3.org/html/wg/wiki/ChangeProposals/subhead

[15:24:21.0000] <Hixie>
isn't that redundant with <hgroup>?

[15:25:49.0000] <JonathanNeal>
If you haven't clicked the link yet, the TOC has links that attempt to describe the differences between <subhead> and <hgroup>, as well as <aside>, and <small>.

[15:26:04.0000] <Hixie>
the part about <hgroup> on that page is just wrong

[15:26:33.0000] <JonathanNeal>
I more-or-less wrote it myself, so I am more than happy to correct it. What did I get wrong?

[15:26:40.0000] <Hixie>
the hgroup element does not force a pattern upon the markup where none previously existed

[15:26:52.0000] <Hixie>
and it doesn't exist simply to support a newly created outline algorithm

[15:27:36.0000] <JonathanNeal>
I agree that "simply" is unnecessary and a bit insulting. I'm sorry.

[15:27:59.0000] <Hixie>
it doesn't exist to support a newly created outline algorithm at all

[15:28:11.0000] <Hixie>
at best, the outline algorithm exists to support it

[15:28:15.0000] <JonathanNeal>
I do think the outline algorithm + hgroup redefines <h2>.

[15:28:25.0000] <Hixie>
well yeah, that's the idea

[15:28:36.0000] <Hixie>
people were using <h2> in that way

[15:28:40.0000] <Hixie>
this paves the cowpath

[15:28:45.0000] <Hixie>
as people say

[15:31:29.0000] <JonathanNeal>
Okay, I'm working on that section now. I'll let you know when it's updated.

[15:31:50.0000] <Hixie>
for the whatwg, the most important thing to do when filing a bug is to describe the problem

[15:31:56.0000] <JonathanNeal>
I presume you'll completely disagree with that point regardless.

[15:32:27.0000] <jamesr__>
TabAtkins: process and maintenance are implementor / spec writer concerns, which should be at the bottom of the hierarchy of constituents.

[15:32:44.0000] <Hixie>
the basic approach we take is first we describe the problem, and once we're agreed on what that is, and only then, we start looking at proposals for solutions

[15:32:51.0000] <Hixie>
and we evaluate them based on our understanding of the problem

[15:33:02.0000] <Hixie>
so the single most important thing to do is to make sure the problem is well described

[15:33:41.0000] <Hixie>
("once we're agreed" meaning once the editor of the relevant spec has been convinced there's a problem)

[15:34:11.0000] <Hixie>
certain problems are very easy to convince editors of, e.g. "browsers don't do what the spec says"

[15:34:17.0000] <Hixie>
or "the spec contradicts itself"

[15:34:29.0000] <Hixie>
or "this is a use case that the spec doesn't support, and here is evidence that this use case matters"

[15:35:32.0000] <JonathanNeal>
@Hixie right, and that's more a matter for http://www.w3.org/html/wg/wiki/index.php?title=ChangeProposals/hgroup&oldid=14091

[15:36:09.0000] <Hixie>
well, the whatwg doesn't really use the change proposals approach at all, that's more a w3c thing

[15:36:56.0000] <Hixie>
i'm just saying if you want to file a bug (and please do!), it's important to include in the bug a description of what the problem is. more important than anything else.

[15:37:38.0000] <Hixie>
i would generally recommend only including a problem description

[15:37:42.0000] <Hixie>
without a proposal to go with it

[15:46:09.0000] <JonathanNeal>
@Hixie more accurate? http://www.w3.org/html/wg/wiki/ChangeProposals/subhead#Difference_from_.3Chgroup.3E

[15:47:31.0000] <Hixie>
the <hgroup> element does not force a grouping pattern upon the markup where none previously existed

[15:47:46.0000] <Hixie>
the whole point of <hgroup> is that the grouping pattern _does_ previously exist

[15:47:55.0000] <Hixie>
we're just replacing what people are doing today with <div>, with <hgroup>

[15:48:41.0000] <Hixie>
obviously if people want to not do it with <hgroup> they don't have to -- they can e.g. use <p>

[15:48:53.0000] <JonathanNeal>
Several of the examples on http://wiki.whatwg.org/wiki/Hgroup_element do not replace a <div>

[15:49:27.0000] <Hixie>
(bylines and subheadings are very distinct things, by the way. i wouldn't recommend addressing them with the same solution.)

[15:50:06.0000] <Hixie>
which ones don't replace a <div>?

[15:50:08.0000] <JonathanNeal>
So the two bugs would be that hgroup does not address all real world scenarios, and it may create a situation where two different elements <hgroup>+<h2> vs <p> are used to markup the same kind of content.

[15:50:16.0000] <Hixie>
as far as i can tell, all those examples work great with <hgroup>

[15:50:57.0000] <tantek>
people still arguing about hgroup?

[15:50:59.0000] <Hixie>
nothing will address "all real world scenarios". that's not a worthy goal. it's incompatible with the goal of "a simple language".

[15:51:14.0000] <Hixie>
tantek: hey man, i'm just glad they stopped arguing about <acronym>.

[15:51:20.0000] <tantek>
LOL

[15:51:21.0000] <JonathanNeal>
Gutenberg,  A Tale of Two Cities, one Apple example - I'm scrolling and noting them, there may be more.

[15:51:44.0000] <Hixie>
the gutenberg one works perfectly with hgroup? what am i missing

[15:51:45.0000] <tantek>
I've used hgroup. I put hgroup on the cover of my HTML5 book. However with all my experience hgroup is too esoteric to be included in "a simple language".

[15:51:59.0000] <jamesr__>
i put longdesc on my hgroups

[15:52:19.0000] <tantek>
It's not useful enough often enough.

[15:52:20.0000] <Hixie>
tantek: it's certainly not as mainstream as, say, <h1>, but i've been amazed at how many pages have subheadings.

[15:52:33.0000] <JonathanNeal>
@Hixie sure? http://viewsource.in/http://www.gutenberg.org/files/36/36-h/36-h.htm#L54-56

[15:52:36.0000] <tantek>
Hixie - yeah it fell to the rarer/esoteric side for me

[15:52:56.0000] <Hixie>
JonathanNeal: you just stick an <hgroup> around it and you're done. what's the issue?

[15:53:00.0000] <tantek>
I wanted to like hgroup. But it's just not relevant in practice.

[15:53:51.0000] <JonathanNeal>
You may enjoy http://viewsource.in/http://motherfuckingwebsite.com/#L15 for an interesting approach, @tantek

[15:54:14.0000] <Hixie>
tantek: i think on the samp to p axis, it's on the samp side, but nowhere near as far as things like dfn, or q, or the advanced ruby stuff that some people think is critical enough to add to html.

[15:54:20.0000] <tantek>
oh I'm a huge user of <aside>

[15:54:25.0000] <tantek>
like nearly EVERY blog post

[15:54:27.0000] <tantek>
it's so common

[15:54:40.0000] <tantek>
Hixie, disagreed, I used dfn quite often

[15:54:44.0000] <tantek>
and q

[15:54:53.0000] <tantek>
well blockquote (I lump them together)

[15:55:01.0000] <Hixie>
tantek: and that's why we don't rely only on anecdata :-P

[15:55:16.0000] <Hixie>
(blockquote is much more common than q)

[15:55:30.0000] <tantek>
the advanced ruby stuff gets a pass because none of us here regularly publish japanese text on the web (except maybe MikeSmith?)

[15:55:43.0000] <Hixie>
that's the problem

[15:56:06.0000] <Hixie>
the people who would normally say no think "oh, i don't know enough about this, i'll just assume they know better"

[15:56:23.0000] <Hixie>
despite the fact that "they" don't know any better than the people who make proposals for esoteric english things

[15:56:25.0000] <tantek>
though that being said it would have been fine as an extension IMO

[15:56:45.0000] <Hixie>
(ruby itself is fine, i'm just talking about the extreme esoteric stuff)

[15:56:50.0000] <tantek>
re: samp - ironically I've even used samp and kbd more than hgroup in the past year

[15:56:51.0000] <Hixie>
(for the record)

[15:57:03.0000] <tantek>
Hixie - I'd put all of ruby into an extension

[15:57:36.0000] <Hixie>
basic and even semi-advanced ruby (basically, what WHATWG HTML supports today) is actually quite often used in CJK texts


2013-12-06
[16:01:07.0000] <tantek>
Hixie - ok, will take your word that ;)

[17:22:39.0000] <rniwa>
hayato_: yt?

[17:23:15.0000] <hayato_>
rniwa: just on keyboard.

[17:23:34.0000] <rniwa>
hayato_: what was the reason we have createdCallback as opposed to using constructor?

[17:24:21.0000] <hayato_>
rniwa: I am afraid that I am not right person to answer apis of custom elements.

[17:24:34.0000] <rniwa>
hayato_: dimitri?

[17:24:50.0000] <hayato_>
rniwa: yeah, dominic or dimitri is right person

[17:24:59.0000] <rniwa>
dglazkov: ping

[17:27:21.0000] <rniwa>
hayato_: okay, I guess I'll ask about it on public-webapps then thans

[17:27:24.0000] <rniwa>
thanks*

[17:27:36.0000] <hayato_>
rniwa: np

[17:27:44.0000] <rniwa>
hayato_: so... how do you feel about adding something like "template" option to document.register dictionary

[17:27:52.0000] <rniwa>
hayato_: where template refers to a template element

[17:28:07.0000] <rniwa>
hayato_: and then we'll auto-create a shadow DOM when this option is specified

[17:28:24.0000] <rniwa>
hayato_: we can define all of that stuff as an extension to custom elements specifications in the shadow DOM spec.

[17:28:36.0000] <rniwa>
hayato_: that'll allow us to at least ship the parts of shadow DOM that works for custom elements

[17:29:15.0000] <rniwa>
hayato_: without risking shipping underspec'ed/broken API for attaching shadow DOM to any element

[17:32:24.0000] <hayato_>
rniwa: I am afraid I have to read relevant topics on public-webapps carefully to answer that :)

[17:32:35.0000] <rniwa>
hayato_: okay

[17:32:38.0000] <hayato_>
rniwa: let me catch up.

[17:38:01.0000] <Domenic_>
has someone documented how custom elements will work with es6 class syntax? document.register doesn't seem very declarative-syntax-friendly

[17:44:15.0000] <rniwa>
Domenic_: document.register's second object takes an object with prototype property

[17:44:24.0000] <rniwa>
Domenic_: so if you did

[17:44:25.0000] <rniwa>
class MyButton extends HTMLElement {

[17:44:26.0000] <rniwa>
...

[17:44:26.0000] <rniwa>
}

[17:44:36.0000] <rniwa>
document.register('my-button', MyButton) should work

[17:46:31.0000] <Domenic_>
rniwa: ah, thank you!

[17:47:13.0000] <rniwa>
Domenic_: but I don't know why we can't use constructor instead of createdCallback for initializing an element.

[17:47:40.0000] <rniwa>
Domenic_: it's so awkward in the world where we have ES6 classes

[17:47:52.0000] <Domenic_>
rniwa: I remember dglazkov (I think) explaining to me once something about inheritance... but then that makes no sense since you can just call super() in subclass constructors, and classes by default do that I think.

[17:47:53.0000] <rniwa>
because then people can naturally define constructor() inside MyButton :/

[17:48:11.0000] <rniwa>
Domenic_: yeah

[17:48:32.0000] <rniwa>
Domenic_: we have to create the underlying DOM element first anyway

[17:48:37.0000] <rniwa>
Domenic_: i.e. super class

[17:48:45.0000] <rniwa>
Domenic_: or "super element" first

[17:48:56.0000] <rniwa>
Domenic_: so I don't understand what the point of having a separate createdCallback

[17:49:07.0000] <rniwa>
Domenic_: we were just looking at an example with ES6 classs

[17:49:15.0000] <rniwa>
Domenic_: and createdCallback looked just so awkward

[17:50:51.0000] <Domenic_>
rniwa: yeah i would love if you could get rid of it. i forget the reasoning. will monitor your progress closely.

[17:51:14.0000] <Domenic_>
also, vote for me for tag and i'll get rid of createdCallback! ;)

[17:52:04.0000] <rniwa>
Domenic_: LOL

[17:52:36.0000] <rniwa>
Domenic_: so... I'll just make you a TAG and then send a formal objection in your way?

[17:52:47.0000] <rniwa>
Domenic_: sounds legit.

[17:52:58.0000] <Domenic_>
with my extensive knowledge of process i can assure you that it works exactly that way

[17:53:13.0000] <Domenic_>
</joke> (just in case)

[17:54:06.0000] <rniwa>
Domenic_: ah, you went to CalTech about the same time I would have gone to LOL

[17:54:50.0000] <rniwa>
Domenic_: I was going to attend there from 2008 through 2010 as a transfer student but CalTech wouldn't finance an international transfer student so I didn't go there.

[17:55:41.0000] <Domenic_>
rniwa: oh cool/sad!

[17:55:56.0000] <rniwa>
Domenic_: yeah... i would have loved to work on some quantum gravity craziness.

[17:56:01.0000] <rniwa>
although i was gonna major in CS.

[17:56:09.0000] <rniwa>
/me stalks

[17:58:23.0000] <Domenic_>
i still get sad about once a month about abandoning physics and doing computers instead...

[17:58:50.0000] <rniwa>
Domenic_: yeah, physics is a lot of fun.

[17:59:17.0000] <rniwa>
Domenic_: unfortunately, i'm not smart enough to work on quantum gravity stuff though :(

[17:59:36.0000] <rniwa>
seems to require some IQ > 150

[18:00:16.0000] <Domenic_>
rniwa: I don't think anyone is ... I mean nobody's getting very far. Everyone just plugs away at their own stuff that is interesting but ultimately probably not going to be built on by many other people.

[18:00:28.0000] <Domenic_>
so it's more an experience than anything else, IMO :)

[18:01:14.0000] <rniwa>
Domenic_: I guess so although the recent discovery of Higg's Boson or an equivalent quantum particle would rule out a lot of alternative models out there

[18:01:59.0000] <rniwa>
Domenic_: I'm hoping to see the grand unification in my life time but maybe i'm too optimistic

[18:02:24.0000] <rniwa>
would be so cool to be working on that.

[18:02:35.0000] <Domenic_>
agreed on both of the above...

[18:03:59.0000] <rniwa>
Domenic_: on the other hand, I'm glad I don't have to have a constant fear of someone else figuring out what I've been studying for 10 years LOL.

[22:27:38.0000] <MikeSmith>
rniwa: spec bug around parsing that may be relevant for you https://www.w3.org/Bugs/Public/show_bug.cgi?id=24017

[22:27:47.0000] <MikeSmith>
since you touched that code recently I think

[22:29:37.0000] <MikeSmith>
dunno what the spec change would be.. check for a document fragment as an anscenstor instead of checking for a template anscenstor?

[22:30:25.0000] <MikeSmith>
or as teh root I guess, not just anscestor

[22:30:40.0000] <rniwa>
MikeSmith: that one is for Hixie

[22:30:56.0000] <rniwa>
Hixie: but I think he might be having the same confusion I had earlier yesterday

[22:43:55.0000] <rniwa>
MikeSmith: thanks for the info anyway :)

[22:44:04.0000] <rniwa>
/me needs to go home now

[00:50:07.0000] <MikeSmith>
Ms2ger: I don't know who manages evangelism bugs overall or what the conventions are but Abdul Rauf [:haseeb] seems to have resolved a number of bugs as invalid that really should be worksforme

[00:50:18.0000] <MikeSmith>
and resolved them all without any comment

[00:50:39.0000] <MikeSmith>
https://bugzilla.mozilla.org/page.cgi?id=user_activity.html&action=run&from=-14d&who=Abdulraufhaseeb%40gmail.com

[00:51:55.0000] <Ms2ger>
Dunno, I guess either works

[00:55:01.0000] <dekiss>
how can I make email newsletter like normal html5 web page or there is something different

[00:55:07.0000] <dekiss>
I need it to look good on outlook 2007 too

[01:00:17.0000] <MikeSmith>
hsivonen: http://bugzilla.validator.nu/show_bug.cgi?id=952

[01:00:24.0000] <MikeSmith>
"Can't connect to the database"

[02:29:38.0000] <zcorpan_>
hsivonen: i tried searching in google for an error message firefox logs in the console, to see what people are having trouble with. this one was a bit interesting http://stackoverflow.com/questions/11633162/character-encoding-not-declared-in-html-document

[02:30:46.0000] <hsivonen>
zcorpan_: thansk

[02:31:09.0000] <hsivonen>
MikeSmith: no idea why mariadb had died. Updated and restarted.

[02:31:36.0000] <zcorpan_>
hsivonen: it seems like at least some people are responding to the message by inserting encoding declarations, which is encouraging :-)

[02:33:55.0000] <annevk-cloud>
hsivonen: a blog entry on encoding UI would be good to document state of the art and trade offs made in 2013

[02:34:40.0000] <annevk-cloud>
hsivonen: e.g. the removal of iso-8859-8-i

[02:36:34.0000] <hsivonen>
annevk-cloud: I'm inclined to keep quiet for a while to see what complaints arise by people noticing problems on their own. Blogging might stir up concern trolling.

[02:36:48.0000] <hsivonen>
annevk-cloud: I'm OK with blogging some time later, though

[02:37:03.0000] <annevk-cloud>
coolio

[02:40:55.0000] <annevk-cloud>
There is a Chrome ICU bug btw

[03:11:04.0000] <zcorpan_>
hmm. i think i've hit a bug in both presto and blink where <video> is garbage collected although it has a <track src> child with an onload handler

[03:20:30.0000] <MikeSmith>
hsivonen: thanks

[03:23:18.0000] <zcorpan_>
seemingly the same bug in gecko

[03:23:48.0000] <Ms2ger>
Sounds like a feature, then ;)

[03:24:26.0000] <Ms2ger>
Is this Gecko with vtt support?

[03:24:39.0000] <zcorpan_>
yeah, flipped the pref

[03:25:14.0000] <zcorpan_>
gecko doesn't seem to fire 'load' on <track> when it does load, but i see the difference in the network tab

[03:29:27.0000] <zcorpan_>
https://critic.hoppipolla.co.uk/d32ea7bc?review=437

[03:40:08.0000] <zcorpan_>
i guess i should merge cssom and cssom view so that the wg doesn't end up publishing only one of them

[03:47:14.0000] <MikeSmith>
anybody up to date on what the state of support is for autocomplete= in UA?

[03:47:52.0000] <MikeSmith>
do any UAs support anything other than on/off for it?

[04:00:15.0000] <MikeSmith>
it makes me sad that when certain people file bugs my first reaction is to assume their bug reports aren't useful

[04:00:37.0000] <MikeSmith>
since nearly all the previous bug reports they've raised have been useless

[04:01:48.0000] <MikeSmith>
problem is there's the one time out of two dozen or so bug reports where they're actually maybe reporting something useful

[04:02:51.0000] <MikeSmith>
the bug reporter who cried wolf

[04:09:03.0000] <Ms2ger>
The bug reporter who cried "implement longdesc"?

[04:14:40.0000] <darobin>
lol

[04:14:53.0000] <Ms2ger>
Might have been Hixie

[04:16:13.0000] <Ms2ger>
(It was)

[04:16:21.0000] <Ms2ger>
At least for SeaMonkey

[04:40:51.0000] <MikeSmith>
seriously we need some way to mod individual bugzilla comments up and down

[04:41:21.0000] <MikeSmith>
so that the usefull comments bubble up to the top of the bug and the ass comments get buried

[04:45:25.0000] <jgraham>
That would work so well

[04:45:35.0000] <jgraham>
Particularly when bugs get picked up by reddit

[04:46:36.0000] <jgraham>
(actually in other cases it could maybe work OK, but dbaron's idea of having a continually updated summary might be better_

[04:46:42.0000] <jgraham>
s/_/)/

[04:53:20.0000] <Ms2ger>
jgraham, depends on who can vote

[05:20:40.0000] <zcorpan_>
<http://www.w3.org/mid/52A1CBD6.10503⊙nc>

[05:37:19.0000] <MikeSmith>
I wonder how much more absurd the republishing circus can get

[05:37:36.0000] <MikeSmith>
the webapps wg has a choice about what it publishes and doesn't

[05:38:04.0000] <MikeSmith>
the W3C staff is not forcing the group to publish anything

[05:39:43.0000] <MikeSmith>
a bare-minimal principled stand that the group could take is that it doesn't republish a spec without making it crystal clear where the content came from

[05:41:11.0000] <MikeSmith>
ArtB: my recommendation is that the WebApps WG stop republishing the DOM Parsing and Serialization immediately

[05:41:59.0000] <MikeSmith>
and that it not start publishing it again until its able to make crystal clear who actually wrote the spec

[05:42:14.0000] <MikeSmith>
oop

[05:42:17.0000] <MikeSmith>
s

[05:42:31.0000] <MikeSmith>
mean that for #wam

[05:43:02.0000] <MikeSmith>
or #testing rather

[05:46:09.0000] <jgraham>
MikeSmith: I think you misspelt #w3c-secret-treehouse

[05:47:28.0000] <MikeSmith>
heh

[06:06:23.0000] <karlcow>
#wam as in "before you go go"

[06:09:10.0000] <jgraham>
"Last Christmas / I wrote you a spec / this year, to cause you some tears / I'll publish again with changes"

[06:58:45.0000] <dekiss>
after I migrated the wordpress website in the html code relative links that begin with /wp-content/.. are not working but if I change them to wp-content/.. they are working, I am confused with this, is this the normal behaviour, relative links in html code should begin with /wp-content/.. or wp-content/.. ?

[06:59:57.0000] <Ms2ger>
Everywhere on foo.com, /x/.. refers to foo.com/x/..

[07:00:22.0000] <Ms2ger>
On foo.com/a/b.html, x/.. refers to foo.com/a/x/..

[08:44:32.0000] <dekiss>
Ms2ger thank you.. sorry just saw now

[08:54:02.0000] <JonathanNeal>
SteveF__: you have a doppelganger.

[08:54:55.0000] <JonathanNeal>
Who doesn't like discussing HTML much.

[08:57:55.0000] <SteveF__>
JonathanNeal: probably

[09:59:45.0000] <zewt>
http://lists.w3.org/Archives/Public/public-webapps/2013OctDec/0768.html http://lists.w3.org/Archives/Public/public-webapps/2013OctDec/0770.html as little as I care about anything related to "process", this reply is excellently bewildering

[11:06:16.0000] <jamesr__>
i guess he's upset about something but doesn't want to throw accusations around?

[11:06:24.0000] <jamesr__>
but now i don't know what he's upset about

[11:34:31.0000] <MikeSmith>
zewt: jgraham pointed out that that pair of messages is only bewildering if you consider Bjorn to be a single person as a opposed to a collective

[11:35:07.0000] <MikeSmith>
so the first message was sent by Objector Bjorn

[11:35:58.0000] <MikeSmith>
and then Art's message should have got routed to the Problem Solver Bjorn part

[11:36:42.0000] <MikeSmith>
but that part of the collective doesn't seem to be operating at all right now and hasn't been for a long time

[11:37:30.0000] <MikeSmith>
so there was a kind of "does not compute" malfunction in the collective

[11:37:43.0000] <MikeSmith>
hence the second message

[11:38:26.0000] <MikeSmith>
I think for greater efficiency the collective should just throw in these kind of cases

[11:38:45.0000] <MikeSmith>
ProblemSolverNotFoundException

[11:39:16.0000] <Hixie>
"but that part of the collective doesn't seem to be operating at all right now and hasn't been for a long time" has got to be the most subtle yet cutting put-down i've heard in weeks

[11:40:00.0000] <Hixie>
/me doffs his hat to MikeSmith 

[11:40:46.0000] <astearns>
503 Service Unavailable

[11:44:14.0000] <MikeSmith>
no put-down intended. I'm all about Love and positive vibrations. ask anybody :)

[11:48:22.0000] <MikeSmith>
anyway I guess I've trolololled out my full quota for the day and should get some sleep

[11:48:38.0000] <MikeSmith>
nn

[11:52:48.0000] <gsnedders>
Anyone got suggestions on how to find the encoding of unlabelled content, given an aim to be accurate and not fast? Language-identification + dictionary matching seems like a possibly useful approach, but would take a fair bit of tweaking to be accurate I fear.

[11:53:34.0000] <gsnedders>
(Well, being fast isn't a problem, it just isn't the aim. Accuracy is more important.)

[12:36:24.0000] <SimonSapin>
gsnedders: I assume you know about this? https://pypi.python.org/pypi/charade

[12:39:45.0000] <gsnedders>
SimonSapin: Yeah, indeed. Need something more accurate for more documents.

[13:12:27.0000] <dekiss>
footer element works on older browsers?

[13:16:21.0000] <Hixie>
define "work"

[13:16:26.0000] <Hixie>
:-)

[13:17:06.0000] <dekiss>
the website will show you know the website will render in the browser?

[13:17:16.0000] <dekiss>
I am reading some articles now suggesting making those elements display block

[13:20:59.0000] <Hixie>
yes, footer won't break in legacy browsers

[13:21:17.0000] <Hixie>
it's only in edge case things that you might have trouble

[13:21:27.0000] <Hixie>
e.g. in legacy browsers <footer> is treated more like <span> than <div>

[13:21:33.0000] <Hixie>
so it doesn't close <p> elements implicitly

[13:21:36.0000] <Hixie>
brb

[13:37:49.0000] <dekiss>
Hixie thanks

[14:02:28.0000] <Hixie>
ok, message ports and catastrophic failures.

[14:02:53.0000] <Hixie>
i guess we need an event name for "the other side didn't get GC'ed, but it went away prematurely, and you are never gonna hear back from them"

[14:03:13.0000] <Hixie>
ontheothersidedidnotgetgcedbutdidgoawayprematurelyandyouarenevergoingtohearbackfromthem="" is a bit long

[14:03:30.0000] <Hixie>
oncatastrophy=""

[14:03:44.0000] <Hixie>
onerror="" maybe?

[14:31:32.0000] <smaug____>
onerror is too common

[14:33:24.0000] <smaug____>
though, perhaps that is a good thing

[14:51:14.0000] <jgraham>
ondeath

[14:55:44.0000] <jsbell>
On a tangent... at various points there has been the suggestion to bubble those sorts of errors up all the way to window.onerror, but today window.onerror is only set up for uncaught exceptions (with file/line number).  Is that crazy talk?

[15:00:55.0000] <jgraham>
It's not obviously web-compatible at least

[15:06:46.0000] <Hixie>
jsbell: what sort of errors? like, img 'error' events?

[15:07:26.0000] <Hixie>
jsbell: not really clear how you'd handle them, i mean, they're not the same kinds of errors

[15:07:48.0000] <Hixie>
smaug____: yeah, i had the same thought (too common, but maybe that's good). not sure what the answer is.

[15:08:00.0000] <Hixie>
onerror is the best i've come up with so far

[15:08:11.0000] <Hixie>
ondeath is a bit too... strong

[15:09:02.0000] <jsbell>
agreed, it's not a concrete request yet. The idea is "let me just attach error logging to one place" for stuff that'll get reported back to the server. The specific case that's on my radar is Indexed DB (of course); the events already bubble up to a database object so it's not so bad.

[15:09:42.0000] <Hixie>
for events in the dom that you want to see you can use addEventListener() on Window to set a capturing handler

[15:10:42.0000] <Domenic_>
onagonizingdemise

[15:10:48.0000] <jsbell>
http://lists.w3.org/Archives/Public/public-webapps/2011JanMar/0342.html was the discussion, FWIW

[15:11:57.0000] <jsbell>
I plan to keep ignoring it

[15:13:26.0000] <jgraham>
Hixie: You are passing up the chance to make the web just a little bit more metal ;)

[15:14:03.0000] <jsbell>
on�rror

[15:14:08.0000] <Hixie>
jgraham: i shall have to find a way to live with myself nonetheless :-)

[15:14:26.0000] <Hixie>
jsbell: thankful-- i mean, unfortunately, we are limiting ourselves to ASCII characters.

[15:16:16.0000] <jgraham>
we could go with cheap mysticism instead: oncrossingtheveil

[15:21:12.0000] <juliet>
onbroken

[15:28:53.0000] <jgraham>
Bah, if we are making serious suggestions then onlost seems better


2013-12-07
[12:40:02.0000] <zcorpan>
how about onoff?

[12:44:25.0000] <Ms2ger>
Let's not go there. It's a silly place.


2013-12-08
[17:04:41.0000] <zewt>
this fad of blocking onpaste in "confirm email address" inputs needs to be shot into the sun

[17:05:03.0000] <zewt>
oh jesus this site just did the "no right click" thing, i feel like i've been shot back in time

[23:29:33.0000] <Domenic_>
annevk-cloud: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=24000

[00:38:35.0000] <annevk-cloud>
Domenic_: invalid, Ms2ger is correct

[00:38:56.0000] <Ms2ger>
WFM, I guess

[00:39:40.0000] <annevk-cloud>
fair

[00:49:36.0000] <Ms2ger>
Offered without comment: "the currently-most-portable-and-not-controlled-by-maniacs runtime language, JavaScript"

[01:17:47.0000] <MikeSmith>
Ms2ger: I'm having a hard time figuring out how to get Hixie's javascript-url tests to run effectively under testharness.js

[01:18:55.0000] <MikeSmith>
problem is if you load http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/001.html  you'll see if basically fails initially first before un-failing

[01:19:25.0000] <MikeSmith>
in the iframe

[01:19:49.0000] <MikeSmith>
you see first "Fail" and then after that "inner address used for resolution"

[01:20:03.0000] <Ms2ger>
Mmm

[01:20:07.0000] <MikeSmith>
a Flash of Fail as it were

[01:20:40.0000] <MikeSmith>
lemme gist my naive attempt so far at getting it to work

[01:21:12.0000] <MikeSmith>
basicaly I guess I need to get testharness.js to ignore the initial fail

[01:22:29.0000] <MikeSmith>
Ms2ger: https://gist.github.com/sideshowbarker/7855058

[01:23:28.0000] <MikeSmith>
using onload="frameLoaded()" to call the test

[01:25:31.0000] <MikeSmith>
and it runs twice because the iframe first gets loaded from inner.html then its .location is re-assigned to test.txt and it re-loads

[01:25:55.0000] <MikeSmith>
at least I assume that's what happenes

[01:26:16.0000] <Ms2ger>
Right

[01:26:52.0000] <Ms2ger>
Maybe make the first one say "first load" or something like that and check for both loads?

[01:27:22.0000] <MikeSmith>
yeah

[01:27:38.0000] <MikeSmith>
I tried that but it didn't seem to work, or whatever reason

[01:27:50.0000] <MikeSmith>
but I'll try again

[01:28:22.0000] <MikeSmith>
either that or try a completely diferent approach to the test that gets the same result but in some other way

[02:20:13.0000] <MikeSmith>
Ms2ger: updated the gist https://gist.github.com/sideshowbarker/7855058

[02:20:38.0000] <MikeSmith>
if you're still around please take a look and lemme know if that looks sane

[06:38:14.0000] <phuu>
hi #whatwg. looking at the Promises DOM draft – what's the most up-to-date polyfill for this spec?

[06:38:55.0000] <phuu>
is it the testable-implementation here: https://github.com/domenic/promises-unwrapping?

[11:10:04.0000] <JonathanNeal>
phuu: I made one @ https://github.com/jonathantneal/polyfill


2013-12-09
[00:20:54.0000] <Ms2ger>
Yay for Google fucking over Google: http://code.google.com/p/chromium/issues/detail?id=43394#c44

[00:55:13.0000] <MikeSmith>
Ms2ger: wonderful

[00:55:33.0000] <MikeSmith>
"Gmail and other Google Apps are relying on the fact that Chrome defines DOM attributes on DOM instances."

[00:56:19.0000] <MikeSmith>
"It's strange that these Google Apps are working fine in Firefox and IE where DOM attributes are defined on prototype chains. Probably Google Apps are using different JavaScript code depending on browsers."

[00:57:20.0000] <MikeSmith>
so you'd think they'd be happy if they could move to just one code path instead of needing to maintain two

[00:58:18.0000] <MikeSmith>
Ms2ger: oh, but see the next comment

[01:00:48.0000] <Ms2ger>
Yeah, indeed

[01:04:26.0000] <jochen__>
as I noted on the bug, I think that statement is false

[01:04:32.0000] <Ms2ger>
I'll try to look at your javascript: urls later, haven't had time yet

[01:04:43.0000] <jochen__>
it's just that the new codepath for the attributes in v8 was not tested very well and likely broken

[01:05:20.0000] <Ms2ger>
Anyway, we'll see :)

[01:05:39.0000] <Ms2ger>
/me heads off for a while

[01:07:49.0000] <MikeSmith>
jochen__: yeah your comment is the one I meant by "oh, but see the next comment"

[01:08:18.0000] <MikeSmith>
so, I'll got back to remaining optimistic

[01:10:37.0000] <MikeSmith>
hsivonen: if it's OK with you, I'd like to add "Access-Control-Allow-Headers: content-type" to the validator response headers

[01:10:52.0000] <MikeSmith>
for context see http://lists.whatwg.org/pipermail/implementors-whatwg.org/2013-December/000338.html

[01:14:09.0000] <jochen__>
:)

[01:16:12.0000] <MikeSmith>
hsivonen: otherwise, if somebody wants to use the validator REST interface with XHR, they have to send the "laxtype" parameter and even then they'll get back a "Being lax about non-HTML Content-Type: text/plain" warning

[01:18:36.0000] <MikeSmith>
jochen__: it will be nice to see the interface tests in the web-platform-tests testsuite working in Chrome (since for most of those we rely on a test harness that in turn relies on conformant WebIDL support)

[01:21:52.0000] <jochen__>
yes

[01:22:08.0000] <jochen__>
however, the patch Kentaro uploaded only moved "popular" attributes

[01:22:25.0000] <MikeSmith>
jochen__: oh really?

[01:22:28.0000] <MikeSmith>
didn't know

[01:22:49.0000] <jochen__>
i guess the idea is that if the popular ones work, we can mass-move the rest

[01:23:13.0000] <MikeSmith>
that sounds like a sane way to do it I guess

[01:28:27.0000] <MikeSmith>
hsivonen: to be clear, ideally a Web app should be able to do .setRequestHeader("Content-type", "text/html") for an XHR to the validator. But if it does then the request gets preflighted and rejected because the validator doesn't send "Access-Control-Allow-Headers: content-type" in the options response

[01:31:40.0000] <MikeSmith>
hsivonen: so if we add "Access-Control-Allow-Headers: content-type" it will eliminate the need for apps to send the laxtype parameter, and eliminate the warning message the gets reported bacause of that

[01:33:51.0000] <hsivonen>
MikeSmith: oops. I missed that aspect of CORS. Yeah, sure, it makes sense to add that.

[01:34:01.0000] <hsivonen>
I wonder if there are other headers that should be allowed

[01:34:20.0000] <MikeSmith>
yeah I wondering the same thing

[01:34:44.0000] <hsivonen>
/me tries to see if Content-Length and such are permitted by default by the spec

[01:35:51.0000] <hsivonen>
"To be clear, the method and header fields are mutually exclusive. When one of them is empty the other is non-empty." what's that about?

[01:36:28.0000] <annevk-cloud>
That is about caching

[01:37:08.0000] <hsivonen>
annevk-cloud: yeah, but does it mean that allowing methods GET and POST would remove the need to care about particular headers?

[01:37:12.0000] <annevk-cloud>
Content-Length is set by the UA iirc

[01:37:26.0000] <annevk-cloud>
No it does not

[01:37:57.0000] <annevk-cloud>
It just means that the cache entry is either for a header or a method

[01:38:21.0000] <hsivonen>
oh

[01:38:25.0000] <annevk-cloud>
Is hopefully clearer in Fetch

[01:38:38.0000] <annevk-cloud>
If not, bug reports appreciated

[01:38:59.0000] <hsivonen>
does validator.nu need to add Access-Control-Allow-Methods, too?

[01:39:34.0000] <hsivonen>
or maybe it already does in OPTIONS responses

[01:39:42.0000] <hsivonen>
/me should look at the source

[01:39:53.0000] <annevk-cloud>
If you allow more than GET and POST

[01:39:56.0000] <MikeSmith>
/me is looking right now also

[01:40:28.0000] <MikeSmith>
my tests with POST already work fine

[01:40:40.0000] <annevk-cloud>
If you feel your setup is secure you could allow any header

[01:40:51.0000] <annevk-cloud>
Just echo the requested headers

[01:41:35.0000] <MikeSmith>
I think that might be overkill but maybe not

[01:41:42.0000] <hsivonen>
it already does Access-Control-Allow-Methods", "GET, HEAD, POST, OPTIONS

[01:41:47.0000] <hsivonen>
which is why POST works

[01:42:10.0000] <annevk-cloud>
POST works by default though iirc

[01:42:28.0000] <annevk-cloud>
HEAD is also whitelisted

[01:42:53.0000] <annevk-cloud>
And OPTIONS is part of the protocol

[01:43:52.0000] <JakeA>
annevk-cloud: What's going on with promises at the moment, which spec is "the spec"?

[01:44:47.0000] <JakeA>
Just saw https://code.google.com/p/v8/source/browse/branches/bleeding_edge/src/promise.js?spec=svn18113&r=18113 - and there's things like Promise.resolved and Promise.one, which aren't in https://github.com/domenic/promises-unwrapping/blob/master/README.md

[01:45:00.0000] <MikeSmith>
hsivonen: btw I see Access-Control-Policy-Path in there. in VerifierServlet.java. I guess we should get rid of that

[01:45:33.0000] <hsivonen>
MikeSmith: I can't remember what that is about

[01:45:58.0000] <hsivonen>
MikeSmith: something that has been removed from the spec?

[01:46:39.0000] <MikeSmith>
hsivonen: yeah, long gone now

[01:55:47.0000] <MikeSmith>
hsivonen: btw while we're on the subject of headers, I'd like to also propose we change the Accept header that the validator's sending, so that it's something closer to what browsers send

[01:56:05.0000] <MikeSmith>
right now it's sending "/*; q=0.1, application/docbook+xml, application/xhtml+xml, application/xml; q=0.5, image/svg+xml, text/html; q=0.9, text/xml; q=0.3"

[01:56:32.0000] <MikeSmith>
oops

[01:57:14.0000] <MikeSmith>
make that */* at the beginning

[01:58:16.0000] <MikeSmith>
anyway I think it might be better to send just, e.g., "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"

[02:00:34.0000] <MikeSmith>
one reason I suggest it is that currently tit can cause the validator to get sent an application/xhtml+xml version of document while browsers get sent a text/html version of that same document

[02:11:21.0000] <dekiss>
I have weird problem, I made emai lnewsletter, the newsletter has too much scrolling on mobiles, why?

[02:11:27.0000] <dekiss>
I have viewprot meta tags, the email newsletter looks too much zoomed in iphone why?

[02:12:59.0000] <dekiss>
I have this <meta content='width=device-width, target-densitydpi=device-dpi, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

[02:15:49.0000] <MikeSmith>
hsivonen: looking at the code it seems like the order the Accept header is being built in is good but it doesn't get preserved because it's going into a TreeSet. So I think I could keep the rest of that code as-is but just change it to use a LinkedHashSet

[02:16:56.0000] <MikeSmith>
dekiss: I don't think you can expect much help here with that question. Not sure where to suggest instead though

[02:21:15.0000] <dekiss>
ok

[02:27:31.0000] <darobin>
who said that public-html saw no useful discussion? I have proof to the contrary: http://lists.w3.org/Archives/Public/public-html/2013Dec/0003.html

[02:27:58.0000] <hsivonen>
MikeSmith: OK

[02:28:58.0000] <hsivonen>
MikeSmith: especailly the html5 facet of the validator should use the same Accept header as browsers

[02:29:31.0000] <hsivonen>
even the new validator is now old enough to be legacy code like this :-(

[02:34:05.0000] <MikeSmith>
heh

[02:34:56.0000] <Ms2ger>
My eyes glazed over, but right before that I saw "Deprecating tags such as <center> is a mistake."

[02:36:17.0000] <MikeSmith>
hsivonen: so I'll change Accept and also add Access-Control-Allow-Headers for content-type for now

[02:36:38.0000] <hsivonen>
MikeSmith: ok

[02:36:43.0000] <MikeSmith>
Ms2ger: you're clearly not reading with the proper mindset

[02:37:01.0000] <Ms2ger>
MikeSmith, quite likely

[02:37:33.0000] <Ms2ger>
MikeSmith, I did click on a link to a public-html email, so that already says a lot about the proper mindset

[02:37:52.0000] <MikeSmith>
heh

[02:38:25.0000] <MikeSmith>
Ms2ger: you got public-html-rolled by darobin

[02:38:51.0000] <MikeSmith>
or maybe it should be public-html-goatse'd

[02:39:00.0000] <darobin>
hahaha

[02:44:41.0000] <annevk-cloud>
JakeA: Domenic's repo is the spec, Google is not following it afaict

[02:54:40.0000] <MikeSmith>
annevk-cloud: "Based on prototype at https://github.com/rossberg-chromium/js-promise which informed the latest spec draft version at https://github.com/domenic/promises-unwrapping/blob/master/README.md" in his commit message

[02:55:34.0000] <annevk-cloud>
Andreas disagrees with some stuff so he implemented it differently

[02:56:07.0000] <annevk-cloud>
Not sure whether that's a good thing yet

[02:57:57.0000] <MikeSmith>
explicitly basing the browser implementation on his own speculative JS prolyfill instead of a spec seems a bit odd

[02:59:07.0000] <annevk-cloud>
Yeah is odd, just not sure if it is wrong

[03:39:30.0000] <JakeA>
Promise.race vs Promise.one I don't care about. Not convinced it's useful. An opposite to Promise.all would be useful.

[03:40:28.0000] <JakeA>
Promise.resolved is only a better name if you don't pass in an arg. For most cases Promise.resolve is better

[03:56:22.0000] <annevk-cloud>
Yeah, the bikeshedding seems wrong

[03:56:57.0000] <annevk-cloud>
More thinking about deferreds

[05:35:23.0000] <zcorpan>
hmm, it seems presto/blink/gecko actually use utf-8 query encoding when resolving <base href>

[05:40:09.0000] <zcorpan>
...or not, bogus test

[05:44:21.0000] <zcorpan>
data:text/html;charset=windows-1252,<!DOCTYPE%20html><script>document.write('<base%20href%3Dhttp%3A%2F%2Fexample.invalid%2F%3F%5Cu00e5><a%20href><%2Fa>')%3Balert(document.links%5B0%5D.href)%3B<%2Fscript> is a correct test

[05:46:52.0000] <zcorpan>
note to self: about:blank uses utf-8

[05:52:40.0000] <zcorpan>
IE seems to drop the query

[06:10:52.0000] <darobin>
what's the expected way to run html5lib-python tests against a different source of tests than the submodule?

[06:11:02.0000] <darobin>
jgraham: ^^

[06:13:09.0000] <darobin>
also, is there a way of running the tests against just a subset of the data?

[06:13:38.0000] <jgraham>
darobin: You aren't really expected to do that :)

[06:13:50.0000] <darobin>
jgraham: bah!

[06:13:56.0000] <jgraham>
What's the use case?

[06:13:59.0000] <darobin>
how can you try out something new then?

[06:14:18.0000] <jgraham>
Add it to the existing tests?

[06:14:38.0000] <darobin>
well, yeah, but I want to run my tests before pushing it to the repo

[06:15:01.0000] <darobin>
jgraham: the situation is: I have new tests in my own fork of html5lib-tests and I'd like to run them before making a PR

[06:15:34.0000] <jgraham>
darobin: That sould JustWork, no?

[06:15:40.0000] <jgraham>
*should

[06:15:51.0000] <darobin>
mmmm, I guess there's something I'm not understanding

[06:16:11.0000] <darobin>
should I just nuke the submodule in html5lib-python that brings in the tests and replace it with my own?

[06:16:50.0000] <darobin>
I mean I can easily do that and ln -s instead — it just seems more brutal than what I'd expect :)

[06:17:50.0000] <jgraham>
Why wouldn't you jsut add your own tests to the submodule?

[06:18:42.0000] <darobin>
the submodule is 1) not my repo so I can't initiate a PR from it; 2) normally submodules are stuck at a given revision

[06:20:01.0000] <darobin>
but clearly that's not a problem you've had, I presume all the tests have been written by html5lib maintainers anyway :)

[06:20:10.0000] <darobin>
I'll resort to ln and leave you get back to whatever

[06:20:11.0000] <jgraham>
Well the submodule thing is new

[06:20:33.0000] <darobin>
what I was thinking of is some option to pass to nosetests so that it'd pick up the tests data from elsewhere; or some such

[06:21:16.0000] <jgraham>
So I think that won't work because it will try to read the data files from the original location in any case. But I might be wrong

[06:23:29.0000] <darobin>
I'm removing the original location and replacing it with a symbolic link

[06:23:31.0000] <darobin>
let's see

[06:24:25.0000] <darobin>
seems happy enough

[06:24:38.0000] <jgraham>
OK

[06:24:42.0000] <annevk>
zcorpan++ if you're writing tests for that

[06:24:50.0000] <annevk>
zcorpan: my URL tests don't cover those aspects

[06:25:03.0000] <darobin>
jgraham: and I'm guessing the answer to "can I just run on a subset of the tests?" is "mmm, why would you want to do that?" :)

[06:25:33.0000] <darobin>
whoa, lots of broken tests

[06:26:28.0000] <SimonSapin>
darobin: you can commit and push from a submodule

[06:26:58.0000] <darobin>
SimonSapin: yeah, but it's hardcoded to be https://github.com/html5lib/html5lib-tests.git whereas I'm using my own fork

[06:27:10.0000] <SimonSapin>
you can still add a remote

[06:27:25.0000] <SimonSapin>
I typically have two remotes for github stuff: upstream and fork

[06:28:30.0000] <jgraham>
Yeah, it's just a normal repo except that the metadata is kept somewhere strange

[06:35:49.0000] <zcorpan>
annevk: https://critic.hoppipolla.co.uk/r/437

[07:10:14.0000] <annevk>
So http://online.wsj.com/news/articles/SB10001424052702304355104579236261045331876 is published in opinion, but who wrote it?

[07:10:32.0000] <annevk>
If there's no name, does it mean the WSJ team is behind it?

[07:11:51.0000] <jgraham>
YEs, I think that's how it works

[07:19:44.0000] <zcorpan>
image/svg+xml in an iframe shouldn't inherit the encoding, right? it should just use xml's encoding rules

[07:23:53.0000] <darobin>
annevk: "Editorial board member Joe Rago"

[07:24:13.0000] <darobin>
(for the related video — which points to the same conclusion)

[07:27:27.0000] <darobin>
jgraham: is there some reason for what tests are in what files?

[07:28:44.0000] <jgraham>
darobin: It is a philosopical treatise on existential disorder

[07:29:01.0000] <jgraham>
Either that or material for Dan Brown to use in his next "novel"

[07:29:01.0000] <darobin>
jgraham: thanks, that's the impression it left me with

[07:29:09.0000] <darobin>
I preferred the first one

[07:29:25.0000] <jgraham>
Well done

[07:29:39.0000] <jgraham>
You win a French citizenship

[07:30:09.0000] <jgraham>
(at least I imagine that's how it works)

[07:31:14.0000] <Ms2ger>
And an induction into Opus Dei

[07:31:29.0000] <darobin>
may I win anything I don't already have?

[07:31:57.0000] <Ms2ger>
A sense of humour?

[07:32:20.0000] <darobin>
also, I presume that html5lib failing several tests currently in the suite is normal?

[07:32:28.0000] <jgraham>
I don't think so

[07:32:33.0000] <jgraham>
But ask gsnedders

[07:32:40.0000] <jgraham>
Which tests are they?

[07:32:41.0000] <darobin>
Ms2ger: don't worry, becoming more proficient with python is definitely giving me one

[07:33:10.0000] <darobin>
jgraham: if I use the tests from the submodule (so at a given revision) all pass, but with the latest from the repo they don't

[07:33:20.0000] <darobin>
28 fail

[07:33:27.0000] <jgraham>
Oh

[07:33:28.0000] <darobin>
most seem to do with <command>

[07:33:38.0000] <jgraham>
Sounds plausile

[07:33:39.0000] <darobin>
and weird characters in doctype

[07:33:42.0000] <jgraham>
*plausible

[07:33:48.0000] <jgraham>
Especially if the spec also changed

[07:34:29.0000] <darobin>
okay, thanks!

[07:41:29.0000] <annevk>
darobin: that he wrote the piece?

[07:42:34.0000] <darobin>
annevk: that it comes from the WSJ as an entity — it's a practice that's not uncommon in certain parts of the press

[07:43:24.0000] <darobin>
editorial opinions are the opinion of the journal, not just some guy

[07:43:33.0000] <annevk>
darobin: ta

[07:44:20.0000] <darobin>
annevk: I don't know how the WSJ operates, but e.g. in the Economist all the articles are unsigned (except the columns which are pseudonymous)

[07:46:25.0000] <annevk>
darobin: when I read the Economist there was no "opinion" thingie, but I guess a column counts as a similar thing

[07:47:39.0000] <darobin>
annevk: it's the Economist, they are cocksure enough to any of their opinions facts ;-)

[07:48:06.0000] <annevk>
uhuh, whenever they wrote about the web though...

[07:53:11.0000] <darobin>
annevk: if you know of a single newspaper that writes smart stuff when they're writing about a topic you really know, I'd be happy to hear about it

[07:54:23.0000] <annevk>
Daring Fireball is pretty good, but not a newspaper

[07:54:45.0000] <annevk>
also have to read the bits about Google with care

[07:55:13.0000] <darobin>
and anything related to Apple being awesome

[07:59:37.0000] <jgraham>
I would really not cite Daring Fireball as a source of good journalism

[08:02:26.0000] <darobin>
/me is wondering if update_html5lib_tests.py really makes sense

[08:04:59.0000] <darobin>
whoa, and it looks like we haven't updated WPT from it in a while

[08:06:38.0000] <jgraham>
darobin: Makes sense in what way?

[08:06:58.0000] <arunranga>
annevk, are you ok with the current handling of blob: URLs, query, etc.? Not sure if your bug update to 23946 means you think more needs to be done, or if it can be closed.

[08:08:18.0000] <darobin>
jgraham: well, reading the source, there are two modes

[08:08:37.0000] <darobin>
jgraham: the basic one is that you give no arguments and it uses the tests from inside the html5lib source — that part is okay

[08:08:56.0000] <darobin>
jgraham: the other is that it checks if sys.argv is > 2 but then it only looks at sys.argv[2]

[08:09:17.0000] <darobin>
and only takes one directory

[08:09:42.0000] <darobin>
so I'm calling it as python update_html5lib_tests.py xxx /path/to/tests

[08:09:45.0000] <darobin>
seems to work

[08:09:50.0000] <darobin>
but nonsensical :)

[08:11:40.0000] <jgraham>
I think it used to take another argument. Probably got lost somewhere when I updated it :)

[08:12:35.0000] <darobin>
heh

[08:12:51.0000] <jgraham>
Anyway, fixes welcome I guess

[08:13:02.0000] <darobin>
is anyone relying on this?

[08:13:16.0000] <darobin>
(that we know of)

[08:13:21.0000] <annevk>
Cyrillic is a real mess

[08:13:35.0000] <jgraham>
darobin: No, I think it's just used to import the tests

[08:13:41.0000] <annevk>
Only encoding group with five entries in Firefox Nightly's new menu

[08:13:52.0000] <darobin>
jgraham: I wonder if it would be possible to use a more readable format in the generated JS tests

[08:13:56.0000] <darobin>
I mean, good luck reviewing that

[08:14:28.0000] <annevk>
arunranga: there's a lot of text currently and it's not clear to me when it applies

[08:14:51.0000] <jgraham>
darobin: You review the source and trust the generated output

[08:15:06.0000] <annevk>
arunranga: e.g. in the section "A definition of blob URL Scheme" (casing?) it says "A query must be ignored." which does not seem very applicable

[08:15:18.0000] <jgraham>
But sure, other methods of importing these tests are possible

[08:15:39.0000] <jgraham>
The primary one being to use XHR and parse the raw files in js

[08:16:08.0000] <darobin>
that might actually be a viable solution — tbh I'm not even sure what you're doing in there :)

[08:16:29.0000] <jgraham>
It depends how much you trust XHR to deliver unchanged bytes

[08:16:40.0000] <jgraham>
I decided at the time that I didn't very much

[08:16:43.0000] <Domenic_>
annevk: any resources on why WebIDL/etc. switched from stupid int constants to nice string constants for enums? Helping a coworker convince other coworkers that string enums are fine.

[08:16:49.0000] <darobin>
fair enough

[08:17:05.0000] <jgraham>
It might be worth revisting that assumption now

[08:17:05.0000] <darobin>
jgraham: I'm not annoyed enough to change it at this point, it's great that we have what we have

[08:17:19.0000] <darobin>
but I might look into it at some point, it's a bit of a long ride to get something all the way in

[08:17:26.0000] <jgraham>
darobin: Yep

[08:17:36.0000] <darobin>
/me hopes no one comes back with a "that's what she said" joke here

[08:17:42.0000] <Ms2ger>
twss

[08:17:53.0000] <Ms2ger>
Damn you!

[08:17:59.0000] <darobin>
heh

[08:19:12.0000] <arunranga>
annevk, ok, that makes sense.

[08:19:16.0000] <annevk>
/me looks

[08:19:56.0000] <annevk>
Domenic_: hmm http://lists.w3.org/Archives/Public/public-script-coord/2010OctDec/0098.html and then https://www.w3.org/Bugs/Public/show_bug.cgi?id=11451

[08:20:48.0000] <Domenic_>
annevk: perfect, thanks!

[08:23:04.0000] <annevk>
arunranga: I think I'd prefer moving to a place where we have createObjectURL() defined as creating the URL and then a separate place that does the lookup

[08:23:10.0000] <annevk>
arunranga: it's not clear we need anything else

[08:23:47.0000] <annevk>
arunranga: the lookup being the bit that gets passed a URL object whose scheme is "blob" and then uses the scheme data to find an entry in the table to locate the relevant resource

[08:25:12.0000] <arunranga>
annevk, I think I agree, actually.

[08:25:52.0000] <arunranga>
/me wanders off to reorganize the spec a bit

[09:23:29.0000] <gsnedders>
<b><b><b><b>x</b></b></b></b>y — when </b> is passed to the AAA, what's on the list of active formatting elements?

[09:25:20.0000] <gsnedders>
/me is pretty sure html5lib is wrong here

[09:26:59.0000] <jgraham>
[b,b,b]

[09:27:14.0000] <gsnedders>
Why?

[09:27:34.0000] <gsnedders>
Why only three?

[09:27:45.0000] <jgraham>
http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#push-onto-the-list-of-active-formatting-elements

[09:28:05.0000] <gsnedders>
Oh.

[09:28:16.0000] <gsnedders>
I should, like, follow xrefs and not assume simplicity.

[09:28:37.0000] <gsnedders>
jgraham: This is needed solely to help avoid the O(n^2) case without breaking content, right?

[09:29:03.0000] <jgraham>
Yeah, something like that

[09:30:18.0000] <gsnedders>
Thanks for pointing out my obvious wrongness. :)

[09:30:31.0000] <jgraham>
No problem

[09:30:41.0000] <jgraham>
I'm sure you would do the same for me

[09:31:03.0000] <gsnedders>
But of course. :)

[09:39:02.0000] <gsnedders>
<b><table><tr><td>a<foo>b</b>c — is "c" in foo?

[09:40:58.0000] <gsnedders>
Yes, it is, obviously.

[09:41:05.0000] <gsnedders>
That was me just being totally stupid.

[09:48:31.0000] <Hixie>
gsnedders: the noah's ark clause isn't to avoid O(N^2) complexity, it's to avoid O(N^2) memory usage

[09:51:48.0000] <gsnedders>
I should stop asking questions and just send the damned email before more people say even more of what I wrote is wrong :)

[09:52:56.0000] <gsnedders>
Hixie: But it works in tandem with the AAA loop limits, right?

[09:55:13.0000] <gsnedders>
jgraham, darobin (if you see this): yes, it's known html5lib-python doesn't pass tests at the top of master of html5lib-tests, thus why the submodule isn't at that revision.

[09:55:49.0000] <gsnedders>
(Because html5lib-python isn't up to date with the spec, but html5lib-tests is.)

[10:24:58.0000] <Hixie>
gsnedders: something like that

[10:25:06.0000] <Hixie>
gsnedders: it's not necessary about the AAA

[10:25:15.0000] <Hixie>
gsnedders: the AAA is more about how to handle misclosed tags

[10:25:31.0000] <Hixie>
gsnedders: noah's ark is more about how to handle deep pointless trees or trees that just never close

[10:29:16.0000] <Hixie>
heycam|away: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=22646

[10:57:07.0000] <gsnedders>
The new W3C ruby stuff, are people implementing this?

[10:59:42.0000] <Ms2ger>
I hope not

[10:59:56.0000] <gsnedders>
Then we reject darobin's pull requests?

[11:00:28.0000] <Ms2ger>
No, we accept the test cases and fix the expectations :)

[11:00:37.0000] <gsnedders>
:)

[13:01:38.0000] <Hixie>
MikeSmith: if you have any idea for https://www.w3.org/Bugs/Public/show_bug.cgi?id=23659 please do bounce them around :-)

[13:56:50.0000] <Hixie>
sweet kittens the web's focus model is complicated when you get right down to it

[13:57:02.0000] <Hixie>
and <dialog> is not going to help make it simpler

[14:11:34.0000] <Hixie>
i need a word for "object that manages clusters of focusable objects"

[14:11:49.0000] <Hixie>
the best i've come up with so far is "focusable liege", so please feel free to bikeshed...

[14:17:57.0000] <Hixie>
oh lordy

[14:18:01.0000] <Hixie>
i know where this is headed

[14:18:20.0000] <Hixie>
i'm going to accidentally end up defining the web's key event routing algorithm

[14:36:53.0000] <zcorpan>
Hixie: define hit testing while at it :-)

[14:55:01.0000] <Hixie>
zcorpan: that's an entirely separate problem, luckily

[15:08:34.0000] <jgraham>
Luckily for whom?

[15:10:26.0000] <Hixie>
me

[15:10:44.0000] <Hixie>
man, i had no idea keyboard focus was this complicated as it is

[15:11:03.0000] <jgraham>
That's not very community-spirited of you :p

[15:12:02.0000] <Hixie>
:-P

[15:13:10.0000] <Hixie>
seriously, nobody has a better word than "liege" for the object that manages focusables?

[15:15:42.0000] <jgraham>
Isn't an object that manages usually called a "manager"?

[15:16:33.0000] <Hixie>
hm, i thought we already used that term

[15:16:35.0000] <Hixie>
but i guess not!

[15:16:43.0000] <Hixie>
manager it is

[15:18:47.0000] <Hixie>
i wish english had a term for "ancestor-or-self"

[15:20:01.0000] <jgraham>
Well there's something you have in common with the xpath folks

[15:20:15.0000] <Hixie>
and dom, yeah

[15:20:49.0000] <Hixie>
unlike both of those, however, i prefer to contort my english prose with redundancy rather than contort it with an invented term "ancestor-or-self" :-P

[15:25:00.0000] <Hixie>
what do you think of tabindex="group 1" as being a way to declare a tabindex scope? it wouldn't do anything except scope the tabindex of descendants

[15:25:30.0000] <Hixie>
context is https://www.w3.org/Bugs/Public/show_bug.cgi?id=23960


2013-12-10
[17:58:13.0000] <Domenic_>
If people at W3C members ask me who their AC rep is for TAG elections, where can I find that out?

[18:03:38.0000] <heycam>
Domenic_, not sure where the canonical place to look is, but https://www.w3.org/2000/09/dbwg/orgs lists organisations, and if you click on an org it will tell you which person is in the AC

[18:06:47.0000] <Domenic_>
why does my w3c member account password never fucking work...

[18:07:55.0000] <heycam>
it's a member only page, if that matters

[18:11:01.0000] <Domenic_>
yeah but i signed up as a member and was able to access the members area before... but every time i have to reset my password several times.

[18:13:45.0000] <Domenic_>
nope, won't let me log in, no matter how many times i reset my password.

[18:16:47.0000] <Domenic_>
thanks though heycam. maybe support will email me back and i'll be able to do that then...

[18:16:47.0000] <heycam>
hopefully the page should work for those people looking to bug their AC reps

[20:00:56.0000] <TabAtkins>
Woo, finally got Bikeshed's install flow corrected.

[20:01:11.0000] <TabAtkins>
Nothing like having to completely reset your system for getting your project's installation flow correct.

[22:30:25.0000] <crocket>
hi

[22:30:30.0000] <crocket>
I have an internet explorer question.

[22:30:36.0000] <crocket>
IE has MSSelection objects.

[22:30:48.0000] <crocket>
Does anyone know where to find a reference to MSSelection object?

[22:31:17.0000] <crocket>
If I invoke any method in MSSelection, IE10 says "800a025e error"

[00:06:20.0000] <MikeSmith>
hsivonen: there's an XHTML validation case that others on the W3C team have told me they think the behavior runs against user expectations; which is, http://validator.nu/?doc=http://tantek.com/XHTML/Test/xhtmlwithoutprolog.xml

[00:07:21.0000] <MikeSmith>
the argument is that since that document has an XHTML1 Strict doctype and not a <!doctype html> doctype, it should by default be validated against the XHTML1 schema

[00:08:06.0000] <MikeSmith>
instead of against the XHTML5 schema, as the current behavior causes it to be

[00:09:49.0000] <MikeSmith>
I see the reason for the current behavior is that for all docs served with an XML MIME type, the validator sniffs the root namespace to make a determination about which schema to use for validation -- before it every gets around to looking at the doctype

[00:13:57.0000] <MikeSmith>
I think I can change the code to maybe have it skip the step of automatically using the XHTML5 if it finds the http://www.w3.org/1999/xhtml namespace, but not sure whether you think that it should or whether the existing behavior is in fact actually better (from a user perspective)

[01:03:47.0000] <tantek>
oh hello MikeSmith - wow someone found that old test case?

[01:04:51.0000] <tantek>
I'm not sure it has any relevance these days.

[01:04:58.0000] <hsivonen>
MikeSmith: the validator behavior is intentional in this case, IIRC

[01:05:17.0000] <hsivonen>
MikeSmith: HTML5 allows legacy doctypes for entity ref compat

[01:05:27.0000] <hsivonen>
MikeSmith: I'd like to keep this behavior

[01:06:09.0000] <MikeSmith>
tantek: it's one of the few xhtml documents on the Web that are actually served as xml

[01:06:19.0000] <hsivonen>
MikeSmith: in general, we should move even more towards validating according to current specs unless the validator user asks for an old thing

[01:06:20.0000] <MikeSmith>
hsivonen: ok

[01:06:57.0000] <MikeSmith>
hsivonen: yeah, that makes sense

[01:53:07.0000] <jgraham>
annevk-cloud: Do you have time to look at https://critic.hoppipolla.co.uk/5fd7fd9b?review=368 ?

[02:28:22.0000] <zcorpan>
hsivonen: do you mean we should do that for text/html also?

[02:43:09.0000] <hsivonen>
zcorpan: I thought that was the plan, but we just haven't gotten around to it

[02:43:48.0000] <zcorpan>
hsivonen: ok. sounds good to me

[02:51:10.0000] <zcorpan>
is there a way to invoke http://www.whatwg.org/html#extracting-json without the user starting a drag operation?

[02:52:44.0000] <zcorpan>
there are no other xrefs, so i guess not :-|

[02:56:08.0000] <Ms2ger>
OH: "how to use frameset in html5 .. I want to divide the page into parts so that the bottom of my page has a framset for menu and top frame has a marquee goin on .."

[03:23:57.0000] <hsivonen>
/me wonders where Ms2ger overhears conversations like that

[03:24:19.0000] <Ms2ger>
#html5

[03:24:50.0000] <hsivonen>
this template element stuff keeps turning up interesting cases that don't work according to someone's expectations

[03:25:24.0000] <hsivonen>
I hope this <template> feature actually ends up being useful

[03:27:26.0000] <jgraham>
Yeah, so the whole web components thing has turned into an enormous gamble

[03:27:39.0000] <Ms2ger>
I hope you don't mind if I don't put any money on it

[03:27:42.0000] <jgraham>
It is being built on shaky foundations

[03:28:06.0000] <jgraham>
And if the whole thing collapses, we will be left building on top of the rubble for evermore

[03:28:40.0000] <MikeSmith>
zcorpan: yeah we should do it for text/html too. Like hsivonen said, I think that's been the plan. I think actually had I had been pushing for that before but somewhere between then and now I'd forgotten that's what we'd agreed on.

[03:28:54.0000] <jgraham>
(this is true of most things ofc, but this particular project feels more like trying to build a castle on sand, whereas usually we just build beach huts)

[03:31:14.0000] <zcorpan>
jgraham: or we make a new castle in 5 years

[03:32:54.0000] <jgraham>
zcorpan: Yeah, but partially on top of the ruins of a previous castle

[03:33:10.0000] <jgraham>
On the other hand, I guess that has historical precedent in real castles

[03:33:21.0000] <jgraham>
So maybe this was an ill-chosen metaphor

[03:34:11.0000] <jgraham>
/me will now try to imagine the whole Web Components project as if it was an episode of Grand Designs

[03:34:15.0000] <MikeSmith>
"You have deprecated simplicity and ease in favour of complexity and difficulty. You wanted to create something more flexible but ended up causing trouble."

[03:34:47.0000] <marcosc>
so, I'm going to try playing this hand at the w3c: http://w3c.github.io/manifest/releases/FPWD.html

[03:34:50.0000] <marcosc>
too much?

[03:34:56.0000] <marcosc>
it's a FPWD

[03:35:13.0000] <hsivonen>
ridiculing the <center> post is as easy reaction, but centering in CSS is, indeed, much less obvious

[03:35:19.0000] <hsivonen>
s/as/an/

[03:36:28.0000] <MikeSmith>
I think there's a lot of wisdom in that post. At least a useful facsimile of wisdom.

[03:38:57.0000] <zcorpan>
marcosc: i think it's missing something, maybe something should be blinking

[03:39:10.0000] <marcosc>
good idea

[03:39:28.0000] <jgraham>
"you'll eventually have to create a policing department who's job is to oversee adherence to bureaucracy" - clearly marks him out as a nutter. I mean the policy police have existed for *years*.

[03:40:18.0000] <MikeSmith>
he's not a nutter for not knowing that the things he predicted already exist

[03:40:49.0000] <MikeSmith>
that makes him more of a .. prophet

[03:40:59.0000] <jgraham>
Well

[03:41:07.0000] <marcosc>
:)

[03:41:15.0000] <jgraham>
I could certainly get behind carving the bit you quoted in stone

[03:42:08.0000] <zcorpan>
it would be fun to actually carve the html spec in stone

[03:42:22.0000] <jgraham>
Maybe erecting as a statue it at the offices of major vendors as a lesson in humility and the folly of designing for the 1% (e.g. for the Gmail team or framework authors only)

[03:45:32.0000] <MikeSmith>
there's also the fact that the official whatwg theme song is "Whatever Happened To The Teenage Dream?" and that guy titled his message "What happened?"

[03:45:44.0000] <MikeSmith>
that seems more than coincidental

[04:09:15.0000] <smaug____>
hayato_: would be nice to get that shadow dom event propagation issue fixed (before implementation lands to Gecko)

[04:24:59.0000] <smaug____>
hmm, when will I have time to read the stream API proposal

[04:25:04.0000] <smaug____>
it looks mostly wrong

[04:29:01.0000] <jgraham>
smaug____: Which one?

[04:29:36.0000] <smaug____>
https://dvcs.w3.org/hg/streams-api/raw-file/tip/Overview.htm

[04:29:57.0000] <smaug____>
mostly wrong == I don't like it :)

[04:32:02.0000] <smaug____>
using events for streams tend to make APIs simpler

[04:32:11.0000] <smaug____>
Promises are better for things which happen once

[04:32:58.0000] <jgraham>
There is a second propossl

[04:33:44.0000] <jgraham>
https://github.com/whatwg/streams

[04:34:47.0000] <marcosc>
smaug____: can you please send that feedback to public-webapps

[04:34:56.0000] <marcosc>
we are trying to get the two proposals to merge

[04:35:50.0000] <smaug____>
I need to find time to write something...

[04:35:56.0000] <smaug____>
some kind of dummy proposal

[04:36:01.0000] <smaug____>
based on events

[04:36:22.0000] <smaug____>
promises are hip and all, but that doesn't mean they should be used for everything

[04:38:49.0000] <marcosc>
BLAAASSPPHEEEMMYYY!!!! next you will be saying that ServiceWorkers are not going to cure cancer! PFFF

[04:39:15.0000] <smaug____>
:)

[04:39:42.0000] <smaug____>
ServiceWorkers might be something cool but still haven't seen a spec

[04:40:18.0000] <marcosc>
you must have faith in ServiceWorkers. You need to find your own inner/personal ServiceWorker.

[04:40:35.0000] <marcosc>
Only then will you be "offline"

[04:40:59.0000] <marcosc>
/me hummmmmsss.... service service service worker... hummmmmm

[04:41:08.0000] <smaug____>
/me tries hard. Offline for lunch.

[05:11:58.0000] <zcorpan>
Hixie: about EventSource/Worker/SharedWorker using utf-8 query encoding, it occurred to me that XHR already uses utf-8. gecko uses utf-8 for EventSource. presto uses utf-8 for all of these

[05:12:42.0000] <zcorpan>
Hixie: while blink seems to use the document's encoding for all (including XHR)

[05:17:40.0000] <zcorpan>
marcosc: http://www.youtube.com/watch?v=GP9k1pn9Mo0

[05:21:18.0000] <annevk>
Ms2ger: next time please make the change yourself

[05:21:28.0000] <annevk>
Ms2ger: generating 3 tweets for removing "in" is somewhat annoying

[05:27:38.0000] <hayato_>
smaug___: I left a comment on https://www.w3.org/Bugs/Public/show_bug.cgi?id=23887. We need a counter example.

[06:19:11.0000] <annevk>
Hixie: ancestor-or-self -> inclusive ancestor

[06:19:20.0000] <annevk>
Hixie: DOM uses and defines that

[06:20:45.0000] <annevk>
/me finally gets to a message from jgraham this morning

[06:23:11.0000] <annevk>
jgraham: reviewed

[06:23:52.0000] <jgraham>
annevk: Thanks!

[07:18:20.0000] <annevk>
What the fuck? DOM Parsing just got published over objections?

[07:20:23.0000] <Ms2ger>
As expected

[07:20:37.0000] <Ms2ger>
We should probably leave the WG

[07:38:25.0000] <annevk>
I'm not in the WG

[07:38:38.0000] <annevk>
I'm only on the TAG

[07:38:59.0000] <Ms2ger>
Well, Mozilla is

[07:39:55.0000] <jgraham>
Since webapps is probably the most productive group at W3C, leaving would be a bit controversial, I would think

[07:40:13.0000] <jgraham>
Even though crazy stuff sometimes happens

[08:18:54.0000] <tyoshino>
smaug___: something like WebSocket's onmessage?

[08:19:18.0000] <smaug____>
tyoshino: ?

[08:19:33.0000] <tyoshino>
re: Streams

[08:19:39.0000] <smaug____>
ah, right

[08:19:49.0000] <smaug____>
so yes, something like that

[08:20:02.0000] <smaug____>
basically that one doesn't need to add the callback all the time to read data

[08:20:16.0000] <tyoshino>
i'm a co-author of https://dvcs.w3.org/hg/streams-api/raw-file/tip/Overview.htm

[08:20:17.0000] <smaug____>
with events one just adds an event listener

[08:20:29.0000] <smaug____>
with promises one needs to get a promise

[08:20:34.0000] <smaug____>
and implementation needs to buffer data

[08:20:59.0000] <Domenic_>
smaug____: events have proven pretty problematic in Node

[08:21:02.0000] <Domenic_>
you lose data

[08:21:16.0000] <smaug____>
eh

[08:21:33.0000] <Domenic_>
also, of course, the usual problem where anyone can trigger the event

[08:22:13.0000] <Domenic_>
which will mess up any consumers as they get an inconsistent view from the streams internal state machine vs. the random event being triggered

[08:22:25.0000] <smaug____>
random?

[08:22:41.0000] <smaug____>
if you're the only one who has access to the Stream object, no one else can trigger events

[08:22:48.0000] <smaug____>
and there is always event.isTrusted

[08:22:49.0000] <Domenic_>
sure, but then it's a pretty useless stream object

[08:24:54.0000] <smaug____>
promise based is hard for more than one consumer

[08:25:05.0000] <Domenic_>
promise-based is generally a dead-end

[08:25:44.0000] <Domenic_>
although i am not sure multi-consumer would be my concern

[08:26:19.0000] <Domenic_>
but i see what you mean in the sense that it's very convenient for naive cases involving one consumer and one producer, and very bad for realistic cases of pipe chains and graphs.

[08:27:07.0000] <Domenic_>
i feel like some kind of generator of promises or similar might work well as a reactive observable, not sure... but definitely not for I/O streams.

[08:29:02.0000] <smaug____>
what is wrong with events?

[08:29:24.0000] <Domenic_>
the data loss problem is a huge one

[08:29:26.0000] <smaug____>
developers know events usually quite well, and the fit in to stream handling rather well

[08:29:30.0000] <smaug____>
what data loss

[08:29:54.0000] <Domenic_>
https://github.com/whatwg/streams/blob/master/Requirements.md#you-must-not-lose-data

[08:30:48.0000] <smaug____>
Domenic_: sounds like a bug in the API user

[08:31:00.0000] <Domenic_>
it was a huge footgun in node

[08:31:06.0000] <Domenic_>
of the kind that is easily avoided

[08:31:09.0000] <smaug____>
if the API is event based, it is up to the API user to buffer the data, if needed

[08:31:13.0000] <Domenic_>
right

[08:31:20.0000] <Domenic_>
which is really annoying

[08:31:24.0000] <smaug____>
how so

[08:31:28.0000] <Domenic_>
almost unusably annoying

[08:31:29.0000] <smaug____>
in normal cases it isn't needed

[08:31:33.0000] <Domenic_>
because buffering logic is very hard to get right

[08:31:42.0000] <Domenic_>
especially if you want to use that buffering to inform backpressure

[08:31:45.0000] <smaug____>
usually you just get the data and process it immediately

[08:31:59.0000] <Domenic_>
that is pretty rarely true in the Node ecosystem's experience

[08:32:05.0000] <Domenic_>
async processing is extremely common

[08:32:09.0000] <smaug____>
without that you easily force implementations to buffer data

[08:32:12.0000] <Domenic_>
as is piping to data sources of varying speed

[08:32:20.0000] <smaug____>
and effectively cause memleaks

[08:32:21.0000] <Domenic_>
e.g. reading from disk, piping to TCP socket

[08:32:39.0000] <Domenic_>
it's not a memleak to hold data in memory until the TCP socket tells you it's ready to accept more data

[08:33:06.0000] <smaug____>
but if you don't accept that data, implementation is forced to keep the mem around

[08:33:30.0000] <smaug____>
events force application to decide what to do with the API

[08:33:33.0000] <smaug____>
and there is no data loss

[08:33:41.0000] <Domenic_>
events force applications to build real streams on top of them

[08:33:43.0000] <smaug____>
/me doesn't understand this data loss argument at all

[08:33:55.0000] <Domenic_>
streams which are usually much more leaky than a well-implemented buffering and backpressure-aware stream

[08:34:44.0000] <Domenic_>
the number of flat-out buggy implementations of BufferedStream in the Node ecosystem pre-0.6 was staggering.

[08:34:53.0000] <Domenic_>
it was our second-biggest problem implementing a node API two years ago.

[08:35:10.0000] <Domenic_>
rolling that logic into core was one of the best decisions node made.

[08:36:01.0000] <Domenic_>
events are convenient for certain use cases

[08:36:15.0000] <smaug____>
events are good for stream like cases

[08:36:32.0000] <Domenic_>
i would say streams will be consumed 80% of the time with pipe, 15% of the time with events (e.g. passive data listening), and 5% of the time directly

[08:36:35.0000] <smaug____>
input events from user form a stream

[08:37:02.0000] <Domenic_>
https://github.com/whatwg/streams/blob/master/Requirements.md#you-must-have-a-way-of-passively-watching-data-pass-through-a-stream

[08:39:28.0000] <smaug____>
/me tries to understand https://github.com/whatwg/streams

[08:39:43.0000] <smaug____>
looks like it might be ok for server side

[08:40:07.0000] <Domenic_>
smaug____: would love to understand what you see different about server vs. client side

[08:40:37.0000] <smaug____>
if I read https://github.com/whatwg/streams correctly (looking at the examples), it has some sync processing

[08:41:00.0000] <smaug____>
while (readable.readableState === "readable") { and such

[08:41:02.0000] <Domenic_>
right, because data is often available from I/O sources synchronously. (Very often, in fact.)

[08:41:33.0000] <annevk>
reply from chaals on public-webapps o_O

[08:41:42.0000] <smaug____>
but for the Web we can't bring such APIs

[08:41:44.0000] <Domenic_>
https://github.com/whatwg/streams/blob/master/Requirements.md#you-must-not-force-an-asynchronous-reading-api-upon-users

[08:41:48.0000] <Domenic_>
smaug____: why not?

[08:41:51.0000] <smaug____>
eh

[08:42:02.0000] <smaug____>
sync APIs are from hell

[08:42:19.0000] <Domenic_>
that's not true

[08:42:21.0000] <tyoshino>
blocking API is bad, but this is not.

[08:42:32.0000] <Domenic_>
right, blocking vs. sync is the right distinction.

[08:42:37.0000] <Domenic_>
this is not blocking

[08:42:40.0000] <smaug____>
aha

[08:42:47.0000] <smaug____>
well, so it is not sync

[08:42:48.0000] <tyoshino>
WHATWG Streams returns data only when data is available for reading synchronously

[08:42:51.0000] <Domenic_>
while loops are scary that way

[08:42:55.0000] <tyoshino>
doesn't wait

[08:42:55.0000] <smaug____>
it is just reading the buffered sutff

[08:43:00.0000] <tyoshino>
it makes some sense

[08:43:04.0000] <Domenic_>
i agree at first glance while loops make people think "eek i'm gonna lock the browser"

[08:43:04.0000] <tyoshino>
yes

[08:43:19.0000] <smaug____>
ok, so it is just like having event.data

[08:43:20.0000] <Domenic_>
but usually the loop will only happen for two or three iterations

[08:43:32.0000] <Domenic_>
(numbers pulled out of hat)

[08:43:51.0000] <smaug____>
but ok, I should skip that loop

[08:44:23.0000] <Domenic_>
let me open an issue to explain that better

[08:44:58.0000] <Domenic_>
smaug____: are you on GitHub?

[08:45:02.0000] <smaug____>
no

[08:46:06.0000] <smaug____>
for reading data events should still make api usage simpler

[08:47:57.0000] <tyoshino>
i understand cumbersomeness of callback setting every time. but it's kind of smart way to use a Promise for telling the producer that we (consumer) are ready.

[08:47:59.0000] <Domenic_>
I agree, although I think that use case is pretty small. Thus ReadableStreamWatcher and WritableStreamWatcher.

[08:48:50.0000] <Domenic_>
i have used stream events mainly for progress notification.

[08:49:00.0000] <Domenic_>
other people tell me they use it for logging

[08:49:01.0000] <smaug____>
tyoshino: but if you forget to set the callback, implementation is forced to buffer all the data

[08:49:16.0000] <smaug____>
and if you happen to keep the stream object alive, you buffer forever

[08:49:29.0000] <smaug____>
(web apps are good at accidentally keeping objects alive)

[08:49:31.0000] <Domenic_>
if nobody reads, backpressure is applied

[08:50:30.0000] <Domenic_>
(but yes, the already-buffered data is still there.)

[08:50:46.0000] <tyoshino>
back pressure tells the producer not to work. there are some producers like WebSocket which doesn't understand backpressure

[08:51:04.0000] <smaug____>
yes

[08:51:12.0000] <smaug____>
so what happens when data is sent from the server

[08:51:14.0000] <Domenic_>
yeah, so you will be unable to wrap WebSocket in a stream yourself with backpressure support

[08:51:22.0000] <smaug____>
stream needs to buffer forever?

[08:51:30.0000] <Domenic_>
but WebSocketStream itself should support backpressure

[08:51:57.0000] <smaug____>
with events we don't have similar problem

[08:52:15.0000] <smaug____>
it is up to the application to decide what to do with the data

[08:52:15.0000] <Domenic_>
but with events you haven't really solved any problems

[08:52:18.0000] <tyoshino>
event delivery can also be queued

[08:52:31.0000] <Domenic_>
you have just forced the API user to solve the problem themselves

[08:52:31.0000] <tyoshino>
so, the situation is not so different between them

[08:52:41.0000] <Domenic_>
tyoshino: interesting, how so?

[08:53:00.0000] <tyoshino>
i mean, that even with event

[08:53:12.0000] <smaug____>
tyoshino: events will be handled when event loop spins

[08:53:15.0000] <tyoshino>
data can be queued forever if the loop is busy

[08:53:16.0000] <annevk>
Domenic_: you could argue that forcing the API user to solve the problem is a lower-level primitive ;)

[08:53:24.0000] <Domenic_>
annevk: yeah, I did have that thought :)

[08:53:28.0000] <smaug____>
well, events will be dispatched when event loop spins

[08:53:50.0000] <Domenic_>
annevk: but I think we already have EventTarget

[08:53:53.0000] <smaug____>
tyoshino: loop is busy doing what?

[08:53:59.0000] <smaug____>
that is not a realistic case

[08:55:07.0000] <tyoshino>
in event case

[08:55:29.0000] <tyoshino>
data arrival speed vs. event handler processing speed

[08:55:34.0000] <tyoshino>
Promises:

[08:56:27.0000] <tyoshino>
data arrival speed vs. read() invocation speed

[08:56:52.0000] <smaug____>
in event case the data is still in the event waiting for to be processed. promise case just needs to buffer it all and hope that someone will process the data

[08:58:50.0000] <tyoshino>
you just need to keep read() (and waitForReadable in WHATWG ver) called

[08:59:01.0000] <smaug____>
but you must read all the time

[08:59:24.0000] <smaug____>
but if you don't, buffer just increases and increases

[08:59:43.0000] <tyoshino>
yes. but even for event, if the app is not fast enough compared to data delivery

[08:59:46.0000] <smaug____>
with events the dispatch is there whether or not you have listeners

[09:00:08.0000] <tyoshino>
the app needs to drop data or keep the event loop waiting until the handler process the delivered data

[09:00:22.0000] <tyoshino>
that's what i meant by "busy"

[09:01:29.0000] <tyoshino>
drop data is done by "noop in handler" or "no handler"

[09:01:30.0000] <smaug____>
tyoshino: in event case if app can't process data fast enough, it can just cache it if needed

[09:01:48.0000] <smaug____>
but the data isn't buffered anywhere magically

[09:01:56.0000] <Domenic_>
there's nothing magic about the data buffering

[09:02:00.0000] <Domenic_>
the algorithm is very transparent

[09:02:04.0000] <tyoshino>
you are concerned about implicitness of buffering?

[09:02:09.0000] <smaug____>
web devs don't read specs

[09:02:16.0000] <smaug____>
tyoshino: yes

[09:02:19.0000] <Domenic_>
streams are largely *about* buffering

[09:02:24.0000] <Domenic_>
otherwise just use event emitters

[09:02:31.0000] <smaug____>
web apps tend to keep random objects alive longer than needed

[09:03:26.0000] <tyoshino>
once everything is rebuilt to respect backpressure, it would be fine. but yes, i understand your concern

[09:04:27.0000] <tyoshino>
but as Domenic said, we're introducing a buffer

[09:04:37.0000] <tyoshino>
convenient buffer

[09:04:49.0000] <smaug____>
a buffer sure, but not with unlimited size

[09:05:07.0000] <smaug____>
buffer would be the size of .data in an event

[09:05:24.0000] <smaug____>
and sure, there can be several events alive simultaneously

[09:06:46.0000] <tyoshino>
there should be kinda consumption pressure to reader?

[09:07:09.0000] <tyoshino>
thinking

[09:07:55.0000] <Domenic_>
i don't think such limits really make sense for ambitious web applications.

[09:08:12.0000] <Domenic_>
we can't pretend to be a real platform if we withhold tools from programmers for fear of them hurting themselves

[09:08:50.0000] <Domenic_>
people will just have to build an unlimited real stream on top of the limited one.

[09:10:21.0000] <smaug____>
it is not fear, but an issue which has come up often

[09:10:49.0000] <smaug____>
web apps keeping objects alive longer than needed. Google Reader was the best app to leak everything.

[09:11:04.0000] <smaug____>
Facebook used to leak tons of stuff until few weeks ago

[09:11:33.0000] <smaug____>
(well, that was some new feature which introduced such leak. but it was there for months )

[09:12:03.0000] <Domenic_>
i guess this seems like a larger issue and i am not really sure of the general sentiment regarding it

[09:12:11.0000] <Domenic_>
of giving web developers the power to allocate memory

[09:12:48.0000] <Domenic_>
but i am for such capabilities, msyelf

[09:16:54.0000] <tyoshino>
filed a bug to think about it more

[09:17:21.0000] <jgraham>
Well of course web developers can allocate memory already

[09:17:44.0000] <jgraham>
The situation we want to avoid is one where it is easy to create a leak by accident

[09:17:56.0000] <jgraham>
Which is distressingly common already

[09:18:13.0000] <jgraham>
(not that I have a particular opinion on how this relates to stream APIs)

[09:19:11.0000] <jgraham>
(see the discussion about moving DOM nodes between documents for an example of where the design of the platform makes accidential leaks of large objects easy)

[09:27:56.0000] <annevk>
"design"

[09:36:45.0000] <jgraham>
annevk: I didn't say "intelligent design"

[09:38:26.0000] <annevk>
that's biology, oh wait

[09:59:14.0000] <Hixie>
jgraham: we tried building a castle on concrete, but people didn't want to buy into the whole thing at once (xbl2). at least people are implementing the piecemeal castle.

[10:00:49.0000] <Ms2ger>
Or implementing something

[10:22:01.0000] <annevk>
Hixie: by concrete you mean XML? :P

[10:22:26.0000] <Hixie>
not just XML, but yes

[10:22:34.0000] <Hixie>
(remember, xbl2 predates xhtml2)

[10:23:07.0000] <Hixie>
but i think that is one of the big differences

[10:23:22.0000] <Hixie>
i mean, basing web comp on html is what led to hsivonen's comments which led to this conversation :-)

[10:57:00.0000] <Hixie>
TabAtkins: you around? (i might need new selectors)

[11:54:44.0000] <Hixie>
ok i posted a big proposal for how to do keyboard focus to https://www.w3.org/Bugs/Public/show_bug.cgi?id=23475

[12:13:59.0000] <hober>
polyglot rec v. note poll closes today, and is currently 18 rec v. 11 note: https://www.w3.org/2002/09/wbs/40318/polyglot-status-preference-poll/

[12:16:48.0000] <Ms2ger>
And 351 abstain

[12:17:06.0000] <hober>
indeed :)

[12:17:28.0000] <Ms2ger>
/me feels sad he wasted a minute of his life looking at that

[12:44:15.0000] <Domenic_>
soooo is there a way for people who aren't members of w3c organizations to see who the w3c members' AC reps are?

[12:49:46.0000] <Ms2ger>
Maybe https://www.w3.org/services/list-audit/query?queryList=w3c-ac-forum

[12:52:06.0000] <Domenic_>
nope, 401

[12:52:39.0000] <Ms2ger>
Oh, I thought that was public

[12:56:01.0000] <Ms2ger>
Looks like the official list is [MO] https://www.w3.org/Member/ACList

[13:00:36.0000] <Domenic_>
good times

[13:02:12.0000] <tantek>
henri, MikeSmith, and similarly for adding new rel values to http://microformats.org/wiki/existing-rel-values#HTML5_link_type_extensions ? (e.g. rel=syndication was added 2013-04-25 and seems to produce an error in both validator.nu and validator.w3.org)

[13:56:34.0000] <zcorpan>
i like Hixie's comment on the poll

[14:07:35.0000] <zewt>
grr cors

[14:07:51.0000] <zewt>
"Wildcards cannot be used in the 'Access-Control-Allow-Origin' header when the credentials flag is true."

[14:08:17.0000] <zewt>
and some script is setting credentials to work around some browser bug (even though there are no credentials), so now I have to jump hoops on the server side

[14:09:03.0000] <Hixie>
zcorpan: unfortunately looks like the wg will be wasting lots more time on this, given the way the vote is going

[14:10:39.0000] <jgraham>
I wonder if I should change my comment to "I think polls are a stupid way to make technical decisions, as is clearly demonstrated by the organisation-level block voting which will determine the outcome of this poll"

[14:10:53.0000] <jgraham>
It won't make any difference of course

[14:11:16.0000] <zcorpan>
is yucca just trolling or am i missing something?

[14:14:33.0000] <Domenic_>
^ i too find this confusing

[14:40:25.0000] <Hixie>
it's the respect that i get from my fellow editors, as shown in https://bugzilla.mozilla.org/show_bug.cgi?id=946370#c8, that really makes me love the w3c

[14:43:35.0000] <SteveF>
hixie: reap what you sow big fella

[14:49:08.0000] <Hixie>
lol

[14:54:09.0000] <Hixie>
i like the dichotomy of the dismissive tone in that bug comment where he implies it wouldn't work, and the accusatory tone in his tweet where he implies its so good it ends anonymity

[14:54:21.0000] <Hixie>
it's, rather

[15:01:43.0000] <hober>
it's weird that msft are voting yes in a block on that poll

[15:02:23.0000] <Hixie>
in a block? i thought you only got one vote per organisation

[15:03:17.0000] <Hixie>
oh it's by individual, interesting

[15:03:23.0000] <hober>
well, a bunch of them have voted, and they've all voted yes. i'm only presuming that was coordinated.

[15:03:33.0000] <Hixie>
i guess microsoft really want a TR spec for polywhatsits!

[15:03:52.0000] <Hixie>
i'm not sure what that means, but that's apparently not an issue! :-)

[15:04:19.0000] <Hixie>
(i tried reading those arguments, but i couldn't find anywhere that actually defined what it meant for this to be normative)

[15:04:48.0000] <Hixie>
we should have more polls, i'd forgotten how fun they are

[15:06:55.0000] <hober>
more polls? are you a polyglutton for punishment?

[15:07:05.0000] <hober>
oooof, that was awful. sorry

[15:07:06.0000] <Hixie>
not w3c polls, those are about boring things

[15:07:15.0000] <Hixie>
i mean we should have whatwg polls!

[15:08:12.0000] <Hixie>
like, "should the whatwg html standard be on the whatwg Recommendation track or the whatwg Specification track?"

[15:08:50.0000] <gsnedders>
WHATWG Note track.

[15:09:09.0000] <gsnedders>
Because recommendations are meaningless, because web developers don't care.

[15:11:01.0000] <Hixie>
we could also have votes about what topics to use in examples.

[15:11:24.0000] <gsnedders>
Hixie: Would you not just use a veto to ensure they were cats?

[15:11:36.0000] <Hixie>
many of the examples aren't about cats!

[15:11:53.0000] <Hixie>
and only one of my cats actually has her picture in the spec

[15:12:03.0000] <Hixie>
(mind you there's 26 mentions of my other cat)

[15:17:26.0000] <Domenic_>
i <3 the whatwg spec examples

[15:36:12.0000] <annevk>
Domenic_: get jQuery to get you a Member account

[15:36:43.0000] <annevk>
Domenic_: I think marcosc might have a list of all AC email addresses too somewhere

[15:36:56.0000] <annevk>
Domenic_: we spammed some people last TAG election...

[15:37:05.0000] <gsnedders>
DEATH TO SPAMMERS.

[15:37:31.0000] <hober>
when does tag voting close?

[15:37:32.0000] <annevk>
(after we learned another candidate did that and it was apparently pretty normal)

[15:37:39.0000] <annevk>
hober: end of month I guess?

[15:38:15.0000] <marcosc>
do we know how many positions are open?

[15:38:53.0000] <hober>
2

[15:39:02.0000] <hober>
and there are 4 candidates

[15:39:13.0000] <marcosc>
I like those odds

[15:39:53.0000] <marcosc>
Domenic_: will get you the list

[15:41:21.0000] <Hixie>
lordy

[15:41:30.0000] <Hixie>
have you people still not learnt the futility of the TAG

[15:41:56.0000] <tantek>
Hixie some of us are even still working on improving things in and from AB ;)

[15:42:20.0000] <Hixie>
/me shakes his head sadly

[15:42:46.0000] <annevk>
Hixie: well, I guess some haven't tried yet

[15:43:01.0000] <Domenic_>
heh

[15:43:22.0000] <Domenic_>
annevk: right, that makes a lot of sense... should have thought of that...

[15:43:45.0000] <marcosc>
I kinda have to agree with Hixie a bit... Anne and I opted to do conferences instead

[15:44:09.0000] <marcosc>
But if the people on the TAG actually do stuff that is needed, then it's not harmful

[15:44:14.0000] <Hixie>
conferences are something that i believe could really help

[15:44:54.0000] <Hixie>
feel free to cc me into any discussions about those if you care for any input. i probably can't make it to any myself, but i'd be happy to help and would love to hear back.

[15:49:22.0000] <marcosc>
Hixie: thanks! much appreciated

[15:51:15.0000] <jgraham>
I don't understand the TAG obsession either. I don't think there is a useful function for a group with their structure, so ee should neuter them rather give them false legitimacy


2013-12-11
[16:14:54.0000] <hober>
jgraham: it's important to have something to watch while eating your popcorn

[16:31:12.0000] <Hixie>
if you're that hard up on entertainment, i'm pretty sure we can help you out

[18:05:19.0000] <hober>
3 hours left on the polyglot poll

[20:03:17.0000] <TabAtkins>
What's the url for the polyglot poll?

[20:03:26.0000] <TabAtkins>
Since there's an hour left, I suppose.

[20:42:19.0000] <MikeSmith>
TabAtkins: https://www.w3.org/2002/09/wbs/40318/polyglot-status-preference-poll/

[20:42:50.0000] <zewt>
is "polyglot" what you name something when you want nobody to have any idea what the heck it is

[20:43:53.0000] <zewt>
sounds like what you'd call a low-resolution 3d rendering of the results of a sneeze

[20:46:02.0000] <TabAtkins>
Oh, right, I got kicked out of HTMLWG and never got put back in, because TV was being petty and then just forgot.

[20:46:04.0000] <TabAtkins>
Welp.

[20:56:11.0000] <MikeSmith>
I find http://krijnhoetmer.nl/irc-logs/whatwg/20131210#l-769 from tantek and I see he's asking why the validator reports rel=syndication as an error even thought it's listed in the microformats wiki, but I don't know why he said "and similarly for"

[21:31:57.0000] <Hixie>
TabAtkins: you lucky bastard

[21:32:36.0000] <TabAtkins>
Hixie: Hehehe

[22:19:25.0000] <MikeSmith>
so there are now 263 meta@name values listed at http://wiki.whatwg.org/wiki/MetaExtensions#Registered_Extensions

[22:20:29.0000] <MikeSmith>
the validator code only knows about only 145 at this point

[22:20:42.0000] <MikeSmith>
and I already thought that was excessive

[22:22:47.0000] <MikeSmith>
compare that to 56 link@rel values the code know about

[22:38:32.0000] <TabAtkins>
Hixie: You pinged me about maybe needing new selectors?

[23:25:16.0000] <MikeSmith>
Hixie: I'm trying to make sure I understand the expected results for http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/001.html and the steps the UA takes to get there.

[23:25:40.0000] <MikeSmith>
I'll paste in what I think the steps are

[23:25:59.0000] <MikeSmith>
1. The iframe finishes loading for the first time, with its contentDocument.location.href set to http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-address/inner.html and its contentDocument.baseURI set to "http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-base/".

[23:26:04.0000] <MikeSmith>
2. The 001.html parent document finishes loading, and `frames[0].location = 'javascript:location.assign("test.txt")'` gets called.

[23:26:07.0000] <MikeSmith>
3. The determine the new URL for the iframe, "test.txt" is resolved relative to the iframe's baseURI.

[23:26:10.0000] <MikeSmith>
4. So the iframe is reloaded with its contentDocument.location.href set to  "http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-base/test.txt"

[23:26:42.0000] <MikeSmith>
*3. To determine the new URL...

[23:36:06.0000] <MikeSmith>
jgraham: how do I make wptserve serve a particular text file with a "Content-Type: text/plain; charset=utf-8" header, instead of with just "Content-Type: text/plain"?

[00:03:13.0000] <zcorpan>
why are shared workers being moved/removed?

[00:05:23.0000] <zcorpan>
http://krijnhoetmer.nl/irc-logs/webapps/20131112#l-661 ... sounds like "nobody has run the tests." "let's remove the spec."

[00:12:51.0000] <MikeSmith>
wtf

[00:12:59.0000] <MikeSmith>
I don't remember that happening

[00:14:02.0000] <MikeSmith>
that means just for the CR draft?

[00:14:29.0000] <MikeSmith>
so they're now going to maintain a separate other draft?

[00:20:15.0000] <MikeSmith>
Hixie: I don't understand how in onload="frames[0].location = 'javascript:location.assign(&quot;test.txt&quot)'" setting the location attribute to some value actually has any effect

[00:21:27.0000] <MikeSmith>
since, first off, it's defined as readonly

[00:22:33.0000] <zcorpan>
MikeSmith: it's [PutForwards=href]

[00:22:46.0000] <MikeSmith>
aha

[00:23:05.0000] <MikeSmith>
I have no idea what PutForwards means. I guess I need to read the WebIDL spec

[00:23:21.0000] <zcorpan>
it means it's actually setting location.href

[00:23:39.0000] <MikeSmith>
I see

[00:25:37.0000] <MikeSmith>
zcorpan: so why does the PutForwards mechansim exist? for backward compatiblity or convenience?

[00:25:51.0000] <zcorpan>
MikeSmith: both

[00:26:01.0000] <MikeSmith>
ok

[00:26:23.0000] <zcorpan>
MikeSmith: for location it's backcompat, but we also added it to elm.style (and other .style in cssom) for convenience

[00:27:39.0000] <MikeSmith>
OK, that makes sense I guess

[00:28:37.0000] <zcorpan>
so the lesson with the workers thing is that "all tests must pass" CR exit critiera sets terrible incentives

[00:29:40.0000] <zcorpan>
but we knew that already

[00:30:06.0000] <zcorpan>
i wonder why we keep repeating the same mistakes

[01:19:33.0000] <MikeSmith>
zcorpan: because get tired of fighting

[01:22:29.0000] <MikeSmith>
tired of having to restate what should already be obvious, and then getting explanations back that are really just rationalizations that get more an more convoluted each time

[01:31:03.0000] <MikeSmith>
zcorpan: so now I'm curious what literal "PutForwards=value" means, with literal "value" (which is not an actual attribute name for any attribute of the object)

[01:31:36.0000] <MikeSmith>
WebIDL doesn't seem to explain that

[01:31:59.0000] <MikeSmith>
or it does and I'm missing something

[01:34:15.0000] <MikeSmith>
like at http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#htmllinkelement

[01:34:26.0000] <MikeSmith>
[PutForwards=value] readonly attribute DOMSettableTokenList sizes;

[02:50:05.0000] <Ms2ger>
MikeSmith, DOMSettableTokenList has a value attribute

[02:50:29.0000] <MikeSmith>
ah ok

[02:51:05.0000] <Ms2ger>
zcorpan, sounds like webapps is being productive again

[02:55:13.0000] <jgraham>
zcorpan: AIUI the motivation was that there was only one actively maintained implementation of sharedworkers (assuming presto doesn't count), so if you want IPR protection for workers it makes sense to remove shared workers temporarily, push dedicated workers alone to rec. and then do shared workers once more people implement it

[02:56:23.0000] <jgraham>
It certainly isn't work that I would bother doing, but it's rather hard to object to Microsoft doing the work to achieve a goal that they care about more than everyone else

[02:56:56.0000] <jgraham>
Of course if Mozilla have landed a half-decent shared worker implementation, that changes things a lot

[02:58:17.0000] <jgraham>
(although I have argued that getting 100% of tests passing shouldn't be on the critical path for Rec. it does make some sense that you can't make it to Rec. if there is only a single serious attempt at implementing something)

[03:04:43.0000] <zcorpan>
jgraham: ok. though i don't follow why presto doesn't count

[03:06:25.0000] <jgraham>
I think possibly only because no one had actually done the work to run the tests in presto

[03:06:49.0000] <jgraham>
I suppose it also depends on what you think that the point of requiring testing at all is

[03:08:08.0000] <jgraham>
In terms of interop, presto isn't that important anymore (sadly). In terms of proving the spec is implementable it seems as valid as ever

[03:20:26.0000] <zcorpan>
has anyone run the tests anywhere?

[03:20:34.0000] <zcorpan>
why isn't presto important anymore?

[03:22:19.0000] <jgraham>
Because it isn't part of any mass-market product under active development that is primarily designed to interact with open web content

[03:23:38.0000] <Ms2ger>
"It works OK in Chrome. #FiveWordTechHorrors"

[03:23:55.0000] <jgraham>
zcorpan: I thought someone had, but now all I can find is http://www.w3.org/wiki/Webapps/Interop/WebWorkers which suggests that you signed up to run the tests

[03:24:31.0000] <zcorpan>
jgraham: i signed up for being test facilitator, that's different

[03:25:07.0000] <jgraham>
zcorpan: Not sure that Art thinks it is :)

[03:25:13.0000] <Ms2ger>
Oh, better, from heycam: "WG Decision on Polyglot Note #FiveWordTechHorrors"

[03:31:49.0000] <MikeSmith>
heh

[03:32:36.0000] <zcorpan>
i thought ie implemented SharedWorker? http://www.browserstack.com/screenshots/2e164dbe58d4ffcbea245a487284966ff9f3243b suggests not

[03:34:13.0000] <jgraham>
I guess Microsoft wouldn't want to drop the spec if they did

[03:34:31.0000] <zcorpan>
they have written tests and provided spec feedback on shared worker, iirc

[03:35:19.0000] <jgraham>
Maybe it got dropped from IE11

[03:36:47.0000] <zcorpan>
/me finds http://blogs.msdn.com/b/ie/archive/2011/07/01/web-workers-in-ie10-background-javascript-makes-web-apps-faster.aspx

[03:37:41.0000] <zcorpan>
their concern was addressed (see first step in the constructor)

[04:03:42.0000] <annevk>
"This is important for content-management scenarios." lol

[04:04:12.0000] <annevk>
hober: looks like Apple voted in block too!

[04:24:44.0000] <MikeSmith>
annevk: yeah indeed they sure showed up in force

[04:26:15.0000] <MikeSmith>
if anybody had taken time to much real lobbying the vote would have easily gone the other way

[04:26:43.0000] <MikeSmith>
but oh well

[04:34:43.0000] <SteveF>
MikeSmith: I concur

[04:36:06.0000] <MikeSmith>
SteveF: yeah the Paciello block wasn't a big help here either..

[04:37:02.0000] <SteveF>
less a block more of a unit

[04:38:19.0000] <MikeSmith>
anyway as Jesus said during the sermon on Mt. Jerusalem, "What done, it be done."

[04:41:05.0000] <darobin>
MikeSmith++

[04:41:36.0000] <darobin>
I reckon that the fact that no one bothered to carry out any serious lobbying pretty much speaks for itself, but maybe that's just me

[04:46:16.0000] <MikeSmith>
each care bear carries only some much care essence and he has to spend his care essence wisely

[04:49:44.0000] <MikeSmith>
spending, say, five years of care essence on trying to get past the stonewall the W3C has built up against document-license fairness can suck a lot of care essence out of anybody

[04:56:12.0000] <zcorpan>
it seems importScripts doesn't do anything in browsers if called in an event handler or so

[04:58:16.0000] <darobin>
/me looks for some care essence to hand over to MikeSmith, seems to be out again

[04:58:51.0000] <zcorpan>
Hixie: is importScripts intended to always work, or just in the initial run?

[04:59:45.0000] <darobin>
SteveF: seems that someone's finally noticed https://twitter.com/stowball/status/410724374811910146/photo/1

[05:00:29.0000] <SteveF>
darobin: yeah saw that

[05:04:11.0000] <darobin>
"America Cares Bear (2003) is a happy, patriotic, and energetic bear" — bah, even the care bears have gone to shit

[05:07:35.0000] <MikeSmith>
Ms2ger: heh

[05:07:55.0000] <Ms2ger>
?

[05:11:44.0000] <MikeSmith>
oops

[05:12:46.0000] <MikeSmith>
sorry, I had started by planning to ask you if I filed a Mozilla bug about http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/001.html which component should I file it against

[05:14:19.0000] <Ms2ger>
core::dom, I guess

[05:14:27.0000] <MikeSmith>
I think the bug is that the baseURI of the iframe document is ignored when calling location.assign("foo.txt")

[05:14:29.0000] <MikeSmith>
Ok

[05:15:15.0000] <MikeSmith>
not sure if I that's really the bug or not

[05:16:01.0000] <MikeSmith>
mostly I wanted to file the bug just so others would have to read through the spec and try to figure out where the spec says exactly what should happen, so then I could know too

[05:17:50.0000] <MikeSmith>
btw related to that I'm trying to figure out what case Hixie means when he says, 'Chrome/Safari never give a page a URL starting with the "javascript:" scheme'

[05:17:56.0000] <MikeSmith>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=13720#c20

[05:18:46.0000] <MikeSmith>
but I guess I can just ask him when he's back

[05:19:22.0000] <zcorpan>
MikeSmith: it's not resolved against the iframe's document's baseURI, it's resolved against the API base URL of the entry settings object

[05:20:27.0000] <zcorpan>
MikeSmith: so i think it depends on which script is calling assign

[05:20:37.0000] <MikeSmith>
oh

[05:20:47.0000] <MikeSmith>
hmm, that complicates things

[05:22:05.0000] <zcorpan>
why?

[05:23:51.0000] <annevk>
zcorpan: no special provisions for importScripts in the spec

[05:24:56.0000] <jgraham>
darobin: I think it should be taken as an indication that almost everyone has disangaged with the HTMLWG, not as anything related to polyglot in specific

[05:25:12.0000] <zcorpan>
annevk: right

[05:25:31.0000] <jgraham>
That is, I think the vote (the fact that it happened, the pattern of the results, the actual outcome) are all warning signs that the W3C should heed

[05:25:34.0000] <darobin>
jgraham: wait — the HTMLWG still exists?

[05:26:10.0000] <annevk>
What's this W3C thing I keep hearing about? Sounds like a nasty place

[05:27:22.0000] <MikeSmith>
zcorpan: I meant because what you said would seem to indicate that I probably should add another test or tests for different assign cases.

[05:33:02.0000] <MikeSmith>
annevk: "nasty" makes it sounds more exciting than it is

[05:34:26.0000] <annevk>
heh

[05:34:50.0000] <zcorpan>
MikeSmith: there's always reason to test different cases :-)

[05:40:59.0000] <MikeSmith>
zcorpan: sure, but it conflicts with my "maximum grade, minimum effort" life/professional philosophy

[05:43:35.0000] <MikeSmith>
zcorpan: anyway, while we're on the subject of me creating additional work for myself, it's been proposed to me that we add a new validator Preset schema-selection option "Automatically by doctype"

[05:44:06.0000] <MikeSmith>
so I wanted to ask what you and hsivonen think of that

[05:44:19.0000] <zcorpan>
MikeSmith: so basically the user can opt-in to the old behavior?

[05:44:24.0000] <MikeSmith>
yeah

[05:44:39.0000] <MikeSmith>
or a third-party app that uses the REST API could

[05:44:40.0000] <zcorpan>
MikeSmith: would it do nothing in xml?

[05:45:10.0000] <MikeSmith>
no, it would do something in xml too

[05:45:25.0000] <MikeSmith>
why would you think it would not?

[05:45:56.0000] <zcorpan>
currently in xml it ignores the doctype and chooses schema based on the root element's namespace

[05:46:05.0000] <MikeSmith>
right, true

[05:46:20.0000] <MikeSmith>
and we could keep that as the default

[05:46:54.0000] <MikeSmith>
that is chooses the XHTML5 schema for html-namespace docs

[05:47:20.0000] <zcorpan>
who is asking for this? and why?

[05:48:00.0000] <MikeSmith>
the people in the W3C team working on the Validator Suite

[05:48:33.0000] <MikeSmith>
because for some reason they seem to be convinced that would be better for their users

[05:49:47.0000] <MikeSmith>
and I have run out of care essence to spend trying to convince them otherwise

[05:50:04.0000] <zcorpan>
ok

[05:51:35.0000] <MikeSmith>
anyway yeah it would require me to write some new code for the xml-parsing path that sniffs the doctype (in addition to the existing namespace sniffing)

[05:51:51.0000] <annevk>
MikeSmith: are they making these feature requests on www-validator⊙wo?

[05:52:36.0000] <annevk>
MikeSmith: if not, I recommend requiring all requests to be public so they can be scrutinized by the public

[05:52:37.0000] <MikeSmith>
annevk: no that one came from IRC discussion

[05:53:01.0000] <MikeSmith>
annevk: yeah that'd be better

[05:53:46.0000] <zcorpan>
MikeSmith: has anyone asked for doctype sniffing in xml specifically?

[05:54:38.0000] <MikeSmith>
no, but the use-case doesn't seem unreasonable to me on the face of it

[05:54:53.0000] <zcorpan>
MikeSmith: https://hsivonen.fi/doctype/#xml

[05:55:05.0000] <MikeSmith>
/me reads

[05:58:25.0000] <darobin>
zcorpan: I'm not sure that that otherwise good text from hsivonen applies to this case

[05:58:55.0000] <darobin>
I mean, you clearly shouldn't dispatch to an SVG or an HTML renderer based on the DOCTYPE

[05:59:12.0000] <darobin>
but for validation it *could* make sense to decide, say, between using the XHTML 1.0 or 1.1 schema based on that

[05:59:26.0000] <darobin>
not that I would ever care, but, you know, if that's what you're doing it seems relatively sensible

[05:59:36.0000] <annevk>
Validation should be against latest version with warnings for unsupported features

[05:59:46.0000] <annevk>
It shouldn't be about schemas published in specs

[05:59:48.0000] <darobin>
well that's what I initially suggested

[06:00:15.0000] <MikeSmith>
yeah, that's what the default is in teh validator

[06:00:24.0000] <darobin>
I just think there were some concerns about things being acceptable in XHTML 1.something that weren't anymore

[06:00:31.0000] <darobin>
annevk: anyway, you're preaching to the choir here baby :)

[06:01:12.0000] <darobin>
/me doesn't ever use validation for that matter

[06:01:29.0000] <darobin>
/me points MikeSmith to his inbox, hopes that gives him a bit of care bear essence back

[06:02:11.0000] <annevk>
Again, I recommend requiring W3C internal to make public requests

[06:02:20.0000] <annevk>
Either via bug reports or www-validator

[06:02:31.0000] <annevk>
No need for this to be Team-only

[06:03:28.0000] <darobin>
yeah, I don't think that this is meant to be team-only, as far as I've been involved it's just stuff that came up live and informally at TPAC

[06:03:36.0000] <MikeSmith>
right

[06:04:14.0000] <MikeSmith>
anyway yeah I'll suggest we take it to www-validator at this point

[06:06:39.0000] <MikeSmith>
honestly though part of the downwise of that is I also get the people chiming in who think, say, polyglot is a good idea and this would make a nice companion piece to that

[06:10:33.0000] <MikeSmith>
and then my teammates would have further evidence to assert, See, somebody else wants it too

[06:11:06.0000] <annevk>
@mattur <3

[06:13:32.0000] <jgraham>
heh

[06:15:01.0000] <hsivonen>
/me wrote https://hsivonen.fi/doctype/#xml before writing a line of code for the validator

[06:15:29.0000] <hsivonen>
pre-emptively arguing against future bogosities

[06:16:11.0000] <MikeSmith>
heh

[06:16:39.0000] <MikeSmith>
hsivonen is secretly the "This is the year 2014" guy

[06:17:06.0000] <hsivonen>
I don't know who that is

[06:17:32.0000] <MikeSmith>
hsivonen: the message about <center> on public-html

[06:17:55.0000] <MikeSmith>
he started his message with "This is the year 2014" or something close to that

[06:17:58.0000] <hsivonen>
but pro tip: cite W. Eliot Kimber when you need a more-SGML-than-thou argument to support your position

[06:18:01.0000] <hsivonen>
MikeSmith: I see

[06:20:47.0000] <MikeSmith>
hsivonen: yeah for markup-related stuff the argument "It's such an enormously bad idea that even W. Eliot Kimber agrees we shouldn't do it" is a pretty good line of argument

[06:21:30.0000] <MikeSmith>
not that Eliot's a fool, it's just that he's not known for preferring simple solutions

[06:21:48.0000] <darobin>
hahaha

[06:34:06.0000] <MikeSmith>
hsivonen: so you think adding a "Automatically by doctype" schema-selection Preset option is enough of a really bad idea that we shouldn't add it?

[06:34:45.0000] <MikeSmith>
if so and zcorpan figures the same, then I feel confident going back and just saying No

[06:34:53.0000] <hsivonen>
MikeSmith: I'm inclined to think so based on the text/html experience

[06:35:00.0000] <MikeSmith>
OK

[06:37:38.0000] <MikeSmith>
so I'll decline and suggest they take it to www-validator for public discussion if they want a second opinion

[07:32:34.0000] <jgraham>
Ms2ger: https://critic.hoppipolla.co.uk/showcomment?chain=879 <- are you happy with that>

[07:32:40.0000] <jgraham>
s/>/?/

[07:34:28.0000] <Ms2ger>
wfm, I guess

[07:36:49.0000] <jgraham>
Ms2ger: Thanks

[07:37:21.0000] <jgraham>
So just a bunch of reviewing to do and a couple of issues for hallvord

[07:39:54.0000] <Ms2ger>
Where's hallvord when you need him :)

[07:40:41.0000] <jgraham>
I was actually wondering just the same thing :)

[08:59:54.0000] <annevk>
The standard is fully interoperable. #FiveWordTechHorrors

[09:02:42.0000] <Hixie>
looking for feedback on https://www.w3.org/Bugs/Public/show_bug.cgi?id=23475 which is a proposal for redefining the concept of "focus" in HTML

[09:03:01.0000] <Hixie>
TabAtkins: ^ mentions a new selector

[09:03:46.0000] <Hixie>
MikeSmith: around now if you want to talk about those jsurl tests

[09:04:26.0000] <jgraham>
annevk: "We consider the testsuite complete", perhaps?

[09:04:35.0000] <annevk>
:-)

[09:04:41.0000] <annevk>
jgraham: you can join twitter now

[09:04:52.0000] <gsnedders>
"Only ECMA Members submit tests"

[09:04:53.0000] <jgraham>
Yep that works too :p

[09:05:02.0000] <jgraham>
annevk: ^

[09:05:06.0000] <annevk>
hahaha

[09:05:11.0000] <annevk>
Ecma*

[09:05:19.0000] <annevk>
please tweet that gsnedders

[09:05:21.0000] <gsnedders>
*members

[09:07:40.0000] <gsnedders>
annevk: Okay, okay, done.

[09:16:26.0000] <annevk>
hsivonen: are we measuring which encodings are used on the web? Would be useful for https://bugzilla.mozilla.org/show_bug.cgi?id=912466

[09:18:02.0000] <jgraham>
(I think the real open web platform five word tech horror is "wanted: spec for hit testing")

[09:19:04.0000] <Hixie>
MikeSmith: what i meant in https://www.w3.org/Bugs/Public/show_bug.cgi?id=13720#c20 is demonstrated by http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2688

[09:19:45.0000] <Hixie>
annevk: "we proved interop without tests"

[09:20:14.0000] <jgraham>
heh

[09:20:23.0000] <jgraham>
Or really not

[09:20:37.0000] <jgraham>
Too true to be actually funny :|

[09:20:47.0000] <annevk>
it's sad because it's true?

[09:21:11.0000] <Hixie>
i thought we were going for horror, not funny :-)

[09:23:42.0000] <jgraham>
Well yes, but my reaction wasn't quite right :)

[10:12:01.0000] <matjas>
some emoji, like “🇺🇸” ('\u{1F1FA}\u{1F1F8}') consist of multiple Unicode code points. is it possible to match these using CSS `unicode-range`?

[10:12:09.0000] <matjas>
(use case from https://medium.com/p/179cfd8238ac)

[10:13:33.0000] <MikeSmith>
Hixie: thanks for the live dom viewer link. I see what you're talking about now (Firefox sets the location.href to "javascript:'test'" as expected but Chrome sets it to "about:blank")

[10:13:56.0000] <Hixie>
the spec sets it to about:blank too

[10:14:16.0000] <MikeSmith>
oh

[10:14:24.0000] <Hixie>
the problem with setting it to javascript: anything, aside from it just being scary, is that it makes it hard to figure out what the url resolution algorithms should do

[10:14:31.0000] <MikeSmith>
ah OK

[10:14:49.0000] <MikeSmith>
I thought you were sayign something different in the bug

[10:14:53.0000] <MikeSmith>
/me re-reads

[10:15:04.0000] <annevk>
matjas: U+1F1F* or U+F1FA, U+1F1F8

[10:15:06.0000] <Hixie>
e.g. should href="//%0Aalert(cookie)" alert?

[10:15:37.0000] <Hixie>
basically we're trying to move javascript: out of the web as much as possible

[10:15:49.0000] <Hixie>
so e.g. it's out of the fetch algorithm and just down into navigation now

[10:16:06.0000] <MikeSmith>
ok

[10:16:25.0000] <MikeSmith>
I see now that's the title of the bug

[10:16:27.0000] <matjas>
annevk: wouldn’t that match them separately, too?

[10:16:36.0000] <MikeSmith>
"Define javascript: processing entirely inline, and make it only happen in the navigation algorithm; then, remove special-casing elsewhere, and make it non-conforming in those places"

[10:16:56.0000] <Hixie>
yeah

[10:17:01.0000] <Hixie>
come to think of it, not sure we did that last one

[10:17:17.0000] <matjas>
annevk: U+1F1FA U+1F1F8 is a single glyph, but each of them is a valid separate glyph too

[10:17:19.0000] <Hixie>
annevk: what's the story on conformance of schemes?

[10:17:20.0000] <MikeSmith>
heh I'm and supposedly the reporter of that bug so I should suppose I should have known that was the title

[10:17:29.0000] <Hixie>
i change titles all the time

[10:17:38.0000] <Hixie>
it's probably not what you wrote originally

[10:17:58.0000] <Hixie>
your original title was probably something like "<select> element has a typo in paragraph 2"

[10:18:04.0000] <MikeSmith>
well also I didn't actually report it originally, I split it out from some other bug that somebody else reported

[10:18:04.0000] <Hixie>
i'm not very good about keeping bugs on topic :-P

[10:18:11.0000] <annevk>
Hixie: I was going to wait with that until the new registry plan

[10:18:16.0000] <Hixie>
annevk: ok

[10:18:29.0000] <Hixie>
i plan to look at that sometime soonish

[10:18:52.0000] <annevk>
I'm not in a rush, still need implementers to start looking at implementing the URL Standard

[10:19:16.0000] <annevk>
matjas: unicode-range describes what's in the font

[10:20:33.0000] <matjas>
so your example is how you’d use unicode-range to say, this font has a glyph for U+F1FA, one for U+1F1F8, and another one for U+F1FA immediately followed by U+1F1F8?

[10:21:13.0000] <annevk>
matjas: there's no way to express combining marks support in fonts

[10:21:33.0000] <annevk>
matjas: presumably you'd include a font that supports combining marks if you want that effect

[10:21:50.0000] <annevk>
I guess this is not really combining marks, there's another term...

[10:22:18.0000] <annevk>
ligatures

[10:22:50.0000] <matjas>
right, it sounds like a ligature

[10:24:02.0000] <MikeSmith>
Hixie: so I'm still not clear though on what you meant by the comment, 'Note that Firefox doesn't quite match these; in particular, the spec, the tests, and Chrome/Safari never give a page a URL starting with the "javascript:" scheme.a'

[10:24:09.0000] <annevk>
yeah, there's no way for selecting a font that has an ffi ligature over one that hasn't either

[10:24:17.0000] <annevk>
doesn't seem like a big deal

[10:25:14.0000] <Hixie>
MikeSmith: i mean that "the document's address" in the spec, the tests, and Chrome/Safari is never a URL that starts with "javascript:"

[10:25:20.0000] <matjas>
annevk: well i liked mroth’s use case

[10:26:19.0000] <matjas>
(search for “standard CSS unicode-range” on the page i linked to before)

[10:26:53.0000] <annevk>
"double-byte Unicode characters" o_O

[10:28:03.0000] <annevk>
matjas: I don't understand why giving the range for those code points would not select the proper font and apply the ligature

[10:28:12.0000] <MikeSmith>
Hixie: ah OK, yeah, that's clear. For some reason I wasn't parsing the sentence right when I was reading it bugzilla

[10:28:43.0000] <matjas>
yeah he got some terms mixed up

[10:28:55.0000] <matjas>
hmm, good point

[10:29:21.0000] <annevk>
matjas: oh god, conflating DOM perf and rendering perf now

[10:29:52.0000] <annevk>
rewrite jQuery in pure JavaScript? maha

[10:30:31.0000] <gsnedders>
Hey, my site nowadays just uses <canvas>, and I implement CSS in JS!

[10:31:15.0000] <matjas>
annevk: wat. where do you see this?

[10:31:30.0000] <matjas>
ah, same page, hah

[10:31:41.0000] <annevk>
matjas: tracker looks cool though

[10:32:16.0000] <annevk>
matjas: was the use case showing the emoji stuff cross-platform?

[10:32:58.0000] <matjas>
no, he made something different for that: http://emojistatic.github.io/

[10:33:58.0000] <matjas>
annevk: the use case was getting emoji to display in the colored AppleEmoji font rather than in a regular black/white fallback font where possible (i.e. on  systems)

[10:34:24.0000] <matjas>
iiuc

[10:34:25.0000] <annevk>
that should happen automatically really

[10:34:37.0000] <matjas>
yeah, but browsers suck

[10:35:07.0000] <annevk>
so for that you're asking for a new feature for unicode-range that might not even be needed there?

[10:35:21.0000] <annevk>
you're not going to fix browsers by adding more features

[10:35:25.0000] <annevk>
that's standards 101

[10:37:59.0000] <matjas>
not asking for it, just wondering what the answer to mroth’s question one, as i had no idea :)

[10:38:03.0000] <matjas>
thanks for clarifying

[10:41:30.0000] <annevk>
nw

[10:42:10.0000] <annevk>
matjas: that article has some serious terminology issues

[10:42:46.0000] <annevk>
matjas: as well as incorrect assumptions

[10:42:55.0000] <annevk>
"(since after all, this was the problem that Unicode was supposed to solve to begin with)"

[10:43:29.0000] <annevk>
even if that was goal, that was abandoned by Unicode 2 and I suspect combining marks were a thing before that

[10:51:39.0000] <MikeSmith>
Hixie: about http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/001.html here's my latest attempt at trying to write out the steps so that I can understand what's supposed to be the expected result and why

[10:51:59.0000] <MikeSmith>
1. The UA finishes loading loading the iframe for the first time, with the iframe's contentDocument.location.href set to http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-address/inner.html and the iframe's contentDocument.baseURI set to "http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-base/".

[10:52:04.0000] <MikeSmith>
2. The UA finishes loading 001.html and calls `frames[0].location = 'javascript:location.assign("test.txt")'`.

[10:52:07.0000] <MikeSmith>
3. The API base URL specified by the entry settings object is the base URL of iframe's document (which is the responsible document specified by the entry settings object); that is, the API base URL is "http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-base/".

[10:52:11.0000] <MikeSmith>
4. So the UA resolves location.assign("test.txt") relative to  "http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-base/", and the UA reloads the iframe with its contentDocument.location.href set to  "http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-base/test.txt"

[11:15:35.0000] <Hixie>
MikeSmith: sounds right

[11:16:20.0000] <Hixie>
MikeSmith: between steps 2 and 3 are some interesting substeps involving navigating and creating a new script and running it, which matters for step 3, since the script in step 2 has an API base URL of blabla-outer.

[13:48:31.0000] <Hixie>
GPHemsley: yt?

[13:56:26.0000] <GPHemsley>
Hixie: Sup?

[13:57:11.0000] <Hixie>
GPHemsley: i just posted a question on some bug or other. i was wondering what the state of mimesniff was.

[13:58:07.0000] <GPHemsley>
Hixie: You want the answer here or in the bug?

[13:58:13.0000] <Hixie>
here's fine

[13:58:58.0000] <Hixie>
(i'm looking into the issue of video sniffing)

[13:59:07.0000] <Hixie>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=11984 was the bug

[13:59:32.0000] <GPHemsley>
Lack of interest = lack of progress; I have one issue to fix for bz and one issue to investigate for GNOME's libsoup; everything else is TBD

[14:00:11.0000] <Hixie>
not getting traction in terms of browsers implementing just the prescribed set of sniffing rules?

[14:00:24.0000] <Hixie>
or?

[14:00:28.0000] <GPHemsley>
yeah, that's part of it

[14:00:48.0000] <GPHemsley>
another part is that much of it already matches what browsers do, I think

[14:01:06.0000] <GPHemsley>
and another part is that one browser wants to do one thing and another browser wants to do another thing, and neither wants to change

[14:01:07.0000] <Hixie>
that's good

[14:01:12.0000] <Hixie>
that's bad

[14:01:50.0000] <GPHemsley>
another part is deferring to you for various parts

[14:02:11.0000] <GPHemsley>
and another part is lack of time/desire to investigate browser behavior

[14:02:19.0000] <GPHemsley>
so it's a multi-faceted problem

[14:02:33.0000] <GPHemsley>
but generally speaking, no one has expressed anything to me in a while regarding mimesniff

[14:02:46.0000] <GPHemsley>
so I've worried about other things instead

[14:02:51.0000] <Hixie>
fair enough

[14:03:19.0000] <Hixie>
well we should probably tidy up the stuff that is implemented (whether by everyone or just by some), at least

[14:03:20.0000] <GPHemsley>
but apparently GNOME's libsoup is being rewritten, so I've gotten a bit of contact the last few days

[14:03:39.0000] <GPHemsley>
yeah

[14:03:40.0000] <Hixie>
HTML is definitely relying on this spec, fwiw

[14:04:00.0000] <GPHemsley>
another thing was waiting on Ms2ger to update anolis to maintain attribute order in its output... >_>

[14:04:33.0000] <karlcow>
/me wonders why HTTP response headers have never been accessible through JS apart of document.referrer 

[14:05:15.0000] <matjas>
karlcow: node.js, though </trollbait>

[14:06:01.0000] <karlcow>
:)

[14:06:51.0000] <karlcow>
blame marcos and annevk discussions about "Link" and CSS. I was thinking so many issues could have been taken care of through polyfill and scripts.


2013-12-12
[18:11:35.0000] <MikeSmith>
Hixie: yeah, the parts between those two steps are the ones I'm not clear on. I would have thought the entry settings object specified the document containing the iframe, so I'm still unsure at what point the spec says the UA needs to actually evaluate the base URL of the document inside the iframe in order that it ends up affecting the API base URL

[18:46:29.0000] <crocket>
huh

[19:46:12.0000] <MikeSmith>
tantek: I added rel=syndication to the validator sources

[19:47:54.0000] <MikeSmith>
tantek: I suggest that the instructions on http://microformats.org/wiki/existing-rel-values should include a step that says, "If you add a rel value to this page and you want it supported in teh validator, you need to either open a validator bug or e-mail the www-validator⊙wo list to ask that it be added."

[19:53:03.0000] <MikeSmith>
tantek: alternatively, if somebody were to write code that provided the set of registered rel values on that page in JSON, then I could have the validator just read that

[19:53:49.0000] <tantek>
MikeSmith - good to know - I'll add the instructions immediately, and work on a JSON API for you

[19:54:15.0000] <MikeSmith>
tantek: cool

[19:54:26.0000] <MikeSmith>
yeah it would be really nice to have it in JSON

[19:54:58.0000] <tantek>
I'd thought originally that by using an HTML <table> of a particular format that it could be incorporated automatically

[19:55:10.0000] <tantek>
but I appreciate it's easier to consume the info from code as JSON

[19:56:26.0000] <MikeSmith>
yeah as far as I know we don't yet actually have the scraping code in the validator that would enable reading the <table> contents

[19:59:59.0000] <MikeSmith>
tantek: btw for the purposes of the validator at least, all we need is the actual value stringa and one boolean to indicate if it's allowed for <a> and one boolean to indicate if it's allowed for <link>

[20:00:16.0000] <tantek>
MikeSmith - yeah, hence those columns in the table.

[20:02:16.0000] <MikeSmith>
tantek: yeah, though the table has both "allowed" and "external relation" in addition to "allowed"

[20:02:18.0000] <tantek>
MikeSmith - could you give me a URL for "open a validator" ?

[20:02:28.0000] <MikeSmith>
*in addition to "not allowed"

[20:02:47.0000] <MikeSmith>
tantek: http://bugzilla.validator.nu/

[20:06:31.0000] <tantek>
thanks! wiki instructions updated.

[20:06:55.0000] <tantek>
MikeSmith - is the same true for new meta name values for the WHATWG wiki?

[20:07:05.0000] <Hixie>
MikeSmith: let's see...

[20:07:25.0000] <tantek>
(re: include a step … )

[20:09:08.0000] <Hixie>
MikeSmith: http://www.whatwg.org/html#javascript-protocol step 11 is probably the most key step here

[20:14:44.0000] <tantek>
MikeSmith and on that note - may I request <meta name="mobile-web-app-capable"> as well? http://wiki.whatwg.org/index.php?title=MetaExtensions&diff=9413&oldid=9407

[20:53:35.0000] <MikeSmith>
tantek: yeah I will add mobile-web-app-capable today

[20:54:01.0000] <MikeSmith>
tantek: and the instructions thing is the same for meta name values, yeah

[20:54:48.0000] <tantek>
MikeSmith awesome and done - added same instructions to meta name registry.

[20:56:36.0000] <MikeSmith>
tantek: thanks

[21:17:55.0000] <MikeSmith>
tantek: OK I just now added mobile-web-app-capable and pushed the change to http://validator.w3.org/nu/

[21:30:02.0000] <tantek>
MikeSmith - cool - but did rel=syndication not make it into the push?

[21:32:16.0000] <MikeSmith>
tantek: it should have

[21:32:25.0000] <MikeSmith>
I pushed it already yesterday, I though

[21:32:29.0000] <MikeSmith>
*thought

[21:32:39.0000] <tantek>
hmm - not AFAIK: http://validator.w3.org/nu/?doc=http%3A%2F%2Ftantek.com%2F

[21:33:15.0000] <MikeSmith>
hmm yeah

[21:33:26.0000] <MikeSmith>
lemme check the changeset

[21:33:38.0000] <tantek>
sad about the cite attribute. not that I can disagree with the warning.

[21:34:09.0000] <MikeSmith>
yeah I have been discussing that with Hixie in bugzilla

[21:34:27.0000] <MikeSmith>
maybe we should just drop the warning from the validator

[21:34:41.0000] <MikeSmith>
I'm not sure that warning is actually helping anybody in practice

[21:35:32.0000] <MikeSmith>
it's just annoying people who are already aware of the fact that cite is not supported in browsers, but they are knowingly using it anyway. Which is fine

[21:37:17.0000] <MikeSmith>
tantek: I made a mistake with the rel=syndication change -- I added it to to the meta name code instead of the <a> code. oops

[21:37:21.0000] <MikeSmith>
will fix it now

[21:43:57.0000] <MikeSmith>
tantek: fixed and pushed (rel=syndication)

[21:44:38.0000] <MikeSmith>
maybe I should go ahead right now and remove the code that emits the cite warning

[22:38:36.0000] <a-ja>
could make same argument as cite for several other errors/warnings though

[23:40:28.0000] <zcorpan>
MikeSmith: Hixie: how is what MikeSmith said right if the api base url for step 2 is outer?

[23:49:32.0000] <MikeSmith>
a-ja: yeah probably so. If there are particular ones you have in mind, please file bugs. The intent of those warnings isn't to be annoying and counter-productive. So if that's what the result is in practice, we should just remove them. The spec doesn't actually require them, so it wouldn't be like dropping any of them would be a conformance problem.

[23:50:37.0000] <MikeSmith>
OK, I see "the script settings object of the Window object of the active document of the browsing context being navigated." in step 11

[23:52:13.0000] <MikeSmith>
so I assume that means in this case browsing context being navigated is the nested browsing context, with the iframe document

[23:52:57.0000] <MikeSmith>
otherwise the base element of the iframe document would not be relevant, it seems

[23:59:54.0000] <MikeSmith>
dumb question: evaluatiing frames[0].location does not cause the iframe browsing contect to "be navigated", right?

[00:01:22.0000] <MikeSmith>
no, clearly it doesn't

[00:02:04.0000] <MikeSmith>
but clearly location.assign() does

[00:04:49.0000] <zcorpan>
MikeSmith: oh i see. so in step 2 the javascript: url itself is resolved against outer. then the script in the javascript: url is created and run, with a new api base url of inner

[00:05:24.0000] <MikeSmith>
oh

[00:09:18.0000] <MikeSmith>
zcorpan: so after the javascript: url itself is resolved against outer, the active document is still the outer document?

[00:10:17.0000] <zcorpan>
MikeSmith: active document of what?

[00:11:01.0000] <MikeSmith>
the document containing the iframe

[00:12:29.0000] <zcorpan>
active document is a property of a browsing context. the active document of the top-level browsing context is outer and the active document of the iframe's browsing context is inner

[00:13:02.0000] <zcorpan>
in the javascript: steps, it talks about the active document of the bc being navigated, which is inner

[00:13:19.0000] <zcorpan>
since the iframe bc is being navigated

[00:14:26.0000] <MikeSmith>
yeah, that's the part I still don't understand: at what point the iframe bc begins being navigated

[00:15:02.0000] <MikeSmith>
what exactly causes the iframe bc to be navigated, I mean

[00:15:36.0000] <zcorpan>
ok

[00:15:41.0000] <MikeSmith>
/me looks back at the javascript: steps

[00:15:49.0000] <zcorpan>
do you have a link ot the test?

[00:16:26.0000] <MikeSmith>
yeah, gimme a second

[00:16:35.0000] <MikeSmith>
http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/001.html

[00:18:01.0000] <zcorpan>
MikeSmith: ok so you're not interested in what happens up to right before the 'load' event fires?

[00:19:16.0000] <MikeSmith>
I am if it affects the rest of the test in some way I'm missing

[00:19:22.0000] <MikeSmith>
but I think I already understand that

[00:21:02.0000] <MikeSmith>
as far as I outlined in my last attempt, at http://krijnhoetmer.nl/irc-logs/whatwg/20131211#l-774

[00:24:43.0000] <zcorpan>
MikeSmith: splitting things out to the url spec made things a bit hard to follow here, but onload="frames[0].location = foo" causes a navigation because it sets location.href http://url.spec.whatwg.org/#dom-url-href which runs http://url.spec.whatwg.org/#pre-update-steps which runs "When the element's URLUtils interface invokes its update steps with the string value, the user agent must run the following steps:" in html

[00:24:54.0000] <zcorpan>
"element" there seems to be a copy/paste bug

[00:25:55.0000] <MikeSmith>
ah

[00:25:58.0000] <zcorpan>
MikeSmith: which invokes assign(foo)

[00:26:01.0000] <MikeSmith>
yeah, I understand now

[00:26:02.0000] <MikeSmith>
yeah

[00:26:54.0000] <MikeSmith>
zcorpan: that's why I was asking above, "dumb question: evaluatiing frames[0].location does not cause the iframe browsing contect to "be navigated", right"

[00:27:33.0000] <zcorpan>
MikeSmith: ok, i didn't understand that question :-)

[00:28:02.0000] <zcorpan>
evaluating `frames[0].location` doesn't navigate because it doesn't set, it gets

[00:28:06.0000] <MikeSmith>
yeah I guess it was equally dumb in that I didn't word it well

[00:28:36.0000] <MikeSmith>
yeah, I guess I meant assigning, not evaluation

[00:28:43.0000] <MikeSmith>
*not evaluating

[00:28:58.0000] <zcorpan>
right

[00:29:23.0000] <zcorpan>
it wasn't a dumb question :-)

[00:32:47.0000] <MikeSmith>
OK but you haven't heard the rest of my questions yet, so I still have a chance to exhibit further dumbness :)

[00:34:08.0000] <MikeSmith>
zcorpan: like, this question: What does it first cause a navigation to, in this case?

[00:34:15.0000] <MikeSmith>
I mean the specific frames[0].location = 'javascript:location.assign(&quot;test.txt&quot;)' case

[00:34:54.0000] <MikeSmith>
the first navigation is to the "javascript:location.assign(&quot;test.txt&quot;)" URL?

[00:35:44.0000] <zcorpan>
MikeSmith: it causes the javascript: url steps to be run. which navigates to the return value, except if that's `undefined`, in which case it doesn't actually navigate

[00:36:58.0000] <zcorpan>
MikeSmith: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2689

[00:37:05.0000] <MikeSmith>
/me takes a look

[00:37:34.0000] <zcorpan>
MikeSmith: vs  http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2690

[00:37:52.0000] <MikeSmith>
/me compares

[00:38:18.0000] <zcorpan>
the first one could have src=document also if you like

[00:39:24.0000] <zcorpan>
MikeSmith: this is step 12 in the javascript: url steps

[00:42:14.0000] <MikeSmith>
OK

[00:52:55.0000] <MikeSmith>
zcorpan: when the UA makes the frames[0].location = 'javascript:location.assign(&quot;test.txt&quot;)' assignment, the entry settings object changes such that the responsible document it specifies is the inner one?

[00:53:56.0000] <zcorpan>
MikeSmith: it doesn't really change but rather you get a new script with a different settings object

[00:54:11.0000] <zcorpan>
onload="" is one script

[00:54:15.0000] <zcorpan>
javascript: is another

[00:56:55.0000] <MikeSmith>
OK, I see that

[00:58:22.0000] <MikeSmith>
so I guess I should ask, what changes does the API base URL go through

[00:59:42.0000] <zcorpan>
which one? :-)

[01:00:38.0000] <zcorpan>
i think the api base urls don't change here

[01:01:40.0000] <MikeSmith>
ok yeah, lemme ask what happens from the other direction

[01:07:32.0000] <MikeSmith>
the iframe[0].location.href starts out as http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-address/inner.html and that document contains a base element with href http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-base/ so that has an effect on the API base URL of any settings object that has the http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-address/inner.html document as a responsible documen

[01:07:38.0000] <MikeSmith>
is that true?

[01:08:42.0000] <MikeSmith>
or actually ignore the first part about "the iframe[0].location.href starts out as" because it's not relevant to the question

[01:09:32.0000] <MikeSmith>
revised question: the document http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-address/inner.html contains a base element with href http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-base/ so that has  an effect on the API base URL of any settings object that has the  http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/inner-address/inner.html document as a responsible document

[01:31:30.0000] <zcorpan>
MikeSmith: i don't know

[01:33:14.0000] <zcorpan>
MikeSmith: the answer is no if you put a <script> above the <base>

[01:35:28.0000] <MikeSmith>
ok

[01:37:16.0000] <zcorpan>
is there a test runner i can use for the purpose of filling in http://www.w3.org/wiki/Webapps/Interop/WebWorkers

[01:39:55.0000] <MikeSmith>
zcorpan: Ms2ger's test runner, maybe?

[01:40:09.0000] <MikeSmith>
/me looks for the sources

[01:41:23.0000] <MikeSmith>
zcorpan: https://bitbucket.org/ms2ger/test-runner/src

[01:41:39.0000] <zcorpan>
yep thx

[01:42:04.0000] <MikeSmith>
it's what I used for http://w3c-test.org/testrunner/2dcontext/

[01:42:37.0000] <MikeSmith>
I don't know if you used it before but really the only thing you need to do is create a manifest, if you don't have one already

[02:04:38.0000] <zcorpan>
i don't. i can't get it to run, either :-|

[02:05:05.0000] <zcorpan>
i created a manifest by doing find . -name '*.htm*' > MANIFEST

[02:07:41.0000] <zcorpan>
Ms2ger: ^

[02:08:03.0000] <MikeSmith>
yeah that's how I made the manifest for the canvas tests

[02:08:44.0000] <zcorpan>
maybe it doesn't work on file:

[02:09:01.0000] <Ms2ger>
/me wanders in

[02:10:43.0000] <Ms2ger>
Do you have a / at the end of the path argument?

[02:12:22.0000] <zcorpan>
oh now i got it running (enabling file: XHR in opera)

[02:12:31.0000] <zcorpan>
except /resources/ doesn't exist

[02:24:35.0000] <Ms2ger>
Ah

[02:28:46.0000] <zcorpan>
ok now it's running. i tried to create symlinks and run on my local server but it didn't work for some reason so i copied the directory to the root instead :-)

[02:30:17.0000] <jgraham>
zcorpan: You could have run it on the python branch

[02:46:04.0000] <odinho>
Yea. -- Also, I think we had a copy of ms2gers test-runner in wpt? I wanted that at least, because it's the best way to run tests. I always had it locally.

[02:47:47.0000] <Ms2ger>
I don't think we ever added one

[02:47:58.0000] <Ms2ger>
I know the csp guys use a fork

[02:48:11.0000] <Ms2ger>
And that their tests rather confuse it

[02:57:03.0000] <jgraham>
For small values of "best"

[02:58:28.0000] <jgraham>
Could perhaps rewrite it to use the auto-generated json manifest format from https://critic.hoppipolla.co.uk/r/440

[02:58:55.0000] <jgraham>
But really you want an external test runner

[02:59:29.0000] <jgraham>
A simple webdriver-based one isn't too hard, but a fully-featured one is more challenging

[02:59:51.0000] <Ms2ger>
For running in automation, sure

[03:00:11.0000] <Ms2ger>
For manually running across browsers, I'm not convinced that's worth it

[03:00:19.0000] <jgraham>
Maybe not

[03:00:43.0000] <jgraham>
Anyway your one could still be improved by not using iframes and by using the autogenerated manifest

[03:06:09.0000] <Ms2ger>
jgraham, if/when that lands, sure :)

[03:06:49.0000] <annevk>
"We were not able to approve your request for this custom URL: google.com/+annevk"

[03:06:54.0000] <annevk>
well that is sad

[03:07:13.0000] <odinho>
odinho was also too short or something. Needed a full fugly name.

[03:08:04.0000] <jgraham>
Ms2ger: Well it has to land :)

[03:08:15.0000] <jgraham>
Ms2ger: You could help make this happen ;)

[03:08:34.0000] <Ms2ger>
:)

[03:08:36.0000] <Ms2ger>
/me runs

[03:09:38.0000] <annevk>
the one Google is proposing is way longer than http://annevankesteren.nl/+ too

[03:37:10.0000] <MikeSmith>
annevk: why not annevk.nl/+

[03:39:05.0000] <annevk>
MikeSmith: that'd require setting up annevk.nl as an actual domain rather than generic redirect

[03:39:10.0000] <annevk>
MikeSmith: but yeah...

[03:44:45.0000] <zcorpan>
jgraham: but they are modified so it's not obvious that the results can be compared

[03:45:21.0000] <zcorpan>
anne.vk

[03:46:22.0000] <jgraham>
zcorpan: Oh, did they change? I had forgotten that then. What happened?

[03:47:36.0000] <zcorpan>
jgraham: just a redirect script i think

[03:47:54.0000] <jgraham>
Oh, do you just mean on my branch>

[03:48:02.0000] <jgraham>
I thought you meant on master

[03:49:03.0000] <zcorpan>
i meant your branch yeah

[03:49:22.0000] <jgraham>
I don't think that's a problem. All those changes are reviewed even

[04:02:14.0000] <hsivonen>
annevk: if we get telemetry for IBM866, should be get telemetry for ISO-8859-5, too, for reference?

[04:02:48.0000] <annevk>
hsivonen: yeah, and maybe koi8-*

[04:02:53.0000] <hsivonen>
annevk: if ISO-8859-5 had no usage, wouldn't we still keep that one, though, to keep support for all of ISO-8859-*?

[04:03:34.0000] <annevk>
hsivonen: we don't really support all iso-8859-* (some map to windows-*), but I suspect we wouldn't remove it, but maybe from the override menu

[04:04:30.0000] <hsivonen>
annevk: well, let's say the labers for ISO-8859-* are supported for the whole series

[04:04:34.0000] <hsivonen>
labels

[04:05:16.0000] <annevk>
fair

[04:08:57.0000] <hsivonen>
annevk: is there an explanation of what the decoding difference between gbk and gb18030 means in practical terms? I.e. what characters are encoded by the sequences that mean something different in gbk than they mean in gb18030?

[04:10:20.0000] <annevk>
hsivonen: https://www.w3.org/Bugs/Public/show_bug.cgi?id=16862 and https://www.w3.org/Bugs/Public/show_bug.cgi?id=16697 have details

[04:10:30.0000] <hsivonen>
was EUC-JP the platform encoding on Japanese localizations of Linux, Solaris, etc. at some point?

[04:10:51.0000] <hsivonen>
that is, why would anyone use EUC-JP when legacy Windows and Mac both used Shift_JIS?

[04:10:58.0000] <hsivonen>
annevk: thanks

[04:13:13.0000] <annevk>
hsivonen: per http://en.wikipedia.org/wiki/Extended_Unix_Code#EUC-JP it was used by Unix operation systems

[04:13:15.0000] <hsivonen>
does Øistein work for Opera or is he just otherwise interested in encodigs?

[04:13:23.0000] <hsivonen>
annevk: ok

[04:13:24.0000] <annevk>
operating*

[04:13:35.0000] <annevk>
hsivonen: otherwise interested

[04:18:12.0000] <MikeSmith>
hsivonen: yeah I think EUC-JP was the default on *nix systems for a long time, long before Linux

[04:18:15.0000] <MikeSmith>
in Japan

[04:21:12.0000] <hsivonen>
MikeSmith: ok

[04:21:15.0000] <MikeSmith>
not that I mean Linux changed it when it came along

[04:23:02.0000] <hsivonen>
annevk: does GB18030 in the Encoding Standard match GB18030 as defined as a Chinese standard?

[04:24:40.0000] <hsivonen>
annevk: after reading those bugs, my understanding of the gbk vs. GB18030 issue has not improved :-(

[04:25:37.0000] <hsivonen>
mainly wondering if I should really implement the algorithms from the Encoding Standard myself for Validator.nu or just use the JDK decoders or the ICU4J decoders for the multibyte encodings

[04:30:01.0000] <ondras>
Domenic_: you available?

[04:47:04.0000] <zcorpan>
isn't Link: dead yet?

[04:56:26.0000] <zcorpan>
Hixie: this thread is discussing a 'metadatachange' event or some such for media elements http://www.w3.org/mid/CALiegfkYnk8yY-_V-0j40uxwAimab1vucPVU4o6H_Fuj8OFpUg⊙mgc

[05:15:04.0000] <annevk>
hsivonen: yeah sorry, the Encoding Standard is wrong I think

[05:15:27.0000] <annevk>
hsivonen: I just haven't figured out the right fix yet

[05:17:13.0000] <MikeSmith>
zcorpan: I can set up the test runner for workers on w3c-test.org

[05:17:26.0000] <MikeSmith>
and then everybody can run the tests from there

[05:17:26.0000] <annevk>
hsivonen: and I haven't taken the time because going through those algorithms again feels somewhat daunting :/

[05:17:41.0000] <zcorpan>
MikeSmith: cool

[05:18:22.0000] <MikeSmith>
zcorpan: can you tar up what you made for your local tests?

[05:18:52.0000] <MikeSmith>
or if that's a pain I'll just do it from scratch

[05:19:17.0000] <zcorpan>
MikeSmith: not much i did, i just changed the button in index.html

[05:19:46.0000] <MikeSmith>
ok

[05:20:00.0000] <MikeSmith>
so I'll just do the same. I don't think it should take long

[05:20:21.0000] <MikeSmith>
I'll send a reply to Art when I got it set up

[05:22:21.0000] <Ms2ger>
MikeSmith, on another note, I think we might have used github issues instead of bugzilla for test issues

[05:22:26.0000] <Ms2ger>
Not sure what's best

[05:25:23.0000] <MikeSmith>
well github issues suck worse than bugzilla

[05:26:00.0000] <MikeSmith>
but github issues seem to be in vogue

[05:26:03.0000] <MikeSmith>
this year

[05:26:49.0000] <MikeSmith>
oh but what test issues to you mean?

[05:29:23.0000] <Ms2ger>
Apparently I meant zcorpan, not you :)

[05:29:55.0000] <zcorpan>
Ms2ger: oh

[05:31:26.0000] <MikeSmith>
oh about the workers test bug that zcorpan raised I guess

[05:31:54.0000] <Ms2ger>
Yeah

[05:32:02.0000] <Ms2ger>
So, gittites

[05:32:08.0000] <Ms2ger>
Is there a way to rename a branch?

[05:32:51.0000] <jgraham>
git branch -m

[05:33:09.0000] <jgraham>
i.e. git branch -m oldname newname

[05:33:46.0000] <Ms2ger>
Ta

[05:34:04.0000] <jgraham>
Hmm, so thunderbird/lightning has decided that the dismiss button for appointment reminders is going to do precisely nothing

[05:34:32.0000] <jgraham>
Not close the window, not stop reminding me about appointments that have already happened

[05:34:41.0000] <jgraham>
This is quite annoying

[05:44:08.0000] <zcorpan>
The dismiss button does what it says on the tin: it dismisses your click

[06:05:22.0000] <zcorpan>
how do i test resolving urls in a cache manifest without going insane?

[06:13:44.0000] <zcorpan>
my plan is to create an iframe with a new unique url (maybe a data: url) that points to a cache manifest (maybe a data: url) which includes a url that stores a stash on the server, and on iframe.onload do an xhr to read the stash

[06:20:12.0000] <annevk>
JakeA: hey, do you know what the deal is with a spec for service workers?

[06:21:39.0000] <zcorpan>
jgraham: did we have a convention for helper files? under support/ or so?

[06:22:01.0000] <jgraham>
zcorpan: No convention for helper files, although a lot of testsuites use resources/

[06:22:13.0000] <jgraham>
i.e. /suite/resources

[06:22:25.0000] <zcorpan>
ok

[06:23:57.0000] <JakeA>
annevk: I've booked a week in January to go through the issue list with Alex, I think the spec's blocked on the issues

[06:24:14.0000] <jgraham>
?!

[06:24:52.0000] <JakeA>
annevk: Although, we would start working through it in the new year if you've got time?

[06:25:13.0000] <annevk>
JakeA: new year works for me

[06:25:28.0000] <annevk>
JakeA: I can maybe work on setting up an initial spec, I don't really want to own it indefinitely

[06:25:51.0000] <JakeA>
I get back from MTV in Feb. I'll make sure "Hide in mozilla offices" is one of my quarterly goals

[06:26:05.0000] <annevk>
heh

[06:26:14.0000] <JakeA>
annevk: It can stay in the repo, so it stays, well, Alex's

[06:26:18.0000] <annevk>
I'm away mid-Feb to mid-March, but there's others you can hide with

[06:27:12.0000] <JakeA>
Cool. I haven't written a WHATWG/W3 spec before, so may need some hand-holding

[06:27:30.0000] <MikeSmith>
Ms2ger: about the testrunner, once the tests finish running in the browser and the JSON shows up at the end, is there some tool that lets me take the JSON for each UA and generate an HTML test report from it?

[06:27:56.0000] <Ms2ger>
I may have something...

[06:28:04.0000] <MikeSmith>
Ms2ger: I thought I remembered plh telling me there was some such

[06:28:18.0000] <Ms2ger>
/me wonders where that ended up

[06:29:24.0000] <Ms2ger>
I've got something based on the XML output

[06:29:55.0000] <MikeSmith>
that's fine too

[06:31:12.0000] <jgraham>
FWIW I am not going to produce XML output :p

[06:31:27.0000] <Ms2ger>
I'll email it to you

[06:31:52.0000] <Ms2ger>
jgraham, I didn't expect that you would :)

[06:36:12.0000] <MikeSmith>
Ms2ger: thanks

[06:36:28.0000] <Ms2ger>
"Sending of message failed."

[06:36:30.0000] <Ms2ger>
/me kicks

[06:37:11.0000] <MikeSmith>
jgraham: does the current json output from Ms2ger testrunner not already basically follow the format you describe in your reply to Art?

[06:37:42.0000] <Ms2ger>
Third time's the charm

[06:39:56.0000] <MikeSmith>
anyway for now http://www.w3c-test.org/testrunner/workers/

[06:42:14.0000] <jgraham>
MikeSmith: No idea. I just made it up

[06:42:29.0000] <jgraham>
It wasn't exactly difficult

[06:43:15.0000] <Ms2ger>
I'm pretty sure I didn't put a lot of thought in my format :)

[07:02:04.0000] <zcorpan>
MikeSmith: thanks

[07:03:43.0000] <MikeSmith>
seems I probably need to tweek the manifest still

[07:03:53.0000] <MikeSmith>
but for now I need to take a break

[07:04:39.0000] <MikeSmith>
in the mean time, I'll contemplate what "But like most (all?) WHATWG products, it is a reference implementation, not a standard." is supposed to mean

[07:04:53.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/uri/2013Dec/0004.html

[07:25:50.0000] <SimonSapin>
annevk: If it makes the spec harder to understand, I think you should not define the URL parser as a single pass

[07:26:02.0000] <SimonSapin>
leave it to implementations to worry about performance

[07:29:20.0000] <annevk>
having a spec drastically different from implementations usually doesn't lead to good results

[07:29:25.0000] <jgraham>
Ms2ger: Where is your test runner? I am just going to fix it to work the way I want

[07:29:58.0000] <Ms2ger>
https://bitbucket.org/ms2ger/test-runner

[07:30:15.0000] <jgraham>
Thanks

[07:30:34.0000] <toss>
I have two tables with same number of rows and same width="1100" but the one has one more row than the other, they have different width of some cells which makes me problems, how can I solve this?

[07:30:42.0000] <toss>
is this a html or css issue?

[07:31:00.0000] <jgraham>
toss: Try #html I think

[07:31:26.0000] <SimonSapin>
annevk: having a spec that’s hard to understand may not lead to good results either…

[07:31:33.0000] <annevk>
"hard"

[07:32:39.0000] <toss>
ok

[07:32:41.0000] <toss>
thanks

[07:36:34.0000] <annevk>
zcorpan: is there no test for postMessage(1, "/")

[07:36:40.0000] <annevk>
zcorpan: that throws in Gecko...

[08:32:55.0000] <tantek>
MikeSmith - I think the cite warning is reasonable. I'd leave it in. Any use of attributes for content (or URLs) which do not have an effect in browsers is worth warning authors about, because such uses usually result in dead or misleading content over time.

[08:33:48.0000] <tantek>
It's good to warn authors who may not be aware of that. And those us that still do attempt to use things like the cite attribute are not surprised by the warnings either.

[08:35:12.0000] <annevk>
"Refactoring SharedWorkers out of Web Workers W3C spec" negative progress ftw

[08:54:41.0000] <annevk>
Still looking for a name that means the same as what latin1 used to mean

[08:55:15.0000] <annevk>
byte-identity

[08:55:19.0000] <annevk>
utf-256

[08:55:28.0000] <annevk>
thefirst256

[08:55:47.0000] <annevk>
8bit

[08:55:49.0000] <annevk>
whatwg-byte

[08:55:54.0000] <SimonSapin>
real ISO-8859-1

[08:56:19.0000] <annevk>
mkay, we could consider real-latin1

[08:56:33.0000] <annevk>
but I'd like to reserve silly stuff like that for Microsoft

[08:57:14.0000] <annevk>
hsivonen: ^^

[08:59:59.0000] <annevk>
to be clear, this encoding would be for API and use by standards only, it would not work in <meta charset=...> and such

[09:00:02.0000] <jgraham>
latin0

[09:02:51.0000] <annevk>
1st256cps

[09:12:22.0000] <MikeSmith>
tantek: ok

[09:13:01.0000] <toss>
can I somehow gain total control over table cells width?

[09:13:11.0000] <toss>
to make them to not get automatic width?

[09:13:18.0000] <toss>
how can I control their width

[09:14:42.0000] <miketaylr>
table-layout: fixed?

[09:29:48.0000] <Hixie>
MikeSmith: not sure if this is relevant or not, but notice that the settings object's API base URL is actually conceptually a callback, whose return value can change over time

[09:30:53.0000] <MikeSmith>
Hixie: oh man

[09:31:31.0000] <MikeSmith>
could we possibly find a way to make the description of all this more complicated?

[09:31:45.0000] <Hixie>
i've tried, but it's as complicated as i can make it, i'm afraid

[09:31:45.0000] <Hixie>
:-P

[09:31:50.0000] <MikeSmith>
:-)

[09:32:03.0000] <Hixie>
seriously though, this stuff is just wacked

[09:32:21.0000] <Hixie>
it's simpler now than it used to be, at least

[09:33:07.0000] <MikeSmith>
yeah, just giving you a hard time. I realize the spec is documenting what actually happens

[09:33:14.0000] <MikeSmith>
or what's supposed to actually happen

[09:33:41.0000] <MikeSmith>
speaking of which, at this point, I'm trying to see it as, which step in the spec is Firefox not performing correctly that Chrome is?

[09:33:46.0000] <MikeSmith>
step or steps

[09:35:49.0000] <MikeSmith>
oh it seems like bz might have already identified that

[09:35:51.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=949413

[09:36:03.0000] <MikeSmith>
maybe

[09:36:34.0000] <MikeSmith>
"The javascript: bit is a total red herring in this case; it's a pure Location issue."

[09:36:49.0000] <MikeSmith>
/me chews on that

[09:40:54.0000] <SimonSapin>
annevk: http://lucumr.pocoo.org/2013/12/9/stop-being-clever/

[09:41:13.0000] <Ms2ger>
/me read "MikeSmith chews on hat"

[09:41:56.0000] <Ms2ger>
"I think it will go through the same phase of emancipation as PHP where people from other languages and environments are forced to work with it and slowly introduce sanity into the community."

[09:41:58.0000] <Ms2ger>
Oh good

[09:42:23.0000] <Ms2ger>
Then we'll finally get monads

[09:42:48.0000] <Domenic_>
hahahaha

[09:54:18.0000] <jgraham>
Ms2ger: Like 98% of the web is "writing monads using javascript" tutorials already

[09:56:04.0000] <jgraham>
SimonSapin: Interesting article

[09:56:13.0000] <annevk>
people moaning about gb18030 in 2012-05 http://sourceware.org/bugzilla/show_bug.cgi?id=11837 scary stuff

[10:07:31.0000] <Hixie>
MikeSmith: the step is the one that says "When it comes time to set the document's address in the navigation algorithm, use address as the override URL."

[10:08:41.0000] <MikeSmith>
Hixie: ok

[10:13:19.0000] <Hixie>
the main flaw with http://lucumr.pocoo.org/2013/12/9/stop-being-clever/ is that it's generalising. There's no single "JavaScript community". JavaScript probably has more programmers than any other language, and the barrier to entry is lower than any other language. So naturally you'll have a huge variety of competence levels.

[10:13:33.0000] <Hixie>
MikeSmith: though of course that step depends on lots of earlier steps :-)

[10:14:50.0000] <Hixie>
http://lists.w3.org/Archives/Public/uri/2013Dec/0004.html is fascinating. i assume it's an attempt to make it seem like there's no WHATWG vs IETF conflict by redefining terms?

[10:22:53.0000] <jgraham>
Hixie: One might assume that the people writing e.g. Angular are some of the better javascript programmers

[10:23:03.0000] <jgraham>
And that is a specific example he cites

[10:23:34.0000] <gsnedders>
Hixie: Should the spec give a list of encodings that heuristics should be used for?

[10:24:49.0000] <MikeSmith>
Hixie: the mesdage from John Cowan seems kind of like an attempt to stake out a particular extreme position

[10:25:09.0000] <MikeSmith>
Hixie: which seems to be kind of a pattern with him in such discussions

[10:26:45.0000] <MikeSmith>
basically only providing entertainment value

[10:27:56.0000] <Hixie>
jgraham: i thought he was mostly complaining about some time zone library, and that he liked angular

[10:28:22.0000] <Hixie>
gsnedders: 301 annevk

[10:28:45.0000] <Hixie>
MikeSmith: ah (not familiar with his work, didn't recognise the name)

[10:28:50.0000] <gsnedders>
Hixie: But you currently define "do something with heuristics" in the HTML spec! :P

[10:29:10.0000] <annevk>
gsnedders: probably not, hsivonen and I are figuring out what exactly we want to do there

[10:29:17.0000] <annevk>
gsnedders: might end up with something liimited for Japanese

[10:29:23.0000] <Hixie>
gsnedders: i said 301! 301! not 303 or 307! :-P

[10:29:43.0000] <Hixie>
gsnedders: more seriously though if there was a set of defined heuristics that browsers would implement, i'd refer to them

[10:29:49.0000] <gsnedders>
annevk: I mean, I presume everyone at least sniffs for UTF-8?

[10:29:50.0000] <Hixie>
gsnedders: i've no intention of doing that myself though

[10:30:27.0000] <jgraham>
Hixie: There are lots of examples of things he dislikes about Angular at the end that seem to be more at the "architecture" level than the "bad algorithm" level

[10:30:37.0000] <jgraham>
Which he claims are encouraged by js

[10:30:38.0000] <Hixie>
ah

[10:31:07.0000] <Hixie>
well js definitely doesn't discourage certain patterns that should probably be discouraged, that's for sure

[10:31:15.0000] <Hixie>
it's not as bad as perl for that, but it's in the same vein

[10:31:19.0000] <gsnedders>
annevk: Can I like, not have uni, and just get to play with interesting web platform stuff?

[10:31:31.0000] <Hixie>
gsnedders: yes

[10:31:48.0000] <Hixie>
gsnedders: (you may find it more financially sound to first finish uni though)

[10:31:49.0000] <annevk>
gsnedders: utf-8 sniffing is not universal at all

[10:31:50.0000] <gsnedders>
But I have six months left! It seems stupid to leave not! :)

[10:31:56.0000] <gsnedders>
*now

[10:32:01.0000] <annevk>
gsnedders: sniffings efforts are rather limited

[10:32:22.0000] <annevk>
which is good

[10:32:40.0000] <gsnedders>
Then should the note informatively recommending UTF-8 be gone from the spec?

[10:32:47.0000] <gsnedders>
s/UTF-8/UTF-8 sniffing/

[10:33:10.0000] <Hixie>
down with utf-8!

[10:38:29.0000] <annevk>
gsnedders: where is the utf-8 bit?

[10:38:42.0000] <annevk>
gsnedders: I suspect this will be cleaned up once we shipped relevant changes to Firefox for a bit longer

[10:38:56.0000] <annevk>
gsnedders: we still have sniffing there but are planning on scoping it down

[10:41:03.0000] <gsnedders>
annevk: in HTML, under detecting input stream encoding

[10:41:35.0000] <gsnedders>
"Note: The UTF-8 encoding has a highly detectable bit pattern. Documents that contain bytes with values greater than 0x7F which match the UTF-8 pattern are very likely to be UTF-8, while documents with byte sequences that do not match it are very likely not. User-agents are therefore encouraged to search for this common encoding. [PPUTF8] [UTF8DET]"

[10:41:50.0000] <annevk>
ah right

[10:41:55.0000] <annevk>
yeah, that will need to change

[11:07:37.0000] <astearns>
Hixie: MikeSmith: I read Cowan's message as expressing a dislike of explicit algorithms in specs

[11:09:35.0000] <astearns>
as in "that's not a spec, that's a reference implementation in pseudocode"

[11:18:04.0000] <Ms2ger>
As in "I don't want specs to actually define edge cases"?

[11:21:00.0000] <astearns>
it seems like a weird position to take, but perhaps I'm misinterpreting

[11:25:17.0000] <zcorpan>
annevk: you mean window.postMessage?

[11:26:02.0000] <zcorpan>
annevk: http://w3c-test.org/web-platform-tests/master/webmessaging/without-ports/004.html

[11:27:35.0000] <Ms2ger>
zcorpan, so are you planning to also fix the workers tests? :)

[11:28:20.0000] <zcorpan>
Ms2ger: not right now at least

[11:28:51.0000] <zcorpan>
the workers tests need to be reviewed

[11:29:27.0000] <zcorpan>
i thought i had reviewed the tests from microsoft but i guess they didn't address my comments

[11:29:40.0000] <Hixie>
astearns: yeah

[11:31:20.0000] <zcorpan>
any news on MessageChannel in gecko?

[11:32:12.0000] <Ms2ger>
Not that I remember

[11:34:06.0000] <Domenic_>
it's implemented i think

[11:34:10.0000] <Domenic_>
but preffed off

[11:35:15.0000] <Ms2ger>
zcorpan, <bz> Seems to be behind a pref for now

[11:35:59.0000] <zcorpan>
ok. why? is there a bug i can read?

[11:36:36.0000] <Ms2ger>
https://bugzilla.mozilla.org/show_bug.cgi?id=677638

[11:36:43.0000] <Ms2ger>
<bz> there's some loose ends wrt workers and whatnot; I'm sure baku can tell you the exact status.

[11:38:42.0000] <baku>
Ms2ger, about messagePort and MessageChannel in ff, the current state is that they are implemented just for the main-thread. No workers yet

[11:39:06.0000] <baku>
I have a couple of patches but it's unclear when these will be ready to be reviewed and land.

[11:39:32.0000] <baku>
Ms2ger, everything is behind pref and disabled by default. is this what you want to know? :)

[11:39:41.0000] <Ms2ger>
zcorpan, ^

[11:40:13.0000] <zcorpan>
baku: thanks

[11:40:23.0000] <baku>
zcorpan, welcome

[11:43:17.0000] <zcorpan>
it seems like a good idea to keep it preffed off until it works properly with workers, so that feature-checking is reliable

[11:44:55.0000] <zcorpan>
baku: i'm not sure if you're aware of it but there are tests at http://w3c-test.org/web-platform-tests/master/webmessaging/

[11:46:22.0000] <baku>
zcorpan, no. I didn't know. but great! I will use them!

[11:47:02.0000] <zcorpan>
and a few under http://w3c-test.org/web-platform-tests/master/workers/

[11:48:35.0000] <zcorpan>
baku: clone https://github.com/w3c/web-platform-tests/ and grep for 'MessageChannel' :-)

[11:49:52.0000] <zcorpan>
baku: or ask jgraham about web-platform-tests in gecko

[11:50:20.0000] <baku>
zcorpan, ok, thanks for these URLs

[11:50:49.0000] <zcorpan>
np

[11:50:54.0000] <Ms2ger>
Or me if you want them now :)

[11:51:33.0000] <baku>
Ms2ger, hehe ok :)

[11:51:52.0000] <ondras>
Domenic_: do you happen to be available?

[11:51:59.0000] <Domenic_>
ondras: sure

[11:52:36.0000] <ondras>
Domenic_: one question re. promises, perhaps a noobish one

[11:52:49.0000] <ondras>
Domenic_: suppose I have this setup: promise.then(f1, f2)

[11:53:03.0000] <ondras>
Domenic_: is there some recommended way to handle the situation when f1 fails with an exception?

[11:53:14.0000] <Domenic_>
promise.then(f1, f2).catch(f3)

[11:53:18.0000] <ondras>
Domenic_: this exception is auto-caught and the promise returned by .then gets rejected, ofc

[11:53:34.0000] <ondras>
Domenic_: .catch is .then(null, f3), right?

[11:53:38.0000] <Domenic_>
yeah

[11:53:53.0000] <Domenic_>
if you want the exception in f1 to go to f2, then promise.then(f1).catch(f2) would be better

[11:53:58.0000] <ondras>
Domenic_: I was thinking about some "auto" solution, similar to what happens in non-async scenarios (exception logged in browser's console)

[11:54:15.0000] <Domenic_>
oh, well, all browser promise implementations should be logging unhandled exceptions to the console

[11:54:16.0000] <gsnedders>
Ms2ger: Disliking specs using psuedo-code isn't the same as disliking spec that define behaviour for all inputs

[11:54:19.0000] <ondras>
Domenic_: I just want to *know* that something has failed

[11:54:25.0000] <Domenic_>
the problem is that unhandled exceptions can become handled later

[11:54:34.0000] <ondras>
Domenic_: am I able to achieve this in my own promise impl? I guess not?

[11:54:38.0000] <ondras>
Domenic_: precisely!

[11:54:52.0000] <Domenic_>
ondras: well, the problem is there is no "console.unlog," so any solution in user-space will be approximate

[11:54:54.0000] <Ms2ger>
gsnedders, but specs that don't use pseudo code don't tend to define behaviour for all inputs

[11:55:07.0000] <Domenic_>
Bluebird logs "possibly unhandled error" if it isn't handled after one tick, so that gives false positives

[11:55:17.0000] <Ms2ger>
gsnedders, [doesn't mean that that's always the case; based on experience with web specs; ymmv]

[11:55:24.0000] <gsnedders>
Ms2ger: "tend" is the important word there. :)

[11:55:26.0000] <Domenic_>
Q tries to maintain a live array of unhandled rejections, but it's not clear to me which browsers support logging live arrays

[11:56:00.0000] <gsnedders>
Ms2ger: I'd rather not have everything done with psuedocode, but I would like everything to be defined.

[11:56:18.0000] <ondras>
Domenic_: well it is probably better than nothing. just that even if I responsibly handle all promises with both fulfill AND reject callbacks, the development process is tedious when the fulfillment callback throws and it does not get reported anywhere :-(

[11:56:31.0000] <Domenic_>
agreed :(

[11:56:33.0000] <werle>
annevk: hey you there?

[11:56:37.0000] <Ms2ger>
Hmm

[11:56:51.0000] <Ms2ger>
Is there a way to grep in gzipped text files without extracting?

[11:56:53.0000] <Ms2ger>
/me is lazy

[11:56:59.0000] <ondras>
zcat ?

[11:57:07.0000] <ondras>
Ms2ger: ^

[11:57:10.0000] <gsnedders>
Ms2ger: No, how else could you grep over it? :P

[11:57:19.0000] <gsnedders>
Ms2ger: (Oh, sorry, am I being pedantic)

[11:57:24.0000] <ondras>
Domenic_: the .catch is standardized anywhere, or just your pseudocode shortcut?

[11:57:43.0000] <Domenic_>
ondras: catch is part of ES6 promises

[11:57:52.0000] <ondras>
ah

[11:58:02.0000] <ondras>
I noticed that the whatwg dom promises page is rather brief

[11:58:13.0000] <ondras>
does this mean that ES6 promises are going to be done instead?

[11:58:13.0000] <Domenic_>
ondras: https://github.com/domenic/promises-unwrapping#promiseprototypecatch--onrejected-

[11:58:19.0000] <Domenic_>
yes, indeed.

[11:59:21.0000] <ondras>
Domenic_: okay, thanks for consultations and your time! I will probably stick with the falsy-positive approach "console.log after some timeout", sounds most feasible to me

[11:59:40.0000] <Ms2ger>
ondras, ta

[11:59:52.0000] <Domenic_>
ondras: sounds good :)

[11:59:59.0000] <Domenic_>
if only we had console.unlog...

[12:00:13.0000] <ondras>
:>

[12:00:26.0000] <ondras>
well the console object is actually wrapped with my own impl

[12:00:34.0000] <ondras>
in order to hide those calls in production

[12:00:45.0000] <ondras>
so I *can* have unlog, somewhat.

[12:01:12.0000] <Domenic_>
hmmm

[12:09:44.0000] <zcorpan>
Hixie: is https://github.com/inikulin/parse5/commit/6289e2231df9e3faf089f6112ef07d5ce840e2fc a spec bug you're aware of? i see http://html5.org/tools/web-apps-tracker?from=7870&to=7871 but that was earlier and seems different

[12:12:29.0000] <zcorpan>
or maybe it's the same issue

[12:12:35.0000] <Ms2ger>
Oh, and: zgrep

[12:17:32.0000] <Ms2ger>
Funny things I learned about == today:

[12:17:37.0000] <Ms2ger>
* 0 == false

[12:17:41.0000] <Ms2ger>
* 1 == true

[12:17:44.0000] <Ms2ger>
* "" == 0

[12:17:49.0000] <Ms2ger>
* ["a"] == "a"

[12:17:55.0000] <Ms2ger>
* you should never ever ever use ==

[12:18:09.0000] <Ms2ger>
(Actually, I knew the last one)

[12:33:41.0000] <ondras>
== is okay, as long as you know what data types you compare

[12:34:03.0000] <ondras>
for instance, `if typeof(x) === "string"` is completely fine with ==

[12:39:37.0000] <Hixie>
zcorpan: i don't know

[12:40:15.0000] <Hixie>
zcorpan: that code doesn't look to map closely enough to the spec for me to understand how it maps

[13:04:42.0000] <zcorpan>
Hixie: did you reply on public-webrtc about the resize event? otherwise i can give them a heads-up

[13:05:06.0000] <Hixie>
i didn't. if you are happy to let them know, please do!

[13:05:08.0000] <Hixie>
thanks!

[13:06:52.0000] <Hixie>
btw if anyone is bored and would like to do me a favour, i need to make a list of all the events mentioned in the html spec (by their xref name, so event-resize and event-media-resize are different), so that i can make a table non-normatively defining all the events that still lack definitions

[13:07:24.0000] <Hixie>
might be as simple as grepping through the source file for "event-.+" and then massaging the data, now that i think of it

[13:08:49.0000] <zcorpan>
http://lists.w3.org/Archives/Public/public-webrtc/2013Dec/0043.html

[13:16:33.0000] <Hixie>
zcorpan: thanks

[13:17:31.0000] <Hixie>
(https://www.w3.org/Bugs/Public/show_bug.cgi?id=23530 is the bug for that event thing btw)

[13:35:18.0000] <zcorpan>
http://lists.w3.org/Archives/Public/public-webrtc/2013Dec/0045.html - quickly implement this in gecko too! go go go!

[13:36:47.0000] <zcorpan>
/me now goes to sleep and will expect some patches in the morning, after lucia at day care

[13:38:05.0000] <Hixie>
record for fastest turnaround is about 24 hours, i think

[13:38:09.0000] <Hixie>
that was for some canvas features

[14:59:57.0000] <bholley>
Hixie: ping

[15:00:03.0000] <Hixie>
yo

[15:00:18.0000] <bholley>
Hixie: want to talk about location sync for a little bit?

[15:00:31.0000] <bholley>
/me is finding himself getting confused with all this context switching

[15:00:56.0000] <Hixie>
sure

[15:01:02.0000] <Hixie>
(i have a soft out in 60 minutes)

[15:01:09.0000] <bholley>
Hixie: we could also see if Adam wants to get coffee or something next week

[15:01:10.0000] <Hixie>
(hard out in 90)

[15:01:20.0000] <Hixie>
yeah, that might be best

[15:01:29.0000] <Hixie>
happy to host lunch at the goog or whatever if that helps

[15:01:44.0000] <Hixie>
i can find us a whiteboard

[15:01:59.0000] <bholley>
Hixie: I assume  Travis is in Seattle?

[15:02:18.0000] <bholley>
Hixie: I'd really love to hear from him

[15:02:51.0000] <Hixie>
no idea

[15:03:28.0000] <bholley>
Hixie: alright, let's see where we can get with this in 30 minutes

[15:04:35.0000] <bholley>
Hixie: So. The big problem with the grand Alien Object compromise that I'm thinking about right now is the stuff related to the functions we pull off the object

[15:05:54.0000] <bholley>
in particular, if we were to do this in Gecko today, two same-origin observers would pull different function identities off of a cross-origin Location

[15:06:29.0000] <bholley>
I could brainstorm ways to fix that

[15:09:06.0000] <Hixie>
isn't the easiest way to fix it to just prevent access to all the things like prototypes and so on? and fake it in the ==/=== operators or something?

[15:09:36.0000] <bholley>
Hixie: I think we removed all ability to fake ===

[15:10:15.0000] <bholley>
Hixie: which is ok. I could fix it with membranes I think

[15:10:50.0000] <bholley>
Hixie: but if we go that route, it seems like we should do something similar with Window, right?

[15:11:11.0000] <Hixie>
i would certainly love for Window and Location to have similar logic, for the spec's sake if not yours :-)

[15:11:28.0000] <bholley>
Hixie: well, that's most of where I'd be coming from on that as well

[15:12:28.0000] <bholley>
Hixie: I'm guessing adam has more flexibility with Window than he does with Location

[15:12:32.0000] <bholley>
because it's already magical

[15:12:38.0000] <Hixie>
look, i'm basically open to anything at all at this point, so long as (a) it's secure and ideally (b) it doesn't result in weird identity issues where depending on how you look at an object, you get different results.

[15:13:01.0000] <Hixie>
and obviously if (b) is a non-starter, then i guess (a) is the only real requirements

[15:13:17.0000] <Hixie>
though i really do think authors will get themselves into very confused states if we don't do (b)

[15:13:41.0000] <bholley>
yeah

[15:15:15.0000] <bholley>
Hixie: yeah ok. Maybe we should do lunch. How about tuesday?

[15:15:30.0000] <Hixie>
tuesday 17th lgtm

[15:15:44.0000] <bholley>
Hixie: who is the counterpart with WebKit these days?

[15:15:54.0000] <bholley>
Hixie: or will adam know enough about WebKit to speak for them?

[15:16:09.0000] <Hixie>
he probably will, but it'd be nice to get someone else there

[15:16:11.0000] <Hixie>
hober: ping

[15:16:18.0000] <bholley>
abarth: ping

[15:16:26.0000] <abarth>
bholley: hi

[15:17:15.0000] <bholley>
abarth: how about lunch next week with me and Hixie?

[15:17:30.0000] <Hixie>
to talk about Location/Window, primarily

[15:17:50.0000] <abarth>
sure

[15:17:54.0000] <bholley>
abarth: tuesday work?

[15:18:25.0000] <abarth>
mon and tues, I'm at an all-day meeting.  wed works though

[15:18:36.0000] <Hixie>
aklein: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=23990

[15:18:41.0000] <bholley>
blarg, I'm getting a visa on wed

[15:18:54.0000] <abarth>
where are you located?

[15:19:02.0000] <abarth>
I could do thursday in san francisco

[15:19:11.0000] <Hixie>
thurs is no good for me

[15:19:23.0000] <Hixie>
friday works though if you're around

[15:19:41.0000] <bholley>
abarth: I'm kinda stochastic between the peninsula, east bay, and SF

[15:19:54.0000] <abarth>
i could do friday in SF

[15:20:10.0000] <Hixie>
friday in the goog office?

[15:20:22.0000] <Hixie>
i can just work from google's SF office on friday if we do that

[15:20:37.0000] <bholley>
that works

[15:21:07.0000] <bholley>
I can do that to, I guess. We might think of other things to talk about

[15:21:15.0000] <Hixie>
heh

[15:21:20.0000] <bholley>
(assuming I'm allowed to do that?)

[15:21:26.0000] <abarth>
yes :)

[15:21:31.0000] <abarth>
send me email and we can work out the details

[15:21:40.0000] <Hixie>
bholley: i'm sure there's somewhere we can put you :-)

[15:21:47.0000] <bholley>
sounds good :-)

[15:22:20.0000] <bholley>
friday is the last day before Mozilla shuts down for 2 weeks :-)

[15:22:34.0000] <aklein>
Hixie: looking...

[15:22:35.0000] <Hixie>
this is friday 20th right, not tomorrow

[15:23:24.0000] <abarth>
yep

[15:24:48.0000] <aklein>
Hixie: pong

[15:25:10.0000] <Hixie>
aklein: thanks

[15:25:34.0000] <Hixie>
oh, interesting

[15:25:44.0000] <Hixie>
hadn't thought about how this impacts nested templates

[15:26:23.0000] <aklein>
yeah, nesting was the original motivation for re-use when the the ownerDocument already lacked a browsing context

[15:26:30.0000] <aklein>
just came naturally, basically

[15:27:05.0000] <Hixie>
ok well since i create the documents right there, i can label them easily enough

[15:28:22.0000] <aklein>
yeah, it's easy enough, just sort of tricky

[15:28:32.0000] <aklein>
would have liked to hear wchen's thoughts on this

[15:29:47.0000] <Hixie>
bholley: you gonna send e-mail to abarth and i for details?

[15:29:57.0000] <bholley>
Hixie: I did, didn't I

[15:29:58.0000] <bholley>
?

[15:30:26.0000] <Hixie>
ah ok, cool. haven't gotten it yet. thanks.

[15:31:42.0000] <hober>
Hixie: coincidentally, i'll be in the google sf office tomorrow

[15:33:08.0000] <hober>
/me reads more, realizes you were talking about a different friday

[15:38:03.0000] <Hixie>
hober: d'oh

[15:38:09.0000] <Hixie>
hober: you wanna come the next friday also? :-)

[15:38:24.0000] <Hixie>
hober: actually what i wanted to ask you is who from apple would be appropriate to talk to about this

[15:39:47.0000] <bholley>
Hixie: maybe we should see if microsoft could send someone too? It could be a real summit!

[15:39:58.0000] <bholley>
;-)

[15:42:44.0000] <Hixie>
i'd love to have them send someone

[15:51:08.0000] <Hixie>
aklein: bug fixed

[15:51:19.0000] <Hixie>
bholley: haven't seen your e-mail yet, fwiw

[15:52:06.0000] <aklein>
Hixie: thanks!

[15:53:38.0000] <bholley>
Hixie: it was sent to ian⊙hc

[15:53:45.0000] <bholley>
Hixie: subject: Friday the 20th at Google

[15:53:54.0000] <bholley>
abarth: did you get the email?

[15:54:35.0000] <Hixie>
it's quite possible that my mail setup ate it, or is just sitting on it to spite me


2013-12-13
[16:04:17.0000] <hober>
Hixie: I'm not sure what this is

[16:07:20.0000] <bholley>
hober: this is a meetup to spec out the corner-case behavior of cross-origin Location objects

[16:11:18.0000] <Hixie>
hober: https://www.w3.org/Bugs/Public/show_bug.cgi?id=20701

[16:12:13.0000] <Hixie>
i'm going offline til tomorrow. later all.

[21:32:29.0000] <MikeSmith>
astearns: I suppose I should have realize that. Dunno why he bothers, since he's not going to get what he wants, if that's what he wants. Unless he wants to start writing ones himself in the old-school style to replace them

[21:33:38.0000] <MikeSmith>
some people really just love formalisms I guess

[22:14:31.0000] <MikeSmith>
hsivonen: http://bugzilla.validator.nu/ keeps requiring me to log back in during the same session, even though my IP is not changing and anyway I have "Restrict this session to this IP address". (And in both Firefox and Chromium)

[22:50:13.0000] <hsivonen>
MikeSmith: I checked the relevant Bugzilla settings and didn't see anything obviously wrong.

[22:51:00.0000] <hsivonen>
MikeSmith: I'm not a Bugzilla expert, so I really don't know what might be causing the problem

[22:51:10.0000] <hsivonen>
MikeSmith: do you know what I should be looking for?

[22:53:01.0000] <hsivonen>
annevk: regarding glibc and gb18030: a) not suprised at maintainer attitude b) gb18030 was supposed to be a UTF, so why does there exist a 2005 update?

[22:53:17.0000] <hsivonen>
*surprised

[23:00:24.0000] <hsivonen>
annevk: I find the use of PUA in GBK decoders (per http://coq.no/character-tables/chinese-simplified/en) troubling

[23:13:26.0000] <hsivonen>
annevk: considering that IE doesn't support (according to coq.no) ISO-8859-14 and -16, did you try to find out if there exists non-test case Web content in those encodings?

[23:25:40.0000] <MikeSmith>
hsivonen: my Bugzilla knowledge is pretty limited. Don't know what to suggest you should look for. But if you try it yourself I'd think you'd be able to reproduce it.

[23:47:09.0000] <zcorpan>
no patches, no record :-(

[23:50:58.0000] <zcorpan>
Hixie: the application-name edit seems like it selects no meta if no language has been declared. shouldn't it just fall back to the first element instead of none?

[00:26:30.0000] <MikeSmith>
trying figure out of marcosc is getting trolled in http://lists.w3.org/Archives/Public/uri/2013Dec/0007.html or whether marcosc is actually the one doing the trolling

[00:40:49.0000] <hsivonen>
MikeSmith: indeed hard to say. marcosc's position looks rather extreme. what John Cowan says makes sense if he executes English as program code.

[00:50:27.0000] <zcorpan>
testing resolving url in a cache manifest was actually straight-forward, to my surprise

[01:02:13.0000] <zcorpan>
wonder if i should also test "fallback" and "online whitelist", that seems slightly more annoying

[01:09:40.0000] <MikeSmith>
hsivonen: claiming a spec that uses (English) prose pseudo-code is a "reference implementation" is like saying a recipe for a cake is the same thing as a cake

[01:41:44.0000] <marcosc>
what?

[01:41:46.0000] <marcosc>
me troll?

[01:42:47.0000] <marcosc>
hsivonen, MikeSmith - what he was implying doesn't make sense.

[01:42:59.0000] <marcosc>
English is not code

[01:43:25.0000] <marcosc>
And a spec not written in a form that can be implemented doesn't make sense

[01:43:58.0000] <marcosc>
also, I was basically giving the definition of a standard as defined by ISO, I think... let check on that

[01:48:31.0000] <tantek>
marcosc, standards that you have to pay for to get a copy of a PDF?

[01:52:11.0000] <zcorpan>
nice, i put \u00E5 in the query string in a cache manifest, presto fetches %C3%83%C2%A5

[02:02:38.0000] <marcosc>
tantek: isn't that what makes a standard? :)

[02:04:16.0000] <marcosc>
"This might be very useful for people writing implementation code, butit's not so helpful for people *using* the feature (like authoring fileURIs), or people trying to understand why something works the way it works."

[02:04:17.0000] <hsivonen>
marcosc: well, suggesting a browser is a reference implementation is pretty extreme even for the WHATWG and doesn't make sense without saying *which* browser

[02:04:55.0000] <marcosc>
hsivonen: I don't follow?

[02:05:14.0000] <hsivonen>
marcosc: John is right about the meaning of "reference implementation"

[02:05:40.0000] <hsivonen>
marcosc: which means a piece of software whose behavior constitutes the authoritative standard

[02:06:03.0000] <marcosc>
I don't agree. Or at least, and implementation to me is something else.

[02:06:11.0000] <marcosc>
an spec cannot be an implementation of itself

[02:06:23.0000] <marcosc>
as an implementation cannot pass a test suite

[02:07:12.0000] <marcosc>
im·ple·men·ta·tion "the process of putting a decision or plan into effect; execution."

[02:07:19.0000] <hsivonen>
marcosc: John is right about what "reference implementation" means. When he says WHATWG specs are reference implementations, he probably considers WHATWG spec language style as algorithmic enough English to be like code

[02:08:30.0000] <marcosc>
even if that were true (which, is demonstratively not the case as English is pretty bad at executing), his definition of a standard would still be flawed

[02:09:06.0000] <marcosc>
as what he is suggesting for a standard is something that would not follow these rules and hence one could not implement reliably?

[02:09:07.0000] <hsivonen>
dunno how he defines "standard"

[02:09:20.0000] <marcosc>
well, he clearly excludes the WHATWG specs

[02:09:48.0000] <marcosc>
which makes me very suspicious and leads me to conclude that he is confused about what a standard is.

[02:09:58.0000] <hsivonen>
marcosc: maybe RFCs are something that one could not implement reliably, and, therefore, count as standards. ;-)

[02:10:06.0000] <marcosc>
heh

[02:10:08.0000] <marcosc>
could be :)

[02:10:16.0000] <marcosc>
I guess the same applies to W3C specs?

[02:10:38.0000] <hsivonen>
at least the ones that aren't just copies of WHATWG specs. :-)

[02:28:15.0000] <Ms2ger>
Nobody mentioned http://blog.chromium.org/2013/12/ecma-forms-tc52-for-dart-standardization.html yet?

[02:44:59.0000] <jgraham>
Ms2ger: zgrep

[02:45:14.0000] <jgraham>
Oh, I was way into the backscroll

[02:45:15.0000] <Ms2ger>
jgraham, yep, I found that, thanks :)

[02:45:16.0000] <jgraham>
Sorry

[03:24:22.0000] <darobin>
I had no idea that Ecma standardised Eiffel

[03:26:01.0000] <jgraham>
I hear it was a towering achievement

[03:26:21.0000] <jgraham>
/me gets his coat

[03:28:52.0000] <darobin>
badum *tsch*

[03:32:28.0000] <gsnedders>
…

[03:36:06.0000] <marcosc>
You know ECMA is the real deal because they publish using Word!... though those in-spec-algorithms my not cut the "standards" mustard.

[03:39:06.0000] <Ms2ger>
Pff, tc39 only does reference implementations

[03:42:54.0000] <jgraham>
They should have written the dart standard in js and the js standard in C#  and the C# standard in Eiffel. Then it really would be an Eiffel tower.

[03:43:13.0000] <tantek>
jgraham++

[03:44:54.0000] <gsnedders>
jgraham: Don't say that. People might get ideas.

[03:45:37.0000] <Ms2ger>
Did gsnedders just get ideas for a thesis?

[03:46:28.0000] <jgraham>
gsnedders: It's fine. At the end they would publish the whole lot in Open Office XML transcoded into JSON and distribute it on HVD-ROM cartridges

[03:52:11.0000] <annevk>
hsivonen: I think gb18030 had an update to note more code points have a mapping, not sure exactly what the purpose was; it might be that the standard also has font requirements and such

[03:52:49.0000] <zcorpan>
Hixie: why the readyState check for video resize event?

[03:52:52.0000] <annevk>
hsivonen: I have not tried to find out anything for -14 and -16, if only one browser did not support an encoding my assumption was that I should include it

[03:56:43.0000] <annevk>
hsivonen: so it seems gb18030 and gbk in the Encoding Standard are basically wrong

[03:57:14.0000] <annevk>
hsivonen: I will figure out how to fix that I suppose :/

[04:05:53.0000] <zcorpan>
Hixie: nm

[04:23:32.0000] <zcorpan>
css 'binding' is basically obsolete, right?

[04:33:29.0000] <annevk>
marcosc: oh man, that thread

[04:49:08.0000] <gsnedders>
darobin: I'm not sure I want to accept your pull requests. I'll merge them if it seems like people are actually going to implement them in browsers.

[04:53:12.0000] <hsivonen>
annevk: looking forward to finding out if we can get away with aliasing gbk to gb18030

[04:53:44.0000] <hsivonen>
Hixie: when you put gb18030 instead of gbk in the HTML spec, did you do research or did you just make an optimistic guess that that would work?

[04:54:06.0000] <hsivonen>
(in the HTML spec as the Simplified Chinese fallback encoding that is)

[04:54:07.0000] <annevk>
hsivonen: so I think that alias is not feasible unless those 25 code points turn out not to matter

[04:54:39.0000] <annevk>
hsivonen: well actually, given what Opera did for a long time maybe it is...

[05:08:31.0000] <hsivonen>
So compared to ISO Greek, Windows Greek just bikesheds the position of Ά? why oh why?

[05:09:38.0000] <annevk>
What came first? ISO or Windows?

[05:09:47.0000] <gsnedders>
hsivonen: Swapping it with what? An undefined character?

[05:10:14.0000] <annevk>
Might as well have been the standardization committee that had a hatred for Microsoft

[05:11:41.0000] <hsivonen>
"this difference was instrumented in order to rectify the appearance of an early version of Microsoft Word for Windows in which the end-of-section symbol clashed with the "Greek capital alpha with acute" glyph"

[05:14:16.0000] <hsivonen>
gsnedders: Windows Greek has a paragraph symbol where ISO Greek has capital alpha with acute

[05:15:20.0000] <hsivonen>
annevk: ISO Greek is 1987 and a copy of a Greek standard from 1986

[05:15:57.0000] <hsivonen>
annevk: dunno when Windows got Greek support

[05:17:42.0000] <annevk>
hsivonen: seems like Microsoft hated ISO then :/

[05:19:54.0000] <darobin>
gsnedders: I don't expect you to merge them before you have more evidence

[05:20:14.0000] <gsnedders>
darobin: Okay, good to know we're on the same page :)

[05:20:15.0000] <darobin>
I mean, feel free to if you want to, but there's a reason I marked them as "merge with caution"

[05:20:54.0000] <darobin>
gsnedders: I'm landing this because input from implementers is that this is what they plan to do, but as always I'll believe that when I've seen it :)

[05:21:33.0000] <gsnedders>
darobin: Are there any bugs anywhere for it?

[05:23:33.0000] <darobin>
gsnedders: not on the parsing changes but the use cases were brought up from https://www.w3.org/Bugs/Public/show_bug.cgi?id=20115 and https://www.w3.org/Bugs/Public/show_bug.cgi?id=20114

[05:24:00.0000] <gsnedders>
darobin: I meant for implementors

[05:24:17.0000] <darobin>
ah, sorry

[05:25:18.0000] <darobin>
gsnedders: there's https://bugzilla.mozilla.org/show_bug.cgi?id=33339 if you want to read long history; I'm not aware of others

[05:25:23.0000] <gsnedders>
(I don't care so much about why it's there as whether I should implement it :P)

[05:25:43.0000] <darobin>
gsnedders: my understanding was that WebKit wanted a bug when this came into the spec, so as to have a link

[05:25:51.0000] <darobin>
I'll be making sure that happens

[05:26:03.0000] <darobin>
and I can't give you a bug for IE though the input was positive :)

[05:26:08.0000] <darobin>
I don't know about Blink

[05:26:36.0000] <darobin>
gsnedders: I wouldn't bother taking the PRs yet, just leave them open and apply when something happens

[05:26:37.0000] <gsnedders>
Wow, I actually remember my login details for Bugzilla. :)

[05:27:09.0000] <darobin>
*normally* the changes I made to html5lib ought to be enough

[05:27:31.0000] <gsnedders>
darobin: BTW, you might want to add Ruby to the sanitizer whitelists — it should be safe, no?

[05:27:46.0000] <darobin>
mmm, that's a good point

[05:27:53.0000] <gsnedders>
On the other hand, my near total rewrite of the sanitizer will probably land before this :P

[05:28:37.0000] <gsnedders>
darobin: Can you comment as much on the bug, and explicitly say about waiting for impls for html5lib-tests (not everyone with reviewer access there so closely follows both WHATWG/W3C specs).

[05:29:03.0000] <gsnedders>
(I have an essay to somehow finish in the next 30 minutes or so.)

[05:29:03.0000] <darobin>
I was thinking of my own sanitiser anyway ;)

[05:29:12.0000] <darobin>
go finish your essay, I'll add the comments

[05:29:47.0000] <gsnedders>
(I'm not going to finish it. I've been ill for weeks, been granted maximum extension,  and I'm still nearly 1000 words under min word count)

[05:30:23.0000] <darobin>
sorry to hear you've been ill

[05:30:55.0000] <darobin>
if you close IRC that just a little bit over a word every two seconds...

[05:31:16.0000] <gsnedders>
:)

[05:31:30.0000] <gsnedders>
I'm not sure I can write more without reading more papers to actually be able to cite anything more.

[05:36:18.0000] <darobin>
thanks, hober, really, for bikeshedding straight from the top of a thread

[05:45:53.0000] <annevk>
hsivonen: so it turns out they actually changed the mapping in gb18030 around 2005

[05:46:00.0000] <annevk>
hsivonen: ftp://ftp.oreilly.com/pub/examples/nutshell/cjkv/pdf/GB18030_Summary.pdf has some background story

[05:48:29.0000] <annevk>
Pretty interesting: "We will later see that both the code space and the character repertoire of GBK create the foundation for the almost completely compatible code space of GB 18030. In fact, there is text in the standard indicating that GB 18030 (the “standard”) is meant to replace (代替 daiti) GBK (the “specification”)."

[05:51:40.0000] <annevk>
"Update: Actually, a third large gap can be found in the re-released mapping data now that is caused by the removal of the Unicode Surrogate code points (U+d800 through U+dfff) from the four-byte mapping area."

[05:51:52.0000] <annevk>
Whoa, so initially gb18030 covered more than Unicode scalar values

[05:53:38.0000] <annevk>
Kinda of like UCS-4, but more restricted in range...

[05:54:07.0000] <annevk>
http://en.wikipedia.org/wiki/UTF-32 does not even mention it excludes surrogates...

[06:00:30.0000] <annevk>
http://shop.oreilly.com/product/9781565922242.do needs a second edition to tell the story of gb18030

[07:17:31.0000] <annevk>
The gb18030 situation might be less worse than expected. Extreme Decemberfest might hold me back in fixing it today though

[07:17:44.0000] <annevk>
s/worse/bad/

[07:17:44.0000] <jgraham>
Ms2ger: -webkit-? Really

[07:17:56.0000] <jgraham>
/me is disappointed :p

[07:18:16.0000] <annevk>
jgraham: in Ms2ger or Chinese encodings?

[07:18:29.0000] <jgraham>
Both?

[07:19:02.0000] <Ms2ger>
jgraham, I did what now?

[07:19:23.0000] <jgraham>
meter::-webkit-meter-horizontal-bar and more gunk

[07:19:53.0000] <Ms2ger>
Oh, that

[07:19:56.0000] <Ms2ger>
I was young :)

[07:20:13.0000] <annevk>
Ms2ger: that phrase is reserved for us

[07:35:04.0000] <MikeSmith>
/me hums "whatever happened to the teenage dream?"

[07:56:22.0000] <gsnedders>
annevk: Bah, you're old!

[08:57:31.0000] <paxcoder>
keygen tag ooooh yeaaah

[09:09:26.0000] <Hixie>
hsivonen: re gb18030, the comment in the spec for that line says "Windows Vista, Chrome, and Firefox agreed", so it was part of the research you had me do with the big table from vista and chrome and firefox data

[09:09:57.0000] <Hixie>
hsivonen: oh, nevermind

[09:10:26.0000] <Hixie>
hsivonen: there's a source comment at the top of that section that says "[assumption:] Windows-936 is a basically a subset of GBK which is basically a subset of GB18030 (supported by wikipedia)"

[09:52:18.0000] <paxcoder>
can someone explain what the challenge (attribute) is in the keygen tag?

[10:00:09.0000] <Hixie>
paxcoder: the sum total of my understanding of keygen is in the spec :-(

[10:00:53.0000] <Hixie>
paxcoder: i recommend looking up SignedPublicKeyAndChallenge in [X690]

[10:02:44.0000] <Ms2ger>
paxcoder, you realize that this is something netscape came up with in the nineties? :)

[10:03:09.0000] <paxcoder>
Hixie, thanks... i'm still clueless though :-P

[10:03:16.0000] <paxcoder>
Ms2ger, i don't, but it rocks

[10:04:10.0000] <paxcoder>
though i guess it doesn't prevent MITM so it doesn't rock that much.

[10:04:25.0000] <Hixie>
paxcoder: what's the underlying problem you're trying to solve?

[10:05:13.0000] <paxcoder>
Hixie, nothing, i'm just going over HTML5 tags I don't know, and I'm wondering what a challenge is. But my hope is to get rid of CAs

[10:05:33.0000] <paxcoder>
(though I'm not sure if that's realistic)

[10:05:45.0000] <Hixie>
aah

[10:06:05.0000] <Hixie>
well if you manage to find a way to get rid of CAs, lots of people would be very happy (and lots very unhappy, but that's another story)

[10:06:28.0000] <paxcoder>
who'd be unhappy?

[10:06:33.0000] <Hixie>
the CAs, mainly

[10:06:46.0000] <paxcoder>
doesn't diffie-hellman get rid of them though?

[10:07:02.0000] <Hixie>
still need some way to prove identity

[10:07:10.0000] <Hixie>
and the CAs are the only way we have to do that so far

[10:07:11.0000] <paxcoder>
darnit

[10:11:24.0000] <Hixie>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=24094 wtf

[10:11:40.0000] <Hixie>
someone went to the multipage spec's elements.html page

[10:11:46.0000] <Hixie>
then went to the namespaces.html page

[10:11:55.0000] <Hixie>
then clicked on the svg namespace

[10:12:03.0000] <Hixie>
then submitted the comment "i like may you install for the video html"

[10:12:07.0000] <Hixie>
WHAT ARE YOU DOING

[10:13:12.0000] <Hixie>
it's an African IP. So on the one hand, yay, we're getting feedback from Africa, I keep saying that using e-mail and Web is the way to do that and that f2fs and telecons disenfranchise many parts of the world including probably much of africa.

[10:13:28.0000] <Hixie>
but on the other hand, what did they mean???

[10:13:57.0000] <TabAtkins>
That doesn't even English, so just close as invalid.

[10:14:07.0000] <TabAtkins>
Like, there's no way to interpret it into a meaningful sentence.

[10:14:33.0000] <Hixie>
i usually close those as NEEDSINFO

[10:14:37.0000] <Hixie>
but yeah

[10:14:50.0000] <Hixie>
(i reserve INVALID for things like actual obvious spam)

[10:47:12.0000] <TabAtkins>
Augh, good lord, talking on the SVG ml is almost impossible at times, with all the top-quoting and HTML-emailling. >_<

[10:48:03.0000] <Ms2ger>
At least it's not SVG-emailing

[10:53:24.0000] <TabAtkins>
Thank jeebus for that.

[11:25:39.0000] <jamesr__>
http://dev.w3.org/fxtf/compositing-1/#canvascompositingandblending - is that intended to add new values to 2d canvas?

[11:26:33.0000] <Ms2ger>
There's been some discussion on www-style

[11:26:41.0000] <Ms2ger>
Mostly coming down to "Are you high?"

[11:28:01.0000] <jamesr__>
yes, i've been posting a lot of that. i'm trying to figure out if this is different from the previous state or not

[11:36:56.0000] <Hixie>
jamesr__: i hope to defer to that spec eventually,

[11:37:03.0000] <Hixie>
jamesr__: but hopefully not until it's sane

[11:41:12.0000] <jamesr__>
it's not

[11:42:03.0000] <jamesr__>
most of the definitions are in sections marked non-normative

[11:42:29.0000] <jamesr__>
including all of the values referenced in the globalCompositeOperation section

[11:44:06.0000] <jamesr__>
even the css blend mode definitions refer to keywords defined in sections marked non-normative

[11:45:23.0000] <jamesr__>
/me is really curious how this thing made it almost to CR

[11:45:41.0000] <Ms2ger>
Nobody's watching?

[11:46:24.0000] <jamesr__>
s'pose

[11:49:39.0000] <Hixie>
CR doesn't mean much...

[12:02:06.0000] <paxcoder>
Hixie, I think the only thing we can say when faced with the problem of identity and central authorities is: WOT?

[12:02:47.0000] <paxcoder>
but heck, I'm skeptical about the Web of trust too.

[12:04:10.0000] <paxcoder>
Degrees of separation and chinese whispers.

[12:04:54.0000] <paxcoder>
Actually, first thing only. The whispers are the work of Mallroy.

[12:05:18.0000] <paxcoder>
i'm rambling, bye :-)

[12:16:40.0000] <TabAtkins>
Sigh, I knew last time I reviewed Compositing that it was unreadable.  I need to rewrite it.

[12:48:02.0000] <zcorpan>
what does <input type=file> do if you delete the selected file?

[13:19:56.0000] <Hixie>
zcorpan: ideally, once you've selected it, the browser makes a copy of it, so that you can't delete it

[13:20:11.0000] <Hixie>
(a hardlink, obviously, not a real copy, that would be way too inefficient for big files)

[13:21:30.0000] <zcorpan>
Hixie: where does that leave Blob.close()? :-)

[13:21:39.0000] <zewt>
well, if the user selects a file and then deletes it, they may well expect that it means the browser can't access it either

[13:22:02.0000] <zewt>
the website, rather

[13:23:20.0000] <zewt>
it also depends on what the behavior is when you select a file and then modify it: if you revoke access if the mtime changes (eg. selecting a file means "you have access to the file in this state, but not future states") then that works, but if it does mean to give access to changes too, then a hardlink will sometimes break that

[13:23:38.0000] <zewt>
(when programs save over files by creating a new file then renaming over the old one)

[13:48:09.0000] <Ms2ger>
http://office.microsoft.com/en-us/outlook-help/print-emails-showing-names-on-the-bcc-line-HA102919777.aspx

[13:57:23.0000] <dekiss>
guys

[13:57:29.0000] <dekiss>
do you support webgl ?

[14:06:02.0000] <Hixie>
zcorpan: dunno

[14:06:31.0000] <Hixie>
zcorpan: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=24089 btw

[14:13:20.0000] <zcorpan>
Hixie: see https://www.w3.org/Bugs/Public/show_bug.cgi?id=23968

[14:14:20.0000] <Hixie>
zcorpan: what CSS does is somewhat orthogonal, since it would override HTML on this

[14:14:44.0000] <Hixie>
the text in HTML is only really relevant in the hypothetical case of a language that doesn't specify what to do, yes supports <style>

[14:14:50.0000] <Hixie>
the only case i can think of is JSSS

[14:14:55.0000] <Hixie>
and nobody supports that anyway nowadays

[14:15:09.0000] <zcorpan>
Hixie: oh. well in that case i don't care

[14:15:21.0000] <zcorpan>
Hixie: i care about css :-)

[14:15:40.0000] <Hixie>
k :-)

[14:15:48.0000] <Hixie>
me too, i was a bit surprised by your bug :-)

[14:16:02.0000] <Hixie>
anyway, that css bug says it should likely not use utf-8 either

[14:16:07.0000] <Hixie>
(your last comment)

[14:16:19.0000] <Hixie>
the html spec as written says to use the doc encoding

[14:21:34.0000] <zcorpan>
yeah

[14:30:10.0000] <fischman>
good afternoon; is there policy about attributes vs. events?  E.g. media elements have a durationchange event, but they do not have an ondurationchange attribute, which MediaController elements _do_ have.  Is it generally expected that on each element that has an event foo there will be a corresponding onfoo attribute, or is it a case-by-case basis, according to what's in the spec?  (concretely: I'm wondering whether my blink CL adding the

[14:32:02.0000] <zcorpan>
fischman: onfoo attributes in html are generally available on *all* html elements *and* on the document *and* on window

[14:32:50.0000] <zcorpan>
fischman: http://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#event-handlers-on-elements,-document-objects,-and-window-objects

[14:34:20.0000] <Hixie>
woah, onresize isn't on elements

[14:34:22.0000] <Hixie>
let me fix that

[14:34:32.0000] <zcorpan>
fischman: MediaController isn't an element

[14:35:00.0000] <dekiss>
is the ewebgl part of html5?

[14:35:03.0000] <dekiss>
webgl*

[14:35:26.0000] <Hixie>
dekiss: depends what you mean by that exactly

[14:35:27.0000] <dekiss>
if no why ou don't make it guys

[14:35:33.0000] <dekiss>
3d canvas

[14:35:36.0000] <dekiss>
webgl

[14:36:27.0000] <dekiss>
 Vendors may define experimental contexts using the syntax vendorname-context, for example, moz-3d.

[14:36:27.0000] <dekiss>
† For example, the "webgl" value in the case of a user agent having exhausted the graphics hardware's abilities and having no software fallback implementation.

[14:36:47.0000] <dekiss>
ahh I see it is

[14:37:37.0000] <Hixie>
i have no idea what you are asking

[14:37:50.0000] <Hixie>
i actually have less of an idea now than i did when you first asked your question :-)

[14:38:08.0000] <fischman>
zcorpan: thanks.  Is there a backstory for why this is so?  I.e. what does it _mean_ for a <form> (say) element to have a non-null onseeking attribute set?

[14:38:32.0000] <Hixie>
fischman: just means it has an event handler

[14:38:42.0000] <fischman>
Hixie: that can never fire?

[14:38:53.0000] <Hixie>
it can fire whenever such an event is dispatched at the element in question

[14:38:59.0000] <Hixie>
or, for bubbling events, any of its descendants

[14:39:09.0000] <Hixie>
it's just like addEventListener(), more or less

[14:39:13.0000] <fischman>
Hixie: ah, bubbling is the thing I was forgetting.

[14:39:26.0000] <Hixie>
you can also dispatch events manually

[14:39:28.0000] <Hixie>
dispatchEvent()

[14:39:43.0000] <fischman>
Hixie: thanks for the clarifications (and for the event! :))

[14:40:44.0000] <zcorpan>
fischman: as for the why, i think it was because it's simpler to implement

[14:41:40.0000] <fischman>
zcorpan: yeah, makes sense in a world where events aren't tied to elements (as bubbling and generic dispatchEvent() are).

[14:42:29.0000] <zcorpan>
/me is low on battery. both in laptop and brain

[14:42:43.0000] <zcorpan>
nn

[14:42:53.0000] <smaug____>
events aren't tied to elements

[14:45:05.0000] <dekiss>
Hixie sorry

[14:45:13.0000] <dekiss>
is the webgl part of the html5 specifications ?

[14:45:24.0000] <dekiss>
or any official w3c or whatwg specification

[14:46:01.0000] <dekiss>
omg

[14:46:12.0000] <dekiss>
ignore this please :)))) <dekiss> † For example, the "webgl" value in the case of a user agent having exhausted the graphics hardware's abilities and having no software fallback implementation.

[14:46:20.0000] <dekiss>
this was wrong paste :)

[14:46:30.0000] <Hixie>
what do you mean by "part of"?

[14:46:38.0000] <dekiss>
well.......

[14:46:41.0000] <dekiss>
part of hhh

[14:46:56.0000] <dekiss>
is tehre anything about webgl I am seeing something but don't udnertand :S

[14:46:58.0000] <Hixie>
do you mean, "is the specification of the webgl api published in the same document as the specification of the HTMLCanvasElement API?"

[14:46:59.0000] <dekiss>
let me check again

[14:47:05.0000] <dekiss>
no no

[14:47:12.0000] <dekiss>
I see webgl is mentioned in webgl specs

[14:47:48.0000] <dekiss>
http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html here exactly

[14:48:20.0000] <dekiss>
ah lol I got confused so yeah Vendors may define experimental contexts using the syntax vendorname-context, for example, moz-3d.

[14:48:20.0000] <dekiss>
† For example, the "webgl" value in the case of a user agent having exhausted the graphics hardware's abilities and having no software fallback implementation.

[14:48:26.0000] <dekiss>
this I don't understand

[14:48:39.0000] <dekiss>
this is part of the html5 - canvas specification

[14:48:47.0000] <Hixie>
that's part of the html specification

[14:48:53.0000] <Hixie>
(html5 is dead, long live html)

[14:50:24.0000] <dekiss>
:)

[14:50:26.0000] <dekiss>
ye

[14:50:32.0000] <dekiss>
ok haha Hixie ^^

[14:50:42.0000] <dekiss>
YOu made that descision in 2011

[14:50:49.0000] <dekiss>
that was part of my courses haha

[14:52:04.0000] <dekiss>
Hixie, like or not people, I am pretty sure webgl is the future of the web :)

[14:54:50.0000] <dekiss>
peopel liek it because looks awesome, developers liek it because it is awesome and it pays 150$.hour :)

[14:54:56.0000] <dekiss>
150$/hour

[15:07:58.0000] <zewt>
webgl is definitely not the "future of the web", it's a useful feature but just that

[15:14:05.0000] <Hixie>
zewt: it's in the future

[15:14:11.0000] <Hixie>
zewt: of the web

[15:14:15.0000] <Hixie>
zewt: as are many things.

[15:16:46.0000] <zewt>
in the future, sure; the future, not so much

[15:18:15.0000] <Hixie>
i don't know what it would mean for something to be "the future" of what basically underpins the world's information economy

[15:18:24.0000] <cabanier>
Hixie: :-)


2013-12-14
[17:04:56.0000] <dekiss>
zewt :))

[17:05:01.0000] <dekiss>
<zewt> webgl is definitely not the "future of the web", it's a useful feature but just that

[17:05:45.0000] <dekiss>
webgl is part of the future of the web yes

[17:05:48.0000] <dekiss>
big part

[17:06:00.0000] <dekiss>
future websites will be in 3d

[17:06:30.0000] <dekiss>
it is very funny how when finally whole world have optic internet network connection webgl will demand graphic cards not bandwidth :DDDD

[17:07:58.0000] <dekiss>
the only reason today website are not in 3d is lack of browser support for webgl for mobiles ie opera etc. and becasue he computers today are not coming with graphic cards when this will change in the next 5-6 years webgl will dominate and most of the website will be in 3d

[17:08:07.0000] <dekiss>
websites*

[17:10:07.0000] <zewt>
(the fact that 3d has nothing to do with most websites might be a bit of a factor as well)

[17:12:19.0000] <dekiss>
hahah

[17:12:25.0000] <dekiss>
zewt you have a point

[17:13:04.0000] <dekiss>
ok most of the websites will want at least of the shiny webgl cookie on their website

[17:13:18.0000] <dekiss>
ok most of the websites will want at least small piece* of the shiny webgl cookie on their website

[17:13:49.0000] <dekiss>
zewt ok we disagree on this topic lets move on :)

[17:25:15.0000] <gavinc>
based on recent job fairs and interviews it is the future of every single Look at me! Look at me! demo project

[17:32:00.0000] <dekiss>
gavin um which demo?

[06:25:09.0000] <smaug____>
/me wonders if http://html5.org/tools/web-apps-tracker?from=8353&to=8354 is actually web compatible

[06:25:21.0000] <smaug____>
er, not that one

[06:25:30.0000] <smaug____>
but the one which added resize to <video>

[06:27:24.0000] <smaug____>
I don't see why that all was changed

[06:27:32.0000] <smaug____>
/me could be missing some email

[08:09:11.0000] <zewt>
http://www.elementcase.com/iPhone-5-s/136.htm for as much as they charge for their products, they sure didn't spend much on their <title>

[08:09:33.0000] <jgraham>
In what sense is gecko the only browser with a bfcache? I thought this was something that everyone had? How does gecko differ from wat presto ha[s|d] and what blink has?

[08:09:57.0000] <zewt>
webkit doesn't have anything at all like firefox's bfcache, as far as I understand what bfcache is

[08:17:58.0000] <jgraham>
Oh. But Opera did it first, right?

[08:21:08.0000] <Ms2ger>
Land on the moon?

[08:23:28.0000] <jgraham>
Opera landed on the moon so long ago that the O-logo branding they left behind is often mistaken for craters

[08:47:22.0000] <jwalden>
zewt: bfcache definitely was in webkit before Gecko, we added it (and brendan pushed on us to land it without delaying long enough to have a reasonably clean implementation) because they had it already

[08:47:37.0000] <jwalden>
bz is still bitter about that

[08:47:56.0000] <jwalden>
but perhaps it was always going to be fugly, because docshell

[08:48:06.0000] <zewt>
jwalden: i never see it, then, but maybe i'm thinking of something else

[08:48:35.0000] <zewt>
firefox keeps the previous page (or pages) in each tab alive, so browser back goes back immediately; chrome always reloads the page

[08:48:53.0000] <zewt>
or at least visibly rerenders

[08:50:23.0000] <jwalden>
/me consults https://bugzilla.mozilla.org/show_bug.cgi?id=blazinglyfastback

[08:51:10.0000] <zewt>
maybe chrome turns it off in more cases, which gives me the impression that it doesn't have it?

[08:51:37.0000] <jwalden>
maybe?

[08:52:03.0000] <jwalden>
these days I think pages have a lot more onload/ununload/onbeforeunload handlers or whichever, and those handlers disable bfcache

[08:55:18.0000] <zewt>
err, if it disables it if there's an onload handler then yeah it wouldn't work for most sites

[08:55:24.0000] <zewt>
firefox doesn't do that

[08:55:33.0000] <zewt>
(on a quick test)

[08:59:00.0000] <jgraham>
It should just be unload handlers

[09:00:07.0000] <smaug____>
jwalden: bfcache was in Gecko before webkit

[09:00:12.0000] <zewt>
chrome does seem to have bfcache for simple pages and then turn it off if i add an onload

[09:01:06.0000] <zewt>
(but every site in the world has an onload)

[09:01:22.0000] <jgraham>
jwalden: That bug doesn't mention webkit (and iirc predates webkit being a serious engine)

[09:01:42.0000] <jgraham>
It does mention Opera however

[09:01:58.0000] <jgraham>
I am pretty sure that this really is a case where Opera did it first

[09:02:17.0000] <zewt>
it does seem like an opera-y thing

[09:02:35.0000] <jgraham>
But it would be really surprising if WebKit/Blink don't do this given what a noise they make about perf.

[09:13:58.0000] <jwalden>
hum

[09:14:08.0000] <jwalden>
I really don't remember it not being  a webkit thing at the time, strange

[09:30:02.0000] <dekiss>
can I put img element in h2?

[09:36:10.0000] <dekiss>
I guess I can?

[09:36:16.0000] <dekiss>
at least validator says so

[09:37:59.0000] <toss2>
interesting

[10:04:30.0000] <Ms2ger>
Sure, why not?

[12:51:34.0000] <matjas>
annevk: https://github.com/jwerle/libutf8 — “A whatwg compliant UTF8 encoding and decoding library based on http://encoding.spec.whatwg.org/”

[13:00:34.0000] <matjas>
so http://encoding.spec.whatwg.org/#utf-8 allows lone surrogates, that’s unexpected

[13:12:21.0000] <annevk-cloud>
matjas: the encoder you mean? It expects scalar values

[13:13:57.0000] <annevk-cloud>
Going to be fixed at some point

[13:14:05.0000] <matjas>
annevk: where does it say that? what happens in case a lone surrogate is part of the input for the encoder

[13:14:08.0000] <annevk-cloud>
Many choices as to how

[13:14:28.0000] <matjas>
ah ok, not yet in the spec

[13:15:14.0000] <annevk-cloud>
Invalid input at the moment, like passing bytes where strings are expected

[13:19:23.0000] <matjas>
oh, so it does say it’s invalid input atm? where?

[13:26:57.0000] <matjas>
in that case https://github.com/jwerle/libutf8/blob/5941ddcbfd86b69cc3b8519aba62619b0dcf63b1/test/decode.c#L180-L185 is incorrect


2013-12-15
[02:24:14.0000] <Ms2ger>
"Return the readAsText() method, but continue to process the steps in this algorithm"

[07:02:59.0000] <toss2>
are here any guys that work on Chrome? I have found a bug in Chrome

[07:38:04.0000] <aleray>
hi, does it makes sense to use wrap the content of a list page (with links to detail pages) in a section tag

[07:40:34.0000] <aleray>
something like this: http://dpaste.com/1506414/

[07:45:55.0000] <Ms2ger>
http://qdb.us/62195

[08:00:36.0000] <MikeSmith>
Hixie: see comments from Dominic Cooney and Maciej about inheriting from HTMLInputElement in http://lists.w3.org/Archives/Public/public-webapps/2013OctDec/1051.html

[08:01:39.0000] <MikeSmith>
another data point for why it's a bad idea to create any new elements that follow the input@type (anti)pattern

[08:02:54.0000] <MikeSmith>
e.g., menu@type=toolbar|popup

[08:42:59.0000] <annevk-cloud>
matjas: not explicitly mentioned atm

[08:43:43.0000] <annevk-cloud>
mostly because I need to write up the choices again I think and ask what others think

[09:16:26.0000] <dekiss>
how to make empty link that will not refresh the page?

[10:40:25.0000] <Hixie>
MikeSmith: sure, nothing new there. the problem is that it's equally bad, possibly worse in fact, to have the language be inconsistent.

[10:40:46.0000] <Hixie>
MikeSmith: to create new custom <input type=> values, you'd need a dedicated mechanism for it

[10:41:01.0000] <Hixie>
MikeSmith: closely related to, but distinct, from the mechanism for binding to other elements.

[10:41:13.0000] <Hixie>
MikeSmith: web controls 1.0 actually had a start of an API to do this, ten years ago

[12:28:11.0000] <matjas>
annevk: alright, i’ll go ahead and file a bug for it (in an attempt to keep the discussion in one place)

[12:28:14.0000] <matjas>
annevk: https://www.w3.org/Bugs/Public/show_bug.cgi?id=24104


2013-12-16
[21:21:43.0000] <MikeSmith>
Hixie: which API was that? (for creating new custom <input type=> values)

[21:32:08.0000] <Hixie>
MikeSmith: which, the web controls one or the web components one?

[21:33:19.0000] <MikeSmith>
Hixie: I mean the web controls one

[21:33:30.0000] <Hixie>
http://www.whatwg.org/specs/web-controls/current-work/

[21:34:09.0000] <Hixie>
(defunct now, aria basically made it moot. unfortunately, aria solved the problem in a far less compelling way.)

[21:34:23.0000] <MikeSmith>
/me looks

[21:34:57.0000] <MikeSmith>
wow

[21:35:09.0000] <MikeSmith>
dunno if I ever saw this spec before

[21:35:18.0000] <MikeSmith>
if I did I forgot

[21:36:08.0000] <Hixie>
it would have solved the custom controls problem and the accessibility problem in one fell swoop while simultaneously preventing the conflicting state problem that ARIA brought us

[21:36:42.0000] <Hixie>
you can tell how old that spec is, it still uses respec-style formatting for interface members :-)

[21:36:51.0000] <MikeSmith>
heh

[21:37:50.0000] <Hixie>
bed time, bb in a few hours :-)

[21:38:01.0000] <MikeSmith>
nn

[23:21:03.0000] <dekiss>
Good morning GGO BUILD THE WEEEEEEEEEEEEB!!!

[01:28:27.0000] <ondras>
Domenic_: ?

[01:36:34.0000] <ondras>
well, probably anyone else can answer

[01:36:52.0000] <ondras>
is "catch" a wise name for a promise's method? is "catch" generally a suitable JS function name, being a reserved word?

[04:28:43.0000] <MikeSmith>
can anybody figure out what https://www.w3.org/Bugs/Public/show_bug.cgi?id=24111 is asking for?

[04:34:21.0000] <jgraham>
MikeSmith: Yeah. They want li {color:green} type rules to also turn the marker green

[04:34:43.0000] <MikeSmith>
ah

[04:34:44.0000] <ondras>
which somewhat makes sense if you ask me

[04:34:55.0000] <ondras>
a pseudoclass would be also reasonable

[04:34:57.0000] <MikeSmith>
that's what he means by "inherit"

[04:35:02.0000] <MikeSmith>
I guess

[04:35:05.0000] <ondras>
yeah

[04:36:07.0000] <jgraham>
It might make sense, but presumably it isn't backward compatible

[04:36:12.0000] <MikeSmith>
oh, "CKEditor Project Lead"

[04:36:26.0000] <MikeSmith>
anyway it's a CSS issue issn't it?

[04:36:30.0000] <ondras>
that's why he mentioned a special property for turning this feature on

[04:36:31.0000] <jgraham>
Yes

[04:40:39.0000] <MikeSmith>
doesn't CKEditor has some problems? like doing some kind of stupid stuff and they refuse to fix it?

[04:41:12.0000] <ondras>
even if they did, is that relevant for considering a feature request? :)

[04:43:50.0000] <MikeSmith>
well I'm not considering it anyway

[04:55:56.0000] <Ms2ger>
Wasn't it CKEditor that used element.all?

[04:56:34.0000] <gsnedders>
Ms2ger: Amongst other things

[04:56:42.0000] <gsnedders>
CKEditor does lots of evil stuff, from memory

[04:57:59.0000] <jgraham>
/me cries

[04:58:05.0000] <jgraham>
I hate the web

[04:58:09.0000] <jgraham>
Well specifically

[04:58:23.0000] <jgraham>
I hate that thing where you develop something that works fine in one browser

[04:58:28.0000] <jgraham>
and fails in all others

[04:58:36.0000] <jgraham>
Without so much as an error on the console

[05:03:41.0000] <Ms2ger>
Sounds like the web alright

[05:05:24.0000] <gsnedders>
WEB 3.0!

[05:05:35.0000] <jgraham>
Oh

[05:05:39.0000] <jgraham>
It was all my fault

[05:05:46.0000] <jgraham>
Come back web, all is forgiven

[05:20:21.0000] <zcorpan>
jgraham: that doesn't appear to be what they want. li {color:green} already makes the marker green. They want <li><font color=green>foo</font> to make the marker green

[05:20:56.0000] <odinho>
lol

[05:20:58.0000] <odinho>
crazy

[05:22:06.0000] <jgraham>
zcorpan: Oh

[05:25:56.0000] <annevk>
ondras: catch is no longer reserved

[05:34:04.0000] <jgraham>
http://hoppipolla.co.uk/410/workers.html

[05:34:26.0000] <jgraham>
based on an adaptation of Ms2ger's test runner and a script to create reports from JSON

[05:34:57.0000] <jgraham>
Not finished yet obviously, but better than editing a wiki page I think

[05:35:45.0000] <MikeSmith>
hell yeah

[05:35:56.0000] <MikeSmith>
this is great

[05:36:28.0000] <Ms2ger>
Mine had neat colours ;)

[05:37:01.0000] <jgraham>
Ms2ger: Funny, I wa just going to say that someone should do the visual design

[05:37:30.0000] <jgraham>
Because it turns out that a) I suck at it and b) I get to trying to do it and want to scoop my own eyes out

[05:37:54.0000] <jgraham>
https://github.com/w3c/web-platform-tests/commit/4f68f6e66ab2ec1b62a2d8c035e845f35707346d is the code (jgraham/runner branch in web-platform-tests)

[05:38:07.0000] <Ms2ger>
The one thing that would be nice is having lines between the tests

[05:38:22.0000] <Ms2ger>
s/tests/test files/

[05:38:30.0000] <MikeSmith>
I think it's fine as-is

[05:38:31.0000] <jgraham>
Yeah, sure there are simple things I could do that would make it not obviously terrible

[05:38:46.0000] <MikeSmith>
reading test results should be hard and challenging

[05:38:52.0000] <jgraham>
Heh

[05:39:45.0000] <jgraham>
/me will go into the office now

[05:40:25.0000] <Ms2ger>
Isn't it, like, afternoon there?

[05:40:35.0000] <annevk>
he missed mozlunch

[05:41:19.0000] <annevk>
not many people around

[05:41:33.0000] <Ms2ger>
<meta charset="utf8"></meta>

[05:41:41.0000] <annevk>
so close

[05:44:33.0000] <annevk>
Ah, I already analyzed gbk vs gb18030 before!

[05:44:35.0000] <annevk>
hsivonen: http://lists.w3.org/Archives/Public/www-archive/2012Apr/0030.html

[05:44:45.0000] <ondras>
annevk: ah, I guess I need to update my version of google chrome compiler then...

[05:44:52.0000] <annevk>
It seems I just draw conclusions that were wrong for gb18030 UTFness.

[05:46:04.0000] <annevk>
In fact, if I use Firefox' gb18030 table I think that will make gb18030 a UTF and we can still use it for gbk (and just make gbk an alias for gb18030)

[05:50:57.0000] <gsnedders>
Isn't taht what some browser already does?

[05:54:25.0000] <annevk>
Presto had something close to that

[05:54:33.0000] <annevk>
But still had a flag, as seen in the Encoding Standard

[05:54:43.0000] <annevk>
However, in Presto gb18030 was not a UTF

[05:55:18.0000] <gsnedders>
What stops it from being a UTF in Presto/Chrome?

[05:56:25.0000] <annevk>
In Chrome gb18030 is a UTF.

[05:56:37.0000] <annevk>
In Presto a bunch of two-byte sequences does not map to PUA

[05:59:37.0000] <darobin>
given how often people will have to do template.content.cloneNode(true), with the likelihood of getting it wrong, I wonder if we shouldn't have a template.instance() method that just sugars that

[06:01:37.0000] <Ms2ger>
jgraham, want to send me the results for workers so I can test changes?

[06:06:18.0000] <reggna>
So, how do I remove a TextTrack from a TextTrackList?

[06:08:35.0000] <annevk>
reggna: looks like you don't

[06:08:49.0000] <reggna>
Yea, I can't find anything either.

[06:09:08.0000] <reggna>
There's an event though.

[06:09:21.0000] <annevk>
reggna: well if you remove e.g. the corresponding <track> element

[06:09:34.0000] <annevk>
reggna: but if they're all internal to the resource I don't think you can manipulate them

[06:19:12.0000] <reggna>
I'm a bit saddened over this.

[06:19:26.0000] <reggna>
But thanks for the quick answer, annevk. : )

[06:19:50.0000] <annevk>
reggna: if you have a use case, file a bug

[06:19:58.0000] <annevk>
reggna: best way to get a new feature

[06:20:52.0000] <reggna>
Yea, my use case is "this would be very convenient for my test case". : P

[06:21:14.0000] <reggna>
So not that valid, unfortunately.

[06:30:02.0000] <annevk>
hah

[06:48:41.0000] <jgraham>
Ms2ger: Specially ofr you I have amde it really ugly so that someone is forced to improve the style

[06:49:06.0000] <jgraham>
Ms2ger: Do you want the json files?

[06:49:27.0000] <Ms2ger>
jgraham, whatever the input to report.py is

[06:52:36.0000] <jgraham>
Ms2ger: http://hoppipolla.co.uk/410/workers/

[06:53:23.0000] <Ms2ger>
Thanks

[07:07:06.0000] <Ms2ger>
Uh: https://github.com/w3c/web-platform-tests/blob/76e0d1ba75c95f95cb6e24c42f84c15ca18c39ef/workers/WorkerGlobalScope_removeEventListener.htm#L45

[07:09:33.0000] <annevk>
IE10 doesn't support overrideMimeType?!

[07:09:37.0000] <annevk>
Bah

[07:11:43.0000] <Ms2ger>
jgraham, r? https://pastebin.mozilla.org/3789796

[07:15:07.0000] <jgraham>
Ms2ger: Fancy merging that with the change I just pushed?

[07:15:24.0000] <jgraham>
(We have some of the same bugfixes at least)

[07:16:10.0000] <Ms2ger>
cellspacing=0?

[07:16:20.0000] <jgraham>
:p

[07:16:47.0000] <jgraham>
I was on a train and couldn't remember the right kind of CSS

[07:18:12.0000] <Ms2ger>
Did you also forget to add report.css?

[07:19:29.0000] <jgraham>
Probably :)

[07:20:04.0000] <jgraham>
Added

[07:20:35.0000] <Ms2ger>
Ta

[07:27:03.0000] <Ms2ger>
jgraham, how about now? https://pastebin.mozilla.org/3789871

[07:31:37.0000] <jgraham>
Ms2ger: Would be nice to add the style to the stylesheet.

[07:31:59.0000] <jgraham>
Not sure about the use of multiple <tbody>, but I guess it works

[07:32:37.0000] <jgraham>
Something has crashed so I can't scroll and see the rest of the patch. Or switch applications

[07:32:55.0000] <Ms2ger>
What do you mean about adding style to the stylesheet?

[07:33:41.0000] <jgraham>
Oh, I misread

[07:33:58.0000] <jgraham>
And I can scroll by mouse

[07:34:04.0000] <jgraham>
s/mpouse/keyboard/

[07:34:32.0000] <jgraham>
Sure, that looks fine

[07:34:35.0000] <jgraham>
please push

[07:36:47.0000] <Ms2ger>
/me pushes

[07:39:24.0000] <Ms2ger>
Oh, tobie's fellowship is ending?

[07:39:42.0000] <jgraham>
Yup

[07:39:51.0000] <jgraham>
Although I don't know what the cpntext is

[07:43:21.0000] <tobie>
Ms2ger: yup, in two weeks.

[07:45:50.0000] <gsnedders>
tobie: And I presume nobody will properly take over what you were doing? :(

[07:48:24.0000] <tobie>
gsnedders: well, unfortunately, no W3C member(s) stepped up to continue funding this effort further so far, so answer is "no" for the time being. :(

[07:50:48.0000] <Ms2ger>
Someone talk to dbaron? :)

[07:56:37.0000] <annevk>
The W3C should reshuffle its Staff a bit

[07:56:46.0000] <annevk>
plenty of people there...

[08:03:05.0000] <jgraham>
Dammit

[08:03:27.0000] <jgraham>
Now I want to post the example implementation report thing to webapps and public-test-infra

[09:10:45.0000] <MikeSmith>
this window.find() opening up a "find in page" control, I seem to remember reading about it in bugzilla or a mailing list recently but I can't remember where

[09:39:27.0000] <jgraham>
MikeSmith: webapps, I think?

[09:45:28.0000] <MikeSmith>
jgraham: ok

[09:48:03.0000] <MikeSmith>
this whole standards-discussion stuff is so time consuming

[09:49:25.0000] <MikeSmith>
I think we should all skip it and just unilaterally mint stuff in the browser engines that we all ship for iOS

[09:51:34.0000] <annevk>
zewt: but what if there's an IO error

[09:51:47.0000] <annevk>
zewt: if you're saying it should just stop reading at that point, I think we're in agreement

[09:52:02.0000] <annevk>
zewt: which is why I said we need an underlying model

[09:52:50.0000] <MikeSmith>
/me re-finds the "browser search api" thread

[09:53:17.0000] <zewt>
annevk: not sure what you mean

[09:53:35.0000] <zewt>
if there's a *real* IO error (user ejects the DVD holding the file the blob points to), yeah, there's an error

[09:53:51.0000] <annevk>
zewt: uhuh

[09:53:58.0000] <zewt>
but I don't think calling close() should cause any new IO errors to be called on fetches already in progress

[09:53:59.0000] <annevk>
zewt: that's what we were talking about

[09:54:06.0000] <annevk>
zewt: we were talking beyond close()

[09:54:06.0000] <zewt>
no, we're talking about close()

[09:54:12.0000] <annevk>
no

[09:54:26.0000] <jgraham>
maybe?

[09:55:04.0000] <zewt>
uh, the whole subthread is about "you can close() a Blob ... shouldn't affect the running operation"

[09:55:37.0000] <annevk>
yeah, but sicking specifically asked about IO errors to see if we can apply that to what should happen for close()

[09:55:44.0000] <annevk>
I said I had no idea what happened for IO errors (crash)

[09:56:19.0000] <zewt>
well I'm saying that close() shouldn't cause IO errors for stuff already in progress before you called close

[09:57:00.0000] <annevk>
-_-

[09:57:06.0000] <zewt>
...

[09:57:35.0000] <annevk>
I mean that much was already established early on

[09:57:42.0000] <annevk>
That's not really the interesting bit

[09:58:06.0000] <annevk>
Anyway, euc-kr

[09:58:15.0000] <zewt>
the only thing that was established early on is "this is underspecified"

[09:58:37.0000] <zewt>
(and also anyway, time to get back to my actual work...)

[10:24:55.0000] <Domenic_>
So <dialog> is still show()/close()?

[10:25:45.0000] <annevk>
Domenic_: yes

[10:26:05.0000] <Domenic_>
despite the web dev feedback that that was crazy-sauce?

[10:30:41.0000] <annevk>
Domenic_: feedback where? I remember you discussed it here with Hixie and he ended up reaching the conclusion that there was no good alternative

[10:30:58.0000] <Domenic_>
annevk: http://updates.html5rocks.com/2013/09/dialog-element-Modals-made-easy#disqus_thread

[10:31:57.0000] <jgraham>
Domenic_: There is an open bug on the issue

[10:32:10.0000] <jgraham>
Why would you assume it will be ignored?

[10:32:26.0000] <annevk>
Domenic_: see end of http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Sep/0230.html

[10:32:29.0000] <Domenic_>
jgraham: I guess because Chrome keeps on chugging away at implementation.

[10:32:34.0000] <annevk>
jgraham: well it's filed against W3C HTML

[10:32:45.0000] <annevk>
jgraham: the one filed against WHATWG HTML is marked WFM

[10:32:54.0000] <annevk>
with a reference to that email I just mentioned

[10:32:58.0000] <jgraham>
annevk: Fair point. Sucks to have them fork the spec

[10:33:19.0000] <Domenic_>
jgraham: also because of the thread annevk just linked to

[10:34:14.0000] <jgraham>
Domenic_: That is a reasonable answer

[10:34:45.0000] <annevk>
Domenic_: that does not mean ignored though

[10:34:47.0000] <jgraham>
Anyway I think Hixie is wrong and it should be show/hide

[10:35:12.0000] <jgraham>
But this is way down the list of problems on the platform

[10:35:37.0000] <jgraham>
(well actually I think it should be open/close, but it seemed like there might be a more reasonable reason to avoid "open")

[10:36:54.0000] <annevk>
open="" and open() don't go together

[10:42:30.0000] <annevk>
Domenic_: as in, it seems to have been considered and no real viable alternative was proposed that was obviously better

[11:03:34.0000] <Hixie>
i definitely considered the open/close/show/hide thing. did a ton of research for it to figure out what to change it to. was surprised by the result, which was that the spec already matched most platforms.

[13:02:14.0000] <rdebeasi>
From the perspective of an author, many existing JS frameworks implement show/hide rather than show/close for similar behavior.

[13:45:11.0000] <Hixie>
rdebeasi: i actually looked for data to support that, but couldn't find any that isn't listed in that e-mail. if you do have data i missed, please do reply to that e-mail giving the new data :-)

[13:45:16.0000] <Hixie>
(though it might be too late by now)

[13:48:48.0000] <rdebeasi>
Sure, will do! It certainly couldn't hurt.

[13:59:26.0000] <annevk>
https://twitter.com/WTFMarketing/status/412616169850281984 :-)

[14:44:29.0000] <zcorpan>
now i have 100 tests on \u00E5 in the query of a url

[14:45:21.0000] <zcorpan>
someone: pls review

[14:50:41.0000] <zcorpan>
hmm, in 5 different encodings, so i guess 500 tests

[14:55:11.0000] <annevk>
zcorpan: should this really be in the HTML directory?

[14:55:55.0000] <zcorpan>
annevk: http://www.whatwg.org/specs/web-apps/current-work/multipage/urls.html#resolving-urls is in the html spec

[14:56:52.0000] <zcorpan>
annevk: i guess the css tests don't belong, but oh well

[14:57:22.0000] <annevk>
not a big fan of how Hixie deals with URLs

[14:57:25.0000] <annevk>
hmm

[14:58:51.0000] <annevk>
/me files https://www.w3.org/Bugs/Public/show_bug.cgi?id=24119

[14:59:15.0000] <Hixie>
/me isn't a big fan of it either

[15:02:29.0000] <annevk>
Sorry, no concrete suggestions yet

[15:02:43.0000] <Hixie>
did the parse error thing change?

[15:02:50.0000] <annevk>
Maybe in half a decade or so

[15:02:50.0000] <Hixie>
i seem to recall asking you about it when i wrote it

[15:02:56.0000] <annevk>
No, that's always been this way

[15:03:11.0000] <Hixie>
huh

[15:03:11.0000] <Hixie>
k

[15:03:55.0000] <Hixie>
btw you should say in the paragraph that dfns "URL parser" that it could return failure

[15:04:31.0000] <zcorpan>
annevk: btw some things don't use utf-8 that maybe could, like workers, EventSource

[15:04:55.0000] <zcorpan>
i also noticed that blink doesn't do XMLDocument#load

[15:05:00.0000] <annevk>
you mean new Worker?

[15:05:04.0000] <zcorpan>
right

[15:05:13.0000] <annevk>
workers themselves should already be utf-8-only

[15:05:13.0000] <Hixie>
(fixed, btw)

[15:05:21.0000] <annevk>
ta

[15:05:28.0000] <Hixie>
annevk: any idea on https://www.w3.org/Bugs/Public/show_bug.cgi?id=23892 ?

[15:05:50.0000] <annevk>
Hixie: I would not expect me to convince TC39 anytime soon

[15:06:15.0000] <annevk>
Hixie: the way they operate would make it largely my task to get the work done since nobody else is really keen on doing it

[15:06:38.0000] <annevk>
Hixie: and given other issues I can't say it's much of a priority

[15:06:53.0000] <zcorpan>
annevk: https://www.w3.org/Bugs/Public/show_bug.cgi?id=23822 https://www.w3.org/Bugs/Public/show_bug.cgi?id=23823

[15:07:04.0000] <annevk>
Whereas I think getting Map/Set support there would be good

[15:08:02.0000] <annevk>
zcorpan: the output of http://damowmow.com/playground/tests/urls/001.html is weird

[15:08:20.0000] <annevk>
zcorpan: in Gecko anyway

[15:08:25.0000] <annevk>
zcorpan: seems buggy for ws:

[15:08:48.0000] <Hixie>
annevk: should i just define it in HTML then?

[15:08:58.0000] <annevk>
Hixie: I guess for now :/

[15:09:01.0000] <Hixie>
k

[15:09:05.0000] <Hixie>
any idea what it should say?

[15:09:48.0000] <zcorpan>
annevk: ws.url in gecko just returns what was passed to teh constructor

[15:09:55.0000] <annevk>
ouch

[15:10:23.0000] <annevk>
Hixie: I think you create a new Map and then copy [[MapData]] or some such

[15:10:28.0000] <annevk>
Hixie: prolly similar for Set

[15:10:43.0000] <Hixie>
k

[15:10:46.0000] <annevk>
Hixie: [[SetData]]

[15:10:57.0000] <zcorpan>
annevk: the smile isn't encode-able in the document's encoding so gecko uses utf-8 while blink uses the <form> way and i guess IE would replace it with a ? and the spec requires %3F

[15:11:07.0000] <zcorpan>
iirc

[15:11:47.0000] <hober>
Hixie annevk: note https://bugs.webkit.org/show_bug.cgi?id=120654

[15:12:19.0000] <annevk>
omg no prefix used by olliej

[15:12:26.0000] <annevk>
(see #jslang for context)

[15:12:37.0000] <annevk>
(see also es-discuss for context)

[15:13:33.0000] <annevk>
zcorpan: hmm

[15:13:56.0000] <Hixie>
hober: thanks

[15:16:24.0000] <annevk>
zcorpan: yeah, need to look at that shit again at some point and see if we can always use the <form> way rather than the <form> way and ?

[15:16:48.0000] <annevk>
zcorpan: I reopened the bugs on the grounds that encoding override is for certain legacy APIs only, not even XMLHttpRequest uses it

[15:17:20.0000] <zcorpan>
annevk: ok

[15:17:45.0000] <Hixie>
boo, giving me more work

[15:18:46.0000] <Hixie>
doesn't this all mean that if you take a <Script src=""> and stick it into new Worker() you'll get a different URL?

[15:18:50.0000] <Hixie>
that seems bad

[15:20:05.0000] <annevk>
not using utf-8 is bad

[15:20:19.0000] <Hixie>
zcorpan: i fixed https://www.w3.org/Bugs/Public/show_bug.cgi?id=24088 (script error in worker); let me know if it's not compatible enough

[15:20:24.0000] <zcorpan>
you usually can't take an existing .js file and stick it into new Worker anyway

[15:20:36.0000] <annevk>
especially not if it's not utf-8

[15:20:38.0000] <Hixie>
(not that i can really see how someone would be depending on a worker failing to run in a particular way, but you never know)

[15:21:26.0000] <annevk>
I think the problem is that currently you need to override to use utf-8 with your setup

[15:21:34.0000] <annevk>
whereas that could have been the default

[15:21:38.0000] <annevk>
and therefore less work

[15:22:14.0000] <zcorpan>
Hixie: LGTM, thanks

[15:24:45.0000] <Hixie>
dglazkov: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=24106

[15:25:51.0000] <Hixie>
annevk: so i don't really understand why we'd want one place to not do this when literally dozens of other places in HTML do do it

[15:26:07.0000] <Hixie>
annevk: i understand that we don't like it, but being inconsistent seems far worse than having this sketchy behaviour

[15:26:38.0000] <annevk>
we are already inconsistent

[15:26:47.0000] <annevk>
and every new API should not do it

[15:26:54.0000] <Hixie>
why?

[15:27:00.0000] <annevk>
meaning there's a few exceptions in the end, such as <a> and location

[15:27:07.0000] <Hixie>
it's not a "few exceptions"

[15:27:11.0000] <Hixie>
there's literally dozens of them

[15:27:19.0000] <Hixie>
just in HTML

[15:27:39.0000] <annevk>
there's nothing outside of HTML that needs this; note that this is only about the query parameter

[15:27:53.0000] <annevk>
and only if you're not using utf-8 or utf-16

[15:28:26.0000] <annevk>
as I explained in an email somewhere it's already a very large footgun to not use utf-8

[15:29:26.0000] <annevk>
on top of all that the query parameter handling is a bug and inconsistent with how URLs are used elsewhere, and given that we're already inconsistent I don't see a reason to propagate it further

[15:30:01.0000] <annevk>
if all our APIs did this, mkay, but XMLHttpRequest does not, CSS does not, SVG does not

[15:30:50.0000] <annevk>
so making the query encoding override thing the exception is better, because it means we have less places in the long to test for this weirdness

[15:30:51.0000] <Hixie>
html. base. link. style. script. a href="" and ping="". cite="". img src and srcset. iframe. frame. embed. object. applet. video. track. source. src="" on <input type=image>, icon="". microdata's use of the aforementioned. window.open. location.*. pushState() and replaceState(). showModalDialog(). register*Handler(). external.AddSearchProvider(). drag and drop's use of some of the aforementioned.

[15:31:00.0000] <Hixie>
that's just the ones i could find in the HTML spec, i'm sure i missed some.

[15:32:10.0000] <Hixie>
video poster=""

[15:32:19.0000] <Hixie>
audio.

[15:33:17.0000] <zcorpan>
hmm i haven't tested window.open, location, pushState, replaceState

[15:33:35.0000] <Hixie>
WebSocket is a new protocol, so using UTF-8 there makes sense. CSS is a separate language, so using UTF-8 there makes sense (is that really implemented?). SVG does everything different anyway (and does it really do this differently?).

[15:33:55.0000] <Hixie>
and similarly inside Workers it makes sense to say the context is utf-8.

[15:34:15.0000] <Hixie>
but the others, i don't see why we'd be inconsistent.

[15:34:27.0000] <Hixie>
e.g. EventSource and Worker constructors.

[15:34:42.0000] <annevk>
I would expect those to work similar to XHR

[15:34:52.0000] <Hixie>
yeah, XHR being different makes no sense to me

[15:35:00.0000] <annevk>
also, many of the new contexts above could use utf-8

[15:35:42.0000] <Hixie>
i think inconsistency is far more of a problem than poor design decisions

[15:35:59.0000] <Hixie>
with a consistent quirky interface, you learn the quirk and then you laugh about it while working around it

[15:36:12.0000] <Hixie>
with an inconsistent interface, you spend all your time cursing that you can never guess what's going to happen

[15:37:09.0000] <annevk>
that's what happens when you don't use utf-8

[15:37:13.0000] <annevk>
not just for urls

[15:37:31.0000] <annevk>
i don't really see the big deal, non-utf-8 is already broken

[15:38:54.0000] <Hixie>
indeed, i don't really see the big deal either, non-utf-8 is already broken :-)

[15:39:00.0000] <Hixie>
so let's at least keep it consistent :-)

[15:40:17.0000] <annevk>
it's already not consistent and given we'll forever add more APIs that take URLs, it seems better to keep it contained

[15:40:25.0000] <annevk>
about consistent quirks...

[15:40:26.0000] <annevk>
<script id=x>w(document.querySelector("#X") !== document.getElementById("X"))</script>

[15:40:57.0000] <zcorpan>
blink uses document's encoding for XHR. gecko uses utf-8 for EventSource

[15:41:31.0000] <Hixie>
annevk: "contained" = "inconsistent". it's better to keep it uniform than have a small subset of things that are different.

[15:41:44.0000] <Hixie>
annevk: especially when the ones that are different are the most used ones, like <a href>.

[15:42:20.0000] <Hixie>
not sure what the relevance of that id=x example is; the presence of things in the web platform that are inconsistent isn't an argument for adding more.

[15:44:52.0000] <annevk>
Hixie: I guess if you think we can still get it uniform I might be up for trying that

[15:45:30.0000] <annevk>
Hixie: would be interesting to hear what others have to say about it

[15:47:21.0000] <zcorpan>
seems like it should be possible

[15:50:41.0000] <annevk>
though if we decide that e.g. CSS should be sane, you get these silly crossover APIs... oh well

[15:50:46.0000] <annevk>
it'll be messy either way

[15:57:42.0000] <zcorpan>
if we want consistent we can make css use the style sheet's encoding


2013-12-17
[16:07:19.0000] <Hixie>
have CSS always be UTF-8 is fine, it's just its own language

[16:07:40.0000] <Hixie>
i think it's a lot easier to understand that CSS does it a different way than HTML, than it is that HTML does it differently than HTML

[16:13:37.0000] <zcorpan>
i'm not sure many people think in terms of "this is CSS" and "this is HTML"

[16:15:17.0000] <zcorpan>
anyway, past bed time

[17:57:02.0000] <gsnedders>
I guess someone should update the outliner after the changes.

[20:49:22.0000] <Hixie>
gsnedders: this causes a crash currently: <doctype html><title>T</title><h1>1...</h1><section>implied</section><figure>figure</figure><h2>2...</h2><h2>3...</h2>

[22:06:32.0000] <MikeSmith>
I'll update the outline feature in the validator

[22:23:28.0000] <MikeSmith>
Hixie: have you commented on Client Hints anywhere yet?

[23:01:05.0000] <MikeSmith>
push notifications.

[01:33:53.0000] <hsivonen>
annevk-cloud: considering how popular IE is in China, it would probably be relevent to test IE6...11. If you have a test page that automatically dumps the test result in a copy-pasteable form, I can run it in IE6...11

[01:34:28.0000] <hsivonen>
annevk-cloud: anyway, seems awesome of we can use the kind of GB18030 decoder Firefox already has *and* have it be an UTF

[04:56:15.0000] <annevk-cloud>
The problem with my page is that it does not work in IE

[04:56:40.0000] <annevk-cloud>
I can fix that tomorrow so we can be thorough

[05:30:42.0000] <DeTeam>
Hey! Is there anyone who's familiar with http://www.w3.org/TR/css3-grid-layout ? :)

[05:31:23.0000] <Ms2ger>
itym http://dev.w3.org/csswg/css-grid/

[05:31:24.0000] <jgraham>
Not that is likely to be awake at the moment, I think

[05:31:32.0000] <Ms2ger>
So TabAtkins

[05:31:37.0000] <jgraham>
But yes, also /TR/ -> out of date

[05:32:41.0000] <DeTeam>
wow, didn't know about the draft

[05:32:49.0000] <DeTeam>
we've got a huge timeshift, I guess

[05:33:38.0000] <DeTeam>
TabAtkins seem to be offline now :(

[05:34:40.0000] <DeTeam>
is there a huge difference between the TR and the draft? only three months gone

[05:37:02.0000] <jgraham>
Three months is a long time in web standards

[05:37:06.0000] <DeTeam>
Ms2ger: are you going to implement grids in servo? ;)

[05:37:07.0000] <jgraham>
Or can be at least

[05:37:45.0000] <Ms2ger>
I don't think so :)

[05:37:47.0000] <Ms2ger>
Will you?

[05:38:03.0000] <DeTeam>
I don't do rust (%

[05:38:35.0000] <jgraham>
/me looks forward to servo being the only browser that doesn't support forms, but does support grid

[05:38:45.0000] <DeTeam>
jgraham: got it.. so it's all about slow implementations

[05:38:50.0000] <zcorpan>
DeTeam: did you have a question about it? (i'm not really familiar with it, but here it might be best to just ask the question and then wait)

[05:39:01.0000] <DeTeam>
people don't need forms, grids are fine )

[05:39:34.0000] <Ms2ger>
Forms are hard

[05:39:40.0000] <DeTeam>
zcorpan: yes, a few, the algorithm described in section 11 is not very clear for me

[05:39:53.0000] <Ms2ger>
Clearly we should get webcomponents first

[05:40:05.0000] <Ms2ger>
Then people can polyfill input type=text

[05:41:24.0000] <DeTeam>
I'll check the dev spec and the post my questions, thanks

[05:41:25.0000] <zcorpan>
DeTeam: it's just missing a reference to Your Imagination. T. Atkins.

[05:46:21.0000] <DeTeam>
zcorpan: http://dev.w3.org/csswg/css-grid/#function-ResolveContentBasedTrackSizingFunctions-algorithm step 1 says the we should filter out items with span>1 (e.g. 2) and cross a flex-sized grid track. In any direction (both rows, cols) or depending on current direction (if so - how)?

[05:46:39.0000] <DeTeam>
http://dev.w3.org/csswg/css-grid/#adapting-to-available-space - shouldn't the big area in fig 2 and 3 be excluded?

[06:01:36.0000] <zcorpan>
DeTeam: i'd recommend you file bugs https://www.w3.org/Bugs/Public/enter_bug.cgi?product=CSS&component=Grid+Layout

[06:03:21.0000] <DeTeam>
Not sure those a bugs, just wondering how things should work (before trying to implement that grid layouting)

[06:03:28.0000] <DeTeam>
those are*

[06:04:07.0000] <DeTeam>
zcorpan: mb I should wait for Tab to get online

[06:04:46.0000] <zcorpan>
DeTeam: it's a bug that the spec isn't clear to you :-)

[06:06:20.0000] <DeTeam>
zcorpan: hm, may be. I'll do this after chat with Tab or other authors

[06:06:43.0000] <gsnedders>
Ms2ger: Oh please do imploement web components first. It would be beautiful.

[06:15:54.0000] <DeTeam>
gsnedders: is there webcomponents introduction talk, the one from google i/o?

[06:20:51.0000] <gsnedders>
DeTeam: No idea :)

[06:32:46.0000] <Ms2ger>
gsnedders, patches welcome :D

[06:34:05.0000] <rdebeasi>
DeTeam, this one? https://www.youtube.com/watch?v=fqULJBBEVQE

[06:34:50.0000] <DeTeam>
rdebeasi: seem so

[06:37:20.0000] <darobin_>
DeTeam: depending on what you're looking for there's also the explainer document

[06:37:33.0000] <darobin_>
(though it's more or less 50% science fiction and 50% out of date :)

[06:38:10.0000] <DeTeam>
darobin: doc on css grids?

[06:38:27.0000] <darobin>
DeTeam: no, sorry, I meant for Web Components

[06:39:04.0000] <darobin>
IIRC there are several docs on CSS grids but they're all out of date with this week's version :)

[06:39:14.0000] <DeTeam>
darobin: ah, heard about it for the first time, just scheduling stuff to read/watch later

[06:39:34.0000] <darobin>
DeTeam: there's this http://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html

[06:40:17.0000] <DeTeam>
darobin: yeah, already found it, thanks ;)

[07:32:07.0000] <jgraham>
darobin: You look bored! How about some code review? ;)

[07:32:16.0000] <darobin>
oh dear

[07:32:38.0000] <darobin>
jgraham: which one?

[07:33:42.0000] <jgraham>
https://critic.hoppipolla.co.uk/r/440

[07:34:48.0000] <Ms2ger>
Or 368

[07:35:39.0000] <Ms2ger>
Yes, I know the number by now

[07:36:43.0000] <jgraham>
364, 368, 440: the holy trinity of review requests

[07:43:45.0000] <darobin>
jgraham: on the face of it it looks good, but you know I'm no Python wizz

[07:44:01.0000] <darobin>
but from a quick scan it looks sane and seems to DTRT

[07:44:23.0000] <jgraham>
darobin: Hmm, I guess I will get someone else to review in more detail then :)

[07:44:25.0000] <jgraham>
Thanks

[07:44:55.0000] <darobin>
jgraham: yeah, I mean, I'm happy to review things but I can only do so sensibly in terms of use cases really

[07:45:04.0000] <darobin>
and this seems to be the tool I'd want to use

[07:45:12.0000] <jgraham>
BTW, if you actually *are* bored at any point maybe you would consider improving the test runner in the jgraham/runner branch

[07:45:21.0000] <darobin>
but if you're doing something stupid in Python, it's not obvious to me :)

[07:45:21.0000] <jgraham>
(no review yet)

[07:45:40.0000] <darobin>
I am bored, but sadly it's with something I have to do

[07:45:54.0000] <darobin>
I hope to get rid of it today though, so I might be the right kind of bored tomorrow :)

[07:46:24.0000] <Ms2ger>
Run away?

[07:46:33.0000] <darobin>
I need to get the runner working for HTML anyway

[07:47:22.0000] <jgraham>
Well I think it works, it just needs polish

[07:47:47.0000] <jgraham>
Someone that doesn't produce eye-bleedingly awful designs

[07:50:04.0000] <Ms2ger>
So at least you copied the design from me? :)

[07:50:25.0000] <jgraham>
I may even have made it worse :)

[07:50:49.0000] <Ms2ger>
That sounds implausible :)

[07:52:16.0000] <jgraham>
I dunno, I don't think you will like the way that reftests work now, for example. The Grand Design requires that there are keyboard shortcuts, but I didn't get as far as implementing them

[07:52:44.0000] <Ms2ger>
Did you put the runner online somewhere?

[07:53:03.0000] <Ms2ger>
Though I guess I already managed to checkout the branch

[07:53:55.0000] <Ms2ger>
Oh, hrm

[07:53:58.0000] <jgraham>
It uses the local server

[07:54:12.0000] <Ms2ger>
And your manifest, I guess

[07:54:15.0000] <jgraham>
Yes

[07:54:43.0000] <jgraham>
Thats just another reason r/440 needs some lovw

[07:54:45.0000] <Ms2ger>
Does it support running a subset of the tests?

[07:54:46.0000] <jgraham>
*love

[07:55:00.0000] <jgraham>
Yes, you can specify a url prefix to match

[07:55:07.0000] <jgraham>
e.g. /workers

[07:55:35.0000] <Ms2ger>
Okay, not going to bother setting it up locally right now, then

[07:57:45.0000] <jgraham>
Yeah, this will be easier once the three reviews above land. That's why I didn't even create a review for the test runner yet

[08:01:46.0000] <darobin>
I really like the number of times I can get PhantomJS to crash by having it run through the test suite

[08:56:16.0000] <MikeSmith>
annevk-cloud: is there a mozilla bug for the Streams API other than https://bugzilla.mozilla.org/show_bug.cgi?id=891286

[09:01:52.0000] <MikeSmith>
or Mozilla discussion somewhere about Domenic's draft?

[09:02:31.0000] <MikeSmith>
Domenic_: ↑

[09:03:29.0000] <MikeSmith>
Domenic_: or discussion anywhere else I might have missed? a Chrome bug?

[09:04:02.0000] <MikeSmith>
I guess I need to look back at the public-webapps discussion

[09:05:43.0000] <MikeSmith>
/me finds https://code.google.com/p/chromium/issues/detail?id=240603

[09:05:44.0000] <Domenic_>
MikeSmith: marcosc is involved, since e.g. he's using whatwg/streams in Serial API and I think one other place.

[09:05:57.0000] <MikeSmith>
Domenic_: OK

[09:06:12.0000] <Domenic_>
MikeSmith: we still need to have everyone get together and have a conversation and iron out some differences...

[09:08:39.0000] <MikeSmith>
Domenic_: as far as ironing out the differences, it seems like the approach in Yoshino-san's draft and yours aren't reconcilable, right?

[09:10:03.0000] <tobie>
/me wishes we could just pave the node cow-path here (learn from their initial mistakes) and move on.

[09:11:24.0000] <Domenic_>
MikeSmith: agree... but, would be better not to have two competing standards.

[09:11:31.0000] <Domenic_>
tobie: yeah, that's what whatwg/streams tries to do.

[09:12:44.0000] <tobie>
yeah, let's turn that into a whatwg/w3c conversation. Sounds super productive. :D

[09:14:04.0000] <Domenic_>
that's kind of the problem, is that i've flippantly said unpolitic things in that direction, hurting whatwg/streams credibility :(

[09:15:04.0000] <jgraham>
I'm not sure that's the actual problem

[09:15:30.0000] <Domenic_>
well, it's a problem, and at least one that i feel bad about

[09:15:44.0000] <Domenic_>
but yes, probably not the problem

[09:15:46.0000] <annevk-cloud>
MikeSmith: not that I know

[09:15:58.0000] <tobie>
Should we have a task force to determine what the nature of the problem is?

[09:16:16.0000] <Domenic_>
tobie: w3c task force or whatwg task force?

[09:16:20.0000] <annevk-cloud>
Are you serious?

[09:16:31.0000] <tobie>
shit. Hadn't thought about that.

[09:16:39.0000] <annevk-cloud>
Because Task Forces…

[09:16:42.0000] <MikeSmith>
Domenic_: I don't think you've hurt the credibility of it all. I think implementors are going to judge it on its merits just like everything else

[09:17:03.0000] <Domenic_>
MikeSmith: that's the dream; glad to hear you think so :)

[09:17:35.0000] <annevk-cloud>
I tend to agree with that as well, let the best standard win

[09:17:43.0000] <tobie>
Maybe a workshop is more appropriate, then.

[09:17:57.0000] <annevk-cloud>
Dude!

[09:18:00.0000] <MikeSmith>
tobie has become trollbie

[09:18:22.0000] <tobie>
well, now that anne lives in the cloud, I thought why not?

[09:18:25.0000] <annevk-cloud>
I have a hard time reading the troll

[09:18:38.0000] <annevk-cloud>
I guess tobie wins

[09:18:41.0000] <Domenic_>
i thought the word "task force" was a good giveaway

[09:19:08.0000] <Domenic_>
would this task force be doing any internet engineering?

[09:19:56.0000] <tobie>
More seriously, though, glad to hear there's a sensible proposal on the table.

[09:21:59.0000] <jgraham>
I though usually the wiining standard was the one that Apple shipped unannounced before refusing to implement anything else

[09:22:30.0000] <Domenic_>
hmm one of my college friends works at apple...

[09:22:53.0000] <tobie>
OK, this is getting way out of hand.

[09:23:24.0000] <tobie>
The last thing the web needs is streams implemented as meta tags.

[09:23:45.0000] <jgraham>
tobie: All the people that hate js would love it though

[09:24:19.0000] <jgraham>
(I guess event source is almost that…)

[09:24:30.0000] <tobie>
^ true

[09:58:46.0000] <Ms2ger>
What's next, Dart.NET?

[10:02:20.0000] <Domenic_>
DScript comes first I believe

[10:26:21.0000] <odinho>
Tell me, a XHR request which set some custom requestheader (content-type), -- when it follows a 301/302 redirect, should that request header be sent to the new redirected location?

[10:29:08.0000] <odinho>
(this also with cors, but simple request)

[10:29:19.0000] <odinho>
It seems to be re-using the request object.

[10:29:27.0000] <odinho>
4. Return the result of performing a fetch using request, with the CORS flag set if set.

[10:29:57.0000] <odinho>
Which is what I expect. So I would expect the content-type to get to the redirected cors-domain.

[10:33:34.0000] <odinho>
Btw, neither presto, gecko or blink seem to follow this: http://xhr.spec.whatwg.org/#dom-xmlhttprequest-overridemimetype

[10:33:38.0000] <odinho>
If the state is LOADING or DONE, throw an "InvalidStateError" exception.

[10:33:48.0000] <odinho>
Seems none do.

[14:50:14.0000] <zcorpan>
hsivonen: didn't gecko change to not load non-JS <script>? <http://www.w3.org/mid/52B076A1.2020408⊙me>

[15:19:07.0000] <Hixie>
sicking: man, this messageport thing is tough. let me think on it some more.

[15:20:01.0000] <sicking>
Hixie: i've shot some promises people an email to see if we're abusing promises.

[15:20:18.0000] <sicking>
Hixie: it's still unclear to me when promises are ok and when they are not, so it's a very good question

[15:20:44.0000] <sicking>
Hixie: Dominic has said that they are only appropriate as return values for asynchronous functions, which isn't the case here

[15:20:49.0000] <Hixie>
sicking: the problem with the promise solution is it prevents the page from bfcaching in the case of a long-lived notification-style channel (as opposed to a channel just used for query-response), which i'd really like to avoid if we can

[15:21:12.0000] <sicking>
Hixie: i don't think solving the bfcaching is an interesting use case to solve in v1

[15:21:25.0000] <Hixie>
sicking: (and also, i think it's kind of weird to have two entirely different parts of the app be in charge of rejecting and resolving the same promise, let alone the UA and the author)

[15:21:29.0000] <sicking>
Hixie: it's something that needs to be very explicitly opted in to

[15:22:16.0000] <Hixie>
sicking: if we can find a solution that doesn't put the feature at risk like onsuspend does, and yet doesn't prevent bfcache at all like the promise does, i think it'd be great.

[15:22:22.0000] <sicking>
Hixie: the problem is that bfcaching was intended to be an optimistic and transparent feature. Anything that breaks that is not going to be interesting for us to implement since it's so unlikely that devs are going to know about bfcaching

[15:22:29.0000] <Hixie>
sicking: right

[15:27:11.0000] <Hixie>
heh, i just thought of a way that even browsers without a bfcache could get onresume in my (flawed) proposal in my last e-mail

[15:27:24.0000] <Hixie>
suppose an iframe has one end of a port

[15:27:38.0000] <Hixie>
and the other end is far away in some other process, and has onsuspend/onresume attached

[15:28:02.0000] <Hixie>
now the iframe is navigated away, but before doing so, it passes a reference to its port up to its parent (just a reference, it doesn't transfer ownership)

[15:28:42.0000] <Hixie>
the navigation causes the port to stop receiving messages, so onsuspend is sent (though actually, come to think of it, the parent could still _send_ messages, it's only receiving them that's blocked)

[15:28:57.0000] <Hixie>
now, the parent takes this port, and _transfers it to itself_, via a newly cearted MessageChannel

[15:29:00.0000] <Hixie>
created

[15:29:14.0000] <sicking>
Hixie: syntax aside, I think we need a signal that says "other side has gone away" (of course). But always enabling such a signal disables GCing. Hence we need a signal that says "I'm interested in the gone-away signal" and "i'm no longer interested in the gone-away signal". If you additionally want to solve bfcaching (which i'm not sure that you'll find any implementation interest in), you separately need three signals for "i can handle

[15:29:15.0000] <sicking>
bfcaching", "other side was bfcached" and "other side is back from bfcache"

[15:29:37.0000] <Hixie>
the port that comes out the other end is no longer owned by a "dead" Document, so the other end-point would suddenly get an onresume event :-)

[15:30:17.0000] <Hixie>
sicking: yeah. i'm hoping there's some other way of looking at this that doesn't force us to block GCing or bfcaching.

[15:30:48.0000] <Hixie>
sicking: especially since, in principle, we're saying that almost any sane use of ports should really be listening for these states to be well implemented.

[15:30:50.0000] <sicking>
Hixie: i'm fairly sure that it's probaly impossible

[15:31:19.0000] <Hixie>
it's possible, but before we chop our arm off i want to really be absolutely sure i've exhausted every idea i can come up with :-)

[15:31:35.0000] <sicking>
have at it

[15:37:17.0000] <sicking>
Hixie: and to be cleaer, even if you did specify a mechanism to enable bfcaching, i'm not sure that we would implement. There are other features that prevent bfcaching of *way* more pages, and yet we have not implemented APIs to enable bfcaching those pages.

[15:45:31.0000] <Hixie>
sicking: i wouldn't propose an API that enables it. i would just be looking for an API that didn't preclude it (while not putting bfcaching implementations at risk the way onsuspend does)

[15:45:44.0000] <Hixie>
(though see notes above about how even non-bfcaching UAs could still get onresume)


2013-12-18
[21:14:14.0000] <Hixie>
deep in the middle of a page's markup, suddenly, a wild namespace appears!:

[21:14:17.0000] <Hixie>
<?xml version="1.0" encoding="utf-16"?><table xmlns="http://www.w3.org/TR/REC-html40" xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:dt="urn:schemas-microsoft-com:datatypes" xmlns:user="urn:my-scripts"><tr>...

[21:28:31.0000] <tantek>
xmlns - worst attribute ever?

[01:31:06.0000] <matjas>
I just realized that XHTML handles character references differently

[01:31:12.0000] <matjas>
i.e. `&#x85;` → U+0085 in XHTML, while in HTML it’s U+2026

[01:31:34.0000] <matjas>
but AFAICT this isn’t mentioned here: http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#tokenizing-character-references what am I missing?

[01:32:46.0000] <matjas>
I assume the parsing section only applies to non-XHTML HTML, as XML is defined elsewhere, correct?

[01:36:00.0000] <Ms2ger>
That's in the HTML syntax section, no?

[01:37:46.0000] <matjas>
http://www.w3.org/TR/xml/#d0e3895

[01:38:32.0000] <matjas>
Ms2ger: yeah, I guess it all makes sense

[01:38:45.0000] <matjas>
just never realized this difference before — kinda mind-blowing

[01:39:07.0000] <Ms2ger>
Yay for stupid stuff

[02:10:09.0000] <zcorpan>
matjas: check out http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2696

[02:24:21.0000] <hsivonen>
zcorpan: I can't remember what Gecko does with non-JS <script src>

[02:46:16.0000] <zcorpan>
hsivonen: in my testing it doesn't fetch anything

[02:49:33.0000] <hsivonen>
zcorpan: than it doesn't :-)

[02:49:36.0000] <hsivonen>
*then

[02:52:45.0000] <matjas>
zcorpan: oh wow

[02:56:18.0000] <hsivonen>
matjas: It's kinda annoying that Unicode starts with ISO-8859-1 instead of starting with windows-1252

[03:06:05.0000] <annevk-cloud>
So much

[03:24:45.0000] <darobin_>
Domenic_: I read in the back log that you felt bad about being flippant and unpolitic about streams — don't. It can get a lot worse without being a problem.

[03:24:59.0000] <darobin_>
If you feel you should somehow apologise do so, but in any case just move on

[03:25:09.0000] <darobin_>
and give us a fucking streams API today :)

[03:26:01.0000] <hsivonen>
annevk: did you check the source code for the GBK and GB18030 decoders in Gecko?

[03:26:12.0000] <hsivonen>
the latter is a subclass of the former

[03:27:04.0000] <annevk>
hsivonen: but they are not using the same table I think

[03:27:16.0000] <annevk>
hsivonen: I find Gecko's code for encodings hard to follow

[03:27:23.0000] <annevk>
hsivonen: it has all kinds of abstractions that could be removed

[03:30:11.0000] <hsivonen>
annevk: not the same table, right

[03:30:23.0000] <hsivonen>
annevk: the GBK table has one entry! for euro

[03:30:36.0000] <annevk>
hsivonen: whoa

[03:30:44.0000] <hsivonen>
I can't figure out from the GB18030 tables if 0x80 maps to euro in the larger table

[03:32:33.0000] <hsivonen>
euro sign is kinda like time zones: the politician who come up with this stuff should be required to implement this stuff. *Correctly.*

[03:33:04.0000] <annevk>
hsivonen: in gb18030 0x80 maps to 0x20AC

[03:33:20.0000] <annevk>
hsivonen: so if Gecko does that for gbk...

[03:33:32.0000] <annevk>
and http://mxr.mozilla.org/mozilla-central/source/intl/uconv/ucvcn/gbkuniq2b.ut seems to indicate it does

[03:35:19.0000] <annevk>
hsivonen: actually, in Chrome gb18030 0x80 does not map to 0x20AC

[03:35:54.0000] <hsivonen>
I regret putting gbk in the new charset menu

[03:36:34.0000] <hsivonen>
since now it's more of a hassle to change the UI strings

[03:39:37.0000] <annevk>
hsivonen: my bad, I should have sorted this out long ago

[03:39:59.0000] <annevk>
hsivonen: seems that in IE byte 80 is also not mapped to the Euro sign, but it's not mapped to anything sensible either so...

[03:43:38.0000] <annevk>
hsivonen: compare http://dump.testsuite.org/encoding/gbk/byte-80-gbk.html and http://dump.testsuite.org/encoding/gbk/byte-80-gb18030.html btw

[03:43:56.0000] <annevk>
hsivonen: however, it seems that treating 0x80 as 0x20AC is harmless

[03:45:35.0000] <annevk>
hsivonen: http://en.wikipedia.org/wiki/GB_18030#GB18030_as_a_code_page has all the details it seems in the third paragraph with respect to the incompatibility

[03:45:47.0000] <hsivonen>
annevk: the latter shows a question mark for 0x80 in IE11

[03:45:56.0000] <hsivonen>
why not U+FFFD?

[03:45:57.0000] <annevk>
hsivonen: same in IE10

[03:46:40.0000] <annevk>
hsivonen: I suspect they just have weird error handling

[03:47:07.0000] <annevk>
I could test what they do for FF

[03:47:31.0000] <annevk>
or 8100

[03:47:36.0000] <annevk>
/me makes a test

[03:50:29.0000] <annevk>
hsivonen: see also http://dump.testsuite.org/encoding/gbk/byte-FF-gb18030.html and http://dump.testsuite.org/encoding/gbk/byte-8100-gb18030.html

[03:50:32.0000] <annevk>
hsivonen: IE10 is a mess

[03:51:06.0000] <annevk>
hsivonen: not sure what Chrome is doing either :/

[03:51:29.0000] <annevk>
Or I suppose, what ICU is doing, that seems broken

[03:52:04.0000] <hsivonen>
annevk: does IE just drop 0xFF?

[03:52:57.0000] <annevk>
hsivonen: no it renders it as 

[03:53:13.0000] <annevk>
hsivonen: whoa, that's a round dot in Windows, but on Mac it renders totally different...

[03:54:53.0000] <annevk>
hsivonen: oh, it's PUA

[03:55:19.0000] <annevk>
hsivonen: U+F8F5

[04:13:57.0000] <zcorpan>
wonder if i should test url query encoding in the prescanner

[04:18:08.0000] <annevk>
hsivonen: the IE gbk table is identical to the Chrome gbk table

[04:18:26.0000] <annevk>
hsivonen: I find one difference in the gb18030 table weirdly enough

[04:18:53.0000] <annevk>
hsivonen: index 6555 maps to 3000 in Gecko and E5E5 in IE

[04:24:45.0000] <annevk>
hsivonen: seems like we should just alias gbk and gb18030 and not worry about the 81/82 PUAs

[04:30:44.0000] <hsivonen>
annevk: aliasing will change how the euro sign gets submitted in forms, right?

[04:31:02.0000] <hsivonen>
/me hopes the euro sign doesn't get submitted to Chinese sites often

[04:31:34.0000] <annevk>
hsivonen: yeah, it would use the gb18030 two byte sequence, unless we special case 20AC in the encoder

[04:32:01.0000] <annevk>
hsivonen: special casing it in the encoder however would be incompatible with non-gbk compatible gb18030 implementations

[04:32:05.0000] <hsivonen>
special-casing the encoder might break sites that really are already using de jure GB18030

[04:32:10.0000] <annevk>
right

[04:32:52.0000] <hsivonen>
currency signs are such a bad idea

[04:33:25.0000] <annevk>
Surprising how little code the x-user-def is

[04:33:53.0000] <hsivonen>
both this whole euro thing. and the sheqel sign difference between 8859-8 and windows-1255

[04:34:02.0000] <hsivonen>
annevk: yeah

[04:34:31.0000] <annevk>
Was it Unicode 6.2 or 6.3 that did the Turkish thing?

[04:34:42.0000] <hsivonen>
oh and *that*

[04:35:15.0000] <hsivonen>
at least bitcoin uses an existing sign

[04:38:40.0000] <annevk>
hsivonen: well, "B⃦ has been the standard currency sign for BTC for a long time. Some existing Unicode symbols have been proposed but also serious work is being done on creating a custom Bitcoin sign with its own official Unicode that is recognized by the Unicode Consortium."

[04:38:45.0000] <annevk>
hsivonen: from https://en.bitcoin.it/wiki/Bitcoin_symbol

[04:42:06.0000] <hsivonen>
annevk: sadness

[04:47:14.0000] <MikeSmith>
ah cool x-webkit-speech

[04:47:31.0000] <MikeSmith>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=24126

[06:49:47.0000] <Ms2ger>
odinho++

[07:07:29.0000] <annevk>
hsivonen: just to be clear, current gbk sites with <form> might run into issues with more than U+20AC

[07:07:42.0000] <annevk>
hsivonen: as every code point will map to a byte sequence

[07:11:19.0000] <SimonSapin>
jgraham: what’s the fix when Critic gets upset by an amended commit?

[07:11:54.0000] <jgraham>
SimonSapin: There isn't one

[07:12:19.0000] <jgraham>
SimonSapin: I have instructions from jl on how to go about fixing that though

[07:12:30.0000] <jgraham>
So, happy christams to me, I guess

[07:13:02.0000] <SimonSapin>
I knew that present would make you happy :)

[07:13:05.0000] <jgraham>
SimonSapin: Unless you want to make a patch ;)

[07:13:33.0000] <SimonSapin>
I could submit a new pull request

[07:13:38.0000] <SimonSapin>
for the same changes

[07:14:07.0000] <SimonSapin>
https://github.com/html5lib/html5lib-python/pull/123

[07:15:31.0000] <hsivonen>
annevk: are *all* of those sequences now inconsistent between different browsers' gbk encoders?

[07:16:08.0000] <annevk>
hsivonen: gbk is a subset

[07:16:26.0000] <annevk>
hsivonen: so if you go outside the subset, you'd get &#....; for the code point or ?, depending on the error handling

[07:16:58.0000] <hsivonen>
annevk: so is it inconsistent between "&#....;" and "?"?

[07:17:00.0000] <annevk>
hsivonen: gb18030 would however never trigger error handling

[07:17:37.0000] <annevk>
hsivonen: it's inconsistent between generating a gb18030 byte sequence for the code point in the merger scenario and &#...; in the gbk <form> submission scenario

[07:18:05.0000] <annevk>
(for code points outside the two byte range)

[07:18:21.0000] <annevk>
(and 0x80)

[07:18:43.0000] <odinho>
Ms2ger: I'm incremented! :D  (Not too long ago also, I went from 26 to 27 on the 6th)

[07:18:57.0000] <Ms2ger>
Happy incrementation :)

[07:20:42.0000] <jgraham>
odinho: Wait, what, you are tracking it?

[07:21:31.0000] <Ms2ger>
I guess some people would avoid tracking it, at their level :)

[07:21:54.0000] <jgraham>
Ms2ger--

[07:21:56.0000] <jgraham>
:p

[07:22:09.0000] <Ms2ger>
:D

[07:24:59.0000] <odinho>
deferred incrementation :)   I save up the function and only flush once per year. And then only run one cycle.

[07:25:46.0000] <odinho>
I wonder what happens if I start getting more decrements than all increments I've had in total. What will happen then :-O

[07:26:01.0000] <jgraham>
odinho: We can test if you want :

[07:26:01.0000] <jgraham>
p

[07:26:07.0000] <odinho>
^_^

[07:39:17.0000] <hsivonen>
annevk: so Gecko's GB18030 impl already matches the spec and we only need to change the label stuff, right?

[07:41:06.0000] <annevk>
hsivonen: afaict, yes

[07:41:34.0000] <annevk>
hsivonen: Gecko has the 0x80 mapping which is the only "weird" thing

[07:46:09.0000] <jgraham>
SimonSapin: urllib[2].urlopen doesn't return a HTTPResponse object. What am I missing?

[07:46:23.0000] <SimonSapin>
it does on Python 3

[07:46:45.0000] <SimonSapin>
well, urllib.request.urlopen()

[07:46:47.0000] <jgraham>
And the bug doesn't happen on python2?

[07:47:17.0000] <hsivonen>
annevk: ok. bug filed: https://bugzilla.mozilla.org/show_bug.cgi?id=951691

[07:48:07.0000] <SimonSapin>
jgraham: apparently urllib[2].urlopen does not use httplib on Python 2, but httplib is still affected

[07:48:24.0000] <GPHemsley>
Gonna be updating the wiki software today. Nobody panic. :)

[07:48:35.0000] <jgraham>
SimonSapin: I see

[07:48:54.0000] <annevk>
hsivonen: should we have a separate bug on removing GBK from the menu?

[07:49:22.0000] <annevk>
hsivonen: thinking about it, that has the same risk (in theory) so grouping them seems fine

[07:49:39.0000] <jgraham>
SimonSapin: Thanks

[07:49:40.0000] <hsivonen>
annevk: I think we can do that in the same bug unless the label bug gets stalled somehow

[07:49:46.0000] <hsivonen>
annevk: I think the menu is lower risk

[07:50:09.0000] <hsivonen>
annevk: since users probably already can't make an informed choice and can end up submitting whatever

[07:50:23.0000] <annevk>
hsivonen: have you thought about "Character Encoding" -> "Text Encoding" btw?

[07:50:32.0000] <hsivonen>
annevk: I haven't

[07:50:36.0000] <hsivonen>
annevk: not my bikeshed

[07:50:44.0000] <annevk>
hsivonen: ait

[07:50:55.0000] <annevk>
Chrome uses Encoding

[07:52:19.0000] <annevk>
IE names it Encoding as well

[07:52:46.0000] <annevk>
hsivonen: would that be a bug against Firefox or some other component?

[07:53:06.0000] <gsnedders>
jgraham: Are you fixing the bug, then?

[07:53:17.0000] <gsnedders>
jgraham: Or dealing with it at least?

[07:53:38.0000] <hsivonen>
annevk: Firefox

[07:53:50.0000] <annevk>
ta

[07:54:26.0000] <jgraham>
gsnedders: What bug?

[07:54:46.0000] <gsnedders>
jgraham: the html5lib one

[07:54:53.0000] <gsnedders>
jgraham: that you were discussing with SimonSapin above

[07:56:06.0000] <jgraham>
gsnedders: He fixed it

[07:56:47.0000] <annevk>
https://bugzilla.mozilla.org/show_bug.cgi?id=951695

[08:03:00.0000] <rwaldron>
annevk ping for quick Q

[08:03:09.0000] <annevk>
rwaldron: go ahead

[08:03:27.0000] <rwaldron>
In Boston, you mentioned an "Elements" API

[08:03:38.0000] <rwaldron>
IIRC, this was an Array subclass

[08:03:45.0000] <rwaldron>
"from the future" ;)

[08:03:56.0000] <annevk>
rwaldron: see links in red box http://dom.spec.whatwg.org/#elements

[08:04:09.0000] <rwaldron>
<3

[08:04:12.0000] <rwaldron>
you read my mind

[08:04:14.0000] <rwaldron>
thanks!

[08:04:43.0000] <rwaldron>
(ie. the next question was "i can has link?")

[08:04:45.0000] <rwaldron>
thanks again

[08:04:52.0000] <annevk>
heh

[09:01:07.0000] <GPHemsley>
Wiki upgrade in progress. Nobody panic.

[09:04:10.0000] <Hixie>
woot

[09:04:23.0000] <Ms2ger>
/me grasps his towel

[09:18:40.0000] <GPHemsley>
OK, I think we're good. Let me know if you see any issues.

[09:57:22.0000] <SimonSapin>
jgraham: what happens after approval in Critic?

[09:58:06.0000] <SimonSapin>
also, should I resubmit #123 to get Critic unstuck?

[10:03:18.0000] <jgraham>
SimonSapin: Someone has to merge

[10:03:38.0000] <jgraham>
or rebbase

[10:04:02.0000] <jgraham>
Although I think that html5lib has a non-linear history in any case so merging might not be so bad

[10:04:16.0000] <jgraham>
And yes, resubmitting is probably a good idea

[10:22:12.0000] <gsnedders>
jgraham: I aim for history from git onwards to be linear, FWIW

[10:23:35.0000] <jgraham>
gsnedders: Then you have a rebase to do :)

[10:24:04.0000] <gsnedders>
jgraham: If you can find the one number I need for this HMRC form.

[10:26:27.0000] <Hixie>
when you do frames[0].location.reload(), what's the source browsing context? the parent, or the subframe?

[10:27:10.0000] <jgraham>
gsnedders: Isn't the answer in the question? The number you need is 1.

[10:27:49.0000] <gsnedders>
jgraham: I suspect I paid more tax than £1. :)

[10:31:48.0000] <MikeSmith>
Hixie: the subframe...? isn't that the case of frames[0].location.assign and .replace?

[10:32:20.0000] <Hixie>
Navigation for the assign() and replace() methods must be done with the responsible browsing context specified by the incumbent settings object as the source browsing context.

[10:33:48.0000] <MikeSmith>
HAL^WHixie: you forgot to add ,Dave at the end of that

[10:34:19.0000] <jgraham>
gsnedders: Oh, just tell them the answer is in GTU (Gsnedders Tax Units)

[10:34:39.0000] <gsnedders>
jgraham: The form doesn't allow that. :(

[10:34:57.0000] <MikeSmith>
Hixie: so given that why should not that the same be true for .reload() ?

[10:35:04.0000] <gsnedders>
(I mean, HMRC should /already have this number/. Do I really need to tell them it!?)

[10:35:28.0000] <Hixie>
MikeSmith: yeah, that's my conclusion too. i've just checked that in. previously it was just undefined.

[10:35:57.0000] <Hixie>
MikeSmith: it's mostly academic, really. i think it only affects if you can do parent.location.reload() when you're sandboxed allow-same-origin allow-scripts, which is a very dumb situation to be in anyway.

[10:36:06.0000] <MikeSmith>
oh

[10:36:25.0000] <MikeSmith>
well I don't plan on the doing that at least

[10:36:28.0000] <Hixie>
heh

[10:37:20.0000] <Hixie>
oh actually location.reload() explicitly uses a different source browsing context in the situation of a non-overridden reload

[10:37:23.0000] <Hixie>
wonder why

[10:37:25.0000] <gsnedders>
/me kinda wants to prove the event loop is free from deadlock/livelock

[10:39:26.0000] <Hixie>
wow, http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=141 actually shows that's true, too

[10:39:40.0000] <Hixie>
at least in chrome

[10:55:08.0000] <Hixie>
how the heck can i retroactively figure out the source browsing context of a document.open()'ed document

[10:57:52.0000] <MikeSmith>
Hixie: printf

[10:59:30.0000] <Hixie>
printf of what, though?

[11:03:13.0000] <MikeSmith>
some whatever object in the browser source code and you just dump it out

[11:03:57.0000] <MikeSmith>
after you hack the source and recompile it

[11:04:57.0000] <jgraham>
/me looks for a blunt instrument to apply to mq

[11:09:12.0000] <TabAtkins>
Sigh. I hate it when people in non-American timezones try to ping me repeatedly over multiple days during times when America is asleep, and sign off when they don't hear anything from me.

[11:09:22.0000] <TabAtkins>
I can't respond! I'm asleep! You're a dumbass!

[11:12:40.0000] <Hixie>
yeah, it seems like if you're not going to stick around, then send e-mail

[11:16:37.0000] <jgraham>
TabAtkins: You should schedule irc breaks into your sleep pattern

[11:16:52.0000] <tantek>
TabAtkins just ask them to summarize their question and see if they bother checking the logs. If they don't, it can't have been that important right?

[11:16:57.0000] <TabAtkins>
That seems like a legitimate solution to the problem, yes.

[11:17:10.0000] <TabAtkins>
tantek: I'm getting pinged privately, so there's no logs for them to check.

[11:17:26.0000] <tantek>
you're getting pinged privately about *standards* questions?

[11:17:42.0000] <Hixie>
 /away i'm asleep, please leave a detailed message after the beep. BEEEP.

[11:18:47.0000] <tantek>
TabAtkins perhaps an irc/pm auto-responder? "If you have a question about the web platform, please ask it in #whatwg and feel free to cc my alias"

[11:19:26.0000] <jgraham>
 or, apparently, /away If you ask me something now and sign off before I respond I will call you a dumbass in public

[11:19:37.0000] <tantek>
LOL

[11:19:41.0000] <TabAtkins>
tantek: Yup.  I'd like to tell them to just ping me in #whatwg, but I can't since they dont' stick around in public places.

[11:20:58.0000] <Hixie>
oh this is in IM, not IRC?

[11:21:29.0000] <tantek>
TabAtkins - people are pinging you about *standards* exclusively in *private* places? Ignore them until they figure it out. Or send them this for some background reading: http://tantek.com/2011/168/b1/practices-good-open-web-standards-development

[11:21:54.0000] <TabAtkins>
tantek: Still can't send them anything.  You keep missing the fundamental difficulty I'm running into here. ^_^

[11:22:23.0000] <Hixie>
(fwiw, i get the same thing.)

[11:23:13.0000] <jgraham>
TabAtkins: /away allows you to do that, doesn't it?

[11:23:19.0000] <tantek>
You two are too patient. I've long since told people to go the (appropriate) IRC channel and ask there.

[11:23:35.0000] <Hixie>
tantek: how?

[11:23:37.0000] <TabAtkins>
jgraham: That requires me to actaully remember to set /away.

[11:23:38.0000] <tantek>
TabAtkins - how are you getting the pings?

[11:23:51.0000] <TabAtkins>
tantek: HOW DO I TELL ANYONE TO PING ME ELSEWHERE WHEN THEY LEAVE BEFORE I CAN TELL THEM ANYTHING?!?

[11:23:56.0000] <TabAtkins>
^_^

[11:23:57.0000] <Hixie>
yeah, what tab said

[11:23:59.0000] <jgraham>
TabAtkins: Well, sure, that's a problem

[11:24:19.0000] <jgraham>
You could possibly set up your client to do it automatically after an inactivity timeout

[11:24:21.0000] <tantek>
if they're able to ping you then you are able to setup an /away auto-response

[11:24:39.0000] <tantek>
I think some clients auto-set /away after an inactivity timeout

[11:24:41.0000] <jgraham>
Although assuming you use IRCCloud that might not be super-easy

[11:24:42.0000] <TabAtkins>
tantek: Not a specialized one, and I don't want to spam people who are legit PMing me during the day with a mesage telling them to buzz off.

[11:24:55.0000] <TabAtkins>
jgraham: Yes, that's what I use, and to the best of my knowledge I cant' set such a thing.

[11:25:03.0000] <jgraham>
Well you can

[11:25:15.0000] <jgraham>
Just need to write an extension or bookmarket, or something

[11:25:41.0000] <tantek>
FWIW Colloquy has a "Sleep Message" in the settings

[11:26:51.0000] <TabAtkins>
tantek: Not helpful for me on a Linux box, also IRCCloud is awesome and now free through work.

[11:27:31.0000] <tantek>
/me is trying the Sleep Message setting

[11:28:43.0000] <TabAtkins>
So IRCCloud has an auto-away, but it triggers only when you leave the page in all clients.

[11:29:10.0000] <Hixie>
most. ridiculous. test. ever. http://damowmow.com/playground/demos/sandbox/001.html

[11:29:14.0000] <Hixie>
short of bidi tests.

[11:30:08.0000] <tantek>
oh NM - the Colloquy sleep message is triggered like a quit message when you put your computer to sleep (as opposed to actually quitting the IRC client)

[11:30:57.0000] <tantek>
TabAtkins - perhaps file a feature request with the IRCCloud folks to have an "after hours" setting that auto-sets you /away with a message.

[11:31:13.0000] <TabAtkins>
tantek: Yeah, gonna do that.

[14:24:34.0000] <zcorpan>
TabAtkins: just change your nick to TabAtkins_i'm_asleep_dumbass

[14:24:53.0000] <TabAtkins>
zcorpan: That requires the same level of forethought as setting /away.

[14:26:54.0000] <zcorpan>
not if you have that nick when you're awake, too :-P

[14:27:16.0000] <Ms2ger_i_m_aslee>
Good idea


2013-12-19
[16:40:11.0000] <TabAtkins>
If anyone knows off the top of their head, does the current source selection algorithm for <img> stop when it finds its preferred source, and not try for additional ones if the first one fails?

[16:40:32.0000] <TabAtkins>
(If no one answers in a bit I'll go look for the answer myself.)

[23:32:30.0000] <zcorpan>
TabAtkins: right, img doesn't try further if a source fails to load

[23:36:26.0000] <zcorpan>
hmm, i got a spam email that was kind enough to let me know where it found my email address (the cssom spec)

[00:00:49.0000] <hsivonen>
zcorpan: was it European spam if the spammer thinks that declaring the source of address makes it better?

[00:03:59.0000] <zcorpan>
google translated: "I am a crawler that found email simonp⊙oc on w3.org site exactly http://dev.w3.org/csswg/cssom/ link and I will aim to post your free ad on <something>.ro"

[00:13:34.0000] <hsivonen>
zcorpan: indeed unusual

[00:19:35.0000] <MikeSmith>
sendBeacon makes <a ping> superfluous?

[00:20:35.0000] <Ms2ger>
Right now when we've implemented it?

[00:24:21.0000] <MikeSmith>
Ms2ger: there's an open bug

[00:25:33.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=936340

[00:26:03.0000] <MikeSmith>
and jonas comments at https://bugzilla.mozilla.org/show_bug.cgi?id=951104

[00:26:55.0000] <MikeSmith>
Ms2ger: <a ping> shipped already?

[00:27:03.0000] <MikeSmith>
no just in nightly I guess

[00:27:06.0000] <Ms2ger>
Still preffed off

[00:27:11.0000] <MikeSmith>
ah ok

[00:27:31.0000] <MikeSmith>
ah yeah hence the summary of that bug

[00:32:02.0000] <zcorpan>
<a ping> seems simpler to get right. what if the user middle clicks the link, will the page notice and send the ping?

[00:32:13.0000] <zcorpan>
if implemented with sendBeacon, i mean

[00:33:35.0000] <zcorpan>
what's the problem with having both?

[00:33:55.0000] <zcorpan>
is ping high-cost?

[00:38:28.0000] <MikeSmith>
zcorpan: I guess we need to keep <a ping> regardless anyway

[00:38:44.0000] <MikeSmith>
which is not a problem really

[00:39:23.0000] <MikeSmith>
just if somebody had come up with sendBeacon first maybe we wouldn't have needed <a ping> to begin with

[00:42:55.0000] <zcorpan>
"The User Agent MUST throw the URLMismatchError exception if the URL cannot be resolved."

[00:43:09.0000] <zcorpan>
seems like the wrong exception

[00:43:47.0000] <zcorpan>
"The User Agent MUST throw the SyntaxError is data is null." also seems like the wrong exception

[00:46:19.0000] <Ms2ger>
'is'?

[00:49:41.0000] <zcorpan>
http://lists.w3.org/Archives/Public/public-web-perf/2013Nov/0096.html seems like an interesting proposal. maybe it should allow you to set sync to true but have that be ignored if detach is true

[01:29:51.0000] <darobin>
I'm still not convinced this whole beacon stuff is headed the right way

[01:30:35.0000] <darobin>
it doesn't seem to take into account the use case of e.g. uploading a picture taken in a web app in such a way that you can leave the app immediately but get a notification later upon success

[01:31:01.0000] <darobin>
which is a common thing that can only be done using native apps today

[01:59:30.0000] <jgraham>
darobin: Isn't the difficult part there continuing the upload after you navigate?

[01:59:49.0000] <darobin>
jgraham: well, that's the interesting part :)

[02:00:40.0000] <darobin>
you also need to make it so that notifications can be triggered after navigation (and that clicking on them can reopen a page)

[02:00:57.0000] <jgraham>
Seems like could could solve that with background shared workers, perhaps

[02:01:06.0000] <darobin>
ideally, progress notifications ought to be possible during upload

[02:01:08.0000] <darobin>
yes, maybe

[02:01:15.0000] <jgraham>
At least it seems quite different to the beason stuff

[02:01:18.0000] <jgraham>
*beacon

[02:01:29.0000] <darobin>
that's essentially how it works on Android, apps spawn services that are permanent

[02:02:07.0000] <darobin>
well, if you look at the code examples that developers show when telling what they'd like for fire-and-forget upload, they look a lot like beacon

[02:02:21.0000] <darobin>
or at least some of the beacon proposals

[02:02:27.0000] <darobin>
"give me an XHR that doesn't die"

[02:06:06.0000] <jgraham>
Well, yes if that's the only use case

[02:06:38.0000] <jgraham>
If there are other similar use cases then a different solution is needed

[03:03:23.0000] <zcorpan>
sent http://lists.w3.org/Archives/Public/public-web-perf/2013Dec/0105.html

[03:27:17.0000] <jgraham>
zcorpan: I like how you start with a bunch of small issues and end with "oh and your spec is totally broken"

[03:27:40.0000] <zcorpan>
heh

[03:29:20.0000] <zcorpan>
and i didn't even ask about use cases

[03:30:59.0000] <zcorpan>
step 1: minor bugs. step 2: fundamental brokenness. step 3: possibly wrong solution altogether

[03:34:25.0000] <jgraham>
You should obviously reply to your email again :)

[03:36:00.0000] <zcorpan>
i'll leave step 3 to someone else

[04:09:08.0000] <zcorpan>
actually the brokenness seems to apply to <a ping> also

[04:09:19.0000] <hsivonen>
is one supposed to use a semicolon after a nested function declaration in JS?

[04:09:37.0000] <Ms2ger>
I don't think so

[04:09:48.0000] <hsivonen>
Ms2ger: thanks

[04:09:53.0000] <zcorpan>
function declarations don't need semicolon after

[04:10:03.0000] <hsivonen>
zcorpan: ok. thanks

[04:10:14.0000] <zcorpan>
only if you do an assignment like onclick = function() {};

[04:10:28.0000] <hsivonen>
ok

[04:11:12.0000] <jgraham>
Yeah, no semicolon after statements, only after expressions I think

[04:15:45.0000] <hsivonen>
jgraham: I think you mean the other way round, right?

[04:16:23.0000] <hsivonen>
/me wasn't sure if a function declaration counted as a statement

[04:18:32.0000] <jgraham>
hsivonen: I don't really mean either, it turns out

[04:19:01.0000] <Ms2ger>
JS is weird

[04:19:04.0000] <jgraham>
http://www.ecma-international.org/ecma-262/5.1/#sec-A.4

[04:30:09.0000] <matjas>
ah, the good ol’ function declaration vs. function expression

[05:07:52.0000] <gsnedders>
hsivonen: Function statements as implemented everywhere don't exist in the spec. :)

[05:08:15.0000] <gsnedders>
hsivonen: Function declarations per spec must be at the top level; only function expressions are allowed to be nested.

[05:08:31.0000] <jgraham>
Wait, what? They still didn't fix that?

[05:10:19.0000] <gsnedders>
Oh, it appears to have been fixed, but the spec isn't up to date with what was agreed at Sept F2F

[05:11:35.0000] <gsnedders>
I missed that entirely.

[05:12:07.0000] <Ms2ger>
What, an up-to-date spec?

[05:12:16.0000] <Ms2ger>
I've missed that quite often

[05:12:56.0000] <zcorpan>
was the bug something like (function() { if (false) function foo() {}; foo(); /* foo is undefined in impls */ })() ?

[05:14:19.0000] <gsnedders>
zcorpan: That simply didn't match the grammar.

[05:15:21.0000] <gsnedders>
zcorpan: the "function" keyword token was a parse error if you only implemented the ES5 grammar

[05:16:05.0000] <hsivonen>
in any case, it looks like my patch didn't make strict mode or whatever checks apply to Firefox UI code to blow up

[05:16:46.0000] <zcorpan>
gsnedders: oh, ok

[05:17:18.0000] <gsnedders>
zcorpan: (the second "function", obv.)

[05:32:46.0000] <zcorpan>
annevk-cloud: does document.URL return HTML's "the document's address"? it says it returns the "URL" which seems like it is a separate concept

[05:37:07.0000] <zcorpan>
annevk-cloud: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2707 suggests it should return "the document's address"

[05:37:26.0000] <zcorpan>
Hixie: ^

[06:19:20.0000] <Ms2ger>
"The initial value of Symbol.isRegExp is the well known symbol @@isConcatSpreadableisRegExp"

[06:19:25.0000] <Ms2ger>
@@isConcatSpreadableisRegExp, really?

[06:21:38.0000] <jgraham>
"well known"

[06:30:23.0000] <hsivonen>
annevk-cloud: I finally got around to sending email to whatwg and www-international about TLD-based guessing

[06:30:36.0000] <hsivonen>
I hope the message was coherent enough for non-Firefox audience

[06:30:47.0000] <hsivonen>
I adapted it from an older bugzilla comment

[06:47:32.0000] <csmith1>
is this the right place to ask about http://wiki.whatwg.org/wiki/MetaExtensions ?

[06:49:35.0000] <csmith1>
for example wt.* (webtrends) proposal… should these be generic, rather than product-specific for metrics?

[06:55:23.0000] <matjas>
jgraham: “well known” refers to this table https://people.mozilla.org/~jorendorff/es6-draft.html#table-1

[06:55:50.0000] <matjas>
“Table 1— Well-known Symbols”

[06:56:00.0000] <jgraham>
matjas: I know what well known means in this context :) It's just an amusing choice of name

[07:04:27.0000] <Ms2ger>
"Posted to whatwg and www-international but not cross-posted"

[07:04:32.0000] <Ms2ger>
/me doesn't follow

[07:06:42.0000] <gsnedders>
Um…

[07:11:53.0000] <jgraham>
Presumably posted to both but each without the other on the to: header

[07:12:05.0000] <jgraham>
i.e. two seperate emails

[07:16:46.0000] <Ms2ger>
Ah

[07:18:27.0000] <jgraham>
Ms2ger: So, why did I get your email 3 times?

[07:18:31.0000] <jgraham>
:)

[07:18:45.0000] <Ms2ger>
You're on all three lists I sent it to? :)

[07:18:59.0000] <Ms2ger>
Sorry, should also have cc'd you :)

[07:20:06.0000] <jgraham>
Interesting

[07:20:44.0000] <jgraham>
Thunderbird claims they are all To: public-test-infra, but doing Reply-List on all three will reply to three different lists.

[07:25:59.0000] <Ms2ger>
Yeah

[07:26:15.0000] <Ms2ger>
I only got one copy of Art's email, and reply-to-list went to p-w-t

[09:09:59.0000] <MikeSmith>
what constitutes a declarative API?

[09:12:05.0000] <jgraham>
Either a) one that you want but aren't getting or b) one that someone else wants but you don't want to give them

[09:13:07.0000] <jgraham>
But I think typically people mean one that isn't implemented in script

[09:13:23.0000] <MikeSmith>
I like your first answer better

[09:15:16.0000] <MikeSmith>
so then next part of this quiz is what's declarative about approach B) in http://lists.w3.org/Archives/Public/public-webapps/2013OctDec/1096.html

[09:15:37.0000] <jgraham>
(but I think people can use "declarative API" to mean "high level API that allows implementing common tasks without worrying about the underlying mechanics", hence my first answer)

[09:16:14.0000] <MikeSmith>
ah

[09:17:51.0000] <MikeSmith>
oh man http://wiki.apidesign.org/wiki/Declarative_Programming is fun

[09:18:13.0000] <MikeSmith>
it reads like it was writteng by horsejs

[09:18:28.0000] <MikeSmith>
"JavaScript is just too powerful language for declarations."

[09:19:17.0000] <MikeSmith>
"That is why, if one wishes to worship declarative programming inside existing imperative languages, it seems very important to make the declarative syntax less powerful than Turing Machine."

[09:20:13.0000] <jgraham>
All hail our declarative overlords

[09:24:52.0000] <MikeSmith>
J̥̫͗̅ͥ̄͛͡ȧ̛͎͈̬̺̳̤̘̔͗ͣ́ͅv̵͉͕̯̗͓̠̫͈͑̐̊̔ͪ̃͠a͍͇̼̙ͭ̀ͅS̨͕̘̔͛̈̽̑̑ͭ̏ͤc̵̪̳̼̲̲̘̟ͮ͊r̵͉̼̲͍̱̱̋̇̉̂͟i̸͓̺͍͎͔̱̭͆͊ͬ̑̾͐̊p̋̽̎̑͒̅͑̎҉͖̞̥t͙̺̠̻͖͕̒͐̓͜ ̷͍̜̝͂̈̄͛ï̸̧̛̼̼͔̭̤̥̪̋ͥͭ͑̒͂̀s̴̢̤̯̰̗̲͙̬͗͛ͬͪ̅̀̽͢ ̫͚͆ͨͬ͗͛̌́̀͠j̀͑ͬͧ̍͗͏̯̙̳̀͡u̙̻̘ͪ̓s͖̬̮̯͈̱ͬͨ̀̂̿̚͟͡t̷̻̝͙̂̆̃̃ͭͮ͌̅ ͦͩ҉͓̳�

[09:52:07.0000] <annevk-cloud>
zcorpan: they match

[09:59:53.0000] <bholley>
Hixie: any last-ditch ideas on how to get input from Microsoft and Apple before we meet tomorrow?

[10:23:34.0000] <MikeSmith>
bholley: ping hober

[10:23:58.0000] <bholley>
hober: ^

[10:26:15.0000] <MikeSmith>
from Microsoft you need Travis I guess

[10:26:27.0000] <MikeSmith>
somebody could e-mail him if you haven't already

[10:32:00.0000] <TabAtkins>
MikeSmith: "Declarative" and "imperative" are obviously spectrums, but declarative APIs are more rule-based and "let the UA figure it out" rather than the author explicitly doing things themselves.

[10:32:37.0000] <MikeSmith>
ok

[10:33:09.0000] <TabAtkins>
So, though that's a large email that I'm not going to do any more than skim, it does look like the "caches" approach is slightly more declarative than option A.

[10:33:23.0000] <MikeSmith>
TabAtkins: that sounds like what people usually call a high-level API vs a low-level one though

[10:33:42.0000] <TabAtkins>
Yes, high-level APIs are usually "high-level" because they're more declarative.

[10:38:38.0000] <MikeSmith>
bholley remind me whats that bug

[10:38:52.0000] <bholley>
MikeSmith: I already emailed Travis

[10:38:58.0000] <bholley>
MikeSmith: https://www.w3.org/Bugs/Public/show_bug.cgi?id=20701

[10:39:05.0000] <MikeSmith>
ok

[10:40:27.0000] <MikeSmith>
ah great I follow that link and it launches firefox nightly I just finished building and I get XML Parsing Error: undefined entity Location: chrome://browser/content/browser.xul

[10:44:54.0000] <MikeSmith>
hmm well http://developer.chrome.com/extensions/events.html#declarative is interesting

[10:45:04.0000] <MikeSmith>
var rule = { conditions: [ /* my conditions */ ], actions: [ /* my actions */ ]

[10:45:04.0000] <MikeSmith>
};

[10:53:48.0000] <TabAtkins>
MikeSmith: Ooh, that is rather interesting.

[10:54:15.0000] <MikeSmith>
something cooked up just for extensions I guess

[11:07:00.0000] <TabAtkins>
Okay, now that I'm reading Mellor's background sync thread in Gmail rather than the archives, it's much more understandable.

[11:07:14.0000] <TabAtkins>
One of the few times I've ever experienced in mailing lists where HTML emails are more readable than plain text.

[11:10:32.0000] <TabAtkins>
(Though I suspect that if the email were plain-text Markdown instead, it would be just as readable in the archives.)

[11:19:43.0000] <MikeSmith>
the plain text version seems pretty readable as is in my mua

[11:20:07.0000] <TabAtkins>
It's not terrible, it's just wall-of-texty, and difficult to distinguish the cases.

[11:20:21.0000] <TabAtkins>
A bit of bolding in the HTML version helps a ton for skimming.

[11:20:33.0000] <MikeSmith>
ah he's got some boldface of stuff in the HTML version though, that's nice

[11:20:47.0000] <MikeSmith>
in the code examples I mean

[11:20:56.0000] <TabAtkins>
Yeah, that's very helpful as well.

[11:21:13.0000] <TabAtkins>
Now I'm finally motivated to go read the ServiceWorker spec.  It looks quite good!

[11:22:02.0000] <MikeSmith>
TabAtkins: yeah now only if there were actually a ServiceWorker spec that exists

[11:22:17.0000] <MikeSmith>
you'd be all set

[11:22:19.0000] <TabAtkins>
Yeah, the explainer documents are really nice, though.

[11:22:23.0000] <MikeSmith>
yeah

[11:22:30.0000] <TabAtkins>
I might ping Alex about working on that for real.

[11:22:56.0000] <MikeSmith>
I thought Jake said he was planning to work on it very soon

[11:23:01.0000] <TabAtkins>
Ah, cool.

[11:39:48.0000] <gsnedders>
This is so boring. Why did I decide to essentially rewrite the parser in process algebra as a uni project?

[11:54:13.0000] <gsnedders>
Just, implementing the state machine is so dull.

[11:55:23.0000] <odinho>
lol :)

[11:57:46.0000] <odinho>
I really liked reading the serviceworker docs as well. meant for a wide audience i guess :)

[12:16:21.0000] <TabAtkins>
Hahaha, I like the paragraph in the Explainer under "Offline & Fallback Content" that's just a single italic "Indeed".

[12:16:51.0000] <TabAtkins>
It's fun when you can tell someone's speaking mannerisms are bleeding into their writing.

[12:35:18.0000] <zcorpan>
annevk-cloud: where is it defined that they match?

[13:17:39.0000] <Ms2ger>
tobie, I don't follow the "This would be very detrimental to vendors running these test suites." comment

[13:22:54.0000] <tobie>
Ms2ger: did I misunderstand the mail?

[13:22:58.0000] <tobie>
I read it quickly.

[13:23:15.0000] <tobie>
I thought he was suggesting splitting the repository.

[13:23:21.0000] <Ms2ger>
Oh, I hope not

[13:23:58.0000] <Ms2ger>
I think that was about bugzilla components

[13:24:07.0000] <Ms2ger>
If we agree Bugzilla should be used to report all test case bugs: 1) should we have an agreed way for a test suite in WPT to point to Bugzilla (although Bugzilla has bug reports for websockets and workers tests, that link is missing from the test suites); 2) should we continue to lump all of the tests in a single component or create per test suite components (e.g. tests-workers, workers-tests, ...).

[13:35:55.0000] <zcorpan>
i don't want to hold a presentation at test the web forward going through the steps to create a bugzilla account and report a test bug

[13:36:17.0000] <zcorpan>
so, i agree with jgraham

[15:48:28.0000] <deadowl>
Why isn't the time element married to the Date objects of javascript? Anyone working on that?

[15:49:43.0000] <deadowl>
p.s. time, date, and datetime ought to be synonymous


2013-12-20
[16:46:53.0000] <TabAtkins>
deadowl: ...why should they be synonymous? One's a time, one's a date, one's a datetime.

[16:47:30.0000] <TabAtkins>
The meeting takes place every day at 2pm. The next meeting is on Dec 20. The next meeting is at 2pm, Dec 20th.

[20:01:58.0000] <deadowl>
TabAtkins: javascript Date and html time both represent datetime.

[00:19:44.0000] <zcorpan>
is there a test suite for URL constructor?

[00:20:46.0000] <zcorpan>
annevk-cloud: why does URL throw TypeError and not SyntaxError when resolving fails?

[00:55:44.0000] <zcorpan>
"The SVG Working Group would like to thank the following people for contributing to this specification by raising issues that resulted in changes: David Zbarsky."

[00:55:55.0000] <zcorpan>
nice, http://www.w3.org/TR/SVG2/single-page.html#linking-processingIRI has a list i was looking for. wonder if it is complete

[00:57:48.0000] <zcorpan>
i guess i only need to test stuff that allow non-local

[01:10:08.0000] <zcorpan>
nice of svg 2 to reference dom core level 2

[01:13:14.0000] <zcorpan>
should we move click() to Element?

[02:50:13.0000] <odinho>
Ms2ger: lol, what you did! Sneaky.

[02:50:20.0000] <Ms2ger>
:)

[02:50:34.0000] <Ms2ger>
I thought you were complaining you couldn't see them!

[02:50:45.0000] <Ms2ger>
And if you don't believe that, I'll invent something else :)

[02:51:00.0000] <odinho>
I know how to use critic :P

[02:51:54.0000] <Ms2ger>
They really just need someone to double-check that what the old thing did with the documentation, really

[03:35:54.0000] <annevk-cloud>
zcorpan: better ES compat in case it ever moves to ES

[03:36:15.0000] <annevk-cloud>
zcorpan: see also various exception threads

[03:37:23.0000] <annevk-cloud>
zcorpan: as for the URL thing, HTML does that, look at the title/xref terms

[04:13:27.0000] <zcorpan>
annevk-cloud: i don't follow re look at the title/xref terms

[04:51:21.0000] <annevk-cloud>
zcorpan: ask again next week / file a bug

[04:51:33.0000] <zcorpan>
ok

[06:21:38.0000] <zcorpan>
what pass condition should i use for SVG? utf-8 or document's encoding? gecko uses document's encoding. blink uses document's encoding except for <image> which uses utf-8. presto uses utf-8 except for <a> which uses document's encoding

[06:22:10.0000] <Ms2ger>
<annevk> utf-8

[06:22:13.0000] <Ms2ger>
/me ducks

[06:24:15.0000] <odinho>
utf-8 ALL the things

[06:27:22.0000] <zcorpan>
i'm tempted to agree with Hixie that it might be better to be consistent and apply the quirk everywhere. imo including css and svg

[06:31:32.0000] <jgraham>
+1 or consistency

[06:31:35.0000] <jgraham>
*for

[06:43:07.0000] <zcorpan>
jgraham: can you say that in https://www.w3.org/Bugs/Public/show_bug.cgi?id=23968 or so? :-)

[06:43:35.0000] <Ms2ger>
Your +1s have no power here! ;)

[06:46:44.0000] <zcorpan>
so far it seems like implementors used dice to decide which encoding to use for a given feature

[06:48:17.0000] <darobin>
at least the could document which type of die

[06:50:44.0000] <Ms2ger>
A d3

[06:54:02.0000] <darobin>
heh

[10:42:40.0000] <MikeSmith>
ensafened

[10:44:18.0000] <annevk-cloud>
I don't really buy the consistency thing. At an architecture level it means you have to keep around the encoding longer and pass it all over. For CSS we could probably avoid having to do that.

[10:48:53.0000] <odinho>
agree. and then also let it soread to other places due to the same consistenxy argument.

[10:49:16.0000] <odinho>
spread :]

[10:49:16.0000] <jgraham>
annevk-cloud: I don't think that

[10:49:28.0000] <jgraham>
's an argument that it's not more consistent

[10:49:38.0000] <jgraham>
It might be an argument that it's harder to implement

[10:50:05.0000] <TabAtkins>
I think he means that he doesn't find the consistency argument sufficiently worthwhile, and one of the reasons is the implemention difficulty.

[10:50:13.0000] <TabAtkins>
Also: fuck it all, utf-8 4 lyfe

[10:54:39.0000] <jgraham>
Well that

[10:54:51.0000] <jgraham>
's not rea;;y what "not buying" something means

[10:58:54.0000] <TabAtkins>
Sure it can.

[10:59:21.0000] <Ms2ger>
Anyway, just make arguments instead of arguing over what arguments could have been made?

[12:09:37.0000] <jgraham>
I don't know what other arguments there are. If you don't believe that making different parts of the platform behave differently given the same input is going to be more confusing for authors than not doing that it doesn't seem like there is much I can say that will convince you.

[12:11:16.0000] <jgraham>
The main counter argument seems to be "but the behaviour is not what we would design today". Well yeah, but if you can't deal with the legacy don't work on the web platform I guess.

[12:17:51.0000] <TabAtkins>
That's always the argument, though.  Lots of features have a conflict between "shitty past" and "hopefully less shitty future", and we always have to decide which we want to follow.

[12:18:16.0000] <TabAtkins>
"shitty past" isn't a priori better - it does create consistency, but makes it harder to work with in other ways.

[12:28:30.0000] <jgraham>
In this case the author is literally using the same input in two different places. Making that work differently is more confusing than, say, creating an entirely new API to replace an existing API with bad design, or other cases where you might have a legacy-vs-future conflict

[12:28:31.0000] <tantek>
TabAtkins - I think the "consistency" in the "shitty past" is often what's up for debate/discussion.

[12:29:07.0000] <tantek>
if the "shitty past" is either inconsistent, or shrinking quickly (who cares if IE6 did it that way?), then it may be worth the trade-off to ignore it.

[12:29:12.0000] <TabAtkins>
jgraham: Of course, just telling the author "always use utf-8", like we've been doing for years (and gradually winning on!) makes it all consistent too.

[12:29:58.0000] <tantek>
agreed on telling authors "always use utf-8". that does seem to be working.

[12:30:16.0000] <jgraham>
TabAtkins: Sure, which is even more reason not to make misguided attempts to "fix" things for rare cases

[12:30:25.0000] <TabAtkins>
jgraham: That doesn't follow.

[12:31:02.0000] <TabAtkins>
Telling authors works, and it's supported by making a number of resources utf-8 only.  It may be that making more resources utf-8 only would help the momentum of the process.

[12:58:48.0000] <jgraham>
So your position is that we should actively break stuff if you don't use utf8?

[13:07:42.0000] <TabAtkins>
Minor breakage is often a useful tool, yes.


2013-12-21
[16:55:18.0000] <TabAtkins>
Anyone got chrome beta (32) and want to see if they can zoom out on this photo? http://i.imgur.com/iH9Dw6J.jpg

[19:02:00.0000] <masclic>
 idl, corba and uml, is other specification important in omg wordking group ?

[19:25:05.0000] <zewt>
PARSE ERROR. REDO FROM START.

[00:03:33.0000] <Ms2ger>
zewt++

[08:35:26.0000] <Ms2ger>
jgraham, happy? :)

[09:16:49.0000] <odinho>
Ms2ger: What now :(

[09:57:47.0000] <Ms2ger>
odinho, I reviewed some stuff

[10:45:03.0000] <jgraham>
Ms2ger++++

[10:45:48.0000] <Ms2ger>
I've only skimmed over the manifest one, but I guess we can iterate as necessary

[11:44:31.0000] <odinho>
Ms2ger: Oh, that's awesome :)  I thought it was related to the last things jgraham said on this channel. :P

[11:45:28.0000] <Ms2ger>
odinho, want to make me feel like you mean that? You can review the preloading stuff ;)


2013-12-22
[23:52:31.0000] <Ms2ger>
OH: "web browsers are such broken little puppies"

[01:47:24.0000] <Ms2ger>
odinho, jgraham, want to review the remaining .8% of /r/368?

[04:02:52.0000] <odinho>
Ms2ger: awesome work. was inspired to take a new look at the manual test. still, dome of my fixups are pendig afaik. I can't well review them. tho i'm fairly certain about them being correct fixes.

[04:03:52.0000] <odinho>
I'll look at remaining manual in a while if noone has beaten me to it.

[05:22:28.0000] <Ms2ger>
odinho, the remaining manual one is similar to ones you fixed up, I think

[05:25:49.0000] <odinho>
Ms2ger: It's just that it's manual :P The horror!

[05:25:55.0000] <odinho>
Lemme take a quick lookie.

[05:26:10.0000] <Ms2ger>
Heh

[05:28:56.0000] <odinho>
Ou, I need to go out xmas shopping. I can tag along with my sister who is leaving now, so I'll do that. l8r still :P

[05:42:24.0000] <Ms2ger>
Damn sister! :)

[11:21:48.0000] <Ms2ger>
jgraham, looks like I found some more typos :)

[11:27:24.0000] <matjas>
for those reading the logs, the guy hosting them has gone full ppk and is now doing a donation drive: http://krijnhoetmer.nl/irc-logs/

[11:38:36.0000] <zewt>
ffff, amazon is probably the single worst site i use regularly when it comes to browser back

[11:38:59.0000] <zewt>
it's like every single link on their page goes through a redirect that gets dumped in history

[11:43:44.0000] <jgraham>
Ms2ger: Damn you and your careful review ;)

[11:44:02.0000] <Ms2ger>
Worse, that was careless review :)

[11:44:29.0000] <odinho>
:]

[11:48:13.0000] <Ms2ger>
jgraham, and while you're around, https://critic.hoppipolla.co.uk/1e2ac7b7?review=368:)

[11:48:20.0000] <Ms2ger>
https://critic.hoppipolla.co.uk/1e2ac7b7?review=368 that is

[11:51:28.0000] <Ms2ger>
Hi again, irccloud

[11:51:57.0000] <krijnh>
lol

[11:51:59.0000] <krijnh>
fu matjas

[11:52:01.0000] <krijnh>
:)

[13:05:46.0000] <odinho>
annevk: Requesting review of changes because of your issues :-)  https://critic.hoppipolla.co.uk/showcomment?chain=921

[13:43:13.0000] <Fernandos>
I have the feel that http://ogp.me/ is very inefficient and breaks existing standards. Is there an official answer to that from w3? I thought rdf would be it. But I'm not sure

[13:44:35.0000] <Fernandos>
This looks like pressing machine relevant information to the client's browser.

[13:57:25.0000] <zewt>
wondering why system with 16 gigs of memory is swapping and dying, and find that chrome was using 7.5 gigs of memory

[13:58:01.0000] <zewt>
: |

[13:58:18.0000] <Fernandos>
woot zewt.. that's crazy.. what did you do? run an infinite loop with webworkers, indexdb and websocket connection to a db that bombs your client with data?

[13:58:48.0000] <zewt>
"browsed the web"

[14:01:08.0000] <zewt>
now it's time to play "which restored tab is playing sound"

[14:02:40.0000] <gsnedders>
Ah, web browsers…

[14:03:26.0000] <gsnedders>
Fernandos: RDFa is the cloest you get to anything from the W3C trying to address arbitrary samantics in web content; there's also microdata in the WHATWG HTML spec.

[14:10:03.0000] <Fernandos>
Thanks gsnedders!

[14:10:18.0000] <Fernandos>
gsnedders: is RDFa different from RDF?

[14:11:10.0000] <gsnedders>
Fernandos: RDF is an abstract model of semantics. RDFa is a syntax for serializing RDF into.

[14:11:24.0000] <Fernandos>
ahh

[14:11:35.0000] <gsnedders>
Fernandos: IIRC, RDFa cannot represent all possible RDF triples.

[14:12:07.0000] <Fernandos>
And is RDF what you would use to transfer information between man and machine using a audio/video interface?

[14:12:15.0000] <gsnedders>
Fernandos: People sometimes use "RDF" when they mean "RDF/XML" (an XML based serialization of RDF) — but strictly RDF is just the abstract model.

[14:13:12.0000] <Fernandos>
Because to me it looks like it's only useful to debug, when the machine does something wrong. But not a very efficient way. RDF conversion consumes precious milliseconds of computing.

[14:13:17.0000] <gsnedders>
Fernandos: RDF is essentially just designed as a model to represent triples of (object, property, value), and represent semantics like that. I don't really know what you mean by audio/video interface. :)

[14:14:12.0000] <Fernandos>
I think RDF is only suited for multi-pass or slow indexation through search-engines, but not one-pass online algorithms like realtime man - machine interfaces, right?

[14:14:59.0000] <Fernandos>
audio/video interface? simple, I mean NLU (natural language understanding, gestures, mimics adds more precision to the input)

[14:15:09.0000] <gsnedders>
Fernandos: Most realtime interfaces you /probably/ just want to use something non-standard that matches your processing of the input.

[14:15:22.0000] <gsnedders>
Fernandos: Okay, that's what I was guessing

[14:15:48.0000] <Fernandos>
There is no standard for that I guess.

[14:16:31.0000] <Fernandos>
I mean it's possible to store the input after it was processed, with just more ram

[14:17:05.0000] <gsnedders>
Fernandos: RDF is designed to be extensible, so you can make up your own objects and properties, so insofar as that RDF isn't impractical. Just depends on the exact semantics of the message you're trying to pass.

[14:18:07.0000] <gsnedders>
Fernandos: If you want to pass something like "person 1 is pointing to the left", you can certainly do that, but RDF arguably isn't designed for such transient semantics. #swig is a better place to talk about RDF though, with far more knowledgable people than I.

[14:18:24.0000] <Fernandos>
there is no standard storage format facial expressions and gestures. I know about EmotionML only

[14:18:39.0000] <gsnedders>
(And I'm sure there are people in there who will argue RDF is fine for transcient semantics. :))

[14:18:46.0000] <Fernandos>
hahaha

[14:20:17.0000] <gsnedders>
Fernandos: Right, there may not be any pre-existing ontology for facial expressions and gestures in RDF, but that doesn't prevent you from using it. It is designed so that anyone can introduce new ontologies without them clashing.

[14:20:27.0000] <gsnedders>
(Essentially by using URIs for everything)

[14:21:29.0000] <gsnedders>
Fernandos: But without knowing a lot more about what you're doing, I've got no idea what's a good fit. :)

[14:21:32.0000] <Fernandos>
I cannot think about a semantic way of storing the data that is usable for any human.

[14:21:41.0000] <Fernandos>
Except images. hahaha

[14:22:24.0000] <Fernandos>
I do what I described :) The example was actually fit

[14:22:57.0000] <gsnedders>
If you're just doing that, you probably don't need something so generic.

[14:23:16.0000] <gsnedders>
Different people would advise radically different solutions. :)

[14:23:27.0000] <Fernandos>
The data can be stored already in a format that makes sense for the machine, but it's not semantic.

[14:24:46.0000] <Fernandos>
And I'm not sure how semantic storage would make sense, other than to talk to other machines, which could be done much better in binary anyway. As said, I think it can only serve for debugging, right?

[14:54:52.0000] <Fernandos>
np. think I'll find a way

[14:54:54.0000] <Fernandos>
see you

[15:55:22.0000] <Jasper>
Who thought of classList, and how can I give them the biggest high-five ever?

[15:56:01.0000] <Jasper>
I'm surprised it's not more well-documented or used.


2013-12-23
[16:00:47.0000] <gsnedders>
jgraham: https://github.com/html5lib/html5lib-python/pull/95 — opinion needed as to what to do for tests for the serializer

[16:18:01.0000] <gsnedders>
hsivonen, MikeSmith: https://github.com/html5lib/html5lib-tests/issues/33

[16:18:15.0000] <gsnedders>
annevk: https://github.com/html5lib/html5lib-tests/issues/31

[16:18:59.0000] <annevk>
gsnedders: I think jgraham included those

[16:20:54.0000] <gsnedders>
annevk: https://github.com/html5lib/html5lib-tests/commit/a0e73c60dd788b18f07d9e2c412779c1759185df claims otherwise :)

[16:30:26.0000] <annevk>
seven years ago

[16:36:39.0000] <annevk>
odinho: replied, basically I'm not sure what's up

[16:56:59.0000] <tantek>
Fernandos - it's pointless trying to reason about semantic storage without a specific end user use-case.

[16:57:29.0000] <tantek>
so with that Fernandos, what's the problem you're trying to solve?

[17:13:45.0000] <gsnedders>
annevk: Hey, I never claimed you'd have *recent* knowledge. :)

[01:23:07.0000] <Ms2ger>
TIL: jgraham can't write separated (seperated), available (avaliable and avalible), or initialize (initalize)

[01:43:34.0000] <SimonSapin>
Ms2ger: https://twitter.com/alex_gaynor/status/414814132718678016

[01:48:52.0000] <MikeSmith>
Ms2ger: jgraham put those in there to test you

[02:27:00.0000] <FireFly>
och tja

[02:27:22.0000] <FireFly>
det var nân fest efter disputationen med kakor och sânt tror jag

[02:27:26.0000] <FireFly>
er

[02:27:38.0000] <FireFly>
Oops

[02:47:44.0000] <Ms2ger>
MikeSmith, clearly

[04:42:33.0000] <smola>
annevk: hello, ping?

[04:42:48.0000] <annevk>
smola: waddup?

[04:44:05.0000] <smola>
annevk: int he URL spec, it seems that a URL formed only by a scheme ("http") is parsed to an empty URL ("")

[04:44:14.0000] <smola>
is that the expected behaviour? am I reading wrong?

[04:44:27.0000] <annevk>
smola: it would return failure I think

[04:44:37.0000] <smola>
in the parser, scheme state:

[04:44:47.0000] <smola>
Otherwise, if c is the EOF code point, terminate this algorithm.

[04:45:15.0000] <smola>
but no parse error, which is only given if there is a non-alphanum char

[04:45:47.0000] <annevk>
smola: that only happens if there's a state override

[04:45:56.0000] <annevk>
smola: otherwise you'd switch to no scheme state

[04:46:10.0000] <smola>
annevk: right :)

[04:46:27.0000] <annevk>
smola: and no scheme state would return in failure

[04:49:48.0000] <smola>
annevk: thanks

[05:45:34.0000] <Ms2ger>
<small><font size="+2"><small><b>

[06:03:38.0000] <annevk-cloud>
Ms2ger: nice poem

[06:07:42.0000] <gsnedders>
SimonSapin: Hah. I saw Alex_Gaynor's tweet earlier. Didn't even notice the typo first time. >_>

[06:07:51.0000] <darobin_>
I wonder if anyone ever made an HTML poetry contest

[06:08:29.0000] <darobin>
/me in a previous life, placed in a Perl Poetry contest

[06:08:52.0000] <darobin>
/me gives annevk-cloud some ROI for Christmas

[06:14:13.0000] <annevk-cloud>
hah

[06:37:04.0000] <Ms2ger>
Robin Berfon, eh

[06:49:02.0000] <darobin>
Ms2ger: indeed, I kept "Berfon" as a nickname for a long time thereafter :)

[07:03:34.0000] <gsnedders>
SimonSapin: https://github.com/html5lib/html5lib-python/pull/133 — can you eyeball that?

[07:06:19.0000] <SimonSapin>
gsnedders: looks good

[07:07:17.0000] <SimonSapin>
I don’t need #129 on PyPI yet

[07:08:36.0000] <gsnedders>
I'm probably gonna try and push a 0.9999 this year, likely with that

[07:09:34.0000] <gsnedders>
SimonSapin: (But yeah, in principle, I can make releases whenever a downstream needs something in. Just say.)

[07:09:53.0000] <SimonSapin>
gsnedders: cool, thanks

[07:10:11.0000] <SimonSapin>
gsnedders: will it ever reach 1 ? :)

[07:10:38.0000] <gsnedders>
SimonSapin: https://github.com/html5lib/html5lib-python/issues?labels=api-breakage&milestone=1&page=1&state=open is what blocks

[07:11:33.0000] <gsnedders>
(Once those are all done, it will reach 1. And then probably just end up going along 1.0.z for a while.)

[07:11:53.0000] <SimonSapin>
I see, makes sense

[07:12:31.0000] <gsnedders>
I think basically nothing else actually /blocks/ 1, though it'd be nice to be up-to-date with the spec by then.

[07:14:23.0000] <gsnedders>
SimonSapin: On PyPI now.

[07:17:26.0000] <SimonSapin>
It’s nice to close bugs by changing install_requires in setup.py :)

[08:06:47.0000] <gsnedders>
SimonSapin: :)

[08:41:20.0000] <GPHemsley>
Ms2ger, gsnedders: Remind me again the situation regarding maintaining a consistent attribute order in anolis/html5lib?

[08:42:04.0000] <gsnedders>
GPHemsley: dunno about anolis

[08:43:46.0000] <GPHemsley>
gsnedders: But there was some setting we'd have to adjust in html5lib to get ordered attributes, right?

[08:44:56.0000] <gsnedders>
GPHemsley: alphabeticalize_attributes on the serializer. Or something with a new almost like that.

[08:45:00.0000] <Ms2ger>
I stuffed that far in the back of my mind :/

[08:45:56.0000] <GPHemsley>
Ms2ger: Has the issue not been affecting anybody? I'd think it'd be making noisy diffs left and right...

[08:46:42.0000] <Ms2ger>
I haven't heard of it

[08:47:02.0000] <GPHemsley>
hmm

[08:47:12.0000] <GPHemsley>
well, I think it'd affect me, so I want to fix it

[08:55:51.0000] <smola>
here again with a URL parsing doubt: what's with chars like ^? it seems that the spec states that it should *not* be percent-encoded when it appears in path; but browsers do.

[09:01:31.0000] <darobin>
Merry Christmas everyone, see you all next year!

[09:11:25.0000] <SimonSapin>
smola: file a bug, as a gift to annevk

[09:14:03.0000] <smola>
SimonSapin: ok, I'll do it. I wanted to ask first since every "bug" I found in the URL Spec ware actually not bugs ;)

[09:14:44.0000] <SimonSapin>
smola: I haven’t checked about this, but maybe annevk-cloud can confirm

[09:36:38.0000] <smola>
annevk: ping again, ^^^, what's with unsafe characters like ^? it seems that the spec states they should not be percent-encoded, but browsers do encode them

[09:36:55.0000] <annevk>
all browsers?

[09:37:07.0000] <smola>
no, I'm not sure :p

[09:37:18.0000] <smola>
I checked Chrome and Firefox

[09:37:25.0000] <smola>
so IE does not encode them?

[09:38:22.0000] <annevk>
might be a bug

[09:38:47.0000] <annevk>
I think I've been fairly conservative with what to escape

[09:38:47.0000] <smola>
ok, let me check other browsers and I'll file the bug with the detailed set of characters

[09:38:52.0000] <annevk>
ta

[09:39:01.0000] <smola>
just wanted to know if I didn't miss something obvious

[10:42:02.0000] <smola>
annevk: bug filed; the behaviour is pretty unconsistent among browsers (and I haven't checked old IE)

[10:43:00.0000] <smola>
Safari 5 has a particularly incosistent behaviour (compared to itself :p)

[11:09:04.0000] <annevk>
smola: thanks

[11:09:18.0000] <annevk>
smola: will likely look at in January somewhere

[11:13:42.0000] <smola>
annevk: great, thanks

[12:12:21.0000] <annevk>
gavin: is the stats thing still kept up to date? the numbers look somewhat similar

[12:15:16.0000] <gavin>
it should be

[12:15:39.0000] <gavin>
oh, but not_gavin isn't here

[12:15:42.0000] <gavin>
I'll look into it

[12:16:41.0000] <gavin_>
oh, it's gavin_ here

[12:18:18.0000] <gavin>
annevk: it all looks like it's working

[12:19:25.0000] <annevk>
gavin: it doesn't have the topic and I believe number of lines has been static for a while

[12:19:53.0000] <annevk>
but I guess I should check again tomorrow to be sure

[12:21:16.0000] <gavin>
annevk: the topic seems to have been last set in 2012, which probably predates this particular stats instance

[12:21:24.0000] <annevk>
ait

[12:22:12.0000] <gavin>
(it only sees changes)


2013-12-24
[03:01:16.0000] <jgraham>
Ms2ger: I think the one of those that I actually can't spell is separated. The others I mainly can't type.

[03:01:28.0000] <Ms2ger>
Heh

[04:55:38.0000] <annevk>
gavin: so I just refreshed and # of lines did not change, but the date did

[04:55:51.0000] <annevk>
gavin: quotes changed too

[15:17:30.0000] <gavin>
annevk: thanks - they were out of date for some reason. not quite sure what was wrong, but should be fixed now


2013-12-26
[15:07:16.0000] <TabAtkins>
Haha, just checked out the Stats page again, and noticed that Divya floated up to both first *and* second place for "Most Caps-Lock Usage".


2013-12-27
[17:31:40.0000] <dekiss>
outlook supports cellapding?

[17:47:24.0000] <crocket>
It's weird

[17:47:36.0000] <crocket>
Is it ok to remove table rows using "removeChild" instead of "deleteCell" or "deleteRow" in IE 10?

[17:47:49.0000] <crocket>
Removing rows using "removeChild" seems to lead to errors

[17:54:57.0000] <dekiss>
how to make vertical space in email?

[00:22:31.0000] <Ms2ger>
Happy birthday, Hixie

[03:36:18.0000] <mattaustin>
Hello. I have a strange problem with html5lib 0.999 and python 3.3. If anyone could provide me a hint as to what I'm doing wrong it would be greatly appreciated.

[03:37:27.0000] <mattaustin>
A simple parse of some content works under python 2.7.3, python 3.2, but under 3.3 I just get the html element and empty head and body elements.

[03:38:53.0000] <mattaustin>
The syntax I'm using is: "html5lib.parse(response)". I tried providing the encoding keyword too (encoding='utf-8'), but it didn't make any difference.

[03:47:02.0000] <mattaustin>
Any ideads/hints as to why it would work with Python 3.2 and not 3.3?

[03:50:16.0000] <SimonSapin>
Hi mattaustin

[03:50:21.0000] <SimonSapin>
what is "response"?

[03:53:46.0000] <mattaustin>
Hi SimonSapin

[03:54:41.0000] <mattaustin>
I'm extending FancyURLopener from urllib.request (just urllib in python 2)

[03:55:06.0000] <mattaustin>
creating an instance of it, and then 'response = url_opener.open(url)'

[03:55:56.0000] <mattaustin>
my FancyURLopener subclass just sets a custom user agent, it doesn't do anything else.

[03:57:27.0000] <mattaustin>
SimonSapin: My (ugly) code is at https://github.com/mattaustin/fremantleline/blob/development/fremantleline/api/__init__.py

[04:01:52.0000] <SimonSapin>
mattaustin: this sounds like https://github.com/html5lib/html5lib-python/issues/127

[04:02:52.0000] <SimonSapin>
but 0.999 is supposed to work around it

[04:03:41.0000] <SimonSapin>
mattaustin: what is type(response)?

[04:04:11.0000] <SimonSapin>
and isinstance(response, six.http_client.HTTPResponse)?

[04:06:34.0000] <mattaustin>
SimonSapin: Thanks. Didn't find that bug because I was searching for 3.3 specifically.

[04:06:37.0000] <mattaustin>
<class 'urllib.response.addinfourl'>

[04:08:07.0000] <mattaustin>
isinstance(response, six.moves.http_client.HTTPResponse) is False

[04:08:20.0000] <mattaustin>
(I added in '.moves')

[04:08:34.0000] <SimonSapin>
and isinstance(response.fp, six.http_client.HTTPResponse) is True?

[04:08:39.0000] <SimonSapin>
(right, six.moves)

[04:08:49.0000] <SimonSapin>
note .fp

[04:09:02.0000] <mattaustin>
isinstance(response.fp, six.moves.http_client.HTTPResponse) is True

[04:10:25.0000] <mattaustin>
And, html5lib.parse(response.fp) works :)

[04:16:16.0000] <SimonSapin>
mattaustin: please try this https://github.com/SimonSapin/html5lib-python/commit/3516130660476241bd9e67c2e7faf8bc61bbd0cb

[04:25:24.0000] <mattaustin>
SimonSapin: Tested, and working - thank you :)

[04:30:56.0000] <SimonSapin>
mattaustin: do you have the same name on github?

[04:31:22.0000] <mattaustin>
Yes, https://github.com/mattaustin/

[04:40:56.0000] <SimonSapin>
mattaustin: https://github.com/html5lib/html5lib-python/pull/134

[04:45:11.0000] <mattaustin>
SimonSapin: Great, thanks very much for your help :)

[06:34:40.0000] <gsnedders>
Hixie: Happy birthday!

[06:35:14.0000] <gsnedders>
SimonSapin: This is gonna get really ugly fast. :(

[06:35:47.0000] <gsnedders>
SimonSapin: Really tempted to suggest we ought add a firstChunk argument to the internal classes…

[06:36:18.0000] <SimonSapin>
gsnedders: yes, I’m not very happy with this either

[06:36:45.0000] <SimonSapin>
as there could be more wrappers of this kind

[06:36:55.0000] <SimonSapin>
how would firstChunk work?

[06:37:25.0000] <SimonSapin>
oh, you mean read a chunk and then pass it instead of doing read(0) ?

[06:37:30.0000] <gsnedders>
SimonSapin: Exactly

[06:37:38.0000] <SimonSapin>
I guess that’d work

[06:38:30.0000] <gsnedders>
It's ugly, but it's generic.

[06:38:46.0000] <gsnedders>
Add a comment about the fact it's just there for 20007 so can eventually go.

[06:40:21.0000] <gsnedders>
I don't think there's anything that makes it that bad to do.

[06:42:10.0000] <SimonSapin>
yes, firstChunk sounds better than my accumulation of isinstance

[06:43:04.0000] <gsnedders>
IIRC we did that before someone pointed out read(0) worked.

[06:49:17.0000] <gsnedders>
SimonSapin: If you do this soon I'll try and push a 0.9999 with this and usedEncoding in the next couple of days.

[08:08:01.0000] <Domenic_>
Does anyone else have memories of the disabled attribute working on more than just form controls, or did I dream that?

[08:40:37.0000] <jpwhiting>
MikeSmith: around by chance?

[08:41:10.0000] <MikeSmith>
jpwhiting: yep

[08:41:12.0000] <jpwhiting>
I've got a question about validator.nu, it seems a <p> without matching </p> validates, fine, yet <div> without matching </div> doesn't

[08:41:24.0000] <jpwhiting>
why does <p> without closing tag validate?

[08:42:04.0000] <MikeSmith>
because it's valid

[08:42:30.0000] <jpwhiting>
right, why is it valid though?

[08:43:14.0000] <jpwhiting>
http://w3schools.com/html/html_paragraphs.asp says don't forget the end tag

[08:43:53.0000] <MikeSmith>
it's valid because the spec says it's valid

[08:44:20.0000] <MikeSmith>
don't use w3schools

[08:44:27.0000] <jpwhiting>
which spec? html4? html5 ?

[08:44:59.0000] <MikeSmith>
the html spec

[08:45:11.0000] <MikeSmith>
the current one

[08:46:05.0000] <MikeSmith>
but so did the html4 spec

[08:46:20.0000] <jpwhiting>
ok, good enough for me, thanks

[08:49:04.0000] <MikeSmith>
jpwhiting: the part of the spec that says this is http://www.whatwg.org/specs/web-apps/current-work/multipage/grouping-content.html#the-p-element

[08:49:25.0000] <MikeSmith>
the "tag omission" part

[08:50:51.0000] <MikeSmith>
same for other elements where you can omit the end tag, they'll have a "tag omission" part that says so

[08:51:37.0000] <MikeSmith>
for some elements, you can even omit the start tag

[08:51:46.0000] <jpwhiting>
heh, of course the reference material on w3.org doesn't have that section http://www.w3.org/TR/2012/CR-html5-20121217/grouping-content.html#the-p-element :/

[08:51:59.0000] <MikeSmith>
like, the body element

[08:52:36.0000] <jpwhiting>
ah, nice

[09:35:10.0000] <Domenic_>
hmmm, ommiting the body tag is valid for authors too? not just implementers-must-make-this-work?

[09:41:33.0000] <gsnedders>
Domenic_: Yes.

[09:41:40.0000] <gsnedders>
Domenic_: As is html and head

[09:41:42.0000] <gsnedders>
s/is/are/

[09:41:46.0000] <Domenic_>
fascinating...

[09:41:56.0000] <gsnedders>
http://www.whatwg.org/specs/web-apps/current-work/#syntax-tag-omission lists it all

[09:42:06.0000] <Domenic_>
i guess i should probably do that, seems like a nice loss of redundant stuff

[09:42:26.0000] <gsnedders>
<!doctype html><title>foo</title> tends to be how I start things.

[09:42:38.0000] <Domenic_>
gahgah you just had to link to the crash-your-browser page

[09:43:12.0000] <gsnedders>
Bah, but ctrl+f works so much better on it!

[09:43:26.0000] <gsnedders>
/me just permamently keeps it open so only deals with the ~10 seconds it takes to load once every so often

[09:43:35.0000] <gsnedders>
Or just use a better web browser that copes with it better. :P

[09:45:36.0000] <wilhelm>
gsnedders: You forgot charset. (Imperialist scum!)

[09:45:54.0000] <Domenic_>
gsnedders: seems like another use case for letting web pages override the browser's find behavior :P

[09:46:03.0000] <gsnedders>
wilhelm: Nah, that's just set in the HTTP headers for everything by default. ;P

[09:46:15.0000] <gsnedders>
wilhelm: Because non-UTF-8 content doesn't exist around here!

[09:46:42.0000] <wilhelm>
But file://!

[09:47:01.0000] <gsnedders>
Is a diabolical mess and doesn't work as you expect /anyway/.

[09:47:09.0000] <wilhelm>
True.


2013-12-28
[23:58:00.0000] <Streusel>
any chance of og: and dc. being added to the wiki?

[02:23:35.0000] <MikeSmith>
Streusel what wiki

[02:26:56.0000] <Streusel>
MikeSmith: http://wiki.whatwg.org/wiki/MetaExtensions ?

[02:29:55.0000] <MikeSmith>
Streusel: if you want to add something there I can create a wiki account for you

[02:30:38.0000] <Streusel>
Well I didn't feel like creating _another_ account for something I won't use more than once so I thought I'd come here and ask if there are any plans or whats up

[02:35:56.0000] <Ms2ger`>
The plans are that somebody who cares can request an account and add them

[02:41:12.0000] <MikeSmith>
Streusel: I see a bunch of og:* and dc.* values there already

[02:41:23.0000] <Streusel>
hmm

[02:41:29.0000] <dekiss>
can I add class to the html element?

[02:41:34.0000] <Streusel>
because I got an error on dc.title

[02:41:37.0000] <Streusel>
and dc:description

[02:41:51.0000] <Streusel>
opps not dc:description, but og:

[02:43:03.0000] <MikeSmith>
well og:description is there so I guess I should add that to the validator

[02:43:27.0000] <MikeSmith>
dc.title is not there though

[02:43:35.0000] <MikeSmith>
dunno why not

[02:45:15.0000] <MikeSmith>
maybe because there's not actually any spec anywhere that says anything about using dc.* values for meta@name

[02:45:34.0000] <MikeSmith>
http://dublincore.org/documents/dcmi-terms/#terms-language doesn't say it, as far as I can tell

[02:46:16.0000] <MikeSmith>
ah wait http://dublincore.org/documents/dc-html/ does

[02:47:18.0000] <Ms2ger`>
/me pokes sankha93 

[02:47:24.0000] <MikeSmith>
Streusel: anyway, whatever you add to http://wiki.whatwg.org/wiki/MetaExtensions I will add to the validator, but I'm not going to add them to that page myself

[02:47:47.0000] <MikeSmith>
Streusel: I will add og:description right now to the validator

[02:48:37.0000] <Streusel>
Thanks MikeSmith

[02:49:20.0000] <MikeSmith>
hmm wait

[02:49:59.0000] <MikeSmith>
http://ogp.me/ doesn't say anything about using og:* values with meta@name

[02:50:11.0000] <MikeSmith>
it only deals with meta@property

[02:50:20.0000] <MikeSmith>
Streusel: right?

[02:50:54.0000] <Streusel>
og: was..

[02:51:26.0000] <Streusel>
facebook I believe

[02:51:32.0000] <Streusel>
open graph

[02:52:20.0000] <MikeSmith>
yeah I know that. What I'm asking is that the facebook open graph documentation defines how to use it with the property attribute, not the name attribute

[02:52:21.0000] <Streusel>
yeah

[02:52:56.0000] <MikeSmith>
so http://wiki.whatwg.org/wiki/MetaExtensions is only about values to use for the name attribute

[02:52:58.0000] <Streusel>
I got name="og:title"

[02:53:29.0000] <MikeSmith>
so as far as I can see none of the og:* values should be listed on that wiki page to begin with

[02:53:39.0000] <Streusel>
mm

[02:53:45.0000] <Streusel>
https://developers.facebook.com/docs/opengraph/getting-started/ suggests that it's a property

[02:53:47.0000] <Streusel>
not a name

[02:53:55.0000] <Streusel>
wonder who mislead me to believe it's a name..

[02:55:42.0000] <MikeSmith>
dunno but at least there's no restrictions on what values can be used for the property attribute

[02:57:06.0000] <MikeSmith>
rightly there really shouldn't be any restrictions on meta@name values but unfortunately the spec says otherwise


2013-12-29
[20:57:20.0000] <malaclyps>
fjdslfs

[14:32:11.0000] <smaug____>
hsivonen: ping

[14:32:25.0000] <smaug____>
or who might remember parsing well

[14:33:42.0000] <smaug____>
<script>document.write('<div><iframe src="http://example.com"><\/iframe><\/div>');</script>

[14:34:03.0000] <smaug____>
should div be added to the document before iframe added to div?

[14:43:31.0000] <gsnedders>
Yes.

[14:44:01.0000] <gsnedders>
That's parsed no differently to <script></script><div><iframe src="http://example.com"></iframe></div>

[14:44:05.0000] <gsnedders>
smaug____: ^^

[14:44:46.0000] <smaug____>
gsnedders: but does the spec say the order

[14:44:57.0000] <gsnedders>
smaug____: Yes, it does for both.

[14:45:06.0000] <smaug____>
so, what does it say?

[14:45:25.0000] <smaug____>
is div added to the document before iframe is added to div?

[14:45:30.0000] <gsnedders>
smaug____: the script is added to the document, then the div, then the iframe

[14:45:56.0000] <gsnedders>
smaug____: My "yes" above was in answer to that question — it is added before the iframe is added to the div.

[14:46:47.0000] <gsnedders>
(document.write isn't actually that interesting unless parsing has already finished or a script element is written)

[14:49:06.0000] <smaug____>
gsnedders: do you happen to remember where the spec says that?

[14:49:26.0000] <smaug____>
(Gecko doesn't seem to do that, and I'm not sure IE11 does it either)

[14:56:37.0000] <SimonSapin>
gsnedders: should fragmentClass be added to that list of required things? https://github.com/html5lib/html5lib-python/blob/c36197d01779cbb48d66563cf149af202ba6b7fc/html5lib/treebuilders/__init__.py#L16-L19

[15:16:51.0000] <gsnedders>
SimonSapin: idk

[15:17:13.0000] <SimonSapin>
ok, I’ll try and find out

[15:17:33.0000] <gsnedders>
SimonSapin: (Note that I would not be in the least bit surprised if the comment was wrong)

[15:18:41.0000] <gsnedders>
smaug____: It's implicit of the whole parser section, where document.write is processed (upon script execution) by inserting characters into the input stream, and then just a matter of when elements get added during parsing, which is always as they're created.

[15:29:58.0000] <smaug____>
yeah, looks like so

[15:30:08.0000] <smaug____>
I wonder if that is actually a bug

[15:30:15.0000] <smaug____>
or something which should be changed

[15:47:53.0000] <gsnedders>
smaug____: Observing this through mutation observers?

[15:49:06.0000] <smaug____>
yup

[15:49:37.0000] <smaug____>
I could also just let hsivonen to fix his parser :)


2013-12-30
[00:44:29.0000] <Ms2ger`>
krijn, down again?

[03:19:46.0000] <krijnh>
Ms2ger`: am I/

[03:19:51.0000] <krijnh>
Ah

[03:21:58.0000] <krijnh>
And back up!

[03:23:39.0000] <Ms2ger`>
Yep, thanks

[08:46:57.0000] <dglazkov>
good morning, Whatwg!

[09:44:02.0000] <jgraham>
Is stringification of HTML Elements actually specified these days? I suppose it is…

[09:44:40.0000] <jgraham>
Anyway I am all in favour of deleting these Microsoft tests since they are so hopelessly inefficient

[10:05:08.0000] <gsnedders>
jgraham: Which stringification?

[10:18:33.0000] <jgraham>
[object HTMLElement]

[10:24:54.0000] <gsnedders>
jgraham: That's been spec'd for ages by virtue of WebIDL, no?

[10:25:19.0000] <gsnedders>
jgraham: Also, when you have time, look through the open html5lib-python PRs?

[10:27:53.0000] <jgraham>
gsnedders: Probably

[10:28:23.0000] <jgraham>
gsnedders: I started looking at the PR about using setuptools, but I wasn't sure why it's an improvement

[10:32:51.0000] <gsnedders>
jgraham: It allows you to do stuff like pip install html5lib[test] and get html5lib and all test dependencies installed

[10:33:18.0000] <gsnedders>
I'm perfectly fine with it in principle, just as my review comments say, there's plenty wrong with the patch…

[10:33:49.0000] <gsnedders>
jgraham: (I'm esp. interested in PRs I'm the author of and cannot review myself, inevitably.)

[10:34:30.0000] <gsnedders>
jgraham: #95, and opinions on what to do with html5lib-tests, more than anything

[10:34:45.0000] <gsnedders>
I mean, I could just make a unilateral decision here. :)

[10:35:59.0000] <jgraham>
gsnedders: Oh, I didn't see that you had some comments already

[10:36:23.0000] <gsnedders>
jgraham: On GitHub, given Critic is broken from force pushed commits.

[10:37:28.0000] <gsnedders>
jgraham: I wonder if it's worthwhile dealing with force pushed commits by adding in a merge (with theirs strategy) commit to keep it identical (in terms of content, if not in terms of commit log).

[10:38:31.0000] <jgraham>
gsnedders: Critic "supports" rebasing forced pushes now. Although it doesn't really do anything useful in this case

[10:38:45.0000] <gsnedders>
jgraham: Oh, my comments are attached to the commit that used to be the top of the branch

[10:39:17.0000] <gsnedders>
jgraham: Does Critic send emails yet if they haven't logged in there?

[10:39:27.0000] <gsnedders>
jgraham: Because if not, it's of limited use. :|

[10:39:39.0000] <jgraham>
gsnedders: So I can't actually see them from the github UI without hunting for that commit?

[10:39:44.0000] <gsnedders>
jgraham: Yup!

[10:39:57.0000] <gsnedders>
The one thing that hasn't been dealt with is splitting the commit into two commits.

[10:39:58.0000] <jgraham>
gsnedders: No, critic only emails people that actually have accounts

[10:40:09.0000] <jgraham>
Which means logging in

[10:40:18.0000] <gsnedders>
jgraham: Which means lots of contributors never get notified about review comments. Which is /really/ annoying.

[10:40:28.0000] <jgraham>
"lots of contributers"

[10:40:32.0000] <jgraham>
lol

[10:40:52.0000] <gsnedders>
jgraham: There's a surprising number of PRs which come from people who come and give one, then are never seen again.

[10:40:54.0000] <jgraham>
I typically add a "comments are on critic" comment

[10:42:29.0000] <jgraham>
Anyway the github thing of hiding all comments when someone does a history rewrite, and encouraging people to do history rewrites is more annoying

[10:45:12.0000] <gsnedders>
jgraham: So how does Critic deal with rebasing stuff?

[10:49:54.0000] <jgraham>
gsnedders: Well I thought that given an old head H, a new head H' and a common base B it would construct the diffs B-H and B-H' and then diff those diffs to work out what changes had been introduced by the rebase. That would be represented as an equivalent merge commit.

[10:51:43.0000] <jgraham>
Which I guess is what it's doing, but it doesn't work too well if there is a move and a squash, because the changes from the move become part of the merge commit

[10:51:57.0000] <jgraham>
Hard to know how to deal with that really

[10:55:05.0000] <gsnedders>
With #95, the big question is what to do with tests, really

[11:08:56.0000] <JonathanNeal>
Where is a good place to ask people about DOM Promises.

[11:09:19.0000] <Domenic_>
JonathanNeal: nowhere, because DOM Promises do not exist ;). It's ES6 promises now.

[11:09:23.0000] <Domenic_>
#promises is a good channel though

[11:11:28.0000] <JonathanNeal>
Oh, good to know.

[11:11:31.0000] <JonathanNeal>
Thanks Domenic_.

[11:23:42.0000] <Domenic_>
Anyone know how to move pages in MDN?

[12:06:33.0000] <SimonSapin>
Domenic_: IIRC that’s a missing feature in MDN

[12:07:02.0000] <SimonSapin>
try #mdn on irc.mozilla.org

[12:09:47.0000] <ondras>
Domenic_: ?

[12:10:04.0000] <Domenic_>
SimonSapin: I found how to create redirects, which seems good enough

[12:10:06.0000] <Domenic_>
ondras: ???

[12:10:23.0000] <ondras>
Domenic_: I have a promises-related question

[12:10:38.0000] <ondras>
Domenic_: is there some common nomenclature for the case when you want to "glue" two promises together?

[12:10:47.0000] <Domenic_>
What does that mean?

[12:11:07.0000] <ondras>
Domenic_: as in, you have P1 and P2 and want to chain them as in "P1.then(P2)"

[12:11:10.0000] <ondras>
or, more specifically

[12:11:25.0000] <ondras>
P1.then(P2.fulfill.bind(P2), P2.reject.bind(P2))

[12:11:41.0000] <ondras>
Domenic_: I would like to know whether there is some "standardized" method to do so

[12:11:46.0000] <ondras>
as in, P1.chain(P2)

[12:11:47.0000] <ondras>
or something.

[12:11:59.0000] <Domenic_>
P1.then(() => P2)

[12:12:22.0000] <ondras>
yes. but without the explicit anonymous function :)

[12:12:36.0000] <Domenic_>
well, nope. Some libraries like Q have P1.thenResolve(P2)

[12:12:45.0000] <ondras>
(which happens to be a bit more verbose in JS interpreters without arrow notation :-))

[12:13:09.0000] <ondras>
Domenic_: okay. I will probably make a method for my impl, was just looking for a suitable name

[12:13:20.0000] <ondras>
I happen to run into this use case rather frequently...

[14:01:59.0000] <anon__>
What's the best way to resize a site with CSS? Like I've got a column of content that's been positioned absolutely but if it extends past the page you can't scroll too it

[14:16:07.0000] <hauleth>
hi


2013-12-31
[16:06:15.0000] <rektide>
so http://www.whatwg.org/specs/web-apps/current-work/#ping "The ping attribute, if present, gives the URLs of the resources that are interested in being notified if the user follows the hyperlink. The value must be a set of space-separated tokens" yada yada yada

[16:06:53.0000] <rektide>
once again i call on this channel to confirm unto me someone is on this hackery and it will be better that concatting strings together

[16:08:09.0000] <rektide>
give me DOMSettableTokenList or give me something else

[16:09:01.0000] <gsnedders>
Yeah, that seems silly in the DOM.

[16:09:19.0000] <rektide>
it's not silly. it's filthy dirty heathenism and it must see the brightest light.

[16:10:38.0000] <gsnedders>
I mean, I guess it's consistent with @rel, but I don't see what other justification there is for that.

[16:10:54.0000] <rektide>
DOMSettableUrlList

[16:10:59.0000] <rektide>
it is the ONLY sane answer

[16:11:05.0000] <rektide>
he has spoken to me, we just chatted

[16:11:23.0000] <rektide>
all else will melt under this blinding light, this absolute pinacle Most Supreme form

[20:58:24.0000] <MikeSmit1>
'I expect that browsers will move to a simplified version of XML that doesn't support namespaces... we'll process XML content using the "foreign content" HTML parsing algorithm'

[20:58:44.0000] <MikeSmit1>
yes please

[20:59:04.0000] <MikeSmit1>
from abarth https://groups.google.com/a/chromium.org/d/msg/blink-dev/zIg2KC7PyH0/Ym28fD2ZIAsJ

[21:50:55.0000] <MikeSmit1>
rektide++

[21:53:10.0000] <MikeSmit1>
"I have also noticed that IE has with version 10 deprecated use of XPath"

[21:53:13.0000] <MikeSmit1>
oh yeah?

[21:53:52.0000] <MikeSmit1>
per https://groups.google.com/a/chromium.org/d/msg/blink-dev/zIg2KC7PyH0/njaoWjDEzXAJ

[00:42:06.0000] <SimonSapin>
gsnedders: argh, I just noticed that my critic comment from last week was a "draft" that I still needed to "submit"

[06:14:24.0000] <annevk-cloud>
Nice emails Mike on www-tag

[06:14:48.0000] <annevk-cloud>
Very fitting for this time of year too :)

[06:27:17.0000] <MikeSmit1>
annevk-cloud: thanks

[06:34:33.0000] <MikeSmit1>
annevk-cloud: I guess those'll actually be the la[Cst messages I send this year. Less than 30 minutes now before the bells ring here and we step outside into the cold for a bit for a visit for a first 2014 to the neighborhood shrine to get some good luck

[07:01:05.0000] <annevk-cloud>
MikeSmit1: enjoy! 14 hours left here :)

[07:10:54.0000] <MikeSmith>
friends, happy new year from the mountains of Nagano

[07:11:15.0000] <MikeSmith>
annevk-cloud: ^

[07:13:05.0000] <MikeSmith>
here's to kicking the shit out of things on the Web together in 2014

[07:18:18.0000] <wilhelm>
I'll toast to that!

[07:20:09.0000] <wilhelm>
MikeSmith: I'll be back in Tokyo in April, by the way. :)

[07:27:39.0000] <MikeSmith>
wilhelm: looking forward to seeing you. hopefully the cherry blossoms will be in bloom while you're here

[07:36:49.0000] <gsnedders>
wilhelm: You there for all of April?

[07:37:34.0000] <gsnedders>
/me was vaguely (very vaguely) wondering about appearing in Scandinavia in April, but may well just meet people around Gbg if he goes.

[08:02:49.0000] <wilhelm>
gsnedders: From the 3rd of April to the 4th of May.

[09:27:56.0000] <annevk-cloud>
MikeSmith: Nagano? You lucky bastard

[09:31:33.0000] <MikeSmith>
annevk-cloud: well we not really mountaineering. Just in the Matsumoto foothills. But planning to get up a little higher this week

[09:32:08.0000] <MikeSmith>
but it's nice right here now anyway

[13:04:15.0000] <rektide>
oh god. please don't take XPath away

[13:04:27.0000] <rektide>
what am i supposed to query with instead?

[14:16:58.0000] <Jasper>
rektide, CSS selectors?

[14:24:46.0000] <rektide>
Jasper: in many cases yes, for sure

[14:25:26.0000] <rektide>
i cannot help but be reviled- i don't understand who or why or what for- having structured data is/was being abandoned

[14:26:08.0000] <rektide>
it seems like one of those crusades where people say "we have to make this technology dumber! think of the dumb stupid developers, they hate this"

[14:27:53.0000] <rektide>
there's so much tech zealotry, people get so fucking high and mighty jacking off on how much they help make things soo easy for such stupid dumb people that have sooo much of a hard time with the status quo. major ego flexing being "we are so smart we made exactly what the stupid people can finally use" as if that's really going to make a huge difference

[14:28:53.0000] <rektide>
but this is way upstream of the css selectors now being the only thing left that makes a lick of sense now that it's declared XML has to die

