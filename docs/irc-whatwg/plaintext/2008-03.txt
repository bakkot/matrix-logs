2008-03-01
[16:43:00.0000] <jgraham>
Is it correct that the spec now allows <blockquote> as a child of <header>?

[16:58:00.0000] <jgraham>
(I hope it is allowed as I think I have a reasonable use case)

[17:01:00.0000] <annevk>
seems like it

[17:37:00.0000] <Philip`>
http://blogs.msdn.com/brian_jones/archive/2008/02/29/brm-is-done-time-to-sleep.aspx and http://www.tbray.org/ongoing/When/200x/2008/02/29/BRM-narrative have surprisingly strongly contrasting views on how well the process worked

[22:19:00.0000] <jwalden>
/me grumbles yet again about forgetting +whatwg

[06:46:00.0000] <gsnedders>
d

[06:46:01.0000] <gsnedders>
ergh.

[06:47:00.0000] <gsnedders>
do we require an h1 to be present before an h2 in a document?

[06:51:00.0000] <Lachy>
gsnedders, I don't think so

[06:51:01.0000] <gsnedders>
nor do I

[06:52:00.0000] <gsnedders>
I just came across an (informative) example that had an <h6> after a <h2>

[14:03:00.0000] <gsnedders>
Standards truly suck.

[14:03:01.0000] <gsnedders>
Why do I bother trying?

[14:07:00.0000] <Philip`>
gsnedders: Because you are illogical and irrational?

[14:07:01.0000] <gsnedders>
Philip`: I'm not, though.

[14:07:02.0000] <Philip`>
That's a good enough reason for working on what you want to work on

[14:09:00.0000] <gsnedders>
I'm working with an IRI class. URI schemes are so badly spec'd.

[14:09:01.0000] <gsnedders>
dict is especially funny.

[14:10:00.0000] <gsnedders>
it uses : as a separator in the URI, which in one case occurs after word, but word doesn't prohibit a : from being in there

[14:11:00.0000] <gsnedders>
you seriously need AI to parse it.

[14:14:00.0000] <Philip`>
Oh, that sounds like suboptimal design

[14:14:01.0000] <gsnedders>
Yeah. It makes it rather hard to normalise in my PHP IRI class.

[14:15:00.0000] <gsnedders>
I guess I could just send an email to me everytime it happens, but it'd make the script rather slow.

[14:18:00.0000] <Philip`>
You could always assume that the intention was that unquoted words can't contain colons, but maybe that'd be too easy a way out of the problem :-p

[14:22:00.0000] <gsnedders>
Philip`: I can't claim to parse the URI scheme properly as spec'd though :P

[14:23:00.0000] <Philip`>
But nobody cares about specs as long as the programs they use don't break

[15:52:00.0000] <annevk>
gsnedders, standards suck, the goal is to make them suck less


2008-03-02
[16:37:00.0000] <gsnedders>
annevk: the problem is implementing sucky standards.

[00:44:00.0000] <annevk>
gsnedders, implementing them is the first step

[01:15:00.0000] <Hixie>
woot, managed a whole three paragraph e-mail with equal line lengths throughout

[01:17:00.0000] <annevk>
in 512 characters?

[01:31:00.0000] <Hixie>
/me investigates <span ===>

[01:31:01.0000] <Hixie>
webkit: ignores any attributes starting with =

[01:32:00.0000] <Hixie>
opera does too

[01:33:00.0000] <Hixie>
wow, so does firefox

[01:34:00.0000] <annevk>
ie7 doesn't

[01:34:01.0000] <annevk>
<span ===? gives SPAN ="=="

[01:36:00.0000] <Hixie>
yeah that's what the spec will say

[01:36:01.0000] <Hixie>
except it'll now be a parse error too

[01:38:00.0000] <Hixie>
actually no

[01:39:00.0000] <Hixie>
the spec will require <span ===> to become a SPAN with an '=' attribute with value '='.

[01:39:01.0000] <annevk>
ie specialcases = in the name state

[01:39:02.0000] <annevk>
to directly go to the attribute value state

[01:39:03.0000] <Hixie>
effectively

[01:40:00.0000] <annevk>
it's actually weirder

[01:41:00.0000] <annevk>
<span =x"="x> versus <span =x"="x">

[01:42:00.0000] <annevk>
/me can't really make sense out of it

[01:43:00.0000] <Hixie>
<span a=b =x"="x> for me is being treated as a text node

[01:44:00.0000] <Hixie>
wow yeah that's some confusing shit right there

[01:44:01.0000] <Hixie>
glad we don't care enough about that edge case

[02:16:00.0000] <Hixie>
<x a=& b="& "> has no parse errors, but <x c="&"> does

[02:16:01.0000] <Hixie>
that seems bad

[02:17:00.0000] <Hixie>
and fixing it would be a bitch unless we just allow &" and &' anywhere.

[02:20:00.0000] <annevk>
that doesn't seem too harmful

[02:24:00.0000] <Hixie>
hm, found an easy solution

[02:24:01.0000] <Hixie>
which will probably be a pain to implement, but oh well

[02:24:02.0000] <annevk>
rly?

[02:24:03.0000] <annevk>
hmm

[03:20:00.0000] <Hixie>
how do we feel about adding entities?

[03:21:00.0000] <annevk>
i think it makes sense to add the ones IE already has

[03:22:00.0000] <annevk>
and MathML at some point...

[03:23:00.0000] <annevk>
/me sitll considers named entities rather useful

[03:43:00.0000] <Philip`>
Is it intentional that <foo bar=> is not a parse error?

[03:43:01.0000] <Hixie>
yes

[03:44:00.0000] <gsnedders>
I too would like to see MathML entities, FWIW

[03:44:01.0000] <Hixie>
see the comment i just added about entities

[03:45:00.0000] <gsnedders>
ah

[04:20:00.0000] <Philip`>
Hmph, every time I update my tokenisers to match the spec, the spec changes

[04:23:00.0000] <Hixie>
well right now i'm responding to tokeniser and parser feedback

[04:23:01.0000] <Hixie>
so yes

[04:23:02.0000] <Hixie>
:-)

[04:23:03.0000] <Hixie>
bed time now though

[04:44:00.0000] <gsnedders>
Anyone have any ideas of how to parse a dict URI with a turing machine (i.e., breaking the spec)

[04:46:00.0000] <Philip`>
/me discovers that "<foo bar=''" now has more parse errors than before

[04:48:00.0000] <Philip`>
Python html5lib now fails 21 tests, so I guess I shouldn't commit the updated tests

[04:49:00.0000] <gsnedders>
it's awfully easy to define something that's impossible to parse with ABNF

[05:15:00.0000] <Philip`>
Hixie: "After attribute value (quoted) state" -> "Reconsume the character in thebefore attribute name state." is missing a space

[10:36:00.0000] <annevk>
Is http://forums.whatwg.org/viewtopic.php?t=164 basically a request for CURIES? ...

[11:14:00.0000] <Lachy>
I like how he claims that the processing requirements for the new feature are "The same as the current <BASE> element "


2008-03-03
[18:12:00.0000] <Hixie>
so my girlfriend looks over my shoulder at the changes i just made, and without knowing i had just added them, points to the three sections i added or renamed today and laughs at me for naming them that

[18:12:01.0000] <Hixie>
maybe i'm having a bad naming day or something

[18:23:00.0000] <Lachy>
Hixie, which section names were they?

[18:24:00.0000] <Hixie>
the "after after body insertion mode", the "after after frameset insertion mode", and the "unexpected end" (with the rules for when you stop parsing "with prejudice")

[18:45:00.0000] <Hixie>
god, i can't wait for gsnedders' preprocessor

[19:02:00.0000] <mpt>
after after?

[19:05:00.0000] <jwalden>
after post-* perhaps if you care enough about the wording

[19:14:00.0000] <Lachy>
does anyone know if Firefox 3 has implemented support for any microformats yet?  If so, what have they got, or did they drop that idea?

[19:19:00.0000] <jwalden>
I think it's mostly extensionland

[19:31:00.0000] <Lachy>
yeah, I'm aware of the extensions, but there were announcements around the beginning of last year that FF3 was going to add native support for them

[20:14:00.0000] <jwalden>
I think they never had a developer willing and capable, time-wise, of doing so

[20:14:01.0000] <jwalden>
but I didn't pay too mcuh attention

[21:14:00.0000] <Hixie>
Philip`: yt?

[00:15:00.0000] <zcorpan>
Hixie: re gamespy.com, opera does use quirks mode, apparently; i was probably getting confused myself by all the testing back and forth

[00:16:00.0000] <Hixie>
were the changes i made still good?

[00:16:01.0000] <zcorpan>
i think so

[00:17:00.0000] <zcorpan>
haven't looked at the changelog yet, but i trust that you did what you said you did :)

[00:17:01.0000] <Hixie>
please don't :-)

[00:17:02.0000] <zcorpan>
i have some more doctype feedback coming soon

[00:17:03.0000] <Hixie>
with these changes i expect i've made all kinds of errors

[00:17:04.0000] <Hixie>
cool

[00:18:00.0000] <zcorpan>
i think we need to ignore the trailing "EN" (or whatever it might be) in the FPI

[00:19:00.0000] <zcorpan>
firefox and safari don't work with a number of pages because of that

[00:19:01.0000] <zcorpan>
but opera and ie do

[00:21:00.0000] <zcorpan>
looking at about 60 pages that have something other than //EN at the end (and wouldn't trigger standards mode anyway), 34 look good only in quirks mode, 1 looks good only in standards mode (in opera/firefox), and 1 looks good only in standards mode in opera but the same in quirks or standards in firefox

[00:21:01.0000] <zcorpan>
and the rest looked pretty much the same in either mode

[00:30:00.0000] <Hixie>
if you haven't already, send mail saying how you propose to check for that in the spec

[00:31:00.0000] <zcorpan>
i'm about to send it in a minute. just check that the FPI *starts* with e.g. "-//w3c//dtd html 3.2//"

[00:32:00.0000] <hsivonen>
Hixie: should I expect large volumes of conformance checker-relevant spec changes in the near term?

[00:32:01.0000] <Hixie>
hsivonen: i'm currently going through the tree construction feedback

[00:32:02.0000] <hsivonen>
Hixie: I take that as a "yes" :-)

[00:33:00.0000] <Hixie>
well, i'm almost done

[00:33:01.0000] <Hixie>
and after that i'm out of things to do again

[00:33:02.0000] <Hixie>
so. maybe not "large" volumes :-)

[00:33:03.0000] <hsivonen>
ok. perhaps then I should just file bugs for the changes manually and not write a script

[00:37:00.0000] <hsivonen>
hmm. looks like I'm going to need the script anyway. 

[00:41:00.0000] <Hixie>
script?

[00:43:00.0000] <hsivonen>
Hixie: a script for mining the spec svn log for conformance checker and tools-relevant changes and filing bugs automatically so that I don't miss changes

[00:43:01.0000] <hsivonen>
at this point, doing a vgrep on the spec and parser source isn't such a great idea

[00:43:02.0000] <hsivonen>
or vdiff, rather

[00:46:00.0000] <hsivonen>
hmm. I see a form field called "source" handled in web-apps-tracker, but I don't see a field named that way in the form

[00:47:00.0000] <zcorpan>
hsivonen: another hidden feature? :)

[00:47:01.0000] <Hixie>
anything with "c" (or is it "v"? one or the other) in the "affected" part of the checkin comments will give you the checkins that i think affect you

[00:48:00.0000] <hsivonen>
Hixie: yeah. now I need to figure out how to modify web-apps-tracker to post to Bugzilla

[00:48:01.0000] <Hixie>
heh

[00:48:02.0000] <Hixie>
good luck wit hthat

[00:49:00.0000] <hsivonen>
umm. is there a reason to expect that luck is needed when posting to Bugzilla_

[00:49:01.0000] <hsivonen>
?

[00:54:00.0000] <Hixie>
well your script will need to deal with cookies

[00:55:00.0000] <Hixie>
which always makes things exciting in my experience

[00:56:00.0000] <hsivonen>
isn't the login cookie a constant that can be hard-coded once sniffed from a browser session?

[01:04:00.0000] <Hixie>
not with bugzilla

[01:04:01.0000] <Hixie>
it is ip-address locked, iirc

[01:07:00.0000] <zcorpan>
hsivonen: see http://www.sitepoint.com/forums/showthread.php?p=3739972#post3738863 and onward

[01:08:00.0000] <zcorpan>
Hixie: likewise, perhaps accesskey should be made conforming... :)

[01:08:01.0000] <Hixie>
there's a whole folder on accesskey

[01:08:02.0000] <Hixie>
we need a solution

[01:08:03.0000] <Hixie>
we don't have one

[01:08:04.0000] <Hixie>
at least last i checked :-)

[01:09:00.0000] <zcorpan>
flagging it as an error isn't helping authors, it seems

[01:19:00.0000] <hsivonen>
zcorpan: I'm still trying to shun doctype sniffing on the XML side

[01:19:01.0000] <zcorpan>
hsivonen: yeah

[01:20:00.0000] <hsivonen>
(for the reasons stated in http://hsivonen.iki.fi/doctype/#xml )

[01:20:01.0000] <Hixie>
zcorpan: i agree; i haven't worked out what we should do yet

[01:20:02.0000] <hsivonen>
zcorpan: and the project that became Validator.nu started specifically as a non-DTD validator

[01:21:00.0000] <zcorpan>
hsivonen: don't tell me :)

[01:21:01.0000] <Philip`>
Hixie: Yes

[01:21:02.0000] <hsivonen>
:-)

[01:22:00.0000] <Hixie>
Philip`: no idea what i wanted to ask you anymore, sorry. it was probably about one of the e-mails you sent, in which case the question will be in my e-mail reply now.

[01:22:01.0000] <Philip`>
Oh, okay :-)

[01:23:00.0000] <hsivonen>
zcorpan: anyway, I don't find actionable feedback that doesn't run counter central design decisions or that don't belong to Hixie's plate instead (accesskey)

[01:23:01.0000] <zcorpan>
hsivonen: what about the accept header?

[01:26:00.0000] <hsivonen>
zcorpan: My thinking is that XHTML+MathML+SVG+RDF has a larger feature set than HTML only, so the former should be preferred

[01:26:01.0000] <hsivonen>
besides, people who do conneg usually want everything but IE to see the non-text/html version

[01:27:00.0000] <hsivonen>
moreover, the generic UI has a manual override anyway

[01:28:00.0000] <zcorpan>
makes sense, i guess tommy's case is a bit uncommon in using xhtml but wanting html

[01:28:01.0000] <zcorpan>
hsivonen: can i send GET parameters along with Opera's validate feature now?

[01:29:00.0000] <zcorpan>
(or remember settings some other way?)

[01:32:00.0000] <hsivonen>
zcorpan: what kind of GET parameters? Opera does a POST, doesn't it?

[01:32:01.0000] <zcorpan>
hsivonen: uh, make that GET-like parameters along with a POST request

[01:33:00.0000] <zcorpan>
that is, typing in http://validator.nu/?parser=html in opera:config

[01:33:01.0000] <hsivonen>
zcorpan: they are supported if those fields come before the form field that contains the document

[01:33:02.0000] <hsivonen>
oh

[01:33:03.0000] <hsivonen>
that's not supported

[01:33:04.0000] <Hixie>
me gets an e-mail from someone saying that the acid3 page on wikipedia is unfair to oepra because opera can't show its daily progress on nightly builds

[01:33:05.0000] <Hixie>
i wonder if i should point out that it was opera people who _created_ that page...

[01:34:00.0000] <Philip`>
It seems no more unfair to Opera than it is to IE

[01:35:00.0000] <hsivonen>
zcorpan: filed http://bugzilla.validator.nu/show_bug.cgi?id=77

[01:35:01.0000] <Hixie>
Philip`: well they also said it was unfair to IE

[01:36:00.0000] <zcorpan>
hsivonen: thanks

[01:41:00.0000] <Hixie>
hsivonen: so you think <table><p><i></table> should be only one error, not two? (wrong place for the <p>, missing </i>)

[01:43:00.0000] <Hixie>
i guess <table><p><i><tr> should arguably be not fewer errors than <table><p><i></table>

[01:43:01.0000] <Hixie>
and right now it is

[01:47:00.0000] <hsivonen>
Hixie: what have I said?

[01:48:00.0000] <hsivonen>
Hixie: two errors in that case seems reasonable on surface

[01:48:01.0000] <Hixie>
i've made it one error

[01:48:02.0000] <Hixie>
(foster parenting)

[01:48:03.0000] <hsivonen>
Hixie: well, that's sufficient for finding the document as a whole to be in error

[01:48:04.0000] <Hixie>
and made <table><p><tr> be one error too (it used to be two errors)

[01:48:05.0000] <Hixie>
yeah

[01:49:00.0000] <Hixie>
the next commit is this change

[01:50:00.0000] <Hixie>
man, i kee having to look at what the subject line of these mails was to work out what section they're talking about

[01:52:00.0000] <annevk>
hmm, i guess I can duplicate the subject line in the body somehow from now on

[01:52:01.0000] <hsivonen>
Hixie: I'm having trouble parsing that. Do you mean all the relevant bits should be in the email body from now on?

[01:53:00.0000] <Hixie>
pretend that i never look at the subject line

[01:53:01.0000] <Hixie>
i read the e-mail bodies to work out where to file the e-mails, and when i reply to them i just reply to a concatenated stream of bodies

[01:54:00.0000] <Hixie>
so really i never see the subject lines

[01:54:01.0000] <hsivonen>
Hixie: ok

[01:54:02.0000] <Hixie>
thanks :-)

[01:54:03.0000] <annevk>
can't you concatenate the subject too btw?

[01:54:04.0000] <Hixie>
(it's no biggie, though)

[01:55:00.0000] <Hixie>
annevk: i use pine, and pine doesn't do that

[01:55:01.0000] <hsivonen>
(aside: the bugzilla login cookie seems to be a constant)

[01:55:02.0000] <Hixie>
really? not ip-locked?

[01:55:03.0000] <Hixie>
i wonder why i keep getting logged out then

[01:55:04.0000] <hsivonen>
Hixie: I mean constant across requests

[01:55:05.0000] <Hixie>
ah ok

[01:55:06.0000] <annevk>
you can make it ip-locked if you want

[01:56:00.0000] <annevk>
at least, last time I checked that was optional

[01:56:01.0000] <Hixie>
yeah but that check box seems to not work across browsers, or something

[01:56:02.0000] <Hixie>
maybe it's locked to browser+ip or something

[01:56:03.0000] <Hixie>
i dunno

[01:56:04.0000] <gavin_>
the checkbox doesn't remove all IP restrictions, afaik

[01:56:05.0000] <Hixie>
i do know i keep having to log in to the various bugzilla instances i use

[01:56:06.0000] <gavin_>
it only makes them looser

[01:56:07.0000] <Hixie>
ah

[01:56:08.0000] <Hixie>
well it's annoying as hell

[01:57:00.0000] <annevk>
maybe it's better to have a private pc versus public pc option...

[02:00:00.0000] <Philip`>
Maybe they do that since it's easy to make an attachment file that steals people's cookies?

[02:01:00.0000] <Philip`>
but then they could just use HttpOnly cookies instead

[02:06:00.0000] <hsivonen>
Hixie: do I understand correctly that when you say "BOM", you mean U+FEFF. but when the Unicode folks say "BOM", they mean U+FEFF that indeed functions as a BOM?

[02:07:00.0000] <Hixie>
i rarely say "BOM" alone

[02:07:01.0000] <Hixie>
i usually say "U+FEFF BYTE ORDER MARK character" or some such

[02:09:00.0000] <hsivonen>
oh. Martin Dürst was quoting gsnedders, not you

[02:09:01.0000] <hsivonen>
anyway, I think I agree with Martin's point if I understood it correctly

[02:09:02.0000] <zcorpan>
speaking of BOMs, i noted a while ago that ES4 strips/ignores *all* U+FEFFs

[02:10:00.0000] <zcorpan>
because it was needed for web compat

[02:10:01.0000] <hsivonen>
that is, I think BOM swallowing should be left on the encoding layer except in the case of UTF-8 in which case the HTML5 layer should swallow it

[02:11:00.0000] <hsivonen>
conceptually, that is

[02:11:01.0000] <Hixie>
hsivonen: respond to my e-mail on the subject explaining why it helps users to do that instead of what i proposed :-)

[02:11:02.0000] <hsivonen>
in practice, the BOM sniffing needs to happen on the HTML layer, though... 

[02:12:00.0000] <hsivonen>
so one would actually implement "UTF-16" by instantiating a UTF-16BE or a UTF-16LE decoder after swallowing the BOM

[02:12:01.0000] <Hixie>
x<table> x</table> -- should that render as "xx" like in firefox, or "x x" like in safari?

[02:13:00.0000] <hsivonen>
Hixie: I guess I have to reread what you proposed and test UTF-16BE with initial U+FEFF in browsers

[02:13:01.0000] <annevk>
Firefox seems better

[02:13:02.0000] <annevk>
(because you keep whitespace inside the <table>, which is also what Acid3 requires fwiw...)

[02:14:00.0000] <hsivonen>
after all, it seems to boil down to whether browsers treat an initial U+FEFF in UTF-16BE as non-space character data or not

[02:14:01.0000] <Hixie>
oh there's no doubt that <table> </table> has no foster parenting

[02:14:02.0000] <Hixie>
annevk: (the safari output could be obtailed through adoption)

[02:14:03.0000] <annevk>
then i guess I don't care

[02:14:04.0000] <Hixie>
/me looks at his data to see if anyone is using utf-16

[02:15:00.0000] <annevk>
<form> parsing is still causing us issues btw

[02:15:01.0000] <hsivonen>
Safari output follows from doing the whitespaceness check on the text node level which kinda makes sense

[02:15:02.0000] <annevk>
nested forms are common enough to warrent special rules it seems... :(

[02:15:03.0000] <Hixie>
annevk: has feedback been sent?

[02:16:00.0000] <annevk>
no, I've no idea what the spec should say

[02:16:01.0000] <annevk>
but probably something that matches WebKit/Firefox

[02:17:00.0000] <Hixie>
i saw UTF-16 explicitly declared on 0.004% of pages

[02:18:00.0000] <Hixie>
annevk: well, i don't even know what the issue is unless i have feedback :-)

[02:19:00.0000] <Philip`>
/me wrote a page with some script that DOM-inserts a form into the middle of another form, because he wanted an asynchronous file-upload box in the middle of a normal input form, and it felt quite evil :-(

[02:19:01.0000] <Philip`>
(but I think it works anyway, so that's good enough for me)

[02:24:00.0000] <Hixie>
hmm

[02:24:01.0000] <Hixie>
i wonder if we should do what hsivonen suggests in this e-mail, and basically make the tokeniser only emit strings, not characters

[02:25:00.0000] <Philip`>
How does that work with incremental rendering?

[02:25:01.0000] <Philip`>
(...of pages which are just text)

[02:26:00.0000] <Hixie>
poorly

[02:26:01.0000] <Hixie>
it also works poorly with things like "   aaa" which should become "   <html><head><head><body>aaa"

[02:27:00.0000] <annevk>
i hope you're still allowed to do incremental rendering?

[02:27:01.0000] <annevk>
by moving parts of text over?

[02:28:00.0000] <zcorpan>
Hixie: it becomes "<html><head><head><body> aaa" in opera, it seems, and i don't think we've run into any trouble because of that

[02:30:00.0000] <Hixie>
yeah, spaces around optional tags are messed up by most browsers

[02:30:01.0000] <Hixie>
i'm trying to fix that

[02:30:02.0000] <annevk>
please don't

[02:31:00.0000] <annevk>
it has already caused us issues

[02:31:01.0000] <Hixie>
i'm not specifying something that screws up the round tripping that badly

[02:32:00.0000] <annevk>
guess we implement html5-delta then :p

[02:32:01.0000] <Hixie>
i don't see why it should break things if we do it right

[02:33:00.0000] <annevk>
it was something about expecting documentElement.firstChild to be <head>

[02:33:01.0000] <zcorpan>
yeah, not ignoring whitespace before head broke pages

[02:33:02.0000] <Hixie>
yeah well oepra's parsing of <head> is so fucked up as it is that that wouldn't work anyway :-P

[02:33:03.0000] <annevk>
dude, we fixed that

[02:33:04.0000] <Hixie>
i'll believe that when i see it :-P

[02:34:00.0000] <zcorpan>
what's fucked up?

[02:34:01.0000] <Hixie>
i filed the bug years ago, it was only once i forced hte issue that acid3 that i saw any movement there at all

[02:34:02.0000] <Hixie>
i'm not at all convinced that it's been compltely fixed

[02:34:03.0000] <zcorpan>
i think we don't get a head for frameset documents, but that's all i know

[02:35:00.0000] <zcorpan>
(i.e. frameset documents without an explicit head)

[02:35:01.0000] <Hixie>
hmm, whatever solution we come up with for "x<table> x</table>" can also work for "x</body> </html> x"

[02:36:00.0000] <zcorpan>
i'd like the latter to be solved by ignoring </body> and </html>, but then i don't care about roundtripping so much

[02:36:01.0000] <zcorpan>
at least not roundtripping or insignificant whitespace

[02:36:02.0000] <annevk>
Hixie, http://my.opera.com/desktopteam/blog/ :)

[02:36:03.0000] <zcorpan>
and placemenet of comments

[02:37:00.0000] <Hixie>
well, not roundtripping spaces there basically means that you can't put spaces after the </body>.

[02:37:01.0000] <zcorpan>
oh noes :)

[02:37:02.0000] <Hixie>
as in, the syntax is a lie if we say you can have spaces after </body>

[02:38:00.0000] <Hixie>
and i think that's dumb :-)

[02:38:01.0000] <Hixie>
annevk: the last opera build i tried failed to connect to the network half the time, and the one before that crashed on startup :-)

[02:38:02.0000] <Hixie>
not to mention that opera on mac looks ugly as hell :-P

[02:47:00.0000] <Hixie>
jeez this week is going to be insane

[02:47:01.0000] <Hixie>
so many meetings

[02:47:02.0000] <Hixie>
ok bed time

[02:47:03.0000] <Hixie>
nn

[03:15:00.0000] <hsivonen>
/me congratulates self for writing the spec log to bugzilla script anyway

[03:18:00.0000] <annevk>
Hixie, just keep trying... anyway, e-mailed the nested forms issue

[03:19:00.0000] <hsivonen>
has anyone tested if TIS-620 needs to become an alias for Windows-874?

[03:32:00.0000] <Philip`>
hsivonen: I see 39 pages (out of 125K) that use charset=tis-620, if that's what you mean

[03:37:00.0000] <hsivonen>
Philip`: I mean: do browser implement tis-620 as an alias of Windows-874?

[03:37:01.0000] <Philip`>
Ah, okay

[03:39:00.0000] <Philip`>
/me sees that the spec diffs don't provide enough context to actually be useful

[03:43:00.0000] <annevk>
how much do you want?

[03:45:00.0000] <Philip`>
Potentially a quite large number of lines

[03:45:01.0000] <Philip`>
which would be inconvenient in the more common cases, which isn't good

[03:45:02.0000] <annevk>
maybe a hidden parameter context ?

[03:45:03.0000] <annevk>
so you could mangle the URI if you need more

[03:46:00.0000] <Philip`>
It'd be nice if instead of "@@ -37190,21 +37190,22 @@ function receiver(e) {" it showed something useful like the most recent parent node id attribute but that's probably hard :-)

[03:46:01.0000] <annevk>
yes

[03:47:00.0000] <annevk>
note that most IDs are auto-generated and those are not shown in web-apps-tracker

[03:52:00.0000] <MikeSmith>
Philip` - please forward that auto-responder message to me at mike⊙wo

[03:53:00.0000] <Philip`>
MikeSmith: Sent

[03:53:01.0000] <MikeSmith>
thanks

[03:53:02.0000] <Philip`>
Hixie: r1305 ("This change does not change the black box behaviour of the spec") does appear to change the behaviour of the spec

[03:53:03.0000] <Philip`>
(unless I've made a mistake)

[03:54:00.0000] <Philip`>
e.g. with the input <!doctype! system""?

[03:54:01.0000] <Philip`>
Expected: [u'ParseError', u'ParseError', u'ParseError', [u'DOCTYPE', u'!', None, u'', False]]

[03:54:02.0000] <Philip`>
Got: [u'ParseError', u'ParseError', u'ParseError', [u'DOCTYPE', u'!', None, u'', True]]

[03:54:03.0000] <Philip`>
where 'Expected' is what my implementation used to give

[03:55:00.0000] <annevk>
are you sure that's not the result of 1306?

[03:56:00.0000] <Philip`>
Oh, good point - it is

[03:56:01.0000] <Philip`>
because I couldn't read the r1305 diff properly, so I was referring to the spec too and got them mixed up :-p

[03:56:02.0000] <Philip`>
Hixie: Please ignore me :-)

[04:10:00.0000] <annevk>
Hixie, 'The "before htmlhtml root element node, which is then added to the stack.' misses a space

[04:16:00.0000] <annevk>
in "before head insertion mode" are the second-to-last and last equal?

[04:17:00.0000] <annevk>
also, the first in the "before head insertion mode" should also be grouped with those

[08:34:00.0000] <gsnedders>
hsivonen: I meant U+FEFF functioning as a BOM

[08:35:00.0000] <hsivonen>
gsnedders: ok. then I think I misunderstood something

[08:35:01.0000] <hsivonen>
/me is bitten by the Python variable visibility rules again :-(

[08:37:00.0000] <Philip`>
/me thinks the visibility thing is an oddly inelegant part of the language

[08:50:00.0000] <gsnedders>
/me thinks the ambiguous amperstand is confusing

[08:56:00.0000] <Philip`>
/me unexpectedly realises that "Prince" sounds like "prints", and that that possibly wasn't a coincidence in the software name

[08:58:00.0000] <hsivonen>
annevk: would a stack of form pointers work for the nested form case or is the issue more complex?

[08:59:00.0000] <annevk>
did you see my e-mail?

[09:00:00.0000] <annevk>
you basically want some kind of scoping where </form> can't get through

[09:00:01.0000] <annevk>
and you probably don't want to set the form pointer to null either

[09:00:02.0000] <hsivonen>
annevk: I saw the email. is scope a form pointer stack or something else?

[09:00:03.0000] <annevk>
<form><div></form><input></div></form> the <input> is still associated with the form

[09:01:00.0000] <hsivonen>
eww.

[09:01:01.0000] <annevk>
hsivonen, it's a block level element

[09:01:02.0000] <Philip`>
In <form><div><form><input>..., which form is the input associated with?

[09:01:03.0000] <annevk>
<center>, <blockquote>, <h1> - <h6>, <div>, etc.

[09:01:04.0000] <annevk>
Philip`, the second <form> gets ignored because the form pointer is already associated with something

[09:04:00.0000] <annevk>
Philip`, are you revising tests for all HTML5 spec changes?

[09:05:00.0000] <hsivonen>
more cases where legacy encoding labels are de facto aliases for newer encodings keep creeping out of the woodwork

[09:06:00.0000] <annevk>
i saw that in #webkit and asked him to mail whatwg⊙wo, i'm glad he did :)

[09:06:01.0000] <Philip`>
annevk: Only for the tokeniser

[09:07:00.0000] <Philip`>
(and I can't guarantee I haven't missed any changes)

[09:08:00.0000] <annevk>
hopefully enough fresh implementations keep coming to sort out all the mistakes...

[09:08:01.0000] <annevk>
or test contributions for that matter

[09:09:00.0000] <hsivonen>
aside: great Python on JVM news: http://fwierzbicki.blogspot.com/2008/02/jythons-future-looking-sunny.html

[09:09:01.0000] <Philip`>
I've been updating the Python html5lib to follow the spec, but gave up on the Ruby one after finding that it already had some non-trivial bugs (plus a trivial bug that hid all the others)

[09:10:00.0000] <Philip`>
Well, at least it had one non-trivial bug

[09:10:01.0000] <Philip`>
and maybe it was actually trivial, but I didn't try looking because I worried it might not be

[09:11:00.0000] <annevk>
did you leave the bug exposed?

[09:11:01.0000] <annevk>
if you did someone else will prolly fix it

[09:11:02.0000] <Philip`>
(this being the <x y="&notit"> case or something like that)

[09:11:03.0000] <Philip`>
annevk: Yes, it'll fail if someone runs the tokeniser tests

[09:11:04.0000] <annevk>
ah, that was annoying to fix on the python side too...

[09:12:00.0000] <annevk>
and the python side was actually hiding some bugs there too, i remember, hmm

[09:12:01.0000] <annevk>
since ruby was a port, i guess that's what went wrong...

[09:12:02.0000] <Philip`>
It seems easy to handle all the entities just with a regexp

[09:12:03.0000] <Philip`>
(plus another regexp for entities in attributes)

[09:13:00.0000] <Philip`>
though that's not so good if your input is a stream rather than a string

[11:19:00.0000] <Philip`>
hsivonen_: The obvious question is, what were fmt=0 up to fmt=5?

[11:50:00.0000] <Hixie>
Krzysztof Żelechowski's e-mails read like poetry

[11:51:00.0000] <Hixie>
or haikus

[11:51:01.0000] <Hixie>
e.g.:

[11:51:02.0000] <Hixie>
--- 

[11:51:03.0000] <Hixie>
I am not sure I understand you correctly 

[11:51:04.0000] <Hixie>
but if this introduces the ability 

[11:51:05.0000] <Hixie>
to make the user agent 

[11:51:06.0000] <Hixie>
report a different URL than the effective target, 

[11:51:07.0000] <gsnedders>
I should try sending an email to public-html or whatwg that's a pantoum sometime, just to see if someone notices

[11:51:08.0000] <Hixie>
it is going to be a sweet candy for phishers.

[11:51:09.0000] <Hixie>
(Newer browsers made this effect unavailable to scripts).

[11:51:10.0000] <Hixie>
---

[11:51:11.0000] <gsnedders>
actually, a pantoum is too obvious. too much repetition.

[11:51:12.0000] <gsnedders>
Maybe a sonnet?

[12:27:00.0000] <annevk>
gsnedders, it sets it from missing to the empty string...

[12:27:01.0000] <gsnedders>
annevk: where?

[12:27:02.0000] <annevk>
gsnedders, if you don't see that you're reading too much into it

[12:27:03.0000] <annevk>
gsnedders, I quoted those bits in my e-mail...

[12:27:04.0000] <gsnedders>
I searched the entire spec for "missing"

[12:27:05.0000] <annevk>
missing is not mentioned again

[12:28:00.0000] <annevk>
it does not need to be

[12:28:01.0000] <gsnedders>
annevk: I'm an asshole, per markp's definition. what do you expect? :P

[12:29:00.0000] <gsnedders>
annevk: if it is marked as missing, how does it not need to be marked as not missing?

[12:29:01.0000] <annevk>
/me shrugs

[12:29:02.0000] <gsnedders>
From what I can see in the spec, it is marked as missing, and is never marked as _not_ missing

[12:30:00.0000] <gsnedders>
it needs to be set in the "Before DOCTYPE public identifier state" and the "Before DOCTYPE system identifier state"

[12:53:00.0000] <annevk>
"public identifier, and system identifier must be marked as missing (which is a distinct state from the empty string)"

[12:54:00.0000] <annevk>
then it says "Set the DOCTYPE token's system identifier to the empty string"

[13:19:00.0000] <Philip`>
Hmm, ICU4J's gb2312 seems to act identically to iso-8859-1

[13:19:01.0000] <Philip`>
(gb2312-1980 works like it should, though)

[13:21:00.0000] <annevk>
i think i'll add window.scroll/scrollTo/scrollBy to CSSOM View

[13:22:00.0000] <Philip`>
Oops, I'm wrong

[13:24:00.0000] <Philip`>
gb2312 does seem to work, but values outside the special range (about 0xA0-0xFF) are treated like in iso-8859-1

[13:25:00.0000] <Philip`>
and gb2312-1980 is something totally different and not ASCII compatible

[13:26:00.0000] <annevk>
after all, it has scroll*

[13:28:00.0000] <Hixie>
ok so i parsed over 6 billion files with the parser change to the insertion mode thing (testing that it never hit a table-related element) and it didn't crash

[13:29:00.0000] <Hixie>
so i figure it's safe

[13:31:00.0000] <gsnedders>
annevk: that to me doesn't mean actually changing the marker

[13:33:00.0000] <Philip`>
Exception in thread "pool-1-thread-1201" java.lang.NoClassDefFoundError: Could not initialize class nu.validator.htmlparser.impl.EncodingInfo

[13:33:01.0000] <Philip`>
Hmm...

[13:34:00.0000] <hsivonen_>
Philip`: did you update ICU4J without updating the parser, too?

[13:34:01.0000] <Philip`>
I'm not sure what version of the parser I'm using

[13:34:02.0000] <hsivonen_>
Philip`: the new ICU4J has a b0rked UTF-7 decoder that crashes the old EncodingInfo

[13:34:03.0000] <Philip`>
so that's quite possible

[13:35:00.0000] <hsivonen_>
or, rather, EncodingInfo crashes the UTF-7 decoder

[13:36:00.0000] <annevk>
gsnedders, there's no marker, there's just states

[13:36:01.0000] <Philip`>
Things work better when I use a more recently compiled version of the parser - thanks :-)

[13:37:00.0000] <gsnedders>
annevk: "marked as missing" — a marker.

[13:38:00.0000] <annevk>
"must be marked as missing (which is a distinct state from the empty string)" -- a state

[13:38:01.0000] <annevk>
...

[13:38:02.0000] <annevk>
/me -> back to cssom-view

[13:38:03.0000] <gsnedders>
so the marker is a state. ergh.

[13:40:00.0000] <Philip`>
I see reported encoding errors on 1.5% of pages with reported encodings

[13:41:00.0000] <Philip`>
(counting things like charset=ISO-8559-1 as an error)

[13:41:01.0000] <Philip`>
(but unknown charsets are only about a quarter of the errors)

[13:43:00.0000] <Philip`>
(18% of gb2312 pages have errors)

[13:47:00.0000] <Philip`>
http://www.narkasabasi.com/v2/ <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-9"> <meta http-equiv="content-Type" content="text/html; charset=windows-1254" /> <meta http-equiv="content-type" content-type content="text/html"; charset= "x-mac-turkish">

[13:47:01.0000] <Philip`>
(Urgh - s/ /\n/)

[13:47:02.0000] <Philip`>
Looks like they couldn't quite make their mind up

[13:49:00.0000] <Philip`>
<meta content="http://schemas.microsoft.com/intellisense/ie5" name="vs_targetSchema" charset="utf-8"> - that's not good if it gets incorrcetly interpreted as the page's charset

[13:50:00.0000] <jgraham>
/me wonders why dave hodder is asking the same question on public-html-comments that I already answered on the whatwg list

[13:50:01.0000] <Philip`>
http://jellybelly.com/International/Japanese/home.html is an interesting test case

[13:50:02.0000] <Philip`>
(Opera 9.2 fails)

[13:51:00.0000] <Philip`>
(Opera 9.5 fails too, though it gets the layout correct)

[13:51:01.0000] <SadEagle>
Philip`: check out the JS in there, too

[13:51:02.0000] <annevk>
jgraham, I think he's asking for a pointer to that e-mail again, he apparently forgot :)

[13:51:03.0000] <Philip`>
(Safari 3 fails too)

[13:52:00.0000] <jgraham>
/me goes to answer again

[13:52:01.0000] <Philip`>
SadEagle: What's unusual about the JS?

[13:53:00.0000] <SadEagle>
nothing unusual --- but it's sniffing for netscape >= 3, ie >= 4

[13:54:00.0000] <Philip`>
Ah

[13:55:00.0000] <Philip`>
That should degrade gracefully in other browsers, so it's not much of a problem :-)

[13:58:00.0000] <annevk>
oh, Acid3 is announced

[14:00:00.0000] <Philip`>
/me sees 88582 pages with <meta http-equiv="content-type" content="text/html; charset=...">, 25175 with an HTTP Content-Type: text/html; charset=..., and 171 with <meta charset="...">

[14:00:01.0000] <Philip`>
(out of 130K)

[14:01:00.0000] <annevk>
how many pages with content="" and without a valid value for http-equiv="" ?

[14:01:01.0000] <Philip`>
What's a "valid value"?

[14:02:00.0000] <annevk>
content-type ascii case-insensitive

[14:02:01.0000] <Philip`>
What about all the other http-equiv values?

[14:02:02.0000] <annevk>
where content contains the word charset

[14:03:00.0000] <annevk>
content=""*

[14:03:01.0000] <Philip`>
Hmm, I suppose I could look for that

[14:04:00.0000] <Philip`>
but I won't bother doing that now, since it takes 20 minutes to run

[14:04:01.0000] <annevk>
k

[14:21:00.0000] <SadEagle>
Philip`: LOL, just stumbled on a webpage with 2 encoding headers, neither of which is right

[15:15:00.0000] <jgraham>
Hixie: In the outline algorithm, in the conditon "When exiting a sectioning content  element, if the stack is not empty"

[15:15:01.0000] <Hixie>
yes?

[15:15:02.0000] <jgraham>
it's not clear to me what "Let current section be the last section in the outline of the current outlinee element.

[15:15:03.0000] <jgraham>
Insert its outline at the end of the current section. (This does not change which section is the last section in the outline.)" means

[15:16:00.0000] <jgraham>
Specifically the last line. 

[15:16:01.0000] <Hixie>
oops

[15:16:02.0000] <Hixie>
"its" refers to the sectioning content element being exited

[15:16:03.0000] <Hixie>
let me fix that

[15:21:00.0000] <Hixie>
ok fixed

[15:21:01.0000] <Hixie>
is that clearer?

[15:25:00.0000] <jgraham>
I think that helps. I just need to work through and see if I have a sensible mental model of what's happening

[15:25:01.0000] <Hixie>
k

[15:25:02.0000] <Hixie>
i know you will, but, let me know what i can do to improve it

[15:26:00.0000] <Hixie>
the current algorithm should be way better than what was there before, yet get mostly the same results

[15:28:00.0000] <annevk>
Hixie, you're still going through parser feedback right?

[15:28:01.0000] <Hixie>
yes

[15:28:02.0000] <Hixie>
i'm stalled right now trying to figure out how to handle spaces in <table> x </table>

[15:29:00.0000] <annevk>
flip a coin :)

[15:30:00.0000] <Hixie>
between what and what? i have no options so far :-)

[15:30:01.0000] <annevk>
between " x <table></table>" and "x<table>  </table>"

[15:30:02.0000] <Philip`>
annevk: Do you mean the algorithm for handling spaces should involve flipping a coin?

[15:31:00.0000] <annevk>
Philip`, that could be interesting, but requiring specific hardware for HTML 5 might be too much

[15:32:00.0000] <jgraham>
/me suggests asking the user to decide

[15:33:00.0000] <Philip`>
annevk: Any implementation is acceptable as long as it acts the same as flipping a coin

[15:33:01.0000] <Hixie>
annevk: oh i've decided it's "x <table> </table>", the question is how to get there.

[15:33:02.0000] <jgraham>
"You have encountered a space inside a table. Would you like to move it outside (Y/n)"

[15:34:00.0000] <Philip`>
There should be a web service that provides a stream of random bits, called Flipr

[15:34:01.0000] <Hixie>
i'm thinking a flag on the table that decides whether spaces are sent out or not

[15:34:02.0000] <Hixie>
that gets set as soon as you send anything out

[15:34:03.0000] <Hixie>
the problem is nested tables in the innerHTML case makes this relatively hard to specify

[15:34:04.0000] <annevk>
so i think the current spec covers it

[15:34:05.0000] <annevk>
because you consume characters until the end

[15:34:06.0000] <annevk>
which makes "x " a character block

[15:35:00.0000] <annevk>
and the space before it gets treated specially

[15:35:01.0000] <Hixie>
the current spec has no concept of "character blocks" :-)

[15:35:02.0000] <annevk>
the append the character stuff

[15:35:03.0000] <Hixie>
but e.g. "<table> x<span></span> </table>" should become "x<span></span> <table> </table>"

[15:36:00.0000] <Hixie>
so it's not that simply

[15:36:01.0000] <Hixie>
simple

[15:36:02.0000] <annevk>
for real?

[15:36:03.0000] <annevk>
/me didn't think that trailling space would be placed in front too

[15:37:00.0000] <Hixie>
"<table> foo<span></span> bar</table>" shouldn't display "foobar"

[15:37:01.0000] <Hixie>
it should display "foo bar"

[15:37:02.0000] <Hixie>
that's the bug :-)

[15:38:00.0000] <annevk>
a flag sounds easiest then, yes

[15:49:00.0000] <jgraham>
Hixie: I think I'm still confused about what it means to insert a section "at the end of" another section. Do you mean "as the last child section of" the other section?

[15:50:00.0000] <jgraham>
(so if you have <body><section><h1>foo you end up with a section for the <section> as a child of the section for the <body>

[15:50:01.0000] <Hixie>
in "When entering a heading content element" i used the term "append it to /candidate section/"

[15:50:02.0000] <Hixie>
is that clearer?

[15:50:03.0000] <annevk>
sounds like appendChild()...

[15:52:00.0000] <jgraham>
Yeah, that bit is clearer.

[15:52:01.0000] <Hixie>
ok i'll use that terminology

[15:52:02.0000] <Hixie>
/me regens


2008-03-04
[17:14:00.0000] <Hixie>
if anyone gets the reason behind the reference in the title of my latest blog, i'll be impressed

[17:18:00.0000] <Hixie>
hsivonen_: does validator.nu have a way to make it validate the page from the Referer field?

[17:19:00.0000] <Hixie>
hsivonen_: btw #presets in the "the pitch" section of your about page is a broken link

[17:45:00.0000] <csarven>
Hixie Does it have anything to do with http://www.whatwg.org/issues/data.html ? :)

[17:48:00.0000] <Hixie>
no

[17:59:00.0000] <csarven>
BTW, that page is pretty slow in Firefox. Pretty smooth in Opera.

[17:59:01.0000] <csarven>
The mouse movement on canvas that is.

[17:59:02.0000] <roc>
Has everyone here read this already? "IE8 standards mode" will be the default "standards mode" http://blogs.msdn.com/ie/archive/2008/03/03/microsoft-s-interoperability-principles-and-ie8.aspx

[18:08:00.0000] <Hixie>
yeah, i even blogged about it

[18:08:01.0000] <Hixie>
great news

[18:11:00.0000] <roc>
sorry, I'm too slow

[18:11:01.0000] <Hixie>
:-)

[18:11:02.0000] <Hixie>
i didn't mean it that way :-)

[18:25:00.0000] <mpt>
/me is disconcerted by a picture of Osama bin Laden next to the post about Acid 3

[18:25:01.0000] <Hixie>
uri?

[18:26:00.0000] <mpt>
http://www.flickr.com/photos/41089232@N00/114103905

[18:29:00.0000] <Hixie>
either flickr is down or my proxy is acting up

[18:30:00.0000] <Hixie>
wtf the web just died for me

[18:32:00.0000] <Philip`>
Didn't you hear about the scheduled maintenance tonight? The web has to be turned off for two hours while it's all upgraded

[18:32:01.0000] <Hixie>
wouldn't that be nice

[18:33:00.0000] <Hixie>
mpt: i don't see anything about acid3 on there? *confused*

[18:34:00.0000] <mpt>
Hixie, that was the photo "randomly selected from Flickr using Yahoo! Pipes based on the words in the latest Web log entry on this site"

[18:35:00.0000] <Hixie>
oh haha i didn't realise that was the image that had been selected

[18:35:01.0000] <Hixie>
wow that's funny

[18:38:00.0000] <Hixie>
so...

[18:38:01.0000] <Hixie>
if we make <input type=hidden> stay in the table...

[18:38:02.0000] <Hixie>
what the heck should <table>x<input type=hidden></table> do

[18:38:03.0000] <Hixie>
/me studies

[18:39:00.0000] <jruderman>
"This decision comes on the heels of a recent leak of a classified NSA National Security Assessment which ranked the Bush Administration itself as the #2 threat to U.S. national security interests."

[18:39:01.0000] <jruderman>
i hadn't heard about that

[18:40:00.0000] <jruderman>
Hixie: does html 5 parsing require that where tags go in the DOM depend on attribute values?

[18:40:01.0000] <Hixie>
it's about to start going down that slippery slope, yes

[18:40:02.0000] <Hixie>
bz and othermaciej have asked that <input type=hidden> be given special status in <table>

[18:41:00.0000] <jruderman>
hmm

[18:41:01.0000] <Philip`>
jruderman: [citation needed]

[18:41:02.0000] <jruderman>
https://bugzilla.mozilla.org/show_bug.cgi?id=327796#c5 makes me think that will be unpopular

[18:41:03.0000] <jruderman>
Philip`: hehe

[18:42:00.0000] <othermaciej>
I don't exactly love the idea of that rule but it seems to matter for compatibility

[18:42:01.0000] <Hixie>
jruderman: https://bugzilla.mozilla.org/show_bug.cgi?id=390565

[18:53:00.0000] <dbaron>
Hixie, where do bug reports in acid3 go?

[18:53:01.0000] <Hixie>
ian⊙hc or the wasp alias, if you can find it

[18:53:02.0000] <Hixie>
i think that's acid3⊙wo

[18:53:03.0000] <Hixie>
not sure

[18:53:04.0000] <Hixie>
but ian⊙hc is fine

[18:54:00.0000] <Hixie>
and i try to give quick turnaround, so if you don't get a reply within 12 hours, ping me :-)

[18:54:01.0000] <othermaciej>
dbaron: what bug did you find?

[18:55:00.0000] <dbaron>
othermaciej, I think test 42 has an incorrect selector

[18:55:01.0000] <dbaron>
Fx trunk should pass that test

[18:55:02.0000] <dbaron>
and it looks wrong by inspection

[18:55:03.0000] <Hixie>
what failure number do you get?

[18:55:04.0000] <dbaron>
although I didn't test the modificication

[18:55:05.0000] <dbaron>
Hixie, the very last failure

[18:56:00.0000] <Hixie>
39?

[18:56:01.0000] <Hixie>
/me looks

[18:56:02.0000] <dbaron>
no, "rule did not start matching after change"

[18:56:03.0000] <Hixie>
oh the one between 12 and 14? ok

[18:56:04.0000] <Hixie>
/me looks at that instead :-)

[18:57:00.0000] <dbaron>
oh, I see, the test continues after that function

[18:57:01.0000] <dbaron>
I think "#div1 ~ div div + div > div" should be "#div1 ~ div + div div > div"

[18:59:00.0000] <Hixie>
after 310 is in the tree, you get this DOM:

[18:59:01.0000] <Hixie>
<body><div1/><div2/><div3><div31><div310/><div311><div3111/></div311></div31></div3></body>

[18:59:02.0000] <dbaron>
oh

[18:59:03.0000] <dbaron>
hrm

[19:00:00.0000] <dbaron>
ignore me

[19:00:01.0000] <dbaron>
for now, anyway

[19:00:02.0000] <Hixie>
and "#div1 ~ div div + div > div" should match 3111 the same way that "div1 ~ div3 div310 + div311 > div3111" does

[19:00:03.0000] <Hixie>
seems valid to me :-)

[19:01:00.0000] <dbaron>
yeah

[19:01:01.0000] <dbaron>
for some reason I forgot to process the insertBefore mentally even though I saw it

[19:01:02.0000] <dbaron>
no idea why we fail, though

[19:01:03.0000] <dbaron>
I guess I'll have to ask someone to write a testcase

[19:02:00.0000] <Hixie>
it's basically a dynamic variant of your greedy matching test from css1, extended to use the css3 combinators

[19:02:01.0000] <dbaron>
though maybe it's not too hard to extract just the relevant bits

[19:04:00.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%20div1%20~%20div3%20div310%20%2B%20div311%20%3E%20div3111%20%7B%20border%3A%20solid%3B%20%7D%20%3C%2Fstyle%3E%0A%3Cbody%3E%3Cdiv1%3E%3C%2Fdiv1%3E%3Cdiv2%3E%3C%2Fdiv2%3E%3Cdiv3%3E%3Cdiv31%3E%3Cdiv311%3E%3Cdiv3111%3E%3C%2Fdiv3111%3E%3C%2Fdiv311%3E%3C%2Fdiv31%3E%3C%2Fdiv3%3E%3C%2Fbody%3E%0A%3Cscript%3E%0Avar%20div31%20%3D%20document.getElementsByTagName('div31')%5B0%5D%3B%0Adiv

[19:05:00.0000] <Hixie>
if that got truncated, go to http://software.hixie.ch/utilities/js/live-dom-viewer/ and hit "download" then "permalink" to get the uri

[19:05:01.0000] <Hixie>
i think that's the same test

[19:05:02.0000] <Hixie>
and it works fine if you do the mutation manually

[19:06:00.0000] <Hixie>
so it must be a dynamic thing

[19:06:01.0000] <dbaron>
yeah, I see the bug

[19:06:02.0000] <dbaron>
it's a one-liner

[19:06:03.0000] <Hixie>
cool

[19:06:04.0000] <dbaron>
now I need to find an excuse to check it in

[19:06:05.0000] <dbaron>
If only this test had been easier to parse the results of I'd have used it before I checked in my fix for those bugs, and been able to get it in easily...

[19:07:00.0000] <dbaron>
/me hates overly complex tests

[19:07:01.0000] <Hixie>
i tried to make the tests as self-contained as possible

[19:07:02.0000] <Hixie>
but really acid tests aren't meant to be processed directly by engineers

[19:07:03.0000] <Hixie>
when acid2 came out i made minimised tests for each bug that opera had in acid2

[19:08:00.0000] <Hixie>
i'd expect any qa team to do the same for any acid test

[19:08:01.0000] <dbaron>
er, no,  I don't see the bug

[19:10:00.0000] <dbaron>
I better leave splitting these bugs up to people who actually think they have enough time to do it, instead of rushing...

[19:11:00.0000] <Hixie>
i wouldn't recommend trying to do it this late in a release cycle anyway

[19:11:01.0000] <Hixie>
best to work on standards bugs at the start of a cycle

[19:13:00.0000] <dbaron>
yeah, except you always release these acid tests a few months before the end of our release cycles

[19:14:00.0000] <dbaron>
and then we ship a not-much-improved release and look stupid

[19:15:00.0000] <Hixie>
what would you like me to do? wait til all the browser vendors' release schedules line up?

[19:15:01.0000] <Hixie>
acid3 has been in production since last april, and mostly came to a head recently because of the IE acid2 announcement

[19:15:02.0000] <Hixie>
i recommend shorter release cycles, that way you never have a problem like this :-)

[19:17:00.0000] <Hixie>
in fact, i'd argue that this is the best time for you for an acid test to come out, as it means that as the test finally gets all the bugs shaken out of it, you'll be at the best possible time to start working on standards bugs again

[19:17:01.0000] <Hixie>
(i.e. it'll be stable just as your release cycle starts)

[19:17:02.0000] <dbaron>
yeah, I've been pushing for shorter release cycles

[19:18:00.0000] <dbaron>
We may well do one.

[19:18:01.0000] <dbaron>
dare I ask where the function expect is defined?

[19:19:00.0000] <Hixie>
for which test?

[19:19:01.0000] <dbaron>
er, never mind

[19:20:00.0000] <dbaron>
The closures confused me about what was calling what

[19:20:01.0000] <dbaron>
I'm just annoyed about this particular test because I thought I fixed all the bugs that would have caused it to fail.

[19:20:02.0000] <Hixie>
heh

[19:29:00.0000] <dbaron>
ah, it's a matching bug, not a dynamic change handling bug

[19:35:00.0000] <othermaciej>
the next Safari release won't look so good on Acid3

[19:35:01.0000] <othermaciej>
not as good as current nightlies

[19:39:00.0000] <Hixie>
dbaron: really? it only seems to occur with a dynamic change.

[19:40:00.0000] <dbaron>
Hixie, not sure why you think that -- I tried removing and reinserting the body and the bug was still present

[19:40:01.0000] <dbaron>
Hixie, simple testcase in https://bugzilla.mozilla.org/show_bug.cgi?id=420814

[19:41:00.0000] <Hixie>
odd, i couldn't get the test to fail without dynamic changes

[19:41:01.0000] <Hixie>
oh well

[19:41:02.0000] <Hixie>
oh i guess i didn't have elements named the same thing in my version of the test

[19:41:03.0000] <Hixie>
so maybe there are two bugs here

[23:02:00.0000] <Hixie>
if this upcoming change doesn't break something, i'll be impressed

[23:23:00.0000] <Hixie>
so anyone got any hot ideas on how to handle <table><td>x</td> <select><option>a<option>b <td>y</td> in a compatible way?

[23:23:01.0000] <Hixie>
Philip`?

[00:21:00.0000] <hsivonen_>
annevk: regarding "UA-specific crap" on the tracker: I'm using the annotations.

[00:26:00.0000] <hsivonen_>
I think the "ordered" is a red herring when it comes to <ol> and <ul>. It really is about showing the counters. A bulleted list can still have a deliberate order. 

[00:43:00.0000] <othermaciej>
hsivonen_: don't let tantek hear you say that

[00:45:00.0000] <hsivonen_>
heh

[00:51:00.0000] <virtuelv>
I haven't read it thoroughly yet, but did Microsoft just turn completely around on the x-ua-compatible stuff?

[00:54:00.0000] <Philip`>
virtuelv: Not completely - just on the default

[00:54:01.0000] <virtuelv>
:/

[00:55:00.0000] <Philip`>
(which is the part people were most complaining about)

[00:57:00.0000] <hsivonen_>
/me sees the Osama image at http://ln.hixie.ch/?start=1066145333&count=1 

[01:00:00.0000] <virtuelv>
hsivonen_: :D :D :D

[01:01:00.0000] <virtuelv>
the image is based on Hixie's last entry, so you'll see it on all pages

[01:12:00.0000] <Lachy>
wow!!!! "We’ve decided that IE8 will, by default, interpret web content in the most standards compliant way it can."

[01:12:01.0000] <Lachy>
http://blogs.msdn.com/ie/archive/2008/03/03/microsoft-s-interoperability-principles-and-ie8.aspx

[01:14:00.0000] <zcorpan>
Lachy: yes, very good news

[01:17:00.0000] <zcorpan>
Hixie: dammit, you're working too fast. i can't keep up :P

[01:22:00.0000] <Hixie>
zcorpan: :-D

[01:23:00.0000] <Hixie>
i guess i'll have to have a "last insertion mode" variable to do the <table><select><td> thing

[01:23:01.0000] <Hixie>
anyway bed time

[01:25:00.0000] <zcorpan>
aha! the precedent is set for looking at attribute values in the tree builder

[01:27:00.0000] <hsivonen_>
scary

[01:27:01.0000] <hsivonen_>
ah. it's type=hidden

[01:28:00.0000] <hsivonen_>
that's good

[01:28:01.0000] <zcorpan>
why is it good?

[01:31:00.0000] <hsivonen_>
zcorpan: compat. and in the case of input, the conceptual reality is that the type attribute creates practically separate element types

[01:31:01.0000] <zcorpan>
hsivonen_: ok. and yep

[01:53:00.0000] <Philip`>
Hixie: Maybe handle it by copying what WebKit or Gecko does?

[01:53:01.0000] <Philip`>
I don't really know what they do, though

[01:54:00.0000] <Philip`>
(except I vaguely remember WebKit running the normal parsing sequence but with an 'is being inserted into table' flag that changes the processing of table elements)

[01:59:00.0000] <annevk2>
'<p>Ignore the token.</p> <!-- :-( -->' :)

[02:49:00.0000] <Hixie>
Philip`: it's not that simple; <table><tr><select><tbody> has to do different things than <table><select><tbody>

[02:50:00.0000] <annevk>
are we now figuring out the parser architecture is not good enough?

[02:50:01.0000] <annevk>
/me hopes not

[02:50:02.0000] <Hixie>
no, it can be hacked to do this in various ways

[02:50:03.0000] <Hixie>
i'm just trying to work out which way

[02:50:04.0000] <Hixie>
i can remember the last mode and treat <select> specially "in table"

[02:51:00.0000] <Hixie>
and have a bunch of new states "in select"

[02:51:01.0000] <Hixie>
i can just have a bunch of new states "in select" with those states doing non-trivial examination of the stack

[02:51:02.0000] <Hixie>
i can have one "in select" state per table state

[02:51:03.0000] <Hixie>
("in select in table row", etc)

[02:52:00.0000] <annevk>
if the last one is not more verbose than the others i might prefer it

[02:52:01.0000] <Hixie>
i'm leaning towards the seoond of those so far

[02:52:02.0000] <Hixie>
the last one is massively more verbose

[02:52:03.0000] <annevk>
k

[03:08:00.0000] <Hixie>
christ, acid3 just hit something with a lot of readers

[03:11:00.0000] <Hixie>
http://www.neowin.net/forum/index.php?showtopic=623574

[03:14:00.0000] <annevk>
I wonder if everytime MS makes some kind of Web standards announcement there will be another significant announcement related to Web standards on the same day...

[03:20:00.0000] <Hixie>
heh

[03:23:00.0000] <zcorpan>
what was announced at the same time as the ie8 versioning switch thing (first time around)? the acid3 competition?

[03:25:00.0000] <annevk>
zcorpan, HTML5

[03:25:01.0000] <annevk>
(it was published as FPWD)

[03:26:00.0000] <takkaria>
how strange, Ff3b3 got 60/100 the first time I ran it and 59 the next

[03:27:00.0000] <takkaria>
though it's Fx now, I live in the past

[03:27:01.0000] <zcorpan>
annevk: ah, right

[03:27:02.0000] <Hixie>
sure getting a lot of hits from http://pro.tweakers.net/nieuws/52227/web-standards-project-geeft-acid3-test-vrij.html

[03:28:00.0000] <annevk>
tweakers.net is pretty huge yeah

[03:31:00.0000] <annevk>
http://browsershots.org/http://acid3.acidtests.org/ is nice

[03:33:00.0000] <takkaria>
heh, poor old MSIE4

[03:34:00.0000] <Hixie>
i hear NS4 crashes

[03:34:01.0000] <annevk>
how unexpected :)

[03:34:02.0000] <annevk>
it's funny how many people wonder how the reference rendering was made

[03:35:00.0000] <zcorpan>
obviously Hixie made a superbrowser that perfectly implements html5 and css2.1 to create the reference rendering

[03:35:01.0000] <annevk>
it's not like anything else would make sense

[04:23:00.0000] <Philip`>
Hixie: Could you have a generic "in select in <var>T</var>" and then say "process the token as if the insertion mode was 'in select in <var>table row</var>' etc? Then then text wouldn't be verbose, and it would be clear that you can implement it as lots of states instead of needing another variable to remember where you were

[04:23:01.0000] <Philip`>
s/' /'" /

[04:24:00.0000] <Philip`>
(I don't like variables, because it makes it hard to work out what's going on)

[04:45:00.0000] <Philip`>
It's a little odd how everyone seems to be congratulating/thanking Microsoft for deciding to make IE8 act like how everyone used to take for granted it was going to act

[04:50:00.0000] <zcorpan>
it's not uncommon to be thankful when someone decides against doing something bad even if you didn't expect the bad thing being planned from the beginning

[04:51:00.0000] <zcorpan>
but the questions on how the rendering engines interact across frames still remain

[04:51:01.0000] <zcorpan>
and security or crash fixes to the old engine

[04:53:00.0000] <Philip`>
They would have to do security fixes to IE6 and IE7 and IE8, regardless of the modes within each browser release, so I'd guess they will share code between IE7 and IE8's IE7-compatibility mode, so it's no more work than they'd need anyway

[05:06:00.0000] <Philip`>
Hixie: Is http://www.whatwg.org/specs/web-apps/current-work/multipage/section-parsing.html#determining broken, like where it says "2. Otherwise, return to step 2 in these inner steps." that seems to be an infinite loop?

[05:06:01.0000] <Philip`>
and the "two step" algorithm goes up to step 5

[05:21:00.0000] <Philip`>
hsivonen_: Does your MetaSniffer code accurately / partially / not at all match the current spec?

[05:45:00.0000] <hsivonen_>
Philip`: it matches the spec as of June 2007

[06:08:00.0000] <Philip`>
http://www.modellbausieghard.de/ - <meta http-equiv="content-style-type" content="text/css; charset=iso-8859-1" /> - the meta charset detection thing will get misled by that

[06:10:00.0000] <Philip`>
About 60% of sniffable charsets can be sniffed from the first 256 bytes, 85% from 512 bytes, 93% from 1024 bytes

[06:13:00.0000] <Philip`>
http://groups.msn.com/GraftonRifleClub/ sends "Content-Type: text/html; charset=utf-8;" which HTML5 thinks is a charset named "utf-8;"

[06:15:00.0000] <annevk>
what does HTML5 do with Content-Type:text/html;foo=bar;charset=utf-8;foo=bar; ?

[06:15:01.0000] <Philip`>
http://www.whatwg.org/specs/web-apps/current-work/multipage/section-content-type-sniffing.html#algorithm3 - it returns nothing if the first parameter is not charset

[06:17:00.0000] <Philip`>
I don't see any pages sending anything quite like that, but there's one group with "text/html;ISO-8859-1; charset=UTF-8"

[06:18:00.0000] <Philip`>
(and one page with "text/html;image/gif;image/jpeg; Charset=iso-8859-1;text/javascript")

[06:19:00.0000] <Philip`>
(That one page is only half the number that use apostrophes)

[06:19:01.0000] <Philip`>
(and only 21 use double-quotes)

[06:19:02.0000] <Philip`>
(around the charset string)

[06:20:00.0000] <zcorpan>
in emails, the charset parameter is often not the first one

[06:21:00.0000] <zcorpan>
and it would be nice if the same code could be used for parsing content-type for emails and for content-type of resources in a browsing context

[06:23:00.0000] <annevk>
heh, Hixie used a dotted line in http://www.whatwg.org/issues/data.html

[06:23:01.0000] <Philip`>
It would be nice if it parsed valid HTTP headers correctly when there's no reason not to

[06:24:00.0000] <Philip`>
Hixie: Is it a bug in your code that http://www.whatwg.org/issues/data.html gets the mouse position wrong if you scroll down the page, or is that Firefox's fault?

[06:25:00.0000] <annevk>
fault of the script

[06:25:01.0000] <annevk>
it should use pageX/Y instead of clientX/Y

[06:27:00.0000] <annevk>
or alternatively it could use getBoundingClientRect().top and getBoundingClientRect().left instead of offsetTop and offsetLeft

[06:28:00.0000] <Philip`>
/me finishes processing his pages, and find's it more like 57% getting sniffed in the first 256 bytes, 82% in 512, 92% in 1024

[06:31:00.0000] <Philip`>
Does HTML5 say that if the server sends HTTP charset=utf-16, it should be ignored?

[06:32:00.0000] <Philip`>
Oops, I don't mean that

[06:32:01.0000] <Philip`>
I was looking at the meta charset thing, which does say that...

[06:34:00.0000] <Philip`>
http://www.vorem.com - "Content-Type: text/html; charset=UTF-32"

[06:34:01.0000] <annevk>
shit

[06:35:00.0000] <annevk>
i hoped utf-32 could be dropped

[06:35:01.0000] <Philip`>
The page is actually iso-8859-15

[06:36:00.0000] <Philip`>
(or something close to that)

[06:36:01.0000] <Philip`>
The top unknown charsets are "", "none", "x-windows-874" and "iso-8559-1"

[06:36:02.0000] <annevk>
that makes it nice

[06:37:00.0000] <Philip`>
/me wonders who was trying to make a page with no character set

[06:39:00.0000] <annevk>
oh I see

[06:39:01.0000] <Philip`>
Oh, looks like it's probably Apache users with "AddDefaultCharset none" instead of "AddDefaultCharset Off"

[06:39:02.0000] <annevk>
vorem.com has two Content-Type headers

[06:39:03.0000] <Philip`>
I only see one...

[06:40:00.0000] <annevk>
never mind

[06:40:01.0000] <annevk>
GET -ed is not trustworthy

[06:40:02.0000] <annevk>
i should remember that

[06:41:00.0000] <Philip`>
Ah, that's probably the LWP module doing fancy automatic meta-http-equiv extraction

[06:41:01.0000] <Philip`>
/me uses 'HEAD http://www.vorem.com' instead

[06:43:00.0000] <annevk>
why does Firefox 3 not show it as UTF-32?

[06:44:00.0000] <Philip`>
Does FF3 support utf-32?

[06:45:00.0000] <annevk>
the encoding meny claims it does

[06:45:01.0000] <annevk>
but maybe it's not enabled for Web content

[06:49:00.0000] <Philip`>
http://www.liniehoeve.nl/ - <meta name="Title" charset="Beagle Kennel van der Liniehoeve"> - ?

[06:49:01.0000] <Philip`>
I'm not sure how they managed to mix up 'charset' and 'content'

[06:50:00.0000] <annevk>
heh

[06:55:00.0000] <zcorpan>
so vorem.com is an example of where it would be better to not support utf-32

[06:55:01.0000] <zcorpan>
that's interesting

[06:57:00.0000] <Philip`>
http://www.rotondadepacifico.com/ has <META http-equiv="Content-Type" content="text/html; charset=UTF-32">

[06:57:01.0000] <Philip`>
Those are the only two I've found that claim to use UTF-32

[06:57:02.0000] <Philip`>
(There's also two claiming to use UTF-9)

[06:58:00.0000] <Philip`>
(and also one ISO-10646-UTF-1 which actually seems to be a real encoding)

[07:05:00.0000] <zcorpan>
that uses a window-1252 copyright sign, so utf-32 doesn't need to be an alias for utf-8 like utf-16 is when found in <meta charset>

[07:06:00.0000] <annevk>
just needs to be ignored

[07:06:01.0000] <Philip`>
It's hard to make good decisions about how to handle UTF-32 pages based on a sample size of one :-)

[07:07:00.0000] <Philip`>
s/one/about two/

[07:07:01.0000] <zcorpan>
indeed :)

[07:08:00.0000] <virtuelv>
is the feed for  http://reddit.com/r/browsers/ something that should/could go on planet html5?

[07:09:00.0000] <virtuelv>
(that's also a general request to post HTML5-related contents that doesn't go on the planet there)

[07:31:00.0000] <annevk>
http://www.unicode.org/Public/MAPPINGS/ is interesting

[07:31:01.0000] <annevk>
virtuelv, talk to MikeSmith

[07:32:00.0000] <MikeSmith>
annevk, virtuelv - I can go ahead and add it

[07:34:00.0000] <annevk>
virtuelv, btw, planet HTML5 does do a content substring so not all entries would show up

[07:36:00.0000] <virtuelv>
annevk: I'd guess tagging entries with "HTML5" should suffice?

[07:36:01.0000] <virtuelv>
fwiw, everyone is free to post there

[07:36:02.0000] <virtuelv>
I just think it's a good place to catch what doesn't get caught by the planet

[07:39:00.0000] <virtuelv>
btw, I think the filtering on planet html5 may be a bit strict

[07:39:01.0000] <virtuelv>
for instance, it totally missed MS' announcment

[07:40:00.0000] <annevk>
how is that HTML5 news?

[07:40:01.0000] <virtuelv>
hm, you might be right

[07:41:00.0000] <virtuelv>
I guess I just think the planet is a bit unpopulated

[07:42:00.0000] <annevk>
true, but html5 is not exactly daily news

[07:42:01.0000] <annevk>
well, except in this channel :)

[07:46:00.0000] <MikeSmith>
virtuelv - I added it

[07:46:01.0000] <MikeSmith>
btw, filtering on Planet HTML5 is very simple

[07:47:00.0000] <MikeSmith>
it looks for the strings "HTML5" or "HTML 5" anywhere in the content of feed item

[07:47:01.0000] <virtuelv>
MikeSmith: notede

[07:47:02.0000] <virtuelv>
-e

[07:47:03.0000] <MikeSmith>
so I guess the MS announcement didn't mention HTML5 at all

[07:47:04.0000] <virtuelv>
it didn't

[07:49:00.0000] <zcorpan>
MikeSmith: what about "HTML&nbsp;5"?

[07:50:00.0000] <zcorpan>
<abbr>HTML</abbr> 5

[07:50:01.0000] <Philip`>
HTML<ins> </ins>5

[07:50:02.0000] <MikeSmith>
any blog posting that does <abbr>HTML</abbr> will be summarily rejected

[07:51:00.0000] <zcorpan>
so much for semantics ;)

[07:52:00.0000] <Philip`>
abbr/acronym are fatally flawed since they can't represent recursive acronyms

[07:56:00.0000] <Philip`>
We need <abbr name="gnu">GNU</abbr> (<expansion for="gnu"><abbr name="gnu">GNU</abbr>'s not <abbr name="unix">UNIX</abbr></expansion>) ...

[07:58:00.0000] <zcorpan>
"GNU (GNU's not UNIX)" ...

[07:59:00.0000] <Philip`>
Plain English won't work for mutually recursive acronyms Hurd - you'd need to add ugly explanations around it to say what's going on, rather than elegantly encoding the expansion graph using metadata markup

[07:59:01.0000] <Philip`>
s/ / like /

[08:01:00.0000] <zcorpan>
who's going to benefit from the metadata markup?

[08:01:01.0000] <zcorpan>
and is it easier to understand than plain english?

[08:02:00.0000] <Philip`>
Google could use the metadata so you can ask it for "define:hurd" and it will give you the correct answer

[08:02:01.0000] <virtuelv>
outside of GNU and (historically) PHP, how many recursive initialisms are there?

[08:02:02.0000] <zcorpan>
Philip`: what is the answer?

[08:02:03.0000] <Philip`>
http://en.wikipedia.org/wiki/Recursive_acronym - lots :-)

[08:03:00.0000] <virtuelv>
"The GNU Hurd project is named with a mutually recursive acronym: "Hurd" stands for "Hird of Unix-Replacing Daemons," and "Hird" stands for "Hurd of Interfaces Representing Depth."

[08:03:01.0000] <Philip`>
zcorpan: It's "<a href=search?q=define:Hird>Hird</a> of Unix-Replacing Daemons"

[08:03:02.0000] <virtuelv>
I think I can live with not being able to express those :P

[08:05:00.0000] <Philip`>
virtuelv: But there may be other people in the world who cannot live with such a dire situation

[08:06:00.0000] <zcorpan>
<dl><dt><dfn><abbr>Hurd</abbr></dfn><dd><abbr>Hird</abbr> of Unix-Replacing Daemons<dt><dfn><abbr>Hird</abbr></dfn><dd><abbr>Hird</abbr> of Interfaces Representing Depth</dl>

[08:07:00.0000] <zcorpan>
elsewhere: <p>... <abbr>Hurd</abbr> ...

[08:09:00.0000] <Philip`>
That breaks down if Hird can stand for multiple things on the same page

[08:10:00.0000] <Philip`>
and e.g. for feed readers which don't know if one term is going to be used multiple times, so they have to expand everything out into title attributes just in case

[08:11:00.0000] <Philip`>
(Er, feed aggregators in particular)

[08:11:01.0000] <zcorpan>
use title='' to disambiguate

[08:11:02.0000] <zcorpan>
/me doesn't read carefully

[08:12:00.0000] <Philip`>
<abbr title='Hurd of ...'>Hird</abbr> would lose the markup around Hurd

[08:12:01.0000] <Philip`>
so I don't see how you'd disambiguate it

[08:13:00.0000] <zcorpan>
<span title><abbr>

[08:13:01.0000] <zcorpan>
:P

[08:13:02.0000] <Philip`>
Oh, it seems <dfn title="hurd-1"><abbr>Hurd</abbr></dfn> would do useful things

[08:13:03.0000] <Philip`>
(in terms of disambiguating)

[08:14:00.0000] <Philip`>
Automatic cross-referencing still seems a bad idea since it introduces lots of invisible dependencies between separate parts of the page, though

[08:15:00.0000] <zcorpan>
why would they be invisible?

[08:15:01.0000] <Philip`>
They're invisible in the source

[08:15:02.0000] <zcorpan>
i guess

[08:15:03.0000] <Philip`>
and so they're likely to break if you copy-and-paste chunks of one document into another

[08:16:00.0000] <Philip`>
or if you concatenate two documents

[08:16:01.0000] <zcorpan>
seems like we're searching for problems to make our solution more complicated, when what we really need is gloves

[08:17:00.0000] <Philip`>
The indirection between elements and <style>s causes enough problems when you're trying to mix documents, so I'd probably be happier if no more indirections were added

[08:21:00.0000] <annevk>
did IE support UTF-32?

[08:21:01.0000] <zcorpan>
no

[08:21:02.0000] <zcorpan>
afaict

[08:22:00.0000] <zcorpan>
it rendered vorem.com like firefox

[08:43:00.0000] <gsnedders>
I wonder how much broken XHTML we'll get if IE8 supports it.

[08:44:00.0000] <webben>
well, MS already have a halfway usable XML parser and a halfway usable MSAA DOM representation and a quarter-way usable DOM

[08:45:00.0000] <webben>
so I wouldn't have thought it would be all that bad

[08:45:01.0000] <webben>
oh wait, you mean broken XHTML from authors

[08:45:02.0000] <gsnedders>
webben: yeah

[08:45:03.0000] <webben>
I guess that depends on what IE did with borked XHTML

[08:46:00.0000] <gsnedders>
I mean, every man and his dog will probably try and jump on XHTML

[08:46:01.0000] <gsnedders>
even with fatal error handling I bet a heckuva lot of broken XHTML will appear

[08:46:02.0000] <webben>
producing non-broken XHTML isn't an especially difficult task, if you're producing XHTML at all.

[08:47:00.0000] <webben>
I suspect many of the situations where you're doomed to produce broken XHTML, you're going to produce it sooner rather than later

[08:47:01.0000] <webben>
e.g. as soon as you have a page with an ad.

[08:48:00.0000] <webben>
at which point you're probably going to revert to text/html

[08:48:01.0000] <gsnedders>
I wait with abated breath

[08:49:00.0000] <webben>
I suspect very few people will switch because so few people understand that serving XHTML tends to involve server configuration as well as just changing a META element.

[08:52:00.0000] <annevk>
"producing non-broken XHTML isn't an especially difficult task, if you're producing XHTML at all." you should check with the very few people who try

[08:55:00.0000] <webben>
I have tried, I switched back to HTML because it was pointless.

[08:55:01.0000] <webben>
I still don't think it's especially difficult, FWIW.

[08:56:00.0000] <webben>
the problem is one of quality control more generally; XHTML just exposes how appalling poor quality control on the web is

[08:57:00.0000] <webben>
(that is, it was pointless for me, as I don't need Ruby/SVG/MathML, etc.)

[09:05:00.0000] <zcorpan>
using xhtml because of needing ruby annotations is a bit backwards

[09:12:00.0000] <webben>
zcorpan: Other than the fact that Moz only supports them with a plugin and IE only supports them in text/html, I don't see how.

[09:15:00.0000] <zcorpan>
webben: those were the reasons i had in mind

[09:15:01.0000] <webben>
I wouldn't call that "backwards" exactly.

[09:16:00.0000] <zcorpan>
ie is the only browser with native ruby support, ie doesn't support xhtml

[09:16:01.0000] <zcorpan>
hence, using ruby in xhtml doens't work for anyone

[09:16:02.0000] <zcorpan>
using ruby in html works for ie

[09:16:03.0000] <webben>
where anyone excludes people with Fx and the Ruby extension?

[09:16:04.0000] <zcorpan>
(assuming that "no-one" uses mozilla with the plugin)

[09:17:00.0000] <webben>
I don't think that's a sensible assumption.

[09:17:01.0000] <zcorpan>
in any case, i bet firefox with the extension supports ruby in both html and xhtml

[09:18:00.0000] <webben>
Probably, but then one could just content-negotiate for IE.

[09:18:01.0000] <zcorpan>
and so using xhtml *because* of ruby (like i said) is, if not backwards, very unnecessary

[09:18:02.0000] <webben>
XHTML is the only standard way to publish ruby annotations.

[09:19:00.0000] <webben>
I'd be happy to use a non-standard way as a hack to support the most popular browser on earth.

[09:19:01.0000] <zcorpan>
that will be fixed in due course when html5 includes ruby

[09:20:00.0000] <webben>
That day is not today.

[09:21:00.0000] <webben>
and a couple years is a long time

[09:21:01.0000] <zcorpan>
meanwhile you can be non-compliant with useless specs :)

[09:21:02.0000] <webben>
It's no more or less useless than HTML5 will be.

[09:21:03.0000] <webben>
A spec's a spec.

[09:22:00.0000] <zcorpan>
specs can surely be useless

[09:22:01.0000] <zcorpan>
html4 is useless

[09:22:02.0000] <webben>
/me doesn't agree.

[09:22:03.0000] <zcorpan>
let's leave it at that

[09:23:00.0000] <zcorpan>
/me should go home

[09:27:00.0000] <Philip`>
webben: It appears to be very difficult to produce non-broken XHTML when you include content from potentially-malicious users

[09:27:01.0000] <Philip`>
e.g. if you commit to a Git repository with a message that contains U+FFFE, then the web interface will become ill-formed and only IE users will be able to read it

[09:28:00.0000] <webben>
Philip`: Yes, but once you've included malicious content your site is probably a public health hazard.

[09:28:01.0000] <webben>
that's what I mean by grouping this stuff under general quality control

[09:28:02.0000] <webben>
if you're not in control of your markup, then you're probably not effectively stopping XSS etc

[09:29:00.0000] <Philip`>
This is when people just do s/&/&amp;/ and s/</&lt;/ (like what their language / template system's HTML escape function does)

[09:29:01.0000] <Philip`>
which is perfectly safe in HTML

[09:29:02.0000] <Philip`>
s/people/developers/

[09:30:00.0000] <Philip`>
and maybe replace funny characters with &#nnn; too

[09:30:01.0000] <webben>
I'm not sure what "This" refers to

[09:30:02.0000] <webben>
but this all sounds like it comes under the rubric of input validation

[09:30:03.0000] <webben>
which as we all know is generally poorly done

[09:31:00.0000] <webben>
XHTML just makes that visible in a really annoying way.

[09:31:01.0000] <Philip`>
"This" = "The situation where malicious users can break the web site of someone who's tried to be careful at escaping input, but hasn't been quite careful enough for XML"

[09:31:02.0000] <webben>
hmm yes, well, there's been a lot more energy put into developing solutions for escaping HTML than XML.

[09:32:00.0000] <webben>
for understandable reasons

[09:32:01.0000] <Philip`>
XML escaping requires much more energy than HTML, because there are more ways it can go wrong

[09:33:00.0000] <webben>
I'm not sure that's true.

[09:34:00.0000] <Dashiva>
Well, you need some way to ensure it's well-formed, that's a big step up just by itself

[09:34:01.0000] <webben>
if you're parsing the input anyways, I'm not sure it is.

[09:35:00.0000] <Dashiva>
If

[09:36:00.0000] <annevk>
that would require the usage of a compliant XML parser

[09:36:01.0000] <annevk>
that's a big step up

[09:36:02.0000] <Philip`>
I'm mostly thinking of just plain text (not trying to allow a 'safe' subset of HTML or anything fancy like that), like when you say "You search for <? escape_html(query) ?> returned <? n ?> results", and escape_html in HTML is quite trivial because you care about & and <, but in XHTML it's hard because there's lots of forbidden characters

[09:36:03.0000] <Philip`>
s/You/Your/

[09:37:00.0000] <webben>
annevk: For input validation? Depends on the sort of input; for (X)HTML-esque input I'd probably use a tag soup parser, strip unwanted stuff, and then reserialize into the database.

[09:39:00.0000] <webben>
annevk: and I'd do that whether I was going to serve HTML or XHTML.

[09:40:00.0000] <Philip`>
(and escape_xhtml is clearly hard because I haven't yet found a web site that does it correctly - they all forget about some of the characters that can make their output ill-formed)

[09:40:01.0000] <webben>
Has anyone compiled a simple list of them?

[09:40:02.0000] <webben>
(of the characters ...)

[09:41:00.0000] <annevk>
it's not about what you do, it's about what people are doing now and where they have to move

[09:41:01.0000] <annevk>
unless you changed the rules

[09:42:00.0000] <Philip`>
webben: There's http://www.w3.org/International/questions/qa-forms-utf-8 but that's wrong because it misses FFFE and FFFF

[09:42:01.0000] <webben>
annevk: Most people aren't producing XHTML now.

[09:42:02.0000] <Philip`>
(according to http://www.intertwingly.net/blog/2008/01/02/Keeping-On-Your-Toes )

[09:43:00.0000] <webben>
annevk: Even if you were to count the people who produce tag soup XHTML, which I don't really.

[09:43:01.0000] <annevk>
that's besides the point

[09:43:02.0000] <annevk>
(both)

[09:44:00.0000] <webben>
what are the people who are producing real XHTML doing now?

[09:44:01.0000] <annevk>
they fail and plug holes, mostly

[09:47:00.0000] <webben>
Philip`: I don't fully grok that ... the W3C page looks like a regex for sniffing UTF-8 rather than a simple list of characters not allowed in XHTML.

[09:48:00.0000] <webben>
annevk: Sounds similar to what happens when we try to produce HTML.

[09:49:00.0000] <webben>
just with a different failure result.

[09:50:00.0000] <annevk>
sure, but it doesn't affect the end user

[09:50:01.0000] <webben>
yes it does

[09:50:02.0000] <webben>
when their data is stolen it definitely does!

[09:51:00.0000] <webben>
when the page renders but doesn't work properly

[09:51:01.0000] <webben>
when characters are rendered incorrectly

[09:51:02.0000] <webben>
etc.

[09:52:00.0000] <annevk>
those are not the result of using HTML incorrectly

[09:52:01.0000] <gsnedders>
webben: they can equally happen with XHTML

[09:52:02.0000] <annevk>
that too

[09:53:00.0000] <webben>
gsnedders: Of course. That's not my point.

[09:53:01.0000] <annevk>
your point got lost to me 10 minutes ago

[09:53:02.0000] <webben>
gsnedders: My point is rather that publishers' problems with XHTML are in part a warning signal that they don't have enough control over markup quality to protect user experience and data.

[09:55:00.0000] <webben>
XHTML doesn't cure the problem or anything.

[09:58:00.0000] <Philip`>
webben: About regex thing: Hmm, true, I guess it's not entirely relevant - it does forbid the control characters below 0x20 that XML doesn't allow, but it doesn't say it's doing that on purpose, and it wouldn't work in a proper Unicode string environment

[09:58:01.0000] <Philip`>
http://www.w3.org/TR/REC-xml/#charsets lists the actual characters that are allowed, which is more useful when trying to write code

[10:01:00.0000] <webben>
Philip`: Right, and if folks just used /that/ then they wouldn't have probs with FFE and FFFF.

[10:01:01.0000] <webben>
*FFFE

[10:02:00.0000] <Philip`>
It seems that in practice people don't use that, or they use it on the wrong side of a UTF-8 <-> Unicode conversion, or do something else wrong

[10:03:00.0000] <Philip`>
Maybe it's just something that the world needs to be taught before using XHTML

[10:03:01.0000] <Philip`>
and which hasn't been taught yet

[10:03:02.0000] <webben>
well, it's not just XHTML

[10:03:03.0000] <webben>
also RSS etc

[10:04:00.0000] <Philip`>
(the same as how it's taken a while for people to realise that SQL injection and XSS etc are problems, but they're fairly well known now among certain groups of people)

[10:04:01.0000] <webben>
Indeed.

[10:04:02.0000] <webben>
That's very much along the lines of what I was saying.

[10:06:00.0000] <webben>
I wonder how much of the problem does or doesn't stem from poor language support for unicode too.

[10:06:01.0000] <webben>
And bad defaults.

[10:06:02.0000] <webben>
e.g. PHP now has filter: http://uk.php.net/filter

[10:06:03.0000] <webben>
but it's off by default because turning it on would break a lot of the web

[10:18:00.0000] <gsnedders>
what's browser support of IRIs like (esp. in paths)?

[10:21:00.0000] <Philip`>
/me sees that Opera doesn't like http://.../...#%65 etc, but Firefox does, and wonders who's wrong

[10:21:01.0000] <annevk>
Opera

[10:21:02.0000] <annevk>
known issue

[10:21:03.0000] <Philip`>
Oh, works in 9.5

[10:21:04.0000] <Philip`>
/me doesn't fix his code, in that case

[10:22:00.0000] <annevk>
fixed issue, even, nice :)

[10:22:01.0000] <annevk>
/me needs to keep up

[11:58:00.0000] <Hixie>
Philip`: i can't find a step 2 that says to go to step 2, and the two step algorithm does have two steps. (well 7, if you include the 5 inner steps of step 1)

[12:02:00.0000] <Philip`>
Hixie: It's "1. If position points to: <stuff with two "a sequence" things, the second with 5 steps>  2. Otherwise, return to step 2 in these inner steps."

[12:03:00.0000] <Philip`>
and then it has "A sequence of bytes starting with a 0x3C byte (ASCII '<'), optionally a 0x2F byte (ASCII '/'), and finally a byte in the range 0x41-0x5A or 0x61-0x7A (an ASCII letter)" outside the list it should probably be in (introduced by "If position points to:")

[12:04:00.0000] <Hixie>
uh

[12:04:01.0000] <Hixie>
yes clearly that step 2 is wrong

[12:04:02.0000] <Philip`>
perhaps because the "case-insensitive ASCII '&lt;meta' followed by a space or slash" bit has an <ol> with a <p> child

[12:04:03.0000] <Hixie>
oh

[12:04:04.0000] <Hixie>
i see

[12:04:05.0000] <Hixie>
massive markup error

[12:04:06.0000] <Hixie>
will gix

[12:04:07.0000] <Hixie>
fix

[12:06:00.0000] <annevk>
not catched by the validator?

[12:06:01.0000] <Hixie>
the preprocessor "fixed" it

[12:07:00.0000] <annevk>
ah yeah, that happens

[12:07:01.0000] <annevk>
maybe run it over the source?

[12:07:02.0000] <Philip`>
http://validator.nu?doc=http://www.whatwg.org/specs/web-apps/current-work/source

[12:07:03.0000] <Philip`>
annevk: Oh, good idea

[12:07:04.0000] <annevk>
well, you need to prefix the source with something first I guess

[12:08:00.0000] <Philip`>
I assume it'd recover after complaining it was missing the doctype and title

[12:08:01.0000] <Hixie>
ok i should have fixed that list issue

[12:08:02.0000] <Hixie>
looks now

[12:08:03.0000] <Hixie>
i'll fix the rest later

[12:09:00.0000] <Philip`>
so just ignore the first four messages and fix the next near-infinite errors

[12:09:01.0000] <Philip`>
Hixie: Okay, thanks!

[12:09:02.0000] <annevk>
Philip`, true

[12:10:00.0000] <annevk>
heh

[12:10:01.0000] <annevk>
"Fatal Error: Too many messages."

[12:10:02.0000] <annevk>
hsivonen, could you add "HTML is hard." to that as easter egg? :)

[12:11:00.0000] <Hixie>
hsivonen: you output three messages when one end tag has been substituted for another

[12:11:01.0000] <Hixie>
as in, <span>...</code>...</p>

[12:12:00.0000] <Hixie>
missing </span>, unexpected </code>, and <span> still open at </p>.

[12:32:00.0000] <Hixie>
in fact the >1000 errors are only at most 50 or so

[12:32:01.0000] <Hixie>
all fixed now

[12:37:00.0000] <Hixie>
is there an output format for the validator that outputs text/plain?

[12:38:00.0000] <annevk>
there's documentation on the whatwg wiki

[12:38:01.0000] <annevk>
(there is, just not sure how to get it)

[12:38:02.0000] <takkaria>
Hixie: http://wiki.whatwg.org/wiki/Validator.nu_Web_Service_Interface

[12:39:00.0000] <Hixie>
cool thanks

[12:39:01.0000] <Philip`>
&out=text

[12:39:02.0000] <Hixie>
out=gnu is probably what i want

[12:39:03.0000] <Hixie>
well maybe out=text is ok

[12:41:00.0000] <annevk>
for out=gnu you could simply check if the amount of lines is greater than 4

[12:41:01.0000] <Hixie>
out=text uses wacky ass quotation marks

[12:42:00.0000] <Hixie>
annevk: ?

[12:42:01.0000] <annevk>
if the return value has more than 4 lines you have hit a regression

[12:42:02.0000] <annevk>
and need to fix your markup

[12:42:03.0000] <Hixie>
nope. out=text still uses silly quotation marks

[12:42:04.0000] <Hixie>
hsivonen: any chance i can get a US-ASCII output mode? :-)

[12:43:00.0000] <Hixie>
heh, the validator caught my en-GB-hixie error

[12:43:01.0000] <Hixie>
guess i'd better fix it

[12:45:00.0000] <annevk>
Hixie, I'm talking about out=gnu, it uses those quotation marks too, but i'm not sure why that's relevant if you simply want to catch regressions

[12:46:00.0000] <hsivonen>
Hixie: out=gnu is an UTF-8 output mode. (It'll change a bit soon as the GNU spec is amended.) UTF-8 is the new US-ASCII. ;-)

[12:47:00.0000] <hsivonen>
Hixie: out=text is for human reading. you shouldn't try to write a program to parse it.

[12:47:01.0000] <Hixie>
/me accidentally outputs the w3c version to the whatwg site

[12:48:00.0000] <Hixie>
annevk: yeah i was just confused about why you wanted to skip 4 lines? shouldn't i want zero errors?

[12:49:00.0000] <hsivonen>
Hixie: how seriously do you need a US-ASCII mode and what should it do with non-ASCII characters?

[12:49:01.0000] <annevk>
Hixie, oh, I was assuming you wouldn't prefix the source file with the WHATWG header file

[12:49:02.0000] <Hixie>
hsivonen: i don't want to parse it. i have my emacs configured to US-ASCII with any 8 bit bytes displayed in octal, so that i can easily edit test cases with malformed byte sequences

[12:49:03.0000] <Hixie>
hsivonen: so your quotation marks look like \123\123\123

[12:49:04.0000] <Hixie>
really it's just a "no fancy quotes" mode that i'd like :-)

[12:50:00.0000] <Hixie>
annevk: in my script it's already done, so that's not a problem

[12:51:00.0000] <hsivonen>
Hixie: out=gnu is meant to be emacs-friendly, but only when emacs is configured to do UTF-8

[12:52:00.0000] <Hixie>
specifically i get:

[12:52:01.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/source-whatwg:1.51-2.25: error: Bad value \342\200\234en-GB-hixie\342\200\\

[12:52:02.0000] <Hixie>
235 for attribute \342\200\234lang\342\200\235 on element \342\200\234html\342\200\235: Bad variant subtag.

[12:52:03.0000] <Hixie>
i guess it's not a big deal, just looks ugly and makes it hard to work out what the error is

[12:53:00.0000] <hsivonen>
Hixie: can you give me a spec for some processing magic before the UTF-16 to UTF-8 conversion?

[12:53:01.0000] <hsivonen>
Hixie: just replacing the quotes?

[12:54:00.0000] <hsivonen>
Hixie: out of curiosity, what code do you use for integrating emacs and the Web service?

[12:58:00.0000] <Hixie>
curl

[12:58:01.0000] <Hixie>
and yeah, just replacing quotes with " would solve my immediate problem

[13:03:00.0000] <met_>
checking acid3 in last Webkit, strange that test 78 sometimes fails, otherwise not. So I have 87/100, but from time to time it ends 86/100

[13:03:01.0000] <met_>
from console it's Test 78: expected: 90, got: 0 - getRotationOfChar(0) failed.

[13:03:02.0000] <hsivonen>
Hixie: ok.

[13:04:00.0000] <Hixie>
met_: yeah it's probably not always loading the font

[13:05:00.0000] <hsivonen>
Hixie: it's http://bugzilla.validator.nu/show_bug.cgi?id=135 now

[13:06:00.0000] <Hixie>
do the fancy quotes provide any direct benefit to users?

[13:06:01.0000] <Hixie>
apart from looking arguably prettier in certain contexts?

[13:07:00.0000] <Hixie>
because frankly they also cause me other problems, like i can't easily copy and paste them across ssh sessions

[13:07:01.0000] <hsivonen>
Hixie: they disambiguate start and end better and they don't themselves occur in XML/HTML syntax

[13:08:00.0000] <Hixie>
fair enough

[13:14:00.0000] <met_>
Hixie, yeh and it differs from time to time, now failed other svg test -79. It's difficult co compare, when other browsers doesn't support remote fonts

[13:15:00.0000] <annevk>
met_, Opera 9.5 does, no? Although we have some failures there as well I think

[13:16:00.0000] <met_>
annevk, Opera 9.5 support remote fonts? Holly father, I have missed it.

[13:17:00.0000] <gsnedders>
interesting. I have hits from a browser claiming to be Firefox 9.0

[13:23:00.0000] <annevk>
met_, I believe we do, but I no next to nothing about SVG

[13:23:01.0000] <annevk>
s/no/know/

[13:24:00.0000] <met_>
annevk, just downloading last opera weekly to check

[13:33:00.0000] <met_>
annevk, no examples from http://www.alistapart.com/articles/cssatten still don't work in public build

[13:34:00.0000] <gsnedders>
/me decides he better not describe himself as Hixie's minion protégé in a silly autobiography, as someone is bound to take it seriously

[13:35:00.0000] <annevk>
met_, I thought you were talking about SVG specifically

[13:35:01.0000] <annevk>
met_, there's no "generic" support for downloadable fonts

[13:35:02.0000] <met_>
from the acid test yes, i have tried it generally now, so for svg should work?

[13:35:03.0000] <met_>
ok

[13:40:00.0000] <roc>
hmm, should I fix IFRAME drawing inside SVG filters on Mac, just so I can adapt reftest-analyzer to work with live testcases?

[13:40:01.0000] <roc>
yeah!

[13:54:00.0000] <eseidel>
?

[13:54:01.0000] <eseidel>
ah, he's talking about FF SVG

[13:55:00.0000] <jgraham>
eseidel: With that kind of enthusiasm, who cares about the tangentialness of the relevance ;)

[13:57:00.0000] <eseidel>
/me would like someone to fix rightsizing in webkit

[13:58:00.0000] <roc>
oops wrong channel

[13:59:00.0000] <roc>
but it *is* kind of cool that with SVG filters, IFRAMEs and foreignobject you can create a pixel-level page comparison tool in a Web app

[13:59:01.0000] <annevk>
rightsizing?!

[13:59:02.0000] <annevk>
/me was hoping that terminology would not be used outside the CDF WG

[14:00:00.0000] <roc>
oh, have they got a spec for that?

[14:00:01.0000] <jgraham>
/me wonders what rightsizing is if it's not a euphemism for sacking everyone

[14:00:02.0000] <eseidel>
annevk: we need a term for those bugs

[14:01:00.0000] <roc>
I think it means "give IFRAMEs a meaningful intrinsic size" (or height at least)

[14:01:01.0000] <eseidel>
so I stole the CDF WG's term

[14:01:02.0000] <eseidel>
oh, no that's another set of bugs roc

[14:01:03.0000] <eseidel>
roc: that's just implementing CSS 2.1 :)

[14:01:04.0000] <roc>
what is?

[14:02:00.0000] <eseidel>
CSS 2.1 requires inline replaced elements to support relative intrinsic sizes

[14:02:01.0000] <eseidel>
which we in webkit at least don't support

[14:02:02.0000] <roc>
you mean the aspect-ratio-preserving stuff?

[14:02:03.0000] <eseidel>
so things like <object> don't corretly pick up the height="100%" off of their svg child doc

[14:02:04.0000] <othermaciej>
I don't think current browsers ever give <iframe> a useful intrinsic size

[14:02:05.0000] <eseidel>
roc: the aspect-ratio-preserving stuff is "right sizing"

[14:02:06.0000] <othermaciej>
even if you put a fixed-size raster image in it

[14:03:00.0000] <othermaciej>
so it's not really the same issue as <object?

[14:03:01.0000] <othermaciej>
>

[14:03:02.0000] <roc>
CSS2.1 specifies that IFRAME intrinsic sizes should depend on the child document? news to me

[14:03:03.0000] <annevk>
eseidel, aspect ratio is also CSS 2.1

[14:03:04.0000] <othermaciej>
(it would be handy if <iframme> could size appropriately to a child HTML document, but you'd need some way to ask for that in CSS)

[14:03:05.0000] <annevk>
eseidel, in fact, if it's not, rightsizing would be a violation of CSS 2.1, which is not what you want...

[14:04:00.0000] <roc>
yeah, that's what I want (and the Web needs I think)

[14:04:01.0000] <annevk>
(having said that, CSS 2.1 should just say whatever is most fancy and works)

[14:04:02.0000] <roc>
I actually had a patch for it in Gecko, but there's a concern about information leakage

[14:04:03.0000] <roc>
for cross-domain frames

[14:05:00.0000] <eseidel>
rightsizing entered into my lingo from the WICD tests http://bugs.webkit.org/show_bug.cgi?id=15836... I might be using it wrong though

[14:05:01.0000] <eseidel>
annevk: this is the CSS 2.1 bug of which I speak: http://bugs.webkit.org/show_bug.cgi?id=15849

[14:05:02.0000] <eseidel>
which causes us to fail hixie's tests: http://bugs.webkit.org/show_bug.cgi?id=15473

[14:18:00.0000] <gsnedders>
Hixie: with <http://bugs.webkit.org/show_bug.cgi?id=17023> you better paste it all again with the changes :P

[15:08:00.0000] <jgraham>
Highly unpolished and quite probably wrong at least sometimes: http://james.html5.org/outliner.html

[15:14:00.0000] <Hixie>
does it work on the spec? :-)

[15:15:00.0000] <jgraham>
Hixie: Define work :)

[15:15:01.0000] <annevk>
cool stuff

[15:16:00.0000] <annevk>
/me plyed with <h1>1</h1><h5>2</h5><section><h3>3</h3><section><h2>4

[15:16:01.0000] <annevk>
played, even

[15:19:00.0000] <jgraham>
Oh and fwiw, I have serious doubts about making <td> a sectioning root element. My guess is that that will make the algorithm useless for a significant amount of real-world content

[15:19:01.0000] <annevk>
the algorithm is already useless for that if it only takes into account <h1>-<h6>

[15:20:00.0000] <annevk>
for real world content you want to base this stuff on computed style information

[15:20:01.0000] <jgraham>
annevk: A non-trivial number of pages use <h1>-<h6> in a semi-sane way

[15:20:02.0000] <annevk>
so given that you might as well discourage table for layout madness

[15:21:00.0000] <annevk>
jgraham, inside <table>?

[15:21:01.0000] <Hixie>
jgraham: i would agree, if it wasn't for the problem of legitimate uses of headers inside cells being cases where you _would_ want it treated a sectioning root

[15:21:02.0000] <jgraham>
Hixie: Example?

[15:22:00.0000] <jgraham>
/me can't really think of why you would want headers in tables at all

[15:22:01.0000] <Hixie>
a character sheet where one of the cells is the characters's background story

[15:23:00.0000] <jwalden>
a page using tables for layout

[15:23:01.0000] <jgraham>
And the story has multiple subheadings?

[15:23:02.0000] <Hixie>
yeah

[15:23:03.0000] <Hixie>
jwalden: we already know that's non-conforming :-)

[15:24:00.0000] <jwalden>
just stating the practical response :-)

[15:24:01.0000] <jgraham>
jwalden: That's the case that is currently unsupported by the algorithm

[15:24:02.0000] <jwalden>
er, pragmatic

[15:24:03.0000] <jgraham>
and that I think needs to be supported

[15:25:00.0000] <Hixie>
if i made it a sectioning element it still wouldn't work

[15:25:01.0000] <Hixie>
for real content

[15:26:00.0000] <jgraham>
I think for real content it would have to be ignored.

[15:27:00.0000] <Hixie>
right, which isn't compatible with conforming content

[15:27:01.0000] <jgraham>
I'm not sure how to deal with the character sheet example other than to say "don't use a table for that", which seems a stretch as a table isn't obviously wrong 

[15:27:02.0000] <Hixie>
and as much as we want to make legacy pages work, valid semantic pages have to be a higher priority imho

[15:29:00.0000] <jgraham>
I guess it would be nice to look at how headings as descendants of table content are actually used in the real world

[15:31:00.0000] <jgraham>
On an (not) entirely different topic, is there a good reason to call the current outline element /current outlinee/ rather than, say, /current outline element/

[15:33:00.0000] <jgraham>
which looks less like a typo and prevents me from having to make the same translation every time in my head

[15:33:01.0000] <Hixie>
heh

[15:33:02.0000] <Hixie>
well it's not the "current outline element"

[15:34:00.0000] <Hixie>
it's the "element that is currently having an outline created for it"

[15:34:01.0000] <Hixie>
i don't mind changing it to something else if you have a suggestion that's correct :-)

[15:34:02.0000] <Hixie>
so supporting <table><select><table> turned out way simpler than i expected

[15:35:00.0000] <Hixie>
i must have misunderstood something

[15:39:00.0000] <jgraham>
Oh I hadn't read outlinee like that at all. I guess that's wwhat happens when you use made up words even if they do follow standard morphological rules :)

[15:40:00.0000] <Hixie>
:-)

[15:42:00.0000] <annevk>
<input> closes <select>, interesting

[15:45:00.0000] <Hixie>
yeah a webkit bug was just filed on this

[15:46:00.0000] <annevk>
btw, browsers other than IE7 also reprocess <select> when found in "in select"

[15:47:00.0000] <annevk>
(tested Firefox and Opera)

[15:47:01.0000] <annevk>
nn

[15:47:02.0000] <annevk>
/me -> bed

[15:49:00.0000] <Hixie>
doesn't the spec already say that?

[15:51:00.0000] <Hixie>
heh, i think my script handles "<!DOCTYPE html> <table border> <b><p>a</b> <td> b" as we'd want because it pushes a <#bucket> node onto the stack when doing foster parenting

[15:59:00.0000] <Hixie>
jgraham: i pasted the html5 spec into the outliner algorithm and it didn't do anything (After hanging safari for a few minutes)

[15:59:01.0000] <Hixie>
just said "updating..."


2008-03-05
[16:00:00.0000] <jgraham>
Hixie: The HTML5 spec seems to kill lxml, which I;m using to construct the tree

[16:00:01.0000] <Hixie>
ah

[16:01:00.0000] <jgraham>
(I haven't got as far as making the updating... thing go away if there is an error)

[16:01:01.0000] <jgraham>
specifically lxml 1.3.6 doesn't like the doctype <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

[16:08:00.0000] <Hixie>
heh

[16:10:00.0000] <jgraham>
/me fixes the bug in html5lib; will deploy tomorrow

[16:10:01.0000] <eseidel>
/me wonders if jgraham is the author of html5lib

[16:15:00.0000] <jgraham>
eseidel: I am one of the authors along with annevk and various others

[16:18:00.0000] <jgraham>
Hixie: It doesn't work quite right on the spec atm

[16:19:00.0000] <jgraham>
but that's another problem for tomorrow

[16:19:01.0000] <jgraham>
/me -> bed

[16:26:00.0000] <Hixie>
nn

[16:32:00.0000] <Philip`>
/me looks at some data and discovers surprisingly that the web is a mess

[16:33:00.0000] <Philip`>
It looks like it's actually about as broken as the rest of the internet

[16:55:00.0000] <Philip`>
On the positive side, 100% of pages that declare themselves as iso-8859-1 can be decoded with no errors

[16:56:00.0000] <Philip`>
On the less positive side, only 94% of pages declared as utf-8 can be decoded without errors

[16:56:01.0000] <Philip`>
and 84% of gb2312

[17:02:00.0000] <Philip`>
http://validator.nu/?doc=http://tools.ietf.org/html/rfc303 - some people can't even get us-ascii right

[17:39:00.0000] <Philip`>
How does MetaSniffer think that pages like http://fqq.com/ have charset "x-windows-874"?

[17:40:00.0000] <Philip`>
There's 58 of them, and none seem to actually say "x-windows-874" anywhere inside them...

[17:43:00.0000] <Philip`>
Oh, that's because I'm asking it for the canonical name of the sniffed charset

[20:47:00.0000] <Hixie_>
these fixes are proving remarkably easy to do

[23:05:00.0000] <othermaciej>
Hixie: would you consider the pause of a WebKit release build on Acid3 (around test 26) to constitute a failure?

[23:06:00.0000] <othermaciej>
(I think it pauses less than any other browser but it's still noticeable)

[23:09:00.0000] <Hixie>
yes, though obviously nowhere as serious as anything else

[23:10:00.0000] <othermaciej>
I'm not sure it is possible to pass then

[23:11:00.0000] <othermaciej>
but I guess we'll look at it once we fix everything else

[23:11:01.0000] <othermaciej>
(up to 90/100 now)

[23:53:00.0000] <annevk>
Hixie, not, the current spec treats a <select> start tag specially in "in select" and different from <input>

[23:56:00.0000] <Hixie>
hm?

[23:57:00.0000] <Hixie>
how do you mean?

[23:58:00.0000] <annevk>
<select><option>...<select><option>...

[23:58:01.0000] <hsivonen>
annevk, jgraham: are you fixing the html5lib tests to match Hixie's spec changes?

[23:58:02.0000] <annevk>
In Firefox and Opera that generates 2 selects

[23:58:03.0000] <annevk>
In IE and HTML5 it generates 1

[23:59:00.0000] <Hixie>
ok...

[23:59:01.0000] <Hixie>
that's good, no?

[23:59:02.0000] <annevk>
yeah, maybe it is

[00:00:00.0000] <annevk>
Hixie, btw, you're still going to fix EOF handling, etc right?

[00:00:01.0000] <annevk>
and hopefully form parsing

[00:01:00.0000] <Hixie>
actually nobody mailed about that, but yes, there's a big red note about that in the spec, no?

[00:01:01.0000] <Hixie>
oh crap did i remove that note?

[00:01:02.0000] <Hixie>
hm

[00:01:03.0000] <Hixie>
send mail!

[00:01:04.0000] <Hixie>
:-)

[00:02:00.0000] <Hixie>
bbiab

[00:03:00.0000] <annevk>
i e-mailed about form parsing, i'll complain about eof handling once i've read the rest of your e-mail and the spec changes

[00:06:00.0000] <Hixie>
k thanks

[00:06:01.0000] <Hixie>
please do mail me, i'll try to address it relatively soon if you send it tonigth

[00:07:00.0000] <om_sleep>
Hixie: fwiw, Safari would have to be 3-4x faster to avoid visibly pausing (to my eye) on test 26

[00:07:01.0000] <om_sleep>
I hope SJ has some sweet hardware announcements this year

[00:11:00.0000] <annevk>
in revision 1345 it was removed

[00:18:00.0000] <annevk>
so the problem with html5lib is that all these other projects rely on it and when I want to fix parser bugs I have to fix their testcases too

[00:56:00.0000] <Philip`>
annevk: Also the problem is that when I want to fix the test cases so they work in my parser, I have to fix html5lib because it's not nice to leave failing tests

[01:04:00.0000] <annevk>
i agree that that's not ideal

[01:05:00.0000] <annevk>
i don't really have good ideas other than to fork html5lib to make it about parsing again

[01:06:00.0000] <annevk>
Because I did really like having the Python reference implementation

[01:06:01.0000] <annevk>
"reference"

[01:09:00.0000] <Philip`>
Maybe it'd help to move the testdata into a separate project, so it can be updated independently of any one implementation, and then occasionally import certain revisions into html5lib once html5lib is made to pass those tests?

[01:10:00.0000] <Philip`>
/me might try looking at the updated parser spec in the next week or so, to see what's changed and to fix tests and things

[01:11:00.0000] <annevk>
we could put the test stuff in http://code.google.com/p/html5/

[01:56:00.0000] <zcorpan>
i remember someone had a master's thesis about mobiles and xhtml

[01:57:00.0000] <zcorpan>
ah found it

[01:58:00.0000] <annevk>
/me makes some new HTML parsing tests to cover the changes

[02:00:00.0000] <hsivonen>
zcorpan: out of curiosity, whose thesis was that? hendry's?

[02:00:01.0000] <zcorpan>
hsivonen: yeah

[02:03:00.0000] <jgraham>
annevk: I don't see why you would need to fork html5lib to update the tests

[02:03:01.0000] <hendry>
zcorpan: heh :)

[02:03:02.0000] <hendry>
not sure if any bits are relevant. I want to rewrite it. ;)

[02:03:03.0000] <annevk>
jgraham, the problem is all the related projects

[02:03:04.0000] <jgraham>
My opinion is that if we are broken per spec then there's no problem with fixing the tests and sending mail 

[02:04:00.0000] <jgraham>
annevk: Related to what?

[02:04:01.0000] <jgraham>
Also note that c.g.c/p/html5lib -> c.g.c/p/html5 involves a small license change

[02:05:00.0000] <annevk>
true, i don't really want to fork it

[02:06:00.0000] <hsivonen>
fwiw, I don't mind if the html5lib tests move ahead of the Validator.nu parser

[02:06:01.0000] <hsivonen>
it won't break my build or anything like that

[02:07:00.0000] <hsivonen>
actually, I'm kind of hoping that someone other than me fixed the tests :-)

[02:08:00.0000] <jgraham>
Although it's not quite the tdd philosophy, I'd much rather have some already failing tests to help get the changes right

[02:09:00.0000] <annevk>
i'll fix the html5lib python parser and the tokenizer and parser tests

[02:09:01.0000] <annevk>
everything else is screwed

[02:09:02.0000] <jgraham>
/me still isn't sure what constitutes "everything else" here

[02:09:03.0000] <annevk>
i made a runparsertests.py that only does "test_tokenizer.py", "test_parser.py", "test_parser2.py"

[02:10:00.0000] <annevk>
and not serializer, validator, etc.

[02:16:00.0000] <Philip`>
I think the html5lib tokeniser tests are up to date now

[02:16:01.0000] <Philip`>
though I could have easily missed some bits

[02:17:00.0000] <hsivonen>
virtuelv: about.validator.nu now has a table of contents

[02:18:00.0000] <virtuelv>
hsivonen: thanks

[03:07:00.0000] <annevk>
jgraham, yt?

[03:08:00.0000] <annevk>
I need some help with the table crap. HTML5 now has this concept of tainted tables where we only have some table insertion magic. Do you (or anyone else) see an easy way to change html5lib to make it aware of the new concept?

[03:38:00.0000] <hsivonen>
I find it interesting how out=gnu seems to be getting more attention than the fancy XML and JSON outputs

[03:40:00.0000] <hsivonen>
Hixie: http://validator.nu/?doc=http://www.whatwg.org/specs/web-apps/current-work/source&out=gnu&asciiquotes=yes

[04:01:00.0000] <annevk>
I'm getting somewhere...

[04:01:01.0000] <annevk>
/me makes more tests

[04:46:00.0000] <Philip`>
annevk: "unpexted-hidden-input-in-table" - s/pex/expec/

[04:47:00.0000] <Philip`>
Hmm, I added some new error strings in the html5lib tokeniser a short while ago, but didn't add a descriptive English version - should I have?

[04:47:01.0000] <Philip`>
(in r1104)

[04:48:00.0000] <Philip`>
(http://canvex.lazyilluminati.com/html5lib/changeset/1104 - ooh, Trac still works)

[04:52:00.0000] <annevk>
dunno, don't really care about it too much

[04:58:00.0000] <annevk>
it doesn't have my changes

[04:58:01.0000] <annevk>
local checkout or something?

[04:59:00.0000] <Philip`>
It only updates every six hours or so

[04:59:01.0000] <annevk>
k

[04:59:02.0000] <Philip`>
(since Trac requires a local repository, so I have to sync from the remote one)

[05:08:00.0000] <Philip`>
http://philip.html5.org/data/charsets.html

[05:08:01.0000] <Philip`>
/me wonders if he's missing something useful on there

[05:14:00.0000] <hsivonen>
Philip`: I'm surprised at how many pages claim to use MacRoman one way or another

[05:14:01.0000] <annevk>
the <meta content=" ... charset .." > case that doesn't have http-equiv

[05:17:00.0000] <hsivonen>
Philip`: it would be interesting to check if invalid gb2312 would be valid and sane if decoded as gb18030

[05:20:00.0000] <Philip`>
annevk: The thing I called "http-equiv" is misleading because actually it entirely ignores the http-equiv value

[05:21:00.0000] <Philip`>
(It just looks at 'content', like the spec says)

[05:24:00.0000] <Philip`>
But I'll add a list of the actual http-equiv values that were seen

[05:30:00.0000] <Philip`>
Quite a lot of people put <meta> charset declarations inside <style> contents

[05:32:00.0000] <annevk>
<select>xxx why does "xxx" end up in the  DOM per HTML5?

[05:33:00.0000] <annevk>
oh, IE does that

[05:34:00.0000] <annevk>
ok

[05:41:00.0000] <Philip`>
<meta http-equiv="Содержимое-Тип" content="text/html; charset=windows-1251">

[05:43:00.0000] <annevk>
in select in table is now supported

[05:51:00.0000] <takkaria>
heh, http://www.glassdoctors.co.uk/chipsandmot.html begins with </html>

[05:56:00.0000] <Philip`>
/me gives up trying to use Unicode ids and #id links, and replaces everything with ASCII

[06:03:00.0000] <annevk>
ok, after after phases are just a more verbose trailing phase

[06:04:00.0000] <annevk>
hsivonen, not many tests were affected... i added tests7.dat though which has a bunch of new tests

[06:10:00.0000] <Philip`>
Of 760 declared gb2312 pages, 120 have errors decoding as gb2312, 8 have errors as gbk, 8 have errors as gb18030

[06:18:00.0000] <annevk>
and gb2313 < gbk < gb18030 is the order?

[06:21:00.0000] <Philip`>
Yes

[06:25:00.0000] <Philip`>
(I don't know how many of these errors are caused by e.g. actually using utf-8 instead of gb*, where it happens to be a subset of gbk and not of gb2312)

[06:25:01.0000] <Philip`>
(*a subset of the byte sequences allowed by)

[06:39:00.0000] <annevk>
http://www.microsoft.com/windows/products/winfamily/ie/ie8/readiness/DevelopersNew.htm

[06:40:00.0000] <annevk>
"Six connections per host instead of two for broadband scenarios and a scriptable property allow for more improved performance by allowing parallelization of downloads in Internet Explorer 8."

[06:41:00.0000] <annevk>
"XMLHTTPRequest Enhancements include a timeout property that can be set to cancel the request if necessary, allowing developers to manage the request better."

[06:41:01.0000] <annevk>
it's good to know MS is still taking the W3C serious...

[06:58:00.0000] <hsivonen>
annevk: ok. thanks

[06:59:00.0000] <annevk>
hsivonen, please make more tests as you introduce changes, that will give us more coverage

[07:01:00.0000] <hsivonen>
annevk: ok

[07:01:01.0000] <annevk>
IE also has their own cross-site XHR

[07:01:02.0000] <annevk>
"XDomainRequest"

[07:02:00.0000] <annevk>
No idea if cross-document messaging matches HTML5 or not. I guess it matches given MS their editorial comments

[07:19:00.0000] <takkaria>
nice, they even use hatom without actually using hatom

[07:35:00.0000] <Philip`>
annevk: I can't click the "Install Internet Explorer 8" link on that page in Opera :-(

[07:35:01.0000] <annevk>
hit the lower end of the p

[07:35:02.0000] <annevk>
but yeah...

[07:36:00.0000] <annevk>
works fine in post-9.2

[07:36:01.0000] <Philip`>
/me likes shift+arrow link navigation

[07:37:00.0000] <Philip`>
/me guesses IE8 won't work in Wine

[07:40:00.0000] <Philip`>
"Web sites that unknowingly access objects after they are freed may find such access failing in Internet Explorer 8" - why would an object be freed if it was still possible to access it?

[07:43:00.0000] <gsnedders>
namespaces are interesting

[07:44:00.0000] <gsnedders>
looks like they're changing what they already have

[07:59:00.0000] <othermaciej>
I'm certainly curious what XHR stuff they have done

[08:00:00.0000] <virtuelv>
hm, no word on canvas or svg?

[08:00:01.0000] <virtuelv>
oh, "Internet Explorer 8 offers Web developers the opportunity to write standards-compliant HTML-based Web pages that support features (such as SVG, XUL, and MathML) in namespaces, provided that the client has installed appropriate handlers for those namespaces via binary behaviors. (A binary behavior is a type of ActiveX control.)"

[08:01:00.0000] <Philip`>
/me wonders how they can do standards compliant namespace handling in HTML

[08:02:00.0000] <Philip`>
(particularly without breaking the people who depend on IE6's namespace handling)

[08:02:01.0000] <Philip`>
(unless the plan is to break a lot of people during the beta, so customers will demand that IE8 goes back to rendering in IE7 bug mode by default, so Microsoft will have a good reason for choosing to do so)

[08:04:00.0000] <annevk>
othermaciej, look like an ontimeout attribute that cancels the request after some amount of time and XDomainRequest, whatever that is...

[08:04:01.0000] <othermaciej>
Philip`: it looks like the only real namespace change is making it simpler to load a "binary behavior"

[08:04:02.0000] <othermaciej>
(from their description)

[08:05:00.0000] <othermaciej>
annevk: it would be nice to know how it differs from XXX

[08:05:01.0000] <annevk>
it seems like something completely new

[08:05:02.0000] <annevk>
:(

[08:05:03.0000] <annevk>
like a new type of object, a la JSONRequest

[08:06:00.0000] <annevk>
but there's not much information

[08:06:01.0000] <annevk>
i asked the interwebs, but so far there's nothing :)

[08:07:00.0000] <virtuelv>
I'm wondering why they are specifically mentioning XUL among those ActiveX controls

[08:08:00.0000] <annevk>
to show that they're trying not to be evil or something? dunno, XUL on the Web would not be good

[08:15:00.0000] <gsnedders>
Philip`: namespace change in IE8 standards mode only, I expect. Quirks doesn't change, nor does those who opt-in to IE7 Standards

[08:16:00.0000] <gsnedders>
Philip`: I expect most of those that rely on the namespace handling are quirks anyway

[08:17:00.0000] <Philip`>
gsnedders: I'd expect those that rely on it to be standards, because they're fancy scripts used by people who want to write proper XHTML 1.0

[08:18:00.0000] <Philip`>
(The namespace syntax itself might be more quirky, but that's not very interesting - it's the scripted interaction with HTML-namespaces that matters)

[08:18:01.0000] <gsnedders>
why would the scriped based ineraction change?

[08:20:00.0000] <Philip`>
It's a new browser version which claims to have changes to its namespace support, so I'd assume its namespace support (quite possibly including how it interacts with DOM scripting) has changed

[08:22:00.0000] <gsnedders>
I was assuming the difference was an HTML serialisation

[08:22:01.0000] <annevk>
I also thought it was yet another quirk, but simpler, for text/html

[08:23:00.0000] <Philip`>
Uh, I'm not quite sure what people are saying

[08:32:00.0000] <zcorpan>
hsivonen: looking at http://simon.html5.org/test/aria/colon-vs-dash/ it seems that ie doesn't differ from the other browsers with the colon when it comes to .getAttribute() and .attributes

[08:33:00.0000] <zcorpan>
but namespace magic with \: in selectors is probably taking place, even for attribute selectors, which is why it doesn't match

[08:33:01.0000] <annevk>
I thought the issue was styling and it not being equivalent in HTML and XHTML

[08:34:00.0000] <zcorpan>
annevk: yeah

[08:34:01.0000] <annevk>
"just say no"

[08:35:00.0000] <zcorpan>
i'm just making sure we don't use non-issues as arguments :)

[08:38:00.0000] <annevk>
IE8 adds support for ARIA...

[08:41:00.0000] <annevk>
also, IE fixed their page zoom: "Primary features in this release include the elimination of horizontal scroll bars for the majority of mainstream scenarios and the introduction of persistent zoom states."

[08:41:01.0000] <annevk>
/me remember someone praising that.. glazou?

[08:42:00.0000] <Philip`>
http://www.glazman.org/weblog/dotclear/index.php?post/2008/02/11/Is-fullZoom-zooming

[08:43:00.0000] <Philip`>
I guess he'd say Google Maps zooming isn't zooming either, because the map changes (e.g. place names popping up) when you zoom

[08:44:00.0000] <Philip`>
so I'm not sure it's the most user-friendly definition of zooming

[09:18:00.0000] <zcorpan>
i wonder if ie8 fixed the bugs i pointed out in ie7b2

[09:42:00.0000] <gsnedders>
zcorpan: I expect it has, and introduced totally new bugs

[09:44:00.0000] <Philip`>
gsnedders: That's what beta is for - we can test it, report all the bugs, and they will all be fixed before release

[09:45:00.0000] <gsnedders>
Philip`: because all bugs get found :P

[09:45:01.0000] <Philip`>
and fixed

[09:46:00.0000] <Philip`>
The web is too important to let people get away with releasing software with bugs

[09:47:00.0000] <gsnedders>
We need Acid4.

[09:47:01.0000] <Philip`>
What will it test?

[09:48:00.0000] <SadEagle>
Philip`: so not software should ever be released?

[09:48:01.0000] <gsnedders>
Everything. It will make sure nothing ever is released with bugs.

[09:48:02.0000] <Philip`>
http://code.msdn.microsoft.com/iemix08labs works now

[09:50:00.0000] <Philip`>
    xdr = new XDomainRequest();

[09:50:01.0000] <Philip`>
    xdr.onerror = err;

[09:50:02.0000] <Philip`>
    xdr.ontimeout = timeo;

[09:50:03.0000] <Philip`>
    xdr.onprogress = progres;

[09:50:04.0000] <Philip`>
    xdr.onload = loadd;

[09:50:05.0000] <Philip`>
    xdr.timeout = tbTO.value;

[09:50:06.0000] <Philip`>
    xdr.open("get", tbURL.value);

[09:50:07.0000] <Philip`>
    xdr.send();

[09:51:00.0000] <Philip`>
then the callbacks can read xdr.responseText, xdr.contentType

[09:52:00.0000] <Philip`>
XMLHttpRequest has xmlHttp.ontimeout=timeoutFired; xmlHttp.timeout = 5000;

[09:52:01.0000] <gsnedders>
"In this vain, Internet Explorer 8 will ship with an additional layout engine that is fully CSS 2.1 compliant upon final release."

[09:53:00.0000] <Philip`>
vain?

[09:54:00.0000] <gsnedders>
following on from other browsers approaching full support

[10:02:00.0000] <Philip`>
    <activity category="define">

[10:02:01.0000] <Philip`>
      <activityAction context="selection">

[10:02:02.0000] <Philip`>
        <execute action="http://dictionary.reference.com/browse/{selection}" method="get"/>

[10:02:03.0000] <Philip`>
      </activityAction>

[10:03:00.0000] <Philip`>
    </activity>

[10:03:01.0000] <Philip`>
Those braces seem like a familiar idea

[10:11:00.0000] <Philip`>
Oh, http://code.msdn.microsoft.com/ie8whitepapers exists too

[10:13:00.0000] <Philip`>
"Internet Explorer 8 hopes to implement some of the most requested CSS3 features by web developers and designers."

[10:13:01.0000] <Philip`>
(Apparently currently box-sizing and vertical text)

[10:14:00.0000] <annevk>
euhm, IE dispatches "hashChanged" while the event is named "hashchanged"

[10:15:00.0000] <annevk>
also, window.globalStorage["http://www.contoso.com"]

[10:15:01.0000] <annevk>
also, their API is asynchronous

[10:15:02.0000] <annevk>
...

[10:16:00.0000] <annevk>
and yet they claim standards compliance

[10:18:00.0000] <Philip`>
Apparently they support

[10:18:01.0000] <Philip`>
<html>

[10:18:02.0000] <Philip`>
 ...

[10:18:03.0000] <Philip`>
  <svg width="600" height="300" xmlns="http://www.w3.org/2000/svg">

[10:18:04.0000] <Philip`>
   <rect x="0" y="0" width="100" height="100" style="fill:url(#gradient)" />

[10:18:05.0000] <Philip`>
   ...

[10:18:06.0000] <Philip`>
  </svg>

[10:20:00.0000] <Philip`>
Also <li role="treeitem" aria-expanded="false"> and treeitem.ariaExpanded = "false";

[10:20:01.0000] <annevk>
:(

[10:22:00.0000] <annevk>
maybe making a checklist for them will help...

[10:25:00.0000] <Philip`>
Maybe making test cases would help too

[10:29:00.0000] <annevk>
"When the title is absent, for accessibility Internet Explorer falls back to the alt attribute for a tooltip."

[10:30:00.0000] <Philip`>
"Attempting to navigate to a DATA URI via the address bar is not allowed. Data URIs may not be used as a source for FRAME or IFRAME elements. An OBJECT tag is limited to supporting non-navigable file types [i.e. not text/html]."

[10:32:00.0000] <met_>
annevk, "I was wondering if someone on the interwebs has more information on the various things listed on that page." Di you watched the IE8 streaming several minutes ago?

[10:32:01.0000] <annevk>
the stuff they released now is what i was looking for

[10:33:00.0000] <met_>
ok

[10:33:01.0000] <met_>
download still doesn't work

[10:34:00.0000] <met_>
 some video are archived  at http://visitmix.com/Default.aspx

[10:34:01.0000] <met_>
but not the official introduction yet

[10:35:00.0000] <met_>
only explanation of Web Slices

[10:41:00.0000] <annevk>
document.documentMode

[10:45:00.0000] <met_>
/me is download IE8 now

[10:45:01.0000] <Hixie_>
/me realises the html5 parser has draconian error handling for one class of errors

[10:46:00.0000] <gsnedders>
that shouldn't happen.

[10:46:01.0000] <Hixie_>
actually, i intend to keep it

[10:46:02.0000] <Hixie_>
the class of errors is "unexpected end of file" :-P

[10:47:00.0000] <gsnedders>
EOF when?

[10:47:01.0000] <gsnedders>
met_: download? where?

[10:47:02.0000] <jandem>
gsnedders: http://www.microsoft.com/windows/products/winfamily/ie/ie8/readiness/Install.htm

[10:47:03.0000] <Hixie_>
gsnedders: anywhere it's not allowed :-)

[10:47:04.0000] <met_>
http://www.microsoft.com/windows/products/winfamily/ie/ie8/readiness/Install.htm

[10:47:05.0000] <gsnedders>
so they work now

[10:47:06.0000] <met_>
looks like some mirros are syncing

[10:48:00.0000] <met_>
one minute it works, the second not

[10:48:01.0000] <met_>
/me is installing...

[10:50:00.0000] <annevk>
Hixie_, how is it draconian?

[10:55:00.0000] <Hixie_>
annevk: it stops parsing!

[10:57:00.0000] <met_>
It has big 'Emulate IE7' button. But you have to restart IE after switching.

[10:58:00.0000] <annevk>
Hixie_, :p

[10:59:00.0000] <itpastorn>
Anne, I've written on Wikipedia that you was indeed the first to blog about Acid3. Can you confirm this?

[10:59:01.0000] <annevk>
the interwebs is near-infinite, how can I tell?

[11:00:00.0000] <met_>
Score 17/100 in Acid3 and it doesn't pass Acid2 completelly.

[11:00:01.0000] <itpastorn>
As far as you know?

[11:01:00.0000] <annevk>
maybe...

[11:01:01.0000] <SadEagle>
/me gives kudos to annevk & co for opera passing this incredibly evil testcase

[11:01:02.0000] <itpastorn>
(There was nothing on Technorati before Jan 10)

[11:02:00.0000] <annevk>
itpastorn, ok

[11:03:00.0000] <itpastorn>
Thanks!

[11:03:01.0000] <itpastorn>
Right now I am editing the (X)HTML 5 article on the Swedish WP. Anyone on this channel that speaks Swedish is invited to help.

[11:15:00.0000] <Philip`>
IE8 takes a long time to install compared to other web browsers

[11:20:00.0000] <annevk>
SadEagle, you make me curious :)

[11:22:00.0000] <SadEagle>
annevk: it's not that big of a deal, on second thought --- only mozilla gets it wrong (sequencing in reference evaluation in JS)

[11:22:01.0000] <annevk>
k

[11:23:00.0000] <annevk>
Philip`, it's 3 browsers!

[11:24:00.0000] <Philip`>
Also it takes an extra two years to finish installing when you reboot

[11:27:00.0000] <annevk>
XBL2 in 8k of JS, nice

[11:28:00.0000] <othermaciej>
annevk: Microsoft has a whitepaper up now, but it doesn't seem to document XDocmainRequest

[11:28:01.0000] <Philip`>
/me waits while Windows continues rebooting

[11:29:00.0000] <Philip`>
othermaciej: http://code.msdn.microsoft.com/ie8whitepapers/Release/ProjectReleases.aspx?ReleaseId=581 seems to document it (to some extent)

[11:29:01.0000] <annevk>
othermaciej, it seems to be XHR but slightly different

[11:30:00.0000] <annevk>
it doesn't send cookies/auth data and requires the server to reply with a header that's basically a boolean

[11:33:00.0000] <Philip`>
Hmm, they do the address bar significant-part-of-domain highlighting thing that FF3 used to do

[11:34:00.0000] <Philip`>
Live DOM Viewer looks ugly and says "Line: 127 Error: Not implemented"

[11:35:00.0000] <Philip`>
Node.attributes.length is not implemented

[11:44:00.0000] <Philip`>
and .item(n) is not implemented either

[11:51:00.0000] <hsivonen>
Hixie_: according to a new MS whitepaper, IE8 will do aria-*

[11:51:01.0000] <roc>
I'm sure Ian's reading those whitepapers right now

[11:51:02.0000] <roc>
just like we are :-)

[11:51:03.0000] <Philip`>
http://philip.html5.org/misc/live-dom-viewer-ie8.html

[11:51:04.0000] <Philip`>
It still does non-tree DOMs

[11:57:00.0000] <Hixie_>
actually i'm busy fixing the spec

[11:57:01.0000] <Hixie_>
hsivonen: sure hope they document how it interacts with html

[11:57:02.0000] <hsivonen>
Hixie_: yeah.

[11:58:00.0000] <hsivonen>
Hixie_: what I'm thinking is that with Firefox 3, Opera 9.5 and IE8 on board, having the TAG second-guess the syntax at this point wouldn't make sense

[11:59:00.0000] <Hixie_>
would there ever be a point where having the TAG second-guess the syntax makes sense?

[11:59:01.0000] <hsivonen>
well, no, but now it would make even less sense

[12:00:00.0000] <Philip`>
annevk: It does seem to be 'hashchange' and not 'hashChange', though attachEvent('hash[cC]hange', ...) doesn't work so I can't see how to test it except with onhashchange

[12:00:01.0000] <annevk>
apparently mousewheel is also dispatched for vertical scrolling, I didn't know

[12:00:02.0000] <hsivonen>
I want to see documentation explaining how their new namespace stuff integrates with parsing

[12:00:03.0000] <Hixie_>
hsivonen: less than no sense is still... no sense

[12:00:04.0000] <annevk>
Philip`, you can check event.type maybe?

[12:01:00.0000] <Philip`>
annevk: That says "hashchange"

[12:01:01.0000] <hsivonen>
looks like we will have to follow IE8 on the namespace thing now that HTML5 didn't spec SVG integration before they got on the case

[12:01:02.0000] <annevk>
Philip`, cool

[12:02:00.0000] <hsivonen>
does message grouping on validator.nu work in IE8?

[12:05:00.0000] <hsivonen>
Philip`: re: Charset usage data: my wild guess is that TIS-620 needs to be treated like ISO-8859-11. that is, treat as alias for the windows-* superset

[12:05:01.0000] <Philip`>
<svg xmlns="..."><circle/>foo in the Live DOM Viewer is parsed into an SVG element with attribute name 'xmlns="..."><circle' and value '...">circle', followed by a CIRCLE element

[12:05:02.0000] <Philip`>
(It's happier if you use xmlns:something instead)

[12:06:00.0000] <Philip`>
(but it does the old non-XML IE unknown-element parsing, as far as I can tell)

[12:08:00.0000] <Philip`>
(It's the same in real pages as well as the Live DOM Viewer)

[12:10:00.0000] <Philip`>
(As far as I can tell, the namespace support here is exactly the same as in IE6)

[12:11:00.0000] <Philip`>
(except for that xmlns parsing bug)

[12:11:01.0000] <annevk>
Philip`, Acid3 screenshot?

[12:12:00.0000] <Philip`>
Do MacBook Pro keyboards have a print-screen key?

[12:12:01.0000] <gsnedders>
fn+somethig

[12:13:00.0000] <roc>
their performance improvements are all JS and DOM

[12:13:01.0000] <Philip`>
That still leaves a hundred possibilities, assuming there aren't any other modifier keys :-p

[12:13:02.0000] <roc>
oops wrong channel

[12:16:00.0000] <Philip`>
/me uses the on-screen keyboard, then finds that Paint.NET has expired

[12:18:00.0000] <annevk>
someone else told me they got 17

[12:19:00.0000] <Philip`>
I see 17 too

[12:19:01.0000] <Philip`>
(eventually)

[12:19:02.0000] <Philip`>
and some XML errors before that

[12:21:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/ie8-acid3-partial.png - http://canvex.lazyilluminati.com/misc/ie8-acid3.png

[12:22:00.0000] <Philip`>
I think it didn't quite pass

[12:30:00.0000] <Philip`>
On the WHATWG HTML5 spec: "Line: 40  Error: Object doesn't support this property or method"

[12:30:01.0000] <Philip`>
Oh, that's just addEventListener

[12:34:00.0000] <met_>
i am not able to pass the http://webkit.org/perf/slickspeed/ every 15 seconds IE8 popup alert wifth Want-to-stop-the-script?

[12:34:01.0000] <Philip`>
It can sort of load the HTML5 spec, but it freezes for literally 20 seconds to highlight a link when you mouse over it

[12:34:02.0000] <Philip`>
and 10 seconds when I move the mouse out again

[12:43:00.0000] <Philip`>
The numbers on http://www.w3.org/TR/html5/#serialising go "1.", "1.", "2."

[12:43:01.0000] <Philip`>
and the next section goes 1, 2, 3, 4, 5, 6, 7, 8, 8, 9, 10, 11, 13

[12:43:02.0000] <Hixie_>
is that my fault?

[12:43:03.0000] <Philip`>
I think it's IE8's fault

[12:44:00.0000] <Hixie_>
how they heck do you get _counting_ wrong

[12:45:00.0000] <Hixie_>
ok browsers need to stop asking me if i want to change my default browser

[12:51:00.0000] <othermaciej>
roc: wrong channel or not, I'm curious what exactly their perf improvements are - have you tried any benchmarks?

[12:52:00.0000] <roc>
totally unscientific, but one of our guys ran sunspider and they're 2x slower than FF3 trunk

[12:52:01.0000] <roc>
currently

[12:52:02.0000] <annevk>
from the release notes: "The Internet Explorer 8 AJAX features Cross Document Messaging and DOM Storage are based on the HTML 5.0 specification. The specification is in draft stage and is continually being updated. Therefore, our implementation of the specification may be based on an older version. The Internet Explorer team will look into updating the implementation when possible after Beta 1."

[12:52:03.0000] <roc>
I presume you know exactly where you are relative to FF3 trunk :-)

[12:53:00.0000] <Philip`>
The HTML5 spec does not give positive indications of IE8 performance

[12:53:01.0000] <hsivonen>
annevk: is there any indication where the XDomainRequest stuff came from?

[12:54:00.0000] <Philip`>
a:after{content:attr(href}} shows the absolute resolved URI instead of the href attribute, in case anyone is trying to collect a list of IE8 bugs

[12:55:00.0000] <annevk>
hsivonen, no

[12:56:00.0000] <annevk>
actually, maybe the open ajax alliance

[12:56:01.0000] <annevk>
but that's just a wild guess

[12:58:00.0000] <Hixie_>
oh THAT's why my site slowed down

[12:58:01.0000] <Hixie_>
acid3 is on slashdot

[13:00:00.0000] <gsnedders>
/. slow a site down? never!

[13:02:00.0000] <Hixie_>
the site would be fine if i increased my memory allocation

[13:02:01.0000] <Hixie_>
and the site is responding fine

[13:03:00.0000] <gsnedders>
/me pastes the entire HTML 5 spec into jgraham's outline tester

[13:03:01.0000] <itpastorn>
And once again the talk on /. is full of insighful remarks... NOT!

[13:03:02.0000] <gsnedders>
itpastorn: +1 informative

[13:04:00.0000] <othermaciej>
roc: I was wondering how they do compared to themselves, but 2x slower than FF3 trunk would have to be considerably faster than they used to be

[13:04:01.0000] <roc>
yeah

[13:04:02.0000] <gsnedders>
what is FF3 compared with FF2 anyway?

[13:04:03.0000] <roc>
if you read the whitepaper, they talk about string and array improvements in particular

[13:05:00.0000] <roc>
gsnedders: "a lot faster"

[13:05:01.0000] <gsnedders>
roc: I'm well aware :)

[13:05:02.0000] <othermaciej>
~2x I think

[13:06:00.0000] <gsnedders>
so IE8b1 is approx FF2? that's even further than I thought

[13:06:01.0000] <met_>
Philip`, did you see acid2 correctly or not?

[13:06:02.0000] <roc>
I suggest you benchmark it yourself :-)

[13:06:03.0000] <met_>
this guy see it correcly http://www.arcanology.com/2008/03/05/ie8-beta-1-is-released/ but not me

[13:06:04.0000] <gsnedders>
nor me

[13:07:00.0000] <met_>
I see texarea in the right eye

[13:07:01.0000] <hsivonen>
itpastorn: re: (X)HTML 5 Swedish wikipedia page: the history part focuses on contrasting HTML5 with XHTML2. It would be good to mention the Opera/Mozilla position paper from The Workshop.

[13:07:02.0000] <gsnedders>
met_: ditto

[13:08:00.0000] <gsnedders>
met_: what OS? I was trying on Vista

[13:08:01.0000] <met_>
Win XP

[13:09:00.0000] <annevk>
itpastorn, Selectors API did not come from HTML5

[13:09:01.0000] <annevk>
itpastorn, and if "Utvidgningar" means extensions, those did not come from HTML5 / Web Forms 2 either

[13:10:00.0000] <annevk>
re: talk page

[13:11:00.0000] <jgraham>
gsnedders: There's little point in doing that; I haven't fixed the bugs that stop it working yet :)

[13:11:01.0000] <gsnedders>
jgraham: and it crashes Saf :)

[13:11:02.0000] <annevk>
ouch, you need one account per language, that sucks

[13:11:03.0000] <jgraham>
gsnedders: Really? Cool

[13:11:04.0000] <hsivonen>
annevk: indeed.

[13:12:00.0000] <gsnedders>
jgraham: well, not crash. just pasting is slow in Safari.

[13:12:01.0000] <hsivonen>
/me so far has accounts for en, fi, fr, sv and de

[13:12:02.0000] <Philip`>
met_: I didn't see Acid2, and I can't now because all the sites are dead

[13:12:03.0000] <jgraham>
/me finishes reading scrollback and goes bug hunting

[13:12:04.0000] <annevk>
i have two on en by accident

[13:12:05.0000] <gsnedders>
jgraham: well, not noticeably slow normally, but when pasting something of the size of HTML 5…

[13:12:06.0000] <met_>
yes both

[13:12:07.0000] <met_>
looks like whole world is acid-testing now 8-)

[13:13:00.0000] <Philip`>
and Google Cache is not the best place for running such tests

[13:13:01.0000] <Philip`>
Does anybody have a mirror? :-)

[13:13:02.0000] <annevk>
heh, the whole Hixie_ server is down

[13:14:00.0000] <takkaria>
gsnedders: re: benchmarks, sunspider took ff2 ~30s, it takes ff3 ~8s

[13:14:01.0000] <takkaria>
gsnedders: http://ajaxian.com/archives/firefox-3-performance-numbers

[13:16:00.0000] <gsnedders>
takkaria: thx

[13:16:01.0000] <itpastorn>
Anne: You are a brave soull, trying to read Swedish (multipart)

[13:17:00.0000] <itpastorn>
Utvidgningar means additions. But "besl�ktad" means realted. So it is not *from* HTML 5, but related to it.

[13:17:01.0000] <annevk>
http://code.google.com/p/xbl/wiki/Features

[13:17:02.0000] <Philip`>
met_: I see the textarea, and the left eye is orange and has a red line underneath it

[13:17:03.0000] <met_>
yeh

[13:18:00.0000] <Philip`>
(when I strip the header junk out of the Google cache copy, which is hopefully about correct)

[13:18:01.0000] <met_>
strange this guy has it correct http://www.arcanology.com/2008/03/05/ie8-beta-1-is-released/

[13:18:02.0000] <Philip`>
(running on Vista)

[13:18:03.0000] <met_>
(WinXP)

[13:18:04.0000] <Philip`>
Um, I can't scroll up or down the page

[13:18:05.0000] <Philip`>
Is that a(nother) bug?

[13:21:00.0000] <Philip`>
Ah, yes, overflow:hidden disables scrolling

[13:21:01.0000] <Philip`>
(or at least scrolling via user interaction)

[13:21:02.0000] <itpastorn>
annevk: "related" in spirit, more than formally (It's a to do list for more articles rather than the article at hand. I needed to dump it quickly somewhere...)

[13:22:00.0000] <annevk>
k

[13:23:00.0000] <annevk>
most of the CSS features came in existence because of XForms intitially

[13:24:00.0000] <takkaria>
I take it people have seen http://disruptive-innovations.com/zoo/css3tests/selectorTest.html?

[13:25:00.0000] <Philip`>
IE8 seems to render its standards mode like other browsers' standards mode, not like almost standards

[13:25:01.0000] <itpastorn>
updated the talk page...

[13:25:02.0000] <itpastorn>
Added this conversation as reference ;-)

[13:26:00.0000] <Philip`>
(and it doesn't have an almost standards mode of its own)

[13:29:00.0000] <virtuelv>
acid2 fails from acidtests.org, according to a cow-orker

[13:29:01.0000] <SadEagle>
probably due to the load

[13:31:00.0000] <virtuelv>
and passes on webstandards.org

[13:31:01.0000] <virtuelv>
I meant to write "acid2 in IE8"

[13:31:02.0000] <hasather>
virtuelv: the eyes were slow loading

[13:33:00.0000] <annevk>
http://realtech.burningbird.net/standards/ie8-first-looks/ is funny

[13:33:01.0000] <virtuelv>
quoting, "seems the object fallback fails if the 404 page is longer than a certain limit"

[13:36:00.0000] <roc>
annevk: I don't get that XBL2-in-JS page. How can it make the nodes anonymous?

[13:36:01.0000] <met_>
in commnents people also complain about noncompleted acid2 http://blogs.msdn.com/ie/archive/2008/03/05/internet-explorer-8-beta-1-for-developers-now-available.aspx

[13:36:02.0000] <annevk>
roc, i suppose it doesn't, unless it provides a wrapper for the actual DOM or so

[13:37:00.0000] <roc>
ok, so it's just a kind of preprocessor with XBL2 syntax

[13:37:01.0000] <roc>
that's useful

[13:37:02.0000] <roc>
but maybe the advertising is misleading :-)

[13:38:00.0000] <gsnedders>
"The test doesn't work from the other domains you listed because the call for the eyes is cross domain; IE8 currently doesn't trust that cross domain call. We're working through whether we can change that for beta 2 safely."

[13:40:00.0000] <met_>
some complaint how thay changed microformat hAtom http://blogmatrix.blogmatrix.com/:entry:blogmatrix-2008-03-05-0000/

[13:42:00.0000] <gsnedders>
met_: Tony has just said they'll post about that later

[13:43:00.0000] <met_>
looks there is some problem with opacity e.g. http://www.debian-linux.cz/  in IE7 mode has opaque articles, but not in IE8 mode

[13:50:00.0000] <roc>
apparently opacity is just broken in the new engine. Sounds like they rushed things out for MIX

[13:53:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/ie8/ is what I've stumbled upon so far

[13:54:00.0000] <Philip`>
Did they mix up "beta" with "untested build we copied off some developer's machine last night"?

[13:55:00.0000] <met_>
They cannot show Acid2 demo in MIX08 http://twitter.com/mollydotcom/statuses/767242657

[13:55:01.0000] <annevk>
thanks to /. lol

[13:59:00.0000] <jgraham>
/me discovers that his computer gets unhappy when FF is using all the available memory

[14:00:00.0000] <roc>
I hope you're using FF3beta at least

[14:02:00.0000] <jgraham>
roc: Yeah it's the latest nightly. If I was guessing I'd say it was a problem with firebug anyway...

[14:17:00.0000] <annevk>
"Text nodes that have siblings appear as separate nodes in the HTML tree. If the text node is empty, an empty node will appear in the HTML tree."

[14:17:01.0000] <annevk>
-- http://support.microsoft.com/kb/949787

[14:18:00.0000] <annevk>
(some weird stuff listed there that i don't really get)

[14:21:00.0000] <roc>
"Internet Explorer 8 Beta 1 crashes when you access the following Adobe AIR Download Center Web site:"

[14:21:01.0000] <roc>
I get that!

[14:21:02.0000] <roc>
boy, they still have a lot of work to do for IE Standards Mode

[14:22:00.0000] <roc>
accessibility

[14:22:01.0000] <roc>
printing

[14:23:00.0000] <gsnedders>
how much needs to be done for printing? I didn't see much wrong

[14:24:00.0000] <roc>
apparently it uses IE7 mode for printing

[14:24:01.0000] <othermaciej>
annevk: empty text node?

[14:25:00.0000] <othermaciej>
are they using that as a funny way to say "all whitespace"?

[14:26:00.0000] <annevk>
i was thinking the same, but i don't know

[14:31:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/ie8/5.html

[14:31:01.0000] <Philip`>
IE8 says: 1, 2, 4

[14:34:00.0000] <Philip`>
If I add more content inside the <object>, it says 4, 5, 6

[14:35:00.0000] <Philip`>
Bugs are fun, particularly when they're not your own

[14:36:00.0000] <met_>
http://www.webstandards.org/files/acid2/test.html works again

[14:36:01.0000] <met_>
and the Acid2 there too

[14:36:02.0000] <met_>
looks like there is difference between http://www.webstandards.org/files/acid2/test.html and acid2.acidtest.org

[14:37:00.0000] <Philip`>
The eye lines fail on both those versions

[14:39:00.0000] <annevk>
as gsnedders quoted above there's something about a cross-site request

[14:40:00.0000] <met_>
oh looks like it, there is difference in the line

[14:40:01.0000] <met_>
line 132

[14:40:02.0000] <met_>
   <div class="eyes"><div id="eyes-a"><object data="data:application/x-unknown,ERROR"><object data="http://www.webstandards.org/404/" type="text/html"><object data="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAYCAYAAAFy7sgCAAAGsUlEQVRo3u2ZbWwcZxHHf3s%2B7LNbO3ZjXBtowprGODRX0qpNQCjmJKuVKhMl1P2AkCwhFOIKkCBSm9IXavGFKAixIAECwkmWo5MrhRI3Ub40IEwQgp6aIDg3Cd6eEqyIHEteah%2B1E69vhw%2BZtTaX8704ZzkKjHS6271nZ56ZZ%2BY%2F%2F%2BdZKF%2FCwYshx3EkkggLsD1v4FQkEZZYL

[14:40:03.0000] <met_>
CbAKyG9%2Ba9EIsG6hnUAf8x74K3aUC3j4%2BM54HcsR2oAIomwZOezkv%2FnSHpYNh%2BNCmAE7xv94zvFdd1bHsjMZmQkPSxAJP%2B%2FfuBLwK54PC7JZFKAVJmzXLBt2w%2FMvcDLwIb8QS8CeJ4nkURYIomw7J%2FYJ8BvSiiXptGGxWds2%2Fa9%2Bnaxh%2BYAD%2Bgt04NDgABTpQY2cvvSFLzw86gWeBVwC8SzlOSv2YeBPfmDBoBHgKmR9LBEEmHZfDTqGykqfkUE0nA78BzQGfSgUeP3wNeTXwXg7MwZDhw4UHL6ra2ti79%2FOvljgG8AZ4H64Lhm4MvAocxsRppGG%2FxcXihlwLIs6R%2FfKV2HO%2F26uA94pdDYUKUZUU7W1RQYXA98Gnhaf5%2FXWX0HeAHYoQonqa4sZSOsSWMCWeC9Yko%2BCQwBe

[14:40:04.0000] <met_>
4E6oNc0Tc91XTl1%2BaTsn9gnI%2Blhyc5nZWxsrBIkKSbl2tiic3tW53YDEwOKaoFBrcOfqKee53lG9xsPMjV784r%2F4lO%2FpPvyJ9iyZcuvFSaXK5XYeAZ4CDgGvB3MS4B54LQuWYPeuy4iRFsevsXqpuYoqVQKIH2bK1CuDQNo11o4XUzh%2FcDWYIe1LEtyuZx4niee54njOGKapgfsqlL%2Bl2OjEXg8nxrc1dJ0h3hbtL%2BGCtz7KPBF4CuBe9uB15VafE8hr9qylI3HgG8C2%2FK7VyHZoJj7MrBRm30qFotJMpkU27YlHo%2F7Ha5a%2BV%2FKRkSJ4KuKRLVLKapTjB1SzAVIjY2NSXY%2BKyPpYdk%2FsU9OXT4pruv6BdZbBQfKsVGnvWlIe1VB6VQO8JxC1vZYLCbZ%2BaxsPhpdZDyRRFhG0sPiOE6ld

[14:40:05.0000] <met_>
KBg2lRg4xF1YCDIIIKN7DGgD3gH%2BBXwejKZfPrs2tPs%2FvPN2bKuYR1nd7xLKBSSJeqoXKnERjPwNWAG%2BLn2rZuM%2B4Tpml6vaWlp4eLcxVusZq5lCgVgOVKJjRqdX86ffL4D5wIoZACnTpw4wRMdT96i%2FImOJxERAs4uVyqxUacF%2FPdiCj%2BjdRBRGFtwXVdG0sPSdbhTmkYbpH98p2RmM2JZlig1vl0GWo4NQ%2Fn%2Bs5pKRXfwjweaxy7TND3HcRZbfC6X8xVPVQlGy7WxVWlO5XRXFXm6EZmrQuSXYyPE3SiVoEhE6Wyr0u2rumO6zv%2B21AFdQAswC1wCMuUCXCmyWQus103Qg8qlDO0lxwOb%2Fl4FiK3AB3VS%2FuKKLtK%2FgbeAnwG%2FvUODuRw%2FFrR0H1UC75fwu8oJ%2FhFsW5VIG%2FB

[14:40:06.0000] <met_>
UgEIN6Y65O4AHu4Ap0zQ9y7LEcZyb9lRBUHQcRyzL8unZVBW5bFWAvAp%2BhDQ2g4F47dUYtlU6obXA54DnVdFLekjUGGifh4AFy7LEdV3xj3X9I66m0QZpGm2QrsOd0j%2B%2BU0bSw5KZzYjrun6HWlAd961i4FfCj0aN1Usau%2Bc1lmuXPFwvAEumUut7tQQvAb%2FXb%2FT0bCAej9cODg7yt%2

[14:40:07.0000] <met_>
ooops

[14:41:00.0000] <met_>
and the second    <div class="eyes"><div id="eyes-a"><object data="data:application/x-unknown,ERROR"><object data="http://www.damowmow.com/404/" type="text/html">.....

[14:45:00.0000] <Philip`>
"The Internet Explorer 8 AJAX features Cross Document Messaging and DOM Storage are based on the HTML 5.0 specification. The specification is in draft stage and is continually being updated. Therefore, our implementation of the specification may be based on an older version. The Internet Explorer team will look into updating the implementation when possible after Beta 1."

[14:46:00.0000] <annevk>
i quoted that earlire

[14:46:01.0000] <annevk>
earlier*

[14:46:02.0000] <met_>
good time for DOM storage, changed already

[14:46:03.0000] <Philip`>
annevk: Oh, I missed that

[14:46:04.0000] <Philip`>
and was too lazy to check upwards :-p

[14:47:00.0000] <annevk>
met_, same for postMessage

[14:47:01.0000] <met_>
8-)

[14:47:02.0000] <annevk>
/me wonders if Firefox 3 is going to fix DOM storage in time

[14:47:03.0000] <met_>
someone is really lucky

[14:48:00.0000] <Hixie_>
my site should be back up again

[14:49:00.0000] <Hixie_>
i upgraded the server from like a 500MHz machine to a 2000MHz machine and quadrupled the RAM

[14:49:01.0000] <Hixie_>
i'll downgrade it again once /. is gone

[14:49:02.0000] <Hixie_>
interesting that /. is way harder on the site than reddit

[14:50:00.0000] <roc>
annevk: do you have the bug#?

[14:51:00.0000] <annevk>
roc, no

[14:51:01.0000] <annevk>
i wonder if there's even a definite bug on it

[14:51:02.0000] <gsnedders>
Hixie_: maybe reddit sux :P

[14:51:03.0000] <gsnedders>
Hixie_: /. is older, which probably helps the number of readers

[14:52:00.0000] <annevk>
roc, actually, seems to be https://bugzilla.mozilla.org/show_bug.cgi?id=407839

[14:52:01.0000] <annevk>
/me likes gmail

[14:52:02.0000] <Hixie_>
why on earth does IE8 fail acid2 on acidtests.org

[14:52:03.0000] <roc>
yeah just found it thanks

[14:53:00.0000] <gsnedders>
Hixie_: "The test doesn't work from the other domains you listed because the call for the eyes is cross domain; IE8 currently doesn't trust that cross domain call. We're working through whether we can change that for beta 2 safely."

[14:53:01.0000] <roc>
it is blocking

[14:53:02.0000] <annevk>
Hixie_, cross-site request to damowmow.com

[14:53:03.0000] <Hixie_>
?

[14:53:04.0000] <Hixie_>
oh, it's a bug

[14:53:05.0000] <Hixie_>
i see

[14:53:06.0000] <Hixie_>
fails on the wasp too, for me

[14:54:00.0000] <Hixie_>
oh, passes if i use www.webstandards.org instead of webstandards.org

[14:54:01.0000] <annevk>
makes sense

[14:54:02.0000] <annevk>
it's a full link

[14:55:00.0000] <Hixie_>
why would they show the iframe if it fails due to cross-domain

[14:55:01.0000] <Hixie_>
that's dumb

[14:57:00.0000] <Hixie_>
holy shit it renders my portal's display:table stuff correctly

[14:57:01.0000] <Hixie_>
it's ridiculously slow at painting

[15:00:00.0000] <gsnedders>
it's totally unoptimised, apparently

[15:01:00.0000] <Hixie_>
wow they implement the selector api

[15:01:01.0000] <Philip`>
It has some problems with the CSS on http://philip.html5.org/tests/canvas/suite/tests/

[15:02:00.0000] <Philip`>
and the canvas emulation doesn't render - it just leaves empty spaces

[15:03:00.0000] <eseidel>
it does kinda feel like they just posted a nightly build

[15:03:01.0000] <eseidel>
but that's what beta's often feel like

[15:03:02.0000] <Hixie_>
yeah

[15:03:03.0000] <Hixie_>
that's what it often _is_

[15:04:00.0000] <Philip`>
and the popup messages on http://philip.html5.org/tests/canvas/suite/tests/results.html don't work

[15:04:01.0000] <othermaciej>
it sounds like impressive progress

[15:04:02.0000] <othermaciej>
(haven't tried it to see though)

[15:04:03.0000] <othermaciej>
I wonder if they will try to reconcile XDR with XXX

[15:04:04.0000] <othermaciej>
it is cool that they implemented some HTML5 stuff

[15:05:00.0000] <othermaciej>
including the storage stuff that chris at one point said was out of scope, but that's water under the bridge

[15:05:01.0000] <Philip`>
and the button text alignment is wrong on http://philip.html5.org/tests/canvas/suite/tests/reportgen.html?100,0

[15:05:02.0000] <annevk>
they did implement it with deviations

[15:05:03.0000] <Philip`>
/me wonders if he has any page that works correctly

[15:05:04.0000] <annevk>
DOM Storage in IE8 is asyn

[15:06:00.0000] <Hixie_>
wow apparently they fixed getAttribute()

[15:06:01.0000] <annevk>
(and it's also based on the old model)

[15:06:02.0000] <Hixie_>
that probably helped them get several points on acid3

[15:09:00.0000] <Hixie_>
hm, sounds like they did the absolute minimum to pass acid2 as far as <object> goes

[15:10:00.0000] <jruderman>
http://www.flickr.com/photos/albill/2313174452/ makes it look like they're still getting 17/100 on acid3

[15:10:01.0000] <jruderman>
which seems odd

[15:10:02.0000] <Hixie_>
i just tried it and got 10

[15:10:03.0000] <Hixie_>
so

[15:10:04.0000] <Hixie_>
who knows

[15:10:05.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/ie8-acid3.png

[15:10:06.0000] <Hixie_>
ie7 used to get 12, iirc

[15:10:07.0000] <jruderman>
oh

[15:10:08.0000] <Philip`>
after waiting quite a few seconds after it got stuck at around 10

[15:11:00.0000] <Hixie_>
ah

[15:11:01.0000] <Hixie_>
interesting

[15:11:02.0000] <jruderman>
the screenshots on https://secure.wikimedia.org/wikipedia/commons/wiki/Acid3 are painful to read :P

[15:12:00.0000] <Hixie_>
oh god, why did they add more namespace crap to text/html

[15:12:01.0000] <jruderman>
"This website wants to run the following add-on: 'MSXML 3.0 SP9' from 'Microsoft Corporation'. If you trust the website..."

[15:12:02.0000] <jruderman>
wtf

[15:12:03.0000] <jruderman>
hixie: they couldn't make *all* their changes be towards standards compliance, could they?

[15:12:04.0000] <Hixie_>
haha

[15:13:00.0000] <Hixie_>
they had to explicitly NOT support the xhtml namespace

[15:13:01.0000] <Hixie_>
that's funny

[15:13:02.0000] <Hixie_>
i wonder how many pages they break due to this "namespace" support

[15:13:03.0000] <jruderman>
what.

[15:13:04.0000] <Hixie_>
aww, they got around it by not supporting xmlns="" on existing html elements

[15:15:00.0000] <jruderman>
they make web sites specify which SVG handler they hope you have installed? weird

[15:15:01.0000] <jruderman>
oh, that's ie5

[15:18:00.0000] <jruderman>
do they support XHTML parsing too, or only this special text/html behavior?

[15:18:01.0000] <Hixie_>
good god

[15:19:00.0000] <Hixie_>
they couldn't even implement html5 without doing something other than what the spec said

[15:19:01.0000] <Philip`>
http://intertwingly.net/blog/2008/03/05/Improved-Namespace-Support#c1204755301

[15:19:02.0000] <Philip`>
(about HTML namespaces)

[15:20:00.0000] <Hixie_>
indeed there's a blatent lie in this doc, it says that their stuff is compliant with html5 immediately after describing two methods and an event that have never been in the spec

[15:23:00.0000] <annevk>
it surprises me that they haven't said a single thing about it

[15:23:01.0000] <annevk>
on the list

[15:24:00.0000] <othermaciej>
Hixie_: which things does that apply to?

[15:25:00.0000] <Hixie_>
DOM storage

[15:26:00.0000] <annevk>
on globalStorage they have a method .x (forgot the name), a method .commit(), and a method .clear()

[15:26:01.0000] <annevk>
to do the exact opposite of what the API was intended for

[15:26:02.0000] <ianloic>
hey, I'm trying to describe a bunch of the patterns in DOM APIs so can model other APIs after it

[15:27:00.0000] <ianloic>
is the difference between a List type and a Collection type that collections are mutable and lists are immutable

[15:27:01.0000] <ianloic>
?

[15:27:02.0000] <Hixie_>
on the plus side they're still using .globalStorage

[15:27:03.0000] <Hixie_>
so

[15:27:04.0000] <Hixie_>
no biggie

[15:28:00.0000] <Hixie_>
ianloic: no

[15:28:01.0000] <Hixie_>
ianloic: indeed i'm not really sure what the difference is

[15:28:02.0000] <Hixie_>
ianloic: in general i would say the DOM is highly inconsistent and any patterns are more luck than design

[15:28:03.0000] <Hixie_>
ianloic: and so i wouldn't use it as a good example of anything

[15:28:04.0000] <Hixie_>
Philip`: "<meta http-equiv="content-style-type" content="text/css; charset=iso-8859-1" />" is not legit

[15:29:00.0000] <Hixie_>
Philip`: so i'm happy to not worry about that

[15:29:01.0000] <Philip`>
Hixie_: Oh

[15:29:02.0000] <Philip`>
What's wrong with it?

[15:29:03.0000] <Hixie_>
there's no byte stream, the attributes are already in unicode by the time the content-style-type matters

[15:30:00.0000] <ianloic>
Hixie_, well, I'm trying to make an API that we're exposing from our browser (songbird) into web pages more web-ish - trying to do things similarly to the DOM (when it gets it right) is my best guess of a good strateg

[15:30:01.0000] <ianloic>
y

[15:30:02.0000] <ianloic>
Hixie_, but thanks for the List/Collection info - I'll go with "choose one and be consistent" :)

[15:30:03.0000] <Hixie_>
i recommend making a good attempt at making the API consistent, and then posting it to a list like public-webapi or the whatwg implementor's list and asking for feedback

[15:31:00.0000] <othermaciej>
ianloic: I'm not sure doing things "similar to the DOM" makes for good API

[15:31:01.0000] <ianloic>
othermaciej, well, I'd like to make things recognizable to web developers and accessible from js libraries

[15:32:00.0000] <ianloic>
othermaciej, right now we're exposing a mozilla-like API to web pages which is way worse

[15:32:01.0000] <ianloic>
Hixie_, I'll definitely be seeking feedback from the wider community - we need to get this stuff right (ish)

[15:32:02.0000] <gavin_>
mozilla-like?

[15:33:00.0000] <othermaciej>
ianloic: I guess what I'm saying is this

[15:34:00.0000] <othermaciej>
if you expose something that's not actually a document using a DOM tree, DOM events, and DOM-style live connections, it's likely to be an awkward fit

[15:34:01.0000] <ianloic>
gavin_, we have interfaces that look like nsIObserver, not dom even listeners

[15:34:02.0000] <othermaciej>
I would say design to your domain and align with DOM where it makes sense

[15:34:03.0000] <othermaciej>
I do think events can be used in a pretty general way

[15:34:04.0000] <ianloic>
othermaciej, yeah - I don't want to force too much of it directly into the DOM model

[15:34:05.0000] <othermaciej>
so being an EventTarget is a good way to align

[15:34:06.0000] <Hixie_>
Philip`: it would be interesting to see the distribution of how many bytes it takes for the encoding detector to make a decision, instead of stopping it at 512 or 1024.

[15:35:00.0000] <othermaciej>
I think the live collections are both confusing and hard to implement well

[15:35:01.0000] <Hixie_>
Philip`: then we could see if there's a point at which there is a sharp reduction in benefit

[15:35:02.0000] <ianloic>
othermaciej, but I look at the way that DOM Storage integrates as a decent model

[15:35:03.0000] <Hixie_>
Philip`: (great study btw)

[15:36:00.0000] <ianloic>
othermaciej, I don't know that they're confusing for developers, but they're a pain to implement

[15:37:00.0000] <othermaciej>
I don't even know what kinda collections you're working with necessarily (I assume something musical if it's songbird)

[15:38:00.0000] <ianloic>
othermaciej, libraries & playlists

[15:39:00.0000] <othermaciej>
os yeah that seems like a case where you may want to query as well as iterate

[15:40:00.0000] <ianloic>
/me nods.

[15:40:01.0000] <othermaciej>
s/os/so/

[15:43:00.0000] <Philip`>
Hixie_: Has the encoding detector changed since June 2007?

[15:43:01.0000] <Philip`>
(since apparently that's when the implementation I used is from)

[15:44:00.0000] <Hixie_>
yes, i changed parts of it yesterday

[15:44:01.0000] <Philip`>
Oh, okay

[15:44:02.0000] <Hixie_>
er

[15:44:03.0000] <Hixie_>
i mean

[15:44:04.0000] <Hixie_>
over the past couple of weeks

[15:44:05.0000] <Hixie_>
not yesterday

[15:44:06.0000] <Hixie_>
dunno where that came from

[15:44:07.0000] <annevk>
it's significantly different now

[15:44:08.0000] <Philip`>
/me will try implementing it some time so he can detect encodings more up-to-datedly

[15:45:00.0000] <annevk>
and non-deterministic :(

[15:45:01.0000] <Hixie_>
how so?

[15:46:00.0000] <annevk>
last I checked scripts could be executed twice depending on how much you did before parsing

[15:46:01.0000] <takkaria>
Hixie_: are there any more changes in the pipeline for the tokenizer, or is it pretty much done now?

[15:47:00.0000] <Hixie_>
annevk: oh, that's not the encoding detector though, that's just the whole mechanism

[15:47:01.0000] <Hixie_>
but yes

[15:47:02.0000] <Hixie_>
takkaria: depends what people find

[15:47:03.0000] <annevk>
Hixie_, I don't like that part

[15:47:04.0000] <Hixie_>
annevk: neither do i

[15:47:05.0000] <Hixie_>
annevk: if you have a better proposal... :-)

[15:47:06.0000] <annevk>
/me wants clear yes/no answers

[15:47:07.0000] <annevk>
right...

[15:52:00.0000] <jgraham>
Hixie_: Re: outlines; I think the bit that starts "Otherwise, if the element being entered has a rank equal to or greater than the heading of the current section" has sub-optimal behavior for cases like <h1><h2><h3><h2> (the final h2 will be a sibling of the h1 not the first h2)

[15:53:00.0000] <Hixie_>
uh yes, that's a bug

[15:53:01.0000] <Hixie_>
send mail

[15:54:00.0000] <jgraham>
OK, just checking I'm not too tired to think straight :)

[15:55:00.0000] <annevk>
is "greater rank" a header with a number closer to zero or further away from zero?

[15:56:00.0000] <jgraham>
I believe greater rank is closer to 0

[15:57:00.0000] <jgraham>
"The h1 element is said to have the highest rank, the h6 element has the lowest rank"


2008-03-06
[16:00:00.0000] <annevk>
no html5lib flamewar yet

[16:04:00.0000] <jgraham>
annevk?

[16:06:00.0000] <Hixie_>
oh blimey, contentEditable feedback

[16:06:01.0000] <Hixie_>
116 e-mails of it

[16:06:02.0000] <Hixie_>
/me trembles

[16:14:00.0000] <annevk>
jgraham, over the changes I made

[16:17:00.0000] <jgraham>
Hixie: OK, mail sent. It may tun out to be inaccurate, I need more sleep.

[16:17:01.0000] <jgraham>
annevk: I didn' notice anything objectionable. I haven't checked if you broke anything, mind

[16:17:02.0000] <annevk>
jgraham, btw, if you notice stuff I missed please let me know

[16:18:00.0000] <annevk>
I did run the tests and made sure they passed

[16:20:00.0000] <takkaria>
hm, with the introduction of the .at TLD, you can do silly things like "takkaria.⊙ta"

[16:22:00.0000] <jgraham>
annevk: Some of the non-parser tests seem to be failing (lxml and the sanitizer)

[16:22:01.0000] <jgraham>
s/lxml/liberal xml/

[16:23:00.0000] <jgraham>
/me -> bed

[16:23:01.0000] <annevk>
yeah, didn't check those

[16:23:02.0000] <jgraham>
annevk: You should send mail to the list saying they fail, at least

[16:23:03.0000] <annevk>
i did e-mail the list

[16:23:04.0000] <annevk>
saying I only checked the Python parser

[16:24:00.0000] <annevk>
if there's nothing there tomorrow i'll mention the rest too

[16:24:01.0000] <annevk>
(as it's already implicitly  there...)

[16:25:00.0000] <jgraham>
annevk: I just sent mail

[16:27:00.0000] <annevk>
k

[16:28:00.0000] <annevk>
/me -> bed

[18:35:00.0000] <jwalden>
zounds

[18:35:01.0000] <jwalden>
"we recommend that you switch to the Internet Explorer 8 Cross Document Messaging feature that is based on Section 6.4 of the HTML 5.0 specification."

[18:35:02.0000] <jwalden>
WIN

[18:36:00.0000] <Hixie>
hm?

[18:37:00.0000] <jwalden>
http://support.microsoft.com/kb/949787

[18:38:00.0000] <Hixie>
jwalden: ah yes.

[18:39:00.0000] <Hixie>
has anyone found any docs on how they implemented that? (their implementation of DOM storage is quite... embrace-and-extendy.)

[18:39:01.0000] <jwalden>
there's a note about draft status; I'm betting they have the old interface implemented

[18:53:00.0000] <roc>
someone should raise a stink about how they've extended storage without giving any feedback (if that's true)

[01:07:00.0000] <annevk>
hi liorean

[01:55:00.0000] <annevk>
Hixie, any thoughts on whether it's worth to obsolete DOM Level 2 Views or keep it alive?

[02:00:00.0000] <annevk>
Philip`, I tested one such gb2312 site you pointed out, <http://www.tkdts.com/>, and it seems that browsers treat it as UTF-8

[02:01:00.0000] <Philip`>
That has "Content-Type: text/html; charset=utf-8" so that would make sense

[02:01:01.0000] <annevk>
as HTTP header?

[02:02:00.0000] <Philip`>
Yes

[02:02:01.0000] <annevk>
http://www.jgbr.com.cn/ has the same

[02:03:00.0000] <annevk>
(also from the 8 remaining pages)

[02:03:01.0000] <annevk>
http://www.wuxi-accp.com/ too...

[02:04:00.0000] <annevk>
http://www.liechebuluo.com/ doesn't

[02:05:00.0000] <annevk>
few others don't have the same

[02:05:01.0000] <annevk>
no real pattern

[02:10:00.0000] <hsivonen>
http://html5.org/tools/web-apps-tracker?from=1254&to=1255

[02:10:01.0000] <Philip`>
http://www.liechebuluo.com/ in the left column says "» 奥地利�戴姆勒" in Firefox, "» 奥地利?#25140;姆勒" in IE6, so it looks like the page is simply broken

[02:10:02.0000] <hsivonen>
does that change have an actual conformance checker-relevant change in it?

[02:10:03.0000] <hsivonen>
what is it?

[02:10:04.0000] <hsivonen>
MikeSmith: btw, out=gnu now puts the URI in quotes

[02:11:00.0000] <MikeSmith>
hsivonen - sweet

[02:11:01.0000] <MikeSmith>
/me wonders if Karl Berry may have updated the GNU coding standards spec yet

[02:11:02.0000] <hsivonen>
MikeSmith: also, I added an option to use ASCII quotes as requested by Hixie. 

[02:11:03.0000] <hsivonen>
nope

[02:11:04.0000] <Hixie>
annevk: should probably be merged into whatever does altss and so forth

[02:11:05.0000] <Hixie>
hsivonen: thanks for that, btw

[02:11:06.0000] <hsivonen>
asciiquotes=yes

[02:12:00.0000] <annevk>
Hixie, my idea is to drop the concept of multiple views altogether

[02:12:01.0000] <Hixie>
greatly appreciated

[02:12:02.0000] <annevk>
hsivonen, looking for should/must I'd say no

[02:12:03.0000] <Hixie>
annevk: might want to talk to your engineers first, since opera is the only browser to actually have multiple views :-)

[02:12:04.0000] <annevk>
Philip`, k

[02:12:05.0000] <hsivonen>
Hixie: you're welcome

[02:12:06.0000] <hsivonen>
annevk: thanks

[02:12:07.0000] <MikeSmith>
hsivonen - I wonder if current Emacs and other apps that have built-in parsing for GNU-format error messages can deal with the quoted filename part as expected

[02:13:00.0000] <hsivonen>
MikeSmith: I have no idea

[02:13:01.0000] <annevk>
Hixie, I wonder how much of that is still around...

[02:13:02.0000] <annevk>
Hixie, but yeah, sure

[02:13:03.0000] <MikeSmith>
hsivonen - what kind of quotes does it output by default? if not ASCII..

[02:14:00.0000] <Hixie>
annevk: does it cause any harm to have it? i think it makes sense to at least specify the theory there

[02:14:01.0000] <hsivonen>
MikeSmith: aside: I use URI-level quoting instead of C string quoting for " in URI, so the output is more regexp-friendly than the upcoming GNU spec

[02:14:02.0000] <annevk>
Hixie, so my main concern was actually who'd define the document attribute, but I guess CSSOM View could do that...

[02:14:03.0000] <hsivonen>
MikeSmith: be default the quotes in messages are U+201C and U+201D

[02:14:04.0000] <MikeSmith>
ah

[02:14:05.0000] <annevk>
Hixie, well, all code is written with a single view in mind, hmm

[02:15:00.0000] <Hixie>
annevk: *shrug*

[02:16:00.0000] <Hixie>
annevk: i don't really care either way, but if we drop them we should fix UIEvent too

[02:16:01.0000] <MikeSmith>
hsivonen - when using out=gnu, maybe "yes" should be the default for asciiquotes 

[02:17:00.0000] <MikeSmith>
so you have to set it to "no" if you actually want U+201C and U+201D

[02:17:01.0000] <MikeSmith>
in out=gnu mode

[02:18:00.0000] <hsivonen>
MikeSmith: yeah, that would make sense if it only affected quotes. However, it also affects apostrophes in text which in egde cases makes the message technically wrong

[02:18:01.0000] <MikeSmith>
ah

[02:18:02.0000] <hsivonen>
MikeSmith: but yeah, I should probably make it the default

[02:19:00.0000] <hsivonen>
I guess I should make it the default and then make sure that I don't use contractions in the messages, so that I can get rid of the apostrophe thing

[02:20:00.0000] <MikeSmith>
yeah that might work

[02:21:00.0000] <annevk>
Hixie, to have .view point to Window all the time?

[02:21:01.0000] <MikeSmith>
though I wonder if there are some uses of apostrophes in messages that you can't avoid

[02:21:02.0000] <Hixie>
annevk: to not have .view (since if we only have one view, it'll always point to window)

[02:22:00.0000] <annevk>
true, but i thought that might break stuff

[02:22:01.0000] <MikeSmith>
hsivonen - aside: Henry Thompson did a presentation here today about XML pipeline stuff and XML Schema; one thing I learned is that apparently they are adding a mechanism similar to Schematron assertions

[02:23:00.0000] <MikeSmith>
adding it to the next version of XML Schema

[02:23:01.0000] <Hixie>
annevk: *shrug*. I don't see much point in removing the multiple views stuff frankly. it doesn't simplify anything really.

[02:23:02.0000] <hsivonen>
MikeSmith: I've heard something vague about that but I have never seen concrete examples of what XSD is adding

[02:23:03.0000] <annevk>
Hixie, ok

[02:24:00.0000] <hsivonen>
MikeSmith: is "here" SXSW?

[02:24:01.0000] <MikeSmith>
hsivonen - nope, here at home in Tokyo. we had a W3C Japan Member meeting today

[02:24:02.0000] <MikeSmith>
I presented after Henry

[02:25:00.0000] <hsivonen>
MikeSmith: ah

[02:25:01.0000] <MikeSmith>
and used part of my time, to follow up on some of what he discussed, to show validator.nu and to talk about HTML5lib and also the validator.nu parser

[02:26:00.0000] <MikeSmith>
Henry had mentioned the use case of people wanting to take "bad HTML" and get into a form that could be processed with an XML toolchain

[02:27:00.0000] <annevk>
Hixie, so should http://dev.w3.org/csswg/cssom-view/#windowview be implemented by the default view AbstractView object?

[02:29:00.0000] <Hixie>
i think "media" on that interface should be on AbstractView, and the rest should be on ScreenView, which would inherit from AbstractView

[02:29:01.0000] <Hixie>
it would only be implemented by the defaultView if the defaultView is a screen-media view

[02:29:02.0000] <Hixie>
or projection media, i guess

[02:30:00.0000] <Hixie>
or possibly visual media

[02:30:01.0000] <Hixie>
i dunno what the details would be exactly

[02:30:02.0000] <Hixie>
btw you have a typo in that idl, sroll -> scroll, twice

[02:30:03.0000] <annevk>
thanks

[02:30:04.0000] <annevk>
so I guess i'll port AbstractView to that document

[02:31:00.0000] <Hixie>
makes sense

[02:31:01.0000] <Hixie>
is this the doc that does the altss stuff btw?

[02:31:02.0000] <annevk>
one less DOM Level xxx spec hurray

[02:31:03.0000] <annevk>
Hixie, no, that's in the far bigger CSSOM spec

[02:31:04.0000] <Hixie>
ah ok

[02:31:05.0000] <Hixie>
any eta on that? i have a dependency on it from html5

[02:31:06.0000] <annevk>
any eta on HTML5?

[02:31:07.0000] <Hixie>
not eta to rec or anything

[02:32:00.0000] <Hixie>
yeah

[02:32:01.0000] <annevk>
hehe

[02:32:02.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/TIMETABLE

[02:32:03.0000] <annevk>
the main problem is defining getComputedStyle properly

[02:32:04.0000] <Hixie>
ah yeah that will be fun i'm sure

[02:32:05.0000] <annevk>
and I have some issues defining the altcss stuff in a way that it is more about a model rather than attribute values

[02:33:00.0000] <annevk>
but mostly getComputedStyle, serializing and parsing CSS blocks, etc.

[02:33:01.0000] <Hixie>
k

[02:33:02.0000] <Hixie>
what kind of issues?

[02:34:00.0000] <annevk>
one issue is that browsers seem to implement various different CSSStyleDeclaration objects

[02:35:00.0000] <annevk>
one issue is that getComputedStyle works with CSS 2.0 and not with CSS 2.1

[02:35:01.0000] <annevk>
so you can't easily re-use the terminology from CSS 2.1, such as "computed style"

[02:36:00.0000] <Hixie>
oh i meant about the model thing

[02:37:00.0000] <annevk>
i think that's mostly because it's complicated

[02:37:01.0000] <annevk>
i managed to make some progress on it though but haven't looked at it for a while

[02:38:00.0000] <annevk>
http://dev.w3.org/csswg/cssom/#style

[02:39:00.0000] <Hixie>
k

[02:39:01.0000] <Hixie>
well no rush

[02:39:02.0000] <gsnedders>
/me tries to quickly write an email to annevk about XML5 before going to school

[02:47:00.0000] <gsnedders>
annevk: excuse the likely bad English

[02:57:00.0000] <Hixie>
hm

[02:57:01.0000] <Hixie>
how do we prevent people from screwing around with the user selection

[02:58:00.0000] <annevk>
/me thought that was a lost battle

[02:58:01.0000] <Hixie>
let me rephrase

[02:59:00.0000] <Hixie>
how do we allow hypothetical user agents that wish to continue fighting that battle win that battle without breaking pages or being non-conforming

[03:00:00.0000] <annevk>
let the user use a modifier key?

[03:03:00.0000] <Hixie>
not very discoverable or intuitive

[03:03:01.0000] <Hixie>
maybe we could say that user agents may ignore API calls to change the selection if they are made immediately after a user has modified the selection

[03:03:02.0000] <annevk>
the UA could hint about it I suppose

[03:04:00.0000] <annevk>
that breaks at least one interesting application

[03:04:01.0000] <Hixie>
which?

[03:04:02.0000] <annevk>
guys at q42 made a text editor where they implemented selection that was indenting aware

[03:05:00.0000] <Hixie>
ncie

[03:05:01.0000] <annevk>
indeed

[03:06:00.0000] <Hixie>
anyway bed time

[03:06:01.0000] <Hixie>
nn

[03:06:02.0000] <annevk>
g'n

[03:53:00.0000] <xkcd>
Hixie: Since you're a redditor you may want to drop in to this thread: http://reddit.com/info/6b1hq/comments/

[03:53:01.0000] <xkcd>
Oh, he's asleep.

[04:02:00.0000] <Philip`>
It seems slightly inaccurate to say it's "for security reasons", since the reason is mostly that IE chose to implement <object> very differently to how other browsers do it

[04:02:01.0000] <Philip`>
/me doesn't know if anything (like HTML5) specifies that IE is wrong

[04:03:00.0000] <annevk>
HTML5 doesn't say that cross-domain should fail

[04:04:00.0000] <zcorpan>
ie8 fails acid2 for me when i allow activex, but passes when i disallow activex (on acid2.acidtests.org)

[04:04:01.0000] <Philip`>
I guess disabling ActiveX makes it show the <object> fallback content

[04:04:02.0000] <Philip`>
(which is what it ought to do)

[04:04:03.0000] <zcorpan>
yeah

[04:05:00.0000] <annevk>
heh, that makes their explanation of making content available pretty bogus

[04:05:01.0000] <zcorpan>
i get the same result on webstandards.org/acid2

[04:05:02.0000] <zcorpan>
but perhaps i don't have default settings

[04:05:03.0000] <annevk>
zcorpan, you need www.webstandards.org

[04:05:04.0000] <zcorpan>
annevk: ah

[04:30:00.0000] <hsivonen>
the S60 Browser crashes on Hixie's timetable...

[04:31:00.0000] <zcorpan>
hsivonen: pointer to the timetable?

[04:32:00.0000] <hsivonen>
zcorpan: http://www.whatwg.org/specs/web-apps/current-work/TIMETABLE

[04:34:00.0000] <zcorpan>
hsivonen: thanks

[04:36:00.0000] <hsivonen>
gotta love it when svn manages to miswrite its own log format so that it errs on reading it until the log file is edited manually

[05:16:00.0000] <Philip`>
hsivonen: What part of SVN reads logs files?

[05:17:00.0000] <hsivonen>
Philip`: I don't know, but I can't run commit or cleanup until I add the bogus attribute the log file reader wants to see

[05:18:00.0000] <Philip`>
By "log", do you mean the output of "svn log"?

[05:18:01.0000] <hsivonen>
Philip`: I mean .svn/log

[05:18:02.0000] <Philip`>
/me can't find a file name .svg/log anywhere on his computer

[05:18:03.0000] <Philip`>
Uh

[05:19:00.0000] <Philip`>
.svn/log

[05:21:00.0000] <hsivonen>
Philip`: the top level of a checkout has it

[05:22:00.0000] <hsivonen>
the GNU Ælfred2 code just keeps surprising me

[05:22:01.0000] <hsivonen>
/me wants an XML5 SAX parser with a proper iterative tokenizer

[05:23:00.0000] <Philip`>
Hmm, maybe it's a log for failed transactions, which is why I don't have any such files

[05:23:01.0000] <Philip`>
(*failed and not yet cleaned up)

[05:23:02.0000] <annevk>
XML5 is SAX compatible

[05:31:00.0000] <annevk>
posted about the embrace and extend stuff: http://annevankesteren.nl/2008/03/ie8-bad

[05:35:00.0000] <Philip`>
annevk: s/reuqests/requests/

[05:35:01.0000] <annevk>
thanks

[05:36:00.0000] <zcorpan>
annevk: pointer to the namespace stuff?

[05:37:00.0000] <annevk>
as in, you'd like to read about it or it should be in my post?

[05:37:01.0000] <zcorpan>
the former

[05:37:02.0000] <zcorpan>
(the latter is up to you)

[05:38:00.0000] <Philip`>
http://code.msdn.microsoft.com/ie8whitepapers/Release/ProjectReleases.aspx?ReleaseId=573

[05:38:01.0000] <Philip`>
/me wonders what XPS files are

[05:38:02.0000] <zcorpan>
Philip`: thanks

[05:38:03.0000] <annevk>
guess i'll leave it out as i already provided various pointers to http://www.microsoft.com/windows/products/winfamily/ie/ie8/readiness/DevelopersNew.htm

[05:39:00.0000] <Philip`>
(The namespace stuff appears to not work at all in the current beta)

[05:40:00.0000] <annevk>
(oh)

[05:40:01.0000] <annevk>
oh well

[05:40:02.0000] <annevk>
i thought bits did

[05:41:00.0000] <Philip`>
I've not found anything that works better than IE7, and http://canvex.lazyilluminati.com/misc/ie8/2.html works worse

[05:43:00.0000] <annevk>
i guess my comments still stand if it's worse

[05:45:00.0000] <zcorpan>
it's not clear to me what they have introduced with ie8 wrt namespaces that is incompatible, compared to ie7

[05:45:01.0000] <Philip`>
Presumably the beta is just unfinished and buggy, and the whitepaper describes what they hope they'll be able to implement at some point in the future

[05:45:02.0000] <Philip`>
(preferably without breaking the web)

[05:45:03.0000] <takkaria>
Philip`: XPS is MS's attempt to overthrow PDF

[05:46:00.0000] <Philip`>
takkaria: Ah, makes sense

[05:46:01.0000] <Philip`>
What kind of tools can read it?

[05:46:02.0000] <takkaria>
Office 2007

[05:46:03.0000] <takkaria>
I think they were trying to get printer manufacturers to understand it natively too

[05:46:04.0000] <Philip`>
Also, shouldn't they not make it obvious that it's 30% less space-efficient than PDF?

[05:47:00.0000] <takkaria>
it's actually XAML-based

[05:47:01.0000] <Dashiva>
That just means 30% more awesomeness per file

[05:48:00.0000] <hsivonen>
PostScript operators are more compact than XML. I guess they still are after deflate

[05:48:01.0000] <Philip`>
Dashiva: If you made a PDF file that was pure awesome, and then converted to XPS, what would happen?

[05:49:00.0000] <Dashiva>
The file becomes even more awesome because it's now bigger and can contain more awesomeness

[05:49:01.0000] <Philip`>
Oh, that makes sense

[05:50:00.0000] <hsivonen>
Philip`: it becomes XML-based an XML is standard, interoperable and awesome

[05:50:01.0000] <hsivonen>
s/ an / and /

[05:50:02.0000] <takkaria>
if you had a never-ending PDF file that was pure awesome, and you converted it to XPS, the two would be equally awesome

[05:51:00.0000] <Dashiva>
Well, even an infinite signal can have finite energy

[05:51:01.0000] <Philip`>
Hmm, do PDF or XPS support unending documents?

[05:52:00.0000] <hsivonen>
they don't

[05:52:01.0000] <Philip`>
I suppose they'd have a header which lists the number of pages, or something like that

[05:53:00.0000] <hsivonen>
PDF sure doesn't. it requires a seek to the end of the file in order to start reading

[05:53:01.0000] <hsivonen>
and XPS is in a PKZIP wrapper, which, I suppose, doesn't support infinite entries

[05:54:00.0000] <Philip`>
When a zip file spans multiple floppy disks, you have to insert the first disk then the last disk then the first disk again and then the second and third etc

[05:54:01.0000] <Philip`>
but I don't know if that means zip requires seeking to end, or if it's just the PKZIP implementation that requires it

[05:55:00.0000] <Philip`>
(Zip stores the list of files at the end, but maybe it has enough repeated data per file to allow non-seeking decompression)

[06:23:00.0000] <zcorpan>
hmm, having dom attributes for aria might work for legacy browsers anyway, if ATs can read js properties on elements

[06:44:00.0000] <zcorpan>
Philip`: any idea why aria attributes don't show up in your live dom viewer for ie8?

[06:45:00.0000] <zcorpan>
i can access them using for-in, and they are .specified

[06:45:01.0000] <Philip`>
zcorpan: Probably because IE8 is crazy

[06:45:02.0000] <zcorpan>
no doubt

[06:46:00.0000] <Philip`>
I use attributes.getNamedItem(name) on them

[06:46:01.0000] <Philip`>
which is probably what fails

[06:46:02.0000] <zcorpan>
that works for me

[06:46:03.0000] <Philip`>
because 'name' is probably 'ariaDisabled' and not 'aria-disabled'

[06:46:04.0000] <Philip`>
unless I'm confused and/or wrong

[06:47:00.0000] <zcorpan>
.name is aria-haspopup

[06:47:01.0000] <Philip`>
Does for-in return "aria-haspopup"?

[06:48:00.0000] <Philip`>
By the way, where is my DOM viewer?

[06:48:01.0000] <Philip`>
(I think I've lost it temporarily)

[06:48:02.0000] <zcorpan>
http://philip.html5.org/misc/live-dom-viewer-ie8.html

[06:48:03.0000] <Philip`>
Aha, thanks

[06:49:00.0000] <Philip`>
but I thought I'd deleted that version since http://philip.html5.org/misc/live-dom-viewer-ie8/ has a working permalink button

[06:49:01.0000] <Philip`>
/me deletes it

[06:49:02.0000] <Philip`>
Please use the non-.html version :-)

[06:51:00.0000] <Philip`>
Anyway, I'm not quite sure what'd cause that issue, and I don't have access to IE8 to test it right now

[06:52:00.0000] <zcorpan>
the non-.html version crashes ie8

[06:52:01.0000] <Philip`>
Um

[06:52:02.0000] <zcorpan>
twice, but works now... ?

[06:53:00.0000] <Philip`>
It's always worked for me

[07:02:00.0000] <zcorpan_>
hmm, getNamedItem indeed doesn't seem to work

[07:03:00.0000] <zcorpan_>
it returns null

[07:04:00.0000] <Philip`>
Would getAttribute work better?

[07:14:00.0000] <zcorpan_>
only if you reverse the camelcase to hyphenated

[07:15:00.0000] <Philip`>
Is .attributes meant to have the DOM (hyphenated) attributes?

[07:16:00.0000] <Philip`>
(in for-in iteration and getNamedItem, at least)

[07:17:00.0000] <zcorpan_>
for-in returns the camelcase version, getNamedItem or [] notation requires hyphenated

[07:18:00.0000] <zcorpan_>
that's why it doesn't work

[07:21:00.0000] <Philip`>
Has somebody noticed that IE8's standards mode is like other browsers' standards mode and never like almost-standards mode?

[07:21:01.0000] <Philip`>
(which seems kind of bad for compatibility)

[07:22:00.0000] <zcorpan_>
i guess we need to fix css2.1 before ie8 ships

[07:32:00.0000] <takkaria>
I wonder why MS seem to not let any of their browser people talk to anyone outside MS about anything

[07:33:00.0000] <Philip`>
takkaria: That's not entirely true - I think they've posted questions to the HTML WG about three times

[07:33:01.0000] <takkaria>
/me grins

[07:37:00.0000] <Philip`>
Maybe they'll be willing to talk more now that they've revealed a number of the features they're implementing

[07:37:01.0000] <takkaria>
I just want to an answer to "why are you implementing APIs async when they're not meant to be?", really

[07:39:00.0000] <Philip`>
"Internet Explorer 8 Beta 1 for Developers writes items to the store asynchronously so that your Web page can continue on."

[07:39:01.0000] <Philip`>
Is that not a good enough answer?

[07:42:00.0000] <Philip`>
It'd be nice to know how begin/commit work if it's spread across multiple script blocks, and is interleaved with execution of another window in the same domain

[07:43:00.0000] <takkaria>
it's not a bad reason, but "could do better". :)

[07:45:00.0000] <Philip`>
Acid3 seems to be well timed with the IE8 beta release, since many people are commenting that even though IE8 sort of passes Acid2 it is still not nearly as standards-compliant as other browsers in Acid3

[07:52:00.0000] <zcorpan_>
and scores the same as ie7, doesn't it?

[07:53:00.0000] <Dashiva>
Philip`: sort of?

[07:53:01.0000] <Philip`>
IE7 gets 13, IE8 gets 17

[08:26:00.0000] <tantek>
mmmm.... Las Manitas.....

[08:27:00.0000] <tantek>
sorry, wrong channel, that was meant for #sxsw ;)

[08:51:00.0000] <aroben>
annevk: nice blog post (re: http://annevankesteren.nl/2008/03/ie8-bad)

[08:57:00.0000] <Dashiva>
The second bullet seems a bit vague on what feature they've implemented

[08:57:01.0000] <othermaciej>
yeah

[08:57:02.0000] <othermaciej>
I figured out that it is about DOM storage

[08:57:03.0000] <othermaciej>
but they should say that

[10:21:00.0000] <Philip`>
Dashiva: It only works on the version hosted on one specific domain, and you could argue that other versions are no less official, hence IE only sort of passes

[11:22:00.0000] <Philip`>
In Acid2 in IE8, the nose goes blue only when the mouse is above the bottom of the nose, whereas Firefox and Opera make it blue when the mouse is over the line below that

[11:22:01.0000] <Philip`>
Is that undefined behaviour, or a bug in IE, or not part of the test?

[12:37:00.0000] <annevk>
hmm, Ubuntu's seemling random freezes are annoying

[12:38:00.0000] <annevk>
especially when there's IRC history of unlogged channels :(

[12:40:00.0000] <Dashiva>
annevk: And they still don't have opera 9.26 ;)

[12:41:00.0000] <annevk>
I know how to get my own builds :)

[12:48:00.0000] <eseidel>
Philip`: best to ask Hixie about the nose-blue thing

[13:11:00.0000] <annevk>
grmbl, what's up with my blog

[13:12:00.0000] <hsivonen>
has the order in which #document-fragment appears in the tests changed?

[13:13:00.0000] <hsivonen>
it looks like the format no longer matches what I programmed my test harness to expect

[13:14:00.0000] <hsivonen>
yeah.

[13:15:00.0000] <hsivonen>
annevk: ok if I reorder the test case fields so that they are in a consistent order

[13:15:01.0000] <hsivonen>
?

[13:15:02.0000] <annevk>
that'd be cool

[13:16:00.0000] <hsivonen>
ok

[13:16:01.0000] <annevk>
i'd still like to group them logically somehow at some point

[13:21:00.0000] <gsnedders>
annevk: remember what the topic is in here :)

[13:27:00.0000] <Hixie>
xkcd: added a comment, thanks for the headsup

[13:31:00.0000] <hsivonen>
ooh. there are now serializer tests, too

[13:32:00.0000] <annevk>
and some fragment stuff too it seems, but looking through the code fragment parsing has lots of bugs

[13:32:01.0000] <hsivonen>
annevk: do you mean fragment tree building?

[13:33:00.0000] <annevk>
yeah

[13:33:01.0000] <hsivonen>
that stuff was around already in the summer

[13:33:02.0000] <annevk>
true

[13:33:03.0000] <annevk>
the serializer stuff has been in for quite a while too i think

[13:33:04.0000] <hsivonen>
hmm. I wonder if I should implement the feed sniffer, too, and whine if people try to validate docs that would be sniffed as feeds

[13:45:00.0000] <annevk>
http://www.anomalousanomaly.com/2008/03/06/acid-3/ is funny

[13:52:00.0000] <gavin_>
heh

[13:56:00.0000] <svl>
weird that 2% gap between gecko 20080306 and 20080305; I only know of the A ~ B C checkin adding an extra point, but where's the other one coming from?

[13:56:01.0000] <Philip`>
"3.0b3pre nightly (2008030504)" - is that possible? I thought it was 3.0b5pre

[13:57:00.0000] <svl>
indeed

[13:58:00.0000] <Dashiva>
No opera 9.5, pssh

[13:59:00.0000] <gavin_>
Philip`: the date is when it was built

[13:59:01.0000] <gavin_>
so it's possible that it was a custom build

[13:59:02.0000] <gavin_>
based on older code

[14:02:00.0000] <roc>
If Webkit can gain 50% in a few months then once we start trying we'll hit 116%!

[14:03:00.0000] <roc>
mmm, we should easter-egg that in a nightly build just for laughs

[14:04:00.0000] <annevk>
hehe

[14:04:01.0000] <othermaciej>
in a way we gained more than 50%

[14:05:00.0000] <othermaciej>
cause Hixie kept adding new tests for us to fail

[14:09:00.0000] <jgraham>
show-off ;)

[14:10:00.0000] <jgraham>
Will anyone object if I change most of the mixed-case <!DOCTYPE hTmL> things in the html5lib test suite to have lowercase html

[14:11:00.0000] <hsivonen>
jgraham: I'm not objecting but I'm curious why

[14:12:00.0000] <jgraham>
The rationale being that the new lxml treebuilder in html5lib doesn't actually store the doctype name (because lxml just stores the root element name instead), so at the moment we have to selectively skip those tests for lxml

[14:12:01.0000] <annevk>
yeah

[14:12:02.0000] <annevk>
i do

[14:13:00.0000] <annevk>
i think having those tests in there is a good thing

[14:13:01.0000] <othermaciej>
jgraham: Hixie himelf said so

[14:14:00.0000] <jgraham>
annevk: I agree that testing that odd doctypes work is A Good Thing

[14:14:01.0000] <othermaciej>
I'm not especially excited about it since it kind of makes Safari 3.0.4 look worse in comparison to other browsers than it actually is, but so it goes

[14:14:02.0000] <jgraham>
I don't think we need to pollute lots of tests for other markup wih them

[14:14:03.0000] <annevk>
ok... hmm

[14:16:00.0000] <jgraham>
(Other solutions include changing the parsing algorithm to downcase the doctype name in the DOM (dunno if that has compat issues) or hacking the test harness somehow)

[14:18:00.0000] <annevk>
omg

[14:19:00.0000] <annevk>
why did i walk in the colorblind trap on public-css-testsuite

[14:19:01.0000] <annevk>
this stuff is hilarious

[14:22:00.0000] <Philip`>
/me doesn't quite see why it is

[14:24:00.0000] <hsivonen>
jgraham: I agree that the doctype shouldn't have to round trip in data models designed for XML 

[14:28:00.0000] <Dashiva>
annevk: chaals is gonna cricket-bat you if you keep this up ;)

[14:29:00.0000] <hsivonen>
I think it isn't hilarious, but using color does have a point since it doesn't depend on for renderers, etc.

[14:29:01.0000] <gsnedders>
Dashiva: I never knew chaals was that kind

[14:30:00.0000] <Dashiva>
I take it your treatment was worse?

[14:30:01.0000] <hsivonen>
s/for/font/

[14:30:02.0000] <gsnedders>
Dashiva: IE6.

[14:31:00.0000] <Dashiva>
That's all?

[14:33:00.0000] <gsnedders>
And chaals, why I make bad joke.

[14:33:01.0000] <gsnedders>
*while

[14:33:02.0000] <gsnedders>
*jokes

[14:33:03.0000] <gsnedders>
/me is too tired

[14:33:04.0000] <hsivonen>
http://www.w3.org/2005/Incubator/rdb2rdf/ interesting

[14:40:00.0000] <gsnedders>
anyone have any view on which of Computational Physics, Maths with Physics, or Computer Sciences to do at uni

[14:42:00.0000] <annevk>
ok, not exactly hilarious

[14:42:01.0000] <annevk>
still, accusations of discrimination when it comes to such a limited target audience seems a bit of stretch

[14:44:00.0000] <gsnedders>
I mean, does it really matter when a whole ten people in the world will use the test cases?

[14:44:01.0000] <annevk>
no it doesn't

[14:44:02.0000] <Philip`>
gsnedders: Is that Computer Science that doesn't include any physics?

[14:45:00.0000] <gsnedders>
Philip`: no more physics than CS normally does :)

[14:45:01.0000] <annevk>
there's someone on Opera's QA team who is partially colorblind and he just does different types of tests

[14:45:02.0000] <gsnedders>
Philip`: and you probably know better than me how much that is

[14:45:03.0000] <Philip`>
What's normal? :-)

[14:45:04.0000] <gsnedders>
Philip`: where did you go as an undergraduate?

[14:45:05.0000] <Philip`>
25% of my first year was physics

[14:45:06.0000] <Philip`>
Cambridge

[14:46:00.0000] <gsnedders>
do you still have to take a Nat. Sci.?

[14:46:01.0000] <Philip`>
which is not entirely normal

[14:46:02.0000] <gsnedders>
among the places where I'd even think of doing CS, it is :)

[14:47:00.0000] <jgraham>
gsnedders: Well Computer Science probably appears on more job adverts, although I wouldn't advocate using that as a metric 

[14:48:00.0000] <gsnedders>
jgraham: most I've seen also say, "or related field", though :)

[14:48:01.0000] <jgraham>
Physics is only very arguably a related field

[14:48:02.0000] <Philip`>
gsnedders: As far as I'm aware, you still have to do one sciencey thing (plus maths) in the first year - there are plans to change that so there's a purer CS option, but not for next year (but maybe for the year after)

[14:48:03.0000] <hsivonen>
gsnedders: I have just two observations: 1) There are people who picked physics but end up doing software-related stuff anyway. 2) Picking physics for the prestige doesn't make sense; one needs to be motivated in order to keep up with the kind of math classes physics majors take.

[14:49:00.0000] <jgraham>
/me hasn't yet found out how big the practical difference is

[14:49:01.0000] <gsnedders>
Philip`: I wouldn't be starting until 2009 anyway

[14:50:00.0000] <Philip`>
gsnedders: Ah, in that case I think it's quite possible that there's be a non-natsci option, but I don't know what new material they'd introduce

[14:50:01.0000] <Philip`>
s/'s/'d/

[14:50:02.0000] <gsnedders>
hsivonen: 1) I'm well aware, which is part of the reason why I am considering physics with maths at all; 2) I'm probably more interested in physics than I am in CS.

[14:50:03.0000] <jgraham>
gsnedders: With Cambridge you can do 50% C.S., 25% Maths and 25% Physics in the first year and choose Physics or C.S. in the second year

[14:51:00.0000] <gsnedders>
/me will probably nag jgraham and Philip` about Cam. more in May

[14:52:00.0000] <jgraham>
gsnedders: Do you have a long term goal e.g. academia, ordinary employment, start own business, etc.

[14:52:01.0000] <jgraham>
?

[14:53:00.0000] <gsnedders>
jgraham: NOT academia (that's the one result of having a father in that). :) Some sort of CS-related job, likely either programming or QA initally

[14:53:01.0000] <Philip`>
The first year is usually not terribly interesting anyway, since it's largely covering things that half the people already know half of, and after that there's no mixing between CS and other departments

[14:54:00.0000] <hsivonen>
gsnedders: fwiw, the math bit is from experience. Where I studied, one had to test higher to get into physics than CS. I wanted to do CS, but since on paper I was smart enough to do physicist math, I took physicist math inititally out of vanity. It wasn't a smart choice, since I didn't really care enough about hard math and the CS kind of math would have been more useful to me up front

[14:55:00.0000] <gsnedders>
/me would likely go straight into second year if he went to Edi., as I'll have done an extra year at school over the Scottish norm, which has the fun of not being taught some of the more specific stuff and then have to catch up quickly

[14:56:00.0000] <Hixie>
annevk: when people complained to me, i pointed out that people with visual disabilities are probably not ideally suited to doing visual quality assurace

[14:56:01.0000] <gsnedders>
hsivonen: Comparing where the two places I'd really lean towards between the two, the entrance requirements are more or less identical, though CS may be harder to get into. I don't really care about vanity.

[14:56:02.0000] <jgraham>
gsnedders: As someone who has latterly decided that academia is a bad idea I am finding that I would have benefited from more CS in my background, either from classes or from personal learning

[14:56:03.0000] <Philip`>
(Incidentally, I think there are plans for an optional fourth year in the CS tripos here, which should be introduced soonish - I'm not sure if that's mentioned in any prospectus-like documents yet)

[14:57:00.0000] <gsnedders>
jgraham: heh. I forget what you do?

[14:57:01.0000] <jgraham>
gsnedders: I'm coming to the end of an astrophysics PhD

[14:58:00.0000] <gsnedders>
jgraham: you're postgrad too? oh. My memory really is bad.

[14:58:01.0000] <Hixie>
personally i've found that having the scientific method drilled into me was very useful, and that i learnt pretty much all the CS i needed for my career on my own time

[14:59:00.0000] <hsivonen>
gsnedders: well I'm not sure if vanity is the right way of describing it. I was silly enough to think that it would be a good idea to take the "guru" math since I was eligible.

[14:59:01.0000] <othermaciej>
physics is a great major if you want a high-paying job in finance

[15:00:00.0000] <gsnedders>
All the CS I've needed for what I've done I've more or less learnt myself or found people around on the web (recently mainly here). There's very little I haven't managed to get my head around myself.

[15:00:01.0000] <gsnedders>
hsivonen: Mini-story: I was given a choice between being in the top set, or in the third set (of eleven), for Maths. I chose the third set, not wanting to act like a know-it-all.

[15:00:02.0000] <jgraham>
othermaciej: And you can stomach the hours, the work environment, the lack of ethics...

[15:01:00.0000] <gsnedders>
othermaciej: finance would kill me. :)

[15:03:00.0000] <gsnedders>
hsivonen: re: entrance requirements: maths & phys and CS have identical requirements (comparing ed and cam respectively)

[15:03:01.0000] <Philip`>
I think there are at least a few things I probably wouldn't have learnt myself, like Fourier transforms and discrete maths and Turing machines and lambda calculus and FSMs and logic and semantics and security and quantum computing and stuff

[15:04:00.0000] <Philip`>
mainly because I wouldn't have any motivation to learn about those things myself

[15:04:01.0000] <blooberry>
hixie: I remember that email thread you had about color blindness. 8-}

[15:04:02.0000] <Philip`>
because they're not always entirely useful; but there are always a few occasions when I'm glad I know about such things :-)

[15:04:03.0000] <jgraham>
FWIW out of those I did Fourier transforms and Quantum computing in a physics degree

[15:05:00.0000] <Philip`>
I was taught about Fourier transforms three times, and at the end I almost understood them

[15:05:01.0000] <gsnedders>
Philip`: I nagged Turing machines out of you, IIRC.

[15:05:02.0000] <gsnedders>
Big-O notation is one of the few things I really don't get my head around

[15:05:03.0000] <gsnedders>
(and don't try now)

[15:06:00.0000] <Philip`>
gsnedders: Knowing what a Turing machine is is not the same as knowing how you can prove that you can't write a program to calculate how much memory a Turing machine is going to use

[15:06:01.0000] <gsnedders>
More than anything, it's between Comp. Phys. and Comp. Sci., FWIW

[15:07:00.0000] <Philip`>
(Not that that's a particularly useful thing to prove...)

[15:07:01.0000] <gsnedders>
Philip`: what a horrible thing to prove

[15:07:02.0000] <gsnedders>
Philip`: But yeah, realistically, how many times will I need to know that? :P

[15:08:00.0000] <Hixie>
well, actually, the halting problem came up in the web forms 2 vs xforms transitional thing

[15:08:01.0000] <Hixie>
so...

[15:08:02.0000] <gsnedders>
but actually prove it?

[15:08:03.0000] <roc>
A man^H^H^Hcomputer's got to know his limitations

[15:08:04.0000] <Hixie>
well you don't need to actually prove it more than once, but you do need to know the proofso that you know whether it can be applied to another situation or not

[15:09:00.0000] <Philip`>
It's useful to know that you can't decide any interesting property of programs

[15:09:01.0000] <jgraham>
Oddly enough Dave Raggett has a Physics degree

[15:09:02.0000] <roc>
actually that's not true

[15:09:03.0000] <Hixie>
understanding how something works is a very important component of using something

[15:09:04.0000] <Hixie>
roc: what isn't? :-)

[15:09:05.0000] <roc>
there are entire workshops devoted to proving termination of programs

[15:10:00.0000] <gsnedders>
/me has a very crude idea of how to prove it

[15:10:01.0000] <Philip`>
Microsoft has a useful termination-prover for device drivers

[15:10:02.0000] <Philip`>
but it's not deciding termination

[15:10:03.0000] <roc>
you can decide for some programs

[15:10:04.0000] <Philip`>
since sometimes it can only tell you that it can't prove termination

[15:11:00.0000] <roc>
maybe even almost all programs

[15:11:01.0000] <Hixie>
Philip`: many web browsers have a halting problem solver too. usually implemented as a timeout. :-P

[15:11:02.0000] <gsnedders>
how technically complex! :P

[15:13:00.0000] <Philip`>
roc: That's theoretically useless if it doesn't work for any arbitrary program :-)

[15:13:01.0000] <gsnedders>
roc: when will I terminate?

[15:13:02.0000] <gsnedders>
roc: will I>

[15:13:03.0000] <gsnedders>
s/>/?/

[15:13:04.0000] <roc>
gsnedders: I can compute an upper bound, which is considered a satisfactory solution to this problem

[15:14:00.0000] <gsnedders>
roc: thx

[15:14:01.0000] <roc>
Undecidability results, like NP-completeness results, can be misleading because in practice a lot of those problems are only "really hard" on a very small subset of the instances

[15:16:00.0000] <roc>
e.g. in the last decade or two, there was in an explosion in the construction of SAT solvers and their application to lots of different domains, because although SAT is NP-complete almost all SAT problems, even huge ones, are relatively easy

[15:16:01.0000] <Philip`>
I've always wondered why people care about decidability of type systems, since you're always going to run the program after you've compiled it and then you've got no hope of always terminating

[15:16:02.0000] <roc>
keeps the build times down

[15:17:00.0000] <jgraham>
What's a SAT?

[15:17:01.0000] <Philip`>
You can still get exponential (I think) build times in something like ML, so it doesn't guarantee that the compiler won't take longer than the lifetime of the universe

[15:17:02.0000] <jgraham>
/me discovers google

[15:17:03.0000] <roc>
A SAT problem is basically "find a set of assignments to boolean variables that makes this huge boolean formula true: ..."

[15:17:04.0000] <gsnedders>
Philip`: ML?

[15:18:00.0000] <roc>
Philip`: that's true. In fact the more advanced type theorists have given up on decidable type theories :-)

[15:18:01.0000] <Philip`>
gsnedders: The language

[15:18:02.0000] <Philip`>
GHC has some extensions to Haskell that apparently make its type system Turing complete, which is kind of crazy

[15:19:00.0000] <gsnedders>
I'm going all Web 2.0 with my computing coursework: "Processr"

[15:19:01.0000] <gsnedders>
Philip`: the _type system_ is Turing complete? That's mad.

[15:22:00.0000] <Dashiva>
gsnedders: Any worse than C++ templates, or preprocessor macros?

[15:23:00.0000] <Philip`>
The C preprocessor isn't Turing complete since it can't do anything like recursion

[15:23:01.0000] <Philip`>
C++ templates are mad :-)

[15:23:02.0000] <gsnedders>
Dashiva: Ah, that's true. You do have that, but seemingly more useful

[15:23:03.0000] <gsnedders>
(with the preprocessor, at least)

[15:23:04.0000] <gsnedders>
(I know nothing about C++ templates)

[15:25:00.0000] <gsnedders>
/me ought to learn C++

[15:25:01.0000] <gsnedders>
/me has said that before

[15:26:00.0000] <takkaria>
people use C++ as an excuse to perform frankly inexcusable deeds

[15:28:00.0000] <Dashiva>
takkaria: Much like everything else man comes in contact with


2008-03-07
[16:34:00.0000] <Philip`>
IE's mode setting thing doesn't interact well with the Live DOM Viewer

[16:39:00.0000] <Philip`>
Hmm, the <svg xmlns=foo> things the second time you use it on a page

[16:39:01.0000] <Philip`>
Uh

[16:39:02.0000] <Philip`>
s/things/thing works/

[16:41:00.0000] <Philip`>
...but when I say "works", I mean that in basically the opposite sense to usual, because it breaks the parsing of everything after the second usage

[16:43:00.0000] <Hixie>
i really am very disappointed in their insistence on continuing this xmlns= crap in text/html

[16:43:01.0000] <Hixie>
the more they do with this, the more screwed we are in html5 in terms of adding namespaces

[16:43:02.0000] <Hixie>
though maybe we can just do ns= or something

[16:51:00.0000] <othermaciej>
htmlns

[16:51:01.0000] <Philip`>
The more annoying thing is how simply using colons (with no xmlns or anything) causes occasional XML-like parsing

[16:52:00.0000] <Hixie>
well that's ok

[16:52:01.0000] <Hixie>
don't use colons :-)

[16:52:02.0000] <Hixie>
we've already learnt (the hard way) that prefixes are a horrible idea

[16:52:03.0000] <Hixie>
so whatever we do end up doing won't have prefixes

[16:56:00.0000] <tantek>
Hixie, could you please document how you've learned that prefixes are a horrible idea so others won't keep repeating and reproposing that mistake?

[16:57:00.0000] <Hixie>
yeah i have a half-written blog post on the subject

[16:57:01.0000] <Hixie>
i add to it occasionally

[16:57:02.0000] <Hixie>
one day it'll even get finished :-)

[16:58:00.0000] <Dashiva>
And then someone will point out how all the problems are really just awesome features that we aren't ready to leverage yet

[16:58:01.0000] <Hixie>
yup

[16:58:02.0000] <Hixie>
but we don't have to agree with them

[16:59:00.0000] <Dashiva>
I'm just wondering if there are any people left who don't either know or don't want to know :)

[17:13:00.0000] <jwalden>
Hixie: regarding <http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-March/014156.html>, the paragraph starting "Fourth", was my understanding of how data: URIs work according to the spec wrong?  the code to create the window at a data: location is <http://bonsai.mozilla.org/cvsblame.cgi?file=/mozilla/dom/tests/mochitest/whatwg/test_postMessage_special.xhtml&rev=1.2&mark=266-283#265>...

[17:13:01.0000] <jwalden>
...-- should events posted from that window have .origin be that of the test_postMessage_special.xhtml page?

[17:22:00.0000] <Hixie>
jwalden: i expect the spec to change regarding the origin of data: URIs

[17:24:00.0000] <jwalden>
okay

[17:24:01.0000] <jwalden>
I shall forget I ever had concerns about that part, for now :-)

[17:27:00.0000] <Hixie>
wait, the spec already seems to be updated

[17:27:01.0000] <Hixie>
i'm confused

[17:27:02.0000] <Hixie>
the spec says:

[17:27:03.0000] <Hixie>
"The origin of a Document or image that was generated from a data: URI found in another Document or in a script is the origin of the Document or script.

[17:28:00.0000] <Hixie>
"

[17:28:01.0000] <Hixie>
what is it firefox does?

[17:31:00.0000] <Hixie>
jwalden: ^ (in case you're not watching teh channel :-) )

[17:32:00.0000] <jwalden>
Hixie: I could have sworn last I looked that data: URIs each had a globally unique identifier as their origin; it's possible you changed it since I last looked

[17:33:00.0000] <jwalden>
(and I tend to watch sporadically or flip here when I get pinged :-) )

[17:33:01.0000] <Hixie>
the spec says: 

[17:33:02.0000] <Hixie>
The origin of a Document or image that was generated from a data: URI found in another Document or in a script is the origin of the Document or script.

[17:33:03.0000] <Hixie>
The origin of a Document or image that was generated from a data: URI from another source is a globally unique identifier assigned when the document is created. 

[17:33:04.0000] <Hixie>
is that what you want it to say?

[17:33:05.0000] <Hixie>
or do you want it to say something else?

[17:34:00.0000] <jwalden>
I think that's what Firefox does, which is most convenient for me (I don't have a particular desire one way or another except to avoid work on my part) :-)

[17:34:01.0000] <jwalden>
I'm guessing the "other source" is, e.g., stuff typed in the location bar

[17:35:00.0000] <Hixie>
yeah

[17:36:00.0000] <jwalden>
might be worth mentioning that as an example of the latter, fwiw

[17:39:00.0000] <Hixie>
send mail

[17:39:01.0000] <Hixie>
no wait

[17:39:02.0000] <Hixie>
i have it right here

[17:39:03.0000] <Hixie>
i can just do that

[17:43:00.0000] <jwalden>
thanks

[18:16:00.0000] <jwalden>
I am convinced I have at least a 50% failure rate at remembering to use my +whatwg email address for messages to the list

[19:00:00.0000] <Hixie>
jwalden: that's why i don't bother with different mail addresses

[19:00:01.0000] <Hixie>
not to mention what happens when you cross-post

[19:01:00.0000] <Hixie>
hey have you tested IE8 on your tests?

[19:01:01.0000] <jwalden>
no, not yet

[19:01:02.0000] <jwalden>
I need to set up vmware and windows to do so, which will be a small pain

[19:01:03.0000] <jwalden>
based on what they've written, I "suspect" they implemented the pre-origin API

[19:02:00.0000] <jwalden>
so far I've only run against WebKit+patch

[19:02:01.0000] <jwalden>
Opera's latest still has postMessage on document, so it's a bit pointless there

[20:20:00.0000] <Lachy>
FYI, for anyone using html5.lachy.id.au, my site will soon be transferred to Dreamhost (as soon as the DNS is updated) and some things on on there will be broken due to the move. That (and any other broken things) will be fixed on the weekend.

[20:44:00.0000] <othermaciej>
I believe their docs described the pre-origin API

[21:29:00.0000] <jwalden>
Hixie: with pain, I got the tests set up well enough to be able to say that IE breaks on parts of the harness used in the tests, such that the tests can't be run in it -- was getting runtime errors trying to access the |attributes| property of an element

[01:01:00.0000] <Hixie>
wow, rsayrer is bitter

[01:02:00.0000] <annevk>
no kidding

[01:07:00.0000] <virtuelv>
url?

[01:08:00.0000] <virtuelv>
or are you refering to his mail to pubic-webapi?

[01:08:01.0000] <annevk>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-March/014168.html

[01:08:02.0000] <annevk>
http://lists.w3.org/Archives/Public/public-webapi/2008Mar/0014.html

[01:08:03.0000] <annevk>
yeah

[01:09:00.0000] <Hixie>
woah, glazman and plinss are replacing bert

[01:09:01.0000] <annevk>
CSS versioning ftw!

[01:10:00.0000] <zcorpan>
hmm? pointer?

[01:13:00.0000] <annevk>
Hixie, the quotation marks checking replaced the ending quotation mark with a colon...

[01:13:01.0000] <Hixie>
annevk: hm?

[01:13:02.0000] <hsivonen>
annevk: CSS versioning?

[01:13:03.0000] <zcorpan>
Hixie: "<code title="">false</code>:

[01:14:00.0000] <Hixie>
oops

[01:14:01.0000] <annevk>
hsivonen, glazou likes that

[01:15:00.0000] <zcorpan>
@DOCTYPE CSS PUBLIC "-//W3C//DTD CSS 2.1//EN";

[01:15:01.0000] <hsivonen>
annevk: interesting. I don't like even strict levels. (setting level to 3 and getting errors for Prince extensions sucks)

[01:17:00.0000] <annevk>
Hixie, also "<code title="">true</code>:

[01:17:01.0000] <annevk>
twice

[01:23:00.0000] <Hixie>
fixed

[01:23:01.0000] <Hixie>
anyone got a tool that gets true type font metrics?

[01:53:00.0000] <jgraham_>
zcorpan: Oops I entirely missed your message about aria before I replied

[01:54:00.0000] <Hixie>
/me finally finds a ttfdump tool on microsoft's site and determines that the Ahem ex height is 0.8em as he suspected

[02:15:00.0000] <Hixie>
hm, i wonder if lachy is coming back

[02:15:01.0000] <Hixie>
/me summons Lachy

[02:17:00.0000] <Hixie>
/me sacrifices a chicken:

[02:17:01.0000] <Hixie>
  .    ,

[02:17:02.0000] <Hixie>
  ('>)

[02:17:03.0000] <Hixie>
    LL   ..'o

[02:17:04.0000] <Hixie>
eep, my second line was misindented

[02:17:05.0000] <Hixie>
now my summoning ritual wil go wrong!

[02:17:06.0000] <Hixie>
/me runs away

[02:18:00.0000] <zcorpan>
/me wonders what will happen instead of Lachy coming back

[02:27:00.0000] <Hixie>
woot, it worked after all

[02:27:01.0000] <Hixie>
Lachy: do you still think contentEditable="" is non-semantic?

[02:28:00.0000] <Lachy>
I really don't like the way its designed

[02:28:01.0000] <Hixie>
"designed" is putting it nicely

[02:28:02.0000] <annevk>
Hixie, hey, did you stop solving parsing issues?

[02:28:03.0000] <annevk>
:(

[02:28:04.0000] <annevk>
heh

[02:28:05.0000] <Hixie>
annevk: were there specific ones you wanted me to resolve that i didn't resolve?

[02:29:00.0000] <Hixie>
annevk: the parsing folders were down to just a few issues

[02:29:01.0000] <annevk>
forms :)

[02:29:02.0000] <Lachy>
s/designed/put together in an ad hoc way that focuses more on presntational editing rather than semantics

[02:29:03.0000] <annevk>
nested forms, to be specific

[02:29:04.0000] <Hixie>
annevk: oh, oops, i forgot about that one

[02:29:05.0000] <Hixie>
annevk: will do that after i've done this contentEditable e-mail

[02:30:00.0000] <annevk>
cool

[02:30:01.0000] <Hixie>
annevk: remind me if i don't after i've sent it :-)

[02:30:02.0000] <Hixie>
Lachy: yeah, no disagreement from me there (i've tried hard to work around that in html5)

[02:30:03.0000] <Lachy>
I will have to review the spec.  It's been a while since I even looked at content editable

[02:31:00.0000] <Hixie>
k

[02:31:01.0000] <Hixie>
me tyoo

[02:31:02.0000] <Hixie>
too even

[02:45:00.0000] <hsivonen>
wow. visitmix.com suggests I might use VLC to view their stuff as an alternative to Silverlight

[02:49:00.0000] <Lachy>
Hixie, just reviewing it now.  It's not particularly clear about this markup: <p contenteditable="true">...<span contenteditable=false>is this editable?</span>...</p>

[02:49:01.0000] <Hixie>
it is not

[02:49:02.0000] <Lachy>
in particular, this paragraph is a little confusing about that. "If an HTML element  has a contenteditable attribute set to the true state, or if its nearest ancestor HTML element with the contenteditable attribute set has its attribute set to the true state, or if it has no ancestors with the contenteditable attribute set but the Document has designMode enabled, then the UA must treat the element as editable (as described below). "

[02:50:00.0000] <Lachy>
since that span falls into the "or if its nearest ancestor HTML element with the contenteditable attribute set has its attribute set to the true state" condition.

[02:50:01.0000] <annevk>
is the contenteditable section already updated to match browsers? i think my outstanding comment on that hasn't been addressed yet

[02:51:00.0000] <annevk>
in particular, "The false keyword maps to the false state, which is also the invalid value default. " is wrong

[02:52:00.0000] <annevk>
invalid values are equivalent to the attribute being missing

[02:54:00.0000] <Hixie>
Lachy: hm yeah, that needs fixing.

[02:54:01.0000] <Hixie>
annevk: haven't gotten to that e-mail yet

[02:55:00.0000] <annevk>
kk

[02:55:01.0000] <Lachy>
Hixie, should I send mail about that, or will you just remember that?  Are you going to be editing that section today?

[03:17:00.0000] <Hixie>
i'll record it here

[04:07:00.0000] <hsivonen>
looks like html5lib does not have test coverage for spec rev 1320

[04:07:01.0000] <annevk>
/me looks

[04:07:02.0000] <annevk>
hsivonen, true

[04:08:00.0000] <annevk>
hsivonen, actually, I did check changing the implied end tags stuff and several fragment tests started reporting different amount of errors

[04:09:00.0000] <hsivonen>
annevk: I'd be more interested in catching the tree change arising from the different confidion for generate implied ond tags

[04:10:00.0000] <hsivonen>
but for some reason, it isn't quite obvious to me what the right test case would be

[04:10:01.0000] <annevk>
I don't think there's a difference for that

[04:10:02.0000] <annevk>
I also did not look at the </form> change

[04:11:00.0000] <hsivonen>
oh. right. However, there does seem to be a difference with popping stuff

[04:12:00.0000] <hsivonen>
unless I'm missing something important

[04:12:01.0000] <hsivonen>
oops. 

[04:12:02.0000] <annevk>
are you missing that <td> etc. never work in "in body"?

[04:12:03.0000] <hsivonen>
I was missing something important

[04:13:00.0000] <hsivonen>
nothing to see here

[04:13:01.0000] <hsivonen>
annevk: I was missing the details of me own stack search optimization

[04:13:02.0000] <hsivonen>
s/me/my/

[04:35:00.0000] <hsivonen>
is it recommended to keep the table tainting data on the element stack or to keep a smaller separate taint stack?

[04:36:00.0000] <Hixie>
i would just toggle a bit on the element itself

[04:37:00.0000] <annevk>
i've done it on the element stock, as Hixie said

[04:37:01.0000] <annevk>
that seems to work good for nested tables, etc.

[04:37:02.0000] <Hixie>
i hate the tainted stuff

[04:37:03.0000] <Hixie>
but i didn't see another solution

[04:38:00.0000] <hsivonen>
but that causes excessive stack traversal, doesn't it?

[04:38:01.0000] <hsivonen>
compared to constant-time inspection of the top of a taint stack

[04:39:00.0000] <annevk>
your idea would require making sure the taint stack is always correct

[04:39:01.0000] <annevk>
which might be tricky with nested tables

[04:39:02.0000] <annevk>
<table>X<tr><td><table></table></td> </table>

[04:39:03.0000] <hsivonen>
that depends on how many different cases there are where a table comes off the stack

[04:40:00.0000] <annevk>
that becomes "X <table>..." iirc

[04:40:01.0000] <annevk>
though spaces in the inner <table> should not be moved

[04:40:02.0000] <Hixie>
oh you really mean how do you keep track fo the "current table"

[04:40:03.0000] <Hixie>
and the answer is, yeah, optimise it to a separate stack

[04:41:00.0000] <Hixie>
i believe you can only pop a table using <table> or </table>, but i may be wrong

[04:41:01.0000] <annevk>
that could work, yes

[04:41:02.0000] <hsivonen>
hmm. let's see if an unoptimized impl. is good enough

[04:41:03.0000] <annevk>
not done in our python impl

[04:42:00.0000] <annevk>
hmm, two implementations not doing namespaces in the Selectors API so far...

[04:42:01.0000] <annevk>
hixie might have been on to something :)

[04:43:00.0000] <Hixie>
:-)

[04:44:00.0000] <Hixie>
btw i think you may have been onto something with dropping multiple views

[04:44:01.0000] <Hixie>
if you want support for that, i'm happy to give it to you

[04:44:02.0000] <annevk>
i currently specced it, deferring definitions of "view" and "default view" to HTML 5 :)

[04:45:00.0000] <Hixie>
hah

[04:52:00.0000] <Hixie>
bed time

[04:52:01.0000] <Hixie>
nn

[04:53:00.0000] <annevk>
g'n

[06:31:00.0000] <Philip`>
Hixie: http://philip.html5.org/data/encoding-detection.svg shows the number of bytes required for the encoding detector

[06:33:00.0000] <annevk>
nice

[06:33:01.0000] <Dashiva>
What's the value at 4096?

[06:33:02.0000] <annevk>
the SVG looks pretty complex though

[06:35:00.0000] <Philip`>
Dashiva: 99.2%, I think

[06:38:00.0000] <Philip`>
annevk: Blame Gnuplot :-p

[06:39:00.0000] <Philip`>
The biggest jump seems to be around 90, which is where people are saying <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=windows-1252"> etc

[06:40:00.0000] <Philip`>
The worst was http://www.the-movie-times.com/thrsdir/actress/actressProfiles.mv?gclose which requires 90KB

[06:41:00.0000] <Dashiva>
Starts with a close tag, nice

[06:42:00.0000] <Dashiva>
And two sets of <html><head>etc...

[06:44:00.0000] <Philip`>
The are some other small spikes where people are doing doctype + html + head + meta

[06:44:01.0000] <Philip`>
which all makes sense and is not unexpected

[06:46:00.0000] <hsivonen>
Philip`: I don't see any line in the .svg in Firefox 3 or in Safari 3

[06:47:00.0000] <hsivonen>
it's another one of those SVG pages that makes safari autoquit on me

[06:47:01.0000] <hsivonen>
Opera renders it. weird

[06:47:02.0000] <annevk>
currentColor bug in Firefox maybe?

[06:48:00.0000] <annevk>
it uses  color:red; stroke:currentColor;  to render the red color

[06:48:01.0000] <annevk>
/me remembers Firefox had such a bug

[06:48:02.0000] <Philip`>
hsivonen: Works for me in 2008030604 Minefield/3.0b5pre

[06:48:03.0000] <hsivonen>
that would explain it

[06:48:04.0000] <Philip`>
and in 2.0.0.12

[06:49:00.0000] <hsivonen>
oh. my build is out of date

[06:49:01.0000] <hsivonen>
I'm using beta3

[06:49:02.0000] <hsivonen>
seems to be the latest beta still, though

[06:50:00.0000] <Philip`>
Oops, my encoding detector didn't ignore comments

[06:50:01.0000] <Philip`>
/me wonders if there are test cases somewhere

[06:51:00.0000] <Philip`>
Oh, they're in a hard to parse format so I won't bother

[06:52:00.0000] <Philip`>
and they don't match the current spec

[06:53:00.0000] <annevk>
hsivonen, you should download a nightly then i guess

[06:57:00.0000] <Philip`>
I see BOMs on zero pages

[07:01:00.0000] <annevk>
is there an easy way to get a non-HTML element in IE?

[07:02:00.0000] <zcorpan>
colon in tag name?

[07:05:00.0000] <annevk>
if anyone has a better name for boolean = window.media.query(mediaquery) please let me know

[07:05:01.0000] <annevk>
i'm thinking of isQueryApplicable or something like that

[07:06:00.0000] <annevk>
or maybe it should be boolean window.media.supportsMedia(mediaquery)

[07:07:00.0000] <annevk>
s/Media/Medium/

[07:07:01.0000] <annevk>
let me know

[07:07:02.0000] <annevk>
supportsMedium seems best so far, quite consistent with CSSOM too

[07:08:00.0000] <Philip`>
Should HTML5 look for e.g. <?xml version="1.0" encoding="ISO-8859-2"?> when finding the encoding?

[07:08:01.0000] <Philip`>
That would make e.g. http://bajkoland.com.pl/ work correctly

[07:08:02.0000] <aroben>
annevk: window.media.matchesQuery(mediaQuery) ?

[07:08:03.0000] <zcorpan>
hasQuery?

[07:09:00.0000] <annevk>
reason for the suggestion to remove query is http://dev.w3.org/csswg/cssom/#medialist btw

[07:10:00.0000] <annevk>
appendMedium / deleteMedium

[07:10:01.0000] <annevk>
aroben, yeah, something like that sounds better

[07:10:02.0000] <annevk>
so either matchesQuery or matchesMedium

[07:11:00.0000] <aroben>
annevk: is there a difference between a medium and a query?

[07:12:00.0000] <annevk>
medium takes a media query

[07:12:01.0000] <annevk>
that would be the case for either API

[07:12:02.0000] <annevk>
it's just that medium is already used

[07:13:00.0000] <aroben>
annevk: still not sure I understand the distinction

[07:13:01.0000] <annevk>
there's none, it's just a question of what name would be better

[07:14:00.0000] <aroben>
annevk: window.media implements MediaList?

[07:14:01.0000] <annevk>
noo

[07:14:02.0000] <aroben>
/me clearly needs to do some reading

[07:15:00.0000] <qwert666>
Hi

[07:15:01.0000] <annevk>
my idea was that since MediaList.appendMedium already takes a media query it might make sense to call the x in window.media.x matchesMedium

[07:15:02.0000] <annevk>
so that authors get somewhat consistently named APIs

[07:17:00.0000] <aroben>
annevk: seems like it should be "matchMedium" since "media" is plural

[07:17:01.0000] <aroben>
annevk: though that sounds like of strange too

[07:18:00.0000] <annevk>
yeah, but it's probably better than just query()

[07:20:00.0000] <aroben>
annevk: agreed, especially since query is both a noun and a verb

[07:21:00.0000] <zcorpan>
Philip`: i wouldn't like it, but it might be interesting to know how much it fixes and how much it breaks

[08:04:00.0000] <annevk>
Philip`, don't really like that either and I believe that IE doesn't do it

[08:04:01.0000] <annevk>
otoh, if it makes more sites work... grmbl

[08:16:00.0000] <Philip`>
http://msdn2.microsoft.com/en-us/library/cc197026(VS.85).aspx - "Other browsers may return strings specific to themselves, for example "Opera" or "Mozilla"."

[08:16:01.0000] <Philip`>
At least they're not suggesting to use "Firefox" and making other Gecko users unhappy

[08:17:00.0000] <annevk>
i think for a while we said IE there

[08:17:01.0000] <Philip`>
In DocumentCompatibleInfo?

[08:18:00.0000] <annevk>
for userAgent

[08:18:01.0000] <Philip`>
That seems to be API for the new X-UA-Compatible thing

[08:18:02.0000] <annevk>
maybe I'm misunderstanding something

[08:18:03.0000] <annevk>
oh ok

[08:18:04.0000] <annevk>
ooh

[08:18:05.0000] <annevk>
X-UA-Compatible is evil

[08:19:00.0000] <Philip`>
(found via http://msdn2.microsoft.com/en-us/library/cc304071(VS.85).aspx )

[08:20:00.0000] <annevk>
:after Pseudo-class lol

[08:21:00.0000] <Lachy>
http://www.wpdfd.com/issues/86/html_the_foundation_of_the_web/

[08:21:01.0000] <Lachy>
that's a really good article

[08:24:00.0000] <Philip`>
http://msdn2.microsoft.com/en-us/library/cc288123(VS.85).aspx - "IHTMLWindow6" - they do quite like versioning

[08:28:00.0000] <annevk>
minimalitis ftw

[08:31:00.0000] <zcorpan>
yeah, minimalitis is cool ;)

[09:06:00.0000] <annevk>
hmm, http://intertwingly.net/blog/2008/03/07/Design-By-Attrition#c1204908912 is getting too cryptic

[09:06:01.0000] <annevk>
/me -> supermarket

[09:10:00.0000] <svl>
invite Sam to help edit?

[09:15:00.0000] <Philip`>
It's comparatively easy for IE to support HTML namespaces, since they don't support XHTML and so they can (and do) have a non-XML-DOM API for their namespaces, whereas other browsers want to keep HTML and XHTML as similar as possible

[09:59:00.0000] <annevk>
svl, edit what?

[10:00:00.0000] <annevk>
Philip`, the other problem is that pages depend on how <foo:bar> works

[10:00:01.0000] <annevk>
live.com uses IE namespaces for instance if I remember correctly and relies on other browers to do things in a different way

[10:04:00.0000] <Philip`>
annevk: I assume it's depending mostly on how <foo:bar> works in the DOM, rather than just on how it's parsed

[10:04:01.0000] <annevk>
also on how it's parsed

[10:04:02.0000] <annevk>
<html xmlns:web

[10:05:00.0000] <Philip`>
Does it rely on <ns:foo/><ns:bar/> being adjacent in IE but being parent-child in other browsers?

[10:05:01.0000] <annevk>
i wouldn't expect that, but I don't know

[10:06:00.0000] <Philip`>
How else would it depend on how it's parsed?

[10:06:01.0000] <annevk>
I missed "just" in your above sentence btw

[10:06:02.0000] <annevk>
so I guess I agree :)

[10:22:00.0000] <annevk>
/me tries asking one more time about where all this "namespaced" HTML content will come from

[10:29:00.0000] <svl>
annevk: The way I interpreted Sam's "us" and "we" remark was that even though there's strong requests coming from the field, whatwg editors (e.g. you and hixie) seem to be ignoring it. 

[10:29:01.0000] <svl>
And even though you're not ignoring it, and merely don't see a good solution yet, you also don't have time to really spend on finding a solution, on account of all the other things you're editing, and so the final specification will (in his view) be decided by inactivity, rather than design.

[10:29:02.0000] <svl>
The big bottleneck is lack of editors (see also that google geolocation api proposal). So maybe that's something where he can help out. I don't know how any spec for namespaces in HTML would be integrated or split off from other specs - but that seems to me to be something which can be worked out.

[10:34:00.0000] <annevk>
well, you see to indicate that it's not a lack of editors, but of researches :)

[10:45:00.0000] <svl>
I honestly don't know; I'm just a humble outsider with not nearly enough domain knowledge. Sam seems to believe that there's been enough research to move forward, though. I mostly think that rather than seeing you two clash on this, his strong belief in the necessity of a spec here is something which could be used to actually move things forward; entice him into actually doing the research...

[10:45:01.0000] <svl>
...that you believe is still needed and he doesn't see (yet?). Which is probably easiest when starting from a concrete proposal...

[10:47:00.0000] <annevk>
i don't get how he goes from demand for silverlight to demand for namespaced HTML

[10:48:00.0000] <svl>
Does that really matter, though?

[10:49:00.0000] <annevk>
if there's no demand, why should we add it?

[10:54:00.0000] <svl>
Because there's small scale demand (e.g. the experiments Sam is doing himself), and enough people seeing opportunity which they believe will almost certainly translate into demand? Because it can't hurt to have other people explore options more fully?

[10:55:00.0000] <svl>
I understand it won't have priority for you personally if you don't see that demand, but you can still enable forward movement...

[11:01:00.0000] <svl>
/me guesses he's basically trying to encourage you to say something like Jeff did in his latest comment.

[11:01:01.0000] <svl>
Anyway, I'm out for a bit.

[11:02:00.0000] <annevk>
kk

[11:02:01.0000] <annevk>
/me ponders

[11:04:00.0000] <Philip`>
Does http://philip.html5.org/misc/xmlns-dom.html get double-spaced lines in IE6/IE7 on Windows?

[11:04:01.0000] <Philip`>
(It does in IE8 on Windows, but not in IE6 on Linux)

[11:04:02.0000] <Philip`>
(and not in Firefox or Opera on Linux)

[11:04:03.0000] <billmason>
No, I'm seeing single space in IE6/Windows XP.

[11:05:00.0000] <billmason>
Double space in IE8 in IE7 emulation mode, which is the only IE7 I have at hand.

[11:06:00.0000] <Philip`>
Okay, thanks

[11:06:01.0000] <billmason>
np

[11:06:02.0000] <annevk>
single space on Linux

[11:06:03.0000] <annevk>
IE7

[11:07:00.0000] <Philip`>
Does IE8's IE7 emulation actually work like IE7, or does it work the same as IE8 with the IE7 meta compatibility flag?

[11:07:01.0000] <annevk>
firefox is fixing da parsing bug

[11:07:02.0000] <annevk>
yay yay yay

[11:07:03.0000] <Philip`>
(where "IE8 with the IE7 meta compatibility flag" includes various bugs introduced in IE8, so it's not just a clone of the IE7 engine)

[11:08:00.0000] <billmason>
Not sure; haven't really hammered on it that much yet.

[11:08:01.0000] <annevk>
i'd expect IE8 with compat flag

[11:08:02.0000] <annevk>
otherwise they'd have 5 engines

[11:09:00.0000] <Philip`>
(Try <meta http-equiv=x-ua-compatible content=ie=7><foo xmlns=bar> to see the bug I'm thinking of)

[13:56:00.0000] <annevk>
/me wonders if <datagrid> is too generic

[14:01:00.0000] <Hixie>
how so?

[14:01:01.0000] <Hixie>
it's basically <xul:treegrid>

[14:02:00.0000] <Hixie>
Philip`: dude that graph is the awesomeness

[14:02:01.0000] <Hixie>
and it seems 512 was a particularly good choice

[14:03:00.0000] <Hixie>
but i think we'll increase it to 2048

[14:03:01.0000] <Hixie>
Philip`: can you make a lin-log version of that graph? (log vertically)

[14:04:00.0000] <Philip`>
I suppose a useful amount to wait for is the first one or two response packets, but there's no way to tell how that corresponds to document size because the headers are variable length

[14:05:00.0000] <Hixie>
well in practice i doubt browsers are going to pay attention to our recommendation

[14:05:01.0000] <Hixie>
personally i would just use whatever data you have in the first 150ms or so

[14:05:02.0000] <Hixie>
maybe even less

[14:06:00.0000] <Hixie>
that is, i would only wait as long as the wait doesn't add real overhead to the render time

[14:06:01.0000] <annevk>
i don't quite get that concern because until you have data how can you render?

[14:07:00.0000] <annevk>
re: datagrid, it seems to be for tree and table like widgets, but maybe that's ok

[14:07:01.0000] <gsnedders>
Philip`, Hixie: what graph?

[14:07:02.0000] <Philip`>
Hixie: Something like http://philip.html5.org/data/encoding-detection-log.svg ?

[14:08:00.0000] <Philip`>
gsnedders: http://philip.html5.org/data/encoding-detection.svg

[14:08:01.0000] <Dashiva>
0.001 is a really useful point :)

[14:16:00.0000] <Philip`>
Dashiva: That's still an integer number of pages :-)

[14:17:00.0000] <annevk>
how many sites without the right <meta> ?

[14:18:00.0000] <Philip`>
What is "the right <meta>"?

[14:19:00.0000] <annevk>
<meta content=...charset...> or <meta charset=...>

[14:20:00.0000] <Philip`>
126989 total, 89541 with <meta content>, 171 with <meta charset>

[14:21:00.0000] <Philip`>
Sniffer apparently finds 89695

[14:21:01.0000] <Philip`>
(with <meta something>)

[14:25:00.0000] <Philip`>
(The ones not found by the sniffer include <meta http-equiv="Content-Type"content="text/html; charset=windows-1252">, <meta http-equiv="Content-Type"content="text/html; charset=iso-8859-2">, <meta http-equiv="Content-Type"content="text/html; charset=iso-8859-1"> and <meta http-equiv="Content-Type"content="text/html; charset=iso-8859-1">

[14:25:01.0000] <Philip`>
so, uh, the first four I looked at are all exactly the same problem

[14:25:02.0000] <Philip`>
/me smells a pattern

[14:29:00.0000] <Hixie>
Philip`: hmm, i guess i should have suggested log on the horizontal axis

[14:32:00.0000] <Philip`>
Hixie: Like http://philip.html5.org/data/encoding-detection-log.svg (reloaded)?

[14:33:00.0000] <Hixie>
yeah that's more like it

[14:33:01.0000] <Hixie>
thanks

[14:33:02.0000] <Dashiva>
What if you made it inverse log towards 100

[14:33:03.0000] <Hixie>
512 really was a good choice

[14:33:04.0000] <Hixie>
completely by chance though :-)

[14:34:00.0000] <Hixie>
me posted on sam's blog

[14:34:01.0000] <Philip`>
Dashiva: Exponential?

[14:35:00.0000] <Dashiva>
Yeah

[14:38:00.0000] <Philip`>
I'm not entirely sure how to do that sanely

[14:38:01.0000] <Philip`>
You can just zoom in on the graph anyway :-p

[15:07:00.0000] <jgraham>
couldn't you just do 100-% of sniffable pages and then make the graph log-log?

[15:09:00.0000] <Hixie>
sorry Philip`, didn't mean to start something :-)

[15:09:01.0000] <annevk>
http://intertwingly.net/blog/2008/03/07/Design-By-Attrition#c1204929970

[15:12:00.0000] <jgraham>
I don't get that thread. Usually Sam seems amenable to pitching in when he wants a problem solved. Here less so.

[15:13:00.0000] <annevk>
all i get is snappy responses and no real answers

[15:13:01.0000] <annevk>
i won't bite next time, i hope

[15:14:00.0000] <Hixie>
/me replies

[15:14:01.0000] <Hixie>
i don't get it though

[15:14:02.0000] <Hixie>
he keeps bringing this up

[15:14:03.0000] <Hixie>
but never responds to requests for clarification

[15:15:00.0000] <Philip`>
I suppose http://philip.html5.org/data/encoding-detection-loglog.svg almost makes sense, though it hits a rendering bug in KPDF

[15:15:01.0000] <Philip`>
I'm not sure what that graph is useful for, though

[15:17:00.0000] <jgraham>
Well it tells you that for every factor of 2 you increase the number of bytes above ~256 you get an approximately equal decrease in the number of incorrectly sniffed pages

[15:17:01.0000] <jgraham>
So there is no obvious sweet spot

[15:20:00.0000] <annevk>
Hixie, do you know that if you use min(x, x) syntax in your spec you need some kind of reference?

[15:20:01.0000] <Hixie>
hm?

[15:20:02.0000] <Philip`>
min(x, x) seems a quite verbose way of writing x

[15:21:00.0000] <annevk>
min(x, max(y, z))

[15:21:01.0000] <annevk>
is using such constructs acceptable mixed with prose or is it considered pseudo-code?

[15:22:00.0000] <Philip`>
Is x+y pseudo-code?

[15:22:01.0000] <Hixie>
annevk: oh you are asking whether i think one needs a reference, sorry, i misunderstood what you were asking


2008-03-10
[04:57:00.0000] <gsnedders>
<http://diveintomark.org/archives/2008/03/09/no-fury-like-dracon-scorned#comment-11418> — and someone asking whether he means it

[04:58:00.0000] <annevk>
yeah, funny

[04:59:00.0000] <annevk>
although the person asking if he means it points to a page talking about XML

[04:59:01.0000] <annevk>
I wonder if that person doesn't realize that that's XML-as-HTML or something

[05:10:00.0000] <gsnedders>
annevk: huh? what's XML-as-HTML?

[05:11:00.0000] <annevk>
anything XML (XHTML in this case) with a text/html media type...

[05:12:00.0000] <gsnedders>
annevk: I mean, in that context

[05:12:01.0000] <gsnedders>
annevk: the post he links to is about actual XML, Sam's blog that caused the issue is XML. What am I missing?

[05:12:02.0000] <annevk>
he points to something else in his comment

[05:12:03.0000] <annevk>
noah

[05:12:04.0000] <gsnedders>
annevk: that's about actual XML

[05:13:00.0000] <gsnedders>
annevk: it's all about things breaking due to trackbacks (which have no defined encoding)

[05:13:01.0000] <annevk>
no it's not

[05:13:02.0000] <annevk>
those pages have a text/html media type

[05:13:03.0000] <gsnedders>
Or at least the example given in it is XML?

[05:14:00.0000] <gsnedders>
those ones? at the time they didn't

[05:14:01.0000] <annevk>
they did

[05:14:02.0000] <gsnedders>
oh, I'm forgetting what's there.

[05:14:03.0000] <gsnedders>
The main body of the post is about actual XML

[05:17:00.0000] <gsnedders>
annevk: Noah's point I think, is that it can happen

[07:58:00.0000] <gsnedders>
ooo… Apache 2.2.8 (unlike 2.0.54) returns 501 for a FO"O method

[08:43:00.0000] <gsnedders>
token = %x21 / %x23 - %x27 / %x2A - %x2B / %x2D - %x2E / %x30 - %x39 / %x41 - %x5A / %x5E - %x7A / %x7C / %x7E

[08:43:01.0000] <gsnedders>
RFC2616 as ABNF. It doesn't map that easily.

[09:06:00.0000] <weinig>
Hixie: ping

[09:24:00.0000] <gsnedders>
does, "If a request being parsed, the server MUST respond with 400 (Bad Request); if a response being parsed, the client MUST notify the user of the error (e.g., by displaying a graphical error message, by sounding an audible warning, by logging the error in an error log).", seem reasonable?

[09:32:00.0000] <Philip`>
Logging an error in an error log does not notify the user

[09:46:00.0000] <gsnedders>
Philip`: That's really my issue. How do I phrase it any better, though?

[09:50:00.0000] <Philip`>
What happens if there isn't a user? (e.g. if your HTTP client is part of search engine)

[09:51:00.0000] <Philip`>
(*search engine web crawler or whatever they're called nowadays)

[09:52:00.0000] <gsnedders>
true. it probably doesn't make sense to either log it then.

[09:57:00.0000] <gsnedders>
SHOULD report the error?

[09:58:00.0000] <annevk>
search engines have users too

[09:58:01.0000] <annevk>
you should probably define different classes of products though

[09:58:02.0000] <annevk>
at least for clients

[09:59:00.0000] <annevk>
so you can be specific

[10:00:00.0000] <gsnedders>
what sort of classes? … and robots?

[10:00:01.0000] <gsnedders>
what can you call the non-robot class, though?

[10:00:02.0000] <gsnedders>
user-controlled user-agent

[10:01:00.0000] <annevk>
web browsers?

[10:01:01.0000] <gsnedders>
annevk: but things like cURL too

[10:01:02.0000] <annevk>
http://www.whatwg.org/specs/web-apps/current-work/multipage/section-conformance.html#conformance

[10:49:00.0000] <weinig>
annevk: hi

[10:50:00.0000] <weinig>
annevk: Do you think that the SECURITY_ERR you define in the XHR spec will be the same one Hixie eventually defines for HTML5?

[11:11:00.0000] <Hixie>
weinig: pong

[11:12:00.0000] <weinig>
hey Hixie, I was curious about the definition of a Security Exception

[11:12:01.0000] <Hixie>
yeah

[11:12:02.0000] <Hixie>
dunno yet

[11:12:03.0000] <Hixie>
probably the same as xhr's

[11:12:04.0000] <weinig>
Hixie: ok, that's fair

[11:13:00.0000] <weinig>
Hixie: so adding it to the list of Core DOM ones

[11:13:01.0000] <weinig>
as numero 18

[11:14:00.0000] <weinig>
Hixie: Firefox currently uses code 1000 and Opera uses code undefined for Canvas tainting security exceptions

[11:16:00.0000] <annevk>
weinig, that's my plan anyway :)

[11:16:01.0000] <SadEagle>
weinig: heh, I used INVALID_ACCESS_ERR :-)

[11:18:00.0000] <Hixie>
weinig: 18 seems fair to me, it's listed on http://wiki.whatwg.org/wiki/Exception_Codes

[11:22:00.0000] <weinig>
Hixie: cool

[12:07:00.0000] <annevk>
hsivonen, re: "elements are case-sensitive", for real? that's not really consistent

[12:08:00.0000] <hsivonen>
annevk: if we were dealing only with MathML, I'd agree with you

[12:08:01.0000] <Hixie>
i wonder if IE's implementation of namespaces is actually going to be a problem for IE implementing what hsivonen is suggesting

[12:09:00.0000] <annevk>
IE would need an XML DOM for HTML... that might be tricky for them

[12:09:01.0000] <annevk>
"XML DOM"

[12:09:02.0000] <hsivonen>
annevk: but keeping DOM consistency with camel casing is not feasible with allowing the SVG WG do their thing without a lookup table in the parser

[12:10:00.0000] <Hixie>
lookup table it is, then ;-)

[12:10:01.0000] <hsivonen>
annevk: other than case-sensitivity, how far did my email go off the rails?

[12:10:02.0000] <Hixie>
this namespace thing is gonna suck so much. whatever i end up doing, 70% of people will be pissed at me

[12:12:00.0000] <annevk>
rest seems fine

[12:12:01.0000] <hsivonen>
annevk: thanks

[12:12:02.0000] <annevk>
Hixie, at least 90% of the Web community won't care :)

[12:13:00.0000] <Philip`>
Hixie: write multiple competing specifications, so that everyone is happy with at least one, and then let implementors choose which one will survive

[12:13:01.0000] <Philip`>
and then abuse will be aimed at implementors for making the wrong choice, rather than at you

[12:16:00.0000] <Dashiva>
Nah, he's the one who'll have to enter it into the standard :)

[12:18:00.0000] <Hixie>
Philip`: heh

[12:20:00.0000] <Hixie>
man i wish people would use the '-- ' signature convention

[12:20:01.0000] <Hixie>
i'm tired of having to cut out signatures :-P

[12:25:00.0000] <Hixie>
good lord

[12:25:01.0000] <Hixie>
/me cuts out a huge discussion on the relative merits of <dl> vs <table>

[12:39:00.0000] <annevk>
hsivonen, so my thinking is that a hardcoded lookup table is not that bad as new elements will always require some work

[12:40:00.0000] <hsivonen>
annevk: that's true

[12:41:00.0000] <Dashiva>
What if: SVG had used lowercase

[12:41:01.0000] <Dashiva>
Would things be a lot easier, or just a tiny bit?

[12:41:02.0000] <annevk>
tiny bit

[12:42:00.0000] <annevk>
lookup tables are not intrinsically hard 

[12:42:01.0000] <annevk>
it would be a lot better though, from a consistency point of view with the rest of the Web platform

[12:43:00.0000] <Philip`>
New elements may require only work that can be emulated by a DOM-manipulating script library for UAs that don't properly support the new feature yet

[12:43:01.0000] <Philip`>
but that doesn't work if the new element won't be parsed properly

[12:45:00.0000] <annevk>
so introduce lowercase elements :)

[12:59:00.0000] <virtuelv>
tangentially relevant to html 5, http://schrodinger.sourceforge.net/press/DiracAnnounce060308.html

[13:01:00.0000] <Dashiva>
virtuelv: You mean the encoding error? ;)

[13:01:01.0000] <virtuelv>
:p

[13:05:00.0000] <hsivonen>
/me notes "Dirac professional profiles are currently in the process of being standardized by SMPTE as VC-2 and standardization of full Dirac is planned for this year. "

[13:06:00.0000] <annevk>
that's better than Ogg Theora, no?

[13:07:00.0000] <roc>
yeah

[13:07:01.0000] <roc>
patent status unknown, though

[13:07:02.0000] <roc>
and likely to be bad

[13:08:00.0000] <annevk>
I thought they claimed they had that covered somehow?

[13:08:01.0000] <annevk>
probably too good to be true

[13:09:00.0000] <roc>
not as far as I know

[13:09:01.0000] <roc>
theora's also not looking good

[13:09:02.0000] <annevk>
"While the BBC own some patents on Dirac, they have irrevocably granted a royalty-free licence for their Dirac-related patents to everyone. In addition, the BBC have checked (by extensive patent search) that Dirac does not infringe any third party patents, enabling the public to use Dirac for any imaginable purpose."

[13:10:00.0000] <annevk>
from Wikipedia

[13:10:01.0000] <roc>
oh really?

[13:10:02.0000] <roc>
interesting

[13:10:03.0000] <annevk>
I remember having read that on the Dirac FAQ too

[13:10:04.0000] <virtuelv>
I think the patent thing was one of Dirac's driving forces

[13:10:05.0000] <roc>
I'll ask Chris to look into it

[13:11:00.0000] <hsivonen>
annevk: see Wikipedia talk page

[13:11:01.0000] <roc>
but I'm sure it's already been looked into so the situation can't be as simple as that

[13:11:02.0000] <Hixie>
my understanding is that dirac isn't an especially compelling codec, but i'm certainly no expert

[13:11:03.0000] <annevk>
http://dirac.sourceforge.net/faq.html#a6B

[13:12:00.0000] <annevk>
sketches it slightly differently

[13:13:00.0000] <jgraham_>
Hixie: Did you say you were working tables at the moment? Will it be any help if I post the latest iteration of the smart span algorithm for table headers to the list sooner rather than later?

[13:13:01.0000] <Hixie>
yes

[13:13:02.0000] <Hixie>
and yes

[13:13:03.0000] <hsivonen>
unsourced statements on wikipedia aren't of best thing for proving absence of patent threats

[13:13:04.0000] <hsivonen>
s/of best/the best/

[13:13:05.0000] <jgraham_>
hsivonen: It's nice to come home and find that someone has already written a long email for you :)

[13:14:00.0000] <jgraham_>
s/for you/so you don't have to/

[13:14:01.0000] <hsivonen>
jgraham_: :-)

[13:14:02.0000] <jgraham_>
Hixie: OK, will do

[13:16:00.0000] <jwalden>
need the baseline necessarily be hyper-compelling?

[13:16:01.0000] <jwalden>
something moderately competitive, even if not top-of-the-line, seems good enough

[13:16:02.0000] <jwalden>
at least for starters

[13:18:00.0000] <gsnedders>
jwalden: it needs to be good enough to get implemented, and be known not to have patents

[13:19:00.0000] <roc>
/me whistles

[13:19:01.0000] <roc>
/me wishes this whole issue wasn't mired in secrecy

[13:20:00.0000] <jwalden>
finding codecs with implementations isn't really a problem

[13:21:00.0000] <jwalden>
and they claim they're on the patent thing

[13:21:01.0000] <jwalden>
or we can fud ourselves into doing nothing

[13:22:00.0000] <roc>
we're beyond FUD

[13:27:00.0000] <gsnedders>
"The tokeniser/parser MUST stop processing immediately. If a request is being parsed, the server MUST respond with 400 (Bad Request); if a response is being parsed, the client SHOULD report the error." — Does that sound all right?

[13:44:00.0000] <Philip`>
What does "report the error" mean?

[13:48:00.0000] <gsnedders>
yeah, I thought copying what XML says probably wasn't the best idea :)

[14:36:00.0000] <Philip`>
http://diveintomark.org/archives/2008/03/09/no-fury-like-dracon-scorned#comment-11430 - U+FFFF wins again!

[14:38:00.0000] <gsnedders>
Philip`: it's too easy. it's not even fun trying nowadays

[14:39:00.0000] <Philip`>
I still can't resist when someone makes an explicit challenge :-(

[14:39:01.0000] <gsnedders>
Philip`: So childish :P

[14:39:02.0000] <annevk>
Philip`, awesome :)

[14:39:03.0000] <hasather>
haha

[14:40:00.0000] <hsivonen>
Philip`++

[14:41:00.0000] <annevk>
did you take a screenshot?

[14:42:00.0000] <Philip`>
annevk: No

[14:43:00.0000] <gsnedders>
http://stuff.gsnedders.com/plasmasturm_U+FFFF.pdf

[14:44:00.0000] <Philip`>
I'm not sure Safari's error reporting is an improvement over Firefox's or Opera's

[14:44:01.0000] <gavin_>
did that guy take down his site because of the problem you caused?

[14:44:02.0000] <Philip`>
I don't get that pink box when I look at it myself, but the error text is similarly unreadable

[14:45:00.0000] <gsnedders>
make that .png

[14:45:01.0000] <gsnedders>
paparazzi is less than ideal at exporting to pdf

[14:45:02.0000] <hsivonen>
http://hsivonen.iki.fi/screen/plasmasturm-ffff.png

[14:45:03.0000] <hsivonen>
a .png

[14:46:00.0000] <gsnedders>
http://stuff.gsnedders.com/plasmasturm_U+FFFF.png

[14:46:01.0000] <gsnedders>
a .png :)

[14:47:00.0000] <Philip`>
At least the page renders fine in Konqueror

[14:48:00.0000] <roc>
doesn't that make Konqueror evil?

[14:48:01.0000] <Philip`>
Yes

[14:48:02.0000] <Philip`>
(As far as I'm aware, it uses a text/html parser for application/xhtml+xml)

[14:48:03.0000] <SadEagle>
/me hides

[14:48:04.0000] <SadEagle>
I blame QXML!

[15:02:00.0000] <jgraham__>
/me wonders where he lost all his table headers tests

[15:03:00.0000] <jgraham__>
Lesson learnt: revision control is less useful when you've only made imaginary checkins

[15:06:00.0000] <Dashiva>
Kinda like how keeping backups on the same drive as the original data isn't really backed up

[15:17:00.0000] <Philip`>
(I suppose I should refrain from pointing at http://blog.codedread.com/?s=%00 and http://golem.ph.utexas.edu/cgi-bin/MT-3.0/mt-search.cgi?Template=%00 )

[15:21:00.0000] <jgraham__>
Philip`: Clearly someone needs to flip your evil bit :)

[15:22:00.0000] <gsnedders>
/me flips Philip`'s evil bit

[15:29:00.0000] <Philip`>
I'm not sure whether that means my evil bit is currently set or not

[15:30:00.0000] <jgraham__>
Does that make it an evil qbit?

[15:33:00.0000] <Hixie>
/me looks at Philip` to collapse his wavefunction

[15:34:00.0000] <Philip`>
/me refuses to collapse, and instead entangles Hixie

[15:34:01.0000] <Hixie>
yikes

[15:34:02.0000] <gsnedders>
this isn't looking good.

[15:35:00.0000] <SadEagle>
hixie's evil bit is always set, though

[15:35:01.0000] <Hixie>
/me wonders what would happen if he looked at _himself_

[15:35:02.0000] <Dashiva>
Hixie: Ask the cat

[15:36:00.0000] <Hixie>
SadEagle: so that means Philip`'s is unset, right?

[15:36:01.0000] <Hixie>
assuming conservation of evilness

[15:36:02.0000] <SadEagle>
aren't you the physicist here, or am I confusing things?

[15:36:03.0000] <Hixie>
jgraham__ and Philip` are more physicsy, i

[15:36:04.0000] <Hixie>
have been out of hte loop for years

[15:36:05.0000] <Philip`>
Conservation of evilness doesn't tell you anything unless you know how much evil the closed system started with

[15:37:00.0000] <Hixie>
when then how does entangling me help?

[15:37:01.0000] <gsnedders>
/me needs to decide whether to continue to be physicsy after next year

[15:37:02.0000] <Philip`>
I'm not physicsy, I only did it for a year and then didn't mind abandoning it :-)

[15:37:03.0000] <Hixie>
wait i thought you were phiscsy right now?

[15:38:00.0000] <Philip`>
I'm computery

[15:38:01.0000] <Hixie>
oh ok

[15:38:02.0000] <jgraham__>
I only did one course on quantum computation, which was a while ago

[15:39:00.0000] <Philip`>
/me just about understood some of the quantum maths stuff, but totally failed to follow the explanations of quantum algorithms

[15:39:01.0000] <jgraham__>
But I think if Hixe and Philip have entangled qubits you could entangle them to have the same value or different values

[15:40:00.0000] <jwalden>
mm, qubits

[15:40:01.0000] <jwalden>
/me longs to play qubit in a Scrabble game

[15:40:02.0000] <gsnedders>
/me has never done quantum physics/computation

[15:40:03.0000] <Philip`>
You could have an entangled state like (|00>+|11>)/sqrt(2) so they'd both be the same value, or like (|01>+|10>)/sqrt(2) so they'd be different

[15:40:04.0000] <gsnedders>
and the only time I've tried to get my head around it, I came out understanding less than when I started

[15:42:00.0000] <Philip`>
gsnedders: It's kind of fun in a slightly insane way :-)

[15:43:00.0000] <gsnedders>
/me ought to email you and James about May, now I know exactly when I'll be around

[15:43:01.0000] <Philip`>
/me has no idea exactly when he'll be around

[15:44:00.0000] <annevk>
Hixie, on the Window IDL frames should be moved under "self"

[15:44:01.0000] <annevk>
Hixie, it's not about other browsing contexts per se as it simply points to itself

[15:44:02.0000] <Philip`>
(except that I'm rarely not around, and tend not to have any kind of inflexible scheduling, so things tend to be alright)

[15:44:03.0000] <gsnedders>
Philip`, jgraham__: the Saturday will be taken up more or less entirely with my Grandmother's memorial service, and being with family — the only possible time would be before lunch, but I really want to head around Cam. then. I'm going back on Sunday, which leaves on Friday evening

[15:45:00.0000] <gsnedders>
s/on/only/

[15:45:01.0000] <jgraham__>
gsnedders: Friday evening will be fine for me (as in "this is long enough before May that, barring any unexpected significant event, I can make it fine")

[15:46:00.0000] <gsnedders>
jgraham__: well, if something huge comes up (or the train is _really_ late, then I couldn't go either :P

[15:47:00.0000] <gsnedders>
(but when I say _really_ late, I mean _I've never seen it that late_ late, when I've gone to Cam. by trains far too many times)

[15:47:01.0000] <Philip`>
/me is in the same situation as jgraham__

[15:48:00.0000] <gsnedders>
which leaves location, but that's probably better dealt with in May :P

[15:48:01.0000] <jgraham__>
gsnedders: Sure. Location can be improvised

[15:49:00.0000] <gsnedders>
(it would probably suit me best to have dinner/supper/whatever-you-want-to-call-it with you two)

[15:50:00.0000] <jgraham__>
Also fine.

[15:50:01.0000] <jgraham__>
(for me)

[15:50:02.0000] <Philip`>
/me sometimes calls it lunch, depending on when he wakes up

[15:50:03.0000] <gsnedders>
But there are plenty of places to eat in Cambridge

[15:50:04.0000] <gsnedders>
Philip`: oh, my mother always calls lunch/supper the wrong way around

[15:55:00.0000] <annevk>
jgraham__, looking through your code, does it work with scope=ROW ?

[15:55:01.0000] <jgraham__>
annevk: No, I noticed that bug when I wrote the email

[15:55:02.0000] <jgraham__>
I suppose I could check in the fix :)

[15:55:03.0000] <gsnedders>
/me waves good night

[15:55:04.0000] <jgraham__>
nn

[15:57:00.0000] <annevk>
i see

[16:07:00.0000] <Hixie>
annevk: send mail, i'm in meetings a lot right now

[16:15:00.0000] <annevk>
done

[16:40:00.0000] <Hixie>
thanks


2008-03-11
[17:01:00.0000] <takkaria>
Hixie: not the dreaded meetings?  I hope they're not regular ones

[18:08:00.0000] <tomg>
I stupidly wrote an email to whatwg⊙wo before I'd confirmed my list membership, will it eventually get approved? :)

[18:08:01.0000] <tomg>
or be lost forever in a rampant jungle of spam

[18:09:00.0000] <Philip`>
tomg: Things in the moderation queue never get approved

[18:14:00.0000] <tomg>
I shall resend 

[18:14:01.0000] <tomg>
ta

[22:14:00.0000] <Hixie>
/me steels himself for a flaming

[22:16:00.0000] <hober>
oh?

[22:17:00.0000] <Hixie>
the js list

[22:19:00.0000] <hober>
ahh. that's in my other emacs. looking...

[22:31:00.0000] <Hixie>
hey i hadn't seen this before http://edge-op.org/iowa/www.iowaconsumercase.org/011607/2000/PX02991.pdf

[00:44:00.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/010807/PLEX_5735.pdf is interesting too

[00:47:00.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/010807/PLEX_5803.pdf too

[00:59:00.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/010807/PLEX_5906.pdf brings up an interesting point

[01:00:00.0000] <Hixie>
one way to make the Web platform safer from proprietary embrace-and-extend attempts would be to have a certification mechanism that only certifies web pages that don't use anything proprietary

[01:00:01.0000] <Hixie>
sort of like the "Valid HTML4" buttons, but not specifically for conformance, but for lack of using anything that isn't part of the core cross-platform Web standards

[01:01:00.0000] <Hixie>
i just talk to hsivonen about this

[01:03:00.0000] <roc_>
Myhrvold is smart

[01:05:00.0000] <Hixie>
Myhrvold?

[01:06:00.0000] <hsivonen>
Hixie: the billg email about Office HTML export is interesting. 

[01:06:01.0000] <hsivonen>
especially considering the colon legacy today

[01:07:00.0000] <hsivonen>
Hixie: detecting the absence of proprietary stuff programmatically will be a hard game of whack-a-mole

[01:07:01.0000] <hsivonen>
Hixie: first, checking script API exposure statically is hard

[01:08:00.0000] <hsivonen>
Hixie: second, whitelisting standard stuff is not enough due to things like conditional comments

[01:08:01.0000] <Hixie>
it would be hard work, yes

[01:08:02.0000] <roc_>
Myhrvold sorry

[01:09:00.0000] <hsivonen>
Hixie: proprietary stuff would appear where version n of the checker wouldn't know to look and n+1 would have to blacklist that stuff

[01:09:01.0000] <roc_>
he's the primary author of PLEX_5803. The first two paragraphs are Gates, the rest is Myhrvold

[01:09:02.0000] <Hixie>
ah ok

[01:09:03.0000] <Hixie>
oh the nathan guy

[01:09:04.0000] <Hixie>
yes

[01:09:05.0000] <Hixie>
very

[01:09:06.0000] <roc_>
not long after that memo he got bored with Microsoft and left to do research on dinosaur tails

[01:10:00.0000] <Hixie>
seems to have respect issues with other employees

[01:10:01.0000] <Hixie>
but that's another story

[01:10:02.0000] <Hixie>
heh

[01:11:00.0000] <Hixie>
hsivonen: yeah, it would be difficult. might be an interesting thing to persue nonetheless, i think. :-)

[01:13:00.0000] <hsivonen>
Hixie: I doubt all schemes where software gives a Web author a badge. Software like Validator.nu works when the author uses it in order to solve his development issues privately.

[01:13:01.0000] <hsivonen>
but when you start giving out badges, the motivations of the users get distorted badly

[01:13:02.0000] <Hixie>
the problem this would be solving has, frankly, little to do with the author's own goals

[01:13:03.0000] <Hixie>
i agree that gaming the system is a tough one, though

[01:14:00.0000] <Hixie>
as in, a danger to any such scheme

[01:14:01.0000] <hsivonen>
consider accessibility checking

[01:14:02.0000] <Hixie>
it would have to be continuously monitored and maintained

[01:14:03.0000] <hsivonen>
if you really want to make an accessible site, you need to hire people

[01:14:04.0000] <Hixie>
automated accessibility checking is a non-starter.

[01:14:05.0000] <Hixie>
it's like usability checking. hell it _is_ usability checking.

[01:15:00.0000] <hsivonen>
if you want to give the appearance of having done something in the hope that you don't get sued or in the hope of selling stuff to non-disabled buyers, you game an accessibility checker program

[01:16:00.0000] <Hixie>
yup

[01:29:00.0000] <hsivonen>
http://del.icio.us/rogerjohansson/dictatorship

[01:32:00.0000] <roc_>
ooh, nice ligatures in the header in Firefox 3!

[01:34:00.0000] <hsivonen>
http://a.viary.com/tools/ they sure are advancing on a lot of fronts simultaneously. too bad it's flash--not canvas

[01:36:00.0000] <jruderman>
ligatures on http://blog.fawny.org/2007/12/23/janefonda/ ? yeah, easy to see the difference between firefox trunk and safari 3 there

[01:36:01.0000] <jruderman>
zapfino i'm guessing (domi seems to be broken)

[01:39:00.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/122106/PLEX0_2272.pdf is funny because they very bluntly put the Web's openness in the "con" category

[01:48:00.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/122106/PLEX0_2278.pdf documents their intent to embrace-then-extend HTML

[01:55:00.0000] <annevk>
it also says to keep Office formats alive and not allow other formats as that might make it easier for people to use other software

[01:55:01.0000] <annevk>
(other format cited is HTML)

[01:56:00.0000] <Hixie>
holy shit, http://edge-op.org/iowa/www.iowaconsumercase.org/122106/PLEX0_2494.pdf suggests putting hte IE code out there to let peopl experiment with it

[01:56:01.0000] <annevk>
what is this stuff about?

[01:56:02.0000] <Hixie>
i guess that didn't go down well!

[01:56:03.0000] <Hixie>
files from Comes v. Microsoft

[01:58:00.0000] <annevk>
interesting

[02:00:00.0000] <annevk>
the embrace and extend HTML thingie also mentions Blackbird as other strategy

[02:00:01.0000] <annevk>
they're trying that one again now... it's called SilverLight

[02:00:02.0000] <hsivonen>
what was Blackbird?

[02:00:03.0000] <annevk>
similar thing to SilverLight as I understand it

[02:02:00.0000] <Hixie>
blackbird was their msn client, i believe

[02:02:01.0000] <Hixie>
aol competitor

[02:02:02.0000] <Hixie>
i may be wrong, the google probably knows

[02:02:03.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/122106/PLEX0_2658.pdf suggests they knew that IE was killing Windows years before they finally pulled the plug

[02:02:04.0000] <annevk>
wikipedia says: "Online content authoring technology developed alongside MSN 1.0 but cancelled in favor of HTML and ActiveX"

[02:02:05.0000] <Hixie>
right

[02:03:00.0000] <annevk>
from http://en.wikipedia.org/wiki/Microsoft_codenames

[02:03:01.0000] <hsivonen>
ok

[02:04:00.0000] <annevk>
"I agree that making sure applicatiosn are primarily on Windows is something we lost ... of"

[02:05:00.0000] <annevk>
"I rail against the people who want to just give things away like DirectX"

[02:06:00.0000] <annevk>
"We should have people laughing at the idea of 100% pure Java whether they wnte in JAVA or not"

[02:06:01.0000] <annevk>
s/wnte/write/

[02:07:00.0000] <annevk>
(character recognition is not perfect)

[02:15:00.0000] <Hixie>
IE4 usability study report http://edge-op.org/iowa/www.iowaconsumercase.org/122106/PLEX0_2701.pdf

[02:15:01.0000] <Hixie>
interesting to note that they barely changed any of the things that that report lambasts

[02:17:00.0000] <hsivonen>
how many times does the U.S. legal process fax or photocopy these docs?

[02:19:00.0000] <Hixie>
yeah i love how these docs started as digital data and got utterly mangled before turning back into digital data

[02:20:00.0000] <Hixie>
some of these papers are really amusing given what Microsoft is doing with .NET/Silverlight/WPF

[02:21:00.0000] <Hixie>
like, it's exactly the same thing, just 12 years later and with a different name

[02:23:00.0000] <annevk>
guess they still hae the same strategy

[02:44:00.0000] <roc_>
it's not the same thing

[02:44:01.0000] <roc_>
the funny thing is that Silverlight is Microsoft's best play right now and it's cross platform

[02:45:00.0000] <roc_>
Jim Allchin must be mad

[02:45:01.0000] <annevk>
http://simonwillison.net/2008/Mar/11/high/ how does it download scripts in parallel?

[02:46:00.0000] <annevk>
that shouldn't be possible without <script async>

[02:46:01.0000] <roc_>
it's not that hard

[02:46:02.0000] <roc_>
you parse ahead and prefetch things that look like <script> tags

[02:46:03.0000] <roc_>
we have a bug on it

[02:47:00.0000] <Philip`>
I guess that'd go wrong when the first script does document.write('<!--')

[02:47:01.0000] <Camaban>
"The HTTP 1.1 spec recommends that browsers only download two items in parallel per hostname, but the spec was written in 1999. Today?s clients and servers can support more parallel downloads, so IE8 has increased the number of downloads per hostname from 2 to 6."

[02:47:02.0000] <annevk>
yeah, that'd make parsing non-deterministic

[02:47:03.0000] <roc_>
no

[02:47:04.0000] <roc_>
you fetch optimistically

[02:48:00.0000] <roc_>
you don't actually parse or execute anything until you've finished the earlier script

[02:48:01.0000] <annevk>
<script src=hideevil.js></script><script src=evil?delete=foo></script>

[02:48:02.0000] <roc_>
yeah you could do that

[02:48:03.0000] <roc_>
feel free :-)

[02:48:04.0000] <Philip`>
Fortunately <script src> does GET and GET doesn't have side effects

[02:49:00.0000] <annevk>
hah

[02:49:01.0000] <roc_>
yeah right

[02:49:02.0000] <roc_>
BTW Blackbird was back from when MSN was building a "walled garden" like AOL

[02:50:00.0000] <roc_>
so you'd negotiate with Microsoft to get your Blackbird app installed in the MSN garden

[02:50:01.0000] <roc_>
I knew a guy at CMU who had a contract with Microsoft to get the Internet Chess Club into MSN

[02:50:02.0000] <roc_>
then MS saw the writing on the wall, cancelled the entire idea and tore up all the contracts

[02:51:00.0000] <Philip`>
/me remembers a neat 3D chat client on the old MSN

[02:51:01.0000] <Philip`>
but I don't remember anything more than its existence :-(

[02:53:00.0000] <hsivonen>
/me has never been on AOL or MSN

[02:53:01.0000] <hsivonen>
or Minitel for that matter

[02:54:00.0000] <hsivonen>
the Web is larger that any country-focused walled garden

[02:54:01.0000] <Philip`>
The web was much more boring back then

[02:59:00.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/122106/PLEX0_5879.pdf is interesting, for those who were interested in the office/IE link earlier

[02:59:01.0000] <Hixie>
roc_: how is it not the same thing?

[03:00:00.0000] <Hixie>
roc_: silverlight seems almost identical to their reaction to java, as well as their reaction to netscape

[03:00:01.0000] <roc_>
IE ended up being Windows only

[03:00:02.0000] <Hixie>
roc_: create a platform, put it on all the other platforms (mac and unix), and then pull the rug out of those when you have enough of the market

[03:00:03.0000] <annevk>
that stuff is great Hixie

[03:00:04.0000] <roc_>
IE was never really on Mac and Unix

[03:00:05.0000] <Hixie>
silverlight will be windows only too

[03:01:00.0000] <Hixie>
neither is WPF now

[03:01:01.0000] <roc_>
I'm not a big Silverlight fan, as you may be aware

[03:02:00.0000] <Hixie>
who is :-)

[03:02:01.0000] <Hixie>
apart from miguel, i mean

[03:02:02.0000] <Camaban>
my boss :|

[03:02:03.0000] <roc_>
but Silverlight looks a lot more cross-platform than IE ever did

[03:02:04.0000] <roc_>
a big part of the IE story was ActiveX

[03:02:05.0000] <annevk>
i thought some open source guy ported SilverLight

[03:03:00.0000] <annevk>
(related to mono maybe?)

[03:03:01.0000] <roc_>
annevk: are you joking with us?

[03:03:02.0000] <annevk>
iirc it is sort of cross-platform though

[03:03:03.0000] <Hixie>
roc_: silverlight is the tiny part of WPF in the same way that HTML was the tiny part of IE

[03:03:04.0000] <roc_>
I don't think so

[03:03:05.0000] <roc_>
Silverlight is the small, auto-updating download

[03:03:06.0000] <annevk>
http://www.mono-project.com/news/archive/2007/May-05.html

[03:03:07.0000] <roc_>
WPF is huge, requires .NET 3

[03:04:00.0000] <roc_>
and is slow and bloated according to the MS shippingseven blogger

[03:04:01.0000] <Hixie>
well i'm not saying their execution is any good

[03:04:02.0000] <Hixie>
i'm just describing the theory

[03:04:03.0000] <roc_>
I agree there are multiple ways they could leverage Silverlight in the future

[03:05:00.0000] <roc_>
but right now it does not protect Windows

[03:05:01.0000] <Hixie>
silverlight is "WPF/E"

[03:05:02.0000] <Hixie>
sure

[03:05:03.0000] <hsivonen>
so is the next step for Adobe to put Flash Player under MPL/GPL/LGPL?

[03:05:04.0000] <roc_>
silverlight is done by a different team BTW

[03:05:05.0000] <Hixie>
just like IE doesn't protect windows

[03:06:00.0000] <roc_>
IE does protect Windows because MS never shipped a compatible IE on Mac

[03:06:01.0000] <Hixie>
roc_: different team, or different division? because each opera device is done by a different team, for example, doesn't stop them being the same product :-)

[03:06:02.0000] <hsivonen>
given the Flash legacy out there, I'd like to have Gecko-native Flash support with nice integration with Cairo and the event loop

[03:06:03.0000] <Philip`>
hsivonen: About the only time I use Flash content is for watching videos, and I guess it's quite unlikely for the video codecs to be released as MPL/GPL/LGPL

[03:07:00.0000] <Hixie>
roc_: from these papers, it doesn't seem like they considered IE/Mac an incompatible alternative, they always refer to it more as a subset

[03:07:01.0000] <roc_>
it ended up being an incompatible alternative

[03:07:02.0000] <Philip`>
(I've heard Moonlight has the same problem with video, and relies on a binary component from Microsoft)

[03:07:03.0000] <roc_>
one of these memos said "why are we doing IE4 cross platform! stop that!" and they did

[03:08:00.0000] <roc_>
Philip`: that is true

[03:08:01.0000] <hsivonen>
Philip`: Flash is used awfully lot on sites that try to create a brand image

[03:08:02.0000] <hsivonen>
Philip`: it's crazy how much it is used on sites of clothing brands

[03:08:03.0000] <hsivonen>
even though a big use case for the sites of clothing sites is using a store locator when you are on the move

[03:08:04.0000] <roc_>
Hixie: the environment currently demands that a credible Internet platform be cross-platform

[03:08:05.0000] <roc_>
but two things have changed since the mid 90s

[03:09:00.0000] <roc_>
Apple is no longer going down the toilet

[03:09:01.0000] <hsivonen>
I remember a case when my mother called me from abroad and asked me to act as a voice interface to the Web in order to locate a store

[03:09:02.0000] <roc_>
and there's a big market of phones that Microsoft doesn't control

[03:09:03.0000] <hsivonen>
the relevant site used flash in a bad way

[03:09:04.0000] <hsivonen>
and I had to try three browsers until I was able to extract the information

[03:10:00.0000] <Hixie>
roc_: like i said, i'm not saying their execution is any good :-)

[03:10:01.0000] <Hixie>
roc_: it does still seem to me like they're just going through the same motions again though

[03:12:00.0000] <hsivonen>
Philip`: anyway, in order to dig into a store locator from a browsing setup that Adobe hasn't taken care of, integrated Open Source Flash would be good even without patented codecs

[03:12:01.0000] <roc_>
I think the same thinking is going on internally, but conditions are different, and not as favourable to MS

[03:13:00.0000] <roc_>
I don't see that they will be able to compromise on the cross-platform-ness of Silverlight any time soon

[03:13:01.0000] <roc_>
and if we and Adobe don't drop the ball, we can keep pushing that out

[03:14:00.0000] <roc_>
that leaves Windows unprotected indefinitely

[03:18:00.0000] <Hixie>
yeah, i agree that it's not a good position for them this time

[05:51:00.0000] <Philip`>
It's odd how http://online.wsj.com/public/page/election2008.html sends the request headers back as part of its response

[07:01:00.0000] <hendry>
http://test:test⊙bwn/ # this is probably a http issue, but i had this crazy notion earlier that these types or urls were deprecated. I guess i was wrong or?

[07:14:00.0000] <annevk>
they are

[07:20:00.0000] <hendry>
annevk: is there a reference to that somewhere?

[07:22:00.0000] <annevk>
RFC3896?

[07:22:01.0000] <annevk>
http://annevankesteren.nl/2006/02/alt#comment-6505

[07:22:02.0000] <annevk>
about showing alt= in a tooltip ^^

[07:24:00.0000] <hendry>
RFC3896 =  Definitions of Managed Objects for the DS3/E3 Interface Type ?

[07:26:00.0000] <annevk>
3986

[07:35:00.0000] <hendry>
3.2.1.  User Information # isn't the clearest passage I've ever seen. So hashes or implementations not showing the password are allowed? Bit confused.

[07:36:00.0000] <annevk>
'Use of the format "user:password" in the userinfo field is deprecated.'

[07:43:00.0000] <annevk>
roc_, if you still think ClientRect.height/width is a good idea let me know and I'll add them, they probably wouldn't make Opera 9.5 though

[08:03:00.0000] <Philip`>
Hmm, my regexp-based spec-to-OCaml compiler is not absolutely happy when the spec is all rearranged

[08:09:00.0000] <Philip`>
/me wonders why people sound optimistic about XBL2, when it seems like there's approximately no activity in implementing it

[08:12:00.0000] <krijnh>
http://code.google.com/p/xbl/ no?

[08:13:00.0000] <Philip`>
http://weblogs.mozillazine.org/roc/archives/2008/03/not_a_crossbrow.html says no

[08:14:00.0000] <krijnh>
Ah, what does he know about it

[08:14:01.0000] <krijnh>
*runs*

[08:34:00.0000] <Philip`>
From <meta> parsing: "change the encoding to the encoding encoding" sounds funny

[09:20:00.0000] <hsivonen>
Sam is right about the tiredness of the trajectory

[09:20:01.0000] <hsivonen>
too bad this issue is closely related to a rathole topic

[09:31:00.0000] <Philip`>
gsnedders: http://diveintomark.org/archives/2008/03/09/no-fury-like-dracon-scorned#comment-11446 looks a bit off

[09:31:01.0000] <gsnedders>
Philip`: isn't that the UTF-8 for U+FFFF?

[09:32:00.0000] <gsnedders>
yeah, it is. sod.

[09:32:01.0000] <Philip`>
gsnedders: I mean the bits like "That is: “?>." and "Well, let’s have a completely valid line of PHP: ."

[09:33:00.0000] <Philip`>
I love blogs that don't have a comment preview and/or don't tell you what the comment syntax is

[09:33:01.0000] <gsnedders>
ah.

[09:36:00.0000] <Philip`>
(U+FFFF is %ef%bf%bf in UTF-8, and it's the only UTF-8 sequence I've ever memorised, but I can't see what your question is referring to)

[09:38:00.0000] <gsnedders>
Philip`: well, if he doesn't even allow trackbacks I'm not particularly fused about clarifying it

[11:11:00.0000] <hsivonen>
http://blog.vlad1.com/2008/03/10/silverwhat/

[11:28:00.0000] <hsivonen>
did the correctness flag just change to force quirks with true/false flipped or was there something else?

[11:51:00.0000] <Dashiva>
hsivonen: say what?

[11:53:00.0000] <annevk>
hsivonen, it was just a renaming afaict

[11:54:00.0000] <annevk>
hsivonen, though some small changes have been made to the tokenizer

[11:57:00.0000] <hsivonen>
annevk: ok. thanks

[11:57:01.0000] <hsivonen>
Dashiva: the tokenizer changed

[12:09:00.0000] <hsivonen>
http://annevankesteren.nl/2006/11/dot-mobi#comment-6506

[12:18:00.0000] <Hixie>
man, people start debating solutions really quickly

[12:18:01.0000] <Hixie>
there's been like one or two e-mails on the problems solved by namespaced content in text/html tops

[12:19:00.0000] <Hixie>
and ironically, most of those are likely best solved by solutions that nobody has even considered

[12:19:01.0000] <Hixie>
e.g. using <script> and changing the syntax of SVG so that angle brackets use square brackets instead

[12:21:00.0000] <hsivonen>
Hixie: I should resist responding better even when questions are directed at me :-(

[12:21:01.0000] <Hixie>
no, your responses are very useful

[12:21:02.0000] <Hixie>
as are their own e-mails, by and large

[12:21:03.0000] <hsivonen>
Hixie: anyway, the thread might get back on track if you responded to Sam's last email in the thread

[12:21:04.0000] <Hixie>
cool, will see if i can respond when i get to it

[12:22:00.0000] <Hixie>
(today, i mean)

[12:22:01.0000] <hsivonen>
cool

[12:24:00.0000] <Hixie>
not clear how to reply

[12:26:00.0000] <hsivonen>
aren't there any open technical issues needing answers?

[12:26:01.0000] <hsivonen>
or research items, rather.

[12:27:00.0000] <Hixie>
the primary problem i have is that the only use cases i'm aware of are the ones you listed

[12:27:01.0000] <Hixie>
while i'm sure there must be other use cases, because if those are the only ones, then the solution i come up with is going to look a hell of a lot different than what people are talking about

[12:28:00.0000] <hsivonen>
that looks like a way to reply :-)

[12:30:00.0000] <hsivonen>
Hixie: I fail to see how you can get to a hell of a lot different if you take the constraint of being able to paste source created in an SVG editor and the requirement to have the same kind of DOM as in the XHTML+SVG case

[12:31:00.0000] <Hixie>
well, maybe no that different

[12:32:00.0000] <hsivonen>
somehow I remember flipping the boolean of the doctype token to the exact opposite once before...

[12:33:00.0000] <Hixie>
m?

[12:34:00.0000] <hsivonen>
the boolean value should be the opposite when modeling force quirks compared to modeling correctness

[12:35:00.0000] <Hixie>
oh, you're using a boolean for that

[12:35:01.0000] <hsivonen>
perhaps I should just call it dontForceQuirks to avoid breaking the interface

[12:35:02.0000] <Hixie>
i would have used constants other than "true" and "false" :-)

[12:37:00.0000] <Philip`>
The tokeniser test JSON files have true/false meaning "don't force quirks"

[12:37:01.0000] <Hixie>
ah

[12:37:02.0000] <hsivonen>
Philip`: that probably dates from before the previous flip...

[12:38:00.0000] <hsivonen>
Hixie: when you have a flag that has states "on" and "off", implementing it as a boolean is not that far-fetched...

[12:39:00.0000] <Hixie>
sure :-)

[12:39:01.0000] <Hixie>
i usually prefer using constants that map to true and false to make it clearer what they mean in argument calls

[12:39:02.0000] <Hixie>
so instead of foo(true, true, false) you have foo(doThis, doThat, doTheOther)

[12:40:00.0000] <Hixie>
question about inkscape. Does it always output un-prefixed content?

[12:40:01.0000] <Philip`>
setDoctypeCorrectness(true) seems clear enough to me

[12:40:02.0000] <Philip`>
(I tend not to call my functions foo :-p )

[12:41:00.0000] <hsivonen>
Hixie: leopard broke my inkscape, so I can't test, but IIRC, yes at least for docs started in Inkscape

[12:41:01.0000] <hsivonen>
Hixie: for SVG elements, that is

[12:41:02.0000] <Hixie>
k

[12:42:00.0000] <hsivonen>
Hixie: inkscape's own cruft (that renderers are supposed to ignore) has colons

[12:43:00.0000] <hsivonen>
Hixie: fwiw, the documentation about its own cruft on the inkscape wiki is incomplete

[12:43:01.0000] <Hixie>
shocking

[12:44:00.0000] <hsivonen>
considering the inkscape cruft and the DOM fragment serialization idea I mentioned, it would be desirable to put sodipodi: and inkscape: stuff in the right namespaces...

[12:44:01.0000] <hsivonen>
which kinda opens the door for xmlns...

[12:45:00.0000] <hsivonen>
then there's the embedded RDF stuff...

[12:45:01.0000] <Hixie>
we can't use xmlns="" itself

[12:45:02.0000] <Hixie>
so any solution that ends up going towards a geeric solution loses copy/paste.

[12:45:03.0000] <hsivonen>
Hixie: we could if it happens only in SVG scope

[12:45:04.0000] <Hixie>
not in any sane way that is compatible with IE

[12:45:05.0000] <hsivonen>
:-(

[12:46:00.0000] <Hixie>
btw what is it about this use case that would exclude using MathML and application/xhtml+xml?:

[12:46:01.0000] <hsivonen>
anyway, when I uttered inkscape, I wasn't thinking about its app-specific cruft

[12:46:02.0000] <Hixie>
  * Publishing the kind of content that is published on

[12:46:03.0000] <Hixie>
    http://golem.ph.utexas.edu/~distler/blog/ using a

[12:46:04.0000] <Hixie>
    legacy PHP content management system that is not XML-ready.

[12:46:05.0000] <hsivonen>
the "legacy PHP content management system that is not XML-ready" bit

[12:47:00.0000] <Hixie>
oh you just mean that you can't be affected by ysod?

[12:47:01.0000] <Hixie>
ok

[12:48:00.0000] <hsivonen>
Hixie: yeah

[12:49:00.0000] <hsivonen>
Hixie: I gather the only way for Jacques Distler's colleagues to publish MathML is by using a system carefully patched by Distler with him on the ysod firefight alert

[12:49:01.0000] <Hixie>
makes sense

[12:50:00.0000] <hsivonen>
btw, you might also look into copypasteability from Illustrator

[12:50:01.0000] <hsivonen>
the illustrator output is evil

[12:50:02.0000] <hsivonen>
it uses the internal subset to define entities for the namespace URIs

[12:51:00.0000] <Hixie>
that's fine, i have no reason to believe we ever need to look at namespaces here

[12:52:00.0000] <Hixie>
does LaTeX have vector graphics

[12:52:01.0000] <Hixie>
?

[12:52:02.0000] <Hixie>
or did you just mean mathematics?

[12:52:03.0000] <hsivonen>
yes

[12:52:04.0000] <Hixie>
k

[12:53:00.0000] <hsivonen>
LaTeX has packages for graph theory and stuff that plots vector graphics

[12:53:01.0000] <hsivonen>
(plus imported PDF images)

[12:55:00.0000] <othermaciej>
hsivonen: that sounds incredibly evil

[12:56:00.0000] <hsivonen>
Hixie: see http://golem.ph.utexas.edu/~distler/blog/archives/001475.html for example of LaTeX code and what it might look like using Web languages

[12:59:00.0000] <Hixie>
wow that page has use cases!

[12:59:01.0000] <Hixie>
/me notes them

[13:00:00.0000] <Hixie>
you know, none of the use cases you list in http://lists.w3.org/Archives/Public/public-html/2008Mar/0039.html give any reason not to just have a <latex> element

[13:02:00.0000] <hsivonen>
Hixie: I amend the requirements by saying that you should be able to resize the CSS formatter view box without re-executing a LaTeX program

[13:02:01.0000] <Hixie>
:-)

[13:02:02.0000] <Hixie>
that seems like an optimisation issue :-)

[13:02:03.0000] <DxSadEagle>
hsivonen: is one allowed to re-execute metafont? :p

[13:03:00.0000] <hsivonen>
Hixie: also, CSS should be able to tweak the color etc. of math bits from CSS

[13:03:01.0000] <hsivonen>
DxSadEagle: :-)

[13:03:02.0000] <Hixie>
oh i agree, i'm just saying that that wasn't on your use cases

[13:03:03.0000] <Hixie>
and if resizing the CSS allows you to rerun the truetype hinting programs, why can't it also rerun latex?

[13:04:00.0000] <hsivonen>
Hixie: even though MathML doesn't integrate with a CSS formatter perfectly, it sure integrates a lot better than LaTeX

[13:04:01.0000] <Hixie>
indeed

[13:04:02.0000] <Philip`>
TrueType hinting is designed to execute in real-time, LaTeX isn't

[13:05:00.0000] <hsivonen>
I think I've written about this on the whatwg list a couple of years ago

[13:05:01.0000] <Philip`>
and it's cheating to just say that's merely performance

[13:05:02.0000] <Hixie>
hsivonen: probably

[13:05:03.0000] <Hixie>
Philip`: i agree

[13:05:04.0000] <Hixie>
i'm just being a devil's advocate

[13:05:05.0000] <hsivonen>
/me searches the archives

[13:05:06.0000] <Philip`>
because if you don't care about performance you could use a web service API that sends the equation to someone who can write it on a piece of paper and scan it in and send it back

[13:08:00.0000] <Philip`>
LaTeX is more useful if you're writing a whole document in it, so you can define macros for whatever you're writing about - it'd be much more painful if the LaTeX environment was just a single box on the screen, repeated lots of times

[13:08:01.0000] <hsivonen>
lists.whatwg.org htdig looks broken

[13:09:00.0000] <Hixie>
yeah it sucks

[13:09:01.0000] <Hixie>
there are other sites that let you search the archives

[13:09:02.0000] <hsivonen>
/me tries google

[13:09:03.0000] <Hixie>
do a google search for "whatwg archives"

[13:09:04.0000] <Hixie>
Philip`: i'm not in any way seriously suggesting embedding latex anywhere

[13:10:00.0000] <hsivonen>
http://lists.whatwg.org/pipermail/goanet-goanet.org/2005-July/032308.html

[13:10:01.0000] <hsivonen>
goanet?

[13:10:02.0000] <Hixie>
i was just illustrating that the use cases as given in that e-mail don't necessarily preclude solutions that are far removed from what people are discussing

[13:10:03.0000] <Hixie>
o_O

[13:10:04.0000] <Hixie>
http://lists.goanet.org/listinfo.cgi/goanet-goanet.org

[13:10:05.0000] <Hixie>
that's what one gets for using shared hosting i suppose

[13:10:06.0000] <Hixie>
:-)

[13:11:00.0000] <Hixie>
though why that url ever came to be, i dunno

[13:11:01.0000] <Philip`>
http://lists.whatwg.org/pipermail/

[13:11:02.0000] <Hixie>
ah

[13:11:03.0000] <Hixie>
heh

[13:13:00.0000] <hsivonen>
hmm. I'm pretty sure I've sent email explaining embedded LaTeX renderer baseline and linebreaking problems, but I can't find it

[13:17:00.0000] <hsivonen>
fwiw, about sending math renderer to an outside service: http://golem.ph.utexas.edu/~distler/blog/archives/000106.html

[13:18:00.0000] <hsivonen>
http://golem.ph.utexas.edu/~distler/blog/archives/000632.html is better

[13:19:00.0000] <hsivonen>
“There’s no way to get the baselines to automatically line up, and there’s no way to automatically leave the correct amount of horizontal space in the text to accommodate the equations.”

[13:22:00.0000] <Philip`>
Has someone already suggested Wikipedia as an example that has lots of maths, and could benefit from higher-resolution text and more consistent fonts and fewer resource requests etc?

[13:24:00.0000] <Hixie>
hsivonen: did you mean your mail dated Tue, 30 May 2006 ?

[13:26:00.0000] <shepazu>
Philip`, http://mathworld.wolfram.com/ is also a place that could benefit from inline MathML... have they spoken up on the list?

[13:27:00.0000] <Hixie>
othermaciej: yt?

[13:27:01.0000] <othermaciej>
Hixie: yeah, sort of 

[13:27:02.0000] <othermaciej>
(in meeting but can reply slightly asynchronously)

[13:28:00.0000] <Hixie>
k

[13:28:01.0000] <hsivonen>
Hixie: I don't see mail from 2006-05-30 from me. I do see http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2006-May/006468.html though

[13:28:02.0000] <Hixie>
that's the one

[13:28:03.0000] <Hixie>
i guess timezone issues

[13:29:00.0000] <hsivonen>
which, surprisingly, doesn't explain well how bad it would be

[13:40:00.0000] <annevk>
i do have some sympathy for allowing RDFa kind of things in HTML

[13:40:01.0000] <annevk>
it allows communities to do their own stuff with it without having to resort to quirky things (see microformats)

[13:41:00.0000] <Dashiva>
Outsource the entire mess

[13:42:00.0000] <Hixie>
how is RDFa less quirky than microformats?

[13:44:00.0000] <hsivonen>
it's funny how that question is bracketed by tantek joining and leaving

[13:45:00.0000] <Dashiva>
There's a lesson to be learned here, kids.

[13:46:00.0000] <annevk>
Hixie, something better than RDFa would be cool

[14:00:00.0000] <Hixie>
/me got his mac to just read a lot of the table feedback while he was showering, and noticed for the first time that Alex actually takes a breath when talking.

[14:00:01.0000] <Hixie>
that's crazy

[14:00:02.0000] <Hixie>
cool, but crazy

[14:01:00.0000] <eseidel>
/me suggests Hixie not use his mac in the shower

[14:02:00.0000] <Hixie>
well it wasn't IN the shower

[14:03:00.0000] <jwalden>
/me would rather this not go further

[14:08:00.0000] <Dashiva>
Macbook Water

[14:12:00.0000] <Philip`>
I can't imagine what a MacBook Fire would be, but I think I want one

[14:23:00.0000] <roc>
Try building Gecko on a Macbook Pro on your lap

[14:24:00.0000] <Dashiva>
Maybe it would just have a million firewire ports

[14:29:00.0000] <othermaciej_>
roc: sounds painful

[14:30:00.0000] <roc>
instead of -j, 'make' should have an option that caps the maximum temperature

[14:31:00.0000] <Philip`>
/me uses 'cpufreq-set -g powersave' to keep the temperature (and fan noise) down, which is quite effective

[14:31:01.0000] <othermaciej>
I would not dare build Gecko on a MacBook Pro

[14:31:02.0000] <othermaciej>
building WebKit is bad enough

[14:32:00.0000] <jgraham__>
/me wonders if he should mention "being able to use existing authoring tools with minimal amounts of effort" as a requirement for maths in text/html

[14:33:00.0000] <jgraham__>
It may already be covered

[14:33:01.0000] <Philip`>
jgraham__: What/which existing authoring tools?

[14:33:02.0000] <roc>
I do all my development on a MacBook Pro, it's actually great if I avoid skin contact

[14:33:03.0000] <jgraham__>
Philip`: That matters less to me, as long as they exist.

[14:34:00.0000] <jgraham__>
(in practice I think that requirement means LateX-like syntax or MathML-like syntax)

[14:34:01.0000] <roc>
and apart from the fact that some combination of gdb, Firefox and sleeping leaks VRAM on 10.4

[14:34:02.0000] <Philip`>
jgraham__: Microsoft Office / OpenOffice.org equation editors might be significant too

[14:35:00.0000] <jgraham__>
Philip`: I believe oo.o can output MathML

[14:35:01.0000] <roc>
MathML is the native math format for OpenOffice

[14:35:02.0000] <roc>
for ODF, I should say

[14:36:00.0000] <jgraham__>
(in practice LaTeX doesn't need an intermediary but MathML does so my real requirement is "no gratuitous syntax changes from MathML")

[14:36:01.0000] <Philip`>
/me notes the same issue applies to SVG, because only crazy people write vector graphics by hand and everyone else uses Flash or Illustrator or Inkscape

[14:37:00.0000] <hsivonen>
roc: does OOo now really read back MathML instead of sticking StarMath somewhere and reading it back instead?

[14:37:01.0000] <roc>
I actually don't know

[14:37:02.0000] <jgraham__>
Philip`: This is why I would be against e.g. <script type="svg"> and replacing angular brackets with square brackets, fore example

[14:38:00.0000] <roc>
but at least the MathML is there, and SVG too. It's great to be able to just pull that out and render it

[14:38:01.0000] <hsivonen>
Philip`: Sam writes SVG in vim...

[14:39:00.0000] <jgraham__>
hsivonen: Sam is abnormal :)

[14:40:00.0000] <Philip`>
hsivonen: He is crazy people ;-)

[14:40:01.0000] <Philip`>
(Of course I might be generalising a bit...)

[14:41:00.0000] <Philip`>
Incidentally, I use SVG export from Graphviz and Gnuplot much more than from direct editing programs

[14:42:00.0000] <roc>
Quite a few people are using SVG export from Omnigraffle

[14:42:01.0000] <roc>
Personally I use OpenOffice Draw 

[14:42:02.0000] <Philip`>
hsivonen: OO.o at least keeps both equation formats when saving, like

[14:42:03.0000] <Philip`>
<math:math xmlns:math="http://www.w3.org/1998/Math/MathML"><math:semantics><math:mrow><math:mrow><math:msup><math:mi>e</math:mi><math:mrow><math:mi>i</math:mi><math:mo math:stretchy="false">π</math:mo>[snip]</math:mrow><math:annotation math:encoding="StarMath 5.0">e^{i %pi}+1=4</math:annotation></math:semantics></math:math>

[14:42:04.0000] <hsivonen>
last year, I discovered that OmniGraffle Pro SVG export sucked big time

[14:42:05.0000] <hsivonen>
so I didn't buy pro

[14:42:06.0000] <roc>
it outputs some gnarly filters that we have to optimize for

[14:43:00.0000] <hsivonen>
and instead drafted stuff in OmniGraffle, expoted to PNG and redrew over the PNG in inkscape

[14:44:00.0000] <Philip`>
If I keep both MathML and StarMath, the StarMath takes precedence when loading

[14:44:01.0000] <hsivonen>
that's dirty if not evil

[14:44:02.0000] <roc>
if you delete the StarMath, does it load the MathML?

[14:44:03.0000] <Philip`>
If I delete the StarMath, it loads from the MathML

[14:44:04.0000] <roc>
ok cool

[14:44:05.0000] <Philip`>
and says "{e^{i π} + 1} = 4"

[14:45:00.0000] <Philip`>
which is about reasonable, except it'd be easier to edit if it said %pi

[14:45:01.0000] <roc>
it'd be more reasonable if the equation was correct :-)

[14:46:00.0000] <Philip`>
(Incidentally, the content.xml file says <!DOCTYPE math:math PUBLIC "-//OpenOffice.org//DTD Modified W3C MathML 1.01//EN" "math.dtd"> - I don't know how that differs from normal MathML)

[14:46:01.0000] <Philip`>
roc: Pfah, that's just constant factors

[14:50:00.0000] <jgraham__>
Hmm. When I tested OO.o also seemed to have some sort of binary cache for the math object which I had to delete. But I guess I could have been mistaken.

[14:51:00.0000] <Philip`>
jgraham__: When I just save from OpenOffice.org Math (i.e. not part of a bigger document), it only has XML files and a thumbnail.png

[14:52:00.0000] <jgraham__>
Ah, I was saving as part of a bigger document

[14:52:01.0000] <Philip`>
Yay XML - <config:config-item config:name="PrinterSetup" config:type="base64Binary">VAH+/0dlbmVyaWMgUHJpbnRlcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU0dFTlBSVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAMAmgAAAAAAAAABAAhSAAAEdAAASm9iRGF0YSAxCnByaW50ZXI9R2VuZXJpYyBQcmludGVyCm9yaWVudGF0aW9uPVBvcnRyYWl0CmNvcGllcz0xCm1hcmdpbmRhanVzdG1lbnQ9MCwwLDAsMApjb2xv

[14:55:00.0000] <Philip`>
When I save from Writer, it has an ObjectReplacments directory containing a binary file for the equation

[14:55:01.0000] <Philip`>
s//e/

[14:56:00.0000] <Philip`>
(...in addition to the standard XML version of it)

[14:56:01.0000] <jgraham__>
Yeah, that's what I saw

[14:58:00.0000] <annevk>
It's pretty hard to come up with use cases for "generic extensibility"

[14:59:00.0000] <annevk>
* metadata annotations (internal format expressed in HTML)

[14:59:01.0000] <annevk>
* game objects (cf. voidwars.com)

[15:00:00.0000] <annevk>
maybe in applications it woud sometimes be easier to mint your own elements too

[15:00:01.0000] <Philip`>
Come up with use cases for specific extensibility, and show that the generic extensibility solution is the 'best' way to handle those cases

[15:00:02.0000] <annevk>
I try not to think of solutions, but it's hard

[15:01:00.0000] <jgraham__>
One example of specific extensibility that could, in principle be interesting is distributed references/citations

[15:01:01.0000] <annevk>
XBL sort of solves the component story, but does something that's optional makes sense if you bind it to <div class="cart"/>

[15:01:02.0000] <annevk>
or should it be <cart/>

[15:02:00.0000] <annevk>
(same goes for <planet/> in voidwars fwiw)

[15:02:01.0000] <jgraham__>
OTOH I don't know if that would actually happen even if the mechanism to make it happen was there

[15:03:00.0000] <jgraham__>
I've also heard biologists express an interest in embedding machine-readable data in HTML but I forget the details

[15:03:01.0000] <annevk>
oh, ChemML

[15:04:00.0000] <annevk>
i wonder if there's a chance that those vocabularies have been hold back because there hasn't been a good way to implement them on top of browsers so far

[15:05:00.0000] <annevk>
if you have XBL, SVG, and <canvas> you can probably implement most languages as a simple library

[15:05:01.0000] <jgraham__>
Oh yeah, the Royal Society for Chemistry were doing something that embedded chemistry-specific data in web pages

[15:05:02.0000] <Philip`>
annevk: But we don't have XBL :-p

[15:06:00.0000] <annevk>
agreed that XBL is not really realistic right now, but i want it to be!

[15:08:00.0000] <Philip`>
If it requires all browsers to implement support for it, it seems unlikely it'll ever be realistic

[15:08:01.0000] <annevk>
why's that?

[15:08:02.0000] <Philip`>
Because browsers tend to not implement features

[15:09:00.0000] <roc>
we *want* to implement XBL2

[15:09:01.0000] <Philip`>
and nobody would use it until it works adequately in IE

[15:10:00.0000] <Philip`>
/me wants to do lots of things that he'll probably never get around to doing :-(

[15:16:00.0000] <othermaciej>
all major browsers seem to be on a decent clip of adding features right now

[15:17:00.0000] <Philip`>
Are any of those features anywhere near as complex as XBL2?

[15:18:00.0000] <Philip`>
(particularly in terms of interactions with existing code, which presumably makes things much harder)

[15:18:01.0000] <othermaciej>
SVG is way more complex than XBL2

[15:21:00.0000] <hsivonen>
http://www.w3.org/MarkUp/Forms/wiki/January-February_2008_Newsletter#head-f76a3e869082c8af2d5c659357614b51f5756ca9

[15:22:00.0000] <Philip`>
Browser developers having been working on SVG for several years, and they're still all a bit rubbish at it

[15:23:00.0000] <roc>
othermaciej: that's arguable

[15:23:01.0000] <roc>
XBL2 is kind of invasive, it requires changes to a lot of core stuff

[15:23:02.0000] <annevk>
hsivonen, wow

[15:24:00.0000] <roc>
SVG is more modular, especially if you don't care about foreignObject really working

[15:24:01.0000] <Philip`>
(I gave up the last time I tried to do some dynamic SVG stuff, and switched to OpenGL, because things kept crashing or failing to redraw or silently failing in Opera and Firefox)

[15:24:02.0000] <othermaciej>
SVG wins by far on sheer size though

[15:24:03.0000] <annevk>
hsivonen, guess they redefined the meaning of "Forms TF"

[15:24:04.0000] <othermaciej>
and it does have some interaction complexities

[15:24:05.0000] <annevk>
SVG has <svg:use>

[15:24:06.0000] <annevk>
that's some simple XBL right there

[15:24:07.0000] <annevk>
in SVG :)

[15:24:08.0000] <roc>
I can tell you which of XBL1 and SVG causes *us* more maintenance headaches :-)

[15:24:09.0000] <othermaciej>
annevk: looks like clever shifting of what "we" refers to

[15:25:00.0000] <othermaciej>
<svg:use> is a giant crock of shit

[15:25:01.0000] <roc>
oh yes

[15:25:02.0000] <othermaciej>
it's so poorly designed compared to XBL, it's not even funny

[15:26:00.0000] <Philip`>
/me wonders what's wrong with it

[15:26:01.0000] <roc>
that's because we learned from all the mistakes in XBL1

[15:26:02.0000] <othermaciej>
use has multiple references to a single underlying element

[15:26:03.0000] <othermaciej>
and at the point of use, you get things that aren't real Elements at all

[15:27:00.0000] <roc>
and style is supposed to cascade through each use point, somehow

[15:27:01.0000] <annevk>
true, XBL has had the unique opportunity to be redesigned from "scratch" without the usual Web compat issues

[15:27:02.0000] <othermaciej>
if you <use> a plugin multiple times for instance

[15:27:03.0000] <othermaciej>
each instance has to draw and process mouse events but they must all be in sync

[15:27:04.0000] <othermaciej>
in theory

[15:28:00.0000] <annevk>
roc, XBL2 has that feature as well (allowing selectors through and things like that)

[15:28:01.0000] <othermaciej>
I doubt anyone will ever bother to make that really work

[15:28:02.0000] <roc>
annevk: at least you don't have to have a variable number of computed styles applying to *the same element*

[15:28:03.0000] <othermaciej>
annevk: XBL2 multiply instantiates the shadow elements, rather than having the fake SVGElementInstance thing

[15:29:00.0000] <roc>
we actually clone anonymous nodes for <use>

[15:29:01.0000] <annevk>
ah ok, though updates to the binding have to be reflected everywhere it's bound

[15:38:00.0000] <Philip`>
Would browser developers willingly implement something as complex as SVG, now that they have some experience of the complexity that's involved?

[15:39:00.0000] <annevk>
it would've been useful if someone was there back in the days to decrease the feature creep

[15:48:00.0000] <annevk>
Philip`, http://diveintomark.org/archives/2008/03/09/no-fury-like-dracon-scorned#comment-11453 :p

[15:49:00.0000] <Philip`>
/me will have to start charging people for his services as an ill-formedness consultant

[15:49:01.0000] <annevk>
what a lame excuse from the other guy btw

[15:50:00.0000] <eseidel>
/me wonders how many people hacked on xbl

[15:51:00.0000] <Philip`>
annevk: "the other guy" = Aristotle?

[15:52:00.0000] <jgraham>
/me isn't sure call people viewing your page an "effective feedback loop" works so well when you are also hoping to  call them "customers"

[15:52:01.0000] <jgraham>
s/call/calling/

[15:55:00.0000] <Philip`>
I never give feedback to a site's owner, I just complain about their site on IRC or blog comments and it's not my problem if they don't notice it

[15:56:00.0000] <Philip`>
I suppose it's half a feedback loop, but the other half is just some ragged dangling ends that might happen to meet up if they're lucky

[16:00:00.0000] <Philip`>
It would be more effective to have some output filter which checks well-formedness of every HTTP reponse and emails the site owner if there's a problem, and then the filter might as well try to correct the error in a generally sensible way, and then you might as well not generate proper XML at all since you can rely on the filter to clean up after you

[16:09:00.0000] <Philip`>
and then you might as well find someone else to write the error-correcting part of that filter for you, preferably someone with lots of developers and QA people, like a web browser developer, and then you can call the filter "an HTML parser"

[16:17:00.0000] <Hixie>
hsivonen, annevk: i have to assume that they have something else they call the forms task force

[16:19:00.0000] <roc>
eseidel_: hacked on the XBL2 spec or hacked on the Gecko XBL1 implementation?

[16:22:00.0000] <eseidelDesk>
roc: gecko

[16:23:00.0000] <eseidelDesk>
roc: gecko xbl

[16:23:01.0000] <eseidelDesk>
roc: my point being that few have hacked on gecko svg

[16:23:02.0000] <roc>
few have hacked on XBL too really

[16:23:03.0000] <eseidelDesk>
roc: hence why I asked

[16:23:04.0000] <eseidelDesk>
since I don't actually know :)

[16:23:05.0000] <roc>
hyatt created it, then mainly sicking and bz

[16:23:06.0000] <eseidelDesk>
k

[16:25:00.0000] <roc>
SVG was probably broader, started by Alex Fritze and then tor, jwatt, longsonr, and me have all done significant work


2008-03-12
[20:50:00.0000] <Hixie>
heh, this e-mail talking about discovery was itself subject to discovery, that's funny: http://edge-op.org/iowa/www.iowaconsumercase.org/011607/0000/PX00622.pdf

[21:25:00.0000] <jwalden>
hah

[23:50:00.0000] <Hixie>
67% complete in categorising the table feedback, yay

[23:56:00.0000] <Hixie>
85%

[00:12:00.0000] <Hixie>
woot, sorted all teh feedback for tables

[00:12:01.0000] <Hixie>
now i guess i have to read it!

[00:13:00.0000] <Hixie>
well this is weird

[00:15:00.0000] <Hixie>
for all the talk about headers/id, there's very little work on it other than what ben and james have done

[00:18:00.0000] <Hixie>
so i guess what i'm going to have to do is implement this table cell/header association algorithm

[00:18:01.0000] <Hixie>
skipping step 1

[00:18:02.0000] <Hixie>
and see if it gives better or worse results than just obeying header/id

[00:19:00.0000] <Hixie>
to determine if header/id is used correctly or not

[00:19:01.0000] <Hixie>
if header/id is used correctly and the algorithm gets the same result, then we might as well use the algorithm

[00:20:00.0000] <Hixie>
if header/id is used correctly but the algorithm gets the wrong results, then we probably need header/id

[00:20:01.0000] <Hixie>
if header/id is used incorrectly the vast majority of the time, then it doesn't much matter, we should probably drop it anyway

[04:59:00.0000] <hsivonen>
aargh. lynx from MacPorts and lynx from fink break lines differently

[04:59:01.0000] <hsivonen>
/me is diffing the lynx text dump of the spec

[05:34:00.0000] <annevk>
hsivonen, web-apps-tracker is no good?

[05:35:00.0000] <annevk>
http://blog.kilobox.mobi/2008/03/02/whatwg-are-you-creating-html/

[05:41:00.0000] <zcorpan_>
annevk: i guess it's harder to read with all the markup

[05:48:00.0000] <hsivonen>
annevk: not enough context

[05:49:00.0000] <hsivonen>
/me diffs with -U 200

[05:50:00.0000] <hsivonen>
annevk: also, there have been too many interdependent changes in the tokenizer, so I find I can't do spec rev by spec rev, bug by bug patching

[05:50:01.0000] <hsivonen>
instead, I'm sweeping over the diff of the entire chapter in one go

[05:50:02.0000] <annevk>
I suppose we could make context an option

[05:53:00.0000] <hsivonen>
the main problem is that the tracker doesn't say what the heading before a given change was

[05:53:01.0000] <hsivonen>
so it isn't obvious which tokenizer state or insertion mode is affected

[05:55:00.0000] <annevk>
philip asked about that too

[05:55:01.0000] <annevk>
that would be a bit tricky though

[05:55:02.0000] <annevk>
i suppose you could make a diff with a lot of context

[05:55:03.0000] <annevk>
then traverse back from the changes until you hit <hx>, and drop everything before that or so

[05:56:00.0000] <hsivonen>
I think a large context alone is good enough

[06:13:00.0000] <annevk>
hsivonen, ok, there's now a context feature

[06:14:00.0000] <annevk>
http://html5.org/tools/web-apps-tracker?from=1356&to=1357&context=70

[06:21:00.0000] <hsivonen>
annevk: cool. thank you

[06:46:00.0000] <Dashiva>
annevk: Is that blog viewable without a mobile device?

[06:48:00.0000] <Philip`>
Dashiva: It seems to be perfectly viewable on my non-mobile computer

[06:49:00.0000] <Dashiva>
I guess it's just my connection that sucks then

[06:49:01.0000] <Dashiva>
I need a RART

[06:49:02.0000] <Philip`>
A regional asset recovery team?

[06:50:00.0000] <Dashiva>
A router attitude readjustment tool

[06:52:00.0000] <hsivonen>
/me notes that requiring spaces between a quoted attribute value and the next attribute name will make valid HTML4 invalid.

[06:54:00.0000] <zcorpan_>
that's true

[06:54:01.0000] <Philip`>
/me would estimate that to be about zero HTML4 documents in practice

[06:56:00.0000] <zcorpan_>
Philip`: how about any HTML documents (not just counting valid HTML4)?

[06:56:01.0000] <Philip`>
I still estimate about zero

[06:56:02.0000] <Philip`>
based on no data, except I don't remember ever seeing people intentionally omit spaces between attributes

[06:57:00.0000] <Philip`>
(so my view doesn't really count)

[06:57:01.0000] <zcorpan_>
i don't either, but i have seen it in some text/html-XHTML documents (so it was not intentional)

[06:57:02.0000] <hsivonen>
Philip`: actually, when the W3C Validator fixed this for XHTML, there were (angry) people who found their previously 'valid' pages were in fact invalid

[06:58:00.0000] <zcorpan_>
would be interesting to see if pages that lack spaces between attributes do so because of mismatching quotes or not

[06:59:00.0000] <zcorpan_>
(since that's what the new requirement is supposed to help with)

[06:59:01.0000] <Philip`>
Oh, maybe it's more common that I expected

[07:00:00.0000] <Philip`>
I see /<[a-z]+ [a-z]+="([^"]+)"[a-z]/ on about ...

[07:00:01.0000] <zcorpan_>
also, perhaps the other new requirements are sufficient for catching mismatched quotes

[07:00:02.0000] <hsivonen>
Hixie: any particular reason why < didn't become invalid in unquoted attribute values along =, ' and ?

[07:00:03.0000] <Philip`>
/me waits for it to continue finding matches

[07:01:00.0000] <Philip`>
... lots of pages

[07:02:00.0000] <Philip`>
About 5K (out of 130K), plus lots of margin of error

[07:03:00.0000] <Philip`>
though it looks like a lot of them are from the same site

[07:03:01.0000] <Philip`>
(which says <d

[07:03:02.0000] <Philip`>
iv id="gb_city/cottonwood-az_5"class="act_gbar" style="left: 25px; height: 18px" ></div>)

[07:03:03.0000] <Philip`>
(...without the line wrapping)

[07:05:00.0000] <zcorpan_>
i guess the whitespace between attributes requirement has a high noise to signal ratio

[07:05:01.0000] <Philip`>
<font face="arial color="silver">X - Y - </font>

[07:06:00.0000] <zcorpan_>
quote in attribute name would catch that one

[07:06:01.0000] <Philip`>
is the only error I've found after seeing about a dozen that are simply skipping the space

[07:07:00.0000] <Philip`>
<img src="http://www.w3.org/Icons/valid-xhtml10"alt="Valid XHTML 1.0!" height="31" width="88" /> - hmm

[07:07:01.0000] <zcorpan_>
heh

[07:08:00.0000] <hsivonen>
lol

[07:09:00.0000] <Philip`>
/me goes away for a while

[07:10:00.0000] <zcorpan_>
i can't come up with a case where requiring whitespace between attributes helps to catch mistakes that quotes in attribute names don't

[07:12:00.0000] <zcorpan_>
unless *two* quotes were omitted, e.g. <input value="foo disabled="disabled>

[07:12:01.0000] <zcorpan_>
but that's very unlikely

[07:12:02.0000] <hsivonen>
I am not opposed to making it an error, fwiw. (at least not yet)

[07:13:00.0000] <zcorpan_>
if it doesn't catch any harmful mistakes, isn't it just adding noise to the list of validation messages?

[07:14:00.0000] <hsivonen>
that's a possibility

[07:15:00.0000] <hsivonen>
though this way the tokenizer spec comes closer to be hackable into an XML5 tokenizer that reports XML 1.0 4th ed. errors non-fatally

[07:17:00.0000] <hsivonen>
every time I patch Ælfred2 I come closer to biting the bullet and turning the Validator.nu HTML parser into a non-Draconian XML parser as well.

[07:17:01.0000] <hsivonen>
if it weren't for DTDs (internal subset in particular), I'd be hacking on that right now

[07:18:00.0000] <zcorpan_>
there are more html authors that validate their documents than there are non-drocanian xml tokenizer implementors

[07:18:01.0000] <hsivonen>
true

[07:27:00.0000] <gsnedders>
zcorpan_: even among feed readers?

[07:39:00.0000] <hsivonen>
the recipe at http://www.w3.org/QA/2008/03/html-charset.html contradics the HTML 5 spec

[07:48:00.0000] <hasather_>
annevk: the tracker uses -p for the diff command which makes it output "function receiver(e) {" and other garbage on each "@@"-line

[07:53:00.0000] <zcorpan_>
gsnedders: i would think so, yes

[07:59:00.0000] <hsivonen>
for some reason, the "HTML" page on wikipedia draws a lot of vandalism

[07:59:01.0000] <hsivonen>
much more than e.g. XHTML

[08:00:00.0000] <gsnedders>
hsivonen: but it says it isn't obsolete! it must be wrong!

[08:01:00.0000] <hsivonen>
aside: http://en.wikipedia.org/wiki/MathML#Example

[08:02:00.0000] <gsnedders>
brilliant example of why I hate MathML. It takes _so_ much code to represent anything.

[08:02:01.0000] <hsivonen>
Hixie: I think the MathML example is so bad the we should concede to converters being necessary and shouldn't try to make stuff implied in the text/html parser

[08:35:00.0000] <Philip`>
If I look for /<[a-z]+ [a-z]+="([^"]+)"[a-z][^= ]*/ in the subset of the 130K pages that have a URI whose MD5 starts with '8', then I find things like

[08:35:01.0000] <Philip`>
<table width="100% align="center">

[08:35:02.0000] <Philip`>
<a href="<div align="center">

[08:35:03.0000] <Philip`>
<a href="pages/leaders.html"Leadership"">

[08:35:04.0000] <Philip`>
<img src="http://cgi.knc.ne.jp/cgi/counter/counter.pl?USER=cci&URL=index.html"alt"=counter align="bottom" width="35" height="16" border="0">

[08:35:05.0000] <Philip`>
<a title="Ver Video class="VERVIDEOLINK" 2005" onfocus="this.blur()" onclick="NewWindow(this.href,'vervideo','625','420','no','center');return false" href="http://raremusicvideos.org/videos/L7-the-word.html">

[08:36:00.0000] <Philip`>
<a href="http://www.myrope.com/"index.asp" target="_top">

[08:36:01.0000] <Philip`>
<noscript><A HREF="http://www.world1000.com"> <img src="http://w108.hitbox.com/Hitbox?cd=1&bt;&hb;</A> </noscript><script language="javascript1.2">

[08:36:02.0000] <Philip`>
and several more that are simply forgetting a closing '"'

[08:38:00.0000] <Philip`>
Oops, I meant /<[a-z]+ [a-z]+="([^"]+)"[a-z][^= ]*"/

[08:39:00.0000] <zcorpan_>
all of those are covered by banning " in attribute names, afaict

[08:40:00.0000] <Philip`>
It would probably be much more useful if I looked for all the cases that hit the relevant parse error in the tokeniser, but that would take more effort than I want to bother with now

[08:41:00.0000] <zcorpan_>
i think this is useful enough data for sending to the list

[08:42:00.0000] <Philip`>
Given what I was searching for, I don't think it'd be possible to find anything that wouldn't be interpreted as a quote in an attribute name

[08:44:00.0000] <zcorpan_>
good point :)

[09:02:00.0000] <zcorpan_>
hmm, getAttribute() returns the empty string instead of null in ie8 if the attribute is absent

[09:09:00.0000] <Philip`>
Is that consistent with other browsers?

[09:10:00.0000] <Philip`>
/me wonders why his spec-processing script creates output saying "<a�href="a">a<table><a�href="b">b</table>x" with something funny in place of the spaces, only in that particular instance and nowhere else in the document

[09:15:00.0000] <SadEagle>
Philip`: that's consistent with DOM, but not with the web.

[09:15:01.0000] <SadEagle>
Or is it other way around?

[09:16:00.0000] <SadEagle>
no, I got it right the first time around.

[09:17:00.0000] <SadEagle>
Philip`: the classic yahoo mail at least used to depend on getAttribute("missing") returning null. 

[09:25:00.0000] <zcorpan_>
hmm, i think <input type=number value=""> should be valid html5

[09:26:00.0000] <zcorpan_>
(haven't checked the spec but V.nu says it's invalid)

[09:29:00.0000] <annevk>
they implemented getAttribute() per spec? classic...

[09:30:00.0000] <zcorpan_>
i guess they went through the dom 2 core testsuite

[09:31:00.0000] <SadEagle>
did they start throwing WRONG_DOCUMENT_ERR too?

[09:32:00.0000] <zcorpan_>
dunno

[09:32:01.0000] <zcorpan_>
not very unexpectedly, they made changes to quirks mode and ie7 mode too

[09:33:00.0000] <annevk>
which makes their claims about "not breaking the Web" a lot less convincing...

[09:34:00.0000] <annevk>
it does further the cause of making Trident near impossible to imitate

[09:34:01.0000] <hsivonen>
rubys: hi

[09:35:00.0000] <rubys>
hsivonen: what do you mean by "above-dom"?

[09:35:01.0000] <hsivonen>
rubys: I mean code that reads the DOM 

[09:35:02.0000] <Philip`>
It makes people's claims that IE would contain three independent frozen-in-time rendering engines incorrect

[09:35:03.0000] <hsivonen>
rubys: the SVG and MathML renderers

[09:35:04.0000] <hsivonen>
(and scripts that access the DOM, too)

[09:35:05.0000] <annevk>
Philip`, yes, that was me :)

[09:36:00.0000] <rubys>
cool.

[09:36:01.0000] <annevk>
guess I was ill informed

[09:38:00.0000] <hsivonen>
have I understood correctly that the IE8 CSS renderer shares the DOM impl. with the IE7 and IE5.5 modes?

[09:38:01.0000] <hsivonen>
but the DOM impl changes some of its behavior conditionally?

[09:40:00.0000] <annevk>
i think that's the case, yes

[09:40:01.0000] <annevk>
versioned APIs or something

[09:40:02.0000] <Philip`>
Would <style>a[title]{color:green}</style><a title>example</a> be a way of testing that, given what zcorpan_ said about IE8 dropping attributes?

[09:41:00.0000] <annevk>
probably or hasAttribute("title") maybe

[09:43:00.0000] <Philip`>
http://msdn2.microsoft.com/en-us/library/cc288472(VS.85).aspx - "The alt attribute is no longer displayed as the image tooltip when the browser is running in IE8 mode. Instead, the target of the longDesc attribute is used as the tooltip if present; otherwise, the title is displayed."

[09:43:01.0000] <Philip`>
/me hadn't seen that before

[09:44:00.0000] <billmason>
Given how much people mung up the content of the longdesc attribute, I have to wonder about the virtue of exposing it that way.

[09:45:00.0000] <hsivonen>
is there a screenshot of the longdesc thing happening?

[09:45:01.0000] <Philip`>
Given how little people use longdesc, it doesn't matter too much what you do with it

[09:45:02.0000] <billmason>
True.

[09:46:00.0000] <Philip`>
/me wonders what it'll do on Wikipedia images

[09:46:01.0000] <annevk>
hsivonen, is MathML just verbose or is it not possible to get Math compact in XML/HTML markup?

[09:48:00.0000] <gsnedders>
annevk: the latter

[09:48:01.0000] <hsivonen>
annevk: as far as I can tell, math requires lots of layout boxes, although CSS can have anonymous boxes, tweakable boxes practically have to be elements. that translates into very verbose markup

[09:48:02.0000] <Philip`>
Does <tex>e^{i\pi}=2</tex> count as "XML/HTML markup"?

[09:49:00.0000] <hsivonen>
Philip`: at least it would take anonymous box generation to a whole new level...

[09:49:01.0000] <hsivonen>
(I'm assuming here that we want a solution that integrates at least semi-sanely with a CSS formatter)

[09:50:00.0000] <Philip`>
At some level of abstraction <span>test test-test test&shy;test test</span> does complex anonymous-box-like stuff to separate and wrap words

[09:50:01.0000] <rubys>
http://www.w3.org/TR/mathml-for-css/

[09:50:02.0000] <Philip`>
(and I don't know what level of abstraction is the right one to look from)

[09:51:00.0000] <hsivonen>
rubys: not sufficient for Musings

[09:51:01.0000] <rubys>
understood, but he assumes that the spec is unchanging

[09:51:02.0000] <rubys>
if, however, you assume that the spec can be fixed, then it no longer is an HTML5 problem.

[09:52:00.0000] <annevk>
hsivonen, tweakable boxes could be ::foo

[09:53:00.0000] <hsivonen>
I'm assuming that in the near term fixing SVG and MathML as they are processed above the DOM should be out of scope for the WHATWG

[09:53:01.0000] <hsivonen>
I do think that the MathML 3 spec can still change, though

[09:54:00.0000] <hsivonen>
which reminds me that I should follow up on some of my comments on MathML 3

[09:55:00.0000] <rubys>
opera's direction (last I heard) was to do mathml via css.  Whether they do so, or don't do so, and whether their doing so is sufficient for Musings is not a problem that the HTML5 working group needs to solve.

[09:55:01.0000] <rubys>
Preventing MathML from being styled via CSS would be bad.

[09:56:00.0000] <hsivonen>
rubys: I agree on both counts

[09:56:01.0000] <rubys>
cool.  I see the HTML5's WG's job to get the markup into the DOM.  And that's as far as the job goes.

[09:56:02.0000] <hsivonen>
but as it stands, presentational MathML has useful bits that can't be emulated with a generic XML tree and CSS3

[09:56:03.0000] <rubys>
then opera may have a problem with their approach.

[09:56:04.0000] <hsivonen>
so I think Gecko's MathML code and MathPlayer will still be relevant

[09:58:00.0000] <rubys>
if HTML5's HTML 5 deserialization produces the same result as HTML5's XHTML5 deserialization of equivalent documents (modulo syntax differences only), then the HTML5 working group's job is done.

[09:58:01.0000] <hsivonen>
rubys: I agree

[09:59:00.0000] <hsivonen>
which is why I think part of the solution is already constrained more than Hixie's email suggested

[10:02:00.0000] <billmason>
Philip`: I don't see IE8 doing anything with displaying longdesc in a tooltip, so I guess their documention is, as they say, 'preliminary'....

[10:03:00.0000] <Philip`>
billmason: Okay, thanks

[10:03:01.0000] <Philip`>
billmason: Do you know if they still display alt in the tooltip?

[10:04:00.0000] <billmason>
They do not, from what I'm seeing in a quick test.

[10:06:00.0000] <Philip`>
/me sees that IE8 has added CSS printing support for widows and orphans, and thinks it is good that they are supporting broken families

[10:07:00.0000] <hsivonen>
didn't someone say that the IE7 engine was still used for printing?

[10:07:01.0000] <billmason>
I think their release notes say it, but I'm not looking at them right this moment.

[10:08:00.0000] <billmason>
/me finds the notes, and yes it's in the notes

[10:09:00.0000] <hsivonen>
hmm. not a total freeze of the IE7 CSS formatter then?

[10:11:00.0000] <Philip`>
It's still quite possible that they've only added to the IE8 CSS print formatter, but the current beta uses IE7 for printing

[13:15:00.0000] <annevk>
http://www.xs4all.nl/~egbg/counterscript.html

[14:18:00.0000] <Dashiva>
So what's the "right" way to get an arbitrary character sequence as a horizontal list delimiter. I'm stumped.

[14:20:00.0000] <Philip`>
Argh

[14:20:01.0000] <Philip`>
Remind me not to type "<meta http-equiv=x-ua-compatible" into the Live DOM Viewer, because it crashes IE before I get to the end

[14:21:00.0000] <Philip`>
Hmm, it just doesn't like not having a content attribute

[14:22:00.0000] <takkaria>
heh

[14:23:00.0000] <gsnedders>
hmm, I can't find anything in the XML PER that disallows characters not in Char

[14:25:00.0000] <Philip`>
http://philip.html5.org/tests/ie8/x-ua-compatible-crash.html

[14:26:00.0000] <Philip`>
It's great how the "Internet Explorer has stopped working" dialog box pops up in the background where I can't see it and won't notice it unless I happen to look at the taskbar

[14:26:01.0000] <gsnedders>
ah. here we go.

[14:26:02.0000] <gsnedders>
"Taken as a whole, it matches the production labeled document."

[14:29:00.0000] <gsnedders>
only the surrogate blocks, U+FFFE, and U+FFFF are disallowed. odd.

[14:29:01.0000] <Lachy>
annevk, othermaciej_ for selectors api, what are your thoughts about changing the interface to a single NodeSelector interface that is implemented by Documents, Elements and DocumentFragments?

[14:34:00.0000] <annevk>
wfm

[14:35:00.0000] <Philip`>
Hmm, I can't type a # (ctrl+alt+3) into IE8

[14:40:00.0000] <othermaciej_>
Lachy: no problem with it

[14:57:00.0000] <Lachy>
ok, I'll make the change next time I edit the spec

[15:08:00.0000] <othermaciej>
wow, mathml is way uglier than I thought

[15:14:00.0000] <roc>
is MathML in Acid3?

[15:15:00.0000] <SadEagle>
don't think so. 

[15:15:01.0000] <othermaciej>
no

[15:15:02.0000] <roc>
bummer, that's an oversight on our part :-)

[15:15:03.0000] <Lfe>
roc: you can read about what tests acid3 consists of here: http://www.webstandards.org/action/acid3/

[15:16:00.0000] <othermaciej>
but I was just looking at the example that hsivonen sent a link to

[15:16:01.0000] <othermaciej>
where the quadratic formula takes 30 lines of XML to express

[15:17:00.0000] <SadEagle>
it's not meant to be human-readable...

[15:17:01.0000] <Philip`>
It only takes one line

[15:17:02.0000] <SadEagle>
seems like almost everyone converts to it from TeX or TeX-like syntax

[15:17:03.0000] <Philip`>
once you remove the whitespace

[15:17:04.0000] <gsnedders>
Philip`: :P

[15:17:05.0000] <Philip`>
since it's not like the whitespace makes it any more readable

[15:17:06.0000] <othermaciej>
and then the "semantic" 40-line version

[15:17:07.0000] <othermaciej>
it just makes me wonder what the point is

[15:18:00.0000] <roc>
I think the big lesson is that XML is rubbish for token-oriented languages like math and source code

[15:18:01.0000] <othermaciej>
humans can't read or write it, or probably even understand it enough to usefully apply CSS styling or scripting based on the MathML markup

[15:18:02.0000] <Philip`>
Most humans can't read or write HTML, but it's still useful for them

[15:19:00.0000] <roc>
othermaciej: you could say the same about SVG

[15:19:01.0000] <SadEagle>
othermaciej: I guess one could say that it should inherit fonts, etc., but then math fonts are special, anyway

[15:19:02.0000] <othermaciej>
the idea of CSS styling SVG is a little silly, but scripting it isn't totally insane

[15:19:03.0000] <roc>
and I think you'd be partially right, in both cases, but also partially wrong

[15:20:00.0000] <roc>
given decent inspector tools, it's not that hard to figure out how to script and style MathML or SVG

[15:21:00.0000] <othermaciej>
this is the link I'm talking about fwiw: http://en.wikipedia.org/wiki/MathML#Example

[15:22:00.0000] <SadEagle>
/me wonders about the quality of MathML rendering..

[15:22:01.0000] <gsnedders>
/me can't render MathML well

[15:23:00.0000] <roc>
try ours

[15:23:01.0000] <othermaciej>
I guess what I'm saying is, I'm not sure that MathML is better than a <math> element which just contains magically parsed/rendered expressions would have been

[15:23:02.0000] <roc>
well

[15:23:03.0000] <SadEagle>
othermaciej: well, things like selection, etc, matter.

[15:23:04.0000] <othermaciej>
whereas for SVG there's no obvious better way to do it

[15:23:05.0000] <roc>
do you construct a math DOM or not?

[15:23:06.0000] <SadEagle>
of course, in most cased people just put up a PDF

[15:24:00.0000] <othermaciej>
gotta go for now

[15:24:01.0000] <roc>
if you don't, then you basically make scripting and styling impossible

[15:24:02.0000] <annevk>
I wonder if for text/html math could be done in such a way that you don't need to write most of the elements

[15:24:03.0000] <jgraham>
roc: MathML isn't in ACID3 because it doesn't have a widely implemented DOM API to test

[15:24:04.0000] <annevk>
they would be generated during parsing

[15:24:05.0000] <roc>
if you do, then using non-XML syntax could be confusing

[15:24:06.0000] <SadEagle>
roc: I am not sure how much of that is useful. Styling in particular.

[15:24:07.0000] <SadEagle>
colors, may be.

[15:24:08.0000] <Philip`>
annevk: Generated elements make styling and scripting harder

[15:25:00.0000] <jgraham>
gsnedders: Rendering MathML isn't a requirement for being a conforming MathML UA :)

[15:25:01.0000] <roc>
jgraham: what do you mean? you can use regular DOM APIs in our implementation

[15:25:02.0000] <gsnedders>
jgraham: I don't claim conformance though :)

[15:26:00.0000] <jgraham>
roc: What would you test that's MathML specific though?

[15:26:01.0000] <roc>
having an HTML <math> element that parses to MathML DOM could be very useful, but you'd need a way to put classes and IDs in there

[15:26:02.0000] <roc>
jgraham: stuff like MathML scriptlevel automatically changing font sizes based on formula structure

[15:27:00.0000] <jgraham>
roc: IIRC, that's not a normative requirement in the MathML spec 

[15:27:01.0000] <roc>
sure is

[15:27:02.0000] <annevk>
Philip`, true, though probably not the common case

[15:28:00.0000] <SadEagle>
one would hope high-quality rendering would be an implementor's goal, though

[15:28:01.0000] <Philip`>
/me attempts to post bug reports to the IE8 newsgroup, which does not appear to be a place with an especially high signal-to-noise ratio

[15:29:00.0000] <roc>
the spec goes into some detail about how scriptlevel must interact with CSS font sizing

[15:29:01.0000] <roc>
I spent a few weeks implementing it last year

[15:29:02.0000] <roc>
I don't want to be told now that all that was non-normative :-)

[15:33:00.0000] <jgraham>
roc: http://www.w3.org/TR/MathML2/chapter7.html#interf.genproc (7.2.1) suggests that all the rendering rules are non-normative, but maybe I misunderstanding

[15:34:00.0000] <jgraham>
/me finds the MathML spec hard to understand in general

[15:36:00.0000] <roc>
I don't think the rules in 3.3.4.2.1 and 3.3.4.2.2 can be construed as non-normative

[15:36:01.0000] <roc>
http://www.w3.org/TR/MathML2/chapter3.html#id.3.3.4.2

[15:56:00.0000] <jgraham>
roc: Practically I agree but pedantically "Since MathML renderers may be unable to make use of arbitrary font sizes with good results, they may wish to modify the mapping from scriptlevel to fontsize to produce better renderings in their judgment." implies that you need not change fontsize when scriptlevel changes. Although I guess there might be other testable assertions there

[15:57:00.0000] <jgraham>
Er, the next sentence from that quote would be useful "In particular, if fontsizes have to be rounded to available values, or limited to values within a range, the details of how this is done are up to the renderer."

[15:57:01.0000] <roc>
pedantically, CSS renderers are allowed to have "font-size:10px ! important" in the UA style sheet

[15:58:00.0000] <jgraham>
Fair enough :)

[15:59:00.0000] <jgraham>
Am I mistaken in thinking that MathML doesn't use RFC 2119 keywords?

[16:13:00.0000] <annevk>
i don't think so

[16:13:01.0000] <annevk>
it also doesn't appear to have any normative references?


2008-03-13
[17:02:00.0000] <othermaciej>
extra sad fact: just the MathML xmnlns declaration is as long as the LaTeX form of the quadratic formula

[17:03:00.0000] <gavin_>
heh

[17:40:00.0000] <Dashiva>
othermaciej: It's XML, expecting it to be anything else is madness ;)

[17:50:00.0000] <Hixie>
i really need to move the focus from use cases to problems

[17:51:00.0000] <Hixie>
people seem to give much less useful feedback when they think in terms of the term "use case" than the term "problem"

[00:02:00.0000] <hsivonen>
http://www.bluishcoder.co.nz/2008/03/refactoring-of-firefox-html-video.html

[00:27:00.0000] <hsivonen>
I'm a bit nervous about how the mapping from the codecs MIME parameter to and from GStreamer, QuickTime and DirectShow will work in practice

[05:17:00.0000] <hsivonen>
Do we have enough people going to XTech to hold some kind of official/unofficial f2f meeting?

[05:34:00.0000] <Philip`>
zcorpan_: compatMode/documentMode work pretty differently in the Live DOM Viewer, so I wouldn't trust what it says

[05:35:00.0000] <zcorpan_>
Philip`: interesting

[05:36:00.0000] <zcorpan_>
Philip`: i get the same results in the zombie dom viewer. what's different?

[05:38:00.0000] <Philip`>
zcorpan_: Er, I can't remember :-(

[05:38:01.0000] <Philip`>
It might have only affected documentMode and not compatMode

[05:39:00.0000] <zcorpan_>
i can't find any difference with documentMode either

[05:39:01.0000] <Philip`>
Hmm

[05:40:00.0000] <zcorpan_>
i haven't tried the actual http header though

[05:40:01.0000] <Philip`>
/me didn't either

[05:40:02.0000] <Philip`>
I'll have to try it out when I'm at home again

[05:40:03.0000] <zcorpan_>
k

[06:15:00.0000] <hsivonen>
why did absent system/public ids in become "" instead of null in the tokenizer tests?

[06:17:00.0000] <annevk>
that's a bug

[06:17:01.0000] <hsivonen>
annevk: ok. thanks

[06:18:00.0000] <hsivonen>
I take it that it's ok to check in fixed test without fixing the python impl

[06:18:01.0000] <hsivonen>
correct?

[06:18:02.0000] <hsivonen>
I can't remember what the outcome of the test and html5lib sync discussion was

[06:19:00.0000] <annevk>
python fails?

[06:19:01.0000] <annevk>
hmm

[06:19:02.0000] <annevk>
who did that?

[06:19:03.0000] <hsivonen>
I don't know if python fails

[06:19:04.0000] <hsivonen>
I just assume it might if I change the test cases

[06:35:00.0000] <hsivonen>
is it intentional that if > terminates the system id, the system id becomes the string so far instead of null?

[06:38:00.0000] <hsivonen>
/me finds that http://html5.org/tools/web-apps-tracker?from=1285&to=1286 wasn't annotated as conformance checker and tool-relevant

[06:39:00.0000] <annevk>
Philip`, did you change the tokenizer tests to use "" instead of null?

[06:40:00.0000] <hsivonen>
annevk: actually, "" is right in the cases I was looking at

[06:41:00.0000] <annevk>
oh ok

[06:41:01.0000] <annevk>
good

[06:41:02.0000] <Philip`>
annevk: No

[06:41:03.0000] <Philip`>
http://html5lib.googlecode.com/svn/trunk/testdata/tokenizer/test2.test still seems to use null

[06:42:00.0000] <annevk>
seems to be a misunderstanding

[06:44:00.0000] <Philip`>
http://code.google.com/p/html5lib/source/browse - hmm, why are there no files there?

[06:45:00.0000] <Philip`>
Oh, it's because Google is stupid and can't write HTML that works in browsers

[06:47:00.0000] <zcorpan_>
hsivonen: that case was brought up on the list before the spec changed wrt > in FPI so i guess it was considered, and hence, intentional

[06:48:00.0000] <hsivonen>
zcorpan_: ok

[06:54:00.0000] <zcorpan_>
i'm thinking about doctype roundtripping with innerHTML

[06:54:01.0000] <zcorpan_>
the current level of roundtripping of quirkyness is no doctype and doctypes with a name other than "html"

[06:55:00.0000] <zcorpan_>
but emitting FPI and SI if present doesn't roundtrip bogus doctypes anyway

[07:19:00.0000] <hsivonen>
Hixie: is there a strong perf reason to have a separate character encoding sniffing algorithm instead of running the real tokenizer with a simplified token handler and ISO-8859-1 decoding?

[07:26:00.0000] <annevk>
is there any browser that supports document.innerHTML to begin with?

[07:28:00.0000] <zcorpan_>
annevk: not that i know of

[07:30:00.0000] <hsivonen>
I hope ipv6.google.com is not an indication of a future naming pattern

[07:31:00.0000] <zcorpan_>
annevk: but i think the genshi and/or kid templating engines implemented it

[07:32:00.0000] <Philip`>
Sounds like they aren't very confident at IPv4-only clients' ability to ignore AAAA records

[07:32:01.0000] <Philip`>
which seems entirely sensible for now

[07:33:00.0000] <Philip`>
s/IPv4-only clients/clients which support IPv6 themselves but are on IPv4-only networks/

[07:43:00.0000] <annevk>
"Any UA that prints pages so incorrectly should be considered non-conformist."

[11:47:00.0000] <sayrer>
annevk, what's the best selector-api test suite?

[11:48:00.0000] <annevk>
I guess WebKit has public tests

[11:48:01.0000] <annevk>
apart from that I'm afraid nothing has happened yet

[12:20:00.0000] <Lachy>
I will be trying to work on the test suite starting next week

[12:20:01.0000] <Lachy>
for selectors api

[12:35:00.0000] <turtlethere>
Some disinformation about HTML 5 and mp3 appeared:

[12:35:01.0000] <turtlethere>
http://www.ddj.com/web-development/206902334?cid=RSSfeed_DDJ_All

[12:36:00.0000] <turtlethere>
Kevin Carlson explains:

[12:36:01.0000] <turtlethere>
everyone involved can agree that the audio element should support MP3

[12:36:02.0000] <turtlethere>
Is that so?

[12:38:00.0000] <hsivonen>
turtlethere: not as far as I've noticed

[12:38:01.0000] <hsivonen>
turtlethere: might be different in two years

[12:39:00.0000] <svl>
wow, I see _four_ silverlight ads on that page. Sliiight overkill?

[12:40:00.0000] <svl>
oh, no, five; there's a really small text-only one as well.

[12:41:00.0000] <hsivonen>
at least the Silverlight ads GIF images and not Flash animations :-)

[12:41:01.0000] <turtlethere>
Is anybody in position to complain about this to DDJ?

[12:42:00.0000] <turtlethere>
I have not found any comment feature there

[12:42:01.0000] <turtlethere>
and I do not think I know enough to contact them by e-mail

[12:44:00.0000] <turtlethere>
I mean, such false representations can influence public expectations

[12:44:01.0000] <annevk>
MP3 was never agreed upon fwiw

[12:44:02.0000] <turtlethere>
and effectively constrain the choice when it is time to make one.

[12:44:03.0000] <annevk>
At this point it has much the same problems as H264 so...

[13:31:00.0000] <annevk>
http://www.w3.org/QA/2008/03/semantic_web-telephone_game.html first I read about it

[13:54:00.0000] <Philip`>
The error message on http://www.xiven.com/weblog/search/results?q=%00 seems quite peculiar

[13:58:00.0000] <hsivonen>
Philip`: are you trying to bust everyone on the XPhiles list?

[14:02:00.0000] <Philip`>
hsivonen: No, I only happened to look at that one (since it was near the top of that list)

[14:03:00.0000] <Philip`>
It looks like many of the others are cheating because they're just static pages, and for the others it'd be too trivial to break them :-p

[14:05:00.0000] <hsivonen>
bertilo wennergren cheats by outsourcing searches to Google

[14:06:00.0000] <hsivonen>
adactio has gone text/html

[14:06:01.0000] <hsivonen>
/me gives up

[14:07:00.0000] <Philip`>
That doesn't stop http://www.bertilow.com/%ef%bf%bf.html

[14:08:00.0000] <hsivonen>
%ef%bf%bf always triumphs

[14:08:01.0000] <Philip`>
%01 is just as good

[14:09:00.0000] <Philip`>
(%00 only works in query strings because Apache always returns 404 if it's in the path name)

[14:09:01.0000] <Philip`>
Actually, %3C works perfectly well in this case too

[14:09:02.0000] <Philip`>
http://www.bertilow.com/<script>alert(document.cookie)</script>.html

[14:10:00.0000] <Philip`>
and that's not XML's fault

[14:10:01.0000] <annevk>
nice

[14:11:00.0000] <Philip`>
I think Validator.nu should have a feature that tries putting %00 and %01 and %ef%bf%bf and %3C into every form it can find on a site, and into every part of the address

[14:19:00.0000] <Philip`>
Hmm, could you use unescaped input bugs to insert <meta name="verify-v1" ...> into a page and take control of Google's settings for the site?

[14:20:00.0000] <Philip`>
(I'm not sure what pages Google accepts that on, or whether they require it to be in the <head> or something)

[15:32:00.0000] <gsnedders>
http://realtech.burningbird.net/?s=%ef%bf%bf — yeah U+FFFF always works

[16:33:00.0000] <Philip`>
Hixie: The Live DOM Viewer is broken and doesn't show attributes except in IE

[16:34:00.0000] <Philip`>
And don't try blaming me for that :-p


2008-03-14
[17:42:00.0000] <Hixie>
Philip`: i just used your code :-P

[17:44:00.0000] <Philip`>
Hixie: I never claimed that my code was a suitable general-purpose replacement :-)

[17:49:00.0000] <Hixie>
:-P

[17:50:00.0000] <Hixie>
ok i replaced it with the old code

[17:50:01.0000] <Hixie>
and put an ie8.html file there for IE

[18:38:00.0000] <Philip`>
http://realtech.burningbird.net/standards/xhtmlate-wordpress-comments/ seems good, though it fails to ban invalid characters from author names

[18:43:00.0000] <Philip`>
(and I can't go in to edit my post and fix the totally accidental inclusion of invalid characters because I get a YSoD :-( )

[19:46:00.0000] <Philip`>
Does anyone know how to make an exploit based on http://golem.ph.utexas.edu/instiki/new/Testing%20%3Ciframe%20onload=alert(document%26%23x2e;cookie)%3E work in XHTML?

[19:46:01.0000] <Philip`>
The difficulty is that it's seemingly impossible to use a / character

[20:19:00.0000] <Hixie>
Philip`: escape/encode the exploit somehow in the js, e.g. %-encoded, then just have hte exploit do something like eval(unescape(...exploit...)) and %-encode that and put it in the uri

[20:21:00.0000] <Philip`>
Hixie: The JS won't get executed unless the XHTML is well-formed, and I can't see how to make it well-formed

[20:21:01.0000] <Hixie>
oh yeah to make something well-formed you need a slash

[20:22:00.0000] <Hixie>
can you use the query component?

[20:22:01.0000] <Philip`>
In some cases it might be possible to do something with <![CDATA[ and somehow make it line up well-formedly with an existing ]]> somewhere later in the document, but I don't think that can work here

[20:24:00.0000] <Philip`>
As far as I can see, the query string is just ignored

[20:54:00.0000] <Hixie>
/me snaps

[21:02:00.0000] <Philip`>
/me wonders if he can calculate the tensile strength of a Hixie

[03:17:00.0000] <hsivonen>
/me notes that the serialization algorithm now escapes " to &quot; outside attributes. has it always been that way?

[04:48:00.0000] <Xiven->
/me conveys his thanks to Philip` for the lesson in Unicode safety

[05:01:00.0000] <Philip`>
Xiven-: My pleasure :-)

[05:01:01.0000] <Philip`>
/me hopes the comments etc don't allow in invalid characters

[05:04:00.0000] <Xiven->
it now removes invalid characters (based on the list at http://www.whatwg.org/specs/web-apps/current-work/#preprocessing) from all GET and POST data

[05:07:00.0000] <Xiven->
/me also thanks annevk and Hixie for passing the message on to him :)

[05:08:00.0000] <hsivonen>
now that Hixie made astal non-characters parse errors, a conforming XHTML text content might not be conforming HTML text content

[05:08:01.0000] <hsivonen>
astral even

[05:48:00.0000] <Xiven->
but yes, the disturbing part was that PHP's XML parser appeared to run out of memory on some invalid characters

[06:11:00.0000] <hsivonen>
aargh. it is way too easy to accidentally move an IMAP mailbox inside another in Mail.app 

[06:11:01.0000] <hsivonen>
a small slip of the pointing device and a click turns into a drag

[06:16:00.0000] <hsivonen>
Over the years, having an "are you sure" dialog for mailbox move and rename would save me non-trivial time

[06:18:00.0000] <hsivonen>
/me wonders why Unicode introduced REPLACEMENT CHARACTER when ASCII had1A USBSTITUTE

[06:20:00.0000] <zcorpan_>
hsivonen: the spec has always escaped " outside attributes, yes. but i've complained about that on the list

[06:25:00.0000] <hsivonen>
zcorpan_: ok

[06:26:00.0000] <zcorpan_>
at least i remember having complained about it, i can't find it on google or in the issues list

[06:27:00.0000] <zcorpan_>
ah http://lists.w3.org/Archives/Public/public-html/2007Jul/1030.html

[06:28:00.0000] <zcorpan_>
(though, not sure if it's in the issues list)

[06:29:00.0000] <zcorpan_>
/me had notes in http://simon.html5.org/tools/js/innerhtml-viewer/getInnerHTML.js

[06:31:00.0000] <hsivonen>
annevk, jgraham__: do you have an opinion on how test cases should test that forbidden characters emit parse errors?

[06:32:00.0000] <hsivonen>
(since the relative order of errors and tokens in not well-defined in that case)

[06:32:01.0000] <hsivonen>
for example, I implement the check as part of reading the next character from the stream

[06:34:00.0000] <Philip`>
hsivonen: The tests currently use something like ignoreErrorOrder:true for the cases where the order is undefined

[06:36:00.0000] <hsivonen>
Philip`: oh. I have to look into that

[06:36:01.0000] <hsivonen>
Philip`: thanks

[06:38:00.0000] <hsivonen>
it's crazy how long the read() method has become...

[06:38:01.0000] <annevk>
"HTML is tough"

[06:39:00.0000] <a-ja>
hsivonen: henri, whatcha think about that uF v2 idea of daniel's?

[06:41:00.0000] <hsivonen>
a-ja: I think it won't work because microformat producers are going to be sloppy and, therefore, consumers are going to be able to extract more data if they extract anything that looks like a microformat regardless of <meta> or profile='' or whatever

[06:41:01.0000] <a-ja>
breaks html5? or requires meta's to be allowed in standalone articles? just in head wouldn't seem to cut it

[06:42:00.0000] <annevk>
http://www.mnot.net/drafts/draft-nottingham-http-link-header-01.txt

[06:42:01.0000] <hsivonen>
a-ja: it's isn't as much about breaking HTML5. I just think that microformat consumers will find ignoring the meta more valuable

[06:44:00.0000] <a-ja>
i think head profile is gonna have enough issues....especially with list of long url's.  could easily break content-type sniff .5k / 1k limits

[06:45:00.0000] <annevk>
there's no such limit anymore though

[06:45:01.0000] <a-ja>
no?

[06:45:02.0000] <annevk>
right

[06:46:00.0000] <a-ja>
guess that's A Good Thing...at least in some ways

[06:49:00.0000] <a-ja>
FYI: 

[06:49:01.0000] <a-ja>
/me offers FREE as in  BEER bug bounty  - A case to whoever gets bug 311366 patch checked in before b5 code freeze, and gets it to stick for FF3 final

[06:49:02.0000] <a-ja>
not takers yet ^

[06:49:03.0000] <a-ja>
s/not/no/

[06:55:00.0000] <Philip`>
http://golem.ph.utexas.edu/instiki/show/Sandbox - alas

[07:00:00.0000] <hsivonen>
is there an easy online tool for converting astral chars into surrogate pairs?

[07:01:00.0000] <hsivonen>
http://rishida.net/scripts/uniview/conversion.php

[07:02:00.0000] <Philip`>
hsivonen: http://www.fileformat.info/info/unicode/char/10000/index.htm

[07:02:01.0000] <hsivonen>
Philip`: thanks

[07:34:00.0000] <hsivonen>
http://odfalliance.org/resources/google-response-post-brm.pdf contains a couple of HTML-relevant points

[07:34:01.0000] <hsivonen>
1) Requiring vendor extensions to be documented in order to conform to the base language.

[07:34:02.0000] <hsivonen>
and

[07:34:03.0000] <hsivonen>
2) that Transitional isn't

[08:25:00.0000] <hsivonen>
I regret suggesting that 0x80-0x9F bytes be errors when ISO-8859-1 is declared

[08:27:00.0000] <annevk>
i don't think it makes much sense

[08:27:01.0000] <annevk>
iso-8859-1 is just an another alias

[08:29:00.0000] <hsivonen>
Hixie: can I just say I was wrong and ask this detail to be reversed? (especially since doing the consistent thing with GBK would be a PITA)

[08:29:01.0000] <annevk>
hsivonen, can't you just use the declared encoding instead?

[08:29:02.0000] <annevk>
that way they'll automatically be errors

[08:30:00.0000] <hsivonen>
annevk: then the parser could no longer be used as an error reporting general-purpose parser

[08:31:00.0000] <hsivonen>
annevk: also, then show source would wrong assuming the 1252 interpretation is right

[14:09:00.0000] <hsivonen>
whoa. the Talk:Acid2 really is sad.

[14:09:01.0000] <hsivonen>
is the irc log at krijnhoetmer.nl a verifiable source?


2008-03-17
[10:00:00.0000] <annevk>
i see they're still busy trying to understand Web architecture

[10:00:01.0000] <annevk>
;)

[10:01:00.0000] <Dashiva>
Let's try not antagonizing more people than we have to :)

[10:03:00.0000] <annevk>
Apparently they also didn't understand that IE has had namespace in text/html support for ages

[10:05:00.0000] <zcorpan>
annevk: i think that was known by everyone present... what makes it apparent that it wasn't?

[10:06:00.0000] <annevk>
That this whole debate is triggered by some release notes of the IE8 beta

[10:07:00.0000] <zcorpan>
yeah, i don't understand what ie8's namespace changes have got to do with this or why it was discussed in the telecon

[10:17:00.0000] <KevinMarks>
morning

[10:18:00.0000] <KevinMarks>
we need to help encourage Joel to use his rhetorical skills to promote the HTML5 solution: http://www.joelonsoftware.com/items/2008/03/17.html

[10:19:00.0000] <annevk>
/me was just reading that

[10:22:00.0000] <KevinMarks>
he explains the problem well, but clearly doesn't know about the "deterministic algorithm for graceful (non-draconian) error handling" idea

[10:23:00.0000] <Philip`>
The existence of such a deterministic algorithm is no guarantee that web browsers are actually going to implement it

[10:24:00.0000] <Philip`>
(As far as I'm aware, no browser developer has indicated that they want to rewrite their HTML parser - they'll just keep patching holes until nobody important is complaining about it)

[10:24:01.0000] <KevinMarks>
agreed, but if it is based on their common behaviour then there is a better chance of convergence 

[10:25:00.0000] <annevk>
we'll just test it extensivily in Acid5 and they will be forced to implement it :)

[10:26:00.0000] <Philip`>
The browser developers will gang together and produce an Acid6 which is trivial to pass and they'll post it to lots of news sites and say "we already pass Acid6, who cares about Acid5"

[10:27:00.0000] <annevk>
that seems very unlikely

[10:28:00.0000] <Philip`>
Or everyone will get fed up with Acid tests because there's been lots already and browsers are still rubbish and buggy so the tests are just a waste of time

[10:28:01.0000] <annevk>
that also seems unlikely

[10:28:02.0000] <annevk>
we like tests :)

[10:29:00.0000] <KevinMarks>
markp's comments on how  RSS/Atom was converged are interesting: http://diveintomark.org/archives/2008/03/15/dead-fish

[10:35:00.0000] <Philip`>
It's not generally true to say that pages not working in IE8b1 are due to compatibility issues - they're often not working just because IE8b1 is buggy

[10:38:00.0000] <Philip`>
(e.g. failing to count up to 3 is a bug, not a standards-compliance or IE7-compatibility issue)

[10:50:00.0000] <gsnedders>
And that's the exact reason why I see no point in hacking for IE8b1

[10:52:00.0000] <gsnedders>
Philip`: How dare they produce Acid6!? 5 > *.

[10:53:00.0000] <Philip`>
gsnedders: Maybe it'd be 5.5

[10:53:01.0000] <gsnedders>
Philip`: 5.5 < 5.

[10:53:02.0000] <annevk>
if it comes from browsers it'd be 5.2

[10:53:03.0000] <gsnedders>
still < 5 :(

[10:54:00.0000] <Philip`>
Is 5 > ∞?

[10:54:01.0000] <Philip`>
(It would make more sense for them to be incomparable, since there's no reason for a total order)

[10:54:02.0000] <gsnedders>
Philip`: yes

[10:54:03.0000] <annevk>
gsnedders, that comparison is in integer values and 5.2 casted to an integer would give the right result

[10:55:00.0000] <gsnedders>
annevk: well, in C (int) 5.99 == 5 :P

[10:55:01.0000] <Philip`>
This would kind of disrupt most of the properties of arithmetic that make it sane

[10:55:02.0000] <gsnedders>
Philip`: "Please leave your sense of logic at the door, thanks!"

[10:55:03.0000] <Philip`>
particularly since you're saying 5 > 5 too

[10:56:00.0000] <gsnedders>
Philip`: that's the only bit that I've yet to get my head round

[10:56:01.0000] <Philip`>
Logic and sanity are orthogonal concepts :-)

[10:59:00.0000] <Philip`>
You can work perfectly logically in a system where your ordering relation is > ⊆ {(5, n) | n ∈ S} for whatever the appropriate S is, but it wouldn't be a particularly sane system

[11:00:00.0000] <gsnedders>
true

[11:01:00.0000] <Philip`>
By the way, my font here lacks sufficient glyphs :-(

[11:01:01.0000] <gsnedders>
heh.sux.

[11:27:00.0000] <virtuelv>
http://www.joelonsoftware.com/items/2008/03/17.html

[12:14:00.0000] <tomg>
heh

[12:14:01.0000] <tomg>
good post

[12:24:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/public-xhtml2/2008Mar/0030.html

[15:00:00.0000] <itpastorn>
Hi, does anyone know if IE 8 supports "grey" spelled with an e?

[15:01:00.0000] <Hixie>
if you have access to IE8 it should be easy enough to test :-)

[15:01:01.0000] <itpastorn>
I don't

[15:02:00.0000] <Philip`>
itpastorn: Supports in what context?

[15:02:01.0000] <Philip`>
(CSS?)

[15:02:02.0000] <itpastorn>
css color background-color border

[15:05:00.0000] <Philip`>
itpastorn: It does support "grey" in CSS

[15:05:01.0000] <Hixie>
hsivonen: "XHTML 1.1 documents SHOULD be labeled with the Internet Media Type text/html" -- http://www.w3.org/TR/xhtml11/conformance.html#strict

[15:05:02.0000] <itpastorn>
Jay, thanks!

[15:05:03.0000] <Philip`>
(regardless of any x-ua-compatible or quirks mode etc)

[15:06:00.0000] <itpastorn>
Even in IE7 mode, actually interesting!

[15:06:01.0000] <Philip`>
(I haven't tried the "Emulate IE7" mode, so I don't know if that's different)

[15:07:00.0000] <Philip`>
(and, so far as I can tell, simply clicking the button then closing all IE windows doesn't make it go into IE7-emulation mode)

[15:08:00.0000] <Philip`>
(and I'm not going to bother restarting Windows for this :-p )

[15:08:01.0000] <itpastorn>
Ok, I have got all info I need at the moment

[15:08:02.0000] <itpastorn>
Thanks

[15:11:00.0000] <Philip`>
Hmm, IE8 also supports <body bgcolor=grey>, whereas IE6 treats that as green (#00e000)

[15:13:00.0000] <Philip`>
http://www.bebt.com/

[15:14:00.0000] <Philip`>
The box at the top is a nice green in IE6, but ugly grey in IE8 and other browsers :-(

[15:16:00.0000] <annevk>
http://lists.w3.org/Archives/Public/public-appformats/2008Mar/0036.html ...

[15:16:01.0000] <annevk>
i hope that's not their explanation for why they completely dismissed Access Control

[15:16:02.0000] <Philip`>
Who needs Content-Type anyway?

[15:17:00.0000] <jwalden>
scream

[15:17:01.0000] <Philip`>
They might as well send requests without that header at all

[15:17:02.0000] <annevk>
Content-Type is a distraction

[15:17:03.0000] <annevk>
it's that they completely disregard better solutions without justification

[15:18:00.0000] <annevk>
and come up with something proprietary instead and try to push that through the WG...

[15:18:01.0000] <annevk>
after over a year of work on Access Control with near zero involvement of Microsoft

[15:21:00.0000] <Philip`>
(Woah, IE6 in Wine actually plays background music on web pages - that's quite impressive and very irritating)

[15:22:00.0000] <jwalden>
I read "Microsoft would like to submit XDR to the W3C for standardization so that other browsers can benefit from this technology." and think, how magnanimous of them to submit another proposal to do something already being addressed elsewhere :-\

[15:22:01.0000] <Philip`>
It sounds like they want to freeze their current XMLHttpRequest implementation and not make any non-trivial changes to it

[15:23:00.0000] <Hixie>
is |foo in bar| ES3 syntax?

[15:23:01.0000] <annevk>
for(x in y) is

[15:23:02.0000] <jwalden>
yes, 'tis

[15:24:00.0000] <jwalden>
"length" in []

[15:24:01.0000] <Hixie>
aha, yes, 11.8.7

[15:25:00.0000] <jwalden>
also nice: "or it could be inserted into a DOM as static text (using .innerText)"

[15:26:00.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/011607/2000/PX02991.pdf is why office documents are such a mess, presumably

[15:26:01.0000] <jwalden>
and really, "1" as the value of the header instead of "yes", "true", "enabled", etc.?

[15:33:00.0000] <annevk>
Hixie, documents like that make me wonder why i'm so fricking naive

[15:34:00.0000] <annevk>
the thought that they're actually making office suck on purpose never occured to me

[15:35:00.0000] <othermaciej>
hmmm

[15:35:01.0000] <othermaciej>
do they have any real security risks in mind?

[15:35:02.0000] <othermaciej>
I keep asking and they keep giving vague answers

[15:35:03.0000] <vlad_>
Hixie: wow

[15:36:00.0000] <othermaciej>
Hixie: man, lots of juicy emails from that case, eh?

[15:36:01.0000] <Hixie>
othermaciej: indeed

[15:37:00.0000] <annevk>
/me blogs this one

[15:37:01.0000] <vlad_>
I'm sure Microsoft has turned over a new leaf, though

[15:37:02.0000] <vlad_>
Silverwhat will user in a new era of happy compatability and openness

[15:37:03.0000] <othermaciej>
Hixie: these emails are very interesting to me in the huge difference of the kinds of issues Gates cares about vs. the kind of issues my CEO cared about

[15:37:04.0000] <Hixie>
othermaciej: same here

[15:38:00.0000] <Hixie>
othermaciej: if our CEO tried that kind of stuff here, there would be a riot

[15:38:01.0000] <othermaciej>
I don't even mean the evil

[15:38:02.0000] <othermaciej>
SJ is no saint

[15:38:03.0000] <othermaciej>
he just would not care about long-term strategic impact of tiny technical details

[15:38:04.0000] <Hixie>
ah

[15:38:05.0000] <othermaciej>
he has people to think about that kind of thing for him

[15:39:00.0000] <vlad_>
isn't it a CEO's job to care about long-term strategic impact?

[15:39:01.0000] <roc>
that's an oldie but a goodie

[15:40:00.0000] <roc>
I'm actually quite impressed by billg's grasp of details

[15:41:00.0000] <roc>
what annoys me is that if you take this stuff seriously and behave reasonably in response, you end up being painted as some sort of anti-Microsoft zealot freak

[15:42:00.0000] <vlad_>
roc: or that there's always a claim that it's always "old-microsoft" that did this

[15:43:00.0000] <roc>
yeah "we've changed, give us another chance"

[15:44:00.0000] <Hixie>
i didn't note it down, but one of the e-mails referred to the previous DOJ case, whining about how unjust it was

[15:44:01.0000] <Hixie>
which would seem to suggest that they haven't figured out why that behaviour is wrong

[15:44:02.0000] <Hixie>
so it seems unlikely they'd have changed

[15:44:03.0000] <roc>
it's cultural

[15:44:04.0000] <roc>
hard to change

[15:45:00.0000] <Philip`>
othermaciej: I think Bill Gates sent more emails than the ones that were used as evidence in that case, so there are probably many more things he cares more about which are perfectly good things, and it only looks so different because of the bias in the selection

[15:45:01.0000] <Philip`>
or, uh, something like that

[15:46:00.0000] <othermaciej>
Philip`: I'm not even saying he's more evil, just different focus

[15:46:01.0000] <Philip`>
Indeed, I should have read your subsequent lines too :-)

[15:46:02.0000] <roc>
the problem isn't that he's more evil, it's that he's better at it

[15:46:03.0000] <roc>
or was

[15:46:04.0000] <othermaciej>
vlad_: SJ is much more concerned about the user experience as opposed to platform wars (which is what I perceive as BillG's focus)

[15:47:00.0000] <othermaciej>
both can of course be laden with strategic concerns

[15:47:01.0000] <vlad_>
othermaciej: yeah, true

[15:47:02.0000] <vlad_>
though both seem like valid things for a CEO to focus on.. but billg does definitely seem to be more focused on crush-competition

[15:47:03.0000] <othermaciej>
and of course, Apple has a mixed record on interoperability, although I would like to think we are doing very well on that in the web space

[15:47:04.0000] <jwalden>
it's not SJ's job to think, it's his job to be an artist</fakesteve>

[15:47:05.0000] <jwalden>
:-)

[15:48:00.0000] <vlad_>
true.. apple's interop record is nowhere near as bad as microsoft's, though -- and it never really seemed all that bad

[15:56:00.0000] <gsnedders>
'I have a hard time dealing with these "il formed xml" excuses, when regular feed readers 

[15:56:01.0000] <gsnedders>
show these feeds flawlessly...'

[15:57:00.0000] <Philip`>
/me wonders where that is from

[15:57:01.0000] <gsnedders>
Philip`: mid:frmsa0+gamt⊙ec

[15:57:02.0000] <gsnedders>
/me looks up archive of it

[15:58:00.0000] <gsnedders>
http://tech.groups.yahoo.com/group/simplepie-support/message/482

[15:59:00.0000] <gsnedders>
annevk: you see my email a few weeks ago about XML5?

[15:59:01.0000] <annevk>
yes

[15:59:02.0000] <annevk>
i was going to say no to the first

[15:59:03.0000] <Philip`>
gsnedders: Aha

[15:59:04.0000] <annevk>
and at some point to the second question

[16:00:00.0000] <annevk>
but you could assume "yes" for your first question as reparsing doesn't have any side effects if you don't execute scripts

[16:00:01.0000] <jwalden>
btw, Hixie, did you see my comment here on Saturday or so?

[16:01:00.0000] <gsnedders>
annevk: why would I be executing scripts as I parse with XML?

[16:01:01.0000] <Hixie>
jwalden: no idea. i don't always read scrollback, it's far better to e-mail me :-)

[16:02:00.0000] <Philip`>
"Only "UTF-8" is supported by the router." - alas, Cisco routers are not conforming XML processors :-(

[16:02:01.0000] <jwalden>
<jwalden> Hixie: I'm not sure that Unicode clearly defines replacement-character behavior for <high-surrogate not-low-surrogate> with UTF-16; arguably, either <U+FFFD> or <U+FFFD not-low-character> are valid interpretations, given the vagueness of the wording in the Unicode spec in 3.2 C10

[16:02:02.0000] <Philip`>
(unless their documentation wrong, which is not entirely impossible)

[16:03:00.0000] <Philip`>
s//is /

[16:03:01.0000] <jwalden>
<jwalden> easy enough to fix, and changing to the latter seems to agree with other browsers, but still, it's not quite clear-cut to me

[16:03:02.0000] <Hixie>
jwalden: ah, yes, i saw that

[16:03:03.0000] <Hixie>
jwalden: what about it?

[16:03:04.0000] <annevk>
Hixie, the XML encoding test in Acid3, nr 70, has the wrong checks for 2/3

[16:03:05.0000] <Hixie>
annevk: still? i thought i fixed that when you reported it earlier

[16:03:06.0000] <annevk>
oh ok

[16:03:07.0000] <annevk>
/me didn't check

[16:04:00.0000] <gsnedders>
annevk: I don't think you can remain compatible with XML 1.0 docs without saying yes to the first question, actually, though I expect you could do things like placing a specific limit to avoid the billion laughs attack which is different to what, say, libxml2 already uses

[16:04:01.0000] <jwalden>
Hixie: nothing particular, just that it seems halfway-reasonable to allow the <U+FFFD>-only behavior

[16:05:00.0000] <gsnedders>
/me waves g'nite

[16:06:00.0000] <annevk>
gsnedders, if you have <html xmlns="http:...xhtml"><script> alert(1) </script> as document (missing </html>) you don't want the script to execute twice

[16:10:00.0000] <Hixie>
jwalden: is there anything in the html5 spec that doesn't allow that? i thought i just left it up to the encoding specs to define "sequence of incorrectly encoded bytes" or whatever term it is i use

[16:14:00.0000] <gsnedders>
annevk: ya, sure. But you don't execute on element add in XHTML, do you?

[16:20:00.0000] <Philip`>
I don't entirely like it when people use XML Schemas as an alternative to documentation

[16:21:00.0000] <Hixie>
btw i was speaking to one of our language guys internally here and he introduced me to an interesting concept that would dramatically simplify the way async programming works

[16:22:00.0000] <Hixie>
instead of doing: asyncFunction(arguments, function (data) { ...callback... });

[16:22:01.0000] <Hixie>
he suggests: var promise = asyncFunction(arguments); promise.callback(function (data) { ... });

[16:22:02.0000] <Philip`>
Sounds (so far) quite like Deferred objects in Twisted

[16:23:00.0000] <Hixie>
where |promise| is an object with one method, which takes a method, and which calls that method as soon as it has a value

[16:23:01.0000] <Philip`>
(which let you add callback and errback functions, which either get called synchronously (if the result is available) or at some point in the future)

[16:23:02.0000] <Hixie>
in the simple case it becomes asyncFunction(arguments).callback(function (data) { ... });

[16:23:03.0000] <Hixie>
yeah

[16:24:00.0000] <Hixie>
(though i'd always do it async, to avoid subtle timing bugs)

[16:24:01.0000] <sayrer>
MochiKit does this with partial functions

[16:24:02.0000] <sayrer>
it's not bad

[16:24:03.0000] <sayrer>
http://mochikit.com/doc/html/MochiKit/Async.html#fn-deferred

[16:24:04.0000] <Hixie>
probably too late for the database API, but it would be an interesting pattern for the messages/workers stuff

[16:37:00.0000] <dglazkov>
this sounds pretty interesting

[16:37:01.0000] <dglazkov>
but now there needs to be polling on the other thread, looking for that method.

[16:38:00.0000] <dglazkov>
doesn't need to be on other thread, but still need to poll

[16:38:01.0000] <Hixie>
why polling?

[16:39:00.0000] <dglazkov>
ah, store results, and only invoke callback when assigned, sorry, didn't read properly

[16:40:00.0000] <dglazkov>
invocation of callback checks the results and invokes the callback, if op completed

[16:40:01.0000] <Hixie>
right

[16:40:02.0000] <dglazkov>
otherwise, we wait for completion and then invoke callback

[16:40:03.0000] <dglazkov>
neat!

[16:40:04.0000] <dglazkov>
let's change the db spec!

[16:41:00.0000] <Hixie>
heh

[16:41:01.0000] <Hixie>
probably too late for the db spec at this point, unless you can get everyone on board

[16:41:02.0000] <vlad_>
er, I hope you don't really mean "wait for completion" in there

[16:41:03.0000] <vlad_>
like, token.callback() shouldn't block, right?

[16:42:00.0000] <Hixie>
right

[16:42:01.0000] <dglazkov>
right

[16:42:02.0000] <vlad_>
(though token should have a method that -will- make it block)

[16:42:03.0000] <vlad_>
because then you can choose whether to do something async or sync

[16:42:04.0000] <Philip`>
It's perhaps bad in the non-callback case like void(asyncFunction(args)), because it has to keep the results around in case somebody sets .callback() in the future, until the GC realises the return value from asyncFunction was lost

[16:43:00.0000] <dglazkov>
just keep it until token is alive

[16:43:01.0000] <dglazkov>
don't think it's that big of a deal

[16:44:00.0000] <dglazkov>
/me imagines a Gb of results sitting on the token

[16:46:00.0000] <Philip`>
(Twisted allows reasonably nice things like callback chaining, so you can say db.fetch("select * from wherever").addCallback(remote.twiddle).addCallback(print_results) where db.fetch returns a Deferred object, and remote.twiddle receives results from the previous stage and returns a new Deferred object)

[16:47:00.0000] <Philip`>
(instead of db.fetch(...).addCallback(lambda r: remote.twiddle(r).addCallback(print_results)))

[16:47:01.0000] <Philip`>
(but Python's lambda support is rubbish, so it's more painful than it should be)


2008-03-18
[17:21:00.0000] <Hixie>
annevk: yt?

[18:51:00.0000] <Hixie>
huh

[18:51:01.0000] <Hixie>
there's exactly one IDREFS attribute in HTML4

[18:51:02.0000] <Hixie>
how annoying

[18:59:00.0000] <Hixie>
http://edge-op.org/iowa/www.iowaconsumercase.org/011607/2000/PX02996.pdf may be the reason behind microsoft's proposal against XXX

[19:00:00.0000] <Hixie>
or at least, that mindset

[19:07:00.0000] <Philip`>
"... CSS (which is essentially an IE-specific feature)" - I'm glad it's no longer 1998 and there's more than one decent browser

[19:17:00.0000] <othermaciej>
certainly no one would call CSS an IE-specific feature nowadays

[23:36:00.0000] <annevk>
Hixie, am now

[23:51:00.0000] <annevk>
omg, the Microsoft stream of FUD continues

[23:52:00.0000] <annevk>
http://lists.w3.org/Archives/Public/public-appformats/2008Mar/0043.html

[00:07:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/public-xhtml2/2008Mar/0036.html

[00:09:00.0000] <webben>
wha?

[00:09:01.0000] <webben>
I wonder if he's only talking about 1.1 revisions

[00:10:00.0000] <hsivonen>
webben: I pretty sure he is talking more generally

[00:10:01.0000] <othermaciej>
does Sunava not understand what the word "specific" means?

[00:11:00.0000] <othermaciej>
annevk: I'm pretty tired of repeatedly asking for a description of a specific vulnerability

[00:12:00.0000] <othermaciej>
annevk: do you think they really have one?

[00:12:01.0000] <webben>
can TBL not sort this out one way or the other? ; we can't both have HTML5 defining how to process a the XHTML1 namespace and text/html and XHTML2 using the same namespace (they're still doing that, are they not) and  trying to subset text/html.

[00:13:00.0000] <annevk>
I have the feeling it's a bunch of FUD and Microsoft doesn't try very hard to provide proof to the contrary

[00:13:01.0000] <hsivonen>
webben: be careful what you ask for when it comes to sending issues to TAG

[00:13:02.0000] <othermaciej>
it could just be that Sunava is not a very good analyst or communicator

[00:21:00.0000] <annevk>
Yeah, could be. I believe he's a manager and doesn't work on the code himself.

[01:06:00.0000] <Hixie>
webben: i wouldn't worry about it

[01:07:00.0000] <Hixie>
webben: if it's impossible to implement both html4/xhtml1 and xhtml2 at the same time (as will be the case if xhtml2 continues along its present vector) then the issue of whether browsers should implement xhtml2 or not will be neatly solved.

[01:18:00.0000] <Hixie>
hodeehum, the idrefs problem isn't such a big problem after all

[01:29:00.0000] <annevk>
which idref problem?

[01:42:00.0000] <hsivonen>
http://realtech.burningbird.net/standards/joel-spolsky-crap-is-good/

[01:48:00.0000] <annevk>
/me looks forward to “Standards are tough!  Let’s go shopping!”

[01:48:01.0000] <othermaciej>
shopping is tough

[01:49:00.0000] <hsivonen>
indeed. with all the Flash in the way of mobile shopping support use cases

[01:50:00.0000] <roc>
annevk: http://ejohn.org/blog/getboundingclientrect-is-awesome/

[01:51:00.0000] <vlad_>
yes, it's very awesome

[01:53:00.0000] <hsivonen>
I think what Joel is missing is what Dean Edwards points out: today the Web works without IE

[01:53:01.0000] <hsivonen>
the IE legacy is now hurting IE8--not helping it

[01:53:02.0000] <Hixie>
/me finds suspicious &-related syntax in office open xml that may in fact be non-xml

[01:53:03.0000] <Hixie>
/me investigates

[01:54:00.0000] <hsivonen>
/me notes that OOXML can store non-XML Char code points in a really ugly and inefficient way but doesn't explain the semantics of those code points when found in a document

[01:56:00.0000] <roc>
because of their "embed the legacy engine" technique, the IE legacy is going to hurt them forever

[01:58:00.0000] <hsivonen>
given the current Web environment (intranets and CD-ROM are not part of the Web), modeling the way Safari entered the market would seem like smarter move

[02:00:00.0000] <hsivonen>
is cross-site XHR in Firefox 3 dead for good or is the issue still up in the air?

[02:01:00.0000] <Pavlov>
pretty dead

[02:01:01.0000] <roc>
looks pretty dead

[02:01:02.0000] <Pavlov>
working group took too long ;(

[02:01:03.0000] <hsivonen>
:-(

[02:01:04.0000] <Hixie>
actually it is dead because dveditz and a couple of other people were scared to send cookies with the request

[02:01:05.0000] <annevk>
roc, cool, any updates on ClientRect.width/height? :)

[02:01:06.0000] <Hixie>
(not because the working group "took too long")

[02:02:00.0000] <roc>
annevk: not really on my list for 1.9

[02:02:01.0000] <annevk>
kk

[02:02:02.0000] <Pavlov>
Hixie: it was getting cut because of the working group taking too long

[02:02:03.0000] <roc>
which doesn't really matter since IE doesn't have them so authors have to be able to deal with that anyway

[02:02:04.0000] <roc>
for now

[02:02:05.0000] <annevk>
Pavlov, no, that was not the primary reason

[02:02:06.0000] <Pavlov>
um

[02:02:07.0000] <Pavlov>
i sit next to jonas?

[02:02:08.0000] <Pavlov>
the nail in the coffin was security

[02:02:09.0000] <annevk>
Pavlov, also, if the WG took too long that's because Mozilla was asking for changes when we thought we were almost done

[02:03:00.0000] <vlad_>
er, I thought the issue was the opposite

[02:03:01.0000] <vlad_>
that we thought that we were done, but that the wg was asking for changes

[02:03:02.0000] <hsivonen>
hmm. I guess the "Ajax mashup" aspect of Validator.nu is then dead is the XTech timeframe :-(

[02:03:03.0000] <vlad_>
not being able to come to consensus about the cookie issues was definitely the nail in the coffin, though

[02:04:00.0000] <vlad_>
(even though I still think that we should just send cookies, because it's not any different than what the web does today for all sorts of stuff)

[02:04:01.0000] <othermaciej>
I'm surprised cross-site XHR is dropped, but at least there is postMessage for controlled cross-site communication

[02:04:02.0000] <othermaciej>
which should be available in a cross-browser way soon

[02:04:03.0000] <Pavlov>
annevk: everyone really wanted it in, which is the only reason it got cut so late

[02:04:04.0000] <Pavlov>
it should have been cut much earlier

[02:04:05.0000] <vlad_>
othermaciej: yeah, that was presented as a viable alternative

[02:04:06.0000] <annevk>
it's still in nightlies afaict

[02:04:07.0000] <hsivonen>
It sucks that now IE8 can be the first-mover in scripted cross-site requests

[02:05:00.0000] <vlad_>
hsivonen: well, you can emulate things with postMessage pretty well

[02:05:01.0000] <othermaciej>
it can't be the first mover in a beta release

[02:05:02.0000] <Hixie>
yeah, if firefox3 doesn't ship with xhr done right, we may well be presented with the microsoft treadmill in the form of their xdr nonsense

[02:05:03.0000] <othermaciej>
whether it will be first in a non-beta remains to be seen

[02:05:04.0000] <annevk>
Pavlov, the WG did make some changes, but every change I've made sure Jonas was ok with it; Jonas himself also requested several simplifications that he had already implemented

[02:05:05.0000] <vlad_>
Hixie: yeah, at this point fx3 won't =/

[02:05:06.0000] <vlad_>
whatever's next certainly will, though

[02:06:00.0000] <Hixie>
vlad_: yeah, it's sad. might be more expensive for mozilla (and the other vendors) on the long run. luckily for me, xhr isn't my problem any more :-)

[02:06:01.0000] <hsivonen>
vlad_: I had a RESTful Web service API design. It wasn't designed for Firefox. Access-control made it easy for me to CS-XHR-enable it my editing one servlet class

[02:06:02.0000] <vlad_>
hsivonen: I agree

[02:06:03.0000] <vlad_>
I quite liked the XD-XHR model

[02:06:04.0000] <hsivonen>
vlad_: with postMessage, I now would have to serve up an iframeable JS API specifically

[02:07:00.0000] <vlad_>
right

[02:07:01.0000] <vlad_>
like I said, the final issue was the cookies problem

[02:07:02.0000] <annevk>
It's too bad people always refer to it as cross-site XMLHttpRequest while it also enables cross-site XSLT, XBL, <event-source>, etc.

[02:07:03.0000] <vlad_>
because you're damned if you do and damned if you don't

[02:07:04.0000] <Hixie>
vlad_: convince dveditz to change his mind :-)

[02:08:00.0000] <hsivonen>
moreover, for moving a DOM tree across postMessage will suck big time

[02:08:01.0000] <vlad_>
Hixie: afaik, we did, but it was already too late to change back (again)

[02:08:02.0000] <Hixie>
i suppose if ff3 ships soon enough, mozilla could switch to a more rapid dev cycle and release ff3.1 before ie8 comes out

[02:08:03.0000] <Hixie>
(a more rapid dev cycle would solve several problems mozilla is having)

[02:08:04.0000] <annevk>
you changed his mind and now it's too late? :(

[02:08:05.0000] <annevk>
man, that's a sad story

[02:09:00.0000] <vlad_>
annevk: nah, life goes on

[02:09:01.0000] <vlad_>
it's not the last firefox release :p

[02:09:02.0000] <vlad_>
I also made an argument that perhaps the spec should handle cookies explicitly

[02:09:03.0000] <Hixie>
might be the last one this decade though :-P

[02:09:04.0000] <vlad_>
and require sites to indicate whether they want cookies or not

[02:09:05.0000] <annevk>
I'm glad I hear all this just before I leave for a long weekend in Spain

[02:09:06.0000] <Pavlov>
Hixie: very very very doubtful

[02:10:00.0000] <hsivonen>
I guess I'll send email about the Validator.nu scenario in response to XDR, though

[02:11:00.0000] <vlad_>
zzz time

[02:11:01.0000] <Hixie>
Pavlov: i hope you're right

[02:12:00.0000] <Hixie>
but there's less than 2 years left this decade, and that doesn't leave long for a whole cycle at the current rate

[02:12:01.0000] <sayrer>
the next one will be faster

[02:12:02.0000] <roc>
everyone knows that 2010 is part of this decade

[02:12:03.0000] <sayrer>
in fact, several of the features are already done :)

[02:13:00.0000] <Hixie>
that's what was said after 1.5 and after 2.0, too :-)

[02:13:01.0000] <sayrer>
things are different now

[02:13:02.0000] <roc>
2.0 WAS a fast cycle

[02:14:00.0000] <Hixie>
ah, my memory must be failing me. it was so long ago. :-P

[02:14:01.0000] <Pavlov>
2-3 wasn't that long of a cycle either, really, except for those of us who were working on it for 1.5 years before everyone else

[02:14:02.0000] <Pavlov>
:/

[02:15:00.0000] <Hixie>
(btw https://bugzilla.mozilla.org/show_bug.cgi?id=408098 doesn't at all convey the cutting of xxx as being a done deal, other than in the flags)

[02:15:01.0000] <Pavlov>
a little long

[02:15:02.0000] <sayrer>
main problem was the planning process

[02:15:03.0000] <Pavlov>
Hixie: yeah, we stoppe dtaking -'d things last week

[02:15:04.0000] <sayrer>
in that we had one

[02:16:00.0000] <sayrer>
what a waste of time

[02:16:01.0000] <Pavlov>
/me rolls his eyes at sayrer

[02:18:00.0000] <sayrer>
yes, I would like to change my position. Pavlov is right. The Firefox 3 planning process was a great success.

[02:19:00.0000] <Pavlov>
it turned out pretty well i'd say

[02:20:00.0000] <sayrer>
except for all time we wasted on irrelevant shit

[02:20:01.0000] <Pavlov>
like?

[02:20:02.0000] <Pavlov>
i'm pretty sure I haven't wasted any time on "irrelevant shit" in the last 3 years

[02:20:03.0000] <sayrer>
I don't think you did

[02:21:00.0000] <Pavlov>
and i can say that planning out much of the thigns i did was useful

[02:21:01.0000] <sayrer>
we also landed like 2 megs of security theater code in NSS

[02:21:02.0000] <sayrer>
as planned!

[02:21:03.0000] <Pavlov>
so, if you want to give the UI guys crap go for it

[02:23:00.0000] <sayrer>
no, it takes a village for something like that

[02:23:01.0000] <Pavlov>
i don't think so.  specifically the platform team took a very different approach to planning than the frontend team did

[02:27:00.0000] <roc>
now now

[02:28:00.0000] <Philip`>
/me notices that http://www.joelonsoftware.com/items/2008/03/17.html appears to have quite good <img alt> text

[02:49:00.0000] <shepazu>
Hixie: http://www.viruscomix.com/page433.html

[03:52:00.0000] <hsivonen>
shepazu: the science guy looks like Dawkins but who are the other three faces?

[03:57:00.0000] <shepazu>
hsivonen: I think the last guy may be Hitchens

[03:59:00.0000] <hsivonen>
shepazu: could be, yeah

[04:01:00.0000] <roc>
wild guess: Hitchens, Dawkins, Dennett, and Harris

[04:03:00.0000] <hsivonen>
roc: thanks

[04:27:00.0000] <shepazu>
lol... funny that roc would be the one to know it :)

[04:27:01.0000] <shepazu>
that's irony for you

[04:32:00.0000] <roc>
of course I'm interested in their activities :-)

[05:25:00.0000] <hsivonen>
wow. a Danish bank manages to be even more idiotic about Web banking than American or Korean banks:

[05:25:01.0000] <hsivonen>
Danske Bank acquired Sampo Pankki

[05:26:00.0000] <hsivonen>
then proceeded to switch the Web bank UI to require client-side Java

[05:26:01.0000] <hsivonen>
the result doesn't work for thousands of customers

[05:26:02.0000] <hsivonen>
do these bank system architects live in 1995 or something?

[05:26:03.0000] <zcorpan>
lol

[05:27:00.0000] <Dashiva>
They're used to mainframe systems :)

[05:27:01.0000] <Camaban>
it *works* for them, thereofre it must work for everyone else ;)

[05:28:00.0000] <hsivonen>
the other banks operating in Finland have Web banks that work on just about anything from Lynx to random mobile devices

[05:32:00.0000] <didymos>
hsivonen, oh yeah, but Danske Bank's solution is very secure!

[05:32:01.0000] <didymos>
sigh

[05:33:00.0000] <shepazu>
hsivonen: you assume this was an accident

[05:33:01.0000] <shepazu>
perhaps Denmark is preparing an invasion of Finland?

[05:34:00.0000] <didymos>
shepazu, we have a plan in the making

[05:34:01.0000] <shepazu>
I would see the use of Java as a hostile act, certainly

[05:34:02.0000] <didymos>
shepazu, yeah, maybe someone ought to attack Denmark to free us from Java

[05:35:00.0000] <Camaban>
not an invasion, a liberation? :)

[05:35:01.0000] <shepazu>
you could print a cartoon of Mohammed drinking a cup of coffee under a shining Sun, and have the terrorists take care of the problem

[05:35:02.0000] <hsivonen>
didymos: reportedly, they use an outdated server version...

[05:36:00.0000] <shepazu>
jihad on Sun Microsystems!!!

[05:36:01.0000] <shepazu>
or fatwa, maybe

[05:37:00.0000] <Camaban>
ah, surely using client side java is jsut the pragmatic solution, all this cross browser stuff is too idealistic

[05:38:00.0000] <virtuelv>
Camaban: yeah, like even sun isn't doing

[05:38:01.0000] <virtuelv>
the front page of java.com uses Flash, but no Java

[05:38:02.0000] <Camaban>
heh

[05:39:00.0000] <virtuelv>
hsivonen: my old bank used to have a Lynx-compatible solution

[05:39:01.0000] <virtuelv>
these days, I need a stupid java applet to log in

[05:43:00.0000] <hsivonen>
virtuelv: that sucks. how can they stay in business with stuff like that?

[05:43:01.0000] <hsivonen>
surely there are other Norwegian banks with clue?

[05:44:00.0000] <virtuelv>
hsivonen: I think most of them require Java for the login these days

[05:44:01.0000] <Dashiva>
Not postbanken!

[05:44:02.0000] <Dashiva>
/me dances

[05:44:03.0000] <virtuelv>
Dashiva: are you still using one-time code pads then?

[05:45:00.0000] <Dashiva>
Yes

[05:45:01.0000] <virtuelv>
that's what my local bank used to do as well

[05:45:02.0000] <hsivonen>
hmm. with my bank, the top compat problem is that they are scared of Opera acting as a man-in-the-middle with Mini, so they block Mini even though they otherwise allow browser choice

[05:45:03.0000] <virtuelv>
now they switched to Bank-ID and that RSA-gadget

[05:46:00.0000] <Dashiva>
I don't get why they voluntarily reduce security like that

[05:46:01.0000] <hsivonen>
a one-time pad of pass numbers works great

[05:46:02.0000] <hsivonen>
no special hardware required

[05:46:03.0000] <didymos>
Dashiva, because it has fancy acronyms

[05:46:04.0000] <hsivonen>
works even over a phone interface 

[05:46:05.0000] <hsivonen>
secure

[05:46:06.0000] <Dashiva>
"Something you have, something you know"

[05:46:07.0000] <hsivonen>
all these hardware dongles are dumb

[05:46:08.0000] <Philip`>
/me hasn't encountered any UK banks with anything other than an HTML form asking for password and PIN number (or a random selection of letters/digits from them)

[05:47:00.0000] <hsivonen>
Philip`: didn't Barclay's just introduce something incredibly stupid?

[05:47:01.0000] <hsivonen>
hendry has blogged about it

[05:48:00.0000] <Camaban>
Lloyds ask for a number, a password, and a random selection of characters from a 'memorable word'

[05:48:01.0000] <Philip`>
hsivonen: I've heard people talking in the past few days about getting card reader devices from various banks, so I guess they're changing now

[05:49:00.0000] <jgraham__>
/me has been told that some kind of number-entering keypad device thing is being rolled out

[05:49:01.0000] <virtuelv>
if my bank switches to hardware I actually have to attach to my computer, I'll switch

[05:49:02.0000] <Philip`>
http://www.barclays.co.uk/pinsentry/

[05:49:03.0000] <Philip`>
I've seen someone with a similar thing from Nationwide

[05:49:04.0000] <virtuelv>
the RSA gadget I have just has a button and displays random digits

[05:50:00.0000] <Philip`>
Also http://natwest.com/reader

[05:50:01.0000] <jgraham__>
http://www.nationwide.co.uk/rca/Introduction/why.htm

[05:52:00.0000] <Philip`>
It seems like quite a coordinated action between all the banks

[05:52:01.0000] <Philip`>
since I don't think I'd heard of any of this a month ago

[05:52:02.0000] <jgraham__>
/me isn't quite sure what type of attack this is designed to mitigate

[05:53:00.0000] <hsivonen>
it mitigates mobile use of banking when the dongle is too inconvenient to carry

[05:53:01.0000] <virtuelv>
jgraham__: replay attacks

[05:53:02.0000] <Philip`>
Sounds like it requires you to physically have the card, rather than merely knowing the password

[05:53:03.0000] <virtuelv>
it also mitigates the use on infected computers

[05:54:00.0000] <hsivonen>
/me thought the low-tech one-time pad mitigated replay attacks especially if the pad is needed both for login and trasaction confirmation

[05:54:01.0000] <virtuelv>
it does

[05:54:02.0000] <Philip`>
(Also sounds like it's only for certain relatively rare actions, like setting up a new third party payment, and not for normal logging in and checking balances and sending payments and whatever)

[05:55:00.0000] <virtuelv>
so there is no added benefit over the one-time pad, but these solutions are cheaper

[05:55:01.0000] <hsivonen>
on a completely different topic: if browsers know about an unregistered charset x-foo, do they always also recognize foo in case it gets registered later?

[05:55:02.0000] <svl>
We've had similar card-readers for internet banking in the Netherlands for years.

[05:55:03.0000] <svl>
No passwords at all - just the pin for your debit card to generate a response to the constantly changing challenges.

[05:55:04.0000] <hsivonen>
virtuelv: how is a hardware dongle cheaper than a piece of paper?

[05:56:00.0000] <virtuelv>
hsivonen: when I was using the one-time pads, I had to have them shipped about 12 times a year

[05:56:01.0000] <svl>
Needed for logging in, and making transactions or adding accounts to your address book - and then an additional time if the transaction is higher than x-thousand euro.

[05:56:02.0000] <hsivonen>
I get a new one about once or twice a year

[05:57:00.0000] <hsivonen>
I guess I'm not a heavy user of banking

[05:57:01.0000] <hsivonen>
the bank sends me other paper mail much more often

[06:01:00.0000] <jgraham__>
/me wonders if fake card readers that e.g. steal your pin will begin to appear

[06:01:01.0000] <Dashiva>
I'm still on my first onetime pad

[06:02:00.0000] <svl>
jgraham__: how would they transmit the pin?

[06:03:00.0000] <Philip`>
You could just reuse the one-time pad if it runs out too quickly

[06:04:00.0000] <jgraham__>
svl: I don't know; I'm not really sure what the possibilities are (or the requirements for successful fraud)

[06:04:01.0000] <Philip`>
http://www.cl.cam.ac.uk/research/security/banking/ped/ made people a bit unhappy about Chip & PIN

[06:06:00.0000] <Philip`>
(Also http://www.cl.cam.ac.uk/research/security/banking/tamper/tetris.jpg playing Tetris on a 'tamper resistant' PIN-entry terminal)

[06:09:00.0000] <hsivonen>
one-time pads can easily be made to have tamper evidence even if resistence would be hard

[06:25:00.0000] <hsivonen>
http://mxr.mozilla.org/seamonkey/source/intl/uconv/src/charsetalias.properties is sad reading

[06:25:01.0000] <hsivonen>
"x-x-big5 is not really a alias for Big5, add it only for MS FrontPage

[06:25:02.0000] <hsivonen>
"

[06:33:00.0000] <hsivonen>
is there an MXR kind of thing for WebKit?

[06:33:01.0000] <hsivonen>
/me finds http://trac.webkit.org/projects/webkit/browser

[06:37:00.0000] <hsivonen>
does WebKit rely purely on ICU charset alias data? or is there a layer of Web reality craziness somewhere?

[06:46:00.0000] <Philip`>
hsivonen: http://trac.webkit.org/projects/webkit/browser/trunk/WebCore/platform/text/TextCodecICU.cpp#L110

[06:46:01.0000] <Philip`>
plus some other TextCodec* files

[06:53:00.0000] <hsivonen>
Philip`: thanks

[06:54:00.0000] <hsivonen>
"xxbig5" I wonder if WebKit or the pre-ICU lib removed hyphens before doing alias matching

[06:59:00.0000] <hsivonen>
/me smiles at #include <wtf/unicode/Unicode.h>

[07:07:00.0000] <hsivonen>
who actually uses "x-user-defined"?

[07:09:00.0000] <Philip`>
http://philip.html5.org/data/charsets.html#charset-x-user-defined

[07:13:00.0000] <hsivonen>
it seems to me that ICU and IANA are failing if both WebKit and Validator.nu HTML parser end up needing an ICU fooling layer

[07:14:00.0000] <Philip`>
It's only failing if its goal is to be compatible with broken web content

[07:37:00.0000] <Philip`>
/me tries that chardet thing

[07:42:00.0000] <Philip`>
Uh, it says it's finding a lot of UTF-16, which is odd because there isn't any

[07:45:00.0000] <Philip`>
It doesn't seem especially reliable at detecting encodings

[07:46:00.0000] <hsivonen>
Philip`: have you tried the ICU detector? is it any better?

[07:46:01.0000] <hsivonen>
(not that it matter since Mozilla chardet is the de facto standard that gets ported to Python, Java, etc.)

[07:46:02.0000] <Philip`>
I'm not sure how to judge betterness

[07:47:00.0000] <Philip`>
http://philip.html5.org/data/chardet-bytes.svg is how many bytes jchardet takes before making a decision

[07:48:00.0000] <Philip`>
(In about 85% of cases where it makes a decision, it makes the decision before reaching the end of the document)

[07:49:00.0000] <Philip`>
(i.e. this isn't just a graph of page length)

[07:49:01.0000] <hsivonen>
thank you.

[07:49:02.0000] <hsivonen>
those numbers look rather discouraging

[07:49:03.0000] <hsivonen>
I was hoping to see almost definite answers after 2 KB or 4 KB

[07:51:00.0000] <hsivonen>
did you test involve letting chardet decide when it is fully confident or did you measure how much data it needs not to actually change its mind?

[07:58:00.0000] <Philip`>
I just recorded how many bytes I had to give it until it first made a decision (returned true from DoIt(...))

[07:59:00.0000] <Philip`>
(passing in a single byte at a time)

[07:59:01.0000] <hsivonen>
but not fooling the stream ended, I presume?

[08:00:00.0000] <Philip`>
(since it splits n byte buffers into effectively n 1-byte calls, so it doesn't mind how much you give it at once, unless I'm horribly mistaken)

[08:00:01.0000] <Philip`>
No

[08:01:00.0000] <Philip`>
so there would be different results if you gave it 4KB and then called Done()

[08:02:00.0000] <Philip`>
(I could try it with something like that, but I think only for a small predefined set of buffer sizes)

[08:02:01.0000] <hsivonen>
perhaps trying with 512 byte increments would make sense

[08:03:00.0000] <Philip`>
(Also the set should be finite)

[08:03:01.0000] <Philip`>
512 byte increments up to 4KB?

[08:04:00.0000] <hsivonen>
that would be good

[08:06:00.0000] <Philip`>
Should I record whether it makes any decision at all, or whether it makes the same decision as with the entire buffer?

[08:06:01.0000] <hsivonen>
whether it makes the same decision as with the entire buffer seems to be the right thing to measure

[08:07:00.0000] <Philip`>
Including cases where it never makes any decision at all?

[08:08:00.0000] <hsivonen>
yeah

[08:14:00.0000] <Philip`>
It's pretty indecisive on http://www.trivus.com

[08:14:01.0000] <Philip`>
512 bytes, 1024, 1536: Big5

[08:14:02.0000] <Philip`>
2048: GB18030

[08:14:03.0000] <Philip`>
2560: Shift_JIS

[08:14:04.0000] <Philip`>
3072: Big5

[08:14:05.0000] <Philip`>
3584, ...: GB18030

[08:14:06.0000] <Philip`>
(Correct answer: iso-8859-1)

[08:18:00.0000] <hsivonen>
ouch

[08:30:00.0000] <Philip`>
So... For each length 'n', I'm counting the number of pages which, when prefixes of length (n, n+512, n+1024, ...) (actually not really that sequence, but similar) are chardetted, consistently give the same answer (including 'unknown') as when the whole document is chardetted

[08:31:00.0000] <Philip`>
which gives http://philip.html5.org/data/chardet-lengths.txt

[08:31:01.0000] <Philip`>
for the first ~40K pages

[08:31:02.0000] <Philip`>
where the first unlabelled row is pages that weren't consistent at 64KB

[08:32:00.0000] <Philip`>
Oops

[08:33:00.0000] <Philip`>
Now updated, so it does include those with 'unknown'

[08:33:01.0000] <Philip`>
(About 80% of pages give 'unknown')

[08:36:00.0000] <Philip`>
(Gah, my output file is now a hundred megabytes of XML...)

[08:48:00.0000] <Philip`>
/me updates it again, to have all 130K pages and to maybe make more sense

[09:24:00.0000] <Lachy>
jgraham__, yt?

[09:25:00.0000] <jgraham__>
Yeah

[09:25:01.0000] <Lachy>
there seems to be a bug in html5lib

[09:25:02.0000] <Lachy>
http://james.html5.org/cgi-bin/parsetree/parsetree.py?source=%3Cdiv%3E%3Ctable%3E%3Ca%3Ethe+following+whitespace+should+be+directly+in+the+div%3C%2Fa%3E+%3Ctbody%3E%3Ctr%3E%3Ctd%3Ebut+what+about+the+following+whitespace%3F%3C%2Ftd%3E+%3C%2Ftable%3E%3C%2Fdiv%3E

[09:25:03.0000] <Lachy>
according to the spec, the whitespace should not be added as a child of the table

[09:25:04.0000] <Lachy>
in that case

[09:26:00.0000] <jgraham__>
Was that one of the recent spec changes?

[09:26:01.0000] <Lachy>
I'm not sure, it's in this section http://www.whatwg.org/specs/web-apps/current-work/multipage/section-tree-construction.html#parsing-main-intable

[09:27:00.0000] <Lachy>
since the table is tainted, the whitespace should be processed according to the anything else rules

[09:27:01.0000] <jgraham__>
Oh, if it involves the tainted stuff than it's a recent change

[09:27:02.0000] <Lachy>
ah, ok

[09:28:00.0000] <jgraham__>
Anne did some work on that but I don't know if he covered everything

[09:31:00.0000] <jgraham__>
Lachy: Of course it could just be that the parse tree viewer isn't up to date; did you check in a standalone copy?

[09:32:00.0000] <Philip`>
Could the parse tree viewer show which SVN revision it's running?

[09:32:01.0000] <Lachy>
no

[09:32:02.0000] <jgraham__>
Philip`: I'm sure it could somehow

[09:33:00.0000] <Lachy>
jgraham__, couldn't the viewer automatically update itself whenever there's a new version?

[09:34:00.0000] <Philip`>
/me accidentally commits 'system("rm -rf /");' into the html5lib repository

[09:34:01.0000] <jgraham__>
I guess I could use cron to try pulling from the source at regular intervals, but as Philip`so nicely points out it might not be a great idea

[09:35:00.0000] <jgraham__>
Philip`: Did you have a state transition diagram for the treebuilder somewhere?

[09:35:01.0000] <jgraham__>
/me was wondering if we could check testcase coverage for all transitions

[09:36:00.0000] <jgraham__>
Lachy: I think the behaviour has changed now; I haven't checked if it is right or not yet

[09:36:01.0000] <Philip`>
jgraham__: http://philip.html5.org/misc/insertion-modes-3.svg

[09:37:00.0000] <Philip`>
(Also -2.svg and .svg - I can't remember what I changed)

[09:37:01.0000] <Philip`>
Maybe I can regenerate that for the new spec...

[09:38:00.0000] <jgraham__>
What do the colours mean?

[09:38:01.0000] <Philip`>
http://philip.html5.org/misc/insertion-modes-4.svg should match the current spec

[09:39:00.0000] <Philip`>
except for some quite likely errors

[09:40:00.0000] <Lachy>
it doesn't appear to be entirely correct, whitespace in within <tr> should be processed according to the rules for the in table mode, which would be the anything else section

[09:41:00.0000] <Philip`>
jgraham__: If a transition only happens after a parse error, then it's red; otherwise it's blue for reprocess-as-if, and black for set-insertion-mode

[09:41:01.0000] <Lachy>
it's currently putting it as a child of the tr, but, AIUI, it should be as a child of the div

[09:41:02.0000] <Lachy>
(in that above demo I linked to)

[09:41:03.0000] <jgraham__>
Lachy: That's the same conclusion I had reached

[09:41:04.0000] <Lachy>
ok

[09:41:05.0000] <jgraham__>
Philip`: Thanks

[09:41:06.0000] <Lachy>
jgraham__, see the PM i sent you

[09:42:00.0000] <jgraham__>
Lachy: Dunno if I can reply to PMs on freenode

[09:42:01.0000] <Lachy>
oh, isn't your nick registered?

[09:45:00.0000] <jgraham__>
No. I think technically someone else owns it which means I'm being really bad by using it but otoh, no one has ever complained

[09:46:00.0000] <Philip`>
/me avoids the name reuse problem by appending random significant punctuation

[09:47:00.0000] <zcorpan>
/me doesn't have that problem :)

[10:40:00.0000] <jgraham__>
Lachy: The whitespace thing should be fixed now

[10:41:00.0000] <jgraham__>
/me has discovered a bunch of lxml-related breakage that needs to be fixed

[11:49:00.0000] <annevk>
whoa, @microsoft.com on @whatwg.org

[11:49:01.0000] <annevk>
oh wait, that was not a first

[11:50:00.0000] <a-ja>
anyone been doing any testing with betas regarding how figure/legend (or unknownelement/legend) works? 

[11:51:00.0000] <annevk>
last i heard it didn't work wel

[11:51:01.0000] <annevk>
l

[11:51:02.0000] <a-ja>
gecko now is generating a fieldset :(

[11:53:00.0000] <a-ja>
whole doc after gets included in the fieldset....ouch! 

[11:56:00.0000] <a-ja>
should there end up being a legend element in the DOM, or should it just generate a text child of figure? (sounded like the latter last i read the spec closely)

[11:57:00.0000] <annevk>
the former

[11:58:00.0000] <a-ja>
that  makes more sense to me

[11:59:00.0000] <a-ja>
opera seems to do the latter?

[12:00:00.0000] <a-ja>
looked that way anyway....though i couldn't get the dev toolbar working for some reason...to view the dom

[12:00:01.0000] <annevk>
could be, we're not doing what HTML5 wants at this point

[12:01:00.0000] <annevk>
anyway, got to go

[12:01:01.0000] <a-ja>
take care

[12:39:00.0000] <Hixie>
there is some irony to the way that microsoft suggests xxx has a security problem when in fact xdr is the one increasing the attack surface

[12:46:00.0000] <Hixie>
Philip`: there's a line missing from InFrameset to AfterFrameset

[12:46:01.0000] <Hixie>
unless the spec itself is wrong somehow

[12:46:02.0000] <Hixie>
let me know if i'm being inconsistent or something

[12:47:00.0000] <zcorpan_>
/me notes that #writing is not in sync with #parsing

[12:47:01.0000] <Philip`>
Hixie: Oops, that's because my spec-to-code regexp thing is incomplete and fails to understand that bit of text

[12:48:00.0000] <Philip`>
It's missing after-after-(body|frameset) -> in-\1 for the same reason

[12:48:01.0000] <jwalden>
/me is sad that <http://my.opera.com/desktopteam/blog/2008/03/18/happy-easter> kinda-sorta-half-updated postMessage

[12:48:02.0000] <Hixie>
ah

[12:48:03.0000] <jwalden>
it's on window

[12:48:04.0000] <Hixie>
zcorpan_: oh?

[12:49:00.0000] <jwalden>
but it uses uri/domain

[12:49:01.0000] <Philip`>
Hixie: It would be much easier for me if you wrote the spec in OCaml instead of English

[12:49:02.0000] <jwalden>
Philip`: that's your objective opinion?

[12:49:03.0000] <jwalden>
ba-dum-ch

[12:50:00.0000] <Hixie>
Philip`: i believe you

[12:50:01.0000] <zcorpan_>
namely entities in escaping text spans (in rcdata)

[12:51:00.0000] <Hixie>
Philip`: i'm happy to make my text more self-consistent (i did a lot of changes to that effect recently so you should be able to simplify your regexps) but it's staying in english :-)

[12:53:00.0000] <zcorpan_>
i also found that #writing didn't say anything about the LF and <listing>, but then i remembered that <listing> is not valid in the first place :)

[12:54:00.0000] <zcorpan_>
but #serialising should talk about that

[12:56:00.0000] <zcorpan_>
speaking of serializing, i think the algorithm should change for (r)cdata elements to only emit the children text and cdata nodes

[12:56:01.0000] <zcorpan_>
s/ren//

[12:57:00.0000] <zcorpan_>
(including plaintext)

[12:58:00.0000] <zcorpan_>
less checking (hence better perf) and better roundtripping (comments are not turned into text but are instead just dropped)

[12:58:01.0000] <zcorpan_>
and it's what firefox does, i think

[13:00:00.0000] <Hixie>
zcorpan_: please send e-mail, i'm working on tables at the moment

[13:19:00.0000] <Hixie>
(othermaciej: is the windows safari 3.1 still labelled a beta?)

[13:19:01.0000] <othermaciej>
Hixie: no

[13:24:00.0000] <Hixie>
cool

[13:25:00.0000] <Hixie>
zcorpan_: the perf aspect is purely an implementation detail

[13:26:00.0000] <Hixie>
zcorpan_: how should the XML "<textarea><div> text</div></textarea>" be serialised by this algorithm?

[13:35:00.0000] <zcorpan_>
<textarea></textarea>

[13:37:00.0000] <a-ja>
for anyone interested in tracking: gecko figure/legend bug is 423721

[13:38:00.0000] <zcorpan_>
(assming the elements are in the HTML namespace :) )

[13:40:00.0000] <zcorpan_>
a-ja: doesn't <legend> only imply fieldset if it's foudn directly in body?

[13:41:00.0000] <zcorpan_>
a-ja: and is otherwise just dropped?

[13:41:01.0000] <jwalden>
/me wants <myth>

[13:43:00.0000] <a-ja>
zcorpan: well....i think it used to be that way....in body or unknown element...but since the post-b4 parser update to allow unknown (e.g. html5) elements to contains blocks, this has cropped up

[13:44:00.0000] <zcorpan_>
ah. haven't tested a build with the other fix in

[13:44:01.0000] <a-ja>
grab latest nitely if you wanna test....there was a related checkin yesterday

[13:45:00.0000] <Philip`>
Maybe someone should run the HTML5 parser tests in Firefox to try to find unintended consequences of that patch

[13:46:00.0000] <a-ja>
little late in beta cycle to replace ff's html parser with html5lib, i'd think :)

[13:47:00.0000] <a-ja>
sounds like a good idea though...since it hasn't made it to a beta release yet.  though code freeze for "last" beta is tonite

[13:48:00.0000] <Philip`>
I'm not suggesting trying to make FF pass the tests - they're just a useful source of occasionally obscure HTML code that could be compared before/after the patch

[13:51:00.0000] <andersca>
Hixie: ping

[13:51:01.0000] <Hixie>
yo

[13:51:02.0000] <andersca>
hey

[13:51:03.0000] <a-ja>
pretty much, unknown elements can now have block children....instead of having to wrap them in an inline (e.g. span) to get em in DOM

[13:51:04.0000] <andersca>
Hixie: so I'm looking at the application cache spec

[13:53:00.0000] <Hixie>
i'm assuming you have a question related to this section? :-)

[13:54:00.0000] <andersca>
Hixie: actually, I have two! :)

[13:54:01.0000] <andersca>
Hixie: first, I didn't see an applicationCache property on the window interface

[13:54:02.0000] <Hixie>
yeah, known bug

[13:54:03.0000] <andersca>
OK

[13:55:00.0000] <andersca>
Hixie: and a small nit in 4.6.4, could p3 and p4 switch places? 

[13:56:00.0000] <Hixie>
p3 and p4?

[13:56:01.0000] <andersca>
Hixie: step 3 and step 4

[13:57:00.0000] <Hixie>
what difference does it make?

[13:58:00.0000] <Hixie>
step 3 doesn't have any visible side-effects

[13:58:01.0000] <andersca>
Hixie: none really, it's just that you don't need to define what the cache is until after step 4

[13:58:02.0000] <andersca>
right

[13:58:03.0000] <Hixie>
i prefer to have all the definitions together

[13:58:04.0000] <Hixie>
makes it easier to find them

[13:58:05.0000] <Hixie>
blame my pascal upbringing :-)

[13:59:00.0000] <andersca>
OK, told you it was a small nit :)

[13:59:01.0000] <Hixie>
:-)

[14:01:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Ca%20href%3Da%3Eaa%3Cmarquee%3Eaa%3Ca%20href%3Db%3Ebb%3C%2Fmarquee%3Eaa is different in FF3 vs FF2

[14:17:00.0000] <othermaciej>
looks like every single news article about Safari 3.1 mentions HTML 5

[14:18:00.0000] <jruderman>
what HTML 5 features does 3.1 have (over 3.0)?

[14:18:01.0000] <othermaciej>
the biggest are the video and audio elements and (nearly all of) their APIs

[14:19:00.0000] <othermaciej>
(also some smaller things like getElementsByClassName)

[14:21:00.0000] <othermaciej>
(of course, getElementsByClassName will probably get a lot more use in the near term)

[14:29:00.0000] <zcorpan_>
hmm... SSML?

[14:29:01.0000] <othermaciej>
what's SSML?

[14:30:00.0000] <zcorpan_>
http://www.w3.org/TR/speech-synthesis/

[14:30:01.0000] <zcorpan_>
looks like a weird version of HTML to me

[14:33:00.0000] <andersca>
3.1 also implements the Database spec

[14:40:00.0000] <othermaciej>
oh yeah

[14:44:00.0000] <virtuelv>
hehe, http://diveintomark.org/archives/2008/03/18/translation-from-ms-speak-to-english-of-selected-portions-of-joel-spolskys-martin-headsets

[14:47:00.0000] <Philip`>
/me wonders if he's intentionally misinterpreting "nobody has a way to test against the standard" as meaning testing browsers against standards, rather than testing web pages against standards

[14:50:00.0000] <zcorpan_>
hsivonen: when validating xhtml with resolving external entities, v.nu complains about shape attributes on <a>, even though the markup didn't have shape=''. i understand that the dtd resolves them, but it's probably confusing and unhelpful for authors...

[14:56:00.0000] <andersca>
Hixie: what happens if I setAttribute('manifest', ...) on the HTML element?

[14:56:01.0000] <Hixie>
nothing

[14:56:02.0000] <Hixie>
(as per the spec)

[14:56:03.0000] <Hixie>
the manifest attribute is only handled during parse time

[14:59:00.0000] <andersca>
great

[14:59:01.0000] <andersca>
:)

[14:59:02.0000] <andersca>
Hixie: oh, you are right - now why didn't I notice that

[15:00:00.0000] <Hixie>
search for "run the application cache selection algorithm"

[15:00:01.0000] <Hixie>
those are the only times that the attribute has any effect

[15:00:02.0000] <Hixie>
the spec defines the handling for XML files, text/plain files, and HTML files (in the HTML parser)

[15:01:00.0000] <Hixie>
oh and for images and plugins

[15:01:01.0000] <Hixie>
and error pages

[15:01:02.0000] <Hixie>
man, i was thorough

[15:02:00.0000] <andersca>
:)

[15:02:01.0000] <andersca>
that's good

[15:03:00.0000] <jgraham__>
Philip`: I'm not quite clear that Joel does mean "test web pages against standards", but he seems somewhat incoherent on that point

[15:04:00.0000] <Hixie>
i think joel doesn't understand that you can have pragmatic standards

[15:05:00.0000] <Hixie>
his argument seemed predicted on the concept of specs either being idealistic and unimplementable, draconian and unsuitable, or overly vague.

[15:05:01.0000] <Hixie>
he missed the "realistic and detailed" option

[15:05:02.0000] <othermaciej>
I'm not sure what his point was in his big rant

[15:05:03.0000] <othermaciej>
but I admit I didn't read the whole thing

[15:05:04.0000] <Hixie>
yeah me either

[15:05:05.0000] <Pavlov>
i started to read it but realized it kept going

[15:05:06.0000] <Hixie>
to not understanding the point

[15:05:07.0000] <Hixie>
(i did read it)

[15:06:00.0000] <jgraham__>
I think the point might have been to say he predicted in 2004 that Vista would suck

[15:07:00.0000] <Hixie>
his reasoning for why vista hasn't been the success that XP was seems somewhat flawed, imho

[15:10:00.0000] <Hixie>
jgraham__: do you have any discussion of the cell association algorithm anywhere? i'm curious to know which cases you were trying to solve

[15:10:01.0000] <Pavlov>
vista is in many ways nicer than XP

[15:10:02.0000] <Pavlov>
it just has some hickups

[15:10:03.0000] <jgraham__>
Hixie: I don't know if we have anything written down that's not in email

[15:11:00.0000] <Hixie>
i didn't see much discussion in the e-mails, mostly just algorithms :-)

[15:12:00.0000] <jgraham__>
Basically it's optimized for tables like http://annevankesteren.nl/2007/09/tmb-overview and  http://sitesurgeon.co.uk/tables/tides/minimal.html

[15:14:00.0000] <jgraham__>
(which seems to be a fairly common general pattern)

[15:16:00.0000] <Hixie>
so a column (row) header's scope stops when it hits another header with the same width (height) and starting x (y) position?

[15:17:00.0000] <jgraham__>
Just the same with/height iirc although I guess maybe it should also consider the starting position

[15:18:00.0000] <Hixie>
i guess i'm going to have to just look at a lot of tables and determine the best algorithm that covers those tables

[15:18:01.0000] <Hixie>
yay for ben's work looking at tables

[15:19:00.0000] <Hixie>
k. bbiab.

[15:19:01.0000] <hallvors>
On Joel's article:  http://my.opera.com/hallvors/blog/show.dml/1818385 

[15:19:02.0000] <jgraham__>
Hixie: Yeah.

[15:21:00.0000] <jgraham__>
/me feels sorry for Hixie having to wade through all the crap in the table-related discussion

[16:03:00.0000] <Philip`>
Yay for search engine crawlers that DoS my server

[16:06:00.0000] <Philip`>
(I suppose I shouldn't provide an infinite number of URLs in a system that takes a large fraction of a second to generate each page with no caching or anything clever, but still they should be more considerate of bad server design...)

[16:25:00.0000] <Philip`>
/me wonders when Searchme will realise it's just getting Forbidden responses and stop requesting two pages a second

[16:37:00.0000] <hsivonen>
Philip`: thank you for chardet lengths. I think I'll probably run chardet on the first 512 bytes and running it on more than 1024 bytes doesn't appear to make much sense

[16:40:00.0000] <Philip`>
(Hmm, looks like Searchme uses pretty much the whole of 208.111.154.0/24, so I'll have to block all that...)


2008-03-19
[17:03:00.0000] <jgraham__>
Philip`: At some point it would be nice to have the data behind the phase transition diagram for the tree construction (the .dot file or whatever)

[17:03:01.0000] <jgraham__>
But right now I'm going to sleep

[17:04:00.0000] <Philip`>
jgraham__: http://canvex.lazyilluminati.com/svn/tokeniser/ has a possibly out of date version of the code for generating the graph (and more)

[17:16:00.0000] <Philip`>
(graph_gen.ml in particular produces the .dot file, based on treeconstructot_spec.ml which is generated by treeconstructor.pl from section-tree-construction.html which is an XMLified version of the section from the HTML5 spec)

[17:16:01.0000] <Philip`>
s/t/r/

[03:16:00.0000] <Hixie>
/me will use this channel to note URLs to tables

[03:16:01.0000] <Hixie>
i hope no-one minds

[03:16:02.0000] <Hixie>
http://broads-authority.gov.uk/boating/navigating/tide-tables.html

[03:17:00.0000] <Hixie>
http://www.usability.com.au/resources/tables.cfm

[03:25:00.0000] <Hixie>
http://www.gutenberg.org/files/17128/17128-h/17128-h.htm

[04:07:00.0000] <Hixie>
http://www.gutenberg.org/files/21341/21341-h/21341-h.htm#metrical_feet

[04:11:00.0000] <Hixie>
http://www.gutenberg.org/files/19598/19598-h/19598-h.htm

[04:11:01.0000] <Hixie>
http://broads-authority.gov.uk/boating/navigating/tide-tables.html

[04:11:02.0000] <Hixie>
http://www.socialsecurity.gov/policy/docs/statcomps/eedata_sc/2004/table01.html

[04:12:00.0000] <Hixie>
http://joeclark.org/dossiers/PDFUA/PDFUA-tables-1.html

[04:43:00.0000] <Lachy>
I'm trying to find a way to reprhase this requirement in selectors api: "If the user agent also supports some level of CSS, the implementation should support the same set of selectors in both these APIs and CSS."

[04:44:00.0000] <Lachy>
I want it to say that UAs should support the same selectors, but allow for exceptions in case some selectors are introduced that don't work for CSS, but do for selectors api, or vice versa

[04:45:00.0000] <Lachy>
any suggestions?

[04:59:00.0000] <zcorpan>
to me it sounds like something that should be non-normative...

[05:04:00.0000] <Lachy>
yeah, that's what I was thinking

[05:29:00.0000] <Lachy>
I think this is better "For user agents that support of CSS, it is recommended  that they support the same set of selectors for use in both these APIs and CSS."

[05:32:00.0000] <hsivonen>
so IE8 uses a bugus mime type application/x-hatom in WebSlices discovery...

[05:48:00.0000] <zcorpan>
Lachy: isn't "RECOMMENDED" an rfc2119 keyword?

[05:49:00.0000] <Lachy>
yes, it is

[05:50:00.0000] <Lachy>
but it allows for the requirement to be ignored

[05:50:01.0000] <Lachy>
if there are valid reasons to do so

[05:50:02.0000] <zcorpan>
same as "SHOULD"

[05:50:03.0000] <Lachy>
yes

[05:50:04.0000] <zcorpan>
so your change is merely editorial :)

[05:51:00.0000] <Lachy>
well, I couldn't think of a non-normative way to phrase it that didn't use either "should" or "recommended"

[05:51:01.0000] <Lachy>
but the existing draft in SVN was actually a MUST level requriement

[05:51:02.0000] <Lachy>
so it's more than editorial

[05:51:03.0000] <zcorpan>
ah

[05:52:00.0000] <zcorpan>
"User agents are strongly encouraged to..."

[05:52:01.0000] <zcorpan>
if you want it non-normativ

[05:52:02.0000] <zcorpan>
e

[05:52:03.0000] <zcorpan>
(or s/strongly //)

[05:52:04.0000] <Lachy>
that might work, though what are the advantages or disadvantages of making it non-normative?

[05:53:00.0000] <zcorpan>
is it something you'd put in a testsuite?

[05:53:01.0000] <zcorpan>
(though "should"s are often not in testsuites anyway...)

[05:53:02.0000] <Lachy>
it would be difficult to test with a test suite

[05:54:00.0000] <Lachy>
though, not impossible

[05:54:01.0000] <zcorpan>
indeed

[05:54:02.0000] <zcorpan>
might be a useful thing to test

[05:54:03.0000] <zcorpan>
dunno

[05:54:04.0000] <zcorpan>
don't really have an opinion on the matter

[05:54:05.0000] <zcorpan>
just trying to help with wording :)

[08:13:00.0000] <hsivonen>
hmm. Pingback interop doesn't look so great

[08:13:01.0000] <hsivonen>
pingback to WordPress requires <a href to appear in lower case in the blog post at my end

[08:31:00.0000] <Philip`>
It looks like it probably requires lowercase a, but it doesn't care about the href

[08:32:00.0000] <Philip`>
i.e. <a title="http://.../"> and <a http://.../> would work just as well

[08:39:00.0000] <zcorpan>
perhaps we should make <a http://...> parse into <a href='http://..'>

[08:40:00.0000] <Philip`>
Why?

[08:40:01.0000] <zcorpan>
convenient? 

[08:41:00.0000] <Philip`>
Doesn't seem that hard to write href="" :-p

[08:41:01.0000] <Philip`>
particularly compared to the cost of updating tutorials and tools

[08:42:00.0000] <Philip`>
I see one person writing <a http://www.addthis.com/bookmark.php?pub="thatgrrl&amp;url=" expr:href="" &amp;title=" + data:post.title" target="_blank" title="Bookmark using any bookmark manager!"> but that's about it

[08:43:00.0000] <Philip`>
Also <a mailto:foo=bar⊙gc> would be kind of ambiguous

[08:43:01.0000] <hsivonen>
this charset alias stuff is crazy but fascinating in a way

[08:44:00.0000] <Philip`>
Sounds like the web

[08:45:00.0000] <hsivonen>
here's an idea for a testing project: extracting all the charset aliases supported by Gecko, generating test pages for each and checking which aliases are actually supported by IE, Safari and Opera

[08:46:00.0000] <hsivonen>
the aliases for the old Apple encodings seem to be particularly inconsistent in different implementations

[08:47:00.0000] <hsivonen>
according to http://philip.html5.org/data/charsets.html almost no one uses them anyway...

[08:48:00.0000] <Philip`>
There's a million times more pages on the web than what I looked at, so "almost no one" multiplies into quite a lot of people

[08:48:01.0000] <hsivonen>
another research item: figuring out the requirements for the visual and logical iso-8859 Hebrew and Arabic variants

[08:49:00.0000] <hsivonen>
Philip`: well, according to your numbers, <$mtpublishcharset$> is more popular than x-mac-thai :-)

[08:50:00.0000] <Philip`>
According to my numbers, the difference is not significant given the sample size, so you can't tell which is more popular :-)

[08:54:00.0000] <hsivonen>
implementations don't agree whether the chaset name for MacUkranian should contain the word ukraine or ukranian, whether there should be the x- prefix and whether there should be a hyphen after mac

[08:55:00.0000] <Philip`>
(Also my sample is quite strongly biased towards certain languages that are not Thai)

[08:55:01.0000] <Philip`>
(Er, my sample isn't, but my population is)

[08:56:00.0000] <Philip`>
(compared to the entire web)

[08:56:01.0000] <Philip`>
(I'm probably messing up the statistical terms anyway)

[08:57:00.0000] <hsivonen>
my local build of Validator.nu parser now knows about 1194 charset names (when certain ones have been banned)

[08:57:01.0000] <hsivonen>
that's just crazy when utf-8 should be the one name to rule them all

[08:59:00.0000] <Philip`>
Until n years in the future when a new character encoding that solves all the problems with UTF-8 will become popular and should rule over all others?

[09:00:00.0000] <hsivonen>
problems, what problems? :-)

[09:00:01.0000] <hsivonen>
(utf-8-nfc :-)

[09:01:00.0000] <Philip`>
There needs to be a URI-based namespacing system for private extensions, otherwise people will end up conflicting and it'll all go horribly wrong

[09:02:00.0000] <Philip`>
It's no good just allocating a flat block of numbers and telling people to do what they want in that range

[09:28:00.0000] <hsivonen>
fixing all these charset details is a mess

[10:21:00.0000] <Philip`>
hsivonen: http://hsivonen.iki.fi/rdf/ - s/Martial/Martian/

[10:22:00.0000] <hsivonen>
Philip`: thanks fixed

[10:29:00.0000] <krijnh>
hsivonen: also, s/on error<A/on error <A

[10:29:01.0000] <krijnh>
(last paragraph)

[10:45:00.0000] <hsivonen>
krijnh: thanks fixed.

[10:53:00.0000] <Philip`>
Looks like half the SVG files on Wikipedia come from Inkscape

[10:54:00.0000] <Philip`>
and 25% from Adobe Illustrator

[10:55:00.0000] <Philip`>
Also one of them says <!-- lol jews did wtc -->

[10:55:01.0000] <Philip`>
I guess vandalism isn't restricted to content pages :-(

[10:56:00.0000] <Philip`>
(Mostel_HUAC.svg, in case anyone cares)

[10:57:00.0000] <takkaria>
heh

[11:01:00.0000] <KevinMarks>
someone described MS as having 'red state' developers

[11:03:00.0000] <KevinMarks>
ie lots of in-house intranet devs, who are their primary customers, and who have built sites predicated on everyone having the same MS browser, as that's what IT installs

[11:11:00.0000] <Philip`>
http://philip.html5.org/data/svg-xmlns.txt

[11:11:01.0000] <Philip`>
There's a lot of xmlns:svg (from Inkscape, I think) but no <svg:...> at all

[11:18:00.0000] <Philip`>
Hmm, Opera renders http://upload.wikimedia.org/wikipedia/en/2/23/Yonkers_seal.svg

[11:18:01.0000] <Philip`>
and Firefox doesn't

[11:18:02.0000] <gsnedders>
Saf doesn't

[11:19:00.0000] <Philip`>
Opera 9.5 doesn't

[11:19:01.0000] <Philip`>
(9.2 does)

[11:19:02.0000] <Philip`>
I guess that's just a bug

[11:20:00.0000] <hsivonen>
namespaces are tough

[11:21:00.0000] <Philip`>
and it affects about 2-3% of the SVG images on Wikipedia

[12:22:00.0000] <andersca>
Hixie: ping!

[13:08:00.0000] <eseidel>
Philip`: the SVG is wrong :)

[13:08:01.0000] <eseidel>
Philip`: it needs a namespace

[13:08:02.0000] <eseidel>
glad to see 9.5 has become more strict

[13:08:03.0000] <Hixie>
andersca: here

[13:10:00.0000] <andersca>
Hixie: hi! is this a typo?

[13:10:01.0000] <andersca>
A browsing context can be associated with an application cache. A child browsing context is always associated with the same browsing context as its parent browsing context, if any.

[13:10:02.0000] <andersca>
should it be "A child browsing context is always associated with the same application cache..." ?

[13:11:00.0000] <Hixie>
er yes

[13:11:01.0000] <andersca>
that makes things more clear :)

[13:11:02.0000] <Hixie>
please do e-mail the list about that one :-)

[13:11:03.0000] <andersca>
will do

[13:12:00.0000] <Hixie>
thanks

[13:13:00.0000] <andersca>
sent

[13:50:00.0000] <hsivonen>
w3.org is now ahead of whatwg.org for html 5 on google

[13:50:01.0000] <Hixie>
indeed

[13:50:02.0000] <Hixie>
unsurprising

[13:59:00.0000] <hsivonen>
Hixie: if confidence is Certain and a meta is seen for a different encoding (after alias resolution), shouldn't that be a parse error?

[13:59:01.0000] <hsivonen>
I though it already was but now I don't see it in the tree builder spec

[14:09:00.0000] <Hixie>
hsivonen: it's an error anyway, since you can't have more than one encoding declaration

[14:11:00.0000] <hsivonen>
Hixie: that doesn't cover the case where it became confident due to HTTP or BOM and meta disagrees

[14:11:01.0000] <Hixie>
i thought i'd made that non-conforming too

[14:11:02.0000] <Hixie>
yes, it is

[14:11:03.0000] <Hixie>
3.7.5.4. Specifying the document's character encoding

[14:11:04.0000] <Hixie>
first bullet point

[14:13:00.0000] <zcorpan_>
Hixie: in the live dom viewer you can get ie8 working by using try-catch with the ie8 approach in the catch block

[14:14:00.0000] <Hixie>
there's a separate ie8.html file in that directory at the moment

[14:14:01.0000] <hsivonen>
Hixie: ok. the natural way to implement that is as parse error

[14:15:00.0000] <Hixie>
hsivonen: that makes sense

[14:15:01.0000] <zcorpan_>
yes, but it would be more useful if it worked in  the normal version

[14:15:02.0000] <zcorpan_>
giving 2 duplicate links every time doesn't scale

[14:15:03.0000] <zcorpan_>
s/2//

[14:15:04.0000] <Hixie>
well, get them to fix ie8 :-)

[14:15:05.0000] <Hixie>
i don't want to fix the main one to work around bugs in unrelased products

[14:16:00.0000] <zcorpan_>
ok

[14:17:00.0000] <hsivonen>
I'm starting to suspect that we are going to need a charset registry 5 so that so that each implementor doesn't need to figure out the magic alias mess

[14:18:00.0000] <hsivonen>
can someone suggest a good behavior-based heuristic for testing if a character decoder is ebcdic-based?

[14:18:01.0000] <Hixie>
what mess?

[14:20:00.0000] <hsivonen>
Hixie: mapping TIS-620 to Windows-874. mapping GB_2312-80 to GBK. KS_C_5601-1987 to windows-949-2000. x-x-big5 to big5, etc.

[14:20:01.0000] <Hixie>
some of those will presumably end up in the spec, but i'm hoping that most are not widespread enough to require support

[14:20:02.0000] <hsivonen>
also, if the Gecko alias file and the ICU aliases are any indication of reality, the IANA registry of aliases is not the whole story

[14:41:00.0000] <Hixie>
http://www.flickr.com/photos/joeclark/192878174/

[14:41:01.0000] <Hixie>
...and other such tables

[14:41:02.0000] <Hixie>
seem to use indenting as a way of having "subrows"

[14:42:00.0000] <Hixie>
i wonder if we should support that explicitly somehow

[14:44:00.0000] <Hixie>
http://www.flickr.com/photos/joeclark/185786265/ is an insane table

[14:46:00.0000] <hsivonen>
how is x-user-defined supposed to work?

[14:48:00.0000] <hsivonen>
WebKit seems to implement x-user-defined as mapping to the first 256 code points of the PUA

[15:08:00.0000] <Hixie>
this indenting thing is really common

[15:09:00.0000] <andersca>
Hixie: URLs specified in the manifest attribute are relative to the document, right?

[15:10:00.0000] <hsivonen>
I sucks considerably that Java doesn't have a rewindable InputStream in the standard library

[15:10:01.0000] <Hixie>
andersca: yes, in html

[15:11:00.0000] <hsivonen>
one that doesn't require telling it how much to buffer ahead of time, that is

[15:11:01.0000] <hsivonen>
fortunately, I'm not the first person to need it, so I don't have to write it

[15:11:02.0000] <Hixie>
andersca: in xhtml, if there's an xml:base on the root <html> element, that is honoured

[15:11:03.0000] <andersca>
oh, interesting

[15:11:04.0000] <Hixie>
(assuming you support xml:base)

[15:11:05.0000] <Hixie>
ok my macbook pro is CLEARLY having overheating issues

[15:12:00.0000] <Hixie>
it keeps locking up when it gets even remotely warm

[15:12:01.0000] <hsivonen>
must be fun with manifest and <base>

[15:12:02.0000] <Hixie>
i wonder if the fans are busted or something

[15:13:00.0000] <andersca>
Hixie: how do you empty an application cache? is that something that the user agent decides when/how to do?

[15:15:00.0000] <othermaciej>
andersca: I think "Empty Cache" in the UI should do it

[15:15:01.0000] <andersca>
yeah

[15:16:00.0000] <Hixie>
empty cache does it

[15:16:01.0000] <Hixie>
there's also a way to trigger it

[15:16:02.0000] <Hixie>
but i forget what it is

[15:18:00.0000] <andersca>
swapCache doesn't clear it, or does it?

[15:22:00.0000] <Hixie>
ok so the way to clear a cache is to simply empty the manifest, but leave it on the server

[15:23:00.0000] <Hixie>
(and to remove the manifest attributes)

[15:24:00.0000] <Hixie>
bbiab

[15:24:01.0000] <andersca>
right


2008-03-20
[17:24:00.0000] <andersca>
is the idea that the offline cache should only be accessed when navigator.onLine is false?

[17:24:01.0000] <Hixie>
no

[17:24:02.0000] <Hixie>
the offline cache is always accessed

[17:24:03.0000] <Hixie>
is the spec not clear about that?

[17:25:00.0000] <andersca>
"The navigator.onLine attribute must return false if the user agent will not contact the network when the user follows links or when a script requests a remote page"

[17:25:01.0000] <andersca>
that's what got me confused

[17:26:00.0000] <Hixie>
ah, yeah, that should probably be clarified

[17:26:01.0000] <Hixie>
please send mail :-)

[17:26:02.0000] <andersca>
will do

[17:26:03.0000] <Hixie>
that text predates the offline cache

[17:26:04.0000] <andersca>
ah, got it

[17:26:05.0000] <andersca>
Hixie: also, can an application cache group ever have more than two caches?

[17:26:06.0000] <Hixie>
yes

[17:27:00.0000] <Hixie>
if there are many browsing contexts all using the same cache group

[17:27:01.0000] <Hixie>
and the cache group gets upgraded a number of times

[17:27:02.0000] <Hixie>
with only one browsing context getting upgraded each time

[17:28:00.0000] <andersca>
ah, that makes sense

[17:29:00.0000] <andersca>
so I should be able to get rid of older caches as contexts referencing them go away

[17:32:00.0000] <Hixie>
yeah

[17:32:01.0000] <andersca>
cool

[17:33:00.0000] <andersca>
this is starting to make sense

[19:18:00.0000] <Hixie>
i suppose we could handle the indent thing by using multiple colums

[19:18:01.0000] <Hixie>
but that feels like a hack

[22:17:00.0000] <Hixie>
ok i think i've looked at enough tables

[22:17:01.0000] <Hixie>
now to study the ones i marked as being interesting

[00:49:00.0000] <bewes1>
/me pokes othermaciej

[00:49:01.0000] <othermaciej>
bewes1: yes?

[00:49:02.0000] <bewes1>
oh, I wanted to ask you about geolocation

[00:50:00.0000] <othermaciej>
I am at your service

[00:50:01.0000] <bewes1>
I didn't think each  HTTP request would re-consume the resources necessary to do geolocation

[00:51:00.0000] <bewes1>
is it unreasonable to assume the browser has some cached version of the geolocation results?

[00:52:00.0000] <othermaciej>
if there's a cached version it could be completely wrong

[00:52:01.0000] <bewes1>
without triggering new lookups?

[00:52:02.0000] <othermaciej>
let me use iPhone as an example

[00:52:03.0000] <bewes1>
so it's a cache invalidation issue?

[00:52:04.0000] <othermaciej>
I believe its geolocation has been discussed a little publicly

[00:52:05.0000] <othermaciej>
it uses a combination of WiFi (looking for nearby networks) and triangulation from cell towers

[00:52:06.0000] <othermaciej>
both of these fire up the radio

[00:53:00.0000] <othermaciej>
and may need to use high power signals

[00:53:01.0000] <othermaciej>
it does not do this all the time

[00:53:02.0000] <othermaciej>
only when you ask

[00:53:03.0000] <othermaciej>
if you put it in your pocket and drive across town, it has no idea if you are still near where you were

[00:53:04.0000] <othermaciej>
and it would have to suck a lot of battery to find out

[00:53:05.0000] <othermaciej>
so it's far better to only provide geolocation info on demand

[00:53:06.0000] <othermaciej>
instead of sending it to every server all the time

[00:53:07.0000] <bewes1>
yeah, I guess I was imagining there'd be some kind of reliable cache in between

[00:54:00.0000] <othermaciej>
how would you know if your cache is valid without geolocating again?

[00:54:01.0000] <othermaciej>
keep in mind, many sites (perhaps most) will not even use this data

[00:54:02.0000] <bewes1>
yeah

[00:55:00.0000] <othermaciej>
I would also add that it is awkward to get a request header to script code, and often the interesting location-based things you want to do will be in script

[00:55:01.0000] <bewes1>
yeah, I guess I was missing some perspective on devices for which it's really really expensive and a pretty unreliable cache

[00:55:02.0000] <bewes1>
although your points on usage are good too

[00:55:03.0000] <othermaciej>
I think what I said may be true for just about any phone with location support but no hardware GPS

[00:56:00.0000] <bewes1>
yeah

[00:58:00.0000] <bewes1>
how do you know where the wifi signals are? do you always require at least one cell tower?

[00:58:01.0000] <othermaciej>
I don't know all of the nitty gritty technical details

[01:06:00.0000] <MikeSmith>
fwiw, I use location-based services from both from mobile browsers and other apps on devices here in Japan quite a lot, and location interaction from browsers deployed here is always as othermaciej describes

[01:07:00.0000] <MikeSmith>
that is, nothing is cached

[01:08:00.0000] <MikeSmith>
but some non-browser apps on mobile devices here are capable of dynamically updating as you move

[01:09:00.0000] <MikeSmith>
e.g., they can show you your update position on a map as you move

[01:09:01.0000] <MikeSmith>
in near real-time

[01:09:02.0000] <MikeSmith>
like the navigation systems in cars

[01:10:00.0000] <MikeSmith>
another thing is that the mechanism being used to determine the position isn't really exposed to apps

[01:11:00.0000] <MikeSmith>
there's just an API for making a location query, and the device makes a determination about what the optimal mechanism is for determining your location

[01:11:01.0000] <bewes1>
yeah, I was just curious

[01:17:00.0000] <bewes1>
MikeSmith: what kinds of apps use the near real-time movement?

[01:17:01.0000] <MikeSmith>
bewes1 - apps for trip-planning/trip-routing

[01:18:00.0000] <MikeSmith>
most widely deployed one is this:

[01:19:00.0000] <MikeSmith>
http://www.navitime.com/howtouse.html

[01:19:01.0000] <bewes1>
oh, do you mean the ones in cars?  I thought you meant devices you'd carry with you all the time

[01:19:02.0000] <MikeSmith>
Navitime

[01:19:03.0000] <MikeSmith>
not in cars, but on mobile handsets/ mobile phones

[01:19:04.0000] <MikeSmith>
but basically the same functionality as car navigation systems

[01:19:05.0000] <bewes1>
ah

[01:20:00.0000] <MikeSmith>
expect that since here in Tokyo most people don't drive cars, the apps are for train commuting and pedestrians

[01:20:01.0000] <MikeSmith>
use case is that you just fire up the app and tell it where you want to go

[01:21:00.0000] <bewes1>
pretty convenient

[01:21:01.0000] <MikeSmith>
e.g., give it an address or name of a business or something

[01:21:02.0000] <MikeSmith>
then the app shows you the route: tells what train station is closest, the shows you an interactive map of how to get to the train station

[01:22:00.0000] <bewes1>
that's pretty good stuff

[01:22:01.0000] <MikeSmith>
then same thing after you get off the train at the closest station to your destination

[01:22:02.0000] <bewes1>
does it include when the next train arrives?

[01:22:03.0000] <MikeSmith>
yep

[01:22:04.0000] <MikeSmith>
it has access to complete train schedules for all train lines in Japan

[01:23:00.0000] <bewes1>
how often are trains late?

[01:24:00.0000] <MikeSmith>
bewes1 - rarely

[01:25:00.0000] <MikeSmith>
typically only in cases of really bad weather

[01:25:01.0000] <MikeSmith>
or if somebody jumps in front of one of them

[01:26:00.0000] <MikeSmith>
btw, the actual Navitime app and others like it is either a Java/J2ME or BREW app, depending on which handset it's on

[01:26:01.0000] <MikeSmith>
but there's no real reason that a remote Web-based app could not provide the same features

[01:26:02.0000] <MikeSmith>
except that we don't have any standard scripting APIs that would enable Web developers to write such apps

[01:59:00.0000] <hsivonen>
looks like headers='' hasn't registered on html4all yet

[02:43:00.0000] <hsivonen>
hmm. the restriction against entities in the internal character encoding decl is pretty annoying

[02:51:00.0000] <hsivonen>
Hixie: is "# ]

[02:51:01.0000] <hsivonen>
# The encoding name must be serialised without the use of character entity references or character escapes of any kind. "

[02:52:00.0000] <hsivonen>
based on browser behavior?

[02:52:01.0000] <Philip`>
I assume that's to make the preparse thing work correctly?

[02:52:02.0000] <hsivonen>
the way the spec is written, the tree builder's encoding switching thing works even with escaping

[02:53:00.0000] <hsivonen>
Philip`: presumably

[02:54:00.0000] <hsivonen>
but I have to wonder if this kind of layering-breaking restriction is right

[02:55:00.0000] <hsivonen>
Hixie: assuming that the restriction stays, shouldn't it apply not only to the encoding name but the entire attribute?

[02:56:00.0000] <hsivonen>
bah. I'll leave implementation for another day and send email for now

[02:57:00.0000] <hsivonen>
in a way, this restriction is even more annoying than the old 512-byte restriction

[02:57:01.0000] <hsivonen>
mainly because I implemented that one already

[03:03:00.0000] <Philip`>
/me only sees half a dozen cases of & in charsets

[03:03:01.0000] <Philip`>
like <meta http-equiv="Content-Type" content="text/html;&gt;charset=iso-8859-1" />

[03:03:02.0000] <Philip`>
and <meta http-equiv="content-type" content="The 4 annual Los Angeles Independent Horror Film Festival ...and Music Too!! Creeping Your Way, October 2005&gt; &lt;meta name=" generator" content="Microsoft FrontPage 4.0">

[03:04:00.0000] <Philip`>
and similar things

[03:39:00.0000] <zcorpan>
Philip`, or Hixie: it would be very useful to have data about pages that use "<!-- ... > ... EOF" and "<script><!-- ... </script> ... EOF" (with no --> before EOF)

[03:40:00.0000] <zcorpan>
we're a bit scared that we'll break many pages when fixing that

[03:53:00.0000] <zcorpan>
or <script><!-- ... </script> ... --> (with no --> before </script>)

[03:54:00.0000] <zcorpan>
(and no further script blocks afterwards)

[04:40:00.0000] <Philip`>
/me needs a better grep

[04:51:00.0000] <hsivonen>
has anyone tested if meta can cause browsers to switch to a non-UTF-* non-US-ASCII superset encoding an reparse?

[05:50:00.0000] <Philip`>
zcorpan: http://philip.html5.org/data/pages-with-unclosed-comments.txt shows the pages that have unclosed comments, assuming my regexp was about right

[05:52:00.0000] <hsivonen>
what does the spec change about that relative to Opera's existing behavior?

[05:52:01.0000] <Philip`>
http://parsetree.validator.nu/?doc=http://brianyeedds.com/ - the HTML5 way doesn't seem to work very well

[05:54:00.0000] <Philip`>
http://parsetree.validator.nu/?doc=http://clubleonberg.free.fr/ loses content too

[05:54:01.0000] <Philip`>
http://parsetree.validator.nu/?doc=http://cyrilvictor.photo.free.fr/ too

[05:54:02.0000] <Philip`>
So it seems a reasonably common problem

[05:54:03.0000] <hsivonen>
Philip`: spec bug or validator.nu bug?

[05:55:00.0000] <Philip`>
hsivonen: Spec, since it doesn't reparse comments if it finds EOF inside them

[05:55:01.0000] <hsivonen>
reparsing is evil, though

[05:55:02.0000] <Philip`>
(as far as I'm aware)

[05:56:00.0000] <Philip`>
Why is it evil in this case?

[05:56:01.0000] <Philip`>
(when it's only reparsing comment text)

[05:56:02.0000] <Philip`>
(so it's already got the text saved in memory, and it hasn't been inserting elements that are hard to undo)

[05:56:03.0000] <hsivonen>
1) I makes crafted network errors (EOF) cause scripts to run

[05:57:00.0000] <Philip`>
Oh, http://james.html5.org/cgi-bin/parsetree/parsetree.py?uri=http%3A%2F%2Fcyrilvictor.photo.free.fr%2F says something different

[05:57:01.0000] <hsivonen>
2) It is a world of pain for parser developers

[05:59:00.0000] <hsivonen>
having to rewind the byte stream is seriously bad

[05:59:01.0000] <Philip`>
http://james.html5.org/cgi-bin/parsetree/parsetree.py?source=%3Cscript%3E%3C!----x%3E%3C/script%3Efoo - html5lib bug?

[05:59:02.0000] <hsivonen>
taking the decoded comment buffer and emulating document.writing it is also bad but not quite as bad

[06:19:00.0000] <Philip`>
jgraham: Is it intentional that you disabled all the Python tokeniser tests?

[06:20:00.0000] <Philip`>
Oh, looks like just a typo

[06:24:00.0000] <Philip`>
/me fixes the --x> thing in html5lib

[06:28:00.0000] <Philip`>
(Not sure it's the most sensible fix, since it's only really the data='-' case that causes issues, but it should be safe enough...)

[06:52:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-style/2008Mar/0279.html

[06:56:00.0000] <zcorpan>
Philip`: wow thanks!

[06:57:00.0000] <zcorpan>
the first has --!> ...

[07:05:00.0000] <Philip`>
http://parsetree.validator.nu/?doc=http://www.graniteschools.org/jr/churchill/

[07:05:01.0000] <Philip`>
That seems to be the <script> thing you were asking about too?

[07:05:02.0000] <Hixie>
zcorpan, hsivonen: send mail

[07:06:00.0000] <hsivonen>
already did about the encoding stuff

[07:06:01.0000] <hsivonen>
I'll send a pre-emptive mail about zcorpan's expected email :-)

[07:06:02.0000] <Philip`>
/me needs to make his HTML-grep multithreaded, but isn't entirely sure how to do that without getting the output stream horribly confused

[07:08:00.0000] <zcorpan>
Philip`: yeah

[07:10:00.0000] <Philip`>
zcorpan: I'm using /(?is)(<script[^>]*>[^<]*<!--([^>]|(?<!--)>)*</script>)([^<]|<(?!/script))*-->([^<]|<(?!/script))*$/ which hopefully is something like what you meant by "<script><!-- ... </script> ... --> (with no --> before </script>"

[07:12:00.0000] <Philip`>
zcorpan: http://philip.html5.org/data/pages-with-unclosed-scripts-and-comment-stuff.txt

[07:13:00.0000] <hsivonen>
zcorpan: does Opera mitigate the script running risk upon reparse?

[07:15:00.0000] <zcorpan>
Philip`: yep, thanks

[07:16:00.0000] <zcorpan>
hsivonen: i don't understand the question

[07:17:00.0000] <zcorpan>
/me notes that firefox and safari close comments at --!>

[07:17:01.0000] <zcorpan>
and doing so has better compat with pages i've looked at so far

[07:18:00.0000] <hsivonen>
zcorpan: the security characteristics of the bytes in the "comment" changes radically depending on whether they are comments or markup that can run scripts and instatiate iframes

[07:19:00.0000] <Philip`>
zcorpan: In quirks or standards?

[07:19:01.0000] <zcorpan>
Philip`: both

[07:19:02.0000] <zcorpan>
hsivonen: yeah. the reparsed comment can run scripts and instatiate iframes...

[07:20:00.0000] <Philip`>
zcorpan: <!-- --foo> for any foo closes the comment in FF2 standards, as far as I can tell

[07:20:01.0000] <Philip`>
--!> is only special in quirks

[07:20:02.0000] <zcorpan>
i'm testing in firefox 3

[07:21:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!doctype%20html%3E%3C!--x--!%3E%20x%20--%3E

[07:22:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!doctype%20html%3E%3C!--x--foo%3E%20x%20--%3E

[07:22:01.0000] <zcorpan>
/me notes that some pages use // -- ></script>

[07:22:02.0000] <Philip`>
and

[07:23:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!--x--foo%3E%20x%20--%3E

[07:23:01.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!--x--!%3E%20x%20--%3E

[07:23:02.0000] <zcorpan>
Philip`: ah

[07:25:00.0000] <Philip`>
s/for any foo/for any foo not containing an odd number of '--'/

[07:26:00.0000] <zcorpan>
and is not > :)

[07:26:01.0000] <hsivonen>
gotta love the simplicity of comments

[07:27:00.0000] <Philip`>
foo = '>' will still cause the comment to close when writing <!-- --foo>, so I believe my statement is true without that detail :-)

[07:28:00.0000] <zcorpan>
so about half of the pages i've looked at so far would break if we implemented html5 comment parsing...

[07:28:01.0000] <zcorpan>
that's 1/2000 of pages

[07:29:00.0000] <Philip`>
/me calculated 0.05%, which agrees

[07:36:00.0000] <Hixie>
crockford is still on his warpath

[07:37:00.0000] <Hixie>
http://www.internetnews.com/webcontent/article.php/3735341/Can+We+Fix+The+Web.htm

[07:37:01.0000] <Hixie>
http://diveintomark.org/archives/2008/02/21/the-bolero-of-troll

[07:39:00.0000] <Philip`>
It seems kind of obvious to me that the web is completely broken and can't be fixed, so we're just trying to improve at hobbling along as best we can

[07:40:00.0000] <svl>
/me wishes everything he made was as successful and broken as the web.

[07:43:00.0000] <Hixie>
seriously

[07:47:00.0000] <Philip`>
/me wonders if there is any successful technology that *isn't* broken

[07:53:00.0000] <Dashiva>
The paperclip

[07:54:00.0000] <Dashiva>
Unless you count broken by design, that is

[07:54:01.0000] <Philip`>
Paperclips don't work in microwaves

[07:54:02.0000] <Dashiva>
I meant that character in office

[07:54:03.0000] <Philip`>
(at least the plastic-coated metal ones don't)

[07:54:04.0000] <Philip`>
Oh, okay

[07:55:00.0000] <Philip`>
I think being designed around a bad idea counts as being broken :-)

[07:57:00.0000] <Dashiva>
And if you're counting missing features as broken, then anything that doesn't implement the universe is broken some way or another :)

[07:58:00.0000] <Camaban>
isn't the universe broken too? :)

[07:58:01.0000] <Philip`>
I don't count all feature requests as bugs :-)

[07:59:00.0000] <Philip`>
I think entropy is a fundamental long-term design flaw

[08:06:00.0000] <Camaban>
lol

[08:06:01.0000] <hsivonen>
hmm. I wonder if I can trust all Java implementations to provide a non-buffering Windows-1252 decoder (on that can be swapped out without stuff getting lost in a buffer)...

[08:38:00.0000] <hsivonen>
does anyone have good test cases that should cause the parser switch encodings mid-stream or reparse?

[09:17:00.0000] <hsivonen>
I deployed lots and lots of parser changes on Validator.nu. 

[09:19:00.0000] <Hixie>
cool

[09:19:01.0000] <Hixie>
i'm looking at tables like this a lot:

[09:19:02.0000] <Hixie>
http://www.linz.govt.nz/publications/statement%2Dintent%2D0607/financial/financial-statements/financial-performance/index.html

[09:20:00.0000] <Hixie>
i'm tempted to say that a header cell in the first column, with no significant data cells on its row, should become a row group header

[09:20:01.0000] <Hixie>
but it actually breaks on that example

[09:20:02.0000] <Hixie>
so i don't know if i should

[09:20:03.0000] <Hixie>
(it breaks on the last row)

[09:20:04.0000] <Hixie>
(everything else could be fine)

[09:22:00.0000] <hsivonen>
/me wishes each Gecko docshell had a thread

[09:23:00.0000] <hsivonen>
Firefox 3 beachballs on me

[09:28:00.0000] <Pavlov_>
i haven't had it beachball on me in ages

[09:29:00.0000] <hsivonen>
Pavlov_: try http://parsetree.validator.nu/?doc=http://www.whatwg.org/specs/web-apps/current-work/source

[09:29:01.0000] <hsivonen>
with lots of other tabs open

[09:30:00.0000] <Hixie>
wfm in ff2, though interaction is a bit jerky while the page is loading. (x11)

[09:34:00.0000] <Hixie>
ironically, i think the wide headers in tables like the following actually probably don't deserve to be read out regularly:

[09:34:01.0000] <Hixie>
http://broads-authority.gov.uk/boating/navigating/tide-tables.html

[09:44:00.0000] <Hixie>
http://www.flickr.com/photos/joeclark/192878174/ is an insane table

[09:49:00.0000] <Hixie>
i don't plan on supporting this kind of table: http://www.flickr.com/photos/joeclark/185786111/

[09:50:00.0000] <hsivonen>
Hixie: why not if the icons have alt

[09:50:01.0000] <Hixie>
the problem with that table is the column headers

[09:50:02.0000] <Hixie>
there are two columns, but they vary in number of cells covered per row

[09:51:00.0000] <Hixie>
(the images are a non-issue)

[09:51:01.0000] <hsivonen>
I'd say there are 8 columns

[09:51:02.0000] <Hixie>
(i should clarify that i mean that i won't support it without use of scope or headers)

[09:51:03.0000] <hsivonen>
ah

[09:51:04.0000] <Hixie>
(obviously if you explicitly list the headers, you can do almost anything)

[09:55:00.0000] <Hixie>
http://sitesurgeon.co.uk/tables/astro/06-seasons/original.html is weird

[09:55:01.0000] <Hixie>
i don't understand why the years are duplicated

[09:56:00.0000] <hsivonen>
fwiw, the parser at parsetree.validator.nu is now configured to allow reparsing on late meta

[09:57:00.0000] <Hixie>
let me know if you ever get a page that validates despite having to trigger that

[09:58:00.0000] <hsivonen>
Hixie: the validator is configured to give up if the reparse would have to be triggered

[09:58:01.0000] <hsivonen>
since the validator is in the streaming mode and cannot undo the start of the document

[09:58:02.0000] <Hixie>
ah ok

[09:59:00.0000] <hsivonen>
I implemented on-the-fly encoder change if the characters decoded so far would decode the same way with all ASCII supersets

[09:59:01.0000] <hsivonen>
but I think that code path will be extremely rare, because when meta is seen, it's not only the past chararters that matter but only the decoded upcoming characters in the read buffer

[10:00:00.0000] <Hixie>
s/but only/but also/

[10:00:01.0000] <hsivonen>
the rarity of the code path occurred to me only after implementing

[10:02:00.0000] <Hixie>
http://www.biggerbras.com/bras-by-size-panties-shapers-sizing-catalog.shtml is weird because i don't know what column i'd use for the horizontal headers

[10:02:01.0000] <hsivonen>
I think the plausible real-world case would go like this: over 512 bytes of inline ASCII-only style and script, meta declaring utf-8, a couple of KB of ASCII text, a copyright sign at the footer

[10:03:00.0000] <Hixie>
a lot of the more complicated tables are financial

[10:03:01.0000] <Hixie>
i recommend we get rid of money

[10:04:00.0000] <hsivonen>
Hixie: if you consider the actual use case of converting measurements to bra sizes, you'd have "Back Size" cell as the row heading

[10:04:01.0000] <hsivonen>
since Band size is a computed value

[10:04:02.0000] <Hixie>
yeah, that was my conclusion too

[10:05:00.0000] <Hixie>
but i don't know if that's what blind users would find most useful

[10:05:01.0000] <hsivonen>
besides, band size culumn is redundant with the actual data cells

[10:05:02.0000] <hsivonen>
column

[10:16:00.0000] <hsivonen>
/me notes that a non-ASCII-superset sniffed by chardet can never become certain

[10:17:00.0000] <hsivonen>
I wonder if chardet-supported non-ASCII superset encodings are common

[10:17:01.0000] <Hixie>
are there any?

[10:18:00.0000] <Hixie>
or do you mean the BOM detection?

[10:19:00.0000] <hsivonen>
I mean detecting UTF-16BE or UTF-16LE if those are supported by chardet

[10:21:00.0000] <hsivonen>
they seem to be

[10:21:01.0000] <Hixie>
my ff2 has stopped having a working "find", so i can't search for utf-16, sigh

[10:22:00.0000] <hsivonen>
There's nsUCS2BEVerifier and the same as LE

[10:38:00.0000] <hsivonen>
hmm. why am I seeing Ukranian and Russian in the Firefox autodetector menu but I'm not seeing them in the jchardet source?

[10:40:00.0000] <hsivonen>
bah! the port is incomplete!

[10:40:01.0000] <hsivonen>
it lack nsCyrillicDetector

[10:49:00.0000] <Philip`>
/me sees an XML namespace "urn:ietf:params:xml:ns:netconf:base:1.0", which seems much harder to remember than the w3.org ones

[10:51:00.0000] <hsivonen>
it comes from the IETF, so it has lots of colons like an IPv6 address :-)

[10:58:00.0000] <hsivonen>
hmm. If both jchardet and the ICU detector are enabled, which one should run first?

[10:59:00.0000] <Philip`>
It quite looks like the NETCONF RFC misunderstands XML namespaces

[11:00:00.0000] <Philip`>
e.g. for <rpc message-id="101" xmlns="...netconf..." xmlns:ex="...example..." ex:user-id="fred"> it says "Note that the "user-id" attribute is not in the NETCONF namespace.", which seems to be implying that message-id is

[11:01:00.0000] <Hixie>
wait let me get this right

[11:01:01.0000] <Hixie>
are you saying that someone writing a standard... didn't understand xmlns?

[11:01:02.0000] <Hixie>
surely you jest

[11:02:00.0000] <othermaciej>
xmlns misunderstood, film at 11

[11:03:00.0000] <Philip`>
and also it has <rpc-reply xmlns="...netconf..." xmlns:xc="...netconf...">...<top xmlns="...example..."><interface xc:operation="replace"> in an example, to set "the operation attribute" (and it never says that should be a namespaced attribute, and never implies it except in the example)

[11:04:00.0000] <Hixie>
i am shocked.

[11:04:01.0000] <Hixie>
shocked, i say.

[11:04:02.0000] <Hixie>
shocked and dismayed.

[11:04:03.0000] <hsivonen>
attribute namespaces misunderstood film at 11

[11:05:00.0000] <andersca>
lo

[11:05:01.0000] <andersca>
l

[11:05:02.0000] <Philip`>
At least it forbids doctype declarations, which could be considered sensible

[11:06:00.0000] <standards_barbie>
xmlns is hard, let's go shopping

[11:10:00.0000] <Hixie>
i wonder if i should just treat "<tr><th>X</th> <!-- no significant content --> </tr>" the same as "<tr><th colspan=N>X</th></tr>" (where N = number of columns)

[11:10:01.0000] <Hixie>
instead of treating the former in a separate way

[11:14:00.0000] <Hixie>
data:text/html;base64,PHRhYmxlPjx0cj48dGg%2BSDx0aD5IPHRoPkg8dHI%2BPHRoPkg8dHI%2BPHRoPkg8dGQ%2BRDx0ZD5EPHRyPjx0aCBjb2xzcGFuPTM%2BSDx0cj48dGg%2BSDx0ZD5EPHRkPkQ8dHI%2BPHRoPkg8dHI%2BPHRoPkg8dGQ%2BRDx0ZD5EPHRyPg%3D%3D

[11:14:01.0000] <Hixie>
what should the default interpretation of that table be?

[11:24:00.0000] <Hixie>
/me trips on some passing tumbleweed

[11:25:00.0000] <Philip`>
I think the browser should add a <caption> element saying "ERROR: Table is too complex"

[11:28:00.0000] <Hixie>
heh

[11:30:00.0000] <Philip`>
It seems helpful for authors if the algorithm is simple and predictable enough that they can tell whether their slightly-fancy table is going to be automatically headerised correctly, or if they're going to have to manually annotate it

[11:30:01.0000] <Philip`>
at least for authors who know a bit about the table thing, and care about it, but can't be bothered to use some awkward ugly tool to tell them how the table really is processed

[11:31:00.0000] <Philip`>
(rather than trying to make the algorithm really complex so it handles lots of weird edge cases)

[11:46:00.0000] <andersca>
Hixie: "If the resource is not being loaded as part of navigation of a top-level browsing context"

[11:47:00.0000] <andersca>
Hixie: that statement would be true when loading something in an iframe, right?

[12:03:00.0000] <Hixie>
andersca: or a stylesheet, or an image, or XMLHttpRequest, etc, yeah

[12:03:01.0000] <Hixie>
or script

[12:03:02.0000] <Hixie>
or any number of other things

[12:04:00.0000] <Hixie>
basically anything except the maii document :-)

[12:04:01.0000] <Hixie>
main

[12:04:02.0000] <andersca>
although I guess that only xmlhttprequests can cause the cache selection algorithm to be invoked

[12:05:00.0000] <Hixie>
i think the cache selection algorithm can only be invoked when there's a browsing context

[12:05:01.0000] <andersca>
ah, yeah

[12:46:00.0000] <Hixie>
http://www.pcworld.com/article/id,140408/article.html is funny

[12:47:00.0000] <Hixie>
(given safari 3.1)

[12:47:01.0000] <andersca>
...nothing about safari :(

[12:48:00.0000] <Hixie>
yeah i love that the only browser to actually _ship_ <video> is the only one not mentioned

[12:49:00.0000] <othermaciej>
the point being, they wanted to do it, and a few months later we actually did it

[12:49:01.0000] <Hixie>
exactly

[12:49:02.0000] <Hixie>
http://www.linuxworld.com/community/?q=node/1768 is also funny

[12:49:03.0000] <andersca>
lol

[12:49:04.0000] <Hixie>
because actually, what the commenter doesn't realise is that if what he suggests were to happen, it would have the opposite effect

[12:50:00.0000] <tomg>
heh

[13:06:00.0000] <hsivonen>
clearly, one-way IO streams are the wrong abstraction for feeding an HTML parser from HTTP

[13:07:00.0000] <hsivonen>
the right interface would reuse the HTTP lib cache backing store for rewinding

[13:07:01.0000] <othermaciej>
that assumes the cache is available as a usable memory buffer during parsing

[13:07:02.0000] <othermaciej>
likely untrue

[13:07:03.0000] <othermaciej>
(unless the item is already in cache)

[13:08:00.0000] <othermaciej>
(or came in as one network read)

[13:08:01.0000] <virtuelv>
/me refrains from commenting on <video>

[13:10:00.0000] <hsivonen>
othermaciej: it seems to me that the HTTP lib should create a memory cache object for uncacheable resources in case of rewinding

[13:11:00.0000] <othermaciej>
hsivonen: what I mean is, if it's a resizable buffer, you can't count on it remaining good while the network thread may be loading more data

[13:11:01.0000] <othermaciej>
though you could count on the individual chunks it gives you I suppose, depending on design of the library

[13:12:00.0000] <virtuelv>
or wait, I'll comment, but emphasizing that this is my highly personal opinion, and not reflecting anybody else's: Shipping video without support for a freely implementable codec is like not shipping <video> at all

[13:12:01.0000] <hsivonen>
oh yeah, the interface can't be a simple memory pointer

[13:12:02.0000] <othermaciej>
virtuelv: I'm sure at least one of the many codecs QuickTime handles is freely implementable

[13:13:00.0000] <othermaciej>
and I know for sure that you can download an Ogg codec, and that is believed by many to be freely implementable

[13:13:01.0000] <hsivonen>
I guess I should test if Safari 3.1 got the codecs parameter right

[13:13:02.0000] <othermaciej>
I'm not sure it did

[13:13:03.0000] <othermaciej>
test cases and/or bug reports welcome

[13:14:00.0000] <othermaciej>
don't worry about it poisoning the well, as you can see we are on a faster release cycle these days

[13:14:01.0000] <virtuelv>
othermaciej: yes, but unless codecs are automatically located and automatically installed, next to noone is going to install it, hence rendering it unusable

[13:14:02.0000] <virtuelv>
(the freely implementable quicktime codecs are likely aged and inefficient, no?)

[13:14:03.0000] <hsivonen>
actually, I'm worried that the codecs RFC may have too big a mismatch with QuickTime/GStreamer/DirectShow codec identities

[13:15:00.0000] <gsnedders>
that's hardly a new issue. Just look at charsets

[13:15:01.0000] <othermaciej>
of the codecs QuickTime supports, I am pretty sure at least H.261 and MPEG-1 are freely implementable (in the sense that all patents must be expired), and probably H.263 as well

[13:15:02.0000] <othermaciej>
I don't know if it is that bad a mismatch

[13:15:03.0000] <gsnedders>
othermaciej: H.263 is far too recent

[13:16:00.0000] <gsnedders>
othermaciej: MPEG-1 is too recent, but probably not by the time with get to REC

[13:16:01.0000] <virtuelv>
then again. this is what is wrong with the entire patent system

[13:16:02.0000] <hsivonen>
does any browser support any flavor of ISCII?

[13:17:00.0000] <othermaciej>
virtuelv: for now we are only exporting the platform capabilities, but we are trying to help the work towards a free baseline codec

[13:18:00.0000] <othermaciej>
gsnedders: I think I was a little mixed up, I believe the state with H.263 is that in practice none of the possibly relevant patent holders appear to ever assert their patents against it

[13:18:01.0000] <gsnedders>
othermaciej: what platform capabilities on Windows? DirectShow? Or do you require QT?

[13:18:02.0000] <othermaciej>
not sure if that counts as "freely implementable"

[13:18:03.0000] <othermaciej>
we require QT on Windows

[13:18:04.0000] <othermaciej>
the Gtk port uses GStreamer

[13:18:05.0000] <othermaciej>
the Qt port uses Phonon

[13:19:00.0000] <othermaciej>
I wouldn't rule out supporting DirectShow on Windows someday

[13:19:01.0000] <gsnedders>
othermaciej: I doubt whether that's good enough for the people who need to take the risk

[13:19:02.0000] <othermaciej>
or possibly having some built-in codecs

[13:20:00.0000] <virtuelv>
othermaciej: it is the use of a non-free format that irks me

[13:20:01.0000] <gsnedders>
I'm not sure how I feel about build-in codecs. On the fact of it, I'm against it. Why re-implement something that the platform provides?

[13:20:02.0000] <virtuelv>
many linux distros do not install stuff that has known patent issues

[13:21:00.0000] <hsivonen>
how recent is Phonon? I don't recall seeing it on Ubuntu package lists, so I was unaware of the whole framework

[13:21:01.0000] <gsnedders>
hsivonen: Part of KDE4

[13:21:02.0000] <gsnedders>
hsivonen: so pretty

[13:22:00.0000] <othermaciej>
gsnedders: I mean that if there is a common baseline then maybe we'd provide it for platforms that do not have a platform version, should there be any

[13:22:01.0000] <gsnedders>
othermaciej: hmm, I'd lean towards just installing it at a platform level with the browser

[13:22:02.0000] <hsivonen>
gsnedders: thanks. that explains it

[13:32:00.0000] <Hixie>
my whiteboard is full of little table diagrams

[13:40:00.0000] <Hixie>
http://junkyard.damowmow.com/306

[13:44:00.0000] <andersca>
nice

[13:59:00.0000] <hsivonen>
Philip`: did you develop a list of good chardet test URIs as a side effect of your chardet testing?

[14:03:00.0000] <svl>
One of my friends just brought up a 'problem' with dialog: how to use if the conversation has "branches"? (e.g. choose-your-own adventure, marking up a script from a computer game, ...)

[14:03:01.0000] <svl>
Personally I don't think anything is a good fit for that... but anyone care to differ?

[14:03:02.0000] <Hixie>
<dialog> is just for the dialog part

[14:03:03.0000] <Hixie>
the prose is still in <p>s

[14:04:00.0000] <Hixie>
so you'd have <p>...</p><p>...</p><dialog>...</dialog><p> Do you want to <a href=...>...</a> or <a href=...>...</a>?</p>

[14:05:00.0000] <Philip`>
hsivonen: I'm not quite sure which chardet testing you mean

[14:05:01.0000] <svl>
Ah! So start a new dialog for each branch.

[14:06:00.0000] <Philip`>
Oh, that thing with buffer lengths

[14:07:00.0000] <Philip`>
hsivonen: I'm not sure what a "good chardet test URI" would be, so I don't already have a list of them

[14:08:00.0000] <hsivonen>
Philip`: ok. A good chardet test URI would be a real-world page that lacks an external encoding declaration, a BOM and a charset meta within the first 512 bytes

[14:10:00.0000] <hsivonen>
on the other hand, Windows-1252 pages with no declarations are needed for testing against the detector accidentally degrading the result compared to simple default

[14:13:00.0000] <hsivonen>
/me realizes that Philip` already published http://philip.html5.org/data/charsets.html

[14:13:01.0000] <andersca>
Hixie: got another q for you

[14:13:02.0000] <Hixie>
shoot

[14:13:03.0000] <andersca>
Hixie: "If there is already an application cache identified by this manifest URI, and that application cache contains a resource with the URI of the manifest"

[14:13:04.0000] <andersca>
I should only look at the newest cache in the group there, right

[14:14:00.0000] <Philip`>
hsivonen: Ah, okay - I could fairly easily make a list of pages with no HTTP Content-Type and no meta in 512 bytes

[14:14:01.0000] <Hixie>
the newest "idle" or "complete" or whatever-i-called-it cache, right

[14:14:02.0000] <Hixie>
andersca: i should make that clearer, can you mail about that?

[14:14:03.0000] <Philip`>
hsivonen: (I don't believe I found a single page with a BOM, so that's not especially relevant)

[14:14:04.0000] <andersca>
Hixie: I sure can

[14:14:05.0000] <Hixie>
andersca: thanks

[14:15:00.0000] <Hixie>
/me is so deep within the table algorithm it hurts

[14:15:01.0000] <Hixie>
right now i'm changing my boneheaded decision to make the table argorithm be one-based to being zero-based

[14:15:02.0000] <Philip`>
hsivonen: (or my BOM-detector was buggy)

[14:16:00.0000] <hsivonen>
Philip`: that kind of list would be useful

[14:21:00.0000] <Hixie>
i need to change y_current to y_next, someone remind me of that in about 25 minutes

[14:23:00.0000] <andersca>
Hixie: hmm, cache status is per group, 

[14:23:01.0000] <Philip`>
hsivonen: I have a list of 42K URIs with neither HTTP content-type nor sniffable-in-512-bytes meta

[14:23:02.0000] <Hixie>
right

[14:23:03.0000] <Philip`>
hsivonen: (i.e. about a third of all the pages)

[14:23:04.0000] <Hixie>
but while you're running the update thingy, one of the caches isn't ready

[14:23:05.0000] <Hixie>
right?

[14:23:06.0000] <Hixie>
something like that

[14:23:07.0000] <Hixie>
i forget the terminology i made up

[14:23:08.0000] <andersca>
this is not the update thingy, this is the select thingy

[14:23:09.0000] <andersca>
:)

[14:23:10.0000] <Hixie>
right

[14:23:11.0000] <Hixie>
but they can happen at the same time

[14:23:12.0000] <Hixie>
so the select thingy needs to be aware of the update thingy

[14:24:00.0000] <hsivonen>
Philip`: great. do you have it at an URI?

[14:24:01.0000] <Philip`>
hsivonen: I have a file:// URI for it

[14:24:02.0000] <andersca>
Hixie: ah

[14:24:03.0000] <andersca>
Let cache be the most recently updated application cache identified by manifest URI (that is, the newest version found in cache group).

[14:24:04.0000] <Hixie>
right

[14:25:00.0000] <andersca>
so it doesn't need to be the newest cache, it needs to be the most recently updated cache

[14:25:01.0000] <Hixie>
isn't that the same thing?

[14:25:02.0000] <hsivonen>
Philip`: I think I can't dereference file:// properly. but then I don't need the whole list, since I'm not patient enough to inspect so many pages manully

[14:26:00.0000] <Philip`>
hsivonen: Also http://philip.html5.org/data/pages-without-obvious-charset.txt

[14:26:01.0000] <Philip`>
Uh, and s/&amp;/&/g before using it

[14:26:02.0000] <hsivonen>
Philip`: thank you

[14:26:03.0000] <Philip`>
(Actually, I might as well make that change...)

[14:28:00.0000] <Philip`>
/me wonders why sed doesn't work

[14:29:00.0000] <Philip`>
Anyway, fixed ampersands now

[14:30:00.0000] <Philip`>
http://020epos.de/ - he's standing on a scarily enormous phone

[14:36:00.0000] <jgraham>
/me cheers zero based table algorithm

[14:36:01.0000] <Hixie>
yeah i dunno why i did it one-based

[14:36:02.0000] <Hixie>
but let me tell you, there's nothing quite like offsetting an entire algorithm by one

[14:36:03.0000] <hsivonen>
surprisingly many frontpages are ascii-only meta refreshes

[14:38:00.0000] <jgraham>
I blame Pascal (that is one based by default, right?)

[14:38:01.0000] <Hixie>
not as far as i recall

[14:38:02.0000] <Hixie>
oh, their old-style strings were 1-based (in that index 0 was the length byte), if that's what you mean

[14:39:00.0000] <jgraham>
/me has never programmed Pascal so doesn't actually know, but knows that Hixie has 

[14:39:01.0000] <Hixie>
yeah, i grew up on pascal

[14:39:02.0000] <Hixie>
various kinds thereof

[14:40:00.0000] <Philip`>
$[ = 1;

[14:40:01.0000] <Hixie>
dude

[14:40:02.0000] <Hixie>
that's deprecated

[14:40:03.0000] <Philip`>
perlvar merely says it's "highly discouraged"

[14:41:00.0000] <Hixie>
that's what being deprecated means

[14:41:01.0000] <Philip`>
(unlike e.g. $* which is explicitly deprecated)

[14:41:02.0000] <hsivonen>
Pascal's indexing is harmful

[14:41:03.0000] <Hixie>
i really don't recall ever having any problem with indexing in pascal, but maybe the compilers i used had "fixed" that feature

[14:41:04.0000] <Hixie>
i don't recall using 1-based arrays

[14:42:00.0000] <Hixie>
and strings were 0-based, except for the anomaly of the zeroth byte of a string being its length instead of the first character

[14:42:01.0000] <Hixie>
(and more modern string types in pascal are all zero-based)

[14:43:00.0000] <hsivonen>
what's with all these Chinese government sites having a meta refresh instead of a proper root page?

[14:43:01.0000] <Philip`>
Option Base 1;

[14:43:02.0000] <Philip`>
Uh, without the semicolon

[14:43:03.0000] <jgraham>
Of course Fortran will let you set array indicies on a case-by-case basis

[14:43:04.0000] <Hixie>
never used basic

[14:43:05.0000] <Hixie>
i'm glad to say

[14:44:00.0000] <Hixie>
(well, except for a couple of things, but i never used "option base" in any basic i ever used)

[14:45:00.0000] <hsivonen>
haha. not even meta refresh:

[14:45:01.0000] <hsivonen>
UrlTable[0] = "index_cn.html";

[14:45:02.0000] <hsivonen>
location.href=UrlTable[Math.round(Math.random()*(UrlTable.length-1))];

[14:45:03.0000] <jgraham>
real a(-134, 126)

[14:45:04.0000] <Hixie>
jgraham: yeah, pascal is the same, you can set arrays to be whatever indicies you want

[14:45:05.0000] <Philip`>
hsivonen: Uh, isn't that going to go to undefined half the time?

[14:45:06.0000] <Hixie>
jgraham: on another note, i just regenned the spec, if you have a moment it'd be great to see if you can find bugs in the new algorithm (i only changed the base)

[14:45:07.0000] <gsnedders>
Hixie: weren't myself, you, and cwilso discussing Pascal a while back, when cwilso mentioned arrays could be any based?

[14:46:00.0000] <hsivonen>
Philip`: so it seems

[14:46:01.0000] <jgraham>
Hixie you wanted o be reminded now "i need to change y_current to y_next"

[14:46:02.0000] <Hixie>
yeah i did that

[14:46:03.0000] <gsnedders>
Hixie: sorry, I'm a bit behind reading

[14:46:04.0000] <hsivonen>
who needs 1-based indeces when you can select from one slot at random?

[14:46:05.0000] <Hixie>
gsnedders: yeah, "array[2..92] of byte;" or some such

[14:46:06.0000] <gsnedders>
fun :\

[14:46:07.0000] <Philip`>
For interoperability, HTML5 needs to define the random number generator seed that must be initialised at every page load

[14:47:00.0000] <gsnedders>
/me ponders

[14:47:01.0000] <jgraham>
Apparently some well known scientific codes fake 1-based arrays in C just because the authors were more used to Fortran

[14:47:02.0000] <gsnedders>
It seems I'll likely be going to Cambridge twice this year.

[14:48:00.0000] <hsivonen>
hah. I found a chinese govt site that has over 512 bytes of style before meta. loading it in Firefox tells me it is an attack site

[14:48:01.0000] <hsivonen>
/me is assuming that .gov.cn is government

[14:49:00.0000] <Hixie>
if 0<=z<5, z_max = 4, what would you call the constant 5? z_what?

[14:49:01.0000] <Philip`>
Mathematicians can't even decide whether N (the set of natural numbers) starts at 0 or 1

[14:49:02.0000] <Hixie>
or what you say z_max was 5?

[14:49:03.0000] <gsnedders>
Philip`: 1.

[14:49:04.0000] <gsnedders>
:P

[14:49:05.0000] <Philip`>
Hixie: Is z an integer?

[14:49:06.0000] <hsivonen>
I conclude that heuristics for Simplified Chinese work

[14:49:07.0000] <hsivonen>
onto Japanese

[14:50:00.0000] <gsnedders>
Hixie: z_max has any relevance elsewhere?

[14:50:01.0000] <Hixie>
Philip`: yes

[14:50:02.0000] <Philip`>
Hixie: I'd say z_max was the maximum z, i.e. 4, not 5, and I'd say anything else was crazy

[14:50:03.0000] <Hixie>
Philip`: ok, so what is 5?

[14:50:04.0000] <Philip`>
z_max+1

[14:50:05.0000] <jgraham>
z_max + 1

[14:51:00.0000] <Hixie>
well, if we were talking about x instead of z, i'd say it was "width"

[14:51:01.0000] <jgraham>
Range?

[14:52:00.0000] <Philip`>
Just use numbers and letters, and don't bother with meaningful English words

[14:52:01.0000] <jgraham>
(but if you do that you need to define z_range = z_max - z_min +1)

[14:52:02.0000] <Hixie>
screw it, i'll use x_width and y_height

[14:54:00.0000] <Philip`>
gsnedders: Hopefully at least one of those occasions won't be too rainy

[14:54:01.0000] <gsnedders>
Philip`: it tends to be all right in July, at least

[14:56:00.0000] <andersca>
Hixie: another q about the selection process

[14:56:01.0000] <andersca>
"Otherwise, there is no matching application cache: create a new application cache identified by this manifest URI, store the resource in that cache, categorised as an implicit entry, and then invoke the application cache update process."

[14:56:02.0000] <jgraham>
gsnedders: We're having a conference in July and the conference "gift" will be an umbrella...

[14:57:00.0000] <gsnedders>
jgraham: heh.

[14:57:01.0000] <andersca>
Hixie: "store the resource" means store the headers + contents?

[14:57:02.0000] <gsnedders>
jgraham: I mean, I'm heading south (within the northern hemisphere)! The weather should be better, no?

[14:57:03.0000] <Hixie>
andersca: it means the resource, including any metadata, forks, alternate streams, anything that comes with it

[14:58:00.0000] <andersca>
Hixie: OK - so

[14:58:01.0000] <andersca>
Hixie: since this is during the selection process, the resource has most likely not finished loading yet

[14:58:02.0000] <jgraham>
gsnedders: Well it's supposed to be one of the dries places in he country, but I think he west coast of Scotland is too

[14:58:03.0000] <jgraham>
driest

[14:58:04.0000] <gsnedders>
jgraham: s/west/east

[14:59:00.0000] <jgraham>
er, yeah

[14:59:01.0000] <Hixie>
andersca: indeed

[15:00:00.0000] <andersca>
Hixie: and that is probably not a problem since the update process is started right after adding it

[15:01:00.0000] <Hixie>
andersca: i'm not sure why it would be a problem at all really, other than for implementation reasons

[15:02:00.0000] <Hixie>
as in, i could see architectural problems with systems not designed to support this being an issue

[15:02:01.0000] <gsnedders>
jgraham: yeah, it's as dry here as it is in Rome

[15:02:02.0000] <andersca>
Hixie: right

[15:02:03.0000] <Hixie>
but conceptually, it's just a matter of deciding where to stream the data to

[15:03:00.0000] <andersca>
what if I load my html file which has a cache manifest and an iframe which references the same html file

[15:03:01.0000] <hsivonen>
ok. I trust the heuristics work well enough. time to deploy

[15:03:02.0000] <Hixie>
andersca: the iframe always just uses the top-level browsing context's cache, and never ends up creating its own cache itself

[15:04:00.0000] <andersca>
Hixie: yeah, but where would the iframe get the html file from? would it depend on whether the cache was finished updating or not?

[15:05:00.0000] <Hixie>
andersca: it would get it from whatever cache its top-level browsing context is associated with. if it's not associated with anything, it would get it from the main cache.

[15:05:01.0000] <Hixie>
(or, failing that, the network)

[15:08:00.0000] <andersca>
Hixie: I mean, let's say I have something like

[15:09:00.0000] <andersca>
a file called test.html which looks like

[15:09:01.0000] <andersca>
<html manifest=...><iframe src="test.html"></iframe></html>

[15:10:00.0000] <Hixie>
is this the first time you visit it, or the second time?

[15:10:01.0000] <andersca>
the first time

[15:10:02.0000] <Hixie>
i.e. do you already have a cache for it?

[15:10:03.0000] <Hixie>
ok

[15:10:04.0000] <andersca>
I do not

[15:10:05.0000] <hsivonen>
parsetree.validator.nu now uses both chardet and the ICU detector

[15:10:06.0000] <hsivonen>
the validation side doesn't use heuristics

[15:11:00.0000] <Hixie>
andersca: ok, so, regardless of what's going on with the manifest, the result is an infinitely nested iframe of the same document. however:

[15:11:01.0000] <andersca>
yeah, I agree it's a bad test case :)

[15:11:02.0000] <Hixie>
andersca: until such time as the manifest has been downloaded and processed, the iframes will be populated from the main cache

[15:11:03.0000] <Hixie>
andersca: then, once the manifest is processed, the iframe will start getting populated from the manifest cache

[15:12:00.0000] <Hixie>
4.6.5.1. Changes to the networking model is the key section for this

[15:13:00.0000] <Hixie>
(note in particular step 5)

[15:13:01.0000] <Hixie>
(though it doesn't affect this case)

[15:13:02.0000] <andersca>
step 3 is the relevant step here, right

[15:14:00.0000] <Hixie>
the 3rd paragraph of step 24 of the application cache update process is the key here

[15:15:00.0000] <Hixie>
when that happens, suddenly the new network model takes effect

[15:16:00.0000] <Philip`>
/me knows nothing about this algorithm, but the mere existence of a 3rd paragraph of a 24th step makes it sound unreasonably complex :-p

[15:16:01.0000] <andersca>
ah

[15:16:02.0000] <andersca>
Philip`: not necessarily, it can also be detailed

[15:16:03.0000] <hsivonen>
why is it that I see more silly refresh and window.location front pages on Chinese and Korean sites than on German and Polish sites?

[15:16:04.0000] <Hixie>
Philip`: it's pretty verbose

[15:16:05.0000] <Hixie>
Philip`: and believe me, mucking in the way that browsers load files is always gonna be complex, unless it's underspecified :-)

[15:17:00.0000] <Philip`>
hsivonen: I would expect you'd see more <marquee>s on them too

[15:17:01.0000] <Philip`>
which presumably is a cultural issue

[15:18:00.0000] <Philip`>
or I'm just stereotyping :-)

[15:18:01.0000] <hsivonen>
Philip`: sure, marquee is cultural, but is failing to serve proper content at site root cultural?

[15:21:00.0000] <Philip`>
Aha, fortunately I have evidence for my opinion - 30% of the .cn sites in dmoz.org use <marquee>, vs 3% of all sites

[15:22:00.0000] <Philip`>
(.kr and .jp are around 3%)

[15:23:00.0000] <hsivonen>
FrontPage sure seems to be popular on Taiwan

[15:23:01.0000] <Philip`>
(and .tw is about 3% too)

[15:24:00.0000] <Philip`>
/me wonders if there's a good way of automatically finding significant correlations like this

[15:27:00.0000] <Hixie>
make a list of all the characteristics, get the characteristics for all the demographics you want tested, and then flag any values that are more than one stddev outside the mean?

[15:28:00.0000] <hsivonen>
hmm. the detection fails big time in .ru

[15:28:01.0000] <hsivonen>
KOI-R get misdetected as Chinese UTF-16

[15:28:02.0000] <Philip`>
hsivonen: Is that because there's no Cyrillic detector in jchardet?

[15:29:00.0000] <hsivonen>
Philip`: probably

[15:29:01.0000] <hsivonen>
I think I should reject UTF-16 in the detectors

[15:29:02.0000] <hsivonen>
real UTF-16 comes with a BOM anyway

[15:29:03.0000] <hsivonen>
or so I would hope

[15:31:00.0000] <Philip`>
Real UTF-16 tends to stay away from web

[15:31:01.0000] <Philip`>
Actually, that's a completely unfounded statement

[15:32:00.0000] <Philip`>
The web tends to stay away from UTF-16

[15:39:00.0000] <bzed>
lxml 2.0 seems to break the html5lib tests: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=471638

[15:47:00.0000] <jgraham>
bzed: known issue that we will fix soonish (it's the second thing on my priority list)

[15:48:00.0000] <jgraham>
Do you need a fix for some release, in which case I will move it to first?

[15:51:00.0000] <bzed>
jgraham: as long as it is fixed before Debian's Lenny is frozen, I'll be fine. THat's not too far away, though, but I guess there're at least 4 weeks left to fix it

[15:52:00.0000] <Hixie>
jgraham: is the bug in lxml 2 or html5lib?

[15:54:00.0000] <jgraham>
Hixie: It's in html5lib

[15:55:00.0000] <jgraham>
We were using a kind of hack to make lxml work (using a technically invalid tag name to represent the notional root node), which worked OK in lxml 1 but not in 2 which actually checks

[15:55:01.0000] <Hixie>
ah

[15:57:00.0000] <jgraham>
(it's actually mostly fixed in svn but there are a few issues with treewalkers and so that need to be ironed out)

[16:00:00.0000] <bzed>
jgraham: thanks for the info, I'll ping you again in a fwe weeks :)

[16:00:01.0000] <jgraham>
bzed: Yeah do.

[16:28:00.0000] <Hixie>
jgraham: ok, i think i got all the kinks out of the algorithm

[16:29:00.0000] <Hixie>
jgraham: if you have a moment, i'd love to make sure it's not broken before checking it in :-)

[16:29:01.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#processing

[16:35:00.0000] <jgraham>
Hixie: I'll have a look but I don't have a good way to check for mistakes

[16:36:00.0000] <Hixie>
i am relying on your brain :-)

[16:36:01.0000] <jgraham>
As I said...

[16:37:00.0000] <Hixie>
i've checked it in, anyway

[16:37:01.0000] <Hixie>
i figure if there are issues, we'll find them soon enough

[16:37:02.0000] <Hixie>
oh crap i forgot to update the next section

[16:39:00.0000] <jgraham>
A row group is a set of rows anchored at a slot (0, groupy) with a particular height such that the row group covers all the slots with coordinates (x, y) where 0 ≤ x < x_width-1

[16:40:00.0000] <jgraham>
should that be 0 ≤ x < x_width

[16:40:01.0000] <jgraham>
?

[16:40:02.0000] <jgraham>
(since x = x_width-1 is the last column)

[16:40:03.0000] <Hixie>
yes

[16:40:04.0000] <Hixie>
good catch

[16:40:05.0000] <Hixie>
will fix

[16:40:06.0000] <jgraham>
Similarly wih column groups

[16:42:00.0000] <jgraham>
Can a cll be in 0 row groups now? I thought that there was always at least 1 implied row group before

[16:43:00.0000] <jruderman>
does Opera have an email address for reporting security issues?

[16:43:01.0000] <Hixie>
it's always been able to be in zero groups

[16:43:02.0000] <Hixie>
xhtml: <table><tr><td>cell with no groups</td></tr></table>

[16:44:00.0000] <Hixie>
ok, fixed the problems above, and the section after (assigning), too. (reload if you care to check)

[16:44:01.0000] <jgraham>
Ah, XHTML

[16:45:00.0000] <jgraham>
jruderman: I think you use the form at http://www.opera.com/support/bugs/

[16:45:01.0000] <jruderman>
jgraham: you can't attach files there, so it's kinda useless for reporting security holes

[16:46:00.0000] <jgraham>
jruderman: "When your report is submitted, you will get an e-mail address to which you can send updates and attachments relevant to your report. "

[16:46:01.0000] <jruderman>
oh

[16:46:02.0000] <jruderman>
thanks


2008-03-21
[17:21:00.0000] <jgraham>
Hixie: I can't see any obvious errors in the rest of the algorithm, but I didn't rigorously check everything, particularly the places where you changed the constraints so x_current always <= x_width and similarly with y_current

[17:25:00.0000] <Hixie>
k

[17:25:01.0000] <Hixie>
as always, let me know if you run into problems ever :-)

[17:46:00.0000] <gsnedders>
Can someone get me held back in school, just so I can stay in Secondary 5?

[00:46:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-tag/2008Mar/0033.html

[01:07:00.0000] <hsivonen>
http://www.dehora.net/journal/2008/03/20/html5-obs/

[01:26:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-tag/2008Mar/0058.html

[01:27:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-tag/2008Mar/0061.html

[02:09:00.0000] <svl>
To see "Aunt Tilly" and "simply deploy RDF documents" in the same sentence...

[02:10:00.0000] <hsivonen>
regarding UTF-8 as a token default alongside windows-1252: it seems that people who use UTF-8 have a clue about declaring it

[02:58:00.0000] <hsivonen>
Philip`: did you examine the behavior of getProbableCharsets() in jchardet? Is the *last* entry in the array always the most probable?

[03:04:00.0000] <hsivonen>
hmm. I guess I should just let the detection fail if UTF-16 is the most probable

[03:04:01.0000] <hsivonen>
instead of trying to take the next most probable

[04:50:00.0000] <hsivonen>
Hixie, annevk: the discussion in this Mozilla bug might be of interest: https://bugzilla.mozilla.org/show_bug.cgi?id=289938

[05:29:00.0000] <virtuelv>
I believe annevk is on vacation

[05:31:00.0000] <hsivonen>
right. I forgot

[05:40:00.0000] <hsivonen>
http://wilbur.bytowninternet.com/pipermail/list_html4all.org/2008-March/000660.html

[06:16:00.0000] <BenMillard>
hi all, Simon 'Zcorpan' Pieters told me Hixie had gotten to table issues

[06:17:00.0000] <BenMillard>
he linked me to the tracker and the recent IRC chat

[06:24:00.0000] <MikeSmith>
hsivonen - have you tested install of your conformance checker on OSX?

[06:27:00.0000] <MikeSmith>
virtuelv - I really wish there were some way I could easily install the latest opera snapshot/weekly without needing to the goddamn desktop team blog page to check and manually get the link

[06:27:01.0000] <virtuelv>
MikeSmith: you want build feeds?

[06:33:00.0000] <MikeSmith>
Dashiva - I was going to say to virtuelv that I really don't care what the mechanism is as long as I've got some automated way to install the test build when I want to

[06:35:00.0000] <hsivonen>
MikeSmith: I develop on Mac OS X, but I haven't tested a clean install on OS X in a while

[06:37:00.0000] <MikeSmith>
hsivonen - OK, just wondering. I've been messing around a bit lately with shell stuff under Darwin on OSX and just wondering if there were any gotchas

[06:37:01.0000] <MikeSmith>
one thing I noticed so far is that it's not really obvious what JAVA_HOME is

[06:38:00.0000] <MikeSmith>
but eventually managed to figure out it's /System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK/Home

[06:49:00.0000] <BenMillard>
I've told Accessify Forums (as "Cerbera") about the tables section of HTML5 changing. I hope it's a fair summary: http://www.accessifyforum.com/viewtopic.php?p=59125#59125

[07:16:00.0000] <csarven>
/me finds http://csseleven.com/ lame on so many levels

[07:38:00.0000] <hsivonen>
ouch. the spec has grow past the Validator.nu size limit again

[07:40:00.0000] <zcorpan_>
Hixie: while you're working on tables, i think the table processing should look at child <col> elements of <table>

[07:40:01.0000] <zcorpan_>
(and that it should be allowed and perhaps that the html parser shouldn't imply <colgroup> -- i've sent email about this if i recall correctly)

[07:41:00.0000] <hsivonen>
zcorpan_: re: attributes defaulted from a DTD: If the user chooses DTD processing, Validator.nu processes the DTD. If that sucks for the user, the users shouldn't ask for DTD processing

[07:41:01.0000] <zcorpan_>
hsivonen: fair enough :)

[07:41:02.0000] <hsivonen>
zcorpan_: however, I have considered cloning Gecko's DTD behavior and offering that as an option

[07:42:00.0000] <hsivonen>
but I don't want to do it unless there's agreement that Gecko's DTD behavior should be grandfathered into the Web platform

[07:58:00.0000] <Philip`>
hsivonen: I haven't tried using getProbableCharsets at all

[07:59:00.0000] <hsivonen>
Philip`: ok

[08:00:00.0000] <hsivonen>
csarven: is there any point other than self-promotion with pictures and minibios?

[08:01:00.0000] <jgraham_mibbit>
BenMillard: I think tha's a fair summary although I guess Hixie can come up with an entirely novel algorithm

[08:03:00.0000] <csarven>
hsivonen My thoughts exactly!

[08:16:00.0000] <BenMillard>
jgraham_mibbit, thanks and that's a possibility zcorpan mentioned.

[10:30:00.0000] <Hixie>
hsivonen: if you want to let the html4all people know, there will be a gigantic e-mail coming out relatively soon discussing all the table edits in great detail

[10:30:01.0000] <Hixie>
hsivonen: i just didn't want to delay the edits until i'd done editing the spec

[10:31:00.0000] <Hixie>
er, until i'd done replying to the e-mail, i mean

[11:54:00.0000] <Philip`_>
http://wiki.whatwg.org/wiki/Special:Recentchanges - Mpsingh looks like a spammer

[12:24:00.0000] <andersca>
Hixie: found a tiny typo in the spec

[12:24:01.0000] <andersca>
Explicit entries can also be marked as foreign, which means that they have an manifest attribute but that it doesn't point at this cache's manifest.

[12:24:02.0000] <andersca>
an manifest => a manifest

[12:30:00.0000] <hsivonen>
Hixie: mentioned as part of replying on html4all

[12:48:00.0000] <andersca>
Hixie: also, ping

[12:48:01.0000] <andersca>
:)

[12:53:00.0000] <Pavlov_>
/me summons hixie too, for good measure

[12:54:00.0000] <andersca>
cool

[13:25:00.0000] <Hixie>
andersca, Pavlov_: here

[13:26:00.0000] <Hixie>
andersca: and sorry to be a pain, but if you could, please mail the typo to me :-) (either the list or ian⊙hc if you don't want to spam the list)

[13:26:01.0000] <andersca>
Hixie: I would rather have all those typos exposed on the whatwg list ;)

[13:27:00.0000] <Hixie>
sure thing :-)

[13:27:01.0000] <andersca>
Hixie: also, I was wondering why null characters in the manifest file should be converted to fffd?

[13:28:00.0000] <Hixie>
to avoid any problems with implementors wanting to use null-terminated strings

[13:29:00.0000] <Hixie>
it's been a source of many problems in other parts of the web platform

[13:30:00.0000] <andersca>
ap: did you see that

[13:31:00.0000] <ap>
Hixie: the problems in other parts were fixed without changing decoding of nulls - I think it would be better to have a consistent approach

[13:31:01.0000] <Hixie>
the html5 parser handles nulls in much the same way

[13:31:02.0000] <ap>
Hixie: hmm, do any browsers follow that?

[13:32:00.0000] <ap>
Hixie: for all I know, WebKit just treats nulls as normal characters

[13:32:01.0000] <Hixie>
some do. others treat them as nulls, and yet others have security bugs (they just strip out the nulls, or truncate at nulls, both of which can be used for xss or similar behaviours)

[13:33:00.0000] <Hixie>
to be honest it really doesn't matter much what we do with nulls here, since none of the magic strings contain nulls, and URIs aren't allowed to contain nulls.

[13:33:01.0000] <Hixie>
(or fffds)

[13:33:02.0000] <Hixie>
i don't really understand why it's a problem

[13:33:03.0000] <Hixie>
so long as the behaviour is indistinguishable from treating nulls as FFFDs

[13:33:04.0000] <ap>
Hixie: I'd just prefer to avoid introducing yet another mode in the decoder

[13:34:00.0000] <Hixie>
the spec doesn't say anything about how you implement it

[13:34:01.0000] <ap>
Hixie: hmm, I think andersca was talking about this phrase from the spec: "All U+0000 NULL characters must be replaced by U+FFFD REPLACEMENT CHARACTERs."

[13:35:00.0000] <Hixie>
right, so long as the result is equivalent to this, it doesn't matter how you do it

[13:35:01.0000] <Hixie>
in fact i think that line is effectively redundant, so long as you correctly detect whether URIs are valid or not

[13:36:00.0000] <othermaciej>
why not just wait for Opera to fix their null character handling bugs

[13:36:01.0000] <Hixie>
since both FFFD and 0000 are invalid in URIs

[13:36:02.0000] <ap>
Hixie: ok, I guess I didn't have enough context, and thought that this had practical consequences

[13:36:03.0000] <andersca>
oh, sorry about that :(

[13:36:04.0000] <Hixie>
othermaciej: this isn't about those bugs

[13:36:05.0000] <Hixie>
othermaciej: but the null->fffd stuff in the parser is there because nulls have caused far many more problems than just in opera

[13:37:00.0000] <Hixie>
e.g. the status bar bug several years back

[13:37:01.0000] <Hixie>
and since there really is no use case for U+0000 on the Web, it seems far safer to just remove it altogether

[13:37:02.0000] <othermaciej>
nulls are certainly risky when you mix with C APIs

[13:37:03.0000] <othermaciej>
but converting them in some places but not others is an annoying burden

[13:37:04.0000] <ap>
Hixie: sounds like a warning could have better effect than a somewhat misguiding requirement in a sample algorithm

[13:38:00.0000] <othermaciej>
and you really want your code to be safe against nulls in strings anyway

[13:38:01.0000] <Hixie>
ap: send mail :-)

[13:38:02.0000] <ap>
Hixie: k

[13:38:03.0000] <Hixie>
thanks

[13:38:04.0000] <othermaciej>
but if the conversion doesn't affect results of the algorithm then it does not matter much in this case

[13:39:00.0000] <Hixie>
othermaciej: in the manifest case, i don't think there's any noticeable effect, and we can probably remove it

[13:39:01.0000] <Hixie>
othermaciej: in the html parser case, i agree that it is unfortunate that you can still introduce nulls through the DOM APIs

[13:39:02.0000] <Hixie>
othermaciej: not much i can do about that, though

[13:40:00.0000] <othermaciej>
/me blames the Unicode consortium

[13:40:01.0000] <Hixie>
othermaciej: still seems far safer and better to make nulls become FFFDs, since you already have to have code to turn a number of other things into FFFDs and have to do newline normalisation anyway

[13:40:02.0000] <Hixie>
anyway

[13:40:03.0000] <Hixie>
please discuss this on a mailing list :-)

[13:40:04.0000] <Hixie>
/me is working on tables

[13:42:00.0000] <gsnedders>
eww! you can't use tables! they're presentational! divs ftw!

[13:46:00.0000] <hsivonen>
/me likes \0 to FFFD substitution in the parser

[13:52:00.0000] <BenMillard>
hixie, is there anything I can be doing to help your work on tables?

[13:58:00.0000] <Philip`>
/me sees the last paragraph of http://html4all.org/mailman/archives/list_html4all.org/2008-March/000663.html and conducts some research

[13:58:01.0000] <Philip`>
Out of about 130,000 random pages from dmoz.org, the 'axis' attribute is used on http://www.cdsm.co.uk/ and http://centerville.lionwap.org/ and http://gazianteplionsclubtr.lionwap.org/

[13:58:02.0000] <Philip`>
/me concludes that it's quite rare, and that he has insufficient data to conclude anything else

[13:59:00.0000] <hsivonen>
Philip`: I assume you keep a local cache of 130000 pages?

[13:59:01.0000] <Philip`>
hsivonen: Yes

[14:00:00.0000] <hsivonen>
how much disk space does the cache take?

[14:00:01.0000] <Philip`>
I wouldn't want the cost of downloading ~3GB of content every time I wanted to find a little more information :-)

[14:00:02.0000] <Philip`>
hsivonen: ~3GB

[14:00:03.0000] <Philip`>
(having clamped each page to 256KB)

[14:01:00.0000] <Philip`>
(since the (unclamped) mean size of a page is infinite)

[14:02:00.0000] <Philip`>
If disk space was a concern, I imagine compression could help significantly

[14:05:00.0000] <Philip`>
(http://triin.net/archive/kool/webstat/figure-8.png suggests almost everything is <=256KB, so that seems a reasonable limit to impose)

[14:05:01.0000] <Philip`>
(though actually I picked the value pretty arbitrarily)

[14:07:00.0000] <hsivonen>
If I have understood axis correctly (not a safe assuption), http://gazianteplionsclubtr.lionwap.org/ uses axis in a useless way

[14:07:01.0000] <hsivonen>
as does http://centerville.lionwap.org/

[14:08:00.0000] <hsivonen>
and http://www.cdsm.co.uk/

[14:09:00.0000] <jgraham_>
/me is pretty sure axis is useless

[14:12:00.0000] <Philip`>
At least it's abused far less frequently than many other attributes

[14:24:00.0000] <BenMillard>
/me agrees with jgraham

[14:29:00.0000] <BenMillard>
I'm off for some supper, some TV and then bed. bye all

[14:29:01.0000] <hsivonen>
ye

[14:29:02.0000] <hsivonen>
bye even

[14:30:00.0000] <BenMillard>
cya

[15:11:00.0000] <jgraham_>
http://james.html5.org/graph_2.svg -> possibly all the state transitions made in the html5lib treebuilder testcases (assuming I didn't screw up)

[15:12:00.0000] <jgraham_>
/me will work out how to distinguish "real" transitions from "reprocess as if in" transitions next (that graph should have both)

[15:13:00.0000] <Hixie>
how do you go from AfterBodyPhase to InFramesetPhase?

[15:14:00.0000] <Hixie>
oh that's the "process using the rules for" thing

[15:14:01.0000] <Hixie>
nevermind

[15:14:02.0000] <Hixie>
there are iirc only four insertion modes that can be subject to that, btw

[15:14:03.0000] <Hixie>
if that helps optimise code

[15:49:00.0000] <Philip`>
jgraham_: That's quite nice :-)

[15:52:00.0000] <Philip`>
<text style="font-family:Times New Roman;font-size:14.00;"> - doesn't it need to quote the string?

[15:53:00.0000] <Hixie>
no

[15:53:01.0000] <Philip`>
Oh

[15:53:02.0000] <Hixie>
it does, however, need units on the font-size

[15:54:00.0000] <Philip`>
Oh

[15:54:01.0000] <hsivonen>
Hixie: in SVG?

[15:54:02.0000] <Hixie>
yup

[15:54:03.0000] <Hixie>
unless you use the font-size="" attribute

[15:55:00.0000] <hsivonen>
in retrospec, it might have been good to make unitless default to px in CSS even in the standards mode

[15:55:01.0000] <Hixie>
except that would clash with unitless numbers in line-height, font, and other properties

[15:55:02.0000] <hsivonen>
unitless line-height is redundant with %

[15:56:00.0000] <Hixie>
nope

[15:56:01.0000] <Hixie>
they inherit differently

[15:56:02.0000] <hsivonen>
too difficult :-)

[15:56:03.0000] <Hixie>
(numbers allow lines to expand to fit children with bigger font sizes, %s don't)

[15:56:04.0000] <Hixie>
i'm not defending the design of the language

[15:57:00.0000] <Hixie>
just explaining why the svg group got it wrong

[15:59:00.0000] <Philip`>
http://www.gerv.net/security/link-fingerprints/ - "half a loaf is better than no bread" - I think that's not true in general - the half loaf might be covered in mould, and it'd be better if you didn't have any bread at all

[16:00:00.0000] <Hixie>
i think we already discussed fingerprints on the list once

[16:00:01.0000] <hsivonen>
http://mindforks.blogspot.com/2008/03/aria-templateid-explained.html

[16:00:02.0000] <Hixie>
and came to the conclusion it wasn't a good idea

[16:00:03.0000] <Hixie>
i was hoping someone would find the reference and reply to him before i had to :-)

[16:00:04.0000] <hsivonen>
I wonder how aria-templateid scales on the time axis given the update cycle of AT

[16:00:05.0000] <hsivonen>
compared to the update cycle of Web 2.0 apps

[16:00:06.0000] <Hixie>
/me wonders what happens if he sets aria-templateid="google.com/gmail" on his blog

[16:01:00.0000] <othermaciej>
what's aria-templateid?

[16:01:01.0000] <Hixie>
<hsivonen> http://mindforks.blogspot.com/2008/03/aria-templateid-explained.html

[16:02:00.0000] <Philip`>
/me tends to download files by copying the URL and pasting it into wget, and then getting bash errors and doing it again with quotes around the URL argument, which would avoid the benefits of link hashing

[16:02:01.0000] <othermaciej>
that sounds like an amazingly bad idea

[16:02:02.0000] <Hixie>
othermaciej: you hate blind people!

[16:03:00.0000] <hsivonen>
othermaciej: you are not the first person with that initial reaction

[16:04:00.0000] <takkaria>
I can't imagine AT vendors actually implementing support for it

[16:04:01.0000] <Philip`>
Hixie: If you did that, it would make your blog less usable to some people with AT, and there are much easier ways you can cause problems for those people, so I don't see why it matters

[16:05:00.0000] <Hixie>
Philip`: it seems like reducing the ways that authors can (accidentally) screw over their users would be a good thing

[16:06:00.0000] <Hixie>
Philip`: and, similarly, increasing the number of ways that authors can screw over their users would be a bad thing

[16:06:01.0000] <Philip`>
Why would someone accidentally set aria-templateid="google.com/gmail" on their site?

[16:06:02.0000] <othermaciej>
the saddest thing about it is that it seems to presume that web sites themselves won't use ARIA to give a good enough accessibility experience, so that AT needs special-case hacks for different sites

[16:06:03.0000] <Hixie>
Philip`: why would someone accidentally put <!DOCTYPE PHP PUBLIC "-//W3C//DTD PHP 4.01//EN"> as their doctype?

[16:06:04.0000] <Hixie>
othermaciej: firevox shows that this is already happening

[16:07:00.0000] <Hixie>
othermaciej: though why a site would care enough to put an aria-templateid attribute but not enough to make their site usable, i dunno

[16:07:01.0000] <Dashiva>
I find the AT upgrade cycle a much more persuasive argument :)

[16:08:00.0000] <othermaciej>
we have indeed heard many times that the brutally slow AT upgrade cycle makes changing accessibility features fruitless

[16:08:01.0000] <Philip`>
Hixie: There's an infinite number of errors like that that people can accidentally introduce; but there's only a (pretty small) finite number of aria-templateid="..." strings that any AT would care about, so there's a vastly smaller chance of that happening by accident

[16:08:02.0000] <othermaciej>
for instance that a new table header association algorithm was worthless, since it would be forever until AT supports it, and twice forever until users who need it have that version

[16:09:00.0000] <Hixie>
Philip`: except that the sites that would use it are those most likely to be held up as examples to learn from

[16:09:01.0000] <Hixie>
othermaciej: way to rain on what i'm doing on my other monitor :-P

[16:10:00.0000] <Philip`>
aria-templateid allows competition in (e.g.) the Gmail-usability space, because lots of vendors (and extension developers etc) can all try to make it work as well as possible; otherwise only Google could improve Gmail usability, so they're going to do less well than when there are many competing attempts

[16:11:00.0000] <Hixie>
nonsense

[16:11:01.0000] <othermaciej>
Hixie: I'm not saying I agree with such sentiments

[16:11:02.0000] <Hixie>
Philip`: ATs could easily just hardcode the gmail uris

[16:11:03.0000] <Dashiva>
Philip`: Replace templateid with the URL and you have a user script system that works today

[16:12:00.0000] <Philip`>
Maybe Google Maps is a better example, since that often gets embedded in other web pages and you can't hardcode the page URLs

[16:12:01.0000] <Philip`>
(Yay mashups!)

[16:13:00.0000] <Hixie>
that might hypothetically work, if templateid is on a per-subtree level, but that would need extremely careful definition

[16:14:00.0000] <hsivonen>
(the visual part of Google maps is very visual though)

[16:14:01.0000] <Hixie>
horrah, ms feedback on storage

[16:15:00.0000] <Philip`>
I suppose the ARIA spec is a little vague on aria-templateid, but maybe someone will blog about it in an extremely careful detailed way

[16:15:01.0000] <Hixie>
man, i should use that model to write html5

[16:15:02.0000] <Hixie>
that would be so much easier

[16:16:00.0000] <Philip`>
hsivonen: (There are many disabled people who aren't blind, so AT improvements on primarily visual content would still help some users)

[16:16:01.0000] <hsivonen>
Philip`: you are aware of the wiki guide, right?

[16:17:00.0000] <Philip`>
hsivonen: I'm not, and Google just tells me about a science fiction manga

[16:17:01.0000] <Philip`>
Oh, is that the Mozilla one?

[16:17:02.0000] <hsivonen>
Philip`: http://developer.mozilla.org/en/docs/ARIA_UA_Best_Practices

[16:18:00.0000] <Philip`>
"aria-templateid: XXX not sure what to do with this one"

[16:18:01.0000] <Philip`>
Hmm

[16:22:00.0000] <Philip`>
/me just sees http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2006-November/thread.html#7825 about the link fingerprint thing

[16:23:00.0000] <Hixie>
that's the one

[16:26:00.0000] <Hixie>
thanks Philip` 

[16:28:00.0000] <Philip`>
/me thanks the "Search Mail" button

[16:33:00.0000] <Hixie>
/me wonders how strange a validator feature request would have to be before hsivonen would just reject it out of hand

[16:33:01.0000] <Hixie>
hsivonen: so i'm tempted to ask for support for an equivalent of the #line preprocessor directive...

[16:33:02.0000] <Philip`>
/me wonders what happens if the target of checksummed link is replaced by an HTML file containing a malicious script followed by enough stuff to make a browser want to incrementally render before it's finished downloading and can check the checksum

[16:33:03.0000] <Hixie>
(i edit a file that is then concatenated to another one before validation, so the line numbers are all 82 lines off for me)

[16:34:00.0000] <Hixie>
crap, gotta go

[16:34:01.0000] <Hixie>
if people want to check it out, i just regenned the spec with the new algorithm for tables

[16:34:02.0000] <Hixie>
bbl

[16:36:00.0000] <csarven>
Are there any UAs that support inline pseudo-classes?

[16:38:00.0000] <andersca>
Hixie: cool


2008-03-22
[19:26:00.0000] <dglazkov>
ping Hixie

[19:26:01.0000] <dglazkov>
with a cherry on top

[19:28:00.0000] <dglazkov>
/me yodels in hopes of attracting attention

[19:31:00.0000] <dglazkov>
alas

[01:09:00.0000] <gsnedders>
There are no bugs, only features.

[02:37:00.0000] <Philip`>
/me notices that http://www.robbyslaughter.com/blog/?2008-03-21 , saying "You might have noticed that not all websites work perfectly", does not work in Opera since it renders as white text on a white background

[02:43:00.0000] <jruderman_>
i wonder why that happens

[02:44:00.0000] <Philip`>
I'd guess it's to do with style inheritance into tables in quirks mode, which no browsers are particularly consistent on

[02:48:00.0000] <hsivonen>
Unicode and Math really messed up with &phi;. Not good.

[02:49:00.0000] <othermaciej>
hsivonen: how so?

[02:49:01.0000] <hsivonen>
Unicode swapped the glyphs for two code points around.

[02:50:00.0000] <hsivonen>
then Math swapped the entities around to keep the entity-glyph mapping

[02:50:01.0000] <hsivonen>
now &phi; means different things in Gecko depending on doctype

[02:51:00.0000] <othermaciej>
oy vay

[03:26:00.0000] <hsivonen>
FYI: http://groups.google.com/group/mozilla.dev.tech.mathml/browse_thread/thread/e7f7efbb5e161348/9fde74f46fb0b5d2#9fde74f46fb0b5d2

[03:28:00.0000] <othermaciej>
not sure if preventing grief for Safari is an argument that will fly :-)

[03:28:01.0000] <othermaciej>
but that does sound like a good idea

[03:31:00.0000] <BenMillard>
I read the excessive DTD traffic article a few days ago...found it funny in a tragic sort of way.

[03:57:00.0000] <hsivonen>
othermaciej: I'm hoping it works in the "do unto others" sense and with the Mission of the Foundation

[05:26:00.0000] <hsivonen>
looks like the TAG issue list has even older items than the WHATWG issue list... http://www.w3.org/2001/tag/issues.html?view=normal&closed=1&type=1

[05:41:00.0000] <MikeSmith>
hsivonen - do you keep up with the httpbis list?

[05:42:00.0000] <gsnedders>
/me sighs at the very mention of that list

[05:42:01.0000] <hsivonen>
MikeSmith: I don't.

[05:43:00.0000] <hsivonen>
MikeSmith: is there something going on there that I should be aware of?

[05:43:01.0000] <MikeSmith>
not that I know of. was just asking because I've got a bunch of unread messages from that and trying to figure out what threads to read

[05:44:00.0000] <hsivonen>
I see IDNAbis in the subjects. That can't be good.

[05:44:01.0000] <MikeSmith>
heh

[05:44:02.0000] <MikeSmith>
yep

[05:44:03.0000] <gsnedders>
hsivonen: the recent discussion is all idealistic as if compat. with current non-conforming impls is irrelevant

[05:47:00.0000] <hsivonen>
eek. Are they really contemplating allowing non-ASCII on the HTTP "GET" line?

[05:48:00.0000] <gsnedders>
I dunno. I gave up reading it.

[05:48:01.0000] <gsnedders>
:)

[05:49:00.0000] <hsivonen>
It's one thing to insist on a multitude of human scripts in user-readable prose and to insist on non-ASCII in computer-to-computer messages that are text-based for programmer convenience

[05:50:00.0000] <hsivonen>
s/and/and another/

[05:51:00.0000] <hsivonen>
/me thinks people who advocate non-ASCII in programming language variable/method names or XML element/attribute names are misguided

[06:35:00.0000] <hsivonen>
hmm. does SVG really have no IDREF or IDREFS attributes?

[06:41:00.0000] <hsivonen>
do UAs actually implement SVG <use> as a DOM tree clone or as an anonymous layout object tree?

[06:41:01.0000] <hsivonen>
or something else?

[06:42:00.0000] <hsivonen>
"Property inheritance, however, works as if the referenced element had been textually included as a deeply cloned 

[06:42:01.0000] <hsivonen>
child of the 'use' element."

[06:42:02.0000] <hsivonen>
that sounds really bad

[06:45:00.0000] <hsivonen>
hmm. looks like the SVG WG has created a need for a hashed ID reference in their spec, as well

[06:46:00.0000] <hsivonen>
"●     local URI references, where the URI reference does not contain an <absoluteURI> or <relativeURI> and 

[06:46:01.0000] <hsivonen>
thus only contains a fragment identifier (i.e., #<elementID> or #xpointer(id<elementID>)) 

[06:46:02.0000] <hsivonen>
"

[06:46:03.0000] <hsivonen>
is the xpointer alternative interoperable?

[06:47:00.0000] <hsivonen>
also, in compound documents, can are "local" references local to the SVG subtree or to the entire document?

[07:00:00.0000] <hsivonen>
are cross-document <use> and <tref> supposed to work?

[07:02:00.0000] <Philip`>
hsivonen: http://krijnhoetmer.nl/irc-logs/whatwg/20080311#l-655 is relevant about implementation of SVG <use>

[07:04:00.0000] <hsivonen>
Philip`: yeah. I'm trying to figure out if I should try to validate it as a mere syntactic IRI or as a hashed ID reference whose referent is actually checked for sanity

[07:05:00.0000] <hsivonen>
I do agree with othermaciej's assessment

[10:23:00.0000] <met_>
Just found thant input.click() in some input types elements doesn't call the onclick handler in Firefox. Strange.

[10:23:01.0000] <met_>
testcase http://a.met.cz/oreilly/flanagan/

[10:24:00.0000] <met_>
it ignores type text, password, file, hidden - all textlike input elements

[11:37:00.0000] <a-ja>
Hixie: ping (when you're done chatting with Bernd....no hurry or anything)

[11:45:00.0000] <Hixie>
yo

[11:46:00.0000] <a-ja>
was working on html5'izing a site other day, & noticed i couldn't get valid dir listing pages on an apache 1.3 server...even using custom header and readme files.  prob is that they get a pre with a hr inside.  

[11:47:00.0000] <a-ja>
i presume that was valid html 3.2

[11:48:00.0000] <a-ja>
can get em to work with apache 2.something options.   worth a special case in 5?

[11:49:00.0000] <Hixie>
nah

[11:49:01.0000] <Hixie>
those pages don't have an html5 doctype anyway

[11:49:02.0000] <a-ja>
/me has to get a _real_ hoster :)

[11:50:00.0000] <a-ja>
not by default they don't anyway

[11:51:00.0000] <a-ja>
tend to agree......real edge case

[11:53:00.0000] <a-ja>
1.3's kind of a dinosaur already (but plenty of em still around, i'd imagine)

[11:57:00.0000] <a-ja>
on unrelated matter...filed a html5-related moz 1.9 bug the other day you might wanna cc yourself on...which cropped up with the recent parser change

[11:58:00.0000] <a-ja>
bug 423721 legend child of figure or unknown element should not generate fieldset

[11:59:00.0000] <a-ja>
feel  free to steal /modify the testcase there if you want

[13:22:00.0000] <Philip`>
a-ja: About "plenty of em still around": Counting 130K pages from dmoz.org, I see 33K Apache 1.3, 16K of 2.0, 9K of 2.2, 23K unlabelled Apache

[13:22:01.0000] <Philip`>
so I'd agree there's plenty

[13:23:00.0000] <Philip`>
(Also I see 22K IIS 6.0, 7K 5.0, negligible other versions)

[13:41:00.0000] <hsivonen>
it irks me that the SVG 1.1 and 1.2 Tiny specs don't tell me if they expect <use> and <tref> to work across documents.

[13:42:00.0000] <hsivonen>
I guess I have to write a test case and find out.

[13:52:00.0000] <hsivonen>
findings so far: Cross-doc doesn't work in Firefox, but the impl does URI resolution and isn't just like the hashed ID ref

[13:53:00.0000] <hsivonen>
SVG still quits Safari on me. Odd

[13:54:00.0000] <othermaciej>
hsivonen: do you have a specific SVG that does it?

[13:54:01.0000] <hsivonen>
othermaciej: yes, I have

[13:55:00.0000] <hsivonen>
Opera appears to implement real cross-doc <use>

[13:55:01.0000] <othermaciej>
hsivonen: can you file a bug, or mail it to me?

[13:55:02.0000] <hsivonen>
othermaciej: I've already filed a bug

[13:55:03.0000] <othermaciej>
hsivonen: I wouldn't be surprised if your <use> impl has bugs

[13:55:04.0000] <othermaciej>
I freaking hate <use>

[13:55:05.0000] <othermaciej>
hsivonen: thanks!

[13:56:00.0000] <hsivonen>
othermaciej: unfortunately, the information I've provided isn't very useful

[13:56:01.0000] <othermaciej>
hsivonen: if you included the file that crashes, that's useful enough

[13:57:00.0000] <hsivonen>
oops. I've missed a new comment in the bug

[13:59:00.0000] <hsivonen>
/me tries to get a backtrace now

[14:03:00.0000] <hsivonen>
whoa. I have the Adobe Plug-in

[14:03:01.0000] <Hixie>
http://scripts.indisguise.org/2008/03/22/xhtml-versus-html/

[14:05:00.0000] <othermaciej>
hsivonen: oh - we'll use ASVG when it's installed

[14:05:01.0000] <othermaciej>
I think maybe we should stop preferring it without explicit opt-in

[14:05:02.0000] <hsivonen>
commented: http://bugs.webkit.org/show_bug.cgi?id=17073

[14:06:00.0000] <hsivonen>
sorry about blaming WebKit. I had no idea I had Adobe residue on the system

[14:07:00.0000] <hsivonen>
looks like WebKit implement <use xlink:href> as a hashed ID reference

[14:07:01.0000] <hsivonen>
Firefox does URI-resolution and if it points to a fragment in the same doc, uses the fragment

[14:08:00.0000] <hsivonen>
Opera actually allows references to different HTTP resources

[14:08:01.0000] <hsivonen>
yay for interop

[14:08:02.0000] <hsivonen>
so should Validator.nu allow a full IRI, a full URI or require a hashed ID ref?

[14:09:00.0000] <hsivonen>
actually, I should rerun the Opera and Firefox tests in case either loaded the Adobe plug-in

[14:11:00.0000] <hsivonen>
those results hold

[14:12:00.0000] <a-ja>
Philip`: tks for #'s (was AFK)

[14:14:00.0000] <hsivonen>
Hixie: I'd love to see some numbers proving an XML parser marginally faster especially in the case that it is reading a DTD (even an abridged local one)

[14:16:00.0000] <othermaciej>
I am pretty sure that in WebKit the XML parser is slower than the HTML parser

[14:16:01.0000] <othermaciej>
at least, I would be very very surprised if this was not true

[14:18:00.0000] <weinig>
othermaciej: are you claiming that going from UTF-8 to UTF-16 to UTF-8 and back to UTF-16 is slow ;)

[14:18:01.0000] <othermaciej>
weinig: that's kind of what I am assuming

[14:19:00.0000] <othermaciej>
(and I hope we can fix it)

[14:19:01.0000] <hsivonen>
weinig: why do you go once to UTF-8 in between?

[14:20:00.0000] <weinig>
hsivonen: libxml only operates on UTF-8

[14:20:01.0000] <hsivonen>
weinig: oh so does your stream decoder always expand to UTF-16 first?

[14:21:00.0000] <weinig>
hsivonen: yes

[14:21:01.0000] <hsivonen>
I see. 

[16:40:00.0000] <dglazkov>
paging Dr. Hixie

[16:41:00.0000] <heycam>
hsivonen, SVG Tiny 1.2 does say, in the Reference Restrictions section: http://www.w3.org/TR/SVGMobile12/linking.html#ReferenceRestrictions

[16:42:00.0000] <heycam>
1.1 doesn't though

[16:44:00.0000] <heycam>
correction, 1.1 does: http://www.w3.org/TR/SVG11/struct.html#uriReferenceDefinition


2008-03-23
[18:07:00.0000] <dglazkov>
no Hixie?

[18:28:00.0000] <Hixie>
dglazkov: here now

[18:28:01.0000] <dglazkov>
cool!

[00:35:00.0000] <Hixie>
anyone have IE?

[00:35:01.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ctable%20border%3E%0D%0A%3Ctr%3E%3Ctd%20rowspan%3D1%3EX%3Ctd%20rowspan%3D2%3EY%3Cbr%3EY%3Ctd%20rowspan%3D3%3EZ%3Cbr%3EZ%3Cbr%3EZ%3Cbr%3EZ%0D%0A%3Ctbody%3E%0D%0A%3Ctr%3E%3Ctd%3Ezzz

[00:35:02.0000] <Hixie>
i need to know if the cells in the first row group are the same height

[00:36:00.0000] <Hixie>
or whether they do what safari does

[00:39:00.0000] <Pavlov_>
sec

[00:39:01.0000] <Pavlov_>
X YY and ZZZ?

[00:40:00.0000] <Pavlov_>
er, ZZZZ?

[00:40:01.0000] <Pavlov_>
if so, they are all the same height for me in IE6

[00:41:00.0000] <Hixie>
oh i was hoping for IE8

[00:41:01.0000] <Hixie>
sorry

[00:41:02.0000] <Pavlov_>
ah

[00:41:03.0000] <Pavlov_>
sorry

[00:41:04.0000] <Hixie>
np

[00:41:05.0000] <Hixie>
i doubt it changed anyway

[00:42:00.0000] <Hixie>
thanks

[01:09:00.0000] <Hixie>
maybe we should just drop xml:base altoegether

[01:48:00.0000] <hsivonen>
heycam: thanks. 

[01:52:00.0000] <heycam>
np

[01:55:00.0000] <virtuelv>
Is the error handling well enough specified these days for there to be a reference resulting parse tree for http://virtuelvis.com/download/162/evilml.html ?

[01:55:01.0000] <Hixie>
yes

[01:59:00.0000] <virtuelv>
Ok. Results aren't too encouraging, then

[02:00:00.0000] <virtuelv>
I can't test the DOM Viewer outpout in Midori (Webkit-based GTK app), since it crashes the browser

[02:00:01.0000] <hsivonen>
heycam: would you consider it appropriate if I made Validator.nu complain about if pattern had a full URI instead of just a hashed ID ref?

[02:00:02.0000] <othermaciej>
DOM Viewer handles it ok in Safari 3.1

[02:01:00.0000] <Hixie>
http://james.html5.org/cgi-bin/parsetree/parsetree.py?source=%3C%21DOCTYPE+HTML+PUBLIC+%22-%2F%2FW3C%2F%2FDTD+HTML+4.01%2F%2FEN%22+%0D%0A%22http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml4%2Fstrict.dtd%22%3E%3Chtml%3Chead%3Ctitle%3EWhat+does+your+HTML+%0D%0Aparser+make+of+this%3F%3C%2F%3E%3C%2F%3E%3Cbody%3Ch1%3Cem%3EEmphasized%3C%2F%3E+in+%26lt%3Bh1%26gt%3B%3C%2F%3E%3Cp%3Ca+%0D%0Ahref%3D%22http%3A%2F%2Fwww.example.com%22%3Cem%3EEmphasis%3C%2F%3E+in+links+as+well%3C%2F%3E.+%0D

[02:01:01.0000] <Hixie>
er

[02:01:02.0000] <Hixie>
http://james.html5.org/cgi-bin/parsetree/parsetree.py

[02:01:03.0000] <virtuelv>
othermaciej: Midori isn't exactly stable, but it's the only reasonable way I can run it under Gnome

[02:01:04.0000] <hsivonen>
is there a bug here: http://parsetree.validator.nu/?doc=http://virtuelvis.com/download/162/evilml.html

[02:02:00.0000] <hsivonen>
apparently not

[02:03:00.0000] <hsivonen>
it's just confusing that "<" can become part of an element name

[02:03:01.0000] <othermaciej>
fwiw in WebKit we have made no attempt yet to better match HTML5 standard parsing

[02:05:00.0000] <hsivonen>
Hixie: what's the deal with allowing "<" in an element name? is it an IEism? none of Gecko, WebKit and Opera do it

[02:08:00.0000] <heycam>
hsivonen, that sounds fine for svg 1.1.  but for tiny 1.2, i'd only do it if you also complain about other unsupported values, e.g. fill="blah"

[02:08:01.0000] <heycam>
since it's the same class of error as that

[02:08:02.0000] <heycam>
/me goes for dinner for sure this time

[02:08:03.0000] <hsivonen>
heycam: thanks

[02:14:00.0000] <Hixie>
hsivonen: someone asked for < not to end tags, so, it doesn't

[02:15:00.0000] <Hixie>
send mail if you want to have it changed (but do let me know what it should be changed to)

[02:25:00.0000] <hsivonen>
Hixie: email sent

[02:26:00.0000] <Hixie>
thanks

[02:28:00.0000] <hsivonen>
/me is unhappy that SVG uses URIs instead of honest IDREFs for references that must be intra-document

[02:43:00.0000] <othermaciej>
hsivonen: I believe it is on a theory of future extensibility

[02:46:00.0000] <hsivonen>
othermaciej: in that case, the Safari impl. isn't forward-compatible

[02:47:00.0000] <othermaciej>
you mean that we just treat is as an idref, not resolve as a URI and then check if it is the same document?

[02:47:01.0000] <hsivonen>
othermaciej: yes

[02:48:00.0000] <othermaciej>
probably a bug that we treat it that way, but SVG is not yet that huge an area of concern

[02:49:00.0000] <othermaciej>
so besides requiring the parser to create elements with "<" in the name, does current html5 consider that an error?

[02:59:00.0000] <hsivonen>
othermaciej: no, the error will be caught on the next layer.

[03:44:00.0000] <hsivonen>
/me doesn't like ARIA's XSD datatype dependency

[03:44:01.0000] <hsivonen>
/me would prefer Web Forms 2.0 datatypes

[04:05:00.0000] <hsivonen>
the conformance requirements for ARIA need some work

[09:23:00.0000] <hsivonen>
3.4.3.1 Header Levels versus Nesting Levels in http://www.w3.org/TR/wai-aria-practices/ is just sad

[09:28:00.0000] <Lachy_>
hsivonen, is there anything in that document that isn't sad?

[09:29:00.0000] <hsivonen>
Lachy_: given that Ajax libraries are building widgets out of divs, annotating those with ARIA is better than putting one's head in sand and insisting that the div widgets aren't happening

[09:29:01.0000] <hsivonen>
Lachy_: but yeah, even the div widgets are kinda sad

[09:43:00.0000] <gsnedders>
http://gsnedders.html5.org/tests/content-type.php

[11:28:00.0000] <Hixie>
hsivonen: now's a good time to raise aria issues

[11:28:01.0000] <Hixie>
hsivonen: i agree with most of what you said

[11:28:02.0000] <Hixie>
hsivonen: i'd go even further, and say that you shouldn't make one element take the semantics of another when those semantics affect the wider page, e.g. making a paragraph into a header

[12:00:00.0000] <hsivonen>
Hixie: ok. I've been thinking I should draft an ARIA-in-HTML5 integration proposal from the document conformance point of view

[12:01:00.0000] <Hixie>
that'd be very interesting

[12:01:01.0000] <hsivonen>
once we converge on what's conforming, we can consider what behavior to prescribe for the non-conforming cases

[12:01:02.0000] <Hixie>
also from the point of view of a non-CSS UA

[12:01:03.0000] <Hixie>
well

[12:01:04.0000] <Hixie>
my perspective on things is that we should avoid giving authors rope to hang themselves with, generally

[12:02:00.0000] <Hixie>
hence how many of the things i design from scratch just don't have error conditions

[12:02:01.0000] <Hixie>
they just have well-defined semantics for everything possible

[12:02:02.0000] <jgraham>
Hixie: Unfortunately aria has lots of error conditions :)

[12:02:03.0000] <hsivonen>
I'm particularly concerned that the "best practices" doc has examples that fail to use semantics that have been in HTML for over a decade and that wouldn't be disruptive for Ajax libraries

[12:03:00.0000] <hsivonen>
also, from a selfish point of view, I'm not at all a fan of aria-datatype and aria-owns

[12:04:00.0000] <Hixie>
jgraham: do you recall what format i have to use for "ISSUE-20"-type markers in e-mails to make my e-mails get associated with tracker issues?

[12:04:01.0000] <Hixie>
"aria-owns"?! hah

[12:04:02.0000] <Hixie>
/me introduces "html5-is-da-hot-stuff"

[12:05:00.0000] <jgraham>
Hixie: No. I think you just put the ISSUE-20 in the subj. line

[12:05:01.0000] <hsivonen>
seriously, though, ARIA containment conformance checking would be super-simple without aria-owns

[12:05:02.0000] <hsivonen>
or with aria-owned-by

[12:05:03.0000] <hsivonen>
but having the relation go from parent to child sucks big time for me :-(

[12:05:04.0000] <Hixie>
jgraham: oh i have to put it in the subject? that's unfortunate

[12:06:00.0000] <jgraham>
I don't know what happens if you put ISSUE-20 ISSUE-30 etc. all in the same subject. Possibly tracker explodes ;)

[12:07:00.0000] <jgraham>
(I assume that is the problem)

[12:07:01.0000] <hsivonen>
/me thought they could be in the message body as well

[12:07:02.0000] <Hixie>
i'm just gonna mention them in the body and link them up later if required

[12:08:00.0000] <hsivonen>
"The keywords can be anywhere in the subject or text of the message. However, the tool only reads the text portions of an email, not HTML or PDF, so make sure you send emails either in plain-text or with an equivalent plain-txt attachment."

[12:08:01.0000] <Hixie>
i hope it reads all of the e-mail

[12:08:02.0000] <jgraham>
hsivonen: Where is that?

[12:08:03.0000] <Hixie>
this is one big mail

[12:08:04.0000] <hsivonen>
http://www.w3.org/2005/06/tracker/email

[12:09:00.0000] <jgraham>
/me didn't spot that link

[12:12:00.0000] <hsivonen>
also, I think aria-templateid may have bad effects on innovation and compatition

[12:13:00.0000] <hsivonen>
bad for innovation, because it makes changing sites break accessibility

[12:13:01.0000] <hsivonen>
and bad for competition, because some participants get a special boost

[12:13:02.0000] <hsivonen>
and as a competitor, you cannot get the same advantage by writing to an open spec

[12:14:00.0000] <hsivonen>
instead, you have to use a magic string and reverse engineer its effect

[12:17:00.0000] <Hixie>
you don't have to

[12:17:01.0000] <Hixie>
you can just hardcode uris

[12:17:02.0000] <Hixie>
and that way you're not dependent on the author to provide a hook

[12:19:00.0000] <hsivonen>
Hixie: I meant you are a competitor of a site whose templateid is getting preferential treatment

[12:20:00.0000] <Hixie>
[24~aah

[12:20:01.0000] <hsivonen>
Hixie: how do you gain the same advantage?

[12:20:02.0000] <Hixie>
ure

[12:20:03.0000] <Hixie>
sure even

[12:20:04.0000] <Hixie>
it's anti-competitive!

[12:20:05.0000] <Hixie>
must be dropped

[12:20:06.0000] <Hixie>
:-)

[12:21:00.0000] <hsivonen>
the innovation point is that you are yourself getting preferential treatment for you old version. can you change your app innovatively?

[12:22:00.0000] <Hixie>
yeah

[12:28:00.0000] <Hixie>
well i just closed a tracker issue with a rejection for the first time

[12:28:01.0000] <Hixie>
/me dons his asbestos suit

[12:28:02.0000] <Hixie>
/me just replied to 102 e-mails

[12:28:03.0000] <Hixie>
that should help the graph

[12:32:00.0000] <Hixie>
so i don't suppose anyone did go through my input-for-whatwg-html-parsing-rules-namespaces-discussion folder and summarise the problem descriptions, huh

[12:36:00.0000] <jgraham>
Hixie: Only 67kb. I'm disappointed ;)

[12:45:00.0000] <hsivonen>
Hixie: btw, aria-owns is supposed to address the case where a table has sub-rows but the table markup only allows consecutive rows

[12:48:00.0000] <hsivonen>
Hixie: did you talk markp into removing his summary attributes?

[12:49:00.0000] <hsivonen>
/me is almost sure there were summary='' instances on diveintomark a while ago

[14:05:00.0000] <Hixie>
hsivonen: no, but i doubt he'd be hard to convince :-)

[14:17:00.0000] <Hixie>
well that didn't take long...

[14:17:01.0000] <Hixie>
(re: www-archive/html4all)

[14:28:00.0000] <Lachy_>
wow, I'm surprised I ever said abbr="" should be retained. It's interesting how my opinion changed in the last 2 years

[14:32:00.0000] <gsnedders>
abbr=""? what's that?

[14:33:00.0000] <gsnedders>
when the top hit on google is actually the spec and not some tutorial, you know you're off to a bad start

[14:33:01.0000] <gsnedders>
what a pointless attribute.

[14:34:00.0000] <webben_>
Hixie: Does HTML5 have a way to a "provide a brief overview of how a data table is organized or a brief explanation of how to navigate the table", making "the information available to people who use screen readers" without displaying the information visually ( quotes from http://www.w3.org/TR/WCAG20-TECHS/H73.html )?

[14:34:01.0000] <webben_>
gsnedders: If you're trying to reduce table verbosity abbr can be useful.

[14:35:00.0000] <Hixie>
webben_: I don't understand why you would want to discriminate against people who can see. <p> fulfills the rest of the use case.

[14:36:00.0000] <Hixie>
any whatwgers got ssb brawl?

[14:36:01.0000] <webben_>
Hixie: That assumes that the information is useful to people who can see.

[14:36:02.0000] <webben_>
If it's useful to people who can see, it shouldn't be in summary.

[14:36:03.0000] <Hixie>
webben_: why would it not be?

[14:36:04.0000] <webben_>
Why would it be?

[14:38:00.0000] <webben_>
Hixie: e.g. in the WCAG example, is that information useful to people who can see?

[14:38:01.0000] <webben_>
at least assuming "Schedule for Route 7 going downtown" is obvious looking elsewhere on the page

[14:39:00.0000] <Lachy_>
Hixie, what's "ssb brawl"?

[14:39:01.0000] <Hixie>
sorry, playing brawl right now, can't look at the web :-)

[14:39:02.0000] <Hixie>
Lachy_: wii game

[14:39:03.0000] <Hixie>
Lachy_: i'm playing with allan

[14:40:00.0000] <takkaria>
webben_: I would say that information is useful for sighted users as well

[14:40:01.0000] <BenMillard>
the abbr attribute provides a short form of the headers in a data table

[14:41:00.0000] <BenMillard>
it would be useful in flexible layouts, as the short form could be disabled if the columns got too narrow for the long form

[14:41:01.0000] <webben_>
takkaria: So you reckon sighted people would need that explanation above the table (say) in order to understand it?

[14:42:00.0000] <BenMillard>
it's also intended to reduce the pain of long headers being repeated in the aural rendering of data tables

[14:43:00.0000] <BenMillard>
only 1 table in my survey used it

[14:44:00.0000] <BenMillard>
people who don't care enough about users to write short table header text probably don't care enough to write short table header text in a special attribute as well as their long table header text

[14:44:01.0000] <webben_>
I used abbr to try and cut down the verbosity of some of the tables in the Yahoo! UK Funds Centre: http://uk.biz.yahoo.com/16/sector.html

[14:44:02.0000] <webben_>
e.g. "Quartile Rank over 1 Year" => "Rank over 1 Year"

[14:45:00.0000] <webben_>
it's not much, but if it helps a little it's worthwhile

[14:47:00.0000] <takkaria>
webben_: I don't they need it, no, but it's a useful summary

[14:47:01.0000] <takkaria>
I don't see it doing any harm to sighted people

[14:48:00.0000] <takkaria>
the quick summary of the service times would be useful, for example

[14:48:01.0000] <hsivonen>
It turns out that trying to figure what makes sense when integratating HTML5 and ARIA is non-obvious

[14:49:00.0000] <hsivonen>
it would be much easier to leave it unspecified and make it Someone Else's Problem

[14:49:01.0000] <othermaciej>
hsivonen: if you take a baseline assumption of "ARIA always wins over native markup role, on a property-by-property basis", what else needs to be specified?

[14:49:02.0000] <othermaciej>
(honest question - I am not sure)

[14:50:00.0000] <Hixie>
that's a terrible design

[14:51:00.0000] <hsivonen>
othermaciej: I am assuming that it is a bad idea to let document conformance allow override of strong native semantics

[14:51:01.0000] <othermaciej>
Hixie: that is how the ARIA guys say it should work - it certainly has the advantage of being easy to implement

[14:51:02.0000] <hsivonen>
othermaciej: more importantly, there are some native semantics that could be augmented with states and properties

[14:52:00.0000] <othermaciej>
hsivonen: it does seem to me like a more careful integration design would not let use use anything but an <h?> element for a header, or let you make a checkbox appear to AT to be a radio button

[14:52:01.0000] <Hixie>
othermaciej: it's also a horrific abuse of semantics

[14:52:02.0000] <hsivonen>
othermaciej: and requiring a role in that case would just be silly

[14:52:03.0000] <hsivonen>
othermaciej: for example, I think <th> should allow aria-sort without having a role

[14:53:00.0000] <othermaciej>
hsivonen: aaron's statement on this (not sure it should be taken as official, since it was just an offhand remark on a list) is that it should work property by property, even if no explicit role is set

[14:53:01.0000] <othermaciej>
and that in fact, on elements that would have "native" state like a checkbox, it should show through even if you set the role to something else

[14:53:02.0000] <BenMillard>
hsivonen, you have an informal list of ARIA stuff which can be inferred for HTML5 elements? maybe create a document listing all the ARIA stuff which can be inferred by default

[14:53:03.0000] <othermaciej>
as an implementor I am pleased, as an architect I find this design distasteful

[14:53:04.0000] <othermaciej>
BenMillard: a list like that would be great

[14:54:00.0000] <hsivonen>
BenMillard: I'm writing the list right now

[14:54:01.0000] <othermaciej>
BenMillard: ARIA guys did not seem to think having one was very important

[14:54:02.0000] <webben_>
takkaria: Yes. That's a reasonable argument for removing some of that text from SUMMARY (although there's a risk of swamping the page in explanatory text). Whether designers would be persuaded that enough sighted users would be helped if it were included is a different matter; persuading designers to include some text that doesn't mess with their design is likely to be easier. (Of course, if sighted users are /equally/ helped then there's no argument that it sh

[14:54:03.0000] <othermaciej>
FWIW we are seriously considering implementing ARIA in WebKit soon, the only thing that makes me hesitate is HTML integration issues (not just HTML5 but even just HTML4 stuff)

[14:55:00.0000] <BenMillard>
yay, a useful contribution. with that I'll depart for dinner...cya!

[14:56:00.0000] <hsivonen>
othermaciej: the ARIA spec is written to allow certain states and properties with certain roles

[14:56:01.0000] <hsivonen>
othermaciej: so if Validator.nu only allowed those, it would proclaim <th aria-sort=ascending> as non-conforming

[14:56:02.0000] <othermaciej>
hsivonen: I see

[14:57:00.0000] <hsivonen>
and since I don't want to allow just any random stuff, this requires thinking

[14:57:01.0000] <othermaciej>
hsivonen: so even if the implementation is as I said, perhaps it would make sense to change conformance to take into account implied roles, and to perhaps in some cases make override of native role non-conforming

[14:57:02.0000] <hsivonen>
and the questions that thinking about this turns up are don't all have obvious answers

[14:58:00.0000] <othermaciej>
At least some of the WAI folks were very sympathetic to the argument that ARIA should not supersede or discourage proper semantic markup where that would work for the intended use

[14:58:01.0000] <hsivonen>
othermaciej: right. and someone has to figure that out

[14:58:02.0000] <hsivonen>
othermaciej: their best practice doc doesn't follow that policy

[15:00:00.0000] <othermaciej>
hsivonen: I wouldn't say all agree with it, and I don't think any of them has tried to fully think through the implications of such a policy

[15:20:00.0000] <hsivonen>
/me is puzzled with the assertion that people think 0 is positive

[15:21:00.0000] <Hixie>
wtf is aria-sort=ascending and why doesn't it just apply generally?

[15:22:00.0000] <Hixie>
as in, why is it an "aria" thing

[15:22:01.0000] <hsivonen>
Hixie: it makes a claim to the AT that a table column is sorted in an ascending order

[15:22:02.0000] <hsivonen>
it doesn't actually sort it

[15:22:03.0000] <webben_>
I'd assume because it's easy to tell at a glance whether something is sorted alphabetically if you can see it.

[15:22:04.0000] <Hixie>
hsivonen: ok so why don't we just have a "sort-order" attribute?

[15:23:00.0000] <webben_>
why don't you?

[15:23:01.0000] <hsivonen>
Hixie: because the whole ARIA thing assumes that whoever defines HTML is unresponsive and they have to do their thing in their own syntactic partition

[15:23:02.0000] <Hixie>
that's not going to fly well if they want it integrated with html5

[15:23:03.0000] <hsivonen>
Hixie: also, ARIA assumes that the host language space is wider than HTML+SVG

[15:24:00.0000] <Hixie>
ah, overgeneralisation syndrome

[15:24:01.0000] <Hixie>
typical of w3c

[15:24:02.0000] <hsivonen>
yeah

[15:24:03.0000] <hsivonen>
in an ideal world, the language space would be clamped to HTML and SVG and the HTML WG and the SVG WG would be responsive

[15:25:00.0000] <Hixie>
i'm still baffled by this concept of wanting to annotate parts of svg with aria roles

[15:25:01.0000] <webben_>
well, people want to build controls out of SVG

[15:25:02.0000] <webben_>
so it's much the same as building controls out of divs and annotating those, I should think

[15:25:03.0000] <Hixie>
controls is one thing

[15:26:00.0000] <Hixie>
marking things as tables with a sort order is something else

[15:26:01.0000] <webben_>
If you're going to build controls out of SVG, why not tables too?

[15:26:02.0000] <Hixie>
because that's what <html:table> is for?

[15:27:00.0000] <hsivonen>
Hixie: also, one of the tacit assumptions of ARIA is that the a significant proportion of browsers is uncooperative

[15:27:01.0000] <Hixie>
seems to me that the underlying assumptions of the aria work are out of date

[15:27:02.0000] <hsivonen>
which doesn't hold for ARIA anymore but still holds for XBL2

[15:28:00.0000] <Hixie>
how so?

[15:28:01.0000] <webben_>
Hixie: Dunno. It's like people building text in Flash I'd suppose.

[15:29:00.0000] <hsivonen>
Hixie: there's no indication of Microsoft wanting to implement XBL2, as far as I can tell

[15:29:01.0000] <webben_>
Hixie: or Canvas

[15:29:02.0000] <Hixie>
webben_: yes, it's exactly like that. and people building text out of flash (or tables out of svg) have already given up on accessibility, so why is providing aria attributes going to help?

[15:29:03.0000] <Hixie>
it's like people who want new features in spec to work around bugs in browsers

[15:30:00.0000] <Hixie>
hsivonen: microsoft never indicate anything.

[15:30:01.0000] <Hixie>
hsivonen: (of this kind of stuff)

[15:30:02.0000] <webben_>
Hixie: I'm not sure they have given up on accessibility. I think they're more likely to be privileging something else over accessibility.

[15:30:03.0000] <othermaciej>
building tables out of SVG seems like a weird concept

[15:30:04.0000] <hsivonen>
Hixie: right, so ARIA takes a strategy that works regardless of what MS does

[15:30:05.0000] <hsivonen>
Hixie: but then in this case it turns out that they implement it as well

[15:30:06.0000] <othermaciej>
on the other hand, at least some SVG-related thinking is based on the premise that your whole UI is SVG

[15:30:07.0000] <hsivonen>
Hixie: but that wasn't necessary for ARIA to be useful elsewhere

[15:31:00.0000] <Hixie>
hsivonen: i don't see how any of the dumb things in aria have anything to do with whether ms implements aria or not

[15:31:01.0000] <webben_>
othermaciej: exactly

[15:31:02.0000] <othermaciej>
I would rather stab myself in the eye with a fork than implement table layout using SVG

[15:32:00.0000] <hsivonen>
Hixie: the general idea of putting AT integration away in attributes instead of requiring new elements like <progress> and <datagrid> works without Microsoft's participation

[15:32:01.0000] <webben_>
othermaciej: already done I think: http://thomas.tanreisoftware.com/?p=42

[15:32:02.0000] <hsivonen>
Hixie: the specifics of ARIA are specifics

[15:32:03.0000] <webben_>
(the implementing, not the eye-fork-stabbing ;) )

[15:32:04.0000] <hsivonen>
Hixie: there are a number of specifics I quite dislike

[15:32:05.0000] <Hixie>
hsivonen: dude. <table> isn't new.

[15:32:06.0000] <othermaciej>
webben_: I read the phrase "SVG flow layout engine" and closed the window

[15:32:07.0000] <webben_>
hehe

[15:32:08.0000] <hsivonen>
Hixie: that's one part I seriously dislike

[15:33:00.0000] <hsivonen>
Hixie: to me, it makes no sense to have that there

[15:33:01.0000] <Hixie>
same with the header stuff

[15:34:00.0000] <othermaciej>
certainly some roles seem redundant in HTML

[15:34:01.0000] <othermaciej>
HTML4, not just 5

[15:34:02.0000] <othermaciej>
I can see why, if you are a crazy AJAX guy, you might want to pretend a <div> is a checkbox

[15:34:03.0000] <othermaciej>
but not why you would want to pretend it is a table or header

[15:34:04.0000] <hsivonen>
Hixie: I already complained about the header "best practice" stuff

[15:34:05.0000] <othermaciej>
you can already customize the presentation of the real elements for those as much as you want

[15:34:06.0000] <hsivonen>
Hixie: tomorrow, I'm going to complain about the table stuff

[15:35:00.0000] <webben_>
othermaciej: not really

[15:35:01.0000] <hsivonen>
Hixie: and about templateid

[15:35:02.0000] <webben_>
not in current browsers anyway

[15:35:03.0000] <webben_>
there are more bugs with styling table elements than divs

[15:35:04.0000] <othermaciej>
webben_: h1 can be customized just as much as div

[15:35:05.0000] <webben_>
othermaciej: h1 probably can yes

[15:35:06.0000] <othermaciej>
table does imply row/cell structure

[15:35:07.0000] <hsivonen>
Hixie: I also want to complain about aria-owns, but I predict it is too late to fix that one in this browser release cycle

[15:36:00.0000] <hsivonen>
aria-owns scares me

[15:36:01.0000] <othermaciej>
but if you have something that does not follow that row/cell structure, how is it a table?

[15:36:02.0000] <othermaciej>
what is aria-owns?

[15:36:03.0000] <hsivonen>
othermaciej: aria-owns overrides the parent-child relationship induced by tree containment

[15:36:04.0000] <othermaciej>
does it replace it or add to it?

[15:36:05.0000] <hsivonen>
othermaciej: the scary part is that since it overrides what children a parent has, it can make cycles

[15:37:00.0000] <hsivonen>
letting the child point to a single new parent would be safer

[15:37:01.0000] <hsivonen>
othermaciej: I think it is supposed to replace the normal containment when computing what to tell AT

[15:37:02.0000] <othermaciej>
that's kind of a pain

[15:38:00.0000] <hsivonen>
my work would be much simpler without aria-owns

[15:38:01.0000] <othermaciej>
since to report children to AT, you have to know about all aria-owns attributes everywhere in the document

[15:39:00.0000] <hsivonen>
besides, I think the problem aria-owns is supposed to solve could be solved in a less disruptive way

[15:39:01.0000] <hsivonen>
the stated problem is that table has a flat list of rows 

[15:39:02.0000] <hsivonen>
and aria-owns makes it possible to make some rows children of other rows

[15:40:00.0000] <hsivonen>
I think aria-level could be tweaked to solve that

[15:40:01.0000] <othermaciej>
so you can fake an outline view with a table?

[15:40:02.0000] <hsivonen>
right

[15:40:03.0000] <hsivonen>
like <datagrid>

[16:22:00.0000] <Hixie>
the links in http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2006-June/006498.html suggest that maybe presentational mathml is not an accessibility problem after all

[16:30:00.0000] <webben_>
Hixie: also http://firevox.clcworld.net/features.html

[16:34:00.0000] <webben_>
I'd guess http://www.nfbnet.org/mailman/listinfo/blindmath would be good folks to ask though


2008-03-24
[21:37:00.0000] <heycam>
Hixie, i'd use sequence<any> rather than sequence<Object> for executeSql()

[21:38:00.0000] <heycam>
to avoid unnecessary conversions of Number/String/etc. values to their object equivalents

[22:52:00.0000] <Hixie>
heycam: can you send me that by e-mail? i'm in the middle of the namespace stuff right now

[23:12:00.0000] <heycam>
Hixie, ok

[23:13:00.0000] <Hixie>
thanks

[23:13:01.0000] <Pavlov_>
hrm

[23:13:02.0000] <Pavlov_>
Hixie: know anyone who knows stuff about css font things?

[23:13:03.0000] <Pavlov_>
spec things

[23:13:04.0000] <Hixie>
elaborate?

[23:14:00.0000] <Pavlov_>
well, for example, opentype doesn't really define font weights very well aside from giving 100-900 names

[23:14:01.0000] <Pavlov_>
there are a bunch of fonts with weights of say 950 or 1000

[23:14:02.0000] <Pavlov_>
(not many with 1000, but a few.  quite a few 950s)

[23:15:00.0000] <Pavlov_>
(and i've seen other x50 ones)

[23:16:00.0000] <Pavlov_>
just trying to understand what the best thing to do is/if the spec should change

[23:17:00.0000] <Pavlov_>
like, if i have a 900 and a 1000, i should probably ignore the 1000 (or use it/support it?) but if i don't have a 900 i should probably round the 950/1000 down

[23:18:00.0000] <Pavlov_>
if i have 100, 150, 200, 250, 300, ... 950 should i support them all? bolder/lighter do what?

[23:23:00.0000] <Pavlov_>
imho, supporting more than that is feasable

[23:23:01.0000] <Pavlov_>
like, the spec says "If the font family already uses a numerical scale with nine values (like e.g. OpenType does), the font weights should be mapped directly."

[23:24:00.0000] <Hixie>
yeah if you have more than 2 weight above bold (700) then the spec just says to drop some

[23:24:01.0000] <Pavlov_>
except that OpenType doesn't specify just 9 steps

[23:24:02.0000] <Hixie>
well, 9 weight is probably enough for now -- most pages don't bother with more than 2 levels anyway

[23:24:03.0000] <Pavlov_>
yeah

[23:25:00.0000] <Pavlov_>
1000 is pretty rare

[23:25:01.0000] <Hixie>
if there really are fonts that have more weights, i would invent keywords -moz-1000, -moz-1100, etc

[23:25:02.0000] <Pavlov_>
think i've seen 2 fonts with it?

[23:25:03.0000] <Pavlov_>
950 is pretty common thouhg

[23:25:04.0000] <Hixie>
so i would say map the boldest one to 900

[23:25:05.0000] <Hixie>
map the main bold one to 700

[23:25:06.0000] <Hixie>
and if there are any between those to, map the middle one of those to 800

[23:26:00.0000] <Pavlov_>
which direction would you map x50s to if you don't have an exact number for it?

[23:26:01.0000] <Pavlov_>
like, say you have 100, 250, 400

[23:27:00.0000] <Pavlov_>
maybe you map both 200 and 300 to that

[23:27:01.0000] <Pavlov_>
if you have 100, 200, 350, 400, i guess you could round 350 down

[23:28:00.0000] <Pavlov_>
and if you have 100, 200, 300, 350, 400, just skip 350?

[23:28:01.0000] <Hixie>
map the main medium weight to 400

[23:28:02.0000] <Hixie>
map the lightest one to 100

[23:29:00.0000] <Pavlov_>
i'm saying if i have 5 opentype fonts of the same family that have all 5 of those weights

[23:29:01.0000] <Pavlov_>
or 3 or 4 of them

[23:29:02.0000] <Hixie>
then just drop one

[23:29:03.0000] <Pavlov_>
what should I do with x50 weights?

[23:29:04.0000] <Pavlov_>
what i suggested?

[23:30:00.0000] <Hixie>
so, map the main medium weight to 400, the lightest one to 100, and for 200 and 300 just pick some that are equidistant from lightest to medium

[23:30:01.0000] <Hixie>
soif you just have one extra, just drop one of them, doesn't matter which

[23:30:02.0000] <Hixie>
i wouldn't map the opentype numbers straight to the 100-900 numbers like the spec says, if you have any x50 weights

[23:31:00.0000] <Pavlov_>
well, there is no other concept of "main medium weight" face

[23:31:01.0000] <Pavlov_>
you either have 400 or you don't

[23:32:00.0000] <Pavlov_>
many bold faces if you treat them as a family only have a 700 weight

[23:32:01.0000] <Hixie>
i'd just sort them per weight, pin 100, 400 (the "regular" weight), 700 ("bold"), and 900, and fill the others in a linear way so that they are distributed uniformly

[23:32:02.0000] <Pavlov_>
k

[23:32:03.0000] <Hixie>
well if you have fewer weights, the spec defines how you fill things in

[23:32:04.0000] <Pavlov_>
right

[23:32:05.0000] <Pavlov_>
fewer isn't the problem as much

[23:32:06.0000] <Hixie>
k

[05:42:00.0000] <hsivonen>
Hixie: table is no longer in ARIA

[09:19:00.0000] <hsivonen>
http://blog.ianbicking.org/2008/03/23/html-accessibility/

[09:25:00.0000] <jgraham>
http://blog.ianbicking.org/2008/03/23/html-accessibility/#comment-16200 is particularly interesting

[09:26:00.0000] <BenMillard>
/me is reading through

[09:30:00.0000] <hsivonen>
jgraham: regarding ARIA and outline integration, it seems to me that aria-level may be a bigger issue than role=heading

[09:35:00.0000] <BenMillard>
comment #7: "the web is filled with bad HTML and we are stuck with it, so let’s learn to deal with it instead of despise it."

[09:36:00.0000] <BenMillard>
some of it is too broken to work unless authors make adjustments, such as using <td> with no attributes or <b> or <strong> for table headers

[09:37:00.0000] <BenMillard>
in general, inline-level markup can be anything you want and it will adapt well enough

[09:38:00.0000] <webben>
/me tries to work out how to create a "succint" alt attribute for a complex chart or diagram.

[09:39:00.0000] <BenMillard>
providing sensible alt for graphical links and buttons is something you can't really get around...unless we require such images to have readable filenames :P

[09:41:00.0000] <annevk>
hmm, over 600 e-mails

[09:43:00.0000] <hsivonen>
/me has been sending email mostly to http://lists.w3.org/Archives/Public/public-pfwg-comments/2008JanMar/ instead of public-html...

[09:43:01.0000] <annevk>
80 marked as spam

[09:44:00.0000] <BenMillard>
http://lists.w3.org/Archives/Public/public-pfwg-comments/2008JanMar/author.html#msg54 -  hsivonen's messages

[09:46:00.0000] <annevk>
ah, my e-mail was not just since yesterday though :)

[10:12:00.0000] <BenMillard>
hsivonen, http://hsivonen.iki.fi/aria-html5/ times out for me (tried 3 times)

[10:19:00.0000] <annevk>
works now

[10:19:01.0000] <BenMillard>
yep

[10:29:00.0000] <jgraham>
hsivonen: <h1 aria-level=2></h1><h2 aria-level=1></h2>? Fun fun fun.

[10:30:00.0000] <jgraham>
"In many cases the user agent may be able to calculate the level of an item if it can be determined correctly from the document structure. This property may be used to provide an explicit indication of the level if that is not possible from the document structure. User agent automatic support for automatic calculation of level may vary; it is recommended that authors test with user agents and assistive technologies to determine whether this property

[10:30:01.0000] <jgraham>
 is needed."

[10:31:00.0000] <jgraham>
What kind of spec text is that?

[10:32:00.0000] <jgraham>
"You might want to consider using this property in some undefined set of circumstances when some undefined other mechanisms for achieving the same thing fail in some undefined set of software you have access to"

[10:35:00.0000] <jgraham>
Possible steps to fixing this:

[10:35:01.0000] <BenMillard>
perhaps: "The aria-level property must not be used on elements which are specified to indicate a level natively."

[10:35:02.0000] <jgraham>
a) identify the set of circimstances in which aria-level is needed

[10:36:00.0000] <jgraham>
b) try to reduce that set to 0 by adding features to HTML

[10:36:01.0000] <jgraham>
dunno if that will work though

[10:36:02.0000] <BenMillard>
followed by: "If it is used on such elements, it is ignored."

[10:37:00.0000] <webben>
jgraham: Note that if support for those new features trails support for aria-level, web developers may be forced to use both to support older UAs.

[10:37:01.0000] <jgraham>
webben: Sure

[10:39:00.0000] <BenMillard>
ARIA is itself a new feature which older UAs don't support, though?

[10:39:01.0000] <jgraham>
(for some definition of "forced")

[10:39:02.0000] <jgraham>
BenMillard: Well it looks like ARIA will be supported faster than  e.g. <datagrid>

[10:39:03.0000] <webben>
BenMillard: older UAs being the current crop (IE8, Fx 2-3, Opera 9.5)

[10:40:00.0000] <webben>
+ the current crop of AT of course

[10:41:00.0000] <jgraham>
webben: The nice thing is that browser upgrade cycles are much faster than AT upgrade cycles.

[10:41:01.0000] <jgraham>
And exposing e.g. <datagrid> is a browser problem

[10:42:00.0000] <webben>
jgraham: That doesn't help if the browser upgrades require AT upgrades (as IE7 did, for example)

[10:42:01.0000] <jgraham>
That sucks. I assumed they all used these standard APIs.

[10:43:00.0000] <webben>
if all that changed between releases was the browser recognized more native HTML5 elements and treated them the same as the aria attributes when exposing to accessibility frameworks, all would be well. But that's not all that changes.

[10:43:01.0000] <webben>
jgraham: Well part of the underlying problem is MSAA is old and crusty; and UI Automation isn't widely used.

[10:44:00.0000] <webben>
jgraham: And with Apple, you need to upgrade your entire OS to get the full benefits of accessibility improvements in WebKit.

[10:44:01.0000] <jgraham>
In any case, what BenMillard said is a more viable short-term solution (i.e. change the wording to forbid using aria-level where it isn't appropriate and make native semantics take precedence)

[10:44:02.0000] <webben>
the most stable system is perhaps GNOME AT-SPI, oddly enough.

[10:44:03.0000] <webben>
(Firefox3+Orca basically)

[10:45:00.0000] <webben>
jgraham: But how do you define "where it isn't appropriate" in a way that doesn't exclude using aria attributes for backwards compatibility?

[10:45:01.0000] <BenMillard>
jgraham, yay a useful contribution. :)

[10:45:02.0000] <Philip`>
webben: The most stable system is a dead one :-)

[10:45:03.0000] <jgraham>
the first part of that (conformance criteria) should be easy. The second part (browser behavior) goes against current thinking

[10:46:00.0000] <webben>
Philip`: well, Apple would be much the same if the upgrades were free.

[10:46:01.0000] <webben>
but the unfreeness creates a longer upgrade cycle

[10:47:00.0000] <webben>
jgraham: I can't see the point of forbidding web developers from doing stuff that doesn't break newer browsers and makes old browsers work. It's a dead letter conformance requirement.

[10:47:01.0000] <jgraham>
webben: What sort of back-compat scenario requires html-headings (for example) to be labelled with explicit aria-levels

[10:48:00.0000] <webben>
jgraham: Well, the spec could list a specific set of /currently/ widely supported elements not to use it on.

[10:48:01.0000] <webben>
that's a bit messy though

[10:49:00.0000] <webben>
jgraham: Oh actually. There might be one.

[10:49:01.0000] <jgraham>
webben: The problem is that you want a consistent view of the document regardless of whether you view it through AT or through a normal browser

[10:49:02.0000] <webben>
jgraham: HTML5 changes how headings should be ordered (thanks to section).

[10:49:03.0000] <webben>
Browsers and AT don't support that yet.

[10:49:04.0000] <webben>
AFAIK.

[10:49:05.0000] <annevk>
we should allow text/html with root-<svg>

[10:49:06.0000] <annevk>
that'd be cool

[10:49:07.0000] <webben>
If they already support aria-level, then there would be rationale for allowing aria-level on headings.

[10:50:00.0000] <BenMillard>
webben and jgraham, the important thing for AT users is the text use an element somewhere between <h1> and <h6>. the exact number is less important

[10:50:01.0000] <BenMillard>
(inclusive)

[10:50:02.0000] <webben>
BenMillard: It's /less/ important. It's not irrelevant.

[10:51:00.0000] <webben>
But don't take my word for it: http://video.yahoo.com/video/play?vid=514676 (on importance of heading levels in understanding structure of page)

[10:51:01.0000] <BenMillard>
I saw that months ago, thanks :)

[10:52:00.0000] <BenMillard>
considering how rare it is for content to use *any* heading element, we should not forget what's important

[10:52:01.0000] <webben>
I see no reason as a web developer to make content less accessible in order to satisfy arbitrary conformance criteria.

[10:52:02.0000] <BenMillard>
me neither. do you have any examples where that is happening?

[10:53:00.0000] <webben>
BenMillard: I just posited one.

[10:53:01.0000] <jgraham>
webben: The conformance criteria aren't arbitrary. It's needed for logical consistency. 

[10:54:00.0000] <webben>
/me doesn't really see how.

[10:54:01.0000] <webben>
I'm more worried about the logical inconsistency between heading levels in different versions of HTML, myself.

[10:55:00.0000] <webben>
Sounds like aria-level would provide a way to work around that.

[10:55:01.0000] <jgraham>
I suppose theoretically you could make the criteria "aria-level used on heading elements must produce an outline structure that is identical to that produced by the html5 algorithm"

[10:55:02.0000] <jgraham>
but hsivonen might kill you ;)

[10:56:00.0000] <webben>
I think we're in different countries, so I'm probably safe for the moment. ;)

[10:56:01.0000] <jgraham>
webben: There is no logical inconsistency between HTML versions

[10:56:02.0000] <jgraham>
HTML4 had no structure

[10:56:03.0000] <jgraham>
except one that you inferred the authors probably meant

[10:56:04.0000] <webben>
It didn't have "no structure".

[10:57:00.0000] <webben>
Certainly not once you take WCAG and actual implementations into account.

[10:57:01.0000] <BenMillard>
webben, if you want backward-compatible headings (as do I) you just choose the correct number for each heading (whatever your feeling of "correct number" is). there is no need for aria-level in this respect, afaict.

[10:57:02.0000] <jgraham>
webben: There is no text anywhere in HTML 4 that says what heading structure <h1>,

[10:57:03.0000] <jgraham>
erm..

[10:57:04.0000] <jgraham>
<h1><h2> corresponds to, let alone <h2><h1><h6~>

[10:57:05.0000] <jgraham>
s/~//

[10:58:00.0000] <webben>
BenMillard: Yeah, I'd believe that more if HTML5 authorial conformance criteria required Hx headings to be used that way.

[10:59:00.0000] <webben>
jgraham: "There are six levels of headings in HTML with H1 as the most important and H6 as the least." (http://www.w3.org/TR/html401/struct/global.html#edef-H1)

[10:59:01.0000] <jgraham>
define "important"

[10:59:02.0000] <jgraham>
many web authors think headings in side bars are "less important"

[10:59:03.0000] <webben>
define "structure"

[10:59:04.0000] <jgraham>
eh?

[10:59:05.0000] <webben>
Headings in side bars may well be less important.

[11:00:00.0000] <webben>
And to that extent, putting them at a lower level is fine.

[11:00:01.0000] <jgraham>
I guess I should have said "outline structure"

[11:01:00.0000] <Philip`>
BenMillard: "considering how rare it is for content to use *any* heading element" - I see <h1> on over a fifth of pages, so it doesn't seem that rare

[11:01:01.0000] <webben>
Does HTML5 say that h1s in different positions of the "outline structure" have the same "importance"? Are the notions of "importance" and "outline structure" incompatible anyways?

[11:01:02.0000] <jgraham>
Which I define as a tree-like view of the document in which only the text of headings is visible and the headings of subsections are children of their parent headings (and probably some more stuff to deal with siblings)

[11:02:00.0000] <BenMillard>
Philip`, that means it isn't used on somewhere nera 80% of pages, then. :)

[11:02:01.0000] <jgraham>
webben: The problem with having "less important" headings in sidebars is that it breaks this outline view

[11:02:02.0000] <jgraham>
So putting them at a lower level isn't fine

[11:02:03.0000] <webben>
jgraham: That's debatable.

[11:03:00.0000] <webben>
It's not ideal, sure.

[11:03:01.0000] <Philip`>
BenMillard: Compared to most other HTML features, that's hugely popular :-)

[11:03:02.0000] <webben>
But I don't think it breaks the view.

[11:03:03.0000] <jgraham>
webben: That's not what I found

[11:04:00.0000] <webben>
what was your test for breakage?

[11:04:01.0000] <BenMillard>
Philip`, consider it's popularity from a user's perspective: 80% of the time they can't get around the page easily

[11:04:02.0000] <BenMillard>
fixing that 80% so they use heading elements *at all* is the priority, as I see it

[11:05:00.0000] <webben>
BenMillard: That doesn't follow necessarily. Maybe they just stick with webpages that are coded better.

[11:05:01.0000] <a-ja>
hsivonen: ping

[11:05:02.0000] <BenMillard>
webben, the research I want to do into use of headings on the web would throw light on this. haven't quite secured sponsorship for it, yet

[11:06:00.0000] <BenMillard>
despite taking this whole month off work, I might add :(

[11:06:01.0000] <webben>
BenMillard: Well, good luck getting sponsorship from whomever you're trying to get it from :)

[11:08:00.0000] <jgraham>
webben: My test for breakage was whether it made sense in my Firefox outliner extension

[11:08:01.0000] <webben>
jgraham: I think I more meant your test for "making sense" then ;)

[11:08:02.0000] <Philip`>
BenMillard: Hmm, how much harder does a lack of headings make it to use a page? (I'm wondering if that's more/less of a problem than ~50% of images not using alt)

[11:08:03.0000] <webben>
Philip`: That very much depends on the complexity of the page doesn't it?

[11:09:00.0000] <webben>
(and what /else/ is on the page to navigate by)

[11:09:01.0000] <webben>
(oh and what else the user knows (s)he can navigate by)

[11:09:02.0000] <jgraham>
webben: Well the harshest test is whether there was ever a "subsection" in the outline that clearly wasn't a logical child of the parent

[11:09:03.0000] <BenMillard>
Philip` and webben, absence of headings is similarly problematic to absence of sensible alt

[11:09:04.0000] <Philip`>
webben: That sounds sensible; I've got no idea how that works out in practice, though

[11:10:00.0000] <jgraham>
That often happened when the sidebar came out as a child of the last "content" section

[11:11:00.0000] <webben>
jgraham: Was the sidebar only a sidebar to the last content section?

[11:11:01.0000] <webben>
If not, maybe the choice of level didn't really reflect its importance

[11:11:02.0000] <jgraham>
No, to the whole page

[11:11:03.0000] <jgraham>
Also, things around the page header often broke

[11:12:00.0000] <jgraham>
with subtitles often causing confusion

[11:12:01.0000] <BenMillard>
http://projectcerbera.com/web/articles/heading-numbers - this article I wrote was well received by website developers on Accessify Forum.

[11:12:02.0000] <BenMillard>
Basically, authors interpret the vague specs differently. So I think a strict, tree-based outline algorithm is doomed to failure for web content, sadly.

[11:12:03.0000] <webben>
Philip`: Well, in the simplest case, if you only have one heading on a gallery page, alt is going to be more crucial than <h1>

[11:13:00.0000] <webben>
Yeah, I don't think strict, tree-based algorithms need to be 100% successful for the lousy semantics established by HTML4 and common practice to be useful

[11:14:00.0000] <BenMillard>
I think we should let authors use heading numbers however they want, because at least they're actually using heading elements that way

[11:15:00.0000] <webben>
If using heading numbers in some sort of meaningful logic helps, I don't see any reason to do that.

[11:15:01.0000] <webben>
in practice, authors are going to make mistakes anyways

[11:15:02.0000] <BenMillard>
encouraging them to be consistent throughout the website is wortwhile, as WCAG 1.0 requires

[11:16:00.0000] <jgraham>
In principle HTML 5 solves all these problems with <section> and <header>

[11:16:01.0000] <BenMillard>
you trust authors to get that right? I wouldn't :)

[11:17:00.0000] <jgraham>
BenMillard: No, but at least the results when they get it wrong will be well defined

[11:18:00.0000] <jgraham>
So it will be wrong in the same way for everyone - easier for people to complain, easier for a conformance checker to provide an outline view

[11:18:01.0000] <jgraham>
(or an accessibility checker, for that matter)

[11:18:02.0000] <webben>
BenMillard: If Joe Bloggs gets it wrong on a minor website, it's less crucial than Google, Yahoo!, MSN, the New York Times, the BBC etc getting it right on theirs.

[11:19:00.0000] <webben>
because people spend more time on big websites than small ones

[11:20:00.0000] <BenMillard>
more people use one big website than use one small website. the time each person spends on each website is random

[11:20:01.0000] <BenMillard>
I hardly spend any time on big websites, for example

[11:20:02.0000] <webben>
BenMillard: I don't think that's typical.

[11:20:03.0000] <webben>
Don't know of any market research to back that up off-hand though.

[11:21:00.0000] <BenMillard>
webben, are you saying I'm weird?

[11:21:01.0000] <BenMillard>
actually don't answer that...

[11:21:02.0000] <webben>
BenMillard: No! :)

[11:21:03.0000] <webben>
just a different "demographic" ;)

[11:22:00.0000] <webben>
somebody must have done some actual research on this though

[11:23:00.0000] <BenMillard>
the goal is to make *every* website accessible as soon as possible?

[11:23:01.0000] <jgraham>
http://blog.compete.com/2007/01/25/top-20-websites-ranked-by-time-spent/

[11:24:00.0000] <jgraham>
/me postulates that facebook has risen somewhat

[11:24:01.0000] <webben>
jgraham: Hmm... is that collective time.

[11:24:02.0000] <webben>
Because that's slightly different.

[11:25:00.0000] <jgraham>
webben: It's hard to see how to get meaningful data without averaging large groups

[11:25:01.0000] <webben>
"Read as: Of all time spent online by all US Internet users"

[11:25:02.0000] <webben>
jgraham: sure, but that's still measuring something very different.

[11:25:03.0000] <jgraham>
Unless you start trying to subdivide the data based on real/imagined patterns

[11:25:04.0000] <webben>
what one would want to do is establish which sites are big, then average how much time is actually spent on those by each person.

[11:26:00.0000] <webben>
so let's say myspace is big

[11:26:01.0000] <webben>
but how much time does the average person spend on Myspace (as opposed to everywhere else)

[11:26:02.0000] <jgraham>
How do you define "big" in an independent way?

[11:26:03.0000] <BenMillard>
hang on, we are trying to make *everything* accessible. not just the big, time-consuming sites?

[11:26:04.0000] <webben>
jgraham: It can be arbitrarily defined, e.g. top 100 websites by traffic

[11:26:05.0000] <webben>
jgraham: might get better if you subgrouped more

[11:27:00.0000] <webben>
e.g. maybe everyone spend's most of their time on like 10 websites.

[11:27:01.0000] <webben>
BenMillard: Yes. But that doesn't mean the accessibility of every site is equally important.

[11:28:00.0000] <jgraham>
So one definition which would fit handily with the data that I happened to turn up is that we define "bigness" by time spent and define "big" sites to be those which are in the top 20 by bigness. If we do that we find that 39% of all time is spent on big sites

[11:28:01.0000] <jgraham>
;)

[11:28:02.0000] <webben>
BenMillard: So one wouldn't needn't get too depressed by figures suggesting inaccessibility is widespread in absolute terms.

[11:29:00.0000] <webben>
BenMillard: But would need to get very depressed by figures showing inaccessibility is common on highly popular sites (which of course it is).

[11:29:01.0000] <BenMillard>
in practice, site owners decide if accessibility is important enough to them to pay for it

[11:30:00.0000] <webben>
Well sure, but only if the developers charge them extra for it.

[11:30:01.0000] <webben>
Rather than just doing it right.

[11:30:02.0000] <BenMillard>
FWIW, sdesign1, the company I work for, doesn't charge extra for accessibility

[11:30:03.0000] <jgraham>
webben: Arguably technologies like aria encourage that because doing it right is considerably more effort than just doing it

[11:31:00.0000] <BenMillard>
prioritising the important things, like using heading elements at all, is what site owners need to know about

[11:31:01.0000] <webben>
(There are edge cases where that's not the case, where site owners need to stump up for accessible content though)

[11:31:02.0000] <webben>
jgraham: ARIA was mainly designed to build accessibility into div-based widgets systems.

[11:31:03.0000] <webben>
Once built into those systems (like Dojo), the cost of using an ARIA-fied widget is the same as using a non-ARIA-fied widget.

[11:32:00.0000] <jgraham>
webben: I know. Your argument works iff everyone is using off-the-shelf widgets

[11:32:01.0000] <webben>
people who actually build widgets are already a very select grouo

[11:32:02.0000] <webben>
*group

[11:33:00.0000] <BenMillard>
I've used widgets. they are built terribly, on the whole

[11:33:01.0000] <jgraham>
Does e.g. the new bbc design use entirely off the shelf widgets?

[11:33:02.0000] <webben>
I wouldn't /expect/ the BBC design to use entirely off-the shelf widgets.

[11:33:03.0000] <webben>
I'd expect Joe Bloggs building his intranet app in a hurry to use them etc

[11:35:00.0000] <webben>
I'd expect the BBC to be the sort of place which would hire web developers who could build custom widget sets.

[11:35:01.0000] <jgraham>
I'm sure the bbc, in particular, is since they have a very strong commitment to such things

[11:36:00.0000] <BenMillard>
expectations are irrelevant. resistance is futile. you will be laid out in a <table>

[11:36:01.0000] <BenMillard>
if HTML5 makes accessibility seem hard, that will just put people off

[11:36:02.0000] <BenMillard>
we need basic accessibility to be dead simple

[11:36:03.0000] <BenMillard>
refined accessibility can be harder, if necessary

[11:36:04.0000] <webben>
There's no point in making accessibility seem simpler than it is.

[11:37:00.0000] <webben>
I do see your point about quick wins.

[11:37:01.0000] <webben>
But I don't think the place to encourage quick wins is in the conformance criteria.

[11:37:02.0000] <webben>
Most people don't care about conformance criteria.

[11:38:00.0000] <jgraham>
/me suggests there is a high correlation between caring about conformance criteria and caring about accessibility

[11:38:01.0000] <webben>
sure.

[11:38:02.0000] <BenMillard>
caring about either is rare

[11:38:03.0000] <jgraham>
Not that I have evidence to back that up or anthing

[11:38:04.0000] <webben>
but people who really care about accessibility aren't going to be put off because it needs thinking

[11:38:05.0000] <BenMillard>
we need accessibility to be more accessible :)

[11:38:06.0000] <webben>
Hmm maybe.

[11:39:00.0000] <jgraham>
webben: Not true. People might want to be accessible but fail because it's too hard

[11:39:01.0000] <webben>
The biggest obstacles to making stuff accessible tend to be further down the chain though.

[11:39:02.0000] <webben>
e.g. "What? Blind people can use computers? But how?" etc

[11:39:03.0000] <jgraham>
which way is down?

[11:39:04.0000] <BenMillard>
s/down the chain/up the chain, imho

[11:39:05.0000] <BenMillard>
i.e. managers rather than developers

[11:40:00.0000] <webben>
jgraham: Down is managers/commissioners of websites. Down is a million miles away from the spec and conformance criteria and the HTML.

[11:40:01.0000] <jgraham>
and up is users?

[11:40:02.0000] <webben>
no up is implementors, developers, testers

[11:40:03.0000] <webben>
and the spec and the code

[11:41:00.0000] <jgraham>
where are users in this chain

[11:41:01.0000] <jgraham>
Where is AT?

[11:41:02.0000] <webben>
they're not.

[11:41:03.0000] <jgraham>
Browsers?

[11:41:04.0000] <webben>
(users aren't anyhow)

[11:41:05.0000] <jgraham>
/me envisioned a chain connecting content to users

[11:41:06.0000] <webben>
I'd say for AT and browsers there's a similar chain.

[11:41:07.0000] <BenMillard>
ah, I think webben is talking about the process of building websites, rather than the process of using websites?

[11:41:08.0000] <BenMillard>
and that these are 2 different chains?

[11:41:09.0000] <webben>
Sorry, yeah, I thought we all were.

[11:42:00.0000] <BenMillard>
my approach to building websites involves users, which is what threw me

[11:42:01.0000] <jgraham>
/me suggests a chain is too 1D

[11:42:02.0000] <webben>
jgraham: If you're talking about, the end-product (users being able to access content/functionality) then yes.

[11:43:00.0000] <webben>
users/disability organizations/governments/AT/browsers/operating systems - all sorts of factors

[11:44:00.0000] <webben>
Also, down is in people's level of interest. A lot of sitepoint comments on the target case were from apparent webdevs surprised/outraged that blind people can use the internet.

[11:45:00.0000] <webben>
*down is people's level of knowledge rather.

[11:45:01.0000] <webben>
remembering that a lot of people developing websites aren't very interested in the front-end

[11:47:00.0000] <BenMillard>
making accessibility seem like a grand and difficult struggle puts devs off, in my experience (I am often contracted by other companies)

[11:48:00.0000] <BenMillard>
showing a code sample where <p><font size face><span style><b> is replaced by <h1> has a more positive reaction

[11:48:01.0000] <webben>
I don't think accessibility has to be made grand and difficult.

[11:48:02.0000] <webben>
Actually, I'm not sure accessibility at the HTML level is /that/ difficult.

[11:49:00.0000] <webben>
it gets a lot trickier with scripting and CSS.

[11:49:01.0000] <webben>
and there's only a limited amount HTML5 can do about either.

[11:50:00.0000] <gsnedders>
We need CSS5 and ECMAScript5.

[11:50:01.0000] <webben>
gsnedders: Well, a lot of accessibility problems produced through CSS derive from implementations.

[11:51:00.0000] <gsnedders>
/me closes implied sarcasm element

[11:52:00.0000] <BenMillard>
Hixie's e-mail "several messages about tables and related subjects" says: "I also looked in detail at the information that Ben and James provided, which was incredibly useful." yay us!

[11:52:01.0000] <jgraham>
:)

[11:52:02.0000] <webben>
scripting ... well maybe if HTML5 comes up with a nice solution for exposing shortcuts to functionality or something.

[12:07:00.0000] <annevk>
hsivonen, http://hsivonen.iki.fi/rdf/ s/is assumes/assumes/

[12:18:00.0000] <jgraham>
http://www.openplans.org/projects/opencore/blog/2008/03/24/accessibility-on-our-site/ does he just have something wrong with his NVDA installation?

[12:19:00.0000] <jgraham>
s/just/"just"/

[12:30:00.0000] <andersca>
Hixie?

[12:39:00.0000] <webben>
jgraham: he helpfully doesn't say what version he's using

[12:40:00.0000] <jgraham>
webben: I would presume he just got 0.5

[12:45:00.0000] <hsivonen>
a-ja: pong

[12:45:01.0000] <a-ja>
hi henri

[12:46:00.0000] <a-ja>
hsivonen: re: your "ARIA in HTML5" strawman "Strong Native Role—No Override" section

[12:46:01.0000] <a-ja>
thing like article only allowing region, e.g.

[12:47:00.0000] <a-ja>
should those also be allowed the "landmark" roles?

[12:47:01.0000] <a-ja>
like main or secondary?

[12:47:02.0000] <Hixie>
andersca: here

[12:47:03.0000] <Hixie>
BenMillard: i don't believe i've ever looked at so many tables before :-)

[12:48:00.0000] <Hixie>
BenMillard: i ended up covering two whiteboards with little table diagrams

[12:48:01.0000] <andersca>
Hixie: correct me if I'm wrong, but

[12:48:02.0000] <andersca>
Hixie: manifest lines can't have leading whitespace, right?

[12:49:00.0000] <BenMillard>
hixie, I can well imagine!

[12:49:01.0000] <hsivonen>
a-ja: I don't know.

[12:49:02.0000] <a-ja>
possibly secondary for aside, e.g. vs just note possible?

[12:49:03.0000] <hsivonen>
a-ja: could make sense. I'm not sure.

[12:49:04.0000] <BenMillard>
hixie, I think I looked at thousands overall because I wanted to see how consistent each site was

[12:50:00.0000] <andersca>
Hixie: brb

[12:50:01.0000] <hsivonen>
a-ja: in any case, I think eventually a good outcome is that if the landmarks are really important, they have native HTML5 elements

[12:50:02.0000] <Hixie>
BenMillard: thanks for that, it made my life much easier :-)

[12:50:03.0000] <hsivonen>
a-ja: those would be good questions to raise on the public-html and public-pfwg-comments lists

[12:51:00.0000] <BenMillard>
hixie, I'm happy to be useful. not bad for a noob :P

[12:51:01.0000] <hsivonen>
a-ja: the problem is that the landmarks and native HTML5 elements don't have a one-to-one mapping

[12:51:02.0000] <hsivonen>
a-ja: I gather landmarks are more controversial than ARIA widgets. I wouldn't be surprised if landmarks changed still.

[12:52:00.0000] <a-ja>
yeah,,,know what you mean

[12:52:01.0000] <Hixie>
BenMillard: :-)

[12:53:00.0000] <a-ja>
hsivonen: was it decided one role allowed or multiple? been a while

[12:54:00.0000] <hsivonen>
a-ja: (I can't associate your IRC nick with an email name)

[12:54:01.0000] <Hixie>
andersca: 4.6.3.2. Parsing cache manifests

[12:54:02.0000] <hsivonen>
a-ja: It's only one role per element in ARIA 1.0

[12:54:03.0000] <Hixie>
andersca: steps 13 and 15

[12:54:04.0000] <hsivonen>
a-ja: multiple values are for later extensions

[12:54:05.0000] <a-ja>
ajabanyon at gmail

[12:54:06.0000] <a-ja>
ah

[12:55:00.0000] <jgraham>
Is there a reasonable mailing list to subscribe to to keep track of aria?

[12:55:01.0000] <andersca>
Hixie: ah

[12:55:02.0000] <BenMillard>
hixie, what specifically did you find useful about it? was it just having links to lots of genuine data tables in one place?

[12:55:03.0000] <hsivonen>
jgraham: public-pfwg-comments

[12:55:04.0000] <hsivonen>
jgraham: the main list in Member-only

[12:56:00.0000] <jgraham>
hsivonen: Can you actually subscribe to that? Maybe I've ben misled by the archve page which only had unsubscribe links

[12:56:01.0000] <jgraham>
s/b en/been/

[12:56:02.0000] <hsivonen>
jgraham: I don't know.

[12:57:00.0000] <hsivonen>
jgraham: I'm not subscribed to any ARIA lists.

[12:57:01.0000] <hsivonen>
jgraham: I go with CCs and the Web archive interface

[12:57:02.0000] <jgraham>
The problem with the web archive interface is that it's hard to guess when there will be interesting content

[12:57:03.0000] <annevk>
I think you can subscribe

[12:58:00.0000] <andersca>
Hixie: thanks

[12:59:00.0000] <jgraham>
/me tries subscribing

[13:00:00.0000] <a-ja>
hsivonen: don't think header should necessarily always have banner role....since aisdes/sections/articles can all have header

[13:01:00.0000] <a-ja>
s/aisdes/asides/

[13:01:01.0000] <jgraham>
Well that appears o have worked

[13:02:00.0000] <Hixie>
BenMillard: that was a big part of it

[13:02:01.0000] <Hixie>
BenMillard: but also your analyses were useful to clue me in to what was important and useful

[13:02:02.0000] <hsivonen>
a-ja: what use case does role='header' fulfill that HTML native h1...h6 don't?

[13:03:00.0000] <Hixie>
BenMillard: also your stats were very useful as a way to quantify the qualitative experience of the many tables and the anecdotal impression of the distribution of the types of tables

[13:03:01.0000] <annevk>
jgraham, sure?

[13:03:02.0000] <annevk>
doesn't look like it

[13:04:00.0000] <a-ja>
well....as container for h1 title, h2 subtitle, p slogan sorta thing

[13:04:01.0000] <jgraham>
annevk: No, I'm not sure but I got a "reply to this to confirm" type message

[13:04:02.0000] <BenMillard>
hixie, that's good to know. if/when I do more research, I'll concentrate the resulting document(s) on these useful aspects

[13:05:00.0000] <Hixie>
BenMillard: awesome

[13:07:00.0000] <andersca>
Hixie: haha, I had implemented the parser according to your steps and it already handled leading whitespace :)

[13:08:00.0000] <annevk>
jgraham, ah

[13:08:01.0000] <Hixie>
andersca: nice

[13:09:00.0000] <othermaciej>
Hixie: can I give you an acid3 bug report? or should I send mail?

[13:09:01.0000] <Hixie>
whats the bug report?

[13:11:00.0000] <othermaciej>
Hixie: test 79, two of the advances are wrong, it expects there to be an advance before the first code point of a surrogate pair and the second

[13:11:01.0000] <Hixie>
dude, get with the program

[13:11:02.0000] <othermaciej>
Hixie: the advance should be after the second

[13:11:03.0000] <Hixie>
i fixed that ages ago

[13:11:04.0000] <Hixie>
:-P

[13:11:05.0000] <othermaciej>
oh

[13:11:06.0000] <othermaciej>
I wasn't sure if Cc-ing you would be enough

[13:11:07.0000] <Hixie>
(i commented on the bug and everything)

[13:11:08.0000] <othermaciej>
thanks

[13:12:00.0000] <Hixie>
actually so long as the bug says "acid" somewhere in the bugmail, it ends up in my inbox

[13:12:01.0000] <othermaciej>
that test revealed 6 webkit bugs (well, missing features in some cases)

[13:12:02.0000] <Hixie>
bugmail that doesn't say "acid" anywhere gets read much later

[13:12:03.0000] <othermaciej>
Hixie: thanks for the fix

[13:12:04.0000] <Hixie>
np

[13:13:00.0000] <Hixie>
thank _you_ for finding it!

[13:13:01.0000] <othermaciej>
that test case is pretty evil

[13:13:02.0000] <othermaciej>
I mean, not to someone who actually knows anything about SVG or text layout

[13:13:03.0000] <othermaciej>
but I know very little about either

[13:14:00.0000] <Hixie>
heh

[13:14:01.0000] <Hixie>
i didn't write it

[13:14:02.0000] <Hixie>
though i did introduce the aforementioned error

[13:14:03.0000] <othermaciej>
Yeah, I gather heycam did originally, I wrongly blamed him for the error

[13:17:00.0000] <Hixie>
/me decides to use a wiki page to note down the problems raised in the namespace folder

[13:19:00.0000] <jgraham>
Hixie: Some super-secret Hixie wiki or...?

[13:19:01.0000] <Hixie>
whatwg.org

[13:19:02.0000] <hsivonen>
a-ja: that use case works with HTML5 <header> but does it work with role=header?

[13:21:00.0000] <hsivonen>
BenMillard: apparently my server had a maintenance break earlier

[13:24:00.0000] <a-ja>
hsivonen: i'd think yes for header, no for heading....OIW not all headers are banners, but all banners are headers

[13:24:01.0000] <hsivonen>
annevk: typo noted. thanks. (I'll fix when connectivity to the server comes back)

[13:27:00.0000] <Hixie>
http://wiki.whatwg.org/wiki/New_Vocabularies

[13:27:01.0000] <hsivonen>
a-ja: yeah, the implicit role mappings aren't perfect matches

[13:28:00.0000] <a-ja>
hsivonen: i'm no ARIA experts by any means though...just a site dev trying to make sense of landmarking mapping to html5 elements

[13:29:00.0000] <hsivonen>
Actually, I don't like the introduction of the landmark stuff when implementing the HTML5 new landmark containers would be relatively low-hanging fruit

[13:29:01.0000] <hsivonen>
Hixie: I think typography comes before maintainability when it comes to math markup

[13:29:02.0000] <hsivonen>
Hixie: maintainability is abstracted behing itex2mml

[13:30:00.0000] <hsivonen>
behind

[13:30:01.0000] <Hixie>
it wasn't an ordered list

[13:30:02.0000] <Hixie>
:-)

[13:31:00.0000] <Hixie>
and to be honest, i wouldn't necessarily agree that quality comes first

[13:31:01.0000] <Hixie>
one of the main pieces of feedback i got from the video discussion was that in reality, contrary to common belief, the priority was sustainable frame rate, not video quality

[13:31:02.0000] <davidb>
/me wave to BenMillard 

[13:31:03.0000] <Hixie>
i imagine the same applies here

[13:31:04.0000] <jgraham>
I think ease-of-creation is paramount and that ease of creation means LaTeX syntax

[13:32:00.0000] <a-ja>
hsivonen: e.g. been taking hyml4 sites with landmarking incorporated in link rels and trying to shoehorn them to html5 elements with roles instead

[13:32:01.0000] <jgraham>
(because that's what authors already know)

[13:32:02.0000] <Hixie>
jgraham: i am continuously amazed that nobody seems to be able to say anything in these discussions without linking the problem with the solution :-)

[13:32:03.0000] <jgraham>
Hixie: I know. 

[13:32:04.0000] <jgraham>
:-p

[13:33:00.0000] <jgraham>
OK, let me rephrase. The problem is that the primary body of content authors has no interest in learning a new authoring format to create content.

[13:33:01.0000] <hsivonen>
a-ja: do you mean using an HTML5 element *and* a role attribute on it?

[13:34:00.0000] <jgraham>
I don't see how to fully explain that problem without reference to the extant widely known formats

[13:34:01.0000] <hsivonen>
Hixie: I'm linking the solution to it, because I think one of the problems is minimizing the implementation delta from here to there in certain Web engines

[13:35:00.0000] <a-ja>
hsivonen: yeah, like role=main on article

[13:35:01.0000] <a-ja>
instead of link rel=main pointing to a div

[13:35:02.0000] <Hixie>
hsivonen, jgraham: wiki page updated

[13:35:03.0000] <jgraham>
In particular ease of authoring doesn't cover the problem I referred to because a new easy format would still not leverage the bias toward the old format

[13:35:04.0000] <hsivonen>
a-ja: OK. my sense of language design aesthetics revolts at that, but practically speaking we should probably allow explicit declaration of the implicit role

[13:36:00.0000] <jgraham>
Hixie: I suppose the parenthetical covers it

[13:36:01.0000] <Hixie>
jgraham: if a new format is easier to author than the known format, including cost of switching, then it'll most likely win

[13:37:00.0000] <jgraham>
Hixie: Tell that to all the scientists who insist on using Fortran for everything

[13:37:01.0000] <Hixie>
jgraham: the cost of switching is probably high for them

[13:39:00.0000] <jgraham>
Indeed. But given the large timescales involved (decades) and the possibility of integrating old and new solutions (by calling old fortran from new whatever) there has to be an element of unwillingness

[13:39:01.0000] <jgraham>
beyond the purely rational

[13:40:00.0000] <a-ja>
hsivonen: maybe an outer article needs to automagically have main role, and inner articles secondary, or somesuch...less generic than region

[13:41:00.0000] <jgraham>
biab

[13:41:01.0000] <BenMillard>
hsivonen, you say "[...] we should probably allow explicit declaration of the implicit role" but that is likely to make authors think they must always supply it just in case their markup would be too vague if they omit it

[13:42:00.0000] <hsivonen>
BenMillard: that's why I don't like this landmark stuff at all

[13:44:00.0000] <BenMillard>
/me waves back to davidb, somewhat belated!

[13:45:00.0000] <BenMillard>
I have an urgent appointment with a cottage pie. bye all!

[13:46:00.0000] <Hixie>
/me blogs on the whatwg blog

[13:47:00.0000] <hsivonen>
Opera on S60 is already pretty good at guessing what the "main" content is without role=main

[13:47:01.0000] <hsivonen>
Hixie: typo: tablular

[13:48:00.0000] <Hixie>
fixed thanks

[13:50:00.0000] <a-ja>
hsivonen: just curious...screenie of the S60 UI for that, perchance?

[13:51:00.0000] <hsivonen>
a-ja: I don't know how to take screenshots on S60. the UI is a one-pixel horizontal line in the scrollbar and a keybinding that jumps to that point, to the end and to the start

[13:52:00.0000] <a-ja>
sounds nice & simple

[13:57:00.0000] <a-ja>
well, gotta go, too.  hope your draft gets feedback from the aria gurus, so discussion to nail some/most of it down can occur in reasonable timeframe

[13:57:01.0000] <a-ja>
ttfn

[13:57:02.0000] <hsivonen>
see you

[14:02:00.0000] <hsivonen>
jgraham__: are you going to send feedback about aria-level?

[14:18:00.0000] <hsivonen>
it seems to me that ARIA treegrid may kill <datagrid> as a native element

[14:19:00.0000] <Hixie>
how so? does aria treegrid have any effect on non-screen-reader software?

[14:19:01.0000] <hsivonen>
I predict the <datagrid> API will resurface as a JS library written on top of HTML <table role=treegrid>

[14:19:02.0000] <hsivonen>
Hixie: It doesn't but a JS library changing a table would have

[14:19:03.0000] <Hixie>
i think you've been breathing the accessibility koolaid for too long and have come to the mistaken assumption that most people care about accessibility

[14:20:00.0000] <Hixie>
and even consider it a priority in any sense

[14:20:01.0000] <hsivonen>
I think they care about compat with browsers that don't have native <datagrid>

[14:20:02.0000] <othermaciej>
breathing kool-aid, hah

[14:20:03.0000] <Hixie>
othermaciej: these days it's distributed in aerosol form

[14:20:04.0000] <othermaciej>
my impression is that the average content author does not care much about accessibility, *but*

[14:21:00.0000] <othermaciej>
some people have a business need to have their apps in some way "certified" for accessibility

[14:21:01.0000] <Hixie>
hsivonen: i'd hope we'd see libraries implement <datagrid>, yes, just like i hope to see the same for WF2

[14:21:02.0000] <othermaciej>
for instance for government use

[14:22:00.0000] <othermaciej>
and toolkit developers therefore want their toolkits to be able to enable compliance

[14:23:00.0000] <Hixie>
sure

[14:23:01.0000] <othermaciej>
and browser developers want JS library developers to like them

[14:23:02.0000] <othermaciej>
sorry about spotty connectivity

[14:23:03.0000] <Hixie>
sure

[14:23:04.0000] <Hixie>
but the point is that it's not aria that would drive library development

[14:23:05.0000] <Hixie>
it might be added on afterwards as an afterthought

[14:23:06.0000] <othermaciej>
that's basically what drives ARIA, the dependency chain of gov't contract requirements

[14:23:07.0000] <Hixie>
but that's wholly different

[14:23:08.0000] <othermaciej>
I don't think anyone would code ARIA-first, no

[14:24:00.0000] <othermaciej>
but toolkits like Dojo seem hot on adding it

[14:24:01.0000] <Hixie>
sure

[14:24:02.0000] <Hixie>
i'm just disagreeing with hsivonen's original statement

[14:24:03.0000] <hsivonen>
what's a "pivot table"?

[14:25:00.0000] <hsivonen>
"Note: If the expanded property is provided, it applies only to the individual cell. It is not a proxy for the container row, which also can be expanded. The main use case for providing this property on a cell is pivot table type behavior."

[14:26:00.0000] <hsivonen>
oh. it's on wikipedia

[14:30:00.0000] <jgraham>
hsivonen: Sure I'll email about aria-level

[14:30:01.0000] <hsivonen>
jgraham: great

[14:42:00.0000] <jgraham>
Is aria using RFC 2119 terminology? Section 6.2 seems to be using it but it's not clear if the rest of the document is or not

[14:45:00.0000] <hsivonen>
jgraham: that would merit another comment :-) 

[14:46:00.0000] <jgraham>
hsivonen: Yeah, I'm starting o accrue a stack of comments

[14:47:00.0000] <jgraham>
(reading the introduction to try and work out what terminology was being used reminded me of several minor issues I thought merited attention there)

[14:48:00.0000] <jgraham>
argh, pushed the send buton by mistake :(

[14:48:01.0000] <Philip`>
Press "undo" quickly

[14:49:00.0000] <Hixie>
so

[14:49:01.0000] <Hixie>
many

[14:49:02.0000] <Hixie>
e-mails

[14:50:00.0000] <gsnedders>
Hixie: mind if I send you a message, broken into one character per email?

[14:50:01.0000] <Hixie>
yes

[14:50:02.0000] <Hixie>
but these e-mails are long

[14:50:03.0000] <Hixie>
that's the real problem

[14:51:00.0000] <gsnedders>
"What is the most widely known language for authoring mathematics?" — Can I take a guess at LaTeX?

[14:51:01.0000] <Hixie>
no guesses

[14:52:00.0000] <jgraham>
gsnedders: In principle it could be MS-Word or ascii art of something

[14:53:00.0000] <jgraham>
s/of/or/

[14:53:01.0000] <hsivonen>
the answer might depend on what kind of math

[14:53:02.0000] <zcorpan_>
pen/paper?

[14:53:03.0000] <gsnedders>
jgraham: Issue one: What is a language?

[14:53:04.0000] <hsivonen>
I expect Word to be used less and LaTeX more as the math gets more complex

[14:53:05.0000] <gsnedders>
We're lacking a good enough definition of what the question actually means to be able to answer it.

[14:53:06.0000] <jgraham>
I guess there's also a lot of math typeset in high end publishing programmes

[14:53:07.0000] <zcorpan_>
42

[14:54:00.0000] <gsnedders>
I mean, is pen/paper well enough known? :P

[14:54:01.0000] <jgraham>
s/programmes/programs/

[14:54:02.0000] <hsivonen>
jgraham: does InDesign have a decent math typesetter?

[14:54:03.0000] <gsnedders>
zcorpan_: that's definitely the correct answer.

[14:54:04.0000] <Hixie>
/me removed the word language from the wiki a few minutes ago

[14:54:05.0000] <hsivonen>
or is it all TeX and Frame?

[14:54:06.0000] <zcorpan_>
gsnedders: yeah. but what's the question? :)

[14:54:07.0000] <hsivonen>
what about Quark

[14:54:08.0000] <gsnedders>
zcorpan_: 6 times 9

[14:55:00.0000] <hsivonen>
/me isn't sure what the "high end publishing programme" landscape looks like these days

[14:55:01.0000] <jgraham>
hsivonen: I dunno. All I know is that with Blackwells publishing all one's carefully typeset mathematics gets redone in some way

[14:55:02.0000] <jgraham>
(usually introducing errors in the process)

[14:55:03.0000] <Hixie>
Processing namespace e-mail... [##                  ] 10%

[14:55:04.0000] <hsivonen>
jgraham: do you mean you send in LaTeX and they do something else?

[14:56:00.0000] <hsivonen>
/me though TeX was the high end when it comes to math typesetting

[14:56:01.0000] <jgraham>
hsivonen: Yep. Although I don't know what "something else" is

[14:56:02.0000] <hsivonen>
thought even

[14:56:03.0000] <gsnedders>
hsivonen: it is

[14:56:04.0000] <jgraham>
(the final thing still says 'this document was prepared from a manuscript typeset by the author' or somesuch)

[15:00:00.0000] <BenMillard>
jgraham said "gsnedders: In principle it could be MS-Word or ascii art of something" and that possibility is somewhat supported by me finding ASCII-art data tables for astronomy

[15:01:00.0000] <gsnedders>
/me notes that's jgraham's subject

[15:03:00.0000] <hsivonen>
I'm tempted to take the ostrich approach to aria-owns

[15:06:00.0000] <jgraham>
/me notes that the common forms for expressing maths are undoubtedly different to those for authoring it 

[15:06:01.0000] <jgraham>
on the web

[15:09:00.0000] <Hixie>
Processing namespace e-mail... [####                ] 20%

[15:09:01.0000] <Hixie>
/me goes to get a drink

[15:11:00.0000] <jgraham>
/me considers complaining that the aria spec expressing its conformance requirements in RDF makes it inaccessible to people who don't think that RDF is human-readable

[15:14:00.0000] <hsivonen>
jgraham: I'm reading the tables. I'm not reading RDF.

[15:15:00.0000] <hsivonen>
I figured it wouldn't be cost-effective to try to generate stuff from the RDF

[15:16:00.0000] <jgraham>
hsivonen: I'm reading the tables too. But section 6.1 is clear that documents must conform to the RDF but doesn't seem to mention the tables

[15:17:00.0000] <Philip`>
As far as I've seen, computer science seems to be almost exclusively LaTeX, but areas like biology use Word a lot more, so you can draw very different conclusions depending on what subset of math-writers you look at

[15:18:00.0000] <jgraham>
Philip`: Undoubtedly there are far more biologists than physical+computer scientists but they probably generate fewer equations each, on average

[15:37:00.0000] <annevk>
Hixie, fwiw, using the wiki more would be great

[15:37:01.0000] <annevk>
(as you're doing now)

[15:38:00.0000] <annevk>
it seems that people are missing some kind of entry point to find arguments for and against certain ideas that have already been discussed and "resolved"; having that documented somewhere other than in piles of e-mail is nice :)

[16:03:00.0000] <BenMillard>
oh, about author mathematics

[16:03:01.0000] <BenMillard>
*authoring

[16:03:02.0000] <BenMillard>
at the HTMLWG meeting in Boston I just remembered talking to a couple of MathML guys

[16:04:00.0000] <BenMillard>
when I asked them what people used before MathML, they immediately said "LaTex"

[16:04:01.0000] <BenMillard>
one of them was working on version 3 of it, IIRC

[16:05:00.0000] <jgraham>
BenMillard: LaTeX3 or Mathml 3?

[16:06:00.0000] <BenMillard>
LaTeX 3

[16:06:01.0000] <BenMillard>
http://www.latex-project.org/latex3.html - I think one of them was David Carlisle, the other names don't ring a bell

[16:07:00.0000] <jgraham>
Yeah, David Carlisle is in the MathML-WG

[16:07:01.0000] <Hixie>
i wish the person who posted http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2006-June/006518.html would have finished their sentence in para5... what does it mean it is important for us to do???

[16:13:00.0000] <Hixie>
/me giggles at http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2006-June/006711.html

[16:14:00.0000] <Hixie>
according to my calculations there, a tag name costs $31,790

[16:16:00.0000] <BenMillard>
$10 per hour is about £5 per hour which I think is below minum wage in the UK

[16:18:00.0000] <Hixie>
yeah the numbers are a bit dubious

[16:18:01.0000] <Philip`>
It's right to an order of magnitude, though

[16:18:02.0000] <Philip`>
which is more accurate than many of the other numbers

[16:20:00.0000] <othermaciej>
that's the cost of a tag name to who?

[16:20:01.0000] <BenMillard>
the industry in general, afaict

[16:20:02.0000] <Hixie>
othermaciej: humanity

[16:20:03.0000] <othermaciej>
hahahahahaha

[16:21:00.0000] <BenMillard>
oh, there's also the time delay of the extra bytes being transferred over the wire :)

[16:21:01.0000] <BenMillard>
if you're on company time that would count

[16:23:00.0000] <Philip`>
If the feature adds maybe a kilobyte to the size of the browser download, and there's a billion web users, then that's about an extra hundred dollars of bandwidth charges

[16:23:01.0000] <jgraham>
/me recalls this entire thread on mathematics becoming less than pleasant

[16:24:00.0000] <BenMillard>
I meant the bytes for the tags in the document, but that's interesting as well

[16:25:00.0000] <Hixie>
the cost can only be in terms of time and non-renewable resources

[16:25:01.0000] <Hixie>
money that goes around the circle doesn't affect the total cost

[16:27:00.0000] <Philip`>
Time doesn't seem like a non-renewable resource - you can always just employ an extra person, and it will not make the world poorer

[16:28:00.0000] <Hixie>
it's time that that person would not spend doing what they want to do, one presumes

[16:31:00.0000] <BenMillard>
anyway, it's just a bit of fun :)

[16:42:00.0000] <Hixie>
so far, out of 133 e-mails of mathematics discussion, a grand total of 2 lines, in just 2 separate e-mails, actually discussed what problem was being solved.

[16:42:01.0000] <Hixie>
that's an even worse ratio than the tables discussions


2008-03-25
[17:22:00.0000] <Hixie>
2 lines out of 160 e-mails so far

[17:22:01.0000] <Hixie>
sigh

[17:23:00.0000] <Philip`>
Does "I want latex2html to give less ugly output" count as a problem?

[17:23:01.0000] <Hixie>
it's closer than most of these e-mails

[17:24:00.0000] <Hixie>
"I have content in LaTeX and want to convert it to HTML and have it retain a high degree of typographical quality" is a problem

[17:24:01.0000] <Hixie>
though you should probably include an explanation of _why_ you want to convert it to HTML

[17:24:02.0000] <Philip`>
Because Adobe Reader is horribly slow, so I don't want to use PDF, and there's no other option

[17:25:00.0000] <Hixie>
well HTML isn't an option either now

[17:25:01.0000] <Philip`>
(Actually I'd just use PDF anyway, because it's people's own faults if they don't have a nicer PDF reader)

[17:25:02.0000] <Hixie>
so really your problem is "I have content in LaTeX and want to view it in a good viewer while retaining a high degree of typographical quality"

[17:26:00.0000] <Hixie>
at which point, HTML really doesn't seem like it has a good place in any solution for that problem

[17:26:01.0000] <Philip`>
It needs to be a widely-distributed reader too, so that most people are able to access my content

[17:26:02.0000] <Philip`>
and it needs to be indexed by search engines, so that people can find my stuff

[17:27:00.0000] <BenMillard>
PDFs do get indexed by search engines?

[17:27:01.0000] <Hixie>
these all seem like LaTeX problems, not HTML problems :-)

[17:28:00.0000] <Philip`>
BenMillard: They do by at least Google, which is all that counts

[17:28:01.0000] <Philip`>
Hixie: They're still problems, and problems that could be solved by HTML

[17:28:02.0000] <BenMillard>
how about "I have content in LaTeX and want to include it on my web page."

[17:28:03.0000] <Hixie>
to be honest i don't really see the problem here

[17:28:04.0000] <Hixie>
BenMillard: yes, that's a different problem entirely

[17:29:00.0000] <Hixie>
Philip`: if you have content in LaTeX, and you publish it to PDF, you already have a widely available viewer, good typopraphy, and searchability

[17:29:01.0000] <Hixie>
Philip`: seems like a solved problem

[17:29:02.0000] <Hixie>
BenMillard: and a valid problem

[17:29:03.0000] <othermaciej>
PDF is its own world

[17:30:00.0000] <Hixie>
BenMillard: though not one that anyone on the mailing list seems to have mentioned so far :-) (in the 163 mails i've read)

[17:30:01.0000] <othermaciej>
it seems nice in principle to be able to do math decently without escaping to a different basic technology for your whole document

[17:30:02.0000] <othermaciej>
I have to agree that MathML syntax seems vile, now that I have looked more closely

[17:31:00.0000] <Philip`>
Hixie: Many people use latex2html now, despite it being slightly ugly, so there must be reasons why they do that, and I'm just not entirely sure what those reasons are :-)

[17:31:01.0000] <BenMillard>
hixie, perhaps you are being to picky about their wording?

[17:31:02.0000] <Hixie>
Philip`: yeah, me either

[17:31:03.0000] <Philip`>
but that doesn't make the reasons not exist

[17:32:00.0000] <Hixie>
BenMillard: no, i'm trying to pull problems out of these e-mails, even if they haven't mentioned them intentionally. Sadly most of these e-mails are arguing about which syntax to use, on the basis of the syntax's own characteristics.

[17:32:01.0000] <Hixie>
not suitability to solving any particular problem

[17:32:02.0000] <BenMillard>
hixie, ah

[17:32:03.0000] <Hixie>
Philip`: oh i agree. but if i don't know what the problems are, i can't solve them, or evaluate proposed solutions for them.

[17:41:00.0000] <Hixie>
man, i'm going to be skipping a lot of these e-mails in my eventual reply

[17:41:01.0000] <Hixie>
so much arguing back and forth about nothing

[17:42:00.0000] <BenMillard>
the inexpressiveness of plain text can bring out the worst in people (including me)

[17:42:01.0000] <Hixie>
oh i've seen these discussions happen in person too

[17:43:00.0000] <Hixie>
the only difference is that those discussions don't end up in my inbox two years later :-P

[17:43:01.0000] <BenMillard>
win!

[17:44:00.0000] <Hixie>
Elliotte Harold wrote:

[17:44:01.0000] <Hixie>
> The specific syntax is important because there's a huge, useful toolchain for processing XML and there's essentially zilch for

[17:44:02.0000] <Hixie>
> processing this strange HTML 5 thing.

[17:44:03.0000] <Hixie>
yay for all of you guys implementing the html5 tools over the past 2 years

[17:56:00.0000] <Hixie>
wohay, e-mail 250/368 is henri's e-mail earlier this month

[17:56:01.0000] <Hixie>
118 e-mails in a few weeks

[17:56:02.0000] <Hixie>
hopefully _some_ will have problem descriptions

[17:56:03.0000] <Hixie>
because the first 249 e-mails had nothing beyond what's on the wiki now

[18:04:00.0000] <Hixie>
ok henri's e-mail more than doubled the size of that wiki page

[18:15:00.0000] <BenMillard>
would the top level of list items be more useful as headings on that page?

[18:16:00.0000] <Hixie>
/me tries

[18:16:01.0000] <Hixie>
nah, that looks more ugly i think

[18:17:00.0000] <Hixie>
http://wiki.whatwg.org/index.php?title=New_Vocabularies&oldid=2894 is what it looked like

[18:17:01.0000] <Hixie>
i've reverted it

[18:19:00.0000] <Hixie>
i wonder if mathml would take off more if it were available in text/html, but IE continued to not support it

[18:21:00.0000] <vlad_>
are there any useful tools for producing mathml?

[18:21:01.0000] <Hixie>
hm, http://www.w3.org/mid/ABFEED64-8A5F-43C9-981B-416C6F65EA50⊙if is a very good point

[18:22:00.0000] <Hixie>
vlad_: dunno

[18:22:01.0000] <vlad_>
and potentially some way to easily put in normal-looking ascii math (perhaps with some script)?

[18:22:02.0000] <Hixie>
yeah, i really don't want to require that people write out raw mathml

[18:22:03.0000] <Hixie>
that's just insane stuff

[18:22:04.0000] <vlad_>
like, being able to type  x^2/y^2 and have it do the right thing would be nice

[18:22:05.0000] <vlad_>
even if it's something like <span class="math">x^2/y^2</span> and then there's some JS that translates

[18:23:00.0000] <othermaciej>
JS translating latex math expressions to mathml would probably be doable

[18:23:01.0000] <Hixie>
i'd rather not rely on JS here

[18:23:02.0000] <Pavlov_>
vlad_: thats a font feature

[18:23:03.0000] <Hixie>
but that's another issue

[18:26:00.0000] <Philip`>
vlad_: The OO.o equation editor produces MathML and could be considered useful

[18:27:00.0000] <BenMillard>
hixie, the headings version seems a more conventional wiki page, to me.

[18:27:01.0000] <Hixie>
BenMillard: i'm not a conventional kind of guy :-)

[18:28:00.0000] <vlad_>
Pavlov_: e.g. http://www.zvon.org/HowTo/Output/MathMLtestsuite_abs1.php

[18:29:00.0000] <vlad_>
is a pretty crappy way to write |H/K| (granted, you also want italic H and K, but still)

[18:29:01.0000] <Pavlov_>
well

[18:29:02.0000] <Pavlov_>
its not great

[18:30:00.0000] <Pavlov_>
maybe some simple stuff would be OK

[18:31:00.0000] <BenMillard>
feedback on HTML5 from a friend I knew when I did GTA modding some years ago: "Damn you guys are fuckin smart"

[18:32:00.0000] <BenMillard>
I guess a poor first impression of the HTML5 effort is not a universal experience

[18:32:01.0000] <Hixie>
heh

[18:33:00.0000] <Philip`>
/me also happened to do GTA modding some years ago, where 'some' = 9

[18:33:01.0000] <BenMillard>
ooh, I modded the early ones too :)

[18:34:00.0000] <Hixie>
speaking of GTA, is GTA4 out yet?

[18:34:01.0000] <Hixie>
/me has some cash earmarked for a PS3 and GTA4 and is just waiting

[18:37:00.0000] <BenMillard>
http://www.rockstargames.com/IV/events/ - 29th April 2008

[18:37:01.0000] <Hixie>
/me calendars it

[18:38:00.0000] <Philip`>
http://web.archive.org/web/20020121215533/http://gta2.games.ultrastore.com/ - yay, my site sort of still exists

[18:39:00.0000] <BenMillard>
OMG I REMEMBER THAT WEBSITE

[18:41:00.0000] <BenMillard>
Philip`, this is a muliplayer level I made for GTA2: http://projectcerbera.com/gta2/multislayer/

[18:41:01.0000] <Philip`>
Unfortunately I barely knew what I was doing, and didn't know how to write GUI programs in anything other than Visual Basic

[18:42:00.0000] <BenMillard>
I still don't know how to write GUI programs in anything other than VB :$

[18:42:01.0000] <Philip`>
Later I learnt how to write GUI programs in Perl, which wasn't really any better

[18:43:00.0000] <Hixie>
heh

[18:44:00.0000] <Philip`>
(The only ones I've liked were in C++ / wxWidgets)

[18:44:01.0000] <Hixie>
delphi baby

[18:45:00.0000] <othermaciej>
I like to write GUI programs in HTML+CSS+JS

[18:46:00.0000] <othermaciej>
everything else seems annoying

[18:46:01.0000] <othermaciej>
(though ObjC+Cocoa is not so bad as such things go either)

[18:46:02.0000] <vlad_>
othermaciej: seriously.. though HTML could use some love

[18:46:03.0000] <Philip`>
BenMillard: The world looks oddly familiar there - the textures and shapes are all familiar, but I got bored and moved away before the map editor was released so the perspective is odd

[18:46:04.0000] <vlad_>
(cough xul box model cough)

[18:46:05.0000] <othermaciej>
vlad_: we got your xul box model

[18:47:00.0000] <othermaciej>
I wish the CSS WG would show it some love

[18:47:01.0000] <vlad_>
yeah

[18:47:02.0000] <othermaciej>
instead of figuring how to full-justify arabic text in the presence of chinese vertical writing that uses double-width characters

[18:47:03.0000] <Hixie>
all it would take is an editor

[18:48:00.0000] <vlad_>
othermaciej: we should really fedex those people a nice pen and some parchment

[18:48:01.0000] <Philip`>
othermaciej: HTML+CSS+JS doesn't work so well when you're trying to decode and render graphics from complex binary files on the user's computer, and trying to do it fast

[18:48:02.0000] <vlad_>
and they can have at it

[18:48:03.0000] <othermaciej>
Philip`: oh, well, I wouldn't use it for the non-GUI part

[18:50:00.0000] <Philip`>
othermaciej: Do you mean you'd have a non-GUI part in a proper language (C++ or Python or whatever) and expose a web interface to it for all interaction?

[18:51:00.0000] <othermaciej>
if I were called on to write a GUI app I would probably do a desktop/web hybrid with most of the UI in HTML and compute-intensive or system-integrating code in a lower level language

[18:52:00.0000] <BenMillard>
Philip`, yeah seeing proper perspective in a 2.5D sprite-based game is pretty odd :)

[18:53:00.0000] <BenMillard>
Philip`, I remeber using M1win for GTA1, which had no draw distance limit. that was cool

[18:54:00.0000] <BenMillard>
Philip`, the textures for MultiSlayer are actually from the Vice City level in GTA1

[19:02:00.0000] <dglazkov>
hey enough reminiscing :) I have a question about the state of the HTML5 spec

[19:03:00.0000] <dglazkov>
would you say that HTML5 is an "upcoming spec"?

[19:03:01.0000] <dglazkov>
/me is looking for shiny words

[19:04:00.0000] <Hixie>
upcoming?

[19:05:00.0000] <dglazkov>
yes, as in "of the upcoming HTML5 specification"

[19:06:00.0000] <dglazkov>
would "HTML5 specification draft" be better?

[19:06:01.0000] <Hixie>
if it's not already "upcome", for lack of a better term, i wonder what it will take for it to do so :-)

[19:06:02.0000] <Hixie>
what's the whole sentence?

[19:06:03.0000] <Hixie>
i would just say "HTML5"

[19:06:04.0000] <Hixie>
but that's just me

[19:18:00.0000] <dglazkov>
/me thinks the peeps here are awesome

[19:27:00.0000] <BenMillard>
oh crikey it's 2:30am

[19:45:00.0000] <BenMillard>
Marco Zehe blogged about labelledby and describedby. I chatted to him in Mozilla's #accessibility channel and blogged an HTML4 alternative: http://projectcerbera.com/blog/2008/03#day24

[21:24:00.0000] <Hixie>
hsivonen: yt?

[21:24:01.0000] <Hixie>
i don't understand your use case in http://www.w3.org/mid/3733150B-0B02-496D-8517-A9A6D040B3E8⊙if

[21:24:02.0000] <Hixie>
can you give an example of a page doing something like that?

[21:26:00.0000] <Hixie>
in particular, i don't understand why <img src="icon.svg" alt=""> isn't the best solution for that (even in xhtml today)

[21:34:00.0000] <Hixie>
hm, people want to be able to extract svg snippets from html documents and edit them in svg editors

[22:23:00.0000] <Hixie>
i am seriously considering not individually replying to all these e-mails

[22:23:01.0000] <Hixie>
even the ones sent to whatwg

[22:23:02.0000] <Hixie>
there is so much bikeshedding in these threads it's insane

[22:23:03.0000] <Hixie>
especially since what we're actually talking about here is the nuclear plant

[22:53:00.0000] <Hixie>
holy crap

[22:53:01.0000] <Hixie>
Philip` provides the first really detailed problem description: http://www.w3.org/mid/47DC70FB.1060205⊙cau

[22:56:00.0000] <Hixie>
ok i've read every e-mail

[22:56:01.0000] <Hixie>
http://wiki.whatwg.org/wiki/New_Vocabularies summarises what i found

[01:42:00.0000] <hsivonen>
Hixie: http://lists.w3.org/Archives/Member/w3c-wai-pf/2008JanMar/0507.html

[03:48:00.0000] <jgraham__>
re: typing <div class="math">latex</div> http://www.math.union.edu/~dpvc/jsmath/

[03:50:00.0000] <hsivonen>
someone who knows HTML5 drag&drop might want to look into the ARIA drag&drop stuff

[07:10:00.0000] <hsivonen>
Hixie: the icon case is basically Sam's blog

[07:11:00.0000] <hsivonen>
Hixie: reasons for not using <img>: 1) Fallback behavior. 2) manageability as part of the markup text in a CMS. 

[09:50:00.0000] <andersca>
Hixie?

[10:32:00.0000] <Hixie>
hsivonen: i honestly think that sam's blog would be better off using <img>

[10:32:01.0000] <Hixie>
andersca?

[10:33:00.0000] <andersca>
Hixie: hey

[10:33:01.0000] <andersca>
Hixie: about the cache update process

[10:33:02.0000] <andersca>
Hixie: is the order of the files in the file list important

[10:33:03.0000] <andersca>
Hixie: (the file list described in step 13)

[10:38:00.0000] <Hixie>
um

[10:39:00.0000] <Hixie>
it just says "For each URI in file list" on step 20, without specifying order, so i guess it doesn't matter

[10:41:00.0000] <Hixie>
the only time order matters is during parsing

[10:41:01.0000] <Hixie>
because it affects duplicate elimination in the fallback mode

[10:41:02.0000] <andersca>
yeah

[10:56:00.0000] <Hixie>
/me tries to decode "Content-reinforcing contextual progressive-enhancement eye-candy"

[10:57:00.0000] <Hixie>
i really have no idea what that means

[10:57:01.0000] <andersca>
good luck with that ;)

[10:57:02.0000] <Hixie>
maybe hsivonen is just again referring to sam's icons

[11:04:00.0000] <Lachy>
Hixie, yeah, Sam's icons would be a good example of that. I think it means content that is related to the surrounding content, but doesn't provide any additional information, and is done using progressive enhancement techniques

[11:04:01.0000] <Hixie>
yeah so i really don't see why you wouldn't want to use <img> for that

[11:05:00.0000] <Hixie>
duplicating the icon every time it is used seems like an anti-pattern

[11:05:01.0000] <Hixie>
bad for caching, bad for maintainability, etc

[11:08:00.0000] <Lachy>
yeah, I don't know why <img> wouldn't be better either, but I don't know why Sam does it the way he does

[11:08:01.0000] <Lachy>
maybe SVG in <img> isn't as widely supported yet

[11:09:00.0000] <Hixie>
that's obviously not a relevant argument when discussing new features in a spec with an ETA of more than 10 years from now :-)

[11:09:01.0000] <Philip`>
SVG in <img> only works in Opera 9.5, so it's useless in practice

[11:10:00.0000] <Hixie>
i thought i heard it worked in webkit now too

[11:10:01.0000] <Philip`>
Oh, okay, that could be true

[11:10:02.0000] <Philip`>
but if it doesn't work in Firefox, it's still useless in practice

[11:11:00.0000] <Hixie>
well sure

[11:11:01.0000] <Hixie>
but like i said

[11:11:02.0000] <Hixie>
not a problem when we're discussing future technologies

[11:12:00.0000] <Lachy>
yeah, I know. It's not an argument, merely a possible explanation

[11:18:00.0000] <Hixie>
http://wiki.whatwg.org/wiki/New_Vocabularies updated

[11:18:01.0000] <Hixie>
lots more on there now

[11:23:00.0000] <Hixie>
how the hell do we solve the custom-data-in-html issue

[11:26:00.0000] <Philip`>
Namespaces!

[11:27:00.0000] <Philip`>
Or make any element name and attribute name conformant

[11:31:00.0000] <Hixie>
"namespaces" would just lead to people taking divitis to the next level

[12:13:00.0000] <Lachy>
hmm. even http://www.dreamhoststatus.com/ is down, that probably means dreamhost is having serious problems right now

[12:13:01.0000] <Lachy>
that sucks, cause I even log into my email right now

[12:15:00.0000] <Lachy>
allowing any element or attribute name to be conforming would make the language less useful and prevent future standardised extensions

[12:15:01.0000] <virtuelv>
Lachy: dreamhoststatus is offsite

[12:17:00.0000] <virtuelv>
should be noted that there is a conflict between Cogent and TeliaSonera that may affect connectivity for you 

[12:19:00.0000] <Lachy>
who are Cogent and TeliaSonera?

[12:19:01.0000] <Lachy>
but the problem is apparently with dreamhost, they wrote:

[12:19:02.0000] <Lachy>
"Sorry about the downtime. A lot of you have already been receiving blingy status messages. Blingy is your cluster of machines for web, mysql, and email. The main file server for this cluster is having serious problems."

[12:24:00.0000] <Hixie>
dreamhost is fine for me

[12:24:01.0000] <Hixie>
i'm editing through it right now

[12:24:02.0000] <Hixie>
the status page does seem down though

[12:26:00.0000] <virtuelv>
Lachy: backbone providers in the US and scandinavia, respectively

[12:30:00.0000] <Lachy>
my site is still up, it's just my email having problems

[12:31:00.0000] <Lachy>
I'm probably also on a different server from you

[14:27:00.0000] <Hixie>
othermaciej: that use case is the first one people have presented that actually would require just "raw xml"-equivalent support in text/html

[14:29:00.0000] <othermaciej>
Hixie: is that because XBL2 inherently requires raw XML?

[14:29:01.0000] <Hixie>
not so much raw XML, but it allows you to do things like have <option> elements outside of <select>s and stuff like that

[14:29:02.0000] <Hixie>
since the DOM is built up in parts

[14:30:00.0000] <Hixie>
so the parsing rules for html content end up being different than in normal html

[14:31:00.0000] <Hixie>
wtf, my opera build always starts up in a "wedged" state where it won't access the web for 5 minutes

[14:32:00.0000] <virtuelv>
Hixie: huh?

[14:32:01.0000] <Hixie>
when i launch opera, and tell it to go to a web site, it just sits there spinning

[14:32:02.0000] <virtuelv>
using feeds?

[14:32:03.0000] <virtuelv>
mail?

[14:32:04.0000] <Hixie>
only after several minutes (and closing and reopening the window) does it go there

[14:32:05.0000] <Hixie>
web

[14:32:06.0000] <virtuelv>
9.5 or a prior version?

[14:32:07.0000] <Hixie>
just normal web

[14:33:00.0000] <Hixie>
9.50 Beta 4681

[14:33:01.0000] <virtuelv>
there is a vps folder in your profile directory

[14:33:02.0000] <virtuelv>
try nuking it

[14:34:00.0000] <virtuelv>
but hang on, I'll hear with some of the mac users

[14:35:00.0000] <Hixie>
i nuked Library/Application Data/Opera* and it didn't solve the problem

[14:36:00.0000] <virtuelv>
sounds omnious

[14:37:00.0000] <virtuelv>
I don't use mac, and have never seen similar behavior on other platforms

[14:37:01.0000] <virtuelv>
and short of actually upgrading to a later weekly, I'm afraid I can't offer more advice than "file a bug"

[14:41:00.0000] <Hixie>
is there a later weekly yet?

[14:41:01.0000] <Hixie>
i can never find them

[14:42:00.0000] <Hixie>
i wish opera had something like nightshift, or even better, like firefox's autoupdate

[14:43:00.0000] <virtuelv>
http://my.opera.com/desktopteam/blog/

[14:43:01.0000] <virtuelv>
latest post has newer builds

[14:44:00.0000] <virtuelv>
build 4716

[14:44:01.0000] <Hixie>
k i'll see if i can remember to update next time i try to test opera

[14:44:02.0000] <Hixie>
thanks

[14:44:03.0000] <virtuelv>
latest builds have a bunch of acid3 fixes

[14:45:00.0000] <Hixie>
cool

[14:48:00.0000] <Hixie>
same problem

[14:55:00.0000] <virtuelv>
heh, that's ... odd

[14:56:00.0000] <virtuelv>
noone I spoke to had heard anything about anything like this either

[15:02:00.0000] <hsivonen>
Hixie: yes, I referred to Sam's icons again with reading the irc log first

[15:28:00.0000] <Hixie>
woot, the whatwg was cited in a paper: http://www.cs.uic.edu/~mter/htmi-xss.pdf

[15:29:00.0000] <met_>
Hixie, favicon http://acid3.acidtests.org/favicon.ico is only joke or is it real part of Acid3? 

[15:31:00.0000] <Hixie>
there is no http://acid3.acidtests.org/favicon.ico

[15:31:01.0000] <Hixie>
that's a 404

[15:32:00.0000] <Hixie>
if you see that used as a favicon.ico, it's a bug

[15:32:01.0000] <vlad_>
not a 404 for me, unless your 404 serves a red image with a hand-drawn lion-thing

[15:32:02.0000] <annevk>
it does

[15:32:03.0000] <Hixie>
it does

[15:32:04.0000] <annevk>
:p

[15:33:00.0000] <Hixie>
hey anne

[15:33:01.0000] <Hixie>
nice vacation?

[15:33:02.0000] <annevk>
yeah, lots of snow :)

[15:33:03.0000] <Hixie>
cool

[15:33:04.0000] <annevk>
heading to San Diego now

[15:33:05.0000] <met_>
Hixie, thx misses 404 there, so bug in Firefox

[15:33:06.0000] <annevk>
CSS WG meeting starts tomorrow...

[15:36:00.0000] <Hixie>
annevk: enjoy

[15:36:01.0000] <annevk>
oh yes :)

[15:37:00.0000] <om_afk>
/me wonders how the exciting charter discussion will go

[15:37:01.0000] <Hixie>
have you created yourself a bingo card yet? with squares like "fantasai brings up an irrelevant point" and "bert says javascript is irrelevant to the web" and so on?

[15:37:02.0000] <annevk>
/me too

[15:37:03.0000] <annevk>
lol

[15:39:00.0000] <Hixie>
gsnedders: actually html5 is already under feature freeze :-)

[15:39:01.0000] <Hixie>
has been since late last year

[15:39:02.0000] <Hixie>
it's the main reason i didn't add workers

[15:41:00.0000] <tommorris>
does feature freeze mean that if an existing html4 behaviour has been removed it cannot be reinstated?

[15:41:01.0000] <Hixie>
no

[15:42:00.0000] <Hixie>
e.g. headers="" was added last week

[15:47:00.0000] <gsnedders>
Hixie: how solid feature freeze, though? We don't have SVG or MathML or the like in HTML 4/5, for example

[15:53:00.0000] <Philip`>
Gmail really isn't very good at keeping track of unread message counts when a message has multiple labels

[16:03:00.0000] <Hixie>
gsnedders: feature freeze with the caveat that issues that had been raised before the feature freeze would still get resolved

[16:16:00.0000] <tommorris>
/me wonders whether the lack of compatibility with the GRDDL specification counts as a raised issue

[16:24:00.0000] <jgraham>
/me guesses phillips problem with gmail is less annoying than the random number that thunderbird occasionally displays over the dock icon on OSX

[16:24:01.0000] <jgraham>
s/phillips/Philip`'s/

[16:25:00.0000] <jgraham>
Presumably they are supposed to be unread message counts but random numbers might work just as well


2008-03-26
[18:19:00.0000] <dglazkov>
hey, I have webforms2.org domain sitting still

[18:19:01.0000] <dglazkov>
anybody need it?

[00:30:00.0000] <hsivonen>
" <oedipus> zcorpan, xhtml2 and xforms have been artificially

[00:30:01.0000] <hsivonen>
   suppressed by implementors

[00:30:02.0000] <hsivonen>
argh

[00:30:03.0000] <hsivonen>
slip of paste

[00:36:00.0000] <virtuelv>
still an interesting quote

[00:37:00.0000] <annevk>
implementors are evil

[00:37:01.0000] <othermaciej>
artificially suppressed!

[00:37:02.0000] <othermaciej>
because after all, every spec has an intrinsic right to be implemented

[00:40:00.0000] <hsivonen>
anyway, what I thought I had on the clipboard was something different from www-style

[00:40:01.0000] <hsivonen>
"The WHATWG seems to be more receptive to ideas than the other w3c

[00:40:02.0000] <hsivonen>
groups. I wish they had a CSS module or something."

[00:41:00.0000] <othermaciej>
maybe if you wish hard enough :-)

[00:45:00.0000] <Hixie>
i've been saying for some times that we should open a css branch

[00:47:00.0000] <hsivonen>
I found it interesting that some of the Apple CSS stuff got shipped on iPhone but not in desktop Safari

[00:51:00.0000] <vlad_>
anyone know if www-style allows posts from non-members?

[00:52:00.0000] <vlad_>
I'd like to reply in support of the apple CSS proposals being in-scope for the CSS WG, but fear for my inbox if I subscribe to www-style

[00:53:00.0000] <annevk>
vlad_, should be accepted

[00:53:01.0000] <vlad_>
sweet, thanks

[00:53:02.0000] <othermaciej>
vlad_: I subscribed at least temporarily

[00:54:00.0000] <othermaciej>
vlad_: and thanks for the support btw

[00:54:01.0000] <vlad_>
yeah, I guess I can just unsub later

[01:51:00.0000] <hsivonen>
http://www.adobe.com/products/player_census/flashplayer/

[01:51:01.0000] <hsivonen>
can the SVG number be right? Firefox + Opera + Safari totalling under 10%?

[01:54:00.0000] <virtuelv>
hsivonen: it's possible to pull any number out of a random orifice if you work in marketing

[01:54:01.0000] <virtuelv>
http://www.adobe.com/products/player_census/methodology/ is quite telling

[01:55:00.0000] <virtuelv>
it's an opt-in survey

[01:55:01.0000] <hsivonen>
and tracking plug-in tech

[01:59:00.0000] <annevk>
they leave out HTML entirely...

[01:59:01.0000] <annevk>
hmm

[02:34:00.0000] <othermaciej>
hsivonen: there are some people on older versions of Safari, Opera or Firefox, but certainly not over half

[03:39:00.0000] <annevk>
hmm, forgot to submit <form><p>...</form> as Acid3 test

[03:41:00.0000] <othermaciej>
annevk: who has a bug on that, and what is the bug?

[03:42:00.0000] <BenMillard>
annevk, the search box on Opera.com seems broken. A search for "chat" takes me here: http://www.opera.com/search/search.cgi?start=1&end=10&words=chat

[03:42:01.0000] <annevk>
Firefox ignores </form>

[03:47:00.0000] <annevk>
thanks BenMillard

[03:48:00.0000] <jgraham>
annevk: Oh that's quite bad.

[03:51:00.0000] <jgraham>
Out of interest, is it a known issue that Opera doesn't shrink table cells containing an image to the displayed width of the image but only to the pixel size?

[03:51:01.0000] <jgraham>
e.g. http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ctable%20border%3D1%3E%0D%0A%3Ctd%3E%3Cimg%20height%3D40%20src%3Dimage%3E%0D%0A%3C%2Ftable%3E%0D%0A%3Cp%3EThe%20table%20should%20be%20narrower%20than%20the%20full%20image%20width%3C%2Fp%3E%0D%0A%3Cimg%20src%3Dimage%3E

[03:52:00.0000] <jgraham>
/me assumes this has been noticed before but doesn't know how to tell

[03:52:01.0000] <annevk>
i've no idea

[03:52:02.0000] <annevk>
I'd suggest you use https://bugs.opera.com/wizard/

[03:53:00.0000] <jgraham>
OK

[03:53:01.0000] <jgraham>
/me is naturally disinclined from filing bugs without a way of checking for dupes

[03:59:00.0000] <BenMillard>
jgraham, I guess they check for dupes on your behalf?

[04:00:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/public-pfwg-comments/2008JanMar/0083.html

[04:00:01.0000] <jgraham>
BenMillard: Sure, but I still don't like doing it

[04:01:00.0000] <BenMillard>
jgraham, that's understandable. I guess this approach works for them, though

[04:03:00.0000] <jgraham>
hsivonen: I guess my definition of clear is somewhat different from her's

[04:03:01.0000] <annevk>
it does work for us, though I agree it's not the best system for everyone

[04:05:00.0000] <BenMillard>
hsivonen, I'm not sure what is more interesting out of the content itself; the lack of punctuation; the errononeous punctuation; the lacking capitalisation; the irregular spacing of paragraphs; etc

[04:05:01.0000] <BenMillard>
especially bearing in mind the sensitivity to these things which text-to-speech adaptation tends to have

[04:06:00.0000] <BenMillard>
I suggest it was not a carefully thought out response

[04:08:00.0000] <annevk>
http://www.w3.org/2008/03/19-webapi-minutes.html is public right?

[04:09:00.0000] <BenMillard>
annevk, that works for me

[04:09:01.0000] <annevk>
k, MS commits itself to implementing DOM Level 3 Events there

[04:10:00.0000] <annevk>
(and some more rambling on mousewheel which schepers apparently didn't tested as he told me he did...)

[06:37:00.0000] <shepazu>
hsivonen: it's a plug-in survey, not a survey of technology deployment... they are looking only at ASV, probably, not Firefox + Opera + Safari+(IE+SVG plugin)

[06:38:00.0000] <shepazu>
annevk: I did test, it's possible my test wasn't comprehensive or test all the right things

[06:43:00.0000] <hsivonen>
shepazu: hence, the survey gives a bogus picture of the technology deployment landscape

[06:44:00.0000] <shepazu>
hsivonen: no, Adobe would never do that

[06:45:00.0000] <shepazu>
you need to adjust your reality to match their findings

[06:46:00.0000] <shepazu>
now, that's not to say that Flash isn't more widely deployed than SVG

[06:46:01.0000] <shepazu>
it is

[06:46:02.0000] <shepazu>
just not as skewed as they present

[06:46:03.0000] <shepazu>
on desktops anyway

[06:46:04.0000] <hsivonen>
It'll be interesting to see what iPhone does to SVG vs. Flash deployment scenarios

[06:47:00.0000] <shepazu>
and if you bring mobiles onto the scene, SVG destroys FlashLite... on the order of 4 to 1, iirc

[06:47:01.0000] <shepazu>
iPhone numbers are tiny.... but influential

[06:47:02.0000] <hsivonen>
FlashLite is pointless (but so is walled-garden SVG)

[06:48:00.0000] <hsivonen>
I have no idea if my phone has some kind of SVG

[06:48:01.0000] <hsivonen>
it has FlashLite, but it is useless for browsing the Web

[06:48:02.0000] <shepazu>
I know mine doesn't... but it's 6 years old

[06:48:03.0000] <hsivonen>
I know WebKit on my phone doesn't have the SVG bits

[06:48:04.0000] <hsivonen>
Opera neither

[06:49:00.0000] <shepazu>
my phone was marketed to homo neanderalis

[06:55:00.0000] <Tayuke>
anyone know where I can find a website with website standards...

[06:55:01.0000] <Tayuke>
I can't come up with anything on Google..

[07:26:00.0000] <Lachy>
heh, the xhtml2 wg are discussing whether or not DTDs and DOCTYPEs are necessary in their telcon.

[07:28:00.0000] <Lachy>
... they still don't get it.

[07:31:00.0000] <shepazu>
Lachy: what do you mean?

[07:32:00.0000] <shepazu>
are you saying there aren't people and toolchains that rely on DTDs and DOCTYPEs, especially for authoring?

[07:36:00.0000] <itpastorn>
Opera devs around? I found a small bug: http://keryx.se/dev/acid3/red-green-dot.pdf and http://keryx.se/dev/acid3/bg-in-negative-margin.html

[07:38:00.0000] <annevk>
interesting

[07:38:01.0000] <annevk>
itpastorn, if you could file it that would be much appreciated https://bugs.opera.com/wizard/

[07:38:02.0000] <itpastorn>
Should I file it?

[07:38:03.0000] <annevk>
:)

[07:39:00.0000] <itpastorn>
You are too fast for me!

[07:39:01.0000] <annevk>
btw, Opera post-Kestrel builds hit 98/100 on Acid3

[07:39:02.0000] <itpastorn>
Source? (You know, for WP....)

[07:40:00.0000] <annevk>
my blog soonish... though I'm missing the screen shot at this poin

[07:40:01.0000] <itpastorn>
maybe this log...

[07:41:00.0000] <itpastorn>
OK, I have your blog in my feed aggregator (Thanks for all the stuff you've taught me BTW)

[07:42:00.0000] <itpastorn>
Any rendering issues? Do you download the AcidAhemTest font?

[07:42:01.0000] <itpastorn>
And my I ask what two tests that you still are missing?

[07:43:00.0000] <itpastorn>
my=may

[07:44:00.0000] <annevk>
we support @font-face

[07:47:00.0000] <hsivonen>
annevk: post-Kestrel? cross-platform?

[07:48:00.0000] <itpastorn>
Bug filed: 319878

[07:49:00.0000] <annevk>
hsivonen, yes, dunno

[07:53:00.0000] <Lachy>
shepazu, their discussion was about whether or not their specs should require conforming documents to have doctypes and they wrongly claimed that validation would require a DTD

[07:54:00.0000] <annevk>
itpastorn, zcorpan tells me 'cursor' and data:,%20 are still failing

[07:54:01.0000] <shepazu>
maybe some of their target toolchains do require that, Lachy 

[07:55:00.0000] <Lachy>
I didn't see any mention of specific tools in their discussion.

[07:55:01.0000] <Lachy>
but check the logs for yourself. http://krijnhoetmer.nl/irc-logs/xhtml/20080326

[07:56:00.0000] <shepazu>
why would they need to mention specific tools if it's understood?  don't think you know everything that was said or understood because you read the logs, scribes are notoriously lax

[07:57:00.0000] <Lachy>
shepazu, I realise it's difficult to follow from the logs

[07:58:00.0000] <Lachy>
also, I never claimed to know everything

[07:58:01.0000] <shepazu>
your comment just seemed rather unfair and uncharitable

[07:59:00.0000] <itpastorn>
annevk: "cursor" and "data:,%20" - You are going to make me read the code again! Let's see. Test 47 and... 97?

[07:59:01.0000] <Lachy>
but, my interpretation of these logs seems fairly consistent with the results of past discussions.

[08:00:00.0000] <annevk>
itpastorn, yup

[08:01:00.0000] <shepazu>
Lachy, that's your interpretation, and I seriously doubt you're giving them the benefit of the doubt, even given their experiences

[08:01:01.0000] <hsivonen>
shepazu: folks from the XHTML2 WG have made some pretty wild assumptions of the need of DTDs in the past

[08:01:02.0000] <hsivonen>
assumtions that the XML community in general no longer shares

[08:04:00.0000] <shepazu>
and they are discussing removing that requirement... what's the problem?

[08:06:00.0000] <eseidel>
annevk: congrats :)

[08:07:00.0000] <shepazu>
just seems to me that they are damned if they do and damned if they don't, in your book... 

[08:08:00.0000] <hsivonen>
shepazu: I was commenting on your assumptions about them considering tools. I don't make statements about damnedness.

[08:08:01.0000] <Lachy>
shepazu, it's good that they were discussing removing it. My issue is that some were arguing they should be kept

[08:09:00.0000] <shepazu>
hsivonen: I was replying to Lachy, not you

[08:09:01.0000] <hsivonen>
shepazu: ah. ok

[08:10:00.0000] <shepazu>
he'd made a derogatory statement about their discussion, calling them clueless, and I thought that was uncalled-for

[08:10:01.0000] <Lachy>
I never called them clueless

[08:11:00.0000] <Lachy>
(at least not today)

[08:11:01.0000] <shepazu>
but I guess this isn't my fight, I just wish there could be more positive discussion and less tension and infighting... we are all fighting against proprietary formats, after all

[08:11:02.0000] <shepazu>
"they still don't get it" reads to me as pretty much the same, Lachy 

[08:12:00.0000] <Philip`>
/me isn't fighting against proprietary formats

[08:12:01.0000] <shepazu>
ok, all of us except Philip` ;)

[08:13:00.0000] <shepazu>
ok, well... me. :D

[08:13:01.0000] <Philip`>
I wouldn't mind a proprietary format that worked better for me than any alternatives :-)

[08:13:02.0000] <Lachy>
shepazu, no, it just means they fail to understand some of the issues related to DTDs and DOCTYPEs

[08:13:03.0000] <eseidel>
hum... sadly the latest opera snapshot won't even load google for me :(

[08:13:04.0000] <Lachy>
/me leaves

[08:13:05.0000] <shepazu>
ok, Lachy

[08:14:00.0000] <shepazu>
and by "they" I guess you didn't mean the group as a whole, just those select individuals

[08:14:01.0000] <shepazu>
glad to know you aren't being narrowminded

[08:15:00.0000] <annevk>
could you please stay friendly on this channel shepazu?

[08:16:00.0000] <shepazu>
sure, I'm happy to stay as friendly as everyone else, annevk 

[08:18:00.0000] <shepazu>
sorry if you feel that defending people who aren't here to defend themselves is unfriendly

[08:26:00.0000] <annevk>
I think that "glad to know you aren't being narrowminded" and your last remark are rather unfriendly

[08:27:00.0000] <shepazu>
this channel seems pretty open to mockery, annevk 

[08:27:01.0000] <shepazu>
am I incorrect in that assessment?

[08:28:00.0000] <itpastorn>
annevk: WP updated... Now I must go back to work. Thanks for the tip.

[08:28:01.0000] <shepazu>
are you asking me to match a different standard of behavior?

[08:51:00.0000] <gsnedders>
silly power cuts.

[09:32:00.0000] <hsivonen>
HTML 5 should probably say how the native semantics map to MSAA/IAccessible2/ATK/UX

[09:33:00.0000] <annevk2>
that'd be part of the rendering section

[09:34:00.0000] <annevk>
BenMillard, thanks, search is fixed

[09:37:00.0000] <jgraham_mibbit>
hsivonen: Alternatively that could go in a seperate, normative document

[09:38:00.0000] <jgraham_mibbit>
(dunno if that has significant advantages or not)

[09:38:01.0000] <hsivonen>
jgraham_mibbit: yeah, but given the ARIA situation, the features of HTML5 that are supposed to have accessibility benefits should be documented to have them with processing reqs

[09:38:02.0000] <annevk>
jgraham_mibbit, if someone is willing to edit :p

[09:40:00.0000] <hsivonen>
jgraham_mibbit: btw, it isn't just aria-level that doesn't have processing reqs. *none* of the states and properties come with processing reqs

[09:40:01.0000] <BenMillard>
annevk, yay :)

[09:41:00.0000] <BenMillard>
hsivonen, is this of any use: http://developer.mozilla.org/en/docs/ARIA_UA_Best_Practices

[09:41:01.0000] <annevk>
/me normally uses "g site:opera.com bar"

[09:42:00.0000] <hsivonen>
BenMillard: that's the kind of stuff that I'd like to see in W3C docs

[09:42:01.0000] <annevk>
BenMillard, that's for ARIA, not HTML5

[09:42:02.0000] <jgraham_mibbit>
hsivonen: Yeah, I had kind of noticed that aria is processing-requirment-deficient

[09:42:03.0000] <hsivonen>
BenMillard: so yes, that doc is useful, but by not having it in the ARIA spec, de facto normativeness is moved from the W3C doc to the Mozilla wiki.

[09:42:04.0000] <BenMillard>
hsivonen, I see

[09:43:00.0000] <BenMillard>
Aaron told me he wrote it about a week ago, and that it's a draft, so maybe there are plans to fold it in at some point

[09:49:00.0000] <zcorpan>
i'll still have to review that doc

[09:50:00.0000] <zcorpan>
making it a w3c doc has been discussed

[09:50:01.0000] <othermaciej>
I think the proposal was to make it a non-normative w3c doc which is possibly still a wiki

[09:51:00.0000] <hsivonen>
even if the API-specific stuff is better on a wiki, the spec still could have processing requirements without naming the concrete API identifiers

[09:51:01.0000] <zcorpan>
making it a rec-track document at this point is expected to slow down development of the doc

[09:51:02.0000] <zcorpan>
it can still become a rec-track document later on

[09:52:00.0000] <hsivonen>
I don't see the benefit of ARIA itself becoming a REC if as a REC it can't serve as a basis for interoperable implementations

[09:52:01.0000] <zcorpan>
me neither

[09:52:02.0000] <annevk>
From what I know the idea is to gather implementor feedback first until it's sort of done and then rubberstamp it.

[09:52:03.0000] <hsivonen>
that is, I think shipping interoperable software is more interesting that marking a spec done

[09:53:00.0000] <annevk>
re above ^^

[09:53:01.0000] <zcorpan>
hsivonen: agree

[09:58:00.0000] <hsivonen>
anyway, I think I'm going to take a second attempt at integrating ARIA into HTML5 on the document conformance level

[09:58:01.0000] <hsivonen>
since it now appears that aria-owns doesn't really arbitrarily reparent stuff

[10:14:00.0000] <hsivonen>
hmm. ARIA has script-managed alternatives for HTML5 contextmenu, draggable and irrelevent

[10:17:00.0000] <Philip`>
/me finds a bug in HTML5

[10:17:01.0000] <Philip`>
People misspell 'irrelevant'

[10:18:00.0000] <Philip`>
Something like "inactive" would be less likely to go wrong

[10:18:01.0000] <annevk>
yeah, it should be renamed

[10:19:00.0000] <hsivonen>
Philip`: can irrelevent be misspelled by know knowing the spelling? or just typoing?

[10:19:01.0000] <hsivonen>
hah. I typoed it just there

[10:20:00.0000] <hsivonen>
anyway, it seems about as typoable as any word of that length

[10:21:00.0000] <annevk>
contextmenu is way easier

[10:21:01.0000] <annevk>
no confusing over double r/l or single, no e/a issue at the end

[10:21:02.0000] <annevk>
confusion, even

[10:21:03.0000] <hsivonen>
we might as well drop the semantic fig leaf and call it 'hidden'

[10:21:04.0000] <annevk>
Hixie claims it's not equivalent

[10:24:00.0000] <Philip`>
Why should we listen to him?

[10:24:01.0000] <BenMillard>
fwiw, irrelevant is a difficult word, even for an Englishman, for precisely the reasons Anne gives

[10:29:00.0000] <BenMillard>
Philip` and hsivonen, both inactive and hidden are easier than irrelevant for me

[10:31:00.0000] <webben>
latent maybe?

[10:31:01.0000] <virtuelv>
not that I think anyone'll miss it, but, http://annevankesteren.nl/2008/03/acid3-opera-98

[10:33:00.0000] <BenMillard>
irrelevant seems to be about revealing new parts of a page which weren't relevant when the user originally visited the page

[10:34:00.0000] <BenMillard>
putting such things on a different page seems like a better idea to me

[10:35:00.0000] <zcorpan_>
in practice, having a different page is too cumbersome and authors instead just use display:none

[10:36:00.0000] <Philip`>
Disabling stylesheets on gmail.com was suggested as a demonstration where critical semantics of the page are only encoded in its CSS

[10:38:00.0000] <Philip`>
(and it seems it would be infeasible to split it into multiple pages, because that would destroy the performance)

[10:38:01.0000] <Philip`>
(hence it's good to have a way to encode the display:none semantics in HTML instead)

[10:38:02.0000] <BenMillard>
style="display:none;"

[10:40:00.0000] <Camaban_>
annevk: what's meant by 'post-Kestrel'? is it just internal build that isn't public yet?

[10:40:01.0000] <Philip`>
That doesn't help the hypothetical UAs that want to render sites like Gmail without having to implement CSS

[10:40:02.0000] <Philip`>
/me isn't sure it's actually solving a real problem

[10:41:00.0000] <hsivonen>
Philip`: in the past X-Smiles and Prince have supported style='' without supporting the cascade 

[10:42:00.0000] <hsivonen>
IIRC Prince for SVG and X-Smiles for XForms

[10:42:01.0000] <annevk>
Camaban_, it means it won't be part of the Kestrel release

[10:44:00.0000] <zcorpan_>
i wonder if it would be feasable to just make style='display:none' mean irrelevant=''

[10:44:01.0000] <BenMillard>
irrelevant has some strange restrictions, such as not using it for tabbed views

[10:44:02.0000] <Camaban_>
annevk: ah, so this is part of dev for 10? or would we see it between 9.5 and 10?

[10:45:00.0000] <Philip`>
BenMillard: It's (arguably) not strange - the other tabs are still relevant to the current application state, they're just not visible in the current view

[10:46:00.0000] <BenMillard>
Philip`, authors are not going to care about such distinctions

[10:47:00.0000] <BenMillard>
if the user is viewing the tab about e.g. product specification, the other tabs are currently irrelevant to them

[10:47:01.0000] <annevk>
Camaban_, we'll see

[10:47:02.0000] <annevk>
Camaban_, it's likely there'll be a public build demonstrating it

[10:48:00.0000] <Philip`>
BenMillard: It does seem like a fairly subtle issue for authors to understand

[10:49:00.0000] <Philip`>
and I don't think practical experience of HTML gives much hope of authors getting subtleness right

[10:49:01.0000] <Camaban_>
annevk: ok, thanks, sorry, I realise answering those kinds of questions can lead to problems.  I'd forgotten that Kestrel was just 9.5, that's fine

[10:52:00.0000] <BenMillard>
zcorpan, display:none by any means (not just style) could be given the semantics irrelevant has. some widgets change a class attribute rather than set a style attribute. hiding navigation in print preview is usually done by an external stylesheet.

[10:53:00.0000] <BenMillard>
(print preview is just a UA using media="print" so I think that should work)

[10:55:00.0000] <BenMillard>
in effect, I think irrelevant should be dropped. if something is hidden, it is obviously not relevant to the user at that time

[10:57:00.0000] <zcorpan_>
but css is (supposed to be) optional

[10:57:01.0000] <annevk>
Yet, lets not try to change fundamental assumptions about CSS

[10:57:02.0000] <annevk>
s/Yet/Yes/

[10:59:00.0000] <BenMillard>
if those assumptions don't match what authors do, maybe they should change

[11:00:00.0000] <annevk>
maybe

[11:00:01.0000] <annevk>
I rather not

[11:01:00.0000] <zcorpan_>
ATs can't ignore css in order to be usable, i think

[11:02:00.0000] <BenMillard>
browsing the web visually without CSS is not really usable, either

[11:02:01.0000] <BenMillard>
unless you only browse our blogs :)

[11:03:00.0000] <zcorpan_>
i browse a lot of the web without css

[11:03:01.0000] <zcorpan_>
via feeds

[11:03:02.0000] <hsivonen>
optional technologies become de facto required over time

[11:10:00.0000] <Philip`>
zcorpan_: irrelevant is only useful for dynamic scripted applications, and you don't get those in feeds

[11:11:00.0000] <zcorpan_>
Philip`: true

[11:11:01.0000] <zcorpan_>
moreover, i get style='' applied in feeds

[11:24:00.0000] <hsivonen>
WIP: http://hsivonen.iki.fi/aria-html5-bis/

[11:39:00.0000] <webben>
the point is (perhaps) less whether UAs should or shouldn't implement CSS, but whether it should be necessary to use publisher CSS to read a page. There are major disadvantages to forcing publisher CSS on users (because it's very hard to design a skin everyone can use, and very few people trye).

[11:39:01.0000] <webben>
*try

[11:39:02.0000] <webben>
and in practice, once you're allowed users to set their own skin, presentation has become separated from content and it doesn't really make much sense to require UA support of CSS.

[11:50:00.0000] <BenMillard>
webben, good point

[12:06:00.0000] <annevk>
small update: http://my.opera.com/desktopteam/blog/2008/03/26/opera-and-the-acid3-test

[12:06:01.0000] <annevk>
100/100

[12:06:02.0000] <annevk>
there's a small rendering glitch left

[12:07:00.0000] <hober>
wow, awesome

[12:54:00.0000] <itpastorn>
annevk: ping

[13:00:00.0000] <annevk>
yo

[13:00:01.0000] <itpastorn>
Do you think I could get Tim A's screenshot for WP?

[13:01:00.0000] <annevk>
I'd think so

[13:02:00.0000] <itpastorn>
Is he reachable?

[13:02:01.0000] <annevk>
@opera.com

[13:02:02.0000] <itpastorn>
firstname.lastname@

[13:03:00.0000] <virtuelv>
itpastorn: the acid3 screenshot?

[13:03:01.0000] <itpastorn>
Yes

[13:04:00.0000] <virtuelv>
I doubt anyone will shoot you if you grab the full-screen version off of somewhere

[13:04:01.0000] <virtuelv>
I blogged it too

[13:04:02.0000] <virtuelv>
http://virtuelvis.com/download/2008/03/acid3/acid3_100.png

[13:04:03.0000] <hasather>
congrats all Opera people :)

[13:05:00.0000] <itpastorn>
WP has a strict liicense policy. If not explicitly CC or similar it will be removed.

[13:05:01.0000] <virtuelv>
bwah

[13:06:00.0000] <itpastorn>
is the last small rendering glitch visible?

[13:06:01.0000] <annevk>
itpastorn, no, firstname

[13:07:00.0000] <Hixie>
virtuelv: that is not a perfect pass, though it is a good step forward

[13:07:01.0000] <annevk>
we realize

[13:08:00.0000] <Hixie>
yeah, not sure virtuelv does though :-)

[13:08:01.0000] <virtuelv>
Hixie: I do realise

[13:08:02.0000] <virtuelv>
unfortunately, other people don't neccesarily realise that

[13:09:00.0000] <virtuelv>
(see the reddit headline, for instance)

[13:09:01.0000] <itpastorn>
virtualelv: Could you write a note on your blog that the image is CC?

[13:10:00.0000] <itpastorn>
In a comment perhaps. Derivative works must be allowed.

[13:10:01.0000] <hsivonen>
itpastorn: doesn't the English wikipedia allow graphical quotations as fair use? (IANAL, TINLA)

[13:11:00.0000] <virtuelv>
itpastorn: the screenshot is the exact same as Tim's

[13:11:01.0000] <virtuelv>
these are from some blessed developer's machine

[13:11:02.0000] <itpastorn>
better safe than sorry. I've gotten a load of grey hairs over the Acid3 article already

[13:15:00.0000] <virtuelv>
itpastorn: I believe Tim Altman's screenshot is already under a CC license

[13:15:01.0000] <virtuelv>
see footer on http://weblog.timaltman.com/

[13:15:02.0000] <virtuelv>
and it's actually already on Wikipedia

[13:16:00.0000] <itpastorn>
Wrong one. Derivative must be allowed.

[13:17:00.0000] <Hixie>
really?

[13:17:01.0000] <Hixie>
that's surprising

[13:17:02.0000] <Hixie>
i approve, but i didn't realise wikipedia required that

[13:18:00.0000] <itpastorn>
Yeah, they do. I've been burned once because the W3C license was not allowed.

[13:18:01.0000] <virtuelv>
itpastorn: [Citation needed]

[13:19:00.0000] <itpastorn>
Hold on a second...

[13:20:00.0000] <itpastorn>
here is one of mine with license: http://commons.wikimedia.org/wiki/Image:Osi-vz-ip-model.svg

[13:20:01.0000] <itpastorn>
Creative�Commons Attribution�ShareAlike�3.0�Unported

[13:21:00.0000] <itpastorn>
"Share alike" is not required

[13:22:00.0000] <annevk>
pff, would me saying here that it's under that license be enough?

[13:23:00.0000] <itpastorn>
Yeah, I suppose so

[13:24:00.0000] <Philip`>
What if I say here that it's copyrighted to me and nobody may use it for anything?

[13:24:01.0000] <itpastorn>
Then it's a matter of authority I guess...

[13:25:00.0000] <Philip`>
/me declares that he is authoritative

[13:27:00.0000] <hsivonen>
/me thought Hixie was the author of the visual appearance of the successful rendering

[13:27:01.0000] <hsivonen>
(IANAL, TINLA again)

[13:27:02.0000] <Hixie>
i honestly think that even talking about copyrighting anything relating to acid3 is bogus

[13:28:00.0000] <itpastorn>
I can't find the TINLA page

[13:28:01.0000] <Hixie>
since it's all about interoperability, which is fair use, etc

[13:29:00.0000] <itpastorn>
I'll go for the fair use argument

[13:30:00.0000] <hsivonen>
itpastorn: TINLA page: http://en.wikipedia.org/wiki/Wikipedia:Fair_Use

[13:32:00.0000] <annevk>
I asked if someone could put a share-alike notice on the my.opera.com blog post

[13:32:01.0000] <annevk>
Not sure when that'll happen given the local time in Europe

[13:32:02.0000] <annevk>
BTW: http://msdn2.microsoft.com/en-us/library/cc351024(VS.85).aspx

[13:33:00.0000] <Philip`>
/me will make his own browser that rips off WinGogi's UI and sell it for lots of money, once it is share-alike

[13:35:00.0000] <itpastorn>
http://en.wikipedia.org/wiki/Wikipedia:Fair_Use#Images point 6 applies to screenshots someone has made hi-/herself AFAIK

[13:36:00.0000] <itpastorn>
Local time in Europe is 21.40 and it is halftime between Sweden and Brazil (0-0)

[13:37:00.0000] <Philip`>
Depends which part of Europe you're in :-)

[13:40:00.0000] <itpastorn>
Opera folks? Suppose most of them would be in Norway... Same TZ as Sweden! It's those Fins that are a bit ahead (in Scandinavia)

[13:41:00.0000] <annevk>
and the British that are behind...

[13:42:00.0000] <itpastorn>
When I look at the images - where is the glitch?

[13:44:00.0000] <annevk>
after the first comma we need a space

[13:45:00.0000] <itpastorn>
Is that not *my* bug? ...

[13:46:00.0000] <annevk>
it is

[13:46:01.0000] <annevk>
well, yours was a duplicate

[13:46:02.0000] <annevk>
as it turned out

[13:47:00.0000] <itpastorn>
But I did find it on my own. And you have not got a public bug database...

[13:48:00.0000] <annevk>
we were happy with the report :)

[13:54:00.0000] <itpastorn>
BTW, someone has uploaded Tims image now. It wasn't me...

[13:59:00.0000] <Hixie>
i have blogged updates to acid3

[13:59:01.0000] <Hixie>
ln.hixie.ch

[14:08:00.0000] <virtuelv>
Hixie: why am I only seeing Osama pictures from your automated flickr selection?

[14:08:01.0000] <Hixie>
ask flickr and yahoo

[14:13:00.0000] <itpastorn>
www.annevankesteren.nl  Connection Interrupted     The connection to the server was reset while the page was loading.

[14:14:00.0000] <annevk>
/me blames dreamhost

[14:14:01.0000] <a-ja>
annevk: acid3 congrats

[14:15:00.0000] <tomg>
yes

[14:15:01.0000] <tomg>
acid3 love

[14:16:00.0000] <a-ja>
annevk: /.'ed?

[14:16:01.0000] <annevk>
don't think so

[14:16:02.0000] <annevk>
that typically doesn't make it go down either

[14:16:03.0000] <Junyor>
itpastorn: you around?

[14:17:00.0000] <itpastorn>
Yep

[14:17:01.0000] <Junyor>
<- Tim Altman

[14:17:02.0000] <Hixie>
annevk: i replied to the xdr thing, i hope you can make use of my comments to once and for al put an end to this xdr nonsense

[14:17:03.0000] <itpastorn>
So I guessed

[14:17:04.0000] <Junyor>
what would be the appropriate license for the Opera Acid3 screenshot?

[14:18:00.0000] <itpastorn>
Someone has taken the law into his own hands and uploaded the image already

[14:18:01.0000] <annevk>
Hixie, next week or the week after I'll make the final edits to integrate the header proposal and declare it "done"

[14:18:02.0000] <annevk>
Hixie, thanks btw

[14:18:03.0000] <Hixie>
np

[14:18:04.0000] <itpastorn>
http://en.wikipedia.org/wiki/Image:Operacid3.jpeg

[14:18:05.0000] <Hixie>
i think we need to move forward on xxx and get it to LC/CR asap

[14:18:06.0000] <Hixie>
to take the wind out of xdr's sails

[14:19:00.0000] <annevk>
yes

[14:19:01.0000] <Junyor>
itpastorn: I noticed.  But I can make the full-size available under a CC license.  Unfortunately, I'm not very familiar with the licenses, so I'm not sure what is appropriate

[14:19:02.0000] <Hixie>
cool

[14:19:03.0000] <Hixie>
ok, gotta go

[14:19:04.0000] <Hixie>
bbl

[14:19:05.0000] <Dashiva>
Did you get slashdotted, annevk?

[14:19:06.0000] <itpastorn>
Creative Commons Attribution-ShareAlike 3.0 License.

[14:21:00.0000] <annevk>
Dashiva, I don't think so, it's just dreamhost

[14:21:01.0000] <annevk>
maybe I should register annevankesterenstatus.nl and host it somewhere else :p

[14:21:02.0000] <itpastorn>
Hixie gone? Sub pixels as in http://ejohn.org/blog/sub-pixel-problems-in-css/  ???

[14:22:00.0000] <annevk>
yes

[14:23:00.0000] <itpastorn>
I hope the FFox way will be spec'd

[14:24:00.0000] <gsnedders>
itpastorn: which FF way?

[14:24:01.0000] <Junyor>
itpastorn: so, something like "This screenshot (and the screenshot it links to) are copyright Opera Software ASA and released under the Creative Commons Attribution-ShareAlike 3.0 License" would be accurate?

[14:24:02.0000] <itpastorn>
gsnedders: Round some up and some down

[14:24:03.0000] <itpastorn>
Junyor: yes

[14:24:04.0000] <gsnedders>
itpastorn: at quick glance, FF 2 and 3 are quite different

[14:25:00.0000] <Junyor>
itpastorn: done

[14:25:01.0000] <Junyor>
http://weblog.timaltman.com/archive/2008/03/26/the-acid3-test

[14:26:00.0000] <itpastorn>
Thanks. I'll upload it to WP commons.

[14:26:01.0000] <Junyor>
yw

[14:27:00.0000] <itpastorn>
FFox 3 seems most natural to me.

[14:27:01.0000] <gsnedders>
/me thinks we need to start work on Acid4 now

[14:27:02.0000] <annevk>
 /. are idiots: "Update: 03/26 21:21 GMT by Z : Safari is now at 100%, apparently, with Safari close behind at 98%."

[14:28:00.0000] <gsnedders>
annevk: what do you really expect of /. editors, though?

[14:28:01.0000] <itpastorn>
./ idiots - no way!

[14:28:02.0000] <gsnedders>
they're good at living up to their reputation

[14:29:00.0000] <tomg>
haha

[14:37:00.0000] <virtuelv>
annevk: have you tried ssh-ing in to your server and looked at the load?

[14:38:00.0000] <annevk>
no

[14:39:00.0000] <annevk>
I don't know how that works :)

[14:39:01.0000] <itpastorn>
Out of battery - gotta go! (Brazil won -sigh!)

[14:41:00.0000] <Junyor>
itpastorn: regarding the Acid3 Wikipedia article, it now says the reference screenshot is the only possible correct rendering of the test, but that's not correct

[14:44:00.0000] <hsivonen>
are subpixel text rendering differences allowed or is there more permitted variability?

[14:45:00.0000] <andersca>
Hixie: I wonder if the cache would work well with multipart resources

[14:48:00.0000] <Pavlov_>
hsivonen: the reference for acid3 is a html page that uses whatever text rendering your browser renders it in

[14:49:00.0000] <Pavlov_>
one could argue you should require kerning

[14:49:01.0000] <Pavlov_>
but i don't think antialiasing should matter

[14:55:00.0000] <hsivonen>
Pavlov_: the text does say "pixel for pixel", though.

[14:56:00.0000] <Pavlov_>
pixel to pixel to the reference

[14:56:01.0000] <Pavlov_>
which you have to view in the same browser

[14:57:00.0000] <hsivonen>
whoa! I didn't realize the reference wasn't a bitmap :-)

[15:09:00.0000] <hsivonen>
which browser fails test 99 sanity?

[15:10:00.0000] <annevk>
IE

[15:11:00.0000] <hsivonen>
somehow I'm not surprised

[15:37:00.0000] <annevk>
MULTIFAIL, nice

[15:51:00.0000] <om_hack>
what's MULTIFAIL

[15:52:00.0000] <hasather>
om_hack: http://hsivonen.iki.fi/sampo-epic-multifail/

[15:53:00.0000] <andersca_>
wow

[16:34:00.0000] <Hixie>
what itpastorn linked to is related to what acid3 used to test, but not quite the same

[16:37:00.0000] <Hixie>
hmmmmmmm

[16:37:01.0000] <Hixie>
ok

[16:37:02.0000] <Hixie>
so

[16:37:03.0000] <Hixie>
custom data

[16:38:00.0000] <Hixie>
as in, here's an html element, but it represents something

[16:38:01.0000] <Hixie>
e.g. in a game, it represents a spaceship

[16:38:02.0000] <Hixie>
and the spaceship has certain properties

[16:38:03.0000] <Hixie>
like shield strength or whatever

[16:38:04.0000] <annevk>
<spaceship>

[16:38:05.0000] <annevk>
oh

[16:38:06.0000] <annevk>
role=spaceship

[16:38:07.0000] <Hixie>
well, we have class=spaceship

[16:39:00.0000] <Hixie>
which i think is file

[16:39:01.0000] <Hixie>
fine

[16:39:02.0000] <Hixie>
even

[16:39:03.0000] <annevk>
/me was joking

[16:39:04.0000] <Hixie>
but that doesn't let you specify values

[16:39:05.0000] <annevk>
the second time, that is

[16:39:06.0000] <Hixie>
<div custom:shields=20>

[16:40:00.0000] <Hixie>
with custom: attributes going into http://www.w3.org/ns/private-use-area automatically

[16:40:01.0000] <Hixie>
<div custom-shields=20>

[16:40:02.0000] <Hixie>
with no namespaces, just a prefix

[16:41:00.0000] <Hixie>
the namespaces are good because they work well in svg and mathml too

[16:41:01.0000] <Hixie>
the prefix is good because it gives compat with legacy UAs in the DOM APIs

[16:41:02.0000] <annevk>
and can be made to work with SVG and MathML as well

[16:41:03.0000] <annevk>
they should become more unified anyway

[16:42:00.0000] <annevk>
class=/style= processing, for instance

[16:49:00.0000] <Philip`>
Or <div -custom-shields=20> because that's more like the normal non-standard extension syntax in some places

[16:50:00.0000] <annevk>
but this is a standard extension syntax :)

[16:50:01.0000] <Philip`>
That's '(non-standard extension) syntax', not 'non-standard (extension syntax)' :-)

[16:50:02.0000] <Hixie>
what anne said

[16:50:03.0000] <Hixie>
heh

[16:50:04.0000] <Hixie>
yeah

[16:50:05.0000] <Hixie>
maybe

[16:50:06.0000] <Hixie>
i don't think i want this confused with vendor extensions though

[16:50:07.0000] <Philip`>
The extensions themselves are always going to be non-standard

[16:53:00.0000] <Hixie>
i like the colon in this context, i have to say

[16:53:01.0000] <Philip`>
If it's using namespaces, I hope getAttribute('custom:shields') would still work, since I'd be too lazy to look up the namespace name and remember the getAttributeNS argument order so I'd just use custom-shields instead

[16:53:02.0000] <Hixie>
it wouldn't work

[16:53:03.0000] <Philip`>
Oh

[16:53:04.0000] <Hixie>
i don't know that the svg and math groups would like us just littering all their schemas with custom- attributes

[16:57:00.0000] <Hixie>
i suppose we could make the custom namespace be something simple

[16:57:01.0000] <Hixie>
like 'custom'

[16:57:02.0000] <jgraham__>
/me fears the colon

[16:57:03.0000] <Hixie>
or 'pua'

[16:58:00.0000] <Hixie>
and blow the whole "must be a uri!" malarky

[16:58:01.0000] <annevk>
introducing colons in HTML is a bikeshed

[16:58:02.0000] <jgraham__>
(but only because I think people will expect full namesspaces-in-xml to work in html)

[16:58:03.0000] <Hixie>
i don't think introducing colons in HTML is a bikeshed in the original meaning of the term

[16:58:04.0000] <Hixie>
jgraham__: they'll be sadly disappointed

[16:58:05.0000] <annevk>
i admit defeat :)

[16:59:00.0000] <gsnedders>
I. want. green.

[16:59:01.0000] <annevk>
though I don't like it at all as it makes setAttribute() more complex etc.

[16:59:02.0000] <Philip`>
A bikeshed is just something that you've decided is wrong but don't have a compelling argument for :-)


2008-03-27
[17:00:00.0000] <annevk>
ok

[17:00:01.0000] <annevk>
introducing colons in HTML is wrong

[17:00:02.0000] <Philip`>
Why?

[17:00:03.0000] <Hixie>
he doesn't have a compelling argument

[17:00:04.0000] <Hixie>
didn't we just go through that? :-)

[17:01:00.0000] <jgraham__>
Hixie: So you propose that custom be the only namespace prefix and i only work on attributes, or something else?

[17:01:01.0000] <Hixie>
correct

[17:01:02.0000] <annevk>
heh

[17:01:03.0000] <Philip`>
Just trying to either demonstrate the point or have a counterexample demonstrated :-)

[17:01:04.0000] <annevk>
colon is heavily XML-overloaded

[17:01:05.0000] <annevk>
no need to bring that complexity to HTML

[17:01:06.0000] <Hixie>
if we go with namespaces on attributes, and we _don't_ use the colon, it won't map to XML at all well

[17:02:00.0000] <annevk>
imagine explaining what happens with custom:foobar in a book

[17:02:01.0000] <Hixie>
and frankly, this is an area where i think namespaced attributes are the technically good solution, in the absence of compatibility and usability

[17:02:02.0000] <jgraham__>
So what happens if you want to introduce a new element (obviously there are arguments as to why this might be a bad idea)

[17:02:03.0000] <Hixie>
jgraham__: you use <div> or <span> and give it a class.

[17:02:04.0000] <Hixie>
jgraham__: new "elements" are the easy problem. it's name-value pairs that are hard.

[17:02:05.0000] <annevk>
sounds like an argument for <custom:...>

[17:03:00.0000] <jgraham__>
<div class="canvas">?

[17:03:01.0000] <annevk>
which is a small step away from xmlns:custom=...

[17:03:02.0000] <Hixie>
that wouldn't work, e.g. in tables, if you want to associate stuff with <tr>

[17:03:03.0000] <Hixie>
jgraham__: we're talking about author extensions, not vendor extensions

[17:04:00.0000] <jgraham__>
With scripting the difference between authors and vendors isn't so large

[17:04:01.0000] <Hixie>
large enough for me

[17:04:02.0000] <Hixie>
:-)

[17:05:00.0000] <jgraham__>
I can't say I particularly disagree, but I won't be surprised if others do

[17:05:01.0000] <Hixie>
sure

[17:06:00.0000] <annevk>
having both would work

[17:06:01.0000] <annevk>
custom elements makes sense for XBL

[17:07:00.0000] <Hixie>
why?

[17:07:01.0000] <Hixie>
you mean in the shadow tree?

[17:07:02.0000] <jgraham__>
/me -> bed

[17:07:03.0000] <Hixie>
or for binding

[17:07:04.0000] <Hixie>
for xbl, and for aria for that matter, and libraries, you want to "bind" to the most appropriate html element, so that the document still mostly works without them

[17:07:05.0000] <annevk>
for the bound element

[17:08:00.0000] <annevk>
<spaceship>

[17:08:01.0000] <annevk>
<cart>

[17:09:00.0000] <annevk>
(i'm not sure why <div class=cart> would be better apart from maybe being slightly faster with styling given cached class names)

[17:09:01.0000] <Hixie>
well ideally it wouldn't be <div>

[17:12:00.0000] <Hixie>
man, svg is worthless

[17:12:01.0000] <Hixie>
wtf are the ua conf requirements for <hkern u="">?

[17:12:02.0000] <Hixie>
u1 rather

[17:12:03.0000] <Hixie>
and u2

[17:15:00.0000] <annevk>
I've no idea

[17:27:00.0000] <Hixie>
annevk: yt?

[17:27:01.0000] <Hixie>
annevk: can you check that the build that got 100/100 did go down to 99/100?

[17:28:00.0000] <annevk>
no, but i'm passing on the change madea

[17:28:01.0000] <Hixie>
please do get someone to confirm that the score went down

[17:29:00.0000] <Hixie>
otherwise there's another bug in the test

[17:29:01.0000] <annevk>
kk, i guess i'll hear it at some point

[17:29:02.0000] <Hixie>
thanks

[17:30:00.0000] <annevk>
not exactly day time in Norway :)

[17:30:01.0000] <annevk>
 / Sweden

[17:30:02.0000] <Hixie>
yeah

[17:38:00.0000] <othermaciej>
maybe better here

[17:38:01.0000] <othermaciej>
Hixie: you have to give the EE glyph a glyph-name="EE" too

[17:40:00.0000] <Hixie>
oh

[17:40:01.0000] <Hixie>
so how did opera pass this?

[17:40:02.0000] <Hixie>
that makes no sense to me

[17:40:03.0000] <Hixie>
where do i add this glyph-name thing... hmm...

[17:40:04.0000] <Hixie>
wait, it already has unicode=EE

[17:40:05.0000] <Hixie>
that's not enough?

[17:41:00.0000] <Hixie>
oh that's the kerned version?

[17:41:01.0000] <Hixie>
wait

[17:41:02.0000] <Hixie>
i'm VERY confused now

[17:41:03.0000] <heycam>
Hixie, no it needs an explicit name

[17:41:04.0000] <othermaciej>
the EE glyph spec should be this: e('glyph', { 'unicode': 'EE', 'd': 'M100,0 h100 v-100 h-100 z', 'horiz-adv-x': '1300', 'glyph-name': 'EE'})

[17:41:05.0000] <othermaciej>
the kerning pair references it by name now, not by unicode value

[17:41:06.0000] <othermaciej>
those are separate

[17:41:07.0000] <othermaciej>
(insanely enough)

[17:41:08.0000] <Hixie>
so that's the unicode=EE thing??

[17:41:09.0000] <Hixie>
what

[17:41:10.0000] <Hixie>
rather

[17:41:11.0000] <heycam>
unicode gives the actual characters that map to the glyph

[17:41:12.0000] <othermaciej>
unicode=EE is the chars the glyph mathces

[17:41:13.0000] <heycam>
the name could be anything

[17:41:14.0000] <othermaciej>
but kerning pairs match differently than glyphs

[17:42:00.0000] <othermaciej>
(insanely enough)

[17:42:01.0000] <heycam>
glyph-name="theEEGlyph" e.g.

[17:42:02.0000] <Hixie>
ok fixed

[17:42:03.0000] <Hixie>
so why is u2=EE wrong, given that unicode=EE is ok?

[17:42:04.0000] <Hixie>
u2 is defined in terms of unicode, no?

[17:42:05.0000] <Hixie>
so confused

[17:43:00.0000] <heycam>
no, u2 is a list of characters (and possible ranges) -- it could be "E,U+1234-U+1300"

[17:43:01.0000] <heycam>
iirc

[17:44:00.0000] <heycam>
oh, mistake in the spec

[17:44:01.0000] <heycam>
s/<number>/<character>/g in the u2="" definition

[17:44:02.0000] <annevk>
omg

[17:44:03.0000] <othermaciej>
Hixie: unicode is a string of characters, u2 is a comma-separated list

[17:44:04.0000] <annevk>
/me suggests dropping all SVG tests

[17:45:00.0000] <Hixie>
ok fuck this, we're not adding svg to html5

[17:46:00.0000] <annevk>
lets add svg5

[17:46:01.0000] <othermaciej>
svg fonts are one of the more insane parts

[18:02:00.0000] <Hixie>
gah this custom data thing is dhard

[18:02:01.0000] <Hixie>
it's actually hard to come up with real examples

[18:03:00.0000] <Pavlov_>
er, the test is changing after it was published?

[18:04:00.0000] <Hixie>
to fix bugs that have been found, yes

[18:04:01.0000] <Pavlov_>
thats kind of confusing my brain

[18:04:02.0000] <Pavlov_>
but OK

[18:05:00.0000] <Hixie>
one advantage of not trying to pass the test straight away is that you don't have to worry about such changes :-)

[18:05:01.0000] <Hixie>
it's just like point releases for software

[18:05:02.0000] <Hixie>
for security fixes

[18:05:03.0000] <Hixie>
and stuff

[18:05:04.0000] <Pavlov_>
except it isn't

[18:05:05.0000] <tomg>
Acid3 SP1

[18:05:06.0000] <Pavlov_>
sure

[18:05:07.0000] <Pavlov_>
i'd rev the version

[18:06:00.0000] <Pavlov_>
its just confusing to target one thing and then have it change

[18:06:01.0000] <Hixie>
the target is the spec

[18:06:02.0000] <Hixie>
not the test

[18:06:03.0000] <Hixie>
targetting the test is missing the point

[18:07:00.0000] <Pavlov_>
so everyone has missed the point?

[18:07:01.0000] <Hixie>
that's a common problem

[18:07:02.0000] <Hixie>
the webkit guys haven't been targetting the test, that's why they keep finding the bugs in the test :-)

[18:07:03.0000] <Pavlov_>
adding an idl file to pass the test isn't targetting the test?

[18:07:04.0000] <Hixie>
they've been prioritising passing the test

[18:08:00.0000] <Hixie>
that's not the same as just changing the code to pass the test

[18:08:01.0000] <Hixie>
(which i don't think anyone would actually do, reddit crowd notwithstanding)

[18:12:00.0000] <Hixie>
Philip`: ironically, doing getAttributeNS() is exactly what you say you do (and want to have still work in text/html) in your e-mail http://lists.w3.org/Archives/Public/public-html/2008Mar/0156.html

[18:24:00.0000] <Hixie>
http://wiki.whatwg.org/wiki/CustomData

[19:08:00.0000] <vlad_>
Hixie: what was the acid3 "fix"?

[19:09:00.0000] <vlad_>
is there a revision log somewhere with changes?

[19:17:00.0000] <Nabeel_co>
does Opera fully pass Acid3 now?

[19:18:00.0000] <vlad_>
they did for about 2 hours today

[19:19:00.0000] <Nabeel_co>
i thought there were still some rendering issues.

[19:19:01.0000] <jruderman>
"for about 2 hours"?

[19:20:00.0000] <G0k>
acid tests should be scored as pH

[19:20:01.0000] <Nabeel_co>
acid3 was updated?!?

[19:21:00.0000] <Pavlov_>
again

[19:21:01.0000] <Nabeel_co>
thats what wiki is saying...

[19:53:00.0000] <othermaciej>
http://webkit.org/blog/173/webkit-achieves-acid3-100100-in-public-build/

[19:58:00.0000] <G0k>
so how we doing on acid5?

[20:54:00.0000] <mpt>
/me pre-orders the "Acid5 > Acid2" t-shirt

[20:55:00.0000] <othermaciej>
haha

[21:40:00.0000] <othermaciej>
Hixie: I think we have a rendering pass now

[21:40:01.0000] <othermaciej>
Hixie: but I can't really tell on the animation smoothness

[21:40:02.0000] <othermaciej>
it looks smooth to me in a release build on my MacBook Pro, but I don't exactly have the best calibrated eyeballs

[00:23:00.0000] <hsivonen>
Hixie: umm. the colon is bad exactly for the same reasons it was bad for ARIA

[00:28:00.0000] <Hixie>
i didn't say it was good

[00:28:01.0000] <Hixie>
i haven't found a good solution yet

[00:30:00.0000] <hsivonen>
Philip`'s custom data example was in XML or was it even SVG

[00:30:01.0000] <hsivonen>
the Inkscape cruft and similar happen in SVG trees

[00:30:02.0000] <hsivonen>
where the legacy considerations are differnt from HTML

[00:32:00.0000] <MikeSmith>
/me wonders if hendry is around

[00:44:00.0000] <hsivonen>
hmm. Adobe dilutes the Photoshop brand with a Flash app that is less photoshop-like than competing flash apps...

[01:21:00.0000] <hsivonen>
is it known whether http://www.w3.org/MarkUp/2008/ED-xhtml-role-20080318/ arose of stated use cases?

[01:37:00.0000] <Hixie>
i wish the people who keep saying acid3 doesn't test useful stuff would be more specific about what's not useful

[01:37:01.0000] <Hixie>
sigh

[01:40:00.0000] <othermaciej>
it is edge casey but in many cases that forced us to implement non-edge cases of things too

[01:41:00.0000] <othermaciej>
I do think testing DOM 2 Events is pretty useful, if way belated

[01:41:01.0000] <Hixie>
i think i probably overstepped usefulness with the dom traversal tests

[01:42:00.0000] <Hixie>
but not sure what else to test with it

[05:27:00.0000] <zcorpan>
custom no-namespace attributes starting with underscore or so would be convenient, i think

[05:28:00.0000] <zcorpan>
<img class=reflect _height=25 _ropacity=25>

[05:30:00.0000] <hendry>
MikeSmith: yes?

[05:31:00.0000] <MikeSmith>
hendry - wanted to ask if you knew much about details of JSR 248

[05:32:00.0000] <MikeSmith>
in particular, does it include the location API

[05:32:01.0000] <MikeSmith>
(I forgot what the JSR number for that is)

[05:32:02.0000] <hendry>
MikeSmith: JSR179

[05:33:00.0000] <hendry>
i don't know the details off hand

[05:33:01.0000] <MikeSmith>
OK

[05:33:02.0000] <hendry>
/me is sick at home with flu :/ bit useless today

[05:33:03.0000] <MikeSmith>
The JCP annoyingly only provides specs in PDF form

[05:34:00.0000] <MikeSmith>
I'll quit being lazy and I'll go ahead and download the PDF and see

[05:37:00.0000] <MikeSmith>
hmm

[05:38:00.0000] <MikeSmith>
hendry - it says that JSR 179 is "conditionally mandatory"

[05:38:01.0000] <MikeSmith>
whatever tf that means

[05:39:00.0000] <MikeSmith>
[[

[05:39:01.0000] <MikeSmith>
JSR 179 MUST be implemented if the target device meets at least one of the following

[05:39:02.0000] <MikeSmith>
conditions:

[05:39:03.0000] <MikeSmith>
• The device has a GPS receiver that is able to deliver the geographical coordinates

[05:39:04.0000] <MikeSmith>
within the device

[05:39:05.0000] <MikeSmith>
• The device supports a location method that is capable of delivering the geographical

[05:39:06.0000] <MikeSmith>
coordinates and is used to deliver the coordinates to downloadable applications (in

[05:39:07.0000] <MikeSmith>
Java ME or other runtime platforms)

[05:39:08.0000] <MikeSmith>
• The device supports an accessory device that can be used to obtain geographical

[05:39:09.0000] <MikeSmith>
coordinates, and which is used to deliver the location to downloadable applications

[05:39:10.0000] <MikeSmith>
(in Java ME or other runtime platforms)

[05:39:11.0000] <MikeSmith>
]]

[05:39:12.0000] <MikeSmith>
oops

[05:39:13.0000] <MikeSmith>
sorry

[05:39:14.0000] <MikeSmith>
that was a bit more than I intended to paste..

[05:41:00.0000] <MikeSmith>
so seems, in a nutshell, if any device supports has some kind of location-sensing capability and it claims to comply with JSR 248, then it must support JSR 179

[05:46:00.0000] <MikeSmith>
and my understanding is that JSR 248 is supposed to be sort of the baseline/"lowest common denominator" set of JSRs that Java ME environments should support

[06:29:00.0000] <takkaria>
hmm.  I wonder if the correct way to mark up the term "a priori" is with <i>

[06:44:00.0000] <Philip`>
takkaria: <span lang="la">a priori</a> <style>[lang="la"]{font-style:italic}</style>

[06:45:00.0000] <BenMillard>
Philip`, that doesn't degrade as nicely as <i lang> would when author CSS is not used

[06:46:00.0000] <BenMillard>
both seem fine to me

[06:47:00.0000] <takkaria>
Philip`: hm, interesting

[06:47:01.0000] <takkaria>
I should have thought of lang

[06:47:02.0000] <hsivonen>
Philip`: would you expect a proper Latin pronunciation or an English approximation?

[06:49:00.0000] <Philip`>
BenMillard: But the italic styling is just a presentational effect that is conventional in high-res visual contexts with suitable text rendering, and isn't universally applicable, whereas any UA could process lang=la in a suitable way for its particular medium

[06:50:00.0000] <hsivonen>
Philip`: my point is: is proper Latin pronunciation really the suitable thing for a user whose listening comprehension is calibrated for English?

[06:51:00.0000] <BenMillard>
Philip`, <i> does not preclude UAs doing their own thing: user stylesheets can override the italic with something more approrpriate, although I've no idea what that would be

[06:52:00.0000] <BenMillard>
also, for the languages where <i> is conventional, you don't need "high-res visual contexts which suitable text rendering". for example, Lynx running on a terminal will apply colour rather than italicising

[06:52:01.0000] <BenMillard>
s/which/with

[06:53:00.0000] <Philip`>
BenMillard: <i> doesn't allow UAs to distinguish the Latin italics from the e.g. ship name italics

[06:53:01.0000] <Philip`>
...though I suppose you should use <i lang="la"> then

[06:54:00.0000] <BenMillard>
yes, my suggestion was <i lang> rather than <span lang>. I could have made that clearer :)

[06:54:01.0000] <Philip`>
hsivonen: Hmm, I suppose that's a problem

[06:55:00.0000] <Philip`>
Maybe it should be lang="en-la" or something

[06:55:01.0000] <Philip`>
(though that's probably incorrect usage)

[06:55:02.0000] <BenMillard>
English is a melting pot of lots of languages; I think Latin phrases like which have been in use as long as they have are basically English now

[06:56:00.0000] <Philip`>
BenMillard: There are lots of words that nobody even notices are based on Latin, but there are still words and phrases that people tend to write in italics to indicate that they're foreign

[06:56:01.0000] <BenMillard>
indeed, there are basically 3 categories as I understand it:

[06:57:00.0000] <BenMillard>
1. English words

[06:57:01.0000] <BenMillard>
2. words from other languages commonly used in English and pronounced as English (such as these Latin phrases)

[06:57:02.0000] <BenMillard>
3. foreign words

[06:57:03.0000] <BenMillard>
2. could use <i>foo</i>

[06:58:00.0000] <BenMillard>
3. could use <i lang>foo</i>?

[06:58:01.0000] <takkaria>
the italicising of a priori (et al) seem to me to be equivalent to using scare quotes round a word

[06:58:02.0000] <takkaria>
"Our 'a priori' knowledge of the world..." vs. "Our /a priori/ knowledge of the world..."

[06:59:00.0000] <takkaria>
not necessarily an indication of the source language

[07:00:00.0000] <Philip`>
I think italicising a priori makes it much easier to read, because otherwise I start to read as if it was talking about a priory and then have to backtrack and switch to a pseudo-Latin mode and carry on

[07:00:01.0000] <Philip`>
s/italicising/visually distinguishing in some way/

[07:01:00.0000] <Philip`>
It would be much easier if England hadn't got itself invaded so much

[07:05:00.0000] <BenMillard>
we've avoided that for nearly 1,000 years, IIRC. the source of our diversity is a very long history

[07:54:00.0000] <Camaban>
Philip`: we did our fair share of invading back :)

[07:58:00.0000] <BenMillard>
camaban, yeah and brought even more new words back with us :P

[07:59:00.0000] <Camaban>
and curry

[07:59:01.0000] <Camaban>
mmmm

[08:35:00.0000] <Philip`>
/me sees http://canvex.lazyilluminati.com/misc/cgi/issues.cgi/folder_expand/global-custom pointing to http://www.quirksmode.org/blog/archives/2007/04/html_5.html pointing to http://www.alistapart.com/articles/scripttriggers/ suggesting to use a custom DTD so that custom attributes are valid, which doesn't sound like a good idea

[08:36:00.0000] <Philip`>
Also that last page's custom attributes seem to conflict with WF2, which doesn't sound good either

[08:56:00.0000] <Philip`>
By the way, why does A List Apart say "Was it good for you, too?" at the end of the articles? That really doesn't fit with the style of the site

[10:10:00.0000] <zcorpan>
html5 parsing of <noframes></noframes><frameset>... seems to be incompatible with real pages

[10:27:00.0000] <hendry>
MikeSmith: You're right there

[11:50:00.0000] <mitsuhiko>
Hixie: i think the problem is that Acid3 divided web developers and useres into ie|firefox and webkit|opera ;)  now the mozilla guys have to come up with explanations why they fail the test, and obviously the first one is that acid3 doesn't matter

[11:51:00.0000] <mitsuhiko>
beside that are they correct.  acid3 doesn't matter *as long* as firefox and IE are failing it as they have the lion share of the browser market currently

[11:56:00.0000] <Philip`>
Acid3 only matters if people think it matters - otherwise it's just like any other list of browser bugs that might hang around for years with nobody caring enough to fix them

[11:57:00.0000] <annevk>
same goes for standards in general

[12:01:00.0000] <othermaciej>
major browser vendors saying it doesn't matter does create something of a self-fulfilling prophecy perhaps

[12:01:01.0000] <othermaciej>
still, I think Acid2 ended up mattering, despite being initially downplayed in some quarters

[12:19:00.0000] <Hixie>
zcorpan_: don't want the custom attributes to be _too_ convenient... just more convenient than abusing html and clashing with future extensions

[12:20:00.0000] <BenMillard>
oh, that sounds like the tail end of a conversation I wish I'd been here for. *runs off to the IRC logs*

[12:22:00.0000] <annevk>
there needs to be enough encouragement for people to use them

[12:22:01.0000] <annevk>
custom attributes are causing pain for Web Forms 2 already

[12:22:02.0000] <annevk>
(I didn't see what zcorpan_ said btw)

[12:24:00.0000] <Hixie>
he said to use _foo=""

[12:24:01.0000] <annevk>
wfm, but I wonder if authors would do that correctly

[12:25:00.0000] <annevk>
maybe x-

[12:27:00.0000] <annevk>
nah, dismiss that

[12:27:01.0000] <annevk>
x is experimental, not custom

[12:27:02.0000] <BenMillard>
c-foo?

[12:28:00.0000] <BenMillard>
less characters the better

[12:28:01.0000] <BenMillard>
nearer to other HTML attributes the better

[12:28:02.0000] <Hixie>
custom attribute technique

[12:28:03.0000] <Hixie>
cat-

[12:29:00.0000] <Hixie>
i was also thinking pua-, custom-, private-

[12:29:01.0000] <Hixie>
but all this is moot when you consider that the use case Philip` pointd out is already abuse

[12:30:00.0000] <Hixie>
class="ropacity25"

[12:30:01.0000] <BenMillard>
I remember chatting about this briefly in a taxi with hsivonen during the HTMLWG F2F in Boston 2007

[12:31:00.0000] <BenMillard>
/me is still reading through the log for today

[12:36:00.0000] <BenMillard>
the thing I'm most interested by is removing data from the title attribute and putting it somewhere out of the way

[12:37:00.0000] <BenMillard>
Microformats put various types of data in title which are not human-readable

[12:38:00.0000] <annevk>
fwiw, if there's a lot of deployed content that'd be hard to change

[12:43:00.0000] <BenMillard>
annevk, the Microformats authors generally seem responsive to developments in the formats. so perhaps not impossible

[12:44:00.0000] <BenMillard>
I mean, authors who use Microformats

[12:53:00.0000] <annevk>
k

[12:53:01.0000] <hsivonen>
_foo is ugly but WFM

[12:54:00.0000] <annevk>
-x apparently does not work for XML

[12:54:01.0000] <hsivonen>
I think human-unfriendly data in title is an antipattern

[12:55:00.0000] <hsivonen>
Hixie: Dojo has lots of custom attribute use cases, though I don't expect you to like them :-)

[12:55:01.0000] <Hixie>
yeah, i know

[12:56:00.0000] <Hixie>
custom-foo= or private-foo= seem like the most plausible solutions

[12:57:00.0000] <hsivonen>
"custom-" and "private-" are longish

[12:58:00.0000] <Hixie>
yes

[12:59:00.0000] <mitsuhiko>
annevk: why not :?

[13:00:00.0000] <Lachy>
the problem with custom- and private- prefixes will be getting authors to use them, which will be difficult given their length

[13:01:00.0000] <Hixie>
the problem with _foo is that it's ugly and doesn't convey that it's not really ok

[13:01:01.0000] <mitsuhiko>
(as a python programmer _foo means don't touch it)

[13:02:00.0000] <hsivonen>
I think conveying that you don't think custom attrs are OK by making them suck is not a good policy

[13:02:01.0000] <Hixie>
why not?

[13:02:02.0000] <Hixie>
how else would we do it?

[13:02:03.0000] <Hixie>
and it's not like custom- and private- suck _that_ much

[13:02:04.0000] <Hixie>
no more than _, imho

[13:02:05.0000] <BenMillard>
they are readable, as a pro

[13:03:00.0000] <hsivonen>
Hixie: what's the harm with custom attributes vs. loading script data over, say, XHR?

[13:03:01.0000] <Hixie>
hsivonen: nothing, that's a valid use. the problem is when people start using them for things that should be in html markup

[13:03:02.0000] <annevk>
mitsuhiko, mostly because it clashes with XML

[13:03:03.0000] <Hixie>
e.g. <div class=progress _min=0 _current=5 _max=100></div>

[13:03:04.0000] <annevk>
mitsuhiko, just like starting with -

[13:03:05.0000] <hsivonen>
<html custom-ua-compatible='...'>

[13:04:00.0000] <Hixie>
?

[13:04:01.0000] <annevk>
something IE could do to sneak past validators

[13:04:02.0000] <mitsuhiko>
annevk: xml doesn't disallow : per se, but xmlns aware parsers would probably irk

[13:04:03.0000] <annevk>
mitsuhiko, oh, that may be true, but the world is based on namespace aware parsers :)

[13:05:00.0000] <mitsuhiko>
touche ;)

[13:05:01.0000] <mitsuhiko>
annevk: i did too much wordpress lately

[13:05:02.0000] <mitsuhiko>
they are parsing with regular expressions..

[13:05:03.0000] <Hixie>
and yes, letting vendors invent new values that end up passing through here is another problem

[13:06:00.0000] <hsivonen>
hmm. I think "Required Child Elements" in ARIA means "Only kind of permitted child elements"

[13:07:00.0000] <BenMillard>
annevk, what's the difference between experimental and custom?

[13:07:01.0000] <annevk>
experimental is not conforming

[13:08:00.0000] <BenMillard>
ah, thanks

[13:08:01.0000] <hsivonen>
Experimental is deployed by multiple parties forever. Custom is deployed by a single party.

[13:08:02.0000] <annevk>
true, experimental is generally a bad idea

[13:08:03.0000] <annevk>
imagine having to standardize on <x-canvas>

[13:09:00.0000] <BenMillard>
experimental features which prove useful enough are then standardised as standard features, without experimental syntax, and the people who participated in the experiment update their content?

[13:10:00.0000] <Hixie>
haha

[13:10:01.0000] <hsivonen>
is there existing content with treegrids built out of SVG?

[13:10:02.0000] <Hixie>
BenMillard: precisely. except for the bit where the name changes. :-)

[13:10:03.0000] <Hixie>
actually that's not really fair

[13:10:04.0000] <Hixie>
css has good experience getting names changed after the experimental phase

[13:11:00.0000] <hsivonen>
will be fun to see if MS actually changes any NS URIs in OOXML...

[13:11:01.0000] <annevk>
wow: http://www.paciellogroup.com/blog/?p=50

[13:11:02.0000] <hsivonen>
the reason why I ask about treegrids is that I'm considering sending a comment about optimizing grid and treegrid for <table> and making them <table>-only

[13:14:00.0000] <BenMillard>
hixie, CSS property names and values were examples I was going to give

[13:15:00.0000] <BenMillard>
annevk, what do you find surprising about that piece?

[13:15:01.0000] <jgraham__>
In Steve's blog post, what is a line?

[13:15:02.0000] <annevk>
with CSS it sort of works because of the "error handling" is vastly different

[13:15:03.0000] <annevk>
BenMillard, the way he tries to bash Hixie

[13:16:00.0000] <annevk>
without really good reason, because the case Hixie was talking about doesn't work well by default and the Jaws people actually acted on bug reports done by Hixie

[13:16:01.0000] <jgraham__>
Because if I understand correctly, Jaws sounds, naively, broken by design

[13:17:00.0000] <jgraham__>
(as in, my naive reaction to its behaviour is "that's broken")

[13:18:00.0000] <BenMillard>
yes, I get the feeling they have such a hard time squeezing any amount of accessibility from all the desktop apps and formats their customers what to use that basic "fit and polish" gets a bit neglected

[13:19:00.0000] <BenMillard>
s/what/want

[13:19:01.0000] <jgraham__>
/me seriously hopes the open source screen readers shake up the market

[13:20:00.0000] <BenMillard>
time for dinner, bye all

[13:20:01.0000] <Hixie>
hm, henri once suggested just using script-private="..."

[13:30:00.0000] <hsivonen>
hmm. does VoiceOver have a command "read from this point onwards until I press a key"?

[13:41:00.0000] <Philip`>
Lachy: The only people who will use a specified custom-attribute syntax will be people who care about conformance, because people who don't care can just use anything they like and it'll work just as well; and for the people who do care, they'll do the easiest thing the conformance checker lets them get away with, and 'custom-foo' is easier than adding attributes through script or writing a custom DTD

[13:45:00.0000] <Lachy>
Philip`, it's the ones that don't care about validation that are the problem.

[13:46:00.0000] <Philip`>
Lachy: There's nothing we can do to those people

[13:46:01.0000] <Philip`>
(unless they use libraries written by people who do care)

[13:47:00.0000] <Philip`>
We're not adding any feature, we're just changing conformance, so people who don't care about conformance won't be affected at all

[13:53:00.0000] <Lachy>
Philip`, one of the problems that custom attributes is attempting to solve is reducing the possibility of clashes, especially with future standards.

[13:55:00.0000] <zcorpan_>
css has solved that neatly

[13:55:01.0000] <zcorpan_>
(without namespace indirection)

[13:55:02.0000] <Lachy>
finding a solution that is as easy or easier to use than not using it increases the chance that people who don't care so much about validation will use it

[13:56:00.0000] <Philip`>
zcorpan_: Custom extensions to CSS are useless because they don't do anything at all, which is why nobody does that and there's no problem

[13:56:01.0000] <zcorpan_>
Philip`: there's UA-specific extensions

[13:58:00.0000] <Philip`>
zcorpan_: UA-specific extensions are done by people who know what they're doing and tend to follow guidelines, which is totally different from custom attributes in HTML content

[13:59:00.0000] <zcorpan_>
Philip`: yes, but the same syntax can be used for html nevertheless

[14:01:00.0000] <othermaciej>
I don't know if UA-specific extensions are always done by people who know what they are doing

[14:01:01.0000] <othermaciej>
I mean, look at <canvas>

[14:01:02.0000] <othermaciej>
it would be nice if HTML had a good design for how to do experimental UA-specific extensions

[14:01:03.0000] <othermaciej>
without overconstraining future standards

[14:03:00.0000] <zcorpan_>
but there's no guideline for how to extend html

[14:09:00.0000] <Hixie>
ok so i've been thinking about the author custom data thing

[14:09:01.0000] <Hixie>
it's usually for including data about an element that html has no way to mark up

[14:09:02.0000] <Hixie>
so why not introduce a prefix "data-"

[14:10:00.0000] <Hixie>
as in, <li class="drink" data-alcohol="0.5" data-color="blue"> Antikka </li>

[14:10:01.0000] <Hixie>
we can also add HTMLElement.data as an object that can be indexed to obtain the attributes' values

[14:10:02.0000] <Hixie>
as in, li.data.alcohol, li.data.blue

[14:11:00.0000] <zcorpan_>
doesn't it clash with <object data>?

[14:11:01.0000] <Hixie>
this would not be available on HTMLObjectElement (<object>)

[14:11:02.0000] <hober>
s/blue/color/

[14:11:03.0000] <Hixie>
hober: right, sorry

[14:11:04.0000] <Hixie>
zcorpan_: yeah, wouldn't be available on <object>

[14:12:00.0000] <zcorpan_>
Hixie: that would be bad

[14:12:01.0000] <zcorpan_>
i like the idea though

[14:12:02.0000] <zcorpan_>
just come up with a name that doesn't clash with existing attributes :)

[14:12:03.0000] <Philip`>
'datum'

[14:13:00.0000] <Philip`>
/me hates that word

[14:15:00.0000] <Philip`>
It seems slightly irritating to tell people to use data-foo and .data.foo but then tell them to actually use getAttribute('data-foo') for the next half a decade until browser support has propagated through the market sufficiently

[14:15:01.0000] <zcorpan_>
_foo and getAttribute('_foo') would work for me ;)

[14:15:02.0000] <hober>
what does this do in IE? http://tinyurl.com/2nn5ll

[14:15:03.0000] <zcorpan_>
or -foo or whatever prefix

[14:15:04.0000] <Hixie>
Philip`: well, we just don't mention .data for now

[14:16:00.0000] <zcorpan_>
hober: $ can't be used in xml

[14:16:01.0000] <hober>
figures :(

[14:16:02.0000] <Philip`>
and .data.foo isn't much easier to type, and there are lots more special cases to remember (<div data-var=...>) or to catch you out because you actually won't remember

[14:17:00.0000] <Philip`>
(<div data-mean=... data-var=...> wouldn't be implausible)

[14:17:01.0000] <Philip`>
((or <td> or whatever))

[14:18:00.0000] <Philip`>
Oh, you could just use .data['var'] all the time instead, to avoid the special cases

[14:18:01.0000] <Hixie>
yeah

[14:20:00.0000] <Hixie>
ok well i'm gonna go to work, but unless someone finds a better solution, i'm going with data-*="" and .data[*] (the latter not being available on <object> for historical reasons)

[14:20:01.0000] <Hixie>
bbiab

[14:37:00.0000] <jgraham>
Incidentally, I don't really consider "animation without script" to be a problem description (specifically it needs justification as to why lack of script is a desirable property)

[14:42:00.0000] <hsivonen>
isn't animation without script now in Acid3, so extending it to HTML would make the code needed to pass Acid3 more useful

[14:44:00.0000] <othermaciej>
I think CSS animation is a better way to bring animations without script to HTML

[14:44:01.0000] <othermaciej>
and that does not share all *that* much of the code with SVG (though you can share some of the animation controller back end)

[14:44:02.0000] <Lachy>
hsivonen, what animation in acid3 is done without script?

[14:44:03.0000] <othermaciej>
Lachy: the SVG Animation tests

[14:44:04.0000] <Lachy>
oh, right

[14:44:05.0000] <othermaciej>
(using SVG's SMIL-like animation)

[14:45:00.0000] <jgraham>
hsivonen: That might be tru but it's still not a valid use case for animtion without script

[14:46:00.0000] <othermaciej>
I could imagine a "multimedia" style piece of animated content that was more document-like than app-like

[14:46:01.0000] <hsivonen>
jgraham: is wanting to do Flash-like things without plug-ins more valid?

[14:46:02.0000] <othermaciej>
I could see reasons to want such a thing to want to work without script

[14:46:03.0000] <othermaciej>
Flash-like is of course not very aligned with "without script"

[14:46:04.0000] <jgraham>
hsivonen: you still need to justify "without script"

[14:47:00.0000] <jgraham>
(the common W3C justification is that it's easier to author)

[14:47:01.0000] <hsivonen>
jgraham: I take it that "without Flash" is more justified :-)

[14:47:02.0000] <jgraham>
(but I'm not sure I believe that)

[14:47:03.0000] <jgraham>
hsivonen: without Flash is fine by me :)

[14:55:00.0000] <roc>
sorry for joining late, but did anyone mention that doing animation without script is useful because it lets the user agent control the frame rate and synchronize all running animations at each frame?

[14:56:00.0000] <othermaciej>
animation without script is indeed a case where performance and accuracy can be improved with an approach that isn't all script

[14:56:01.0000] <othermaciej>
(doesn't necessarily need to be "without script", for example, this is still possible if script defines an animation and then fires it to be driven by the UA)

[14:57:00.0000] <roc>
sure

[14:57:01.0000] <othermaciej>
(but I kinda like the CSS declarative model at least for transitions)

[14:57:02.0000] <roc>
so do I

[14:58:00.0000] <othermaciej>
though you can't always trigger the CSS state change without script for all useful cases

[14:58:01.0000] <othermaciej>
but often it only takes a wee little bit of script, and cases like :hover work with no script at all

[14:59:00.0000] <othermaciej>
an equivalent of HTML <button> that can toggle in a way that CSS selectors can see would help many other likely cases be totally script-free

[15:00:00.0000] <roc>
:active doesn't do it?

[15:00:01.0000] <Philip`>
"cases like :hover" - isn't that the only case where you can get anything dynamic?

[15:02:00.0000] <othermaciej>
roc: toggles like a checkbox I mean

[15:02:01.0000] <annevk>
.data sounds like it will clash with existing stuff

[15:02:02.0000] <othermaciej>
not toggles while the mouse is down

[15:02:03.0000] <roc>
ah

[15:03:00.0000] <othermaciej>
<input type="checkbox"> can't have content

[15:03:01.0000] <othermaciej>
so you can't just use that

[15:13:00.0000] <annevk>
Hixie, the Acid3 fix did make us go to 99%

[15:16:00.0000] <heycam>
/me notes that from the acid test correction it looks like i hate svg, which clearly isn't true :)

[15:26:00.0000] <othermaciej>
heycam: I have to give you credit for impressive work with test 79 btw

[15:26:01.0000] <othermaciej>
for WebKit at least it was by far the hardest test to pass

[15:26:02.0000] <othermaciej>
(I say that despite the couple of bugs the test had originally)

[15:29:00.0000] <heycam>
othermaciej, thanks.  though it does stand out somewhat like a sore thumb in amongst the rest of the tests (which are succinct).

[15:30:00.0000] <othermaciej>
heycam: it's fairly succinct, just very tricky

[15:30:01.0000] <gsnedders>
suggestions for better wording for <http://stuff.gsnedders.com/http-parsing.html#anchor5> are welcome

[15:30:02.0000] <othermaciej>
you know, my brain is so warped, that whenever I see the number 5 now I wonder "what spec is that?"

[15:30:03.0000] <heycam>
tricksy svg fontses...

[15:30:04.0000] <othermaciej>
so I was sitting there thinking, "what could Anchor5 possibly be?"

[15:31:00.0000] <gsnedders>
othermaciej: you know what's awesome? At school I'm in Secondary 5 :D

[15:31:01.0000] <hsivonen>
implementing @font-face cross-platform seems impressive Opera is indeed passing Acid3 on multiple platforms

[15:31:02.0000] <gsnedders>
othermaciej: next year of school will suck. Secondary 6 :(

[15:31:03.0000] <hsivonen>
does WebKit implement @font-face using CoreGraphics or MS APIs on Windows?

[15:32:00.0000] <othermaciej>
CG

[15:32:01.0000] <othermaciej>
although, we are also implementing a GDI text path and would like it to support all text features

[15:32:02.0000] <hsivonen>
/me finds it weird that people actually want GDI antialiasing

[15:33:00.0000] <othermaciej>
has Opera been retested against the latest Acid test yet?

[15:33:01.0000] <othermaciej>
hsivonen: you're not the only one :-)

[15:33:02.0000] <annevk>
yes, see my remark above

[15:33:03.0000] <gsnedders>
GDI. Eww.

[15:33:04.0000] <othermaciej>
oh I see

[15:34:00.0000] <othermaciej>
hsivonen: to my eyes CG's text looks way better than ClearType rendering, but clearly not everyone agrees

[15:34:01.0000] <othermaciej>
hsivonen: I should be clear and say we want to support it in the engine, that doesn't necessarily mean it will ever be an end-user UI option

[15:34:02.0000] <roc>
I would have thought implementing SMIL was more work than SVG fonts

[15:34:03.0000] <annevk>
WebKit hasn't exactly implemented SMIL

[15:34:04.0000] <othermaciej>
we didn't need to add as much to our partial SMIL implementation as we did to our partial SVG font implementation

[15:35:00.0000] <othermaciej>
(partly because the test was less rigorous)

[15:35:01.0000] <roc>
don't tell me you implemented just enough to pass the test!

[15:35:02.0000] <othermaciej>
we turned on what we had ifdef'd out

[15:35:03.0000] <hsivonen>
I don't like GC's "Flat Panel" anti-aliasing, so I run in the CRT anti-aliasing mode on a flat panel

[15:35:04.0000] <othermaciej>
added enough to pass the test

[15:35:05.0000] <othermaciej>
and will probably add more

[15:35:06.0000] <hsivonen>
s/GC/CG/

[15:35:07.0000] <gsnedders>
hsivonen: I've used the flat panel AA for years, and never had any compliants

[15:36:00.0000] <gsnedders>
it's so subjective, though

[15:36:01.0000] <roc>
hmm

[15:36:02.0000] <othermaciej>
I don't think our svg text implementation is 100% complete either but it is still useful

[15:36:03.0000] <annevk>
from the official test suite WebKit passes exactly 1 test per some blog

[15:36:04.0000] <annevk>
SMIL test suite ^^

[15:37:00.0000] <annevk>
(well, SVG Animation)

[15:37:01.0000] <roc>
I sure hope you're going to round out to some reasonable functionality subset before you shipa  release

[15:37:02.0000] <Philip`>
/me imagines sub-pixel font rendering depends a lot on the physical size of a pixel and how far you are from the screen

[15:37:03.0000] <othermaciej>
until recently I think we may have passed close to 0 of SVG's official text tests

[15:37:04.0000] <gsnedders>
(does anyone have any suggestions about the wording in the above http-parsing draft?)

[15:37:05.0000] <othermaciej>
because every test includes at least one weird thing

[15:37:06.0000] <othermaciej>
now I think we arguably pass a fair number

[15:37:07.0000] <gsnedders>
Philip`: and also your eye-sight

[15:38:00.0000] <othermaciej>
we'd still fail anything that did vertical text layout and had custom per-glyph vertical advances

[15:38:01.0000] <othermaciej>
roc: me too - we had it off before in part because it was not yet a useful subset

[15:38:02.0000] <othermaciej>
(and in part because we were unsure about stability)

[15:38:03.0000] <Philip`>
gsnedders: Oh, I forgot about that

[15:38:04.0000] <gsnedders>
Philip`: which is why it is really subjective

[15:38:05.0000] <roc>
well I hope the drive for acid3 hasn't overridden your better judgement

[15:38:06.0000] <Philip`>
gsnedders: Not if you think your subjects are just objects

[15:39:00.0000] <gsnedders>
Philip`: I'm a person, not an object!

[15:39:01.0000] <Philip`>
gsnedders: A person is just a object :-p

[15:39:02.0000] <gsnedders>
Philip`: class Person?

[15:39:03.0000] <Philip`>
s//n/

[15:39:04.0000] <othermaciej>
roc: our normal judgment would be to allow partial features to be on by default on trunk, as long as they are being maintained and improved

[15:39:05.0000] <othermaciej>
(and aren't huge stability/security risks)

[15:40:00.0000] <othermaciej>
also when we turned it on we thought we'd have to patch it more to pass the test

[15:40:01.0000] <Hixie>
annevk: k thanks

[15:40:02.0000] <gsnedders>
Philip`: class gsnedders(Person):

[15:40:03.0000] <roc>
ok

[15:40:04.0000] <othermaciej>
we do sometimes turn things off on a branch if they seem to be a subset that will "poison the well" for the feature

[15:41:00.0000] <othermaciej>
(kind of like Firefox 3 turning off cross-site XHR, though I'm not sure I entirely agree with the reasoning on turning it off in that case)

[15:42:00.0000] <roc>
we agonized over several such decisions

[15:42:01.0000] <hsivonen>
/me hopes PDF has already exposed all the security holes there are to expose with untrusted TrueType hints

[15:42:02.0000] <roc>
that's not clear

[15:42:03.0000] <roc>
the Web is a more effective attack vector than Word docs or PDF docs

[15:42:04.0000] <roc>
we're worried about it

[15:43:00.0000] <othermaciej>
Apple's security guys agreed that @font-face doesn't create new exposure that PDF didn't already (since we have native PDF support, at least on Mac)

[15:43:01.0000] <Philip`>
I guess Acrobat has its own TTF code and doesn't rely on other libraries?

[15:43:02.0000] <Philip`>
(so it would still be a security risk if a browser did rely on libraries that weren't already used for PDF)

[15:43:03.0000] <roc>
Freetype and GDI are definitely exposed via PDF and Word respectively

[15:44:00.0000] <roc>
but that may not be enough to satisfy

[15:44:01.0000] <othermaciej>
GDI is also exposed via IE's @font-face

[15:44:02.0000] <othermaciej>
(EOT only, but I assume that can include the hints)

[15:45:00.0000] <Philip`>
Exposure doesn't mean there aren't lots of significant flaws, so I suppose it doesn't help all that much

[15:45:01.0000] <roc>
othermaciej: yes, good point

[15:45:02.0000] <othermaciej>
what matters is whether it has been meaningfully analyzed and tested, and whether the responsible party, if a third party, is committed to fixing vulnerabilities in a timely manner

[15:47:00.0000] <Philip`>
What matters more is whether the programmers were any good at security or not :-)

[15:50:00.0000] <roc>
well that rules out GDI

[15:50:01.0000] <Philip`>
/me doesn't have great faith in popular software or their programmers, after finding AWStats blatantly doing 'eval("some_function_$some_direct_user_input_string")' which allowed arbitrary code execution

[15:51:00.0000] <hsivonen>
FreeType has the advantage of not running font-provided hints

[15:51:01.0000] <Philip`>
hsivonen: Depends on how it's compiled

[15:51:02.0000] <hsivonen>
(under normal U.S.-compliant configurations)

[15:52:00.0000] <Philip`>
/me wonders how many people use normal U.S.-compliant configurations

[15:52:01.0000] <roc>
haven't those patents expired yet?

[15:52:02.0000] <Philip`>
http://freetype.sourceforge.net/patents.html says 1989 and 1992

[15:55:00.0000] <hsivonen>
patents should require the "apparatus" to be something more novel than a Turing-complete computer

[15:55:01.0000] <Hixie>
woah, the whatwg "html5" page is back up to 3rd spot on google

[15:55:02.0000] <Hixie>
sweet

[15:55:03.0000] <Hixie>
i didn't even have to go bribe anyone in the web search team

[15:55:04.0000] <annevk>
:p

[15:55:05.0000] <hsivonen>
Hixie: depends on local version, it seems

[15:55:06.0000] <annevk>
it's 1st for me btw

[15:55:07.0000] <hsivonen>
whatwg.org is today #1 in .fi

[15:55:08.0000] <Hixie>
cool

[15:55:09.0000] <Philip`>
/me sees that Gentoo compiles Freetype with the patenting hinting, unless you're building a distributable binary package

[15:56:00.0000] <Hixie>
may be just personalised results

[15:56:01.0000] <roc>
It's #1 in .au

[15:56:02.0000] <Philip`>
hsivonen: Including if you don't have Google-cookies?

[15:56:03.0000] <annevk>
hmm, as in, Google thinks I prefer WHATWG over W3C? :D

[15:56:04.0000] <othermaciej>
Hixie: they're probably just counting on you to inject their evil bloatware pet features directly into the HTML5 spec

[15:56:05.0000] <hsivonen>
Philip`: I thought I had the tinfoil hat on

[15:56:06.0000] <Philip`>
It's first and third for me in different browsers

[15:56:07.0000] <Hixie>
oh wow. whatwg is first in the normal results

[15:56:08.0000] <Hixie>
but w3c is first when i'm logged in

[15:56:09.0000] <Hixie>
hahaha

[15:56:10.0000] <Hixie>
google thinks i prefer the w3c to the whatwg

[15:56:11.0000] <Hixie>
that is funny as hell

[15:56:12.0000] <othermaciej>
google personalization fails

[15:57:00.0000] <annevk>
lol

[15:57:01.0000] <Philip`>
Maybe it knows you've already got bookmarks to the WHATWG and so you don't need even more ways to access it

[15:57:02.0000] <Hixie>
haha

[16:00:00.0000] <hsivonen>
hmm. google.fi has become less country-biased on my ego search

[16:00:01.0000] <Philip`>
/me imagines SEO people aren't so happy about personalised results, because it's kind of hard to sell definite results

[16:00:02.0000] <hsivonen>
I used to be famous for totally different things on .fi and on .com

[16:01:00.0000] <Philip`>
Better than not being famous at all

[16:01:01.0000] <roc>
grrr

[16:02:00.0000] <roc>
My war with Eminem has no end ... http://www.google.com.au/search?q=I'm+back

[16:03:00.0000] <hsivonen>
zeldman is still in the lead: http://www.google.com/search?q=doctype

[16:03:01.0000] <othermaciej>
roc: are you the real Slim Shady?

[16:05:00.0000] <roc>
your sophisticated hip-hop references are lost on me

[16:07:00.0000] <Hixie>
you'd think that chris and dan would have given up on the html telecons by now

[16:08:00.0000] <othermaciej>
heh

[16:08:01.0000] <Hixie>
there are three people on the call. a chair, a w3c staff contact (who has no choice), and someone who just dropped off, who i think is laura

[16:09:00.0000] <Dashiva>
How many active on IRC?

[16:09:01.0000] <Hixie>
four

[16:09:02.0000] <Hixie>
two of which are IRC bots

[16:10:00.0000] <Philip`>
Sounds like the bots are beginning to take over

[16:10:01.0000] <Hixie>
strange place to start

[16:10:02.0000] <Hixie>
the htmlwg telecons :-)

[16:10:03.0000] <Philip`>
When humans succumb to apathy, their creations will rule the world

[16:12:00.0000] <Hixie>
six people active!

[16:12:01.0000] <Hixie>
well, four, and two bots

[16:12:02.0000] <Hixie>
the other two people being anne and myself, who apparently were both watching!

[16:13:00.0000] <Philip`>
/me wonders why users who explicitly disable significant browser features should expect a good user experience

[16:14:00.0000] <Hixie>
hm?

[16:15:00.0000] <Philip`>
(Recent public-html email)

[16:15:01.0000] <Hixie>
ah

[16:29:00.0000] <Dashiva>
Philip`: Disabling scripting actually improves the user experience on some sites :)

[16:39:00.0000] <gsnedders>
It breaks a grand total of nothing on my site.

[16:40:00.0000] <gsnedders>
But there again, I see no need for scripting on my site.


2008-03-28
[17:16:00.0000] <Hixie>
maybe instead of .data['foo']

[17:16:01.0000] <Hixie>
we should have .getData('foo')

[17:16:02.0000] <Hixie>
but then it's not much better than .getAttribute('data-foo') anyway

[17:19:00.0000] <annevk>
.dataset.foo

[17:20:00.0000] <Hixie>
the advantage of .data.foo is that we could provide .data.foo.has('foo')

[17:20:01.0000] <Hixie>
or .data.foo.asList(',')[0] if it's a comma separated list or something

[17:20:02.0000] <Hixie>
i guess that'd just be .data.foo.split(',')

[17:21:00.0000] <Hixie>
i should look at the dojo source

[18:06:00.0000] <eseidel>
othermaciej, Hixie: continueing from #webkit..

[18:06:01.0000] <eseidel>
so you do you have an opinion on postMessage sync behavior?

[18:07:00.0000] <eseidel>
as I was saying in #webkit, I think sync is broken/bad for browsers

[18:07:01.0000] <Hixie>
i don't have any strong opinions

[18:07:02.0000] <Hixie>
i don't recall why we did it synchronous

[18:07:03.0000] <eseidel>
Hixie: my issue is in the scrollback of #webkit.  but basically, postMessage being sync seems like it could cause issues for FF or Safari, once they land squirrel fish

[18:08:00.0000] <othermaciej>
I don't think postMessage being sync creates implementation-specific issues

[18:08:01.0000] <eseidel>
since with suspendable js, tabs can be running js in parallel

[18:08:02.0000] <Hixie>
wtf is squirrel fish

[18:08:03.0000] <eseidel>
Hixie: yet-another-re-write of the js interpreter

[18:08:04.0000] <othermaciej>
I'm also not sure we'd ever support different tabs running JS in parallel if it can be observed

[18:09:00.0000] <othermaciej>
it's our silly code name for a JS refactoring branch

[18:09:01.0000] <eseidel>
well, back to the basic issue.  tab opens another tab.  first tab posts to the second, second tab hangs

[18:09:02.0000] <othermaciej>
async feels right and works better if it is likely postMessage sequences will involve lots of replies back and forth

[18:09:03.0000] <othermaciej>
I can't really argue for it more than that

[18:09:04.0000] <eseidel>
assuming JS isn't run in teh UI thread

[18:09:05.0000] <eseidel>
which was always my point with bytecode work

[18:10:00.0000] <Hixie>
well i'm certainly ok with changing it

[18:10:01.0000] <eseidel>
I wanted an interruptable interpreter

[18:10:02.0000] <Hixie>
but i guess it depends on the browsers

[18:10:03.0000] <othermaciej>
keep in mind, if two windows are same domain they can call each other directly

[18:10:04.0000] <Hixie>
postMessage() has change a dozen times already

[18:10:05.0000] <othermaciej>
without postMessage

[18:10:06.0000] <Hixie>
the mozilla guys will kill me if it changes again

[18:10:07.0000] <othermaciej>
in Safari we turned it off for 3.1 due to spec changes

[18:10:08.0000] <eseidel>
othermaciej: so maybe i'm missunderstanding it.  maybe it's when two tabs are opened independantly

[18:10:09.0000] <othermaciej>
I would not be against making it async

[18:10:10.0000] <othermaciej>
I don't feel strongly

[18:11:00.0000] <othermaciej>
eseidel: to use postMessage you still need a reference to the other window object

[18:11:01.0000] <othermaciej>
the only new thing it opens up is that this can be cross-domain

[18:13:00.0000] <dglazkov>
the async spec is what Hixie was working on?

[18:13:01.0000] <Hixie>
yeah there is an async message thing i'm working on too

[18:13:02.0000] <Hixie>
but that's separate really

[18:13:03.0000] <Hixie>
window.postMessage could be sync or async independent of this

[18:14:00.0000] <dglazkov>
http://hixie.ch/specs/dom/messages/0.9

[18:14:01.0000] <Hixie>
right

[18:14:02.0000] <aroben>
eseidel: what issues do you see that are unique to postMessage?

[18:17:00.0000] <eseidel>
you reply to a postMessage w/ another yes?

[18:17:01.0000] <eseidel>
if that's the case, than any time you reply, you're likely to get hung

[18:18:00.0000] <eseidel>
I guess we could add a timeout

[18:18:01.0000] <eseidel>
but postMessage feels very UDP to me

[18:18:02.0000] <othermaciej>
I see, that's essentially passing file descriptors over sockets

[18:18:03.0000] <othermaciej>
(in unix systems programming terms)

[18:18:04.0000] <othermaciej>
eseidel: you don't have to reply synchronously, though it does offer the API to do so

[18:18:05.0000] <eseidel>
you don't wait for your UDP response packet (since it returns void) :)

[18:19:00.0000] <othermaciej>
eseidel: you can store the source window instead and message it later at a time of your choosing

[18:19:01.0000] <eseidel>
honestly, the UDP comparison is what sells it for me

[18:19:02.0000] <eseidel>
if postMessage had a return value, I'd understand

[18:19:03.0000] <eseidel>
(and that would force it to be sync)

[18:19:04.0000] <eseidel>
but it's a UDP send call, that's all

[18:20:00.0000] <eseidel>
ok, time to mail the list

[18:20:01.0000] <eseidel>
/me just sees postMessage as causing all sorts of deadlocks as-is

[18:20:02.0000] <eseidel>
list-posting post salsa-class however...

[18:20:03.0000] <annevk>
now in general dispatching events is synchronous

[18:21:00.0000] <annevk>
so making it async here doesn't make much sense to me

[18:21:01.0000] <othermaciej>
postMessage is not like UDP

[18:21:02.0000] <othermaciej>
it is not intended to be an unreliable transport

[18:21:03.0000] <othermaciej>
I do think that "message passing" often implies asynchrony

[18:23:00.0000] <annevk>
http://www.w3.org/mid/083D18C6B9B71F4CBCA7B76D97B7483102C681BD21⊙Nwwnmc ... I hope he follows that e-mail with one that addresses the concerns raised.

[18:24:00.0000] <othermaciej>
I'm still waiting for specifics on the security claims

[18:24:01.0000] <Hixie>
you won't get any

[18:24:02.0000] <eseidel>
othermaciej, annevk: so what happens when you message to a frame who is spinning/locked/whatever?

[18:24:03.0000] <othermaciej>
eseidel: in Safari at least, frames do not have separate threads of control

[18:24:04.0000] <othermaciej>
so it is not a meaningful question

[18:26:00.0000] <eseidel>
othermaciej: I guess that's true.  gmail runs in the background via settimeout, refresh, etc. but when it hangs, it has already brought down the frame which was trying to talk to it

[18:27:00.0000] <eseidel>
anyway, I've got to run

[18:28:00.0000] <eseidel>
/me wonders what other pieces of HTML5 will strike him as broken

[18:28:01.0000] <eseidel>
;)

[19:09:00.0000] <Hixie>
man, why does <object> use data="" instead of src=""

[19:09:01.0000] <Hixie>
that's so dumb

[19:11:00.0000] <othermaciej>
it is

[19:12:00.0000] <othermaciej>
one of the dumber things about it

[19:18:00.0000] <Hixie>
i wonder if we can just get away with not having data-* on <object>

[19:18:01.0000] <Hixie>
or if we should just use another DOM name

[19:18:02.0000] <Hixie>
like anne's "dataset" suggestion

[19:22:00.0000] <othermaciej>
that's not bad

[19:22:01.0000] <othermaciej>
or maybe Data Access for Rich Internet Applications - daria

[21:02:00.0000] <BenMillard>
just to add another syntax suggestion to the custom data brew, how about meta="foo" with meta="bar:baz quux:quuz" for multiple pairs and replace ".data" with ".meta" for the DOM suggestions?

[21:11:00.0000] <BenMillard>
a single custom attribute for all custom data seems neater in some respects than an unrestricted number of custom attributes

[21:12:00.0000] <BenMillard>
the "meta" attribute name sort of complements the <meta> element name and they have a similar purpose

[21:13:00.0000] <BenMillard>
it's slightly fewer keystrokes for authors and slightly fewer bytes to transfer

[21:15:00.0000] <BenMillard>
meta="bar:baz" would be for a value whose key couldn't be determined from the element or context around that element

[21:28:00.0000] <BenMillard>
authors concerned about the accessibility and usability of data in title attributes have discussed solutions on Accessify Forums previously, so I've linked them to the recent IRC logs and am now linking you to them: http://www.accessifyforum.com/viewtopic.php?p=59246#59246

[23:45:00.0000] <Hixie>
i "transclution" a word?

[23:45:01.0000] <Hixie>
the fourth hit on google for that word is an e-mail i wrote

[23:45:02.0000] <Hixie>
and there are less than 100 hits

[23:45:03.0000] <Pavlov>
m-w.com?

[23:45:04.0000] <Hixie>
which leads me to suspect it's not

[23:45:05.0000] <Hixie>
but i don't know what the word would be

[23:46:00.0000] <Hixie>
Pavlov: m-w.com doesn't have it

[23:47:00.0000] <jruderman>
i think the word you are looking for is "transclusion"

[23:48:00.0000] <Hixie>
yes, so it seems

[23:48:01.0000] <Hixie>
thanks

[23:48:02.0000] <Hixie>
doesn't come up in m-w.com either, of course

[23:53:00.0000] <Hixie>
http://wiki.whatwg.org/wiki/New_Vocabularies has some solutions on it now

[00:05:00.0000] <mitsuhiko>
data is a good word

[00:12:00.0000] <mitsuhiko>
i really hope that ie8 is a joke

[00:13:00.0000] <mitsuhiko>
interestinly ie 6 renders better than ie8 when it comes to what we do

[01:16:00.0000] <hsivonen>
Does anyone have experience on how much time it takes to get things running in Amazon EC2?

[02:26:00.0000] <virtuelv>
Hixie: am I missing something, or is an explanation of what the dirty* arguments to putImageData are missing?

[02:57:00.0000] <hsivonen>
http://www.w3.org/TR/2008/WD-wai-aria-primer-20080204/#alookahead

[03:00:00.0000] <zcorpan>
hsivonen: that section confuses me

[03:01:00.0000] <hsivonen>
there's no good reason why certain bits of HTML5 could not be implemented in the same schedule as some bits of ARIA

[03:02:00.0000] <zcorpan>
but the group seems to care more about getting to LC than getting implementations...

[03:03:00.0000] <zcorpan>
(at least that's the impression i get)

[03:03:01.0000] <hsivonen>
do PFWG specs need two interoperable impls to advance to REC?

[03:04:00.0000] <zcorpan>
no idea

[03:33:00.0000] <hsivonen>
aaargh. annoying. The XPath attribute thingy requires quotes where CSS attribute selectors work without quotes

[03:44:00.0000] <hsivonen>
hmm. ../../ doesn't appear to actually work...

[05:39:00.0000] <Lachy>
Hixie, yt?

[05:41:00.0000] <Lachy>
Hixie, can you zip up a copy of acid3 and all support files for me? The last copy you sent me seems to be a bit out of date and some tests aren't working properly.

[06:03:00.0000] <hsivonen>
hmm. I have now sent 44% of all-time messages to public-pfwg-comments

[06:07:00.0000] <zcorpan>
hsivonen: interesting

[06:09:00.0000] <hsivonen>
which makes me wonder where all the comments from accessibility professionals are

[06:09:01.0000] <Philip`>
Maybe some are on non-public lists?

[06:14:00.0000] <hsivonen>
Philip`: surely all the pros aren't members of the secret list. (then there's wai-xtech, but I'm not seeing much spec review in the archives)

[06:16:00.0000] <zcorpan>
i haven't seen much spec review at all

[06:16:01.0000] <zcorpan>
it's also not so easy to review the spec, since it's impossible to do diffs

[06:16:02.0000] <hsivonen>
/me is just getting more grumpy when diving deeper into HTML5/ARIA integration issues

[06:16:03.0000] <zcorpan>
(unless you're an editor or in w3c staff or something)

[06:17:00.0000] <zcorpan>
i'll work on  writing test cases for aria combined with native html semantics soonish

[06:18:00.0000] <zcorpan>
(i have no idea about pass conditions yet so they'll be demos initially)

[06:18:01.0000] <zcorpan>
i also don't know how to automate aria tests

[06:18:02.0000] <zcorpan>
i've heard it should be possible somehow

[06:18:03.0000] <hsivonen>
I think I'm just going to deploy an iteration of Validator.nu with part of the conformance reqs pulled out of my sleeve

[06:19:00.0000] <zcorpan>
that would be cool

[06:19:01.0000] <zcorpan>
hsivonen: btw, the conformance stuff is updated in the Member-only draft

[06:20:00.0000] <hsivonen>
zcorpan: I had a quick look, and it didn't seem to address major issues. I keep reading the public draft otherwise in order to avoid leaking secrets in the Validator.nu SVN repo

[06:21:00.0000] <hsivonen>
It would be nice if the PFWG made their Editor's Drafts public

[06:21:01.0000] <zcorpan>
i agree

[06:21:02.0000] <zcorpan>
i don't get the impression that anything is intended to be secret

[06:22:00.0000] <zcorpan>
it's just behind closed doors due to cargo cult

[06:22:01.0000] <zcorpan>
or at least that's what i want to believe

[06:42:00.0000] <virtuelv>
for what it's worth, http://labs.opera.com/news/2008/03/28/

[06:43:00.0000] <virtuelv>
100/100, pixel perfect

[06:44:00.0000] <Philip`>
/me thinks Acid3's definition of "pass" is too subtle

[06:44:01.0000] <Philip`>
since 100/100 isn't enough to pass, and being pixel-perfect to the reference isn't either

[06:45:00.0000] <virtuelv>
Philip`: thinking of the performance stuff?

[06:46:00.0000] <Philip`>
virtuelv: Yes

[06:47:00.0000] <hsivonen>
Safari's perf side wasn't smooth on my Mac

[06:47:01.0000] <virtuelv>
Philip`: clicking the "A" reveals it, but I agree -- it's too subtle

[06:47:02.0000] <hsivonen>
but it was a lot smoother on reload (but still not smooth)

[06:47:03.0000] <virtuelv>
which, I think is why we added that extra instruction to the build notice

[06:48:00.0000] <Philip`>
Particularly with people competing to be the first to 'pass', it's really not helpful if passing is partly subjective or depends on hardware and network conditions

[06:50:00.0000] <hsivonen>
does Opera on Linux and Windows use the system TTF rasterizer?

[06:57:00.0000] <virtuelv>
hsivonen: I'll have to admit to being a bit unsure about what we do on every platform

[06:58:00.0000] <hsivonen>
virtuelv: ok. (the OS X builds appear to use the same TrueType rendering code path as Firefox 3)

[07:42:00.0000] <BenMillard>
zcorpan, section 6 confuses me as well

[07:42:01.0000] <BenMillard>
the "WCAG 1.0 Style Accessibility" could use a nested list to convey depth

[07:43:00.0000] <BenMillard>
the alt on the image for the + and - symbols could say "Expanded" or "Closed"

[07:43:01.0000] <BenMillard>
position would also be handled by using a nested list, AFAICT

[07:45:00.0000] <BenMillard>
upon expanding part of the tree, the number of items in that branch would become apparent by counting the <li>

[07:46:00.0000] <BenMillard>
you could use title="4 items" when a branch is closed

[07:47:00.0000] <hsivonen>
BenMillard: a screen reader saying "item two of fifteen" is chrome but title='' is content

[07:49:00.0000] <BenMillard>
according to that document: "Description/Help:   Limited to HTML 4.0 - Alt Text, title text"

[07:55:00.0000] <Lachy>
othermaciej, does apple have any selectors api test cases to contribute to the test suite, which I need to start creating very soon?

[08:00:00.0000] <BenMillard>
hsivonen, I agree that title="Item x of y" on every item is unnecessary.

[08:01:00.0000] <BenMillard>
I think I've misunderstood their example. I thought aria-setsize="4" meant how many items were contained by the current item, but it actually seems to be the number of items in that level of the tree

[08:01:01.0000] <BenMillard>
so you don't need title for that

[08:03:00.0000] <hsivonen>
BenMillard: my point is that "item x of y" should probably be read in the chrome voice in screen readers that distinguish between content and chrome (like VoiceOver)

[08:04:00.0000] <hsivonen>
OTOH, untrusted content shouldn't be able to feed arbitrary text to the chrome voice for security reasons

[08:05:00.0000] <BenMillard>
if it were marked up as a nested list, announcements like that can be figured out by the screen reader without authors adding additional information

[08:05:01.0000] <BenMillard>
(or marked up as a new HTML form control)

[08:06:00.0000] <BenMillard>
aria-posinset and aria=setsize are made redundant by the structure of the markup if sensible elements are used as the basis, afaict

[08:08:00.0000] <hsivonen>
BenMillard: to me, aria-posinset and aria-setsize seem mostly redundant with native semantics, yes

[08:08:01.0000] <hsivonen>
BenMillard: if you are browsing a huge webmail inbox, it could make sense to allow a grid widget declare its starting offset, though

[08:18:00.0000] <BenMillard>
hsivonen, that makes sense. information like that can help everyone, so it might even be visible: "Messages 200-250 of 1,000"

[08:19:00.0000] <hsivonen>
BenMillard: I suggest posting your points about the setsize/posinset stuff to public-pfwg-comments

[08:20:00.0000] <BenMillard>
okies, I'll do that now

[09:10:00.0000] <othermaciej>
Lachy: I'm sure we have at least a couple, I'll ask around

[09:13:00.0000] <Lachy>
othermaciej, thanks

[10:03:00.0000] <BenMillard>
I've sent feedback: http://lists.w3.org/Archives/Public/public-pfwg-comments/2008JanMar/0100.html

[16:02:00.0000] <Hixie>
i've updated http://wiki.whatwg.org/wiki/New_Vocabularies with some obvious ideas

[16:02:01.0000] <Hixie>
like embedding MathML and SVG in HTML using extensions to the parser

[16:03:00.0000] <Hixie>
and have marked which requirements get met by those solutions

[16:10:00.0000] <hsivonen>
what's the deal with the XHTML2/Forms WG CSS namespace objection?

[16:10:01.0000] <Hixie>
hm?

[16:12:00.0000] <Hixie>
i wonder if i can get the "Maintainability" requirement for equations by defining enough clever parsing rules, or if that really just makes it worse

[16:14:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-style/2008Mar/0417.html Why are the XHTML2 and Forms WGs suddenly interested in *removing* CSS namespace syntax? 

[16:15:00.0000] <hsivonen>
Hixie: my guess is on makes it worse

[16:16:00.0000] <Hixie>
yeah i figure worse too

[16:16:01.0000] <Hixie>
can't see how else to make mathml maintainable, though, and latex in html just has so many other problems...

[16:17:00.0000] <Hixie>
hahaha

[16:17:01.0000] <Hixie>
they're using process issues on the css group

[16:17:02.0000] <Hixie>
that's funny

[16:17:03.0000] <annevk2>
it's annoying

[16:17:04.0000] <annevk>
but not that bad

[16:17:05.0000] <Hixie>
it's easy to ignore :-)

[16:17:06.0000] <hsivonen>
but why are the XHTML2 and Forms WGs suddenly so interested in backwards compat axioms?

[16:18:00.0000] <hsivonen>
in a CSS feature that was added for the kinds of languages those WGs are specifying

[16:18:01.0000] <Hixie>
because they got the wrong lesson from html5

[16:19:00.0000] <Hixie>
same way that the css group thinks that being transparent is the lesson one should learn from html5

[16:19:01.0000] <hsivonen>
Hixie: surely being transparent is *one* of the lessons?

[16:20:00.0000] <Hixie>
being transparent is a side-effect of soliciting feedback from all sources and attempting to address everyone's feedback

[16:38:00.0000] <jgraham>
Hixie: Re: maths I think this is one case where "the tools will save us" might be the most convincing argument (since *TeX in HTML doesn't make sense and MathML is so impossible to hand author)

[16:38:01.0000] <jgraham>
But it would be interesting to know what the MathWG think

[16:38:02.0000] <hsivonen>
Markdown+iTeX2MML

[16:39:00.0000] <Hixie>
the math wg sent their input to the whatwg list

[16:39:01.0000] <Hixie>
er

[16:39:02.0000] <Hixie>
the public-html list

[16:39:03.0000] <jgraham>
I have vague memories that they had plans for a human-editable MathML syntax

[16:39:04.0000] <jgraham>
Hixie: In more detail than that post

[16:40:00.0000] <jgraham>
(which I thought was very positive as they are willing to have text/html compatible parsing rules for MathML without a fight)

[16:40:01.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-html/2008Mar/0255.html

[16:40:02.0000] <Hixie>
(for those who care)

[16:40:03.0000] <Hixie>
jgraham: yeah

[16:40:04.0000] <Hixie>
jgraham: dunno

[16:40:05.0000] <nickshanks>
does webkit support calc() in CSS?

[16:41:00.0000] <nickshanks>
oops, wrong tab

[16:48:00.0000] <hsivonen>
bed time. nn

[16:49:00.0000] <jgraham>
goodnight


2008-03-29
[17:03:00.0000] <Lachy>
hey Hixie 

[17:03:01.0000] <Lachy>
did you see my previous message about acid3?

[17:03:02.0000] <Lachy>
from about 12 hours ago

[17:08:00.0000] <Hixie>
acid3.acidtests.org/acid3-2008-03-28.tar.gz

[17:08:01.0000] <Hixie>
iirc

[17:09:00.0000] <Lachy>
thanks

[17:13:00.0000] <Lachy>
hmm. strange. When I run that locally, tests 4 and 5 fail in webkit

[17:15:00.0000] <dglazkov>
/me watches Hixie carefully so that he doesn't become evil

[17:15:01.0000] <Hixie>
hehe

[17:15:02.0000] <dglazkov>
that was a little bit evil

[17:15:03.0000] <Hixie>
:-/

[17:16:00.0000] <dglazkov>
:)

[17:16:01.0000] <annevk>
there was some amount of laughter here when glazou read "this won't really change anything;"

[17:16:02.0000] <dglazkov>
hey, annevk, do you need webforms2.org?

[17:17:00.0000] <annevk>
oh, right, did you e-mail about that?

[17:17:01.0000] <annevk>
i wasn't really sure what to do with it

[17:17:02.0000] <annevk>
apart from paying 10 bucks a year

[17:17:03.0000] <dglazkov>
me neither :)

[17:18:00.0000] <annevk>
also, at some point it'll just be HTML5 Forms

[17:18:01.0000] <annevk>
or HTML forms

[17:19:00.0000] <dglazkov>
well, the whole HTML5 thing does kind of fade the newness and edginess of webforms2

[17:19:01.0000] <dglazkov>
perhaps there should be a monument at webforms2.org -- here began the quest to better Web.

[17:19:02.0000] <annevk>
hehe

[17:19:03.0000] <annevk>
i suppose i'm willing to pay for that :)

[17:20:00.0000] <annevk>
if you e-mail me the transfer code i can do the rest, i have to go now though

[17:20:01.0000] <Lachy>
dglazkov, stick some ads on it. That's what the spammers will do the instant you let the domain expire, so you may as well profit before they do :-)

[17:32:00.0000] <othermaciej>
Lachy: we have a gently tweaked local copy in our LayoutTests that passes

[18:39:00.0000] <Hixie>
aw man i can't wait for GTAIV to come out

[18:39:01.0000] <Hixie>
one month!

[19:14:00.0000] <Hixie>
woot!

[19:14:01.0000] <Hixie>
i used an <hr> on my last blog post

[19:14:02.0000] <Hixie>
and it doesn't look like crap!

[19:16:00.0000] <csarven>
Hixie Haven't seen a proper use of <hr> in a *long* time.

[19:16:01.0000] <Hixie>
yeah

[19:16:02.0000] <Hixie>
i think "semantic-thinking" people avoid it

[19:17:00.0000] <Hixie>
thinking it's "presentational"

[19:17:01.0000] <Hixie>
i did

[19:17:02.0000] <Hixie>
until changing html5 to make it clearly semantic

[19:17:03.0000] <Hixie>
:-)

[19:18:00.0000] <csarven>
Gar. Gotta run.

[19:18:01.0000] <csarven>
How did you get the asterisks going?

[19:19:00.0000] <csarven>
BBL. I'll check the channel logs.

[21:19:00.0000] <Hixie>
csarven: generated content

[22:27:00.0000] <Hixie>
so... any opinions on http://wiki.whatwg.org/wiki/New_Vocabularies ?

[23:14:00.0000] <Hixie>
anyone have a list of html elements?

[23:26:00.0000] <Hixie>
/me investigates mathml further

[00:52:00.0000] <virtuelv>
Hm, http://en.wikipedia.org/wiki/Acid_3 is out of date

[00:54:00.0000] <othermaciej_>
looks like someone edited out "This likely reduced Opera's score to 99/100" too

[01:20:00.0000] <virtuelv>
othermaciej: I was specifically refering to "By a changed of the Testsuit Opera will only achieve 99/100 now."

[01:22:00.0000] <othermaciej>
afaik (though I never saw the original internal build in action) the test suite change did lower the score, but it was fixed again before the release

[01:22:01.0000] <othermaciej>
(i.e. fixed again in GOGI)

[01:22:02.0000] <othermaciej>
nothing in the page claims 99/100 any more afaict

[01:31:00.0000] <hsivonen>
Hixie: the current extension point of MathML, annotation-xml, has the nice property that it could create a parsing scope without having to hard-code particular HTML elements as DOM namespace changing

[02:22:00.0000] <hsivonen>
hmm. I subscribed to public-pfwg-comments but I'm not getting email from the list.

[02:22:01.0000] <hsivonen>
instead I'm getting an autoreply each time I send something there

[02:31:00.0000] <Lachy>
hsivonen, mail sysreq⊙wo and ask them to fix it

[02:31:01.0000] <hsivonen>
Lachy: I'll do that. thanks

[03:30:00.0000] <hsivonen>
http://blogs.sun.com/bblfish/entry/rdfauth_sketch_of_a_buzzword

[04:03:00.0000] <jgraham__>
hsivonen: I had the same experience with pfwg-comments

[08:04:00.0000] <BenMillard>
PFWG is not sending me mail but I didn't get any autoreply for the message I sent them, either

[08:04:01.0000] <BenMillard>
here's what I did to subscribe: http://projectcerbera.com/blog/2008/03#day28

[09:03:00.0000] <gsnedders>
Philip`: do you have HTTP header data for anything apart from the 15k dmoz dataset?

[09:05:00.0000] <Philip`>
gsnedders: I have it for a ~130K dmoz dataset too

[09:06:00.0000] <gsnedders>
Philip`: Could I possibly get that in the same XML grep format as before?

[09:07:00.0000] <gsnedders>
i.e., <header name="Date" uri="http://www.grebe-gt.de/" value="Wed, 12 Dec 2007 00:19:58 GMT"/> within root xml_grep element

[09:08:00.0000] <Philip`>
gsnedders: I don't trivially have it in that format, but I have something very similar - should that be good enough?

[09:08:01.0000] <gsnedders>
Philip`: what sort of format?

[09:08:02.0000] <Philip`>
(The <header> bits are the same, but the root is <survey> and it has <processed> and <redirect> and <error> stuff)

[09:08:03.0000] <gsnedders>
send it over, then I'll bitch if I don't like it :)

[09:08:04.0000] <Philip`>
It's only a hundred megabytes of XML...

[09:09:00.0000] <gsnedders>
I was expecting that.

[09:09:01.0000] <gsnedders>
I'll work with it somehow :)

[09:09:02.0000] <Philip`>
/me wonders how best to compress it

[09:09:03.0000] <Philip`>
I want to minimise time taken to transfer across internet + time to compress + time to decide how to compress

[09:10:00.0000] <Philip`>
Oh, bzip2 was quite fast

[09:10:01.0000] <Philip`>
http://www.cl.cam.ac.uk/~pjt47/misc/output-headers.xml.bz2 (10MB)

[09:11:00.0000] <Philip`>
Oh

[09:11:01.0000] <Philip`>
Is something sending the wrong content-type for that?

[09:11:02.0000] <gsnedders>
yeah

[09:11:03.0000] <gsnedders>
it doesn't batter forme tho

[09:11:04.0000] <gsnedders>
*matter

[09:11:05.0000] <gsnedders>
*for me

[09:11:06.0000] <gsnedders>
*though

[09:11:07.0000] <gsnedders>
oh dear.

[09:12:00.0000] <Philip`>
Sadly the "BZh91AY&" at the front causes XML well-formedness errors

[09:12:01.0000] <Philip`>
?

[09:13:00.0000] <Philip`>
Oh

[09:13:01.0000] <Philip`>
/me should try comprehending all of gsnedders' lines before failing to understand the last one

[09:13:02.0000] <Philip`>
Let me know once you've downloaded it, and I'll delete it again to free some disk space

[09:14:00.0000] <gsnedders>
Philip`: the oh dear was in reference to the number of mistakes

[09:14:01.0000] <Philip`>
I worked that out eventually :-)

[09:15:00.0000] <gsnedders>
/me checks it is well-formed

[09:15:01.0000] <gsnedders>
Philip`: sure, delete it

[09:16:00.0000] <Philip`>
(I can move it back if anyone else wants a copy)

[09:16:01.0000] <gsnedders>
(I'll make it public shortly anyway)

[09:19:00.0000] <gsnedders>
Philip`: how much of <http://hg.gsnedders.com/http-parsing/file/2f867e70fcfc/Philip%20Taylor%27s%20Header%20Data/README.txt> is true for the new data?

[09:33:00.0000] <Philip`>
gsnedders: It's not ~15k any more

[09:34:00.0000] <gsnedders>
Philip`: OK, of the less than totally obvious ones :)

[09:34:01.0000] <gsnedders>
Philip`: second paragraph? parsed by HttpClient?

[09:35:00.0000] <Philip`>
gsnedders: The <error>s are given for non-200 responses, but I don't know if that matters

[09:35:01.0000] <gsnedders>
I'm writing a DTD for the format, FWIW, mainly to check what I think the format is is correct :)

[09:36:00.0000] <Philip`>
It's still HttpClient, though this time I changed the headers from the defaults to include

[09:36:01.0000] <Philip`>
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8

[09:36:02.0000] <Philip`>
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7

[09:36:03.0000] <Philip`>
Accept-Encoding: gzip,deflate

[09:36:04.0000] <Philip`>
Accept-Language: en-us,en;q=0.5

[09:36:05.0000] <gsnedders>
from what before?

[09:37:00.0000] <Philip`>
From whatever HttpClient's default were

[09:37:01.0000] <Philip`>
(which I think didn't include any of those headers)

[09:37:02.0000] <Philip`>
(These are copied from some roughly-FF3b4 nightly)

[09:53:00.0000] <gsnedders>
Philip`: what's wrong with <!ELEMENT survey ((processed, redirect?, header+) | error)*>?

[09:55:00.0000] <Philip`>
gsnedders: Several things

[09:55:01.0000] <gsnedders>
:D

[09:56:00.0000] <gsnedders>
/me assures everyone here he really has got the format wrong

[09:56:01.0000] <Philip`>
'error' gets output if there's a Java exception at some point during the processing, so it's quite possible that there'd be an <error> after it's started writing some of the other bits

[09:56:02.0000] <Philip`>
((Also it gets output on non-200 responses etc - it's not just exceptions))

[09:57:00.0000] <Philip`>
For each URI the elements are in about that order, but the output for each URI can be arbitrarily interleaved with the output from others

[09:58:00.0000] <Philip`>
so if you're ignoring attribute values, the element ordering is basically completely unstructure

[09:58:01.0000] <Philip`>
d

[10:00:00.0000] <gsnedders>
Philip`: if it is interleaved, how does processed mean anything?

[10:02:00.0000] <Philip`>
gsnedders: It doesn't really mean much - just that the page was downloaded 'successfully'

[10:02:01.0000] <Philip`>
Mostly it's useful so I can count how many pages there are

[10:02:02.0000] <Philip`>
(just using grep and wc)

[10:02:03.0000] <Philip`>
/me goes away for a while

[10:06:00.0000] <gsnedders>
nano seems to be the only text editor that is anything near performent on a file of that size

[10:37:00.0000] <Philip`>
/me uses 'less'

[12:32:00.0000] <Hixie>
man, the number of people who keep suggesting that we could add a mode in the parser for things like <annotation-xml> suggests that I'm going to have to give detailed explanations of the problems of doing that

[12:38:00.0000] <jgraham__>
Hixie: Did you really say that "you do not intend to allow SVG in text/html"?

[12:38:01.0000] <jgraham__>
/me doesn't remember that

[12:39:00.0000] <Hixie>
i believe at one point while fixing the acid3 test i got so annoyed at the vagueness of the svg spec and the bad design of the svg language that i may have said something along the lines of "right, screw svg, i'm not putting it in html"

[12:39:01.0000] <Hixie>
i really wish there was a better option though

[12:39:02.0000] <jgraham__>
Ah, OK

[12:40:00.0000] <Hixie>
svg is just such a crappy language

[12:40:01.0000] <jgraham__>
I suggest you never look at the aria spec :)

[12:41:00.0000] <jgraham__>
I don't really know about whether SVG is crappy or not but it seems to me that, given the extant implementations, it's the sensible choice for vector graphics in text/html

[12:41:01.0000] <Hixie>
the svg spec has the quadruple disadvantages of being huge, being badly designed, being designed in a way to fit a mythical w3c architecture (e.g. it uses xlinks for no good reason), and being ridiculously badly underspecified and overspecified at the same time.

[12:41:02.0000] <Hixie>
it certainly is one of the more obvious choices

[12:42:00.0000] <Hixie>
more obvious than mathml, even

[12:42:01.0000] <jgraham__>
Oddly, I actually think it's the non-browser implementations of mathML that make it compelling

[12:43:00.0000] <Hixie>
here are formats with more non-browser implementations

[12:43:01.0000] <Hixie>
like, say, windows metafile

[12:44:00.0000] <jgraham__>
That's a vector language though

[12:44:01.0000] <Hixie>
oh sorry

[12:44:02.0000] <jgraham__>
SVG is implemented in browsers

[12:44:03.0000] <Hixie>
wrong one

[12:44:04.0000] <Hixie>
let me try again

[12:44:05.0000] <jgraham__>
MathML is implemented in editors

[12:44:06.0000] <Hixie>
"there are formats with more non-browser implementations"

[12:44:07.0000] <Hixie>
"like, say, pdf"

[12:44:08.0000] <Hixie>
or latex

[12:44:09.0000] <Hixie>
or whatever

[12:45:00.0000] <Hixie>
svg is implemented in some editors too

[12:45:01.0000] <Hixie>
i'm amused though that some people are so insecure in the inherent superiority of their technologies that they feel the need to do last minute canvasing

[12:45:02.0000] <jgraham__>
Well the advantage of MathML over PDF is that it roundtrips better and the advantage over LaTeX is that it is DOM compatible

[12:46:00.0000] <jgraham__>
(also with LaTeX you need to define a subset that you expect to work since it is extensible)

[12:46:01.0000] <Hixie>
there are pros and cons in both directions, yes

[12:47:00.0000] <Hixie>
as editor it's my role to consider them all

[12:47:01.0000] <Hixie>
:-)

[12:47:02.0000] <jgraham__>
Sure

[12:48:00.0000] <Philip`>
Is StarMath defined anywhere?

[12:48:01.0000] <Philip`>
(I assume that avoids the legacy LaTeX issues (like being based on an entire programming language))

[13:27:00.0000] <Hixie>
well openoffice's mathml support is worthless

[13:27:01.0000] <Hixie>
it can't import mathml

[13:27:02.0000] <Hixie>
anyone have microsoft word?

[13:32:00.0000] <Philip`>
It can at least import MathML from inside ODF files

[13:32:01.0000] <mitsuhiko>
Hixie: the funniest thing about svg is that there still is no cross implementation way to express multiple whitespace beside nonbreaking spaces

[13:33:00.0000] <Hixie>
Philip`: no, it can't. it can ignore mathml, and import the staroffice format that's next to the mathml.

[13:33:01.0000] <mitsuhiko>
1995 is calling and wants it's conventions back

[13:33:02.0000] <Hixie>
mitsuhiko: they don't support white-space?

[13:33:03.0000] <Philip`>
Hixie: If you delete the StarMath it can import the MathML

[13:34:00.0000] <mitsuhiko>
Hixie: inkscape uses xml:space="preserve", rsvg uses css with white-space: forgotthevalue

[13:34:01.0000] <mitsuhiko>
inkscape doesn't support css, firefox reads neither

[13:35:00.0000] <mitsuhiko>
can't remember which implementation broke with what, but we ended up using nonbreaking spaces

[13:36:00.0000] <Hixie>
Philip`: i just tried and that didn't seem to work

[13:36:01.0000] <mitsuhiko>
Hixie: you should have tested that in acid3 :D

[13:36:02.0000] <Hixie>
mitsuhiko: you should have suggested it when i asked for tests :-)

[13:36:03.0000] <Philip`>
Hixie: I tried it a while ago and it did work :-p

[13:37:00.0000] <Hixie>
oh

[13:37:01.0000] <Hixie>
i guess i should try again

[13:37:02.0000] <mitsuhiko>
touche

[13:37:03.0000] <Philip`>
(and it reconstructed the StarMath based on the MathML)

[13:37:04.0000] <mitsuhiko>
whatwg gave me back hope in standards.  your's don't suck ;D

[13:38:00.0000] <Philip`>
Oddly, OO.o's Open dialog lists "MathML 1.01 (*.mml)", but I can't get it to do anything than read the text content out of the XML file and ignore the markup entirely

[13:39:00.0000] <Philip`>
Also I can't get "Import Formula" to do anything at all

[13:40:00.0000] <Philip`>
Ah

[13:40:01.0000] <Philip`>
Needs <?xml...

[13:40:02.0000] <Philip`>
Now it imports MathML, and renders it and gives a human-editable StarMath version

[13:43:00.0000] <Philip`>
(It's very helpfully and completely silent when it fails to load an ill-formed XML file, too)

[13:44:00.0000] <Hixie>
i couldn't get import formula to do anything with mathml that didn't have starmath in it

[13:44:01.0000] <Hixie>
but you're right

[13:44:02.0000] <Hixie>
modifying the odf worked

[13:44:03.0000] <jgraham>
Openoffice UI is generally pretty wful

[13:44:04.0000] <mitsuhiko>
muhaha. that's great xD

[13:45:00.0000] <Philip`>
So I think OO.o isn't exactly going to become my number one choice for equation editing

[13:46:00.0000] <Hixie>
no

[13:46:01.0000] <Hixie>
me either

[13:57:00.0000] <Philip`>
Hixie: I have access to Word 2007 over rdesktop, in case that might help

[13:57:01.0000] <Hixie>
yeah

[13:57:02.0000] <Hixie>
any information about what it's mathml support is like

[13:57:03.0000] <Hixie>
especially import

[13:57:04.0000] <Hixie>
would be great

[13:59:00.0000] <Philip`>
Any hints on where the import button is?

[14:00:00.0000] <Hixie>
no idea

[14:02:00.0000] <Hixie>
hey Philip`, you're good with turning things into graphs and stuff

[14:03:00.0000] <Hixie>
any chance you have a tool already set up that can turn the disaster that is the mathml dtd into a pretty picture showing the allowed nesting?

[14:08:00.0000] <Philip`>
Hixie: Word 2007's equation editor has 'Equation Options' -> 'Copy (MathML|Linear Format) to the clipboard as plain text', and when selecting the MathML option (the default is Linear Format) it does indeed copy equations into MathML on the clipboard

[14:09:00.0000] <Hixie>
cool

[14:09:01.0000] <Hixie>
i assume it can't import then?

[14:09:02.0000] <Philip`>
Haven't got that far yet :-p

[14:10:00.0000] <Hixie>
:-)

[14:10:01.0000] <Philip`>
If I copy MathML as plain text on the clipboard, then ctrl+V inside the equation editor, it gets converted into proper equations

[14:10:02.0000] <Hixie>
/me doesn't understand william's last e-mail to www-math

[14:10:03.0000] <Hixie>
nice

[14:10:04.0000] <Hixie>
very nice

[14:11:00.0000] <Philip`>
and even if I'm not in any kind of equation mode, then paste MathML, it gets converted into proper equations

[14:12:00.0000] <Hixie>
sweet

[14:12:01.0000] <Philip`>
(The kind of thing it puts onto the clipboard is <mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math"><mml:mi>A</mml:mi><mml:mo>=</mml:mo><mml:mi>π</mml:mi><mml:msup><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:math>)

[14:13:00.0000] <Hixie>
yeah, oo.o outputs prefixed stuff too

[14:13:01.0000] <Hixie>
still, that's a step in the right direction

[14:14:00.0000] <Philip`>
(It accepts anything that's well-formed XML with a <math> root in the right namespace)

[14:15:00.0000] <Philip`>
(so far as I can tell)

[14:15:01.0000] <Philip`>
(and not anything else)

[14:15:02.0000] <hsivonen>
Hixie: did you try zapping the StarMath stuff and the cache objects and then reopening the ODF? IIRC someone said it imports MathML in that case.

[14:15:03.0000] <hsivonen>
oh. already covered in log

[14:15:04.0000] <Hixie>
hehe

[14:17:00.0000] <Philip`>
I can't see any way to import or export equations as files directly

[14:17:01.0000] <Hixie>
i really don't understand http://lists.w3.org/Archives/Public/www-math/2008Mar/0011.html

[14:17:02.0000] <Hixie>
oh well

[14:17:03.0000] <Hixie>
Philip`: copy/paste is probably more than enough

[14:18:00.0000] <Hixie>
someone's gonna have to write a prefixed-xml to html convertor if we do this, though

[14:18:01.0000] <hsivonen>
/me might eventually do it as a side effect of doing something else...

[14:20:00.0000] <hsivonen>
Hixie: if you spec text/html serialization algorithm for MathML in text/html and SVG in text/html (in a reasonable way :-), I think I'm going to implement that as part of my SAX to HTML5 serializer

[14:21:00.0000] <hsivonen>
(well, I might implement it even without a spec. :-)

[14:22:00.0000] <hsivonen>
(reasonable way being streamable)

[14:22:01.0000] <Hixie>
it'll be streamable

[14:22:02.0000] <hsivonen>
cool

[14:22:03.0000] <Hixie>
the one thing i don't think we can do is switch to another insertion mode

[14:23:00.0000] <Hixie>
e.g. if we do:

[14:23:01.0000] <Hixie>
   <svg><table></svg> -> <svg:svg><svg:table/></svg:svg>

[14:23:02.0000] <Hixie>
instead of:

[14:24:00.0000] <Hixie>
   <svg><table></svg> -> <svg:svg></svg:svg><html:table/>

[14:24:01.0000] <Hixie>
or:

[14:24:02.0000] <Hixie>
   <svg><table></svg> -> <svg:svg><html:table/></svg:svg>

[14:24:03.0000] <hsivonen>
Hixie: so are you really going to hard-code the names of MathML and SVG elements?

[14:24:04.0000] <Hixie>
...i think we'll end up with problems where existing pages trigger into this insertion mode and break old pages

[14:25:00.0000] <Hixie>
hsivonen: either that, or hard code the html elements, or some combination thereof

[14:25:01.0000] <Hixie>
we might be able to get away with making unknown elements use whatever the parent element's namespace is

[14:26:00.0000] <hsivonen>
in the case of mathml, you could set aside unknown elements starting with 'm' as MathML

[14:26:01.0000] <Hixie>
that sounds dangerous

[14:26:02.0000] <Hixie>
what if we want to introduce a <mix> element or something

[14:26:03.0000] <Hixie>
or <media> or whatever

[14:26:04.0000] <Hixie>
now in older UAs it's in a different namespace

[14:27:00.0000] <hsivonen>
namespaces suck

[14:27:01.0000] <hsivonen>
but yeah

[14:28:00.0000] <Hixie>
thanks for the link to the relaxng schema, btw

[14:28:01.0000] <hsivonen>
np

[14:29:00.0000] <Hixie>
i think i'm gonna just go through the dtd and do it by hand though, the relaxng schema was as confusing to me :-)

[14:30:00.0000] <hsivonen>
there might be a RELAX NG visualizer in the latest oXygen. I'm not sure

[14:30:01.0000] <hsivonen>
/me finds RELAX NG Compact Syntax nicer than DTD

[14:31:00.0000] <Hixie>
the dtd syntax is horrible

[14:31:01.0000] <Hixie>
but it's the one in the spec :-)

[14:32:00.0000] <hsivonen>
fantasai's way of organizing RNC is much better than the way used in the MathML schema, though

[14:33:00.0000] <hsivonen>
that is, the MathML schema isn't as readable an the HTML5 schema

[14:34:00.0000] <hsivonen>
Hixie: fwiw, I think using annotation/annotation-xml for alternative serialization is bad

[14:34:01.0000] <hsivonen>
hijacking it for SVG seems workable, though

[14:34:02.0000] <Hixie>
i don't see the use case for having it at all

[14:34:03.0000] <Hixie>
we only want one presentation

[14:35:00.0000] <Philip`>
Hixie: I don't happen to have anything for parsing DTDs or converting them into anything interesting

[14:35:01.0000] <Hixie>
k

[14:35:02.0000] <Philip`>
(except for some ugly regexps that parse the HTML4 DTD, which seems like it wouldn't work in the MathML case)

[14:35:03.0000] <hsivonen>
Hixie: first example at http://golem.ph.utexas.edu/~distler/blog/archives/001475.html

[14:35:04.0000] <hsivonen>
Hixie: that's a Gecko-compatible DOM at least

[14:36:00.0000] <hsivonen>
Hixie: that one has only one representation

[14:36:01.0000] <Hixie>
hsivonen: why wouldn't we just have <math> <mtext> <svg>...</svg> </mtext> <mo> ... </mo> ... ?

[14:36:02.0000] <hsivonen>
Hixie: i.e. hijacked as an SVG escape hatch 

[14:36:03.0000] <hsivonen>
Hixie: does that render in Gecko?

[14:36:04.0000] <Hixie>
none of this works in gecko, you can't put svg in text/html yet

[14:37:00.0000] <hsivonen>
Hixie: I want DOM consistency with XHTML+MathML+SVG

[14:37:01.0000] <Hixie>
sure

[14:37:02.0000] <Hixie>
i don't think requiring the UA to only do parsing changes is a requirement

[14:37:03.0000] <hsivonen>
Hixie: but yeah, the <semantics><annotation-xml> wrapper is silly, but that's a way that doesn't step on the toes of the MathML spec

[14:38:00.0000] <Hixie>
i'd rather just get teh spec changed

[14:39:00.0000] <Hixie>
<semantics> is more than just the escape hatch you see in that example

[14:39:01.0000] <Hixie>
it's also a way of including alternate formats, etc

[14:39:02.0000] <hsivonen>
/me tests

[14:39:03.0000] <Hixie>
and i don't think the semantics even really make sense there

[14:39:04.0000] <hsivonen>
the alternative format part seems harmful

[14:39:05.0000] <hsivonen>
witness OpenOffice.org

[14:39:06.0000] <Hixie>
yep

[14:40:00.0000] <Hixie>
anyone got something that does entity expansions in dtds?

[14:41:00.0000] <Hixie>
this dtd is insane

[14:42:00.0000] <hsivonen>
RNC looking better already? :-)

[14:43:00.0000] <Hixie>
yes

[14:43:01.0000] <Hixie>
i am in fact, as we speak, copying your subversion command line

[14:43:02.0000] <Hixie>
:-)

[14:43:03.0000] <Hixie>
(i had just looked at the site before)

[14:45:00.0000] <hsivonen>
Hixie: ok, <svg> in MathML works in Gecko without the <semantics><annotation-xml> cruft, so I agree with changing the spec

[14:45:01.0000] <Hixie>
heh

[14:45:02.0000] <Hixie>
ok so walk me through this schema

[14:46:00.0000] <Hixie>
what does this mean:

[14:46:01.0000] <Hixie>
mml.notprsubset.qname = element notprsubset { empty, mml.operators.common.attrib }

[14:46:02.0000] <hsivonen>
it declares a named production mml.notprsubset.qname

[14:46:03.0000] <hsivonen>
the convention is mml.elementname.qname in this particular schema

[14:47:00.0000] <hsivonen>
the production is an element named notprsubset

[14:47:01.0000] <hsivonen>
which has a content model of empty followed by the named production mml.operators.common.attrib

[14:47:02.0000] <hsivonen>
attributes are part of the content model in RELAX NG

[14:47:03.0000] <hsivonen>
so here the actual element-wise content model is empty

[14:48:00.0000] <hsivonen>
and the attributes are whatever mml.operators.common.attrib expands to

[14:48:01.0000] <Hixie>
aha

[14:48:02.0000] <Hixie>
ok

[14:48:03.0000] <hsivonen>
so element and empty are reserved words of RNC itself

[14:48:04.0000] <Hixie>
i need to strip all this attribute stuff

[14:49:00.0000] <hsivonen>
that *might* be easier to do with the XML syntax

[14:49:01.0000] <Hixie>
heh

[14:49:02.0000] <hsivonen>
but the XML syntax is seriously not human-readable

[14:49:03.0000] <Hixie>
this is not turning into a successful saturday :-P

[14:50:00.0000] <Hixie>
i couldn't even find the allowable content models in the spec other than in the dtd

[14:50:01.0000] <Hixie>
you'd think a spec would define that kind of stuff

[14:50:02.0000] <hsivonen>
no comment

[14:52:00.0000] <hsivonen>
Hixie: http://relaxng.org/compact-tutorial-20030326.html is pretty good and relatively short

[14:53:00.0000] <Hixie>
yeah i think i have the syntax figured out

[14:53:01.0000] <Hixie>
it's just a pain to process

[14:53:02.0000] <hsivonen>
You can convert between RNG and RNC with Trang

[14:53:03.0000] <hsivonen>
RNG can be processed with XML tools

[14:53:04.0000] <hsivonen>
yay for XML tools! 

[14:54:00.0000] <Hixie>
uh huh

[14:54:01.0000] <Hixie>
i wish rnc had less ambiguous statment ends

[14:58:00.0000] <jgraham>
/me wonders what Dave Orchard is doing CCing public-html on that sort of mail

[15:02:00.0000] <hsivonen>
I thought WAF's use cases and reqs were just not written down

[15:18:00.0000] <Hixie>
wow, the mathml people are as insecure in the inherit superiority of their spec as the svg people

[15:19:00.0000] <hsivonen>
Hixie: how so?

[15:19:01.0000] <hsivonen>
Hixie: saying that existing implementations matter is not insecurity

[15:19:02.0000] <shepazu>
I can't speak for the mathml people, but your stated bias against SVG is what I have a problem with, not with the technical aspects of SVG versus other formats

[15:20:00.0000] <Hixie>
hsivonen: being scared that mathml isn't the "main" option

[15:20:01.0000] <sayrer>
it is true that the W3C process can create a sense of entitlement

[15:20:02.0000] <Hixie>
shepazu: my bias against svg is due to the deficiencies of the format, as are my biases against vml, wmf, etc

[15:20:03.0000] <Hixie>
shepazu: one has to consider all the pros and cons of all the options

[15:21:00.0000] <shepazu>
I haven't heard you say "I hate VML" and "wmf will never make it into HTML"

[15:21:01.0000] <Hixie>
shepazu: yes dear.

[15:22:00.0000] <Hixie>
(seriously, i'm not going to let personal biases affect how i evaluate the options, relax already.)

[15:22:01.0000] <shepazu>
ah, excellent point

[15:22:02.0000] <hsivonen>
Hixie: I can understand that in theory all options should be considered, but in this case, exploring them all and then settling for MathML and SVG seems like a distraction

[15:23:00.0000] <jgraham>
shepazu: it strictly irrelevant what Ian's biases are or whether they subconsciously affect him, as long as he comes to the right decision in the end

[15:23:01.0000] <Hixie>
hsivonen: i'm not making decisions of this magnitude without careful consideration of all the options, that would just be dumb

[15:23:02.0000] <jgraham>
The problem is determining the right decision ;)

[15:23:03.0000] <Hixie>
clearly the math people don't understand the concept of implying tags

[15:23:04.0000] <Hixie>
/me replies to them reexplaining what he meant

[15:24:00.0000] <jgraham>
Hixie: To be fair the point that implied start tags are confusing is reasonable

[15:24:01.0000] <Hixie>
yes

[15:24:02.0000] <Hixie>
but so is the point that mathml is so obscenely verbose as to be ridiculous

[15:25:00.0000] <jgraham>
Oh, I agree with that too

[15:25:01.0000] <hsivonen>
Hixie: David Carlisle does have a very good point that implied elements are no good if authors don't see the tree they are styling

[15:25:02.0000] <jgraham>
/me has hand authored MathML in the past, but only once

[15:25:03.0000] <Hixie>
hsivonen: i dunno, seems to work ok with <tbody>

[15:25:04.0000] <hsivonen>
umm. No

[15:25:05.0000] <hsivonen>
do you recall the thread about that with Rob Burns?

[15:26:00.0000] <Hixie>
i don't think one can draw any conclusions from threads with rob burns

[15:26:01.0000] <jgraham>
(the reason I've only done it once is obviously because it was so hard)

[15:26:02.0000] <Hixie>
at least, not any conclusions that apply to humanity at large

[15:28:00.0000] <shepazu>
jgraham: I don't see how you can derive your conclusion from what you said... how can a stated bias not be relevant?

[15:32:00.0000] <jgraham>
shepazu: Reread what I said ( it is true but a little (though not entirely) facetious) 

[15:32:01.0000] <shepazu>
ok

[16:24:00.0000] <jgraham>
hsivonen: I guess annotations in mathml have a valid use case if they encode a superset of the information in the mathml e.g. if mathematica uses the annotation to encode information it needs to convert the formula into something it can manipulate

[16:24:01.0000] <jgraham>
(I don't know if this is actually the case or not)

[16:25:00.0000] <jgraham>
I agree that you could have problems keeping the content in sync though

[16:29:00.0000] <Hixie>
vendor-specific extensions to the language are not a use case i have any intention of addressing

[16:29:01.0000] <Hixie>
especially with explicit markup

[16:34:00.0000] <jgraham>
Hixie: Yeah, the fact that these things are (presumably) proprietary is bad. But given the reality of the computer algebra landscape it's not surprising the mathml people decided to address that use case

[16:47:00.0000] <jgraham>
Hixie: "If a MathML-input-conformant application receives input containing one or more elements with an illegal number or type of attributes or child schemata, it should nonetheless attempt to render all the input in an intelligible way, i.e. to render normally those parts of the input that were valid, and to render error messages (rendered as if enclosed in an merror  element) in place of invalid expressions."

[16:48:00.0000] <Hixie>
is the "i.e." meant to be "e.g."? If not, what's with the "attempt" part?

[16:49:00.0000] <jgraham>
Hixie: Dunno. 

[16:49:01.0000] <Hixie>
mozilla doesn't implement that

[16:49:02.0000] <Hixie>
e.g. data:text/xml,<math xmlns="http://www.w3.org/1998/Math/MathML">3</math>

[16:49:03.0000] <jgraham>
I guess it's informative although it's generally hard to tell with the mathml spec

[16:50:00.0000] <Hixie>
data:text/xml,<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac>3 2</mfrac></math> works

[16:50:01.0000] <Hixie>
as in, shows an error

[16:50:02.0000] <Hixie>
data:text/xml,<math xmlns="http://www.w3.org/1998/Math/MathML"><mrow>2</mrow></math> doesn't

[16:51:00.0000] <Hixie>
nor does data:text/xml,<math xmlns="http://www.w3.org/1998/Math/MathML"><mo><mo>+</mo></mo></math>

[16:51:01.0000] <jgraham>
Section 7.2.1 seems to imply that anything to do with rendering is informative

[16:51:02.0000] <Hixie>
lovely

[16:52:00.0000] <jgraham>
Although roc had an example of something that is probably normative

[16:52:01.0000] <Hixie>
oh?

[16:52:02.0000] <jgraham>
the way that glyph size changes with script level

[16:52:03.0000] <Hixie>
ah yes

[16:52:04.0000] <jgraham>
and the CSS interactions

[16:53:00.0000] <Hixie>
you know, one could make a career out of rewriting these specs properly

[16:53:01.0000] <jgraham>
:)

[16:53:02.0000] <othermaciej>
Hixie: "could"?

[16:54:00.0000] <jgraham>
/me wonders if he should suggest that MathML 3 use RFC 2119 keywords so it's at least possible to tell what was supposed to be a conformance criterion

[16:54:01.0000] <Hixie>
othermaciej: i've only done one so far

[16:54:02.0000] <othermaciej>
jgraham: you should


2008-03-30
[17:12:00.0000] <Hixie>
hsivonen: would it make sense to have a schema for the mathml part of mathml+html5, as opposed to just saying it has to match the mathml spec?

[17:12:01.0000] <Hixie>
or would it be better to just let the syntax make certain things impossible, but not disallow them

[17:21:00.0000] <jgraham>
othermaciej: Sent.

[17:23:00.0000] <jgraham>
/me wonders how many other specs he can complain about the lack RFC 2119 terminology in

[17:23:01.0000] <jgraham>
(I did aria earlier in the week)

[17:24:00.0000] <Hixie>
http://wiki.whatwg.org/wiki/Equations_in_HTML really makes a strong case for making <mo>/<mi>/<mn> be inferred by the parser

[17:26:00.0000] <jgraham>
I wonder what fraction of the time people miss out &InvisibleTimes; when hand authoring

[17:37:00.0000] <jgraham>
Hixie: How would the <msup> stuff work? What would <msup> (x + 3) 2</msup> do?

[17:51:00.0000] <Hixie>
show an error

[18:52:00.0000] <Hixie>
msup needs two children

[18:52:01.0000] <Hixie>
<msup>x 2</msup> would work

[18:52:02.0000] <Hixie>
<msup><mrow>(x+3)</mrow>2</msup> would work

[18:52:03.0000] <Hixie>
(not sure what the right thing to do is with the brackets)

[18:52:04.0000] <jgraham>
Right but authors will expect <msup>(x + 2) 2</msup> to work

[18:53:00.0000] <jgraham>
If <msup>x 2</msup> works

[18:55:00.0000] <jgraham>
/me -> sleep

[19:22:00.0000] <Hixie>
jgraham__: authors expect a lot of things to work. they get over it when it doesn't. :-)

[19:24:00.0000] <Pavlov>
Hixie: what happens if you have implied <mi> and then add a <mi> element?

[19:24:01.0000] <Pavlov>
or just change mi?

[19:25:00.0000] <Pavlov>
or change msup

[19:25:01.0000] <Pavlov>
(i can imagine several different things, all of which are pretty confusing)

[19:27:00.0000] <Hixie>
how do you mean?

[19:28:00.0000] <Pavlov>
like in your example http://wiki.whatwg.org/wiki/Equations_in_HTML

[19:28:01.0000] <Pavlov>
if i add a <mo> element to the first mrow from script, what happens?

[19:29:00.0000] <Hixie>
you mean like you change the markup to <math> x <mo>=</mo> <mfrac> ... ?

[19:29:01.0000] <Hixie>
it wouldn't make any difference, the markup is equivalent

[19:29:02.0000] <Pavlov>
say you start with <math>x =</math>

[19:30:00.0000] <Hixie>
oh you mean through DOM manipulation?

[19:30:01.0000] <Pavlov>
right

[19:30:02.0000] <Hixie>
the elements would all be there in the DOM all the time

[19:30:03.0000] <Hixie>
the parser would insert them

[19:30:04.0000] <Hixie>
like it does with tbody in tables

[19:30:05.0000] <Hixie>
if that's not what you meant, i'll reply when i get back from dinner

[19:30:06.0000] <Hixie>
gotta go

[19:30:07.0000] <Pavlov>
thats weird though isn't it?

[19:31:00.0000] <othermaciej>
implied elements are weird

[19:45:00.0000] <shepazu>
implied elements make script authors do a lot more work

[19:45:01.0000] <Dashiva>
You mean less

[19:45:02.0000] <shepazu>
no...

[19:46:00.0000] <Dashiva>
Implied elements mean we don't have to check if there's actually a tbody present. Then XHTML comes along and ruins it

[19:46:01.0000] <shepazu>
when I author a document, I expect the markup to be represented in the DOM just as I wrote the markup

[19:47:00.0000] <shepazu>
if I could rely on that, I wouldn't have to do screwy tests to find out what the DOM thinks the markup should be

[19:47:01.0000] <shepazu>
so the author ends up having to do extra tests

[19:47:02.0000] <Dashiva>
Implied elements are predictable

[19:48:00.0000] <shepazu>
to expert authors, probably so

[19:48:01.0000] <shepazu>
but most authors are not expert

[19:49:00.0000] <shepazu>
I prefer wysiwyg DOM parsing

[19:50:00.0000] <Philip`>
Hypothesis: Most authors wouldn't predict <tbody>

[19:50:01.0000] <Dashiva>
Hypothesis: Most authors either use .tBodies[0] because they were told to, or use getElementsByTagName('tr') and don't care about the tbody

[19:50:02.0000] <shepazu>
I suspect most authors don't even know <tbody> exists

[19:51:00.0000] <Philip`>
Everybody always includes <html> and <head> and <body> even though those could easily be omitted and implied

[19:52:00.0000] <Philip`>
so it seems people don't understand the concept of implied elements to an extent that they intentionally make use of it

[19:52:01.0000] <shepazu>
I say, the less voodoo the better

[19:53:00.0000] <Dashiva>
shepazu: Well, have fun with your documentElement when <html> is implied 

[19:54:00.0000] <shepazu>
why would I not include an <html> element?

[19:54:01.0000] <shepazu>
I would expect and hope for an error if I tried to do that

[19:54:02.0000] <shepazu>
(use documentElement if I didn't have an <html> element)

[19:54:03.0000] <Dashiva>
HTML is big on silent error recovery

[19:55:00.0000] <shepazu>
yes, I think I heard someone mention that in passing

[19:55:01.0000] <shepazu>
but I didn't take them seriously

[19:57:00.0000] <shepazu>
I don't mind silent error recovery when I'm browsing

[19:57:01.0000] <shepazu>
but I want to be able to serve the best possible content for my readers/users

[19:58:00.0000] <deane>
I think there's a strong case to keep the differences between html and xhtml to a minimum. Which means that I think SVG and MathML markup should be the same in html5 and xhtml5

[19:59:00.0000] <deane>
They could be the same right?

[19:59:01.0000] <shepazu>
well, obviously you'll get no argument from me there, but I wasn't talking about SVG (for once)

[19:59:02.0000] <Dashiva>
There's nothing preventing you from making implicit elements explicit

[20:00:00.0000] <deane>
But it's not me that I'm worried about

[20:00:01.0000] <deane>
other authors will be confused between two syntaxes

[20:01:00.0000] <markp>
that would certainly make sam happy

[20:01:01.0000] <markp>
(reducing differences)

[20:02:00.0000] <deane>
... otherwise we end up with bits of SVG and MathML that only work in text/html

[20:02:01.0000] <Dashiva>
I would expect that anyone able to understand mathml well enough to write it by hand would not be confused 

[20:02:02.0000] <markp>
afaik, there's only one person who does that

[20:02:03.0000] <markp>
in the whole web

[20:03:00.0000] <shepazu>
Dashiva, I would argue that anyone that writes mathml by hand is confused ;)

[20:03:01.0000] <shepazu>
(says the guy that draws SVG content in a text editor)

[20:03:02.0000] <Dashiva>
That, too, is true

[20:04:00.0000] <markp>
sam draws svg in vi

[20:04:01.0000] <shepazu>
ugh.

[20:04:02.0000] <markp>
he's quite good at it

[20:04:03.0000] <shepazu>
I used TextPad or TextMate

[20:04:04.0000] <markp>
to each his own

[20:04:05.0000] <shepazu>
yup

[20:06:00.0000] <shepazu>
honestly, I think that there's a serious case for being able to tweak document structure that makes using a text editor to make or massage SVG rather reasonable, though it's not for everyone

[20:07:00.0000] <shepazu>
just kidding about MathML, of course... the only times I've used MathML I did it by hand, of course

[21:50:00.0000] <Hixie>
i don't think optimising text/html syntax for compatibility with xhtml makes any sense

[23:17:00.0000] <heyadayo>
hello

[23:18:00.0000] <heyadayo>
I'm implementing a close approximation of the html5 TCPConnection for current/older browsers, and I had some questions

[23:19:00.0000] <heyadayo>
Do any browsers currently implement the html5 EventListener?

[01:19:00.0000] <hsivonen>
jgraham__: I think the proper way for Mathematica to encode a superset of information would be to make sure Content MathML is rich enough to represent the superset in a cross-product way

[01:22:00.0000] <hsivonen>
Hixie: I'd prefer to have DOM consistency between HTML5+MathML and XHTML5+MathML-as-defined-by-its-own-WG

[01:22:01.0000] <hsivonen>
Hixie: if MathML has something bad, I'd prefer to get MathML 3 changed instead of HTML WG shunning parts of it

[01:27:00.0000] <hsivonen>
http://academia.hixie.ch/physics/2dfsurvey/report/report.xml looks terrible in Firefox 3.0b4 on Mac

[01:28:00.0000] <gavin>
what parts look terrible?

[01:30:00.0000] <gavin>
seems to be ok for me

[01:30:01.0000] <gavin>
but I'm not sure if I'm not seeing the ugliness because I don't know what to expect and am just not noticing it, or because I don't have the right fonts, or because my build is newer than yours, or because I'm on Windows

[02:02:00.0000] <roc>
I can see a few things that could be improved, but I wouldn't say it looks terrible

[02:02:01.0000] <roc>
on trunk anyway ... there are a few table improvements post-b4

[02:24:00.0000] <[malfi]>
hi all

[02:26:00.0000] <hsivonen>
gavin: the formulas that stand on their own on a line spread to the whole view port width

[02:28:00.0000] <gavin>
hsivonen: http://people.mozilla.org/~gavin/mathml.png is what I see

[02:29:00.0000] <gavin>
(latest trunk nightly on windows)

[02:29:01.0000] <gavin>
I would be interested in knowing whether a more recent build fixes the problems you're seeing

[02:50:00.0000] <hsivonen>
gavin: much better than b4 on Mac

[02:51:00.0000] <Hixie>
hsivonen: yes, i completely agree, i was only considering conformance requirements that were a subset of the mathml spec

[03:06:00.0000] <Hixie>
i wonder if there are ever times in mathml where <mi> and/or <mn> elements are siblings without an intervening <mo> element

[03:12:00.0000] <hsivonen>
Hixie: but why bother with all the inference if the result is still ugly enough that people will use converters from *TeX, Mathematica, etc. or a GUI editor?

[03:29:00.0000] <Hixie>
http://wiki.whatwg.org/wiki/Equations_in_HTML

[03:29:01.0000] <Hixie>
it's not that bad after just removing mn, mo, and mi

[03:29:02.0000] <Hixie>
and that's, as far as i can tell, a trivial optimisation in most cases

[03:29:03.0000] <Hixie>
since it only affects markup that cannot otherwise be valid

[03:31:00.0000] <Hixie>
seems like we could make Nd, Nl, and No trigger <mn>, Pc, Pd, Po, Sm, Sk, and So trigger <mo>, and Lu, Ll, Lt, Lm, Lo, and Sc trigger <mi>

[03:32:00.0000] <Hixie>
and maybe do something clever with fences for Ps, Pe, Pi, and Pf

[03:32:01.0000] <Hixie>
(i haven't looked at this in detail yet)

[03:32:02.0000] <Hixie>
but fundamentally, even if we limit this to ascii, it's still going to be a big step forward.

[03:38:00.0000] <hsivonen>
Hixie: lookups from the Unicode DB would break the current property of the parsing algorithm of keeping all syntax-significant characters in the Basic Latin range

[03:38:01.0000] <hsivonen>
(so the current spec allow per-code unit parsing in all of UTF-8, UTF-16 and UTF-32)

[03:39:00.0000] <Hixie>
true

[03:39:01.0000] <hsivonen>
(once the stream is guaranteed to be valid UTF-8, UTF-16 or UTF-32 by the encoding layer)

[03:39:02.0000] <Hixie>
but like i said, we could even limit it to ascii

[03:39:03.0000] <Hixie>
it would still be hugely helpful

[03:39:04.0000] <Hixie>
(especially since once people get outside ascii, it's increasingly unlikely that the markup is hand-maintainable anyway

[03:40:00.0000] <Hixie>
)

[03:40:01.0000] <Hixie>
incidentally, i don't see any way to get the math guys to abandon the folly of wanting multiple representations of a single equation in the markup, which is another point against going the mathml route

[03:41:00.0000] <hsivonen>
&InvisibleTimes; is a crazy number of characters to type by hand for something can turns into glyphlessness

[03:41:01.0000] <Hixie>
yes earlier i was looking at how to imply <mo>&InvisibleTimes;</mo>

[03:42:00.0000] <Hixie>
<Hixie> i wonder if there are ever times in mathml where <mi> and/or <mn> elements are siblings without an intervening <mo> element

[03:43:00.0000] <hsivonen>
fwiw, tag inference in HTML 4 has already been a pain for HTML5

[03:44:00.0000] <hsivonen>
wouldn't tag inference in MathML 3 be a pain fo MathML 4?

[03:53:00.0000] <Hixie>
why has it been a pain in HTML5?

[03:53:01.0000] <Hixie>
tag inference is one of the main features of html that makes it usable from an authoring perspective, imho

[04:00:00.0000] <hsivonen>
Hixie: we can't allow <ul> in <p>

[04:01:00.0000] <hsivonen>
Hixie: we can't allow <table> in <p> post-Acid2

[04:01:01.0000] <hsivonen>
there are probably other features involving <p> that I'm not even thinking about because of the end tag inference

[04:03:00.0000] <roc>
where is this math-in-HTML discussion happening? public-html?

[04:04:00.0000] <hsivonen>
roc: mostly public-html with some messages from William Hammond on www-math only

[04:06:00.0000] <Hixie>
hsivonen: i think those might actually be good things, frankly. but yes, it does constrain future language development.

[04:06:01.0000] <Hixie>
i think that's an acceptable cost

[04:06:02.0000] <Hixie>
anyway, bed time

[04:06:03.0000] <Hixie>
if you find a way to convince them to not require html5 to support both presentational and content mathml, let me know :-)

[04:08:00.0000] <roc>
is it at least settled that any solution would construct a MathML DOM for rendering?

[04:09:00.0000] <roc>
gavin: your screenshot actually looks pretty bad to me, my Mac build looks much better because the curly braces stretch

[04:09:01.0000] <roc>
you probably just don't have the right fonts

[04:12:00.0000] <hsivonen>
what's mozilla-central?

[04:12:01.0000] <roc>
a Mercurial code repository that you probably shouldn't be interested in

[04:13:00.0000] <hsivonen>
roc: thanks. I download from latest-trunk then

[04:13:01.0000] <roc>
yeah

[04:15:00.0000] <roc>
the problems I saw on that page were 1) stretchy braces have slight thickness variations along the stem (known antialiasing bug) 2) some table columns sized a bit too wide 3) primes ( ' ) maybe positioned a little high

[04:18:00.0000] <hsivonen>
http://hsivonen.iki.fi/screen/mathml-firefox3b4.png

[04:31:00.0000] <hsivonen>
http://hsivonen.iki.fi/screen/mathml-minefield-2008-03-29.png

[04:31:01.0000] <hsivonen>
much better

[04:58:00.0000] <roc_>
hsivonen: er yoicks, I had no idea beta4 was that broken

[09:05:00.0000] <annevk>
/me reads the Math thread

[09:05:01.0000] <annevk>
/me kind of likes the idea of characters implying elements

[09:14:00.0000] <hsivonen>
ttp://realtech.burningbird.net/standards/acid3-and-my-head-hurts/

[09:16:00.0000] <annevk>
I don't really understand that post

[09:28:00.0000] <hsivonen>
I read it as "don't fix browser bugs when my book is going to press"

[09:30:00.0000] <annevk>
lol

[09:35:00.0000] <Dashiva>
What kind of proofs, though?

[09:36:00.0000] <Dashiva>
And who writes a book about beta-version browers anyhow

[09:36:01.0000] <hsivonen>
Dashiva: proofs of the proof-print kind, I suppose

[10:13:00.0000] <roc>
I think that post is probably complaining about features being enabled on trunk builds with no clear roadmap to them actually being shipped

[10:16:00.0000] <annevk>
oh

[10:16:01.0000] <hsivonen>
ok. that wasn't too clear

[10:16:02.0000] <annevk>
well, in case of Opera it will ship post-Kestrel unless we find some way to make it work for Kestrel, but I doubt that

[10:16:03.0000] <annevk>
that's not really a secret

[10:17:00.0000] <annevk>
(Kestrel is near ready, much like Firefox 3)

[10:17:01.0000] <hsivonen>
roadmap-wise, I'd be interested in XHR+AC roadmap post Firefox 3

[11:57:00.0000] <othermaciej_>
Safari/WebKit has never given a roadmap to shipping for anything

[11:57:01.0000] <othermaciej_>
and we've been known to disable trunk features on release branches

[11:57:02.0000] <othermaciej_>
so

[11:57:03.0000] <othermaciej_>
I don't think Acid3 can be blamed

[12:06:00.0000] <gsnedders>
It's Acid3's fault. kthxbai.

[12:14:00.0000] <othermaciej>
we're obviously not going to ship Acid3 fixes in Safari 3.1, since it has already shipped

[12:23:00.0000] <gsnedders>
WHAT!?

[12:23:01.0000] <gsnedders>
You're kidding, right?

[12:25:00.0000] <sayrer>
what is the smallest SVG spec?

[12:25:01.0000] <othermaciej>
that's right, we can't go back in time

[12:25:02.0000] <shepazu>
sayrer: probably the VML note that MS proposed is the smallest SVG spec :)

[12:26:00.0000] <sayrer>
shepazu, seriously, what's the smallest?

[12:26:01.0000] <shepazu>
I honestly don't know, but I'd have to guess SVG 1.0

[12:27:00.0000] <shepazu>
that said, I think SVG Tiny 1.2 is much more clean and well-defined

[12:27:01.0000] <sayrer>
I should clarify--I meant number of features, rather than spec length

[12:27:02.0000] <shepazu>
and though it has features some people don't like, is a better implementation target

[12:27:03.0000] <sayrer>
a long spec detailing a small number features would be best

[12:27:04.0000] <hsivonen>
/me guesses 1.1 Tiny/Mobile

[12:27:05.0000] <shepazu>
oh, then probably SVG Tiny 1.2

[12:28:00.0000] <shepazu>
oops

[12:28:01.0000] <shepazu>
SVG Tiny 1.1

[12:28:02.0000] <shepazu>
but that doesn't have scripting support, so most browsers already pass that by

[12:28:03.0000] <hsivonen>
sayrer: why?

[12:29:00.0000] <othermaciej>
each version of SVG has somewhat incompatibly changed the semantics (mostly minor)

[12:29:01.0000] <sayrer>
I want to use SVG for a purpose that doesn't have many requirements

[12:29:02.0000] <othermaciej>
for instance 1.1 technically requires you to catastrophically fail at rendering any time any attribute value is invalid

[12:29:03.0000] <sayrer>
just simple drawings

[12:29:04.0000] <shepazu>
then SVG Tiny 1.1

[12:30:00.0000] <sayrer>
hmm, it has animation

[12:30:01.0000] <shepazu>
true

[12:30:02.0000] <sayrer>
guess I have to make SVG 1.1 ReallyTiny

[12:30:03.0000] <shepazu>
lol

[12:30:04.0000] <sayrer>
interactivity is not required either

[12:31:00.0000] <othermaciej>
I don't think there is an SVG spec that is only suitable for simple drawings and no more

[12:31:01.0000] <shepazu>
then you can simply do a profile of SVG

[12:31:02.0000] <othermaciej>
some are more out of control than others

[12:31:03.0000] <shepazu>
there's an appendix that describes various profiles, including static

[12:31:04.0000] <sayrer>
oh good

[12:31:05.0000] <shepazu>
lemme find it

[12:32:00.0000] <shepazu>
http://www.w3.org/TR/SVG11/feature.html

[12:33:00.0000] <shepazu>
see http://www.w3.org/TR/SVG11/feature#SVG-static

[12:33:01.0000] <sayrer>
hmm, still has xlink

[12:33:02.0000] <sayrer>
I don't need links

[12:34:00.0000] <shepazu>
that's also used for inbound links, like image references

[12:34:01.0000] <sayrer>
well, I only want to allow data URLs for those

[12:34:02.0000] <sayrer>
do I have to use xlink to get that?

[12:35:00.0000] <sayrer>
lordy

[12:35:01.0000] <shepazu>
/me is puzzled why that's a problem

[12:35:02.0000] <shepazu>
it's not like that's a big implementation burden

[12:35:03.0000] <sayrer>
well, "src" would be three characters

[12:36:00.0000] <sayrer>
it is not hard to implement, I agree

[12:36:01.0000] <sayrer>
just verbose

[12:36:02.0000] <shepazu>
"r" would be one character

[12:36:03.0000] <shepazu>
the size of a data:URL is going to dwarf any attribute name

[12:37:00.0000] <sayrer>
but now I have to use namespaces

[12:37:01.0000] <sayrer>
or more than one, anyway

[12:37:02.0000] <sayrer>
always a sign of trouble

[12:37:03.0000] <shepazu>
/me is going to avoid this religious issue

[12:38:00.0000] <sayrer>
well, it's not religious in this case

[12:38:01.0000] <sayrer>
I don't need this to be extensible, so namespaces aren't helping much :)

[12:38:02.0000] <shepazu>
netsplit!!! run for your lives!

[12:39:00.0000] <sayrer>
shepazu, so are the features discussed in this appendix the same things I would find in SVG Tiny?

[12:39:01.0000] <sayrer>
or is there a table that explains this concisely somewhere?

[12:40:00.0000] <shepazu>
sayrer: not sure... look in SVG Tiny 1.1 for the featurestrings there

[12:40:01.0000] <shepazu>
I don't know of such a table, but I think it would behoove the SVG WG to make one

[12:41:00.0000] <shepazu>
I'm happy to bring that up, or champion it if you sent an email to www-svg explaining your use case

[12:41:01.0000] <sayrer>
well, I'm still exploring right now, so I think my explanation would be bad

[12:41:02.0000] <sayrer>
but I will do that eventually

[12:42:00.0000] <shepazu>
ok, that'd be great

[12:42:01.0000] <shepazu>
interestingly enough, I was just writing an email about how static SVG is taking off more and more

[12:44:00.0000] <sayrer>
it looks like the Mobile/Tiny stuff insists on interactivity

[12:45:00.0000] <shepazu>
sayrer: I think an SVG Core spec for static SVG, without interactivity or animation, would be interesting

[12:46:00.0000] <shepazu>
or SVG Static, whatever

[12:46:01.0000] <sayrer>
do you think it would take a long time to specify? or would it be a cut and paste job?

[12:46:02.0000] <shepazu>
it might be of interest to drawing tools and other scenarios where they think SVG is too heavy

[12:47:00.0000] <shepazu>
sayrer: more or less the latter

[12:48:00.0000] <shepazu>
but finding time and resources to do that within the WG might be hard, considering that most of the participants are interested in dynamic, scripted, animated, and interactive aspects of SVG

[12:49:00.0000] <sayrer>
seems like it would be uncontroversial as a W3C Note

[12:49:01.0000] <shepazu>
if this is of interest to Mozilla, and you put some resources in (and maybe helped find other participants who would do the same), I think we could do it

[12:49:02.0000] <shepazu>
I don't think it would be controversial as a spec, actually

[12:49:03.0000] <shepazu>
just a matter of resources

[12:49:04.0000] <sayrer>
tbh, I'm kind of dismayed it doesn't already exist, and wasn't considering resource allocation

[12:50:00.0000] <sayrer>
so I'll see how this goes

[12:50:01.0000] <shepazu>
ok, let me know

[12:50:02.0000] <shepazu>
like I said, that featurestring is a reasonable profile

[12:51:00.0000] <shepazu>
/me is curious what sayrer is planning... is this for Mozilla?

[12:51:01.0000] <sayrer>
yes, it is, but it's just my pet project

[12:51:02.0000] <shepazu>
/me guesses it's for Thunderbird

[12:51:03.0000] <shepazu>
that's cool

[12:51:04.0000] <sayrer>
nah, I don't work on Thunderbird much

[12:52:00.0000] <Philip`>
/me wonders what one would call a project about pets, to distinguish it from the term 'pet project'

[12:53:00.0000] <sayrer>
but this is unrelated to Firefox's general SVG stuff

[12:53:01.0000] <shepazu>
taxidermy?

[12:53:02.0000] <sayrer>
sorry I'm being so dodgy, I'm not ready to talk much about it

[12:59:00.0000] <shepazu>
/me was just watching a heron fishing in his backyard pond :D

[12:59:01.0000] <shepazu>
really cool, the way they move... keeping their head in the same position while they walk up underneath it for each step

[13:34:00.0000] <hsivonen>
/me really doesn't like the RELAX NG duplicate attribute prohibition

[13:50:00.0000] <zcorpan_>
i think it would be useful to look at text/html pages that have <math> or <svg> tags in order to figure out if the scoping proposal would break stuff

[15:58:00.0000] <Hixie>
haha shelley wants progress on the web to stop so that a book doesn't go out of date

[15:58:01.0000] <Hixie>
that's funny

[15:59:00.0000] <Pavlov>
that person work for microsoft?

[15:59:01.0000] <othermaciej>
frankly

[16:00:00.0000] <othermaciej>
if authors of books about web technology are frustrated at the rapid pace of progress

[16:00:01.0000] <othermaciej>
then I am happy

[16:00:02.0000] <gsnedders>
It means the web isn't stagnating.

[16:01:00.0000] <othermaciej>
but I think Shelley was more complaining about lack of roadmap

[16:01:01.0000] <othermaciej>
from the various engines

[16:02:00.0000] <Dashiva>
You don't really plan bugs ahead of time, and once you discover them holding back a fix for no good reason is kinda... odd.

[16:04:00.0000] <Hixie>
i don't even understand http://realtech.burningbird.net/semweb/wordpress-25-releases/#comment-696

[16:04:01.0000] <Hixie>
i think what shelley is saying is that html5 shouldn't be easy because if it's easy people will use it instead of xhtml.

[16:07:00.0000] <Dashiva>
Does Shelley really think that with namespaces you can add new languages without the browsers needing to implement it first?

[16:07:01.0000] <Hixie>
a lot of people seriously think that

[16:07:02.0000] <Hixie>
a lot of people even think it's a good idea

[16:11:00.0000] <Hixie>
anyone have any web pages that use mathml that aren't, like, the blogs of editors of the spec or anything like that?

[16:11:01.0000] <gsnedders>
the spec == MathML?

[16:14:00.0000] <sayrer>
Hixie, Jacques Distler's pages?

[16:15:00.0000] <sayrer>
http://golem.ph.utexas.edu/~distler/blog/archives/001642.html#more

[16:15:01.0000] <sayrer>
for example

[16:16:00.0000] <Hixie>
yeah i have that one already

[16:16:01.0000] <Hixie>
but he might as well be on the committee :-)

[16:16:02.0000] <Hixie>
bbl lunch

[16:17:00.0000] <Dashiva>
/me wonders what a stretchy operator is

[16:18:00.0000] <sayrer>
Hixie, http://mathcast.sourceforge.net/fields.xml

[16:24:00.0000] <jgraham>
Dashiva: presumably something like http://www.pixar.com/featurefilms/incredibles/chars_pop2.html

[16:25:00.0000] <jgraham>
(seriously, it's something like a summation sign that needs to change size depending on what it operates on)

[16:45:00.0000] <webben_>
seen in  #css: "is it possible to make a list go vertically upwards instead of downwards?" ... seem to remember this cropping up as a request before on the WHATWG/public-html lists. :)


2008-03-31
[17:54:00.0000] <BenMillard>
hixie, from the IRC logs I see you wrote "anyone have any web pages that use mathml that aren't, like, the blogs of editors of the spec or anything like that?" to which I'd suggest the only web pages that make *good* use HTML are from a similar segment of the population

[18:00:00.0000] <BenMillard>
"You can learn a lot by viewing an interesting page with MathML and selecting 'View Page Source'." from http://www.pdas.com/mathml.htm suggests it exists

[18:02:00.0000] <Philip`>
/me finds one page using a <math> element

[18:03:00.0000] <Philip`>
http://www.unics.uni-hannover.de/cpr/x/rueckemann/de/rueckemann.html - "Paderborn Center for Parallel Computing (PC<MATH CLASS=INLINE><SUP>2</SUP></MATH>)"

[18:03:01.0000] <BenMillard>
http://www-math.mit.edu/18.013A/MathML/chapter06/section01.xhtml is from http://www-math.mit.edu/18.013A/ which is a MIT course material...since MIT is part of W3C maybe that doesn't count?

[18:04:00.0000] <BenMillard>
http://www.math.uah.edu/stat/ seems to use it throughout (states MathML support as a requirement on the homepage)

[18:04:01.0000] <BenMillard>
btw I'm finding these by Googling for "mathml on the web"

[18:05:00.0000] <BenMillard>
http://www.math.uah.edu/stat/foundations/Sets.xhtml - an example from the previous site

[18:14:00.0000] <BenMillard>
http://www.mozilla.org/projects/mathml/ was a project to develop MathML authoring tools and interoperable practices, such as using <object>

[18:18:00.0000] <BenMillard>
http://pear.math.pitt.edu/mathzilla/Examples/markupOftheWeek.mhtml uses MathML, the site also has this paper where MathML is used inside sentences: http://pear.math.pitt.edu/mathzilla/Examples/DynHieruni.xml

[18:29:00.0000] <BenMillard>
http://www1.chapman.edu/~jipsen/mathml/asciimath.html uses ASCII which is then turned into markup using JS, it states "ASCIIMathML is being used with Movable Type, WordPress, phpBB, and many wikis." but I can't find links to example sites

[18:30:00.0000] <BenMillard>
the Web appears to be a big place

[18:45:00.0000] <BenMillard>
http://www.dessci.com/en/products/webeq/ is a MathML editor which produces MathML and uses Java. that page claims "The world's leading e-learning companies, content developers and education portals are using WebEQ to create web-based learning environments that help educators engage students in math and science on the web." but I cannot find example pages of these

[18:57:00.0000] <Dashiva>
BenMillard: Probably a lot on intranets, but that doesn't help us

[19:02:00.0000] <Hixie>
webben_: html5 has <ol reversed> or some such now

[19:02:01.0000] <webben_>
Hixie: cool

[19:02:02.0000] <Hixie>
BenMillard: oh i'm not looking for pages that use mathml correctly :-)

[19:03:00.0000] <Hixie>
BenMillard: i'm looking for "real" pages

[19:06:00.0000] <webben_>
http://golem.ph.utexas.edu/category/ and the journals mentioned in the mathml thread seem relevant

[19:24:00.0000] <Hixie>
BenMillard, webben: thanks for the links

[19:39:00.0000] <BenMillard>
hixie, np. there were lots of results for searches along those lines

[19:39:01.0000] <Hixie>
cool

[19:39:02.0000] <Hixie>
i shall investigate further

[19:43:00.0000] <BenMillard>
webben, <ol reversed> was in Hixie's response here http://lists.w3.org/Archives/Public/public-html/2008Feb/0357.html

[19:43:01.0000] <BenMillard>
(search for "9 Jan 2008" to see messages which led to it)

[19:44:00.0000] <BenMillard>
(the forum thread it links to here http://forums.whatwg.org/viewtopic.php?t=130 has lots of use cases)

[19:44:01.0000] <Hixie>
it's in the spec here: http://www.whatwg.org/specs/web-apps/current-work/#reversed

[19:45:00.0000] <BenMillard>
and in the multipage version (which I much prefer!) here: http://www.whatwg.org/specs/web-apps/current-work/multipage/section-grouping.html#reversed

[19:47:00.0000] <Hixie>
:-)

[19:47:01.0000] <Hixie>
i hate multipage specs

[19:47:02.0000] <Hixie>
i can never find anything in them

[19:49:00.0000] <BenMillard>
as an author, I'm usually looking for a specific element or attribute, so they are OK if there's an index of those things

[19:50:00.0000] <Hixie>
yeah

[19:50:01.0000] <Hixie>
we will eventually add much better indexing

[19:50:02.0000] <BenMillard>
the front page is pretty good with find-in-page

[19:51:00.0000] <Hixie>
(gsnedders doesn't know it yet, but if he ends up writing a good preprocessor, he'll probably end up helping out a lot in that area)

[19:53:00.0000] <Hixie>
it's weird how people associate syntax with language

[19:53:01.0000] <Hixie>
(c.f. David Carlisle's e-mail)

[19:55:00.0000] <BenMillard>
there are so many I don't know which that is :)

[19:55:01.0000] <Hixie>
more recent ones

[19:55:02.0000] <Hixie>
it is weird that we are getting so much reluctance from the mathml group to make their syntax easier

[19:55:03.0000] <Hixie>
given that the mathml syntax is the number 1 problem with mathml

[19:56:00.0000] <BenMillard>
oh, I see

[19:58:00.0000] <BenMillard>
if the people using the syntax are happy with the syntax then it doesn't seem like a problem to me...

[19:59:00.0000] <Hixie>
the people who aren't happy with their syntax aren't using it :-)

[20:00:00.0000] <Hixie>
seriously though, compare the first two examples in http://wiki.whatwg.org/wiki/Equations_in_HTML

[20:00:01.0000] <Hixie>
how do we _not_ want people to use the second?

[20:00:02.0000] <BenMillard>
neither are things I'd ever want to write, personally :P

[20:01:00.0000] <BenMillard>
from what I've read, the tools handle the syntax and the author uses a word processor, or they use an ASCII-based syntax which is then coverted by a tool

[20:01:01.0000] <Hixie>
can't argue with that

[20:01:02.0000] <Hixie>
unfortunately "the tools with save us" has rarely worked on the web

[20:02:00.0000] <BenMillard>
indeed, but mathematicians aren't noobs and the MathML which exists seems pretty well authored, from the little I've seen

[20:03:00.0000] <Hixie>
just like english majors aren't the only audience of prose html elements, mathematicians aren't the only audience for the math parts

[20:03:01.0000] <Hixie>
and frankly, most mathematicians _are_ noobs when it comes to writing markup and using equation editors

[20:03:02.0000] <Hixie>
after all, they're experts in maths, not editors

[20:03:03.0000] <BenMillard>
heh

[20:04:00.0000] <BenMillard>
you think non-mathematicians would use any sort of math markup?

[20:10:00.0000] <Hixie>
i'm not a mathematician

[20:10:01.0000] <Hixie>
and my final year report for my physics degree had loads of mathml in it

[20:10:02.0000] <Hixie>
handwritten

[20:10:03.0000] <Hixie>
painfully

[20:11:00.0000] <BenMillard>
my idea of a "mathematician" is broad and would include people who publish any degree-level maths

[20:12:00.0000] <BenMillard>
would you expect math markup to appear around casual sums, like people adding up the cost-per-year of their TV service?

[20:13:00.0000] <Hixie>
no

[20:13:01.0000] <Hixie>
but i wouldn't be surprised to see it in a web page talking about 3d graphics

[20:13:02.0000] <BenMillard>
ok, so we only expect math markup from people who are fairly serious about maths?

[20:14:00.0000] <Hixie>
i'm not sure what "fairly serious" means really

[20:14:01.0000] <Hixie>
i'd expect people to use things like fractions long before they knew about integration

[20:16:00.0000] <Hixie>
well a brief adhoc survey of pages that use mathml suggests that none of them use both presentational mathml and content mathml, though one page did use content mathml and convert it to presentational mathml using xslt, which is pretty cool

[20:16:01.0000] <Hixie>
clearly i need to do a more serious study

[20:28:00.0000] <webben_>
"A valid browsing context name is any string that does not start with a U+005F LOW LINE character, or, a string that case-insensitively matches one of: _self, _parent, or _top. (Names starting with an underscore are reserved for special keywords.)" ... is making "_blank" invalid deliberate?

[20:28:01.0000] <webben_>
http://www.w3.org/html/wg/html5/#valid8

[20:32:00.0000] <Hixie>
yeah

[20:32:01.0000] <Hixie>
but we'll probably change that

[20:33:00.0000] <Hixie>
and instead make it optional for UAs to honour it

[20:34:00.0000] <webben_>
Hixie: Okay, just wondering. Thanks for the info. :)

[20:43:00.0000] <BenMillard>
the month I took off work ends on 1st April, officially. so making websites will become my priority once again

[20:43:01.0000] <BenMillard>
night night

[03:14:00.0000] <hendry>
anyone going to Xtech?

[03:14:01.0000] <hsivonen>
hendry: I am

[03:15:00.0000] <hendry>
hsivonen: ok, great. :)

[03:33:00.0000] <gsnedders>
Hixie: I know now :P

[03:47:00.0000] <jgraham__>
http://blog.ianbicking.org/2008/03/30/python-html-parser-performance/

[03:52:00.0000] <hsivonen>
jgraham__: last summer, the html5lib source didn't look performance-oriented

[03:52:01.0000] <jgraham__>
hsivonen: It's not

[03:52:02.0000] <hsivonen>
though I don't know if cPython does Scheme-like optimizations

[03:52:03.0000] <hsivonen>
I assumed it doesn't

[03:52:04.0000] <jgraham__>
although it has got better since last summer

[03:53:00.0000] <jgraham__>
You mean the tail call optimization stuff?

[03:53:01.0000] <hsivonen>
jgraham__: yes

[03:53:02.0000] <jgraham__>
That doesn't even feature on the radar of perf. problems for typical documents

[03:54:00.0000] <jgraham__>
Last I checked, we spend somewhere around half the time just reading characters

[03:54:01.0000] <hsivonen>
ah

[03:55:00.0000] <jgraham__>
(although that may actually have gone down, we had a patch that improved things and I might be remembering numbers from before that patch)

[04:47:00.0000] <gsnedders>
Philip`: http://hg.gsnedders.com/hgwebdir.cgi/http-parsing/file/fbfbeb6b74b7/Philip%20Taylor%27s%20Header%20Data/README.txt — comments?

[05:15:00.0000] <hsivonen>
book authors should read my site :-) http://lists.w3.org/Archives/Public/www-style/2008Mar/0435.html

[05:34:00.0000] <hsivonen>
hmm. the University of Illinois ARIA demos have bad target attribute values and unescaped spaces in URIs

[05:43:00.0000] <hsivonen>
WHOA! http://lists.w3.org/Archives/Public/www-style/2008Mar/0437.html

[05:45:00.0000] <Philip`>
gsnedders: That makes it sound really complex

[05:45:01.0000] <gsnedders>
Philip`: :P

[05:45:02.0000] <Philip`>
gsnedders: In my existing content, the uri attribute isn't necessarily syntactically valid

[05:46:00.0000] <gsnedders>
ergh.

[05:46:01.0000] <Philip`>
If I remember correctly, it's taken directly from the dmoz.org list

[05:46:02.0000] <Philip`>
and a few of those are broken

[05:46:03.0000] <Philip`>
so they're likely to end up as <error>s

[05:47:00.0000] <gsnedders>
from what I saw they are all valid IRIs, but not URIs

[05:47:01.0000] <takkaria>
hsivonen: that makes me unhappy

[05:47:02.0000] <hsivonen>
takkaria: yeah. versioning is bad for Web formats

[05:49:00.0000] <Philip`>
gsnedders: Hmm, error messages have types?

[05:49:01.0000] <gsnedders>
Philip`: in what you gave me they do :P

[05:49:02.0000] <Philip`>
Oh, so they do

[05:50:00.0000] <Philip`>
res.statusCode != HttpStatus.SC_OK causes type=http

[05:50:01.0000] <Philip`>
IOException (e.g. any HTTP error detected inside HttpClient, I think) causes type=io

[05:50:02.0000] <Philip`>
Any other Exception causes type=other

[05:51:00.0000] <hsivonen>
Validator.nu with HTML5+ARIA is now up

[05:51:01.0000] <hsivonen>
(where ARIA is more like ARIA with my opinion)

[05:51:02.0000] <gsnedders>
/me wonders if he can con his way into going to France/Swizerland for next Sunday

[05:52:00.0000] <hsivonen>
I'll test it some more and then proceed to announce it as an executable suggestion

[05:52:01.0000] <gsnedders>
LHC's last open day

[05:54:00.0000] <Philip`>
gsnedders: All you need to do is become a particle physicist, and then spend a couple of years analysing data from it, and then maybe you'd be able to visit it and have a good look

[05:54:01.0000] <gsnedders>
Philip`: Particle physics aren't really my area, though

[05:54:02.0000] <hsivonen>
hmm. I forgot to add IDREF checking for ARIA...

[05:55:00.0000] <gsnedders>
s/aren't/isn't.

[05:55:01.0000] <gsnedders>
s#.#/#

[05:55:02.0000] <gsnedders>
you can tell I'm a scientist, my English is bad :P

[05:56:00.0000] <Philip`>
/me starts reading the maths thread again, then sees the size of the scrollbars and stops

[05:56:01.0000] <gsnedders>
/me has just started too

[05:56:02.0000] <Philip`>
s/starts/accidentally starts/

[06:00:00.0000] <takkaria>
gsnedders: ~£155 it looks like

[06:00:01.0000] <hsivonen>
how do I test in XPath than a node returned by id() is a descendant of the context node?

[06:06:00.0000] <hsivonen>
/me guesses test='id(@aria-activedescendant) = descendant::*'

[06:07:00.0000] <Philip`>
gsnedders: It would be useful to say stuff like whether the data for a given uri might be repeated, and like which redirect URI matches the other data's uri

[06:08:00.0000] <Philip`>
Also this is a rubbish format for storing HTTP headers

[06:08:01.0000] <Philip`>
like how it's just a load of elements mashed together

[06:08:02.0000] <Philip`>
It'd seem much better to design a more useful format, then convert the old XML files into that

[06:09:00.0000] <Philip`>
(particularly since any similar files I produce in the future are likely to be slightly different formats anyway)

[06:10:00.0000] <hsivonen>
yay. correct guess

[06:26:00.0000] <hsivonen>
hmm. what's the point of putting a W3C Validation button on this page: http://test.cita.uiuc.edu/aria/alert/view_inline.php?title=Alert%20Example%201:%20Number%20Guessing%20Game&ginc=includes/alert1_inline.inc&gcss=css/alert1_class.css&gjs=../js/globals.js,../js/widgets_inline.js,js/alert1_class.js

[06:27:00.0000] <hsivonen>
(aside: the URL looks like an invitation for XSS)

[06:33:00.0000] <Philip`>
hsivonen: Not just XSS

[06:33:01.0000] <Philip`>
http://test.cita.uiuc.edu/aria/alert/view_inline.php?ginc=/etc/passwd

[06:35:00.0000] <Philip`>
http://test.cita.uiuc.edu/aria/alert/view_inline.php?ginc=http://google.com - still with the valid HTML 4.01 button

[06:39:00.0000] <hsivonen>
/me alerted the admin

[06:39:01.0000] <Philip`>
You are too kind :-(

[06:44:00.0000] <hsivonen>
XSS vulnerabilites are alarmingly common

[06:45:00.0000] <Philip`>
Printing arbitrary local files seems to be much less common, fortunately

[06:45:01.0000] <hsivonen>
this morning, a tinyurl embedding the Pirate Bay on the site of a mandatory royalty collection society circulated on IRC 

[06:56:00.0000] <gsnedders>
Philip`: I'm moving all the data to SQLite anyway

[06:56:01.0000] <gsnedders>
Philip`: the URI after a redirect is which?

[06:57:00.0000] <gsnedders>
Philip`: And please don't have even more incompatible formats. I already have two to deal with :P

[06:58:00.0000] <Philip`>
gsnedders: I think I always print the source URI, i.e. the one that came from dmoz, i.e. before any redirects

[06:58:01.0000] <gsnedders>
Philip`: it seems so. I think I'll keep that undefined :P

[06:59:00.0000] <Philip`>
gsnedders: I'll make as many formats as are convenient for my survey process :-p

[06:59:01.0000] <gsnedders>
Philip`: damn you :P

[07:01:00.0000] <Philip`>
It's much easier to transform things into the desired format after it's all been condensed down to only a few hundred megabytes of easily-parsed (by regexps) XML

[07:03:00.0000] <gsnedders>
Philip`: Yeah, I just need more and more converters :P

[07:12:00.0000] <gsnedders>
Philip`: just keep the vague syntax of the header element the same, so that the same attributes exist on it :P

[07:12:01.0000] <gsnedders>
Philip`: even if you change the uri attribute to represent the actual URI where it came from

[08:11:00.0000] <hsivonen>
/me learns an important Schematron detail I should have learned two years ago

[08:34:00.0000] <hsivonen>
zcorpan: ARIA-aware Validator.nu deployed

[08:36:00.0000] <zcorpan>
hsivonen: sweet!

[08:37:00.0000] <zcorpan>
hsivonen: i'll have a look later

[08:39:00.0000] <hsivonen>
I'll write some documentation and findings

[10:06:00.0000] <annevk>
anyone ideas for tomorrow?

[10:11:00.0000] <annevk>
as in, for the blog

[10:11:01.0000] <annevk>
we drop support for <a> this year?

[10:12:00.0000] <virtuelv>
annevk: no, we can re-add the <hype> element

[10:12:01.0000] <annevk>
and suggest everything be done using onclick=location=... instead

[10:12:02.0000] <annevk>
to more clearly indicate the move towards applications

[10:12:03.0000] <virtuelv>
context, http://jwz.livejournal.com/856745.html

[10:14:00.0000] <hsivonen>
annevk: you mean like href on any element when a is gone?

[10:16:00.0000] <annevk>
heh

[10:16:01.0000] <zcorpan>
we need something more drastic

[10:16:02.0000] <annevk>
i meant having them do it with event listeners

[10:17:00.0000] <zcorpan>
like... html5 is cancelled

[10:17:01.0000] <aroben>
stopping development in favor of XHTML2?

[10:17:02.0000] <zcorpan>
or something else

[10:17:03.0000] <billmason>
In honor of Netscape history, version 5 is cancelled and version 6 will be written from scratch.

[10:18:00.0000] <annevk>
hehe

[10:19:00.0000] <annevk>
http://blog.whatwg.org/html6-plan was last year fwiw

[10:20:00.0000] <virtuelv>
mandate python as scripting language?

[10:20:01.0000] <virtuelv>
because python whitespace rules are such a good match for the web

[10:20:02.0000] <hsivonen>
Google Python conspiracy

[10:22:00.0000] <annevk>
dropping HTML in favor of wiki syntax

[10:22:01.0000] <annevk>
all 42 flavors

[10:25:00.0000] <zcorpan>
the whatwg is starting to get unresponsive and is moving in the wrong direction, so we'll start a new body

[10:26:00.0000] <annevk>
lol, "much simpler"

[10:26:01.0000] <annevk>
-- http://www.w3.org/mid/035401c8934c$12dd26e0$389774a0$@com

[10:41:00.0000] <Philip`>
/me wonders if someone will point out that the text in "Definition of the style attribute in HTML 5" is only defining document conformance and nothing about processing requirements and so there is no effect on parsing

[12:13:00.0000] <annevk>
there's now http://webforms2.org/

[12:13:01.0000] <annevk>
content welcome

[12:17:00.0000] <hober>
annevk: sorry we didn't get a chance to talk much the other night (I was the one in the 5>2 shirt @ the µf dinner)

[12:17:01.0000] <annevk>
ah :)

[12:18:00.0000] <annevk>
mostly my fault I guess, I wasn't there too long

[12:19:00.0000] <hober>
well, it was a sufficiently long/narrow table such that I didn't really talk to anyone at the other end

[13:16:00.0000] <zcorpan_>
hsivonen: i think aria attributes that would otherwise be specified on root are specified on body when the document is (x)html as implemented in firefox

[13:19:00.0000] <zcorpan_>
(because i and aaronlev thought that it would be more intiutive to authors)

[13:26:00.0000] <hsivonen>
zcorpan_: ok

[13:26:01.0000] <hsivonen>
thanks

[13:32:00.0000] <hsivonen>
zcorpan_: deployed

[13:58:00.0000] <xShad0w_>
does anyone know about embedding xml, or adding xml into a html file

[13:58:01.0000] <xShad0w_>
anything about html5 supporting it?

[13:59:00.0000] <annevk>
currently no, what problem are you trying to solve?

[14:00:00.0000] <xShad0w_>
well im trying to embed some data

[14:00:01.0000] <xShad0w_>
i just need a way to store some data thats accessible with javascript

[14:00:02.0000] <annevk>
ah ok

[14:01:00.0000] <annevk>
Hixie is working on making that possible: http://wiki.whatwg.org/wiki/CustomData

[14:01:01.0000] <xShad0w_>
i dont want add too much syntax with div's or such, any suggestions?

[14:01:02.0000] <xShad0w_>
would that pass in current browsers?

[14:01:03.0000] <annevk>
well, .dataset wouldn't work

[14:01:04.0000] <annevk>
but you could use set/getAttribute to do that

[14:02:00.0000] <xShad0w_>
i should set the display to none right

[14:02:01.0000] <annevk>
do data-* attributes work for you?

[14:03:00.0000] <xShad0w_>
umm yea that should work

[14:04:00.0000] <xShad0w_>
so all the attributes have to start with data- ?

[14:04:01.0000] <annevk>
that's the proposal

[14:05:00.0000] <xShad0w_>
looks like it should work thanks

[14:06:00.0000] <annevk>
please note that all this is pre-alpha :)

[14:08:00.0000] <xShad0w_>
well i guess it won't pass w3c validation for now but hopefully it should work

[14:08:01.0000] <Hixie>
 wow, whatever lxml does, html5lib should do :-)

[14:08:02.0000] <annevk>
having a native C implementation?

[14:28:00.0000] <Hixie>
nthat works :-)

[14:58:00.0000] <jgraham>
Hixie: Patches welcome :)

[15:04:00.0000] <jgraham>
(I did start working on a C implementation btw, but work on that has totally stalled)

[15:21:00.0000] <annevk>
does Mozilla do full MathML or just presentational MathML?

[15:23:00.0000] <Hixie>
p

[15:23:01.0000] <annevk>
right, that's what I thought

[15:23:02.0000] <Pavlov>
not sure, lots of mathml work has been going on lately

[15:23:03.0000] <Pavlov>
but not sure to what extent

[15:24:00.0000] <annevk>
I don't get the comments about "full MathML" and all then referring to Mozilla

[15:24:01.0000] <annevk>
Pavlov, fixing the breakage? :)

[15:24:02.0000] <Pavlov>
annevk: certain some of it, but fixing a lot of of things beyond that as i understand it

[15:24:03.0000] <Pavlov>
"full mathml" probably ~= "enough mathml to do what I want"

[15:35:00.0000] <Hixie>
i really don't see a way to go foward with the math stuff

[15:36:00.0000] <othermaciej>
math markup seems like a messy situation

[15:36:01.0000] <Pavlov>
it is

[15:36:02.0000] <hsivonen>
Hixie: why not. all we need is a new insertion mode that triggers on <math>

[15:36:03.0000] <othermaciej>
MathML seems painful as a direct authoring format

[15:36:04.0000] <Hixie>
hsivonen: new insertion modes don't work

[15:36:05.0000] <hsivonen>
Hixie: getting the mess into <math> is left to iTeX4MML, TeX4HT, OpenOffice.org 4, etc.

[15:36:06.0000] <othermaciej>
but majorly diverging from it on surface syntax also seems problematic

[15:37:00.0000] <Hixie>
hsivonen: "the tools will save us"?

[15:37:01.0000] <hsivonen>
Hixie: yes

[15:37:02.0000] <roc_>
we only do pres. mathML

[15:38:00.0000] <Hixie>
hsivonen: they won't :-)

[15:38:01.0000] <hsivonen>
Hixie: as for Content MathML, I'd allow it when Presentation MathML is there

[15:38:02.0000] <hsivonen>
Hixie: clipboard export of Content MathML is low-cost for browsers

[15:38:03.0000] <Hixie>
hsivonen: having two formats doesn't work either, you know that

[15:38:04.0000] <annevk>
if nobody supports content MathML why support it

[15:39:00.0000] <Hixie>
also very few authors seem to actually provide it

[15:39:01.0000] <hsivonen>
Hixie: so in case Wolfram and Waterloo come up with something wonderful, we wouldn't prevent them

[15:39:02.0000] <Hixie>
hsivonen: there's no way we're including redundant markup.

[15:39:03.0000] <Hixie>
hsivonen: that's a known anti-pattern.

[15:39:04.0000] <hsivonen>
Hixie: I think browsers, Google and most authors will only care about Presentation MathML

[15:40:00.0000] <hsivonen>
Hixie: ok.

[15:40:01.0000] <hsivonen>
Hixie: how do you prevent it without putting traps in the tree builder on purpose?

[15:40:02.0000] <Hixie>
hsivonen: we have to hardcode all the tag names anyway, it won't work unless we explicitly allow it

[15:41:00.0000] <hsivonen>
Hixie: why can't you scope on <math>?

[15:41:01.0000] <Hixie>
hsivonen: because there are documents that have <math> tags in them today where those tags are just ignored

[15:42:00.0000] <hsivonen>
Hixie: are those docs for IE and Google misdiagnoses them?

[15:42:01.0000] <Hixie>
hsivonen: and if we switch insertion modes and do something dramatically different to today until </math>, those pages will break

[15:42:02.0000] <hsivonen>
:-(

[15:42:03.0000] <Hixie>
hsivonen: some surely are, but there's all kinds of crap out on the web

[15:43:00.0000] <Hixie>
sam's forwarding of jacque

[15:43:01.0000] <Hixie>
's comments was very useful

[15:44:00.0000] <annevk>
if pages have <math> doing special parsing inside <math> based on punctation and numbers won't work either

[15:44:01.0000] <Hixie>
annevk: adding <mo>, <mi>, and <mn> elements won't affect most pages

[15:45:00.0000] <Hixie>
annevk: it would only affect pages that did really weird things with script and/or css

[15:46:00.0000] <hsivonen>
http://www.ibm.com/developerworks/blogs/page/woolf?entry=secure_mashups_with_smash?ca=drs-bl

[15:46:01.0000] <hsivonen>
is that for real with existing browser implementations?

[15:48:00.0000] <annevk>
Hixie, true

[15:49:00.0000] <hsivonen>
Is Raman disagreeing with something I didn't actually say or is he making a more general point about TeX and role=math?

[15:55:00.0000] <annevk>
hmm, http://meyerweb.com/eric/thoughts/2008/03/27/acid-redux/#comment-344298

[16:03:00.0000] <jgraham>
Hixie: "The tools will save us" could work if the tool in question is the browser itself

[16:04:00.0000] <annevk>
for some things tools do work, such as PNG, JPEG, and GIF

[16:05:00.0000] <annevk>
(though when I need simple graphics I find myself using <canvas>, to be fair)

[16:05:01.0000] <jgraham>
specifically I think having byzantine rules for start tag inference in a format that is partially XML is a bad idea 

[16:05:02.0000] <annevk>
HTML is "partially" XML

[16:05:03.0000] <jgraham>
On the other hand treating math like a particularly complex microformat might work OK

[16:06:00.0000] <jgraham>
annevk: There is really nothing in HTML to compare to the idea of converting <mrow>1 + 2</mrow> to three elements

[16:07:00.0000] <annevk>
/me is satisfied with the <tbody> sample

[16:07:01.0000] <jgraham>
Do you think authors even know that <tbody> exists?

[16:08:00.0000] <annevk>
I don't think they do and I don't think it's much of a problem

[16:08:01.0000] <annevk>
It started being a problem when people started using XHTML

[16:08:02.0000] <annevk>
but then XHTML is a lot more complex anyway

[16:09:00.0000] <hsivonen>
annevk: tbody is a problem with child selectors and DOM scripting, too, if you don't know it is there

[16:09:01.0000] <jgraham>
Right so it's not really comparable, unless you can come up with a maths format where e.g. <mo> is _never_ needed

[16:09:02.0000] <annevk>
I don't think authors will know or care that <mo> is there

[16:09:03.0000] <annevk>
they just want to write down the Math and have it look decently

[16:09:04.0000] <Dashiva>
hsivonen: I can't find a single page saying anything about what smash actually is, just how awesome it's going to be.

[16:09:05.0000] <hsivonen>
I'd just go with MathML elements without start tag inference and leave it to authors to choose their favorite tools to save them

[16:10:00.0000] <annevk>
I'd like my text editor to save me :)

[16:10:01.0000] <hsivonen>
what does OpenAjax Alliance actually do?

[16:10:02.0000] <annevk>
i've no idea, but they discuss stuff

[16:10:03.0000] <Dashiva>
It sounds like something MS started :)

[16:11:00.0000] <annevk>
/me wonders if anyone else just got an e-mail he didn't

[16:11:01.0000] <annevk>
s/anyone/everyone/

[16:12:00.0000] <hsivonen>
annevk: I pasted a URL a while ago: http://www.ibm.com/developerworks/blogs/page/woolf?entry=secure_mashups_with_smash?ca=drs-bl

[16:13:00.0000] <annevk>
/me finds http://www.openajax.org/member/wiki/Steering_Committee

[16:14:00.0000] <annevk>
"NEXAWEB/Coach Wei" was pushing XAL at some point in the W3C WAF WG...

[16:19:00.0000] <hsivonen>
XAL?

[16:21:00.0000] <annevk>
http://www.w3.org/TR/dfaui/

[16:21:01.0000] <othermaciej>
Dashiva: IBM started it I think

[16:24:00.0000] <hsivonen>
annevk: thanks.

[16:24:01.0000] <hsivonen>
/me thinks HTML5 possibly with the XUL flex model in CSS is the right way forward

[16:24:02.0000] <sayrer>
yeah, need some box model

[16:25:00.0000] <annevk>
yeah, who's going to do that?

[16:25:01.0000] <sayrer>
I think someone at Mozilla is going to

[16:25:02.0000] <annevk>
awesomeness

[16:25:03.0000] <sayrer>
but I forget who that is

[16:25:04.0000] <annevk>
there are some alternate proposals for grid layouts but i think i prefer flexbox

[16:26:00.0000] <annevk>
others being http://www.w3.org/TR/2007/WD-css3-layout-20070809/ and http://www.w3.org/TR/2007/WD-css3-grid-20070905/

[16:27:00.0000] <hsivonen>
nn

[16:27:01.0000] <Hixie>
who's the guy dan got to add the issues to the html issues list again?

[16:28:00.0000] <annevk>
i think he's more busy now

[16:28:01.0000] <Hixie>
shawn?

[16:28:02.0000] <annevk>
yeah

[16:28:03.0000] <annevk>
medero or so

[16:28:04.0000] <annevk>
yeah, that's it

[16:28:05.0000] <annevk>
(fwiw, the style attr issue was added by jgraham already)

[16:30:00.0000] <Hixie>
ah ok

[16:30:01.0000] <Hixie>
nevermind then

[16:38:00.0000] <jgraham>
Hixie: You can add issues to the issues list fwiw

[16:38:01.0000] <Hixie>
yes

[16:38:02.0000] <Hixie>
i don't especially like doing so though :-)

[16:38:03.0000] <jgraham>
OK

[16:38:04.0000] <Hixie>
<mprescripts> is a weird element

[16:40:00.0000] <annevk>
where our you locked with the MathML stuff btw?

[16:40:01.0000] <annevk>
or did you find a way to move forward?

[16:42:00.0000] <Hixie>
i have the following problems:

[16:43:00.0000] <Hixie>
* mathml content + presentation involves redundancy that i want to avoid, due to the known issues of the antipattern of including data twice

[16:43:01.0000] <Hixie>
* presentational mathml is way too verbose too hand-author sanely

[16:43:02.0000] <Hixie>
* some people want both mathml content + presentation to be included in html5

[16:44:00.0000] <Hixie>
* some people want no inferred tags in anything we add to html5

[16:45:00.0000] <Philip`>
(PNG is way too hard to hand-author too)

[16:45:01.0000] <annevk>
PNG is pretty easy with <canvas> nowadays :)

[16:45:02.0000] <Philip`>
Okay, JPEG then :-p

[16:45:03.0000] <annevk>
Hixie, it seems only the first two are real problems

[16:45:04.0000] <Hixie>
* non-mathml-syntax solutions, e.g. ASCIIMathML, are incomplete compared to MathML, and would require really hard work to support in teh html5 parser

[16:46:00.0000] <annevk>
oh, that too :)

[16:46:01.0000] <jgraham>
/me invokes the priority of constituencies :)

[16:46:02.0000] <Hixie>
so i don't know what to do

[16:47:00.0000] <Hixie>
jgraham: ASCIIMathML is pretty non-intuitive for anything non-trivial

[16:51:00.0000] <jgraham>
Hixie: it doesn't look so bad to me; at least from the point of view of people who already know LaTeX

[16:53:00.0000] <Hixie>
the issues with doing something like ASCIIMathML or LaTeX are:

[16:53:01.0000] <Hixie>
* very complicated parsing rules, far more so than anything so far in html

[16:53:02.0000] <Hixie>
* isn't MathML, so we lose any kind of even remotely sane round-tripping

[16:53:03.0000] <Hixie>
* very unclear how to style it

[16:54:00.0000] <Hixie>
* incomplete compared to MathML

[16:54:01.0000] <jgraham>
Hixie: It has to map into a MathML DOM internally

[16:54:02.0000] <Hixie>
right, that's assumed

[16:54:03.0000] <Hixie>
that's actually where most of the problems come from

[16:55:00.0000] <jgraham>
I think that makes the round-tripping no worse than the almost-MathML-as-XML case

[16:56:00.0000] <Hixie>
if we use mathml, you can do this:

[16:56:01.0000] <annevk>
would the processing be on the tokenizer level or post processing during the parser stage?

[16:56:02.0000] <Philip`>
Hixie: I'd guess http://www.whatwg.org/charter.pl should be updated

[16:56:03.0000] <jgraham>
The styling thing isn't so critical for Maths but it can be solved using Firebug

[16:56:04.0000] <Hixie>
use a tool, paste into text/html, right-click and choose mathml source, paste into mathml tool, repeat

[16:57:00.0000] <Hixie>
if we use a mathml incompatible syntax, we lose that

[16:57:01.0000] <Hixie>
i really don't think we should be relying on tools to solve any of these problems

[16:57:02.0000] <Hixie>
we have historically seen that that simply doesn't work

[16:57:03.0000] <Hixie>
Philip`: thanks

[16:58:00.0000] <jgraham>
I tend to agree but I think MathML is so bad to hand author that you need to have a tool either for the authoring or for some other aspect of the process

[16:59:00.0000] <Hixie>
i've hand-written mathml

[16:59:01.0000] <Hixie>
if we could simplify it a bit, it would be ok

[16:59:02.0000] <jgraham>
Me too. That's what I base my position on :)

[16:59:03.0000] <Hixie>
but people are against simplifying it

