2012-01-01
[01:12:00.0000] <annevk>
happy 2012 everyone

[03:50:00.0000] <annevk>
not a bad start: https://mail.mozilla.org/pipermail/es-discuss/2011-December/019112.html

[03:55:00.0000] <Ms2ger>
I wonder why ES people are so desperate to change typeof

[04:00:00.0000] <annevk>
not everyone is, but Brendan Eich says people are being bitten by just checking for object and then assuming it has properties

[04:01:00.0000] <annevk>
(typeof null == 'object')

[04:11:00.0000] <annevk>
On Twitter, "Who to follow" basically became a spam list?

[04:11:01.0000] <annevk>
E.g. for the @WHATWG account it suggests all kinds of Dutch crap to me

[04:45:00.0000] <gsnedders>
Ms2ger: Because it's the most common complaint about the language by web developers.

[04:52:00.0000] <Philip`>
/me can't remember having ever used typeof in any code he's written

[04:56:00.0000] <Ms2ger>
/me can remember Philip` using typeof

[04:57:00.0000] <Ms2ger>
I see two in canvas-tests.js and three in tests2d.yaml

[05:00:00.0000] <Philip`>
Pfft, tests don't count

[05:25:00.0000] <annevk>
Is someone maintaining a non-PDF Unicode specification?

[07:11:00.0000] <AryehGregor>
typeof null == "null" actually would be pretty nice.  The fact that functions have typeof equal to "function" is annoying too.

[07:14:00.0000] <bga>
or just remove typeof operator because its text protocol/string typing, and use ===/instanceof instead

[07:15:00.0000] <bga>
anyway es6 will nonbackward compatible w/ es5-

[07:15:01.0000] <bga>
and we can do radical changes

[07:20:00.0000] <AryehGregor>
. . . according to Wikimedia traffic logs, WebKit almost has more market share than IE now.  IE is down to 34.16% as of October.  Wow.

[07:20:01.0000] <AryehGregor>
And Firefox is down from 30.71% in April 2009 to 23.56% in October 2011.

[07:20:02.0000] <AryehGregor>
/me clearly hasn't been paying attention

[07:21:00.0000] <bga>
thats good

[07:24:00.0000] <AryehGregor>
Dunno if the news about Firefox is good.

[07:25:00.0000] <AryehGregor>
A WebKit monoculture would sure be a lot better than an IE monoculture, but I don't think we actually want it.

[07:25:01.0000] <espadrine>
I think Firefox will increase again: the latest release has been acclaimed for its speed and they are starting to have a real web inspector

[07:26:00.0000] <AryehGregor>
Hope so.

[07:26:01.0000] <AryehGregor>
(this sentiment is not related to the fact that I started working for Mozilla today instead of Google)

[07:26:02.0000] <espadrine>
Good for you ;)

[07:27:00.0000] <espadrine>
what are you working on?

[07:33:00.0000] <annevk>
oh congrats AryehGregor

[07:45:00.0000] <zewt>
would be more interesting to compare webkit !mobile vs. IE than all webkit

[07:50:00.0000] <zewt>
espadrine: i wouldn't expect that--only developers can tell one FF release from another right now, and only if they're looking for it

[07:54:00.0000] <divya>
congrats AryehGregor

[08:22:00.0000] <gsnedders>
bga: The intention now is it will be backwards compatible with ES5-strict

[08:23:00.0000] <gsnedders>
/me has certainly used typeof plenty... in test harnesses.

[08:23:01.0000] <gsnedders>
I've written too many. :\

[08:25:00.0000] <bga>
gsnedders Object(foo) instanceof String much better imho

[08:25:01.0000] <bga>
also it will be good if instanceof will work w/o Object() wrapper

[08:25:02.0000] <gsnedders>
bga: But how do we get rid of string/number/boolean primitives in a backwards compatible way?

[08:28:00.0000] <bga>
before i should collect examples when implict Object() to any primitives will break code

[08:29:00.0000] <bga>
of cource you can emulate typeof via instanceof

[08:30:00.0000] <gsnedders>
bga: Things rely upon the different semantics of the primitives v. their object wrappers.

[08:30:01.0000] <gsnedders>
So emulating typeof doesn't work.

[08:31:00.0000] <bga>
but rid of text protocols from js will make CS culture of js community much better

[08:32:00.0000] <bga>
gsnedders i understand, thats why modern langs dont support pritives, everything is object really

[08:51:00.0000] <gsnedders>
bga: Oh, I totally agree it would be a lovely change.

[08:51:01.0000] <gsnedders>
There never should have been the primitive/object duality of the String/Number/Boolean.

[08:52:00.0000] <gsnedders>
The situation would be much better if there was only one of the two --- regardless of which. Of course, I think most people would rather the object.

[09:04:00.0000] <Ms2ger>
AryehGregor, welcome :)

[09:05:00.0000] <AryehGregor>
espadrine, I'm working on specs.  Same as before.  Number one duty is still the editing spec, but that doesn't need much of my attention right now.  The first thing I'm starting on other than that is writing tests for CSS transforms/animations.

[09:06:00.0000] <Ms2ger>
\o/

[09:06:01.0000] <AryehGregor>
(for which I've never read the spec, but will soon, I guess)

[09:07:00.0000] <AryehGregor>
Also I'm apparently wanted to figure out exactly what we want [TreatNullAs=EmptyString] for.

[09:07:01.0000] <AryehGregor>
I think I'll do the CSS test stuff first.

[09:13:00.0000] <AryehGregor>
Ms2ger, do you have an opinion on the XXX here?  http://dvcs.w3.org/hg/domcore/raw-file/tip/dom-core.html#dom-range-intersectsnode

[09:14:00.0000] <AryehGregor>
Or annevk or whoever.

[09:15:00.0000] <annevk>
AryehGregor: all implementations is WebKit/Presto?

[09:15:01.0000] <AryehGregor>
annevk, yes.

[09:16:00.0000] <AryehGregor>
(Apparently Gecko used to have support, but it dropped it.)

[09:16:01.0000] <annevk>
AryehGregor: I'd suggest asking someone from WebKit

[09:16:02.0000] <annevk>
generally I'm in favor of less exceptions

[09:16:03.0000] <AryehGregor>
/me will try sometime other than New Year's Day

[09:17:00.0000] <gsnedders>
fewer exceptions, damn it!

[09:17:01.0000] <gsnedders>
Sorry, I must not be a grasmmar nazi.

[09:49:00.0000] <annevk>
oh

[09:50:00.0000] <annevk>
the sleeper spam accounts have awoken again on the wiki

[09:51:00.0000] <annevk>
guess we-spam-wikis took a week off or so

[09:59:00.0000] <zewt>
just delete any old account that's never done anything?

[10:03:00.0000] <dglazkov>
Happy New Year, Whatwg!

[10:04:00.0000] <gsnedders>
Eh, so there are two dates that dglazkov has special messages for.

[10:05:00.0000] <zewt>
irc etiquette #1: no pointless timed messages

[10:05:01.0000] <gsnedders>
zewt: It varies too much in time to be that.

[11:12:00.0000] <GOtaYO>
heloo every body

[11:54:00.0000] <zewt>
ebay implementing fake scrollbars makes me sad

[11:56:00.0000] <bga>
doom of web

[12:27:00.0000] <Yuhong>
I wonder how the incomplete CSS1 test suite used to prove that IE6 was CSS1 "compliant" was designed in the first place.

[12:37:00.0000] <AryehGregor>
Most of the test suites before very very recently were not much to write home about.

[12:37:01.0000] <AryehGregor>
In fact, most of them today also aren't.

[13:20:00.0000] <gsnedders>
I believe the design of the testsuite was mostly "Hixie wrote a bunch of tests".


2012-01-02
[22:27:00.0000] <zcorpan>
AryehGregor: i did some research into [TreatNullAs=EmptyString] for opera. for methods and constructors, i think we should match the specs, and that should be mostly compatible. we don't match the spec for attributes because there was some problem with some attribute on <input> i think

[22:28:00.0000] <zcorpan>
but we've had "null" for attributes earlier and i think we can change back to that, possibly with a few exceptions if compat requires

[23:24:00.0000] <MikeSmith>
I'm getting an "argument to reversed() must be a sequence" when trying to run anolis

[23:24:01.0000] <MikeSmith>
sound familiar to anybody?

[23:26:00.0000] <MikeSmith>
full error output: https://gist.github.com/1549710

[00:26:00.0000] <hsivonen>
well, this is going to be a success https://www.w3.org/Bugs/Public/show_bug.cgi?id=15380

[01:21:00.0000] <annevk>
I've slowly come to realize multi-octet encodings can only be tackled one at a time :/

[01:21:01.0000] <annevk>
Today it's shift_jis

[01:21:02.0000] <annevk>
well, cp932

[01:26:00.0000] <jgraham>
By the end of the day you might have figured out what to call it ;)

[01:29:00.0000] <Ms2ger>
I suggest x-obsoleted-shift_jis

[01:32:00.0000] <jgraham>
AryehGregor: Congratulations on the job

[01:33:00.0000] <jgraham>
/me continues to work backwards through time

[01:33:01.0000] <zcorpan>
i suggest you go by which has the most hits on google code search

[01:34:00.0000] <annevk>
the name?

[01:34:01.0000] <annevk>
the name is shift_jis

[01:34:02.0000] <annevk>
the implementation is cp932 plus some details that are not documented currently

[03:55:00.0000] <MikeSmith>
what does the anolis --dump-xrefs option do?

[03:56:00.0000] <jgraham>
MikeSmith: The behaviour you complained about earlier looks like a bug to me. What did you use as input?

[03:56:01.0000] <Ms2ger>
It writes out a JSON file with the xrefs  for other specs to use

[03:57:00.0000] <MikeSmith>
jgraham: that turned out to be pilot error

[03:57:01.0000] <jgraham>
Ah, not the kind that causes hundreds of people to plunge to their death I hope

[03:58:00.0000] <jgraham>
What did you do? The error message wasn't clear…

[03:59:00.0000] <MikeSmith>
jgraham: I was trying to run anolis from a symlink but I think it was expecting to find stuff in a relative path

[03:59:01.0000] <MikeSmith>
or something

[04:00:00.0000] <MikeSmith>
I fixed it by not running it from a symlink

[04:00:01.0000] <MikeSmith>
Ms2ger, so if I have "anolis --dump-xrefs=data/xrefs/dom/url.json Overview.src.html /tmp/spec", it's supposed to writ out a url.json file?

[04:01:00.0000] <Ms2ger>
Yes

[04:01:01.0000] <MikeSmith>
hmm

[04:01:02.0000] <MikeSmith>
if I run that, I get an error message: "[Errno 2] No such file or directory: 'data/xrefs/dom/url.json'"

[04:01:03.0000] <annevk>
jgraham: any update on that multipage validator bug?

[04:01:04.0000] <Ms2ger>
Ah

[04:02:00.0000] <Ms2ger>
It does require a file with { "url": "..." } to be present already

[04:02:01.0000] <MikeSmith>
ah, OK

[04:03:00.0000] <annevk>
ooh, did I never check in url.json?

[04:03:01.0000] <Ms2ger>
Don't think so

[04:03:02.0000] <annevk>
my bad

[04:03:03.0000] <annevk>
MikeSmith: shall I check mine in so you can run update?

[04:03:04.0000] <MikeSmith>
annevk: yes please

[04:04:00.0000] <Ms2ger>
Documentation for this stuff has been on my todo list for ages :)

[04:04:01.0000] <MikeSmith>
was trying to run the build for the URL spec

[04:07:00.0000] <jgraham>
annevk: I changed stuff. Did the problem get fixed?

[04:08:00.0000] <annevk>
MikeSmith: updated Makefile and data/

[04:08:01.0000] <MikeSmith>
thanks

[04:08:02.0000] <MikeSmith>
/me pulls

[04:11:00.0000] <annevk>
jgraham: there was an open bug on the issue but I cannot find it

[04:13:00.0000] <annevk>
jgraham: oh, I guess Hixie has not updated the spec either

[04:13:01.0000] <annevk>
fyi: I'm on vacation starting next week Wednesday

[04:14:00.0000] <annevk>
if anyone can take over WHATWG Weekly until February that would be nice

[04:18:00.0000] <annevk>
jgraham: why again could it be a problem because of your script? because it is not a problem in single-page

[04:18:01.0000] <annevk>
the bug is https://www.w3.org/Bugs/Public/show_bug.cgi?id=12539 btw

[04:21:00.0000] <MikeSmith>
Ms2ger: thanks for teh docs update

[04:21:01.0000] <jgraham>
annevk: iirc the problem was lxml didn't support the full set of named entities or something

[04:21:02.0000] <Ms2ger>
'twas long overdue

[04:21:03.0000] <annevk>
and lxml is not used for single page?

[04:22:00.0000] <jgraham>
It is used to parse it, but not serialise it. I guess Hixie doesn't use the named entities in the source

[04:23:00.0000] <jgraham>
The flow is Hixie -> single page -> multipage where each -> implies an application of the lxml parser

[04:23:01.0000] <annevk>
ah, so with the second invocation it goes wrong

[04:23:02.0000] <jgraham>
Yeah

[04:23:03.0000] <annevk>
thanks

[05:48:00.0000] <bga_>
hm

[05:49:00.0000] <bga_>
its not possible to apply many -webkit-mask to one element?

[05:49:01.0000] <bga_>
only last is applied

[05:49:02.0000] <bga_>
:(

[06:12:00.0000] <MikeSmith>
OK, my anolis now seems to be turning U+2019 into &rsquor;

[06:12:01.0000] <Ms2ger>
Blame html5lib

[06:13:00.0000] <MikeSmith>
I should update my html5lib?

[06:20:00.0000] <gsnedders>
When was it changed in the spec?

[06:23:00.0000] <MikeSmith>
gsnedders: I don't know that it was changed

[06:24:00.0000] <MikeSmith>
does the spec say which should be preferred?

[06:25:00.0000] <MikeSmith>
or does the spec even say anything at all about converting code points to named character references?

[06:27:00.0000] <gsnedders>
MikeSmith: Well, is U+2019 the definition of &rsquor;?

[06:27:01.0000] <gsnedders>
MikeSmith: What gets encoded to character references depends on the charset used.

[06:28:00.0000] <gsnedders>
html5lib prefers named character references to numeric ones.

[06:29:00.0000] <MikeSmith>
http://www.whatwg.org/specs/web-apps/current-work/multipage/named-character-references.html#named-character-references lists both &rsquo; and &rsquor; as referring to U+2019

[06:31:00.0000] <Ms2ger>
gsnedders, would you take a patch to prefer only those named character references that were in HTML4?

[06:32:00.0000] <annevk>
can't we just use numeric throughout or actual references throughout?

[06:32:01.0000] <annevk>
actual code ponits*

[06:32:02.0000] <annevk>
points*

[06:32:03.0000] <Ms2ger>
How about ponies?

[06:33:00.0000] <MikeSmith>
I vote for preferring numeric throughout

[06:38:00.0000] <jgraham>
MikeSmith: You can do that

[06:38:01.0000] <MikeSmith>
oh?

[06:38:02.0000] <MikeSmith>
can I do it from anolis?

[06:41:00.0000] <jgraham>
…maybe

[06:41:01.0000] <jgraham>
ask gsnedders or Ms2ger :p

[06:41:02.0000] <Ms2ger>
Looking

[06:43:00.0000] <Ms2ger>
jgraham, resolve_entities?

[06:44:00.0000] <jgraham>
Yes, I think so

[06:44:01.0000] <Ms2ger>
That's an awful name

[06:44:02.0000] <jgraham>
Unless you have version control evidence to the contrary, I didn't invent it

[06:46:00.0000] <Ms2ger>
changeset:   1516:3f6b82fe7e8e

[06:46:01.0000] <Ms2ger>
user:        jgraham <james⊙hcu>

[06:46:02.0000] <Ms2ger>
date:        Sat Mar 13 21:48:00 2010 +0100

[06:46:03.0000] <Ms2ger>
summary:     Work with lxml entities

[06:46:04.0000] <Ms2ger>
(Carefully omitting "based on patch by fantasai")

[06:46:05.0000] <jgraham>
Heh

[09:40:00.0000] <annevk>
Opera has something similar to https://bug631751.bugzilla.mozilla.org/attachment.cgi?id=511429

[09:41:00.0000] <annevk>
though I don't think we check over 1024 octets

[09:42:00.0000] <annevk>
in any event, that is content without a label

[09:42:01.0000] <annevk>
not sure how much of that is in scope for the encoding spec

[09:56:00.0000] <annevk>
FYI: For the encoding standard I'm going to flip the default of algorithms

[09:56:01.0000] <annevk>
FYI: They terminate when something returns

[09:56:02.0000] <annevk>
(minus second FYI)

[09:57:00.0000] <jgraham>
Great

[09:57:01.0000] <annevk>
and I guess I will slowly do it elsewhere too

[09:57:02.0000] <annevk>
e.g. DOM

[09:58:00.0000] <annevk>
in the cases where an algorithm does not terminate when returning, we always say it explicitly anyway

[09:59:00.0000] <jgraham>
Yeah, because that is pretty odd behaviour

[10:30:00.0000] <annevk>
here's a start with shift_jis http://dvcs.w3.org/hg/encoding/raw-file/tip/Overview.html#shift_jis

[10:30:01.0000] <annevk>
anyone a good idea how to represent an array consisting of digits in a standard? ordered list made compact somehow by CSS?

[10:30:02.0000] <annevk>
also ideas for external data tables are welcome too

[13:51:00.0000] <bencc>
is there a spec for webrtc server?


2012-01-03
[23:26:00.0000] <zcorpan>
annevk: it looks weird to mix decimal and hex

[23:28:00.0000] <zcorpan>
annevk: also, editorial, &minus; looks better than -

[23:34:00.0000] <zcorpan>
do we need to have serializers for all encodings?

[23:56:00.0000] <annevk>
zcorpan: is there a better +?

[23:56:01.0000] <annevk>
zcorpan: and mixing decimal and hex makes sense there

[00:05:00.0000] <zcorpan>
+ is fine

[00:06:00.0000] <zcorpan>
how does it make sense?

[00:06:01.0000] <annevk>
one is a code point and the other is an index

[00:06:02.0000] <annevk>
in an array of 94n length

[00:08:00.0000] <zcorpan>
↪0x81

[00:08:01.0000] <zcorpan>
8648

[00:08:02.0000] <zcorpan>
↪0xA0

[00:08:03.0000] <zcorpan>
0xF8F0

[00:08:04.0000] <zcorpan>
how do you explain this, andrew?

[00:09:00.0000] <annevk>
the first is an index into a table, the second is a code point?

[00:10:00.0000] <annevk>
8648 = 92*94

[00:10:01.0000] <annevk>
though I think that has to be come 188 lower (all of them)

[00:10:02.0000] <zcorpan>
and 0xF8F0 is not an index?

[00:10:03.0000] <annevk>
no

[00:11:00.0000] <zcorpan>
ok, then i'm confused

[00:11:01.0000] <zcorpan>
"The shift_jis lead octet index for a given octet is:"

[00:11:02.0000] <annevk>
I didn't want to name it the shift_jis lead octet index or code point for a given octet

[00:12:00.0000] <annevk>
but I could I suppose

[00:13:00.0000] <zcorpan>
ok, i see now in the to Unicode algorithm that 0xF8F0 and above will equal the code point

[00:13:01.0000] <annevk>
and the second should prolly be named shift_jis offset rather than trail octet index

[00:14:00.0000] <zcorpan>
but i don't see why that should mean that it's fine to mix decimal and hex

[00:14:01.0000] <annevk>
also 0xE000

[00:15:00.0000] <zcorpan>
before the to Unicode algorithm, it's just an opaque number

[00:16:00.0000] <annevk>
I think this is easier if you want to review what the algorithm does

[00:34:00.0000] <hsivonen>
I wonder how bad an idea it would be to autodetect UTF-8 vs. locale-specific legacy encoding by seeing if the first non-ASCII byte and up to 3 bytes after it form a valid UTF-8 byte sequence

[00:35:00.0000] <hsivonen>
that is, are there valid UTF-8 byte sequences that can reasonably occur in single-byte encodings?

[00:35:01.0000] <annevk>
What is the problem?

[00:35:02.0000] <hsivonen>
annevk: letting people publish UTF-8 content while being too inept to declare it

[00:37:00.0000] <annevk>
there are some legacy encodings that have valid octets for the whole range

[00:37:01.0000] <annevk>
e.g. windows-1252

[00:37:02.0000] <annevk>
or windows-1254

[00:37:03.0000] <annevk>
1256 too

[00:37:04.0000] <annevk>
etc.

[00:38:00.0000] <hsivonen>
annevk: yes, but in the case of Windows-1252, UTF-8 byte sequences don't seem to result in sensible natural language when decoded as Windows-1252

[00:38:01.0000] <hsivonen>
dunno about 1254 and 1256

[00:38:02.0000] <zcorpan>
doesn't opera have heuristics to detect utf-8?

[00:38:03.0000] <hsivonen>
zcorpan: interesting. from how many bytes?

[00:39:00.0000] <zcorpan>
no idea

[00:39:01.0000] <Philip`>
hsivonen: What about pages that concatenate a small amount of UTF-8 content and a large amount of legacy-encoding content?

[00:39:02.0000] <Philip`>
They'll definitely look like UTF-8 at first, but that might not be the desired way to decode them

[00:40:00.0000] <hsivonen>
Philip`: well, yeah, such pages are broken no matter what, but the degree of perceived brokenness could vary, sure

[00:43:00.0000] <hsivonen>
anyway, adding UTF-8 autodetection would not advance the goal Faruk had at the start of the thread

[00:44:00.0000] <hsivonen>
adding UTF-8 autodetection would only allow UTF-8-using authors to declare less

[00:44:01.0000] <annevk>
and only if you happen to use it in the first 1024 octets?

[00:48:00.0000] <hsivonen>
annevk: no, anywhere

[00:49:00.0000] <hsivonen>
annevk: the bytes before the first-non-ASCII byte can be decoded as US-ASCII, so there's no need to stall processing except to wait for the 3 bytes after the first non-ASCII byte when the first non-ASCII byte is seen

[00:50:00.0000] <hsivonen>
annevk: anyway, it's not at all clear that the problem this would solve is worth solving

[00:52:00.0000] <annevk>
oh

[00:52:01.0000] <annevk>
conceptually I guess it's not that complicated, but it's still kind of sucky

[01:15:00.0000] <hsivonen>
annevk: (Re: old IRC logs) It's very likely that there are bugs in Gecko's charset alias list

[01:50:00.0000] <zcorpan>
hsivonen: apparently we detect as utf-8 if there are 10 or more valid utf-8 byte sequences and no invalid utf-8 byte sequences

[01:52:00.0000] <gsnedders>
zcorpan: At the start?

[01:54:00.0000] <hsivonen>
zcorpan: I take it that valid byte sequences mean multibyte sequences so that 10 ASCII bytes don't count.

[01:55:00.0000] <hsivonen>
zcorpan: can there be an arbitrary number of ASCII bytes between the UTF-8 byte sequences?

[01:55:01.0000] <zcorpan>
right

[01:55:02.0000] <hsivonen>
zcorpan: how does incremental parsing and rendering work before the sniffer has made its decision?

[01:56:00.0000] <zcorpan>
*shrug*

[01:57:00.0000] <hsivonen>
zcorpan: that's the most interesting part!

[01:59:00.0000] <zcorpan>
if it's very interesting, i guess you could reverse engineer it :-P

[02:01:00.0000] <zcorpan>
apparently we reparse if the detector makes a decision late

[02:02:00.0000] <hsivonen>
zcorpan: ok. Thanks. I want to avoid introducing reparsing to locales that don't already have it as much as possible.

[02:03:00.0000] <hsivonen>
I tried to remove reparsing from the locales that have it in the Firefox 4 cycle, but then the Japanese Planet Debian broke and people got worried

[02:04:00.0000] <hsivonen>
the Japanese Planet Debian has fixed its encoding declaration since then

[02:05:00.0000] <zcorpan>
would be really nice if reparsing could be nuked

[02:05:01.0000] <hsivonen>
also, I want to avoid making the encoding determination timing-dependent

[02:05:02.0000] <hsivonen>
people seem to believe that our feedback loop from Japan is broken, so decisions get made based on rumors and existence proof

[02:19:00.0000] <zcorpan>
wow, an email from 2002 just made it to the list

[02:19:01.0000] <zcorpan>
oh sorry, that was part of the email address

[02:26:00.0000] <jgraham>
But the content was about DTD so I can understand your confusion!

[02:26:01.0000] <hsivonen>
do we have a FAQ entry about DTDs?

[02:29:00.0000] <zcorpan>
http://wiki.whatwg.org/wiki/FAQ#Under_what_conditions_should_a_DOCTYPE_be_used_in_XHTML.3F - i guess not enough

[02:30:00.0000] <zcorpan>
though it links to validator.nu faq, which may be enough

[03:53:00.0000] <annevk>
are [TreatUndefinedAs=EmptyString] or [TreatUndefinedAs=Null] actually used?

[03:54:00.0000] <Ms2ger>
Yes

[03:54:01.0000] <Ms2ger>
In HTML/Obsolete, IIRC

[03:54:02.0000] <Ms2ger>
Oh

[03:54:03.0000] <Ms2ger>
Undefined? Not sure

[03:55:00.0000] <annevk>
no hits

[03:55:01.0000] <annevk>
in HTML anyway

[03:56:00.0000] <Ms2ger>
Mozilla does support it, IIRC

[03:56:01.0000] <hsivonen>
annevk: why aren't UCS2 names defined as aliases of UTF-16?

[03:57:00.0000] <hsivonen>
annevk: so is the plan to make BOM override HTTP so that UTF-16BE with little-endian BOM is decoded as little-endian?

[03:58:00.0000] <hsivonen>
annevk: fwiw, in case there are bugs in how Gecko handles BOMs in HTML, it's because I was naive enough to assume that the decoder library worked per spec

[03:58:01.0000] <annevk>
hsivonen: are they in any browser? UTF-16 labels are not really done yet, every browser has them done differently

[03:58:02.0000] <annevk>
hsivonen: Basically yes, BOM "rules"

[03:59:00.0000] <hsivonen>
annevk: by source inspection, it seems that Gecko supports crazy UCS2 aliases

[03:59:01.0000] <hsivonen>
annevk: IIRC, a legacy SonyEricsson browser did, too

[03:59:02.0000] <hsivonen>
not that it matters

[04:00:00.0000] <annevk>
hsivonen: I think what put me off was that Gecko added them to BE

[04:00:01.0000] <hsivonen>
UTF-16 is one of those things that must have seemed great ideas before implementation experience

[04:00:02.0000] <annevk>
hsivonen: not UTF-16

[04:00:03.0000] <hsivonen>
annevk: UCS2 was BE in theory, no?

[04:01:00.0000] <annevk>
oh okay

[04:01:01.0000] <annevk>
I think per http://wiki.whatwg.org/wiki/Web_Encodings only Gecko had those labels

[04:01:02.0000] <annevk>
but I'm fine with adding labels

[04:02:00.0000] <annevk>
oh no, so Opera has those labels too, but added to UTF-16

[04:02:01.0000] <hsivonen>
annevk: if the Web doesn't need them and smontagu agrees, I'm OK with getting rid of those labels

[04:02:02.0000] <annevk>
but I guess with UTF-16 now defaulting to LE that does not make sense

[04:02:03.0000] <hsivonen>
annevk: the question is whether there's legacy content

[04:02:04.0000] <annevk>
hsivonen: IE has this " iso-10646-ucs-2, ucs-2, unicode, utf-16, utf-16le" as labels for utf-16

[04:02:05.0000] <hsivonen>
annevk: not what makes sense

[04:02:06.0000] <annevk>
agreed

[04:03:00.0000] <hsivonen>
annevk: so iso-10646-ucs-2 is LE in IE?

[04:03:01.0000] <annevk>
I would expect so based on that data

[04:07:00.0000] <hsivonen>
inspired by the thread Faruk started, a console warning about form submissions using encodings that can't represent all of Unicode has landed on mozilla-central and will be in the next Nightly build

[04:07:01.0000] <hsivonen>
I wonder if it has any impact on anything at all

[04:07:02.0000] <hsivonen>
I hope it does

[04:08:00.0000] <hsivonen>
and I hope people don't complain too much about Firefox whining about bad authoring practices

[04:08:01.0000] <Ms2ger>
And that Nightly also won't support geostd8

[04:08:02.0000] <annevk>
I thought those changes were great

[04:09:00.0000] <hsivonen>
Ms2ger: is geostd8 an encoding?

[04:09:01.0000] <annevk>
was :p

[04:09:02.0000] <Ms2ger>
Yes, something Georgian nobody supports

[04:09:03.0000] <hsivonen>
hooray!

[04:16:00.0000] <annevk>
I think the way the BOM stuff should work by the way is that you say "decode X using label Y" and that algorithm first checks if X has a BOM and then picks utf-8/utf-16/utf-16be if there is a BOM, and otherwise uses Y to pick an encoding

[04:18:00.0000] <hsivonen>
annevk: what's your plan for integrating format-specific internal encoding declarations to the algorithms?

[04:19:00.0000] <annevk>
well before HTML starts decoding it first does this search through a bunch of octets

[04:19:01.0000] <annevk>
and if finds a label there it can then use that

[04:19:02.0000] <hsivonen>
annevk: FWIW, even though I previously WONTFIXed a theory-based bug about the precedence of the BOM, I'm OK with changing the precedence now that there are examples of real pages in the wild where it matters

[04:19:03.0000] <annevk>
cool

[04:27:00.0000] <annevk>
heh, found an old page by Lachy http://wiki.whatwg.org/wiki/Character_Encoding_Detection

[04:28:00.0000] <Lachy>
I don't remember writing that.

[04:29:00.0000] <hsivonen>
the Mozilla observations look weird, but I'm willing to believe the old parser did weird things

[04:29:01.0000] <Lachy>
hmm. Did it in December 2006. That's 5 years ago

[04:31:00.0000] <annevk>
http://wiki.whatwg.org/wiki/StringEncoding seems kind of nonsensical to me to expose that many encodings to script authors

[04:32:00.0000] <annevk>
especially with the addition of allowing user agents to allow arbitrary encodings

[04:34:00.0000] <hsivonen>
annevk: that seems bad

[04:34:01.0000] <hsivonen>
annevk: has it been proposed on a mailing list?

[04:34:02.0000] <annevk>
dunno, I don't remember seeing it

[04:34:03.0000] <annevk>
apart from on the wiki that is

[04:35:00.0000] <hsivonen>
annevk: the API design is questionable, too

[04:35:01.0000] <hsivonen>
it turns out that it's really hard to get the API right

[04:36:00.0000] <hsivonen>
iconv gets the API wrong

[04:36:01.0000] <hsivonen>
the Gecko-internal decoders get the API wrong

[04:36:02.0000] <hsivonen>
Java gets the API right

[04:37:00.0000] <annevk>
I hope the Encoding Standard gets it right, though it does not expose it to that level of detail currently

[04:37:01.0000] <Ms2ger>
And Java gets the performance wrong? :)

[04:37:02.0000] <hsivonen>
so if you see a design that doesn't have the characteristics of the Java NIO API, it makes sense to suspect there's an API design error

[04:37:03.0000] <hsivonen>
Ms2ger: not that I'm aware

[04:37:04.0000] <Ms2ger>
Then how do I get to whine about Java? :)

[04:37:05.0000] <annevk>
pointer to that API?

[04:42:00.0000] <hsivonen>
ICU4C seems to get the API right

[04:43:00.0000] <hsivonen>
annevk: http://docs.oracle.com/javase/6/docs/api/java/nio/charset/CharsetDecoder.html

[04:43:01.0000] <hsivonen>
annevk: the key being that it's necessary to be able to signal "no more input" to the decoder

[04:44:00.0000] <hsivonen>
iconv and Gecko fail at that

[04:44:01.0000] <hsivonen>
for example, if a file ends with an incomplete UTF-8 byte sequence, you don't see a REPLACEMENT CHARACTER for the trailing incomplete sequence in Firefox

[04:45:00.0000] <annevk>
ah yes

[04:45:01.0000] <annevk>
I introduced a "EOF octet" concept for that

[05:08:00.0000] <annevk>
though I have not made shift_jis emit an explicit U+FFFD in such cases

[05:08:01.0000] <annevk>
neither Gecko nor IE did that...

[05:34:00.0000] <zcorpan>
gecko and presto don't emit U+FFFD for trailing half utf-8 byte sequence, but both consider that a bug

[05:34:01.0000] <eightfold>
howdy

[05:34:02.0000] <eightfold>
is it likely that the HTML5 specification will be finalized without specifying a standardized video and audio format?

[05:34:03.0000] <zcorpan>
(except opera does it right in websockets because i tested for that and emoller fixed it for websockets)

[05:35:00.0000] <jgraham>
eightfold: Yes

[05:35:01.0000] <jgraham>
Well no

[05:35:02.0000] <jgraham>
The specification will never be finalized

[05:35:03.0000] <jgraham>
Except in some meaningless W3C way

[05:36:00.0000] <jgraham>
As long as people are still implementing it, the HTML standard will keep evolving along a continuum

[05:36:01.0000] <eightfold>
jgraham: yes, but it will be finalized  the meaningless W3C way?

[05:36:02.0000] <MikeSmith>
annevk: how about we make the URL spec a WebApps deliverable instead?

[05:36:03.0000] <eightfold>
"finalized the" = "finalized in the"

[05:37:00.0000] <annevk>
MikeSmith: what about the charter?

[05:37:01.0000] <jgraham>
The video codec won't be mandated in whatever W3C pushes to Rec.

[05:37:02.0000] <annevk>
MikeSmith: maybe we should first write the spec and then see who wants to publish it...

[05:38:00.0000] <MikeSmith>
annevk: working on that now

[05:38:01.0000] <annevk>
sweet

[05:38:02.0000] <MikeSmith>
about the charter, I guess we'd need to propose it

[05:38:03.0000] <annevk>
zcorpan: interesting

[05:38:04.0000] <annevk>
/me is playing with euc-jp decoding

[05:38:05.0000] <annevk>
it's somewhat more sane than shift_jis, but more complex

[05:38:06.0000] <Philip`>
eightfold: Meaningless finalisation will require some impossible tasks to be completed (like a comprehensive test suite and comprehensively interoperable implementations), so it'll depend on whether those requirements get dropped or ignored or whether they block progress forever

[05:38:07.0000] <eightfold>
jgraham: what is the "Rec."? recommendation?

[05:38:08.0000] <jgraham>
Yes

[05:39:00.0000] <Ms2ger>
Ignored, I guess

[05:40:00.0000] <eightfold>
but does anyone here believe there will ever be a common video format among browser vendors?

[05:40:01.0000] <zcorpan>
i hope there will be!

[05:41:00.0000] <zcorpan>
but who doesn't

[05:41:01.0000] <eightfold>
yes, i sure do too.

[05:41:02.0000] <jgraham>
No point in letting unreasoble requirements get in the way of celebrating finishing a legacy technology

[05:42:00.0000] <eightfold>
microsoft and apple doesn't seem to be very eager to implement webm support. at least i realized the >ie9 solution seems to simplify the installation of a browser plugin.

[05:42:01.0000] <eightfold>
/me will brb

[05:44:00.0000] <hsivonen>
WebM support for IE9 isn't really a browser plug-in

[05:45:00.0000] <hsivonen>
it's an extension component for the system-wide media framework

[05:45:01.0000] <hsivonen>
different layer of extension

[05:45:02.0000] <hsivonen>
different API

[05:53:00.0000] <bga>
https://github.com/jterrace/js.js

[05:53:01.0000] <bga>
%)

[06:07:00.0000] <MikeSmith>
"It currently takes about 40 seconds to run print(1+1)."

[06:16:00.0000] <eightfold>
hsivonen: that was what i was trying to say, but didn't. :) what does the process look like to the end user? i don't have a windows installation handy.

[06:27:00.0000] <eightfold>
is there any chance w3c will recommend h.264 in the html5 spec, given it's proprietary nature?

[06:27:01.0000] <eightfold>
its

[06:30:00.0000] <smaug____>
eightfold: I guess only if h.264 becomes royalty-free

[06:33:00.0000] <eightfold>
smaug____: MPEG-LA has said that it will be forever, but only for end users, right? so software that implements h.264 still has to pay?

[06:33:01.0000] <eightfold>
"it will be" = "it will be free"

[06:35:00.0000] <zewt>
that's the same thing, heh

[06:36:00.0000] <eightfold>
oops

[06:37:00.0000] <smaug____>
eightfold: it must be free for implementors

[06:38:00.0000] <eightfold>
smaug____: for w3c to recommend it, you mean?

[06:39:00.0000] <zewt>
there are endless places they can drop in licensing (encoders, decoders, per type of media encoded, for streaming, etc)

[06:40:00.0000] <smaug____>
eightfold: there are w3c members which certainly won't accept recommendation which includes non-free parts

[07:36:00.0000] <hsivonen>
eightfold: to get WebM for IE9, you go to a Web page, download an installer .exe and run it as administrator

[07:36:01.0000] <hsivonen>
eightfold: the experience is the usual Windows software installation experience

[07:37:00.0000] <hsivonen>
eightfold: MPEG-LA wants royalties from encoders, decoders and from a subset of people who distribute bits arranged with an H.264 encoder

[07:38:00.0000] <hsivonen>
eightfold: for H.264 to be properly royalty-free, it needs to be royalty-free to decode, to encode and to transfer

[07:38:01.0000] <zewt>
if you ever hear the MPEG-LA offering anything for "free", double-check--the entire *point* of the MPEG-LA is to license MPEG stuff for money

[07:39:00.0000] <zewt>
they're not going to do anything just to be nice

[07:39:01.0000] <hsivonen>
eightfold: where encode and decode are shorthand for making, distributing and running decoder/encoder

[07:41:00.0000] <zewt>
(though I could just almost see them offering a hamstrung profile for free, just to try to cripple competing free codec development)

[07:58:00.0000] <gsnedders>
zewt: There are plenty of members of MPEG-LA and the MPEG WG who want there be a RF standard. Apple is one of the most vocal.

[07:59:00.0000] <gsnedders>
(And don't think Apple are just saying that after the Ogg/Theora stuff going everywhere: they were vocal about this at the time H.264 was being standardized a decade ago.)

[07:59:01.0000] <hsivonen>
gsnedders: they were vocal about MPEG-4 (Visual) Simple Profile before H.264

[08:00:00.0000] <gsnedders>
And I believe about stuff before that too.

[08:00:01.0000] <gsnedders>
But yeah, that there are patent holders pushing for a RF baseline isn't new, but it's no more likely to happen now than a decade ago.

[08:01:00.0000] <gsnedders>
Also, as foolip has pointed out multiple times, without an audio codec and the container becoming RF, it doesn't matter much as you don't gain compat. with existing toolchains.

[08:01:01.0000] <zewt>
and of course it would be a reduced profile

[08:01:02.0000] <hsivonen>
gsnedders: so much so that the release of QuickTime 6 was delayed, because Apple tried to get the stuff made royalty-free

[08:02:00.0000] <hsivonen>
(of course, when you have shown you have the software ready to ship, it's not particularly credible to withhold it for a short while. they know you are going to ship it)

[08:02:01.0000] <erlehmann>
gsnedders, if apple cares about royalty free standards now, why haven't they supported vorbis when everyone else does? explain.

[08:03:00.0000] <gsnedders>
"Apple agrees with paying a reasonable royalty for including MPEG-4 codecs in QuickTime, but does not believe that MPEG-4 can be successful in the marketplace if content owners must also pay royalties in order to deliver their content using MPEG-4."

[08:03:01.0000] <hsivonen>
gsnedders: you'd gain compat with existing chips

[08:03:02.0000] <gsnedders>
hsivonen: True, but I get the impression that stuff is starting to move on mobile to where it is on TVs: having DSPs reprogrammable.

[08:04:00.0000] <gsnedders>
erlehmann: There are plenty of reasons why they might not have done so; it's hard to speculate.

[08:04:01.0000] <erlehmann>
aren't they already? see the OMAP work.

[08:04:02.0000] <hsivonen>
gsnedders: reprogrammable by whom

[08:04:03.0000] <erlehmann>
gsnedders, i thought you might be more in the know than me.

[08:04:04.0000] <gsnedders>
erlehmann: Most mobile devices ship with locked-down DSPs. Certainly OMAP devices in general have unlocked DSPs, not sure about mobile applications of them.

[08:04:05.0000] <gsnedders>
hsivonen: Anyone whom the OS allows access to the chips to.

[08:05:00.0000] <hsivonen>
gsnedders: if the chip vendor gives you enough documentation and toolchain

[08:05:01.0000] <gsnedders>
hsivonen: Sure, but for most Android devices that's probably enough.

[08:06:00.0000] <gsnedders>
hsivonen: Because WebM is now part of the standard Android impl

[08:06:01.0000] <hsivonen>
gsnedders: does Android let apps push code to the DSP?

[08:06:02.0000] <gsnedders>
hsivonen: I believe not. But I believe everyone who does WebM decoding uses the Android's native support.

[08:06:03.0000] <zewt>
hardware on android tends to be hidden behind magic proprietary .so's or hidden away on the locked-down radio side of things

[08:06:04.0000] <zewt>
it'd be the vendor who would have to implement it

[08:07:00.0000] <hsivonen>
gsnedders: is it so much part of the standard Android impl that Opera is going to let it show in canPlayType?

[08:07:01.0000] <gsnedders>
(Though our experience has been WebM support often interacts badly with hardware-accelerated drawing in a lot of cases.)

[08:09:00.0000] <gsnedders>
(i.e., WebM's support in Android on many devices is buggy)

[08:10:00.0000] <gsnedders>
Apparently it often draws in the wrong place, for example.

[08:14:00.0000] <zewt>
heh, second time google search has wonked up the cursor position while i was typing a search

[08:19:00.0000] <gsnedders>
hsivonen: Somehow Google needs to better ensure Android devices don't have horrible bugs like that :\

[08:20:00.0000] <zewt>
they can't even get android devices to use a standard button layout, so ...

[08:43:00.0000] <gsnedders>
erlehmann: A few possible reasons: they don't feel their customers require it; they don't think another format that exists for the sake of being RF is benefical and would rather an existing format; they think the patent risk of Theora is too high, etc.

[08:44:00.0000] <erlehmann>
gsnedders, i was more talking about vorbis.

[08:44:01.0000] <erlehmann>
which is usable almost everywhere except when apple software comes into the picture

[08:45:00.0000] <gsnedders>
erlehmann: Vorbis is a more interesting question, and less clear why MS/Apple's native frameworks don't support it.

[08:47:00.0000] <erlehmann>
gsnedders, … says a person working for a company that would take a sizable hit if it had to pay royalties for media decoding, opposed to apple and ms.

[08:49:00.0000] <erlehmann>
reducing competition is an incentive.

[08:52:00.0000] <dglazkov>
good morning, Whatwg!

[08:53:00.0000] <erlehmann>
gsnedders, or wouldn't it? how high are royalties?

[08:53:01.0000] <gsnedders>
erlehmann: Apple and MS both pay more for licensing than they recieve from them, AFAIK

[08:53:02.0000] <gsnedders>
erlehmann: Apple certainly does.

[08:54:00.0000] <gsnedders>
Apple certainly has little financial interest in MPEG-4 being used, and have pushed for everything in MPEG-4 they hold patents on to be RF.

[08:55:00.0000] <zewt>
as far as I'm concerned, anything MPEG being RF is a bad thing (for the rest of the world)

[08:56:00.0000] <gsnedders>
zewt: Why?

[08:56:01.0000] <zewt>
it will slow the adoption and development of truly free codecs

[08:56:02.0000] <erlehmann>
gsnedders, that is not a point. but 81 million NOK being around 13.5 million US$ may be a point.

[08:57:00.0000] <gsnedders>
erlehmann: huh?

[08:57:01.0000] <erlehmann>
apple income is measured in *billions* of dollarites

[08:57:02.0000] <erlehmann>
gsnedders, i just looked up how big the companies are and figured that licensing media codecs hits a small company more than a big. you tell me if i am correct.

[08:58:00.0000] <erlehmann>
„big“ as in „operating income“

[08:58:01.0000] <gsnedders>
erlehmann: The cost of licensing it to ship encoders and decoders will stay for a while regardless; there's too much existing content out there, and the fact that DVDs and Blu-Ray require the decoders (and encoders, if you want to author content, which bundled software allows)

[08:58:02.0000] <gsnedders>
erlehmann: Right, yeah.

[08:59:00.0000] <erlehmann>
if the cost for h.264 stuff is capped at 6.5 million, that it as least the same ballpark. scary.

[09:00:00.0000] <gsnedders>
The licensing fees aren't a major issue to Apple, but nor is the income they get at all notable. The only financal reasons not to ship more codecs is developer time and patent risk.

[09:00:01.0000] <erlehmann>
hahaha, doctor evil http://obamapacman.com/wp-content/uploads/2010/02/Dr-Evil-H.264-5-million-dollars-licensing-myth.jpg

[09:01:00.0000] <erlehmann>
gsnedders, are you assuming that it is not a strategic benefit to make it harder to enter a market?

[09:01:01.0000] <erlehmann>
>obamapacman.com

[09:01:02.0000] <erlehmann>
wat

[09:01:03.0000] <gsnedders>
erlehmann: Which markert?

[09:01:04.0000] <erlehmann>
harry potter. OBAMA.

[09:01:05.0000] <gsnedders>
*market

[09:02:00.0000] <zewt>
gsnedders: it's not hard to contrive other possible financial reasons (whether they're actual considerations or not, only they know)

[09:02:01.0000] <gsnedders>
Practically, I can't think of any market for which it is a strategic benefit.

[09:02:02.0000] <erlehmann>
gsnedders, any market. if company A can afford to pay for patents more easily than company B, a competitor, an open standard may not be in the best short-term-interest of the shareholders of company A.

[09:02:03.0000] <jgraham>
gsnedders: You seem to be missing the point. Irrespective of whether Apple profits directly from licensing fees, requiring browser implementors to support h.264 would be like regressive taxation

[09:03:00.0000] <jgraham>
In that it would disproportionately affect the poorer players

[09:03:01.0000] <zewt>
for example, everyone using codecs that cost money could increase the cost--slightly--of creating competing phones

[09:03:02.0000] <gsnedders>
jgraham: But Apple practically isn't competing with other browser vendors, esp. on iOS.

[09:03:03.0000] <jgraham>
gsnedders: Huh?!

[09:03:04.0000] <erlehmann>
gsnedders, what? apple is hindering them for the benefit of its own ecosystem. see the crippling of the audio element API.

[09:04:00.0000] <jgraham>
I agree that they are trying to have an unlevel playing field

[09:04:01.0000] <erlehmann>
which is a strategic benefit. gsnedders, i do not see where you are going here.

[09:04:02.0000] <jgraham>
But they clearly compete with mini on iOS and with other platforms on mobile

[09:04:03.0000] <gsnedders>
erlehmann: I'd argue that was not wanting the web platform competing with native applications, not a fear about browser marketshare per-se.

[09:06:00.0000] <gsnedders>
jgraham: And Mini is going for a sufficently different segment of the market when it comes to video support, for example, that it isn't really competition in this context.

[09:08:00.0000] <gsnedders>
Basically, my point is that for iOS/iPod the market is so full of competitors that already support the same formats (excluding Apple's DRM) that they have no competitive advantage there, as allowing more competitors into the market likely would not be a massive threat to their marketshare; on the desktop it possibly makes F/OSS OSes more plausible, but most users there already install the patent-encumbered codecs anyway, it doesn't give them a comp

[09:34:00.0000] <hsivonen>
I wonder when Opera is going to have the compute power to do video transcodes on the Mini servers

[09:35:00.0000] <gsnedders>
hsivonen: A few customers have video transcoding done for custom Mini-based products, FWIW

[09:36:00.0000] <gsnedders>
/me wonders what the average screen resolution of Mini users is

[10:06:00.0000] <jgraham>
gsnedders: I entirely disagree with the notion that Mini doesn't compete with Mobile Safari.

[10:07:00.0000] <gsnedders>
jgraham: It does in general. It doesn't compete for people wanting to view YouTube, for example.

[10:07:01.0000] <gsnedders>
That's all I mean.

[10:08:00.0000] <gsnedders>
It doesn't compete because it doesn't support the one prerequisite thing: video support.

[10:24:00.0000] <jgraham>
gsnedders: do you think that is more or less likely to change if usable video implies paying tens of millions of NOK a year to MPEG-LA?

[10:26:00.0000] <gsnedders>
jgraham: No real change.

[11:08:00.0000] <erlehmann>
jgraham, lol.

[11:08:01.0000] <erlehmann>
tens of millions of NOK sounds like EVE Online

[12:13:00.0000] <annevk>
http://www.nytimes.com/2012/01/02/opinion/krugman-nobody-understands-debt.html "But it also revealed something else: when people in D.C. talk about deficits and debt, by and large they have no idea what they’re talking about — and the people who talk the most understand the least."

[12:13:01.0000] <annevk>
sounds like your average standards meeting

[12:57:00.0000] <AryehGregor>
s/in D\.C\. //;s/deficits and debt/anything/

[12:58:00.0000] <annevk>
so the writer of that article has @nytimeskrugman as twitter account, but has not posted said article there :/

[12:58:01.0000] <annevk>
I've been spending about five minutes trying to research the most appropriate tweet to retweet

[12:58:02.0000] <TabAtkins>
AryehGregor: What are you doing for Moz now?

[12:59:00.0000] <annevk>
(@nytimes has not posted it either as far as I can tell)

[12:59:01.0000] <AryehGregor>
TabAtkins, right this very second, I'm trying to figure out where I'm supposed to call for a one-on-one chat with someone.

[12:59:02.0000] <AryehGregor>
/me is about to just take a guess

[12:59:03.0000] <AryehGregor>
In general, I'm working on a bunch of stuff, starting with tests for CSS Transforms.

[13:16:00.0000] <TabAtkins>
annevk: Who's taken over MQ?

[13:19:00.0000] <jgraham>
Oh, media queries, not mercurial queues

[13:19:01.0000] <annevk>
Florian I think

[13:19:02.0000] <annevk>
and Sylvain

[13:19:03.0000] <TabAtkins>
Thanks!

[13:30:00.0000] <Yuhong>
I like to mention how IE8 don't support 10 years old web technology:

[13:30:01.0000] <Yuhong>
http://news.ycombinator.com/item?id=3420948

[14:44:00.0000] <ojan>
Hixie, heycam|away: I'm trying to figure out what the resolution to https://www.w3.org/Bugs/Public/show_bug.cgi?id=8241 is.

[14:44:01.0000] <ojan>
that whole discussion is way over my head

[14:45:00.0000] <ojan>
I'm just trying to figure out what the resolution is for the sake of fixing http://code.google.com/p/chromium/issues/detail?id=80591

[15:09:00.0000] <heycam>
ojan, the upshot is that the var statement will create a new (unconfigurable) own property on window, with value undefined, that shadows the named property

[15:11:00.0000] <heycam>
ojan, that's due to the use of [ReplaceableNamedProperties] on the Window interface, and the order of resolution of named properties vs own and prototype properties in http://dev.w3.org/2006/webapi/WebIDL/#getownproperty

[15:12:00.0000] <heycam>
ojan, also in the ecmascript spec it's defined that var statements in global code do a Object.defineProperty(globalObject, varName, { configurable: false, value: undefined })

[15:16:00.0000] <ojan>
heycam: ok, so <div id=foo></div><script>var foo; alert(foo);</script> should alert undefined?

[15:16:01.0000] <heycam>
ojan, yes

[15:16:02.0000] <ojan>
heycam: great. i'll file the webkit bug.

[15:16:03.0000] <ojan>
heycam: thx

[15:16:04.0000] <heycam>
ojan, actually let me just confirm one thing first

[15:17:00.0000] <heycam>
ojan, ah maybe that is not the case, but I think that is the preferred behaviour

[15:18:00.0000] <heycam>
ojan, I think I might need to confirm some things with the ES group, since I'm having trouble understanding some aspects of the spec wrt variable declarations

[15:19:00.0000] <heycam>
/me will mail public-script-coord and cc es-discuss

[15:20:00.0000] <ojan>
heycam: thx. i would definitely like that to be the end result

[15:20:01.0000] <ojan>
heycam: webkit is willing to change...we just want the behavior clearly specced to avoid changing multiple times

[15:20:02.0000] <heycam>
ojan, sure

[15:20:03.0000] <heycam>
I'll CC you on the mail

[15:21:00.0000] <ojan>
heycam: the current webkit behavior is clearly suboptimal


2012-01-04
[16:16:00.0000] <zewt>
would anyone disagree with defining a "stable specification" as one which will not change in backwards-incompatible ways

[16:17:00.0000] <zewt>
(compared with other metrics, like "not changing very fast")

[16:17:01.0000] <gsnedders>
zewt: I don't think so.

[16:18:00.0000] <gsnedders>
ojan: I'm pretty certain the spec says undefined, quite clearly.

[16:18:01.0000] <zewt>
the context is when it's reasonable to deprefix implementations--I'd say when the spec is stable (by the above definition), the implementation implements a usable subset of that spec, and doesn't implement anything not in the spec (unless it's prefixed itself)

[16:19:00.0000] <gsnedders>
But when is it stable by the above definition? That's hard to judge :)

[16:19:01.0000] <zewt>
the judgement of the editor, i'd say

[16:50:00.0000] <heycam>
gsnedders, see my mail that I just sent to public-script-coord -- I think "var" without an assignment won't shadow the named property, unfortunately

[16:51:00.0000] <gsnedders>
heycam: No, it's almost 1am and I have better things to do :P

[16:51:01.0000] <heycam>
gsnedders, as if!

[16:52:00.0000] <gsnedders>
I have friends!

[16:52:01.0000] <gsnedders>
Real ones, too!

[16:53:00.0000] <zewt>
get out.

[19:40:00.0000] <MikeSmith>
other than the proposals for an inputmode-like attribute and translate attribute, are there any other proposals for new attributes that have much traction?

[22:54:00.0000] <zcorpan>
wait, so chrome also detects utf-8?

[22:59:00.0000] <zcorpan>
/me can't reproduce

[22:59:01.0000] <zcorpan>
/me finds from reverse engineering that opera needs 11 valid byte sequences

[23:01:00.0000] <zcorpan>
oh, i need to choose "auto detect" in chrome

[23:11:00.0000] <zcorpan>
Hixie: http://lists.whatwg.org/listinfo.cgi doesn't work

[00:12:00.0000] <MikeSmith>
annevk: can you give me write access to the https://bitbucket.org/ms2ger/specification-data repo?

[00:12:01.0000] <MikeSmith>
or do I need to bug Ms2ger?

[01:05:00.0000] <MikeSmith>
despite what the HTML spec claims, it seems to me its current definition of "URL" does not violate anything in RFC 3986

[01:07:00.0000] <annevk>
what's your bitbucket account MikeSmith?

[01:07:01.0000] <annevk>
MikeSmith: oh, it seems Ms2ger has to do it, I'm no admin for that repository

[01:08:00.0000] <Ms2ger>
Hmm?

[01:08:01.0000] <annevk>
Ms2ger: add MikeSmith to specification-data or me as admin

[01:08:02.0000] <MikeSmith>
annevk: sideshowbarker

[01:09:00.0000] <MikeSmith>
context is that for the URL spec, I added some specs to references.json

[01:09:01.0000] <MikeSmith>
and some terms to xrefs/network/url.json

[01:09:02.0000] <Ms2ger>
Should all be admins now

[01:09:03.0000] <MikeSmith>
thx

[01:11:00.0000] <annevk>
sweet

[01:12:00.0000] <annevk>
in other news, Opera will be removing support for windows-sami-2, tcvn, and viettcvn

[01:12:01.0000] <annevk>
not sure what release

[01:12:02.0000] <MikeSmith>
what's tcvn?

[01:12:03.0000] <MikeSmith>
a vietnamese encoding?

[01:14:00.0000] <MikeSmith>
/me attempts a push

[01:18:00.0000] <annevk>
MikeSmith: yeah

[01:20:00.0000] <MikeSmith>
OK, just pushed https://bitbucket.org/ms2ger/specification-data/changeset/09fda5dc9e13

[01:21:00.0000] <MikeSmith>
I noticed that there is a RFCs.json file, but I assumed that's just there for purposes of being copied from

[01:21:01.0000] <MikeSmith>
so I copied data for the needed RFCs over from that to references.json

[01:22:00.0000] <MikeSmith>
needed ones being RFC3987, RFC3986, and RFC2781

[01:22:01.0000] <MikeSmith>
for IRIs, URIs, and UTF-16

[01:23:00.0000] <MikeSmith>
which are needed for defining what a valid URL is - http://www.whatwg.org/specs/web-apps/current-work/multipage/urls.html#terminology-0

[01:23:01.0000] <Ms2ger>
Yes, the RFC files is just the data I used to generate HTML's references

[01:24:00.0000] <annevk>
MikeSmith: I think we might end up with a slightly more complicated definition

[01:24:01.0000] <annevk>
MikeSmith: or simpler even, because that definition is quite specific to HTML

[01:25:00.0000] <annevk>
MikeSmith: e.g. in XMLHttpRequest or CSS usage it does not matter what the resource is encoded as

[01:25:01.0000] <MikeSmith>
annevk: OK

[01:26:00.0000] <annevk>
<style>body{background:url(x?è)}</style><a href="x?è">...</a> are two different URLs in a windows-1252 encoded resource...

[01:26:01.0000] <MikeSmith>
but for now I am really just at the point of copying over what we need from abarth URL-parsing draft and that Terminology part of the URL section of the HTML spec

[01:27:00.0000] <annevk>
kk

[01:27:01.0000] <MikeSmith>
I suppose I ought to get this pushed to dvcs.w3.org at some point

[01:28:00.0000] <MikeSmith>
annevk: maybe you can do a sanity check on what I have at this point?

[01:28:01.0000] <MikeSmith>
before I push it

[01:28:02.0000] <annevk>
MikeSmith: nah just go for it

[01:29:00.0000] <annevk>
MikeSmith: I think we're at least a month and a half away from me having time

[01:29:01.0000] <annevk>
(for working with you on it)

[01:30:00.0000] <annevk>
btw, Opera is currently not removing the viscii encoding as there are email clients out there using it, including Gecko

[01:30:01.0000] <annevk>
also single-octet, Vietnamese

[01:32:00.0000] <Ms2ger>
\o/

[01:34:00.0000] <annevk>
sorry not "using", supporting

[01:35:00.0000] <annevk>
and if it was my call we would remove it, but Peter wants to tread carefully

[01:45:00.0000] <annevk>
haha, via ojan http://www.astrodigital.org/space/stshorse.html

[01:46:00.0000] <annevk>
comment along with it: "This accurately describes how many features of the web platform got where they are today."

[01:52:00.0000] <annevk>
Ms2ger: aah

[01:53:00.0000] <annevk>
Ms2ger: I guess I can take a stab at updating your branched copy

[01:54:00.0000] <Ms2ger>
I'm looking

[01:54:01.0000] <annevk>
ooh, that's in a separate branch?

[01:54:02.0000] <annevk>
kk

[01:58:00.0000] <zcorpan>
is anything on the web platform actually derived from a horse's ass?

[02:03:00.0000] <jgraham>
Little known fact: The glue that holds the platform together is derived from boiled horse arse.

[02:37:00.0000] <MikeSmith>
Ms2ger: btw, Berjon tells be you were asking about write access on the dvcs testframework repos

[02:37:01.0000] <MikeSmith>
I will set that up for you as soon as i get back home (I'm on a train now getting close to Shinjuku station and need to drop off in 5 minutes)

[02:45:00.0000] <annevk>
MikeSmith: I forgot to ask you about the book

[02:45:01.0000] <MikeSmith>
oh shit

[02:46:00.0000] <MikeSmith>
yeah

[02:46:01.0000] <annevk>
MikeSmith: are you in the office tomorrow and can you send it then?

[02:46:02.0000] <MikeSmith>
probably not going to the office but I will ask somebody there to package it up and send it

[02:46:03.0000] <MikeSmith>
I think somebody will be there tomorrow

[02:47:00.0000] <MikeSmith>
today was actually still pretty much a holiday here -- most people won't be back to work til tomorrow

[02:48:00.0000] <annevk>
more holidays than golden week in Japan?

[02:48:01.0000] <annevk>
crazy

[03:01:00.0000] <Ms2ger>
MikeSmith: ta

[03:39:00.0000] <annevk>
should I file https://bugzilla.mozilla.org/show_bug.cgi?id=690225#c30 as a new bug?

[03:39:01.0000] <annevk>
or just be patient?

[03:40:00.0000] <Ms2ger>
No idea, I can't access it

[04:06:00.0000] <annevk>
someone online who can explain HTTP auth in combination with XHR to me? sick...

[04:06:01.0000] <annevk>
euh, meant to autocomplete sicking

[04:36:00.0000] <annevk>
euhm why did Alexander Pechtold retweet Newt Gingrich?

[04:36:01.0000] <annevk>
/me wonders whether he missed something important

[06:11:00.0000] <annevk>
Chrome does not support iso-2022-jp?

[06:15:00.0000] <annevk>
it does in the menu

[06:16:00.0000] <annevk>
just not listed here: http://src.chromium.org/viewvc/chrome/trunk/deps/third_party/icu46/source/data/mappings/ucmlocal.mk

[06:16:01.0000] <annevk>
confusing

[06:22:00.0000] <annevk>
/me filed http://code.google.com/p/chromium/issues/detail?id=109120

[06:39:00.0000] <hsivonen>
hmm. document.write("foo"); location.href = "something"; document.write("bar");

[06:40:00.0000] <Ms2ger>
No, I don't think I want to know :)

[06:40:01.0000] <gsnedders>
/me laughs somewhat evily

[06:42:00.0000] <gsnedders>
annevk: That doesn't include any purely algorithmic encodings

[06:42:01.0000] <gsnedders>
annevk: That's just a list of those that have mapping tables

[06:44:00.0000] <annevk>
sure

[06:44:01.0000] <annevk>
but all other encodings are mentioned there

[06:47:00.0000] <gsnedders>
GB18030 is probably supported and not mentioned.

[06:48:00.0000] <annevk>
it is mentioned

[06:48:01.0000] <annevk>
just with a space after GB

[06:48:02.0000] <hsivonen>
whoa. it seems that under some circumstances, where doc.write() should imply doc.open(), it doesn't in chrome

[06:48:03.0000] <annevk>
but does in Safari?

[06:49:00.0000] <hsivonen>
I'm on Linux here. let's see

[06:49:01.0000] <annevk>
willing to run a URL through Safari :)

[06:49:02.0000] <gsnedders>
/me can't read

[06:49:03.0000] <annevk>
fyi: http://tools.ietf.org/html/draft-reschke-http-status-308

[06:50:00.0000] <annevk>
beverloo: is there an open bug on WebKit being the only browser still using UTS22 alias/label matching?

[06:51:00.0000] <annevk>
beverloo: everyone else does trim leading/trailing whitespace, ASCII case-insensitive

[06:51:01.0000] <hsivonen>
huh. safari is even more broken

[06:51:02.0000] <beverloo>
No results for "UTS22" on either Chromium or WebKit

[06:51:03.0000] <hsivonen>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1292 works in Chrome but not in Safari

[06:51:04.0000] <beverloo>
I honestly wouldn't know if that's been reported

[06:52:00.0000] <annevk>
maybe there's a space

[06:52:01.0000] <hsivonen>
odd. now the case that failed in Chrome started working

[06:55:00.0000] <hsivonen>
to its credit, GB18030 is a rough ASCII superset and an UTF

[06:55:01.0000] <hsivonen>
which makes it suck less than UTF-16

[06:55:02.0000] <annevk>
it's GBK plus 4 byte fun

[06:55:03.0000] <annevk>
iirc

[06:56:00.0000] <hsivonen>
(suck less for interchange that is; it sucks for in-memory use, of course)

[06:56:01.0000] <gsnedders>
hsivonen: That's about all that's nice about it, though

[06:57:00.0000] <gsnedders>
annevk: the 4 byte fun is really fun, though, because it isn't just a continuous algorithmic mapping from 4 byte sequences to codepoints

[06:57:01.0000] <gsnedders>
annevk: it's continuous, starting from the first 4 byte sequence, but excluding anything in GBK.

[07:00:00.0000] <annevk>
yeah

[07:00:01.0000] <annevk>
beverloo: cannot find it either

[07:03:00.0000] <hsivonen>
hmm. I see nothing in the spec saying that document.write() shouldn't imply document.open() when called on an aborted document

[07:03:01.0000] <annevk>
man

[07:04:00.0000] <annevk>
that we're still figuring out document.write()

[07:04:01.0000] <annevk>
such a shame

[07:05:00.0000] <hsivonen>
Hixie: could you, please, add the HTTP header to disable the IE XSS filter on the live DOM viewer? modifying IE's settings again and again is really annoying

[07:12:00.0000] <crankharder>
this page mentions there's a flag in the DOM to tell whether the browser is on/offline.  http://diveintohtml5.info/offline.html -- what is that flag?

[07:13:00.0000] <hasather>
crankharder: window.navigator.onLine

[07:14:00.0000] <crankharder>
ty

[07:16:00.0000] <crankharder>
hasather: dunno, can't get that to change. disconnecting wifi and making a request still shows true

[07:17:00.0000] <hasather>
crankharder: it reflects the offline setting in your browser

[07:25:00.0000] <hsivonen>
looks like Adobe, a font company, is still using bitmaps instead of real fonts for blog titles...

[07:26:00.0000] <astearns>
link?

[07:26:01.0000] <hsivonen>
astearns: e.g. http://blogs.adobe.com/accessibility/2012/01/wcag-2-0-techniques-for-pdf.html

[07:27:00.0000] <astearns>
thanks, I'll raise some hell :)

[07:27:01.0000] <astearns>
ah, cufon

[07:30:00.0000] <crankharder>
hasather: k, well there must be a different flag that detects whether to use the cache or not

[07:31:00.0000] <annevk>
"by AWK"

[07:31:01.0000] <annevk>
that's pretty close to AvK

[07:37:00.0000] <crankharder>
my app manifest looks like this: http://pastie.org/3125389 -- /offline contains a single alert, but when viewing / while offline that alert is executed 3 times.  why?

[08:00:00.0000] <AryehGregor>
Ms2ger, what's the status on bug 647323 (translating testharness.js tests to mochitests)?

[08:00:01.0000] <Ms2ger>
I've started on it again this week

[08:00:02.0000] <AryehGregor>
I'm supposed to write testharness.js tests and also get them into Gecko, it seems.

[08:00:03.0000] <AryehGregor>
Excellent.

[08:01:00.0000] <Ms2ger>
(I hope nobody's going to take a close look at my python code)

[08:01:01.0000] <AryehGregor>
/me does an hg pull on his mozilla-central checkout that was last updated months ago

[08:01:02.0000] <jgraham>
Ooh, there's a sentence that sounds full of win

[08:02:00.0000] <Ms2ger>
What, about my python code? :)

[08:02:01.0000] <jgraham>
I was thinking of AryehGregor's sentence a couple of lines above :)

[08:02:02.0000] <Ms2ger>
Oh :)

[08:03:00.0000] <AryehGregor>
Well, I don't expect to do any of the actual work translating from testharness.js to mochitests.

[08:03:01.0000] <AryehGregor>
Which is why I'm poking Ms2ger.

[08:03:02.0000] <hsivonen>
AryehGregor: so Mozilla hired you to write specs and tests?

[08:04:00.0000] <AryehGregor>
hsivonen, yes.

[08:04:01.0000] <hsivonen>
AryehGregor: congrats

[08:04:02.0000] <AryehGregor>
Thanks.

[08:04:03.0000] <hsivonen>
and hooray for whoever decided to hire spec/test writers

[08:05:00.0000] <Ms2ger>
^That

[08:05:01.0000] <annevk>
is Ms2ger getting a job too?

[08:05:02.0000] <Ms2ger>
I'm too lazy to get a job

[08:06:00.0000] <Ms2ger>
(Instead doing the same work in my free time)

[08:06:01.0000] <hober>
AryehGregor: congrats! that's awesome

[08:06:02.0000] <annevk>
Ms2ger: you don't require money? :)

[08:07:00.0000] <Ms2ger>
Nah, I live in a hole in the ground

[08:07:01.0000] <jgraham>
He only needs to be connected to AC power

[08:07:02.0000] <hober>
/me knew Ms2ger was a hobbit

[08:08:00.0000] <AryehGregor>
Ms2ger, so your testharnessreport.js only registers known failures based on the test name, not the assert name too?

[08:08:01.0000] <annevk>
hober: nice haha

[08:08:02.0000] <Ms2ger>
Yes, I think so

[08:09:00.0000] <AryehGregor>
Ms2ger, wouldn't it be better to check the test name plus the assert name, for the case of tests with many asserts?  (Like, um, mine.)

[08:10:00.0000] <AryehGregor>
Or do we not care if it's a different assert that fails?

[08:10:01.0000] <Ms2ger>
Don't you have multiple test()s per file?

[08:10:02.0000] <AryehGregor>
Yes.

[08:10:03.0000] <AryehGregor>
Sometimes tens of thousands of test()s, but also sometimes tens of asserts per test.

[08:11:00.0000] <Ms2ger>
I think we can live with it if the failing assert changes

[08:11:01.0000] <AryehGregor>
If the failing assert changes, that probably indicates that either 1) an earlier assert than before fails (regression that should be flagged), or 2) a later assert than before fails (unexpected pass that should be flagged).

[08:12:00.0000] <Ms2ger>
Mm

[08:12:01.0000] <AryehGregor>
/me posts on the bug

[08:12:02.0000] <Ms2ger>
How would you identify the asserts?

[08:12:03.0000] <AryehGregor>
That's not exposed to the result callback?

[08:12:04.0000] <AryehGregor>
If not, it should be.

[08:12:05.0000] <AryehGregor>
/me pokes

[08:12:06.0000] <Ms2ger>
Probably just the message, no?

[08:13:00.0000] <AryehGregor>
Yeah, the assert can be identified just by message.

[08:13:01.0000] <AryehGregor>
I mean, by its name.

[08:13:02.0000] <AryehGregor>
If it has one.

[08:13:03.0000] <AryehGregor>
Really, you should be able to identify it by whatever info the default <div id=log> spits out into the rightmost column.

[08:14:00.0000] <Ms2ger>
Well, most of my asserts, at least, don't have messages

[08:14:01.0000] <Ms2ger>
And I'd rather not have to write messages for all failing tests that we import

[08:14:02.0000] <AryehGregor>
test.message?

[08:14:03.0000] <Velmont>
The full message is supposed to come back. We have it reported at Opera.

[08:14:04.0000] <AryehGregor>
Well, if the asserts don't have messages, then the failing message will be the same regardless of which assert fails.

[08:14:05.0000] <AryehGregor>
Which is no worse than the status quo.

[08:15:00.0000] <AryehGregor>
I do that too if my test has only one or two asserts.

[08:15:01.0000] <Ms2ger>
It isn't autogenerated?

[08:15:02.0000] <Ms2ger>
Because I also don't feel like updating all the expectations when the default message's wording changes

[08:16:00.0000] <Velmont>
Some of my tests have messages, -- some don't. -- At least you get a somewhat usable message when something throws, so you most probably want the message anyway.

[08:16:01.0000] <AryehGregor>
We could adopt the approach of stabbing anyone who updates the default message's wording.

[08:16:02.0000] <AryehGregor>
Alternatively, regex.

[08:16:03.0000] <Ms2ger>
Hmm, the stabbing idea sounds interesting

[08:17:00.0000] <Velmont>
You're now talking about going from FAIL to FAIL, but identifying different fails?

[08:17:01.0000] <Velmont>
If it's failing in a different way, -- someone should probably look at it. Either because message changed, test changed, or code changed. Or regression, ofc. :]

[08:17:02.0000] <Ms2ger>
Changes in which assertion fails within a test()

[08:18:00.0000] <Ms2ger>
My problem is mostly someone being me :)

[08:18:01.0000] <AryehGregor>
Should be no different from any test, right?  Whoever breaks it has to deal with it?

[08:18:02.0000] <AryehGregor>
If it turns out testharness.js changes are needed to make things more reliable, we can do those.

[08:20:00.0000] <Ms2ger>
I'm afraid of the work that needs to be done whenever testharness.js or sets of tests are updates

[08:21:00.0000] <AryehGregor>
As soon as anyone is relying on the format of test failure messages, testharness.js shouldn't be changing in ways that change those messages.

[08:21:01.0000] <AryehGregor>
Nor should tests, for that matter.

[08:21:02.0000] <jgraham>
I would be scared of getting lots of work every time a third party updated a test, if I were you

[08:21:03.0000] <Ms2ger>
I am

[08:22:00.0000] <jgraham>
For example if I update 10000 tests to have a different error message when they assert, that sounds bad under your proposal

[08:22:01.0000] <Velmont>
You have timestamp on the files, -- if they are new (updated), they are not "real" problems any more and should be marked in a special way.

[08:22:02.0000] <Ms2ger>
Velmont, doesn't work that way over here

[08:23:00.0000] <jgraham>
/me would just go with the sytem as it was designed to work i.e. a Test is the atomic thing

[08:23:01.0000] <Velmont>
Ms2ger: OK :-) I don't know moz system, -- I just thought it was somewhat similar to Opera's.

[08:23:02.0000] <AryehGregor>
jgraham, the various WGs should adopt policies that prohibit that kind of change without good reason.  It's not in anyone's interest, after all.

[08:23:03.0000] <jgraham>
AryehGregor: It's in our interest if it gives us better error messages, for example

[08:23:04.0000] <AryehGregor>
So you think a difference in the failure message shouldn't be flagged?

[08:24:00.0000] <AryehGregor>
True, but reconfiguring the number of tests is also sometimes in our interest.

[08:24:01.0000] <AryehGregor>
Like breaking tests up by finer granularity so that they're more useful.

[08:24:02.0000] <AryehGregor>
Or coarser so that they run faster.

[08:24:03.0000] <jgraham>
No. I think it offers a small theoretical advantage at the cost of fighting the way the system is supposed to work

[08:24:04.0000] <jgraham>
It will also encourage Mozilla people to write tests that don't work well for others (many asserts per test)

[08:25:00.0000] <jgraham>
So it's bad from my point of view :)

[08:25:01.0000] <Velmont>
^^

[08:25:02.0000] <AryehGregor>
I already write tests like those, partly because it makes the tests run much faster given how long it takes to lay out the results (superlinear in the number of results).

[08:25:03.0000] <AryehGregor>
But they're also less useful, I gues.

[08:25:04.0000] <AryehGregor>
guess.

[08:25:05.0000] <jgraham>
If laying out the results is the bottleneck we should fix that

[08:25:06.0000] <AryehGregor>
So I can just write them at finer granularity if that's what people prefer.

[08:26:00.0000] <AryehGregor>
I tried, didn't you notice?  :)

[08:26:01.0000] <jgraham>
Yeah, but there are other ways to try

[08:26:02.0000] <AryehGregor>
Suggestions?

[08:26:03.0000] <Ms2ger>
Yeah, and you keep breaking my XML tests :)

[08:26:04.0000] <jgraham>
Like having id=log-fail that only prints fails

[08:26:05.0000] <Velmont>
It doesn't *need* to lay out the tests when you're using testharnessreport to do it?

[08:27:00.0000] <jgraham>
Or having id=log-delayed that requires human interaction to actually generate the tests

[08:27:01.0000] <Velmont>
Are you speaking about slow as in a testrunner system, -- or when people run them themselves?

[08:27:02.0000] <jgraham>
*test results

[08:27:03.0000] <Ms2ger>
The latter

[08:27:04.0000] <AryehGregor>
Velmont, the latter.

[08:27:05.0000] <jgraham>
I guess it is both?

[08:27:06.0000] <AryehGregor>
jgraham, or automatically print only fails if there are a lot of passes.

[08:27:07.0000] <jgraham>
Right, there are a number of things that we could do to make it more efficient

[08:28:00.0000] <AryehGregor>
Another question: should testharnessreport.js as used by browser vendors remove <div id=log>?  As noted, for my tests it can sometimes take a really long time to lay out the results.  Like 30+ seconds.

[08:28:01.0000] <AryehGregor>
Or should we just fix that?

[08:28:02.0000] <Ms2ger>
Oh, I had another issue with test descriptions that included characters XML didn't like

[08:28:03.0000] <AryehGregor>
Silly XML.

[08:28:04.0000] <Ms2ger>
Well, that's an open door

[08:28:05.0000] <jgraham>
AryehGregor: That seems like a reasonable hack, although I would expect it to break some tests

[08:29:00.0000] <AryehGregor>
Maybe better to just have those tests use delayed logging or whatever.

[08:29:01.0000] <jgraham>
Yup. Although it shouldn't start layout until after the results have been sent so it might be interupted by the next test loading (or something)

[08:30:00.0000] <Ms2ger>
jgraham, hmm, could you add a function to testharness that just disables logging?

[08:30:01.0000] <AryehGregor>
I was about to say that.

[08:30:02.0000] <Ms2ger>
I'd want the log to be filled in when tests are run outside the harness, though

[08:31:00.0000] <AryehGregor>
It should disable only the logging at finish, though, since the logging after each result might affect a later test's outcome.

[08:31:01.0000] <AryehGregor>
(the logging after each result shouldn't be a big deal since I updated it to happen only every 1000th test if there are lots)

[08:31:02.0000] <jgraham>
Right, the question is how one tells when it should be enabled or not

[08:31:03.0000] <AryehGregor>
I'm not sure I want the log filled in by default when tests are run outside the harness, because that's really slow in some cases.

[08:31:04.0000] <Ms2ger>
I can tell you that in testharnessreport :)

[08:31:05.0000] <jgraham>
AryehGregor: What logging after each result?

[08:32:00.0000] <AryehGregor>
jgraham, updating the number of tests run so far.

[08:32:01.0000] <jgraham>
Oh, Ok

[08:32:02.0000] <jgraham>
Ms2ger: That seems reasonable

[08:32:03.0000] <jgraham>
(a manually set off switch)

[08:33:00.0000] <Ms2ger>
I'm probably already going to get shouted at for making our test runs longer :)

[08:33:01.0000] <AryehGregor>
For tests not using testharnessreport.js, I also want a way to default some or all of the show/hide checkboxes to hide.

[08:33:02.0000] <AryehGregor>
So that to display the tests you need to check one of the boxes.

[08:33:03.0000] <Ms2ger>
Class names?

[08:33:04.0000] <AryehGregor>
Hmm?

[08:34:00.0000] <Ms2ger>
<div id=log class=shutup>

[08:34:01.0000] <annevk>
Gecko has by far the most complicated Encoding UI, followed by Opera :/

[08:34:02.0000] <annevk>
oh, maybe IE is worse

[08:34:03.0000] <Ms2ger>
(I want a way to shut it up without touching the test's DOM, though)

[08:35:00.0000] <annevk>
IE does not expose an encoding menu?

[08:35:01.0000] <annevk>
that's kind of novel

[08:36:00.0000] <AryehGregor>
Ms2ger, a function to be called by the tests makes more sense to me.  Like a parameter to pass to setup(), maybe.

[08:36:01.0000] <Ms2ger>
That would work too

[08:36:02.0000] <jgraham>
annevk: If only people listened to mpt in 2004 (or whenever)

[08:36:03.0000] <annevk>
jgraham: pointer?

[08:36:04.0000] <AryehGregor>
For testharnessreport.js, we want a way to stop stuff from even being added to the DOM.

[08:37:00.0000] <AryehGregor>
It's just a waste of resources.

[08:37:01.0000] <Ms2ger>
Yeah

[08:37:02.0000] <mpt>
annevk, Epiphany if you have it installed, otherwise it's on Google Groups somewhere

[08:37:03.0000] <AryehGregor>
For manual runs, it's probably fine to always add stuff to the DOM.  IIRC, that's not a big deal even for really big result sets, given that you use my innerHTML optimization.

[08:37:04.0000] <jgraham>
annevk: http://groups.google.com/group/netscape.public.mozilla.ui/msg/60e186a20d5d69d0

[08:37:05.0000] <jgraham>
(2000)

[08:38:00.0000] <Ms2ger>
Until recently, we had a bug open to expose encoding in the context menu :)

[08:39:00.0000] <jgraham>
Wow

[08:40:00.0000] <annevk>
Safari calls it "Text Encoding", Chrome/Opera just call it "Encoding"

[08:40:01.0000] <annevk>
Gecko still calls it "Character Encoding"

[08:40:02.0000] <annevk>
pretty bad

[08:46:00.0000] <AryehGregor>
Does my W3C login work for hg.csswg.org, or do I need yet another login?

[08:47:00.0000] <AryehGregor>
/me wants somewhere to check in his work as he writes it

[08:47:01.0000] <Ms2ger>
Another one

[08:48:00.0000] <Ms2ger>
Ask plinss

[08:48:01.0000] <AryehGregor>
Via e-mail?

[08:49:00.0000] <AryehGregor>
Has anyone ever remarked that having most tests named things like test_bug382027.html is not very convenient for figuring out what they do?

[08:49:01.0000] <jcranmer>
yep

[08:51:00.0000] <Ms2ger>
Well, the usual response is that those tests test one particular piece of code, and it isn't much use to call it test_getattribute-style-for-border-style

[08:52:00.0000] <jgraham>
It's not very useful for sharing them to name them based on internal bug ids :)

[08:52:01.0000] <Ms2ger>
Sharing? What's that?

[08:52:02.0000] <AryehGregor>
I don't actually see any explicit transform tests anywhere.

[08:53:00.0000] <AryehGregor>
(in Gecko)

[08:53:01.0000] <AryehGregor>
(based on where dbaron told me to look)

[08:53:02.0000] <AryehGregor>
(grepping for -moz-transform\|mozTransform)

[08:54:00.0000] <Ms2ger>
/layout/reftests/transform-3d/?

[08:54:01.0000] <Ms2ger>
And /layout/reftests/transform/

[08:55:00.0000] <Ms2ger>
(http://mxr.mozilla.org/mozilla-central/search?string=moz-transform&find=%2F&findi=&filter=^[^\0]*%24&hitlimit=&tree=mozilla-central)

[08:55:01.0000] <dglazkov>
good morning, Whatwg!

[08:56:00.0000] <AryehGregor>
Ms2ger, oh, I was looking for mochitests.

[08:56:01.0000] <AryehGregor>
Wasn't thinking about reftests just yet.

[08:56:02.0000] <AryehGregor>
(and I'm only doing 2d for now)

[08:56:03.0000] <Ms2ger>
There don't tend to be many mochitests for CSS stuff

[08:57:00.0000] <AryehGregor>
Why not?  Obviously you need some reftests, but those must be a lot slower per assertion.

[09:01:00.0000] <AryehGregor>
/me expects to write a handful of reftests, and lots and lots of JS tests

[09:03:00.0000] <AryehGregor>
Ms2ger, I should just send an e-mail to plinss?

[09:04:00.0000] <Ms2ger>
Yeah

[09:13:00.0000] <AryehGregor>
Done.

[09:16:00.0000] <Ms2ger>
jgraham, want me to file a bug for disabling the logging or would you remember it without one? :)

[09:16:01.0000] <AryehGregor>
CC me if you file it.

[09:17:00.0000] <jgraham>
File it

[09:18:00.0000] <jgraham>
Alternate theory: turn logging off by default and then only turn it on in testharnessreport.js

[09:18:01.0000] <jgraham>
Advantage: encourages people to include testharnessreport.js

[09:18:02.0000] <AryehGregor>
Wait, what am I supposed to do when writing tests if there are vendor prefixes?  Just write tests that will fail in all browsers?

[09:18:03.0000] <AryehGregor>
Really?

[09:18:04.0000] <AryehGregor>
jgraham, you mean make the default testharnessreport.js non-empty?

[09:19:00.0000] <Ms2ger>
I want testharnessreport.js to be empty, ta :)

[09:19:01.0000] <jgraham>
OK, well just a thought :)

[09:19:02.0000] <jgraham>
(it occurs to me that due to the peculiar way that Opera runs tests this solution isn't going to work well for us :( )

[09:19:03.0000] <AryehGregor>
Which solution?

[09:20:00.0000] <jgraham>
Using a flag in testharnessreport.js to disable output

[09:24:00.0000] <AryehGregor>
. . . Okay, so is there actually any programmatic way to detect where a transformed element wound up?

[09:24:01.0000] <AryehGregor>
.offsetLeft and friends seem to report the untransformed position.

[09:25:00.0000] <AryehGregor>
If there's no way to check it programmatically, that sort of implies I can only do reftests.

[09:26:00.0000] <jgraham>
Hmm, so I doubt that I can rely on the relative order of testharness.js and testharnessreport.js loading

[09:26:01.0000] <jgraham>
Without retrospectively editing all existing tests

[09:27:00.0000] <AryehGregor>
It would be kind of bad if you can't rely on the order.

[09:27:01.0000] <jgraham>
Well it's kind of bad then

[09:28:00.0000] <Ms2ger>
Because of Opera's legacy tests, or?

[09:29:00.0000] <AryehGregor>
Okay, so getBoundingClientRect() works, although frankly I have no idea whether that's actually required by spec.

[09:29:01.0000] <AryehGregor>
Or if it works in IE.

[09:29:02.0000] <AryehGregor>
/me tests in IE

[09:29:03.0000] <jgraham>
For example in submissions/AryehGregor interfaces.html has testharnessreport.js first but reflection/reflection-embedded/html has testharness.js first

[09:30:00.0000] <AryehGregor>
Add a check to testharness.js to figure out somehow and complain.

[09:30:01.0000] <AryehGregor>
/me votes for setting a global variable in testharnessreport.js

[09:30:02.0000] <AryehGregor>
Ms2ger, why don't you want that?

[09:30:03.0000] <jgraham>
You know plh lives close enough that he could quite easilly track me down and kill me if I break all the legacy tests

[09:31:00.0000] <AryehGregor>
Which legacy tests?

[09:31:01.0000] <jgraham>
All the ones written up till now

[09:31:02.0000] <jgraham>
Setting a global works of course

[09:31:03.0000] <jgraham>
But it is really ugly

[09:31:04.0000] <Ms2ger>
testharness.js should be first

[09:32:00.0000] <jgraham>
It would be nice if in testharnessreport.js one could do setupHarness(options)

[09:32:01.0000] <jgraham>
or something

[09:32:02.0000] <Ms2ger>
And I'll probably have to fix up the tests I care about

[09:32:03.0000] <jgraham>
Ms2ger: And the tests you don't care about too, if you want it to work :)

[09:32:04.0000] <AryehGregor>
jgraham, if the goal is to get the legacy tests working with browsers, and browsers' use of testharnessreport.js requires a specific order, the legacy tests are already broken.

[09:32:05.0000] <AryehGregor>
Nothing wrong with making them more obviously broken.

[09:32:06.0000] <Ms2ger>
jgraham, I'm not going to import all tests :)

[09:33:00.0000] <Ms2ger>
Certainly not the widget ones

[09:33:01.0000] <AryehGregor>
Okay, so getBoundingClientRect() interoperably reflects transforms.

[09:34:00.0000] <AryehGregor>
I have no idea why, since AFAICT the spec doesn't say anything meaningful about what exactly the rectangle is supposed to be, unless I don't understand the secrets of CSS terminology.

[09:35:00.0000] <AryehGregor>
But it will do for now.

[09:51:00.0000] <annevk>
AryehGregor: it does? meh

[09:51:01.0000] <annevk>
oh well, not my spec anymore

[09:51:02.0000] <AryehGregor>
annevk, meh that it reflects transforms?

[09:52:00.0000] <AryehGregor>
Can anyone explain to me why IE and WebKit prefix with ms and webkit, but Gecko and Opera prefix with Moz and O?

[09:52:01.0000] <AryehGregor>
Uppercase vs. lowercase?

[09:52:02.0000] <AryehGregor>
It's confusing.

[09:53:00.0000] <jgraham>
In the DOM?

[09:54:00.0000] <AryehGregor>
Yes.

[09:54:01.0000] <Ms2ger>
I think Moz is a tanktekism

[09:54:02.0000] <Ms2ger>
We also have mozRequestAnimationFrame, mozMatchesSelector

[09:54:03.0000] <jgraham>
Also, I think the simplest solution for the testharness.js thing is to allow setup to take another parameter output that controls whether output is enabled. This has the effect that one could override it on a per-test basis which seems bad but not too bad

[09:55:00.0000] <annevk>
AryehGregor: yeah, I thought we were going to have another API for transforms

[09:55:01.0000] <Ms2ger>
jgraham, can I call setup multiple times?

[09:55:02.0000] <annevk>
AryehGregor: -o-x -> OX; dash -> next character uppercase

[09:56:00.0000] <annevk>
AryehGregor: for non-CSS, I think we did it so the DOM could introduce methods that started with a lowercase o

[09:56:01.0000] <annevk>
dunno how consistent we've been

[09:56:02.0000] <jgraham>
All I know is http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating?cid=78181842#comment78181842

[09:57:00.0000] <jgraham>
Ms2ger: Yes

[09:57:01.0000] <Ms2ger>
That works, then

[09:57:02.0000] <Ms2ger>
I think allowing tests to override it is fine

[10:05:00.0000] <AryehGregor>
Okay, so Gecko serializes matrices with px units for the last two values.

[10:05:01.0000] <AryehGregor>
Is that supposed to be defined somewhere?

[10:05:02.0000] <AryehGregor>
/me hates CSS specs with a passion

[10:06:00.0000] <Ms2ger>
dbaron would know about that

[10:06:01.0000] <dbaron>
about what?

[10:06:02.0000] <Ms2ger>
<AryehGregor> Okay, so Gecko serializes matrices with px units for the last two values.

[10:06:03.0000] <Ms2ger>
<AryehGregor> Is that supposed to be defined somewhere?

[10:07:00.0000] <AryehGregor>
dbaron, I started writing JS-based tests for CSS Transforms, as discussed.  The first non-interoperable thing I found is Gecko serializes (e.g.) translate(10px) as matrix(1, 0, 0, 1, 10px, 0) in getComputedStyle(), and all other browsers serialize as matrix(1, 0, 0, 1, 10, 0).

[10:08:00.0000] <dbaron>
I think the group hasn't really resolved on it

[10:08:01.0000] <dbaron>
but I'm inclined to give in

[10:08:02.0000] <zewt>
should i be entertained that the stupid nonsense I see on the web never slows; that people always find new, stupid things to do badly

[10:09:00.0000] <zewt>
such as this address form, where I entered my zip code; tabbed; started entering my city; and halfway through entering the city, apparently some json request finished and autocompleted the city, leaving me with "onsONSET" entered in the field

[10:12:00.0000] <zewt>
it's also discomfiting to be asked my mother's maiden name in 2012

[10:19:00.0000] <michel_v>
it could be worse. you could be a woman, and wonder endlessly why all the damn forms ask you if you're "Miss" or "Mrs"

[10:19:01.0000] <michel_v>
as if your marital status mattered when you registered a domain name, for example

[10:58:00.0000] <AryehGregor>
assert_equals: getComputedStyle expected "matrix(1, -1, 0, 1, 0, 0)" but got "matrix(1, -0.9999999999999999, 0, 1, 0, 0)"

[10:58:01.0000] <AryehGregor>
Sigh.

[10:58:02.0000] <AryehGregor>
Why does CSS have to be so poorly defined?

[10:58:03.0000] <AryehGregor>
Is defining rounding for serialization too much to ask?

[10:58:04.0000] <Ms2ger>
Yes

[10:58:05.0000] <Ms2ger>
The WG doesn't want that kind of thing

[10:59:00.0000] <AryehGregor>
/me notes that Gecko doesn't have any such issues that he's discovered

[11:00:00.0000] <Ms2ger>
Go us!

[11:08:00.0000] <jamesr_>
most test frameworks have fuzzy matchers for floating point values

[11:08:01.0000] <AryehGregor>
jamesr_, yes, I just switched to using that.

[11:08:02.0000] <AryehGregor>
I had to make up an epsilon (I picked 1.0e-5).

[11:08:03.0000] <AryehGregor>
At first I tried 1.0e-10, but IE was deviating from expected values by the order of 1.0e-8 sometimes.

[11:08:04.0000] <AryehGregor>
So I made up a number that happened to work.

[11:09:00.0000] <AryehGregor>
How in heaven's name does the CSSWG expect anyone to write any correct tests under these conditions?

[11:09:01.0000] <Ms2ger>
For API stuff? Not, I guess

[11:10:00.0000] <AryehGregor>
/me also notes that he didn't test getBoundingClientRect() results when the box he was using was transformed by a singular matrix, because again, IE happened to produce different results in that case and getBoundingClientRect() isn't actually defined in any precise way

[11:10:01.0000] <AryehGregor>
What's the border box of something transformed by (-1, 1, 1, -1, 0, 0)?

[11:12:00.0000] <Ms2ger>
Is there an easy way in python to merge two dicts?

[11:14:00.0000] <AryehGregor>
dbaron, thanks.

[11:15:00.0000] <zewt>
dict.update?

[11:15:01.0000] <Ms2ger>
Thanks

[11:46:00.0000] <crankharder>
is there a way to determine whether or not the app cache has network connectivity?

[12:07:00.0000] <crankharder>
i'm having a real hard time with the order of events firing as it relates to the app cache

[12:07:01.0000] <crankharder>
the docs on the app cache say that the browser will request the manifest file as soon as it encounters the directive in the <html> tag

[12:07:02.0000] <crankharder>
but that doesn't seem to be the case

[12:07:03.0000] <crankharder>
http://pastie.org/3126878

[12:08:00.0000] <crankharder>
instead, it looks like the browser processes the whole document, runs all javascript, and only then requests the manifest file

[12:31:00.0000] <Ms2ger>
Public opinion as requested: We should kill DAP and if they do anything relevant to the web, webapps should take it on

[12:33:00.0000] <Ms2ger>
/me runs AryehGregor's Range tests in Mozilla's mochitest framework

[12:33:01.0000] <AryehGregor>
Yay.

[12:33:02.0000] <AryehGregor>
Does it work?

[12:33:03.0000] <Ms2ger>
/me waits patiently

[12:38:00.0000] <Ms2ger>
Hmm, test_interfaces probably needs some external file

[12:46:00.0000] <AryehGregor>
?

[12:47:00.0000] <Ms2ger>
The IDL parser and stuff

[12:47:01.0000] <annevk>
hmm

[12:47:02.0000] <annevk>
even when not hungry

[12:47:03.0000] <annevk>
you need more than 8 nigiri

[12:48:00.0000] <annevk>
fortunately there's always yoghurt :)

[12:57:00.0000] <jgraham>
And bacon cheeseburgers :p

[12:58:00.0000] <AryehGregor>
Ms2ger, you just need the stuff in /resources.

[12:58:01.0000] <Ms2ger>
Yeah

[12:58:02.0000] <Ms2ger>
\o/

[12:59:00.0000] <Ms2ger>
First finished mochitest run :)

[12:59:01.0000] <AryehGregor>
:)

[13:00:00.0000] <Ms2ger>
OTOH, so many test failures the actual count scrolled off my console

[13:00:01.0000] <Ms2ger>
1231 INFO Passed: 676

[13:00:02.0000] <Ms2ger>
1232 INFO Failed: 551

[13:01:00.0000] <annevk>
jgraham: indeed, I need to get myself back to Oslo :)

[13:01:01.0000] <Ms2ger>
(That's interfaces.html)

[13:03:00.0000] <Ms2ger>
/me may assemble patches tomorrow

[13:04:00.0000] <AryehGregor>
There should be lots of low-hanging fruit to fix for interfaces.html.

[13:36:00.0000] <annevk>
Does Mozilla Bugzilla have a clone bug feature?

[13:36:01.0000] <smaug____>
yes

[13:36:02.0000] <smaug____>
on bottom right corner

[13:37:00.0000] <annevk>
thanks

[14:23:00.0000] <annevk>
so far only indication that Gecko/Opera support iso-2022-cn and euc-tw

[14:23:01.0000] <annevk>
the latter with incompatible labels

[14:25:00.0000] <annevk>
Opera only recognizes euc-tw

[14:25:01.0000] <annevk>
Gecko only x-euc-tw and some others

[14:26:00.0000] <annevk>
Chrome does recognize iso-2022-cn, but to explicitly not support it

[14:26:01.0000] <annevk>
prolly to avoid the issue Philip` pointed out earlier

[15:00:00.0000] <dglazkov>
what's a good spec that defines terms like "directional navigation", "sequential navigation", "document navigation order", etc.?

[15:01:00.0000] <dglazkov>
www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#editing has some bits, but definitely not complete

[15:02:00.0000] <dglazkov>
www.w3.org/TR/css3-ui/#keyboard has some other bits, but also not fully fleshed out

[15:02:01.0000] <annevk>
what kind of navigation are we talking about?

[15:03:00.0000] <dglazkov>
keyboard control/focus

[15:03:01.0000] <dglazkov>
tabbing and spatial nav

[15:03:02.0000] <annevk>
that's not really well defined anywhere

[15:04:00.0000] <dglazkov>
ok, no problem. I'll stitch something together for shadow DOM.

[15:15:00.0000] <annevk>
note for tomorrow's annevk: XML5

[15:15:01.0000] <dglazkov>
that sounds delicious

[15:15:02.0000] <gsnedders>
Is tomorrow's annevk a different annevk from today's?

[15:15:03.0000] <gsnedders>
Is there an army of annevk clones or something?

[15:16:00.0000] <gsnedders>
Because that sounds kinda scary, but I guess it could improve productivity when it comes to writing specs.

[15:17:00.0000] <dglazkov>
perhaps it's more of a larvae->pupa->butterfly situation

[15:27:00.0000] <jamesr_>
dglazkov: tabindex defined here: http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#focus

[15:28:00.0000] <jamesr_>
not in a ton of detail

[15:28:01.0000] <dglazkov>
yep

[15:28:02.0000] <dglazkov>
I was just looking for a grand unified theory of keyboard navigation

[15:29:00.0000] <gsnedders>
For anyone who fails to understand me: http://gothsuptrees.tumblr.com/

[15:43:00.0000] <crankharder>
why would window.webkitIndexedDB be undefined in safari 5.1.2 ?

[15:45:00.0000] <hober>
crankharder: I believe you'll find that each webkit browser {en,dis}ables different features

[15:47:00.0000] <crankharder>
hober: indesedDB is enabled - a demo site is working


2012-01-05
[16:28:00.0000] <crankharder>
I'm getting effectively the same error in chrome and ffx from this indexedb example

[16:28:01.0000] <crankharder>
http://html5-demos.appspot.com/static/html5storage/index.html#slide31

[16:28:02.0000] <crankharder>
http://pastie.org/pastes/3128254

[19:08:00.0000] <MikeSmith>
fyi, I just realized today that I had at some point borked the link-fixup behavior for the dev.w3.org version of the spec

[19:08:01.0000] <MikeSmith>
such that broken fragment refs didn't get redirected the way they are supposed to

[19:09:00.0000] <MikeSmith>
but anyway, fwiw, I just fixed it so that they should work again as expected

[23:32:00.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/public-webapps/2011OctDec/att-1696/speechapi.html

[00:08:00.0000] <annevk>
http://www.jwz.org/blog/2012/01/jon-mitchell-google-hates-the-internet/ "A far distant 99th priority is the person who actually created the thing in the first place." Isn't that the same with traditional media?

[00:30:00.0000] <woef>
annevk: if you look at Google's plans for search results, they seem to be going in the same direction

[00:31:00.0000] <woef>
Google will try to answer any direct question itself, downplaying the source link where it got its information

[00:31:01.0000] <woef>
https://www.google.com/search?ie=UTF-8&q=who+is+matt+damon+married+to

[00:32:00.0000] <woef>
You have to click "show sources" to actually see where Google got it from.

[00:35:00.0000] <patbam>
weirdly, the results if you replace "angelina jolie" for "matt damon" are different

[00:35:01.0000] <woef>
Even worse I'd say, there are 7 sites they're not even mentioning.

[00:38:00.0000] <patbam>
indeed

[00:39:00.0000] <woef>
A kick in the balls for the semantic web if you ask me.

[00:39:01.0000] <woef>
You go through the trouble of marking everything up with microdata, Google steals your data and doesn't even bother to credit you properly.

[00:40:00.0000] <hsivonen>
woef: does that feature even use any semweb markup?

[00:41:00.0000] <hsivonen>
woef: and since when was semantic web about attributing anything?

[00:41:01.0000] <hsivonen>
woef: AFAICT, the SemWeb folks were never that concerned about provenance

[00:41:02.0000] <hsivonen>
woef: you stick all facts and lies you find into a triple store, shake and out come conclusions

[00:44:00.0000] <woef>
hsivonen: Google's microdata effort are certainly behind it.

[00:44:01.0000] <woef>
The best way to "know" an answer.

[00:45:00.0000] <hsivonen>
woef: nope. click show sources

[00:45:01.0000] <hsivonen>
woef: and, among others, you get http://www.huffingtonpost.com/2010/12/15/matt-damons-wife-luciana-steps-out-first-time-since-giving-birth_n_796981.html

[00:46:00.0000] <hsivonen>
woef: looks like they are extracting stuff from English phrases without any microdata

[00:46:01.0000] <woef>
I never said they did.

[00:46:02.0000] <woef>
*not do that too

[00:47:00.0000] <woef>
But if you have the chance between marked up content using microdata and English phrases ... what are they going to prefer?

[00:47:01.0000] <woef>
The data that machines can read 100% accurately, or the stuff where they still need to do some guessing?

[00:47:02.0000] <hsivonen>
is "Google's microdata effort" involved in any of the sources claimed for figuring out who Matt Damon's wife is?

[00:48:00.0000] <woef>
You claim they won't use it?

[00:48:01.0000] <woef>
They'd be dumb not to.

[00:49:00.0000] <hsivonen>
I wouldn't expect them to use microdata for this particular thing, no

[00:49:01.0000] <woef>
Is there any reason not to?

[00:49:02.0000] <tantek>
hsivonen, regarding provenance, there are differences among semweb folks in its importance

[00:50:00.0000] <woef>
Beyond the fact that hardly any big sites these days are implemting it for relations between people?

[00:50:01.0000] <hsivonen>
woef: there are lots of people providing user-visible simple English phases about celebrity marriages

[00:50:02.0000] <woef>
schema.org lists: spouse  Person  The person's spouse.

[00:50:03.0000] <tantek>
woef, expressing relations between people is solved by XFN, indexed by Google, and available to anyone thru the Google Social Graph API

[00:50:04.0000] <hsivonen>
woef: there are few sources motivated to provide correct explicit metadata declarations of celebrity marriages

[00:51:00.0000] <tantek>
oh, and has nothing to do with microdata

[00:51:01.0000] <woef>
Microdata (/schema.org) has everything ready to start using microdata for things like this

[00:52:00.0000] <hsivonen>
woef: so changes are that phrases grepped from text would give better confidence for this kind of thing that explicit metadata

[00:52:01.0000] <tantek>
woef "ready to start using" == handwaving. whatever.

[00:53:00.0000] <woef>
lol

[00:53:01.0000] <hsivonen>
tantek: does the capital Semantic Web stack have a provenance layer these days?

[00:53:02.0000] <woef>
Okay, so "they're not using it now so there is no problem at all" then.

[00:53:03.0000] <tantek>
hsivonen - depends on whose version of SemWeb "Trust" you use

[00:53:04.0000] <hsivonen>
I haven't been looking that carefully, but it seems to me that capital-S stack developed all kinds of machinery before provenance

[00:54:00.0000] <tantek>
sure, it's a multilayer cake

[00:54:01.0000] <hsivonen>
and provenance was in the "we'll figure it out later bucket"

[00:54:02.0000] <tantek>
nah, that's a bit of a mischaracterization

[00:54:03.0000] <tantek>
for example, a simple answer is to supply provenance as a triple annotation on any existing triple

[00:55:00.0000] <tantek>
it can complicate queries sure, but it's not an unsolvable problem

[00:55:01.0000] <hsivonen>
though last time I heard TimBL answer a question of SemWeb provenace was in 2004, so things might have progressed since then

[00:55:02.0000] <hsivonen>
tantek: it's solv*able* sure

[00:56:00.0000] <tantek>
to be clear - I'm just passing along bits I've picked up from discussions

[00:56:01.0000] <tantek>
it's not how I would choose to solve provenance

[00:56:02.0000] <tantek>
given that I don't choose to use uppercase SemWeb tech either (but it's easy enough to create simple data to interop with it)

[00:58:00.0000] <hsivonen>
on a completely different topic: in the popup blocker is disengaged, Chrome, IE9 and Opera open a new window/tab and load the Mozilla site into it when loading https://bug98654.bugzilla.mozilla.org/attachment.cgi?id=77369

[00:58:01.0000] <hsivonen>
Firefox doesn't

[00:58:02.0000] <hsivonen>
I don't see any mechanism in the spec that explains the Chrome/IE/Opera behavior

[00:58:03.0000] <hsivonen>
AFAICT, Firefox complies with the spec

[00:59:00.0000] <hsivonen>
and Firefox has had the Chrome/IE/Opera behavior before

[00:59:01.0000] <hsivonen>
What's the mechanism Chrome/IE/Opera apply here?

[00:59:02.0000] <hsivonen>
s/in the popup/if the popup/

[01:01:00.0000] <hsivonen>
Hixie: am I misreading the spec or do Chrome/IE/Opera have an unspecced mechanism at work here?

[01:03:00.0000] <tantek>
on another completely unrelated topic: apparently kids in schools are now learning how to coordinate in-person group-trolling: http://www.takepart.com/article/2011/12/07/cyberbaiting-teens-find-high-tech-ways-humiliate-teachers

[01:06:00.0000] <hsivonen>
tantek: that's sad. kids are cruel

[01:07:00.0000] <Ms2ger>
Well, we knew that, no?

[01:08:00.0000] <hsivonen>
during my freshman year at the university, I was asked to come back to my old school as a substitute art teacher for a week, but I was too afraid that I couldn't keep order in the class, so I declined

[01:08:01.0000] <patbam>
i find it a bit

[01:09:00.0000] <tantek>
I have a feeling politics will get very different in ~10 years when that generation has reached voting / political participation age

[01:09:01.0000] <annevk>
don't worry

[01:09:02.0000] <annevk>
the Republicans will make sure they can't vote

[01:09:03.0000] <Ms2ger>
tantek, kids weren't cruel when you were at school?

[01:10:00.0000] <tantek>
they weren't that efficiently coordinated about it

[01:13:00.0000] <tantek>
oh and they focused coordinated/group attacks more on weaker individuals, in lower grades etc. not teachers.

[01:15:00.0000] <woef>
Parents became "our friends", so authority based on seniority is somewhat gone.

[01:38:00.0000] <jgraham>
/me doesn't think history bears "I have a feeling that politics will be very different when {some subset of today's youth} has reached participation age"

[01:42:00.0000] <hsivonen>
I occasionally wish WebKit and Chrome had something like MXR

[01:43:00.0000] <hsivonen>
/me wonders why the site map link on the www.chromium.org site is in Cyrillic letters

[01:44:00.0000] <hsivonen>
is there a useful third-party online cross reference for WebKit's source that I should know about?

[01:45:00.0000] <jgraham>
Is that "occasionally" that maps 1:1 to the "occasionally" that you want to look up something in their source code?

[01:46:00.0000] <hsivonen>
jgraham: yes

[01:46:01.0000] <Ms2ger>
http://codesearch.google.com/#&exact_package=chromium

[01:47:00.0000] <Ms2ger>
(Also, bug 674657)

[01:47:01.0000] <hsivonen>
Ms2ger: thanks

[01:48:00.0000] <hsivonen>
hmm. no non-spec magic in their document.write beyond a recursion limit

[01:49:00.0000] <hsivonen>
hmm. they do have a non-spec check in thei document.open impl.

[01:51:00.0000] <hsivonen>
though that check doesn't seem to explain this

[02:06:00.0000] <MikeSmith>
Ms2ger: you now have perms to the W3C testframework dvcs repo, as well as to add test suites through the Web UI

[02:06:01.0000] <Ms2ger>
Thanks

[03:56:00.0000] <annevk>
whoa

[03:56:01.0000] <annevk>
so I have

[03:56:02.0000] <annevk>
<meta charset=HZ-GB-2312><span>~

[03:56:03.0000] <annevk>
</span><script>document.write(encodeURI(document.body.firstChild.innerHTML))</script>

[03:56:04.0000] <annevk>
gives � %EF%BF%BD%20 in IE9

[03:57:00.0000] <annevk>
there's two 0x0A after the ~

[03:57:01.0000] <annevk>
that's kind of insane

[03:57:02.0000] <annevk>
oh sweet

[03:57:03.0000] <annevk>
if I add a DOCTYPE

[03:57:04.0000] <annevk>
I get

[03:57:05.0000] <annevk>
� %EF%BF%BD%0A%0A

[03:58:00.0000] <annevk>
not sure I want to know

[04:01:00.0000] <hsivonen>
annevk: probably an innerHTML difference between modes

[04:02:00.0000] <annevk>
yeah seems likely

[04:03:00.0000] <annevk>
the weird thing is mostly the BOM :)

[04:42:00.0000] <annevk>
kind of funny how these encodings are from 95 and nobody ever bothered to take a proper look at them

[04:42:01.0000] <annevk>
makes me wonder about the network stack

[04:43:00.0000] <annevk>
consider also that HTML was from 94 or so (earlier?) and nobody took care of it until 2006

[04:46:00.0000] <annevk>
so I have this to Unicode algorithm

[04:46:01.0000] <annevk>
when it says return failure, it's a fatal error

[04:46:02.0000] <annevk>
when it says "emit code point" it is run again (unless the code point is the EOF code point)

[04:46:03.0000] <annevk>
what should I use for running it again without emitting anything?

[04:47:00.0000] <annevk>
just return?

[04:47:01.0000] <annevk>
and explain it above?

[04:47:02.0000] <annevk>
something like this is needed for the encodings that are basically based on state machines

[04:48:00.0000] <Ms2ger>
continue;

[04:58:00.0000] <annevk>
yeah I considered that and I'm not sure why I rejected it, so I'll go with that

[05:02:00.0000] <annevk>
e.g. "Set the <span>hz-gb-2312 flag</span> and continue." Ms2ger?

[05:02:01.0000] <Ms2ger>
Sure

[05:05:00.0000] <hsivonen>
annevk: then you probably need to define "continue"

[05:05:01.0000] <hsivonen>
annevk: Hixie uses goto step #

[05:06:00.0000] <hsivonen>
annevk: of course, it's nicer if the spec uses continue/break instead of goto :-)

[05:13:00.0000] <hsivonen>
no answers to my window.location/document.write question yet :-(

[05:37:00.0000] <annevk>
hsivonen: yeah I have defined it for the to Unicode algorithm

[05:37:01.0000] <annevk>
hsivonen: I haven't referenced it all over though

[05:37:02.0000] <annevk>
(not yet checked in, still working on the last details of hz-gb-2312 to Unicode)

[05:57:00.0000] <annevk>
now committed: http://dvcs.w3.org/hg/encoding/raw-file/tip/Overview.html#hz-gb-2312

[06:55:00.0000] <annevk>
bitbucket.org offline?

[07:00:00.0000] <Ms2ger>
Is for me

[07:16:00.0000] <Ms2ger>
INFO | runtests.py | Running tests: end.

[07:16:01.0000] <Ms2ger>
mochitest-plain passed

[07:16:02.0000] <Ms2ger>
\o/

[07:17:00.0000] <jgraham>
With the testharness.js tests?

[07:18:00.0000] <Ms2ger>
With 5 of AryehGregor's tests

[07:19:00.0000] <Ms2ger>
And after multiplying your timeouts by ten :)

[07:32:00.0000] <jgraham>
Heh

[07:33:00.0000] <jgraham>
Well once I push the changes you can do that from testharnessreport.js. Although that is sort of very problematic. Hmm

[07:35:00.0000] <Ms2ger>
fwiw, mochitests use an API to multiply the timeout by a factor, rather than passing an absolute value

[07:36:00.0000] <jgraham>
Yes, maybe that is a better idea

[07:36:01.0000] <annevk>
bitbucket back

[07:38:00.0000] <annevk>
A and B are null

[07:38:01.0000] <annevk>
A or B are/is??? null

[07:38:02.0000] <Ms2ger>
is

[07:39:00.0000] <annevk>
either A or B is null

[07:39:01.0000] <annevk>
k

[07:39:02.0000] <Ms2ger>
But ask someone with a different language background :)

[07:39:03.0000] <jgraham>
Is

[07:40:00.0000] <jgraham>
Because it is read as singular

[07:40:01.0000] <zewt>
i'd say they're both right; i'd say are

[07:41:00.0000] <zewt>
since singularity isn't implied (english "or' isn't "xor")

[07:41:01.0000] <jgraham>
It is commonly read as xor

[07:41:02.0000] <zewt>
no, definitely not

[07:41:03.0000] <zewt>
that would mean that if both A and B are null, then the condition is not satisfied

[07:41:04.0000] <jgraham>
Sure. "Shall we go left or right?"

[07:41:05.0000] <jgraham>
I mean in common usage

[07:41:06.0000] <jgraham>
Not in technical contexts

[07:41:07.0000] <zewt>
that's a choice, not a condition

[07:41:08.0000] <zcorpan>
left and right are mutually exclusive though

[07:42:00.0000] <Ms2ger>
What did you set off now, annevk... ;)

[07:42:01.0000] <zewt>
if you say "are there any cats or dogs?", you don't say "no" if there are both cats and dogs :)

[07:42:02.0000] <zcorpan>
zewt: that would be "are" even if there are only cats, since cats is plural

[07:42:03.0000] <zewt>
not relevant

[07:43:00.0000] <zewt>
the point is simply that "or" isn't "xor"

[07:43:01.0000] <david_carlisle>
zakim, who is here?

[07:43:02.0000] <jgraham>
Well it depends on context obviously

[07:43:03.0000] <david_carlisle>
sorry:-)

[07:43:04.0000] <annevk>
Ms2ger: dunno I moved on long ago

[07:43:05.0000] <zewt>
and more fundamentally, "if A or B are null" doesn't sound wrong to me as a native speaker (which is always the final measurement)

[07:43:06.0000] <Ms2ger>
david_carlisle, I am! :)

[07:44:00.0000] <jgraham>
zewt: I find it acceptable I guess, but less nice than "is"

[07:44:01.0000] <jgraham>
Which is also the final measurement :p

[07:45:00.0000] <zcorpan>
just go with "if A is null, or if B is null"

[07:45:01.0000] <zewt>
fffff

[07:46:00.0000] <zewt>
don't do that :P

[07:46:01.0000] <Ms2ger>
if not A or not B?

[07:47:00.0000] <zcorpan>
Ms2ger: doesn't it need to be and if you negate them?

[07:47:01.0000] <Ms2ger>
!a <==> a == nsnull

[07:48:00.0000] <zcorpan>
touche

[07:51:00.0000] <jgraham>
if null ∈ {A,B}

[07:53:00.0000] <Ms2ger>
Bah

[07:53:01.0000] <Ms2ger>
{A,B} ∋ null

[07:56:00.0000] <jgraham>
Now you're just showing off

[08:19:00.0000] <jgraham>
annevk: Did you get your note?

[08:25:00.0000] <annevk>
jgraham: yeah, but I didn't really work on it :(

[08:28:00.0000] <Echoes2>
hi guys, curious as to whether or not there is a need for or an element similar to say - <logo></logo>

[08:32:00.0000] <jgraham>
Echoes2: You tell us. Is there a need? I can't think of any good use cases

[08:33:00.0000] <Lachy>
Echoes2, <h1><img src="logo" alt="Company Name"></h1> seems good enough.

[08:44:00.0000] <Ms2ger>
Oh, bah

[08:44:01.0000] <Ms2ger>
AryehGregor, now I get to figure out something for your patches that fail on debug builds and pass on opt builds :/

[08:45:00.0000] <AryehGregor>
Ms2ger, some of my tests fail on debug builds and pass on optimized builds?  That sounds like a fairly serious problem.

[08:45:01.0000] <AryehGregor>
(in Gecko)

[08:45:02.0000] <AryehGregor>
Also, since Bitbucket is down, I'm pushing a DOM4 change to W3C only, all right?

[08:45:03.0000] <AryehGregor>
annevk, ^

[08:45:04.0000] <Ms2ger>
Stringification differs

[08:45:05.0000] <AryehGregor>
So be sure to pull from there.

[08:45:06.0000] <AryehGregor>
Oh, really?  That sounds like a bad idea.

[08:45:07.0000] <Ms2ger>
Debug builds add the pointer

[08:45:08.0000] <jgraham>
AryehGregor: Doesn't sound that surprising to me :)

[08:46:00.0000] <AryehGregor>
jgraham, what doesn't?

[08:46:01.0000] <annevk>
AryehGregor: sure

[08:46:02.0000] <annevk>
AryehGregor: guess we'll sync it later

[08:46:03.0000] <AryehGregor>
/me now has a desktop with much faster CPU than his server

[08:46:04.0000] <annevk>
we should maybe consider moving all specs to github for better integration with the web community

[08:46:05.0000] <jgraham>
AryehGregor: Different behaviour in debug

[08:47:00.0000] <annevk>
but git vs hg might be too much of a pain

[08:47:01.0000] <Ms2ger>
Like [object Window @ 0x7fe97b3ef320 (native @ 0x7fe97b112c78)]

[08:47:02.0000] <AryehGregor>
Almost twice the bogomips!

[08:47:03.0000] <AryehGregor>
annevk, it's not that bad at all, in fact.  hg-git works quite well.

[08:47:04.0000] <AryehGregor>
The major nuisance is you have different commit id's.

[08:47:05.0000] <Ms2ger>
annevk, I'm not touching git if I can help it :)

[08:47:06.0000] <AryehGregor>
/me isn't touching hg if he can help it, but apparently can't :(

[08:48:00.0000] <jgraham>
It would actaully be easier to ahve the server on git and let people that want to use hg as the client do taht

[08:48:01.0000] <AryehGregor>
annevk, Ms2ger: Running make on DOM4 seems to have changed the output format of Overview.html to HTML5 instead of HTML 4.01.

[08:48:02.0000] <jgraham>
(I would slightly prefer that, even)

[08:48:03.0000] <Ms2ger>
Er, wait a second

[08:48:04.0000] <AryehGregor>
Is that expected?

[08:48:05.0000] <Ms2ger>
Have you committed already?

[08:48:06.0000] <AryehGregor>
No.

[08:48:07.0000] <AryehGregor>
I always look at the diff first.

[08:48:08.0000] <AryehGregor>
(and also after committing but before pushing, generally)

[08:49:00.0000] <AryehGregor>
(and by "always" I mean "usually, if I feel like it")

[08:49:01.0000] <Ms2ger>
hg update 4de5b048478e

[08:49:02.0000] <Ms2ger>
That'll get you back to the ED version

[08:49:03.0000] <AryehGregor>
Oh, I was on the WD version?

[08:49:04.0000] <Ms2ger>
The WD version was on tip

[08:50:00.0000] <annevk>
bitbucket sort of seems up

[08:51:00.0000] <annevk>
maybe only the site

[08:51:01.0000] <annevk>
:/

[08:51:02.0000] <AryehGregor>
Yeah, seems up-ish.

[08:51:03.0000] <AryehGregor>
Push just succeeded.

[08:54:00.0000] <bga>
http://science.slashdot.org/story/12/01/05/1453244/leap-second-coming-in-june-2012

[09:10:00.0000] <dglazkov>
good morning, Whatwg!

[09:10:01.0000] <Ms2ger>
Happy new year, dglazkov!

[09:11:00.0000] <dglazkov>
 Happy New Year, Ms2ger!

[09:21:00.0000] <Ms2ger>
/me grumbles about webkit

[09:22:00.0000] <jgraham>
Altogether now for one last pre-ephiphany chorus of "We Wish You an Alright Christmas and an OK New Year"

[09:22:01.0000] <Ms2ger>
jgraham, yeah, you too

[09:22:02.0000] <jgraham>
:)

[09:26:00.0000] <AryehGregor>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cdiv%20style%3D%22height%3A50px%3Bwidth%3A50px%3Bbackground%3Agreen%3B-o-transform%3Arotate(180deg)%22%3E%3C%2Fdiv%3E%0D%0A%3Cscript%3Ew(document.querySelector(%22div%22).getBoundingClientRect().height)%3C%2Fscript%3E

[09:26:01.0000] <AryehGregor>
In Opera, that logs "52".

[09:27:00.0000] <AryehGregor>
That's the height of a 50px square div with -o-transform: rotate(180deg).

[09:27:01.0000] <AryehGregor>
lul?

[09:28:00.0000] <AryehGregor>
Note: scale(-1, -1) produces the same computed value of -o-transform, but a height of 50 as expected.

[09:28:01.0000] <gsnedders>
Um, why isn't that loading anything?

[09:28:02.0000] <AryehGregor>
What do you mean?

[09:29:00.0000] <AryehGregor>
Works for me.

[09:29:01.0000] <jgraham>
Loads for me and logs 51

[09:29:02.0000] <AryehGregor>
The HTML is: <!DOCTYPE html>

[09:29:03.0000] <AryehGregor>
<div style="height:50px;width:50px;background:green;-o-transform:rotate(180deg)"></div>

[09:29:04.0000] <AryehGregor>
<script>w(document.querySelector("div").getBoundingClientRect().height)</script>

[09:29:05.0000] <AryehGregor>
I'm testing in Opera Next 12.00 alpha.

[09:29:06.0000] <jgraham>
Seems like a bug. I wonder if it is fixed internally

[09:29:07.0000] <AryehGregor>
I'm guessing there's too much rounding going on.

[09:30:00.0000] <jgraham>
gsnedders: You said you weren't doing anything; try it on mainline :)

[09:30:01.0000] <AryehGregor>
Like probably 180deg is converted to radians and then something gets rounded excessively and it winds up really rotating by 176deg or something.

[09:31:00.0000] <AryehGregor>
skewX and skewY with small values have similar problems: http://aryeh.name/tmp/css-test/contributors/aryehgregor/incoming/2d-transforms.html

[09:31:01.0000] <gsnedders>
Throws URIError here

[09:32:00.0000] <gsnedders>
Because I missed the final E of the URL

[09:32:01.0000] <gsnedders>
AryehGregor: Probably an effect of AA

[09:33:00.0000] <AryehGregor>
Rotation by 180 degrees of a pixel-aligned square that's an integer number of pixels wide has what exactly to do with AA?

[09:37:00.0000] <gsnedders>
AryehGregor: I don't know the details of our implementation, but I suspect it may be related to the fact that pi radians can't be expressed as a double

[09:37:01.0000] <AryehGregor>
I suspect so too.  It looks like an egregious rounding error.

[09:37:02.0000] <AryehGregor>
My tests tolerate up to 1.5px; this is 2px.

[09:38:00.0000] <jgraham>
(depending on platform)

[09:38:01.0000] <jgraham>
(1px for me)

[09:38:02.0000] <gsnedders>
1px for me too

[09:39:00.0000] <AryehGregor>
Bah.

[09:39:01.0000] <AryehGregor>
I wish I could make the tolerances lower.

[09:39:02.0000] <AryehGregor>
You'd think we could at least require some precision for getClientBoundingRect().

[09:39:03.0000] <AryehGregor>
Even if we don't for actual layout.

[09:40:00.0000] <AryehGregor>
Although I guess the two should match up.

[09:40:01.0000] <gsnedders>
It makes no sense if it doesn't much the actual layout box

[09:41:00.0000] <AryehGregor>
I guess.

[09:41:01.0000] <AryehGregor>
Can't we just require precision in layout too?

[09:41:02.0000] <AryehGregor>
Bah on CSS.

[09:42:00.0000] <annevk>
it's kind of funny how CSS once led the effort to more precision and is now the one that is behind

[09:42:01.0000] <annevk>
kind of similar to the industrial revolution in England

[10:55:00.0000] <AryehGregor>
Yay, Gecko nightly crash.

[10:55:01.0000] <AryehGregor>
/me isolates

[11:33:00.0000] <dglazkov>
forums thread on www-style is now up to 21 messages. "Do you know who also used forums? Nazis."

[11:33:01.0000] <TabAtkins>
True fact!

[11:38:00.0000] <astearns>
from mattwilcox.net: "To argue effectively, don’t talk too much."

[11:38:01.0000] <TabAtkins>
Hahaha, that would be a totally jerk move to bring up.  ^_^

[11:38:02.0000] <hober>
dglazkov: :)

[11:46:00.0000] <AryehGregor>
TabAtkins, what format do CSS people like spec bug reports in?

[11:47:00.0000] <AryehGregor>
I've found a few in CSS 2D Transforms.

[11:47:01.0000] <TabAtkins>
Email?

[11:47:02.0000] <AryehGregor>
Should I make it one issue per e-mail, or does it not matter?

[11:48:00.0000] <TabAtkins>
Personally, I prefer large issues that might require discussion to be separate emails, and small issues (typos, small changes) to be collected together.

[11:48:01.0000] <AryehGregor>
I'll send one big e-mail and see what happens.

[11:49:00.0000] <TabAtkins>
That works too.  When discussion starts happening with an email like that, I just split a new thread off myself.

[11:49:01.0000] <hober>
AryehGregor: we're using bugzilla to track issues in the transforms/transitions/animations specs

[11:49:02.0000] <AryehGregor>
hober, okay.

[11:49:03.0000] <hober>
AryehGregor: but emailing www-style is fine too

[11:50:00.0000] <AryehGregor>
Ah, you're one of the editors, good.

[11:50:01.0000] <hober>
AryehGregor: nice tests btw

[11:50:02.0000] <AryehGregor>
I'll file bugs.

[11:50:03.0000] <hober>
thanks

[12:00:00.0000] <annevk>
AryehGregor: I'm out of CSS

[12:01:00.0000] <AryehGregor>
annevk, oh, you are?  Maybe you should remove your name as editor from CSSOM stuff, then.

[12:01:01.0000] <annevk>
I was kind of hoping the new editors would have done that by now :/

[12:01:02.0000] <gsnedders>
Most specs list former editors, with dates.

[12:15:00.0000] <annevk>
hsivonen: do you think Gecko is willing to standardize it's "universal charset detector"?

[12:15:01.0000] <annevk>
hsivonen: as another step towards deterministic encoding detection

[12:20:00.0000] <Ms2ger>
Hey, we've hired tantek and AryehGregor, we might be able to standardize stuff now :)

[12:21:00.0000] <tantek>
:)

[12:21:01.0000] <Ms2ger>
annevk, looking for a job, btw? ^^

[12:21:02.0000] <tantek>
/me is in the depths of specing/fixing text-overflow details

[12:22:00.0000] <annevk>
Ms2ger: if you're hiring, maybe

[12:23:00.0000] <Ms2ger>
Well, I don't know who'd actually have to decide that, but perhaps

[12:23:01.0000] <annevk>
and I just learned iso-2022-jp-2 was added to Gecko for fun times https://bugzilla.mozilla.org/show_bug.cgi?id=72468

[12:24:00.0000] <annevk>
Ms2ger: you mean you're actually a team?

[12:24:01.0000] <Ms2ger>
I'm a volunteer

[12:24:02.0000] <Ms2ger>
I have no idea what MoCo people do

[12:25:00.0000] <annevk>
with "you" I meant you, not MoCo ;)

[12:25:01.0000] <Ms2ger>
I wish I was a team

[12:27:00.0000] <Ms2ger>
annevk, you seem to be leaving messages for other annevks, so I should make it clear you'd only get one paycheck ;)

[12:27:01.0000] <annevk>
the more I read about iso-2022-jp-2 the more I wish I didn't

[12:27:02.0000] <annevk>
Ms2ger: hehe

[12:28:00.0000] <Ms2ger>
And yeah, if people threw patches at us, we tended to take them rather easily

[12:29:00.0000] <annevk>
in this case the module owner actually agreed it would be nice to have

[12:29:01.0000] <annevk>
but yeah, a couple of years later there was the XForms stuff

[12:30:00.0000] <Ms2ger>
:/

[12:32:00.0000] <annevk>
after that we got more organized as browsers I think, with SVG sort of in between

[12:32:01.0000] <annevk>
though I suppose now you could argue about multimedia standards

[12:32:02.0000] <annevk>
which are prolly some new kind of mess

[12:37:00.0000] <annevk>
also

[12:37:01.0000] <annevk>
the character encoding fatal stuff

[12:37:02.0000] <annevk>
is not nearly implemented everywhere

[12:37:03.0000] <annevk>
for all encodings that is

[12:37:04.0000] <annevk>
and it's basically only for XML

[12:38:00.0000] <Ms2ger>
Go, XML!

[12:38:01.0000] <annevk>
"XML tax"

[12:38:02.0000] <annevk>
(which in turn somewhat compliantly implemented by browsers because of Acid3, which in turn had the test donated by annevk... o_O)

[12:39:00.0000] <annevk>
was somewhat*

[12:42:00.0000] <Ms2ger>
Well, if you're going to blame yourself...

[12:42:01.0000] <Ms2ger>
Then I don't have to do it :)

[12:45:00.0000] <annevk>
http://czyborra.com/utf/#UTF-9 (UTF-7,5)

[12:46:00.0000] <annevk>
Ms2ger: I conveniently forgot if I did it to point out how silly XML was or because I actually believed it was a good idea

[12:47:00.0000] <annevk>
http://czyborra.com/utf/#UTF-1 is that the same Glenn Adams mentioned in the footnote?

[12:48:00.0000] <annevk>
not sure why I'm reading this, back to iso-2022-jp...

[12:51:00.0000] <annevk>
http://unicode.org/mail-arch/unicode-ml/Archives-Old/UML009/0011.html hehe

[12:51:01.0000] <annevk>
about UTF-8: "It shall be succeeded by UCS-2/4 in the long run."

[12:51:02.0000] <annevk>
if I was John Gruber, I could have a field day

[12:53:00.0000] <dglazkov>
John Gruber lives in Philly and is a giant d*ck. annevk, you're 0 for 2 on that.

[12:54:00.0000] <annevk>
oh hello Android :p

[12:55:00.0000] <dglazkov>
/me regrets calling anyone a d*ck.

[12:55:01.0000] <dglazkov>
apologies, Internets.

[12:56:00.0000] <annevk>
to be clear, I don't always agree with him either, I was just referring to his practice of calling people on silly things they've said in the past

[12:59:00.0000] <TabAtkins>
I finally understand why we have 17 planes in unicode.

[12:59:01.0000] <Ms2ger>
Oh?

[13:00:00.0000] <Dashiva>
To be forward-compatible with string theory?

[13:00:01.0000] <divya>
lolol

[13:00:02.0000] <TabAtkins>
Becasue the surrogate range can encode 16 planes.

[13:00:03.0000] <TabAtkins>
And you obviously don't need surrogates to refer to the bmp, so 16+1=17

[13:20:00.0000] <jgraham>
Man I missed dglazkov being grumpy

[13:20:01.0000] <dglazkov>
:D

[13:20:02.0000] <jgraham>
That was like a once-in-a-lifetime oppertunity

[13:27:00.0000] <jamesr_>
what's the easy way to parse out query parameters on a page?

[13:27:01.0000] <jamesr_>
do we have a web platform API for that yet?

[13:33:00.0000] <Peter`>
abarth was working on a spec about a year ago: https://docs.google.com/a/lvp-media.com/document/edit?id=1r_VTFKApVOaNIkocrg0z-t7lZgzisTuGTXkdzAk4gLU&hl=en

[13:34:00.0000] <Peter`>
that's now here: http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html

[13:34:01.0000] <Peter`>
With a WebKit bug here: https://bugs.webkit.org/show_bug.cgi?id=71968

[13:34:02.0000] <Peter`>
jamesr_ ^

[13:34:03.0000] <Peter`>
proper link for the docs.google.com page: https://docs.google.com/document/edit?id=1r_VTFKApVOaNIkocrg0z-t7lZgzisTuGTXkdzAk4gLU&hl=en

[13:36:00.0000] <jamesr_>
looks like it's mostly ongoing

[13:44:00.0000] <annevk>
it's not really being worked on at the moment

[13:44:01.0000] <annevk>
hopefully later this year

[13:48:00.0000] <dglazkov>
I must say, I really like G+'s concept of Pages. I guess Facebook has something similar, too. But man, it's so easy to build a blog-like status updatery thing that's also looped into all your social network: https://plus.sandbox.google.com/103330502635338602217/posts

[13:51:00.0000] <annevk>
"Not Found"

[13:52:00.0000] <dglazkov>
https://plus.google.com/103330502635338602217/posts

[13:52:01.0000] <dglazkov>
jeez, what a doofus i am.

[13:55:00.0000] <jamesr_>
dglazkov, can you control who has write access to a page?

[13:55:01.0000] <dglazkov>
jamesr_: yep. you can define managers and an owner.

[13:55:02.0000] <dglazkov>
I would really like for G+ to support embedded images though

[14:01:00.0000] <annevk>
hmm http://mxr.mozilla.org/mozilla-central/source/intl/uconv/ucvja/nsJapaneseToUnicode.cpp#645 is the same as ASCII

[14:02:00.0000] <abarth>
dglazkov: you need a logo

[14:02:01.0000] <abarth>
dglazkov: maybe a shadowy figure hiding in the DOM

[14:02:02.0000] <dglazkov>
:)

[14:02:03.0000] <TabAtkins>
Like the incognito mode guy!

[14:06:00.0000] <annevk>
oh another one is secretly a duplicate too

[14:06:01.0000] <annevk>
Ms2ger can remove some code again if he wants to

[14:06:02.0000] <jamesr_>
a shadowy figure with well-documented output ports

[14:07:00.0000] <TabAtkins>
jamesr_: That sounds dirty.

[14:31:00.0000] <dglazkov>
which spec defines dom ranges and selections nowadays?

[14:35:00.0000] <smaug____>
dglazkov: dom range is in DOM4

[14:35:01.0000] <smaug____>
selection is ... somewhere else

[14:36:00.0000] <dglazkov>
found it, editing APIs

[14:36:01.0000] <dglazkov>
smaug____, thanks!

[14:37:00.0000] <smaug____>
I would assume selection handling is very much non-reviewed

[15:15:00.0000] <smaug____>
what on earth is beforeload event?

[15:16:00.0000] <smaug____>
dglazkov: rniwa: do you or someone else familiar with webkit know?

[15:16:01.0000] <rniwa>
smaug____: beforeload event?

[15:16:02.0000] <rniwa>
smaug____: do we support that?

[15:16:03.0000] <smaug____>
apparently yes

[15:16:04.0000] <jamesr>
safari does

[15:16:05.0000] <smaug____>
I have no idea what it is

[15:16:06.0000] <smaug____>
ah, is it safari only

[15:16:07.0000] <jamesr>
well

[15:16:08.0000] <jamesr>
they implemented it, i'm not sure if it's on in chromium or not

[15:17:00.0000] <smaug____>
when does it fire

[15:17:01.0000] <smaug____>
and why

[15:17:02.0000] <jamesr>
iirc it's used for safari extensions to do resource blocking stuff

[15:17:03.0000] <jamesr>
http://developer.apple.com/library/safari/#documentation/Tools/Conceptual/SafariExtensionGuide/MessagesandProxies/MessagesandProxies.html

[15:17:04.0000] <jamesr>
search for 'beforeload'

[15:17:05.0000] <smaug____>
ah, you can do preventDefault()

[15:20:00.0000] <smaug____>
terrible name for the event

[15:20:01.0000] <smaug____>
and without prefixes or anything

[15:21:00.0000] <jamesr>
*thumbsup*

[15:21:01.0000] <jamesr>
the safari extensions message-passing model special-cases that event, i believe

[15:22:00.0000] <jamesr>
all kinds of weird

[15:23:00.0000] <smaug____>
I wonder whether beforeload handles things like style="background-image"

[15:24:00.0000] <jamesr>
test it!

[15:27:00.0000] <dglazkov>
smaug____: I don't think so

[15:27:01.0000] <smaug____>
so, I don't understand then the use case

[15:27:02.0000] <smaug____>
it is like for ad-block stuff...

[15:28:00.0000] <smaug____>
but doesn't quite work

[15:28:01.0000] <jamesr>
i think that's correct

[15:29:00.0000] <dglazkov>
codesearch.google.com/codesearch#search/&exact_package=chromium&q=dispatchBeforeloadEvent%20file:WebCore&type=cs

[15:32:00.0000] <smaug____>
beforeload is like badly implemented contentpolicy (in gecko)


2012-01-06
[16:01:00.0000] <AryehGregor>
jamesr, location.search?  You can parse it with .split().

[16:02:00.0000] <jamesr_>
AryehGregor, and parse all the = things myself and escape/unescape

[16:02:01.0000] <AryehGregor>
smaug____, some parts of the selection spec are quite solid and interoperable.

[16:03:00.0000] <smaug____>
AryehGregor: I didn't say it wouldn't be. But is it reviewed :)

[16:03:01.0000] <gsnedders>
jamesr_: Use split twice

[16:04:00.0000] <AryehGregor>
jamesr_, parsing & and = is just something like: var bits = location.search.replace(/^\?/, "").split("&").map(function(s){return s.split("=")});

[16:04:01.0000] <AryehGregor>
Or something like that.

[16:04:02.0000] <AryehGregor>
As for encoding, have fun.  IIRC, it's not interoperable.

[16:04:03.0000] <AryehGregor>
Nor am I sure it's even specified.

[16:04:04.0000] <gsnedders>
AryehGregor: Yeah, exactly that.

[16:04:05.0000] <gsnedders>
AryehGregor: Well, split("=", 2)

[16:04:06.0000] <AryehGregor>
Yeah, I'm sure it could be made more correct.

[16:04:07.0000] <gsnedders>
and you want to decodeURIComponent() each of the parts of that

[16:05:00.0000] <gsnedders>
But apart from that, that's exactly it

[16:06:00.0000] <jamesr_>
location.search.replace(/^\?/, "").split("&").map(function(s){return s.split("=", 2).map(decodeURIComponent);}

[16:06:01.0000] <jamesr_>
oh dear my semicolon has migrated to the left

[16:06:02.0000] <jamesr_>
but otherwise does that look close?

[16:06:03.0000] <TabAtkins>
jamesr_: No, that's mapping dUIRC across 2-arrays.

[16:06:04.0000] <jamesr_>
ah snap

[16:06:05.0000] <TabAtkins>
Or wait, I'm dumb.

[16:07:00.0000] <TabAtkins>
Never mind, you're good.

[16:07:01.0000] <jamesr_>
no wait it's mapping both strings

[16:07:02.0000] <TabAtkins>
Yes.

[16:07:03.0000] <gsnedders>
jamesr_: That's right.

[16:08:00.0000] <jamesr_>
location.search.replace(/^\?/, "").split("&").map(function(s){return s.split("=", 2).map(decodeURIComponent)});

[16:08:01.0000] <jamesr_>
seems to work

[16:08:02.0000] <TabAtkins>
Yeah, that should be fine.

[16:08:03.0000] <jamesr_>
btw, MDN is accessing event.layerX/layerY, which are deprecated in WebKit

[16:08:04.0000] <gsnedders>
Kinda nice to get it into an object, but oh well.

[16:08:05.0000] <jamesr_>
throws a warning in the inspector

[16:08:06.0000] <jamesr_>
can some of y'all fix that?

[16:09:00.0000] <jamesr_>
guess i could map that into an object....

[16:09:01.0000] <jamesr_>
or can you do that?

[16:09:02.0000] <TabAtkins>
gsnedders: That's easy.  prepend "var query;", append ".map(function(x){query[x[0]]=x[1];})".

[16:10:00.0000] <AryehGregor>
Or .forEach?

[16:10:01.0000] <TabAtkins>
Alternately, define mapObject or something that expects you to return a 2-array.

[16:10:02.0000] <TabAtkins>
AryehGregor: Yeah, forEach would be better semantically.

[16:15:00.0000] <gsnedders>
Note that forEach and map and the like are likely to be fairly slow for at least another year or two

[16:16:00.0000] <TabAtkins>
Really?  Why?

[16:16:01.0000] <gsnedders>
TabAtkins: In large part because of jumping between C++ and JS threads

[16:16:02.0000] <gsnedders>
s/threads/stacks/

[16:17:00.0000] <TabAtkins>
Interesting.  Where is the stack jump?  In the function invocation or something?

[16:17:01.0000] <TabAtkins>
/me knows nothing about the interface between c++ and js.

[16:17:02.0000] <jamesr_>
heh, i doubt that'll matter at all in this case

[16:17:03.0000] <jamesr_>
are you talking about in a specific JS engine?

[16:17:04.0000] <jamesr_>
i thought map/forEach were implemented natively in v8

[16:17:05.0000] <jamesr_>
/me checks

[16:18:00.0000] <gsnedders>
Calling into C++ in the first case, then into the function, then out of the function, and then after doing those two a number of times back to JS

[16:18:01.0000] <Philip`>
/me notes that parsing a single query string is not a situation where performance is of any concern

[16:18:02.0000] <gsnedders>
jamesr_: I thought they originally were in V8 but aren't any more.

[16:18:03.0000] <jamesr_>
http://google.com/codesearch#OAMlx_jo-ck/src/v8/src/array.js&q=forEach&ct=rc&exact_package=chromium&cd=8&sq=&l=1039

[16:18:04.0000] <jamesr_>
i'm not sure exactly what that is

[16:18:05.0000] <TabAtkins>
gsnedders: Is that because map is implemented in C++?

[16:19:00.0000] <TabAtkins>
Rather than as a JS for-loop?

[16:19:01.0000] <gsnedders>
TabAtkins: Right.

[16:19:02.0000] <TabAtkins>
kk

[16:25:00.0000] <gsnedders>
http://jsperf.com/map-builtin-v-js/5 is about as close as you can get with pure JS

[16:26:00.0000] <gsnedders>
In Chrome the native function is the quickest map impl because it has all its magic functions to optimize it better (IIRC some of them have specific low-level impls)

[16:26:01.0000] <jamesr_>
right, the built-ins aren't strictly speaking straight JS

[16:27:00.0000] <jamesr_>
but they don't have to make a full JS/C++ stack jump

[16:27:01.0000] <gsnedders>
jamesr_: Right

[16:27:02.0000] <jamesr_>
at least that's my understanding. i'm not a JS VM engineer, i just play one on IRC

[16:28:00.0000] <gsnedders>
jamesr_: That is the case, they don't have any stack jump, they're just another JS function from the engine's POV, it's just some things they call are magic

[16:28:01.0000] <gsnedders>
JSC I don't really know why it's perf is as it is, and SpiderMonkey is just a matter of how slow the JS impl is mainly, AFAIK

[16:30:00.0000] <gsnedders>
/me doesn't know enough about what's happened with JSC in the past year really, it's kinda sad

[16:33:00.0000] <jgraham>
/me will bear this in minf when he has to parse a million key vlue pairs out of the query string

[16:33:01.0000] <gsnedders>
Hey, it's a viable DoS attack, as has been proven recently! :P

[19:48:00.0000] <MikeSmith>
hmm

[19:48:01.0000] <MikeSmith>
when parsing a URL, how do you canonicalize the port?

[19:49:00.0000] <gsnedders>
On the basis of the scheme?

[19:49:01.0000] <gsnedders>
Or am I missing something?

[19:59:00.0000] <MikeSmith>
gsnedders: dunno

[19:59:01.0000] <MikeSmith>
it's missing from abarth URL parsing draft

[19:59:02.0000] <MikeSmith>
http://tools.ietf.org/html/draft-abarth-url-01#section-5

[20:00:00.0000] <MikeSmith>
he has "If the canonicalized-port is non-empty and is not the default port for the scheme"

[20:00:01.0000] <MikeSmith>
which is the part you mean, I think

[20:00:02.0000] <MikeSmith>
so that's clear

[20:01:00.0000] <MikeSmith>
but that step is done after the port is "canonicalized"

[20:01:01.0000] <tantek>
port - one of the few pieces of a URL that people seem to agree on for the most part

[20:01:02.0000] <MikeSmith>
heh

[20:01:03.0000] <MikeSmith>
yeah

[20:01:04.0000] <tantek>
port or port number

[20:01:05.0000] <tantek>
or if you're a PHP person, SERVER_PORT

[20:01:06.0000] <tantek>
MikeSmith, you've seen this right? http://tantek.com/2011/238/b1/many-ways-slice-url-name-pieces

[20:02:00.0000] <MikeSmith>
so not clear to me, given just a port number without knowledge of the scheme, what exactly do I do to canonicize it?

[20:02:01.0000] <MikeSmith>
/me looks

[20:02:02.0000] <MikeSmith>
tantek: ah yeah

[20:02:03.0000] <MikeSmith>
that's quite a diagram

[20:03:00.0000] <MikeSmith>
abarth introduces the term "after-scheme" for all the stuff collectively that is not the scheme

[20:03:01.0000] <MikeSmith>
I like that

[20:03:02.0000] <tantek>
I have two more rows to add too

[20:04:00.0000] <MikeSmith>
oh?

[20:04:01.0000] <tantek>
oh great

[20:04:02.0000] <tantek>
make that 3

[20:04:03.0000] <tantek>
then

[20:04:04.0000] <tantek>
is this an RFC track thing? draft-abarth-url-01

[20:04:05.0000] <tantek>
in which case, maybe I'll wait until there's a permalinkable spec for it

[20:05:00.0000] <tantek>
since IETF doesn't seem to believe in permalinks for drafts

[20:05:01.0000] <tantek>
:P

[20:05:02.0000] <gsnedders>
the tools.ietf.org/html/ links are pretty much stable

[20:05:03.0000] <gsnedders>
The actual drafts vanish after 90 days, but they stay around there forever :P

[20:06:00.0000] <gsnedders>
GO LOGIC!

[20:06:01.0000] <MikeSmith>
that ID is being not being maintained any longer

[20:06:02.0000] <MikeSmith>
s

[20:06:03.0000] <MikeSmith>
so it won't move forward at the IETF

[20:06:04.0000] <tantek>
huh

[20:06:05.0000] <MikeSmith>
our plan is to put all the URL stuff into a single spec

[20:06:06.0000] <MikeSmith>
and publish it at W3C

[20:06:07.0000] <tantek>
/me will await a permalink for that spec then

[20:07:00.0000] <MikeSmith>
tantek: http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html

[20:07:01.0000] <MikeSmith>
I am working on it as we speak

[20:07:02.0000] <tantek>
a-ha ok

[20:08:00.0000] <MikeSmith>
just taking the work that abarth has already done and combining into it one doc, along with some bits from the HTML spec

[20:09:00.0000] <MikeSmith>
so the plan is for this doc to to have the definition of "URL" and "valid URL", then algorithms for dealing with URLs, then the URL API

[20:09:01.0000] <tantek>
ah - looks like the terms are a re-use of 1996 DOM window.location

[20:09:02.0000] <tantek>
so that's good, not a new terminology at least

[20:10:00.0000] <MikeSmith>
OK

[20:10:01.0000] <MikeSmith>
well, none of it is set in stone of course

[20:11:00.0000] <MikeSmith>
the main goal for now is to get it all in one place and then get it out for review

[20:11:01.0000] <MikeSmith>
and the high-level goal is to "get it right"

[20:11:02.0000] <MikeSmith>
including to have it actually reflect reality

[20:12:00.0000] <MikeSmith>
or realities plural

[20:12:01.0000] <MikeSmith>
in that the browser behavior for URL parsing it not completely interoperable

[21:35:00.0000] <annevk>
http://lists.w3.org/Archives/Public/public-webapps/2012JanMar/0023.html was reported before and I think it was concluded to not be a security issue

[21:35:01.0000] <annevk>
don't remember why though, abarth?

[21:36:00.0000] <abarth>
dunno

[21:36:01.0000] <abarth>
sounds like a server issue

[21:37:00.0000] <abarth>
we can't account for all manner of crazy transformations servers might do

[21:38:00.0000] <annevk>
yeah, and I sort of doubt even though would let Cotnent-Length be spoofed that way

[21:38:01.0000] <annevk>
because it's a higher-level library

[21:39:00.0000] <abarth>
you should see the proxies that permute letters in Referer :)

[21:40:00.0000] <annevk>
heh, I'll stay semi-naive about HTTP for now

[21:40:01.0000] <annevk>
encodings are enough fun as it is

[21:41:00.0000] <annevk>
also crazy

[21:44:00.0000] <Yuhong>
<annevk> that we're still figuring out document.write()

[21:45:00.0000] <Yuhong>
Someone mentioned before that it was invented in Netscape 2

[21:45:01.0000] <Yuhong>
And as I said before, Netscape 2 did not parse HTML into a tree, instead it treated tags as commands.

[21:46:00.0000] <Yuhong>
I don't think async script loading was supported at all.

[21:48:00.0000] <Yuhong>
That was why it was considered a simple feature in Netscape 2

[21:49:00.0000] <Yuhong>
And probably why Netscape 2 to 4 supported accessing only a limited type of elements.

[21:49:01.0000] <Yuhong>
IE4 actually parsed HTML into a tree, that was why it was able to invent document.all.

[21:50:00.0000] <annevk>
and then we had a lot of problems

[21:50:01.0000] <Yuhong>
Which is yea when the problems start.

[21:52:00.0000] <Yuhong>
The problem was made even worse with DOM Level 1 which allow full manipulation of the document tree.

[21:52:01.0000] <zewt>
gmail is sure going to lengths to make everyone acutely aware of the major inherent flaws of web apps

[21:52:02.0000] <zewt>
you like how things are? too bad, we're making everything worse and there's nothing you can do about it

[21:54:00.0000] <Yuhong>
For example, here is a 0-day security vulnerability reported in Mozilla as late as 2010: https://bugzilla.mozilla.org/show_bug.cgi?id=607222

[23:50:00.0000] <annevk>
quite proud of http://dvcs.w3.org/hg/encoding/raw-file/tip/Overview.html#iso-2022-jp

[23:50:01.0000] <annevk>
waking up early works

[00:27:00.0000] <MikeSmith>
heh

[00:27:01.0000] <MikeSmith>
annevk: I checked in changes to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html

[00:27:02.0000] <MikeSmith>
I think most of the necessary bits are all there now

[00:28:00.0000] <MikeSmith>
though lots and lots of TODOs

[00:30:00.0000] <MikeSmith>
annevk: also, the book is on the way to you

[00:31:00.0000] <annevk>
sweet

[00:39:00.0000] <annevk>
kind of a sad caption http://xkcd.com/1000/

[00:40:00.0000] <annevk>
but the math joke is fun :)

[00:41:00.0000] <annevk>
MikeSmith: nice

[00:41:01.0000] <annevk>
MikeSmith: also, you didn't set all the id attributes :p

[00:42:00.0000] <MikeSmith>
eh? which ones needs set?

[00:42:01.0000] <annevk>
I rather you don't, but you let them generate automatically and I remember you didn't like that

[00:43:00.0000] <annevk>
(I tried making a joke :))

[00:49:00.0000] <annevk>
there's a lot of RFCs btw attempting to define encodings

[00:49:01.0000] <annevk>
people put some BNF in there, a couple of words, and put a sticker on it

[02:38:00.0000] <Ms2ger>
  P  { font-size: 12pt ! legal "IATA regulations" }

[04:24:00.0000] <annevk>
Ms2ger: euh?

[04:24:01.0000] <Ms2ger>
http://www.w3.org/TR/WD-css1-951209.html#legal

[04:34:00.0000] <annevk>
well thank you

[04:34:01.0000] <annevk>
I never understood why CSS had such a silly !important thing and even less why it was exposed as "priority" in the OM

[04:45:00.0000] <annevk>
AryehGregor: how is http://w3c-test.org/webapps/DOMCore/tests/approved/Range-surroundContents.html approved with test errors?

[04:47:00.0000] <annevk>
AryehGregor: jgraham or Velmont might provide a patch I hear

[04:49:00.0000] <Ms2ger>
Because nobody actually reviewed

[04:49:01.0000] <annevk>
AryehGregor: other comment "and it doesn't seem like the test follows step 10 in the DOMRange.insertNode spec"

[06:59:00.0000] <jgraham>
So, as a totally experimental thing, I tried cloning the html testsuite repository onto github

[06:59:01.0000] <jgraham>
https://github.com/jgraham/html-testsuite/

[06:59:02.0000] <jgraham>
Mainly for the possibility of code review

[07:00:00.0000] <annevk>
do you want @WHATWG to announce it somehow?

[07:00:01.0000] <annevk>
and if so, how?

[07:01:00.0000] <jgraham>
I have no strong desire for it to be announced

[07:02:00.0000] <jgraham>
More than I just did by writing on public, logged, irc, I mean

[07:02:01.0000] <jgraham>
Let me work out if it is useful first :)

[07:03:00.0000] <annevk>
k

[07:09:00.0000] <kennyluck>
Is Hixie on vacation?

[07:10:00.0000] <annevk>
well he's not here

[07:16:00.0000] <annevk>
Does anyone know about IE's support for big5 /  big5-hkscs? Ideally based on what Windows 7 ships

[07:16:01.0000] <jgraham>
http://longsonr.wordpress.com/2012/01/06/svgtests-interface-implemented/ <- sigh

[07:16:02.0000] <annevk>
not interested in pre-Vista

[07:17:00.0000] <annevk>
jgraham: aah

[07:18:00.0000] <annevk>
jgraham: do we ship similar crap?

[07:20:00.0000] <kennyluck>
annevk, what do you mean by "here"?

[07:22:00.0000] <annevk>
standards world

[07:22:01.0000] <kennyluck>
oh well

[07:22:02.0000] <kennyluck>
a

[07:22:03.0000] <kennyluck>
n 

[07:23:00.0000] <annevk>
hmm http://www.microsoft.com/hk/hkscs/ seems to suggest that via Unicode you get there, but not via big5-hkscs

[07:24:00.0000] <kennyluck>
annevk, what specific questions are you asking with regard to big5 / big5-hkscs ?

[07:25:00.0000] <annevk>
I think I found my answers already

[07:25:01.0000] <kennyluck>
ok

[07:26:00.0000] <annevk>
Windows has PUA-support for the characters HKSCS introduced and the label "big5-hkscs" means "big5" which uses PUA afaict

[07:26:01.0000] <annevk>
but then other browsers support "big5-hkscs" independently from "big5" (different encoding) and do not map to PUA

[07:26:02.0000] <kennyluck>
Yeah, that PUA story is quite famous.

[07:27:00.0000] <kennyluck>
I see.

[07:27:01.0000] <annevk>
so I guess if you are in HK you really want UTF-8

[07:28:00.0000] <kennyluck>
I've not seen a big5-hkscs page but I am not in HK either. These characters are out of BMP right?

[07:30:00.0000] <annevk>
maybe? I've no idea

[07:35:00.0000] <erlehmann>
PUA support.

[07:35:01.0000] <erlehmann>
wait, what.

[07:36:00.0000] <jgraham>
annevk: I'm not sure. It wouldn't surprise me, but hopefully we're not *adding* that kind of crap years after it became obvious that it's a design anti-pattern

[07:38:00.0000] <kennyluck>
It's obviously odd if PUA in DOM can get displayed as normal text.

[07:41:00.0000] <annevk>
system fonts

[07:44:00.0000] <erlehmann>
You doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane.

[07:49:00.0000] <annevk>
is the whole BMP full?

[07:50:00.0000] <kennyluck>
No I don't think so.

[07:50:01.0000] <gsnedders>
No

[07:50:02.0000] <annevk>
at least Thai has some space I just found out

[08:08:00.0000] <Workshiva>
"Our new years resolution should be at least 1920x1080"

[08:11:00.0000] <annevk>
neh

[08:12:00.0000] <annevk>
higher!

[09:05:00.0000] <dglazkov>
good morning, Whatwg!

[09:11:00.0000] <smaug____>
hyvää iltaa

[09:13:00.0000] <dglazkov>
I love umlauts.

[09:20:00.0000] <smaug____>
those aren't actually umlauts, but separate letters ;)

[09:22:00.0000] <michel_v>
letters with umlauts?

[09:22:01.0000] <smaug____>
ä is a letter itself

[09:23:00.0000] <dglazkov>
what is the pronunciation effect of two of them?

[09:24:00.0000] <smaug____>
You mean having two ä-letters? It is just longer sound

[09:24:01.0000] <smaug____>
Finnish is easy to pronounce

[09:25:00.0000] <dglazkov>
is it pretty much speak out each letter?

[09:25:01.0000] <dglazkov>
like Russian

[09:25:02.0000] <smaug____>
yeah

[09:26:00.0000] <dglazkov>
that's nice. What about grammar?

[09:27:00.0000] <smaug____>
well, you can put words almost in any order, so it is easy.

[09:28:00.0000] <smaug____>
but picking up the right form of some word can be tricky

[09:29:00.0000] <smaug____>
If I trust one source...it says there can be 2253 different forms of every noun

[09:29:01.0000] <smaug____>
sounds about right

[09:29:02.0000] <dglazkov>
o_O

[09:30:00.0000] <dglazkov>
but there's logic to that, right? You don't have to just memorize?

[09:30:01.0000] <smaug____>
yeah, there is quite simple logic

[09:31:00.0000] <smaug____>
http://en.wikipedia.org/wiki/Finnish_morphology#Noun_forms

[09:35:00.0000] <dglazkov>
ah! very similar to Russian: en.wikipedia.org/wiki/Russian_grammar

[09:36:00.0000] <AryehGregor>
annevk, the test bugs in surroundContents are due to changes in testharness.js after the test was written, which are in turn due to spec changes.

[09:36:01.0000] <AryehGregor>
/me fixes

[09:37:00.0000] <smaug____>
dglazkov: your letters make that all hard :)

[09:37:01.0000] <dglazkov>
:)

[09:38:00.0000] <AryehGregor>
annevk, hmm, so we throw InvalidStateError for two things in surroundContents?  That's not good.

[09:39:00.0000] <dglazkov>
AryehGregor: do you have somewhere spec'd how window.getSelection() reacts to selections in iframes?

[09:40:00.0000] <AryehGregor>
dglazkov, seems not right now, no.  I think I have feedback asking me to look into it, which I plan to do.

[09:41:00.0000] <dglazkov>
AryehGregor: cool. I'll just write up something that makes sense for shadow DOM (which is a similar situation).

[09:41:01.0000] <AryehGregor>
dglazkov, I think the current theory is there's one selection per window, so iframes have a different selection.

[09:41:02.0000] <dglazkov>
ah, so it's not similar.

[09:42:00.0000] <AryehGregor>
annevk, pushed a fix to the test bugs.

[09:42:01.0000] <AryehGregor>
Or not?

[09:42:02.0000] <AryehGregor>
Oh, right, the fix isn't approved.

[09:55:00.0000] <smaug____>
/me is amazed how www-style can have such a long and silly discussion about using forums

[09:57:00.0000] <dglazkov>
yikes, why is getSelection on both window and document?

[09:57:01.0000] <smaug____>
historical reasons?

[09:58:00.0000] <dglazkov>
probably

[09:58:01.0000] <smaug____>
""Deprecated method document.getSelection() called. Please use window.getSelection() instead."" was added to Gecko 2001

[09:59:00.0000] <smaug____>
I think that warning has been removed

[10:00:00.0000] <dglazkov>
maybe AryehGregor knows

[10:00:01.0000] <AryehGregor>
dglazkov, I don't know the history.  But that's what implementations do.

[10:01:00.0000] <AryehGregor>
Until a few months ago, Gecko implemented document.getSelection() as returning a string, but now I think we have interop.

[10:01:01.0000] <smaug____>
Apparently document.getSelection has been in Gecko since 1998, so it could be Netscapeism

[10:02:00.0000] <AryehGregor>
Yes, I'm pretty sure it dates to Netscape.

[10:02:01.0000] <AryehGregor>
Maybe it was originally on Document only, but then people realized it made more sense on Window.

[10:04:00.0000] <dglazkov>
fascinating

[10:05:00.0000] <smaug____>
window.getSelection was added to Gecko 2000

[10:46:00.0000] <dglazkov>
smaug____: does Gecko support multiple-range selections? Or is this all deprecated?

[10:46:01.0000] <smaug____>
Gecko does support multiple selections

[10:46:02.0000] <smaug____>
I mean, multi-range

[10:47:00.0000] <dglazkov>
ok

[10:48:00.0000] <AryehGregor>
dglazkov, yes, it does.  rniwa and I get ehsan to agree at some point that it shouldn't, but I dunno if the rest of Gecko is on board with that.

[10:48:01.0000] <dglazkov>
why are multi-range selections sucky?

[10:49:00.0000] <smaug____>
that is not clear to me

[10:50:00.0000] <smaug____>
but IIRC other browser vendors don't want to implement them

[10:54:00.0000] <dglazkov>
at least to me, multi-range selections are the thing that make selections work non-crazily with shadow DOM, so I am interested

[10:55:00.0000] <AryehGregor>
dglazkov, because 98% of the time there's only one Range, so authors do getSelection().getRangeAt(0) and expect it to be the only range in the selection, which breaks.

[10:56:00.0000] <AryehGregor>
If we need non-contiguous selections, a better API is required, like maybe one that returns all nodes contained in the selection instead of endpoints.  One where the non-contiguous selection is not exposed as a special case in the API, because it's too rare for anyone to pay attention to.

[10:56:01.0000] <AryehGregor>
FWIW, Gecko itself internally has crazy bugs with multi-range selections.

[10:56:02.0000] <AryehGregor>
ehsan demoed some of them with execCommand().  It does pretty much random things when multi-range selections are involved.

[10:56:03.0000] <AryehGregor>
If Gecko engineers can't get multi-range selections right, do you expect web authors to?

[10:57:00.0000] <dglazkov>
I see.

[10:59:00.0000] <ehsan>
AryehGregor: smaug____: yeah, I meant to start that discussion at some point, but I held off on it cause I never had the time to rip them out

[10:59:01.0000] <ehsan>
and I didn't want the discussion to end with no results

[10:59:02.0000] <dglazkov>
AryehGregor: thanks, I need to think about this some more.

[11:00:00.0000] <AryehGregor>
Honestly, the Range API is way too complicated anyway.  Like the fact that offsets are sometimes child numbers and sometimes offsets into CharacterData, and the way that you can have a zillion different boundary points that map to the same location.

[11:00:01.0000] <AryehGregor>
It's a PITA for authors to use.

[11:01:00.0000] <AryehGregor>
Author code is littered with simplifying assumptions like "there's only one range per selection" and "range endpoints are always in Element or Text nodes".

[11:01:01.0000] <AryehGregor>
Which they don't even realize are wrong.

[11:01:02.0000] <dglazkov>
damn authors!

[11:01:03.0000] <dglazkov>
why can't they be smarter!

[11:01:04.0000] <dglazkov>
:D

[11:02:00.0000] <smaug____>
AryehGregor: ehsan: I think mats has fixed most of the bugs related to multi-range selections

[11:03:00.0000] <smaug____>
er, possibly not related to execCommand

[11:03:01.0000] <smaug____>
/me is not interested in execCommand :p

[11:03:02.0000] <ehsan>
smaug____: no, he hasn't :)

[11:04:00.0000] <smaug____>
multi-range selections is a nice way to implement spellchecking UI, IMO

[11:06:00.0000] <ehsan>
smaug____: that can be debated, but for the most part what we want is stop exposing them to the content

[11:07:00.0000] <ehsan>
I feel that the way we use multi-range selections to handle spell checking etc is not optimal

[11:07:01.0000] <ehsan>
but that's a different discussion

[11:19:00.0000] <kennyluck>
annevk, for big5, are you inclined to spec Gecko's big5 table or CP590 of others?

[11:26:00.0000] <bz_moz>
Is the idl from the html5 spec available somewhere without all the other verbiage?

[11:41:00.0000] <AryehGregor>
bz_moz, the source code of this has a copy-pasted version with a few tweaks: w3c-test.org/html/tests/submission/AryehGregor/interfaces.html  I used this to generate it from the one-page WHATWG spec: var s = "";     [].forEach.call(document.getElementsByClassName("idl"), function(idl) {       if (!idl.classList.contains("extract"))       {         s += idl.textContent + "\n\n";       }     });     document.body.innerHTML = '<pre></pre>';     d

[11:41:01.0000] <AryehGregor>
ocument.body.firstChild.textContent = s;

[11:41:02.0000] <AryehGregor>
(see http://w3c-test.org/html/tests/resources/idlharness.js )

[11:43:00.0000] <bz_moz>
AryehGregor: looking

[11:44:00.0000] <bz_moz>
AryehGregor: thanks, that's perfect

[11:44:01.0000] <AryehGregor>
:)

[11:44:02.0000] <AryehGregor>
It might be slightly out-of-date.

[11:45:00.0000] <bz_moz>
I just need the interface hierarchy

[11:45:01.0000] <bz_moz>
not the members

[11:45:02.0000] <bz_moz>
I doubt that's changed

[11:50:00.0000] <AryehGregor>
bz_moz, since transform-origin isn't inherited, the only way the computed value is detectable is through getComputedStyle(), no?  Having different resolved and computed values is only meaningful for inherited properties, because it's the computed value that's inherited?

[11:50:01.0000] <AryehGregor>
Or is computed value used somewhere other than inheritance and getComputedStyle()?

[11:53:00.0000] <bz_moz>
AryehGregor: all properties can be inherited

[11:53:01.0000] <bz_moz>
AryehGregor: some are just not inherited by default

[11:53:02.0000] <bz_moz>
AryehGregor: anyone can always write "transform-origin: inherit" and boom!

[11:54:00.0000] <bz_moz>
AryehGregor: as long as your dimensions are different from your parent you can now tell whether the computed value was percent or pixels

[11:54:01.0000] <bz_moz>
AryehGregor: resolved value is a concept specific to getComputedStyle

[11:54:02.0000] <bz_moz>
AryehGregor: because UAs historically do weird shit there, because the CSS2 definition of computed value was .... odd

[12:46:00.0000] <Hixie>
i have returned!

[12:47:00.0000] <Hixie>
and won't be reading backlog, so if you asked me something, ask again or send mail :-)

[12:47:01.0000] <TabAtkins>
...where did you go?

[12:47:02.0000] <Hixie>
/me has literally 1000s of e-mails to deal with

[12:47:03.0000] <TabAtkins>
...when did you leave?

[12:47:04.0000] <Hixie>
TabAtkins: vacation

[12:49:00.0000] <bz_moz>
hixie: were you gone for more than 3 days?

[12:50:00.0000] <Hixie>
more like 3 weeks

[12:50:01.0000] <TabAtkins>
Wow.

[12:50:02.0000] <bz_moz>
hixie: then why do you need the "literally"?  ;)

[12:50:03.0000] <TabAtkins>
I... guess it's a good thing I didn't notice?

[12:50:04.0000] <Hixie>
bz_moz: fair point! :-)

[12:50:05.0000] <Hixie>
TabAtkins: :-P

[12:50:06.0000] <bz_moz>
/me would figure that 2000/week is a good lower bound for email

[12:50:07.0000] <Hixie>
actually this is after my filters get rid of 90% of my mail

[12:50:08.0000] <TabAtkins>
bz_moz: Surely your silicon brain can handle more than that.

[12:51:00.0000] <bz_moz>
hixie: ah, heh

[12:51:01.0000] <TabAtkins>
Until I see you at SXSW and satisfy myself that your'e an organic, I'm going to continue to assume you're a supercomputing cluster in an MIT basement.

[12:51:02.0000] <bz_moz>
TabAtkins: my laptop can probably handle all sorts of mail volumes

[12:52:00.0000] <bz_moz>
heh

[12:52:01.0000] <bz_moz>
I have no evidence you're organic either

[12:52:02.0000] <TabAtkins>
Please.  My effiency and work ethic is clearly organic.

[12:52:03.0000] <bz_moz>
plus, how would you tell apart a human from R Daneel Olivaw anyway?

[12:52:04.0000] <TabAtkins>
Invasive x-ray.

[12:53:00.0000] <bz_moz>
/me hopes sxsw passes on those

[12:53:01.0000] <TabAtkins>
I'm hoping I get it through airport security.

[12:53:02.0000] <bz_moz>
you'd have to catch me at the airport

[12:53:03.0000] <bz_moz>
heh

[12:53:04.0000] <bz_moz>
/me has taken to traveling with his kids

[12:53:05.0000] <bz_moz>
that way I go through the sane line

[12:53:06.0000] <TabAtkins>
Airport x-ray isn't invasive. It would be fooled by organic skin.

[12:53:07.0000] <bz_moz>
at least so far

[12:53:08.0000] <bz_moz>
TabAtkins: yeah, I know

[12:54:00.0000] <TabAtkins>
I just opt-out every time.  10 minutes wasting their time with a patdown and I'm good.

[12:54:01.0000] <bz_moz>
and as far as that goes, the TSA actually rolled back a dumb policy

[12:54:02.0000] <TabAtkins>
Unless, like last time, they detect explosives on me and call the cops.

[12:54:03.0000] <bz_moz>
TabAtkins: heh

[12:54:04.0000] <bz_moz>
TabAtkins: I've been under too much time pressure to do that the one time it came up.  :(

[12:55:00.0000] <TabAtkins>
I've done a pornoscanner once in a similar timecrunch, but I usually ensure I have 1.5 hours so I can eat the time.

[12:57:00.0000] <bz_moz>
what I want is confirmation of ms2ger's humanity

[12:58:00.0000] <bz_moz>
but I may be out of luck.

[12:58:01.0000] <Ms2ger>
Which humanity?

[12:58:02.0000] <jgraham>
I want conformation he is non-human

[12:58:03.0000] <jgraham>
It would be way more interesting

[12:58:04.0000] <jgraham>
But less surprising

[12:59:00.0000] <Ms2ger>
Still passing my Turing test?

[12:59:01.0000] <AryehGregor>
bz_moz, ah, right.  Thanks.

[12:59:02.0000] <bz_moz>
Ms2ger: oh, sure

[12:59:03.0000] <bz_moz>
Ms2ger: but at this point chatbots do _that_

[12:59:04.0000] <bz_moz>
Ms2ger: (you do a bit better, because you comment on patches, which most chatbots can't)

[13:00:00.0000] <TabAtkins>
True.  Cleverbot is pretty human most of the time.

[13:00:01.0000] <bz_moz>
tabatkins: more precisely the turing testers are not doing it right

[13:00:02.0000] <bz_moz>
tabatkins: imho

[13:00:03.0000] <Ms2ger>
bz_moz, hmm, I want a bot to complain about style issues in random people's patches :)

[13:00:04.0000] <TabAtkins>
Another 10 years, and the turing test will stop being useful for testing AI, because we'll just assume that making conversation is something that *of course* computers can do.

[13:01:00.0000] <TabAtkins>
(10y is a conservative estimate)

[13:01:01.0000] <bz_moz>
Ms2ger: http://beaufour.dk/jst-review/

[13:01:02.0000] <Ms2ger>
bz_moz, yeah, but I want it to comment in bmo

[13:01:03.0000] <bz_moz>
TabAtkins: depends on conversation and demographic.  random party conversation, sure

[13:01:04.0000] <bz_moz>
TabAtkins: which is why you have to find a common area of interest and specialize

[13:02:00.0000] <bz_moz>
TabAtkins: e.g. I'm pretty sure I could prove to myself that you're not a bot

[13:02:01.0000] <Ms2ger>
And it's not useful for me, because I deliberately don't rev uuids in patches I put up for review

[13:02:02.0000] <bz_moz>
TabAtkins: we'd just talk css specs

[13:04:00.0000] <TabAtkins>
Well, sure, because Texas doesn't have good AI research.

[13:04:01.0000] <bz_moz>
/me had no idea texas was involved

[13:04:02.0000] <TabAtkins>
It's where I was raised.

[13:05:00.0000] <bz_moz>
if we're talking that....

[13:05:01.0000] <TabAtkins>
On the other hand, you're somewhere up in the northeast, where all the fancy universities are.

[13:05:02.0000] <bz_moz>
neither does dc

[13:05:03.0000] <bz_moz>
(amount of I in general there could be debated)

[13:20:00.0000] <Ms2ger>
zewt, thanks for your reply about encoding/XHR/json, that's why I wanted the guy to tell public-webapps about his bug :)

[14:31:00.0000] <TabAtkins>
matjas, matijsb: I forget which of you is which, so I'll just say: the CSS commits feed is back to working.  It's not showing the diffs yet, but you don't need that for the Twitter feed.

[14:33:00.0000] <matijsb>
TabAtkins: hehe, this is matjas'

[15:17:00.0000] <zewt>
"This is an editor's draft of a spec, it's not a recommendation, so it's hardly a violation of anything." <- losing a lot of respect for webkit here

[15:17:01.0000] <Ms2ger>
timeless, "anyone have experience cajoling MXR into doing regexp searches?  I'm trying to get it to search for '#\d+[#=]' (in Perl-speak), and I'm getting nowhere"

[15:17:02.0000] <Ms2ger>
cc jwalden

[15:18:00.0000] <Hixie>
zewt: url?

[15:18:01.0000] <Ms2ger>
public-webapps, the JSON thread

[15:18:02.0000] <zewt>
responseType "json" thread on webapps

[15:24:00.0000] <Hixie>
ah, i didn't read that thread

[15:24:01.0000] <gsnedders>
The HTML5 parser defines a context-sensitive language, right? Has anyone tried to do a formal definition of it?

[15:24:02.0000] <Hixie>
are you saying the HTML spec isn't formal? :-P

[15:25:00.0000] <gsnedders>
Yes. :P

[15:32:00.0000] <annevk>
bz_moz: you get too much email :)

[15:33:00.0000] <annevk>
bz_moz: having said that, I think in three months I had about 20000, so maybe you are right... depressing

[15:33:01.0000] <annevk>
three months away*

[15:33:02.0000] <gsnedders>
Hixie: Can you think of anything that stops it from being a CSG?

[15:34:00.0000] <annevk>
kennyluck: 950, which I thought is what Gecko implemented

[15:34:01.0000] <annevk>
AryehGregor: thanks

[15:35:00.0000] <annevk>
wb Hixie

[15:44:00.0000] <Hixie>
gsnedders: CSG?

[15:44:01.0000] <gsnedders>
Hixie: Context sensitive grammar

[15:44:02.0000] <gsnedders>
/me will be scared if it isn't

[15:44:03.0000] <Hixie>
document.write()?

[15:44:04.0000] <gsnedders>
Because if it isn't, you need a Turing machine to parse it.

[15:44:05.0000] <Hixie>
you do

[15:44:06.0000] <gsnedders>
Hixie: Assume scripting disabled

[15:45:00.0000] <Hixie>
oh

[15:45:01.0000] <gsnedders>
(Once you have JS involved, obviously a Turing machine is needed)

[15:45:02.0000] <Hixie>
do you mean conforming syntax only too?

[15:45:03.0000] <gsnedders>
No.

[15:45:04.0000] <annevk>
gsnedders: take a few classes off and figure it out

[15:46:00.0000] <annevk>
gsnedders: I'm sure mankind will thank you, and university might hand you a few credits

[15:47:00.0000] <Hixie>
gsnedders: i'm not familiar enough with the strict definition of CSG to say one way or the other

[15:47:01.0000] <Hixie>
gsnedders: certainly in the common case -- scripting enabled -- parsing can be non-deterministic

[15:47:02.0000] <gsnedders>
My gut says it is a CSG, but I don't have proof for it.

[15:47:03.0000] <gsnedders>
Hixie: Certainly. document.write guarantees that.

[15:49:00.0000] <Hixie>
gsnedders: does the fact that HTML streams can be unbounded make it not a CSG?

[15:50:00.0000] <TabAtkins>
No.

[15:50:01.0000] <Hixie>
wikipedia says a CSG can be parsed by an LBA, and an LBA assumes bounded input as far as i can tell

[15:50:02.0000] <gsnedders>
Hixie: No

[15:50:03.0000] <Hixie>
but here we are outside my area of expertise

[15:50:04.0000] <Hixie>
so...

[15:51:00.0000] <gsnedders>
Hixie: Even a regular grammar can handle unbounded input

[15:51:01.0000] <Hixie>
it seems wikipedia's definitions also has the key sentence "The only restriction placed on grammars for such languages is that no production maps a string to a shorter string."

[15:51:02.0000] <Hixie>
but i don't really understand what that means

[15:51:03.0000] <gsnedders>
e.g., a null-terminated string can be parsed with a regular grammar, but you don't know when, if ever, you'll reach the null byte.

[15:52:00.0000] <gsnedders>
So inevitably anything higher up in the hierarchy can be unbounded.

[15:52:01.0000] <Hixie>
k

[15:53:00.0000] <Hixie>
oh oh

[15:53:01.0000] <Hixie>
the AAA

[15:53:02.0000] <Hixie>
it can mutate previously-provided output

[15:53:03.0000] <Hixie>
does that violate some rule of CSGs?

[15:53:04.0000] <Hixie>
<html x> and <body x>, too

[15:54:00.0000] <Hixie>
and <table>x

[15:54:01.0000] <TabAtkins>
I'm somewhat concerned about the AAA.

[15:54:02.0000] <Hixie>
aren't we all

[15:54:03.0000] <TabAtkins>
What's the effect of <html x>?

[15:54:04.0000] <Hixie>
mutates the earlier <html> node

[15:54:05.0000] <Hixie>
iirc

[15:54:06.0000] <Hixie>
(adds attributes)

[15:55:00.0000] <TabAtkins>
Oh, is this because the parser has some special-case for <html>?

[15:55:01.0000] <gsnedders>
That's not an issue. You're still creating the html node.

[15:55:02.0000] <TabAtkins>
That adds the token first?

[15:55:03.0000] <Hixie>
<html><html a><html b> parses the same as <html a b> iirc

[15:55:04.0000] <Hixie>
where you can have any amount of content between each of those tags

[15:55:05.0000] <TabAtkins>
But yeah, the fact that AAA can move content an arbitrary distance past arbitrary content inside the table would probably break a CSG.

[15:56:00.0000] <TabAtkins>
Same with <html> attribute merging, yeah.

[15:57:00.0000] <TabAtkins>
Yeah, you'd need a two-stack DFA, which is turing-equivalent.

[15:57:01.0000] <gsnedders>
Is a two-stack DFA Turing-equiv? I thought you could do that with a CSG.

[15:57:02.0000] <TabAtkins>
Yes, it is.

[15:58:00.0000] <TabAtkins>
If i'm remembering my automata theory properly

[15:58:01.0000] <TabAtkins>
Shit, I meant PDA.

[15:58:02.0000] <TabAtkins>
A two-stack PDA.

[15:59:00.0000] <gsnedders>
Well, a PDA is basically just a one-stack DFA

[15:59:01.0000] <TabAtkins>
Hm. You may be able to get by with a nested-stack PDA, which is still a type 1 language.


2012-01-07
[16:00:00.0000] <gsnedders>
I don't think you can, given the fact you can invoke AAA at any point.

[16:00:01.0000] <TabAtkins>
Just push the entire in-table contents into a stack until you hit </table>, looking for AAA-stuff and parsing appropriately.  Then, emit <table> and start parsing the built-up in-table stack.

[16:01:00.0000] <gsnedders>
Yeah, that's the vague sort of approach I was thinking of for <html x><html b>

[16:01:01.0000] <gsnedders>
But I'm not sure you can share the stack with that of open elements.

[16:01:02.0000] <dglazkov>
I used to have a PDA. I had to put a couple of AAA's into it to make it work.

[16:02:00.0000] <TabAtkins>
Yeah, I'm not certain either.  I'm not really familiar with nested-stack machines.

[16:03:00.0000] <gsnedders>
In fact, you almost certainly can't

[16:03:01.0000] <TabAtkins>
Well, I'm fairly certain that HTML is parsable by a LBA, since all actual computers are that.

[16:04:00.0000] <TabAtkins>
And we have bounds on the size that some stacks can grow.

[16:04:01.0000] <TabAtkins>
I guess we'd need to make sure that there aren't any unbounded stacks.

[16:04:02.0000] <gsnedders>
Stack of open elements is unbounded.

[16:04:03.0000] <TabAtkins>
Ah, right.  There you go, then.

[16:04:04.0000] <TabAtkins>
All the way past CSG, I think.

[16:05:00.0000] <gsnedders>
Unbounded stacks can exist in an LBA

[16:05:01.0000] <gsnedders>
and in a PDA too

[16:05:02.0000] <gsnedders>
You only need a finite stack for a given finite input

[16:05:03.0000] <TabAtkins>
(btw, a two-stack pda is turing-equiv because the two stacks are equivalent to a single tape with a bidirectional head)

[16:05:04.0000] <gsnedders>
(Oh, duh)

[16:06:00.0000] <dglazkov>
/me sulks because nobody liked his joke

[16:06:01.0000] <TabAtkins>
Oh, wait.  Let's see.  Are there any stacks that grow faster than linear in the input size?

[16:06:02.0000] <TabAtkins>
The stack of formatting elements did at some point, I think.

[16:06:03.0000] <gsnedders>
No.

[16:06:04.0000] <TabAtkins>
Okay, then we're good.

[16:06:05.0000] <TabAtkins>
It's likely an LBA then.

[16:06:06.0000] <gsnedders>
At some point, yes. But it has a limit now.

[16:06:07.0000] <TabAtkins>
And thus a CSG.

[16:07:00.0000] <gsnedders>
It's going to get horrifically messy, but I think it's doable.

[16:07:01.0000] <TabAtkins>
Yes, definitely.

[16:07:02.0000] <gsnedders>
Yeah, we're definitely an LBA.

[16:08:00.0000] <TabAtkins>
Though, honestly, a proof of such just requires that it's (a) parsable by a turing machine, and (b) has no memory requirements that grow faster than linearly.

[16:09:00.0000] <Hixie>
i have no idea what the heck you are all talking about, but let me know if you come to a decision that affects the spec :-D

[16:09:01.0000] <Hixie>
dglazkov: if it helps, i thought it was amusing. :-P

[16:09:02.0000] <dglazkov>
yay!

[16:09:03.0000] <gsnedders>
Hixie: It mostly has implications on proving the correctness of implementations

[16:11:00.0000] <gsnedders>
TabAtkins: What I wonder is whether a nested stack will do

[16:12:00.0000] <TabAtkins>
Yeah, I'm not actually familiar with nested-stack, and the wikipedia article is minimal.

[16:16:00.0000] <gsnedders>
Oh well, next year I get to learn about grammar from two POVs at uni.

[16:16:01.0000] <gsnedders>
(From both a CS POV and a theoretical linguistics one)

[16:18:00.0000] <TabAtkins>
zewt: "This is the worst thing I've seen anyone say in here in a long time" sounds like a challenge.

[16:18:01.0000] <zewt>
heh

[16:18:02.0000] <zewt>
have at thee, archives

[16:19:00.0000] <TabAtkins>
Oh, I was just going to say something involving hitler and tentacles.

[16:19:01.0000] <zewt>
the world is desensitized to tentacle hitlers

[16:20:00.0000] <gsnedders>
Does foreign content make conforming content context-sensitive?

[16:20:01.0000] <gsnedders>
Hmmm

[16:20:02.0000] <TabAtkins>
Because it's allows arbitrary XML?

[16:20:03.0000] <TabAtkins>
If so: yes, or at least prevents it from being context-free.

[16:20:04.0000] <gsnedders>
Nah, nested stack will do.

[16:20:05.0000] <TabAtkins>
XML is *almost* context-free.

[16:21:00.0000] <zewt>
why does google docs always always break with multiple addresses

[16:21:01.0000] <TabAtkins>
If only they did end-tags by reversing the name of the tag.

[16:21:02.0000] <gsnedders>
TabAtkins: Doesn't it work if you just push the name of the element to the stack?

[16:22:00.0000] <gsnedders>
Why would you need to do it char by char?

[16:22:01.0000] <gsnedders>
AIUI XML is context-free.

[16:22:02.0000] <TabAtkins>
Because that's how I've typically seen grammars defined?

[16:22:03.0000] <TabAtkins>
Specifically, {ww | w in {a,b}+} isn't context-free.

[16:23:00.0000] <TabAtkins>
And thus, neither is {<w></w>}

[16:23:01.0000] <gsnedders>
Right, okay

[16:23:02.0000] <TabAtkins>
If you tokenize at a higher level, then sure.

[16:23:03.0000] <gsnedders>
Which is effectively what a nested stack parser does.

[16:24:00.0000] <TabAtkins>
Ok, that makes sense.

[16:24:01.0000] <TabAtkins>
Then... I suspect a nested stack parser would work.

[16:25:00.0000] <gsnedders>
Unless I'm misunderstanding.

[16:27:00.0000] <TabAtkins>
No, that makes sense given the minimal wikipedia definition.

[16:32:00.0000] <gsnedders>
So given scripting enabled...

[16:33:00.0000] <gsnedders>
We're a decider, as we halt.

[16:33:01.0000] <gsnedders>
Provably, the HTML5 parser will halt.

[16:35:00.0000] <gsnedders>
(Of course, the system as a whole is Turing complete, because the JS might not)

[16:41:00.0000] <gsnedders>
(Sad reality: I'm starting to wonder whether AAA is the best solution. But I guess I'll get murdered if I suggest that without a good reason for it.)

[17:36:00.0000] <TabAtkins>
Man, a 2-day delay in me getting webkit set up was caused by an e/i typo.

[17:36:01.0000] <TabAtkins>
;_;

[21:46:00.0000] <kennyluck>
annevk5, use data:text/html;charset=big5,%C7%B1%C7%AB%C7%E5 as an example and you'll see the difference.

[21:47:00.0000] <kennyluck>
(re. Gecko implementing a superset of CP950)

[23:43:00.0000] <annevk>
kennyluck: ah I see what you mean; I guess we'll go with the bigger table if it's not too much of a hassle, dunno

[23:49:00.0000] <kennyluck>
annevk, but this is not implemented in browsers besides Firefox so this is sort of a proprietary extension, though I guess it would be nice if IE can adopt it.

[23:51:00.0000] <annevk>
hmm, if only Gecko has it, it might be something they can consider removing...

[23:51:01.0000] <annevk>
or is it used?

[23:51:02.0000] <kennyluck>
It is used. This is an example → http://www.ptt.cc/bbs/C_Chat/index.html

[23:54:00.0000] <kennyluck>
Not so frequently though, basically Japansese kanas in big5. People rarely complain about this problem in other browsers so removing it doesn't harm much either…

[23:58:00.0000] <annevk>
kennyluck: interesting

[00:02:00.0000] <kennyluck>
I don't really get the bar as to what "breaks the web". The encoding detection step can obviously be arbitrarily complex just to save more pages...

[00:05:00.0000] <annevk>
kennyluck: it's a judgment call between complexity and making more pages work

[00:44:00.0000] <annevk>
kennyluck: any ideas on how to present those data tables btw and what the best location is to retrieve them?

[00:44:01.0000] <annevk>
kennyluck: I've currently done them as tables, but it might be better to just use arrays

[00:45:00.0000] <annevk>
all single-octet encodings currently defined are effectively arrays of 128 items

[00:45:01.0000] <annevk>
multi-octet encodings have arrays that are longer, but there are not that many

[00:46:00.0000] <annevk>
there's only one for Japanese for instance

[00:49:00.0000] <bga>
Google - total NIH :) replace all web related thechnologies to own, s/js/dart/ s/http/spdy/ ....

[00:53:00.0000] <kennyluck>
annevk, a button for copying into the clipboard I guess :) nobody reads the table itself anyway.

[00:53:01.0000] <kennyluck>
Is there a standard way to present such a table?

[00:55:00.0000] <kennyluck>
well, a space separated list would be the most reusable format I guess, like this → http://moztw.org/docs/big5/table/moz18-b2u.txt if IETF doesn't have a standard already.

[00:55:01.0000] <annevk>
oh good times

[00:56:00.0000] <annevk>
the default styling for <ol> makes it so that if you go over 9000 (actually 9999) you can no longer see the first digit

[00:57:00.0000] <kennyluck>
lol

[01:00:00.0000] <kennyluck>
/me is looking at the iconv source to find the biggest table → http://git.savannah.gnu.org/cgit/libiconv.git/tree/lib?id=3a33986e1d2c819dc2b8a84684e067cf177d1815

[01:01:00.0000] <kennyluck>
Is cns11643_inv used on the Web?

[01:03:00.0000] <kennyluck>
euc_tw… I guess it's not

[01:03:01.0000] <annevk>
http://git.savannah.gnu.org/cgit/libiconv.git/tree/lib/utf8.h looks buggy; still handles six octets

[01:04:00.0000] <annevk>
kennyluck: both Opera and Gecko support it I believe in incompatible ways, but also through iso-2022-cn (not sure how compatible it is there)

[01:04:01.0000] <kennyluck>
9000 seems enough, though I am still not convinced why we want to format it in HTML...

[01:05:00.0000] <annevk>
Japanese has an index of multiples of 94

[01:05:01.0000] <annevk>
so if that could somehow be nicely represented in HTML it might be a nice way for people to look up stuff

[01:05:02.0000] <annevk>
on the other hand, a long list of index -> codepoint could also work

[01:06:00.0000] <annevk>
in text/plain that is

[01:07:00.0000] <annevk>
kennyluck: would you say the single-octet encodings should not be represented as HTML either?

[01:08:00.0000] <kennyluck>
annevk, no.

[01:08:01.0000] <kennyluck>
I mean it should be presented as HTML.

[01:09:00.0000] <kennyluck>
I guess you should use the <details> element :p

[01:11:00.0000] <annevk>
for multi-octet tables?

[01:11:01.0000] <annevk>
that could work

[01:12:00.0000] <annevk>
still need a way to present them

[01:12:01.0000] <annevk>
94 characters per row is quite long :)

[01:24:00.0000] <annevk>
Larry Masinter: fighting silly registry policies since '98: http://unicode.org/mail-arch/unicode-ml/Archives-Old/UML013/0007.html

[01:24:01.0000] <annevk>
(and prolly before)

[01:28:00.0000] <kennyluck>
annevk, by the way, how do you know big5-hkscs is needed for the Web?

[01:32:00.0000] <annevk>
there's issues in various bug databases suggesting it is

[01:33:00.0000] <annevk>
though I think the way it works is that users use manual override or an extension or some such

[01:33:01.0000] <annevk>
I'd love to get more information on that somehow

[01:38:00.0000] <Ms2ger>
Hixie, fwiw, I'd also like to get div.impl highlighted, and I don't care about Workers/Websockets

[02:48:00.0000] <annevk>
there's various notes suggesting Gecko supports an eight octet sequence in euc-kr, but I cannot find how it's implemented :(

[02:48:01.0000] <annevk>
e.g. https://bugzilla.mozilla.org/show_bug.cgi?id=9962

[02:50:00.0000] <annevk>
another thing that makes this difficult is that Gecko patches generated files rather than source files: https://bugzilla.mozilla.org/show_bug.cgi?id=134749 :/

[02:53:00.0000] <annevk>
although I guess the process is documented so it should be okay

[03:10:00.0000] <annevk>
hmm, iso-2022-kr looks like quite the mess

[03:10:01.0000] <annevk>
so surprising

[03:47:00.0000] <annevk>
can someone explain the purpose of ESC $ ) C in iso-2022-kr to me?

[03:52:00.0000] <annevk>
looks like it's meaningless

[03:55:00.0000] <annevk>
but adds a ton of complexity

[04:17:00.0000] <annevk>
so it seems Gecko only supports ESC $ ) C if it's at the beginning of the file and it will have zero effect

[04:17:01.0000] <annevk>
the effect is that you don't get to see ESC $ ) C on the screen

[04:18:00.0000] <annevk>
maybe we should just drop it altogether

[06:10:00.0000] <annevk>
whoa that XHR discussion blew up a bit

[06:31:00.0000] <espadrine>
dglazkov: in Web Components, do you plan on making templates have substitution slots as in http://infrequently.org/11/fronteers/fronteers.html#40 ?

[06:53:00.0000] <annevk>
kennyluck: http://w3techs.com/technologies/details/en-b5hkscs/all/all

[06:54:00.0000] <zewt>
"whose character encoding we know" there's a big caveat if ever I saw one. heh

[06:55:00.0000] <annevk>
http://i818.com/ and http://www.consumer.org.hk/website/ws_chi/ are still online and do indeed declare big5-hkscs

[06:55:01.0000] <zewt>
wonder how smart its charset guessing is (guessing big5 is probably fairly easy)

[06:56:00.0000] <annevk>
they also render fine in IE which reportedly treats big5-hk.. as label for big5

[06:58:00.0000] <annevk>
aah actually

[06:58:01.0000] <annevk>
IE does not render some characters correctly

[06:59:00.0000] <annevk>
I get boxes and UPA code points and in other browsers I get Unicode assigned characters

[06:59:01.0000] <annevk>
so I guess you need a HK Windows setup to render such a page correctly in IE

[06:59:02.0000] <annevk>
(but you'll still get into trouble if you copy data elsewhere)

[07:53:00.0000] <annevk>
okay, hkscs is for later

[07:54:00.0000] <annevk>
hkscs / gbk/gb18030 madness / and prolly nuking iso-2022-cn and euc-tw in a way similar to Chrome

[07:54:01.0000] <annevk>
oh and then utf-8 and utf-16

[07:55:00.0000] <annevk>
and the tables and the encoders

[07:55:01.0000] <annevk>
tralala

[07:55:02.0000] <Ms2ger>
Job security :)

[07:55:03.0000] <annevk>
nah, just good times :)

[07:56:00.0000] <zewt>
death to modal encodings

[07:57:00.0000] <Ms2ger>
s/modal/

[07:57:01.0000] <Ms2ger>
/

[07:57:02.0000] <zewt>
be sort of hard to do anything without *any* encodings

[07:58:00.0000] <annevk>
could certainly do away with the 99%

[07:58:01.0000] <Ms2ger>
#occupyiso-2022-cn

[07:58:02.0000] <zewt>
don't say that around F ms2 got there first

[07:59:00.0000] <annevk>
was that a joke in a different encoding?

[08:05:00.0000] <annevk>
btw Ms2ger / zewt, it's prolly good to stay nice to Jarred; he's fighting the good fight

[08:05:01.0000] <annevk>
a good idea*

[08:05:02.0000] <annevk>
gotta go now

[08:05:03.0000] <Ms2ger>
See you

[08:31:00.0000] <dglazkov>
espadrine: I am thinking about it. Please file a bug here: https://www.w3.org/Bugs/Public/enter_bug.cgi?comment=&blocked=14949&short_desc=%5BExplainer%5D%3A%20&product=WebAppsWG&component=Component%20Model

[08:45:00.0000] <hsivonen>
bold use of "assume" in https://www.w3.org/Bugs/Public/show_bug.cgi?id=15447

[08:46:00.0000] <zewt>
"planning to plan to" sure sounds like an academic

[08:50:00.0000] <Philip`>
"One of my design rules is that the agent may ignore parts of standards, if I deem those parts unnecessarily inelegant." - why bother trying to get the standard changed, then?

[08:51:00.0000] <zewt>
"i know better than the rest of the web, sit down everyone"

[08:52:00.0000] <Philip`>
/me wonders what would happen if there was an opportunity to redesign HTML from scratch without caring at all about compatibility, based on the lessons currently learnt from it

[08:56:00.0000] <Philip`>
(Also: "I am assuming that, ignoring GeoCities-era websites, usage in the wild is now limited to ad and tracking scripts." - maybe someone could point out that the page on which he is writing that comment uses document.write for useful functionality)

[08:57:00.0000] <Philip`>
(Maybe Bugzilla counts as GeoCities-era technology, though)

[09:00:00.0000] <hsivonen>
annevk: not usre if there's interest in standardizing chardet, but there is a paper that explains what it does, IIRC

[14:53:00.0000] <annevk>
hsivonen: k, guess I'll take a look once I've done everything else

[14:53:01.0000] <annevk>
which may take a while

[15:04:00.0000] <annevk>
Notes:

[15:04:01.0000] <annevk>
* use encoder / decoder as terms

[15:05:00.0000] <annevk>
* write as "The <dfn>gbk decoder</dfn> (<span>decoder</span> for <span>gbk</span>) is:" for easier referencing

[15:06:00.0000] <annevk>
* keep the single-octet tables, but use an external file in Unicode.org-style as normative format (maybe stripping 00-7E)

[15:07:00.0000] <annevk>
* see about using Unicode.org-style for the jis table (e.g. cp950) rather than an array

[15:26:00.0000] <annevk>
so as far as I can tell the only encoding not compatible with ASCII that made it into the new standard is utf-16

[15:26:01.0000] <annevk>
utf-16 is truly unique and evil

[15:46:00.0000] <Hixie>
hey anyone know if there's something that would cause <button>s in Firefox to magically sprout disabled="" attributes?

[15:47:00.0000] <smaug____>
sprout .. attributes?

[15:47:01.0000] <Hixie>
i have a <button> in a project i'm doing that doesn't have disabled="" in the markup, and nowhere in any of the scripts do i change that button's disabled state

[15:47:02.0000] <Hixie>
and if i set a dom breakpoint on attribute change it never fires for this button

[15:47:03.0000] <Hixie>
yet every now and then, it ends up having a disabled attribute

[15:48:00.0000] <smaug____>
I don't recall anything which might cause that

[15:48:01.0000] <Hixie>
weird weird weird

[15:49:00.0000] <Hixie>
doesn't happen in webkit as far as i can tell

[15:49:01.0000] <Hixie>
so i don't think it's my code

[15:49:02.0000] <Hixie>
but i can't see why it would happen otherwise

[15:49:03.0000] <Hixie>
i don't have any browser sniffing or anything that should make it different in different browsers

[15:50:00.0000] <smaug____>
any addons?

[15:51:00.0000] <smaug____>
Hixie: or does it happen only after reload ?

[15:51:01.0000] <Hixie>
Firebug, DOM Inspector, "Blank Tab Multivariate Test Addon 1.3", and "Test Pilot 1.2 (disabled)"

[15:51:02.0000] <Hixie>
everything i do is after reload, so it could be

[15:51:03.0000] <Hixie>
(i'm continuously reloading this project as i hack on it)

[15:51:04.0000] <smaug____>
does shift+reload help

[15:52:00.0000] <smaug____>
note, webkit doesn't have form state restoration thingie

[15:52:01.0000] <smaug____>
IIRC

[15:52:02.0000] <Hixie>
i usually reload with shift+command+r

[15:52:03.0000] <Hixie>
webkit does have form state restoration, but this isn't that, my code never sets disabled on the button

[15:52:04.0000] <smaug____>
right

[15:58:00.0000] <smaug____>
I don't see anything in Gecko which could cause that


2012-01-08
[16:00:00.0000] <zewt>
heh, nothing's quite as much fun as pages that disable submit buttons, then reloading it and having it stay disables

[16:00:01.0000] <zewt>
i use GM scripts to disable that nonsense on a page or two

[16:03:00.0000] <smaug____>
Hixie: are you using any script libraries (which may do random stuff)

[16:43:00.0000] <Hixie>
bummer, he left

[16:43:01.0000] <Hixie>
no script libraries

[20:40:00.0000] <kennyluck>
hmm… didn't notice that IE and FF aren't doing the UTF8 with error handling fully, e.g. for error happening at the end of streams.

[02:58:00.0000] <annevk>
kennyluck: end of stream is a drama all over the place

[04:34:00.0000] <Ms2ger>
http://webbeep.it/spec.html

[04:36:00.0000] <erlehmann>
Ms2ger, better https://github.com/erlehmann/libglitch/blob/master/FORMAT-draft-erlehmann

[04:38:00.0000] <erlehmann>
Ms2ger, web beeps is probably very useful for 90ies hacker movies

[04:39:00.0000] <erlehmann>
>By restricting these to a pentatonic scale, arbitrary combinations of notes could be used without major dissonance.

[04:39:01.0000] <erlehmann>
clever

[05:19:00.0000] <Philip`>
/me always likes diagrams with spellchecker underlines in them

[07:05:00.0000] <annevk>
what's a good name for the encoding data table / mapping table / thingie?

[07:05:01.0000] <annevk>
index? mapping?

[07:06:00.0000] <annevk>
naming sucks

[07:08:00.0000] <Philip`>
Lookup table?

[07:09:00.0000] <annevk>
and URL lookup-table-iso-8859-2.txt ?

[07:15:00.0000] <zewt>
simply "map"?

[07:17:00.0000] <annevk>
"an encoding can have map"

[07:18:00.0000] <zewt>
?

[07:18:01.0000] <zewt>
"can have a map"

[07:19:00.0000] <annevk>
euh yeah

[07:19:01.0000] <annevk>
although some can have more than one I suppose

[07:36:00.0000] <Ms2ger>
Almost a year since Google announced they were dropping support for H.264

[07:38:00.0000] <izhak>
The lack of a good modular html parser implementation on c/c++ is really really oppressive.

[07:39:00.0000] <izhak>
As the DOM C/C++ implementaion lack is.

[07:39:01.0000] <annevk>
so fix it :)

[07:41:00.0000] <izhak>
annevk: I'm trying:)

[07:41:01.0000] <izhak>
Lot's of people trying I suppose.

[07:42:00.0000] <annevk>
I haven't seen much actually apart from browser implementations and implementations in JavaScript

[07:42:01.0000] <izhak>
Well, trying never meant success.

[07:43:00.0000] <izhak>
I think the next step in Web is not possible without having bringing modularity to scene

[07:50:00.0000] <Philip`>
izhak: What do you consider "modular" to be?

[07:51:00.0000] <Philip`>
(e.g. is the parser okay if it forces you to use its own DOM implementation?)

[07:53:00.0000] <Philip`>
/me isn't about to suggest an implementation, he's just curious as to what's desired

[07:54:00.0000] <izhak>
Philip`: By modular I mean particular parts of browsers to be done as libraries with stable interfaces

[07:54:01.0000] <izhak>
Say, DOM, HTML forgiving parser

[07:57:00.0000] <Philip`>
Parsers in browsers have to support scripting (and document.write etc) which I imagine makes the interfaces far more complex and messy - would it be better to just have a non-scripting parser with a simpler API?

[07:57:01.0000] <izhak>
UI and Object Model diversion

[07:58:00.0000] <Philip`>
(A non-scripting parser would be useless when implementing a parser, but is presumably what's needed for almost every other instance of HTML parsing)

[07:58:01.0000] <Philip`>
s/implementing a parser/implementing a browser/

[07:58:02.0000] <annevk>
Ms2ger: I'm going to retire the unicode- files I generated earlier in favor of these new files

[07:58:03.0000] <Ms2ger>
Alright

[07:58:04.0000] <izhak>
non-script parser becomes more and more useless today

[08:00:00.0000] <izhak>
As I know even crowlers (why even? - neatly) run scripts today

[08:02:00.0000] <smaug____>
and since you need scripting, designing api for modular parser is hard

[08:02:01.0000] <smaug____>
If you need a C++ parser, I'd take hsivonen's parser and translate it to C++

[08:03:00.0000] <smaug____>
(using some automatic tool)

[08:09:00.0000] <webben>
Philip`: scripting parsers are likely better for a lot of scraping applications.

[08:09:01.0000] <Philip`>
izhak: It wouldn't be feasible for them to run scripts without implementing pretty much an entire web browser (in which case they'd presumably automate a WebKit instead of writing their own code)

[08:10:00.0000] <webben>
yes, hence ChromeDriver and Phantom.JS.

[08:10:01.0000] <webben>
*PhantomJS

[08:10:02.0000] <Philip`>
izhak: (In my testing some time ago, Googlebot dealt with scripts just by looking inside the script text for strings that looked like absolute or relative URLs and then crawling those, without attempting to actually run any scripts)

[08:11:00.0000] <Philip`>
(and a non-scripting parser should be sufficient for that)

[08:12:00.0000] <izhak>
Philip`: That's the issue of UI and Object Model mess

[08:12:01.0000] <izhak>
They should be decoupled

[08:12:02.0000] <izhak>
Just parsing out the links from scripts is not sufficient

[08:16:00.0000] <Philip`>
We can't do anything about the layering-violation mess that browsers have to deal with, so I think my hypothetical question is whether there'd be more interest in a necessarily messy API that can deal with that mess, or a nice clean modular API that ignores it but is probably still good enough for any use case that doesn't involve building an entire browser

[08:21:00.0000] <izhak>
The semantics which is expected to be found on Web in an increasing quantity and quality requires an access to the API of different layers today, opposite to the Past when only the resulted web page was an object of interest.

[08:22:00.0000] <izhak>
So the clean API to that modules I think will be demanded more and more

[08:54:00.0000] <annevk>
Ms2ger: http://dvcs.w3.org/hg/encoding/raw-file/tip/map-iso-8859-3.txt

[08:55:00.0000] <Ms2ger>
Nice, thanks

[08:55:01.0000] <annevk>
since most of section 5 is non-normative now maybe that should be nuked, but it's somewhat valuable I guess

[08:56:00.0000] <annevk>
well you can always look at http://dvcs.w3.org/hg/encoding/raw-file/tip/single-octet-research.html I suppose

[09:10:00.0000] <annevk>
any objections to removing 5.1 - 5.28?

[09:28:00.0000] <annevk>
done

[09:33:00.0000] <annevk>
http://dvcs.w3.org/hg/encoding/raw-file/tip/Overview.html

[09:44:00.0000] <annevk>
I never realized the only multi-octet encodings were from CJK

[09:52:00.0000] <annevk>
"""

[09:52:01.0000] <annevk>
And here's the table they used:

[09:52:02.0000] <annevk>
Big5 to Unicode(codepoint):

[09:52:03.0000] <annevk>
http://moztw.org/docs/big5/table/moz18-b2u.txt

[09:52:04.0000] <annevk>
Unicode(codepoint) to Big5:

[09:52:05.0000] <annevk>
http://moztw.org/docs/big5/table/moz18-u2b.txt

[09:52:06.0000] <annevk>
"""

[09:52:07.0000] <annevk>
the second file has more lines than the first...

[09:59:00.0000] <annevk>
smaug____: btw, before you get surprised, WebKit does not default whatToShow to SHOW_ALL; since WebKit's default was 0 we decided on a better one

[11:04:00.0000] <annevk>
so Chrome still understands a fair bit of iso-2022-cn (which is btw another hopeless mess), it just doesn't use any data tables for it

[11:11:00.0000] <bga_>
gsnedders are you here?

[11:14:00.0000] <gsnedders>
bga_: yes

[11:14:01.0000] <bga_>
. /([@!])(.*?)$/.exec('12@1@!12@3')

[11:14:02.0000] <gsnedders>
Known bug.

[11:15:00.0000] <bga_>
i want non gredy backward search

[11:15:01.0000] <gsnedders>
I think.

[11:15:02.0000] <gsnedders>
If that's what I think.

[11:15:03.0000] <gsnedders>
Oh, wait, no it isn't.

[11:15:04.0000] <bga_>
but its greedy

[11:15:05.0000] <gsnedders>
bga_: So the last @ or ! and everything that follows?

[11:16:00.0000] <bga_>
yeah

[11:16:01.0000] <bga_>
last, not first

[11:17:00.0000] <gsnedders>
/(@[^@]*|![^!]*)$/ will be quicker than anything more complex.

[11:17:01.0000] <bga_>
hm

[11:18:00.0000] <bga_>
. /(.)([^@!]*?)$/.exec('12@1@!12@3')

[11:18:01.0000] <bga_>
thanks

[11:18:02.0000] <bga_>
not general solution but works

[11:19:00.0000] <gsnedders>
Not sure why that isn't greedy off hand.

[11:19:01.0000] <gsnedders>
Oh, duh

[11:19:02.0000] <bga_>
i reversed string before and it worked too, but full string reverse is slow

[11:20:00.0000] <gsnedders>
It matches the [@!] first. Then it backtracks when it has to for the .*

[11:20:01.0000] <gsnedders>
But it never has to backtrack for that, as everything matches it and the following $.

[11:23:00.0000] <erlehmann>
i wonder why people do that https://plus.google.com/105786194532858868645/posts

[11:24:00.0000] <erlehmann>
after all the chrome team has repeatedly shown they do hate the open web

[11:24:01.0000] <erlehmann>
err

[11:24:02.0000] <erlehmann>
the google+ team

[11:24:03.0000] <erlehmann>
i am of sleepy today

[11:24:04.0000] <erlehmann>
sorry to the chrome team ;)

[11:24:05.0000] <gsnedders>
Yeah, I should go get a more modern browser for Google+.

[11:25:00.0000] <erlehmann>
gsnedders, when you use opera, do they show an upgrade message?

[12:08:00.0000] <gsnedders>
erlehmann: Certainly I've seen it several times, yeah

[12:08:01.0000] <erlehmann>
gsnedders, you better do no evil … or else!

[12:09:00.0000] <erlehmann>
„evil“ meaning running a non-approved browser ^_^

[12:09:01.0000] <gsnedders>
Well, Opera is finally slowly getting into Google's automated testing

[12:12:00.0000] <smaug____>
(It feels to me that Google is testing stuff more and more only using Chrome)

[14:01:00.0000] <GPHemsley>
annevk: Are you aware that the '**' and 'Issue:' overlap in your Encoding files (and others?)?

[14:02:00.0000] <zewt>
what the

[14:02:01.0000] <zewt>
cool, chrome is crashing on initial load, heh

[14:03:00.0000] <zewt>
wonder if they pushed a bad update or something

[14:07:00.0000] <annevk>
GPHemsley: ooh, I guess that's because of the WHATWG style sheet

[14:10:00.0000] <annevk>
GPHemsley: fixed for http://dvcs.w3.org/hg/encoding/raw-file/tip/Overview.html

[14:10:01.0000] <GPHemsley>
cool

[14:11:00.0000] <GPHemsley>
annevk: Oh, you just removed the 'Issue' part?

[14:11:01.0000] <annevk>
euh yeah?

[14:11:02.0000] <GPHemsley>
because apparently they were marking two different things

[14:11:03.0000] <GPHemsley>
(not everything had both)

[14:12:00.0000] <annevk>
oh that's because I only applied Issue: to <p>

[14:12:01.0000] <annevk>
and not <ol>

[14:12:02.0000] <annevk>
but it's all the same

[14:12:03.0000] <GPHemsley>
ah, OK

[14:12:04.0000] <annevk>
something that needs better text (or text at all)

[14:12:05.0000] <GPHemsley>
right

[14:33:00.0000] <annevk>
so are we back to no longer discussing new features on some list? https://bugzilla.mozilla.org/show_bug.cgi?id=697132

[14:39:00.0000] <smaug____>
annevk: that is mainly about the b2g thing

[14:40:00.0000] <smaug____>
so, very experimental stuff atm

[14:40:01.0000] <bga_>
hm

[14:40:02.0000] <bga_>
document.elementFromPoint({x: 0, y: 0})

[14:40:03.0000] <bga_>
is it standard feature?

[14:41:00.0000] <smaug____>
elementFromPoint is, but the parameter isn't

[14:41:01.0000] <bga_>
but chrome support object :)

[14:41:02.0000] <bga_>
ok

[14:41:03.0000] <bga_>
thanks

[14:42:00.0000] <smaug____>
huh

[14:45:00.0000] <bga_>
also

[14:46:00.0000] <bga_>
style.width = '1m'

[14:46:01.0000] <bga_>
is it meter or mile?

[14:46:02.0000] <zewt>
one light minute

[14:47:00.0000] <bga_>
chome gives me 968px in offsetWidth

[14:47:01.0000] <bga_>
but if i calc 100cm - its 3700px

[14:48:00.0000] <bga_>
hm


2012-01-09
[16:28:00.0000] <Hixie>
smaug____: (continuing discussion from yesterday about disabling buttons) no script libraries either

[16:29:00.0000] <Hixie>
smaug____: i just disabled all the addons except firebug and it still happens

[16:29:01.0000] <Hixie>
smaug____: only in firerfox

[16:29:02.0000] <Hixie>
smaug____: and it's a whole bunch of different unrelated buttons, too

[16:29:03.0000] <Hixie>
smaug____: can't seem to work out how to reproduce it though

[16:37:00.0000] <smaug____>
Hixie: Haven't heard of any bug reports about disabled buttons

[16:37:01.0000] <Hixie>
smaug____: yeah me either

[16:37:02.0000] <Hixie>
it has me baffled

[16:39:00.0000] <zewt>
an unusually targetted virus? heh

[16:40:00.0000] <Hixie>
smaug____: seems like it's probably https://bugzilla.mozilla.org/show_bug.cgi?id=592665 and https://bugzilla.mozilla.org/show_bug.cgi?id=654072

[16:45:00.0000] <smaug____>
Well, shift-reload doesn't keep form state

[16:46:00.0000] <smaug____>
Hixie: and you said shift-reload doesn't help

[16:46:01.0000] <smaug____>
so it is something new

[16:46:02.0000] <smaug____>
s/new/else/

[16:47:00.0000] <Hixie>
i might be mistaken about that. it's hard to say since it's intermittent.

[16:47:01.0000] <Hixie>
and i only see it some time after i did theload

[16:47:02.0000] <zewt>
if you're never disabling elements in the first place, 654072 shouldn't be relevant, i think

[16:48:00.0000] <Hixie>
some buttons get disabled, just not the ones that are getting mysteriously disabled

[16:48:01.0000] <Hixie>
/me wouldn't consider a button's disabled state to be "form state", btw

[16:48:02.0000] <Hixie>
i recommend not restoring disabled state :-)

[16:48:03.0000] <zewt>
that's pretty much verbatim what i just typed out in a comment on that bug :)

[17:09:00.0000] <GPHemsley>
annevk: Heh. Just noticed you're on the CC list for the bug 716422 I just filed. :)

[17:13:00.0000] <zewt>
gar, firefox console autocomplete is aggravating

[17:14:00.0000] <zewt>
needs to be tricked into *not* autocompleting when unwanted, heh

[17:16:00.0000] <GPHemsley>
/me has the same problem with Gmail search. FTW.

[18:39:00.0000] <bencc>
how does a websocket server should respond to a CONNECT request?

[00:00:00.0000] <annevk>
GPHemsley: not sure what that bug is about :)

[00:01:00.0000] <annevk>
GPHemsley: ooh, now I remember again

[00:02:00.0000] <annevk>
mebibytes ftw

[02:12:00.0000] <Ms2ger>
People who hadn't noticed it yet may be interested in http://www.w3.org/community/w3process/

[02:49:00.0000] <zcorpan>
"create small, clean, orthogonal specs"

[02:52:00.0000] <Ms2ger>
Clean specs?

[02:52:01.0000] <Ms2ger>
Let's outsource that to the XHTML2 WG

[03:30:00.0000] <hsivonen>
hmm. annevk isn't here.

[03:31:00.0000] <hsivonen>
it would be nice to make xhr.status say 200 for successful non-HTTP responses unless doing so breaks the Web

[03:32:00.0000] <Ms2ger>
Yeah, that's what I thought :)

[03:32:01.0000] <Ms2ger>
Also, Anne's off the grid from Wednesday

[03:33:00.0000] <hsivonen>
Ms2ger: oh ok. I was hoping to be able to report spec bugs via IRC log.

[05:43:00.0000] <annevk>
hsivonen: what does it report now for non-HTTP responses?

[05:44:00.0000] <annevk>
hsivonen: in general non-HTTP is not really thoroughly considered at the moment

[05:45:00.0000] <annevk>
hsivonen: my view is mostly that for non-HTTP protocols/schemes we should define how they work in an HTTP context because all APIs we have "assume" HTTP

[05:45:01.0000] <hsivonen>
annevk: reportedly, IE10 and Chrome say 200 while Opera and Firefox say 0

[05:45:02.0000] <annevk>
like for disk loads? or are we talking ftp?

[05:45:03.0000] <hsivonen>
annevk: blob: was the scheme that was tested

[05:45:04.0000] <annevk>
aah

[05:46:00.0000] <annevk>
hsivonen: http://dev.w3.org/2006/webapi/FileAPI/#processingModel

[05:46:01.0000] <annevk>
blob URLs already follow the model I want people to use

[05:46:02.0000] <annevk>
as they have been recently added I got that semi-addressed (not entirely pleased with the level of detail on HTTP headers yet)

[05:46:03.0000] <hsivonen>
annevk: and, yet, Firefox and Opera get blob: wrong

[05:47:00.0000] <annevk>
there's only so much I can do :)

[05:52:00.0000] <hsivonen>
annevk: you could add some informative notes to XHR to remind people that non-HTTP protocols should define their mappings to HTTP and give enough information for implementors to fill in the blanks when specs for non-http[s]: schemes fail to do so

[05:52:01.0000] <annevk>
where would be the best place to put that?

[05:53:00.0000] <hsivonen>
annevk: in the definition for each affected API

[05:53:01.0000] <annevk>
hmm

[05:53:02.0000] <hsivonen>
annevk: the definition of status should talk about 200 and 500

[05:53:03.0000] <hsivonen>
for example

[05:54:00.0000] <hsivonen>
and GetResponseHeader should talk about Content-Type

[05:54:01.0000] <annevk>
so status / statusText/ getResponseHeader / getAllResponseHeaders ?

[05:54:02.0000] <annevk>
well not just Content-Type, all headers are important

[05:57:00.0000] <annevk>
but this is also relevant to e.g. HTML

[05:57:01.0000] <annevk>
hmm

[06:01:00.0000] <hsivonen>
annevk: adding notes makes it a lot more likely that this gets implemented correctly

[06:02:00.0000] <annevk>
yeah I guess

[06:02:01.0000] <annevk>
it's just that I've tried to avoid redundancy in similar situations

[06:05:00.0000] <bencc>
does a websocket server need to handle HTTP CONNECT requests

[06:05:01.0000] <bencc>
or only a proxy needs to handle it if there is one?

[06:07:00.0000] <annevk>
doesn't the spec say?

[06:11:00.0000] <bencc>
annevk:  http://tools.ietf.org/html/rfc6455#section-4.1

[06:11:01.0000] <bencc>
it talks about the CONNECT request but I don't understand who should respond to it and how

[06:11:02.0000] <zewt>
_holy hell_ /that spec/

[06:12:00.0000] <zewt>
what the hell are they thinking?

[06:12:01.0000] <bencc>
?

[06:12:02.0000] <zewt>
To _Establish a WebSocket Connection_

[06:12:03.0000] <zewt>
A client will need to

[06:12:04.0000] <zewt>
supply a /host/, /port/, /resource name/, and a /secure/ flag

[06:12:05.0000] <bencc>
zewt: I don't understand

[06:13:00.0000] <zewt>
... someone might want to let them know that you can actually underline and italic with HTML

[06:14:00.0000] <Philip`>
zewt: Why is that relevant, when they're not writing HTML?

[06:14:01.0000] <zewt>
that's html.

[06:14:02.0000] <zewt>
terrible html, to be sure

[06:14:03.0000] <Philip`>
It's plain text auto-converted to HTML

[06:15:00.0000] <zewt>
i don't care about the authoring path (and I doubt anyone but the editor does)

[06:16:00.0000] <zewt>
(and surely they could convert those)

[06:16:01.0000] <Philip`>
I presume "let them know" was referring to the editor, who cares that they're only able to write plain text

[06:17:00.0000] <bencc>
what about the proxy? :)

[06:17:01.0000] <Philip`>
(as opposed to alerting the IETF people who make the decision to stick with plain text as the canonical spec format)

[06:19:00.0000] <annevk>
zewt: dude, all IETF specs are plain text

[06:19:01.0000] <annevk>
zewt: tools.ietf.org just provides a nicer view of them, the "actual" version is http://www.ietf.org/rfc/rfc6455.txt

[06:19:02.0000] <zewt>
they already have plenty of transforms; it'd pretty much be s/_(.?*)_/<u>\1</u>/g

[06:20:00.0000] <zewt>
(eg. section numbers become links)

[06:20:01.0000] <zewt>
(is that the right syntax for non-greedy matching? i always forget, since I don't use it much)

[06:21:00.0000] <annevk>
bencc: this is what the client sends: http://tools.ietf.org/html/rfc6455#section-1.3

[06:21:01.0000] <annevk>
bencc: so that is what you need to deal with

[06:22:00.0000] <annevk>
zewt: dunno if that would work for all RFCs

[06:22:01.0000] <annevk>
zewt: the syntax in the WebSocket spec is not universal

[06:22:02.0000] <bencc>
annevk:  what about this? CONNECT example.com:80 HTTP/1.1

[06:22:03.0000] <annevk>
bencc: I think that's only for proxies

[06:22:04.0000] <zewt>
annevk: i'm just surprised that my already more or less zero confidence in the IETF being able to write readable specs managed to drop yet another notch; but I guess I shouldn't be surprised

[06:23:00.0000] <annevk>
bencc: are you writing client or server software?

[06:23:01.0000] <bencc>
annevk: server

[06:23:02.0000] <bencc>
most of the requests works but recently I'm getting CONNECT requests which I don't know how to handle

[06:23:03.0000] <bencc>
my server directly gets requests with a proxy like haproxy

[06:23:04.0000] <bencc>
but maybe there is a proxy between the client and my server

[06:24:00.0000] <bencc>
I'm using port 8080

[06:24:01.0000] <Philip`>
zewt: .*?

[06:25:00.0000] <Philip`>
zewt: That'd be terrible when people write underscore_separated_names in their spec text

[06:25:01.0000] <annevk>
bencc: from my brief reading that sounds like a problem that's not your fault

[06:26:00.0000] <zewt>
it'd need adjustment for separators, etc

[06:26:01.0000] <Philip`>
At least if auto-linking makes a mistake, the reader can just ignore the link and it won't affect the interpretation of the text

[06:26:02.0000] <Philip`>
Removing _s and /s would be much more risky

[06:26:03.0000] <zewt>
(not going to try since I'm not actually interested in spending lots of time trying to convince the IETF to do something)

[06:26:04.0000] <bencc>
annevk: what do you mean and how should I handle it?

[06:27:00.0000] <annevk>
bencc: i.e. you should just conform to http://tools.ietf.org/html/rfc6455#section-4.2.1 and CONNECT does not so you should fail the request

[06:27:01.0000] <Velmont>
You don't have to kill the _'s either. can just do <u>_text_</u>  and  <em>/text</em>  it helps with reading.

[06:27:02.0000] <Philip`>
/me thinks that would make it even uglier

[06:28:00.0000] <bencc>
annevk: what about 4.1 3?

[06:28:01.0000] <bencc>
annevk: "_Proxy Usage_: If the client is configured to use a proxy when.."

[06:29:00.0000] <zewt>
should you just handle CONNECT the same way a regular HTTP server would? (Apache returns 405 Method Not Allowed)

[06:30:00.0000] <zewt>
(aka I'm Not A Proxy)

[06:30:01.0000] <bencc>
what can cause a client to send me a CONNECT request with Connection Close header?

[06:30:02.0000] <annevk>
bencc: that's how clients are supposed to deal with proxies

[06:31:00.0000] <annevk>
servers != proxies

[06:31:01.0000] <bencc>
annevk: the proxy should handle this request without passing it to my server?

[06:31:02.0000] <annevk>
yes, the proxy is supposed to open a TCP connection to your server and let the client use that to connect to your server

[06:31:03.0000] <annevk>
as I understand it

[06:32:00.0000] <zewt>
yep

[06:32:01.0000] <bencc>
so this is a bug in FF or the proxy server?

[06:32:02.0000] <zewt>
it's probably something goofier than that; a proxy server that didn't swallow the CONNECT header would be totally unusable

[06:33:00.0000] <zewt>
unless FF with proxy+websocket is just broken (that'd be surprising, though)

[06:34:00.0000] <Ms2ger>
zewt, I believe that's a remnant from Hixie's HTML->plain text transformation, actually

[06:36:00.0000] <annevk>
bencc: I suppose it could be either

[06:36:01.0000] <zewt>
i think the IETF just hates people reading their specs and wants to give them headaches :P

[06:37:00.0000] <annevk>
bencc: both browsers and proxies are known to be pretty weird

[06:38:00.0000] <zewt>
i'm somewhat confused that this spec mentions HTTP proxy details at all

[06:38:01.0000] <zewt>
rather than ignoring it as a transparent detail at another layer

[06:38:02.0000] <annevk>
not really sure what the point of that is either

[06:39:00.0000] <annevk>
maybe because in this case only the initial connection is HTTP and the rest is not

[06:39:01.0000] <annevk>
the TLS-only WebSocket design was so much neater

[06:42:00.0000] <hsivonen>
does Web Socket work nicely with Apache and mod_jk these days?

[06:42:01.0000] <annevk>
jk?

[06:42:02.0000] <annevk>
just kidding?

[06:43:00.0000] <hsivonen>
annevk: I believe it's short for Jakarta

[06:43:01.0000] <zewt>
same thing I thought, heh

[06:43:02.0000] <hsivonen>
annevk: for connecting to a servlet container supposedly more efficiently than by proxying HTTP

[06:46:00.0000] <annevk>
hsivonen: thanks for dealing with the document.write bug btw

[06:46:01.0000] <hsivonen>
annevk: you're welcome

[06:46:02.0000] <zewt>
the "i ignore parts of the spec when i know better" one?

[06:46:03.0000] <annevk>
hsivonen: it seemed somewhat reasonable to at least consider it

[06:46:04.0000] <hsivonen>
zewt: that one

[06:50:00.0000] <annevk>
AryehGregor_: where does http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#selections state when the associated range becomes non-null?

[06:52:00.0000] <AryehGregor>
annevk, 1) addRange(), 2) "The user agent should allow the user to change the selection."

[06:53:00.0000] <AryehGregor>
The idea of "is initially null" is just that <!doctype html><script>alert(getSelection().rangeCount); alerts 0.

[06:53:01.0000] <AryehGregor>
This could probably be made clearer.

[06:53:02.0000] <AryehGregor>
It's supposed to be null until the user actually selects something, or script sets it.

[06:54:00.0000] <AryehGregor>
Basically, what the selection looks like after user interaction is entirely undefined.

[06:54:01.0000] <AryehGregor>
Probably at some point it would be good to define it -- e.g., if the user selects something and then that thing gets deleted, or the user clicks somewhere so the selection is cleared, does the range become null again?

[06:54:02.0000] <AryehGregor>
I'd think so.

[06:54:03.0000] <AryehGregor>
But it's not specified.

[06:55:00.0000] <AryehGregor>
. . . Does that answer your question?

[06:56:00.0000] <annevk>
I'm interested in case 2)

[06:56:01.0000] <annevk>
I think what was not clear to people is that changing the selection makes a Range object appear

[06:56:02.0000] <annevk>
so maybe that should be explicit

[06:57:00.0000] <AryehGregor>
Would you like to file a bug?

[06:57:01.0000] <annevk>
sure

[06:57:02.0000] <AryehGregor>
Right now I'm working on transforms stuff.  I'll probably return to the editing spec for a while once I'm done with that.

[06:57:03.0000] <annevk>
k

[06:57:04.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=15470

[07:00:00.0000] <AryehGregor>
Is there a Bugzilla component for CSSOM View, or just CSSOM?

[07:01:00.0000] <zcorpan>
MikeSmith: ^

[07:01:01.0000] <MikeSmith>
just for CSSOM

[07:01:02.0000] <MikeSmith>
I can create another one if you want

[07:01:03.0000] <AryehGregor>
I've been told CSSOM View currently doesn't have an editor, so . . .

[07:01:04.0000] <annevk>
I'd first coordinate with the editors

[07:02:00.0000] <zcorpan>
Nobody, is it OK if we create a bugzilla component?

[07:03:00.0000] <annevk>
euhm

[07:03:01.0000] <annevk>
didn't Glenn Adams sign up for both?

[07:03:02.0000] <annevk>
and Shane Stephens?

[07:03:03.0000] <AryehGregor>
/me doesn't know, only knows it still says you're the editor but you said you're not

[07:03:04.0000] <AryehGregor>
I assume that if no one has even bothered changing the editor in the spec, it's probably not very actively maintained . . .

[07:04:00.0000] <annevk>
the day I resigned from the CSS WG I was told someone was taking over so I assumed that would be immediate

[07:04:01.0000] <annevk>
often I assume wrongly in new scenarios

[07:05:00.0000] <AryehGregor>
Maybe I'll volunteer to edit CSSOM for a while.  CSSOM interop is horrifyingly bad.

[07:05:01.0000] <zcorpan>
maybe they are responsible but haven't made any changes yet so didn't feel inclined to update the "editor" field

[07:05:02.0000] <AryehGregor>
And it's extremely frustrating sometimes.

[07:05:03.0000] <AryehGregor>
I had to spend lots of time hacking around it in my editing commands implementation.

[07:05:04.0000] <annevk>
Glenn explicitly asked me about the editor field weeks ago

[07:05:05.0000] <Ms2ger>
Enjoy dealing with The WG :)

[07:06:00.0000] <AryehGregor>
Is the CSSWG a pain to deal with?

[07:06:01.0000] <annevk>
it wasn't for me

[07:07:00.0000] <AryehGregor>
So far I haven't noticed it being a pain either.

[07:07:01.0000] <annevk>
I meant that in a different way; it seemed most people had different goals

[07:08:00.0000] <annevk>
to really fix the CSSOM, you have to fix the way the CSS model is defined

[07:08:01.0000] <AryehGregor>
How so?

[07:08:02.0000] <annevk>
because it's an API for the model

[07:09:00.0000] <annevk>
in theory defining an API is simple, you just say "return this bit from the model"

[07:09:01.0000] <AryehGregor>
What parts of the model aren't defined adequately?

[07:10:00.0000] <annevk>
but here you have to define some transformation on the model and return that, while not always being able to usefully reference the model

[07:10:01.0000] <annevk>
but maybe I was doing it wrong

[07:10:02.0000] <AryehGregor>
TBH, a lot of the stuff that bugged me was things like style="font-weight: bold" vs. style="font-weight: bold; " or such.  That should be fixable without much trouble.

[07:10:03.0000] <annevk>
well e.g. the box model offset*/client/scroll* attributes

[07:10:04.0000] <AryehGregor>
Hmm, right.

[07:11:00.0000] <annevk>
property serialization is indeed something that needs fixing, but also depends on the model

[07:11:01.0000] <annevk>
e.g. is the model that bold becomes 600, or does it stay bold, etc.

[07:11:02.0000] <annevk>
I pointed this out a few times, but it was basically up to me alone to fix the model

[07:12:00.0000] <annevk>
and then push that through the WG somehow

[07:12:01.0000] <annevk>
I didn't really want to get into that

[07:12:02.0000] <annevk>
I was hoping more people would be on board and see the problem, but it didn't work out that way

[07:13:00.0000] <annevk>
as far as dealing with the CSS WG goes, I guess the issue is mostly that you can only get people's attention at a F2F meeting and the discussion is not always focused there

[07:13:01.0000] <hsivonen>
/me learns about https://developer.mozilla.org/index.php?title=en/application%2F%2Fhttp-index-format_specification

[07:14:00.0000] <hsivonen>
https://developer.mozilla.org/en/application%2F%2Fhttp-index-format_specification rather

[07:24:00.0000] <zcorpan>
another application of the html parser?

[07:54:00.0000] <matjas>
annevk: “doing that just that”

[07:55:00.0000] <matjas>
s/honers/honors/

[07:55:01.0000] <annevk>
yay for matjas

[07:56:00.0000] <annevk>
new weekly everyone: http://blog.whatwg.org/happy-2012

[08:02:00.0000] <annevk>
ooh, now 7,129 subscribers according to Google Reader

[08:10:00.0000] <AryehGregor>
Yay, I found a point where there's a notable lack of interop.

[08:11:00.0000] <AryehGregor>
For transform and transform-origin, percentages are supposed to be relative to the border box.

[08:11:01.0000] <AryehGregor>
Everyone does the actual transforms that way, but for getComputedStyle(), IE treats percentages as relative to the padding box, and Chrome 17 dev relative to the content box.

[08:14:00.0000] <annevk>
if you've been working on this for a while that's surprising

[08:14:01.0000] <AryehGregor>
Yeah, interop is quite good.

[08:14:02.0000] <AryehGregor>
I've heard 3D transforms are worse.

[08:15:00.0000] <AryehGregor>
Of course, transitions and animations are probably a mess, but those are going to be a real pain to test anyway . . .

[08:37:00.0000] <dglazkov>
good morning, Whatwg!

[08:38:00.0000] <AryehGregor>
So, so far there's perfect interop on the visual results of 2D transforms, except that Opera sometimes slightly exceeds my 1.5px error margin for rotations.

[08:38:01.0000] <AryehGregor>
The only lack of interop so far is computed values.

[08:38:02.0000] <GPHemsley>
annevk: Agreed.

[08:39:00.0000] <AryehGregor>
But I'm only written a 487-line test file so far.

[08:39:01.0000] <AryehGregor>
I'm sure I'll find something.

[08:39:02.0000] <annevk>
GPHemsley: ah, we're back to conversing about mebibytes :)

[08:40:00.0000] <annevk>
/me has been trying to write something coherent about XML5

[08:40:01.0000] <GPHemsley>
annevk: Yup. Gotta keep you on your toes. :)

[08:40:02.0000] <annevk>
Introduction: XML is hard.

[09:04:00.0000] <AryehGregor>
Now I found an Opera bug, but it's really table-related, not transform-related: height on a table seems to control the height of the border box, not the content box.

[09:07:00.0000] <jgraham>
AryehGregor: Seems to be already bugged

[09:08:00.0000] <AryehGregor>
k.

[09:13:00.0000] <gsnedders>
I presume WebKit doesn't do that anymore, then?

[09:13:01.0000] <gsnedders>
WebKit used the quirks box-model for tables for years

[09:15:00.0000] <AryehGregor>
Doesn't seem to.

[09:16:00.0000] <gsnedders>
That bug goes back to when I did WebKit stuff, so yeah.

[09:16:01.0000] <gsnedders>
Though it goes all the way back to KHTML.

[10:45:00.0000] <Ms2ger>
Why's this forums guy going on about Mosaic?

[12:22:00.0000] <annevk>
http://www.reddit.com/r/videos/comments/o98ty/pow_blinking_in_morse_code_to_spell_torture/c3ff18w reading about history on reddit is so much more fun

[14:59:00.0000] <Hixie>
of all the features i've specced over the years, none has had as many people trying to use it for unexpected purposes than appcache

[14:59:01.0000] <Hixie>
on www-html, someone is asking for how to embed a manifest inside an HTML file because they want to make their app a one-file app.

[14:59:02.0000] <Hixie>
...what?

[15:10:00.0000] <Hixie>
is Smylers ever on IRC?

[15:48:00.0000] <Hixie>
ooo, there's a CSS Product now in bugzilla

[15:48:01.0000] <Hixie>
is this new?

[15:48:02.0000] <Hixie>
looks like it's new as of a few months ago

[15:49:00.0000] <Hixie>
good to know

[15:59:00.0000] <MikeSmith>
Hixie: it was there for a while  but we added some more components to it

[15:59:01.0000] <MikeSmith>
if you want any other components added, lemme know


2012-01-10
[16:05:00.0000] <Hixie>
k

[16:06:00.0000] <Hixie>
i just needed somewhere to offload HTML WG bugs when they were really CSS bugs

[16:06:01.0000] <Hixie>
so the misc component is enough for my purposes

[16:07:00.0000] <Hixie>
it's fascinating to me how browser vendors are always complaining about how it should be easier to follow the spec changing, but of the dozens of people who have subscribed to the spec's notification mechanism, only a handful are browser vendors

[16:08:00.0000] <Hixie>
i mean, who are all these people who are following the spec so closely?

[16:09:00.0000] <Philip`>
People who like to subscribe to everything possible and then filter it out instead of actually reading it?

[16:11:00.0000] <dglazkov>
/me realizes how demeaning the term "browser vendor" sounds. Heeeeere's some browsers! Get a browser! Fresh, hot browsers!

[16:12:00.0000] <dglazkov>
it totally misrepresents the slow and painful slog that is writing browser software.

[16:12:01.0000] <dglazkov>
can we rename us to browser sisyphuses?

[16:13:00.0000] <dglazkov>
or possibly something without sissy and fusses in them?

[16:14:00.0000] <dglazkov>
ah. I forgot a :)

[16:14:01.0000] <dglazkov>
just in case I offended Hixie

[16:14:02.0000] <dglazkov>
:)

[16:15:00.0000] <Hixie>
:-P

[16:15:01.0000] <Hixie>
you'll have to work harder than that to offend me :-P

[16:15:02.0000] <dglazkov>
I dare not. The bar is too high.

[16:16:00.0000] <divya>
treebeard browsers?

[16:16:01.0000] <Hixie>
Philip`: actually because of the info in the subscription mails, i think it's better now to just subscribe to all the topics than it is to use the commit list

[16:16:02.0000] <Hixie>
i should see how many people subscribed to that though

[16:17:00.0000] <Hixie>
wow, 249 people

[16:18:00.0000] <Hixie>
wow, including quite a few browser vendors

[16:18:01.0000] <Hixie>
philip's theory is proved right, i guess

[17:53:00.0000] <MikeSmith>
dglazkov: the Japanese transliteration of "vendor" is the same as the transliteration of "bender"

[17:54:00.0000] <MikeSmith>
so let's start saying "browser benders" instead

[17:55:00.0000] <MikeSmith>
btw, speaking of benders: "Electricity attracts devils and demons. Other instruments attract other spirits. An acoustic guitar attracts Casper. A mandolin attracts Wendy. But an electric guitar attracts Beelzebub." http://blog.wfmu.org/freeform/2009/03/captain-beefhearts-10-commandments-of-guitar-playing.html

[18:24:00.0000] <MikeSmith>
web-apps-tracker busted?

[18:24:01.0000] <MikeSmith>
annevk: ↑

[18:24:02.0000] <MikeSmith>
http://html5.org/tools/web-apps-tracker

[18:25:00.0000] <MikeSmith>
wow

[18:25:01.0000] <MikeSmith>
load average: 3.88, 4.97, 6.40

[18:31:00.0000] <Hixie>
well that means it's getting better

[18:33:00.0000] <MikeSmith>
yeah

[18:33:01.0000] <MikeSmith>
um, I think it's my fault

[18:33:02.0000] <MikeSmith>
because I tweeted about the e-mail regexp

[18:34:00.0000] <MikeSmith>
geeks love that crap

[18:34:01.0000] <MikeSmith>
fish food

[18:35:00.0000] <MikeSmith>
/me apologizes to html5.org server for harshing his mellow

[18:35:01.0000] <Hixie>
that explains whatwg.org being down too then

[18:35:02.0000] <Hixie>
who knew that would be that popular

[18:37:00.0000] <MikeSmith>
code snippet of any kind is like catnip for the geek

[18:39:00.0000] <Hixie>
i guess

[18:39:01.0000] <Hixie>
but this is silly

[18:39:02.0000] <Hixie>
i can't even get into hixie.ch to see what's actually happening

[18:39:03.0000] <Hixie>
wtf

[18:40:00.0000] <jamesr_>
hixie.ch down?

[18:40:01.0000] <jamesr_>
is it all the same dreamhost?

[18:40:02.0000] <Hixie>
same server as whatwg.org

[18:40:03.0000] <jamesr_>
/me was trying to make a testcase :(

[18:40:04.0000] <Hixie>
i could increase the virtual host allocation briefly

[18:40:05.0000] <Hixie>
but that sounds like work

[18:42:00.0000] <MikeSmith>
not sure it was actually my bad

[18:42:01.0000] <MikeSmith>
but the timing seems more than coincidental

[18:43:00.0000] <MikeSmith>
please call me El Destructo

[18:43:01.0000] <Hixie>
i'll check the logs if i remember later when it comes back up

[18:43:02.0000] <MikeSmith>
k

[18:43:03.0000] <MikeSmith>
twitter regexp lovebomb

[18:44:00.0000] <MikeSmith>
jwz would be proud

[18:44:01.0000] <Hixie>
clearly everyone is just like "holy crap, hixie started editing again". :-P

[18:44:02.0000] <Hixie>
bbiab

[18:47:00.0000] <MikeSmith>
"Hixie: The Resurrection"

[18:48:00.0000] <MikeSmith>
now with more regexp

[18:59:00.0000] <MikeSmith>
load average: 10.79, 8.84, 8.36

[19:32:00.0000] <Hixie>
well looks like the bulk of the load i'm getting is from 2607:f298:1:105::72a:42f3

[19:34:00.0000] <Hixie>
no idea who that is but i'm guessing html5.org maybe?

[19:34:01.0000] <MikeSmith>
eh?

[19:34:02.0000] <MikeSmith>
oh

[19:34:03.0000] <MikeSmith>
ipv6

[19:36:00.0000] <MikeSmith>
Hixie: nope

[19:36:01.0000] <MikeSmith>
I think

[19:37:00.0000] <MikeSmith>
html5.org is 2607:f298:1:103::d75:8e6d

[19:37:01.0000] <MikeSmith>
or claims to be at least

[19:37:02.0000] <Hixie>
same subnet then

[19:37:03.0000] <MikeSmith>
ah, OK

[19:37:04.0000] <Hixie>
whatever host it is is hammering me doing OPTIONS * on hixie.ch

[19:37:05.0000] <MikeSmith>
I dunno jack about reading ipv6 addresses

[19:38:00.0000] <Hixie>
which is what i see when someone does a lot of svn stuff

[19:38:01.0000] <MikeSmith>
hmm

[19:38:02.0000] <MikeSmith>
of course web-apps-tracker calls svn

[19:38:03.0000] <MikeSmith>
on whatever other host

[19:40:00.0000] <Hixie>
oh wait

[19:40:01.0000] <Hixie>
i'm an idiot

[19:40:02.0000] <Hixie>
2607:f298:1:105::72a:42f3 is hixie.ch, and an OPTIONS * request from that IP on this dashboard means nothing's happening -_-

[19:40:03.0000] <Hixie>
i'm gonna go now before i say anything else dumb.

[19:43:00.0000] <MikeSmith>
heh

[19:43:01.0000] <MikeSmith>
seems to be OK now at least

[19:44:00.0000] <MikeSmith>
nerd interest now fully turned back to rage comic subreddit

[19:45:00.0000] <MikeSmith>
Hixie: btw, go see Paul if you haven't already

[19:45:01.0000] <MikeSmith>
my daughter talked me into going to see it with her

[19:45:02.0000] <MikeSmith>
a

[19:45:03.0000] <MikeSmith>
and we laughed all the way through

[19:46:00.0000] <MikeSmith>
her because she's a 13 year old and me because I'm mentally still pretty much still 13

[19:48:00.0000] <MikeSmith>
Hixie: and in other news, when you have time please glance through http://dvcs.w3.org/hg/url/raw-file/f1e294d18a68/Overview.html and let me know if it looks like it's headed in the right direction

[19:52:00.0000] <Hixie>
MikeSmith: did you end up editor?

[19:53:00.0000] <MikeSmith>
well, shadow editor for now

[19:53:01.0000] <Hixie>
poor sucker

[19:53:02.0000] <MikeSmith>
heh

[19:53:03.0000] <Hixie>
from a quick glance it looks good

[19:53:04.0000] <MikeSmith>
so far I just attempted to melt together what Adam had done in the IETF draft and what you had in the spec and what Adam had for the URL API

[19:54:00.0000] <MikeSmith>
the parsing algorithms are from Adam's IETF draft rather than what was in the spec

[19:54:01.0000] <MikeSmith>
because I assume Adam has good reasons for doing those differently

[19:54:02.0000] <Hixie>
two quick comments if you're editing tha spec:

[19:54:03.0000] <MikeSmith>
/me nods

[19:54:04.0000] <Hixie>
1. there's a bunch of bugs in the w3c bugzilla to look at

[19:54:05.0000] <Hixie>
look for things assigned to adam or with "url" in the whiteboard or summary

[19:55:00.0000] <Hixie>
2. one of the core design decisions to make is whether any arbitrary string should always parse or whether it's possible for parsing to fail

[19:55:01.0000] <Hixie>
different browsers differ on #2

[19:55:02.0000] <Hixie>
it would be good to make an executive decision on 2 early on since it would inform feedback on the algorithms

[19:55:03.0000] <Hixie>
and will affect other specs the most

[19:56:00.0000] <MikeSmith>
yeah, knew that fail part from talking with Adam and perusing the Webkit test cases

[19:56:01.0000] <MikeSmith>
OK

[19:56:02.0000] <MikeSmith>
(about the executive decision)

[19:56:03.0000] <Hixie>
also if you can sever any ties to the URL RFCs i think everyone's life in #whatwg will be easier on the long run :-)

[19:56:04.0000] <MikeSmith>
oh

[19:57:00.0000] <MikeSmith>
OK

[19:57:01.0000] <MikeSmith>
will try to do that then

[19:57:02.0000] <Hixie>
well i expect that's politically too difficult to do

[19:57:03.0000] <MikeSmith>
well, we can take that as a challenge, then, I guess

[19:57:04.0000] <Hixie>
hah

[19:57:05.0000] <Hixie>
it would mean adding a whole bit about authoring conformance criteria and semantics

[19:57:06.0000] <Hixie>
so it's also quite a bunch of work

[19:57:07.0000] <MikeSmith>
oh

[19:58:00.0000] <MikeSmith>
that doesn't sound like fun

[19:58:01.0000] <Hixie>
it would have the advantage of finishing the dichotomy of IRI vs URI

[19:58:02.0000] <MikeSmith>
yeah

[19:58:03.0000] <Hixie>
yeah it wouldn't be fun

[19:58:04.0000] <Hixie>
why do you think i deferred to the rfcs :_P

[19:58:05.0000] <MikeSmith>
heh

[19:59:00.0000] <MikeSmith>
plan is for me and Anne to work on this when he gets back next month

[19:59:01.0000] <MikeSmith>
hopefully he might find it slightly more fun than working on the Encodings spec

[20:00:00.0000] <Hixie>
hah

[20:00:01.0000] <Hixie>
it's like a hot potato

[20:01:00.0000] <MikeSmith>
heh

[20:01:01.0000] <MikeSmith>
yeah, hoping to just end it

[20:02:00.0000] <MikeSmith>
it's been fun but 3 years of hot potato is probably enough .. the novelty of it wears off a bit

[20:02:01.0000] <Hixie>
3?

[20:02:02.0000] <Hixie>
we first started speccing url parsing more than half a decade ago

[20:02:03.0000] <Hixie>
no?

[20:02:04.0000] <Hixie>
maybe it just feels that long

[20:05:00.0000] <MikeSmith>
I mean the more recent related drama with the Bearded Ones about it

[20:05:01.0000] <MikeSmith>
metaphorically (neck)bearded

[20:05:02.0000] <MikeSmith>
which I metaphorically count myself to be a junior member of

[20:06:00.0000] <MikeSmith>
I've just not yet achieved anywhere near that level of ability for how-many-angels-on-the-head-of-a-pin discussion

[20:07:00.0000] <MikeSmith>
anyway

[20:07:01.0000] <MikeSmith>
we will make it right eventually

[20:07:02.0000] <MikeSmith>
along with other needed stuff

[20:09:00.0000] <MikeSmith>
though hoping that Anne's current enthusiasm doesn't wane

[20:09:01.0000] <MikeSmith>
and he doesn't get distracted by taking up model rocketry or something

[20:11:00.0000] <MikeSmith>
though I have to say Anne has a way of doing spec writing that takes it down to the bone

[20:11:01.0000] <MikeSmith>
Hixie: your specs have some personality

[20:11:02.0000] <MikeSmith>
one can feel the love

[20:30:00.0000] <MikeSmith>
Hixie: ain't finding any open bugs assigned to Adam except https://www.w3.org/Bugs/Public/show_bug.cgi?id=10213

[20:31:00.0000] <MikeSmith>
/me wonders if Adam might be using multiple addresses

[20:42:00.0000] <jamesr>
hmm. question: i have a page.html and page.css. in page.html within an inline <svg> element i have a set of <pattern>s defined in a <defs> and a few <rect>s that are visible. in page.css, i have fill:url(#patternId) set for a few rect

[20:42:01.0000] <jamesr>
the patterns show up in webkit but not in gecko or presto

[20:43:00.0000] <jamesr>
is this user error or expected?

[20:43:01.0000] <jamesr>
specifying fill:blue or fill:hsl(5, 6, 6) works in all browsers

[20:44:00.0000] <shepazu>
jamesr: have you tried fill:url(page.html#patternId) ?

[20:44:01.0000] <jamesr>
/me tries

[20:45:00.0000] <jamesr>
aha! that works

[20:45:01.0000] <jamesr>
what if i wanted to move these patterns to an external svg to reuse? would that work?

[20:45:02.0000] <jamesr>
also, where am i supposed to look this sort of thing up?

[20:45:03.0000] <shepazu>
nasty spec bug in CSS around relative uris in property values… I think roc's proposed a fix for that

[20:46:00.0000] <roc>
jamesr: that is a webkit bug I guess

[20:46:01.0000] <jamesr>
yeah looks like WK uses the wrong base

[20:46:02.0000] <shepazu>
jamesr: it should work, but I think WebKit is still waiting on a patch for that… and I don't know the status of external resources in SVG for Gecko

[20:47:00.0000] <roc>
external resources work fine in Gecko

[20:47:01.0000] <shepazu>
great

[20:47:02.0000] <roc>
in fact, that's what page.html#patternId will do

[20:47:03.0000] <roc>
I think it will reload page.html as an external resource

[20:47:04.0000] <shepazu>
ugh

[20:47:05.0000] <roc>
but I'm not 100% sure about that

[20:47:06.0000] <roc>
anyway

[20:47:07.0000] <jamesr>
roc: gecko has an ugly bug with tiling

[20:48:00.0000] <roc>
jamesr: you can put your resources in a style-resources.html file and reference that

[20:48:01.0000] <roc>
it would be kinda neat if you could have an XML island in your CSS file and reference resources there

[20:48:02.0000] <roc>
tiling bug? do tell

[20:48:03.0000] <jamesr>
ah, presto has the cracks too. i have a repeated diagnoal line

[20:49:00.0000] <jamesr>
aha! it only looks good in chrome because we don't AA the line at all

[20:49:01.0000] <jamesr>
in gecko/presto the line is antialiased and the ends of the line segment look different from the middle

[20:49:02.0000] <roc>
:-)

[20:49:03.0000] <jamesr>
so it doesn't tile correctly

[20:50:00.0000] <jamesr>
not sure if the way patterns repeat is supposed to be "raster a square, repeat" or something logical where the line is supposed to be continuous across tiles

[20:50:01.0000] <roc>
I believe it's the former

[20:50:02.0000] <jamesr>
do SVG specs punt on antialiasing behavior like CSS?

[20:50:03.0000] <jamesr>
and HTML?

[20:51:00.0000] <roc>
yes

[20:51:01.0000] <roc>
you don't really want rasterization to be locked into a spec, do you?

[20:53:00.0000] <jamesr>
as an implementor hell no

[20:55:00.0000] <jamesr>
well hurray! now my page works in gecko/presto but not webkit :)

[20:55:01.0000] <shepazu>
:(

[20:56:00.0000] <shepazu>
maybe you can patch webkit...

[20:56:01.0000] <roc>
if only you knew someone who was an awesome Webkit hacker!

[20:59:00.0000] <jamesr>
our svg impl is kind of ... unique

[20:59:01.0000] <jamesr>
pretty sure <text> in an external SVG still only works if the svg is loaded as an <object type="image/svg+xml">

[21:00:00.0000] <shepazu>
jamesr: you might look at this bug https://bugs.webkit.org/show_bug.cgi?id=12499

[21:00:01.0000] <shepazu>
which someone is patching

[21:00:02.0000] <jamesr>
that's a scary low bug number

[21:01:00.0000] <jamesr>
my use case isn't related to <use> is it?

[21:02:00.0000] <shepazu>
not directly, probably not at all, but the external refs thing is what I was thinking of

[21:02:01.0000] <jamesr>
activity as of last week though

[21:05:00.0000] <MikeSmith>
didn't now webkit actually supported font-feature-settings. had thought it was just in gecko (and now trident)

[21:06:00.0000] <MikeSmith>
though apparently not supported on osx yet

[21:06:01.0000] <MikeSmith>
https://bugs.webkit.org/show_bug.cgi?id=69826#c0

[21:08:00.0000] <jamesr>
hm, but it works elsewhere?

[21:11:00.0000] <MikeSmith>
jamesr: yeah, apparently

[21:11:01.0000] <MikeSmith>
didn't know til I saw a G+ posting from IET about it today

[21:12:00.0000] <MikeSmith>
https://plus.google.com/108784309450471378435/posts/ZywfbW1MmJj

[21:13:00.0000] <jamesr>
is the syntax from http://blogs.msdn.com/b/ie/archive/2012/01/09/css-corner-using-the-whole-font.aspx for real?

[21:13:01.0000] <jamesr>
"ss06" on; ?

[21:13:02.0000] <jamesr>
-ms-font-feature-settings: "c2sc" 1,"smcp" 1;

[21:15:00.0000] <MikeSmith>
/me compares with https://developer.mozilla.org/en/CSS/-moz-font-feature-settings

[21:16:00.0000] <MikeSmith>
hmm

[21:16:01.0000] <MikeSmith>
su

[21:16:02.0000] <jamesr>
so it's just a pass-through to the opentype API

[21:16:03.0000] <MikeSmith>
pp

[21:16:04.0000] <MikeSmith>


[21:16:05.0000] <MikeSmith>


[21:16:06.0000] <MikeSmith>


[21:16:07.0000] <MikeSmith>
oops

[21:16:08.0000] <MikeSmith>
yeah, but spec says the whole list is supposed to be quoted

[21:18:00.0000] <MikeSmith>
actually, no it doesn't

[21:18:01.0000] <MikeSmith>
<feature-tag-value> = <string> [ <integer> | on | off ]?

[21:18:02.0000] <MikeSmith>
and example: font-feature-settings: "smcp", "swsh" 2;

[21:19:00.0000] <MikeSmith>
at least if that's actually the current spec

[21:20:00.0000] <MikeSmith>
which maybe it's ain't since it's under TR/

[21:20:01.0000] <MikeSmith>
/me compares it to http://dev.w3.org/csswg/css3-fonts/

[21:20:02.0000] <MikeSmith>
where's nattokirai when you need him?

[21:22:00.0000] <nattokirai>
hey

[21:22:01.0000] <MikeSmith>
yeah, editor's draft has it the same

[21:22:02.0000] <MikeSmith>
http://dev.w3.org/csswg/css3-fonts/#ltfeature-tag-valuegt

[21:22:03.0000] <MikeSmith>
nattokirai: hey man

[21:22:04.0000] <nattokirai>
neat, ms has font feature support

[21:22:05.0000] <MikeSmith>
Y NOT GECKO MATCH TEH SPEC?

[21:22:06.0000] <nattokirai>
but note that moz uses *old* syntax

[21:22:07.0000] <MikeSmith>
ah

[21:22:08.0000] <MikeSmith>
well

[21:22:09.0000] <nattokirai>
old syntax: font-feature-settings: "liga=1";

[21:23:00.0000] <MikeSmith>
yar

[21:23:01.0000] <nattokirai>
new syntax: font-feature-settings: "liga" 1;

[21:24:00.0000] <nattokirai>
jamesr: it's a pass-thru to the shaping API

[21:24:01.0000] <nattokirai>
in the MS case, DirectWrite, in our case, the Harfbuzz shaping library

[21:28:00.0000] <nattokirai>
jamesr: but keep in mind that's the low-level feature mechanism

[21:28:01.0000] <nattokirai>
jamesr: there are higher-level properties that will expose access to all the commonly used features

[21:29:00.0000] <jamesr>
i don't know anything about shaping engines. it does look pretty ugly, though

[21:29:01.0000] <nattokirai>
yup

[21:30:00.0000] <nattokirai>
the higher-level properties are more CSS-like

[21:30:01.0000] <nattokirai>
e.g. http://dev.w3.org/csswg/css3-fonts/#font-variant-ligatures-prop

[21:31:00.0000] <nattokirai>
jamesr: note that in the spec, these can also be set within @font-face rules

[21:32:00.0000] <nattokirai>
jamesr: as a form of per-font default

[22:11:00.0000] <hsivonen>
annevk: do you know the answer to bz's question: https://bugzilla.mozilla.org/show_bug.cgi?id=716579#c8 ?

[22:14:00.0000] <MikeSmith>
nattokirai: so gecko doesn't rely on Core Text?

[22:14:01.0000] <jamesr>
what's tantek go by here?

[22:15:00.0000] <nattokirai>
MikeSmith: currently only for Indic scripts

[22:15:01.0000] <MikeSmith>
jamesr: usually "tantek"

[22:15:02.0000] <MikeSmith>
nattokirai: OK

[22:15:03.0000] <jamesr>
hm, guess he's not around

[22:15:04.0000] <nattokirai>
b/c OSX only has AAT fonts for Indic

[22:15:05.0000] <MikeSmith>
oh

[22:15:06.0000] <MikeSmith>
jamesr: yeah, he's not here super often

[22:16:00.0000] <nattokirai>
where AAT == Apple Advanced Typography

[22:16:01.0000] <MikeSmith>
or at least has not been so much in the past couple years

[22:16:02.0000] <MikeSmith>
though been around more recently

[22:16:03.0000] <nattokirai>
which is in many ways better then OpenType but no longer supported by font vendors

[22:16:04.0000] <MikeSmith>
I see

[22:16:05.0000] <MikeSmith>
nattokirai: I asked because the Core Text dependency seems to be what's complicating the WebKit implementation

[22:17:00.0000] <nattokirai>
yup

[22:17:01.0000] <nattokirai>
that's the webkit mo, to do text shaping via the os

[22:18:00.0000] <nattokirai>
and coretext support for opentype is somewhat limited

[22:18:01.0000] <MikeSmith>
yeah, I saw that in Kenichi's comment as well

[22:19:00.0000] <nattokirai>
you're looking at a bug somewhere?

[22:19:01.0000] <MikeSmith>
yeah, https://bugs.webkit.org/show_bug.cgi?id=69826#c0

[22:19:02.0000] <MikeSmith>
tradeoffs abound I guess

[22:20:00.0000] <MikeSmith>
it seems like the general Gecko approach is to minimize platform code as much as possible

[22:20:01.0000] <MikeSmith>
is that right?

[22:23:00.0000] <nattokirai>
well, not entirely but in this case it makes everything simpler to do the shaping ourselves

[22:24:00.0000] <nattokirai>
osx support is limited and android non-existent

[22:24:01.0000] <MikeSmith>
ah

[22:25:00.0000] <nattokirai>
in particular, we wanted to avoid uniscribe on windows for security reasons

[22:25:01.0000] <nattokirai>
related to downloadable fonts

[22:25:02.0000] <MikeSmith>
oh

[22:25:03.0000] <jamesr>
like http://www.computerworld.com/s/article/9221498/Duqu_exploits_same_Windows_font_engine_patched_last_month_Microsoft_confirms ?

[22:26:00.0000] <MikeSmith>
hmm

[22:27:00.0000] <MikeSmith>
jamesr: did MS actually patch that yet or not?

[22:27:01.0000] <jamesr>
i dunno, i don't follow that stuff terribly closely

[22:27:02.0000] <MikeSmith>
OK

[22:28:00.0000] <jamesr>
some people @google built http://code.google.com/p/ots/ to try to mitigate those sorts of issues on windows

[22:28:01.0000] <MikeSmith>
/me takes a look

[22:28:02.0000] <MikeSmith>
hey it's tantek

[22:28:03.0000] <MikeSmith>
maybe

[22:29:00.0000] <jamesr>
tantek: yo!

[22:29:01.0000] <tantek>
hey MikeSmith you called?

[22:29:02.0000] <MikeSmith>
jamesr was looking for you

[22:29:03.0000] <jamesr>
just fyi and you may already know this, but google-chrome-browser.com is nothing to do with us

[22:30:00.0000] <tantek>
yeah it looked a little spammy but shall we say it's been hard to search for official chrome docs recently (perhaps due to the demotion of chrome sites due to the paid blogging fiasco?)

[22:30:01.0000] <jamesr>
i think only google.com/chrome was demoted, our developer documentation shouldn't have been hit

[22:31:00.0000] <tantek>
or perhaps there is no chrome documentation of beforeload

[22:31:01.0000] <jamesr>
most likely

[22:32:00.0000] <MikeSmith>
so that site is from whoever https://twitter.com/#!/ChromeBrowser is

[22:33:00.0000] <MikeSmith>
which twitter account I seem to remember doing something obnoxious last year

[22:33:01.0000] <MikeSmith>
like, anti-Firefox and/or anti-IE trolling

[22:34:00.0000] <jamesr>
people spreading information is great but i don't want people getting confused, especially since it looks like deep links don't have the disclaimer that google-chrome-browser.com does

[22:39:00.0000] <MikeSmith>
cool to see mention there for Boris Zbarsky's $1000 security-bug bounty

[22:39:01.0000] <MikeSmith>
seems like it's not the first time he found one

[22:41:00.0000] <MikeSmith>
jamesr: so can OpenType sanitization be performed fast enough that it could be done in the browser?

[22:42:00.0000] <annevk>
hsivonen: replied

[22:44:00.0000] <jamesr>
MikeSmith: i'm not intimately familiar with it, but i don't think that this would be a super hot path

[22:44:01.0000] <MikeSmith>
I see

[22:46:00.0000] <hsivonen>
annevk: thanks

[22:52:00.0000] <hsivonen>
/me wonders how different UI Spanish is between Argentina, Chile and Mexico or how different UI Bengali is between India and Bangladesh

[22:52:01.0000] <hsivonen>
or how different UI English is between the UK and South Africa

[23:05:00.0000] <annevk>
someone should HTTP behavior for data URLs

[23:05:01.0000] <annevk>
define /\

[23:13:00.0000] <annevk>
http://blog.fonts.com/2012/01/09/monotype-imaging-and-google-collaborate-to-make-web-fonts-better/

[23:14:00.0000] <annevk>
http://www.w3.org/Submission/MTX/ RF

[23:15:00.0000] <annevk>
lot of C code there

[23:26:00.0000] <hsivonen>
I'm disappointed that http://en.wikipedia.org/wiki/Rule_110 doesn't link to a List of Numbered Rules

[23:28:00.0000] <hsivonen>
annevk: so we had to get everyone to deploy WOFF first

[23:30:00.0000] <annevk>
they seemed to have some kind of alliance with Microsoft before, kind of surprised this is announced jointly with Google

[23:30:01.0000] <annevk>
prolly some money involved

[23:48:00.0000] <MikeSmith>
that looks like a genuine RF-for-any-possible-purpose license

[23:48:01.0000] <tantek>
hsivonen - here's a list of numbered rules: http://en.memory-alpha.org/wiki/Rules_of_Acquisition

[23:52:00.0000] <annevk>
MikeSmith: yeah, looks great, although is 15% savings worth the added complexity? especially with a format documented as a bunch of C code...

[23:52:01.0000] <annevk>
MikeSmith: reminds me of webm, wonder if that has improved yet...

[23:53:00.0000] <tantek>
MikeSmith, would be nice if folks would simply pick a standard license like CC0/OWFa rather than something "that looks like a genuine RF-for-any-possible-purpose license"

[23:53:01.0000] <MikeSmith>
yeah, there's no real spec for webm yet afaik

[23:53:02.0000] <MikeSmith>
tantek: yeah, but large companies don't seem to do that

[23:54:00.0000] <annevk>
heh, twitter brought html5.org down?

[23:54:01.0000] <MikeSmith>
I guess the the existing webm implementation can count as the spec

[23:54:02.0000] <annevk>
ooh, it brought svn.whatwg.org down

[23:54:03.0000] <MikeSmith>
and for MTX too

[23:54:04.0000] <MikeSmith>
annevk: yeah, not sure but seems like

[23:54:05.0000] <MikeSmith>
due to the timing

[23:54:06.0000] <Hixie>
i didn't investigate closely what happened on my end

[23:55:00.0000] <Hixie>
so not sure

[23:55:01.0000] <annevk>
hmm, I wonder if caching is still turned on

[23:56:00.0000] <hsivonen>
/me had forgotten about those numbered rules

[00:03:00.0000] <annevk>
hsivonen: fwiw; we've a patch for BOM overriding HTTP already

[00:03:01.0000] <annevk>
hsivonen: we = Opera

[00:04:00.0000] <hsivonen>
annevk: ok. I guess I should get around to writing one, too

[00:04:01.0000] <hsivonen>
annevk: for all file formats or just HTML?

[00:05:00.0000] <annevk>
hsivonen: all

[00:06:00.0000] <annevk>
hsivonen: though unlike WebKit we'd still allow user overrides

[00:08:00.0000] <MikeSmith>
man, twitter says 100+ people retweeted that e-mail regexp tweet

[00:08:01.0000] <MikeSmith>
in the wrong hands twitter is a dangerous weapon

[00:08:02.0000] <divya>
it is dangerous in all cases

[00:09:00.0000] <MikeSmith>
divya: twitter luvs you

[00:09:01.0000] <MikeSmith>
you should love it right back

[00:09:02.0000] <divya>
hahahah

[00:10:00.0000] <divya>
its so trivial to RT or say anything in 140 chars :(

[00:10:01.0000] <MikeSmith>
that's the fun of it!

[00:11:00.0000] <divya>
:)

[00:11:01.0000] <Philip`>
/me looked at MTX a while ago, and decided that he hated it, since reverse-engineering incomplete fragments of untestable pseudo-C code doesn't sound like fun

[00:11:02.0000] <MikeSmith>
there you go, more fun

[00:12:00.0000] <MikeSmith>
in other news, there's now an actual Browser Automation API spec

[00:12:01.0000] <MikeSmith>
aka WebDriver

[00:12:02.0000] <MikeSmith>
(which name probably really needs to actually change to Browser Automation API)

[00:12:03.0000] <MikeSmith>
http://dvcs.w3.org/hg/webdriver/raw-file/tip/webdriver-spec.html

[00:14:00.0000] <Ms2ger>
Bah, respec

[00:14:01.0000] <MikeSmith>
respec needs love too

[00:14:02.0000] <Ms2ger>
the Web DOM Core specification ([DOM-LEVEL-3-CORE]).

[00:14:03.0000] <MikeSmith>
it needs our help to make itself better

[00:14:04.0000] <Ms2ger>
What the hell

[00:15:00.0000] <MikeSmith>
yeah, that needs to be fixed

[00:15:01.0000] <MikeSmith>
I'm pretty sure the default respec biblio thing is generated from a file at W3C that only lists TR docs

[00:15:02.0000] <wilhelm>
It's a very, very early draft. We have a F2F tomorrow where we'll do some real work on it. (c:

[00:16:00.0000] <MikeSmith>
hey it's wilhelm

[00:16:01.0000] <wilhelm>
Any and all feedback is very welcome.

[00:16:02.0000] <MikeSmith>
hope somebody and skype me into the meeting

[00:17:00.0000] <wilhelm>
/me installs Skype.

[00:19:00.0000] <wilhelm>
Why do I need a native application for this? Hasn't someone made a web app yet? :P

[00:19:01.0000] <wilhelm>
Wait, perhaps Google+ works.

[00:20:00.0000] <izhak>
Guys, sorry for very simple stupid question, but is HTML5 is valid XML?

[00:20:01.0000] <Ms2ger>
No

[00:20:02.0000] <tantek>
depends on your HTML5

[00:20:03.0000] <Hixie>
depends what you mean by "HTML5"

[00:20:04.0000] <tantek>
:D

[00:21:00.0000] <tantek>
izhak, I've got some HTML5 that's also valid XML on my site. but it takes some amount of work to pull that off.

[00:21:01.0000] <izhak>
and what do I mean by HTML5 ?

[00:21:02.0000] <izhak>
:D

[00:21:03.0000] <jamesr>
there are documents in the intersection, i believe

[00:21:04.0000] <Hixie>
generally speaking unless you have a pretty important reason for it you shouldn't really worry about XML when you're doing HTML

[00:22:00.0000] <izhak>
Can HTML5 be determined by a DTD?

[00:22:01.0000] <Hixie>
what do you mean by "determined"?

[00:22:02.0000] <izhak>
Can we write such DTD which would be able to validate any HTML5 document?

[00:23:00.0000] <izhak>
Well, OK I think I understand now, I mean syntax.. HTML5 syntax

[00:24:00.0000] <jamesr>
no

[00:25:00.0000] <izhak>
Is there any simple answer to the question, why not to use XHTML which is perfectly deterministic?

[00:26:00.0000] <wilhelm>
HTML is also perfectly deterministic.

[00:26:01.0000] <wilhelm>
And doesn't come with the disadvantages of XML.

[00:26:02.0000] <izhak>
wilhelm: it's not, I'm a complete newbie but it's not exactly

[00:26:03.0000] <jamesr>
what do you mean?

[00:27:00.0000] <tantek>
izhak, XHTML does not confer any advantages over XML-well-formed HTML5.

[00:27:01.0000] <jamesr>
there's a deterministic algorithm to decide if a given string of bytes is a valid HTML document, if that's what you mean

[00:27:02.0000] <tantek>
izhak - longer explanation of that here: http://tantek.com/2010/302/b1/xhtml-dead-long-live-xml-valid-html5

[00:27:03.0000] <izhak>
I mean it's very simple to find out relative layout of elements in XML, than in HTML

[00:28:00.0000] <tantek>
izhak, XML does not determine layout - CSS does that.

[00:29:00.0000] <izhak>
tantek: I mean nesting, closing etc

[00:29:01.0000] <tantek>
izhak - you can do the same with HTML5 - see my blog post.

[00:30:00.0000] <izhak>
Yeah, thanks, that was the text i was searching

[00:30:01.0000] <wilhelm>
MikeSmith: I think I got Google+ Hangouts to work. I'll invite you tomorrow morning. I'll be at the Google office 15-30 minutes before the meeting starts.

[00:30:02.0000] <MikeSmith>
wilhelm: OK

[00:30:03.0000] <izhak>
HTML 4 parser is a mess, while XML parser is pretty simple, tell me does HTML5 allow that mess also?

[00:31:00.0000] <Philip`>
Writing an HTML5 parser is more work than writing an XML parser (since HTML5 has more parsing rules), but very few people need to write parsers (and everyone else can reuse one written by someone else), whereas many people need to output HTML code, and guaranteeing the output is well-formed XML is extremely hard, so it doesn't make sense to choose the approach that simplifies parsers

[00:31:01.0000] <izhak>
Or it's as regorous as XML is

[00:32:00.0000] <Hixie>
Philip`: unless you're implementing the script stuff, i think it might actually be less work to do an HTML parser since with XML you don't have a spec to follow but instead have to determine it from the validity description

[00:32:01.0000] <Philip`>
izhak: HTML4 parsing is undefined; HTML5 parsing is specified precisely in complete detail

[00:32:02.0000] <jamesr>
writing an XML parser isn't exactly trivial

[00:33:00.0000] <izhak>
jamesr: relatively to html4's it's just a toytaks

[00:33:01.0000] <izhak>
*toytask

[00:33:02.0000] <jamesr>
given that html4 parsing is undefined, it's not really a valid comparison

[00:34:00.0000] <izhak>
jamesr: actually it is cause we actually have html4 parsers

[00:34:01.0000] <jamesr>
not interoperable ones

[00:34:02.0000] <Hixie>
technically HTML4 parsing is defined, in SGML. not that such a parser would actually work on the web ;-)

[00:34:03.0000] <Philip`>
(HTML5's specified parsing algorithm is a crazy mess, but that doesn't matter since you can just implement what the spec says and not worry about it)

[00:36:00.0000] <izhak>
Unfortunately we've got lot's of html4 pages all over the web and they seem not to be going to leave in a nearest future as in farest

[00:37:00.0000] <Philip`>
Fortunately HTML5 parsers can parse all those HTML4 pages

[00:37:01.0000] <Hixie>
the HTML standard today handles all previous versions of HTML (or more precisely, all existing HTML content)

[00:37:02.0000] <izhak>
So it's not rigorous and allow writing html4 stuff

[00:38:00.0000] <izhak>
And if it allows people will use that

[00:38:01.0000] <Philip`>
If by "not rigorous" you mean "not fragile", then yes :-)

[00:38:02.0000] <Hixie>
what do you mean by "rigorous"?

[00:38:03.0000] <izhak>
vicious circle

[00:38:04.0000] <Hixie>
and what do you mean by "allow"?

[00:39:00.0000] <izhak>
I mean determinism

[00:39:01.0000] <izhak>
Oh I see, my English is very bad

[00:40:00.0000] <izhak>
rigorous = strict, well defined, deterministic

[00:42:00.0000] <izhak>
Anyways, it seems that I understand now, w3c is going by a strict, ideal but unachievable way to switch the world to strict xml, and you guys going by more realistic way

[00:42:01.0000] <Philip`>
The HTML5 parsing algorithm isn't strict (it allows any random stream of bytes as input and won't produce an error and abort) but is well defined and deterministic

[00:43:00.0000] <Philip`>
(There are multiple implementations that produce precisely the same output for any random stream of bytes)

[00:43:01.0000] <roc>
modulo bugs

[00:44:00.0000] <izhak>
Philip`: hmm, great

[00:44:01.0000] <Ms2ger>
/me wonders why Brad Kemper used GB2312

[00:45:00.0000] <izhak>
Philip`: does html 5 parser do charset normalization?

[00:47:00.0000] <izhak>
"The HTML5 parsing algorithm isn't strict (it allows any random stream of bytes as input and won't produce an error and abort) but is well defined and deterministic" - cool! This sentence makes me feel good:D

[00:48:00.0000] <jamesr>
roc: in gecko when script force a style resolution+layout, do y'all ever resolve styles for only a subset of the document or do you always resolve the whole thing?

[00:49:00.0000] <Ms2ger>
And <di>, woot

[00:49:01.0000] <roc>
the whole thing

[00:50:00.0000] <roc>
I can think of lots of optimizations I'd rather try than changing that :-)

[00:50:01.0000] <Philip`>
izhak: What do you mean by charset normalization?

[00:51:00.0000] <jamesr>
seems scary (and normally not worth it)

[00:51:01.0000] <Philip`>
izhak: (The parser basically just figures out the character encoding somehow and decodes the input, and then the rest of the algorithm deals purely with Unicode strings)

[00:51:02.0000] <roc>
I'm sure you could create a benchmark where it would be totally worth it

[00:51:03.0000] <roc>
please don't!

[00:51:04.0000] <izhak>
Philip`: yes, that what I meant:)

[00:52:00.0000] <izhak>
Philip`: is it defined in what particular encoding?

[00:52:01.0000] <izhak>
I mean utf-8 or utf-16

[00:52:02.0000] <wilhelm>
Ms2ger: Re: the DOM3 reference, please prod the editors and/or public-test-infra⊙wo (c:

[00:53:00.0000] <Ms2ger>
Oh, and "Web DOM Core" is two Microsoft interventions out of date

[00:55:00.0000] <Philip`>
izhak: http://whatwg.org/html#determining-the-character-encoding says how to determine what encoding to use when decoding

[00:55:01.0000] <izhak>
Philip`: thanks

[01:02:00.0000] <jgraham>
wilhelm: Isn't it public-browser-tools-testing that one should prod?

[01:03:00.0000] <jgraham>
(gotta love the short and easy to remember email addresses)

[01:04:00.0000] <hsivonen>
/me notes that a conforming XML parser has to support all the internal subset goo

[01:05:00.0000] <wilhelm>
jgraham: Eh, probably.

[01:05:01.0000] <wilhelm>
/me subscribes. :P

[01:06:00.0000] <hsivonen>
izhak: for both HTML and XML, character encodings are a loophole that you can drive a truck through

[01:07:00.0000] <hsivonen>
izhak: in the sense that neither HTML nor XML parsing is well-defined when an ill-defined character encoding is used

[01:07:01.0000] <hsivonen>
and the set of available encodings isn't locked down by either spec

[01:08:00.0000] <hsivonen>
see http://www.tbray.org/ongoing/When/200x/2003/10/17/UTF8-plus for an example of one of the editors of XML trying to exploit the definitional loophole left in XML

[01:08:01.0000] <izhak>
hsivonen: I do believe that what you say is far from real world nowadays

[01:09:00.0000] <hsivonen>
izhak: see the log of this channel for annevk's findings of differences in how different browser implement various character encodings

[01:11:00.0000] <hsivonen>
izhak: once the character encoding has been dealt with, HTML parsing is actually more deterministic than XML parsing, because XML parsing still involves an optional feature that HTML doesn't have: whether or not external entities are processed

[01:13:00.0000] <hsivonen>
since both HTML and XML share the character encoding hole but HTML doesn't have the optional feature that external entities are for XML, it's a myth these days that XML is somehow more deterministic

[01:15:00.0000] <izhak>
hsivonen: tha fact that html5 parses both html4 mess and xml still being deterministic is enough for me to love it:), concerning what you say, I think charset problems are not really a problems today, all stuff is quite worked over, waddya think

[01:16:00.0000] <hsivonen>
izhak: unfortunately, for implementations, charset problems are still problems today. for authors, they aren't when authors stick to UTF-8

[01:16:01.0000] <hsivonen>
and declare that they are sticking to UTF-8

[01:18:00.0000] <izhak>
well, that's what I didn't think about, thanks, I'll learn

[01:39:00.0000] <izhak>
Hah, eventually it became clear to me.. That's just a question of "Break or not to break?" (on error). Such a thin border, and yes what to do if not to break:).

[01:39:01.0000] <izhak>
tantek, cool article thanks

[05:02:00.0000] <MikeSmith>
matjas: I'm wondering what mail clients actually support IDN mail addresses yet

[05:02:01.0000] <MikeSmith>
re: https://www.w3.org/Bugs/Public/show_bug.cgi?id=15489

[05:03:00.0000] <matjas>
what do you mean by “support”? displaying the email address’s Unicode form as opposed to its Punycoded ASCII representation?

[05:03:01.0000] <matjas>
or, like, “work”

[05:03:02.0000] <MikeSmith>
yeah, "work" -- as in, allowing you to actually send an e-mail message to such an address

[05:04:00.0000] <MikeSmith>
allowing to put the e-mail address into a To field in the UI for the mail client

[05:53:00.0000] <annevk>
replacing a SSD apparently takes a while...

[05:53:01.0000] <annevk>
meanwhile using my old T60 with Ubuntu

[05:53:02.0000] <annevk>
good times

[05:53:03.0000] <annevk>
except for the keyboard, that sucks

[06:18:00.0000] <MikeSmith>
matjas: every mail client I've tried so far barfs on IDN email addresses when I put them in a To field

[06:18:01.0000] <MikeSmith>
annevk: T60 is IBM laptop?

[06:19:00.0000] <annevk>
effectively, it's from lenovo

[06:19:01.0000] <MikeSmith>
ah yeah

[06:19:02.0000] <MikeSmith>
you like the keyboard?

[06:19:03.0000] <annevk>
but carries the old IBM ThinkPad logo

[06:19:04.0000] <annevk>
it's kind of broken, that's the problem :)

[06:20:00.0000] <annevk>
Enter no longer gives tactile feedback for instance

[06:22:00.0000] <MikeSmith>
oh

[06:22:01.0000] <MikeSmith>
just pretend it's a soft keyboard, and then it's fine

[06:22:02.0000] <matjas>
MikeSmith: I don’t really see why that matters though. Why wait until email clients fix their stuff to fix the HTML spec?

[06:22:03.0000] <annevk>
I guess, it's no big deal

[06:22:04.0000] <matjas>
MikeSmith: are you thinking of <form action=mailto:>?

[06:23:00.0000] <MikeSmith>
matjas: no, I'm thinking input@type=email

[06:25:00.0000] <MikeSmith>
matjas: and maybe I'm misunderstanding your point but I'm not sure there's anything that needs fixing in the spec because the current restrictions are by design

[06:25:01.0000] <MikeSmith>
that is, not an oversight

[06:26:00.0000] <matjas>
MikeSmith: What’s the reason foo@mañana.com is invalid while foo⊙xc isn’t? Any pointers?

[06:26:01.0000] <MikeSmith>
no pointers

[06:26:02.0000] <MikeSmith>
maybe others on the channel know

[06:27:00.0000] <MikeSmith>
annevk maybe

[06:27:01.0000] <MikeSmith>
as far as the rationale

[06:29:00.0000] <annevk>
not sure, I always found it slightly confusing and I think there might still be issues with both url and email

[06:34:00.0000] <MikeSmith>
I assume the rationale is that it doesn't make much sense for the spec and browsers to recognize IDN e-mail addresses as valid for input@type=email if existing MUAs don't recognize them in their corresponding input mechanisms

[06:35:00.0000] <MikeSmith>
and I don't know why existing mail clients don't yet recognize IDN e-mail in their input fields, I don't know

[06:36:00.0000] <MikeSmith>
but I'd assume it's not due just to collective laziness

[07:07:00.0000] <Ms2ger>
MikeSmith, the idea for input type=email is that the actual value is the punycode version, and the UA shows the Unicode version in its UI

[07:07:01.0000] <zewt>
i'd think it'd make more sense to have the unicode version in mailto:, and have the MUA encode it when it receives it

[07:08:00.0000] <zewt>
eg. aim for users never having to type or see the encoded version

[07:09:00.0000] <MikeSmith>
Ms2ger: really?

[07:09:01.0000] <Ms2ger>
See the spec, there's a note

[07:09:02.0000] <MikeSmith>
/me looks

[07:10:00.0000] <annevk>
Ms2ger: is it the same for URLs?

[07:10:01.0000] <zewt>
(just like you should be able to use unicode in URLs without encoding it first--no idea if you can, not familiar enough with that yet)

[07:10:02.0000] <Ms2ger>
Yeah

[07:10:03.0000] <zewt>
(but if you can't, I'd consider it a dead-end broken i18n effort...)

[07:11:00.0000] <annevk>
I don't think you can trust the MUA to handle non-ASCII

[07:11:01.0000] <annevk>
but the MUA can translate it back in its own UI

[07:11:02.0000] <MikeSmith>
so I find "User agents may transform the value for display and editing; in particular, user agents should convert punycode in the value to IDN in the display and vice versa."

[07:11:03.0000] <zewt>
annevk: the browser can always encode it before handing it off to the MUA

[07:11:04.0000] <zewt>
at navigation time, i mean

[07:11:05.0000] <zewt>
i guess copy-to-clipboard is less clear

[07:12:00.0000] <zewt>
(but also less important)

[07:16:00.0000] <zewt>
(the one or two times I've seen people using IDN addresses in email it made me think "that guy's using a feature long before it's ready", since it just showed up encoded in gmail, in quote headers, etc)

[07:18:00.0000] <zewt>
by the way, doesn't Android have a special keyboard layout for email addresses? (eg. @ available without shifting)

[07:19:00.0000] <zewt>
that seems like a more day-to-day useful use case for type=email

[07:19:01.0000] <MikeSmith>
Gmail doesn't actually let you enter IDN e-mail addresses into its UI

[07:19:02.0000] <annevk>
that's more of an inputmode feature tied to type=email

[07:20:00.0000] <annevk>
we don't want to introduce types for all the inputmode features we might have at some point

[07:23:00.0000] <zewt>
i'd expect it to depend on whether it's actually orthogonal to input mode or not

[07:24:00.0000] <zewt>
some input modes might make sense with textarea, I suppose

[07:52:00.0000] <bga_>
http://psicomatico.net/wp-content/uploads/2011/02/jqueryninja.jpg

[07:53:00.0000] <ksweeney>
haha

[07:53:01.0000] <ksweeney>
shouldn't the jquery ninja be chaining everything in there?

[07:54:00.0000] <bga_>
only who has black belt :)

[07:55:00.0000] <smaug____>
/me so much prefers Javascript Ninja

[07:58:00.0000] <AryehGregor>
smaug____, you and I don't have to write complicated webpages that work in a large range of browsers on a regular basis.

[07:59:00.0000] <hsivonen>
Hixie: is it intentional that document.close() doesn't return early if document.close() has been called?

[07:59:01.0000] <hsivonen>
Hixie: that is, should each document.close() call attempt to tokenize?

[08:00:00.0000] <smaug____>
AryehGregor: yeah. Fortunately I don't need to use buggy and memory hungry js libraries to support multiple browsers

[08:00:01.0000] <AryehGregor>
Yep, me either.

[08:00:02.0000] <AryehGregor>
Lucky for us.

[08:01:00.0000] <jgraham>
AryehGregor: You have to write evil webpages that break a large range of bgrowsers though. Surely that must count for something?

[08:02:00.0000] <AryehGregor>
jgraham, yes.  It would be much harder if I had to use jQuery.

[08:02:01.0000] <jgraham>
If you start using jQuery for testcases I might have to arrange to have you destroyed

[08:03:00.0000] <Ms2ger>
I'm going to submit some Mozilla tests that use $() just to get your blood pressure up :)

[08:03:01.0000] <hsivonen>
/me notes that Mozilla uses mochikit for tests and mochikit browser-sniffs

[08:03:02.0000] <jgraham>
/me knows :(

[08:04:00.0000] <Ms2ger>
jgraham, did that make it hard to steal our tests? :)

[08:18:00.0000] <AryehGregor>
/me adds tests for case-sensitivity of all the keywords used in CSS 2D Transforms

[08:22:00.0000] <AryehGregor>
It turns out having been a math major is really useful for anything involving 2D graphics.

[08:22:01.0000] <AryehGregor>
Like, knowing what linear transforms are and how they relate to matrices.

[08:23:00.0000] <AryehGregor>
Although I have yet to find a use for, say, Jordan normal forms or Perron's theorem.

[08:23:01.0000] <AryehGregor>
(Jordan normal forms are useless in practice because nondiagonalizable matrices have codimension zero in the space of matrices, I guess)

[08:26:00.0000] <jgraham>
Ms2ger: I don't know that we made a serious attempt to import lots of Mochitests

[08:30:00.0000] <gsnedders>
The attempt I made wasn't very serious, at least.

[08:56:00.0000] <dglazkov>
good morning, Whatwg!

[11:19:00.0000] <annevk>
XML Prague wants Docbook

[11:19:01.0000] <annevk>
euh

[11:19:02.0000] <annevk>
DocBook

[11:34:00.0000] <AryehGregor>
Suppose I have an inner div nested inside the outer div, and the inner div has a nonzero left/right margin.  Is there any way to get their border boxes to coincide?

[11:34:01.0000] <AryehGregor>
(yes, I know this is a weird question)

[11:35:00.0000] <Ms2ger>
Negative.. Padding, no, that wouldn't work

[11:35:01.0000] <AryehGregor>
/me has developed doubts regarding the sanity of what he's currently trying to do

[11:35:02.0000] <AryehGregor>
Yeah, you can't have negative padding or border, so . . .

[11:35:03.0000] <AryehGregor>
Well, I could use relative positioning or something, of course.  I mean in normal flow.

[11:35:04.0000] <Ms2ger>
Can you add a third div? :)

[11:35:05.0000] <AryehGregor>
Possibly.  How would that help?

[11:36:00.0000] <Ms2ger>
Put it in between and give it negative margins

[11:36:01.0000] <AryehGregor>
Sneaky.

[11:36:02.0000] <Ms2ger>
The universal solution to CSS problems-- add another div

[11:37:00.0000] <AryehGregor>
It just occurred to me, though, that it's enough that the border boxes' *centers* coincide.  I just want the transform-origin to be the same.

[11:37:01.0000] <AryehGregor>
/me tries that

[11:37:02.0000] <Ms2ger>
The centers shouldn't be hard

[11:38:00.0000] <Ms2ger>
Match up padding-left on the outer with margin-right on the inner, no?

[11:38:01.0000] <AryehGregor>
I'll just put a few pixels of padding on the outer divs.

[11:38:02.0000] <AryehGregor>
That should do it.

[11:38:03.0000] <AryehGregor>
(I actually have three nested divs)

[11:45:00.0000] <AryehGregor>
Oh, no, wait.  I actually do need the border boxes the same actual size if I want percentages to work right.

[11:45:01.0000] <AryehGregor>
Or I can adjust those by hand.

[11:45:02.0000] <AryehGregor>
Feh.

[11:45:03.0000] <AryehGregor>
I guess that's what I'll do.

[11:46:00.0000] <AryehGregor>
Bah.  Complicated.

[11:46:01.0000] <AryehGregor>
/me is getting a headache

[11:55:00.0000] <AryehGregor>
Okay, I finally think I have it.  Sheesh.

[12:02:00.0000] <annevk>
hsivonen: with file upload and a custom scheme the file upload field jumps down visually in Opera when you hit validate

[12:02:01.0000] <annevk>
hsivonen: on validator.nu

[13:07:00.0000] <vishal3212>
hello

[13:35:00.0000] <jgraham>
Random observation of the day: half the web seems to be articles abou hiring developers, but I have never seen a single article abot hiring testers

[13:35:01.0000] <jgraham>
*about

[13:36:00.0000] <jgraham>
That isn't apropos anything in particular, it's just a thing I noticed

[15:07:00.0000] <TabAtkins>
In the XML serialization, are all the entities still defined and available?

[15:07:01.0000] <TabAtkins>
Or just the XML entities?

[15:36:00.0000] <Hixie>
TabAtkins: what other kinds of entities would you mean?

[15:36:01.0000] <Hixie>
TabAtkins: oh you mean like the mathml ones?

[15:37:00.0000] <Hixie>
TabAtkins: there's some DOCTYPEs you can specify that magically include the others


2012-01-11
[16:02:00.0000] <TabAtkins>
Hixie: Thinks like &nbsp; arent' defined for general XML, right?

[16:04:00.0000] <Hixie>
right, only 5 are

[16:04:01.0000] <Hixie>
lt gt amp apos quot

[16:04:02.0000] <Hixie>
but if you use the magical dtd string you can use the others

[16:04:03.0000] <Hixie>
at least in xhtml uas

[16:09:00.0000] <TabAtkins>
Hixie: Yeah, theoretically, though general XML processors don't really process the external subset.

[16:14:00.0000] <AryehGregor>
TabAtkins, actually, often they do, by downloading it from w3.org.

[16:14:01.0000] <AryehGregor>
IIRC, when I wrote a Python program using some built-in XML processor it did that.

[19:39:00.0000] <MikeSmith>
I see File API tests at http://samples.msdn.microsoft.com/ietestcenter/#fileapi but not in dvcs.w3.org yet

[19:40:00.0000] <MikeSmith>
wonder if I'm looking in the wrong place

[22:13:00.0000] <Hixie>
man, <audio> on Mac Chrome 16 is a disaster

[22:13:01.0000] <Hixie>
it skips, it loads slowly even from the cache, it crashes...

[22:28:00.0000] <MikeSmith>
Hixie: that's because they not using Native HTML5

[22:29:00.0000] <MikeSmith>
Hixie: seriously you find it works worse than in other browsers?

[22:29:01.0000] <Hixie>
worse than firefox, anyway

[22:31:00.0000] <MikeSmith>
was it better for and regressed?

[22:31:01.0000] <Hixie>
dunno

[22:31:02.0000] <Hixie>
haven't tried it til now

[22:32:00.0000] <Hixie>
i'm just creating a few dozen <audio>s and whenever i need the particular sound, i set currentTime=0 and call play()

[22:32:01.0000] <Hixie>
the web audio api would be a better fit, if it was more mature

[22:37:00.0000] <MikeSmith>
in other news I see the sync XHR changes have broken the Web

[22:38:00.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=716765

[23:13:00.0000] <cyclicflux>
Good Evening All!!!

[23:13:01.0000] <cyclicflux>
  I had a quick question. I was wondering if there were a good free dyndns alternative for just basic domain registration with dynamic ip(dhcp). I was using Dyndns first, however it appears that they recently just changed their overall policies, and service packaging. Thus, no longer offering the free-option.Any thoughts??

[23:13:02.0000] <cyclicflux>
They now only have a 1-month free trial and then one must pay, this is just for personal use, and is used by 15 different people or so at max.

[23:13:03.0000] <cyclicflux>
 Its not like it needs to be the premo premo caviar of premium DNS accounts and dynamic domain name hosting, with unlimited access/etc... Just something simple

[00:06:00.0000] <MikeSmith>
man http://wiki.whatwg.org/wiki/MetaExtensions has certainly blossomed into something beautiful

[02:12:00.0000] <hsivonen>
and there's a new antipattern: http://groups.google.com/group/mozilla.dev.platform/msg/6dd73a0716af9d43

[02:13:00.0000] <hsivonen>
'For instance, today the news is about "www.cuttherope.ie". Which, after you play a few

[02:13:01.0000] <hsivonen>
levels, says: "To play this [level], come back in Internet Explorer 9 and pin the game to your taksbar!".'

[02:13:02.0000] <Ms2ger>
Well, it's an IE promotional site, what'd you expect?

[02:15:00.0000] <hsivonen>
Ms2ger: based on previous behavior of Web developers, I fully expect bsmedberg's concern to be warranted

[02:15:01.0000] <Ms2ger>
Yeah

[02:15:02.0000] <jgraham>
It's just keeping up with the Jonses. Or in this case Chromeses

[02:15:03.0000] <hsivonen>
Ms2ger: that is, if you let Web apps query if they are pinned/installed, they will refuse to function or they will be annoying if you don't install/pin

[02:16:00.0000] <Ms2ger>
Indeed

[02:16:01.0000] <hsivonen>
jgraham: so far, the Chrome anti-pattern I've seen is the old 90s pattern "only works in Chrome"

[02:17:00.0000] <hsivonen>
jgraham: I haven't seen "this free app won't work when navigated to normally. you have to install it via Chrome Web Store"

[02:17:01.0000] <hsivonen>
jgraham: though I'd be entirely unsurprised if such a case already existed

[02:18:00.0000] <jgraham>
I thought I had seen things that had to be installed via the web store

[02:18:01.0000] <jgraham>
But I might be wrong

[02:18:02.0000] <hsivonen>
jgraham: ok. maybe I just haven't been following closely enough

[03:31:00.0000] <roc>
Hixie: I think the optimal API for playing a bunch of preloaded sounds is to have a bunch of <audio preload> elements, then do audioElem.cloneNode().play(). it's super-simple and can be implemented very efficiently.

[05:09:00.0000] <niloy>
is there a standard on form serializing?

[05:10:00.0000] <Ms2ger>
HTML

[05:19:00.0000] <niloy>
Ms2ger, I searched for "html form serializing standard", but cant find any good link

[05:19:01.0000] <Ms2ger>
http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#application/x-www-form-urlencoded-encoding-algorithm?

[05:21:00.0000] <niloy>
Ms2ger, thanks!

[05:26:00.0000] <niloy>
Ms2ger, the decision to intepret name values with [] as array is non standard?

[05:27:00.0000] <Ms2ger>
Might be

[05:28:00.0000] <niloy>
okay

[05:30:00.0000] <Philip`>
In Perl's CGI modules, the interpretation depends on whether you access the parameter in scalar context or list context, rather than on the name of the parameter

[05:31:00.0000] <Philip`>
(That seems more sensible since the data types are determined by the code, not by potentially user-controlled strings)

[05:31:01.0000] <niloy>
okay, so this is server dependent, wanted to confirm that

[05:31:02.0000] <Philip`>
(although some people might consider context-dependent functions to be an unsensible idea in general)

[05:42:00.0000] <jgraham>
Philip`: No, really?

[05:48:00.0000] <Philip`>
jgraham: Yeah, some people are narrow-minded like that and don't appreciate intuitive natural-language features being used in programming languages

[05:50:00.0000] <Ms2ger>
dt, dd { margin-top: 0; margin-bottom: 0 } /* opera 3.50 */

[05:50:01.0000] <Ms2ger>
It's good to see the W3C cares about Opera

[05:50:02.0000] <Ms2ger>
(http://www.w3.org/StyleSheets/TR/W3C-ED.css)

[05:51:00.0000] <Philip`>
Then they hack around their limitation by copying the context into the function name, so users have to remember twice as many function names (querySelector vs querySelectorAll etc) and have a greater chance of accidentally putting a list into a scalar variable or vice versa

[06:04:00.0000] <jgraham>
Philip`: I think holding up W3C specs as examples of API design is just trolling :)

[06:11:00.0000] <Philip`>
jgraham: Same problem in e.g. Python's cgi API, where you can use getvalue() (where if you forget to check isinstance and "a curious user appends another user=foo pair to the query string, then the script would crash") or getfirst() or getlist()

[06:12:00.0000] <Philip`>
since it's impossible to have a single function that automatically returns the data type you're expecting

[06:32:00.0000] <wilhelm>
AryehGregor: I see you have a draft spec of innerText. Is the one from February 2011 the most recent one available?

[06:34:00.0000] <smaug____>
or is the innerText nowadays in parsing spec? Ms2ger ?

[07:00:00.0000] <jgraham>
Philip`: If the alternative is that I have to learn three different behaviours for each function and closely inspect the context each time to work out which one it will use, I think I prefer the option that makes things explicit :)

[07:04:00.0000] <AryehGregor>
wilhelm, sounds right, but be aware of the large quantities of discussion about it.  Basically I specced innerText as textContent plus minimal munging for compat, based on what I was told about Opera's implementation.  IE and WebKit both have ludicrously complicated implementations which are probably hopeless to spec.

[07:06:00.0000] <AryehGregor>
innerText didn't make it into some spec like HTML?

[07:06:01.0000] <AryehGregor>
/me looks

[07:06:02.0000] <Philip`>
jgraham: Only two behaviours (scalar vs list context), and distinguishing "$name = $cgi->param('name')" from "@names = $cgi->param('name')" doesn't take hugely close inspection :-)

[07:06:03.0000] <AryehGregor>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=13145

[07:07:00.0000] <Philip`>
although when someone writes "$num_names = () = $cgi->param('name')" you would be justified in choosing to vigorously educate them

[07:07:01.0000] <wilhelm>
AryehGregor: The reason for why I'm asking is that WebDriver is being specced now. This API has a feature that allows one to get the text of any element. We're not sure what's the more sensible approach – deferring to browsers, just using innerHTML or define an algorithm for doing it in the WebDriver layer.

[07:07:02.0000] <AryehGregor>
Hixie closed it REMIND.

[07:07:03.0000] <wilhelm>
Thanks for the link. (c:

[07:07:04.0000] <jgraham>
wilhelm: What do you mean "text"?

[07:07:05.0000] <AryehGregor>
wilhelm, the most sensible approach is to use either textContent or innerHTML.  innerText has zero interop.  There is no usable plaintext-conversion algorithm specced anywhere in the web platform; different browsers do it entirely differently.

[07:08:00.0000] <jgraham>
Or, what AryehGregor said

[07:09:00.0000] <AryehGregor>
All browsers have one that they use for Selection.prototype.toString, but it's not even remotely interoperable.

[07:09:01.0000] <jgraham>
The only obvious problem with textContent is that it doesn't know about alt text

[07:09:02.0000] <AryehGregor>
As far as I can tell, in at least some browsers it's not even a DOM-based function, it depends on the layout layer somehow.

[07:09:03.0000] <Philip`>
Most authors don't know about alt text either so that's okay

[07:09:04.0000] <AryehGregor>
WebKit's does scary stuff like respecting text-transform.

[07:09:05.0000] <AryehGregor>
jgraham, there are lots of other problems.  For instance, <p>foo</p><p>bar</p> -> "foobar" instead of "foo\nbar".

[07:10:00.0000] <AryehGregor>
And <span>foo\nbar</span> -> "foo\nbar" instead of "foo bar".

[07:10:01.0000] <jgraham>
AryehGregor: That isn't obviously a problem for wilhelm's use case

[07:10:02.0000] <AryehGregor>
That's just the tip of the iceberg.

[07:10:03.0000] <AryehGregor>
/me has no idea what wilhelm's use-case actually is

[07:10:04.0000] <jgraham>
AryehGregor: It is presumably mainly for checking that some subtree contains some pre-known text

[07:11:00.0000] <wilhelm>
Yes, what jgraham said. The use case is fuzzy.

[07:11:01.0000] <AryehGregor>
Then innerHTML or textContent is what I'd recommend.

[07:11:02.0000] <jgraham>
/me would strongly recommend textContent

[07:11:03.0000] <wilhelm>
/me looks up textContent.

[07:11:04.0000] <jgraham>
Unless there is really a need for anything more complex

[07:12:00.0000] <wilhelm>
/me defers to dawagner.

[07:12:01.0000] <dawagner>
AryehGregor: We have a javascript implementation which basically does exactly what's spec'd in http://aryeh.name/spec/innertext/innertext.html because it's the exact behaviour we want in webdriver; "what a user sees"

[07:13:00.0000] <AryehGregor>
dawagner, well, okay, but it's only a vague approximation of what the user sees.  If my spec was useful to you, though, that's nice.

[07:13:01.0000] <AryehGregor>
But I wouldn't add anything like that to an actual spec.

[07:13:02.0000] <AryehGregor>
There are just way too many heuristics involved.

[07:14:00.0000] <dawagner>
As in, you wouldn't bother trying to specify what innerText does, or you wouldn't try to specify something which acted similarly to innerText but made no references to innerText itself?

[07:18:00.0000] <AryehGregor>
dawagner, the latter.  Or if I did that it would be with extreme caution.  It's impossible to get it actually right -- just think about foo<span style=float:left>bar</span>baz, say.  Or try absolute or relative positioning.  HTML is just a richer medium than plaintext.

[07:19:00.0000] <AryehGregor>
So if you try to get elaborate, you have to draw the line somewhere, and it's very hard to say where a good place to draw the line is.

[07:19:01.0000] <dawagner>
Ok :) Thanks for the advice

[07:19:02.0000] <AryehGregor>
You can always do a bit better.

[07:19:03.0000] <AryehGregor>
So this is something that's maybe best left to JS libraries, which don't have such strict compat requirements.

[07:20:00.0000] <AryehGregor>
So they can afford to incrementally improve their algorithms over time.

[07:21:00.0000] <Philip`>
textContentAsRenderedByElinksWithAddedCSSSupport

[07:23:00.0000] <wilhelm>
AryehGregor: Here's the spec in question, by the way: https://dvcs.w3.org/hg/webdriver/raw-file/515b648d58ff/webdriver-spec.html

[07:23:01.0000] <wilhelm>
A very, very early draft.

[07:23:02.0000] <AryehGregor>
k.

[07:24:00.0000] <wilhelm>
Somewhat interoperable implementations already exist. So it's a matter of speccing the running code in a not-too-insane way. (c:

[07:24:01.0000] <dawagner>
And the implementing code: https://code.google.com/p/selenium/source/browse/trunk/javascript/atoms/dom.js#689

[07:25:00.0000] <dawagner>
(Which is really quite inefficient)

[07:31:00.0000] <Ms2ger>
The plan for innerText is still to ignore it and hope it goes away

[07:32:00.0000] <smaug____>
Ms2ger: oh.

[07:32:01.0000] <smaug____>
Ms2ger: have we added warning to remove it ?

[07:32:02.0000] <smaug____>
hmm

[07:32:03.0000] <Ms2ger>
We don't support it

[07:32:04.0000] <smaug____>
ah, right :)

[07:32:05.0000] <smaug____>
good !

[07:32:06.0000] <smaug____>
wilhelm: ^

[07:32:07.0000] <AryehGregor>
Ms2ger, I still think you should at least support a bare-bones version like I've suggested.

[07:33:00.0000] <AryehGregor>
Similar to Opera.

[07:33:01.0000] <Ms2ger>
"we", now ;)

[07:33:02.0000] <AryehGregor>
Bah.

[07:33:03.0000] <AryehGregor>
I'm still not a Gecko developer.

[07:33:04.0000] <smaug____>
Why should support for innerText be added anywhere ?

[07:33:05.0000] <AryehGregor>
smaug____, because some pages depend on it.  I've found East Asian sites that are buggy on Firefox (and only Firefox) because they assume innerText support.

[07:33:06.0000] <jgraham>
AryehGregor: You get paid and Ms2ger doesn't (I think), though

[07:33:07.0000] <AryehGregor>
I posted that on the bug.

[07:34:00.0000] <AryehGregor>
jgraham, he still has more say in Gecko development than I do.

[07:34:01.0000] <AryehGregor>
I'm not actually paid to do Gecko development anyway, at least not primarily.

[07:34:02.0000] <jgraham>
Yeah, but they own your soul more than his :)

[07:34:03.0000] <smaug____>
AryehGregor: you could be :p

[07:35:00.0000] <AryehGregor>
smaug____, I expect I'll do some.

[07:35:01.0000] <wilhelm>
smaug____: Right. So deferring to innerText for Gecko is a no-go anyway, then.

[07:36:00.0000] <AryehGregor>
wilhelm, you could defer to Selection.prototype.toString, which everyone implements in some form.

[07:37:00.0000] <AryehGregor>
In WebKit it's basically the same as innerText, in everything else it's different (but similar idea to IE/WebKit innerText).

[07:37:01.0000] <wilhelm>
Interesting.

[07:38:00.0000] <dawagner>
AryehGregor: Alas we're looking for something which is well defined to be the same, rather than something which is defined everywhere

[07:38:01.0000] <AryehGregor>
However, I still recommend treating all this stuff as a minefield and staying as far away as possible.

[07:39:00.0000] <AryehGregor>
dawagner, then your options are either textContent, or innerHTML, or make something up.

[07:39:01.0000] <AryehGregor>
(innerHTML is actually not interoperable right now, but there is a spec and Gecko and WebKit mostly follow it)

[07:39:02.0000] <dawagner>
We've made something up :) It doesn't strictly speaking have to be "correct", but we care about well defined and universal, which our javascript is

[07:39:03.0000] <AryehGregor>
(although there are bugs, like <xmp> in Gecko)

[07:39:04.0000] <dawagner>
(It would be nice if the browsers provided all of those properties, but hey, they're browsers, we're used to that!)

[07:40:00.0000] <AryehGregor>
(I love <xmp>, it messes so many things up because no one thinks about it)

[08:33:00.0000] <dglazkov>
good morning, Whatwg!

[08:35:00.0000] <Ms2ger>
Good afternoon, dglazkov

[08:35:01.0000] <dglazkov>
and what wonderful afternoon it is

[08:37:00.0000] <dglazkov>
TabAtkins is giggling in his cube.

[08:38:00.0000] <Ms2ger>
tmi

[09:08:00.0000] <dglazkov>
btw, I wrote a shadow DOM example/recipe that's also a bit of Big Bang Theory fanfic: http://dvcs.w3.org/hg/webcomponents/raw-file/tip/samples/contacts-widget.html

[09:20:00.0000] <ksweeney>
this is a really great example dglazkov!

[09:21:00.0000] <dglazkov>
ksweeney: yay!

[09:21:01.0000] <jgraham>
dglazkov: I await the gloriuos future where all people with advanced science degrees are reduced to solving dull enterprise problems :)

[09:22:00.0000] <dglazkov>
jgraham: :D I worry we have already arrived.

[09:25:00.0000] <jgraham>
Well I guess that's a bit unfair. Howard only has a masters in Engineering :)

[09:25:01.0000] <jgraham>
Unrelatedly, it is a nice example

[09:27:00.0000] <dglazkov>
First time I ever (I think) used ins and del in markup.

[09:28:00.0000] <jgraham>
Things that upset me today: developers who think that I want to install node.js and run some build process to use their library

[09:29:00.0000] <dglazkov>
heh. node.js as make?

[09:30:00.0000] <jgraham>
Oh, wait, I think I found a download link. Hint: if there is an esy solution and a really-fucking-complex solution, you should probably make the easy one more obvious than the other one

[09:31:00.0000] <jgraham>
At least I already have make installed

[09:31:01.0000] <jgraham>
and I am likely to find the right version of make in my package manager

[09:31:02.0000] <jgraham>
Rather than finding that I can only install version 0.4 but this script needs 0.6 so I have to build from source

[10:00:00.0000] <AryehGregor>
So it looks like 3D transforms are only supported in IE10, which is only supported on Windows 8 Developer Preview, which I can't readily install on my Windows VM.  So I guess I'm testing 3D Transforms only in Gecko and WebKit.

[10:12:00.0000] <Velmont>
AryehGregor: I have the same problem only for other technologies.

[10:56:00.0000] <Hixie>
roc: (re <audio>.cloneNode().play()) that's more or less what i do, and in mac chrome 16 it is not pretty

[10:56:01.0000] <Hixie>
roc: i haven't tested more recent builds yet

[10:56:02.0000] <Hixie>
roc: firefox seemed to work fine

[10:56:03.0000] <Hixie>
roc: (though firefox's lack of <input type=range> support is actually a bigger blocker for me on this particular project)

[10:58:00.0000] <TabAtkins>
Hixie: Agreed.  Most demos I do use range inputs, and it's always bad in FF, annoyingly.

[10:59:00.0000] <Hixie>
last i checked there was some work on it

[10:59:01.0000] <Hixie>
in the meantime i just use the fallback and type in hte numbers manually :-)

[10:59:02.0000] <Hixie>
but that isn't very usable

[11:00:00.0000] <Ms2ger>
Yeah, volkmar is working on device stuff now :/

[11:00:01.0000] <Ms2ger>
If anybody wants to get a job finishing his work... :)

[12:20:00.0000] <AryehGregor>
So let me get this straight: a browsing context has a bunch of history entries associated with it, and each of those usually has one Document and one Window?

[12:21:00.0000] <AryehGregor>
So really I want one Selection per Window or Document, not per browsing context?

[12:21:01.0000] <AryehGregor>
(since if you navigate the document, the next page has a different Selection associated with it)

[12:29:00.0000] <AryehGregor>
getSelection() !== getSelection() in Opera.  :(

[12:30:00.0000] <Hixie>
AryehGregor: one Selection per Document sounds right. maybe one per Window.

[12:30:01.0000] <Hixie>
AryehGregor: there's almost but not quite a 1:1 mapping of window to document

[12:31:00.0000] <AryehGregor>
Hixie, I saw the note in the spec.  document.open() should produce a new Selection object, apparently.

[12:31:01.0000] <Hixie>
and not quite a 1:1 mapping of document to what the user will think of as a document

[12:31:02.0000] <Hixie>
yeah that's probably the right thing

[12:31:03.0000] <Hixie>
so 1 Selection per Document, reset at document.open()

[12:32:00.0000] <AryehGregor>
How should I reset at document.open()?  Hook into unloading document cleanup steps, or is there a better way?

[12:32:01.0000] <Ms2ger>
Hixie still resets Selection somewhere, I think

[12:32:02.0000] <Ms2ger>
Don't remember where exactly

[12:32:03.0000] <Hixie>
it's implied in the document.open algorithm

[12:32:04.0000] <Hixie>
i'd just mention it in a note

[12:34:00.0000] <volkmar>
Ms2ger, Hixie: there hasn't been any work on range unfortunately

[12:34:01.0000] <Hixie>
yeah, spec says "Replace the Document's singleton objects with new instances of those objects."

[12:34:02.0000] <Hixie>
and then says "This includes ... objects defined by other specifications, like Selection"

[12:35:00.0000] <AryehGregor>
Oh, okay.

[12:35:01.0000] <Hixie>
AryehGregor: probably no need to be more explicit, just define what happens when a Selection object instance is created

[12:35:02.0000] <Hixie>
and you should be good

[12:39:00.0000] <roc>
AryehGregor: I thought you could try 3D transforms in IE10 PP which runs on Windows7

[12:40:00.0000] <AryehGregor>
roc, do you know where to get such a copy of IE10PP?  I only found ones that run on Windows 8.

[12:40:01.0000] <roc>
no

[12:41:00.0000] <roc>
hmm, looks like you're right

[12:41:01.0000] <roc>
ulltra lame

[12:41:02.0000] <AryehGregor>
There used to be one that ran on Windows 7.

[12:41:03.0000] <AryehGregor>
But it vanished off the face of the Internet, as far as I can tell.

[12:42:00.0000] <AryehGregor>
Hixie, but document.implementation.createHTMLDocument("") or such doesn't create a separate selection, so not every document has its own selection.

[12:42:01.0000] <AryehGregor>
What's the right terminology here?

[12:43:00.0000] <Ms2ger>
There's a concept of static(?) documents in Gecko, IIRC

[12:44:00.0000] <Hixie>
AryehGregor: right, only Documents that are in browsing contexts

[12:45:00.0000] <AryehGregor>
"in a browsing context" is the right term?  Is that defined somewhere?

[12:45:01.0000] <Hixie>
AryehGregor: there's probably better terminology, check the History section maybe

[12:45:02.0000] <Hixie>
(i can check in ~5 min)

[12:46:00.0000] <AryehGregor>
Thanks.

[12:47:00.0000] <Hixie>
looks like i just say "Document in a browsing context"

[12:50:00.0000] <Hixie>
or "if the Document is in a browsing context"

[13:07:00.0000] <gavinc>
I fear to ask, does there exist a grammar for the relative part of an IRI/URI/URL/Thingy?

[13:07:01.0000] <gavinc>
The on in RFC3987 doesn't really decompose into just the relative part well

[13:47:00.0000] <pablof>
is window.onpopstate(e) { e.state === history.state; } supposed to hold true?

[13:48:00.0000] <pablof>
bah, that's not actually what i mean, but in any case, is a deserialization of a history state supposed to be always the same everywhere?

[13:49:00.0000] <TabAtkins>
You mean, is a state supposed to be equal to itself?

[13:49:01.0000] <TabAtkins>
I would suspect so, but I'm not sure.

[13:49:02.0000] <pablof>
see https://bugs.webkit.org/show_bug.cgi?id=76035#c7

[13:49:03.0000] <roc>
AryehGregor: if a Windows developer preview would be useful for your work (and I think it would), talk to your manager (Jet?) and ask him if you can expense whatever it is you need (hardware, MSDN, whatever it is)... tell him I said it was a good idea :-)

[14:32:00.0000] <Hixie>
pablof: commented

[14:34:00.0000] <pablof>
thanks


2012-01-12
[18:17:00.0000] <MikeSmith>
Hixie: does the spec anywhere actually state document-conformance requirements on what a valid e-mail address is a source document?

[18:17:01.0000] <MikeSmith>
unparsed document

[18:18:00.0000] <MikeSmith>
well, not unparsed exactly

[18:18:01.0000] <MikeSmith>
but you know what I mean

[18:19:00.0000] <MikeSmith>
that is, requirements for authors/documents as opposed to UA requirements

[19:02:00.0000] <MikeSmith>
good golly the e-mail address regexp twitter talk is still going

[19:03:00.0000] <MikeSmith>
that tweet should have stating things more precisely

[19:03:01.0000] <MikeSmith>
b

[19:03:02.0000] <MikeSmith>
but hard to do in a 140 characters

[19:04:00.0000] <MikeSmith>
especially when 70 of them are a regular expression patterm

[19:06:00.0000] <MikeSmith>
oh, paul_irish retweeted it just a little while ago

[19:07:00.0000] <MikeSmith>
/me checks to see if http://html5.org/tools/web-apps-tracker is surviving

[19:10:00.0000] <Hixie>
miketaylr: btw the best thing about that tweet is that it's wrong ;-)

[19:10:01.0000] <Hixie>
er

[19:11:00.0000] <Hixie>
s/miketaylr/MikeSmith/

[19:11:01.0000] <Hixie>
but i see he's left

[19:11:02.0000] <Hixie>
oh well

[22:26:00.0000] <paul_irish>
Yeah. realized that late, as well. :/ /me retracts retweet

[22:27:00.0000] <Hixie>
a stupid mistake on my part, sadly

[22:27:01.0000] <Hixie>
gerv pointed it out to me in e-mail

[22:30:00.0000] <abarth>
Hixie: quick question about https://bugs.webkit.org/show_bug.cgi?id=57185 .  should we be firing the drop event in content editable?  /me is looking through the spec now, but I thought you might know off the top of your head

[22:30:01.0000] <Hixie>
can't see why we wouldn't...

[22:30:02.0000] <Hixie>
though scripts might be disabled entirely?

[22:30:03.0000] <Hixie>
i forget what the state of that stuff is

[22:31:00.0000] <Hixie>
AryehGregor, do you know?

[22:31:01.0000] <abarth>
the bug claims the spec used to not fire the event

[22:31:02.0000] <abarth>
but IE and Firefox do

[22:31:03.0000] <rniwa>
abarth: I think the spec doesn't mention this case

[22:32:00.0000] <Hixie>
the spec is trying to copy IE, so if the spec really says that it,s a bug, especially if Firefox does it

[22:32:01.0000] <abarth>
ok

[22:32:02.0000] <Hixie>
if it doesn't say that an event doesn't fire, then the place where it says the event does fire would mean it does

[22:32:03.0000] <abarth>
thanks

[22:32:04.0000] <Hixie>
i'd ask the reporter for a spec citation

[22:32:05.0000] <rniwa>
Hixie: I think the spec is currently lacking that case

[22:32:06.0000] <Hixie>
the spec has a fallback for all cases, no?

[22:32:07.0000] <Hixie>
so it can't lack a case

[22:32:08.0000] <abarth>
that's pretty elliptical, but i'll assume you mean we should try to fix webkit to match IE and Firefox :)

[22:33:00.0000] <Hixie>
abarth: well we should fix everything to match, i don't really mind if it means fixing IE, webkit, firefox or the spec, or some combination thereof

[22:34:00.0000] <Hixie>
abarth: i'm just saying that if the spec says "in case 1 do X, otherwise do Y", then that means that in case 2, you do Y, even though case 2 isn't mentioned explicitly

[22:35:00.0000] <abarth>
understood.  thanks

[22:36:00.0000] <rniwa>
oops, I think the spec does say we should fire drop event in this case

[22:36:01.0000] <Hixie>
oh?

[22:36:02.0000] <rniwa>
8.6.5

[22:36:03.0000] <rniwa>
Hixie, abarth: http://www.whatwg.org/specs/web-apps/current-work/multipage/dnd.html#dragevent

[22:36:04.0000] <Hixie>
that's a big section

[22:36:05.0000] <Hixie>
cite the text :-)

[22:37:00.0000] <Hixie>
quote the text, rather

[22:37:01.0000] <rniwa>
If the current drag operation is "none" (no drag operation), or, if the user ended the drag-and-drop operation by canceling it (e.g. by hitting the Escape key), or if the current target element is null, then the drag operation failed. Run these substeps:

[22:37:02.0000] <rniwa>
Otherwise, the drag operation might be a success; run these substeps:

[22:38:00.0000] <rniwa>
Let dropped be true.

[22:38:01.0000] <rniwa>
If the current target element is a DOM element, fire a DND event named drop at it; otherwise, use platform-specific conventions for indicating a drop.

[22:38:02.0000] <rniwa>
If the event is canceled, set the current drag operation to the value of the dropEffect attribute of the DragEvent object's dataTransfer object as it stood after the event dispatch finished.

[22:38:03.0000] <rniwa>
Otherwise, the event is not canceled; perform the event's default action, which depends on the exact target as follows:

[22:38:04.0000] <rniwa>
If the current target element is a text field (e.g. textarea, or an input element whose type attribute is in the Text state) or an editing host or editable element, and the drag data store item list has an item with the drag data item type string "text/plain" and the drag data item kind Plain Unicode string

[22:38:05.0000] <rniwa>
Insert the actual data of the first item in the drag data store item list to have a drag data item type string of "text/plain" and a drag data item kind that is Plain Unicode string into the text field or editing host or editable element in a manner consistent with platform-specific conventions (e.g. inserting it at the current mouse cursor position, or inserting it at the end of the field).

[22:38:06.0000] <rniwa>
Otherwise

[22:38:07.0000] <rniwa>
Reset the current drag operation to "none".

[22:38:08.0000] <rniwa>
abarth, Hixie: so drop event must fire immediately before we modify the text in the editable region

[22:38:09.0000] <Hixie>
i meant quote the specific text you think means something should happen with an editable element, not the whole thing :-P

[22:38:10.0000] <rniwa>
Hixie: this whole thing is relevant

[22:38:11.0000] <rniwa>
Hixie: unfortunately I didn't have a time to paraphrase the section

[22:39:00.0000] <Hixie>
i just needed something to find the place you needed using search :-)

[22:39:01.0000] <rniwa>
Hixie: actually, this just 4.1 :(

[22:39:02.0000] <rniwa>
there's also 4.2 & 4.3

[22:40:00.0000] <Hixie>
i don't see anything here that would stop us firing 'drop' in an editable element

[22:40:01.0000] <Hixie>
if anything, i only see stuff that would make us fire 'drop' more easily in an editable element than anywhere else

[22:41:00.0000] <rniwa>
Hixie: it doesn't say so

[22:41:01.0000] <Hixie>
because editable elements are special-cased to not need the event handler to explicitly cancel the events to receive the next one, etc

[22:41:02.0000] <rniwa>
Hixie: look at step 2 after "Otherwise, the drag operation might be a success; run these substeps:"

[22:41:03.0000] <Hixie>
right, that fires drop

[22:41:04.0000] <rniwa>
Hixie: yup

[22:42:00.0000] <Hixie>
before you get to anything that special cases content editable

[22:42:01.0000] <rniwa>
Hixie: yeah

[22:42:02.0000] <Hixie>
so... we would fire drop

[22:42:03.0000] <rniwa>
Hixie: so we need to drop even

[22:42:04.0000] <rniwa>
fire* drop event

[22:42:05.0000] <Hixie>
oh you're saying we _should_ drop the event

[22:42:06.0000] <Hixie>
ok

[22:42:07.0000] <Hixie>
i misunderstood

[22:42:08.0000] <Hixie>
yes, i agree we should fire the event

[22:43:00.0000] <Hixie>
the only reason we would need to _not_ fire it is if there was something that overrode the default behaviour here

[22:43:01.0000] <Hixie>
which there isn't

[22:43:02.0000] <rniwa>
yup

[22:51:00.0000] <MikeSmith>
paul_irish: btw, wasn't meaning to give you grief about the retweet

[22:52:00.0000] <MikeSmith>
I was just commenting on the fact that the twitter discussion about it seemed to have died down but then came back again

[22:52:01.0000] <MikeSmith>
and I realize that was happened after your retweet

[22:53:00.0000] <MikeSmith>
based on observing this I think I may adopt a best practice of not tweeting regular expressions

[22:53:01.0000] <MikeSmith>
not that I can think of another occasion where I'd want too anyway

[22:55:00.0000] <MikeSmith>
Hixie: about it being wrong, I actually kind of wondered about that when you first added it

[22:55:01.0000] <Hixie>
shoulda told me ;-)

[22:55:02.0000] <MikeSmith>
well, my faith in you is so solid that I never hesitated to question it :)

[22:55:03.0000] <Hixie>
boy is that misplaced faith :-P

[22:57:00.0000] <MikeSmith>
heh

[22:58:00.0000] <MikeSmith>
Hixie: did you see my earlier question

[22:58:01.0000] <MikeSmith>
http://krijnhoetmer.nl/irc-logs/whatwg/20120112#l-88

[22:58:02.0000] <Hixie>
you mean like for <input type=email value=...>?

[22:59:00.0000] <Hixie>
if so, "The value attribute, if specified and not empty, must have a value that is a single valid e-mail address." (for when multiple="" isn't set), and there's a similar line for when multiple="" is set

[22:59:01.0000] <Hixie>
"The value attribute, if specified, must have a value that is a valid e-mail address list."

[22:59:02.0000] <MikeSmith>
yeah

[23:00:00.0000] <MikeSmith>
but the spec also say the UA should change IDNs to punycode

[23:00:01.0000] <Hixie>
in user input, yeah

[23:00:02.0000] <MikeSmith>
IDN e-mail addresses

[23:00:03.0000] <MikeSmith>
ah

[23:00:04.0000] <MikeSmith>
yeah

[23:00:05.0000] <Hixie>
there's no current support for IDN in value=""

[23:00:06.0000] <MikeSmith>
yeah?

[23:00:07.0000] <MikeSmith>
why not?

[23:00:08.0000] <Hixie>
what's the use case? the value in the database would be punycoded

[23:01:00.0000] <Hixie>
since that's all the server will ever send

[23:01:01.0000] <Hixie>
er

[23:01:02.0000] <Hixie>
all the client

[23:01:03.0000] <Hixie>
will ever send

[23:01:04.0000] <Hixie>
to the server

[23:01:05.0000] <MikeSmith>
ah yeah

[23:01:06.0000] <MikeSmith>
man, I need to think better

[23:01:07.0000] <MikeSmith>
sorry for that

[23:01:08.0000] <Hixie>
join the club man

[23:01:09.0000] <MikeSmith>
heh

[23:01:10.0000] <Hixie>
we have t-shirts

[23:02:00.0000] <Hixie>
(they're probably misprinted)

[23:02:01.0000] <MikeSmith>
t-shirts?

[23:02:02.0000] <Hixie>
for our club of people who need to think better

[23:04:00.0000] <MikeSmith>
aha

[23:04:01.0000] <MikeSmith>
ah, misprinted

[23:04:02.0000] <MikeSmith>
yeah :)

[23:06:00.0000] <MikeSmith>
when thinking about stuff, I find it is sometimes optimal to talk with people in the physical world face-to-face

[23:06:01.0000] <MikeSmith>
which I sadly do much less than I should

[23:07:00.0000] <MikeSmith>
given that I spend whole stretches of time working at home and only stepping out to buy drink

[23:08:00.0000] <MikeSmith>
coworking thing would be nice but it's just obnoxiously expensive in tokyo

[23:08:01.0000] <Hixie>
i find things seem to make a lot of sense when i'm talking to someone face to face, and then i go home and think about it some more and realise everything we discussed is based on flawed assumptions and the whole thing was a waste of time :-P

[23:08:02.0000] <MikeSmith>
heh

[23:08:03.0000] <MikeSmith>
yeah, that too

[23:08:04.0000] <MikeSmith>
but it's more entertaining at least

[23:35:00.0000] <matjas>
how should characters outside the BMP be escaped in CSS? reading http://www.w3.org/TR/CSS21/syndata.html#characters makes it seem that U+1D306 could be written as `\1D306 ` or `\01D306`, but some browsers support escapes like `\D834\DF06 ` instead. Test case: http://jsfiddle.net/mathias/Hqk9T/

[23:36:00.0000] <matjas>
WebKit doesn’t support the regular syntax, e.g. "\1D306 " or "\01D306", but does support "\d834\df06 ". Opera supports both. Firefox only supports the regular syntax.

[23:37:00.0000] <matjas>
I’m not sure who’s right here. Does the CSS spec mention surrogate pairs anywhere?

[23:39:00.0000] <Hixie>
anyone got a chrome dev build handy?

[23:39:01.0000] <Hixie>
i want to know if http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1299 still crashes recent chromes (change the 10 to a 100 like it says in the comment)

[23:41:00.0000] <Hixie>
looks like in shipping chrome if you create more than 96 <audio> elements, the tab crashes

[23:43:00.0000] <matjas>
Hixie: doesn’t crash in Chrome 18.0.1003.1 canary on OS X

[23:43:01.0000] <Hixie>
ok good

[23:43:02.0000] <Hixie>
thanks

[00:16:00.0000] <matjas>
re: CSS escape sequences, I just filed https://bugs.webkit.org/show_bug.cgi?id=76152 and https://bugzilla.mozilla.org/show_bug.cgi?id=717529 — let me know if I’m missing something

[01:07:00.0000] <hsivonen>
does anyone happen to recall if IE supports loading document.open()ed docs from cache?

[01:08:00.0000] <hsivonen>
WebKit doesn't

[04:13:00.0000] <Velmont>
AryehGregor: An Opera devel has some patches for selection test suite. Where to send? Directly to you? Bug? public-html-testsuite?

[04:19:00.0000] <Ms2ger>
public-webapps-testsuite, I guess

[04:39:00.0000] <wilhelm>
jgraham: Fun. The bizarre insert-random-characters-bug has returned.

[04:39:01.0000] <jgraham>
wilhelm: Have you considered getting an exorcist?

[04:40:00.0000] <wilhelm>
There is one in the church I was attempted raised in, actually. I could talk to him.

[04:41:00.0000] <jgraham>
Strange thing for a ghost to do though, repeatedly pressing keys. I thought they were more into pottery.

[04:42:00.0000] <wilhelm>
Indeed.

[07:06:00.0000] <AryehGregor>
So now I have patches submitted in Mercurial format and have to figure out how to import them to git.

[07:07:00.0000] <AryehGregor>
hg-git fails with a mysterious error message, of course.

[07:10:00.0000] <jgraham>
(why do you need them in git format?)

[07:10:01.0000] <AryehGregor>
Because I maintain the repo in git, so I need to import the patches to git so I have them in my source repo.

[07:10:02.0000] <AryehGregor>
I convert the repo to hg for publication.

[07:10:03.0000] <AryehGregor>
Unfortunately, hg-git is extremely flaky, as it turns out.

[07:11:00.0000] <AryehGregor>
Clone works okay; push and pull tend to fail in my experience.

[07:11:01.0000] <AryehGregor>
So I got around pull not working by just re-cloning the git repo every time before pushing.

[07:11:02.0000] <AryehGregor>
But I guess I have to manually reformat the hg patch in lieu of getting hg push working.

[07:12:00.0000] <AryehGregor>
hg help git lists commands gclear, gexport, gimport, and git-cleanup, but they themselves have no help text.  SIGH.

[07:14:00.0000] <AryehGregor>
Hmm.

[07:15:00.0000] <AryehGregor>
/me is very confused

[07:20:00.0000] <AryehGregor>
Okay, I finally managed to get it to work by a series of very confusing and annoying steps.

[07:20:01.0000] <AryehGregor>
I think I'll manually convert the patch to git format next time.

[07:20:02.0000] <AryehGregor>
And maybe update the spec saying that the preferred manner to submit updates is a pull request on github.

[07:21:00.0000] <Philip`>
/me wonders why git can't just import "patch"-compatible patches directly

[07:21:01.0000] <AryehGregor>
It can, but they don't have the authorship info, right?

[07:22:00.0000] <Philip`>
/me generally doesn't care about authorship info

[07:23:00.0000] <AryehGregor>
/me does when someone has taken the effort to submit a well-formed patch

[07:40:00.0000] <AryehGregor>
Hixie, so what I really want is one selection for every document that's returned by the .document property of some window, I think.  Is that the same as "in a browsing context"?

[07:40:01.0000] <AryehGregor>
/me wants to clearly define this, because it seems browsers don't all agree

[07:44:00.0000] <AryehGregor>
Hmm.

[07:44:01.0000] <AryehGregor>
Maybe I should just say all Documents have a Selection.

[07:44:02.0000] <AryehGregor>
That seems to be how IE behaves.

[07:44:03.0000] <AryehGregor>
It's certainly simplest.

[07:45:00.0000] <AryehGregor>
/me wonders what happens if you addRange() a Range whose endpoints don't lie in the document . . .

[07:47:00.0000] <AryehGregor>
So should document.implementation.createHTMLDocument("").getSelection() return a) null (WebKit), b) the same Selection as document.getSelection() (Gecko/Opera), c) a different Selection (IE)?

[07:47:01.0000] <AryehGregor>
(c) is simplest . . .

[07:49:00.0000] <gsnedders>
Does that not imply that iframes can have a different selection to the parent?

[07:50:00.0000] <AryehGregor>
gsnedders, iframes definitely have a different selection from the parent, according to everyone AFAIK.

[07:50:01.0000] <AryehGregor>
/me double-check

[07:50:02.0000] <AryehGregor>
/me double-checks

[07:51:00.0000] <AryehGregor>
gsnedders, http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cp%3Eabc%3C%2Fp%3E%0D%0A%3Ciframe%3E%3C%2Fiframe%3E%0D%0A%3Cscript%3E%0D%0AgetSelection().selectAllChildren(document.querySelector(%22p%22))%3B%0D%0Aw(getSelection())%3B%0D%0Aw(document.querySelector(%22iframe%22).contentWindow.getSelection())%3B%0D%0A%3C%2Fscript%3E

[07:51:01.0000] <AryehGregor>
The question is whether documents that aren't the active document of any window also have their own selection.

[07:53:00.0000] <AryehGregor>
Previously I decided no, now I've changed my mind.

[07:53:01.0000] <AryehGregor>
Hmm.

[07:53:02.0000] <AryehGregor>
I think I'll ask the list.

[08:09:00.0000] <gsnedders>
Yay for Google+ browser sniffing. :\

[09:11:00.0000] <dglazkov>
good morning, Whatwg!

[09:45:00.0000] <sneethling>
hey all

[09:45:01.0000] <sneethling>
question regarding input type=date

[09:46:00.0000] <sneethling>
is there a way to specify the locale it should use or does it simply use the current locale? If so, does it choose the server locale or the user locale?

[09:50:00.0000] <Ms2ger>
user

[10:23:00.0000] <Ms2ger>
Go, WebKit

[10:24:00.0000] <Ms2ger>
(https://bugs.webkit.org/show_bug.cgi?id=76121)

[10:55:00.0000] <Ms2ger>
jgraham, did you have time to look at disabling output for testharness.js?

[12:01:00.0000] <AryehGregor>
Does anyone know why 2D transforms allow 2x3 matrices, but 3D transforms allow 4x4 instead of 3x4?  What meaning does something like matrix3d(1,0,0,0,  0,1,0,0,  0,0,0,1,  0,0,1,0) have?  It will map (0,0,z,1) to (0,0,1,z), which is (0,0,1/z,1)?  That's not affine . . .

[12:05:00.0000] <hober>
AryehGregor: linalg makes my head hurt, but smfr or cmarrin in #webkit could answer...

[12:05:01.0000] <jamesr>
the bottom row is to map the homogeneous coordinate, not the z

[12:05:02.0000] <jamesr>
i can't remember why it's important...

[12:05:03.0000] <AryehGregor>
jamesr, I know, but isn't the homogeneous coordinate always supposed to be 1?  I thought that was the point of homogeneous coordinates.

[12:06:00.0000] <AryehGregor>
What's the geometric significance of a homogeneous coordinate that's not 1?

[12:06:01.0000] <jamesr>
http://en.wikipedia.org/wiki/Transformation_matrix#Perspective_projection

[12:07:00.0000] <AryehGregor>
Oh, so basically you divide out by the last coordinate, just like in mathematics.  And that's not affine, but it produces some other useful visual effect.

[12:08:00.0000] <jamesr>
it's all smoke and mirrors, but it ends up being very useful

[12:08:01.0000] <AryehGregor>
Okay, I'll take it on faith that it makes sense graphically.

[12:09:00.0000] <AryehGregor>
I assume that any point whose last component is 0 is just assumed not to exist graphically (the "point at infinity").

[12:11:00.0000] <jamesr>
i think it's done this way by convention, not out of pure mathematical necessity, but that does sound like the usual interpretation

[12:12:00.0000] <Philip`>
AryehGregor: Points at infinity are useful for e.g. representing the position of the sun in lighting equations

[12:13:00.0000] <AryehGregor>
Philip`, don't you want the sun to be in a particular direction?  The point at infinity isn't in any particular direction in the formalism I'm familiar with.

[12:13:01.0000] <Ms2ger>
How many dimensions?

[12:14:00.0000] <AryehGregor>
Any number.

[12:14:01.0000] <Philip`>
AryehGregor: If the vector is (x,y,z,0) then it's in the same direction as (x,y,z,1) but infinitely far away

[12:14:02.0000] <AryehGregor>
(I learned all about homogeneous coordinate systems in an undergrad number theory research program)

[12:14:03.0000] <AryehGregor>
Philip`, oh, so you don't treat all vectors with last coordinate 0 as equivalent?  Interesting.

[12:14:04.0000] <Ms2ger>
In projective geometry, we had lines at infinity as well

[12:14:05.0000] <AryehGregor>
Oh, right.

[12:15:00.0000] <AryehGregor>
I guess it's really just an n-2-manifold at infinity or something like that.

[12:15:01.0000] <AryehGregor>
I also got this paper out of the undergrad research: http://www.sciencedirect.com/science/article/pii/S0022314X11001788

[12:15:02.0000] <Ms2ger>
Sounds right

[12:15:03.0000] <AryehGregor>
But it's cool that there are applications to my job too.

[12:16:00.0000] <Ms2ger>
Or n-1

[12:20:00.0000] <AryehGregor>
Oh, yeah, that makes more sense.  A hyperplane at infinity.

[12:20:01.0000] <AryehGregor>
So it's a point at infinity for the homogeneous line, which is really S^1.

[12:20:02.0000] <AryehGregor>
Or something.

[12:21:00.0000] <AryehGregor>
I guess I was thinking P^n was the one-point compactification of R^n or something?  Well, whatever.

[12:31:00.0000] <AryehGregor>
/me discovers that testing that matrix entries are correct to within +-1.5 means that an entry of 1 instead of 0 or vice versa passes

[12:31:01.0000] <AryehGregor>
Who'd have thought?

[15:13:00.0000] <jamesr>
TabAtkins: yo, what's the status of http://dev.w3.org/csswg/css3-box/ compared to http://www.w3.org/TR/CSS2/visuren.html / http://www.w3.org/TR/CSS2/visudet.html for defining basic block / inline layout modes?

[15:15:00.0000] <jamesr>
does css3 box superscede 2.1 visres/visdet, or is it incomplete?

[15:50:00.0000] <ojan>
TabAtkins: qq...flex-align: stretch on parent, flex-item-align: auto on child. getcomputedstyle of flex-item-align on the child should return stretch or auto?

[15:50:01.0000] <ojan>
TabAtkins: and what spec covers this?

[15:51:00.0000] <ojan>
computed style continue to confound me

[15:51:01.0000] <ojan>
i guess this is covered by cssom

[15:54:00.0000] <jamesr>
ojan: http://dev.w3.org/csswg/cssom/#resolved-values

[15:54:01.0000] <jamesr>
since flex-align-item isn't in the magic list for getComputedStyle, it returns the computed value of that property

[15:56:00.0000] <ojan>
jamesr: yeah...i've read that before...but i don't see anything defining what "resolved value" and "computed value" actually are

[15:56:01.0000] <jamesr>
resolved value = computed value, except for that list of properties in which case resolved value = something else

[15:56:02.0000] <jamesr>
computed value = this guy: http://dev.w3.org/csswg/css3-cascade/#computed

[15:57:00.0000] <jamesr>
so basically after matching selectors and doing inheritance

[15:58:00.0000] <ojan>
jamesr++

[15:58:01.0000] <ojan>
thx

[15:58:02.0000] <jamesr>
i think it'd be auto in your case unless there's something that modifies it in some way due to inheritance

[15:59:00.0000] <ojan>
jamesr: yeah...it won't be auto. flex-align modifies it due to inheritance


2012-01-13
[16:00:00.0000] <ojan>
jamesr: as in...if flex-item-align is auto, then it uses the flex-align value of it's parent

[16:01:00.0000] <jamesr>
ah ok, i think that modification should apply to the computed value, then

[16:14:00.0000] <ojan>
jamesr: hmmm...i'm not really sure that's correct

[16:14:01.0000] <ojan>
because the value isn't inherited exactly

[16:14:02.0000] <jamesr>
what exactly modifies it?

[16:14:03.0000] <ojan>
auto on the child just means look at the parent's flex-align

[16:14:04.0000] <jamesr>
some stuff stays 'auto' and then is figured out at layout time (aka computed->used time)

[16:14:05.0000] <ojan>
yeah

[16:14:06.0000] <ojan>
that's this

[16:15:00.0000] <ojan>
hm...but it's not used value as per flexAlignForChild

[16:15:01.0000] <ojan>
hmmm...

[16:15:02.0000] <ojan>
as per http://dev.w3.org/csswg/css3-cascade/#computed

[16:15:03.0000] <ojan>
becuase you don't need to format the document to figure out the value

[16:16:00.0000] <ojan>
i can't think of other cases where we have auto values that can be resolved without laying out the document

[16:16:01.0000] <ojan>
hm...maybe i should just send an email to www-style

[16:17:00.0000] <jamesr>
i think the "resolve as much as possible" text is pretty vague

[16:17:01.0000] <ojan>
yeah

[16:17:02.0000] <jamesr>
i think that means for calc()

[16:23:00.0000] <jamesr>
but i'm not sure

[16:54:00.0000] <AryehGregor>
Why does an error event fired at a <source> not bubble?  If it bubbled, you could put a single onerror on <video> and be done with it.

[16:54:01.0000] <AryehGregor>
Maybe we don't want it bubbling up to the body or document or whatever and confusing people?

[16:55:00.0000] <AryehGregor>
In that case, maybe it would make sense to fire an error event at the <video> separately.

[16:59:00.0000] <rniwa>
AryehGregor, Hixie: ping

[16:59:01.0000] <AryehGregor>
rniwa, pong.

[16:59:02.0000] <rniwa>
AryehGregor: hi, I think drag & drop model is somewhat flawed

[16:59:03.0000] <Hixie>
rniwa: here

[16:59:04.0000] <AryehGregor>
The one in the HTML spec?  I'm not familiar with it.

[16:59:05.0000] <rniwa>
http://www.whatwg.org/specs/web-apps/current-work/multipage/dnd.html#drag-and-drop-processing-model

[16:59:06.0000] <Hixie>
rniwa: the drag and drop model is terribly flawed

[16:59:07.0000] <Hixie>
rniwa: news at 11 :-)

[16:59:08.0000] <rniwa>
says that we need to insert contents immediately after firing drop event

[16:59:09.0000] <Hixie>
it's just what IE5.5 did

[17:00:00.0000] <Hixie>
which is just what COM did

[17:00:01.0000] <Hixie>
or COM+ or something

[17:00:02.0000] <Hixie>
old windows tech

[17:00:03.0000] <rniwa>
and then delete contents inside dragend event

[17:00:04.0000] <rniwa>
but this would mean that when the user undo the actions the last action to be undone is the insertion of the contents

[17:01:00.0000] <rniwa>
so we end up placing the caret at the drag destination

[17:01:01.0000] <rniwa>
as supposed to selecting the dragged (moved) source

[17:02:00.0000] <rniwa>
Hixie, AryehGregor: the fact the insertion and deletion of the contents happen at a different timing makes it really hard to implement correctly in webkit

[17:07:00.0000] <rniwa>
Hixie, AryehGregor: e.g. Firefox 9 deletes & inserts the content after dragend event is fired

[17:08:00.0000] <rniwa>
Hixie, AryehGregor: and I'm more inclined to follow that behavior than following the current spec.

[17:09:00.0000] <rniwa>
any opinion about this?

[17:12:00.0000] <AryehGregor>
/me has no opinions about DnD

[17:13:00.0000] <rniwa>
AryehGregor: https://bugs.webkit.org/show_bug.cgi?id=57185

[17:14:00.0000] <rniwa>
AryehGregor: my current approach is an insane hack

[17:14:01.0000] <rniwa>
AryehGregor: and frankly, firefox's behavior is much saner

[17:14:02.0000] <rniwa>
sicking: hi sicking

[17:19:00.0000] <Hixie>
rniwa: what does IE do?

[17:19:01.0000] <Hixie>
rniwa: this is probably related to the way IE collapsed all (scripted and UA-driven) DOM modifications during DND into a single undo event

[17:20:00.0000] <rniwa>
Hixie: presumably what your spec says now?

[17:20:01.0000] <Hixie>
presumably, but if it doesn't then it's much easier to argue that we should change the spec

[17:20:02.0000] <rniwa>
Hixie: I don't have a windows machine at hand now

[17:21:00.0000] <Hixie>
me either :-(

[17:22:00.0000] <rniwa>
Hixie: though I'm not too concerned about matching undo behavior for dragging text

[17:23:00.0000] <rniwa>
Hixie: I don't think it really matters as long as we define whether script-initiated dom mutations should be undone or not

[17:23:01.0000] <rniwa>
whether all dom mutations being in single dom transaction or not isn't that important as far as i'm concerned

[17:23:02.0000] <Hixie>
the undo behaviour isn't a huge problem here but i would imagine that how to react to events getting canceled does

[17:24:00.0000] <rniwa>
Hixie: right.

[17:24:01.0000] <Hixie>
which would imply not being able to move the point in the algorithm where stuff is removed and added to the dom

[17:24:02.0000] <rniwa>
Hixie: right now, things are added then removed :(

[17:24:03.0000] <rniwa>
Hixie: that's the problem

[17:25:00.0000] <rniwa>
if we had removed then added, this won't be an issue

[17:25:01.0000] <Hixie>
right but my point is that we maybe can't change that

[17:25:02.0000] <Hixie>
a site could rely on the add happening, and the remove not

[17:25:03.0000] <Hixie>
/me doesn't know

[17:25:04.0000] <rniwa>
Hixie: how could that be?

[17:25:05.0000] <Hixie>
maybe they want the user to be able to copy stuff or something

[17:25:06.0000] <rniwa>
Hixie: webkit doesn't even fire drop & dragend events for text drag at the moment

[17:26:00.0000] <rniwa>
they can't possibly be relying on that

[17:26:01.0000] <Hixie>
webkit is irrelevant to code written for IE

[17:26:02.0000] <rniwa>
and firefox moves the text atomically in dragend

[17:26:03.0000] <Hixie>
webkit didn't _exist_ when this stuff was in a browser with 99% market share

[17:26:04.0000] <Hixie>
nor did firefox

[17:26:05.0000] <Hixie>
who knows what old code is out there that relies on this API

[17:27:00.0000] <rniwa>
maybe

[17:27:01.0000] <Hixie>
but maybe nothing depends on it and we can change it

[17:27:02.0000] <Hixie>
i have no data either way

[17:34:00.0000] <rniwa>
Hixie: oops, I was wrong. Firefox and WebKit matches the behavior

[17:34:01.0000] <rniwa>
Hixie: we both remove & insert text at the timing drop event is fired

[17:34:02.0000] <rniwa>
Hixie: only IE delays deletion until drop event

[17:34:03.0000] <rniwa>
Hixie: I can't figure out how to trigger text drag on Opera though...

[17:35:00.0000] <Hixie>
spec matches which, IE?

[17:35:01.0000] <rniwa>
/me tires firefox beta

[17:35:02.0000] <rniwa>
Hixie: the spec matches IE

[17:35:03.0000] <rniwa>
Hixie: I've just checked IE9

[17:35:04.0000] <Hixie>
k

[17:36:00.0000] <rniwa>
Hixie: I'd go as far as to say I don't think WebKit will ever match IE

[17:36:01.0000] <rniwa>
Hixie: since it's extremely challenging for us to match IE's behavior here

[17:46:00.0000] <Hixie>
that's good information to have

[17:46:01.0000] <Hixie>
if i can convince you to, it would be helpful for you to post to the list saying this, along with a test case showing the problem

[17:46:02.0000] <Hixie>
maybe public-webapps since it'd be good to get a microsoft person to comment

[17:46:03.0000] <rniwa>
Hixie: good idea

[17:47:00.0000] <rniwa>
/me puts that on his long todo list

[17:47:01.0000] <Hixie>
heh

[17:47:02.0000] <Hixie>
i know that feeling

[17:48:00.0000] <rniwa>
Hixie: these days, I feel like I almost need a personal secretary program to keep track of what I need to do

[17:50:00.0000] <Hixie>
i've been tempted to ask chris if i can get a secretary

[17:50:01.0000] <Hixie>
but then i'd have to, like, manage them

[17:52:00.0000] <rniwa>
Hixie: yeah, your case is much more extreme

[17:53:00.0000] <rniwa>
Hixie: but then if that secretary doesn't know about html/etc... he/she won't be much of a help either

[17:54:00.0000] <rniwa>
i guess the knowledge of the web technology is a requirement for your secretary but even then finding a person who knows well enough about it and wants to be a secretary instead of a developer might be hard

[17:56:00.0000] <Hixie>
yeah well

[17:56:01.0000] <Hixie>
that's the main problem with finding spec writers in general

[17:57:00.0000] <Hixie>
all the good ones aren't stupid enough to go into spec writing as a career :-P

[17:57:01.0000] <Hixie>
apparently with the exception of a few of us here ;-)

[18:31:00.0000] <rniwa>
Hixie: yeah I hear you

[19:36:00.0000] <MikeSmith>
https://twitter.com/#!/james_clark/status/157667289947312128

[19:36:01.0000] <MikeSmith>
nattokirai: ↑

[19:37:00.0000] <nattokirai>
now that's cute...

[19:46:00.0000] <MikeSmith>
nattokirai, gotta love james, man

[19:46:01.0000] <nattokirai>
but now i'm very curious to see the final invitation...

[19:46:02.0000] <MikeSmith>
heh

[19:46:03.0000] <MikeSmith>
yeah

[21:44:00.0000] <crassus>
Does anyone know how to sync cookie/login information for mobile webapps that get homescreened to the server?

[21:45:00.0000] <crassus>
basically I'm wondering how to keep the cookies there for homescreened webapps so the user won't be logged out once the phone restarts or whatever

[21:45:01.0000] <nattokirai>
MikeSmith: https://twitter.com/?iid=am-167106996113264332229250283&nid=4+status_user&uid=48654803&utm_content=profile#!/H_FJ/status/157698482357014528

[21:46:00.0000] <MikeSmith>
heh

[21:46:01.0000] <MikeSmith>
yah man

[21:46:02.0000] <MikeSmith>
certainly true in JP

[21:47:00.0000] <MikeSmith>
where 25:00 is seriously a real time indicator

[21:47:01.0000] <nattokirai>
25:60 sounds like a good time for a wedding

[21:47:02.0000] <MikeSmith>
heh

[21:47:03.0000] <MikeSmith>
yeah

[22:44:00.0000] <smaug____>
dglazkov: looks like shadow DOM's event handling is rather limited... but I need to read still some more documentation...

[00:35:00.0000] <zcorpan>
AryehGregor: it doesn't bubble because if you have three <source>s, and the first two fail, you'd get two error events

[00:36:00.0000] <zcorpan>
AryehGregor: and it would mess with window.onerror which is for something else

[00:36:01.0000] <zcorpan>
AryehGregor: if you want to know that all sources have failed, put onerror="" on the last one and be done with it

[00:38:00.0000] <zcorpan>
AryehGregor: we don't fire on the video separately because the resource selection algorithm never finishes if the sources fail

[01:30:00.0000] <zcorpan>
execCommand on element is an opportunity to use a different API that sucks less

[01:47:00.0000] <hsivonen>
I wonder if it is a known bug that WebKit reuses the inner window in this case: https://bug715739.bugzilla.mozilla.org/attachment.cgi?id=586285

[01:47:01.0000] <hsivonen>
the spec says not to. Firefox, IE and Opera don't.

[02:30:00.0000] <hsivonen>
it bothers me that the a11y TF keeps expecting to use DOM events for tracking the document state from AT

[02:54:00.0000] <jgraham>
Ms2ger: https://github.com/jgraham/html-testsuite/commit/b0f5a00987220d600e12d7546431e8ab5e002fb5

[02:57:00.0000] <Ms2ger>
Thanks

[03:02:00.0000] <jgraham>
Ms2ger: You can even review the code if you are so inclined :)

[03:02:01.0000] <Ms2ger>
r-, inconsistent style ;)

[03:03:00.0000] <Ms2ger>
And forgot a 'var'

[03:07:00.0000] <jgraham>
Wow, github is pretty email-happy

[03:08:00.0000] <Ms2ger>
Hmm, maybe I shouldn't have clicked the button for each comment

[03:08:01.0000] <jgraham>
Anyway, I will fix :)

[03:09:00.0000] <Ms2ger>
Thanks :)

[03:12:00.0000] <jgraham>
(once I figure out hg-git a bit better. Is there really no documentation?!)

[03:15:00.0000] <hsivonen>
I still haven't figured out if JS-based "responsive design" that swaps images belongs in the same Web authoring bandwagon bucket that XHTML-as-text/html belonged to or if the need and benefits are real

[03:16:00.0000] <hsivonen>
was my email to the list too grumpy?

[03:20:00.0000] <jgraham>
hsivonen: No, that email was barely a blip on my grumpy-o-meter

[03:21:00.0000] <jgraham>
What the mobify people are doing sounds pretty nuts to me

[03:21:01.0000] <hsivonen>
jgraham: thanks

[03:26:00.0000] <jgraham>
Ms2ger: Do you have a use case for overriding on a per-test basis? It seems to me that if you are running in a perf-sensitive environment where the output will never ne used (e.g. buildbot) you want final say on whether it is generated or not

[03:26:01.0000] <jgraham>
s/ne/be/

[03:42:00.0000] <Ms2ger>
jgraham, I don't really care either way

[04:13:00.0000] <NimeshNeema>
Can someone please suggest a GUI text editor for web dev (will be mostly editing hand-written .js .css and .html) with code folding and bracket matching for ubuntu 11.10

[04:14:00.0000] <Ms2ger>
vim

[04:26:00.0000] <jgraham>
emacs

[04:31:00.0000] <Ms2ger>
vim!

[04:32:00.0000] <jgraham>
emacs!important

[04:34:00.0000] <Ms2ger>
vim!legal

[05:12:00.0000] <Workshiva>
But legal and important are the same level, aren't they?

[05:14:00.0000] <jarek>
NimeshNeema: Sublime Edit 2

[05:14:01.0000] <jarek>
no, it's actually called "Sublime Text 2"

[05:14:02.0000] <NimeshNeema>
jarek: i tried it. it didn't supported Indian Language characters which i am working on extensively

[05:15:00.0000] <smaug____>
s/(emacs|vim)/jedit/

[05:16:00.0000] <jarek>
NimeshNeema: Geany, Gedit?

[05:17:00.0000] <jgraham>
Eclipse?

[05:17:01.0000] <jgraham>
(joking)

[05:17:02.0000] <NimeshNeema>
jarek: Geany did the trick. I didn't found the required features in gedit so was searching for something which fulfills my needs

[05:22:00.0000] <MikeSmith>
visual studio

[05:24:00.0000] <hsivonen>
jgraham: why do people make fun of Eclipse? It's the new Emacs.

[05:25:00.0000] <wilhelm>
I can't think of any reason not to make fun of Eclipse.

[05:25:01.0000] <wilhelm>
I was exposed to it last week.

[05:26:00.0000] <NimeshNeema>
wilhelm: he he

[05:26:01.0000] <MikeSmith>
Eclipse is an acronym for "Eclipse makes a computer even slower than Emacs"

[05:28:00.0000] <Ms2ger>
That's an... interesting acronym

[05:33:00.0000] <jgraham>
hsivonen: Last time I tried it it first crashed on startup and then, once I did something to make it not crash, froze shortly after startup. For all I know there isn't actually an editor there at all.

[05:34:00.0000] <hsivonen>
you just need to make an offering of RAM to Eclipse up front

[05:34:01.0000] <wilhelm>
And a goat. Don't forget the goat.

[05:36:00.0000] <jgraham>
I suppose it could have been lack of memory; I don't really recall. But I do remember the problem didn't seem temporary and I had to kill it.

[05:44:00.0000] <hsivonen>
Eclipse ships with JVM heap parameters that are insufficient for editing the Firefox codebase

[05:45:00.0000] <MikeSmith>
um

[05:45:01.0000] <MikeSmith>
what kind of madman uses Eclipse to edit Firefox code..

[05:45:02.0000] <hsivonen>
MikeSmith: I do

[05:45:03.0000] <MikeSmith>
oh

[05:45:04.0000] <MikeSmith>
you are nuts man

[05:45:05.0000] <MikeSmith>
why why why

[05:46:00.0000] <MikeSmith>
masochism

[05:46:01.0000] <hsivonen>
MikeSmith: ctrl-space, ctrl-shift-g among other things

[05:46:02.0000] <MikeSmith>
ah

[05:46:03.0000] <MikeSmith>
well

[05:46:04.0000] <MikeSmith>
speaking madness

[05:46:05.0000] <hsivonen>
I regret that I spent so much time using XCode on Mac before I switched to Eclipse on Linux

[05:46:06.0000] <MikeSmith>
there is the eclim thing for vim

[05:47:00.0000] <hsivonen>
ctrl-shift-g would be more useful if Gecko was less COMtaminated

[05:47:01.0000] <MikeSmith>
which at the risk of also being considered insane I will admit to having used

[05:47:02.0000] <MikeSmith>
ah yeah

[05:47:03.0000] <MikeSmith>
the grand XPCOM experiment

[05:48:00.0000] <MikeSmith>
that was a grand idea at the time

[05:49:00.0000] <hsivonen>
I like Eclipse and have made hardware purchases motivated by it

[05:49:01.0000] <Philip`>
/me can barely stand writing C++ in anything other than Visual Studio + Visual Assist

[05:49:02.0000] <Philip`>
(Eclipse is the least bad alternative I've used)

[06:05:00.0000] <niloy_>
Anyone thinks Netbeans is a good editor?

[06:08:00.0000] <hsivonen>
niloy_: it uses the Validator.nu HTML parser, so it has to be ;-)

[07:16:00.0000] <AryehGregor>
zcorpan (in absentia): ah, that makes a lot of sense.  If you have <source>s, you can put the error event on the last <source>, and if you don't, you can put it on the <video>.

[07:16:01.0000] <AryehGregor>
I'd still think a separate error event fired at the <video> as well would be useful, but what we have now sounds like it should work fine too.

[07:46:00.0000] <niloy_>
Error event on the last source implies all sources are processed from top to bottom, that is standardized?

[08:06:00.0000] <AryehGregor>
niloy (in absentia): yes.

[08:38:00.0000] <speedxcore>
I'm looking for the WHATWG development workflow. Anyone who has a link.

[08:39:00.0000] <Ms2ger>
http://wiki.whatwg.org/wiki/FAQ, maybe?

[08:54:00.0000] <dglazkov>
good morning, Whatwg!

[08:54:01.0000] <dglazkov>
smaug____: please file bugs as you find problems! Your help is greatly appreciated.

[08:54:02.0000] <smaug____>
dglazkov: I will

[08:54:03.0000] <speedxcore>
Ms2ger: Thanks I found what I was looking for.

[08:54:04.0000] <Ms2ger>
Np

[08:54:05.0000] <smaug____>
is there a component in w3c bugzilla ?

[08:54:06.0000] <smaug____>
dglazkov: ^

[08:55:00.0000] <dglazkov>
smaug____: yep. There's even a handy button at the top

[08:55:01.0000] <dglazkov>
which prefills the bug with the right stuff

[08:55:02.0000] <dglazkov>
The "File a bug" button :)

[08:56:00.0000] <speedxcore>
How is the editor for WHATWG elected? Is there any semi-democratic process?

[08:56:01.0000] <Ms2ger>
No

[08:56:02.0000] <jgraham>
Yes, it is "semi" democratic

[08:56:03.0000] <Ms2ger>
There's only one person who's mad enough to do it

[08:57:00.0000] <jgraham>
In the same way that all good dictatorships are

[08:57:01.0000] <jgraham>
Except this one actually has a basis in merit, and an out clause

[08:57:02.0000] <speedxcore>
I guess if the editor is misbehaving a revolution will accour =)

[08:58:00.0000] <gsnedders>
Technically the members can place whoever they want as editor. In practice, there are few people who'll actually manage to get paid to work fulltime on editing a spec.

[08:58:01.0000] <jgraham>
The out clause being "if Hixie stops being a good editor, browser vendors will just ignore him and fork the spec"

[08:59:00.0000] <speedxcore>
jgraham: Thanks, I just wanted to confirm my suspicion from reading the faq. Fork on misbehave sounds correct.

[09:00:00.0000] <speedxcore>
Does google-ceo have any influence over Ian when he takes crucial decisions?

[09:00:01.0000] <Ms2ger>
Also, the WHATWG Members

[09:01:00.0000] <Ms2ger>
speedxcore, Hixie claims not

[09:01:01.0000] <speedxcore>
btw. I'm not trying to troll or anything. I'm writing a report on html development, and want everything to be correct.

[09:01:02.0000] <gsnedders>
In practice the WHATWG Members have influence insofar as they can just threaten to walk out and replace the editor.

[09:02:00.0000] <speedxcore>
gsnedders: Now I get it. Thanks.

[09:08:00.0000] <Philip`>
It seems the most unique visible influence of Google is in providing resources for research, and in Google developers being able to easily have face-to-face meetings with Hixie

[09:08:01.0000] <smaug____>
speedxcore: well, browser vendors have influence what Ian does, and I could assume google-ceo can affect to Chrome, so that way he has some influence

[09:08:02.0000] <Philip`>
Otherwise they don't seem to do anything much different to any other similar organisation

[09:12:00.0000] <speedxcore>
Philip`: if the chrome-team would know what decision Hixie is going to take before it gets published that could be a competitive edge, but maybe that doesn't happen. Or isn't a problem.

[09:13:00.0000] <Ms2ger>
Philip`, from what I hear, other browser vendors in the bay area can get to meet Hixie f2f about as easily

[09:13:01.0000] <Ms2ger>
So I guess we're just excluding Opera

[09:13:02.0000] <jamesr>
IE team isn't in the bay area

[09:13:03.0000] <hober>
Ms2ger: yeah, pretty much

[09:13:04.0000] <smaug____>
(Afaik Opera has an office in that area)

[09:14:00.0000] <Ms2ger>
Pff, IE

[09:14:01.0000] <gsnedders>
smaug____: Sales and marketing only.

[09:14:02.0000] <smaug____>
oh

[09:14:03.0000] <gsnedders>
There are a few engineering staff in the US, but related to contracts with US companies.

[09:15:00.0000] <smaug____>
well, if Hixie does something Opera doesn't like, Anne can always do counter changes in one of his specs :p

[09:15:01.0000] <gsnedders>
And one or two who work remotely from home.

[09:15:02.0000] <Ms2ger>
smaug____, you mean, in half a year, when he gets to edit that spec again ;)

[09:15:03.0000] <smaug____>
half a year?

[09:16:00.0000] <Philip`>
speedxcore: Decisions about things like API design usually don't seem to happen until the point when the spec text is written, and at that point it gets pushed to SVN and everyone can see it

[09:17:00.0000] <smaug____>
and after something is in the spec, it gets reviewed and often changed

[09:17:01.0000] <speedxcore>
Philip`: sounds like a minor or non-existant problem in that case.

[09:17:02.0000] <Ms2ger>
smaug____, with the number of specs he's editing, how could he get to each spec more than once very six months? :)

[09:17:03.0000] <smaug____>
reviewing may happen months or even years after the text has been written

[09:17:04.0000] <smaug____>
Ms2ger: ah, true

[09:23:00.0000] <AryehGregor>
speedxcore, FWIW, I worked for the last year on spec editing under Hixie, and no one from Google got disproportionate influence over my technical decisions.  Some of them would send me private e-mail, but so would other people.  I met once face-to-face with some Google people, but Mozilla people too.

[09:24:00.0000] <AryehGregor>
Hixie would tell me what I could work on on Google's time, but not what I had to put in the spec.

[09:28:00.0000] <speedxcore>
AryehGregor: Interesting to know. Development workflow seems fair according to your account. I have poor understanding for what goes on behind the scenes and writing on a report so that's why I brought this up. Thank you

[09:56:00.0000] <smaug____>
Nightly's 3D is fun. I wonder why Facebook and Gmail use so deep DOM hierarchies

[10:31:00.0000] <TabAtkins>
jamesr: Box is *completely* obsolete.  Pay no attention to it.

[10:31:01.0000] <jamesr>
even the dec 2011 revision?

[10:31:02.0000] <jamesr>
sorry, nov 2011

[10:32:00.0000] <AryehGregor>
smaug____, Gmail is generated using GWT from a Java program, IIUC, not hand-written or anything close to it.

[10:33:00.0000] <TabAtkins>
jamesr: Yes.

[10:33:01.0000] <jamesr>
AryehGregor: ?????? no

[10:33:02.0000] <smaug____>
AryehGregor: based on the 3D view of it, there should be plenty of ways to optimize it

[10:34:00.0000] <TabAtkins>
Anton should be working on it now, but it'll still be a while before it's usable.

[10:34:01.0000] <jamesr>
TabAtkins: k. is anyone/anything working on improving or replacing visres/visdet?

[10:34:02.0000] <jamesr>
ah ok

[10:35:00.0000] <AryehGregor>
jamesr, it's not?

[10:35:01.0000] <AryehGregor>
My bad.

[10:36:00.0000] <AryehGregor>
So it's just regular div soup.  :)

[10:36:01.0000] <TabAtkins>
Gmail was, at one point, a GWT program I think.  Just not anymore.

[10:36:02.0000] <TabAtkins>
Definitely not since the Kennedy refresh.

[10:37:00.0000] <jamesr>
newp. common misconception

[10:37:01.0000] <TabAtkins>
Huh.  Ok.

[10:47:00.0000] <dglazkov>
TabAtkins: people on GMail team will probably punch you for saying that they at any point used GWT :)

[10:47:01.0000] <TabAtkins>
dglazkov: I'll punch them back for using impossible-to-track ids and classes.

[10:49:00.0000] <dglazkov>
TabAtkins: should I start selling tickets for the event? :)

[10:51:00.0000] <TabAtkins>
Only if I get a cut.

[10:52:00.0000] <dglazkov>
:)

[11:02:00.0000] <jamesr>
rumble in the DOM jungle

[11:15:00.0000] <gsnedders>
AryehGregor: A fair number of Google things *are* GWT-based, neither Gmail nor Maps are.

[11:16:00.0000] <gsnedders>
Hmm, Maps appears to have some JS in it now that looks GWT-ish.

[11:17:00.0000] <gsnedders>
But most of it isn't, still.

[12:43:00.0000] <TabAtkins>
jamesr: So, we're discussing how to specify exactly when transitions are checked for, since right now it's "whenever the browser notices a change".

[12:43:01.0000] <TabAtkins>
jamesr: Boris suggests hooking it to the rAF cycle.  Does that seem feasible?

[12:44:00.0000] <jamesr>
it's feasible in some cases

[12:44:01.0000] <jamesr>
but some things no

[12:44:02.0000] <jamesr>
so one big question is what exactly depends on this value

[12:44:03.0000] <jamesr>
is it the ordering of events? timestamps?

[12:44:04.0000] <jamesr>
for systems that run some transitions off the main thread (like CoreAnimation) the start time has to be decided by that thread

[12:45:00.0000] <TabAtkins>
Ordering, mainly.  Frex, we're making it so that transitions don't start from a display:none state.

[12:45:01.0000] <TabAtkins>
If you change to display:block and change a transitionable property, whether or not it kicks off a transition depends on whether a flush happened between the two.

[12:45:02.0000] <jamesr>
so the model internally in WebKit when using CoreAnimation is the style system figures out that the transition has started, then sends a request to the CoreAnimation thread to start it. at some point later, it gets a message back saying "ok, here is the start time"

[12:45:03.0000] <jamesr>
ah i see

[12:45:04.0000] <TabAtkins>
And all browsers flush somewhat differently.

[12:46:00.0000] <TabAtkins>
So we're trying to find a less controversial "look for computed-value changes" point.

[12:46:01.0000] <jamesr>
/me has found the thread

[12:46:02.0000] <jamesr>
what if we have to resolve styles earlier for some other reason?

[12:46:03.0000] <TabAtkins>
Jump down to the latest exchange between Boris and me.

[12:46:04.0000] <jamesr>
do we just have to defer judgement on the transitions until later?

[12:46:05.0000] <TabAtkins>
jamesr: If we settle on something else, I guess those just wouldn't trigger transitions?  I dunno.

[12:46:06.0000] <TabAtkins>
(Possibly, we add a method that forces a check.)

[12:47:00.0000] <TabAtkins>
Or rather, they wouldn't trigger transitions *yet*.  They would when we eventually hit the checkpoint.

[12:47:01.0000] <jamesr>
fyi text input is fucking crazy land

[12:47:02.0000] <TabAtkins>
Apparently.

[12:47:03.0000] <jamesr>
and requires all sorts of style flushing shenanagins. but probably not relevant here

[12:48:00.0000] <jamesr>
TabAtkins: lemme get some grub and catch up on that thread

[12:48:01.0000] <TabAtkins>
jamesr: You in campus?

[12:49:00.0000] <jamesr>
nope, gardening from home

[12:49:01.0000] <TabAtkins>
Ah, kk.  Then I'll get lunch too, we'll meet back here in a few.

[12:49:02.0000] <jamesr>
ooo an IRC date. how exciting!

[13:19:00.0000] <jamesr>
TabAtkins: ok, think i'm caught up

[13:20:00.0000] <jamesr>
is boris in here?

[13:21:00.0000] <jamesr>
also does CSS have an explicit "as-if" clause anywhere like HTML does?

[13:23:00.0000] <jamesr>
like this: "Conformance requirements phrased as algorithms or specific steps may be implemented in any manner, so long as the end result is equivalent. (In particular, the algorithms defined in this specification are intended to be easy to follow, and not intended to be performant.)"

[14:04:00.0000] <TabAtkins>
jamesr: Back now.

[14:04:01.0000] <TabAtkins>
We don't have an explicit clause at the language-level, but it's assumed anyway.

[14:04:02.0000] <TabAtkins>
I don't think Boris is here, unless he's bzed.

[14:05:00.0000] <jamesr>
/who says bzed is someone else

[14:05:01.0000] <TabAtkins>
That's what I thought.

[14:05:02.0000] <jamesr>
so i interpret that as meaning timing is out of scope unless it's security sensitive

[14:05:03.0000] <root0>
hi all. I use lxml how to get absolute link?

[14:05:04.0000] <TabAtkins>
Or just detectable in general.

[14:06:00.0000] <TabAtkins>
But otherwise, yes, as long it's not detectable in any important way, timing is up to the UA to do as they please.

[14:06:01.0000] <jamesr>
well no, detectable isn't the right metric

[14:07:00.0000] <jamesr>
whether it's detectable or reliably detectable isn't a concern unless it's a security concern

[14:07:01.0000] <TabAtkins>
No, that's wrong.

[14:07:02.0000] <TabAtkins>
Because if two browsers have different timing behavior such that transitions fire at different times in a way that's detectable from script, that's a problem.

[14:08:00.0000] <TabAtkins>
Particularly if the different timings actually produce different behavior, as in the situation that Sylvain mentioned.

[14:08:01.0000] <jamesr>
that's not the sort of timing i mean

[14:08:02.0000] <jamesr>
i mean how long things take, not in which order things happen

[14:08:03.0000] <jamesr>
so i'm not sure how any of the proposals address Sylvain's scenario

[14:08:04.0000] <TabAtkins>
Oh, yeah, we don't carea bout that.

[14:08:05.0000] <jamesr>
or exactly what the behavior he expects is

[14:08:06.0000] <root0>
http://paste.pocoo.org/show/534459/

[14:09:00.0000] <TabAtkins>
jamesr: I was just referring to the fact that there may be a difference in behavior based on whether a flush happens between or after the two style changes.

[14:09:01.0000] <root0>
this is my code. i can get result like http://paste.pocoo.org/show/534462/

[14:09:02.0000] <root0>
I want add http://www.111111.com to head

[14:10:00.0000] <TabAtkins>
root0: This isn't really an lxml help room.

[14:10:01.0000] <TabAtkins>
root0: I cant' suggest a better place to find help, but here is probably not good.

[14:10:02.0000] <jamesr>
in the spec excluding transitions, the concept of flushes doesn't exist

[14:10:03.0000] <TabAtkins>
Yes.

[14:11:00.0000] <TabAtkins>
Because it's undetectable from just applying every style change as it happens.

[14:11:01.0000] <jamesr>
right. we also do a bunch of other work at the same time (because it's convenient and the other work is also not observable)

[14:12:00.0000] <jamesr>
defining flush points would restrict that other work as well

[14:12:01.0000] <jamesr>
i also don't think it will really help authors

[14:13:00.0000] <jamesr>
today when perf is the only consequence it's pretty much impossible for authors to deal with

[14:14:00.0000] <TabAtkins>
I don't understand your point.

[14:15:00.0000] <jamesr>
so your proposal as i understand is to define flush points explicitly and say that all changes between flush points are treated atomically

[14:15:01.0000] <jamesr>
right?

[14:15:02.0000] <TabAtkins>
Well, my aim is to find *some* way of defining in a cross-browser-possible way when precisely styles are examined for "changes" to trigger transitions off of.

[14:16:00.0000] <TabAtkins>
If it's done by specifying flush points, fine.  If it's something else, also fine.

[14:16:01.0000] <jamesr>
i think that trying to define transitions in this way isn't going to pan out

[14:16:02.0000] <jamesr>
in css changes don't happen

[14:16:03.0000] <TabAtkins>
They've gotta be defined in *some* way. :/

[14:17:00.0000] <TabAtkins>
Sure, in pure CSS.  If it's pure-CSS changes, we don't care; they can continue to happen "whenever".

[14:17:01.0000] <TabAtkins>
But script-based changes need to have their timing defined relative to Transitions.

[14:17:02.0000] <TabAtkins>
(That is, a :hover pseudo kicking off a transition can continue to do so whenever.)

[14:18:00.0000] <jamesr>
is display:none the only thing where the behavior of the transition depends on the timing?

[14:19:00.0000] <TabAtkins>
Not necessarily.  For example, Boris points out that in visibility:hidden subtrees, some properties may be optimized to not compute unless necessary.

[14:20:00.0000] <jamesr>
and that affects transition behavior?

[14:20:01.0000] <TabAtkins>
Since transitions fire on computed-value changes, yes.  If you don't calculate computed values, you may miss some changes.

[14:21:00.0000] <jamesr>
sounds like you've got yourself a bit of a mess, then

[14:21:01.0000] <TabAtkins>
This is why Boris is suggesting finding some other useful regularly-occurring trigger point for "compute everything, and look for changes from last trigger point".

[14:22:00.0000] <TabAtkins>
Like, as he suggested, something tied to the rAF cycle.

[14:22:01.0000] <jamesr>
that wouldn't do what Sylvain expected

[14:22:02.0000] <TabAtkins>
That's fine.  I expect that we have a set of contradictory constraints.

[14:22:03.0000] <TabAtkins>
And thus some can't be satisfied.

[14:24:00.0000] <jamesr>
so we'd still generate new computed values as needed, but whether transitions happen or not is based on comparing the computed value at Doom Time to the value at the last Doom Time?

[14:24:01.0000] <TabAtkins>
Yes.

[14:24:02.0000] <jamesr>
and even if it changes in between in a script-observable way so long as it changes back by the next Doom Time the transition doesn't happen?

[14:24:03.0000] <TabAtkins>
Yup.

[14:24:04.0000] <TabAtkins>
That's Boris' idea, at least.

[14:24:05.0000] <jamesr>
i think you'd want to hook in closer to HTML's "Update the rendering" concept

[14:25:00.0000] <jamesr>
which is similar but not identical to rAF time

[14:25:01.0000] <jamesr>
(i think they're the same in gecko, but aren't always the same in chrome or safari)

[14:25:02.0000] <TabAtkins>
/me goes to look up that term.

[14:26:00.0000] <TabAtkins>
Ah, so that's at the end of each task.

[14:27:00.0000] <jamesr>
not necessarily

[14:27:01.0000] <jamesr>
it's an optional step

[14:27:02.0000] <TabAtkins>
Yes.

[14:27:03.0000] <jamesr>
requiring at every task might be too much

[14:28:00.0000] <TabAtkins>
It's not actually optional; it's "as necessary".

[14:28:01.0000] <jamesr>
yeah, but necessary is up to the UA

[14:28:02.0000] <jamesr>
so pretty much the same as optional

[14:28:03.0000] <TabAtkins>
Sure.  We can intelligently dirty, though, to ensure that transitions happen as expected.

[14:30:00.0000] <jamesr>
if you can define expected

[14:30:01.0000] <jamesr>
your expected behavior is definitely different from Sylvain's, and i'm not sure how it compares to Boris'

[14:31:00.0000] <TabAtkins>
Yes.

[14:31:01.0000] <TabAtkins>
Okay, I just wanted to sanity-check and fill out details.  I'll return to the thread with info.

[14:31:02.0000] <jamesr>
i think it's kind of weird for authors to set up a transition and then observe values from script that are different but that don't trigger the transition

[14:31:03.0000] <jamesr>
but who knows what authors expect there

[14:31:04.0000] <jamesr>
i've seen all sorts of wacky ideas

[14:32:00.0000] <jamesr>
some guy from zynga was convinced that rapidly polling a transitioned property's computed value was the best way to measure the browser's FPS (wtf?)

[14:32:01.0000] <TabAtkins>
Heh.

[14:35:00.0000] <jamesr>
i just implement and haven't tried to author these things, so i say that the whole model is stupid and you should throw it away

[14:35:01.0000] <TabAtkins>
Transitions are so awesome, though!

[14:36:00.0000] <jamesr>
you can't chain them

[14:36:01.0000] <jamesr>
they make trivial things easy and not-completely-trivial things impossible

[14:37:00.0000] <TabAtkins>
Yes.

[14:37:01.0000] <TabAtkins>
Trivial things being easy is a good thing!

[14:37:02.0000] <TabAtkins>
And then we can fix the rest by abstracting.

[14:38:00.0000] <TabAtkins>
Such that transitions become a syntax-blessed simple form of the greater system.

[14:38:01.0000] <jamesr>
good API design makes easy things easy and hard things possible

[14:38:02.0000] <TabAtkins>
Animations are in the exact same boat.

[14:38:03.0000] <jamesr>
the greater system doesn't allow chaining either

[14:38:04.0000] <TabAtkins>
Animations are very simple in some ways, and expose complexity in others.  Luckily, both the exposed complexities and the holes of Transitions and Animations are amenable to a shared abstraction.

[14:38:05.0000] <TabAtkins>
Sure it does.

[14:45:00.0000] <jamesr>
if you have an animation in progress, how do you say "start this animation as soon as the previous one ends and line up the start time of this animation with the end time of that animation so it interpolates smoothly" ?

[14:46:00.0000] <TabAtkins>
Right now?  You can't, because the higher abstraction doesn't exist.

[14:46:01.0000] <TabAtkins>
Sometime this year I expect something to appear, though.

[14:49:00.0000] <TabAtkins>
Shane and I were working more-or-less on that last year.

[15:26:00.0000] <dglazkov>
is there any work at all anywhere on specifying display:transparent?

[15:28:00.0000] <jamesr>
wassat?

[15:29:00.0000] <dglazkov>
it throws away the box of the matching element and tells its content to step up instead.

[15:31:00.0000] <dglazkov>
http://lists.w3.org/Archives/Public/www-style/2011Apr/0162.html

[15:32:00.0000] <TabAtkins>
Not yet, no.

[15:32:01.0000] <TabAtkins>
Pretty much anything regarding 'display' is delayed by lack of editor\.

[15:32:02.0000] <TabAtkins>
Presumably for Box.

[15:32:03.0000] <TabAtkins>
Including my desire for display-outside/inside. ;_

[15:32:04.0000] <TabAtkins>
;_;

[15:33:00.0000] <dglazkov>
can we make an editor?

[15:33:01.0000] <dglazkov>
make editor

[15:33:02.0000] <dglazkov>
sudo make editor

[15:33:03.0000] <TabAtkins>
Need root for the universe.

[15:33:04.0000] <Hixie>
make: *** No rule to make target `editor'.  Stop.

[15:34:00.0000] <jamesr>
best bet is to fork one off existing editors

[15:34:01.0000] <jamesr>
can take a while, though

[15:40:00.0000] <dglazkov>
git clone Hixie editor

[15:40:01.0000] <Hixie>
dude i'm not a git :-P

[15:41:00.0000] <dglazkov>
:)


2012-01-14
[18:58:00.0000] <jacobolus>
does anyone use the canvas scrollPathIntoView method? is it actually implemented in browsers?

[18:59:00.0000] <jacobolus>
I don't see much of anything about it online, except the html spec, a bunch of tracker tickets, and an empty place for it in mozilla's docs

[08:16:00.0000] <crassus>
are there any designer channels on freenode?

[08:33:00.0000] <Ms2ger>
/me frowns

[08:36:00.0000] <Ms2ger>
So Opera does weird things with <script language=foo>

[08:37:00.0000] <Ms2ger>
It will ignore any junk after "javascript" and "livescript", but not after "jscript" or "ecmascript"

[08:42:00.0000] <gsnedders>
Sites used to, and may still, break unless you allow stuff like javascript1.6

[08:44:00.0000] <Ms2ger>
Well yes

[08:44:01.0000] <Ms2ger>
But javascript1.5foo doesn't work

[09:03:00.0000] <Ms2ger>
http://www.w3c-test.org/html/tests/submission/Ms2ger/the-elements-of-html/scripting/the-script-element/script-languages-02.html

[09:03:01.0000] <Ms2ger>
In case anybody is interested

[10:13:00.0000] <kennyluck>
Is it just me who stop getting mails from www-style? The latest 4 mails listed on http://lists.w3.org/Archives/Public/www-style/2012Jan/index.html haven't come to my mailbox.

[10:17:00.0000] <Ms2ger>
kennyluck, same here

[10:18:00.0000] <kennyluck>
Ms2ger, good to know, thanks.

[10:18:01.0000] <Ms2ger>
np


2012-01-15
[21:34:00.0000] <Hixie>
jacobolus: it's relatively new

[21:34:01.0000] <Hixie>
jacobolus: i don't think anyone's implemented it

[21:34:02.0000] <jacobolus>
Hixie: I found paul_irish's blog post explaining it

[21:34:03.0000] <jacobolus>
from like a year back ?

[21:34:04.0000] <Hixie>
(i wish they would implement it, i need it ;-) )

[21:34:05.0000] <Hixie>
sounds about right

[21:34:06.0000] <Hixie>
maybe 9 months?

[21:35:00.0000] <jacobolus>
seems to suggest that it's implemented in 3-4 browsers' beta versions, w/ reasonable polyfills

[21:35:01.0000] <jacobolus>
to tide us over

[21:35:02.0000] <Hixie>
not aware of any beta implementations, but that would be nice

[21:35:03.0000] <Hixie>
url?

[21:38:00.0000] <jacobolus>
Hixie: http://paulirish.com/2011/requestanimationframe-for-smart-animating/

[21:38:01.0000] <Hixie>
oh i was talking about scrollPathIntoView

[21:38:02.0000] <jacobolus>
oh, whoops

[21:38:03.0000] <jacobolus>
sorry, nevermind

[21:38:04.0000] <jacobolus>
right, blah

[21:38:05.0000] <Hixie>
heh

[21:39:00.0000] <jacobolus>
I was looking at about 3 various specs yesterday, and forgot which I had mentioned in here

[21:39:01.0000] <jacobolus>
(closed my IRC client, didn't bother to hit the logs)

[21:39:02.0000] <Hixie>
shouldn't be that hard to make a shim for scrollPathIntoView()

[21:39:03.0000] <jacobolus>
Hixie: so um, I don't know much about scrollpathintoview... seems like there's very little info about it out there

[21:39:04.0000] <Hixie>
pretty easy if you limit yourself to rects, anyway

[21:39:05.0000] <Hixie>
scrollpathintoview is just what it sounds like

[21:39:06.0000] <Hixie>
scrolls the path into view

[21:39:07.0000] <jacobolus>
yeah

[21:39:08.0000] <Hixie>
like element.scrollIntoView()

[21:40:00.0000] <jacobolus>
Hixie: yeah, nice thing about a rect under an affine transform is that we can get a bounding box just from looking at the vertices

[21:40:01.0000] <jacobolus>
same as for any polygon, for that matter

[21:40:02.0000] <jacobolus>
bezier curves get a bit trickier

[21:41:00.0000] <jacobolus>
it's not *that* hard math to calculate max/minima of affine transformed bezier curve, but it's not quite trivial

[21:42:00.0000] <jacobolus>
Hixie: apologies for the mind-blank :D

[21:42:01.0000] <jacobolus>
Hixie: what do you need scrollpathintoview for?

[21:42:02.0000] <Hixie>
i have a big canvas with animations going on in various parts

[21:42:03.0000] <Hixie>
and need to scroll the animating bit into view

[21:42:04.0000] <jacobolus>
huh

[21:42:05.0000] <Hixie>
(think board games)

[21:42:06.0000] <jacobolus>
are you making board games? :)

[21:43:00.0000] <Hixie>
just playing around to see what the api needs

[21:43:01.0000] <Hixie>
gotta go

[21:43:02.0000] <Hixie>
bbl

[21:50:00.0000] <jacobolus>
cheers


2012-01-16
[23:40:00.0000] <izhak>
whatwg.org is slowed down.

[23:41:00.0000] <MikeSmith>
yeah

[23:41:01.0000] <MikeSmith>
so maybe it wasn't because of twitter traffic to web-apps-tracker after all

[23:42:00.0000] <MikeSmith>
for what Hixie said previously, I think it might be some crawler hitting the svn server

[23:44:00.0000] <izhak>
the number of crowlers is going to create problems soon

[23:46:00.0000] <izhak>
*crawlers.

[00:22:00.0000] <MikeSmith>
anybody remember when the download attribute was added to the spec?

[00:23:00.0000] <MikeSmith>
/me is trying to find the rev number so he can open a reminder vnu bug

[00:31:00.0000] <MikeSmith>
http://html5.org/r/6318

[00:36:00.0000] <zcorpan>
oh, that was more recent than i thought

[00:36:01.0000] <zcorpan>
/me was going to guess "about a year ago"

[00:37:00.0000] <MikeSmith>
yeah, seems like at least

[00:38:00.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=167303 might be relevant to some spec feature requests

[00:38:01.0000] <MikeSmith>
but it was only last summer

[00:38:02.0000] <hsivonen>
the WONTFIX status that is

[00:41:00.0000] <MikeSmith>
"I am not sure if js is a good language for parsing arrays of bytes"

[00:44:00.0000] <MikeSmith>
god I just looked at the dates on the bug

[00:49:00.0000] <yolin>
is there a html validator in javascript?

[00:50:00.0000] <hsivonen>
yolin: AFAIK, no

[00:54:00.0000] <MikeSmith>
yolin: would be great to have one

[00:54:01.0000] <yolin>
MikeSmith, yeh I was thinking the same, where to start?

[00:55:00.0000] <MikeSmith>
start simple and work up from there

[00:55:01.0000] <MikeSmith>
I think Hixie has some ideas about implementing a checker in JS

[00:56:00.0000] <yolin>
ok, great!

[00:56:01.0000] <jgraham>
I would be careful to start from a position of ignorance. Otherwise I would feel overwhelmed and give up

[00:56:02.0000] <jgraham>
;)

[00:56:03.0000] <MikeSmith>
heh

[00:56:04.0000] <MikeSmith>
yeah :)

[00:56:05.0000] <yolin>
:D

[00:57:00.0000] <jgraham>
But seriously, it sounds like a nice idea

[00:57:01.0000] <yolin>
is the current validator at w3c code avaliable?

[00:57:02.0000] <yolin>
its in Java right? could be ported to Javascript?

[00:57:03.0000] <MikeSmith>
if you mean the current-current w3c validator, you don't want to look at that code

[00:57:04.0000] <yolin>
oh...

[00:57:05.0000] <MikeSmith>
yolin: the java code id validator.nu

[00:58:00.0000] <MikeSmith>
the existing W3C validator is perl code and based on SGML parsing and other ugly stuff

[00:58:01.0000] <MikeSmith>
yolin: I really would suggest not looking at existing code

[00:58:02.0000] <MikeSmith>
and not using any off-the-shelf general schema-checking mechanism

[00:58:03.0000] <yolin>
okay

[00:59:00.0000] <MikeSmith>
but doing it all from scratch

[00:59:01.0000] <MikeSmith>
but that's just my opinion

[00:59:02.0000] <MikeSmith>
though, there is no existing general schema checking in JS

[00:59:03.0000] <MikeSmith>
as far as I know

[01:00:00.0000] <yolin>
I would have to implement the HTML5 parsing algo?

[01:00:01.0000] <MikeSmith>
no

[01:00:02.0000] <jgraham>
There is already an implementation of that

[01:00:03.0000] <MikeSmith>
not that at least

[01:00:04.0000] <MikeSmith>
yeah

[01:00:05.0000] <jgraham>
Dunno if it has parse error detection though

[01:00:06.0000] <MikeSmith>
there are a couple of implementations

[01:00:07.0000] <MikeSmith>
I think it does

[01:00:08.0000] <MikeSmith>
well

[01:00:09.0000] <MikeSmith>
it depends on which one you mean

[01:01:00.0000] <jgraham>
I was thinking of the dom.js / David Flanagan one

[01:01:01.0000] <MikeSmith>
yeah, I think that one might

[01:01:02.0000] <MikeSmith>
there is another one that Aria Stewart did for node.js

[01:02:00.0000] <yolin>
dom.js is for dom manipulation in node, will  it help for validating html?

[01:03:00.0000] <MikeSmith>
it has a separate html parser that can be used standalone

[01:04:00.0000] <MikeSmith>
https://github.com/andreasgal/dom.js/blob/master/src/impl/HTMLParser.js

[01:04:01.0000] <yolin>
oh great

[01:05:00.0000] <MikeSmith>
hmm

[01:05:01.0000] <MikeSmith>
it doesn't look like it reports parse errors though

[01:06:00.0000] <jgraham>
In all honesty, if you want to write a validator, adding parse error detection to the parser isn't the most difficult part :)

[01:06:01.0000] <MikeSmith>
heh

[01:06:02.0000] <hsivonen>
yolin: you could try compiling the Validator.nu code to JS using GWT

[01:06:03.0000] <hsivonen>
yolin: you'd need to rework parts that touch java.io

[01:06:04.0000] <hsivonen>
at least

[01:07:00.0000] <hsivonen>
yolin: or you could use GWT only for the non-schema parts and use a JS-based RELAX NG engine for the schema parts

[01:07:01.0000] <yolin>
lemme check validator.nu

[01:08:00.0000] <jgraham>
FWIW I think Hixie's idea was that you implement one class per tag and let that class be responsible for running whatever checks are relevant to that tag. I guess tehre was more to it than that, but that's al I remember at the moment

[01:09:00.0000] <yolin>
yes, thats seems like a good idea to handle the complexity

[01:13:00.0000] <MikeSmith>
jgraham: yeah, that's the way I remember it too

[01:13:01.0000] <MikeSmith>
so it would all be custom code specifically for checking HTML

[01:13:02.0000] <MikeSmith>
rather than a generic mechanism

[01:14:00.0000] <MikeSmith>
and one big advantage is that you could fine-tune the error messages

[01:15:00.0000] <MikeSmith>
hsivonen: so I think it would be useful to streamline and consolidate that presets in the validator

[01:15:01.0000] <MikeSmith>
e.g., ARIA and SVG and MathML are all now actually part of HTML

[01:15:02.0000] <hsivonen>
MikeSmith: yeah, makes sense to flatten those instead of offering them as options

[01:15:03.0000] <MikeSmith>
so I think we don't really need separate options for those

[01:16:00.0000] <MikeSmith>
OK

[01:16:01.0000] <MikeSmith>
will do that too, then

[01:16:02.0000] <hsivonen>
though the UI should probably still say which version of MathML and SVG it is using as a reference

[01:16:03.0000] <MikeSmith>
hsivonen: also do we actually want to keep the separate SVG 1.1 checker?

[01:17:00.0000] <MikeSmith>
I wonder if anybody actually uses that or wants it

[01:17:01.0000] <hsivonen>
also, let's get rid of "(experimental)". this stuff is now real in practice

[01:17:02.0000] <MikeSmith>
yeah

[01:17:03.0000] <MikeSmith>
that too

[01:17:04.0000] <shepazu>
I would prefer to keep an SVG 1.1 checker… I don't think that most SVGs are (or even will) be in an HTML document

[01:18:00.0000] <MikeSmith>
shepazu: OK

[01:18:01.0000] <MikeSmith>
there's a problem with the schema, though

[01:18:02.0000] <hsivonen>
MikeSmith: I think we should keep the schema that allows <svg> as the root element, yeah

[01:18:03.0000] <MikeSmith>
hai

[01:18:04.0000] <MikeSmith>
shepazu: I'm trying to recall, but remember I e-mailed the SVG WG a while back?

[01:18:05.0000] <hsivonen>
XHTML Basic can probably be zapped

[01:19:00.0000] <MikeSmith>
OK

[01:19:01.0000] <MikeSmith>
will do that

[01:19:02.0000] <hsivonen>
MikeSmith: thank you

[01:19:03.0000] <shepazu>
MikeSmith: emailed about what?

[01:19:04.0000] <MikeSmith>
shepazu: to ask that the SVG 1.1 relaxng schema be updated to fix ... something

[01:19:05.0000] <MikeSmith>
I would need to check my mail to see

[01:19:06.0000] <shepazu>
oh, yeah

[01:20:00.0000] <shepazu>
we'd need to make a new SVG RNG

[01:20:01.0000] <MikeSmith>
yeah

[01:20:02.0000] <shepazu>
berjon was going to do that for us

[01:20:03.0000] <shepazu>
but...

[01:20:04.0000] <MikeSmith>
the response from heycam and chris at the was, that SVG 1.1 is not an official product of the SVG WG and they are not maintaining it

[01:21:00.0000] <shepazu>
yeah

[01:21:01.0000] <MikeSmith>
which kind of bummed me out to hear that

[01:21:02.0000] <MikeSmith>
kind of put a damper on my enthusiasm for pursuing the fix

[01:21:03.0000] <MikeSmith>
whatever it was

[01:22:00.0000] <MikeSmith>
anyway, i'll look back at it at some point

[01:22:01.0000] <shepazu>
wish we had the resources to make an RNG

[01:22:02.0000] <shepazu>
I'll bring it up again

[01:22:03.0000] <MikeSmith>
I think I may have already made the change in the validator.nu copy of the schema

[01:22:04.0000] <MikeSmith>
can't remember

[01:22:05.0000] <MikeSmith>
but I think maybe all I was asking was for that change to be ported back upstream

[01:22:06.0000] <MikeSmith>
ah yeah yeah yeah

[01:23:00.0000] <MikeSmith>
I remember now

[01:23:01.0000] <MikeSmith>
it's because you dudes made a change to the spec, like, just a few months ago!!

[01:23:02.0000] <MikeSmith>
this "second edition" trickery or whatever

[01:24:00.0000] <MikeSmith>
where you try to pretend it's not, um, a living standard that occasionally might need updating

[01:24:01.0000] <MikeSmith>
made a change that loosened some constraint

[01:25:00.0000] <shepazu>
aren't all specs "living standards"?

[01:27:00.0000] <MikeSmith>
well, the good ones are at least

[01:27:01.0000] <MikeSmith>
if by "living" it means acknowledging that they are going to continue to be updated

[01:28:00.0000] <MikeSmith>
and not updated just by addition of errata or subsequent "editions"

[01:31:00.0000] <MikeSmith>
shepazu: anyway, since we are going to be continuing to have that SVG 1.1 standalone-checking option, it would be good to have somebody take ownership of that schema and make sure it actually checks the constraints in the current spec

[01:31:01.0000] <MikeSmith>
actually this also affects the HTML checker

[01:31:02.0000] <MikeSmith>
because that same schema is used to check SVG in HTML

[01:32:00.0000] <shepazu>
yeah, but nobody on the SVG WG knows how to make an RNG (as far as I know)

[01:32:01.0000] <MikeSmith>
well

[01:32:02.0000] <MikeSmith>
geez

[01:32:03.0000] <MikeSmith>
when I started working with RNG I didn't know either

[01:33:00.0000] <MikeSmith>
and it ain't rocket science man

[01:33:01.0000] <MikeSmith>
anybody who has ever edited a DTD can learn it easily

[01:33:02.0000] <MikeSmith>
the compact syntax at least

[01:33:03.0000] <MikeSmith>
not the XML syntax

[01:34:00.0000] <jgraham>
/me keeps reading RNG as "Random Number Generator"

[01:34:01.0000] <shepazu>
if you want to help us, MikeSmith, that would make it easier

[01:35:00.0000] <shepazu>
but right now, I'm going to sleep

[01:36:00.0000] <MikeSmith>
hai

[01:36:01.0000] <MikeSmith>
I can definitely help you

[01:36:02.0000] <MikeSmith>
get your beauty sleep :)

[01:37:00.0000] <zcorpan>
MikeSmith: hey if you could do my manual testing today i could leave early and go to the gym or so

[01:38:00.0000] <zcorpan>
or doesn't it work like that? :(

[01:40:00.0000] <MikeSmith>
heh

[01:40:01.0000] <MikeSmith>
manual testing should be something given as penace, during confession

[01:40:02.0000] <MikeSmith>
that would be a genuine incentive to not sin further

[01:42:00.0000] <jgraham>
It kind of does work like that

[01:42:01.0000] <jgraham>
But with the normal assumption that we are all sinners

[04:41:00.0000] <david_carlisle>
hsivonen_: "though the UI should probably still say which version of MathML and SVG it is using as a reference", if you belived the whatwh living standards mantra you'd use the  latest and greatest version of each (and I wouldn't have had to knock out a mathml2/3 hybrid: for you:-)

[04:42:00.0000] <david_carlisle>
s/whatwh/whatwg/

[05:35:00.0000] <jgraham>
david_carlisle: (that sort of requires that the people writing the spec also believe in the living standard mantra and don't introduce big backwards-incompatible changes or complexity that prevents people from adopting the new version)

[05:35:01.0000] <jgraham>
(not sure if that applies to MathML 2 -> 3 or not)

[06:10:00.0000] <davidb_>
hi all!

[06:29:00.0000] <david_carlisle>
jgraham: MathML3 -> 2 hasn't got backward compat issues, but Mike and Henri wanted to be able to keep validator closer to mathMl2 as that's closer to what browsers implement today (apart from IE/mathPlayer which does mathML3)  (same reason people other than browser makers ask for versioned html, actually)

[07:40:00.0000] <Ms2ger>
"SVG 1.1 is not an official product of the SVG WG"

[07:40:01.0000] <Ms2ger>
Say what?

[07:42:00.0000] <shepazu>
Ms2ger: MikeSmith meant to say that the SVG 1.1 *RNG* was not produced by the SVG WG, and that we don't maintain it

[07:42:01.0000] <shepazu>
the RelaxNG schema

[07:42:02.0000] <shepazu>
not the spec

[07:42:03.0000] <Ms2ger>
That makes slightly more sense

[07:44:00.0000] <Ms2ger>
Totally not what he said, though

[09:36:00.0000] <jgraham>
I love it when irccloud dies

[09:36:01.0000] <jcranmer>
looks ike it

[09:36:02.0000] <Ms2ger>
jgraham, so, my review comments? :)

[09:37:00.0000] <jgraham>
Ms2ger: I fixed them didn't I?

[09:37:01.0000] <jgraham>
Dunno how one says on github "this commit fixes these issues"

[09:38:00.0000] <Ms2ger>
Not in HG

[09:38:01.0000] <jgraham>
Hmm OK

[10:00:00.0000] <jgraham>
Ms2ger: Pushed

[10:21:00.0000] <Ms2ger>
jgraham, thanks


2012-01-17
[00:38:00.0000] <asmodai>
Damn, must say that Opera mobile at least works very well on my tablet.

[02:33:00.0000] <smaug____>
Does Dart already run in Chromium ?

[02:50:00.0000] <kapowaz>
Hello there. I'd like to share some thoughts regarding input[type=date], and how the HTML standard for these might be improved.

[02:50:01.0000] <kapowaz>
I've been working with implementing these for mobile browsers (targeting specifically iOS and Android for now, but potentially others later) and so came across a few things which I think could be better

[02:51:00.0000] <kapowaz>
first of all, it appears that the placeholder attribute is verboten. I was wondering if anyone knew why?

[02:52:00.0000] <kapowaz>
it seems to me that in the absence of a more detailed specification on *how* input[type=date] is implemented, placeholder text is still a valuable thing to have, particularly where a UA implements it as similar to an input[type=text]

[02:53:00.0000] <kapowaz>
secondly, the spec doesn't make any reference to how else a date input might present itself. We already have one good example (iOS 5.0) where the datepicker and the presented chosen date are independent — i.e. you get a spinner control to choose the date, and then a box shows the selected date.

[02:54:00.0000] <kapowaz>
for whatever reason, Apple have decided to show the selected date in the format “Jan 17th, 2012” rather than the ISO format. The element still maintains the ISO formatted date in the DOM, but for presentational purposes it uses (in my opinion, at least) a better format

[02:55:00.0000] <jgraham>
The spec doesn't mandate UI, ever

[02:55:01.0000] <kapowaz>
how about adding an attribute to the spec, allowing a display format to be specified?

[02:55:02.0000] <kapowaz>
jgraham: yes, which is why I am confused that placeholder is verboten from that element

[02:57:00.0000] <kapowaz>
I would naturally much rather the spec allowed more useful components that could then be implemented in any given way, than less (or that it said *how* to implement them)

[02:59:00.0000] <jgraham>
If you think there is a usecase for putting a placeholder in date inputs, even though it won't work in some implementations, please email the list

[03:00:00.0000] <kapowaz>
okay, I'll do that.

[03:04:00.0000] <kapowaz>
jgraham: which specific mailing list would you recommend? the whatwg.org site pushed me in the direction of Help, which looks to me like the wrong audience...

[03:05:00.0000] <Ms2ger>
whatwg⊙wo

[03:05:01.0000] <kapowaz>
okay, thanks

[03:41:00.0000] <asmodai>
Interesting browser bug/behaviour

[03:42:00.0000] <asmodai>
So we go http://www.erim.eur.nl/ERIM/Research/Centres/Learning_Agents/Research/Publications#axzz1jiOciWJ7

[03:43:00.0000] <asmodai>
Reference to another page within an iframe

[03:43:01.0000] <asmodai>
The publication years anchors work with all browsers, except Firefox.

[03:43:02.0000] <asmodai>
I assume that such anchors should keep working regardless of an iframe, right?

[03:44:00.0000] <asmodai>
I need to submit a bug report about this, if correct.

[03:51:00.0000] <jgraham>
kapowaz: So one problm with your example is that it doesn't really work

[03:52:00.0000] <jgraham>
If you say date of birth [DD/MM/YYYY] but the browser only accepts MM/DD/YYYY input, people will get stuff wrong

[03:58:00.0000] <kapowaz>
jgraham: not sure I follow — why would the browser only accept that format? I thought the spec mandates that it has to accept ISO 8601 formatted dates?

[03:59:00.0000] <kapowaz>
I'm not sure what you mean by ‘if you say date of birth [DD/MM/YYYY]’ — do you mean, if I were to specify a dateformat attribute of that format?

[03:59:01.0000] <jgraham>
It has to submit dates in ISO format

[03:59:02.0000] <jgraham>
The UI can accept anything

[04:00:00.0000] <kapowaz>
so you're concerned about a situation where the UA accepts a given format, but the element is displaying a different format?

[04:00:01.0000] <jgraham>
It is totally fine to have a UI that accepts the string "yesterday", for example

[04:00:02.0000] <kapowaz>
maybe I wasn't clear enough — the dateformat attribute I'm suggesting is purely for display, not for entry

[04:01:00.0000] <kapowaz>
yeah, that makes sense.

[04:01:01.0000] <jgraham>
I am concerned with the situation where the page author makes assumptions about the format based on their local testing

[04:01:02.0000] <jgraham>
That aren't valid for their users

[04:01:03.0000] <jgraham>
and then use that to write placeholder text

[04:03:00.0000] <jgraham>
Of course it can be safe if you can also specify the format that any text entry should accept. But that could break consistency between sites in the same UA

[04:03:01.0000] <kapowaz>
/me nods

[04:04:00.0000] <kapowaz>
so, although existing implementations of input[type=date] use ISO format for entry, there is no reason why they should always do this, and so using that format as placeholder text could create broken expectations.

[04:04:01.0000] <kapowaz>
that is a valid reason to be concerned.

[04:06:00.0000] <kapowaz>
curiously enough, if the browser doesn't support input[type=date] but does support placeholders, you'll get the desired effect by mandating (say) ISO formatted date strings, and giving a placeholder value alongside it.

[04:06:01.0000] <kapowaz>
but as soon as the browser supports that type, it'll (potentially) break

[04:06:02.0000] <kapowaz>
annoying.

[05:33:00.0000] <asmodai>
curious

[05:34:00.0000] <asmodai>
so apparently this same-page anchor in iframe thing is disabled in Firefox due to security issues: https://bugzilla.mozilla.org/show_bug.cgi?id=583889

[05:35:00.0000] <asmodai>
Curious that all other browsers don't disable it though. So I wonder if the FF method is a bit too heavy-handed in trying to fix it, since it disabled legitimate use.

[08:34:00.0000] <AryehGregor>
Ms2ger, what's the policy for changing approved tests in the WebApps WG?

[08:34:01.0000] <AryehGregor>
/me has been avoiding it

[08:35:00.0000] <AryehGregor>
(In fact, I already fixed that bug in submissions/AryehGregor/Range-surroundContents.html)

[08:35:01.0000] <Ms2ger>
Yeah

[08:36:00.0000] <Ms2ger>
I updated the approved tests because of the bugs Opera filed

[08:36:01.0000] <AryehGregor>
Right.

[08:36:02.0000] <AryehGregor>
I don't know if we're supposed to do that, or un-approve them.

[08:37:00.0000] <AryehGregor>
/me looks for policy documents

[08:38:00.0000] <Ms2ger>
Either is fine with me, but I'd prefer not having known-buggy tests just sit there

[08:38:01.0000] <AryehGregor>
Oh, look, I'm the Test Facilitator.

[08:38:02.0000] <AryehGregor>
I forgot.

[08:38:03.0000] <Ms2ger>
Heh

[08:38:04.0000] <AryehGregor>
So maybe I'll just make up policy.

[08:39:00.0000] <jgraham>
The policy should make it easy to fix tests :)

[08:39:01.0000] <AryehGregor>
New policy: if there are known bugs in my tests, I'll unapprove them, and occasionally I'll issue a RfR on the tests in my submissions.

[08:45:00.0000] <AryehGregor>
Actually, let me revise that.

[08:48:00.0000] <AryehGregor>
Can we just say everything in approved/ has been approved by an editor of the spec, but maybe not the WG?

[08:49:00.0000] <Ms2ger>
wfm

[08:52:00.0000] <jgraham>
/me thiks the whole approved folder model is wrong fwiw

[08:52:01.0000] <jgraham>
+n

[08:52:02.0000] <jgraham>
It's not files that get approved, it's specific sets of commits

[08:54:00.0000] <AryehGregor>
/me invites jgraham to set up proper code review for the W3C

[08:55:00.0000] <jgraham>
/me would love to but can't find the tools to save us

[08:56:00.0000] <jgraham>
You need a tool to track which commits have review and which don't

[08:56:01.0000] <AryehGregor>
jgraham, gerrit?

[08:56:02.0000] <Ms2ger>
shepherd?

[08:57:00.0000] <jgraham>
AryehGregor: gerrit might work if we seriously started using git

[08:57:01.0000] <AryehGregor>
jgraham, hg-git?

[08:57:02.0000] <AryehGregor>
(note: I've found hg-git to be flaky, YMMV)

[08:58:00.0000] <jgraham>
AryehGregor: Yeah, I know it is *possible*, see https://github.com/jgraham/html-testsuite

[08:58:01.0000] <jgraham>
(also the java stack scares me)

[08:59:00.0000] <jgraham>
shepard is a bit of an unknown quantity. I worry that it is being developed too much around the needs of CSS

[08:59:01.0000] <jgraham>
But maybe it will turn out OK

[08:59:02.0000] <jgraham>
I don't think it is likey to become a kickass review tool though

[09:00:00.0000] <jgraham>
It might be an acceptable one

[09:12:00.0000] <AryehGregor>
"Acceptable" seems vastly better than "nonexistent".

[11:21:00.0000] <AryehGregor>
TabAtkins_, 0 seems to parse okay as an <angle> in implementations, at least for transforms.  E.g., transform: scale(2) rotate(0); is the same as transform: scale(2) rotate(0deg);, not a parse error.

[11:21:01.0000] <AryehGregor>
This is not what CSS Values and Units says.

[11:21:02.0000] <AryehGregor>
Has this been discussed?  Should I mail www-style?

[11:21:03.0000] <AryehGregor>
All implementations seem to agree.

[11:21:04.0000] <Ms2ger>
Has been discussed a few times, I think

[11:21:05.0000] <AryehGregor>
/me is looking

[11:21:06.0000] <TabAtkins_>
AryehGregor: Yes, I know.  It's an impl bug in Transforms that's unfixable at this point.  Transforms needs to explicitly define that.

[11:22:00.0000] <AryehGregor>
That was my recollection.

[11:22:01.0000] <AryehGregor>
TabAtkins_, why isn't it a Values and Units bug?  "0" can already be either <number> or <length>, why not <angle> too?

[11:22:02.0000] <TabAtkins_>
Because it creates more possibilities for ambiguity.

[11:22:03.0000] <AryehGregor>
So it's really just futureproofing, or we have a property where it matters?

[11:22:04.0000] <TabAtkins_>
It would have been a problem for an earlier draft of gradient syntax, for example.

[11:23:00.0000] <AryehGregor>
Makes sense in principle.

[11:23:01.0000] <TabAtkins_>
So we have existence proof of problems.

[11:23:02.0000] <AryehGregor>
/me files bugs on the transform specs

[11:25:00.0000] <TabAtkins_>
(The gradient syntax issue was that one of the arguments could, among other things, be either "<length> <length>" or "<length> <angle>".)

[11:25:01.0000] <TabAtkins_>
With significantly different behavior based on which way the 0 was translated.)

[11:27:00.0000] <TabAtkins_>
Even unitless lengths sometimes cause problems - it means we always need to ensure that a property that accepts lengths and numbers gives the exact same interpretation to "0" for both types.

[11:33:00.0000] <AryehGregor>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=15598

[11:34:00.0000] <TabAtkins_>
MikeSmith: Yo, I sent you an email a few days ago (early Saturday your time) asking for a bunch of new components for bugzilla.

[11:34:01.0000] <TabAtkins_>
MikeSmith: Any news?

[11:49:00.0000] <Ms2ger>
MikeSmith, and did ddahl ask for his repo?

[14:12:00.0000] <jgraham>
AryehGregor: Well the code review tool on github exists

[14:12:01.0000] <jgraham>
AFAICT it sucks

[14:12:02.0000] <jgraham>
But it exists

[14:15:00.0000] <jgraham>
I guess it would work better if we used it in a more distributed way

[14:15:01.0000] <jgraham>
So instead of having a single big repo with everything, one would have a testsuite-stable repo

[14:15:02.0000] <jgraham>
And people would make pull requests on that with code they wanted to be committed

[14:17:00.0000] <jgraham>
Then everything in the main repo would be stable, submitting a test would be submiting a pull request, and an issue on a test would be an issue in the bugtracker

[14:18:00.0000] <jgraham>
I'm not sure how much I like the thought of trying to convice W3C that they should give up all their existing infrastructure

[14:18:01.0000] <jgraham>
But that solution does at least sound like it will work

[14:20:00.0000] <jgraham>
(ofc one can do the same thing without needing the priprietary infrastructure using gitorious)

[14:21:00.0000] <jgraham>
Wow major vowel fail there


2012-01-18
[16:29:00.0000] <dglazkov>
Hixie: off the top of your head, when did you add transparent content model? I can't seem to find a good way to search commits on the spec

[16:36:00.0000] <jamesr_>
TabAtkins_, damn you sinped me

[16:36:01.0000] <jamesr_>
sniped

[16:59:00.0000] <TabAtkins_>
bwahaha

[16:59:01.0000] <TabAtkins_>
And I did that *while* I was making a new diagram in SVG.

[17:10:00.0000] <MikeSmith>
dglazkov: I think more than 5 years ago at least

[17:10:01.0000] <MikeSmith>
(about the transparent content model)

[17:11:00.0000] <MikeSmith>
TabAtkins_: yeah, I got it, but it's going to take me a while to add all those

[17:11:01.0000] <MikeSmith>
will try to do it today

[17:12:00.0000] <MikeSmith>
I've been working on validator code

[17:13:00.0000] <MikeSmith>
which work I hope I can finish up on today

[17:13:01.0000] <MikeSmith>
/me sees question from Ms2ger

[17:14:00.0000] <TabAtkins_>
MikeSmith: Darn, I was hoping adding a new component was super-easy or something.  Thanks, though!

[17:16:00.0000] <MikeSmith>
it is super easy, but that list is like 20 new components or something, so I need to set aside a few minutes rather than just say, doing it during some telcon the way I usually would

[17:16:01.0000] <MikeSmith>
TabAtkins_: also ideally each of those components should have a default assignee

[17:16:02.0000] <MikeSmith>
typically, the editor

[17:17:00.0000] <MikeSmith>
do you want me to try to set default assignees for them?

[17:18:00.0000] <MikeSmith>
we need an inform bot here?

[17:19:00.0000] <MikeSmith>
infobot, inform Ms2ger no David Dahl did not ask me about adding a new repo

[17:19:01.0000] <MikeSmith>
I assume that would be for domcrypt

[17:40:00.0000] <TabAtkins_>
MikeSmith: I can send you a list of all the default assignees.  Does it need to be just one person, or can it be multiple?

[17:43:00.0000] <MikeSmith>
dunno if it can multiple

[17:43:01.0000] <MikeSmith>
I think in practice we always make it one person

[17:43:02.0000] <MikeSmith>
you can see the current default assignees here:

[17:43:03.0000] <MikeSmith>
https://www.w3.org/Bugs/Public/describecomponents.cgi?product=CSS

[17:46:00.0000] <TabAtkins_>
Okay, I'll draw up a list tomorrow.

[17:47:00.0000] <hober>
You can have a list of people who get CCed by default. that's what we have for transforms, transitions, & animations

[21:30:00.0000] <jamesr>
fffuuuu, is there any way for one data: URL to script an iframe that's loaded as another data: URL ?

[21:37:00.0000] <jamesr>
woah, anyone want to see some weird shit?

[21:38:00.0000] <Hixie>
jamesr: webkit has a bug that blocks data: urls from interacting

[21:39:00.0000] <jamesr>
yeah they appear to always be different origin

[21:39:01.0000] <jamesr>
sigh

[21:39:02.0000] <jamesr>
check this shit out: http://webstuff.nfshost.com/tests/outer.html

[22:07:00.0000] <jamesr>
anyone around who can fix MDN ?

[00:10:00.0000] <hsivonen_>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=15592 Why hardware tokens are a bad idea, episode 42.

[00:11:00.0000] <hsivonen_>
Even if the Web platform had a smart card API, how would you stick a smart card into your wifi-only tablet?

[00:11:01.0000] <hsivonen_>
we know that people just love to buy and lug around USB dongles for their tablets

[01:04:00.0000] <MikeSmith>
hsivonen_: I guess it's conceivable that tablets could have NFC readers

[01:05:00.0000] <MikeSmith>
or does "smart card" imply some specific type of reader that requires actually swiping the card?

[01:08:00.0000] <jgraham>
/me slips up on the multiple-meanings-of-NFC banana skin again

[01:09:00.0000] <MikeSmith>
heh

[01:09:01.0000] <MikeSmith>
or RFID or whatever

[01:10:00.0000] <MikeSmith>
it seems some Dell laptops already have such a thing

[01:13:00.0000] <MikeSmith>
"contactless" cards I guess

[01:14:00.0000] <Ms2ger>
MikeSmith, yeah, for the crypto stuff

[01:14:01.0000] <MikeSmith>
OK

[01:15:00.0000] <MikeSmith>
Ms2ger: I pinged David on #developers but I guess is has been away

[01:15:01.0000] <MikeSmith>
if you want, I can just go ahead and set it up

[01:15:02.0000] <MikeSmith>
just "domcrypt" for the name?

[01:16:00.0000] <MikeSmith>
and what group should I associate it with, if any?

[01:16:01.0000] <MikeSmith>
for now I can just set it so that david's the only one with write access

[01:16:02.0000] <MikeSmith>
can add a group or other editors later if needed

[01:17:00.0000] <MikeSmith>
are contactless cards used in Europe or North America much?

[01:18:00.0000] <MikeSmith>
in Japan we use them for trains and buses and also at many stores

[01:20:00.0000] <jgraham>
Assuming they are the same thing, they are used for the public transport in London and Linköping (amongst others!). Never seen them used in a store though.

[01:20:01.0000] <Ms2ger>
MikeSmith, http://www.w3.org/2011/11/webcryptography-charter.html I guess, dunno what the status is

[01:21:00.0000] <MikeSmith>
Ms2ger, thanks

[01:21:01.0000] <MikeSmith>
ah yeah

[01:21:02.0000] <MikeSmith>
I need to ask Harry about that group

[01:21:03.0000] <MikeSmith>
anyway, I can just set it for now so that David's the only one with write access

[01:22:00.0000] <MikeSmith>
jgraham: do have electronic ID cards and if so are those contactless?

[01:22:01.0000] <Ms2ger>
Wan-Teh Chang as well, I think

[01:23:00.0000] <MikeSmith>
OK

[01:23:01.0000] <jgraham>
MikeSmith: I have some sort of ID card that apparently has some sort of electronic part. Not contactless though and I have never needed to use it electronically.

[01:23:02.0000] <jgraham>
Indeed I don't know how.

[01:23:03.0000] <MikeSmith>
ok

[01:28:00.0000] <MikeSmith>
Ms2ger: ready to go https://dvcs.w3.org/hg/domcrypt/

[01:29:00.0000] <Ms2ger>
Great, thanks

[02:27:00.0000] <hsivonen_>
MikeSmith: so is Apple/Samsung/whatever willing to put the extra hardware to cater to European countries that got enchanted by the smart card lobby?

[02:28:00.0000] <MikeSmith>
hsivonen: dunno

[02:28:01.0000] <MikeSmith>
b

[02:28:02.0000] <MikeSmith>
but if there is money to be made from it in selling more devices, I'd think so

[02:30:00.0000] <hsivonen>
MikeSmith: back when Finland tried this, we got a couple of crappy computers from Fujitsu with built-in support. that was it. Fortunately, the whole thing flopped.

[02:31:00.0000] <MikeSmith>
yeah, I wonder how the current trend will play out in the long run

[02:34:00.0000] <hsivonen>
also, I don't really want any special interest to replay the digital tv coup, where they made a lot of people replace hardware just because

[02:34:01.0000] <MikeSmith>
yeah, that would be bad

[02:34:02.0000] <MikeSmith>
but in this case, people seem to like the convenience

[02:34:03.0000] <hsivonen>
hahahahah

[02:34:04.0000] <hsivonen>
this smart card stuff has nothing to do with user convenience

[02:34:05.0000] <MikeSmith>
oh

[02:35:00.0000] <hsivonen>
it's all about vendors convincing governments that there's a problem that needs solving

[02:35:01.0000] <MikeSmith>
ah

[02:35:02.0000] <hsivonen>
when that same problem has never been equally solved pre-Internet and the sky hasn't fallen

[02:36:00.0000] <hsivonen>
MikeSmith: sorry if "hahahahah" was rude.

[02:36:01.0000] <hsivonen>
but this is so far removed from the needs of the *users*

[02:36:02.0000] <MikeSmith>
I guess I don't really know what the difference is between smart cards and the contactless cards and e-wallet features on mobile phones we have in Japan

[02:36:03.0000] <MikeSmith>
no problem man :)

[02:37:00.0000] <MikeSmith>
you should laugh more often!

[02:37:01.0000] <MikeSmith>
I'm glad to provide some mirth

[02:38:00.0000] <MikeSmith>
anyway, the use case I had in mind is just the use case of being able to pay for stuff easily without needing to carry cash

[02:39:00.0000] <MikeSmith>
I take it that in Europe, the use case that the vendors are trying to sell governments on is just electronic identification

[02:39:01.0000] <hsivonen>
what goverments in Europe try to do is to make login to government Web sites more "secure" than login to Google or Paypal

[02:40:00.0000] <hsivonen>
and more secure than login to banks

[02:40:01.0000] <MikeSmith>
aha

[02:41:00.0000] <jgraham>
Hmm, the situation we have is that login to government websites is pretty much equivalent to login to banks

[02:41:01.0000] <hsivonen>
because, you know, no one has never just phoned a government office and stated their name and id number

[02:41:02.0000] <hsivonen>
jgraham: in Finland, login to goverment sites is now outsourced to banks, because the smart card thing sucked so badly

[02:41:03.0000] <jgraham>
Right, taht is mostly the case here

[02:42:00.0000] <jgraham>
There are various identity providers and banks are one of them

[02:42:01.0000] <jgraham>
Banks in turn are typically protected by some kind of hardware challenge/response system

[02:43:00.0000] <hsivonen>
this situation is *much* better than smart cards, because because typing some numbers from a laminated piece of paper is browser, OS and device-neutral

[02:43:01.0000] <jgraham>
(not sure if I am using the right technical terms here)

[02:43:02.0000] <hsivonen>
jgraham: over here, the "hardware" that the user possesses is a piece of paper with some plastic coating

[02:43:03.0000] <hsivonen>
jgraham: works great except with gullible people and phishing

[02:43:04.0000] <jgraham>
(but the system is device neutral to the extent that the bank website works on different devices/browsers)

[02:44:00.0000] <jgraham>
(and one option for government login requires java. There is also a mobile phone based alternative)

[02:44:01.0000] <hsivonen>
but then, smart cards are also vulnerable to gullible users

[02:45:00.0000] <hsivonen>
in fact, using smart cards requires more leaps of faith from the user

[02:46:00.0000] <jgraham>
hsivonen: Here you get some hardware for which you have a PIN. The bank site presents a number, you enter that number into the device and then enter the corresponding number into the bank website.

[02:47:00.0000] <hsivonen>
jgraham: I guess that protects gullible people from blatant phishing better than what we have

[02:47:01.0000] <hsivonen>
jgraham: but probably doesn't help people who are excessively gullible

[02:47:02.0000] <hsivonen>
compared to the piece of paper that is

[02:48:00.0000] <hsivonen>
with the piece of paper, the bank is supposed to ask for one printed number at a time

[02:49:00.0000] <hsivonen>
but since the user has all the numbers available, a particularly audacious phisher can ask the user to type *all* of them at once

[02:49:01.0000] <hsivonen>
of course, the user has to be super-gullible to fall for that one

[02:49:02.0000] <hsivonen>
I don't know if people who fall for that one can be helped in terms of computer security

[02:58:00.0000] <MikeSmith>
hsivonen: I'm wondering how the validator deals with "xmlns:" in text/html

[02:59:00.0000] <MikeSmith>
I see the parser does not expose "xmlns:*" as attributes to the rest of the SAX pipeline

[02:59:01.0000] <MikeSmith>
as far as I can see

[03:00:00.0000] <MikeSmith>
and doesn't support the sax namespace-prefixes feature

[03:01:00.0000] <MikeSmith>
so I'm wondering how the validator service is able to see report xmlnis:* attributes

[03:03:00.0000] <hsivonen>
MikeSmith: IIRC, the parser reports them, then doesn't show them to the pipeline

[03:04:00.0000] <MikeSmith>
ah, OK

[03:05:00.0000] <MikeSmith>
hmm, but jing sees them

[03:05:01.0000] <hsivonen>
oh.

[03:05:02.0000] <hsivonen>
then I misremember

[03:06:00.0000] <MikeSmith>
well, I mean I can see that the error message seems to be a kind that jing emits

[03:06:01.0000] <MikeSmith>
"Attribute xmlns:foo not allowed here"

[03:07:00.0000] <MikeSmith>
oh

[03:07:01.0000] <MikeSmith>
no

[03:07:02.0000] <MikeSmith>
that is emitted by the parser

[03:07:03.0000] <MikeSmith>
my bad

[03:08:00.0000] <MikeSmith>
that's in the treebuilder code

[03:08:01.0000] <hsivonen>
MikeSmith: yes. private void checkAttributes(HtmlAttributes attributes, @NsUri String ns)

[03:08:02.0000] <MikeSmith>
yep yep

[03:08:03.0000] <MikeSmith>
OK, that is good news

[03:08:04.0000] <MikeSmith>
or good for me to get confirmation of that

[03:08:05.0000] <hsivonen>
MikeSmith: fun with RDFa, eh?

[03:08:06.0000] <MikeSmith>
you guessed it man

[03:09:00.0000] <MikeSmith>
xmlns is deprecated in RDFa 1.1

[03:09:01.0000] <hsivonen>
MikeSmith: I suggest not supporting deprecated parts

[03:09:02.0000] <MikeSmith>
however, the spec currently says, "Conformance checkers must accept attribute names that have a case insensitive prefix matching "xmlns:" as conforming. Conformance checkers should generate warnings noting that the use of xmlns: is deprecated."

[03:09:03.0000] <MikeSmith>
yeah

[03:09:04.0000] <MikeSmith>
agreed

[03:12:00.0000] <MikeSmith>
if anything that part of the spec should be changed to say, "Conformance checkers may report xmlns attributes as errors"

[03:12:01.0000] <MikeSmith>
anyway, it's also not clear whether xmlns is an error in RDFa Lite or not

[03:12:02.0000] <MikeSmith>
not clear to me anyway

[03:21:00.0000] <MikeSmith>
oh, looks like gecko implementation of Network Status API just landed

[03:21:01.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=677166

[03:23:00.0000] <Ms2ger>
And some SMS stuff too

[03:23:01.0000] <MikeSmith>
navigator.mozConnection.bandwidth

[03:23:02.0000] <MikeSmith>
SMS stuff?

[03:27:00.0000] <Ms2ger>
https://bugzilla.mozilla.org/show_bug.cgi?id=674725

[03:31:00.0000] <hsivonen>
/me wishes this stuff wasn't moz-prefixed

[03:32:00.0000] <hsivonen>
that SMS landing sure had lots of changesets

[03:32:01.0000] <Ms2ger>
/me wishes this stuff was being specced

[03:32:02.0000] <Ms2ger>
hsivonen, even better, it didn't build

[03:33:00.0000] <hsivonen>
Ms2ger: IIRC, there's a draft for the network status API

[03:33:01.0000] <hsivonen>
Ms2ger: is there not a spec for SMS?

[03:33:02.0000] <Ms2ger>
On wikimo

[03:34:00.0000] <MikeSmith>
the implementation is different from network status API draft

[03:34:01.0000] <MikeSmith>
for good reasons

[03:34:02.0000] <MikeSmith>
hopefully the spec will get revised

[03:34:03.0000] <Ms2ger>
AIUI, the plan is to try to establish a significant legacy through b2g, and then spec our implementation

[03:44:00.0000] <smaug____>
Ms2ger: is wikimo not a spec but draft in some random website which has html or html5 in the domain name is a draft?

[03:44:01.0000] <smaug____>
though, perhaps you did mean that wikimo draft is a draft spec

[03:51:00.0000] <Ms2ger>
No, what I meant is that wikimo is owned by one vendor, while html5.org or whatwg.org isn't

[03:56:00.0000] <hsivonen>
html5.org and whatwg.org are both owned by employees of vendors

[03:57:00.0000] <Ms2ger>
Sure

[03:57:01.0000] <Ms2ger>
But wikimo is a Mozilla asset, and whatwg.org isn't a Google asset

[03:57:02.0000] <hsivonen>
ok

[04:13:00.0000] <MikeSmith>
hsivonen: sent you some patch review requests

[04:15:00.0000] <hsivonen>
MikeSmith: I'll take a look

[04:15:01.0000] <MikeSmith>
thanks

[04:15:02.0000] <MikeSmith>
sorry it's all pretty boring stuff

[05:57:00.0000] <MikeSmith>
hsivonen: resent the review request but with the actual patch attached this time

[05:57:01.0000] <MikeSmith>
sorry about that

[06:07:00.0000] <hsivonen>
MikeSmith: I replied

[06:07:01.0000] <MikeSmith>
thanks

[07:18:00.0000] <AryehGregor>
hober, are the transform specs being actively edited?  I filed a bunch of bugs, some of them very simple, and while some have gotten responses, none have resulted in changes yet.

[07:21:00.0000] <AryehGregor>
TabAtkins_ or jamesr_ or some other Chrome person: could you run the test-case in this comment and see if it actually works for you in Chrome?  It still produces incorrect results for me in dev, but someone claims it works in canary: https://bugs.webkit.org/show_bug.cgi?id=68551#c0

[07:22:00.0000] <AryehGregor>
(I'm on Linux, so I don't have canary or WebKit nightlies to test in)

[07:22:01.0000] <AryehGregor>
(but the patches landed over a month ago, they should be in dev, right?)

[07:26:00.0000] <beverloo>
AryehGregor, I don't know about the context, but I'm getting an empty alert in a build from 2 minutes ago

[07:26:01.0000] <AryehGregor>
beverloo, thanks, that's the correct (fixed) behavior.

[07:26:02.0000] <AryehGregor>
I guess dev just hasn't gotten the updates yet or something.

[07:27:00.0000] <beverloo>
I think this is the change which is relevant? http://trac.webkit.org/changeset/103953 (cssText change for border-width)

[07:28:00.0000] <beverloo>
the fix probably isn't on the branch in that case

[07:31:00.0000] <AryehGregor>
Lame, Wikipedia blackout implemented by JS that runs onload or something.

[07:31:01.0000] <AryehGregor>
Why couldn't they reconfigure the Squids instead?

[07:31:02.0000] <AryehGregor>
beverloo, but it will migrate there soon enough, I guess?

[07:32:00.0000] <beverloo>
yeah, should be in Chrome 18

[07:32:01.0000] <AryehGregor>
Thanks.

[07:34:00.0000] <jgraham>
AryehGregor: It seems to have been a design goal to make it easy to get around. Dunno why

[07:34:01.0000] <AryehGregor>
Laziness?

[07:35:00.0000] <zewt>
because actually taking sites offline in "protest" is stupid? heh

[07:35:01.0000] <jgraham>
I doubt it. I mean it seems almost easier to do it right

[07:36:00.0000] <zewt>
if a site i need is offline because of some "protest", there's zero chance i'm going to go "damn you SOPA" and 100% chance i'm going to get angry at the people who *actually* took the site offline

[07:39:00.0000] <wilhelm>
You appear to be special, in that case. Following the discussions in local media, ~everyone that comment on the issue seem to be positive to the action. The issue has been widely covered today, thanks to the blackout.

[07:40:00.0000] <wilhelm>
I have no numbers – just a few more anecdotes. (c:

[07:41:00.0000] <jgraham>
The coverage on the BBC seems to be quite anti-blackout

[07:41:01.0000] <wilhelm>
Interesting.

[07:42:00.0000] <jgraham>
Not people's opinions but the reporters

[07:42:01.0000] <jgraham>
I mean it isn't saying "OMG this is bad" or anything

[07:43:00.0000] <jgraham>
But it is written in such a way that it sounds like the protest is in favour of piracy

[07:43:01.0000] <jgraham>
That could just be my bias reading it of course

[07:43:02.0000] <jgraham>
It doesn't help that Jimmy Wales rambled in his interview whereas the MPAA goon was well-drilled and had clear soundbites

[07:44:00.0000] <jgraham>
http://www.bbc.co.uk/news/technology-16604990

[07:45:00.0000] <AryehGregor>
jgraham, doing it right means involving sysadmins, in Wikipedia's case, to reconfigure the Squids (or Varnish or whatever they use these days).  Doing it wrong means any old sysop adding something to [[MediaWiki:Common.js]].

[07:46:00.0000] <AryehGregor>
Where "sysadmin" means "paid ops person with root access, of which there are like five", while "sysop" means "any 16-year-old who spent a few hundred hours scaring away well-intentioned newcomers by posting scary anti-vandalism warnings on their talk pages".

[07:46:01.0000] <jgraham>
OTOH Richard Murdoch came out in favour of SOPA which might just be enough to get everyone to realise it is a bad idea

[07:46:02.0000] <AryehGregor>
(of which there are like 2,000)

[07:47:00.0000] <jgraham>
(since he is universially reviled, at least in the UK)

[07:47:01.0000] <wilhelm>
The biggest radio station here attempted to find someone who was in favour of SOPA for a debate. They couldn't find anyone. They did ask the local equivalent of Encyclopædia Britannica, who were offended by the question. The result was that the encyclopedia considered shutting down too, but ended up doing what no.wikipedia.org did – put up a big, black banner.

[07:47:02.0000] <jgraham>
heh

[07:47:03.0000] <Ms2ger>
Nice

[07:48:00.0000] <AryehGregor>
jgraham, because the UK is entirely liberal, by American standards, like basically all of Europe on most issues.  American conservatives don't revile him at all.

[07:48:01.0000] <AryehGregor>
American liberals do, though.

[07:48:02.0000] <jgraham>
AryehGregor: American conservatives probably don't read the BBC though

[07:48:03.0000] <AryehGregor>
No, it's a liberal rag as far as they're concerned.

[07:48:04.0000] <AryehGregor>
(I'm an American conservative, incidentally)

[07:49:00.0000] <Ms2ger>
Well, everything except for Fox is a liberal rag, no?

[07:49:01.0000] <AryehGregor>
More or less, yes.  Also the Wall Street Journal is probably okay.

[07:49:02.0000] <AryehGregor>
/me discovers that the 4x4 identity matrix with the last 1 equal to k is the same as scale3d(1/k, 1/k, 1/k)

[07:49:03.0000] <AryehGregor>
This perspective stuff is kind of interesting.

[07:50:00.0000] <AryehGregor>
Also, setting the last 1 to a 0 makes everything completely vanish.

[07:50:01.0000] <Ms2ger>
The last one equal to k?

[07:50:02.0000] <Ms2ger>
diag(1,1,1,k)?

[07:50:03.0000] <AryehGregor>
[1 0 0 0; 0 1 0 0; 0 0 1 0; 0 0 0 k]

[07:50:04.0000] <AryehGregor>
Yeah.

[07:50:05.0000] <Ms2ger>
/me is lazy

[07:50:06.0000] <AryehGregor>
Which implies that you can always have that entry be either 1 or 0 by adjusting the other entries appropriately.

[07:50:07.0000] <AryehGregor>
I guess.

[07:50:08.0000] <wilhelm>
American TV is wonderfully bizarre. Even more so than British tabloids.

[07:51:00.0000] <jgraham>
(BTW thw Mozilla SOPA page is very good)

[07:52:00.0000] <AryehGregor>
Actually, if what Philip` said is correct, then diag(1, 1, 1, 0) plasters everything out to a sphere at infinity, squishing every ray coming from the origin to its endpoint at infinity.

[07:52:01.0000] <AryehGregor>
Philip`, so what's the graphical significance of [0, 0, 0, 0]?

[07:52:02.0000] <Ms2ger>
jgraham, duh? ;)

[07:52:03.0000] <jgraham>
(not least because it explicitly says "we think piracy is bad, but still think this legislation is bad")

[07:53:00.0000] <Ms2ger>
We've got complaints already of people switching to other browsers because we support piracy

[07:53:01.0000] <wilhelm>
Fascinating

[07:55:00.0000] <jgraham>
Ms2ger: Haha

[07:56:00.0000] <Ms2ger>
The fact that we still have users who use that treat must mean they're just as unhappy with other browsers

[07:56:01.0000] <Ms2ger>
If they still end up with us..

[07:59:00.0000] <Philip`>
jgraham: Richard Murdoch, the deceased comedy actor?

[07:59:01.0000] <bga>
lol http://stopsoap.com/

[07:59:02.0000] <jgraham>
Philip`: Did I say that?

[08:00:00.0000] <Philip`>
15:48 < jgraham> OTOH Richard Murdoch came out in favour of SOPA which might just be enough to get everyone to realise it is a bad idea

[08:00:01.0000] <jgraham>
See, I hate him so much I can't even bear to type his name

[08:00:02.0000] <jgraham>
Either that or I am an idiot

[08:00:03.0000] <Philip`>
That makes it hard to tell which of the Murdochs you hate :-(

[08:00:04.0000] <Philip`>
or maybe there's no need to make that distinction

[08:01:00.0000] <Philip`>
AryehGregor: It's a light source at infinity with intensity 0 (so its direction is irrelevant)

[08:02:00.0000] <AryehGregor>
Philip`, how does it have intensity zero?

[08:11:00.0000] <Philip`>
I think (not based on much expertise) that w=0 vectors occur most commonly in lighting equations, where you compute stuff like I * (N dot L) where N is a (unit) normal vector and L is the (usually unit) light direction and I is the light intensity

[08:12:00.0000] <Philip`>
and the only time you'd get a vector like [0, 0, 0, 0] is if you tried folding the intensity into L in advance (when I = 0)

[08:13:00.0000] <Philip`>
That's probably a rubbish answer; it's probably better to say that graphics almost always uses unit vectors, and non-unit vectors have no significance, and [0, 0, 0, 0] probably results from a bug like scaling your world by 0

[08:18:00.0000] <AryehGregor>
Philip`, interesting.

[08:19:00.0000] <Philip`>
/me has only ever used 4-vectors in graphics when applying transforms to 3D models, since you compute vertex positions as [x, y, z, 1]*T and vertex normals as [x, y, z, 0]*T, and all the vectors were stored as 3-vectors anyway and the w was just implicit in the computation

[08:20:00.0000] <AryehGregor>
What do you mean by vertex normals?

[08:21:00.0000] <Philip`>
The normal vector of the surface at a vertex

[08:23:00.0000] <AryehGregor>
Which surface?

[08:25:00.0000] <Philip`>
The surface of the mesh that the code is rendering

[08:25:01.0000] <bga>
http://en.wikipedia.org/wiki/Surface_normal

[08:27:00.0000] <AryehGregor>
/me knows what a surface normal is, in the sense of something normal to the tangents, where the tangents are the derivatives of the parametrization, but isn't sure how [x, y, z, 0]*T is relevant

[08:27:01.0000] <Philip`>
(It's not really a mathematical surface, e.g. if you have a cube then there are three coincident vertexes at each corner with different normals (one per face of the cube))

[08:27:02.0000] <AryehGregor>
Well, probably I don't need to know for what I'm doing right now.

[08:27:03.0000] <AryehGregor>
Oh, interesting.

[08:27:04.0000] <AryehGregor>
But each face is a proper surface with boundary, right?

[08:27:05.0000] <AryehGregor>
So it's really the union of six surfaces.

[08:29:00.0000] <Philip`>
T is a translation+rotation matrix representing the object-space-to-world-space transform of the model, and you need to apply T to the normals for use in subsequent lighting calculations, but the translation component of T is irrelevant so you treat the normals as being vectors [x,y,z,0] in the matrix multiplication

[08:29:01.0000] <Philip`>
(whereas translation matters for positions, so you treat them as [x,y,z,1])

[08:30:00.0000] <Philip`>
(Actually there's probably some inverses and transposes in there but they cancel out so they're not important)

[08:30:01.0000] <AryehGregor>
Oh, I see.

[08:30:02.0000] <AryehGregor>
Interesting.

[08:30:03.0000] <AryehGregor>
Amazing what you can do with linear algebra.

[08:31:00.0000] <AryehGregor>
Of course, a large fraction of pure math is just devoted to reducing stuff to linear algebra.

[08:31:01.0000] <AryehGregor>
(see, e.g.: multivariable calculus, homology)

[08:31:02.0000] <AryehGregor>
Applied math even more so.

[08:32:00.0000] <Philip`>
(In code you just do stuff like http://trac.wildfiregames.com/browser/ps/trunk/binaries/data/mods/public/shaders/model_common.vp lines 14-20, where instancingTransform is the object-to-world-space transform matrix, and "DP3 a, b, c" means a = b.x*c.x + b.y*c.y + b.z*c.z, and "DP4 ..." is the 4-vector version of that)

[08:33:00.0000] <Philip`>
(although if you're sane you probably don't use assembly for shaders)

[08:37:00.0000] <AryehGregor>
Fun question: should transform: scaleZ(0) have any visible effect on rendering?

[08:37:01.0000] <AryehGregor>
In Gecko it seems to make everything vanish, which doesn't make a lot of sense to me..

[08:37:02.0000] <AryehGregor>
me.

[08:37:03.0000] <TabAtkins_>
It shouldn't, no.

[08:37:04.0000] <TabAtkins_>
Because they're already zero in the z dimension?

[08:38:00.0000] <AryehGregor>
It's a funny case, because normally zero-determinant transforms make everything vanish, but here should be an exception.

[08:39:00.0000] <niloy>
I have a question regarding window.getComputedStyle(), if I ask for "border-radius", its returning empty string, is this okay?

[08:39:01.0000] <AryehGregor>
Or rather, anything should be an exception if it squashes everything to a plane that's not perpendicular to the x-y plane.

[08:39:02.0000] <TabAtkins_>
I'm wondering what effect scaleZ() can have at all, actually.

[08:39:03.0000] <TabAtkins_>
niloy: Code sample? Sounds like your'e doing it wrong.

[08:39:04.0000] <AryehGregor>
TabAtkins_, well, you can intersperse it with other transforms.  perspective() is an obvious one, but also try rotate3d().

[08:39:05.0000] <TabAtkins_>
AryehGregor: Ah, yeah.

[08:40:00.0000] <niloy>
TabAtkins_, http://jsfiddle.net/LEZA6/

[08:42:00.0000] <TabAtkins_>
Oh, right.  border-radius is a shorthand, so it doesn't have a computed style.

[08:42:01.0000] <TabAtkins_>
You need to ask for each individual corner.

[08:42:02.0000] <TabAtkins_>
(This is a dumb rule.)

[08:42:03.0000] <niloy>
ohkay

[08:42:04.0000] <niloy>
^_^

[08:43:00.0000] <TabAtkins_>
Also, any particular reason you're using .getPropertyValue('foo-bar') instead of just .fooBar?

[08:44:00.0000] <niloy>
no particular reason, I tried everything, nothing worked

[08:45:00.0000] <hober>
AryehGregor: yes, they're being actively edited. but none of the editors are working *solely* on the specs, so edits happen in a somewhat unpredictably sporadic/batchy way. each issue tracked in bugzilla will (if neccessary) eventually result in a spec change, which will be noted in bugzilla at bug-resolving time.

[08:45:01.0000] <AryehGregor>
hober, okay, just checking that someone will get around to it eventually.  Do you have any ideas on what the timeframe might be like?  Weeks, months, years?

[08:48:00.0000] <AryehGregor>
TabAtkins_, okay, now what should happen if you have two things overlaid on top of one another and then you do scaleZ(0)?  Which color do you get?  The topmost?

[08:48:01.0000] <TabAtkins_>
I... think?

[08:48:02.0000] <hober>
AryehGregor: I'll try to ensure things happen quickly but no, timeframe is probably somewhat dependent on each particular issue's complexity etc.

[08:49:00.0000] <AryehGregor>
hober, okay.

[08:49:01.0000] <AryehGregor>
TabAtkins_, so the behavior of scaleZ() should be dependent on orientation, then?  Reflecting through the x-y plane doesn't commute with scaleZ()?

[08:50:00.0000] <TabAtkins_>
AryehGregor: I'm talking out my ass.

[08:50:01.0000] <TabAtkins_>
Possibly Gecko's behavior is correct, and normal elements have epsilon depth in the z axis.

[08:50:02.0000] <AryehGregor>
That means <div style="transform:matrix3d(1,0,0,0, 0,1,0,0, 0,0,-1,0, 0,0,0,1)"><div style="transform:scaleZ(0)"> is different from <div style="transform:matrix3d(1,0,0,0, 0,1,0,0, 0,0,-1,0, 0,0,0,1) transform:scaleZ(0)">.

[08:50:03.0000] <AryehGregor>
Er.

[08:50:04.0000] <AryehGregor>
That means <div style="transform:matrix3d(1,0,0,0, 0,1,0,0, 0,0,-1,0, 0,0,0,1)"><div style="transform:scaleZ(0)"> is different from <div style="transform:matrix3d(1,0,0,0, 0,1,0,0, 0,0,-1,0, 0,0,0,1) scaleZ(0)">.

[08:51:00.0000] <TabAtkins_>
I can't interpret matrices.

[08:51:01.0000] <AryehGregor>
That matrix reflects everything through the x-y plane.

[08:51:02.0000] <AryehGregor>
I.e., negates the z-coordinate.

[08:51:03.0000] <AryehGregor>
Actually, it's just scaleZ(-1).

[08:52:00.0000] <AryehGregor>
The thing is, implementations probably premultiply all the matrices here for nested elements.

[08:52:01.0000] <AryehGregor>
So it's not intuitive what element is "on top".

[08:52:02.0000] <AryehGregor>
Actually, maybe it's not a problem.

[08:52:03.0000] <AryehGregor>
Just follow the regular z-index.

[08:53:00.0000] <AryehGregor>
Or document order if z-index is the same.

[08:53:01.0000] <AryehGregor>
This is related to transform-style:preserve-3d, methinks.

[08:54:00.0000] <AryehGregor>
Really, the question is no different from translating one div on top of another within the X-Y plane.

[08:54:01.0000] <AryehGregor>
It amounts to the same transformation matrix in the end.

[08:54:02.0000] <AryehGregor>
So it's not a problem, I guess.

[08:54:03.0000] <TabAtkins_>
Glad you satisfied yourself.  ^_^

[08:55:00.0000] <jgraham>
We need a LaTeX mode for irc

[08:55:01.0000] <TabAtkins_>
Slightly difficult in ascii.

[08:56:00.0000] <jgraham>
Well the output would have to be non-ascii of course

[08:56:01.0000] <jgraham>
Unless you just read the input :)

[08:56:02.0000] <AryehGregor>
jgraham, so I can write a program that sends your IRC client into an infinite loop?

[08:56:03.0000] <AryehGregor>
Or just a LaTeX subset like Wikipedia?

[08:56:04.0000] <jgraham>
AryehGregor: Pretend I added the word subset

[08:56:05.0000] <jgraham>
Yeah

[08:57:00.0000] <jgraham>
It could have been worse, I might hace said MathML

[08:57:01.0000] <AryehGregor>
:)

[09:20:00.0000] <david_carlisle>
jgraham: you are being watched

[09:22:00.0000] <jgraham>
david_carlisle: You don't scare me :p You might pretend to hand-author MathML, but I know you really have a LaTexX subset to MathML convertor written in XSLT :p

[09:23:00.0000] <david_carlisle>
jgraham: well, since you ask....

[09:23:01.0000] <david_carlisle>
jgraham: I do have an xml parser written in TeX so of course you can use mathml syntax in your tex files if you want save all that old \ and {} nonsense....

[09:26:00.0000] <jgraham>
Do you ever write in languages other people like? Or are all your "shell scripts" in Cobol, just because?

[09:26:01.0000] <jgraham>
;)

[09:27:00.0000] <david_carlisle>
jgraham: shell scripts are in bash and sed and perl but In my heart I know they should all be xproc really

[09:28:00.0000] <jgraham>
Heh

[09:58:00.0000] <dglazkov>
good morning, Whatwg!

[09:59:00.0000] <Ms2ger>
Good night, dglazkov

[09:59:01.0000] <dglazkov>
good night, Ms2ger! http://www.youtube.com/watch?v=w-7BT2CFYNU

[10:02:00.0000] <Ms2ger>
Oh, a giraffe... That makes sense, I guess

[10:02:01.0000] <dglazkov>
:D

[10:27:00.0000] <dglazkov>
(figurative) penny for your thoughts: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-January/034410.html

[10:30:00.0000] <Ms2ger>
Don't do that

[10:31:00.0000] <Ms2ger>
My penny please? :)

[10:37:00.0000] <dglazkov>
here: http://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/1990-issue_US_Penny_obverse_2.jpg/220px-1990-issue_US_Penny_obverse_2.jpg

[10:39:00.0000] <Ms2ger>
Thanks

[10:41:00.0000] <Ms2ger>
Opera seems to run <script for="window" event="bar">

[10:44:00.0000] <dglazkov>
Ms2ger: it's in the spec, right?

[10:44:01.0000] <Ms2ger>
Only if event == onload or onload()

[10:44:02.0000] <dglazkov>
ah

[10:44:03.0000] <dglazkov>
bar looks pretty close to onload

[10:45:00.0000] <Ms2ger>
Yeah, keys so close together and stuff

[10:45:01.0000] <dglazkov>
usually when at bar, you load on

[11:12:00.0000] <Ms2ger>
"[webmaster] Why I am deleting Firefox,  in favor of Opera" "Because you are boycotting SOPA for one day,  it tells me that you are in favor of piracy and copyright theft,  and against policing same.  Therefore I am permanently boycotting Mozilla,  and all other organizations who are in favor of piracy and theft.   Switching out browsers is easy,  switching e-mail addresses is harder,  but by the end of the week I will no longer be using any products or web

[11:12:01.0000] <Ms2ger>
sites assocaited with people who are for piracy."

[11:12:02.0000] <Ms2ger>
Anyone at Opera want to make a statement? :)

[11:14:00.0000] <divya>
hahaha

[11:32:00.0000] <Velmont>
Heh... Ohwell.

[13:33:00.0000] <dglazkov>
is dreamhost protesting SOPA too? Or is whatwg.org just down?

[13:42:00.0000] <jgraham>
Ms2ger: Now that I know being against piracy is such a winning strategy I will ensure that we add heavy armaments to Howcome's boat and send him off to maintain law on the high seas

[13:44:00.0000] <jgraham>
dglazkov: Never ascribe to political protest what can be adequetly explained by incompetence

[13:44:01.0000] <dglazkov>
:)

[14:57:00.0000] <Hixie>
dglazkov: neither as far as i can tell

[14:58:00.0000] <dglazkov>
Hixie: it's back up

[14:58:01.0000] <dglazkov>
it was a quantum fluctuation. Heisenberg applies.

[15:04:00.0000] <dglazkov>
Hixie: did you see that parser thread? What's the best way to do this?

[15:06:00.0000] <Hixie>
saw it, haven't studied it yet

[15:07:00.0000] <dglazkov>
ok. I am available for lunches, breakfasts, and beverages as well.

[15:08:00.0000] <dglazkov>
Hixie: also volunteer to do the dirty work (excludes murder and washing dishes).

[15:08:01.0000] <jamesr_>
dglazkov, afternoon tea?

[15:08:02.0000] <jamesr_>
dglazkov, bar mitzvahs?

[15:09:00.0000] <dglazkov>
you bet. My rendition of hava nagila will leave you breathless.

[15:10:00.0000] <dglazkov>
or at least speechless.


2012-01-19
[16:16:00.0000] <dglazkov>
yikes! who killed html spec?!

[16:16:01.0000] <dglazkov>
http://www.whatwg.org/specs/web-apps/current-work/multipage/

[16:16:02.0000] <divya>
lolol

[16:16:03.0000] <dglazkov>
Hixie, I have to do my homework!!!

[16:17:00.0000] <divya>
"Never ascribe to political protest what can be adequately explained by incompetence"

[16:17:01.0000] <divya>
jgraham's words ring true

[16:17:02.0000] <dglazkov>
Hixie: I think divya just called you a dumbass

[16:17:03.0000] <divya>
>_>

[16:17:04.0000] <dglazkov>
:D

[16:18:00.0000] <divya>
Hixie: dglazkov is trying to shift blame so he doesnt do HOMEWORK

[16:18:01.0000] <dglazkov>
<_<

[16:20:00.0000] <dglazkov>
I worry that there's a new 404.html file there. Did multipage version finally die? MULTIPASS! MULTIPASS!

[16:33:00.0000] <kennyluck>
Oh man Hixie, you are breaking the Web.

[16:45:00.0000] <Hixie>
um... sopa blackout? yeah, let's say that's what happened.

[16:59:00.0000] <xtgyal>
Hi, the W3C Validator @ validator.w3.org gives me an error stating <meta name="copyright" isn't registered, redirecting me to add it @ http://wiki.whatwg.org/wiki/MetaExtensions

[17:00:00.0000] <Init--WithStyle->
Hello everyone... i am trying to get some guidance on what tools to use for rendering vector graphics to an HTML canvas element... is this the right place to be asking?

[17:03:00.0000] <TabAtkins>
xtgyal: I suggest following the instructions.

[17:04:00.0000] <TabAtkins>
Init--WithStyle-: I just use SVG when I need vector graphics.

[17:04:01.0000] <TabAtkins>
But otherwise I hear paper.js is pretty cool?

[17:04:02.0000] <xtgyal>
the WHATWG wiki redirected me to here :-p

[17:04:03.0000] <TabAtkins>
Oh, so you need an account created.

[17:05:00.0000] <TabAtkins>
Hixie: ^^^

[17:05:01.0000] <Init--WithStyle->
TabAtkins: I have an engine that I would like to use that is based on the html canvas element... i want to include some extreme zooming gameplay and so I need to either use LOD or vector graphics to provide for that level of zoom

[17:05:02.0000] <Hixie>
xtgyal: /msg me your e-mail address and i'll create one

[17:05:03.0000] <Init--WithStyle->
Is there some way to get the performance benefits of a sprite, while still enabling the zoom-ability of vector graphics?

[17:05:04.0000] <xtgyal>
I'm not sure, if the issue is simply that that attribute is not listed, then yes, is that where the W3C validator is reading from?

[17:06:00.0000] <Init--WithStyle->
some way to "draw" from a vector graphic at run time for multiple levels of detail?

[17:06:01.0000] <xtgyal>
http://validator.w3.org/check?uri=http%3A%2F%2Fnikki.dyndns.info%2Ftemp%2Ftemplate.htm&charset=%28detect+automatically%29&doctype=Inline&group=0

[17:06:02.0000] <TabAtkins>
Init--WithStyle-: Drawing from SVG works in some browsers, though it also taints the canvas in some of them.

[17:06:03.0000] <TabAtkins>
Init--WithStyle-: Several canvas libraries support js-backed vector graphic syntaxes.

[17:07:00.0000] <Init--WithStyle->
js-backed vector graphics syntaxes.. what do you mean exactly?

[17:08:00.0000] <TabAtkins>
Init--WithStyle-: Check out, for example, paper.js.  Grab one of their examples and hit the "Source" button in the upper-right corner.

[17:09:00.0000] <Init--WithStyle->
i'm looking at it right now... does it draw the whole thing every frame or only upon the shape changing?

[17:09:01.0000] <TabAtkins>
Other libraries often do something similar - you create some objects and maybe compose them in a scene, and the library handles drawing.

[17:09:02.0000] <TabAtkins>
Init--WithStyle-: I dunno.

[17:09:03.0000] <TabAtkins>
Never used one of them.  Just pointing out options.

[17:09:04.0000] <Init--WithStyle->
right... what i'm trying to avoid is having the CPU draw the entire shape on every frame

[17:09:05.0000] <Init--WithStyle->
massive resource cost

[17:10:00.0000] <Init--WithStyle->
instead i would like to use vector processing to composite the shape on the first frame, and then load it as if it were a "sprite" or bitmap image from then on

[17:10:01.0000] <Init--WithStyle->
basically like a single render pass into a bitmap image

[17:10:02.0000] <TabAtkins>
If you can draw it into a separate canvas, you can then draw that canvas into your main one.

[17:11:00.0000] <xtgyal>
Is the issue with the validator or simply it not being listed on the wiki?

[17:14:00.0000] <xtgyal>
@Hixie how do I message you?

[17:15:00.0000] <Init--WithStyle->
TabAtkins: do you know a forum where I could post a more elaborate example of what i'm saying and perhaps get some additional feedback?

[17:58:00.0000] <Init--WithStyle->
TabAtkins: I see what you mean about rendering to a separate canvas

[18:01:00.0000] <Init--WithStyle->
could render an image via SVG, save it to the DOM as a png or such and then pass it into the canvas using drawimage() if I am understanding things correctly

[18:01:01.0000] <Init--WithStyle->
then later on when the image isn't needed anymore, the client could just drop the png off the dom

[18:16:00.0000] <MikeSmith>
wow, hybi wg is rechartering

[18:16:01.0000] <jamesr_>
you know what www-style could use? more deep space nine fan fiction analogies

[18:20:00.0000] <MikeSmith>
well, that's true of all mailing lists, isn't it?

[19:47:00.0000] <Init--WithStyle->
Is it possible to convert a vector image into code that will draw that image automatically?

[20:34:00.0000] <MikeSmith>
dglazkov: you were asking about when Hixie introduced transparent content models

[20:34:01.0000] <MikeSmith>
http://html5.org/tools/web-apps-tracker?from=466&to=467

[20:41:00.0000] <MikeSmith>
hmm, actually it had to have been some time before that change

[20:41:01.0000] <MikeSmith>
that's just the point at which Hixie actually defined it

[20:41:02.0000] <MikeSmith>
but it seems he'd already been using that term before adding the actual definition

[21:39:00.0000] <Init--WithStyle->
when creating an SVG image in a browser, after the first frame, do modern browsers cache and then display that image as a bitmap instead of re-drawing it, provided there is no scaling/alpha changes going on?

[23:16:00.0000] <hsivonen>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=15614 sad SEO

[23:19:00.0000] <MikeSmith>
hsivonen: I guess that one is too subtle for me

[23:19:01.0000] <MikeSmith>
I don't know what the inferred complaint is...

[23:41:00.0000] <hsivonen>
MikeSmith: that distribution global is a validation error

[23:42:00.0000] <hsivonen>
do SEO folks really think that the default mode of the Web is something other than global distribution?

[23:42:01.0000] <MikeSmith>
ah

[23:43:00.0000] <MikeSmith>
holy god

[23:43:01.0000] <MikeSmith>
people actually use that?

[23:44:00.0000] <MikeSmith>
nuts

[23:45:00.0000] <hsivonen>
MikeSmith: I believe some people are using that

[23:45:01.0000] <MikeSmith>
who comes up with this stuff?

[23:45:02.0000] <MikeSmith>
hsivonen: yeah, I see it at http://www.metatags.org/meta_name_distribution and elsewhere

[23:46:00.0000] <hsivonen>
"ALMOST NO INFLUENCE"

[23:46:01.0000] <MikeSmith>
heh

[23:47:00.0000] <Hixie>
i'm looking forward to the day where we go through all these meta names that people registered, and kill off the ones that are wasting people's time

[23:48:00.0000] <MikeSmith>
well

[23:48:01.0000] <Hixie>
not as "unregistered non-conforming please see the wiki to add it"  but as "non-conforming obsoloete do not use"

[23:48:02.0000] <MikeSmith>
that would be most of the list

[00:15:00.0000] <hsivonen>
uh oh. dglazkov wants to modify the parsing algorithm

[00:15:01.0000] <MikeSmith>
yeah

[00:16:00.0000] <MikeSmith>
not an encouraging sign

[00:16:01.0000] <MikeSmith>
RED FLAG

[00:38:00.0000] <hsivonen>
activities for today: document.close()

[00:39:00.0000] <hsivonen>
nope, document.write and document.close still aren't fully "done" :-(

[00:48:00.0000] <MikeSmith>
hsivonen: that doesn't sound like fun at all

[00:49:00.0000] <hsivonen>
MikeSmith: it seems to me that these things aren't falling out of use. instead, people are coming up with new uses for them and push the boundaries

[00:49:01.0000] <MikeSmith>
yeah

[00:50:00.0000] <MikeSmith>
I remember seeing some specific case of that a few weeks back

[00:50:01.0000] <MikeSmith>
blog posting

[00:50:02.0000] <MikeSmith>
/me tries to recall the details

[00:50:03.0000] <MikeSmith>
anyway, not an encouraging trend

[01:49:00.0000] <MikeSmith>
hsivonen: heads-up lest I forget later: I had to also make a change to the validator site/script.js file to match the updates I made to the s.validator.nu URIs

[01:49:01.0000] <MikeSmith>
so if you don't deploy that directly from the repo sources, it will need to be updated on validator.nu however else you do it

[01:50:00.0000] <MikeSmith>
the change affects whether the parser option is auto-set to XML or not

[01:50:01.0000] <MikeSmith>
the isHtmlCompatiblePreset stuff

[02:01:00.0000] <MikeSmith>
wow, people do actually use the "bring your own schema" feature of validator.nu

[02:01:01.0000] <MikeSmith>
http://bugzilla.validator.nu/show_bug.cgi?id=893

[02:01:02.0000] <MikeSmith>
at least one person

[02:02:00.0000] <MikeSmith>
though he misunderstands where the bug is

[02:02:01.0000] <MikeSmith>
oh

[02:03:00.0000] <MikeSmith>
maybe it's because it's not evaluating the embedded schematron rules

[02:20:00.0000] <hsivonen>
MikeSmith: thanks

[02:21:00.0000] <MikeSmith>
hsivonen: does jing handle embedded schematron rules?

[04:02:00.0000] <hsivonen>
/me gets nearer implementing innerHTML for Document for HTML documents but not XML documents

[04:02:01.0000] <hsivonen>
isn't it great how XML involves doing stuff like this twice

[04:09:00.0000] <david_carlisle>
hsivonen: the obvious solution is to get the whole world to switch to xml, and just do the xml one, then you only need do it once.

[04:09:01.0000] <david_carlisle>
or at least it seemed that way in 1998

[04:11:00.0000] <jgraham>
Say XML twice and Bang! david_carlisle appears :)

[04:12:00.0000] <david_carlisle>
jgraham: Actually I just (this week) switched our public facing documentation set  away from xml to html(5)(+mathml+svg)  (in the next release) then xml can be our private secret

[04:15:00.0000] <hsivonen>
david_carlisle: BTW, I'm starting to believe in versionless MathML. The existence of SVG 1.2 Tiny makes me say SVG 1.1 with a version number, still.

[04:17:00.0000] <david_carlisle>
hsivonen: Ah OK, if that belief results in you wanting any actual code or schema changes from me let me know....

[04:18:00.0000] <hsivonen>
david_carlisle: ok. I will need to reconsider my position on the schema.

[04:19:00.0000] <hsivonen>
Ms2ger: the DOMParser spec doesn't say what document URL the DOMParser-returned doc should have

[04:19:01.0000] <Ms2ger>
What should it have?

[04:19:02.0000] <hsivonen>
Ms2ger: I don't know. That's why I took a look at the spec.

[04:20:00.0000] <hsivonen>
/me tried naively to use the spec as a guide for implementation rather than the other way round

[04:20:01.0000] <Ms2ger>
/me tests

[04:21:00.0000] <Ms2ger>
And every time I have to do that, I remember how horrible this API is

[04:21:01.0000] <hsivonen>
Ms2ger: the chrome-exposed API is even more horrible than the specced Web-exposed part...

[04:22:00.0000] <hsivonen>
the way it is implemented makes me sad

[04:23:00.0000] <Ms2ger>
Hm, is document.URL supposed to be implemented?

[04:24:00.0000] <hsivonen>
Ms2ger: FWIW, nsContentUtils::CreateDocument says I can't pass nsnull as the URL, so I guess the document URL can't be null...

[04:24:01.0000] <Ms2ger>
I was about to suggest null :/

[04:24:02.0000] <hsivonen>
Ms2ger: not sure. documentURI might work better

[04:25:00.0000] <Ms2ger>
That returns null in Chrome and Opera

[04:25:01.0000] <hsivonen>
interesting

[04:26:00.0000] <Ms2ger>
110   // Note: can't require that aDocumentURI/aBaseURI/aPrincipal be non-null,

[04:26:01.0000] <Ms2ger>
111   // since at least one caller (XMLHttpRequest) doesn't have decent args to

[04:26:02.0000] <Ms2ger>
112   // pass in.

[04:26:03.0000] <Ms2ger>
In NS_NewDOMDocument

[04:26:04.0000] <Ms2ger>
So why doesn't nsContentUtils accept null?

[04:27:00.0000] <Ms2ger>
/me tries to remember how XHR works

[04:27:01.0000] <hsivonen>
Ms2ger: I have no idea. I'm just reading the API docs in the .h

[04:27:02.0000] <hsivonen>
Ms2ger: XHR does pass non-null args these days

[04:28:00.0000] <Ms2ger>
/me looks at bonsai

[04:32:00.0000] <Ms2ger>
hsivonen, I see no reason to assume that the "must not be null" ever had a reason

[04:32:01.0000] <hsivonen>
Ms2ger: yay

[04:32:02.0000] <hsivonen>
next up: figuring out what to pass as the principal

[04:34:00.0000] <hsivonen>
ooh. I can just read existing source a few lines down

[04:42:00.0000] <Ms2ger>
Hmm, it's only a month ago I touched that spec

[04:50:00.0000] <hsivonen>
Ms2ger: so it looks like Gecko inherits the documnet URL from the DOMParser creator

[04:51:00.0000] <Ms2ger>
Yeah

[04:52:00.0000] <hsivonen>
Ms2ger: interesting that the content type isn't compared ASCII case-sensitively

[04:54:00.0000] <hsivonen>
I'm not complaining. just surprised.

[04:55:00.0000] <Ms2ger>
Er

[04:55:01.0000] <Ms2ger>
It is case-sensitive, isn't it?

[04:56:00.0000] <hsivonen>
Ms2ger: yeah. typo above. I meant *in*sensitively

[04:57:00.0000] <Ms2ger>
Good

[04:57:01.0000] <Ms2ger>
Your comments keep making me doubt my sanity :)

[04:57:02.0000] <hsivonen>
I almost wrote a bug out of logic and was about to make it ASCII case-insensitive like this kind of things usually are

[04:57:03.0000] <hsivonen>
Ms2ger: sorry

[04:57:04.0000] <Ms2ger>
Now, so do my own comments

[04:58:00.0000] <Ms2ger>
So maybe it's not your fault :)

[04:59:00.0000] <hsivonen>
Ms2ger: are you OK with expanding the DOMParser spec with HTML support when content type is text/html?

[04:59:01.0000] <Ms2ger>
I guess

[05:00:00.0000] <hsivonen>
ok. only for the Web-exposed part

[05:00:01.0000] <hsivonen>
I have no intention of supporting HTML in the methods we only expose to Firefox extensions

[05:01:00.0000] <Ms2ger>
Hrm, I want a assert_instanceof that gives less obscure error messages

[05:01:01.0000] <Ms2ger>
jgraham, ^

[05:03:00.0000] <Ms2ger>
Interesting how we return an SVGDocument even if we hit a parse error

[05:05:00.0000] <Ms2ger>
Updated the spec

[05:08:00.0000] <Ms2ger>
Oh, and I wouldn't mind at all if you made DOMParser use nsCString for the content type ;)

[05:38:00.0000] <jgraham>
Ms2ger: Less obscure than what?

[05:38:01.0000] <Ms2ger>
jgraham, "got false expected true"

[05:39:00.0000] <jgraham>
Less onscure than assert_true(foo instanceof bar) then?

[05:39:01.0000] <jgraham>
*obscure

[05:39:02.0000] <jgraham>
Well that sounds possible

[05:40:00.0000] <Ms2ger>
Yeah

[05:40:01.0000] <jgraham>
Although istanceof can be evil in multiple window situations I guess it is fair enough if you use it explicitly

[05:41:00.0000] <Ms2ger>
Maybe have it take an explicit window argument to make the point?

[05:43:00.0000] <jgraham>
Not sure how that would work

[05:44:00.0000] <Ms2ger>
assert_instanceof(foo, window, "DOMParser")

[05:44:01.0000] <jgraham>
But the rightmost argument need not be a property of window directly

[05:44:02.0000] <Ms2ger>
Oh?

[05:44:03.0000] <jgraham>
Although it typically is for DOM cases

[06:29:00.0000] <hsivonen>
Ms2ger: I think DOMParser.parseFromString("...", "text/html"); should always set the charset of the returned document to UTF-8 regardless of <meta>s

[06:29:01.0000] <hsivonen>
to avoid complexity

[06:29:02.0000] <hsivonen>
Ms2ger: ok?

[06:29:03.0000] <Ms2ger>
Makes sense to me

[06:29:04.0000] <hsivonen>
good

[08:44:00.0000] <MikeSmith>
god there is such a huge cost to formal process

[08:44:01.0000] <MikeSmith>
you create a formal decision policy with good intentions

[08:45:00.0000] <MikeSmith>
and it becomes a frankenstein monster

[08:55:00.0000] <dglazkov>
good morning, Whatwg!

[08:56:00.0000] <dglazkov>
hsivonen, MikeSmith: tell me more!

[08:57:00.0000] <MikeSmith>
dglazkov: ask Adam Barth how much he loves implementing parser changes

[08:58:00.0000] <dglazkov>
well, this time we'll be doing it for him :)

[08:58:01.0000] <MikeSmith>
also, as far as when transparent content models first appeared, somewhere around http://html5.org/tools/web-apps-tracker?from=466&to=467

[08:58:02.0000] <dglazkov>
MikeSmith: thanks!

[08:58:03.0000] <MikeSmith>
dglazkov: cool, so you will also be taking over ownership of the parser code and fixing all the bugs that come along!

[08:59:00.0000] <dglazkov>
MikeSmith: of course not! we'll just drop the code and run like a wind :P

[08:59:01.0000] <MikeSmith>
heh

[09:00:00.0000] <MikeSmith>
seriously though, you are going to be facing an uphill battle if you need to add more stuff that requires adoption-agency behavior and such

[09:00:01.0000] <MikeSmith>
just you guys may be willing to implement in your parser code does not mean others will

[09:00:02.0000] <MikeSmith>
*just because you guys

[09:01:00.0000] <dglazkov>
but what would be another way of getting the same result?

[09:01:01.0000] <MikeSmith>
a spec that does not require that result

[09:01:02.0000] <dglazkov>
insertion points are critical in shadow DOM, and having quirky rules about where they may and may not go seems ... deficient.

[09:01:03.0000] <MikeSmith>
I hear what you are saying

[09:02:00.0000] <MikeSmith>
just trying to give you a heads-up

[09:02:01.0000] <MikeSmith>
but maybe I'm just being overly pessimistic

[09:04:00.0000] <dglazkov>
hey, I've been rolling this Web components rock uphill for 2 years now, what's one more uphill battle? :)

[09:04:01.0000] <dglazkov>
would love to hear any feedback on what could be done though

[09:04:02.0000] <MikeSmith>
that rock has being rolled uphill for longer than 2 years now

[09:05:00.0000] <MikeSmith>
or a similar rock at least

[09:05:01.0000] <MikeSmith>
ask Jonas Sicking

[09:05:02.0000] <dglazkov>
yup

[09:05:03.0000] <MikeSmith>
it is nice to be getting closer

[09:05:04.0000] <smaug____>
I thought we were quite close at some point (with XBL2)

[09:07:00.0000] <MikeSmith>
I think Jonas several times had set aside time for implementing XBL2 but always ended up getting pulled away to work on other things

[09:07:01.0000] <smaug____>
yup

[09:07:02.0000] <MikeSmith>
and Indexed DB came up somewhere along the line

[09:07:03.0000] <dglazkov>
smaug____: in this particular case, XBL2 needs the same changes to parser. Shadow DOM spec is basically an extraction of XBL2's shadow DOM functionality.

[09:07:04.0000] <smaug____>
(or he is just lazy :p )

[09:07:05.0000] <MikeSmith>
well

[09:08:00.0000] <MikeSmith>
we know Jonas ain't lazy

[09:09:00.0000] <dglazkov>
smaug____: and I honestly don't want to go on the same merry-go-round about XBL2 and why it's not the right spec. I wrote about it, I talked about it, and demonstrated clearly it's not the right thing. Zbarsky agreed with me, Sicking agreed with me, Deakin agreed with me. Why keep bringing it up?

[09:09:01.0000] <MikeSmith>
dglazkov: I don't think anybody was bringing it up to suggest we go back to that

[09:09:02.0000] <MikeSmith>
just in the context of the history

[09:09:03.0000] <MikeSmith>
is all

[09:10:00.0000] <dglazkov>
MikeSmith: ok :)

[09:10:01.0000] <smaug____>
just because I'm not sure (yet) web components / shadow DOM is the right thing either

[09:10:02.0000] <smaug____>
/me needs to find some time to file bugs

[09:10:03.0000] <smaug____>
the event handling certainly needs changes

[09:11:00.0000] <MikeSmith>
dglazkov: I definitely don't mean to discourage you

[09:11:01.0000] <MikeSmith>
quite the opposite

[09:11:02.0000] <MikeSmith>
please keep doing what you're doing :)

[09:11:03.0000] <dglazkov>
MikeSmith: thanks! :)

[09:12:00.0000] <dglazkov>
smaug____: please do! otherwise we'll keep having ivory tower discussions about philosophical uncertainty of the future. We gotta start moving.

[09:16:00.0000] <smaug____>
dglazkov: btw, I don't what to discourage you. I just think we need to be very careful when adding new major APIs to the web

[09:16:01.0000] <dglazkov>
smaug____: I agree. And I know you have expertise. And I want some of that! :)

[09:16:02.0000] <smaug____>
new APIs are proposed probably every month, and luckily lots of them aren't "accepted", at least not immediately

[09:18:00.0000] <smaug____>
(scary, someone thinks I have some expertise)

[09:19:00.0000] <dglazkov>
well, you talk like you do! :P

[09:19:01.0000] <smaug____>
I've been hacking browsers only 9 years

[09:19:02.0000] <dglazkov>
actually, I just recently changed event dispatch section and would appreciate a closer look.

[09:20:00.0000] <dglazkov>
that's close to a 100 in internet years.

[09:20:01.0000] <dglazkov>
you're basically a great grandpa of the browsers.

[09:20:02.0000] <Ms2ger>
Yeah, even Glazman has been around for only 12 years

[09:21:00.0000] <smaug____>
dglazkov: anyway, I'll try to give more feedback...hmm...during next week.

[09:21:01.0000] <smaug____>
I'll meet Boris et al

[09:21:02.0000] <dglazkov>
my first (well, technically second) WebKit commit was just over 3 years ago. Though I was a Web developer since 1995 prior to that

[09:22:00.0000] <dglazkov>
smaug____: cool! you coming to boston?

[09:22:01.0000] <Ms2ger>
Paris

[09:22:02.0000] <smaug____>
DOm stuff in Paris

[09:22:03.0000] <smaug____>
DOM

[09:22:04.0000] <dglazkov>
in Paris, it's Dom Pérignon

[09:23:00.0000] <dglazkov>
it's a non-standard extension.

[09:24:00.0000] <dglazkov>
smaug____: let me know if you want me to VC in or something like that.

[09:44:00.0000] <Ms2ger>
Go, irccloud

[09:44:01.0000] <smaug____>
someone is really using irccloud o_O

[11:15:00.0000] <bga>
http://web.mit.edu/newsoffice/2012/faster-fourier-transforms-0118.html

[11:31:00.0000] <Philip`>
/me wonders if the people doing distributed computation like Folding@home have considered purchasing ads from an ad network that lets them run arbitrary scripts, so they can use the CPUs of a huge number of web users for an extremely low cost

[11:32:00.0000] <TabAtkins>
That's an extremely good idea.

[11:32:01.0000] <Ms2ger>
People were doing such a thing when workers were first implemented, but on their own sites

[11:43:00.0000] <Philip`>
Ms2ger: Yeah, the problem there is the lack of scalability - you can't easily get more visitors to your own site, whereas using an ad network gives you EC2-style cloud computing (but probably much cheaper) since the computing power is proportional to your spending and is effectively limitless

[11:46:00.0000] <Philip`>
Apparently ads are often on the order of $1 per 1000 views, and if people spend maybe 10 seconds on a page then you get 3 hours of viewing for $1

[11:48:00.0000] <Philip`>
and each visitor probably has something like 2GHz dual-core, which is probably similar CPU to an EC2 high-CPU medium instance

[11:48:01.0000] <Philip`>
which is, um, about $0.17/hour

[11:48:02.0000] <Philip`>
(on current EC2 prices)

[11:49:00.0000] <Philip`>
so maybe it's not very economical :-(

[11:49:01.0000] <Philip`>
although you could exploit the user's GPU too

[13:00:00.0000] <bga>
http://www.youtube.com/watch?v=tErVvempcCU

[13:05:00.0000] <erlehmann>
oh funny

[13:05:01.0000] <erlehmann>
i has a shell script irc client :3

[13:07:00.0000] <erlehmann>
https://github.com/erlehmann/uii/blob/master/uii

[13:08:00.0000] <erlehmann>
but it still needs query support

[13:21:00.0000] <jamesr_>
Philip`, i've seen pages that spin up worker scripts to do bitcoin mining

[13:21:01.0000] <jamesr_>
i don't think many ad networks let you run arbitrary script, though

[13:21:02.0000] <jamesr_>
that'd be a terrible idea

[13:39:00.0000] <erlehmann>
i can attest to the fact that ad networks are a terrible idea

[13:39:01.0000] <erlehmann>
i know a big german site that hangs occasionally because the ad loading was blocking, multiple document.writes argl

[13:48:00.0000] <Philip`>
jamesr_: I was thinking of e.g. http://seclab.stanford.edu/websec/csrf/csrf.pdf which apparently used ad networks to run scripts ("submitting forms, requesting images, and issuing XMLHttpRequests") on random users' machines

[13:52:00.0000] <erlehmann>
the internet, infinite possibilities!

[13:57:00.0000] <bga>
heh botnet

[14:07:00.0000] <erlehmann>
dat botnet

[14:32:00.0000] <erlehmann>
test :3

[14:49:00.0000] <bga>
passed

[15:27:00.0000] <dglazkov>
http://dvcs.w3.org/hg/webcomponents/raw-file/tip/samples/widget-theming.html


2012-01-20
[17:05:00.0000] <crankharder>
app manifest and indexed as implemented currently in the latest ffx and chrome both ask permission of the user before allowing them to be used.  anyone know if that is a permanent 'feature'

[17:05:01.0000] <AryehGregor>
Surely that's only up to a certain amount of disk space used or such?

[17:05:02.0000] <crankharder>
nope

[17:06:00.0000] <crankharder>
*indexedDB

[17:06:01.0000] <AryehGregor>
Interesting.

[17:06:02.0000] <AryehGregor>
That seems unreasonable.

[17:06:03.0000] <crankharder>
i can see it for indexeddb - maybe, after a certain size limit

[17:07:00.0000] <crankharder>
but app manifest - i'd think it should be seamless

[17:07:01.0000] <AryehGregor>
Chrome seems to not have a permission prompt for this: https://developer.mozilla.org/en-US/demos/detail/filesystemdb/launch

[17:08:00.0000] <crankharder>
i can have an example of the two in conjunction up in a few minutes

[17:13:00.0000] <crankharder>
meh, ssl issues - can't really open it up.  suffice it to say, two popups in ffx and chrome :/

[17:17:00.0000] <crankharder>
anyways - another issue.  i've noticed that the application manifest is protocol specific, maybe?  my manifest looks like this http://pastie.org/3216691 - and is served up on /offline which is always SSL.  if I visit the root of my app on HTTP while offline, then the manifest doesn't get used.  if I visit the root while on https, then it does get recognized

[17:17:01.0000] <crankharder>
the issue is that my homepage is HTTP - so nobody is going to visit it at https

[17:18:00.0000] <AryehGregor>
As a general rule, a different protocol means a different origin as far as the same-origin policy goes.

[17:18:01.0000] <AryehGregor>
I don't know about app manifests specifically.

[17:19:00.0000] <AryehGregor>
This is to stop the non-secure version of the site from having unsecured access to secure parts of the site.

[17:19:01.0000] <AryehGregor>
E.g., if the secure version of a site stores something in localStorage, maybe it's important that MITMs can't get it, so we can't let the unsecured version of the site read it.

[17:21:00.0000] <crankharder>
I guess i'm in a nebulous secure situation... I'm fine with http accessing the manifest once it's stored on the computer -  I just don't want to transmit that data over the air as http

[17:21:01.0000] <AryehGregor>
I don't know anything about manifests, so I can't really help you, but isn't the whole point that when you're offline, nothing is transmitted over the network anyway?

[17:22:00.0000] <crankharder>
yes, but when i suck down data to populate indexDB i want that connection to be secure

[17:23:00.0000] <crankharder>
unfortunately that means the whole page must be https, and so the manifest is received over https, but nobody's going to hit / as https

[17:23:01.0000] <AryehGregor>
Why not?

[17:24:00.0000] <crankharder>
cause the root of my app just isn't https

[17:24:01.0000] <AryehGregor>
Dunno how that works, then.

[17:24:02.0000] <crankharder>
so people, w/o wifi, will just go to "foo.com" in their browser

[21:06:00.0000] <MikeSmith>
http://blogs.adobe.com/webplatform/2012/01/13/html5-image-progress-events/

[21:14:00.0000] <jwalden>
seems plausible at first glance, although I'm not familiar with the area enough to say that it's definitely a good idea, and workable that way

[21:14:01.0000] <zewt>
Display the image by encoding the XHR response in base 64, appending it to a data URI, and setting an image elementfs src attribute to the data URI.

[21:14:02.0000] <zewt>
ugh

[21:15:00.0000] <zewt>
progress events for images are useful; that, however, is disgusting and horrible

[21:16:00.0000] <jwalden>
/me would agree with that

[21:16:01.0000] <zewt>
throw all kinds of sane memory handling and cache handling right out the window

[21:16:02.0000] <jwalden>
I can't think of a time I've had a need for loading a regular old <img> and needed progress information for it, myself

[21:16:03.0000] <jwalden>
medical image display is a nice instance, tho

[21:17:00.0000] <zewt>
useful when loading background images, eg. for canvas/webgl

[21:17:01.0000] <jwalden>
it'd go well for viewing any big image standalone, actually

[21:17:02.0000] <zewt>
that is, images which aren't actually being displayed as they load

[21:17:03.0000] <jwalden>
well, for background images (presumably in CSS), how would you get a handle on the image for progress notifications?

[21:17:04.0000] <zewt>
ah okay that link wasn't actually *recommending* the above--rather indicating that it's a replacement for it (okay)

[21:18:00.0000] <erlehmann>
medical imaging

[21:18:01.0000] <erlehmann>
i chuckled a bit

[21:18:02.0000] <zewt>
you just create an HTMLImageElement, fill it in and (optionally--may be browser-dependant) stuff it in a hidden container in the doc

[21:19:00.0000] <jwalden>
oh, you're assuming an <img> will seed the same cache that the CSS would use

[21:19:01.0000] <zewt>
(i've never been sure whether all browsers will load an image if it isn't in a document; i just always stick it in the doc to be sure)

[21:19:02.0000] <zewt>
not referring to CSS at all

[21:19:03.0000] <jwalden>
which is probably reasonable, or should be

[21:19:04.0000] <jwalden>
if you don't mean CSS, what do you mean by "background images"?

[21:19:05.0000] <zewt>
i'm talking about loading images, then using the image as an argument to eg. webgl's ctx.texImage2D

[21:19:06.0000] <zewt>
images loaded in the background

[21:20:00.0000] <jwalden>
aargh, namespace collisions :-)

[21:20:01.0000] <zewt>
(or in the foreground but not displayed, eg. a loading screen)

[21:20:02.0000] <jwalden>
okay, I get you now

[21:20:03.0000] <zewt>
the most obvious case being a loading screen progress indicator (i think i mentioned that on the list thread--not sure if I sent that mail)

[00:46:00.0000] <hsivonen>
uh oh. looks like the CSS WG will tweak the commas in CSS function notation in prefix-deployed modules

[00:46:01.0000] <hsivonen>
that'll cause a lot of confusion

[01:26:00.0000] <hsivonen>
yay. someone managed to make Validator.nu take so much RAM that the kernel killed the validator (and other stuff, too)

[01:28:00.0000] <MikeSmith>
oh boy

[01:28:01.0000] <MikeSmith>
I hope there are not a lot of someones out there who can do that

[01:28:02.0000] <zcorpan>
was it Philip`?

[01:30:00.0000] <hsivonen>
zcorpan: evidence points to Sweden rather than the UK

[01:32:00.0000] <jgraham>
It wasn't me

[01:44:00.0000] <zcorpan>
maybe Philip` used a proxy

[01:47:00.0000] <jgraham>
zcorpan: Pretty sure you're the prime suspect. And arguments like that aren't helping your case ;)

[01:47:01.0000] <zcorpan>
heh

[05:27:00.0000] <matjas>
hsivonen: re: “DOM strings are strings of 16-bit code units”, am I correct in reading that as “UCS-2 like strings”?

[05:30:00.0000] <matjas>
do you mean to say that all text in the entire DOM is stored as UCS-2 internally? (not just the JS engine) woah. do all browsers do that?

[05:31:00.0000] <matjas>
that does make a lot of sense

[05:32:00.0000] <hsivonen>
matjas: I mean they are like UCS-2 except the surregate range is not out of use

[05:32:01.0000] <hsivonen>
matjas: but they aren't guarenteed to be valid UTF-16

[05:32:02.0000] <matjas>
so, just like JS

[05:32:03.0000] <hsivonen>
matjas: so they aren't guaranteed to be valid UCS-2 and they aren't guaranteed to be valid UTF-16

[05:33:00.0000] <hsivonen>
matjas: so the correct answer is that JS/DOM strings are neither UCS-2 nor UTF-16 in the sense of being valid either

[05:33:01.0000] <matjas>
stuff like unpaired surrogates?

[05:33:02.0000] <hsivonen>
matjas: yes

[05:34:00.0000] <matjas>
hsivonen: thanks for clarifying

[05:34:01.0000] <hsivonen>
but for non-bogus results, authors should use valid UTF-16, of course

[05:35:00.0000] <hsivonen>
the interpretation as UTF-16 happens in layout

[05:36:00.0000] <hsivonen>
so you can have the high surrogate and the low surrogate in separate document.write calls and they end up rendering as one glyph

[05:36:01.0000] <matjas>
right

[06:36:00.0000] <jacobrask>
Does anyone know if some event is emitted when an alternate stylesheet is selected?

[06:36:01.0000] <jacobrask>
I can't seem to find anything in the specs, but maybe something non-standard

[06:44:00.0000] <hsivonen>
matjas: FWIW, in Gecko, if the most significant byte of all code units in a DOM text node is zero, Gecko stores the text 8 bits per character

[06:45:00.0000] <hsivonen>
matjas: so if you have one non-ISO-8859-1 character in a comment in an inline JavaScript, the storage of the whole text node gets doubled

[06:46:00.0000] <hsivonen>
#littleknownimplementationdetails

[06:46:01.0000] <hsivonen>
(where I meant real ISO-8859-1--not Windows-1252)

[06:47:00.0000] <matjas>
/me just edited hsivonen’s comment at http://mathiasbynens.be/notes/javascript-encoding#comment-5, adding all that

[06:48:00.0000] <matjas>
knowledge bomb! thanks a lot

[06:49:00.0000] <hsivonen>
matjas: you're welcome

[07:20:00.0000] <niloy_>
how to include unicode in javascript string that are 5 hex chars long?

[07:26:00.0000] <Philip`>
niloy_: With surrogates, e.g. U+10000 is "\ud800\udc00"

[07:27:00.0000] <niloy_>
Philip`, thanks

[07:28:00.0000] <niloy_>
Philip`, how did U+10000 become \ud800\udc00?

[07:29:00.0000] <niloy_>
Philip`, nevermind, lemme google for it

[07:33:00.0000] <hsivonen>
niloy_: http://www.rishida.net/tools/conversion/

[07:33:01.0000] <niloy_>
thank you

[09:40:00.0000] <kennyluck>
So obviously UTF-16 → UTF-32 conversion isn't straightforward.

[09:41:00.0000] <kennyluck>
I guess there do exist use cases of UTF-16 escape in CSS.

[09:41:01.0000] <Ms2ger>
Probably

[09:41:02.0000] <Ms2ger>
But enough to care?

[09:47:00.0000] <kennyluck>
ms2ger, probably not really, but we just need to go to one way or another.

[10:01:00.0000] <dglazkov>
good morning, Whatwg!

[10:28:00.0000] <divya>
dglazkov: have you seen? http://harmful.cat-v.org/software/xml/s-exp_vs_XML (there *are* a few interesting bits)

[10:28:01.0000] <divya>
Next, introduce macros that  look exactly like elements, but that are expanded in place between  the reader and the "object model"

[10:28:02.0000] <divya>
errr quote from that email

[10:31:00.0000] <bga>
http://okmij.org/ftp/Scheme/SXML.html

[10:31:01.0000] <bga>
https://gist.github.com/1332310

[10:32:00.0000] <dglazkov>
divya: whoa, so.. many.. words...

[10:32:01.0000] <divya>
yeah its a rant that could have been shorter :)

[10:32:02.0000] <divya>
also the dude died recently I heard.

[10:33:00.0000] <dglazkov>
oh noes, from reading this email?

[10:33:01.0000] <divya>
HAHAHHAHAHA

[10:33:02.0000] <yolin>
does js support only ascii numbers?

[10:34:00.0000] <Ms2ger>
Yeah, Roman numerals are such a burden

[10:35:00.0000] <yolin>
but each unicode point has a number property right?

[10:43:00.0000] <TabAtkins>
yolin: Yes, numbers must be composed of the ten ascii digits, and the ascii characters "+-.eE"

[10:44:00.0000] <TabAtkins>
All of JS's syntax is in ascii.  The only non-ascii things are user-defined identifiers like variable names.

[10:45:00.0000] <gsnedders>
Well, theoretically host objects could be non-ascii.

[10:45:01.0000] <gsnedders>
But those are just identifiers.

[10:45:02.0000] <TabAtkins>
Yeah.

[10:46:00.0000] <yolin>
will it be difficult to implement non-ascii numbers ?

[10:46:01.0000] <TabAtkins>
The big question is "what's the benefit of non-ascii digits"?

[10:47:00.0000] <yolin>
say I have a input box which accepts numbers in some language other than english, I can directly perform calculation on the number?

[10:48:00.0000] <TabAtkins>
Are you talking about accepting numbers that use digits elsewhere in the unicode range, or ones from completely different number systems?

[10:48:01.0000] <yolin>
numbers that use digits elsewhere in unicode range

[10:48:02.0000] <yolin>
Indian numerals is what I have in mind

[10:49:00.0000] <TabAtkins>
That is, there are multiple glyphs that look like "0" - are you talking about that, or about numbers like 一十三

[10:49:01.0000] <gsnedders>
yolin: for <input type=number> it should just be a UI issue as to what it displays.

[10:49:02.0000] <AryehGregor>
In theory, <input type=number> should allow such localization, but in practice I don't think it does.

[10:49:03.0000] <gsnedders>
yolin: The value property should be just a Number primitive

[10:49:04.0000] <AryehGregor>
Also it's not universally supported yet.

[10:49:05.0000] <AryehGregor>
So you have to convert manually, yes.

[10:50:00.0000] <yolin>
I was reading the unicode wiki article, http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters

[10:50:01.0000] <yolin>
it mentions every unicode has a numerical property

[10:51:00.0000] <yolin>
which is its ascii equivalent in number

[10:51:01.0000] <yolin>
if thats true, it should be easy to implement non-ascii numbers?

[10:52:00.0000] <TabAtkins>
No, since you'd be tying basic number parsing to a giant array of unicode mappings.

[10:52:01.0000] <TabAtkins>
Also, while *most* number systems are base-10, not all of them are.

[10:52:02.0000] <yolin>
like Roman numbers?

[10:52:03.0000] <TabAtkins>
(Many are officially base-10, but don't use the style of digit system that English does.)

[10:52:04.0000] <TabAtkins>
That's an extreme example, but yet.

[10:52:05.0000] <TabAtkins>
s/yet/yes/

[10:52:06.0000] <Philip`>
It's hard to implement something that matches a user's expectation of how a number should be interpreted, since that's an ill-defined problem and can't be solved by mapping characters to digits

[10:53:00.0000] <Philip`>
and there's no real point implementing something that doesn't match a user's expectation

[10:53:01.0000] <TabAtkins>
But also, say, the CJK longhand style, Armenian, Hebrew, and several others.

[10:53:02.0000] <TabAtkins>
Basically, all the number systems in http://dev.w3.org/csswg/css-counter-styles/ that aren't in the "numeric" type.

[10:53:03.0000] <Philip`>
(Even stuff like "0x10" and "1e+3" is a problem if you're trying to accept what a user might consider to be a number)

[10:54:00.0000] <TabAtkins>
Oh yeah, I forgot that "xX" (and soon "oObB") are allowed in numbers too.

[10:54:01.0000] <yolin>
okay, got it

[11:09:00.0000] <bencc>
in webrtc when sending a STUN message and than passing the signaling message to the other peer

[11:10:00.0000] <bencc>
are the username and password attributes part of STUN or webrtc or something google made up?

[11:20:00.0000] <erlehmann>
.

[11:21:00.0000] <TabAtkins>
Is that like answering "mu"?

[11:33:00.0000] <erlehmann>
TabAtkins, just testing my new IRC client :3

[11:34:00.0000] <TabAtkins>
erlehmann: Ah, kk.

[11:36:00.0000] <erlehmann>
TabAtkins, <https://github.com/erlehmann/uii>, it is just a shell script wrapper for ii

[11:37:00.0000] <erlehmann>
ii is a client that creates directories and files for irc channels

[11:37:01.0000] <erlehmann>
in this channel i talk by writing the text into ~/irc/chat.freenode.org/#whatwg/in

[11:38:00.0000] <erlehmann>
and what is written here is shown in ~/irc/chat.freenode.org/#whatwg/out

[11:38:01.0000] <TabAtkins>
Interesting.

[11:38:02.0000] <Hixie>
wow that's... cool

[11:38:03.0000] <erlehmann>
i consider that pretty usable. way more than xchat, irssi or *shudder* pidgin.

[11:38:04.0000] <erlehmann>
ii is here <http://tools.suckless.org/ii/>

[11:39:00.0000] <TabAtkins>
/me still wants a minimalistic irc server that he can pipe into a webpage, so he write himself a client UI.

[11:39:01.0000] <erlehmann>
but it is also packaged by distributions.

[11:40:00.0000] <erlehmann>
oh, i also use inotify to see when a file that i have not opened is written to to show a popup using libnotify

[11:40:01.0000] <erlehmann>
first i went for opening terminals in that case, but it became pretty easy to spam me that way

[11:42:00.0000] <erlehmann>
its a shame plan9 died

[11:42:01.0000] <erlehmann>
the combination of tail -f and readline input really serves so much well :3

[11:43:00.0000] <TabAtkins>
Plus: free logging!

[11:44:00.0000] <erlehmann>
indeed. grep was never the same.

[11:46:00.0000] <erlehmann>
handling is also easier. because i do not have to learn the window management of a specific client (irssi is pretty usable, but i already have a window manager)

[14:58:00.0000] <jwalden>
anyone familiar enough with webidl to cite the song and verse that state what the length of the ECMAScript function for a WebIDL |void foo(long a, optional long b);| would be?

[14:58:01.0000] <jwalden>
the length is supposed to be the "argument list length"

[14:58:02.0000] <jwalden>
I'm kind of guessing it's 2 there

[14:58:03.0000] <jwalden>
but I'm not sure

[14:59:00.0000] <jwalden>
and it's not clear to me how that'd be computed for a function like |void bar(long a, ...)| as a further thought

[15:00:00.0000] <Hixie>
why guess? why not look it up? :-) search for "The value of the Function object"

[15:01:00.0000] <jwalden>
I did look it up

[15:01:01.0000] <jwalden>
"argument list length" is not a term of art as far as I can tell

[15:02:00.0000] <Hixie>
yeah the term of art is "length property"

[15:02:01.0000] <jwalden>
"the maximum argument list length of the functions in the entries of S" is how it's defined

[15:03:00.0000] <Hixie>
right

[15:03:01.0000] <jwalden>
but it's not stated what "maximum argument list length" means in the context of specified-but-optional arguments, ..., and so on

[15:04:00.0000] <jwalden>
ECMAScript the spec had a rule for determining this stuff; webidl is doing things somewhat differently, so the rule doesn't transfer over, unfortunately

[15:04:01.0000] <Hixie>
the effective overload set doesn't have optional arguments, does it?

[15:04:02.0000] <Hixie>
i thought the effective overload set was "expanded out" for lack of a better term

[15:05:00.0000] <Hixie>
i.e. it's important to do step 1 of that algorithm

[15:05:01.0000] <jwalden>
hmm, I'd thought that was accumulating all the different instances with different arguments as a list, not something more complex

[15:05:02.0000] <jwalden>
/me reads some more

[15:05:03.0000] <Hixie>
yeah the definition of effective overload set explicitly expands out all the optional argument cases so by the time you get to the step that talks about "the maximum argument list length" there's no optional arguments

[15:08:00.0000] <jwalden>
it really would have been preferable for typed arrays to use ECMAScript notation, given that they're trying to be basically a native-to-ECMAScript thing :-\

[15:08:01.0000] <jwalden>
c'est la vie, or something

[15:09:00.0000] <Hixie>
i think that was basically the result of the webgl guys getting tired of waiting for the tc39 guys

[15:09:01.0000] <Hixie>
personally i was still waiting for tc39 and think that the arraybuffer stuff is scary

[15:09:02.0000] <Hixie>
because of its platform-specific endianness stuff

[15:09:03.0000] <jwalden>
fair

[15:10:00.0000] <Hixie>
but at this point looks like we're stuck with it

[15:10:01.0000] <jwalden>
/me knows people hugely negative on it for that reason

[15:10:02.0000] <Hixie>
even canvas uses arraybuffer now

[15:10:03.0000] <jwalden>
so far I haven't been convinced the alternatives really do well enough at it, tho

[15:10:04.0000] <jwalden>
but I haven't spent too much time reading up on them, so take that with a grain of salt

[15:27:00.0000] <Hixie>
holy cow, i finally got the main whatwh bucket to below 1000 e-mails

[15:27:01.0000] <paul_irish>
\o\ \o/ /o/

[15:27:02.0000] <Hixie>
only 1638 total e-mails to go

[15:30:00.0000] <Ms2ger>
/me looks at the bug count

[15:30:01.0000] <jamesr_>
Hixie, i believe that's an accurate characterization (re: arraybuffer/tc39)

[15:30:02.0000] <Ms2ger>
First you're complaining about design-by-committee, and now you're complaining about non-design-by-committee!

[15:39:00.0000] <Hixie>
indeed

[15:40:00.0000] <Hixie>
it's the "committee" part i have a problem with, no the "design" part :-P

[15:47:00.0000] <Ms2ger>
What's up next, no caring about var vs. i?

[15:47:01.0000] <TabAtkins>
Sounds legit.

[15:48:00.0000] <Hixie>
what is this "caring" you speak of

[15:48:01.0000] <Hixie>
:-P

[15:55:00.0000] <crankharder>
so, in ffx, the user is prompted whenever the application cache is initialized

[15:55:01.0000] <crankharder>
is there an event fired when the user confirms/denies the usage of application cache?

[15:57:00.0000] <Hixie>
there's an event for when the cache finished


2012-01-21
[16:01:00.0000] <crankharder>
when do I have to add that event, as I understand it the cache is downloadded as soon as it sees the <html> tag.  so where/how do I add the event?

[16:01:01.0000] <crankharder>
Hixie: ^ :)

[16:33:00.0000] <MikeSmith>
yeah seems like arraybuffer has already joined the hallowed hall of suboptimal platform features we are now stuck with

[16:34:00.0000] <MikeSmith>
why tc39 didn't make the binary stuff a priority back when is beyond me

[16:37:00.0000] <jamesr_>
i'm not sure what in particular is wrong with it

[16:57:00.0000] <crankharder>
how can I track whether a user has approved the applicationCache?

[16:57:01.0000] <crankharder>
cookie?

[17:05:00.0000] <MikeSmith>
jamesr_: ask Alex Russell

[21:43:00.0000] <Hixie>
is there a simple way to find out how many properties an object has, short of enumerating through the object's properties?

[21:46:00.0000] <Hixie>
shepazu: btw, iirc i wasn't just against svg getting text wrapping. i was (and still am) against the web platform getting text wrapping twice, instead of svg working with html and css to just make the text wrapping we already have work with svg.

[21:47:00.0000] <Hixie>
i even made proposals for how to make it work

[21:51:00.0000] <shepazu>
Hixie: iirc, we tried to make the point that SVG text wrapping was not incompatible with CSS text wrapping, and that they could both use the same algorithm… to this day, I don't recall anyone stated clearly what the alleged incompatibilities were… we were (and are) quite willing to make SVG's text wrapping match the CSS model

[21:53:00.0000] <Hixie>
having seen what happened when xsl "used the same algorithm" as css, or indeed when svg "used css" for units and the mess that made with the 'font' property, i hope you'll understand why i (we) were skeptical...

[21:54:00.0000] <Hixie>
my point though was just that your tweet seemed to imply obstructionism when it was in fact just a difference in opinion as to how the feature should be implemented

[21:54:01.0000] <shepazu>
"skeptical" is rather a mild way of putting it… I would characterize it more as "hostile"

[21:55:00.0000] <Hixie>
well, that was probably more a result of other things going on at the time

[21:55:01.0000] <Hixie>
e.g. the svg wg blatently ignoring w3c process, etc

[21:55:02.0000] <Hixie>
water under the bridge, hopefully

[22:09:00.0000] <shepazu>
Hixie: by "how the feature should be implemented", I'm only able to find a single concrete suggestion from you, which was to remove text-wrapping from SVGT1.2 and replace it with HTML+CSS in a <foreignObject> http://lists.w3.org/Archives/Public/www-svg/2006Mar/0174.html … maybe I'm missing some earlier email

[22:09:01.0000] <Hixie>
yes, that's what i was talking about

[22:10:00.0000] <Hixie>
i still think that that's the way to do it (or rather, the way to do it is to have just an html page, and the wrapping done in css via reference to an svg path or other construct)

[22:10:01.0000] <shepazu>
I don't think most people would consider that "text wrapping in SVG"

[22:11:00.0000] <Hixie>
i don't think most people think of "svg" as a special thing. it's text wrapping on the web that matters.

[22:12:00.0000] <shepazu>
I think that most people who use SVG certainly do think of it as different than HTML… they author it with Inkscape or Illustrator

[22:12:01.0000] <Hixie>
that's just a historical artefact of how svg was developed

[22:12:02.0000] <Hixie>
svg is just a part of the web platform

[22:13:00.0000] <Hixie>
it harms us all to consider it a silo

[22:13:01.0000] <Hixie>
it's a kind of "not invented here" syndrome

[22:14:00.0000] <shepazu>
it's not a "historical artefact", it's a workflow that hundreds of thousands (possibly millions) of people use (e.g. designers)

[22:14:01.0000] <Hixie>
/me shrugs

[22:14:02.0000] <Hixie>
ok

[22:14:03.0000] <Hixie>
i have no interest debating this right now :-)

[22:14:04.0000] <shepazu>
so, if that is your solution, then yes, reading back through some of the archived emails, I think it was you being obstructionist

[22:15:00.0000] <shepazu>
well, then we agree on something, because I'm not interested in debating it either :)

[22:16:00.0000] <Hixie>
i think you are causing massive harm to the web's design by sticking to this silo model

[22:16:01.0000] <Hixie>
and i think it's disingenous to say that disagreeing with your silo model is obstructionist

[22:16:02.0000] <Hixie>
but i gotta go. bbl.

[22:17:00.0000] <shepazu>
I think the evidence speaks for itself that I've tried very hard to find ways for SVG, CSS, and HTML to work smoothly together, forming the FX task force, urging you to allow SVG in HTML, etc.

[22:18:00.0000] <shepazu>
I even tried to correct the course of the Compound Documents WG, though the harm had already been done there

[22:19:00.0000] <shepazu>
and your characterizing what I'm saying as a "silo model" is just silly

[22:21:00.0000] <shepazu>
further, I think you are just saying things "for the record", rather than having a real conversation, so I'm happy to leave it as it stands

[22:41:00.0000] <MikeSmith>
does gecko have any support for transferable objects yet?

[22:41:01.0000] <MikeSmith>
http://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#transferable-objects

[00:53:00.0000] <MikeSmith>
Ms2ger: thanks

[00:53:01.0000] <Ms2ger>
Np :)

[00:53:02.0000] <MikeSmith>
I should have searched more carefully

[00:53:03.0000] <Ms2ger>
Any other bugs you filed? ;)

[00:54:00.0000] <MikeSmith>
though I guess now if somebody else searches for "mutation observers" before filing a feature bug, they will see that and know

[00:54:01.0000] <MikeSmith>
Ms2ger: I filed a bug for Transferable objects

[00:54:02.0000] <MikeSmith>
and .. one more

[00:54:03.0000] <MikeSmith>
I forget what for

[00:54:04.0000] <MikeSmith>
lemme look

[00:54:05.0000] <Ms2ger>
Don't remember a bug  for that one

[00:55:00.0000] <MikeSmith>
btw, do you know if dupes show up in the bug wizard thingey?

[00:55:01.0000] <MikeSmith>
hmm, probably not I guess

[00:56:00.0000] <MikeSmith>
anyway, it seems the transferable objects bug was in fact the only other I filed today

[00:56:01.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=720083

[00:57:00.0000] <MikeSmith>
oh wait

[00:57:01.0000] <MikeSmith>
I didn't see the getusermedia one til now

[00:57:02.0000] <MikeSmith>
so thanks again!

[00:58:00.0000] <Ms2ger>
:)

[03:03:00.0000] <hsivonen>
hmm. Wikipedia says Chrome added Theora and H.264 in different releases.

[03:03:01.0000] <hsivonen>
that's bogus, right?

[03:03:02.0000] <hsivonen>
also, Wikipedia says the Android browser added Theora in 2.3 and H.264 in 3.0. That's completely bogus, right?

[03:04:00.0000] <hsivonen>
the truthiness of http://en.wikipedia.org/wiki/HTML5_video#Table is sad

[03:11:00.0000] <Ms2ger>
+[citation needed] :)

[03:13:00.0000] <hsivonen>
also, it's sad that Wikipedia considers the WMP gimmick extension to Firefox to be on the same level as things that actually add codec support to IE9 in a way that makes the <video> APIs work

[03:15:00.0000] <doublec>
hsivonen: I wasn't aware the android browser did Theora - does it really?

[03:15:01.0000] <hsivonen>
doublec: not that I know

[03:15:02.0000] <doublec>
/me tries

[03:15:03.0000] <hsivonen>
doublec: see "completely bogus" above

[03:16:00.0000] <doublec>
hsivonen: nope, it doesn't

[03:16:01.0000] <doublec>
hsivonen: at least on ice cream sandwich on a nexus S it fails

[03:19:00.0000] <hsivonen>
Is there any way to map Maxthon versions to Trident versions? Or are they orthogonal? Mathon uses whatever Trident there is?

[03:19:01.0000] <hsivonen>
s/Mathon/Maxthon/

[03:33:00.0000] <hsivonen>
so, according to StatCounter, the usage share of WebM-enabled browser is more than the usage share of H.264-enabled browsers in Europe

[03:33:01.0000] <hsivonen>
"according to" in the sense of plugging statcounter number into my script that embodies knowledge of which versions support what

[03:41:00.0000] <hsivonen>
globally even

[05:13:00.0000] <hsivonen>
gotta step away from the computer to avoid getting stuck in the 386 mode replying to tweets commenting on my WebM math

[07:15:00.0000] <smaug____>
/me kicks Google hard

[07:22:00.0000] <gsnedders>
hsivonen: FWIW, I believe *technically* Opera on Linux/FreeBSD does still support H.264 if the system does, it's just the standard codecs are blacklisted (due to stability issues, AIUI).

[07:27:00.0000] <smaug____>
perhaps other browser vendors should have automatic tool to remove Chrome ads

[07:28:00.0000] <smaug____>
s/browser vendors/browsers/

[07:29:00.0000] <gsnedders>
/me might be wrong, though

[07:31:00.0000] <hsivonen>
gsnedders: foolip said he removed support for that

[07:31:01.0000] <hsivonen>
I succumbed to 386 and added a FAQ section to my post

[08:09:00.0000] <hsivonen>
argh. added even more 386 about Chrome (not) dropping h.264 support

[08:21:00.0000] <hsivonen>
sigh. even at hacker news they speculate without reading the script I provided so that everyone can see what I did

[09:12:00.0000] <Ms2ger>
Hixie, something like Object.getOwnPropertyNames(obj).length, maybe?

[13:00:00.0000] <jacobolus>
in a hacker news discussion, I criticized the usefulness of -webkit-cross-fade, saying that just applying alpha transparency to the top image should do the trick. in response someone pasted the text of the spec. as written, it's actually wrong. should I tell someone about that?

[13:00:01.0000] <jacobolus>
the spec is here http://www.w3.org/TR/2011/WD-css3-images-20110217/#cross-fade-function

[13:00:02.0000] <jacobolus>
and the bit that's wrong is "Then, the start image has a global alpha applied to it equal to (1-p), the end image has a global alpha applied to it equal to p, and the end image is then composited over the start image with the source-over operation. [[PORTERDUFF]]"

[13:05:00.0000] <jacobolus>
in particular, compositing the end image (to take Porter–Duff’s example, let’s say picture A) *over* the start image (picture B), we end up with for each pixel–channel (assuming pre-multiplied alpha) is c_O = c_A * 1 + c_B * (1 - alpha_A)

[13:07:00.0000] <jacobolus>
if the top image is semitransparent, and the bottom image is opaque, what we get as a result is a pixel color linearly interpolated between the bottom pixel and the top pixel at the amount of the opacity of the top image, i.e. a "cross fade"

[13:08:00.0000] <jacobolus>
but so anyway, where the spec goes wrong is in stating that an alpha should be applied to the bottom image AND THEN the top image should be composited onto it using the PD "over" operation

[13:09:00.0000] <jacobolus>
the PD over operation already includes applying such an alpha to the bottom image, inherently as part of its function

[13:09:01.0000] <jacobolus>
so what the spec tells us to do is apply such an alpha multiplier to the bottom image TWICE, which is clearly wrong

[13:11:00.0000] <jacobolus>
Bringing Porter Duff into this part of the spec at all is unnecessary complexity and likely to lead to confusion. Instead, the spec should stipulate that (in non-premultiplied-alpha terms) the cross fade should straight linearly interpolate between the R, G, B, and A components of the two images

[13:11:01.0000] <jacobolus>
that would make it do the right thing when the original images themselves are semi-transparent (which is the only use case not adequately served by the simple "set the opacity on the top layer" method)

[13:13:00.0000] <jacobolus>
in my opinion, the parts of the spec about taking two images of different sizes and cross-fading between them by interpolating between their heights and widths seems like a solution in search of a problem. are there concrete use cases in mind for that? my first suggestion would be to drop the spec altogether, as unnecessary

[13:14:00.0000] <jacobolus>
TabAtkins: you might find the above few comments useful? ↑


2012-01-22
[18:40:00.0000] <jcranmer>
after staring at several RFCs

[18:40:01.0000] <jcranmer>
I can honestly say that providing an explicit algorithm for parsing tag soup is actually a good thing

[20:08:00.0000] <abarth>
jcranmer: the text is helpful, but so are the HTML5lib tests

[20:08:01.0000] <jcranmer>
I'm trying to figure out parsing MIME soup

[20:09:00.0000] <abarth>
MIME soup?

[20:09:01.0000] <jcranmer>
illegal messages according to RFC 822 + all  of its cousins

[20:09:02.0000] <abarth>
ah

[20:09:03.0000] <abarth>
glhf, as they say in the starcraft world :)

[20:10:00.0000] <jcranmer>
(Ishudder at RFC 2231)

[00:37:00.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=40072 interesting ancient bug not codified in the spec

[05:31:00.0000] <JakeA>
Hey. Anyone know why appcache uses byte-for-byte comparison to decide when to check for updates, rather than the per-file cache headers?

[06:36:00.0000] <Ms2ger>
jacobolus, www-style

[11:28:00.0000] <crankharder>
is there any way to tell if indexedDB has been approved for use by the user prior to actually using it?


2012-01-23
[00:05:00.0000] <zcorpan>
https://bugs.webkit.org/show_bug.cgi?id=76811

[00:08:00.0000] <hsivonen>
https://twitter.com/#!/simukis/status/161097038719762432

[00:09:00.0000] <zcorpan>
I accidentally h.264

[00:14:00.0000] <MikeSmith>
"It just happens, that about every computer has H.264 libraries and they get linked accidentally"

[00:49:00.0000] <abarth>
Ms2ger: pretty harsh words for ap :(

[00:50:00.0000] <Ms2ger>
Deserved ones, IMO

[00:50:01.0000] <Ms2ger>
He keeps hurting the web for webkit's sake

[00:50:02.0000] <abarth>
what's the path forward here?  we remove URL?

[00:50:03.0000] <Ms2ger>
Yeah

[00:50:04.0000] <abarth>
ok

[00:51:00.0000] <abarth>
seems reasonable, but I'm sorry I don't have the energy to argue with AP on this topic

[00:51:01.0000] <abarth>
too busy arguing with him about Content-Disposition

[00:52:00.0000] <Ms2ger>
Oh, I have lots of energy to argue ;)

[00:52:01.0000] <Ms2ger>
Now, to fight dom2html

[01:03:00.0000] <hsivonen>
speaking of WebKit and hurting the Web, did Apple fork WebKit for iBooks 2?

[01:03:01.0000] <hsivonen>
will all WebKit devs have to deal with -ibooks stuff living on WebKit trunk?

[01:04:00.0000] <hsivonen>
is there already a source drop of iBooks-modified WebKit?

[01:09:00.0000] <jgraham>
heycam: So I still don't understand how one is supposed to algorithmically determine what is a platform object and what is not, since the definition seems to be based on intent.

[01:10:00.0000] <jgraham>
Is it intended that platform objects have some hidden state that enables one to determine that they are platform objects?

[01:11:00.0000] <jgraham>
If so is it intended that e.g. a third party javascript library can never implement an IDL interface (since the browser wouldn't know how to check for the hidden flag)

[01:12:00.0000] <Ms2ger>
"An ECMAScript library that adds support for some Web API that is not natively supported by a browser would also be considered to expose platform objects."

[01:12:01.0000] <heycam>
jgraham, there's a restriction now that platform objects (ones that aren't for exceptions, or platform array objects) can only implement "normal" interfaces and user objects can only implement callback interfaces

[01:12:02.0000] <heycam>
jgraham, but yes because we aren't doing an explicit check on [[Class]] or whatever, there is some hidden state in there

[01:13:00.0000] <heycam>
jgraham, how to determine whether a given object is considered to implement a given interface isn't defined exactly

[01:13:01.0000] <jgraham>
heycam: Right I think that is my point. If a platform object is one that implements an interface and you can't tell what implements an interface you can't make platform objects

[01:13:02.0000] <heycam>
jgraham, but there is a requirement that say an object returned from `readonly attribute Node? parentNode;` is a platform object that implements Node

[01:14:00.0000] <heycam>
jgraham, just because platform objects are the only things that can implement (non-callback) interfaces

[01:15:00.0000] <heycam>
jgraham, tbh I was a bit lazy, and I think the concept of platform vs user objects could probably be eliminated, since they are always distinct anyway (user objects can't implement Node, platform objects can't implement EventListener)

[01:15:01.0000] <jgraham>
I am at least pretty sure than in the current state of the spec, the browser isPlatformObject check will basically amount to "is this implemented natively in the browser"

[01:16:00.0000] <Ms2ger>
Sounds like the right thing to do

[01:17:00.0000] <jgraham>
IIRC there is at least one situation where you need to take an arbitary object and determine if it is a platform object or not (overloading resolution with arrays, perhaps?)

[01:17:01.0000] <heycam>
"natively in the browser" is not exactly right; it's more like "has some hidden state variable set that only the given implementation would know"

[01:17:02.0000] <heycam>
jgraham, there you need to know whether it is a native Array object (easy to check), a platform array object, or a platform object that also supports indexed properties

[01:18:00.0000] <jgraham>
Either that is an equivalent statement or we will be in a bad state where some magic flags will have an effect on some browsers but not others

[01:18:01.0000] <heycam>
ok

[01:18:02.0000] <heycam>
there's probably a problem

[01:18:03.0000] <heycam>
let's say you have the native browser C++ implementation of some APIs

[01:18:04.0000] <heycam>
as well as a JS library that implements some other APIs

[01:18:05.0000] <heycam>
the C++ implementation has an operation that takes a sequence

[01:19:00.0000] <heycam>
the JS library vends an object that supports indexed properties

[01:19:01.0000] <heycam>
how is the C++ implementation to know that the JS library objects "implements" the IDL interface with indexed properties

[01:19:02.0000] <heycam>
or even what that other IDL interface is

[01:20:00.0000] <abarth>
hsivonen: i haven't seen any -ibook stuff in WebKit, but I don't venture into CSS land much

[01:20:01.0000] <heycam>
I don't think it's possible then for a native C++ implementation and a JS library implementation of APIs to coexist

[01:20:02.0000] <heycam>
at least if they don't share knowledge about these internal state bits

[01:22:00.0000] <heycam>
I should probably remove mention of JS libraries implementing APIs, and talk more generally about it not mattering what languages (JS or C++) implements given interfaces, just that they need to share this internal state information

[01:22:01.0000] <heycam>
jgraham, wdyt?

[01:22:02.0000] <abarth>
i don't see anything about ibooks on http://opensource.apple.com/

[01:24:00.0000] <jgraham>
heycam: I am a bit skeptical about something that would allow random on-the-web javascript libraries to set some flags that have magic behaviour in some implementations. Of course if some browser wants to implement their DOM APIs in javascript or a javascript/C++ mix, that should be possible

[01:25:00.0000] <heycam>
jgraham, right so I think that's all I want to enable

[01:25:01.0000] <heycam>
jgraham, i.e. avoid "host object" vs "native object" terminology

[01:25:02.0000] <jgraham>
OK, so as long as it is clearly scoped to that, IO think it is fine

[01:25:03.0000] <heycam>
jgraham, so I should forget about random JS libraries

[01:25:04.0000] <jgraham>
s/IO/I/

[01:25:05.0000] <heycam>
/me will have a go at writing that tomorrow

[01:26:00.0000] <jgraham>
Great, thanks

[01:32:00.0000] <hsivonen>
abarth: the iBooks stuff is based on WebKit, though, right? It would be really weird for Apple to implement the common stuff a second time.

[01:32:01.0000] <abarth>
dunno

[01:32:02.0000] <abarth>
i bet they have an internal fork

[01:32:03.0000] <jgraham>
Pretty sure that at least some older Apple ePub reader was basically WebKit

[01:32:04.0000] <abarth>
it would be tough to land that proprietary stuff in WebKit

[01:33:00.0000] <heycam>
Ms2ger, "I propose that we add a pointer to the contemporary specification to the following specifications: […] DOM 2 Events (D3E) "

[01:33:01.0000] <heycam>
Ms2ger, slip of the tongue? :)

[01:34:00.0000] <heycam>
Ms2ger, or is the bracketed spec what the old spec should be pointing to (not the shortname of the obsolete spec)

[01:34:01.0000] <heycam>
Ms2ger, (if so, nm me!)

[01:34:02.0000] <hsivonen>
abarth: it would be cool to see the Apple WebKit team oppose to landing that stuff as vigorously as they opposed to landing the Dart stuff. :-)

[01:35:00.0000] <abarth>
there's certainly some tension in the webkit community around these sorts of issues

[01:36:00.0000] <abarth>
the project is wrestling with how to be innovative without going in every direction at once

[01:38:00.0000] <abarth>
(i should also say that I don't know much specifically about ibooks except what i read in articles like http://www.zdnet.com/blog/bott/how-apple-is-sabotaging-an-open-standard-for-digital-books/4378 )

[01:38:01.0000] <heycam>
tbh I don't really see a problem with iBooks doing this, if it doesn't impact WebKit more generally -- if Apple wishes to maintain an internal fork for their experimental syntax, that's up to them

[01:38:02.0000] <heycam>
it might even provide good feedback to the CSS WG for the standards based features

[01:39:00.0000] <heycam>
(this is wrt to web features btw; I have no idea whether their -ibook-* features are detrimental to EPUB standardisation efforts)

[01:40:00.0000] <abarth>
heycam: sure, but presumably the LGPL would compel them to release the source

[01:41:00.0000] <heycam>
abarth, sure, but I wouldn't expect that source to be used as a web browser engine for other products

[01:48:00.0000] <asmodai>
Must say I like Opera Mobile the most on my Android devices.

[01:48:01.0000] <asmodai>
Especially great how it reopens all my tabs after it got pushed out of active memory. Most other browsers give you a clean slate when you start the browser again.

[01:48:02.0000] <hsivonen>
heycam: this sort of thing could be detrimental to writing Gecko, Presto or Trident-based ebook readers.

[01:49:00.0000] <hsivonen>
heycam: and if one believes that everything is moving to the Web, ebook readers will be Web apps, too

[01:49:01.0000] <heycam>
hsivonen, that is true, and I guess I was just thinking about this from a web browser engine PoV rather than eBook

[01:50:00.0000] <hsivonen>
asmodai: Fennec Native reopens the tabs when reopening after being killed by the OS.

[01:50:01.0000] <hsivonen>
asmodai: (though there's a bug that makes the frontmost tab reopen twice.)

[01:50:02.0000] <asmodai>
hsivonen: I found Fennec to be not so good :(

[01:50:03.0000] <heycam>
hsivonen, who is to say Apple (or other WebKit contributors) are not willing to implement eventually unprefixed, standards-cooked versions of features they implemented with -ibook-* prefixes

[01:50:04.0000] <asmodai>
I tried normal, beta, aurora, and nightly.

[01:50:05.0000] <hsivonen>
asmodai: XUL or Native?

[01:50:06.0000] <asmodai>
Mmm, good question

[01:50:07.0000] <hsivonen>
asmodai: when did you try Nightly?

[01:51:00.0000] <asmodai>
about 4-5 days ago or so

[01:51:01.0000] <hsivonen>
heycam: to a large extent, the position of MS Office is based on support for .doc, not on support for ISO OOXML

[01:51:02.0000] <heycam>
/me sucks because he complains (mostly in his head, sometimes in public forums) about Firefox Native vs Firefox XUL

[01:51:03.0000] <asmodai>
hsivonen: downloaded the apk from a mozilla page

[01:51:04.0000] <heycam>
/me should help improve Firefox Native rather than complain, of course

[01:52:00.0000] <hsivonen>
asmodai: recently?

[01:52:01.0000] <hsivonen>
oh. 4-5 day

[01:52:02.0000] <asmodai>
hsivonen: 4-5 days ago

[01:52:03.0000] <hsivonen>
asmodai: that's Fennec Native

[01:52:04.0000] <hsivonen>
asmodai: please file bugs about stuff that sucks

[01:52:05.0000] <asmodai>
heycam: I gave up on that, I got way too many projects.

[01:52:06.0000] <asmodai>
hsivonen: Will do

[01:52:07.0000] <asmodai>
hsivonen: It definitely performs faster though

[01:52:08.0000] <asmodai>
hsivonen: Than previous versions

[01:53:00.0000] <heycam>
I with my Galaxy S2 didn't find a huge performance difference

[01:53:01.0000] <asmodai>
heycam: on my Galaxy Tab 10.1 it was at least

[01:53:02.0000] <asmodai>
Didn't test on my S2

[01:53:03.0000] <heycam>
and there definitely are many more broken things for me in Native UI vs the old XUL UI

[01:53:04.0000] <heycam>
but! I have started to file or CC myself to bugs, so that's better than nothing :)

[01:54:00.0000] <heycam>
/me only updated last week once the intiial Sync implementation had landed

[01:54:01.0000] <hsivonen>
I still use Fennec XUL for sites that require login

[01:54:02.0000] <heycam>
hsivonen, forms don't work for you?

[01:54:03.0000] <heycam>
hsivonen, or is this HTTP auth?

[01:54:04.0000] <hsivonen>
heycam: credential sync and/or autofill don't work for me

[01:55:00.0000] <heycam>
hsivonen, oh. autofill works for me on the ~1 site that I view on the phone that needs a login.

[01:55:01.0000] <hsivonen>
I'm not planning on re-entering the credentials I've entered on desktop

[01:55:02.0000] <asmodai>
One thing that's ticking me off with some recent browsers is when I copy URLs it's not giving me the scheme

[01:56:00.0000] <hsivonen>
asmodai: yeah, that's annoying with Opera Mobile

[01:56:01.0000] <hsivonen>
in Fennec Native, I can't copy the URL at all, though :-)

[01:56:02.0000] <heycam>
asmodai, occasionally that happens with me in Firefox, but most of the time it does the right thing

[01:56:03.0000] <hsivonen>
asmodai: desktop Firefox has more and more advanced heuristics for this

[01:56:04.0000] <heycam>
hsivonen, currently nightlies having broken long tap makes them somewhat unusable for me :)

[01:57:00.0000] <hsivonen>
asmodai: but with desktop Firefox, you can avoid the problem by disabling the scheme hiding

[01:57:01.0000] <asmodai>
Sucks when I am making notes in Evernote and need to add complete URLs

[01:57:02.0000] <hsivonen>
I disabled the scheme hiding in Firefox on desktop

[01:57:03.0000] <asmodai>
Will check that. It's a bit annoying when you need to provide them to applications that do some sort of regexp matching on URLs and thus fail :)

[01:58:00.0000] <heycam>
/me goes to cook dinner and watch Hewitt v Djokovic on the telly

[01:58:01.0000] <hsivonen>
that Opera Mobile prefills "www." is also terribly annoying when trying *paste into* Opera Mobile

[01:59:00.0000] <asmodai>
especially since www. is hardly common anymore

[02:00:00.0000] <asmodai>
so many sites droped it or use some other subdomain/host

[02:03:00.0000] <hsivonen>
Hixie: why aren't CR and CRLF treated as line breaks in title tooltips?

[02:08:00.0000] <hsivonen>
huh. how can the spec be wrong about CR and CRLF in tooltips and I don't find a bug report filed by me about it?

[02:08:01.0000] <hsivonen>
http://hsivonen.iki.fi/test/moz/title-attribute.html I have an existing test case

[02:09:00.0000] <zcorpan>
hsivonen: maybe you traveled back in time. in the future, you will file a bug about it

[02:10:00.0000] <jgraham>
I remember there was already some discussion about this

[02:11:00.0000] <jgraham>
tbh, I thought it was hsivonen who requested the current behviour

[02:11:01.0000] <hsivonen>
really?

[02:11:02.0000] <hsivonen>
seems unlikely since I have a pending Firefox patch that expects CR and CRLF to be breaks

[02:13:00.0000] <jgraham>
Well I'm not saying I am right

[02:14:00.0000] <jgraham>
That's just what I thought

[03:52:00.0000] <oal>
Does hsla colors support half percent values, like 20.5%, or only whole numbers?

[03:58:00.0000] <Philip`>
oal: http://www.w3.org/TR/css3-color/#hsla-color says some components are "a percentage" which presumably refers to http://www.w3.org/TR/CSS2/syndata.html#percentage-units which refers to http://www.w3.org/TR/CSS2/syndata.html#value-def-number which allows fractional values

[03:58:01.0000] <Ms2ger>
As usual, don't expect too much of CSS specs

[03:59:00.0000] <zcorpan>
short answer is "Yes"

[03:59:01.0000] <jgraham>
You are in a mazy of twisty specs, all alike

[04:00:00.0000] <Ms2ger>
You are likely to be eaten by glazou

[04:01:00.0000] <zcorpan>
glazou is the W3C grue?

[04:01:01.0000] <Ms2ger>
Just The WG's

[04:01:02.0000] <zcorpan>
ah

[04:11:00.0000] <oal>
Hmm, thanks, Philip`

[04:12:00.0000] <oal>
Just noticed google's closure library's regular expressions only match whole numbers

[04:13:00.0000] <Philip`>
Sounds like a bug

[04:16:00.0000] <Philip`>
/me presumes it should be something kind of like hsla\(\s*[-+]?([0-9]*\.)?[0-9]+\s*,\s*[-+]?([0-9]*\.)?[0-9]+%\s*,\s*[-+]?([0-9]*\.)?[0-9]+%\s*,\s*[-+]?([0-9]*\.)?[0-9]+\s*\)

[04:17:00.0000] <oal>
http://code.google.com/p/closure-library/source/browse/trunk/closure/goog/color/alpha.js#367

[04:18:00.0000] <Philip`>
That's totally bogus since e.g. "0000" is a synactically valid number

[04:18:01.0000] <bga>
Philip` \d !

[04:18:02.0000] <Philip`>
plus they don't allow the right whitespace

[04:18:03.0000] <bga>
its shorter

[04:18:04.0000] <Philip`>
and they do allow "HSLA(...)" which I think they shouldn't

[04:19:00.0000] <Philip`>
Oh, actually I suppose it looks like they should

[04:46:00.0000] <hsivonen>
awesome. Gecko's HTML to plain text conversion treats <multicol> as a block break

[04:50:00.0000] <Ms2ger>
hsivonen, ever noticed http://mxr.mozilla.org/mozilla-central/source/parser/htmlparser/src/nsHTMLTags.cpp#206 ? :)

[04:51:00.0000] <hsivonen>
Ms2ger: no. I'm looking at nsElementTable.cpp

[04:54:00.0000] <Ms2ger>
Heh, I never realized we had two nsHTMLElement classes

[04:55:00.0000] <hsivonen>
<listing>, OTOH, is something the spec knows about

[04:57:00.0000] <hsivonen>
curiously, <dd> and <dt> aren't blocks as far as old Gecko is concerned

[08:35:00.0000] <SamDutton>
Just noticed minor typo in http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-api

[08:36:00.0000] <SamDutton>
var sfx = new Audio('sfx.wav');

[08:36:01.0000] <SamDutton>
var sounds = a.addTextTrack('metadata');

[08:36:02.0000] <Ms2ger>
SamDutton, file a bug

[08:37:00.0000] <SamDutton>
thanks — excuse my ignorance, but where is the right place to file a bug for typos in the spec?

[08:37:01.0000] <jgraham>
Little grey box at the botoom right of the spec

[08:37:02.0000] <jgraham>
*bottom

[08:38:00.0000] <SamDutton>
ah — got it — thanks

[08:51:00.0000] <Ms2ger>
/me wonders why someone would abbreviate "deterministic" as "determinist."

[08:53:00.0000] <Philip`>
Maybe "d11c" sounds a bit too rude

[09:25:00.0000] <AryehGregor>
This seems to render very incorrectly in WebKit relative to Gecko: data:text/html,<!doctype html><div style="width:200px;height:200px;background:gray;-webkit-transform:perspective(200px) rotateX(45deg);-moz-transform:perspective(200px) rotateX(45deg)">

[09:26:00.0000] <AryehGregor>
/me isn't sure why

[09:28:00.0000] <AryehGregor>
/me is quite sure Gecko is right here, not WebKit

[09:28:01.0000] <Ms2ger>
Gecko is always right ;)

[09:28:02.0000] <AryehGregor>
I filed like half a dozen bugs against Gecko in its transforms alone in the last few weeks, so I think that's not quite the case.  :)

[09:50:00.0000] <dglazkov>
good morning, Whatwg!

[10:41:00.0000] <AryehGregor>
The lack of rebase in hg means I have to make sure to pull before committing to avoid pointless merge commits.

[10:41:01.0000] <AryehGregor>
Whereas in git, I can commit, then if there were other commits, rebase after pulling.

[10:41:02.0000] <AryehGregor>
Tiresome.

[10:42:00.0000] <AryehGregor>
hg wants you to not commit.

[10:42:01.0000] <AryehGregor>
It wants you to use a whole separate patch-management system instead of just having them be the same.

[10:42:02.0000] <AryehGregor>
/me grumbles

[10:42:03.0000] <AryehGregor>
(of course, I can always use hg rebase, I guess, but it's eaten my data before, so I'd prefer not)

[10:43:00.0000] <AryehGregor>
(rebase in git is safe: you can always easily recover any commits that get overwritten)

[10:43:01.0000] <AryehGregor>
(in fact, pretty much everything in git is safe except git gc, barring bugs)

[10:43:02.0000] <AryehGregor>
(which I've admittedly run into, but at least it's not by design, and upgrading fixed it)

[10:43:03.0000] <AryehGregor>
(. . . fortunately, without much data loss, since I had clones)

[10:51:00.0000] <bga>
https://dvcs.w3.org/hg/audio/raw-file/tip/streams/StreamProcessing.html

[10:51:01.0000] <MikeSmith>
AryehGregor: there is a rebase extension for hg

[10:51:02.0000] <AryehGregor>
MikeSmith, IIRC, it ate my data when I rebased and changed my mind.

[10:51:03.0000] <MikeSmith>
I have used it and it seems to pretty well work

[10:52:00.0000] <MikeSmith>
oh shit

[10:52:01.0000] <MikeSmith>
damn

[10:52:02.0000] <AryehGregor>
I might be misremembering.

[10:52:03.0000] <MikeSmith>
hmm

[10:52:04.0000] <AryehGregor>
In git, if you rebase, the old commit still sticks around for a while.

[10:52:05.0000] <MikeSmith>
I see

[10:52:06.0000] <AryehGregor>
As long as you can find the commit id, you're fine.

[10:52:07.0000] <AryehGregor>
Which you usually can.

[10:52:08.0000] <AryehGregor>
IIRC, the hg rebase extension actually destroys the old commit.

[10:52:09.0000] <AryehGregor>
/me double-checks

[10:52:10.0000] <MikeSmith>
I think it might yeah

[10:53:00.0000] <MikeSmith>
but the times I have tried it worked the way I wanted it to

[10:53:01.0000] <MikeSmith>
in that, I could rebase after committing to set things straight

[10:53:02.0000] <MikeSmith>
a

[10:53:03.0000] <AryehGregor>
When I used it, it sent me to vim to merge something or other, and I had no idea what it wanted me to do, so I did ":q!".

[10:53:04.0000] <MikeSmith>
and I could then push without multiple-head problem

[10:53:05.0000] <MikeSmith>
ah

[10:53:06.0000] <AryehGregor>
Apparently, it interpreted this as "resolve the conflict by discarding all changes" or something.

[10:53:07.0000] <AryehGregor>
And my work was permanently lost.

[10:54:00.0000] <MikeSmith>
oh geez

[10:54:01.0000] <MikeSmith>
yeah, that ain't good

[10:54:02.0000] <AryehGregor>
/me might be misremembering, but thinks it was something like that

[10:55:00.0000] <MikeSmith>
it sounds not totally unlikely

[10:55:01.0000] <MikeSmith>
I have never had it  prompt me to do a merge on a rebase but that could just be because I've never had any conflicts to deal with

[10:55:02.0000] <AryehGregor>
git treats commits as objects that are kept lying around and eventually garbage-collected if there are no references to them.

[10:55:03.0000] <MikeSmith>
I see

[10:55:04.0000] <AryehGregor>
hg treats them as permanent records of some kind, kept in an append-only database, or something like that.  I think.

[10:56:00.0000] <AryehGregor>
So I guess it's not natural for hg to keep around no-longer-used commits.

[10:56:01.0000] <AryehGregor>
In git it's very natural; everything is an object identified by a hex id, and objects are never destroyed except by garbage collection, as a rule.

[10:56:02.0000] <AryehGregor>
Anyway, back to work.

[10:58:00.0000] <dglazkov>
I like useless hg commits. They're great reminders that we are humans and thus have imperfections.

[10:58:01.0000] <dglazkov>
http://dvcs.w3.org/hg/webcomponents/rev/9c8f2d89a85e

[10:59:00.0000] <MikeSmith>
I just like for the commit history to remain purty

[11:00:00.0000] <MikeSmith>
without all kinds of unnecessary branches and merges

[11:00:01.0000] <dglazkov>
:)

[11:04:00.0000] <AryehGregor>
/me also misses git add -i

[11:12:00.0000] <MikeSmith>
what does add -i do?

[11:13:00.0000] <MikeSmith>
btw, as much as you dudes hate XSLT, you probably don't want to know that all the git help pages are generated using some DocBook-to-groff XSLT code that I wrote

[11:14:00.0000] <Ms2ger>
MikeSmith, hah, seriously?

[11:14:01.0000] <MikeSmith>
yup

[11:14:02.0000] <MikeSmith>
try a "vim /opt/local/share/man/man1/git-add.1.gz" or equivalent some time

[11:15:00.0000] <MikeSmith>
the hg man pages use the same code

[11:15:01.0000] <MikeSmith>
as do the man pages for many Debian utils

[11:15:02.0000] <zewt>
i vaguely remember using xslt for some college mess a decade ago

[11:15:03.0000] <MikeSmith>
e.g., the ones apt-get and friends

[11:15:04.0000] <MikeSmith>
xslt is a horror

[11:16:00.0000] <MikeSmith>
groff is a horror too

[11:16:01.0000] <Philip`>
Sounds like they're a good fit for Git

[11:16:02.0000] <MikeSmith>
touche

[11:18:00.0000] <zewt>
that's why i like svn--it's actually not a horror

[11:19:00.0000] <zewt>
that's pretty much what it takes to create something which isn't a horror: deploy a horror for a decade or so (cvs), then rewrite it from scratch with what you learned

[11:20:00.0000] <MikeSmith>
svn is worse than cvs

[11:20:01.0000] <zewt>
uh

[11:20:02.0000] <zewt>
no. heh

[11:20:03.0000] <zewt>
svn is better than cvs in every way except one (purging old data)

[11:20:04.0000] <zewt>
(which seems to be a result of them going "nobody could ever possibly want to do that!", which is nonsense, and designing a system which is incapable of it)

[11:21:00.0000] <MikeSmith>
if I could drop an atomic nuclear H-bomb on svn and completely obliterate it from the face of the earth forever, I would stop whatever I'm doing right now and do that instead

[11:22:00.0000] <MikeSmith>
but that's just me

[11:22:01.0000] <zewt>
i'd be happy to do that, to cvs :)

[11:25:00.0000] <Ms2ger>
I'd do that to svn, cvs, git and bzr

[11:28:00.0000] <MikeSmith>
I think President Obomba or somebody already did a predator-drone surgical strike on bzr

[11:28:01.0000] <MikeSmith>
you mention of bzr is the first I remember hearing of it for a long time

[11:28:02.0000] <Philip`>
zewt: What's wrong with serialising your entire repository and passing it through svndumpfilter and making everybody throw out their working copies and check it out again?

[11:29:00.0000] <Ms2ger>
MikeSmith, bugzilla uses it :/

[11:31:00.0000] <MikeSmith>
Ms2ger: thanks for one more data point about what makes bugzilla a suboptimal bug-tracking system!

[11:31:01.0000] <Ms2ger>
Hah

[11:31:02.0000] <MikeSmith>
and I thought my expectations could be lowered no further

[11:31:03.0000] <Ms2ger>
Well, do you have better alternatives?

[11:36:00.0000] <MikeSmith>
no

[11:36:01.0000] <MikeSmith>
all open-source bug-tracking systems suck hard pretty much equally

[11:38:00.0000] <MikeSmith>
when I worked at Openwave formerly phone.com formerly software.com we there had a bug-tracking system that some engineers had developed in-house and that was absolutely brilliant

[11:39:00.0000] <MikeSmith>
I tried to convince some product-management weenies to make it into an actual product that the company could sell

[11:39:01.0000] <MikeSmith>
but they were not interested

[11:39:02.0000] <MikeSmith>
because they only cared about stuff that had potential to bring in gazillions of dollars

[11:40:00.0000] <Ms2ger>
... and they hired you? ;)

[11:41:00.0000] <MikeSmith>
I was working on an e-mail server product than and the CEO then actually said stuff like "e-mail is a zero-billion dollar market" as a justification for not investing in that product

[11:42:00.0000] <MikeSmith>
Ms2ger: they hired my originally just as a technical writer to work on docs

[11:42:01.0000] <MikeSmith>
so I was pretty much like, say, a lamp

[11:42:02.0000] <MikeSmith>
or a lampshade

[11:42:03.0000] <Ms2ger>
Linux, Apa... Doesn't make sense, does it?

[11:43:00.0000] <MikeSmith>
whatever random piece of furniture

[11:43:01.0000] <Ms2ger>
Oh

[11:43:02.0000] <AryehGregor>
/me cannot get -webkit-perspective to work for some reason, grr.

[11:43:03.0000] <AryehGregor>
Indeed, this demo doesn't work for me in Chrome 17 dev: http://www.webkit.org/blog-files/3d-transforms/perspective-by-example.html

[11:43:04.0000] <AryehGregor>
Can anyone reproduce?

[11:45:00.0000] <AryehGregor>
Hmm: http://code.google.com/p/chromium/issues/detail?id=54702

[11:46:00.0000] <AryehGregor>
It seems like Safari and Chrome treat transforms differently.

[11:46:01.0000] <AryehGregor>
Well, I can run Safari in my Windows VM just like IE, I guess . . .

[11:47:00.0000] <MikeSmith>
Ms2ger: jackass CEO would visit our dev office sometimes and walk into the break room and randomly quiz us with questions like, What are the top three strategic priorities of our company? (Which I responded to by saying, "Make money?" and he said "NO!" and I said "OK, reduce costs?" and again he said NO and then told us what the priorities really were and none of us had any clue what he was describing despite hearing sounds coming from h

[11:47:01.0000] <MikeSmith>
mouth.)

[11:47:02.0000] <MikeSmith>
AryehGregor: that demo works for me on OSX

[11:47:03.0000] <AryehGregor>
MikeSmith, in Chrome or Safari?

[11:47:04.0000] <MikeSmith>
Chrome

[11:48:00.0000] <MikeSmith>
17.0.963.12 dev

[11:48:01.0000] <MikeSmith>
which is a little out of date

[11:48:02.0000] <AryehGregor>
Huh.

[11:48:03.0000] <AryehGregor>
/me tests in Chrome on Windows

[11:48:04.0000] <MikeSmith>
lemme try latest Canary

[11:48:05.0000] <MikeSmith>
could be some regression

[11:49:00.0000] <AryehGregor>
Doesn't work for me in Chrome 18.something on Windows . . . maybe it's dependent on GPU support or something crazy like that?

[11:50:00.0000] <MikeSmith>
Nothing that Chrome does is crazy

[11:50:01.0000] <MikeSmith>
by definition

[11:50:02.0000] <MikeSmith>
it can only do good

[11:51:00.0000] <MikeSmith>
anyway, seems to work fine for me also in current Canary

[11:51:01.0000] <MikeSmith>
18 whatever

[11:52:00.0000] <MikeSmith>
as long as I understand what the demo is supposed to do

[11:52:01.0000] <MikeSmith>
which understanding is limited to, I move my mouse over the purty things and they move

[11:52:02.0000] <AryehGregor>
Sliding the slider should do something.

[11:52:03.0000] <AryehGregor>
Doesn't do anything for me in my Windows VM either.

[11:52:04.0000] <AryehGregor>
Hmmmm.

[11:52:05.0000] <AryehGregor>
(in Safari 5 or Chrome dev)

[11:53:00.0000] <AryehGregor>
I suspect this has to do with GPU support.

[11:53:01.0000] <AryehGregor>
Since my VM has no 3D acceleration, and my Linux driver may or may not be good enough.

[11:53:02.0000] <AryehGregor>
/me tries on his laptop, which has Linux with a different video card/driver

[11:54:00.0000] <AryehGregor>
Doesn't work there either.

[11:54:01.0000] <AryehGregor>
Kind of hard for me to test the features if they don't work.

[11:54:02.0000] <MikeSmith>
fwiw, sliding the slider does do something. But The behavior above 1000 on that slider seems pretty pointless since it looks all pretty much the same to me

[11:54:03.0000] <AryehGregor>
Most of the 3D transforms themselves seem to work, though . . .

[11:54:04.0000] <AryehGregor>
Yes, that's expected.

[11:55:00.0000] <AryehGregor>
I think.

[11:56:00.0000] <AryehGregor>
Right.  1000px is quite far away already, and getting further away will make no big difference.  The distortion is related to one over the distance, with a perspective of infinity being a normal-looking webpage.

[11:56:01.0000] <AryehGregor>
Anyway, I'm annoyed.

[11:56:02.0000] <AryehGregor>
/me tries on a non-virtual Windows machine

[11:56:03.0000] <AryehGregor>
MikeSmith, thanks for helping out!

[11:56:04.0000] <jamesr_>
AryehGregor, on chrome, if GPU stuff doesn't seem right look at about:gpu

[11:57:00.0000] <jamesr_>
it'll tell you which features can/cannot be enabled

[11:57:01.0000] <AryehGregor>
jamesr_, thanks!

[11:57:02.0000] <AryehGregor>
3D CSS: Unavailable. Hardware acceleration unavailable

[11:58:00.0000] <AryehGregor>
NVIDIA cards with nouveau drivers in Linux are crash-prone.: 94103

[11:58:01.0000] <jamesr_>
yup

[11:58:02.0000] <jamesr_>
welcome to linux

[11:58:03.0000] <AryehGregor>
jamesr_, is there no software rendering fallback for 3D CSS?

[11:58:04.0000] <AryehGregor>
It seems to work in Firefox.

[11:58:05.0000] <jamesr_>
where the drivers are crashy and the user doesn't matter

[11:58:06.0000] <AryehGregor>
(presumably in software)

[11:58:07.0000] <jamesr_>
i'd actually think firefox is just using the driver

[11:58:08.0000] <jamesr_>
we don't have s/w fallback rendering for 3D css on linux

[11:59:00.0000] <Philip`>
/me didn't think Nouveau worked well enough for any kind of 3D at all

[11:59:01.0000] <AryehGregor>
Philip`, I enabled the scary experimental Gallium3D stuff, IIRC.

[11:59:02.0000] <AryehGregor>
Also, seems like mesa for Intel is *also* crash-prone, yay!

[12:00:00.0000] <jamesr_>
the only drivers that seem reasonable on linux are the very recent binary blob ones, based on the reports we've received

[12:00:01.0000] <AryehGregor>
Matches my experience gaming.

[12:00:02.0000] <AryehGregor>
NVIDIA binary works okay, everything else is garbage.

[12:01:00.0000] <AryehGregor>
From about:support in Firefox: "GPU Accelerated Windows 0"

[12:01:01.0000] <AryehGregor>
But it still supports 3D CSS.

[12:01:02.0000] <jamesr_>
what does 0 mean?

[12:02:00.0000] <Ms2ger>
None

[12:02:01.0000] <Philip`>
It's the typical representation of the number zero

[12:02:02.0000] <Ms2ger>
It's a count

[12:03:00.0000] <AryehGregor>
jamesr_, according to http://blog.mozilla.com/joe/2010/11/10/how-to-tell-if-youre-using-hardware-acceleration/, it seems it means "no GPU acceleration".

[12:05:00.0000] <Hixie>
hsivonen: i thought the issue of newlines in title="" was already handled

[12:06:00.0000] <Philip`>
/me hasn't experienced many serious compatibility problems with 3D game development on Linux, except for non-Gallium R300 drivers breaking when using shaders, and one version of binary NVIDIA drivers crashing any multithreaded application

[12:06:01.0000] <Philip`>
and a few behavioural bugs that got fixed after reporting them

[12:07:00.0000] <Philip`>
but I'd not be surprised if doing anything slightly more complex (like using GLSL) hit loads more bugs

[12:10:00.0000] <Hixie>
anyone know what's up with irc.w3.org?

[12:11:00.0000] <MikeSmith>
Hixie: working for me

[12:11:01.0000] <Hixie>
i get "Unable to connect server irc.w3.org port 6665 [Connection timed out]" from norway

[12:12:00.0000] <MikeSmith>
but I have today seen reports from people saying they are not able to get to W3C servers

[12:12:01.0000] <MikeSmith>
hmm

[12:12:02.0000] <Hixie>
k, i'll just leave it for now then

[12:12:03.0000] <MikeSmith>
yeah

[12:12:04.0000] <MikeSmith>
some routing problems for sure

[12:21:00.0000] <AryehGregor>
So of course my wife's Windows laptop has outdated graphics drivers, so browsers don't want to use GPU acceleration on it either.

[12:21:01.0000] <AryehGregor>
And I don't have an admin password.  Sigh.

[12:40:00.0000] <AryehGregor>
Argh, tons of the 3D transform spec isn't well-defined.

[12:48:00.0000] <AryehGregor>
/me wonders if he can take over and rewrite the transform specs

[12:50:00.0000] <TabAtkins>
jacobolu_: Argh, you're not only reading the /TR draft, you're reading an *old* /TR draft!  There have been four revisions since then. >_<

[12:51:00.0000] <TabAtkins>
AryehGregor: DO IT

[12:51:01.0000] <TabAtkins>
DO IT NOW

[12:51:02.0000] <AryehGregor>
How does that work?  Do we have to have some WG discussion or something?

[12:51:03.0000] <AryehGregor>
I mean, it has a bunch of editors already.

[12:52:00.0000] <TabAtkins>
AryehGregor: The chairs decide officially, but in practice it's an "anyone object?" vote.

[12:52:01.0000] <jamesr_>
AryehGregor, who?

[12:52:02.0000] <jamesr_>
are editors, that is?

[12:52:03.0000] <TabAtkins>
Submit the request now, so we can vote on it on wednesday.

[12:52:04.0000] <AryehGregor>
jamesr_, a bunch of people from Apple.

[12:52:05.0000] <AryehGregor>
TabAtkins, I'll have to run it past my Mozilla overlords first.

[12:52:06.0000] <jamesr_>
names?

[12:53:00.0000] <TabAtkins>
jamesr_: You can just look, you know.

[12:53:01.0000] <jamesr_>
/me hunts

[12:53:02.0000] <AryehGregor>
jamesr_, http://dev.w3.org/csswg/css3-transforms/#transform-origin-property

[12:53:03.0000] <TabAtkins>
jamesr_: http://dev.w3.org/csswg/

[12:53:04.0000] <AryehGregor>
TabAtkins, is there some way to get the version history?

[12:53:05.0000] <jamesr_>
sloooooooooooooow

[12:53:06.0000] <TabAtkins>
AryehGregor: Yeah, but it's painful.

[12:54:00.0000] <AryehGregor>
Let me guess, it requires a CVS checkout?

[12:54:01.0000] <TabAtkins>
http://dev.w3.org/cvsweb/csswg/

[12:54:02.0000] <TabAtkins>
Or a CVS checkout, yes.

[12:56:00.0000] <jamesr_>
AryehGregor, i don't think any of those people are actively working on this

[12:56:01.0000] <jamesr_>
the spec, anyway

[12:56:02.0000] <AryehGregor>
It doesn't look like it.

[12:56:03.0000] <jamesr_>
except for possible chris marrin, but in the last discussion of plane intersection he said that he doesn't think css should define the actual rendering

[12:56:04.0000] <TabAtkins>
No, it's another one of the specs that Apple dropped on the ground after they got it far enough in the WG that they can claim they're implementing a standard.

[12:57:00.0000] <dglazkov>
ouch.

[12:57:01.0000] <TabAtkins>
Same thing happened with Transitions and Animations, which is why dbaron and sylvain are editors now.

[13:03:00.0000] <dbaron>
AryehGregor, you may want to see the thread following http://lists.w3.org/Archives/Public/public-fx/2011OctDec/0195.html for the different transforms specs

[13:04:00.0000] <AryehGregor>
TabAtkins, is there anything special I have to know if I'm a CSS spec editor?

[13:04:01.0000] <AryehGregor>
dbaron, hmm, thanks.

[13:04:02.0000] <AryehGregor>
/me looks

[13:04:03.0000] <jamesr_>
AryehGregor, well there's the nozzle

[13:04:04.0000] <jamesr_>
but otherwise it's like anything else

[13:05:00.0000] <TabAtkins>
AryehGregor: Read some of the things at the bottom of http://wiki.csswg.org/spec

[13:05:01.0000] <TabAtkins>
But otherwise, we can fill you in as necessary.

[13:05:02.0000] <TabAtkins>
And then turn that into documentation for the future.

[13:06:00.0000] <TabAtkins>
On that note, I should write a quick page about calc() and percentages.

[13:06:01.0000] <AryehGregor>
dbaron, FWIW, based on what I've seen, it makes sense to me to advance 2D as it stands and then make a new unified spec with 3D that will progress more slowly.

[13:06:02.0000] <TabAtkins>
+1

[13:06:03.0000] <AryehGregor>
2D Transforms can almost go to PR as-is: it has two interoperable implementations of virtually everything in my testing.

[13:06:04.0000] <AryehGregor>
Except CSSMatrix.

[13:06:05.0000] <jamesr_>
TabAtkins, also FYI the w3c does not publish standards

[13:06:06.0000] <AryehGregor>
And there are a couple of things I didn't test.

[13:07:00.0000] <jamesr_>
it produces recommendations. orgs like ECMA and ISO produce standards

[13:07:01.0000] <jamesr_>
(in the context of that obsolescence notice thread with the grazy glenn)

[13:07:02.0000] <jgraham>
man I thought I missed a perfectly good VCS flamewar and then you went and mentioned specs still in CVS, so I still get to have a good laugh at others' misery. Thanks!

[13:07:03.0000] <TabAtkins>
You're welcome.

[13:07:04.0000] <jamesr_>
i don't plan to jump into that mess but The More You Know

[13:08:00.0000] <AryehGregor>
TabAtkins, also, if I took over editing, do you think they'd let me use hg?

[13:08:01.0000] <TabAtkins>
jamesr_: I honestly don't give a fuck.  The correct answer is "we care about the web, not whatever industry you're referring to".

[13:08:02.0000] <jgraham>
I think W3C now claims that it does make standards

[13:08:03.0000] <jgraham>
AryehGregor: Unles the CSS WG is more fucked than I realised, the rules are "(s)he who does the work makes the rules"

[13:08:04.0000] <TabAtkins>
AryehGregor: We... prefer to keep things together.  That said, last week we talked about switching to Hg.  I think dbaron wrote a guide for it, so hell, try it out.

[13:09:00.0000] <jgraham>
TabAtkins: I have heard several times that you are switching to hg

[13:09:01.0000] <jgraham>
From pliniss at least

[13:09:02.0000] <TabAtkins>
jgraham: Except last week it was more than one person saying so.

[13:10:00.0000] <jgraham>
But seriously if you are expecting people to use CVS to edit your specs... well I think it wouldn't be a positive thing

[13:10:01.0000] <jgraham>
We generally want *more* ediors

[13:10:02.0000] <jamesr_>
requestanimationframe uses hg. it's fine

[13:10:03.0000] <jgraham>
jamesr_: Not CSSWG

[13:10:04.0000] <TabAtkins>
Yeah, so I think Aryeh should go ahead and use it.

[13:11:00.0000] <jamesr_>
jgraham, i know, but the w3 setup is fairly sane

[13:11:01.0000] <jgraham>
Well sort of

[13:11:02.0000] <jgraham>
I am sort of considering suggesting that we move testsuite development to github so that we could have a semi-functional review system. But I fear I would be tilting at windmills

[13:12:00.0000] <TabAtkins>
No, do so, please.

[13:12:01.0000] <jgraham>
The problem with having a totally kickass internal code review setup is that everything else looks lame

[13:12:02.0000] <jgraham>
And teh fact that we have essentially nothing for testsuites is super lame

[13:12:03.0000] <dglazkov>
jgraham: why not adopt WebKit's review system? It's open source.

[13:13:00.0000] <dglazkov>
/me doesn't in fact volunteer :P

[13:13:01.0000] <jgraham>
dglazkov: I guess without knowing that it is tied to svn and doesn't meet my requeirements for a usable system

[13:14:00.0000] <jgraham>
The first is a showstopper, the second just means that I would whine a lot

[13:14:01.0000] <dglazkov>
jgraham: it works both with git and svn, and the SCM parts are abstracted out, so it should be easy to write hg support.

[13:14:02.0000] <dglazkov>
and webkit-patch is freakishly nice.

[13:14:03.0000] <jgraham>
dglazkov: Pointer?

[13:15:00.0000] <dbaron>
TabAtkins, http://wiki.csswg.org/spec/hg isn't at all finished

[13:15:01.0000] <jgraham>
Anyway moving to github would be like 0 effort if people would agree to it

[13:15:02.0000] <TabAtkins>
dbaron: Ah, there it is.  Could you link that from /spec?

[13:17:00.0000] <dglazkov>
jgraham: here's an example: https://bugs.webkit.org/attachment.cgi?id=123585&action=review

[13:17:01.0000] <jgraham>
And the code review system there isn't perfect but it has basically the right idea (a code review is a series of commits that you would like to apply. You kep adding commits until you have something that is r+ Then you merge your commits into the main codebase. Github uses multiple repositories, you can also use multiple branches)

[13:17:02.0000] <jgraham>
(there === github)

[13:19:00.0000] <jgraham>
(I think gerrit also has this model but... java)

[14:26:00.0000] <jacobolu_>
TabAtkins: oh. that's where someone linked me, sorry. is there a better link for crossfade?

[14:26:01.0000] <TabAtkins>
jacobolus: First, always check http://dev.w3.org/csswg/ for CSS specs.  In particular, http://dev.w3.org/csswg/css3-images

[14:27:00.0000] <TabAtkins>
cross-fade() has been punted to level 4 in recent drafts, but it was present in an improved form in the draft following the one you were looking at.

[14:30:00.0000] <jacobolus>
gotcha

[14:30:01.0000] <jacobolus>
I was going to say, I don't see it there at all :)

[14:30:02.0000] <TabAtkins>
But I'm still pretty sure your objection earlier was wrong.

[14:30:03.0000] <jacobolus>
it's mainly a question of wording/definitions

[14:30:04.0000] <TabAtkins>
Right now I use plus(dissolve(A), dissolve(B))

[14:31:00.0000] <jacobolus>
what's dissolve?

[14:31:01.0000] <TabAtkins>
defined in p-d

[14:32:00.0000] <jacobolus>
oh, I see it

[14:32:01.0000] <jacobolus>
TabAtkins: yes, that's a correct formula then

[14:33:00.0000] <TabAtkins>
It should amount to the "linearly interpolate each pixel's color components".

[14:33:01.0000] <jacobolus>
the language in the spec before said something like over(dissolve(A, α), dissolve(B, 1-α))

[14:33:02.0000] <TabAtkins>
Yes.

[14:33:03.0000] <jacobolus>
but over is not the same as plus

[14:33:04.0000] <TabAtkins>
Indeed.

[14:33:05.0000] <TabAtkins>
But over(dissolve(A,alpha), B) isn't right either.

[14:34:00.0000] <jacobolus>
it is if the two images are opaque

[14:34:01.0000] <TabAtkins>
Yes, but I can't rely on that assumption.

[14:34:02.0000] <jacobolus>
it isn't if they're semitransparent :)

[14:34:03.0000] <jacobolus>
that's true

[14:34:04.0000] <jacobolus>
as I said, that's the only real use case I see for the spec

[14:35:00.0000] <jacobolus>
cross-fading between semitransparent images

[14:35:01.0000] <TabAtkins>
What specifically do you mean by "the spec" here?

[14:35:02.0000] <jacobolus>
I mean, the `cross-fade` css property

[14:36:00.0000] <TabAtkins>
The major use of cross-fade() is to allow 'transition' to work on background-image.

[14:36:01.0000] <jacobolus>
that is, the only real use case that isn't already covered by just having variable opacity

[14:36:02.0000] <jacobolus>
gotcha

[14:37:00.0000] <TabAtkins>
Rather, that's the reason I made it.  It has other minor uses, of course.

[14:37:01.0000] <jacobolus>
just layering two boxes works in most instances

[14:39:00.0000] <TabAtkins>
We try to avoid making people add multiple boxes to achieve common effects.  ^_^

[14:40:00.0000] <jacobolus>
that's fair :)

[15:19:00.0000] <dglazkov>
in HTML spec, is there a notion of a document viewport, it's existence and difference in behavior of elements in that document due to viewport exists or not?

[15:20:00.0000] <dglazkov>
like, if you create var d = document.implementation.createHTMLDocument(); does the spec say how <img> or <iframe> must behave if they are in tree d?

[15:21:00.0000] <Hixie>
i'm not sure what you are asking

[15:21:01.0000] <Hixie>
viewport is a CSS concept relating to visual rendering

[15:21:02.0000] <Hixie>
you might be looking for browsing contexts?

[15:22:00.0000] <dglazkov>
hmmm. possibly.

[15:22:01.0000] <Hixie>
to answer your second question, yes.

[15:22:02.0000] <dglazkov>
found it. Awesome.

[15:22:03.0000] <dglazkov>
thanks!

[15:40:00.0000] <dglazkov>
Hixie: ok, I can't find how image element should work in absence of browsing context: http://www.whatwg.org/specs/web-apps/current-work/multipage/embedded-content-1.html#embedded-content-1

[15:42:00.0000] <dglazkov>
Gecko, WebKit, and IE all have slightly different interpretations of what should happen with attributes: http://jsfiddle.net/zL9P2/2/

[15:42:01.0000] <Hixie>
can you be more specific regarding what you mean by "work"?

[15:43:00.0000] <dglazkov>
Hixie: ^^^

[15:43:01.0000] <Hixie>
i don't see anything in that example that should be affected by whether or not there's a browsing context

[15:44:00.0000] <Hixie>
the only interesting thing going on in that example is url resolution and reflection in an idl attribute

[15:44:01.0000] <dglazkov>
right -- and whether an image is loaded or not

[15:45:00.0000] <dglazkov>
IE resolves URLs right away, whether in browser contextless doc or not

[15:45:01.0000] <dglazkov>
IE9 that is

[15:46:00.0000] <Hixie>
nothing in that tests checks the network side of things as far as i can tell

[15:46:01.0000] <Hixie>
nor does anything check when the url gets resolved

[15:46:02.0000] <Hixie>
as far as i can tell

[15:46:03.0000] <dglazkov>
well, no, but you can look at the console.

[15:47:00.0000] <Hixie>
well, browsers can do whatever they want in the console :-P

[15:48:00.0000] <Hixie>
anyway to answer what i think you mean to be your question, the spec says "A user agent that obtains images immediately must synchronously update the image data of an img element whenever that element is either created with a src attribute [...]"

[15:48:01.0000] <Hixie>
which means that even a document fetched via XMLHttpRequest would result in network traffic if it contained an <img>

[15:48:02.0000] <Hixie>
this is probably not what the spec should require

[15:49:00.0000] <Hixie>
("update the image data" doesn't check if there's a browsing context)

[15:56:00.0000] <dglazkov>
also interesting stuff on url resolution. Gecko does the seemingly sanest thing and reports back both attribute and property value unresolved when the browsing context doesn't exist

[15:56:01.0000] <dglazkov>
WebKit doesn't report a property value, which is probably wrong.

[15:57:00.0000] <dglazkov>
IE9 happily resolves against document URL regardless of the state.

[15:57:01.0000] <dglazkov>
hate results, but love the attitude.

[15:58:00.0000] <Hixie>
i don't see why browsing context existence would have any effect on url resolution in idl attribute values

[15:58:01.0000] <Hixie>
(i do see why it should be a precondition for network traffic)

[15:59:00.0000] <Hixie>
(file a bug if you want that fixed)

[15:59:01.0000] <dglazkov>
k. I am just trying to find the most analogous thing to inert chunks of DOM for HTML templates.


2012-01-24
[16:00:00.0000] <dglazkov>
var f = document.implementation.createHTMLDocument().createDocumentFragment() in Gecko is the closest thing

[16:05:00.0000] <Hixie>
What do you mean by "inert"?

[16:05:01.0000] <Hixie>
(there's lots of possibly definitions)

[16:05:02.0000] <Hixie>
possible

[16:06:00.0000] <dglazkov>
well, I know the effects of "inert" in template pretty well, but haven't yet described precisely.

[16:07:00.0000] <dglazkov>
the general idea is that a developer can treat these elements as clay without fear of side effects.

[16:07:01.0000] <dglazkov>
images don't load, videos don't run, frames don't load, scripts don't run

[16:07:02.0000] <dglazkov>
also importantly --- attributes are tolerant of invalid values

[16:08:00.0000] <dglazkov>
so you could do crazy stuff like <img src="{{userpic}}"> and not hit the server with some url that includes "{{userpic}}"

[16:09:00.0000] <dglazkov>
an even crazier example involves similar machinations with tabindex and input types, but I am not yet sure that would even be possible.

[16:18:00.0000] <Hixie>
dglazkov: "attributes are tolerant of invalid values" and "no network traffic results" are very different

[16:18:01.0000] <Hixie>
dglazkov: i'm not really sure what you mean by "attributes are tolerant of invalid values" -- how are non-inert attributes not so tolerant?

[16:20:00.0000] <dglazkov>
Hixie: perhaps we need to come to common understanding of "tolerant"?

[16:20:01.0000] <Hixie>
dglazkov: definitely, if you're going to use the word :-)

[16:21:00.0000] <dglazkov>
<div tabindex="{{value1}}"> or <input type="$(TYPE)"> would be examples where there are limits to tolerance

[16:22:00.0000] <dglazkov>
you can attempt to set div.tabindex property to any value, but only integers will be accepted, right?

[16:23:00.0000] <dglazkov>
setting some attributes causes some internal plumbing to jump into action.

[16:23:01.0000] <dglazkov>
whether this plumbing attempts to make a network request or parse the value as integer

[16:24:00.0000] <dglazkov>
that's not really important from the effect side.

[16:25:00.0000] <dglazkov>
the key is that in inert DOM chunks, doing these thing should be both tolerated and not acted upon

[16:27:00.0000] <dglazkov>
attribute bag is a nice example. If you setAttribute("tabindex", "foo"), you will still receive "foo" from getAttribute("tabindex")

[16:27:01.0000] <dglazkov>
ideally, an inert chunk of DOM would do the same thing for properties.

[16:27:02.0000] <dglazkov>
but again, that's an effect.

[16:28:00.0000] <dglazkov>
another effect is that setAttribute("tabindex", "foo") doesn't trigger internal plumbing of attempting to parse the value as integer and setting the property to -1

[16:29:00.0000] <dglazkov>
hth

[16:29:01.0000] <Hixie>
dglazkov: If you setAttribute("tabindex", "foo"), you will still receive "foo" from getAttribute("tabindex"), today, always

[16:29:02.0000] <dglazkov>
right!

[16:29:03.0000] <Hixie>
dglazkov: if you're saying you want the type of DOM properties to depend on whether they are in a template or not, that's basically a non-starter, i think

[16:30:00.0000] <dglazkov>
Hixie: that's not what I am saying.

[16:30:01.0000] <Hixie>
good :-)

[16:31:00.0000] <Hixie>
not sure what you're saying though in that case :-)

[16:31:01.0000] <dglazkov>
well, I've been pretty nicely describing desired effects, I thought.

[16:32:00.0000] <dglazkov>
anyhow, gotta run. bye Whatwg!

[16:32:01.0000] <Hixie>
i guess i don't understand why tabindex="" today doesn't do what you want

[16:34:00.0000] <MikeSmith>
fyi, W3C is still be affected by some routing issues somewhere

[16:35:00.0000] <MikeSmith>
somewhere being an outside place that W3C systems team can't fix themselves

[16:35:01.0000] <MikeSmith>
so they are still waiting for it to be fixed there, as far as I know

[17:08:00.0000] <Hixie>
Philip`: yt?

[17:09:00.0000] <Philip`>
Hixie: Vaguely

[17:12:00.0000] <Hixie>
Philip`: drawImage() when drawing from outside the source bitmap says "When the filtering algorithm requires a pixel value from outside the original image data, it must instead use the value from the nearest edge pixel."; it's suggested that we somehow limit this to 0.5px outside the source rect since otherwise you'd just get a banding effect

[17:12:01.0000] <Hixie>
Philip`: opinions?

[17:27:00.0000] <Philip`>
Hixie: Doing anything other than what standard graphics APIs already generally support (i.e. either clamp-to-edge or clamp-to-transparency or mirror or repeat, probably) sounds like it would make implementers pretty unhappy

[17:29:00.0000] <Philip`>
Using a source rectangle outside the original image data is basically an error condition anyway (and I think it used to throw exceptions; the behaviour was changed just to be more tolerant of floating-point errors)

[17:30:00.0000] <Philip`>
If it's meant to be changed into a useful feature, users probably ought to be able to select the filtering mode themselves, because no single choice will be what everyone wants

[17:36:00.0000] <jamesr_>
what happens today?

[17:39:00.0000] <Philip`>
/me doesn't know what implementations do

[18:06:00.0000] <Hixie>
Philip`: yeah

[18:10:00.0000] <Hixie>
Philip`: i'm not sure what implementations or APIs do, but webkit asked for us to change the spec

[18:11:00.0000] <Hixie>
Philip`: to say something about transparent black

[18:11:01.0000] <Hixie>
Philip`: their question is whether we want a hard edge or not or non-aligned image draws

[18:29:00.0000] <Philip`>
/me doesn't remember the reasons for originally preferring clamp-to-edge over transparent

[18:29:01.0000] <Hixie>
any objection to me just changing it to transparent?

[18:29:02.0000] <zewt>
well, you have to pick a transparent color

[18:29:03.0000] <Hixie>
'transparent' == rgba(0,0,0,0)

[18:29:04.0000] <Philip`>
Depends if there was a good reason for originally preferring clamp-to-edge over transparent

[18:29:05.0000] <Philip`>
(other than it just being compatible with more of the implementations at that time)

[18:29:06.0000] <Hixie>
i've no idea

[18:29:07.0000] <Hixie>
i can try to look tomorrow

[18:29:08.0000] <zewt>
Hixie: that's bad, since it'll artifact if the result is scaled

[18:30:00.0000] <Philip`>
Upscaling an image will always do something that someone considers bad, I think

[18:30:01.0000] <zewt>
(whether it ever can be in this context I'm not sure, but I've dealt with problems arising from that too many times)

[18:30:02.0000] <Philip`>
(since different people want different behaviour)

[18:30:03.0000] <zewt>
Philip`: edge clamping is far far better than using black transparency

[18:31:00.0000] <zewt>
for general-purpose behavior, anyway

[18:32:00.0000] <Philip`>
That's what the spec currently requires, but apparently it causes problems when implementing with OS X APIs or something like that

[18:33:00.0000] <Philip`>
(https://www.w3.org/Bugs/Public/show_bug.cgi?id=10799 - hmm, maybe the main original reason for clamp-to-edge was to match IE9 and Opera)

[18:36:00.0000] <Philip`>
/me will continue his general policy of not really caring about API design and letting other people argue over that, and only caring himself that every implementation can pass the same tests, since that's an easier problem

[18:37:00.0000] <Hixie>
zewt: edge clamping results in streaking, so it's a non-starter

[18:37:01.0000] <zewt>
doesn't sound like a "non-starter" to me

[18:37:02.0000] <zewt>
if you don't want it, stop sampling outside the image

[18:39:00.0000] <Hixie>
it's a non-starter because webkit won't implement it

[18:39:01.0000] <zewt>
and everyone else is? ...

[18:39:02.0000] <Hixie>
as far as i'm aware, nobody does it

[18:39:03.0000] <Philip`>
Firefox doesn't on OS X, I think

[18:40:00.0000] <Philip`>
but I think everyone else basically does (maybe with exceptions if the source rectangle is actually outside)

[18:40:01.0000] <zewt>
i don't know the general rendering pipeline; if there's no way that black might be blended with edge colors, then it's probably okay, but if it might get blended in then it's definitely bad

[18:40:02.0000] <Philip`>
at least when I last checked

[18:41:00.0000] <Hixie>
the only case i'm talking about is the case where the source rectangle is outside the source image

[18:41:01.0000] <Hixie>
hence the suggestion about the 0.5px border

[18:42:00.0000] <zewt>
clamp to edge within .5px, then #00000000? that seems ... a bit too novel, at least on first impression

[18:42:01.0000] <Philip`>
Is the idea that they're able to implement clamp-to-edge filtering up to the edge of the source rectangle, and then a sharp transition to transparent outside the rectangle?

[18:43:00.0000] <Hixie>
i guess?

[18:43:01.0000] <Hixie>
we could also have different filtering if it's outside the source rect or not

[18:44:00.0000] <Philip`>
(as opposed to having the filter not clamp and act as if the image data outside the original image bounds was transparent)

[18:45:00.0000] <Hixie>
e.g. define the source rect as being transparent black, but with the clamp-to-edge filtering

[18:45:01.0000] <Philip`>
(which matters around the edges when upscaling the image, since the filter will be sampling outside the original image bounds even if it's within the source rectangle)

[18:46:00.0000] <Hixie>
actually maybe this is the way to go

[18:46:01.0000] <Hixie>
define it so that pixels inside the source rect but outside the source image are transparent black

[18:47:00.0000] <Hixie>
with clamp-to-edge behaviour for the filtering

[18:49:00.0000] <zewt>
not quite sure what you mean--clamp-to-edge is a definition of pixels outside the source image, not filtering

[18:49:01.0000] <Philip`>
With the current spec, if you have a 1x1 green image and draw the 3x3 source rectangle (-1,-1)..(2,2) to a 30x30 pixel destination, you'll get 30x30 pixels of green

[18:50:00.0000] <Hixie>
right i'm suggesting you get a 10x10 green centered in the 30x30

[18:50:01.0000] <Philip`>
If it was changed to clamp-to-transparent (or whatever the term is), you'd get a heavily blurred roughly 10x10 green square (since it'll filter between green and transparent around the edges)

[18:50:02.0000] <Hixie>
right

[18:50:03.0000] <Philip`>
If it was clamp-to-edge-but-clip-to-transformed-source-rectangle, you'd get a sharp 10x10 green square

[18:50:04.0000] <zewt>
Philip`: i think the right analog for "clamp-to-transparent" is opengl's CLAMP_TO_BORDER with a #00000000 border

[18:51:00.0000] <Hixie>
Philip`: oh well that's yet another option, yes

[18:51:01.0000] <Hixie>
Philip`: we could do that, indeed

[18:51:02.0000] <Philip`>
Hixie: Isn't clamp-to-edge-but-clip-to-transformed-source-rectangle the option you were suggesting?

[18:51:03.0000] <Philip`>
zewt: Yeah

[18:52:00.0000] <Philip`>
(Annoyingly not supported by GL ES 2.0, it seems :-( )

[18:52:01.0000] <Hixie>
Philip`: no, but in any case yours seems better

[18:53:00.0000] <Philip`>
/me doesn't understand the difference, then

[18:53:01.0000] <Philip`>
I guess the important question is whether clamp-to-edge-but-clip-to-transformed-source-rectangle is implementable by the people who can't implement clamp-to-edge

[18:53:02.0000] <Hixie>
consider a 2x2 green, drawing from -1,-1 to 1,1

[18:53:03.0000] <zewt>
Philip`: for canvas you could fake it by enlarging the texture and filling in the edges yourself, I think (since the drawing vocabulary is much more limited)

[18:54:00.0000] <Hixie>
er

[18:54:01.0000] <Hixie>
consider a 2x2 green, drawing from -1,-1 to 2,2

[18:54:02.0000] <Hixie>
what i was suggesting would have blurry top left and sharp bottom right

[18:54:03.0000] <Philip`>
Hmm, by "transformed-source-rectangle" I actually mean "transformed-original-image-data-bounds"

[18:55:00.0000] <Philip`>
zewt: Yeah, adding a 1-pixel transparent border and then clamp-to-edge would work (though it's a pain when under power-of-two size constraints)

[18:56:00.0000] <Philip`>
Hixie: Oh, okay, I think I see

[18:56:01.0000] <Philip`>
That sounds weird :-p

[18:59:00.0000] <Philip`>
/me vaguely remembers clamp-to-edge-but-clip-to-transformed-source-rectangle being discussed in some bug ages ago, but doesn't even know what bug tracker it was on

[18:59:01.0000] <Philip`>
/me gives up remembering and falls asleep

[18:59:02.0000] <zewt>
Philip`: guessing that if you don't have NPOT support in hardware, you're already either going to have to deal with it yourself or not accelerate at all

[19:02:00.0000] <Philip`>
zewt: Yeah, it was annoying me primarily in the context of a game where all the source data is POT; browsers will have to deal with NPOT images anyway

[19:03:00.0000] <zewt>
guessing at worst you'd hit slow paths more often

[19:04:00.0000] <zewt>
but i'd imagine that wouldn't really be a slow path--since NPOT images are the norm with canvas, not the exception

[19:52:00.0000] <Hixie>
hmmm

[19:52:01.0000] <Hixie>
i'm not sure clipping actually really works

[19:52:02.0000] <Hixie>
since the output has to be defined for all pixels...

[21:25:00.0000] <heycam>
hmm, I want to do a CSS transform rotation with the transform origin being a point on the baseline of the text in the element

[21:25:01.0000] <heycam>
is that possible somehow?

[22:21:00.0000] <yolin>
If I add a css file dynamically to the document, is there any way to know if its completed loading?

[22:23:00.0000] <Hixie>
onload on the <link> iirc

[22:50:00.0000] <yolin>
Hixie, onload doesnt fire on <link> :(

[22:51:00.0000] <Hixie>
file a bug with the browser, spec says it should :-)

[22:53:00.0000] <yolin>
okay, chrome does not fire, firefox and opera does

[23:25:00.0000] <hsivonen>
hah. Google suggests "DOOM 3 Validation" when searching for "DOM 3 Validation"

[00:00:00.0000] <MikeSmith>
http://googlecode.blogspot.com/2012/01/lets-make-tcp-faster.html is interesting

[00:00:01.0000] <MikeSmith>
apparently the Proportional Rate Reduction stuff is already supported in the Linux kernel

[00:01:00.0000] <MikeSmith>
"reduces the TCP latency of connections experiencing losses by 3-10% depending on the response size"

[00:03:00.0000] <MikeSmith>
so it would be nice to have defer and async support in Opera

[00:53:00.0000] <MikeSmith>
it seems like we have prevailing agreement for putting warnings on the ancient DOM specs, and links to latest versions

[00:54:00.0000] <MikeSmith>
not that it's needed anyway

[00:55:00.0000] <MikeSmith>
not from the WebApps WG anyway

[00:55:01.0000] <MikeSmith>
because those are not within the realm of the WebApps WG anyway

[00:55:02.0000] <MikeSmith>
they are orphans

[00:55:03.0000] <MikeSmith>
I think it comes down to what PLH reckons should be done

[01:33:00.0000] <jgraham>
I am obviously also +1 on poiting out that old stuff is old, but I have learnt to fear email threads like that

[01:34:00.0000] <Ms2ger>
MikeSmith, I think we established last time that WebApps owns them now

[01:34:01.0000] <jgraham>
There is *always* someone who says "but you can't say that maybe (some old spec) is old because we have an unspecified law that requires us to implement it"

[01:34:02.0000] <MikeSmith>
we who?

[01:34:03.0000] <Ms2ger>
WebApps :)

[01:34:04.0000] <MikeSmith>
heh

[01:37:00.0000] <MikeSmith>
plh-less discussions about changes to those docs are a tree falling in a forest

[01:38:00.0000] <hsivonen>
jgraham: I find it super-hard to believe that laws or regulations require consumer electronics to have any particular level of any part DOM

[01:39:00.0000] <jgraham>
MikeSmith: Quite devestating if you happen to live in the tree?

[01:39:01.0000] <MikeSmith>
that's because that assertion is BS

[01:39:02.0000] <MikeSmith>
time savings suggestion is we just make the plea to plh

[01:40:00.0000] <MikeSmith>
who likely would find it a good idea

[01:40:01.0000] <jgraham>
hsivonen: What is true is that some non-Web specs reference specific versions of web specs.

[01:40:02.0000] <MikeSmith>
for the very good reasons that have already been multiply explained in that thread

[01:41:00.0000] <jgraham>
This is not a positive thing and anything we can do to discourage people from doing that is good

[01:41:01.0000] <MikeSmith>
obviously putting warnings on those docs has no effects on whatever ancient references wherever

[01:41:02.0000] <jgraham>
Well, unless they decide to do the other thing that sometimes happens where they fork the spec

[01:42:00.0000] <jgraham>
(insert ironic comment about W3C only permitting harmful forks here)

[02:57:00.0000] <smaug____>
hmm, no anne

[02:57:01.0000] <smaug____>
Ms2ger: am I right that Function? is used currently with onfoo handlers

[02:58:00.0000] <Ms2ger>
Yes, with the annotation

[02:58:01.0000] <Ms2ger>
As in https://hg.mozilla.org/users/jst_mozilla.com/dom-bindings/rev/18484b18c12f#l1.12

[03:00:00.0000] <smaug____>
Ms2ger: do you remember any cases when Function? is used without TreatNonCallableAsNull ?

[03:00:01.0000] <Ms2ger>
Don't think so

[03:00:02.0000] <smaug____>
ok, good

[03:00:03.0000] <Ms2ger>
And if so, they're wrong

[06:42:00.0000] <MikeSmith>
been 9 years since the first XForms Basic aka Web Forms 2 draft

[06:42:01.0000] <MikeSmith>
http://www.hixie.ch/specs/html/forms/xforms-basic-1

[06:43:00.0000] <Ms2ger>
Those were the days

[06:43:01.0000] <MikeSmith>
oh

[06:43:02.0000] <MikeSmith>
off by 1

[06:43:03.0000] <MikeSmith>
8 years

[06:43:04.0000] <jgraham>
YEah, that sounds right

[06:43:05.0000] <jgraham>
WHATWG started in 2004 at least

[06:43:06.0000] <jgraham>
We should have a party in 2014

[06:45:00.0000] <Ms2ger>
Maybe Mozilla is willing to contribute one of Microsoft's release cakes

[06:45:01.0000] <jgraham>
You would have thought there would be some money floating around from all the economic activity that HTML 5 generated to fund that

[06:45:02.0000] <jgraham>
(a party not a stale donut)

[06:47:00.0000] <jgraham>
Mind you if people working on the spec were able to capture a significant fraction of the value it created, Hixie would be the one with multimillion dollar tax returns

[06:48:00.0000] <Ms2ger>
He's waiting for a law to require HTML5 compliance, to spec that every user must pay him :)

[06:48:01.0000] <Ms2ger>
"The open action registry is <http://hsivonen.iki.fi/webm-share/>"

[06:48:02.0000] <Ms2ger>
ArtB++

[06:48:03.0000] <wilhelm>
See, living standards are dangerous.

[07:24:00.0000] <hsivonen>
Ms2ger: Open action registry?

[07:24:01.0000] <Ms2ger>
http://lists.w3.org/Archives/Public/public-webevents/2012JanMar/0009.html

[07:25:00.0000] <hsivonen>
Ms2ger: :-)

[07:38:00.0000] <AryehGregor>
TabAtkins, maybe Values and Units should define an <angle-or-zero> type?  Or redefine <angle> to be <angle-unit-required> or zero, so specs that want to allow 0 can use <angle> and specs that don't have to use <angle-unit-required>?

[07:38:01.0000] <AryehGregor>
(or some better name)

[07:39:00.0000] <AryehGregor>
It seems like it makes the most sense for Values and Units to expose an easy way to do "angle or zero", since most specs that use <angle> will want that.

[07:40:00.0000] <AryehGregor>
For that matter, why not define a new <length-unit-required> and redefine <length> in terms of that?  That requires a parser change, but it should be compatible with content, yes?

[07:41:00.0000] <jgraham>
Oh, on the subject of CSS, what's the easiest way to define a radial gradient from (some colour) to transparent where the value of (some colour) is set in a script?

[07:42:00.0000] <AryehGregor>
Also, random remark: after I'm done with transforms/transitions/animations, I want to do CSSOM.  Lack of CSSOM interop has been a thorn in my side when writing JS for close to a year now.  Like: serialization.

[07:49:00.0000] <AryehGregor>
TabAtkins, I've noticed a few editorial bugs (typos etc.) in Values and Units.  It seems there's nowhere to file bugs, so I have to send mail to www-style?

[08:00:00.0000] <AryehGregor>
Ugh, why does the CSSWG use conference calls for technical discussion?

[08:01:00.0000] <AryehGregor>
/me wants to go back to DOM-land

[08:18:00.0000] <Ms2ger>
AryehGregor, enjoy working with Glenn :)

[08:18:01.0000] <AryehGregor>
Which Glenn?

[08:18:02.0000] <AryehGregor>
And is he in CSS-land or DOM-land?

[08:18:03.0000] <Ms2ger>
Weird Glenn

[08:18:04.0000] <Ms2ger>
(skynav)

[08:18:05.0000] <AryehGregor>
I've seen him in HTML-land a bit.

[08:21:00.0000] <AryehGregor>
jamesr_, in my EC2 Windows Server VM, about:gpu claims hardware acceleration for everything, but CSS 3D stuff still seems not to work correctly.

[08:23:00.0000] <AryehGregor>
It looks like I could get a VM with a GPU if I wanted to pay $2.60/hour instead of $0.00/hour (free usage tier yay), but I don't know if Chrome would actually notice it, since I doubt it's configured for use with the actual display.

[08:28:00.0000] <Philip`_>
I imagine the problem would be more whether it can output via Remote Desktop, which is different to normal display output

[08:28:01.0000] <Philip`_>
(It's not like VNC where it effectively sends screenshots over the network)

[08:30:00.0000] <AryehGregor>
What does it do, then?

[08:43:00.0000] <Philip`_>
AryehGregor: It's apparently implemented as a display device driver, and it understands higher-level drawing commands instead of simply bitmaps

[08:44:00.0000] <AryehGregor>
Philip`_, so kind of like X forwarding?

[08:45:00.0000] <Philip`_>
(e.g. http://ericomguy.blogspot.com/2008/02/using-windows-server-2008-terminal.html - "RDP 6 is able to transmit the raw instructions from the Desktop Window Manager")

[08:45:01.0000] <Philip`_>
AryehGregor: Seems vaguely similar, except less terrible than X forwarding

[08:45:02.0000] <AryehGregor>
Yeah, I was going to say.

[08:48:00.0000] <Philip`_>
(It sounds (based on my very limited knowledge) like it's based on copying screenshots plus lots of optimisations for cases when it recognises higher-level API calls, rather than being based on blindly proxying low-level API calls as in X)

[09:42:00.0000] <remysharp>
Hey folks, got a bit of a crazy one here.

[09:42:01.0000] <remysharp>
This url - http://jsbin.com/uticev/2 if the popup is blocked (testing chrome here), should it be able to run the JavaScript in said popup?

[09:43:00.0000] <remysharp>
If you test that url in chrome (I'm on 16) and you see any body text - then it came from the popup *that was blocked*. That's not right is it?

[09:46:00.0000] <micheil>
wow, that is a bit of a crazy one :D

[09:47:00.0000] <remysharp>
If you want to hide some JavaScript in Chrome, you can do it via the popup, because it's not showing anything on the network tab either /begin evil laugh

[09:57:00.0000] <AryehGregor>
Ugh, someone is mailing the members-only CSS list.

[09:57:01.0000] <AryehGregor>
/me didn't even notice

[09:57:02.0000] <AryehGregor>
Is there some agreed-upon convention to use www-style if possible?

[09:57:03.0000] <Ms2ger>
For technical issues, yes

[09:57:04.0000] <Ms2ger>
Tell them to resend in that case

[09:58:00.0000] <Ms2ger>
Administrivia is on the MO list, though

[10:10:00.0000] <TabAtkins>
AryehGregor: I'd rather ben as consistent as possible and always require a unit on 0 values that aren't <length>s, then just define Transforms to accept either an <angle> or 0.

[10:10:01.0000] <AryehGregor>
TabAtkins, so you think transform: rotate(0) should be a parse error?

[10:10:02.0000] <AryehGregor>
That doesn't match any implementations AFAICT.

[10:10:03.0000] <TabAtkins>
...I just said that Transforms should be defined toa ccept either.

[10:11:00.0000] <AryehGregor>
/me read "then" as "than"

[10:11:01.0000] <TabAtkins>
Ah, kk.

[10:11:02.0000] <AryehGregor>
Why not move that into Values and Units and require properties that don't want 0 == 0deg to opt out?

[10:11:03.0000] <AryehGregor>
I mean, every existing <angle> property really wants to accept unitless zero also, right?

[10:11:04.0000] <AryehGregor>
So why require the common case to add an extra proviso, instead of the uncommon case?

[10:12:00.0000] <TabAtkins>
Because then we're extending the "0 can be unitless" exception to more units, and making it harder to remember when it can and can't be unitless.

[10:12:01.0000] <TabAtkins>
If I coudl go back in time I'd remove the unitless-0 from <length>, too.

[10:12:02.0000] <AryehGregor>
So you'd want every spec that includes <length> to be updated to say "<length> or zero"?

[10:13:00.0000] <TabAtkins>
No, I'm travelling back in time.  Every spec that uses <length> just wouldn't accept unitless 0 in the first place.

[10:13:01.0000] <AryehGregor>
Or "<length> or <number>, and a <number> that's not zero is a parse error", or whatever's required?

[10:13:02.0000] <TabAtkins>
You'd just type "margin: 0px;"

[10:13:03.0000] <AryehGregor>
That seems needlessly inconvenient for authors.

[10:13:04.0000] <AryehGregor>
It's also too late for that, and it makes sense for <angle> to behave consistently with <length>.

[10:13:05.0000] <TabAtkins>
I fail to see how 2 characters is inconvenient.

[10:14:00.0000] <TabAtkins>
I agree that it's too late for that, thus my reference to time travel.  No other unit should act like this, though, because it's future-hostile.

[10:14:01.0000] <TabAtkins>
(As I argued in a previous discussion of this subject with you.)

[10:14:02.0000] <AryehGregor>
I agree that it's future-hostile to *require* that *all* specs accept unitless zero for <angle>.

[10:15:00.0000] <AryehGregor>
But is it future-hostile to make unitless zero for <angle> work except if a particular spec specifically prohibits it?

[10:15:01.0000] <AryehGregor>
Is allowing things like rotate(0) future-hostile?  How so?

[10:15:02.0000] <TabAtkins>
It's hostile to authors to have inconsistent rules about where, precisely, you can type a unitless 0.  This is why I dislike unitless 0 in <length>, but at least that's only a single place and *all* lengths accept it.

[10:16:00.0000] <AryehGregor>
So it's bad because it's future-hostile or author-hostile?

[10:16:01.0000] <TabAtkins>
I explained why it's future-hostile previously.  It prevents us from producing grammars that have both an <angle> and a <length> when either can appear.  Grammars like this have already appeared at least once (in the *-gradient functions), though it's since changed.

[10:17:00.0000] <TabAtkins>
Extending unitless 0 to more types is future-hostile.  Making authors remember when they can omit the unit on <angle> and when they can't is author-hostile.

[10:17:01.0000] <AryehGregor>
That's not a problem if "0" parses to <zero> and "0deg" parses to <angle-with-unit> and <angle> is defined to be either <angle-with-unit> or <zero>.

[10:17:02.0000] <TabAtkins>
 (Which is why Transforms is currently author-hostile.)

[10:17:03.0000] <AryehGregor>
Transforms allows authors to always omit the unit on <angle>.

[10:17:04.0000] <TabAtkins>
I think you're assuming that authors read the grammar, Aryeh.

[10:17:05.0000] <AryehGregor>
It's more author-hostile to say you can omit the unit on <length> but not <angle> -- that's much more confusing.

[10:17:06.0000] <AryehGregor>
No, I'm not.

[10:17:07.0000] <TabAtkins>
This is not a valid assumption.

[10:17:08.0000] <AryehGregor>
That would be silly.

[10:18:00.0000] <AryehGregor>
I'm assuming authors are used to using "0" for lengths and will assume it works for angles too.

[10:18:01.0000] <TabAtkins>
Okay, then you must be misunderstanding me, because your explanation doesn't address the problem I was pointing out.

[10:18:02.0000] <AryehGregor>
(Although an angle of zero is useless for anything in Transforms right now.)

[10:18:03.0000] <AryehGregor>
My reply to "It prevents us from producing grammars that have both an <angle> and a <length> when either can appear." is no it doesn't: you can define new <angle-with-unit> and <length-with-unit> that don't accept "0" and use those in such cases.

[10:19:00.0000] <TabAtkins>
If authors have to remember that in property X they can omit the unit on <angle> but in property Y they have to include the unit (because of grammar ambiguity), that's hostile.

[10:19:01.0000] <AryehGregor>
The large majority of the time, that's not an issue, so you can use <angle> or <length> and allow unitless zero.

[10:19:02.0000] <TabAtkins>
Ah, that line.

[10:19:03.0000] <TabAtkins>
That's also wrong.

[10:19:04.0000] <AryehGregor>
I would say if such a situation arises, the syntax of property X should probably be rethought anyway, because it's excessively magical.  This is assuming that authors would legitimately want to use "0" for both an angle and a length.

[10:19:05.0000] <TabAtkins>
I offer as proof the older gradient syntaxes, where "0px" and "0deg" had different results.

[10:20:00.0000] <TabAtkins>
AryehGregor: Did you mean to say Property Y? Otherwise I'm confused.

[10:20:01.0000] <AryehGregor>
So that could be defined to accept <length> or <angle-with-unit>, but not <angle>.  Or whatever.

[10:20:02.0000] <AryehGregor>
Maybe.

[10:20:03.0000] <TabAtkins>
:/

[10:20:04.0000] <AryehGregor>
Could you give a more specific example of the old gradient syntax where it would be ambiguous?

[10:20:05.0000] <TabAtkins>
Yes, one sec.

[10:21:00.0000] <TabAtkins>
Argh, the first WD with gradients already removed the problem.  I'd have to go CVS diving.  Instead, may I simply explain the issue?

[10:22:00.0000] <Ms2ger>
hg++

[10:22:01.0000] <AryehGregor>
My question is really: is the ambiguity theoretical, or something authors would actually hit in practice?  Would authors actually *want* to specify both 0deg and 0px in the ambiguous position?

[10:22:02.0000] <TabAtkins>
Yes.

[10:22:03.0000] <TabAtkins>
So, here's the example.

[10:22:04.0000] <AryehGregor>
Okay.

[10:23:00.0000] <TabAtkins>
The first argument of radial-gradient had the grammar "<position> || <angle>".

[10:23:01.0000] <TabAtkins>
<position> specified the center-point of the gradient, <angle> specified the direction that lengths in the color-stops were drawn along (this is significant for ellipses).

[10:24:00.0000] <TabAtkins>
So, "radial-gradient(0, red, blue)" is ambiguous.

[10:24:01.0000] <TabAtkins>
(Because the default for <position> was "center".)

[10:25:00.0000] <AryehGregor>
Because "0" really means "top left" here?

[10:25:01.0000] <AryehGregor>
Then I'd prohibit unitless zero altogether in this case, since it's not obvious what it does.

[10:25:02.0000] <AryehGregor>
I don't expect authors to realize that unitless zero works for <length> but not <angle>.  I think that's what's author-hostile.

[10:26:00.0000] <AryehGregor>
Especially since <angle> is so rare and <length> is so common.

[10:26:01.0000] <AryehGregor>
Authors will extrapolate from what they know to what they don't.

[10:26:02.0000] <AryehGregor>
I.e., that units can be omitted for 0.

[10:26:03.0000] <TabAtkins>
Okay, so you prohibit unitless 0 for angle there.  What about "radial-gradient(left top 0, red, blue)"?

[10:26:04.0000] <AryehGregor>
Also, it would be poor form in this case to specify "0" to mean "top left" or "top center" or whatever it means -- it's confusing unless you know what the default is.

[10:27:00.0000] <AryehGregor>
You should just say "top center" or something, much clearer.

[10:27:01.0000] <AryehGregor>
What does "left top 0" even mean?

[10:27:02.0000] <AryehGregor>
As a <position>, I mean.

[10:27:03.0000] <TabAtkins>
Actually, that's still ambiguous.  "0 left top" isn't.  It means "measure the gradient-line along 0deg, and center the gradient at left top".

[10:28:00.0000] <AryehGregor>
Oh, wait, "<position> || <angle>".  I read that as "<position> | <angle>".

[10:28:01.0000] <AryehGregor>
/me is still getting used to CSS

[10:29:00.0000] <AryehGregor>
/me feels DOM stuff is saner, but maybe he's just used to it

[10:29:01.0000] <AryehGregor>
/me tries again

[10:29:02.0000] <Ms2ger>
Well, DOM stuff is specified nowadays

[10:29:03.0000] <TabAtkins>
Ms2ger: The stuff we're talking about is specified precisely.

[10:29:04.0000] <AryehGregor>
I'd make it "<position-with-unit> || <angle-with-unit>", so units are just required for everything.  Where <position-with-unit> doesn't allow a unitless zero in any coordinate.

[10:30:00.0000] <AryehGregor>
Anything else is confusing.

[10:30:01.0000] <Ms2ger>
TabAtkins, can we clone you and fantasai already?

[10:30:02.0000] <AryehGregor>
Alternatively, I'd rewrite the syntax entirely.

[10:30:03.0000] <TabAtkins>
AryehGregor: Oh, so now writing "0 50%" isn't allowed?  That's a perfectly valid background-position.

[10:30:04.0000] <AryehGregor>
Which is in fact what happened.

[10:30:05.0000] <TabAtkins>
Ms2ger: You come up with the process, I'll provide the genetic material.

[10:30:06.0000] <AryehGregor>
TabAtkins, right, but now you're mixing in <angle>s, so you just made it confusing, which it's not for background-position.

[10:31:00.0000] <AryehGregor>
I think this kind of syntactic construct should just be avoided to start with.

[10:31:01.0000] <TabAtkins>
AryehGregor: My point is that your *restriction* is confusing as well, since it's disallowing forms that are valid in other locations.

[10:31:02.0000] <AryehGregor>
I think the whole syntax is confusing no matter what.

[10:31:03.0000] <TabAtkins>
AryehGregor: It's a "now you have two problems" situation.

[10:31:04.0000] <TabAtkins>
You can avoid the whole mess by simply *not allowing unitless 0 in <angle>s*.

[10:31:05.0000] <AryehGregor>
I think any syntax where you can have both <length> and <angle> and 0px is different from 0deg is inherently confusing and should be avoided anyway.

[10:32:00.0000] <TabAtkins>
AryehGregor: Ah, you misunderstood the example.

[10:32:01.0000] <AryehGregor>
No, because then authors are going to have no idea what "0" means in that context.

[10:32:02.0000] <AryehGregor>
So you haven't avoided the problem.

[10:32:03.0000] <AryehGregor>
It's still author-hostile.

[10:32:04.0000] <AryehGregor>
Authors are not going to realize units are always optional in <length> but not in <angle>.

[10:32:05.0000] <TabAtkins>
0px and 0deg are actually identical there.  *However*, the *default*s are not 0, so it matters which one you parse as, since you fill in the missing one with a default value.

[10:33:00.0000] <AryehGregor>
Okay, let me put it this way: if I'm completely confused when you personally try to explain it to me, then I think that's pretty darned good proof that the average author would find it confusing when they copy-paste from w3schools.

[10:33:01.0000] <TabAtkins>
Yes, the fact that unitless stuff is restricted to <length> confuses authors.  That's why allowing unitless 0 in <length> was a mistake in the first place.  Your suggestion won't reduce the confusion, it will just shift it around.

[10:33:02.0000] <TabAtkins>
And, I argue, increase it.

[10:33:03.0000] <TabAtkins>
AryehGregor: You're confused because I was giving invalid examples.  ^_^

[10:34:00.0000] <AryehGregor>
Um, thanks?  :)

[10:34:01.0000] <AryehGregor>
I would not read "0 left top" as being the same as "0deg left top".

[10:34:02.0000] <AryehGregor>
. . . Which I guess is your point, okay.

[10:34:03.0000] <TabAtkins>
Yay!

[10:35:00.0000] <AryehGregor>
But I wouldn't read "0 20deg" as "0px 20deg" either.

[10:35:01.0000] <AryehGregor>
Hmm.  Maybe.

[10:35:02.0000] <TabAtkins>
Sure, that's still bad.  But that's a badness we're forced to live with.

[10:35:03.0000] <AryehGregor>
But I wouldn't count on it.

[10:35:04.0000] <TabAtkins>
Or else we make CSS grammar more inconsistent.

[10:35:05.0000] <AryehGregor>
No, because you could either a) ban unitless zero entirely from that function, or b) redesign the function so it's less confusing.

[10:35:06.0000] <AryehGregor>
Allowing unitless zero for <length> but not <angle> is already inconsistent.

[10:36:00.0000] <AryehGregor>
Especially since in practice it *is* allowed for <angle>, in every single place in CSS that actually accepts <angle> in practice, or almost.

[10:36:01.0000] <AryehGregor>
The fact that the grammar doesn't say that does not make it less true.

[10:36:02.0000] <AryehGregor>
And we can't go back and change that either.

[10:37:00.0000] <hober>
AryehGregor: indeed.

[10:37:01.0000] <TabAtkins>
I know.

[10:38:00.0000] <TabAtkins>
I'm willing to accept slightly inconsistent badness in legacy APIs if I get consistency in the future, rather than accept consistent badness for all time.

[10:38:01.0000] <TabAtkins>
Within limits, of course.

[10:38:02.0000] <TabAtkins>
At some point "legacy APIs" becomes "the majority of the platform", and it's not worth being inconsistent with it.

[10:39:00.0000] <AryehGregor>
So you think all future <angle> should not allow unitless zero even if it would be unambiguous in practice?

[10:39:01.0000] <TabAtkins>
Yes.

[10:39:02.0000] <AryehGregor>
(in that case)

[10:39:03.0000] <AryehGregor>
Even though all existing <angle> does allow unitless zero?

[10:39:04.0000] <AryehGregor>
Just like <length>?

[10:39:05.0000] <TabAtkins>
Not quite true - aural CSS didn't allow unitless <angle>.  ^_^

[10:39:06.0000] <TabAtkins>
And current Speech module doesn't either.

[10:40:00.0000] <AryehGregor>
Basically nobody supported aural CSS, and any authors that used it got it wrong.

[10:40:01.0000] <AryehGregor>
Speech is what?

[10:40:02.0000] <TabAtkins>
Nobody used it in the first place.

[10:40:03.0000] <TabAtkins>
Speech is a reworking of the original concepts behind Aural.

[10:42:00.0000] <TabAtkins>
When I write conical gradients into Images 4, they'll require an <angle> too.

[10:42:01.0000] <AryehGregor>
Will implementers actually prohibit the unitless zero?  Because they didn't for transforms.

[10:42:02.0000] <AryehGregor>
I suspect the implementers didn't even realize that <angle> doesn't allow unitless zero.

[10:42:03.0000] <TabAtkins>
Yes, that was the problem.

[10:43:00.0000] <TabAtkins>
Most implementors are *not* authors.

[10:43:01.0000] <AryehGregor>
Maybe if *implementers* assume unitless zero works for <angle>, a typical author stands no chance of getting it right in your scheme?

[10:43:02.0000] <AryehGregor>
They know way more than authors.

[10:43:03.0000] <AryehGregor>
Some of them actually read specs.

[10:43:04.0000] <TabAtkins>
I wouldn't take that as a given.  ^_^

[10:43:05.0000] <TabAtkins>
An author has to get it wrong once and then they learn it for life.

[10:44:00.0000] <TabAtkins>
Your proposal (allow it wherever it would be unambiguous) means they have to relearn it for every property that accepts <angle>.

[10:44:01.0000] <TabAtkins>
And, presumably, <time>/etc too.

[10:45:00.0000] <AryehGregor>
Okay, whatever.

[10:45:01.0000] <AryehGregor>
It's up to implementers.

[11:03:00.0000] <TabAtkins>
AryehGregor: To address your other issues: Shane (from Google) and Greg (from... somewhere not a browser?) are working on fixing CSSOM.  You're welcome to join when you have the time.

[11:04:00.0000] <TabAtkins>
Report V&U bugs on the mailing list, yes.

[11:04:01.0000] <TabAtkins>
Or, personally to me.

[11:04:02.0000] <TabAtkins>
That works too.

[11:04:03.0000] <AryehGregor>
TabAtkins, they're actively editing it?  Last I saw, the editor was listed as annevk, who disclaims all responsibility.

[11:05:00.0000] <TabAtkins>
Yes.  They ahven't published a new draft yet, but they're actively working on it.

[11:06:00.0000] <AryehGregor>
They don't publish their work as they work on it?

[11:06:01.0000] <TabAtkins>
They haven't done so yet?  I dunno what they're doing yet.

[11:06:02.0000] <TabAtkins>
I think Greg is doing a rework at the moment, and then they'll settle into incremental edits.

[11:07:00.0000] <Ms2ger>
TabAtkins, itym Glenn, from Samsung

[11:08:00.0000] <TabAtkins>
Ms2ger: Yes, thank you.

[11:09:00.0000] <rjett1>
Has anyone thought about bringing the webkit-filters to canvas?

[11:11:00.0000] <TabAtkins>
rjett1: I'm sure it's been thought of.  ^_^  But Hixie is mostly holding off on canvas updates until he does a big update.

[11:11:01.0000] <rjett1>
where would discussion about that api occur?

[11:12:00.0000] <TabAtkins>
whatwg⊙wo is appropriate.

[11:13:00.0000] <rjett1>
cool, thanks.

[11:28:00.0000] <AryehGregor>
Oh, wow, Firebug inserts stuff into the DOM.  That's really confusing.

[11:35:00.0000] <Hixie>
Philip`_: so i don't think clipping is gonna work

[11:35:01.0000] <Hixie>
Philip`_: since i don't really understand how to spec it :-)

[11:37:00.0000] <AryehGregor>
Ugh.  I really can't spec or test transforms without access to a WebKit implementation that actually supports CSS 3D transforms correctly.

[11:37:01.0000] <TabAtkins>
You can't spec transforms without an implementation of transforms?

[11:37:02.0000] <TabAtkins>
I can understand testing, if you want tests that don't just all fail.

[11:38:00.0000] <AryehGregor>
But my primary computer runs nouveau, my laptop runs the Intel mesa driver, my wife's laptop has an old video card with no up-to-date driver available, my VM has no graphics card at all, and WebKit refuses to do 3D CSS properly for any of them . . .

[11:38:01.0000] <AryehGregor>
TabAtkins, I don't write specs without tests.  They're doomed to be incorrect.

[11:38:02.0000] <AryehGregor>
At least, for already-implemented features.

[11:38:03.0000] <AryehGregor>
Well, even for not-already-implemented.

[11:39:00.0000] <AryehGregor>
I can't in good conscience suggest a definition for perspective-origin when I only know what Gecko does.

[11:39:01.0000] <AryehGregor>
(Which I think is wrong anyway.)

[11:39:02.0000] <TabAtkins>
Well, if you can test non-already-implemented features, you can test badly-implemented features.

[11:39:03.0000] <AryehGregor>
WebKit seems to just ignore the perspective property on my machines.

[11:39:04.0000] <AryehGregor>
I take it it doesn't on other people's.

[11:40:00.0000] <AryehGregor>
And I can't easily get IE10 either, since it's Win8 only.

[11:41:00.0000] <TabAtkins>
Gimme a test and I can see if it fails on my machine.

[11:41:01.0000] <AryehGregor>
I have to iterate stuff a lot.

[11:41:02.0000] <AryehGregor>
Not gonna work well by proxy.

[11:41:03.0000] <TabAtkins>
kk

[11:41:04.0000] <AryehGregor>
MikeSmith already kindly confirmed that perspective does actually work on his Mac.

[11:41:05.0000] <AryehGregor>
E.g., this example doesn't work on any of my machines: http://www.webkit.org/blog-files/3d-transforms/perspective-by-example.html

[11:41:06.0000] <TabAtkins>
I know what you mean - I had to iterate a lot to figure out a sane behavior for list bullet positioning.

[11:41:07.0000] <AryehGregor>
In Chrome or Safari, where applicable.

[11:42:00.0000] <TabAtkins>
Oh yeah, anything that requires hardware breaks the tab on my linux box.

[11:42:01.0000] <AryehGregor>
This doesn't require GPU support in Gecko.

[11:43:00.0000] <AryehGregor>
And 3D stuff works partially in Chrome for me.

[11:43:01.0000] <AryehGregor>
But perspective is wrong.

[11:43:02.0000] <AryehGregor>
-webkit-transform: perspective() does something, unlike -webkit-perspective, but it's wrong.

[11:43:03.0000] <TabAtkins>
No effect for me on Aurora/Linux.

[11:43:04.0000] <TabAtkins>
Oh, duh, this is -webkit I think.

[11:43:05.0000] <AryehGregor>
That example is WebKit-only, so yeah.  :)

[11:44:00.0000] <Philip`_>
AryehGregor: Do browsers support the software Mesa driver? (Run with env var LIBGL_ALWAYS_SOFTWARE=1, I think)

[11:45:00.0000] <AryehGregor>
TabAtkins, Gecko example: data:text/html,<!DOCTYPE html><div style="width:200px;-moz-perspective:200px;font-size:2em;margin-left:100px;text-align:center"><div style="-moz-transform:rotateX(45deg);-moz-transform-origin:top">The quick brown fox jumps over the lazy dog

[11:47:00.0000] <AryehGregor>
Star Wars-style.

[11:47:01.0000] <TabAtkins>
Yup, it works.  (Or at least has an effect.)

[11:48:00.0000] <Philip`_>
Hixie: drawImage already has to effectively clip the output to the source rectangle (post transformation), so I think it would probably just have to effectively clip to the intersection of the source rectangle and original image size

[11:49:00.0000] <Hixie>
Philip`_: isn't drawimage affected by the composition operator?

[11:50:00.0000] <Philip`_>
I guess when I say "clip" I mean some (as far as I remember) currently-handwaved-over clipping that occurs when drawImage draws onto the infinite transparent bitmap that subsequently gets composited

[11:52:00.0000] <Philip`_>
(as opposed to what clip() does)

[12:10:00.0000] <Hixie>
Philip`_: i don't understand what clipping you mean then

[12:19:00.0000] <AryehGregor>
TabAtkins, getComputedStyle() returns resolved value, not used value.  Where "resolved value" is something that CSSOM makes up that's almost computed value but not quite.

[12:40:00.0000] <TabAtkins>
AryehGregor: I know.  "resolved value" happens to be the used value for 'width'.

[12:40:01.0000] <AryehGregor>
Okay.

[12:40:02.0000] <TabAtkins>
My statement was specific.

[12:46:00.0000] <TabAtkins>
AryehGregor: Have you gotten clearance on joining the CSSWG yet?

[12:46:01.0000] <AryehGregor>
TabAtkins, um, I've been a member for a few weeks, I think?

[12:47:00.0000] <AryehGregor>
http://www.w3.org/Style/CSS/members.en.php3

[12:47:01.0000] <TabAtkins>
Argh, duh, yes.

[12:47:02.0000] <TabAtkins>
What I meant to ask was about taking on editorship of Transforms.

[12:47:03.0000] <AryehGregor>
Oh.

[12:47:04.0000] <AryehGregor>
From Mozilla?  Yeah, seems so.

[12:47:05.0000] <AryehGregor>
Feel free to say I volunteer.

[12:47:06.0000] <TabAtkins>
kk, mind poking the agenda thread around it?

[12:48:00.0000] <AryehGregor>
Am I supposed to attend?

[12:48:01.0000] <TabAtkins>
I guess that's not strictly necessary.

[12:49:00.0000] <AryehGregor>
Also, I think the FX TF (or something?) concluded that someone from Adobe is supposed to take over editing of those specs.

[12:49:01.0000] <AryehGregor>
In some conference call *they* had.

[12:50:00.0000] <AryehGregor>
http://lists.w3.org/Archives/Public/public-fx/2012JanMar/0046.html

[12:50:01.0000] <AryehGregor>
"RESOLUTION: Dirk becomes an editor of the SVG+CSS Transforms specification"

[12:50:02.0000] <AryehGregor>
"RESOLUTION: Vincent also is an editor of the SVG+CSS Transforms specification"

[12:50:03.0000] <TabAtkins>
That shouldn't stop you.

[12:51:00.0000] <Hixie>
heh, in this e-mail someone talks about "every time a new html element is discovered", like we're explorers who keep finding new elements rather than designers inventing them

[12:51:01.0000] <Hixie>
i like it

[12:51:02.0000] <divya>
hixieum

[12:51:03.0000] <TabAtkins>
I don't know about you, but that's how we discovered <shadow>.

[12:51:04.0000] <Hixie>
now i want to read about our adventures discovering new elements

[12:51:05.0000] <Hixie>
TabAtkins: heh

[12:51:06.0000] <TabAtkins>
It was right behind us the whole time!

[12:51:07.0000] <Hixie>
lol

[12:52:00.0000] <Hixie>
shouldn't face the sun the whole time! :-P

[12:52:01.0000] <TabAtkins>
How else will I stare into it?

[12:52:02.0000] <Hixie>
mirror

[12:52:03.0000] <Hixie>
mirrors make the sun safe, don't you know

[12:53:00.0000] <Philip`_>
If you had a large enough parabolic mirror, could you burn the sun by focusing it back at itself?

[12:53:01.0000] <Hixie>
If you had a large enough parabolic mirror, it would push you away

[12:54:00.0000] <Philip`_>
Balance it at the point where the solar wind exactly matches the sun's gravity

[12:54:01.0000] <AryehGregor>
TabAtkins, I posted something or other.

[12:55:00.0000] <AryehGregor>
Hmm . . . [].forEach(Function.prototype.apply.bind(foo, null)), or [].forEach(function(arr) { foo(arr[0], arr[1], arr[2]) })?  Which is clearer?  :)

[12:55:01.0000] <AryehGregor>
(replace "[]" by some actual array)

[12:55:02.0000] <Hixie>
Philip`_: i actually was thinking more about photon momentum transfer, but yeah, the solar wind would be even more of an effect

[12:55:03.0000] <Philip`_>
The latter

[12:55:04.0000] <TabAtkins>
The former, but omit the null.

[12:56:00.0000] <AryehGregor>
TabAtkins, then it breaks, because the array element gets passed as the first argument of apply, which wants a "this" argument for the function call.

[12:56:01.0000] <Philip`_>
/me can never even remember which of .apply and .call wants an array

[12:57:00.0000] <TabAtkins>
AryehGregor: Oh wait, you're mapping apply.  The second, then.

[12:57:01.0000] <TabAtkins>
Mapping apply is always confusing.

[12:58:00.0000] <TabAtkins>
/me prefers [].forEach(foo.aritize(3).unpack()).

[12:59:00.0000] <Philip`_>
/me prefers code that uses well-known primitives like closures and function calls, rather than code that requires him to learn more APIs

[12:59:01.0000] <TabAtkins>
Philip`_: Luckily, Lisp has APPLY and FUNCALL, which have the same semantics as JS's apply and call.

[12:59:02.0000] <TabAtkins>
So that's how I remember.

[13:00:00.0000] <Philip`_>
Unfortunately nobody else knows Lisp

[13:00:01.0000] <TabAtkins>
Well, except for Eich.

[13:00:02.0000] <AryehGregor>
Does "aritize" exist?

[13:01:00.0000] <TabAtkins>
AryehGregor: No, it's part of functional.js

[13:01:01.0000] <TabAtkins>
Which is now part of my bible.

[13:02:00.0000] <TabAtkins>
unpack() isn't part of functional.js, but rather part of my own extensions based on my lisp library.  ^_^  It makes a function take a list when it expects separate argumetns.

[13:02:01.0000] <jgraham>
Now I want to know if the point where the sun's gravity balances the solar wind + photom momenum transfer is stable. I suppose it is since presumably both fall off as 1/r^2

[13:03:00.0000] <jgraham>
TabAtkins: That sounds like apply...

[13:03:01.0000] <TabAtkins>
jgraham: It's basically a curried apply, yes.

[13:04:00.0000] <TabAtkins>
Using apply/call in anything but the most literal, straightforward way confuses me every time, though.  Creating idioms around their use is helpful.

[13:04:01.0000] <Philip`_>
jgraham: You could be a boring theoretical physicist and do the maths, or a fun experimental physicist and send a giant mirror out there to test it

[13:04:02.0000] <jgraham>
/me thinks that Philip`_ has a point and that adding too much of this stuff makes the code impossible for anyone else to follow

[13:05:00.0000] <TabAtkins>
Function.prototype.unpack = function() { var fn = this; return function(arg) { return fn.apply(this,arg); }; }

[13:05:01.0000] <jgraham>
Philip`_: Well if I did the maths I would probably neglegt some important effect so I think testing is the only way forward :)

[13:06:00.0000] <TabAtkins>
Some things are easy.  For example, I recently had trouble reducing Math.max over a list.  (Ignore the fact that I could just do Math.max.apply().)

[13:06:01.0000] <AryehGregor>
Does anyone have the latest IE10 handy?

[13:06:02.0000] <TabAtkins>
Instead, reducing Math.max.aritize(2) fixed it, and is easier to read, imo, than duplicating a two-arg Math.max as a function.

[13:07:00.0000] <jgraham>
TabAtkins: Ignore the fact that there is an easy solution?

[13:07:01.0000] <TabAtkins>
jgraham: I'd forgotten that Math.max() is n-ary.  ^_^

[13:07:02.0000] <jgraham>
I don't deny these things are elegant and lots of fun to program

[13:08:00.0000] <jgraham>
But I'm not sure they make things easy on the person that ends up maintaining the code

[13:08:01.0000] <TabAtkins>
That's always the issue, sure.

[13:09:00.0000] <TabAtkins>
AryehGregor: Why not, in your first option, do [].forEach(foo.apply.bind(foo))?

[13:10:00.0000] <TabAtkins>
Or rather, .bind(null)

[13:11:00.0000] <AryehGregor>
foo.apply.bind(foo) is the same as foo.apply, for any foo.

[13:11:01.0000] <AryehGregor>
foo.apply.bind(null) is a function that calls foo.apply with null as the thisArg instead of foo, which throws.

[13:11:02.0000] <AryehGregor>
foo.apply.bind(foo, null) has the desired effect.

[13:11:03.0000] <AryehGregor>
Which is the same as Function.prototype.apply.bind(foo, null).

[13:12:00.0000] <AryehGregor>
Since foo.apply === Function.prototype.apply and the only difference is the value of "this" when you call it, which bind() takes care of anyway.

[13:12:01.0000] <TabAtkins>
Argh, yeah, you're right.

[13:12:02.0000] <AryehGregor>
Or something like that.

[13:12:03.0000] <TabAtkins>
I *hate* the 'this' variable.

[13:12:04.0000] <AryehGregor>
In all honesty, I tried a bunch of different things until it worked.

[13:12:05.0000] <TabAtkins>
Having an invisible first argument to every function is so confusing when you start doing metaprogramming.

[13:13:00.0000] <AryehGregor>
So no one has the latest IE10 handy?  Or at least some IE10 that supports 3D transforms.

[13:13:01.0000] <AryehGregor>
(i.e., one of the ones that only runs on Windows 8)

[13:32:00.0000] <hober>
AryehGregor: to clarify from the fx call, dirk & vincent got *added* as editors. the other editors are still editors.

[13:33:00.0000] <hober>
AryehGregor: (in the above it sounds like you think the existing editors got replaced by them, which is not the case)

[14:13:00.0000] <webben>
http://www.whatwg.org/specs/web-apps/current-work/multipage/ looks broken

[14:21:00.0000] <Hixie>
i need to add some code to make sure this doesn't happen again

[14:21:01.0000] <Hixie>
sigh

[14:22:00.0000] <Hixie>
looks like anne's thing is sometimes not generating a full zip

[14:22:01.0000] <Hixie>
or something

[14:23:00.0000] <pablof>
is the interface for HTMLCollection defined anywhere?

[14:24:00.0000] <pablof>
can't seem to find it in the spec

[14:27:00.0000] <pablof>
ah DOMCore, read fail, sorry


2012-01-25
[17:38:00.0000] <MikeSmith>
Hixie: about the multipage spec, if it helps I can set up some alternative generator for now

[17:38:01.0000] <MikeSmith>
alternative to whatever Anne has set up I mean

[17:38:02.0000] <MikeSmith>
until Anne gets back

[23:57:00.0000] <Ms2ger>
/me curses Hixie 

[00:21:00.0000] <hsivonen>
it seems that "perfectly good" is a reason for suspicion

[01:03:00.0000] <jgraham>
hsivonen: ?

[01:51:00.0000] <zcorpan>
Hixie: could you make a new snapshot of the spec in http://www.whatwg.org/specs/web-apps/ ?

[02:09:00.0000] <yolin>
the webapps spec recommends it to be read backwards at least once... hehehehahahaa

[02:15:00.0000] <jgraham>
"support. and ideas their for Hendral and Pillar to and crew, #whatwg the and crew, #mrt.no the crew, #mrt the to inspiration, for Documents Compound and Applications Web on Workshop W3C the of attendees the to ideas, some for community blogging Microsoft the to also Thanks"

[02:16:00.0000] <wilhelm>
It all makes much more sense now.

[02:17:00.0000] <jgraham>
It's like Let It Be. If you play it backwards it has a hidden message telling you that Hixie's dead.

[02:17:01.0000] <MikeSmith>
"for Documents Compound and Applications Web"

[04:05:00.0000] <MikeSmith>
Hixie: about dude's drag-and-drop message on the whatwg list, the reason there's no drop event is because there was a bug in WebKit that caused there not to be one

[04:05:01.0000] <MikeSmith>
but I think it's since been fixed

[07:44:00.0000] <Ms2ger>
Hmm, I guess "flexibility" is a good reason to add a redundant rgba syntax

[09:35:00.0000] <dglazkov>
good morning, Whatwg!

[09:48:00.0000] <bga>
sun._rise() dglazkov

[10:27:00.0000] <AryehGregor>
Do we have a page somewhere explaining why named constants are evil?

[10:31:00.0000] <TabAtkins>
AryehGregor: I don't think so, just some mailing list posts.

[10:31:01.0000] <AryehGregor>
TabAtkins, oh well.

[10:31:02.0000] <TabAtkins>
Why?

[10:32:00.0000] <AryehGregor>
CSSTransformValue uses them.

[10:32:01.0000] <TabAtkins>
Sigh.

[10:32:02.0000] <AryehGregor>
I want to suggest it change to use strings.

[10:32:03.0000] <AryehGregor>
No one but WebKit implements it anyway.

[10:32:04.0000] <TabAtkins>
Just suggest it.  I'll support as necessary.

[10:33:00.0000] <AryehGregor>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=15712

[10:34:00.0000] <TabAtkins>
kk

[10:34:01.0000] <TabAtkins>
I'll turn this into a wiki page as well.

[10:38:00.0000] <AryehGregor>
Thanks.

[10:46:00.0000] <TabAtkins>
Ms2ger: Was that "flexibility" comment sarcastic or not?

[10:46:01.0000] <TabAtkins>
/me skipped most of the rgba thread once he saw Marat commenting.

[10:47:00.0000] <Ms2ger>
Same here

[13:40:00.0000] <Hixie>
holy cow, youtube has both data-* used correctly and microdata used correctly

[13:40:01.0000] <Hixie>
go youtube!

[13:43:00.0000] <TabAtkins>
Wow, it's been a long time since I've visited the youtube main page.  It actually looks useful now.

[13:44:00.0000] <Hixie>
hopefully no press read the logs today. "Google employees surprised to learn YouTube is useful and using markup correctly"

[13:45:00.0000] <TabAtkins>
hahaha

[13:46:00.0000] <skylamer`>
:)

[14:29:00.0000] <TabAtkins>
/me just finished a youtube dive started on ferrofluid structures.  Dammit.

[14:32:00.0000] <Hixie>
if it makes you feel better, your post linking to reddit in the thread i just replied to made me waste a bunch of time on reddit

[14:32:01.0000] <TabAtkins>
hahaha

[14:32:02.0000] <Hixie>
who the heck posts links to descriptions of 9 year olds getting their friends' dad's arms blown off

[14:32:03.0000] <Hixie>
jesus

[14:32:04.0000] <Hixie>
to a standards list, too!

[14:33:00.0000] <TabAtkins>
Me, I guess?

[14:33:01.0000] <Hixie>
yes! :-P

[14:33:02.0000] <TabAtkins>
Ugh, I'm going to ahve to write a counter-cp to the validity-stability thing.

[14:33:03.0000] <Hixie>
btw the error message in webkit for <!DOCTYPE html><embed><script>w(document.getElementsByTagName('embed')[0]())</script> is pretty funny

[14:34:00.0000] <TabAtkins>
That's... a weird error.

[14:34:01.0000] <TabAtkins>
"NPObject deleted", right?

[14:34:02.0000] <Hixie>
yeah

[14:34:03.0000] <Hixie>
(because there's no plugin, presumably)


2012-01-26
[17:11:00.0000] <AryehGregor>
/me just got a message from an at job: Right or wrong?  #whatwg [100125 13:52:46] <AryehGregor> I predict that in two years, normal people using new browsers won't need to have Flash installed.

[17:11:01.0000] <AryehGregor>
Arguably right, if one construes "need" narrowly enough.

[17:12:00.0000] <AryehGregor>
Random YouTube videos seem to work out-of-the-box in Chrome dev in incognito, so I'd say it's true.

[17:13:00.0000] <Hixie>
chrome dev comes with flash built in, iirc

[17:13:01.0000] <AryehGregor>
about:plugins says it's disabled.

[17:13:02.0000] <AryehGregor>
Only have Remoting Viewer, NaCl, and the PDF viewer.

[17:14:00.0000] <AryehGregor>
Also, right-clicking on the video says "About HTML5" in the menu.

[17:14:01.0000] <AryehGregor>
So it's HTML5 all right, and I got it without opting in (due to incognito).

[17:14:02.0000] <Dashiva>
Yeah, Youtube used to be pretty bad, but I don't recall seeing a flash-only video in quite a while

[17:15:00.0000] <AryehGregor>
Vimeo too.

[17:15:01.0000] <Dashiva>
Actually, I should say flash and/or h264-only

[17:15:02.0000] <AryehGregor>
(works with HTML5 out of the box)

[17:15:03.0000] <AryehGregor>
/me made no claims about H.264-only

[17:15:04.0000] <Hixie>
nice

[17:16:00.0000] <Dashiva>
http://downforeveryoneorjustme.org/facebook.com

[17:16:01.0000] <Dashiva>
Seeing that 90% of the recent log is people checking facebook.com, I wonder...

[17:17:00.0000] <AryehGregor>
I've browsed with Flash disabled for a long time, and the only things I can remember seeing recently that didn't work were ads.

[17:17:01.0000] <AryehGregor>
And not even many of that.

[17:17:02.0000] <AryehGregor>
So: long live HTML5!  Flash is no longer important!

[17:17:03.0000] <AryehGregor>
Hurrah!

[17:17:04.0000] <AryehGregor>
/me pats everyone in the room on the back

[17:18:00.0000] <Hixie>
hehe

[17:18:01.0000] <Dashiva>
Hey

[17:18:02.0000] <Dashiva>
Flash games are still flash games

[17:23:00.0000] <Hixie>
at least on g+ some of the games are canvas-based

[17:36:00.0000] <divya>
Dashiva: do you have the logs for downforeveryoneorjustme?

[17:36:01.0000] <divya>
or is it public? >_>

[17:38:00.0000] <Hixie>
it's on the page

[18:38:00.0000] <AryehGregor>
Where's the giant warning box in the HTML spec saying not to use canvas to make a text editor?

[18:39:00.0000] <AryehGregor>
Ah, here.

[18:40:00.0000] <AryehGregor>
http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#best-practices

[18:40:01.0000] <Hixie>
it's got a whole section, not just a box :-)

[18:45:00.0000] <AryehGregor>
Yeah, but it's not in scary warning colors, so I didn't spot it when skimming through.

[18:58:00.0000] <MikeSmith>
the spec needs a EULA

[18:59:00.0000] <MikeSmith>
"By using the technologies we make available in this specification, you agree to not make things that are bad for the Web."

[19:00:00.0000] <MikeSmith>
and if you break that agreement you get kicked off the Web

[19:00:01.0000] <MikeSmith>
for two weeks

[19:21:00.0000] <Hixie>
MikeSmith: man, if we had the power to do that...

[23:00:00.0000] <jamesr>
how do you make a path in SVG that isn't closed?

[23:00:01.0000] <jamesr>
i tried just ending on an L instead of a z but it's bitching at me Problem parsing  d="M 272 202 L 274 202 L"

[23:01:00.0000] <jamesr>
oh wait, i think i just leave off the last command

[23:05:00.0000] <jamesr>
/me feels dumb now

[23:12:00.0000] <jamesr>
ok better SVG question. i have a path with a bunch of points. is there a way to say "stroke it such that the first point is blue, the last point is green, and everything in the middle is linearly interpolated between the two based on the point's distance along the path" ?

[23:13:00.0000] <jamesr>
i've tired specifying the paint server as a linearGradient, but that gradient seems to be evaluated in the viewboxes' space no matter what i do

[23:13:01.0000] <jamesr>
so i can make stuff on the left blue and stuff on the right green, but can't figure out how to make the color change as a function of progress along the path

[23:17:00.0000] <jamesr>
interbutts as of 2007 say SVG doesn't do that: https://groups.google.com/group/mozilla.dev.tech.svg/browse_thread/thread/6d557ad470cf9cbc/5ad0cf5b1a23188a

[23:17:01.0000] <jamesr>
:(

[00:21:00.0000] <remysharp>
Trying to work out which browser has the bug: I create an event, set a custom property on it and dispatch it. Chrome carries the custom prop through, Firefox drops it. Does the spec define what the browser should do?

[00:55:00.0000] <MikeSmith>
hsivonen: dunno if you're around but I wanted to ask if there's a reason why for the V.nu site you aren't serving the static files from jetty

[00:56:00.0000] <MikeSmith>
I mean the style.css and script.js files

[00:56:01.0000] <hsivonen>
MikeSmith: this way, I have less need to track Jetty security updates and less need to figure out how to make Jetty serve static files when V.nu has its own main()

[00:56:02.0000] <hsivonen>
I've forgotten to update script.js, haven't I?

[00:57:00.0000] <MikeSmith>
hsivonen: no no

[00:57:01.0000] <MikeSmith>
I haven't landed the new code yet so you don't need to update yet

[00:57:02.0000] <MikeSmith>
so I know how to make jetty serve static files

[00:57:03.0000] <hsivonen>
MikeSmith: I've considered reading style.css and script.js to RAM and serving them from the servlet, though. I just haven't gotten around to it

[00:57:04.0000] <MikeSmith>
I have the code working in my workspace

[00:58:00.0000] <MikeSmith>
OK

[00:58:01.0000] <MikeSmith>
that would be a better solution I guess

[00:58:02.0000] <hsivonen>
MikeSmith: I'm most worried about Jetty's generic file serving serving other files accidentally

[00:59:00.0000] <MikeSmith>
yeah

[00:59:01.0000] <MikeSmith>
well, the reason I'm looking into this is that for the w3c instance I would really like to have everything in one place

[00:59:02.0000] <hsivonen>
MikeSmith: I'm OK with having the code in the repo

[01:00:00.0000] <hsivonen>
MikeSmith: not sure if I want it enabled on the V.nu instance without seeing the code

[01:00:01.0000] <MikeSmith>
yeah, sure, understood

[01:00:02.0000] <MikeSmith>
and I can put it under the w3c flag I think

[01:00:03.0000] <hsivonen>
MikeSmith: ok.

[01:00:04.0000] <MikeSmith>
all of it

[01:00:05.0000] <MikeSmith>
I'll get you a patch

[01:01:00.0000] <hsivonen>
or more to the point, I don't want it enabled on V.nu without seeing the Jetty guts it calls

[01:01:01.0000] <MikeSmith>
yup

[01:01:02.0000] <MikeSmith>
understood

[01:02:00.0000] <MikeSmith>
but now I'm wondering if it's better just to pursue what you mentioned about reading style.css and script.js to RAM and serving them from the servlet

[01:07:00.0000] <MikeSmith>
hsivonen: btw, is there a way I can detect within the code what path jetty is running under?

[01:07:01.0000] <MikeSmith>
so that I don't have to use absolute paths

[01:08:00.0000] <MikeSmith>
right now I'm just feeding it the path through a system property

[01:11:00.0000] <hsivonen>
MikeSmith: I don't know. There might be a magic system property for it, but I don't see a dedicated JDK API call for it

[01:12:00.0000] <MikeSmith>
ok

[01:15:00.0000] <MikeSmith>
hsivonen: what code would I need to touch if I wanted to implement reading style.css and script.js to RAM and serving them from the servlet?

[01:17:00.0000] <hsivonen>
MikeSmith: nu.validator.servlet.VerifierServlet

[01:17:01.0000] <MikeSmith>
OK

[01:19:00.0000] <MikeSmith>
ah

[01:19:01.0000] <MikeSmith>
hsivonen: doGet?

[01:20:00.0000] <hsivonen>
MikeSmith: yeah

[01:20:01.0000] <MikeSmith>
OK

[01:20:02.0000] <hsivonen>
MikeSmith: you could read the files to RAM from the static initializer

[01:21:00.0000] <hsivonen>
MikeSmith: it's dirty, but there's already IO from static initializer in the app

[01:21:01.0000] <MikeSmith>
I see

[01:25:00.0000] <MikeSmith>
hsivonen: so the code is doing this already for serving /robots.txt right?

[01:25:01.0000] <hsivonen>
MikeSmith: yeah

[01:26:00.0000] <MikeSmith>
could this be done for serving image files as well?

[01:26:01.0000] <hsivonen>
MikeSmith: sure

[01:28:00.0000] <MikeSmith>
hsivonen: OK, well, if you prefer I can write a patch that does it this way instead of using the jetty static-file serving stuff

[01:28:01.0000] <hsivonen>
MikeSmith: that would be awesome

[01:28:02.0000] <MikeSmith>
will do then

[01:28:03.0000] <hsivonen>
thanks

[01:30:00.0000] <MikeSmith>
hsivonen: to be clear, we still need to files in the repo and the code reads them in from the filesystem, right?

[01:30:01.0000] <MikeSmith>
if so, my next question is, how do I get the path to the directory they're in?

[01:31:00.0000] <hsivonen>
MikeSmith: I'd read them from the file system to a byte[] from static {} and then serve them from RAM the way robots.txt is served from RAM

[01:31:01.0000] <MikeSmith>
yup, OK

[01:31:02.0000] <hsivonen>
MikeSmith: hmm. how are the local entities located...

[01:31:03.0000] <MikeSmith>
ah yeah

[01:31:04.0000] <hsivonen>
oh. they come from within a JAR

[01:31:05.0000] <MikeSmith>
yup

[01:31:06.0000] <MikeSmith>
I could do the same for these I guess

[01:32:00.0000] <hsivonen>
so one option would be moving the files so that they get baked in a JAR

[01:32:01.0000] <hsivonen>
yeah

[01:32:02.0000] <MikeSmith>
I mean, just use that same mechnaism

[01:32:03.0000] <MikeSmith>
OK

[01:32:04.0000] <hsivonen>
makes sense

[01:32:05.0000] <MikeSmith>
yup

[01:32:06.0000] <MikeSmith>
OK

[01:32:07.0000] <hsivonen>
hmm. though a JAR *might* make the length of the file unknown

[01:33:00.0000] <MikeSmith>
oh

[01:33:01.0000] <hsivonen>
which will result in some reallocation and copying of byte[] if you can't allocate the right-sized byte[] in advance

[01:33:02.0000] <MikeSmith>
oh

[01:33:03.0000] <MikeSmith>
why is that not also a problem for the existing files that get JARed up?

[01:33:04.0000] <MikeSmith>
oh

[01:34:00.0000] <MikeSmith>
I see what you mean

[01:34:01.0000] <MikeSmith>
yeah

[01:34:02.0000] <hsivonen>
they don't get read into a file-length byte[]

[01:34:03.0000] <MikeSmith>
right

[02:14:00.0000] <mhausenblas>
http://lists.w3.org/Archives/Public/www-archive/2012Jan/0032.html ... he he, well played, Hixie :D

[02:21:00.0000] <asmodai>
Who here was from the Opera team again (seems that anne's not around)?

[02:32:00.0000] <zcorpan>
jgraham is here

[02:43:00.0000] <jgraham>
/me is indeed here

[03:18:00.0000] <cweiske>
about the autocomplete proposal: why isn't there an openid, username and password token?

[03:22:00.0000] <asmodai>
jgraham: Opera mobile, it's known that the previews of tabs sometimes keep showing wrong content?

[03:25:00.0000] <jgraham>
asmodai: Not known to me at least. Could you file a bug, please?

[03:27:00.0000] <asmodai>
jgraham: going to try, internet is acting up at the moment

[03:28:00.0000] <asmodai>
major lag and packet loss due to some upstream router on the campus reaching CPU limits >_<

[03:30:00.0000] <jgraham>
https://bugs.opera.com/wizard/mobile/ if it helps

[03:32:00.0000] <asmodai>
jgraham: ANDMEX-5712

[03:33:00.0000] <asmodai>
jgraham: Would a screenshot help? (assuming I can send such files to the address as well)

[03:35:00.0000] <jgraham>
asmodai: …maybe? I don't really do product QA so I don't know exactly what they use. I imagine a screenshot is not needed if it is 100% reproducable, but might be helpful if it isn't (to prove you had the problem :)

[03:36:00.0000] <wilhelm>
asmodai: Yes.

[03:36:01.0000] <wilhelm>
(Not that I work for Opera anymore. :)

[03:37:00.0000] <jgraham>
But at least you have some experience with product QA :)

[03:41:00.0000] <asmodai>
wilhelm: hehe, cool :)

[03:41:01.0000] <asmodai>
jgraham: Will check if I can show the previews and use the native screenshot button to snap it.

[03:43:00.0000] <jgraham>
asmodai: Thanks, this is really helpful!

[03:43:01.0000] <asmodai>
jgraham: np, so far opera mobile is my browser of choice on Android

[03:45:00.0000] <wilhelm>
asmodai: Even with the Opera hat gone, I can agree with that. (c:

[03:46:00.0000] <wilhelm>
asmodai: For later reference: by adding a screenshot, you're proving that the bug actually exists. That may make your report float to the top.

[03:47:00.0000] <jgraham>
Things I was vaugely aware of, but just saw demoed: you can actually use the mobile browser on your desktop: http://www.opera.com/developer/tools/mobile/

[03:49:00.0000] <jgraham>
wilhelm: yes. Although you shouldn't take the same screenshot and post it to *every* *single* blog post whenever there's a new nightly build.

[03:52:00.0000] <gsnedders>
GlitchMr: But it still happens!

[03:52:01.0000] <gsnedders>
GlitchMr?

[03:52:02.0000] <gsnedders>
jgraham.

[03:52:03.0000] <GlitchMr>
Yeah

[03:52:04.0000] <gsnedders>
I can't type.

[03:52:05.0000] <GlitchMr>
wait.. lol.

[04:06:00.0000] <asmodai>
wilhelm: Good to know

[04:06:01.0000] <asmodai>
wilhelm: When I'm home and actually near my tablet, I'll snap and upload it

[04:38:00.0000] <MikeSmith>
karlcow: you walked right into that one man

[04:39:00.0000] <MikeSmith>
the reply from Roy on public-tracking

[04:39:01.0000] <MikeSmith>
or maybe you made him walk right into that one

[04:39:02.0000] <MikeSmith>
karlcow: were you intentionally trolling him?

[05:33:00.0000] <karlcow>
MikeSmith: I rarely troll anyone, or if I troll it is because the person is a friend who will be able to understand the nature of my comment.

[05:34:00.0000] <karlcow>
for the answer of Roy, I do not understand why it went on that reply which is barely related to what we were discussing in the tracking protection group this morning.

[05:34:01.0000] <karlcow>
s/it went/he went/

[05:35:00.0000] <cweiske>
about the autocomplete proposal: why isn't there an openid, username and password token?

[05:43:00.0000] <jgraham>
cweiske: You asked that about 2.5 hours ago

[05:43:01.0000] <jgraham>
cweiske: I suggest asking on the list; the people driving that proposal aren't here

[06:19:00.0000] <cweiske>
ok

[06:35:00.0000] <Ms2ger>
Does IE use 1px for thin borders already?

[07:43:00.0000] <scott_gonzalez>
Hixie: Does WHATWG get involved with PAGs for W3C specs at all?

[07:44:00.0000] <scott_gonzalez>
I've got an attorney that's willing to help investigate the Apple patents for Touch Events, but the response from Rigo Wenning a bit abrupt and standoffish.

[07:44:01.0000] <scott_gonzalez>
I'm not sure if there's some other/better way for the attorney to provide help.

[08:11:00.0000] <AryehGregor>
/me grumbles about his flaky router

[08:59:00.0000] <AryehGregor>
Is the user-select property specced anywhere these days?

[09:00:00.0000] <Ms2ger>
If CSSUI doesn't have it, probably not

[09:01:00.0000] <AryehGregor>
Sad.

[09:01:01.0000] <Ms2ger>
CSS? Yes

[09:02:00.0000] <MikeSmith>
hsivonen: sent you a patch for review, for the serve-stuff-from-RAM thing we talked about earlier

[09:04:00.0000] <MikeSmith>
I don't know what the best way is to read from a file into a byte array, but the way I did seems sane

[09:04:01.0000] <MikeSmith>
I didn't do the JAR thing because I found that actually could use a relative path

[09:06:00.0000] <hsivonen>
MikeSmith: ok. I'll take a look tomorrow. gotta go now

[09:07:00.0000] <MikeSmith>
thanks

[09:07:01.0000] <MikeSmith>
no rush

[09:54:00.0000] <crankharder>
ideas what "NOT_FOUND_ERR: DOM IDBDatabase Exception 3" might mean?  I can't find any docs on it

[10:55:00.0000] <AryehGregor>
Huh . . . -webkit-perspective behaves weirdly.

[10:56:00.0000] <AryehGregor>
It seems like its value for practical purposes is equal to the value of the last ancestor with -webkit-perspective not set to "none".  So <div style="-webkit-perspective:100px">, <div style="-webkit-perspective:100px"><div style="-webkit-perspective:100px">, and <div style="-webkit-perspective:100px"><div style="-webkit-perspective:none"> are all equivalent.

[10:56:01.0000] <AryehGregor>
This seems very weird.

[10:57:00.0000] <AryehGregor>
In Gecko it's just the parent's value that's used.

[10:57:01.0000] <AryehGregor>
I'd have expected they accumulate, so it's like transform: perspective(100px) . . .

[10:57:02.0000] <AryehGregor>
/me wonders what the use-case is

[11:20:00.0000] <AryehGregor>
Oh, awesome, WebKit's getBoundingClientRect() just doesn't match its rendering here, so it gets an unjustified pass.

[11:21:00.0000] <Ms2ger>
Sounds like webkit

[11:21:01.0000] <AryehGregor>
I found cases where that happens in Gecko too.

[11:23:00.0000] <AryehGregor>
https://bugzilla.mozilla.org/show_bug.cgi?id=718809

[11:23:01.0000] <Ms2ger>
Shh ;)

[11:41:00.0000] <AryehGregor>
I wish I had a way to run reftests from JavaScript.  :(

[11:42:00.0000] <AryehGregor>
Why does no one but Gecko seem to support writing SVG-in-data-URLs to canvas and then reading back the results?

[11:42:01.0000] <AryehGregor>
Extremely sad.

[11:42:02.0000] <AryehGregor>
Running reftests in arbitrary browsers is so painful as it stands.

[11:44:00.0000] <AryehGregor>
/me notes that all browsers would fail his autogenerated reftests anyway, because they all have slight errors in rounding

[11:44:01.0000] <Philip`>
AryehGregor: Security, presumably

[11:45:00.0000] <Philip`>
(In particular the difficulty of being absolutely certain that it's secure)

[11:45:01.0000] <AryehGregor>
Philip`, browsers that support SVG-in-<img> don't run any script or load any resources from the network, so it's pretty hard for it to not be secure.

[11:45:02.0000] <AryehGregor>
I guess it could reveal prefs and such.

[11:45:03.0000] <AryehGregor>
Hmm, I wonder if it evades the Gecko mitigation of link-color examination?

[11:46:00.0000] <AryehGregor>
/me fidgets

[11:50:00.0000] <AryehGregor>
They seem to have thought of that.  Sad.

[11:50:01.0000] <AryehGregor>
(or, good)

[12:00:00.0000] <Hixie>
wait, what?

[12:00:01.0000] <AryehGregor>
Wait, what what?

[12:00:02.0000] <Hixie>
being able to reference hidden="" content from aria attributes is controversial now?

[12:00:03.0000] <Hixie>
wtf

[12:01:00.0000] <Hixie>
i feel like i am in some sort of badly written comedy

[12:03:00.0000] <Hixie>
sicking: dude your bug about hidden="" and aria-* is getting me in trouble

[12:04:00.0000] <Ms2ger>
Hixie, would've been nice if you hadn't hijacked my obsolete specs thread, btw ;)

[12:15:00.0000] <sicking>
Hixie: i won't have time to spend on that stuff unfortunately :(

[12:16:00.0000] <sicking>
Hixie: also, allowing aria-* to point to hidden stuff is the right thing to do, so i don't understand why it's trouble?

[12:47:00.0000] <heycam>
jamesr_, there's no easy way to do that currently :(

[12:47:01.0000] <heycam>
jamesr_, (the gradients along the polyline)

[12:47:02.0000] <heycam>
jamesr_, the new gradient meshes we'll have should make it possible, though still not simple to write

[13:18:00.0000] <AryehGregor>
/me writes http://aryeh.name/tmp/css-test/contributors/aryehgregor/incoming/viewer.html as a crude makeshift reftest-checker, in about 20 minutes

[13:18:01.0000] <AryehGregor>
Needs some refinement, I guess.

[13:18:02.0000] <AryehGregor>
But I'm not going to submit reftests if I can't easily check whether they pass in implementations . . .

[13:20:00.0000] <gsnedders>
Write a runner using WebDriver!

[13:24:00.0000] <Hixie>
sicking: ditto on both counts

[13:24:01.0000] <Hixie>
sicking: like i said before you joined, i feel like i am in some sort of badly written comedy

[13:34:00.0000] <smaug____>
is anne on vacation ?

[13:47:00.0000] <Hixie>
smaug____: yes

[13:48:00.0000] <jamesr_>
heycam, looks like the closest i can get today is to build up the path in lots of little overlapping pieces (2-3 segments) and color them individually

[13:48:01.0000] <jamesr_>
to get something kinda close

[13:49:00.0000] <heycam>
jamesr_, yeah

[13:49:01.0000] <heycam>
jamesr_, btw did you see the mail about rAF

[13:49:02.0000] <jamesr_>
about last call?

[13:49:03.0000] <heycam>
jamesr_, yeah

[13:49:04.0000] <jamesr_>
yeah i saw it, haven't had time to look in detail

[13:49:05.0000] <jamesr_>
gotta remember what the LC reqs are

[13:49:06.0000] <heycam>
/me has not been paying attention to the spec at all

[13:49:07.0000] <heycam>
just that all the issues are closed, really

[13:50:00.0000] <jamesr_>
well that's easy enough to accomplish :)

[13:50:01.0000] <jamesr_>
biggest problem with rAF spec-wise is the lack of a test suite, imo

[13:51:00.0000] <heycam>
yeah, technically that's not required unless you want to transition from CR to the next one up

[13:51:01.0000] <heycam>
but the earlier the better obviously

[13:51:02.0000] <heycam>
anyway if all the issues we had are actually closed, we can say go for it for LC

[13:51:03.0000] <jamesr_>
will have to check

[13:51:04.0000] <heycam>
I might fiddle with the IDL though first to take account of recent webidl changes

[13:51:05.0000] <jamesr_>
i think there are some issues of the form "think about doing BLAH"

[13:52:00.0000] <heycam>
ok

[13:52:01.0000] <jamesr_>
and they can probably be closed with either "thought about it, don't want to do it" or "let's think about it later"

[13:52:02.0000] <heycam>
yeah

[13:52:03.0000] <heycam>
it's probably fine to leave those called out in the spec, if you wanted to attract attention to them

[13:53:00.0000] <jamesr_>
as notes?

[13:53:01.0000] <heycam>
yeah

[13:53:02.0000] <jamesr_>
sg

[13:53:03.0000] <jamesr_>
i'll try to go through open issues and then reply to that email tomorrow

[13:54:00.0000] <jamesr_>
today is a mess for me

[13:54:01.0000] <heycam>
doubt there's a hurry


2012-01-27
[17:04:00.0000] <Hixie>
1/away afk

[17:04:01.0000] <Hixie>
wow that went wrong.

[17:05:00.0000] <WeirdAl>
Hixie: FF12 will have support for XHR timeout 8)

[17:06:00.0000] <WeirdAl>
hm, I guess anne's the one who really needs to know

[17:07:00.0000] <WeirdAl>
I guess I was just thinking of those little browser icons indicating support for features in HTML5

[19:11:00.0000] <zewt>
i sure wish the whole "URL" vs "URI" distinction would go away; almost nobody even knows the difference, heh

[19:12:00.0000] <zewt>
it's particularly silly that we have a function called "createObjectURL" that says "return a URI"

[19:12:01.0000] <zewt>
"UR" + r(and()&1? "I":"L")

[21:59:00.0000] <Hixie>
zewt: that's why i basically only refer to things as URLs.

[00:48:00.0000] <zcorpan>
booo! google code search is no more :-(

[01:01:00.0000] <asmodai>
zcorpan: best replacement so far is koders.com

[01:02:00.0000] <zcorpan>
asmodai: cheers

[01:02:01.0000] <zcorpan>
+        <script>

[01:02:02.0000] <zcorpan>
+         document.write('<link rel=stylesheet href=foo.css><script></script>x');

[01:02:03.0000] <zcorpan>
+         // at this point, whether the DOM contains an "x" or not depends on how quickly the foo.css file could be processed

[01:02:04.0000] <zcorpan>
+        </script>

[01:03:00.0000] <zcorpan>
hsivonen: could we make this deterministic by awaiting a stable state before parsing the "x"?

[01:11:00.0000] <asmodai>
zcorpan: keep in mind that you need to search in lowercase, since camel casing triggers some special search IIRC

[01:11:01.0000] <asmodai>
http://googlecode.blogspot.com/2012/01/making-web-speedier-and-safer-with-spdy.html

[01:11:02.0000] <asmodai>
Seems SPDY is gaining traction.

[01:17:00.0000] <zcorpan>
yeah i noticed

[01:17:01.0000] <zcorpan>
the camelcase thing seems stupid

[01:18:00.0000] <zcorpan>
if you wanted to search for the terms separately, you'd use space between them

[01:23:00.0000] <zcorpan>
/me sent feedback to koders

[01:33:00.0000] <hsivonen>
zcorpan: the parsing is deterministic in Gecko in that case

[01:33:01.0000] <hsivonen>
zcorpan: computed style isn't

[01:34:00.0000] <hsivonen>
zcorpan: I'm not particularly keen at throwing engineering effort at making the computed style deterministic in this case

[01:34:01.0000] <hsivonen>
zcorpan: I think make the parsing non-deterministic would be bad, though, which is why it's deterministic in Gecko

[01:34:02.0000] <hsivonen>
zcorpan: possibly in violation of the spec depending on how my spec comments have been addressed

[01:50:00.0000] <zcorpan>
hsivonen: ok. if the comment is correct, then the spec's parsing is non-deterministic

[01:55:00.0000] <hsivonen>
zcorpan: I disapprove of the spec on this point, then

[02:03:00.0000] <zcorpan>
http://cheezburger.com/View/4088691968

[03:24:00.0000] <MikeSmith>
hsivonen: Thanks for the review. I incorporated your review changes and I also add code for conditionally serving up the additional W3C images

[03:24:01.0000] <MikeSmith>
just sent the updated patch to you

[03:26:00.0000] <MikeSmith>
/me now steps away for a beer break

[03:30:00.0000] <hsivonen>
MikeSmith: I replied

[03:30:01.0000] <hsivonen>
too early for beer over here, unfortunately

[03:31:00.0000] <MikeSmith>
:)

[03:31:01.0000] <hsivonen>
/me has lunch

[03:31:02.0000] <MikeSmith>
thanks

[03:31:03.0000] <louisremi>
Hi, I can't login to w3.org/wiki using my W3C member's login and password, where can I get some help?

[03:35:00.0000] <louisremi>
(or who should I ask?)

[03:38:00.0000] <jgraham>
MikeSmith is a good person to ask but

[03:38:01.0000] <jgraham>
05:27  * MikeSmith now steps away for a beer break

[03:39:00.0000] <louisremi>
MikeSmith: are you there?

[03:46:00.0000] <zcorpan>
does "overlap" imply "not completely nested"?

[03:46:01.0000] <jgraham>
In what context?

[03:46:02.0000] <jgraham>
I assume "yes"

[03:47:00.0000] <zcorpan>
well i'm asking because i wanted to suggest changing the name of http://dev.w3.org/html5/webvtt/#webvtt-file-using-only-nested-cues

[03:48:00.0000] <zcorpan>
to "WebVTT file using no overlapping cues", but that wouldn't be accurate either if nested cues are also "overlapping"

[03:49:00.0000] <jgraham>
I guess it's not clear in that case]

[03:49:01.0000] <jgraham>
I was thinking of markup

[04:32:00.0000] <louisremi>
MikeSmith: are you there? I'm having issues logging in to w3.org/wiki

[04:44:00.0000] <hsivonen>
argh. no single page link from the MathML 3 spec

[04:44:01.0000] <hsivonen>
neither from MathML 2

[04:46:00.0000] <hsivonen>
does MathML have its own <img>-like element?

[04:48:00.0000] <zcorpan>
http://www.w3.org/TR/MathML2/chapter7.html#id.7.1.4.2

[04:49:00.0000] <hsivonen>
zcorpan: thanks

[04:50:00.0000] <hsivonen>
so mglyph takes a font name, not a URL

[04:50:01.0000] <hsivonen>
so MathML has no elements that go and load external resources by URL?

[04:50:02.0000] <zcorpan>
/me also finds http://www.w3.org/TR/MathML3/chapter4.html#contm.image

[04:50:03.0000] <hsivonen>
zcorpan: different meaning of "image" :-)

[04:51:00.0000] <zcorpan>
yeah, i suspected

[05:06:00.0000] <MikeSmith>
louisremi: here now

[05:13:00.0000] <MikeSmith>
louisremi: btw I fixed the character borkedness in the user DB

[05:21:00.0000] <david_carlisle>
hsivonen: mathml3 mglyph takes images specified by url

[05:23:00.0000] <david_carlisle>
hsivonen: on image, yeah we explicitly tried to avoid name clash but no one told us that browsers implemented image  until we'd had image for a decade (Hixie put us right:-)

[05:25:00.0000] <david_carlisle>
hsivonen: in addition mathml3 annotations can be specified via url rather than inline but you are allowed to  (and i assume browsers would)  ignore such annotations

[05:28:00.0000] <david_carlisle>
hsivonen: I had a non standard build of the mathml spec as a single page at one time for someone, was it you? it wouldn't be hard to do if it would be useful

[05:29:00.0000] <asmodai>
/me wishes more browsers would fix their mathml displaying.

[05:29:01.0000] <asmodai>
Oh well, at least my mathml displays well in ff and better and better in opera.

[05:31:00.0000] <david_carlisle>
amodai: it also should work well in IE with mathplayer (Ive not had an IE without mathplayer since 5.0 which is a while ago now)

[05:31:01.0000] <asmodai>
david_carlisle: I try to go with the least amount of additional dependencies. :)

[05:32:00.0000] <david_carlisle>
asmodai: so do I really, but needing Ie is a commercial rather than technical issue. "IE" is a bunch of related dlls and if you have to get one of them from a different source so be it, it;s not as if any of it is open source or anything

[05:33:00.0000] <david_carlisle>
needing mathplayer, I meant

[05:33:01.0000] <asmodai>
Fair point.

[05:34:00.0000] <david_carlisle>
Still, i wish it just worked without having to give the same lame excuse for a decade:-)

[05:34:01.0000] <Ms2ger>
They have SVG now... Maybe someone should write a script that renders MathML to SVG

[05:35:00.0000] <asmodai>
It's sad, because their math input panel can generate mathml to the clipboard

[05:36:00.0000] <david_carlisle>
There are some, i think, but I'd rather they did the decent thing and implemented it natively (MS has a very nice MathML system in its text rendering software behind the Ms Office suite)

[05:37:00.0000] <asmodai>
yeah, think the math input panel is part of that

[05:37:01.0000] <david_carlisle>
asmodai: Actually, not (It's a big company:-)

[05:38:00.0000] <asmodai>
ah

[05:38:01.0000] <asmodai>
Mmm, was it part o fmy base 7 install then?

[05:39:00.0000] <david_carlisle>
asmodai: The math input panel (unlike office) is part of windows itself. Of course though they appreciate the benefits of open standard formats for moving data from one to the other, or  something....

[05:40:00.0000] <Ms2ger>
Yeah, they did embrace mathml, apparently

[05:41:00.0000] <david_carlisle>
Microsoft  has been on the Math WG for quite a while  (Giorgi from opera also) now it would be nice to have representatives from say CHROME in the WG as well:-)

[05:42:00.0000] <Ms2ger>
Agreed, those damned Chromies ;)

[06:14:00.0000] <hsivonen>
david_carlisle: oh, indeed mglyph in MathML 3 is different. thanks

[06:14:01.0000] <hsivonen>
it's nice that it uses the src attribute in no namespace for loading external content, so I have it covered already

[06:15:00.0000] <hsivonen>
does MathML autoload external content by URL using an attribute other than src?

[06:15:01.0000] <david_carlisle>
hsivonen: no

[06:16:00.0000] <hsivonen>
david_carlisle: thanks

[06:16:01.0000] <hsivonen>
whoa. there's a cd attribute

[06:17:00.0000] <hsivonen>
oh, but it takes an NCName

[06:17:01.0000] <david_carlisle>
hsivonen: yes but like the mathml2 definitionURL attribute there is no implication taht you have to do anything with it

[06:18:00.0000] <david_carlisle>
ther is also href in mathml3 which should act like html's a/@href

[06:18:01.0000] <hsivonen>
david_carlisle: ok

[06:18:02.0000] <hsivonen>
/me sees also cdgroup

[06:18:03.0000] <hsivonen>
and altimg

[06:18:04.0000] <david_carlisle>
hsivonen: again it's metadata on where one might find the underlying semantics but a browser neededn't fetch

[06:19:00.0000] <david_carlisle>
altimg ah, you have the spec open (I should) well you only need that if you don't render the mathml natively

[06:21:00.0000] <hsivonen>
david_carlisle: ok.

[06:21:01.0000] <hsivonen>
david_carlisle: I'm concerned about the case where someone puts MathML with external content references in email in order to get the message phone home when viewed

[06:22:00.0000] <david_carlisle>
grepped for anyuri in the relax schema and src href definitionurl altimg cdgroup is the full list

[06:22:01.0000] <hsivonen>
david_carlisle: thanks

[06:23:00.0000] <david_carlisle>
hsivonen: My brain isn't wired like a browser implementor's, could you expand on the concern

[06:23:01.0000] <hsivonen>
david_carlisle: the general expectation is that viewing an email message is a private operation (unlike viewing a Web page)

[06:24:00.0000] <hsivonen>
david_carlisle: so it's expected that when you view a Web page, as a side effect, stuff gets logged on servers

[06:24:01.0000] <hsivonen>
david_carlisle: when viewing an email, it's expected that no one but your computer and your email server find out that you viewed an email sent to you

[06:25:00.0000] <david_carlisle>
hsivonen: so what do you do with html img? (well I know that mail clients typically offer the user an option to fetch or not)

[06:25:01.0000] <hsivonen>
david_carlisle: I'm limiting HTML img only to cid: and data: URLs

[06:26:00.0000] <david_carlisle>
well my expectation (aka hope) would be that mathml mglyph does whatever img does and any others can be blocked by default in a context where these cncerns apply

[06:27:00.0000] <hsivonen>
david_carlisle: ok

[06:28:00.0000] <david_carlisle>
hsivonen: Is this a mozilla thing, or should we be specifying this stuff somewhere?

[06:30:00.0000] <Ms2ger>
Mozilla thing

[06:30:01.0000] <Ms2ger>
But maybe we should

[06:33:00.0000] <zewt>
hsivonen: well, it's up to the UA to handle that (gmail hides images by default until you click a button)

[06:33:01.0000] <hsivonen>
david_carlisle: this is a Mozilla thing

[06:33:02.0000] <hsivonen>
zewt: this is for a more paranoid than usual mode in Thunderbird

[06:34:00.0000] <hsivonen>
david_carlisle: there's no plan to expose this as a Web API, so no spec needed in that sense

[06:34:01.0000] <zewt>
right, a UA concern

[07:02:00.0000] <hsivonen>
FWIW, IE exposes an API of this nature to Web content and, IIRC, Collin Jackson used it as an example of a bad Web platform security feature in a presentation

[07:03:00.0000] <hsivonen>
(because getting interoperable impls. would involve a lot of spec surface that needs to change as the rest of the platform changes)

[07:03:01.0000] <louisremi>
MikeSmith: Thanks for fixing my name. Do you have any idea why I cannot connect to the wiki?

[07:03:02.0000] <Ms2ger>
toStaticHTML?

[07:03:03.0000] <hsivonen>
Ms2ger: yes

[07:04:00.0000] <Ms2ger>
/me thought it was a bad idea at the time

[07:05:00.0000] <hsivonen>
ok. now I need to write test cases for this stuff

[07:05:01.0000] <Ms2ger>
Eh

[07:15:00.0000] <MikeSmith>
louisremi: you mean you can't connect to it at all?

[07:16:00.0000] <MikeSmith>
..or do you mean you can't edit?

[07:16:01.0000] <louisremi>
MikeSmith: Yes, I'm using my W3C member login and password and it always fails

[07:16:02.0000] <MikeSmith>
what URL?

[07:16:03.0000] <louisremi>
MikeSmith: http://www.w3.org/wiki/index.php?title=Special:UserLogin&returnto=Special:UserLogin

[07:17:00.0000] <louisremi>
MikeSmith: oh wait, I just used the password that you originally sent me and it works [facepalm].

[07:17:01.0000] <MikeSmith>
:)

[07:18:00.0000] <MikeSmith>
yeah, that main wiki is not tied to the ldap user db

[07:18:01.0000] <louisremi>
MikeSmith: I thought updating my password would update it across all W3C sites

[07:18:02.0000] <MikeSmith>
it's a separate passoword

[07:18:03.0000] <louisremi>
MikeSmith: alright

[07:18:04.0000] <MikeSmith>
yeah, confusing

[10:26:00.0000] <Ms2ger>
Hixie, so you're saying the test is correct?

[10:26:01.0000] <Hixie>
i didn't check the test itself

[10:27:00.0000] <Hixie>
hence not closing the bug

[10:27:01.0000] <Hixie>
well that was bad timing

[10:27:02.0000] <Ms2ger>
Philip`, you check https://www.w3.org/Bugs/Public/show_bug.cgi?id=14421 please

[10:45:00.0000] <AryehGregor>
Does IE not support <base href=""> with relative URLs?

[10:47:00.0000] <AryehGregor>
document.querySelector("base").href = document.querySelector("base").href; fixes it.

[11:04:00.0000] <Hixie>
is there an appropriate wg for web api features relating to signing content before form submission?

[11:07:00.0000] <Ms2ger>
The wg that's going to spec window.crypto?

[11:09:00.0000] <Hixie>
yeah, that would do

[11:09:01.0000] <Hixie>
which is that one? :-)

[11:10:00.0000] <Hixie>
public-web-security⊙wo will do

[11:10:01.0000] <Ms2ger>
Sounds good

[11:30:00.0000] <AryehGregor>
Oh . . . except in some browsers (but not others!), document.querySelector("base").href = document.querySelector("base").href; resolves document.querySelector("base").href according to itself.

[11:30:01.0000] <AryehGregor>
Which really it should.

[11:30:02.0000] <AryehGregor>
Per spec.

[11:30:03.0000] <AryehGregor>
But it seems IE and Gecko don't.

[11:31:00.0000] <AryehGregor>
I should catch that in my reflection tests, but I didn't test setting URLs with <base> active.

[11:31:01.0000] <Ms2ger>
I think I remember some bug about that for Gecko...

[11:31:02.0000] <AryehGregor>
/me works around some more

[11:33:00.0000] <Ms2ger>
AryehGregor, https://bugzilla.mozilla.org/show_bug.cgi?id=600809

[11:33:01.0000] <GPHemsley>
When it comes to a datetime value, is there an explicit, complete list of valid characters somewhere?

[11:34:00.0000] <Ms2ger>
GPHemsley, how so?

[11:34:01.0000] <GPHemsley>
Ms2ger: What do you mean?

[11:34:02.0000] <Ms2ger>
Well, what do *you* mean? :)

[11:34:03.0000] <GPHemsley>
I'm looking for a complete list of valid characters in a datetime value

[11:35:00.0000] <AryehGregor>
Ms2ger, that bug's fix is not per spec.

[11:35:01.0000] <AryehGregor>
I think.

[11:35:02.0000] <Ms2ger>
It might not be

[11:35:03.0000] <Ms2ger>
The spec may or may not have said at the time what it says now

[11:35:04.0000] <Ms2ger>
GPHemsley, http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#valid-date-string-with-optional-time

[11:36:00.0000] <AryehGregor>
Ms2ger, https://www.w3.org/Bugs/Public/show_bug.cgi?id=15752

[11:37:00.0000] <Ms2ger>
Thanks

[11:37:01.0000] <GPHemsley>
Ms2ger: I'm not looking for a parser definition, just a list of valid characters. Otherwise, I'd have to go through each of the ~15 algorithms to make sure I didn't miss something.

[11:37:02.0000] <Ms2ger>
GPHemsley, click the links, they don't point to algorithms

[11:38:00.0000] <GPHemsley>
they point to disparate descriptions of each type of datetime value

[11:39:00.0000] <Ms2ger>
... Yes?

[11:39:01.0000] <GPHemsley>
That's not what I'm looking for

[11:40:00.0000] <GPHemsley>
There is a finite set of characters that can appear in a valid datetime value.

[11:40:01.0000] <GPHemsley>
I'm looking for a complete iteration of the characters in that set.

[11:41:00.0000] <Ms2ger>
It's the union of the characters mentioned in those descriptions

[11:41:01.0000] <GPHemsley>
but even those descriptions do not list their complete set at once; they only list them as they come up in the description/algorithm

[11:42:00.0000] <Ms2ger>
Yes

[11:43:00.0000] <GPHemsley>
nevermind

[11:43:01.0000] <GPHemsley>
what about the maximum length of a datetime value?

[11:44:00.0000] <Philip`>
Unlimited

[11:45:00.0000] <Philip`>
since you can have dates like 999999-01-01

[11:45:01.0000] <GPHemsley>
ok

[11:47:00.0000] <Philip`>
/me doesn't see any permitted characters other than [0-9-+TZ :.]

[11:47:01.0000] <Philip`>
/me provides no guarantee of correctness, though

[11:49:00.0000] <GPHemsley>
Philip`: Well, there are the duration characters, too. But thanks.

[11:50:00.0000] <Philip`>
Durations aren't datetimes, I think

[11:53:00.0000] <GPHemsley>
they are according to the HTML definition of "datetime value"

[13:02:00.0000] <asmodai>
jgraham / wilhelm : managed to snatch a screenshot :)

[13:23:00.0000] <jgraham>
asmodai: Oh, brilliant

[13:23:01.0000] <jgraham>
Let me know if there is a problem getting it onto the bug

[13:28:00.0000] <asmodai>
jgraham: emailed to the email address from my gmail, no bounce, so ought to be ok.

[13:28:01.0000] <asmodai>
Along with accompanying explanation

[14:18:00.0000] <zewt>
haha

[14:18:01.0000] <zewt>
i google for firefox, and the first link it gives me is Firefox 3.6

[14:19:00.0000] <zewt>
which goes to a page with no "no, really, this isn't what you want" notices

[14:43:00.0000] <TabAtkins>
zewt: Huh.  My first link is mozilla.org/en-US/firefox/, which lets me download v9

[15:32:00.0000] <zewt>
TabAtkins: the top part is just the top-level "Mozilla Firefox Web Browser", which my eyes just automatically skip past (since download links 99.9% of the time show up on google as a subsection link); then the first one I actually read is 3.6, then to the right of that "Download" (which actually goes to the snapshot builds)

[15:32:01.0000] <TabAtkins>
Ah yes, indeed.

[15:47:00.0000] <ojan>
sigh, this stuff is so confusing http://lists.w3.org/Archives/Public/public-script-coord/2012JanMar/0104.html

[15:48:00.0000] <ojan>
it's not clear to me if the end result here addresses whether variable declarations shadow named properties

[15:51:00.0000] <TabAtkins>
OJAN

[15:52:00.0000] <TabAtkins>
OJAN HELP ME WITH INTRINSIC SIZING OF VERTICAL MULTI-LINE FLEXBOXES

[15:52:01.0000] <ojan>
TABATKINS

[15:52:02.0000] <ojan>
lol

[15:52:03.0000] <ojan>
vertical text is so crazy complicated

[15:52:04.0000] <TabAtkins>
Well, I just mean flex-flow:column wrap; flexboxes.

[15:53:00.0000] <ojan>
yeah

[15:53:01.0000] <TabAtkins>
It acts almost exactly like a vertical text flow, though. :/

[15:53:02.0000] <ojan>
right

[15:53:03.0000] <TabAtkins>
I may wait to finish this until Paris when I have Fantasai in the room with me.

[15:54:00.0000] <ojan>
TabAtkins: yeah...we haven't implemented wrap at all yet

[15:54:01.0000] <TabAtkins>
Yeah, single-line is easy because you dont linebreak at all.

[15:55:00.0000] <TabAtkins>
Hey, how do you do shrinkwrap on a single-line row flexbox? Do the normal calculations (pretend it's a block, etc.) then sum the items widths?

[15:58:00.0000] <ojan>
TabAtkins: we basically pretend it's an inline-block

[15:58:01.0000] <TabAtkins>
Okay, that's what I was assuming.

[15:58:02.0000] <ojan>
TabAtkins: we pretend each item is an inline-block

[15:59:00.0000] <ojan>
TabAtkins: you don't shrinkwrap the flexbox itself, right?

[15:59:01.0000] <TabAtkins>
/me wonders how far he can get with just handwaving that it acts "like text" and specifying linebreaking beahvior.

[15:59:02.0000] <TabAtkins>
If the flexbox is floated, yeah you do.

[15:59:03.0000] <ojan>
TabAtkins: oh right...we probably get that wrong :)


2012-01-28
[16:01:00.0000] <ojan>
TabAtkins: yup...we get that wrong

[16:08:00.0000] <ojan>
What is the purpose of TR specs?

[16:08:01.0000] <TabAtkins>
To confuse and enrage.

[16:18:00.0000] <zewt>
Totally Retro

[16:18:01.0000] <zewt>
sorry, best i could come up with

[20:04:00.0000] <MikeSmith>
"The Whole Point Of Standards Is To Take Decisions Away From Developers"

[20:04:01.0000] <MikeSmith>
etc.

[20:04:02.0000] <MikeSmith>
http://krijnhoetmer.nl/irc-logs/

[20:04:03.0000] <MikeSmith>
krijn: good stuff man

[20:04:04.0000] <MikeSmith>
not just that one but all of them

[20:17:00.0000] <MikeSmith>
dglazkov: y u at there?

[20:37:00.0000] <MikeSmith>
https://twitter.com/#!/mikebelshe/status/162799418565857280

[20:37:01.0000] <MikeSmith>
"Upgraded Firefox9 to Firefox3.5 to avoid CORS retardation."

[20:37:02.0000] <MikeSmith>
Mike Belshe

[20:38:00.0000] <MikeSmith>
I wonder what problem he means

[20:38:01.0000] <MikeSmith>
oh

[20:38:02.0000] <MikeSmith>
Jonas on top of it already

[20:39:00.0000] <MikeSmith>
/me notices scheib

[20:39:01.0000] <MikeSmith>
scheib: fyi, if/when you need to reach me about some W3C thing, feel free to ping me here. Quicker than e-mail

[20:40:00.0000] <MikeSmith>
WTF

[20:40:01.0000] <MikeSmith>
"Now I need a disable SOP on firefox. There is none. I hate CORS."

[20:41:00.0000] <MikeSmith>
let's add a user option to disable the Web security model

[02:06:00.0000] <krijn>
MikeSmith: :)

[07:57:00.0000] <Ms2ger>
http://www.whatwg.org/issues/data.html?period=0 is looking nice

[13:28:00.0000] <GPHemsley>
Any chance of there being allowed multiple IDs for a single element?

[13:28:01.0000] <GPHemsley>
eg. id="id1 id2"

[13:36:00.0000] <Philip`>
GPHemsley: That would conflict with any currently-used IDs that contain spaces

[13:36:01.0000] <GPHemsley>
Philip`: According to the standard, IDs are not allowed to contain spaces

[13:36:02.0000] <Philip`>
They're not allowed to, but they still might

[13:37:00.0000] <GPHemsley>
oh

[13:37:01.0000] <GPHemsley>
hmm

[13:37:02.0000] <GPHemsley>
was that common?

[13:38:00.0000] <GPHemsley>
(couldn't have been that common, or else the restrictions on space characters would have been lifted, no?)

[13:44:00.0000] <webben>
GPHemsley: What would be the point of multiple IDs?

[13:48:00.0000] <GPHemsley>
webben: URL backwards compatability

[13:48:01.0000] <GPHemsley>
e.g. if you change the ID of an element but don't want to break URLs that used to link there

[13:49:00.0000] <GPHemsley>
(particularly relevant if the IDs are somehow auto-generated)

[13:59:00.0000] <Hixie>
GPHemsley: just put another elementthere with the other ID

[13:59:01.0000] <Hixie>
GPHemsley: (i do this often in the spec)

[14:00:00.0000] <GPHemsley>
Hixie: Doesn't seem a little hackish to you?

[14:00:01.0000] <GPHemsley>
+that

[14:00:02.0000] <Hixie>
*shrug*


2012-01-29
[19:12:00.0000] <crankharder>
it seems that if I create an indexedDB on a page that is https

[19:12:01.0000] <crankharder>
i cannot access it from a page that is http

[19:12:02.0000] <crankharder>
is that expected, and if so - is there a workaround?

[19:13:00.0000] <crankharder>
https://developer.mozilla.org/en/IndexedDB/Basic_Concepts_Behind_IndexedDB "IndexedDB adheres to a same-origin policy"

[19:13:01.0000] <crankharder>
bah

[19:15:00.0000] <crankharder>
so i'm trying to download data (json) over SSL since it's somewhat sensitive, and store it in idexedDB to be used by the application cache

[19:15:01.0000] <Hixie>
so... is there a spec anywhere that actually describes the precise steps for parsing http or websocket requests? or am i supposed to guess at things like error handling

[19:15:02.0000] <crankharder>
my application cache needs to be HTTP since the homepage is HTTP.  nobody will visit https to reach my homepage

[19:15:03.0000] <zewt>
so redirect to https and stop using http

[19:16:00.0000] <Hixie>
crankharder: if your app is server over http, then it doesn't matter what you encrypt, since someone can just inject some arbitrary JS and take over your site.

[19:16:01.0000] <Hixie>
served, rather

[19:16:02.0000] <crankharder>
zewt: that redirect won't happen when offline

[19:16:03.0000] <zewt>
sure it will, if it always happens first thing so the url they bookmark is https

[19:17:00.0000] <crankharder>
if they bookmark it

[19:17:01.0000] <crankharder>
what if they just type in "domain.com"

[19:17:02.0000] <crankharder>
the app cache needs to be nonsecure

[19:17:03.0000] <Hixie>
their browser will autocomplete to wherever they had gone

[19:17:04.0000] <zewt>
then their browser should autocomplete the url

[19:18:00.0000] <crankharder>
nah, too error prone for dumb users

[19:19:00.0000] <zewt>
shrug, you'll have the same problem with people typing url.com vs www.url.com

[19:22:00.0000] <crankharder>
hrm, maybe i can subdomain this whole feature at offline.domain.com or some such, then all of that can be https, instead of the entire website

[19:22:01.0000] <zewt>
sounds like it's bypassing the whole design of appcache (use the same url)

[19:23:00.0000] <crankharder>
bah, yea :/

[19:23:01.0000] <zewt>
and if people are inconsistently entering urls by hand, that's hardly going to decrease the error rate

[19:26:00.0000] <zewt>
note that browsers *may* cache permanent redirects, so loading foo.com with a cached redirect to https://www.foo.com may still work even offline (don't know how consistent that is and you need to get the cache headers right)

[19:26:01.0000] <crankharder>
maybe i could make a second http app cache that simply javascript redirects to https

[19:27:00.0000] <crankharder>
that creates all kinds of problems though... can't cache the homepage since it's dynamic

[21:09:00.0000] <crankharder>
my /offline has <html manifest='/cache.manifest'>.  my / does not.  How is it that when I visit / while offline my fallback clause still invoked?

[21:09:01.0000] <crankharder>
manifest file: http://pastie.org/3273979

[21:09:02.0000] <crankharder>
is it because the same original has a saved cached?

[21:09:03.0000] <crankharder>
*origin

[00:15:00.0000] <Hixie>
crankharder: if you're offline, then it'll fail to get /, and will then look in all its caches, and will find the fallback.

[03:01:00.0000] <Ms2ger>
The spec isn't being updated?

[06:06:00.0000] <Ms2ger>
Philip`, thanks for your tests :)

[06:16:00.0000] <Philip`>
Ms2ger: Is that a precursor to asking "but when you are going to stop being so lazy and get around to responding to all the bugs?" :-)

[06:16:01.0000] <Philip`>
/me needs to stop putting that off...

[06:16:02.0000] <Ms2ger>
You do

[06:17:00.0000] <Ms2ger>
But it was just because I found a bug in my code with them :)

[11:58:00.0000] <Hixie>
Ms2ger: which spec?

[12:00:00.0000] <Ms2ger>
HTML

[12:01:00.0000] <Hixie>
modulo a problem at dreamhost as we speak, i'm not aware of any non-updating going on (or rather, not going on)

[12:01:01.0000] <Hixie>
so if something isn't updating, it's a bug somewhere

[12:03:00.0000] <Ms2ger>
It claimed to be last updated on the 24th earlier

[12:03:01.0000] <Hixie>
"it" being which copy, exactly?

[12:03:02.0000] <Ms2ger>
http://www.whatwg.org/specs/web-apps/current-work/multipage/

[12:03:03.0000] <Hixie>
ah, multipage

[12:03:04.0000] <Hixie>
yeah that might be broken

[12:03:05.0000] <Ms2ger>
Hmm, didn't check singlepage

[12:04:00.0000] <Hixie>
i'll investigate when i get access to the server again

[12:42:00.0000] <crankharder>
I've got a page w/ this:  <html manifest='/offline_app.manifest'> --- when I visit it I'm getting a cache error event: "resource fetch failed"

[12:42:01.0000] <crankharder>
I can access the file directly just fine though.  thoughts?

[12:44:00.0000] <crankharder>
just curled it, Content-Type: text/cache-manifest

[13:00:00.0000] <AryehGregor>
It's always nice to be reminded how many Gmail accounts I have when Google sends an e-mail to each and every one without noticing that they're set up to forward everything.

[13:00:01.0000] <AryehGregor>
Apparently: nine.

[13:00:02.0000] <AryehGregor>
At least.


2012-01-30
[18:11:00.0000] <benjoffe>
I noticed a broken link in this spec: http://www.w3.org/TR/css3-3d-transforms/#animation

[18:11:01.0000] <benjoffe>
"the values are first converted to a 4x4 matrix, then decomposed using the method described by unmatrix"

[18:12:00.0000] <benjoffe>
links to a 404: http://tog.acm.org/GraphicsGems/gemsii/unmatrix.c

[18:23:00.0000] <bencc>
if a websocket fails due to a proxy problem, will it fail immediately or will the browser wait for a timeout?

[21:42:00.0000] <Hixie>
anyone know if the websocket spec is written assuming high-bit first or low-bit first?

[21:42:01.0000] <Hixie>
i can't find anything in the spec that defines it

[21:49:00.0000] <Hixie>
oh nm, it does say "the most significant bit is the leftmost in the ABNF"

[23:11:00.0000] <boblet>
re: the i element’s definition, why does “an idiomatic phrase from another language” contain “idiomatic”? shouldn’t that be “transliterated” instead? cc: Hixie

[00:06:00.0000] <Hixie>
boblet: it means things like "de facto" as used by english speakers

[00:11:00.0000] <boblet>
Hixie: while the current defn is nicely language-agnostic, it seems to rule out non-idiomatic foreign language transliteration in English, which I suspect is the major “traditional” use of italics

[00:11:01.0000] <boblet>
woah, let me rephrase that :)

[00:11:02.0000] <boblet>
… use of italics for foreign language words in English

[00:13:00.0000] <boblet>
Hixie: I’m also assuming that non-transliterated words (eg Chinese, Hebrew etc in native script) should use <span lang=""> over <i lang="">

[00:17:00.0000] <Hixie>
yes for the second

[00:17:01.0000] <Hixie>
not sure about the first, but if you have examples of it, file a bug, it's worth looking at for sure

[00:17:02.0000] <Hixie>
afk for a bit now

[01:52:00.0000] <zcorpan>
Ms2ger: isn't "URL" in implementations prefixed?

[01:52:01.0000] <Ms2ger>
Not for create* in Gecko

[01:54:00.0000] <zcorpan>
i thought create* were methods on URL

[01:54:01.0000] <zcorpan>
and URL was mozURL in gecko

[01:55:00.0000] <bencc>
when a websocket fails due to a bad proxy server, will it fail immediately or will it timeout?

[01:55:01.0000] <zcorpan>
note i didn't suggest to rename createObjectURL

[01:56:00.0000] <zcorpan>
bencc: i guess it depends on how the proxy is being bad

[01:56:01.0000] <zcorpan>
bencc: e.g. if the client can't establish a connection to the proxy, it should fail immediately

[01:57:00.0000] <Ms2ger>
Eh?

[01:58:00.0000] <zcorpan>
bencc: but if the client can connect to the proxy and send the request, but then the proxy doesn't send a response back to the client for some reason, then the client can't know that it failed so will timeout

[01:58:01.0000] <zcorpan>
Ms2ger: maybe i'm missing something

[01:58:02.0000] <Ms2ger>
So in Gecko we've basically got partial interface Window { [replaceable] readonly attribute URLProp URL; }; interface URLProp { createObjectURL(); };

[01:59:00.0000] <Ms2ger>
I think the actual URL API hasn't landed yet

[01:59:01.0000] <bencc>
zcorpan: is it possible that the proxy will not respond?

[01:59:02.0000] <bencc>
zcorpan: I'm referring to the proxy issues with non ssl websockets

[01:59:03.0000] <bencc>
zcorpan: if the proxy has a normal failure, long-polling will suffer from it as well so I'm not worry about it

[01:59:04.0000] <Ms2ger>
Or are you suggesting to spec it like that instead of the silly static methods we've got now?

[02:00:00.0000] <bencc>
zcorpan: I'm trying to understand how to implement the fallback to long-polling

[02:00:01.0000] <bencc>
zcorpan: socket.io saves the fact that ws failed in a cookie so they won't try it again

[02:00:02.0000] <bencc>
zcorpan: but if it fails immediately I'm not going to worry about it at all

[02:01:00.0000] <zcorpan>
Ms2ger: so gecko shipped window.URL but made it replaceable. i see. i thought it was called mozURL

[02:01:01.0000] <bencc>
zcorpan: I've tried with nginx which doesn't support ws and it fails immediately but I'm not sure if that's how all proxies will behave

[02:02:00.0000] <Ms2ger>
No, the parts that are in the URL spec are prefixed, but I don't think it landed yet

[02:07:00.0000] <zcorpan>
Ms2ger: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1311 - window.URL is defined in my gecko nightly

[02:08:00.0000] <Ms2ger>
Yes

[02:08:01.0000] <Ms2ger>
And it's an instance of MozURLProperty or whatever we called it

[02:08:02.0000] <zcorpan>
sure

[02:09:00.0000] <zcorpan>
what i was trying to say was that i thought it was prefixed

[02:09:01.0000] <zcorpan>
and it wasn't

[02:09:02.0000] <Ms2ger>
Indeed it isn't

[02:11:00.0000] <zcorpan>
although webkit doesn't have URL but has webkitURL

[02:12:00.0000] <zcorpan>
and opera/ie don't have either, right?

[02:12:01.0000] <zcorpan>
i dunno, but my gut suggests that it's still possible to change the name

[02:14:00.0000] <Ms2ger>
Maybe... We shipped it like 8 version ago, though ;)

[02:14:01.0000] <zcorpan>
bencc: i remember a case being reported with proxies not responding with an earlier version of the handshake

[02:15:00.0000] <zcorpan>
bencc: i think -00

[02:15:01.0000] <zcorpan>
bencc: because they wanted complete http requests, and the random bytes wasn't a complete http request, so it wasn't forwarded

[02:16:00.0000] <zcorpan>
bencc: so the server couldn't send a response back

[02:16:01.0000] <bencc>
zcorpan: now that I think about it, you can also have a problem with enterprise firewall which might just drop the packate

[02:16:02.0000] <bencc>
zcorpan: am I right?

[02:17:00.0000] <zcorpan>
bencc: dunno

[02:17:01.0000] <zcorpan>
but it seems reasonable to assume that a proxy might not respond for some reason

[06:34:00.0000] <boblet>
Hixie: here’s the overly detailed bug report re: italics and transliterated foreign words https://www.w3.org/Bugs/Public/show_bug.cgi?id=15786

[06:56:00.0000] <crankharder>
why is this manifest file redirecing my 404/500 redirects to the fallback route?

[09:07:00.0000] <dglazkov>
good morning, Whatwg!

[09:29:00.0000] <AryehGregor>
In WebKit, adding an iframe to the document onload of some other iframe doesn't seem to further delay the load event.  :(

[10:25:00.0000] <crankharder>
why is this manifest file redirecing my 404/500 redirects to the fallback route?

[10:26:00.0000] <crankharder>
http://pastie.org/3283796

[10:38:00.0000] <Velmont>
So. Looking at IndexedDB. Firefox accepts arrays as keyPaths. Like:  keyPath: ['key', 'a'].

[10:38:01.0000] <Velmont>
I can't really see that in the spec, I've been looking for days.

[10:38:02.0000] <Velmont>
Is it a bug in Gecko, or am I overlooking something?

[10:45:00.0000] <Ms2ger>
"If the optionalParameters argument is specified and has a keyPath property which is not undefined or null, then set keyPath to the value of this property. If keyPath is an Array, then each item in the array is converted to a string. If keyPath is not an Array, it is converted to a string. "

[10:47:00.0000] <Velmont>
Ms2ger: Ah, yes, that's why I started the look in the first place. I was starting to wonder why I was looking for arrays as key paths at all.

[10:54:00.0000] <Velmont>
So then I remember my original question, -- it's not really clear how the keypath as array is used later in the operations. http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#dfn-steps-for-storing-a-record-into-an-object-store says   If store does use in-line keys and evaluting store's key path on value does yield a value, then set key to that result.   ---  which is okay, the key returned might be an array.

[11:01:00.0000] <Velmont>
But following the links to the evaluating steps it's not clear to me that it handles an array.

[11:01:01.0000] <Velmont>
for indexes there is an explicit mention:   If index's key path is an Array, then set index key to a newly created empty Array. For each item in index's key path evaluate the item on value. If this does not yield a value don't take any further actions for this index. Otherwise add the value to the end of the index key Array.

[11:48:00.0000] <crankharder>
how long does local storage persist as long as the user doesn't remove it?

[11:59:00.0000] <TabAtkins>
crankharder: As long as cookies do - until the browser decides to evict it.

[12:27:00.0000] <AryehGregor>
Ugh, IE9 doesn't support <img src='data:image/svg+xml,...'>?

[12:27:01.0000] <Ms2ger>
Hah

[12:28:00.0000] <Ms2ger>
IE9 supports what's required in acid2, from what I recall

[12:28:01.0000] <AryehGregor>
Or maybe it just refuses to accept it if it's not base64-encoded or something?

[12:29:00.0000] <AryehGregor>
"A text-representation of the data of the resource, where content is represented as URL-allowed characters. Unsafe characters must be percent-encoded. If sBase64Encoding is set, the data must be Base64 encoded; otherwise, the data is assumed to be represented in ASCII encoding." http://msdn.microsoft.com/en-us/library/ie/cc848897(v=vs.85).aspx

[12:48:00.0000] <AryehGregor>
Okay, why does the blue box not paint on top of the orange one here?  <!doctype html><div style="height:100px;width:100px;background:blue;z-index:1"></div><div style="height:100px;width:100px;background:orange;position:relative;bottom:50px"></div>

[12:49:00.0000] <AryehGregor>
Shouldn't z-index: 1 put it on top?

[12:49:01.0000] <AryehGregor>
Putting z-index:-1 on the second div seems to do what I want . . .

[12:49:02.0000] <AryehGregor>
Oh, stacking only applies to positioned boxes.

[12:49:03.0000] <AryehGregor>
Got it.

[14:22:00.0000] <Hixie>
TabAtkins: what's the status on @global?

[14:23:00.0000] <Hixie>
TabAtkins: (the <style scoped> @-rule for making selectors also be allowed to consider elements outside the scope)

[14:28:00.0000] <TabAtkins>
Hixie: Nobody's worked on it, or on addressing scoped styles within CSS at all.

[14:28:01.0000] <Hixie>
k

[14:28:02.0000] <Hixie>
guess i'll just stick a temporary spec in html then

[14:29:00.0000] <TabAtkins>
Ping www-style with it.

[14:29:01.0000] <Hixie>
k

[15:13:00.0000] <Hixie>
looks like the multipage copy not updating is a bug on anne's side, fwiw

[15:13:01.0000] <Hixie>
he'll be back soon so i'm gonna not worry about it

[15:41:00.0000] <Hixie>
TabAtkins: done

[15:43:00.0000] <TabAtkins>
Yup, saw it.

[15:46:00.0000] <dglazkov>
is annevk around?


2012-01-31
[16:02:00.0000] <Hixie>
dglazkov: vacation, back early feb

[16:08:00.0000] <tomz>
Hixie: any idea who to contact at W3C to notify them that http://samples.msdn.microsoft.com/ietestcenter/css3/selectors/fieldset.htm is out-of-date?

[16:09:00.0000] <Hixie>
nobody at w3c, i would hope

[16:09:01.0000] <Hixie>
who at microsoft, no idea

[16:09:02.0000] <Hixie>
http://samples.msdn.microsoft.com/ietestcenter/ has a message from Jason Upton, so I'd start with him

[16:10:00.0000] <tomz>
Hixie:  ms posted that for errors in these tests to contact the appropriate wc3 group, i assume because they submitted these as standards tests.  I'll track down Jason and ask for more details.

[16:11:00.0000] <Hixie>
oh if the tests are html wg tests then i guess you'd contact the html wg test group

[16:12:00.0000] <Hixie>
http://www.w3.org/html/wg/wiki/Testing

[16:12:01.0000] <Hixie>
http://www.w3.org/html/wg/wiki/Testing/Feedback/

[16:12:02.0000] <tomz>
Hixie: thanks.

[16:12:03.0000] <Hixie>
you can probably just upload a fix if you're part of that group

[16:12:04.0000] <Hixie>
it's a public repoi

[16:12:05.0000] <Hixie>
repo

[16:15:00.0000] <Hixie>
hober: yt?

[16:18:00.0000] <Hixie>
TabAtkins: do you know if the csswg has done anything with ::cover/::backdrop-of(), 'anchor', or any of the other things needed by fullscreen and <dialog>?

[16:23:00.0000] <TabAtkins>
hober and anne were the people owning that, but anne's gone and hober hasn't done anything.

[16:24:00.0000] <Hixie>
k

[16:25:00.0000] <Hixie>
is anne still doing css stuff?

[16:25:01.0000] <Hixie>
i thought he'd dropped all his css and cssom specs

[16:40:00.0000] <TabAtkins>
He did, yes.

[16:40:01.0000] <TabAtkins>
That's what I meant by "gone".

[16:40:02.0000] <Hixie>
oh i thought oyu meant he was on vacation :-)

[16:41:00.0000] <Hixie>
hopefully i can catch hober at some point and see what's up

[16:41:01.0000] <Hixie>
failing that i'll just spec the stuff in html the same way as for @global

[16:42:00.0000] <Hixie>
i need to understand fullscreen better though before i can do that

[16:42:01.0000] <Hixie>
also need to figure out what we want to have happen if you fullscreen a sibling of a modal active <dialog>

[16:43:00.0000] <Hixie>
and what we want to have happen if you show() a <dialog> in an iframe... does it break the frame? i'm guessing no, security-wise, but roc suggested the answer might be yes in one of the threads.

[16:44:00.0000] <TabAtkins>
Yes, it's something that needs some thought.

[16:45:00.0000] <Hixie>
oh fullscreen is probably still on anne's plate actually

[16:45:01.0000] <Hixie>
since iirc that was one of the specs he was doign outside the csswg

[16:45:02.0000] <Hixie>
caused a kerfuffle iirc

[16:46:00.0000] <Hixie>
i guess i'll just wait for him to get back and speak to him about it

[16:47:00.0000] <TabAtkins>
Yeah.

[16:51:00.0000] <roc>
Hixie: fullscreen is restricted so that you can only fullscreen a descendant of the current fullscreen element

[16:51:01.0000] <roc>
avoids the sibling problem

[16:51:02.0000] <Hixie>
k

[16:51:03.0000] <Hixie>
not sure what that means for <dialog> exactly

[16:52:00.0000] <TabAtkins>
I guess modal dialogs should be treated as full-screen?

[16:52:01.0000] <Hixie>
you can have multiple <dialog> elements at once, when they're not modal

[16:52:02.0000] <Hixie>
coming from entirely different parts of the DOM

[16:52:03.0000] <roc>
my gut feeling is that <dialog> should be treated like fullscreen except without making the browser window fullscreen

[16:52:04.0000] <roc>
dunno about non-modal dialogs ... bleh

[16:53:00.0000] <Hixie>
well i'll study the fullscreen spec in more detail later

[17:00:00.0000] <Hixie>
ok i'm about to add a rule to HTML's ua.css sheet that has a selector that is eight lines long and has neither combinator nor comma.

[17:02:00.0000] <jamesr_>
how does that work? are you not considering space a combinator?

[17:02:01.0000] <Hixie>
space is a combinator

[17:02:02.0000] <jamesr_>
hm, lots o' pseudo?

[17:02:03.0000] <Hixie>
looooooots of pseudos

[17:03:00.0000] <TabAtkins>
I'm curious!

[17:03:01.0000] <Hixie>
though oddly enough, it's specificity is only 1 for the class level!

[17:05:00.0000] <Hixie>
ah, crap

[17:05:01.0000] <Hixie>
actually

[17:05:02.0000] <Hixie>
I can't make it 8 lines long

[17:06:00.0000] <Hixie>
since there's no way to split a selector that contains no spaces

[17:06:01.0000] <Hixie>
hmm...

[17:06:02.0000] <Hixie>
unless...

[17:07:00.0000] <Hixie>
aha!

[17:07:01.0000] <Hixie>
eeeexcellent

[17:08:00.0000] <roc>
this being Chrome-only sucks: http://getcrackin.angrybirds.com/ :-(

[17:08:01.0000] <TabAtkins>
Using newline escapes?

[17:09:00.0000] <Hixie>
newline escapes don't work in selectors

[17:11:00.0000] <Hixie>
tis checked in if you want to poke fun at me

[17:11:01.0000] <Hixie>
btw if you want to see other gnarly selectors in the HTML spec, check out the auto-generated 'quotes' rules now

[17:13:00.0000] <TabAtkins>
what section of Rendering is it in?

[17:14:00.0000] <Hixie>
the thing i just added is in Bidirectional text

[17:14:01.0000] <TabAtkins>
Woah, found it.

[17:14:02.0000] <Hixie>
and quotes is the next section

[17:15:00.0000] <TabAtkins>
:not() should accept a compound selector list, at least.

[17:19:00.0000] <jamesr_>
roc, tell rovio?

[17:20:00.0000] <roc>
why don't you tell them? They're your partners

[17:22:00.0000] <divya>
roc best part is the lol-worthy sniffing

[17:22:01.0000] <roc>
I actually contacted the contact email, who said "The web browser version of Angry Birds is only supported by Google Chrome.  That’s how the original was built as well so we were locked into building on top of their existing platform."

[17:22:02.0000] <roc>
of course, chrome.angrybirds.com works fine in Firefox, and I pointed this out...

[17:22:03.0000] <divya>
https://github.com/miketaylr/Snort/blob/master/snort.yml#L1263

[17:27:00.0000] <Hixie>
i don't understand why people who want to target a particular browser feel the need to roadblock other browsers

[17:27:01.0000] <Hixie>
maybe display a disclaimer about it not having been tested or something, but come on

[17:27:02.0000] <Hixie>
just write to the damn specs and let the browsers figure it out

[17:27:03.0000] <roc>
indeed

[17:28:00.0000] <roc>
in this case, if you hack past that roadblock, you get a page that mostly works but can't play due to some webkit-prefixed stuff (IIRC)

[17:29:00.0000] <Hixie>
TabAtkins: i don't understand your most recent e-mail

[17:29:01.0000] <Hixie>
TabAtkins: surely if the browser determins the tab order dynamically from the presentation, the whole point is moot

[17:30:00.0000] <TabAtkins>
I'd probably have to give some examples.  Busy right now.

[17:30:01.0000] <Hixie>
k

[17:31:00.0000] <TabAtkins>
But the issue is definitely independent of presentation.

[17:33:00.0000] <Hixie>
i don't see how, but ok. i gotta go now. if you could add more to the thread when you get a chance that would be fantastic

[17:33:01.0000] <Hixie>
don't worry about it otherwise

[17:33:02.0000] <Hixie>
right, bbl

[22:02:00.0000] <Hixie>
wtf

[22:03:00.0000] <Hixie>
why is chrome claiming my websocket server sends back non-utf-8 data

[22:03:01.0000] <Hixie>
are there any tools out there for debugging websocket servers?

[22:11:00.0000] <Hixie>
ohhhhh

[22:11:01.0000] <Hixie>
i am dumb

[02:42:00.0000] <asmodai>
So, what's the aim for Opera's MathML support? Full support or only the CSS profile?

[08:27:00.0000] <kjetilkWork>
/me is looking for annevk, is he hanging out on IRC much these days?

[08:30:00.0000] <Velmont>
kjetilkWork: Nope, he's vacationing :P

[08:31:00.0000] <kjetilkWork>
Velmont, OK, any idea when he's back?

[08:31:01.0000] <Ms2ger`>
Back next week-ish, I think

[08:31:02.0000] <kjetilkWork>
OK, thanks!

[08:32:00.0000] <Velmont>
Ms2ger`, or someone else: IndexedDB spec is referencing a DOMException that is TypeError, -- however, in the referenced DOM3, I can't really find that. TypeMismatchError, I can find, but not TypeError. Is it a) a bug in IndexedDB spec, or b) something else? -- http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#widl-IDBDatabase-transaction-IDBTransaction-any-storeNames-unsigned-short-mode

[08:33:00.0000] <Ms2ger`>
Velmont, there isn't one

[08:33:01.0000] <Ms2ger`>
But it may not be a bug

[08:34:00.0000] <Velmont>
Ms2ger`: They don't make a new DOMException TypeError themselves either, like they do for NotFoundError and other new types.

[08:35:00.0000] <Ms2ger`>
Hm

[08:35:01.0000] <Ms2ger`>
It's probably meant to be a JS-TypeError

[08:35:02.0000] <Velmont>
Ah, yes.

[08:50:00.0000] <mhausenblas>
any opinions on ReSpec v2?

[08:50:01.0000] <Ms2ger`>
Use Anolis instead

[08:50:02.0000] <mhausenblas>
hu?

[08:51:00.0000] <mhausenblas>
/me currently using http://dev.w3.org/2009/dap/ReSpec.js/documentation.html

[08:51:01.0000] <mhausenblas>
not clear what the diff is and how 'stable' v2 is

[08:51:02.0000] <Ms2ger`>
Writing a document that's unusable without JS is an antipattern

[08:51:03.0000] <mhausenblas>
ah! gsnedders's work, right

[08:52:00.0000] <mhausenblas>
Ms2ger`, only during spec writing, then it's saved to pure HTML

[08:52:01.0000] <jgraham>
Ms2ger`: Or, as we say on the web "pattern"

[08:52:02.0000] <Ms2ger`>
jgraham--

[08:52:03.0000] <jgraham>
Add a comma as needed

[08:52:04.0000] <jgraham>
Or a (semi)colon, I suppose

[08:52:05.0000] <jgraham>
If that's your thing

[08:55:00.0000] <mhausenblas>
tx guys. seems ReSpec doesn't resonate with ye ;)

[08:55:01.0000] <jgraham>
/me understands that some people really like ReSpec

[08:55:02.0000] <Ms2ger`>
Well, some people like git

[08:55:03.0000] <mhausenblas>
it's handy

[08:55:04.0000] <mhausenblas>
I do!

[08:56:00.0000] <mhausenblas>
git > hg > svn > CVS

[08:56:01.0000] <jgraham>
Ms2ger`: Those people are "people who got over the learning curve" I think

[08:56:02.0000] <jgraham>
s/curve/cliff/ if you like

[08:56:03.0000] <mhausenblas>
/me bets Ms2ger` prefers CVS, right? :P

[08:57:00.0000] <Ms2ger`>
HG, actually

[08:57:01.0000] <mhausenblas>
no, really?

[08:57:02.0000] <Ms2ger`>
CVS is an abomination in the eyes of the lord

[08:57:03.0000] <Ms2ger`>
And I don't like it much either

[08:57:04.0000] <jgraham>
Ms2ger`: oh you are just ashamed to admit your VSS fetish

[08:57:05.0000] <mhausenblas>
/me used to be a bitucket fanboy but TBH github seems more productive to me

[08:57:06.0000] <mhausenblas>
he he

[08:57:07.0000] <mhausenblas>
VSS rules!

[08:57:08.0000] <Ms2ger`>
VSS?

[08:58:00.0000] <mhausenblas>
Visual Source Safe?

[08:58:01.0000] <mhausenblas>
or so

[08:58:02.0000] <mhausenblas>
/me admits that he's been using this piece of $hit some 10y ago

[08:59:00.0000] <jgraham>
First palce I ever worked was a game company that used VSS. Their method of version control seemed to involve lots of shouting at each other to release the locks

[08:59:01.0000] <jgraham>
/me didn't really understand version control or software development at the time

[09:00:00.0000] <jgraham>
But I understood that VSS sucked!

[10:00:00.0000] <dglazkov>
good morning, Whatwg!

[10:00:01.0000] <Ms2ger`>
Good night

[10:59:00.0000] <TabAtkins>
Um.  Can someone who speaks Japanese tell me what the hell this is? https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-snc7/431090_361580643870743_164814896880653_1241513_2073993201_n.jpg

[11:03:00.0000] <AryehGregor>
Surprise: table rendering is not interoperable!

[11:03:01.0000] <divya>
:))

[11:04:00.0000] <AryehGregor>
Who'd've thunk it?

[11:05:00.0000] <AryehGregor>
. . . Does Gecko display only one caption per table?

[11:07:00.0000] <AryehGregor>
Well, it seems that's invalid, but the extra ones should still render.

[11:08:00.0000] <TabAtkins>
What's the behavior with multiple display:table-caption elements?

[11:08:01.0000] <AryehGregor>
CSS2.1 says they should all be rendered.

[11:08:02.0000] <AryehGregor>
Gecko seems to not render any past the first.

[11:09:00.0000] <TabAtkins>
Yeah, I just wondered if Gecko had a difference between HTML and CSS captions.

[11:09:01.0000] <AryehGregor>
https://bugzilla.mozilla.org/show_bug.cgi?id=144517

[11:09:02.0000] <AryehGregor>
Dunno.

[11:10:00.0000] <AryehGregor>
Ah, looks like there are reftests in the CSS2.1 suite that Gecko fails because of this.

[11:10:01.0000] <AryehGregor>
Okay, so it's a known issue on all counts.

[11:21:00.0000] <Ms2ger`>
AryehGregor, https://bugzilla.mozilla.org/show_bug.cgi?id=144517

[11:21:01.0000] <AryehGregor>
Ms2ger`, I already found it.

[11:22:00.0000] <AryehGregor>
Thanks, though.

[11:25:00.0000] <Ms2ger`>
Np

[12:26:00.0000] <roc>
TabAtkins: is Chrome going to add a same-origin restriction for fonts?

[12:27:00.0000] <Ms2ger`>
"Well that's just silly."

[12:27:01.0000] <Ms2ger`>
Oh, isn't it

[12:29:00.0000] <Hixie>
that particular bug is ridiculous

[12:29:01.0000] <Hixie>
i don't even understand how we got there

[12:29:02.0000] <Hixie>
who implements those two functions as synonyms?!

[12:31:00.0000] <Ms2ger`>
/me has a look at bonsai

[12:31:01.0000] <TabAtkins>
roc: I hope so?

[12:32:00.0000] <roc>
the longer you wait, the more pressure builds on us to drop ours

[12:32:01.0000] <roc>
sorta like our stance on WebM

[12:32:02.0000] <TabAtkins>
I'll bring it up at the f2f.  It's Apple people who were fighting it.

[12:33:00.0000] <roc>
does it need to be Webkit-wide?

[12:33:01.0000] <TabAtkins>
It's best for it to be so, yes.

[12:33:02.0000] <TabAtkins>
We try and minimize platform differences.

[12:33:03.0000] <Ms2ger`>
Hixie, kipp⊙nc ;)

[12:33:04.0000] <TabAtkins>
(Despite the fact that Apple's already forked WebKit...)

[12:33:05.0000] <roc>
huh?

[12:34:00.0000] <TabAtkins>
For all practical purposes, iOS uses a fork.

[12:34:01.0000] <Hixie>
Ms2ger`: kiiiippppp! figures.

[12:34:02.0000] <roc>
interesting

[12:34:03.0000] <Ms2ger`>
(Revision 1.1 of nsGlobalWindow.cpp has it)

[12:34:04.0000] <TabAtkins>
Not sure if iBooks uses the iOS fork or a new one, but it's in the same boat.

[12:35:00.0000] <Hixie>
Ms2ger`: probably brendan's fault in a netscape < 4

[12:35:01.0000] <Ms2ger`>
Might very well have been

[12:35:02.0000] <Ms2ger`>
But that isn't on MXR, afaik

[12:36:00.0000] <Hixie>
indeed

[12:36:01.0000] <Ms2ger`>
I'd look up what Opera does, but they don't let me :(

[12:51:00.0000] <astearns>
TabAtkins: I've been told that iBooks is using Pages, not Webkit

[12:54:00.0000] <TabAtkins>
astearns: That doesn't seem correct from what I've seen, but I'm not certain.

[12:57:00.0000] <roc>
hyatt did a lot of Webkit work for iBooks (possibly an older version though)

[12:58:00.0000] <gsnedders>
iBooks is certainly using WebKit, as can be seen if you open up the ZIP archive.

[12:59:00.0000] <astearns>
the markup is one thing, the engine displaying that markup might be something else. I don't know for sure, though.

[12:59:01.0000] <gsnedders>
I doubt it's anything but WebKit given the number of -webkit- prefixes in it.

[13:01:00.0000] <Hixie>
surely not even microsoft would use a word processor engine to render html content

[13:01:01.0000] <Hixie>
oh wait

[13:01:02.0000] <hober>
/me is staying out of this one

[13:02:00.0000] <TabAtkins>
Hey, hober, Hixie was looking for you.

[13:03:00.0000] <hober>
Hixie: yo

[13:03:01.0000] <Hixie>
true

[13:03:02.0000] <Hixie>
something about dialog and fullscreen

[13:03:03.0000] <Hixie>
i forget what now

[13:03:04.0000] <hober>
oh, fun

[13:03:05.0000] <TabAtkins>
It's just a little bit up the scrollback, dude.

[13:03:06.0000] <Hixie>
i think i ended up concluding that i was waiting for anne to get back

[13:03:07.0000] <Hixie>
since he's still working on fullscreen

[13:04:00.0000] <hober>
ahh, i see

[13:04:01.0000] <hober>
yeah, the www-style thread on that didn't go anywhere iirc

[13:04:02.0000] <Hixie>
we need to figure out how the css parts of dialog and fullscreen work before i spec <dialog>

[13:04:03.0000] <TabAtkins>
It was about ::cover, and how it interacted with multiple dialogs (modal and not) and fullscreen.

[13:04:04.0000] <hober>
yes

[13:04:05.0000] <Hixie>
yeah, that sounds right

[13:10:00.0000] <Hixie>
anyone know if the dom ui events spec is tracking http://www.w3.org/mid/op.v5t7fxvq2q99of@coruscant ?

[13:10:01.0000] <Hixie>
or did they decide to punt on key events

[13:12:00.0000] <Ms2ger`>
They haven't done much since the f2f

[15:15:00.0000] <thedjpetersen>
7/close

[15:20:00.0000] <Hixie>
heycam: should I liberally sprinkle [ArrayClass] everywhere?

[15:21:00.0000] <heycam>
Hixie, if you want your prototype objects to inherit from Array.prototype, sure

[15:24:00.0000] <Hixie>
k

[15:24:01.0000] <Hixie>
so how do i add it to something that inherits from EventTarget?

[15:27:00.0000] <Hixie>
ok looks like every single interface i have that i could apply [ArrayClass] to inherits from EventTarget

[15:28:00.0000] <Hixie>
d'oh

[15:37:00.0000] <Hixie>
sicking: see, i told you inheriting from EventTarget was a bad idea. :-P

[15:53:00.0000] <heycam>
Hixie, yeah it's not going to work in that case...

[15:55:00.0000] <Hixie>
blimey, selectors still doesn't define that :hover works up the ancestor chain

