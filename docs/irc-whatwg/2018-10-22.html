<!doctype html>
<head>
  <title>#whatwg on 2018-10-22</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2018-10-22<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2018-10-21" class="nav-link"><span>prev</span></a>
<a href="2018-10-23" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sun Oct 21 2018 20:12:13 GMT-0700 (Pacific Daylight Time)">03:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I could make that perhaps. I told jib various things too though, I think he’s preparing as well</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Oct 22 2018 03:30:35 GMT-0700 (Pacific Daylight Time)">10:30</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">MikeSmith: I&#039;m a little scared of merging two order-dependent PRs with GitHub in its current fragile state, and also how well any subsequent Travis runs and deploys will go. So if we could wait until <a href="https://status.github.com/">https://status.github.com/</a> calms down a bit that&#039;d be ideal. But yeah nothing blocking on the code front.</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Oct 22 2018 03:31:25 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">Domenic: ah yeah, good point</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Oct 22 2018 03:32:09 GMT-0700 (Pacific Daylight Time)">10:32</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">Domenic: I had to try multiple times before I could even successfully submit that issues comment :)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Oct 22 2018 03:32:22 GMT-0700 (Pacific Daylight Time)">10:32</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">GitHub kept saying, &quot;You can &#039;</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Oct 22 2018 03:32:38 GMT-0700 (Pacific Daylight Time)">10:32</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">&quot;You can&#039;t comment right now.&quot;</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Oct 22 2018 03:32:47 GMT-0700 (Pacific Daylight Time)">10:32</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah, I think sometimes it goes through though. Like I&#039;ve gotten 15 emails from Jake&#039;s comment on service worker F2F agenda.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Oct 22 2018 03:33:03 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">So I actually tried to reply on-thread and then saw it fail and decided to go here instead, to avoid potentially sending N emails of my own while retrying.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Oct 22 2018 06:29:31 GMT-0700 (Pacific Daylight Time)">13:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: any reason to wait on merging <a href="https://github.com/whatwg/html/pull/4099">https://github.com/whatwg/html/pull/4099</a> ?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Oct 22 2018 06:29:59 GMT-0700 (Pacific Daylight Time)">13:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I guess maybe because GitHub is shaky</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Mon Oct 22 2018 06:36:05 GMT-0700 (Pacific Daylight Time)">13:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I didn&#039;t do it because it wasn&#039;t sure about the commit message, feel free</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Mon Oct 22 2018 06:36:21 GMT-0700 (Pacific Daylight Time)">13:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And I guess I wanted to give dbaron some time to chime in, but it&#039;s probably okay</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Mon Oct 22 2018 06:37:52 GMT-0700 (Pacific Daylight Time)">13:37</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">lgtm</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Mon Oct 22 2018 06:39:30 GMT-0700 (Pacific Daylight Time)">13:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=dbaron@irc>dbaron</span>&gt;</td><td class="msg-cell">I was just forwarding an email to the right place...</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Mon Oct 22 2018 06:47:32 GMT-0700 (Pacific Daylight Time)">13:47</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Merged</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Mon Oct 22 2018 07:38:25 GMT-0700 (Pacific Daylight Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: working on <a href="https://github.com/whatwg/html/pull/4076/files">https://github.com/whatwg/html/pull/4076/files</a> but I am really confused because &quot;associated Document&quot; does not seem defined...</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Mon Oct 22 2018 07:41:58 GMT-0700 (Pacific Daylight Time)">14:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: hmm yeah, I guess that was never defined</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Mon Oct 22 2018 07:42:15 GMT-0700 (Pacific Daylight Time)">14:42</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Trying to formulate something alternate and maybe a bit simpler, but not sure if it&#039;s equivalent...</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Mon Oct 22 2018 07:43:22 GMT-0700 (Pacific Daylight Time)">14:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">relevant Document is probably Location object&#039;s relevant global object&#039;s browsing context&#039;s active document</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Mon Oct 22 2018 07:44:13 GMT-0700 (Pacific Daylight Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I think it&#039;s:</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Mon Oct 22 2018 07:44:14 GMT-0700 (Pacific Daylight Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">The relevant Document of a Location object loc is loc&#039;s relevant settings object&#039;s responsible document, if that Document is active, and null otherwise.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Mon Oct 22 2018 07:45:13 GMT-0700 (Pacific Daylight Time)">14:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yours maybe is better</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Mon Oct 22 2018 07:45:25 GMT-0700 (Pacific Daylight Time)">14:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Is &quot;active document&quot; null for detached iframes?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Mon Oct 22 2018 07:45:33 GMT-0700 (Pacific Daylight Time)">14:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(Sounds like a question we&#039;ve asked before...)</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Mon Oct 22 2018 07:46:08 GMT-0700 (Pacific Daylight Time)">14:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">That shouldn&#039;t be active, I think</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Mon Oct 22 2018 07:46:29 GMT-0700 (Pacific Daylight Time)">14:46</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell"><a href="https://github.com/whatwg/html/issues/1073">https://github.com/whatwg/html/issues/1073</a></td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Mon Oct 22 2018 07:47:31 GMT-0700 (Pacific Daylight Time)">14:47</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">good times</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Mon Oct 22 2018 07:48:11 GMT-0700 (Pacific Daylight Time)">14:48</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I think ours are equivalent</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Mon Oct 22 2018 07:48:27 GMT-0700 (Pacific Daylight Time)">14:48</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Happy with either, although with yours we should add a note pointing to 1073 and clarify the intent</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Mon Oct 22 2018 07:48:42 GMT-0700 (Pacific Daylight Time)">14:48</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm no we need the note with both</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Mon Oct 22 2018 07:49:11 GMT-0700 (Pacific Daylight Time)">14:49</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I&#039;ll capture on GitHub</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Mon Oct 22 2018 07:51:40 GMT-0700 (Pacific Daylight Time)">14:51</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I really wish documents were dumber/not tied to anything</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Mon Oct 22 2018 07:58:17 GMT-0700 (Pacific Daylight Time)">14:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">heh</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Mon Oct 22 2018 13:27:29 GMT-0700 (Pacific Daylight Time)">20:27</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">o/</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Mon Oct 22 2018 13:29:04 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Access to Raw Audio... is this something you would consider in scope for WHATWG streams? <a href="https://docs.google.com/presentation/d/1WOihY0SMJbWvfbc-41GA78F4yzPSwmyDOJ8GbRoU7dw/edit#slide=id.g445c72bf7e_1_0">https://docs.google.com/presentation/d/1WOihY0SMJbWvfbc-41GA78F4yzPSwmyDOJ8GbRoU7dw/edit#slide=id.g445c72bf7e_1_0</a> (slides 30 to 38)</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Mon Oct 22 2018 13:29:04 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I honestly don&#039;t know in this case.</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Mon Oct 22 2018 13:35:16 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">lgrahl: from what I can tell that is about real-time audio processing, which is not as good a fit (in part because real time audio is very specialized). But if you were talking just streaming access to the audio bytes of a RTC stream, that would make sense, and in fact there&#039;s a proto-spec for it</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Mon Oct 22 2018 13:36:22 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Domenic: Yeah, I think this is mainly about real-time transformation. I guess this is better suited for Worklets.</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Mon Oct 22 2018 13:37:27 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Domenic: I think we will see a couple of slides tomorrow that suggest using streams for RTP &#039;n stuff</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Mon Oct 22 2018 13:37:29 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell"><a href="https://discourse.wicg.io/t/rfc-proposal-for-integration-streams-mediastreamtrack-api/2256">https://discourse.wicg.io/t/rfc-proposal-for-integration-streams-mediastreamtrack-api/2256</a> for streaming access to raw bytes of a MediaStreamTrack</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Mon Oct 22 2018 13:37:41 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Exciting. I should be able to make it.</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Mon Oct 22 2018 13:37:58 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Great! :)</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Mon Oct 22 2018 13:52:09 GMT-0700 (Pacific Daylight Time)">20:52</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Jan-Ivar and I were thinking whether we should create an API that can handle both binary and string data (since that is what WebSocket and Data Channels currently allow to send)... or just binary and say that encode/decode should be a transformation.</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Mon Oct 22 2018 13:52:09 GMT-0700 (Pacific Daylight Time)">20:52</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I do kind of like the latter approach.</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Mon Oct 22 2018 13:52:43 GMT-0700 (Pacific Daylight Time)">20:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah the latter is what we&#039;re doing with modern APIs these days like fetch</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Mon Oct 22 2018 13:53:12 GMT-0700 (Pacific Daylight Time)">20:53</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">These days it&#039;s as easy (in spec land and in Chrome) as `const stringReadable = byteReadable.pipeThrough(new TextDecoderStream())`</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Mon Oct 22 2018 13:54:12 GMT-0700 (Pacific Daylight Time)">20:54</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Oh, that&#039;s good to know :)</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Mon Oct 22 2018 13:54:40 GMT-0700 (Pacific Daylight Time)">20:54</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">hi</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Mon Oct 22 2018 13:56:03 GMT-0700 (Pacific Daylight Time)">20:56</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">jib: You may want to take a look at the latest comment from Domenic (see the log). Might be a neat example.</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Mon Oct 22 2018 13:56:09 GMT-0700 (Pacific Daylight Time)">20:56</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">I saw</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Mon Oct 22 2018 13:57:16 GMT-0700 (Pacific Daylight Time)">20:57</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">but that requires cooperation to know what&#039;s text and what&#039;s not</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Mon Oct 22 2018 13:57:58 GMT-0700 (Pacific Daylight Time)">20:57</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Then again, the application will usually know. It could even use separate channels for that purpose.</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Mon Oct 22 2018 13:58:43 GMT-0700 (Pacific Daylight Time)">20:58</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">well sure, but it requires dedicating a single channel per type. that&#039;s easy</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Mon Oct 22 2018 13:59:10 GMT-0700 (Pacific Daylight Time)">20:59</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Today, we can do dc1.send(&quot;A&quot;); dc1.send(fileB); do2.send(&quot;C&quot;);  dc2.onmessage = ({data}) =&gt; (data instanceof Blob)? processFile(data) : log(data);</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Mon Oct 22 2018 13:59:39 GMT-0700 (Pacific Daylight Time)">20:59</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">which lets you mix heterogeneous messages by type at least</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Mon Oct 22 2018 14:00:30 GMT-0700 (Pacific Daylight Time)">21:00</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Yes and I wouldn&#039;t want to change that now. However, it does support the argument that we shouldn&#039;t bother about having a stream support strings, too.</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Mon Oct 22 2018 14:00:45 GMT-0700 (Pacific Daylight Time)">21:00</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">It does? how?</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Mon Oct 22 2018 14:01:50 GMT-0700 (Pacific Daylight Time)">21:01</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">If we go with .onmessage spitting out streams for binary data and DOMString for strings, then you still have both. If you want to send huge strings, just encode/decode them and send them as binary.</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Mon Oct 22 2018 14:02:04 GMT-0700 (Pacific Daylight Time)">21:02</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">We might be able to do the same with streams, with e.g. onreadable = ({readable}) =&gt; (readable.type == &quot;bytes&quot;)? readable.pipeTo(fileProcessor) : readable.pipeTo(logger);</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Mon Oct 22 2018 14:02:36 GMT-0700 (Pacific Daylight Time)">21:02</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">If I encode strings, how will receiver tell them apart from files?</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Mon Oct 22 2018 14:03:05 GMT-0700 (Pacific Daylight Time)">21:03</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">ss/onreadable/dc2.onreadable/</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Mon Oct 22 2018 14:03:16 GMT-0700 (Pacific Daylight Time)">21:03</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Why would the receiver not know what it is going to receive?</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Mon Oct 22 2018 14:03:33 GMT-0700 (Pacific Daylight Time)">21:03</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Which application does stuff like that? :)</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Mon Oct 22 2018 14:03:37 GMT-0700 (Pacific Daylight Time)">21:03</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">because we support it today? do dc1.send(&quot;A&quot;); dc1.send(fileB); do2.send(&quot;C&quot;);  dc2.onmessage = ({data}) =&gt; (data instanceof Blob)? processFile(data) : log(data);</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Mon Oct 22 2018 14:03:48 GMT-0700 (Pacific Daylight Time)">21:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It seems surprising to me that you&#039;ve so far privileged one type&#039;s byte-serialization (strings) over others, and made it auto-decode. Why not do the same for numbers, or JSON, or protobufs?</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Mon Oct 22 2018 14:04:24 GMT-0700 (Pacific Daylight Time)">21:04</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">isn&#039;t that what websocket does?</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Mon Oct 22 2018 14:05:00 GMT-0700 (Pacific Daylight Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Ah, so just following web sockets?</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Mon Oct 22 2018 14:05:13 GMT-0700 (Pacific Daylight Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">as opposed to?</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Mon Oct 22 2018 14:05:22 GMT-0700 (Pacific Daylight Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Following fetch or other modern APIs</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Mon Oct 22 2018 14:05:54 GMT-0700 (Pacific Daylight Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">RTCDataChannel is modeled after websocket. How would we follow fetch?</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Mon Oct 22 2018 14:06:39 GMT-0700 (Pacific Daylight Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Operate on bytes, and let applications choose their semantics by decoding those bytes appropriately. This allows a mucher richer set of types to all have equal support, instead of privileging strings.</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Mon Oct 22 2018 14:06:54 GMT-0700 (Pacific Daylight Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Also makes the transport less complicated</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Mon Oct 22 2018 14:07:57 GMT-0700 (Pacific Daylight Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">makes some sense. Specs are a bit confusing wrt ReadableStream, it seems type-agnostic at times, but other times seems to be bytes only, to me</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Mon Oct 22 2018 14:08:39 GMT-0700 (Pacific Daylight Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Let me say again: This is meant as an extension. You can still get strings out of .onmessage. I&#039;m just saying that we shouldn&#039;t care about handling backpressure for strings. It would make the stack unnecessarily complicated for a moot use case (IMO). If someone is sending gigantic strings, it could easily drop in TextDecoderStream.</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Mon Oct 22 2018 14:09:10 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah I can see that. The ones from the network are bytes, but the type itself supports everything, which lets you do things like write transforms that go from ReadableStream&lt;bytes&gt; -&gt; ReadableStream&lt;string&gt; or ReadableStream&lt;JS object&gt; or ReadableStream&lt;number&gt; or...</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Mon Oct 22 2018 14:09:46 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">lgrahl: ok I&#039;ll buy that</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Mon Oct 22 2018 14:10:59 GMT-0700 (Pacific Daylight Time)">21:10</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">I think you&#039;ve convinced me</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Mon Oct 22 2018 14:11:29 GMT-0700 (Pacific Daylight Time)">21:11</a></td><td class="nick-cell"><span class="nick nick-4" title=lgrahl@irc>lgrahl</span></td><td class="msg-cell">cheers</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Mon Oct 22 2018 14:11:47 GMT-0700 (Pacific Daylight Time)">21:11</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">fewer options simplify slides</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Mon Oct 22 2018 14:12:10 GMT-0700 (Pacific Daylight Time)">21:12</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Nice side effect :)</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Mon Oct 22 2018 14:12:17 GMT-0700 (Pacific Daylight Time)">21:12</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Btw on naming, How do we feel about dc.createWritable() ? The word &quot;stream&quot; is a bit overloaded in webrtc</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Mon Oct 22 2018 14:12:46 GMT-0700 (Pacific Daylight Time)">21:12</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">If it were TypeScript, I would like &quot;createMessage&quot; because the return type is clear</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Mon Oct 22 2018 14:12:59 GMT-0700 (Pacific Daylight Time)">21:12</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Mon Oct 22 2018 14:13:20 GMT-0700 (Pacific Daylight Time)">21:13</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">but it&#039;s not typescript ;)</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Mon Oct 22 2018 14:13:45 GMT-0700 (Pacific Daylight Time)">21:13</a></td><td class="nick-cell"><span class="nick nick-15" title=jib@irc>jib</span></td><td class="msg-cell">likes ducktyping</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Mon Oct 22 2018 14:13:51 GMT-0700 (Pacific Daylight Time)">21:13</a></td><td class="nick-cell"><span class="nick nick-1" title=Domenic@irc>Domenic</span></td><td class="msg-cell">too</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Mon Oct 22 2018 14:14:05 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">if it reads and writes like a duck...</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Mon Oct 22 2018 14:14:14 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Given the overloaded meaning of stream that seems pretty solid.</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Mon Oct 22 2018 14:14:42 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I assume it should be a function, not a property, because calling it causes some locking or change into &quot;write via a stream&quot; mode?</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Mon Oct 22 2018 14:14:43 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Mon Oct 22 2018 14:15:07 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Yeah, it would lock .send</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Mon Oct 22 2018 14:15:13 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Mon Oct 22 2018 14:15:14 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Or, actually... it might not even need to</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Mon Oct 22 2018 14:15:24 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Seems simpler</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Mon Oct 22 2018 14:15:43 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Agree. We should lock. Let&#039;s not make things more complicated.</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Mon Oct 22 2018 14:16:44 GMT-0700 (Pacific Daylight Time)">21:16</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">dc1.send(&quot;A&quot;); fileB.pipeTo(dc1.createWritable()); do2.send(&quot;C&quot;); // emits A, B0, B1, B2 ... Bend, C</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Mon Oct 22 2018 14:17:07 GMT-0700 (Pacific Daylight Time)">21:17</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">uh s/do2/dc2/</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Mon Oct 22 2018 14:17:43 GMT-0700 (Pacific Daylight Time)">21:17</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Is there some kind of indications on when the piping is complete?</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Mon Oct 22 2018 14:17:52 GMT-0700 (Pacific Daylight Time)">21:17</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">it&#039;s closed()</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Mon Oct 22 2018 14:17:54 GMT-0700 (Pacific Daylight Time)">21:17</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">pipeTo promise will settle</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Mon Oct 22 2018 14:18:01 GMT-0700 (Pacific Daylight Time)">21:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">ah</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Mon Oct 22 2018 14:18:04 GMT-0700 (Pacific Daylight Time)">21:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">thanks</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Mon Oct 22 2018 14:18:08 GMT-0700 (Pacific Daylight Time)">21:18</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Okay, good. Because otherwise the locking would be awkward</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Mon Oct 22 2018 14:18:17 GMT-0700 (Pacific Daylight Time)">21:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">dc1.send(&quot;A&quot;); await fileB.pipeTo(dc1.createWritable()); do2.send(&quot;C&quot;); // emits A, B0, B1, B2 ... Bend, C</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Mon Oct 22 2018 14:18:37 GMT-0700 (Pacific Daylight Time)">21:18</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Noob question, why is the last example do2/dc2, not dc1</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Mon Oct 22 2018 14:18:55 GMT-0700 (Pacific Daylight Time)">21:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">cause I cut&#039;n&#039;pasted my earlier typo ;/</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Mon Oct 22 2018 14:19:00 GMT-0700 (Pacific Daylight Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">dc1.send(&quot;A&quot;); await fileB.pipeTo(dc1.createWritable()); dc2.send(&quot;C&quot;); // emits A, B0, B1, B2 ... Bend, C</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Mon Oct 22 2018 14:19:09 GMT-0700 (Pacific Daylight Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">OK but why dc2 instead of dc1</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Mon Oct 22 2018 14:19:14 GMT-0700 (Pacific Daylight Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">dc1.send(&quot;A&quot;); await fileB.pipeTo(dc1.createWritable()); dc1.send(&quot;C&quot;); // emits A, B0, B1, B2 ... Bend, C</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Mon Oct 22 2018 14:19:17 GMT-0700 (Pacific Daylight Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">:*)</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Mon Oct 22 2018 14:19:20 GMT-0700 (Pacific Daylight Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">OK now it makes sense</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Mon Oct 22 2018 14:19:21 GMT-0700 (Pacific Daylight Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Heh</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Mon Oct 22 2018 14:19:48 GMT-0700 (Pacific Daylight Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm now I guess I see how no-locking might be fine if it&#039;s just a queue of stuff to do anyway</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Mon Oct 22 2018 14:19:56 GMT-0700 (Pacific Daylight Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">?</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Mon Oct 22 2018 14:20:05 GMT-0700 (Pacific Daylight Time)">21:20</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">oh with await</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Mon Oct 22 2018 14:20:07 GMT-0700 (Pacific Daylight Time)">21:20</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">well</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Mon Oct 22 2018 14:20:25 GMT-0700 (Pacific Daylight Time)">21:20</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">What happens if I do:</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Mon Oct 22 2018 14:20:36 GMT-0700 (Pacific Daylight Time)">21:20</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Yeah, it&#039;s a queue, but we shouldn&#039;t encourage people to fill it if we want to avoid backpressure</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Mon Oct 22 2018 14:20:47 GMT-0700 (Pacific Daylight Time)">21:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">No yeah I&#039;m starting to see the problems again</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Mon Oct 22 2018 14:20:58 GMT-0700 (Pacific Daylight Time)">21:20</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">dc1.send(&quot;A&quot;); const p = fileB.pipeTo(dc1.createWritable()); dc1.send(&quot;C&quot;); await p; // should probably also emit A, B0, B1, B2 ... Bend, C</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Mon Oct 22 2018 14:21:13 GMT-0700 (Pacific Daylight Time)">21:21</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">or gremlins</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Mon Oct 22 2018 14:21:36 GMT-0700 (Pacific Daylight Time)">21:21</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Exception in your face</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Mon Oct 22 2018 14:21:46 GMT-0700 (Pacific Daylight Time)">21:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah there&#039;s no way to make that give the order you want I now realize</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Mon Oct 22 2018 14:22:14 GMT-0700 (Pacific Daylight Time)">21:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">If you don&#039;t prevent dc1.send() while the piping is ongoing (i.e. while the writable stream is not-closed), then interleaving happens</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Mon Oct 22 2018 14:22:26 GMT-0700 (Pacific Daylight Time)">21:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">So yeah locking good</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Mon Oct 22 2018 14:22:31 GMT-0700 (Pacific Daylight Time)">21:22</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">I think so</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Mon Oct 22 2018 14:22:32 GMT-0700 (Pacific Daylight Time)">21:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Thanks for bearing with me :)</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Mon Oct 22 2018 14:22:38 GMT-0700 (Pacific Daylight Time)">21:22</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">sure np!</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Mon Oct 22 2018 14:23:07 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Btw, my slides are also going to claim that streams of streams make no sense</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Mon Oct 22 2018 14:23:27 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">just running this by here first, to check</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Mon Oct 22 2018 14:23:36 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Interleaving of messages on the same channel is actually being prevented by SCTP but... I still think locking makes more sense as users could get the wrong impression on order.</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Mon Oct 22 2018 14:23:37 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Also makes it either to port to WebSocket later.</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Mon Oct 22 2018 14:23:49 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">*easier</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Mon Oct 22 2018 14:24:19 GMT-0700 (Pacific Daylight Time)">21:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I&#039;m not sure they make _no_ sense, but I can see how they wouldn&#039;t but you much, and it seems like you&#039;ve found a nice cut point to introduce them that gets most (all?) of the benefits without disturbing everything</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Mon Oct 22 2018 14:24:57 GMT-0700 (Pacific Daylight Time)">21:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I think they would make sense if we would design a new API from scratch</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Mon Oct 22 2018 14:25:11 GMT-0700 (Pacific Daylight Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Unsure about that even</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Mon Oct 22 2018 14:25:15 GMT-0700 (Pacific Daylight Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">here&#039;s my thinking:</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Mon Oct 22 2018 14:25:21 GMT-0700 (Pacific Daylight Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Message semantics are appealing for multiple (heterogeneous) finite payloads.</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Mon Oct 22 2018 14:25:27 GMT-0700 (Pacific Daylight Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Stream semantics are appealing for single payload; outsourcing chunking &amp; pressure.</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Mon Oct 22 2018 14:25:35 GMT-0700 (Pacific Daylight Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">A queue of streams is appealing to manage multiple discrete payloads of large size.</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Mon Oct 22 2018 14:25:41 GMT-0700 (Pacific Daylight Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">A “stream of streams” doesn’t add much over queue of streams; hurts: Competing semantics; Outsourcing chunking &amp; pressure again hides messages.</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Mon Oct 22 2018 14:26:22 GMT-0700 (Pacific Daylight Time)">21:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I don&#039;t understand the hurts</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Mon Oct 22 2018 14:26:31 GMT-0700 (Pacific Daylight Time)">21:26</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Yes, shimming stream semantics on top of messages works in demos, but hijacks channel for single payload and loses control of messages. Stream semantics on top of streams has the same problem. A multi-payload quasi-stream as API isn’t a stream</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Mon Oct 22 2018 14:27:00 GMT-0700 (Pacific Daylight Time)">21:27</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Isn&#039;t part of the value of a stream not having any semantic overload of its &quot;chunks&quot;?</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Mon Oct 22 2018 14:27:09 GMT-0700 (Pacific Daylight Time)">21:27</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Like if someone is producing a stream of streams and wants to give it to a Web RTC consumer then making them go through a different API, and lose backpressure on their inner-stream production, seems sad</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Mon Oct 22 2018 14:27:27 GMT-0700 (Pacific Daylight Time)">21:27</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Not sure exactly what you mean by that</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Mon Oct 22 2018 14:28:40 GMT-0700 (Pacific Daylight Time)">21:28</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">The semantics of stream of stream hurts my head basically, not sure what it adds over queue of streams</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Mon Oct 22 2018 14:29:07 GMT-0700 (Pacific Daylight Time)">21:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Backpressure and easy piping/interop with other streams-of-streams, I think</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Mon Oct 22 2018 14:29:17 GMT-0700 (Pacific Daylight Time)">21:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(There are no other streams-of-streams yet of course)</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Mon Oct 22 2018 14:29:37 GMT-0700 (Pacific Daylight Time)">21:29</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">nested backpressure?</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Mon Oct 22 2018 14:29:50 GMT-0700 (Pacific Daylight Time)">21:29</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I think it&#039;s just a different model. But in comparison to events, we can automatically handle backpressure across multiple messages. Say, if you would pipe a stream of messages from one data channel to another.</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Mon Oct 22 2018 14:30:44 GMT-0700 (Pacific Daylight Time)">21:30</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">(where messages is another word for Stream&lt;bytes&gt;)</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Mon Oct 22 2018 14:30:50 GMT-0700 (Pacific Daylight Time)">21:30</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">I thought we settled on sstream of bytes</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Mon Oct 22 2018 14:30:51 GMT-0700 (Pacific Daylight Time)">21:30</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">*message</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Mon Oct 22 2018 14:30:51 GMT-0700 (Pacific Daylight Time)">21:30</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">right</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Mon Oct 22 2018 14:31:09 GMT-0700 (Pacific Daylight Time)">21:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah nested backpressure :). Like if your inner-streams are files and your outer-stream is deciding whether to open new files from the filesystem, backpressure would tell you &quot;don&#039;t open a new file yet, I&#039;m backed up processing the ones you already gave me&quot;</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Mon Oct 22 2018 14:31:30 GMT-0700 (Pacific Daylight Time)">21:31</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Piping a whole directory</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Mon Oct 22 2018 14:32:35 GMT-0700 (Pacific Daylight Time)">21:32</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">but why stream a queue?</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Mon Oct 22 2018 14:33:08 GMT-0700 (Pacific Daylight Time)">21:33</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">because you can process more than one at a time?</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Mon Oct 22 2018 14:33:37 GMT-0700 (Pacific Daylight Time)">21:33</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I mean aren&#039;t all streams (async) queues? Just queues that you care about backpressure on?</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Mon Oct 22 2018 14:34:11 GMT-0700 (Pacific Daylight Time)">21:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">the backpressure stuff makes sense to me for buffers, but my understanding falls apart for types without a predetermined length</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Mon Oct 22 2018 14:34:53 GMT-0700 (Pacific Daylight Time)">21:34</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Well at that level the length of every file is &quot;1&quot;</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Mon Oct 22 2018 14:35:03 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">And it&#039;s a question of &quot;if I am backed up by 3 files then maybe don&#039;t open any more for me&quot;</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Mon Oct 22 2018 14:35:05 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Mon Oct 22 2018 14:35:19 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I guess you could do actual file size stuff but I wasn&#039;t thinking of it that way</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Mon Oct 22 2018 14:35:29 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Wow my internet is dying. Maybe a sign it&#039;s time to sleep.</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Mon Oct 22 2018 14:35:37 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">heh</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Mon Oct 22 2018 14:35:56 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">ok thanks for the chat, it was very helpful!</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Mon Oct 22 2018 14:36:15 GMT-0700 (Pacific Daylight Time)">21:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">\o/</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Mon Oct 22 2018 14:36:36 GMT-0700 (Pacific Daylight Time)">21:36</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">I think I&#039;m going to stick with queue of streams for now, maybe my understanding will grow over time with that</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Mon Oct 22 2018 14:36:50 GMT-0700 (Pacific Daylight Time)">21:36</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">A queue of streams might make sense for proxying websites for example</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Mon Oct 22 2018 14:39:05 GMT-0700 (Pacific Daylight Time)">21:39</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">backpressure with bytes makes sense to me, e.g. &quot;ok we can handle 16000 more bytes please&quot;</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Mon Oct 22 2018 14:39:34 GMT-0700 (Pacific Daylight Time)">21:39</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Imagine a fetch API that allows to queue fetch operations and move the body into the stream (I guess this could be easily written). That is essentially a Stream&lt;Stream&lt;bytes&gt;&gt;</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Mon Oct 22 2018 14:39:46 GMT-0700 (Pacific Daylight Time)">21:39</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">but saying &quot;we can handle 5 more files&quot; hardly seems deterministic, because it all depends on file sizes</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Mon Oct 22 2018 14:40:05 GMT-0700 (Pacific Daylight Time)">21:40</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Mon Oct 22 2018 14:40:54 GMT-0700 (Pacific Daylight Time)">21:40</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">A requests page 1, 2 and 3. A is very slow in processing the data, though. B now uses that imaginary API to start fetching all pages but with automatic backpressure. B would only fetch the data as fast as A can process it and one after another.</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Mon Oct 22 2018 14:43:19 GMT-0700 (Pacific Daylight Time)">21:43</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">ok maybe I&#039;m focusing too much on the backpressure value. Maybe there&#039;s API value solely in being able to creates pipes out of these things</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Mon Oct 22 2018 14:43:57 GMT-0700 (Pacific Daylight Time)">21:43</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Yeah, I believe so.</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Mon Oct 22 2018 14:44:39 GMT-0700 (Pacific Daylight Time)">21:44</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">so what would stream of streams look like for RTCDataChannel?</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Mon Oct 22 2018 14:45:25 GMT-0700 (Pacific Daylight Time)">21:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">The premise of pipeTo() seems to rely on other stream objects of similar type</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Mon Oct 22 2018 14:45:35 GMT-0700 (Pacific Daylight Time)">21:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">or lots of clever transforms</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Mon Oct 22 2018 14:45:53 GMT-0700 (Pacific Daylight Time)">21:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">That might lose a lot of people</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Mon Oct 22 2018 14:46:05 GMT-0700 (Pacific Daylight Time)">21:46</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">case in point: promises</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Mon Oct 22 2018 14:46:29 GMT-0700 (Pacific Daylight Time)">21:46</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">async/await is soooo much simpler to explain and get right, than promises</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Mon Oct 22 2018 14:46:42 GMT-0700 (Pacific Daylight Time)">21:46</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">at least for me</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Mon Oct 22 2018 14:47:25 GMT-0700 (Pacific Daylight Time)">21:47</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">It would have a .readable attribute of type ReadableStream&lt;ReadableStream&lt;bytes&gt;&gt; and a corresponding .writable attribute. Again, I would only suggest that for NV. I agree it&#039;s hard to wrap your head around and we need to find easy and convincing examples first.</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Mon Oct 22 2018 14:48:16 GMT-0700 (Pacific Daylight Time)">21:48</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">I guess we can add that later, have both</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Mon Oct 22 2018 14:48:28 GMT-0700 (Pacific Daylight Time)">21:48</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">or, hmm</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Mon Oct 22 2018 14:48:47 GMT-0700 (Pacific Daylight Time)">21:48</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I think it will be a while before we discuss NV APIs</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Mon Oct 22 2018 14:49:08 GMT-0700 (Pacific Daylight Time)">21:49</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Or at least their final versions</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Mon Oct 22 2018 14:49:12 GMT-0700 (Pacific Daylight Time)">21:49</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">tomorrow? ;)</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Mon Oct 22 2018 14:49:27 GMT-0700 (Pacific Daylight Time)">21:49</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">Btw, when you say ReadableStream&lt;bytes&gt; with the &lt; and &gt; that&#039;s not any webidl syntax is it?</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Mon Oct 22 2018 14:49:45 GMT-0700 (Pacific Daylight Time)">21:49</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I&#039;m not sure actually</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Mon Oct 22 2018 14:50:01 GMT-0700 (Pacific Daylight Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I mean, &#039;bytes&#039; is an abstraction anyway</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Mon Oct 22 2018 14:50:05 GMT-0700 (Pacific Daylight Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">sure</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Mon Oct 22 2018 14:50:23 GMT-0700 (Pacific Daylight Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">but byte is valid webidl</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Mon Oct 22 2018 14:50:54 GMT-0700 (Pacific Daylight Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell"><a href="https://heycam.github.io/webidl/#idl-promise">https://heycam.github.io/webidl/#idl-promise</a></td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Mon Oct 22 2018 14:51:16 GMT-0700 (Pacific Daylight Time)">21:51</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">They use Promise&lt;T&gt; so I guess we can use ReadableStream&lt;T&gt;</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Mon Oct 22 2018 14:51:57 GMT-0700 (Pacific Daylight Time)">21:51</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">except there&#039;s no ReadableStream in <a href="https://heycam.github.io/webidl/#idl-promise">https://heycam.github.io/webidl/#idl-promise</a></td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Mon Oct 22 2018 14:53:19 GMT-0700 (Pacific Daylight Time)">21:53</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I would go that far and say this syntax is fairly well-known</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Mon Oct 22 2018 14:53:34 GMT-0700 (Pacific Daylight Time)">21:53</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">But for actual WebIDL definitions...</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Mon Oct 22 2018 14:53:40 GMT-0700 (Pacific Daylight Time)">21:53</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">it&#039;s not valid webidl, at least not yet</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Mon Oct 22 2018 15:20:59 GMT-0700 (Pacific Daylight Time)">22:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">TimothyGu: <a href="https://github.com/servo/servo/pull/21882/files">https://github.com/servo/servo/pull/21882/files</a></td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Mon Oct 22 2018 15:26:48 GMT-0700 (Pacific Daylight Time)">22:26</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">jib: I&#039;ll get some sleep :)</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Mon Oct 22 2018 15:27:10 GMT-0700 (Pacific Daylight Time)">22:27</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">jib: goodnight, thanks for your help!</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Mon Oct 22 2018 15:27:13 GMT-0700 (Pacific Daylight Time)">22:27</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">uh</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Mon Oct 22 2018 15:27:31 GMT-0700 (Pacific Daylight Time)">22:27</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=jib@irc>jib</span>&gt;</td><td class="msg-cell">lgrahl: ^</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Mon Oct 22 2018 15:27:33 GMT-0700 (Pacific Daylight Time)">22:27</a></td><td class="nick-cell"><span class="nick nick-15" title=jib@irc>jib</span></td><td class="msg-cell">is tired</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Mon Oct 22 2018 15:28:06 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell"><span class="nick nick-4" title=lgrahl@irc>lgrahl</span></td><td class="msg-cell">is so tired that he didn&#039;t even see the wrong mention</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Mon Oct 22 2018 16:35:03 GMT-0700 (Pacific Daylight Time)">23:35</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">Domenic: yay!</td></tr>
</tbody></table>
</div></div></div></body>
