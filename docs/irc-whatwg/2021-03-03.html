<!doctype html>
<head>
  <title>#whatwg on 2021-03-03</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2021-03-03<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-03-02" class="nav-link"><span>prev</span></a>
<a href="2021-03-04" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Mar 03 2021 01:42:36 GMT-0800 (Pacific Standard Time)">09:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">One-off test name changes are usually OK for gecko</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Mar 03 2021 02:12:15 GMT-0800 (Pacific Standard Time)">10:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">hi annevk.  started integration of fetch/resource-timing as we discussed, please take a look at <a href="https://github.com/whatwg/fetch/pull/1185">https://github.com/whatwg/fetch/pull/1185</a> when you get a chance.</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Mar 03 2021 02:13:08 GMT-0800 (Pacific Standard Time)">10:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: it still had a bunch of TODOs in it?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Mar 03 2021 02:14:55 GMT-0800 (Pacific Standard Time)">10:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: one thing I&#039;m not sure about is that it patches the body read operations, wouldn&#039;t it make more sense to set the timing as stuff is being put into the stream by the network? Like how would this work when you want to read a request body?</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Mar 03 2021 02:15:44 GMT-0800 (Pacific Standard Time)">10:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: regarding TODOs - yes it does. but I wanted to see that the main direction of how to do this is aligned. I want to work on this incrementally rather than a big patch with everything</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Mar 03 2021 02:16:37 GMT-0800 (Pacific Standard Time)">10:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: regarding the body - it shouldn&#039;t work for request bodies. Would it make more sense to integrate it into &#039;streams&#039; instead?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Mar 03 2021 02:17:27 GMT-0800 (Pacific Standard Time)">10:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: I think it would make more sense to integrate it where we create the response body stream and enqueue bytes into it</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Mar 03 2021 02:17:46 GMT-0800 (Pacific Standard Time)">10:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: and don&#039;t couple it with the body or streams at all</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Mar 03 2021 02:18:03 GMT-0800 (Pacific Standard Time)">10:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">ok makes sense, let me see what that means in practice</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Mar 03 2021 02:18:08 GMT-0800 (Pacific Standard Time)">10:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: but that&#039;s at a high level as I still need to actually read resource timing in detail</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Mar 03 2021 02:20:09 GMT-0800 (Pacific Standard Time)">10:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: sure... I&#039;m wondering what to do with the timing that requires intimate knowledge of HTTP/TLS/DNS. Fetch doesn&#039;t go that deep... I can either put a general note about it in &quot;obtain a connection&quot; but trying to make it accurate would mean going pretty deep into them</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Mar 03 2021 02:21:23 GMT-0800 (Pacific Standard Time)">10:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: I guess you would describe it in prose somehow when the timing are to be obtained</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Mar 03 2021 02:21:37 GMT-0800 (Pacific Standard Time)">10:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: will do</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Mar 03 2021 02:21:40 GMT-0800 (Pacific Standard Time)">10:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: note that obtain a connection will soon have callers outside of Fetch as well</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Mar 03 2021 02:22:19 GMT-0800 (Pacific Standard Time)">10:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: I think that&#039;s fine, timingInfo will be null and obtain a connection will noop it.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Mar 03 2021 02:22:49 GMT-0800 (Pacific Standard Time)">10:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: it might be nicer to store the timing information directly on the connection so they can use it if needed</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Mar 03 2021 02:23:43 GMT-0800 (Pacific Standard Time)">10:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: interesting, I have to check if that&#039;s what resource-timing would expect</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Mar 03 2021 02:24:05 GMT-0800 (Pacific Standard Time)">10:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: well, in case of fetch it could take it from the connection and forward it</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Mar 03 2021 02:24:27 GMT-0800 (Pacific Standard Time)">10:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: I guess there are some interesting cases with H/2 and H/3 where connections are reused and this would make that very observable</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Mar 03 2021 02:25:38 GMT-0800 (Pacific Standard Time)">10:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: yes, it&#039;s unclear in resource-timing how connection pools are handled. yoav WDYT?</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Mar 03 2021 02:26:00 GMT-0800 (Pacific Standard Time)">10:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">(that&#039;s what I mean by &quot;what resource timing would expect&quot;</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Mar 03 2021 02:26:16 GMT-0800 (Pacific Standard Time)">10:26</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-12" title=annevk@irc>annevk</span></div></td><td class="msg-cell">goes to look at resource timing</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Mar 03 2021 02:26:53 GMT-0800 (Pacific Standard Time)">10:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">ah, &quot;Implementers SHOULD be aware that this document is not stable. Implementers who are not taking part in the discussions are likely to find the specification changing out from under them in incompatible ways.&quot; looks like we can do whatever we want :p</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Mar 03 2021 02:29:30 GMT-0800 (Pacific Standard Time)">10:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">&quot;Resources for which the fetch was initiated, but was later aborted (e.g. due to a network error) MAY be included as PerformanceResourceTiming objects in the Performance Timeline&quot; might be tough</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Mar 03 2021 02:30:02 GMT-0800 (Pacific Standard Time)">10:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">there are a lot of places where we simply return a (new) network error</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Mar 03 2021 02:30:14 GMT-0800 (Pacific Standard Time)">10:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">and determining when it&#039;s safe to expose information on them is just...</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Mar 03 2021 02:44:29 GMT-0800 (Pacific Standard Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">regarding the &quot;MAY be included&quot;, we should get rid of the MAY parts and enforce exposing that info</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Mar 03 2021 02:45:00 GMT-0800 (Pacific Standard Time)">10:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">assuming we consider it safe</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Mar 03 2021 02:45:24 GMT-0800 (Pacific Standard Time)">10:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">Also need to clarify that error status code responses don&#039;t fall into that bucket</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Mar 03 2021 02:46:26 GMT-0800 (Pacific Standard Time)">10:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">&quot;there are a lot of places where we simply return a (new) network error&quot; - hmm, might be worthwhile to test what implementations are currently doing on that front</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Mar 03 2021 02:47:31 GMT-0800 (Pacific Standard Time)">10:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">Regarding connection pools, RT currently exposes connection reuse</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Mar 03 2021 02:49:25 GMT-0800 (Pacific Standard Time)">10:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell"><a href="https://www.w3.org/TR/resource-timing-2/#dom-performanceresourcetiming-connectstart">https://www.w3.org/TR/resource-timing-2/#dom-performanceresourcetiming-connectstart</a></td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Mar 03 2021 02:52:22 GMT-0800 (Pacific Standard Time)">10:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">this is what the current work is about... defining the points in time where metrics are marked as precisely as possible, like we did before with paint timing.</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Mar 03 2021 02:54:47 GMT-0800 (Pacific Standard Time)">10:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">I understand and I think it&#039;s great that we&#039;re doing this 🙂</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Mar 03 2021 02:56:27 GMT-0800 (Pacific Standard Time)">10:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: aah I see, so I guess we&#039;d return fetchStart if connectStart &lt; fetchStart</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Mar 03 2021 02:56:46 GMT-0800 (Pacific Standard Time)">10:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: that way we don&#039;t have to tell resource timing what kind of connection it is</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Mar 03 2021 02:57:23 GMT-0800 (Pacific Standard Time)">10:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">yeah, SG</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Mar 03 2021 02:58:05 GMT-0800 (Pacific Standard Time)">10:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">I guess ideally we also put the security checks directly into Fetch so ResourceTiming can just return the integers Fetch hands out</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Mar 03 2021 02:58:30 GMT-0800 (Pacific Standard Time)">10:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">👍</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Mar 03 2021 02:58:42 GMT-0800 (Pacific Standard Time)">10:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">I guess modulo adjusting to the global and jitter stuff</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Mar 03 2021 02:59:09 GMT-0800 (Pacific Standard Time)">10:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">(was just about to comment the same)</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Mar 03 2021 02:59:13 GMT-0800 (Pacific Standard Time)">10:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">heh</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Mar 03 2021 02:59:57 GMT-0800 (Pacific Standard Time)">10:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">for connection pools though - do we want to obfuscate it or should resource-timing know about it? it&#039;s exposed only for same-origin or for origins with TAO</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Mar 03 2021 03:00:31 GMT-0800 (Pacific Standard Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">encodedBodySize is just Content-Length, right? <a href="https://github.com/whatwg/fetch/pull/1183">https://github.com/whatwg/fetch/pull/1183</a> should help with that</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Wed Mar 03 2021 03:01:48 GMT-0800 (Pacific Standard Time)">11:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: my thinking is that we store the timings on the connection and then fetch takes the timings from the connection and puts them on the struct, adjusting them based on fetchStart as needed</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Wed Mar 03 2021 03:02:26 GMT-0800 (Pacific Standard Time)">11:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</div></td><td class="msg-cell">I wonder if we should make &lt;noscript&gt; always parse as if scripting flag is enabled</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Wed Mar 03 2021 03:02:36 GMT-0800 (Pacific Standard Time)">11:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: yes, got it.</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Wed Mar 03 2021 03:02:48 GMT-0800 (Pacific Standard Time)">11:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: and once TAO happens we might have to set a bunch of things to 0</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Wed Mar 03 2021 03:03:04 GMT-0800 (Pacific Standard Time)">11:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">yup</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Wed Mar 03 2021 03:03:36 GMT-0800 (Pacific Standard Time)">11:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">Fetch gets all the timings, and in the shim between fetch and TAO there will be an algorithm that cleans them up</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Wed Mar 03 2021 03:04:05 GMT-0800 (Pacific Standard Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">zcorpan: you want to test XHR and sandboxed iframes at least</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Wed Mar 03 2021 03:04:17 GMT-0800 (Pacific Standard Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">(XHR may already ask for that?)</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Wed Mar 03 2021 03:04:17 GMT-0800 (Pacific Standard Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">Is there existing spec text in any CSS specs that defines what to do with the response from a fetch request for a font?</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Wed Mar 03 2021 03:04:37 GMT-0800 (Pacific Standard Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">it&#039;s been such a long time that I forgot</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Wed Mar 03 2021 03:05:19 GMT-0800 (Pacific Standard Time)">11:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: yeah, though to be clear I think fetch should be setting things to 0 based on TAO</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Wed Mar 03 2021 03:05:59 GMT-0800 (Pacific Standard Time)">11:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">(wasn&#039;t entirely sure if by cleaning up you meant the jittering/global stuff or also that)</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Wed Mar 03 2021 03:06:39 GMT-0800 (Pacific Standard Time)">11:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: there&#039;s a font spec but as I understand it it&#039;s light on details and true type / open type are a mess?</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Wed Mar 03 2021 03:07:57 GMT-0800 (Pacific Standard Time)">11:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</div></td><td class="msg-cell">annevk: my point is it&#039;s repeatedly used as HTML sanitization bypasses because different places set the scripting enabled flag differently. if we kill the &lt;noscript&gt; functionality and it always parses as text, we kill those attacks (and hopefully don&#039;t introduce new ones)</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Wed Mar 03 2021 03:08:44 GMT-0800 (Pacific Standard Time)">11:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</div></td><td class="msg-cell">annevk: also browsers aren&#039;t interoperable with when the flag is set (e.g. template.innerHTML)</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Wed Mar 03 2021 03:09:08 GMT-0800 (Pacific Standard Time)">11:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">zcorpan: yeah I&#039;m not opposed, but XHR / &lt;iframe sandbox&gt; might be places where content relies on this</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Wed Mar 03 2021 03:09:50 GMT-0800 (Pacific Standard Time)">11:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</div></td><td class="msg-cell">annevk: yes, good point</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Wed Mar 03 2021 03:10:08 GMT-0800 (Pacific Standard Time)">11:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">zcorpan: I think I&#039;m even in favor as you&#039;re right that these mode switches are a pain (it&#039;s also a worry I have with decl shadow trees)</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Wed Mar 03 2021 03:13:47 GMT-0800 (Pacific Standard Time)">11:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">RT decodedBodySize is interesting, we have just enough enough infrastructure to define it I think, but it&#039;s also horribly broken</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Wed Mar 03 2021 03:15:41 GMT-0800 (Pacific Standard Time)">11:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">annevk: OK. I’m just looking back at that section of the Fonts spec I patched, and trying to figure out what precisely it should say to do with the &lt;var&gt;response&lt;/var&gt; it gets back from the fetch</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Wed Mar 03 2021 03:16:20 GMT-0800 (Pacific Standard Time)">11:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: how is secureConnectionStart different? is it just connectStart but 0 for insecure connections?</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Wed Mar 03 2021 03:19:03 GMT-0800 (Pacific Standard Time)">11:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">I find <a href="https://drafts.csswg.org/css-font-loading/#font-face-css-connection">https://drafts.csswg.org/css-font-loading/#font-face-css-connection</a> so I guess I need to hook into that ... somehow</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Wed Mar 03 2021 03:19:14 GMT-0800 (Pacific Standard Time)">11:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">&gt; A CSS @font-face rule automatically defines a corresponding FontFace object, which is automatically placed in the document’s font source when the rule is parsed. This FontFace object is CSS-connected.</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Wed Mar 03 2021 03:19:41 GMT-0800 (Pacific Standard Time)">11:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">&gt; The internal [[Urls]] slot of the FontFace object is set to the value of the @font-face rule’s src descriptor, and reflects any changes made to the src descriptor.</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Wed Mar 03 2021 03:24:45 GMT-0800 (Pacific Standard Time)">11:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">in a spec that’s supposed to be normatively defining UA requirements, the multiple “automatically” words are a bit surprising</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Wed Mar 03 2021 03:25:11 GMT-0800 (Pacific Standard Time)">11:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">very much wishing I had not pulled at this thread</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Wed Mar 03 2021 03:28:41 GMT-0800 (Pacific Standard Time)">11:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">anyway I guess I’ll make an attempt at re-updating the @font-face loading requirements in the Fonts spec</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Wed Mar 03 2021 03:40:08 GMT-0800 (Pacific Standard Time)">11:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">annevk: the prose suggests it&#039;s not, but the diagram says your interpretation is correct</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Wed Mar 03 2021 03:40:33 GMT-0800 (Pacific Standard Time)">11:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">and I&#039;m failing to find a local case where they don&#039;t all equal fetchStart</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Wed Mar 03 2021 03:40:54 GMT-0800 (Pacific Standard Time)">11:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">so here as well, would be good to add tests to see what implementations are actually doing</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Wed Mar 03 2021 03:41:43 GMT-0800 (Pacific Standard Time)">11:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">I suspect that predictive preconnection mean that these values are typically just fetchStart</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Wed Mar 03 2021 03:55:45 GMT-0800 (Pacific Standard Time)">11:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</div></td><td class="msg-cell">annevk: hmmm, I think the &quot;scripting flag&quot; and innerHTML logic in the spec is currently broken. The fragment parsing algo always creates a new Document for parsing the fragment, and that Document has no browsing context, so its &quot;scripting flag&quot; is always disabled for innerHTML</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Wed Mar 03 2021 03:57:26 GMT-0800 (Pacific Standard Time)">11:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</div></td><td class="msg-cell">whereas I think the intent was for innerHTML to always parse with &quot;scripting flag&quot; enabled*</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Wed Mar 03 2021 03:57:59 GMT-0800 (Pacific Standard Time)">11:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</div></td><td class="msg-cell">(* was a typo)</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Wed Mar 03 2021 04:05:19 GMT-0800 (Pacific Standard Time)">12:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: aaah makes sense</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Wed Mar 03 2021 04:06:18 GMT-0800 (Pacific Standard Time)">12:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">zcorpan: could be I filed an issue against DOM parsing for this</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Wed Mar 03 2021 04:07:02 GMT-0800 (Pacific Standard Time)">12:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: yeah tests would be really good</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Wed Mar 03 2021 04:07:51 GMT-0800 (Pacific Standard Time)">12:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: you could also file some follow-up issues</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Wed Mar 03 2021 04:08:16 GMT-0800 (Pacific Standard Time)">12:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: prolly easier to address by someone tackling this for CSS in general</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Wed Mar 03 2021 05:05:36 GMT-0800 (Pacific Standard Time)">13:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">zcorpan: not read all the way up, but fragment parsing should work with scripting disabled, e.g. for cases where content expects to be parsed as a fragment regardless of whether scripting is enabled (e.g., if you&#039;re an Atom/RSS feed reader, you might want to render each item&#039;s content as a div fragment)</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Wed Mar 03 2021 05:24:10 GMT-0800 (Pacific Standard Time)">13:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</div></td><td class="msg-cell">gsnedders: sure, but that could still parse &lt;noscript&gt; as text instead of as elements</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Wed Mar 03 2021 05:26:57 GMT-0800 (Pacific Standard Time)">13:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: how would you suggest associating the connection timing info with a connection? fetch doesn&#039;t specify what a &#039;connection&#039; is. I can either say that a connection info is &quot;associated&quot; with a connection, or create a new struct that has the timing-info,  ALPN protocol and actual connection and have &#039;obtain a connection&#039; return that struct</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Wed Mar 03 2021 05:31:28 GMT-0800 (Pacific Standard Time)">13:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: yeah, turning <a href="https://fetch.spec.whatwg.org/#concept-connection">https://fetch.spec.whatwg.org/#concept-connection</a> into a struct seems good</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Wed Mar 03 2021 05:32:42 GMT-0800 (Pacific Standard Time)">13:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: or maybe a thing with associated things, hmm</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Wed Mar 03 2021 05:32:44 GMT-0800 (Pacific Standard Time)">13:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: but a lot of the usage of `connection` is vague: e.g. &quot;the &lt;a&gt;connection&lt;/a&gt; uses HTTP/2&quot;</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Wed Mar 03 2021 05:33:08 GMT-0800 (Pacific Standard Time)">13:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: let&#039;s just say that connection has associated fields then, similar to request/response</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Wed Mar 03 2021 05:33:52 GMT-0800 (Pacific Standard Time)">13:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: alrighty. and if I want to send the same connection, but with something else associated with it, what&#039;s the right way do describe that?</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Wed Mar 03 2021 05:34:17 GMT-0800 (Pacific Standard Time)">13:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">e.g. if a connection comes from a pool, I want to return the connection but without its associated connection info</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Wed Mar 03 2021 05:35:47 GMT-0800 (Pacific Standard Time)">13:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">I thought to have a struct that includes that opaque connection + connection info, and return that struct from &#039;obtain a connection&#039;, later working with the struct&#039;s &#039;actual connection&#039; (or something to that effect)</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Wed Mar 03 2021 05:40:46 GMT-0800 (Pacific Standard Time)">13:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: or return a &quot;return connection with its timing info associated to null&quot;</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Wed Mar 03 2021 05:42:49 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: when would it return null for that?</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Wed Mar 03 2021 05:43:38 GMT-0800 (Pacific Standard Time)">13:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: I would basically expect these fields to be set when a connection is created, if they sometimes have to be null, that could happen there</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Wed Mar 03 2021 05:44:04 GMT-0800 (Pacific Standard Time)">13:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: it&#039;s not that. I need to differentiate between connections from pool and newly created connections. Only newly created connections should have the connection timing info</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Wed Mar 03 2021 05:44:18 GMT-0800 (Pacific Standard Time)">13:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: you don&#039;t have to do that per the above discussion</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Wed Mar 03 2021 05:44:36 GMT-0800 (Pacific Standard Time)">13:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: we can deal with that in the fetch algorithm</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Wed Mar 03 2021 05:44:47 GMT-0800 (Pacific Standard Time)">13:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: ah, maybe I missed part of the discussion. Re-reading</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Wed Mar 03 2021 05:45:20 GMT-0800 (Pacific Standard Time)">13:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: when fetch gets a connection and its connection.start &lt; fetch.start, fetch.connectStart = fetch.start or some such</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Wed Mar 03 2021 05:47:08 GMT-0800 (Pacific Standard Time)">13:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: ok, clamp it by value. easy enough. was thinking that there might be a corner case where this is not enough, but maybe it&#039;s not the case or not an interesting use-case</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Wed Mar 03 2021 05:48:49 GMT-0800 (Pacific Standard Time)">13:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">noamr: I&#039;m always interested in corner cases, but I think this covers what RT is trying to do</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Wed Mar 03 2021 05:49:07 GMT-0800 (Pacific Standard Time)">13:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=noamr@irc>noamr</span>&gt;</div></td><td class="msg-cell">annevk: yes I think so too</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Wed Mar 03 2021 10:25:56 GMT-0800 (Pacific Standard Time)">18:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: never thought I’d see the day where XHR is used as a pattern to follow 😀</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Wed Mar 03 2021 10:26:44 GMT-0800 (Pacific Standard Time)">18:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: so maybe we should have a TimoutSignal</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Wed Mar 03 2021 10:27:05 GMT-0800 (Pacific Standard Time)">18:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Maybe... feels a bit heavyweight, but perhaps fine.</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Wed Mar 03 2021 10:27:29 GMT-0800 (Pacific Standard Time)">18:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">We&#039;d want APIs that accept `signal` to accept it too, I think?</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Wed Mar 03 2021 10:28:00 GMT-0800 (Pacific Standard Time)">18:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: yeah, I think we don’t want separate timout inputs everywhere</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Wed Mar 03 2021 10:28:15 GMT-0800 (Pacific Standard Time)">18:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">That’s what I liked about your proposal</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Wed Mar 03 2021 10:29:20 GMT-0800 (Pacific Standard Time)">18:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Or we could have some mode of AbortSignal that lets you customize the error thrown... although the AbortSignal -&gt; error thrown channel is indirect (until/unless <a href="https://github.com/whatwg/dom/issues/927">https://github.com/whatwg/dom/issues/927</a> happens).</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Wed Mar 03 2021 10:29:37 GMT-0800 (Pacific Standard Time)">18:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">annevk: thanks for pushing on this a bit, I probably would have given up without you prodding...</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Wed Mar 03 2021 10:30:22 GMT-0800 (Pacific Standard Time)">18:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">👍🏻</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Wed Mar 03 2021 10:35:59 GMT-0800 (Pacific Standard Time)">18:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">It was hard to let go as it would resolve some rather long-standing and hugely popular issues in Fetch</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Wed Mar 03 2021 14:29:10 GMT-0800 (Pacific Standard Time)">22:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=bkardell@irc>bkardell</span>&gt;</div></td><td class="msg-cell">I have a probably silly question as I am trying to understand something the html spec says currently... If you call the have an onclick on an input, which in turn calls focus() - when the focusing steps are evaluated, is a focus trigger of click set or no?</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Wed Mar 03 2021 14:31:55 GMT-0800 (Pacific Standard Time)">22:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">bkardell: from what I can see the focus trigger is only &quot;click&quot;: &quot;When a user activates a click focusable focusable area&quot;</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Wed Mar 03 2021 14:33:39 GMT-0800 (Pacific Standard Time)">22:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=bkardell@irc>bkardell</span>&gt;</div></td><td class="msg-cell">this is how I read it, that the answer is &quot;no&quot;, right?</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Wed Mar 03 2021 14:33:49 GMT-0800 (Pacific Standard Time)">22:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=bkardell@irc>bkardell</span>&gt;</div></td><td class="msg-cell">I just dont want to get it wrong :)</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Wed Mar 03 2021 14:34:03 GMT-0800 (Pacific Standard Time)">22:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Indeed, if there&#039;s no user involved, then the answer is no.</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Wed Mar 03 2021 14:34:14 GMT-0800 (Pacific Standard Time)">22:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=bkardell@irc>bkardell</span>&gt;</div></td><td class="msg-cell">excellent - thank you for clarifying Domenic</td></tr>

</tbody></table></div></div></div></body>
