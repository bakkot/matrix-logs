<!doctype html>
<head>
  <title>#whatwg on 2016-02-17</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2016-02-17<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2016-02-16" class="nav-link"><span>prev</span></a>
<a href="2016-02-18" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Feb 16 2016 16:21:21 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Domenic: Seems like Gecko&#039;s WebIDL parser got ExceptionClass already.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Feb 16 2016 17:44:07 GMT-0800 (Pacific Standard Time)">01:44</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: html5lib is still not part of the standard Python library, right?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Feb 16 2016 17:44:23 GMT-0800 (Pacific Standard Time)">01:44</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">it needs to be installed separately?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Feb 16 2016 17:44:30 GMT-0800 (Pacific Standard Time)">01:44</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Dunno if it is or not, but yeah, I install it separately.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Feb 16 2016 17:44:35 GMT-0800 (Pacific Standard Time)">01:44</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">k</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Feb 16 2016 17:45:30 GMT-0800 (Pacific Standard Time)">01:45</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">the default lxml.html parser seems to be more conforming than it was in the past</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Feb 16 2016 17:46:17 GMT-0800 (Pacific Standard Time)">01:46</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: have you run into any specific problems just using the lxml.html parser rather than html5lib?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Feb 16 2016 17:46:59 GMT-0800 (Pacific Standard Time)">01:46</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Haven&#039;t tried.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Feb 16 2016 17:47:04 GMT-0800 (Pacific Standard Time)">01:47</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Feb 16 2016 17:48:32 GMT-0800 (Pacific Standard Time)">01:48</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">well the main reason I use html5lib is not because I’ve had any specific problems with the lxml.html parser but instead because I don’t trust it without being able to know what it’s actually doing</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Feb 16 2016 18:01:26 GMT-0800 (Pacific Standard Time)">02:01</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: OK fwiw, some quick testing reveals that the lxml.html parser fails to conform in some very basic ways; for example, if the input lacks a &lt;head&gt; start tag, it doesn’t put a `head` element into the tree</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Feb 16 2016 18:05:34 GMT-0800 (Pacific Standard Time)">02:05</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell"> Heh, cool.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Feb 17 2016 01:43:57 GMT-0800 (Pacific Standard Time)">09:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ugh, UI Events apparently still tries to redefine the event architecture</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Feb 17 2016 01:45:24 GMT-0800 (Pacific Standard Time)">09:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=ritsyy@irc>ritsyy</span>&gt;</td><td class="msg-cell">annevk: after resolving some more errors i am getting this as the output to wattsi <a href="https://paste.kde.org/pqrs9qnvj">https://paste.kde.org/pqrs9qnvj</a> is this correct?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Feb 17 2016 01:45:55 GMT-0800 (Pacific Standard Time)">09:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=ritsyy@irc>ritsyy</span>&gt;</td><td class="msg-cell">annevk: because the build script works the same as not giving the line numbers</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Feb 17 2016 01:51:17 GMT-0800 (Pacific Standard Time)">09:51</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">ritsyy: that seems like you successfully compiled wattsi yes</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Feb 17 2016 01:55:05 GMT-0800 (Pacific Standard Time)">09:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">ritsyy: and there&#039;s no error on that line?</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Feb 17 2016 01:56:14 GMT-0800 (Pacific Standard Time)">09:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=ritsyy@irc>ritsyy</span>&gt;</td><td class="msg-cell">annevk: no it doesn&#039;t show up the line, the error is given like this <a href="https://paste.kde.org/pnwe0pi5f">https://paste.kde.org/pnwe0pi5f</a></td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Feb 17 2016 01:57:49 GMT-0800 (Pacific Standard Time)">09:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">ritsyy: oh that looks correct</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Feb 17 2016 01:57:59 GMT-0800 (Pacific Standard Time)">09:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">ritsyy: you missed an end tag somewhere</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Feb 17 2016 01:58:38 GMT-0800 (Pacific Standard Time)">09:58</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=ritsyy@irc>ritsyy</span>&gt;</td><td class="msg-cell">annevk: oh didn&#039;t it shows up the line number?</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Feb 17 2016 01:59:07 GMT-0800 (Pacific Standard Time)">09:59</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=ritsyy@irc>ritsyy</span>&gt;</td><td class="msg-cell">annevk: oh then i will look into the changes</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Feb 17 2016 01:59:18 GMT-0800 (Pacific Standard Time)">09:59</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">it cannot really tell until it sees &lt;/body&gt; that you didn&#039;t close your tag</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Feb 17 2016 01:59:30 GMT-0800 (Pacific Standard Time)">09:59</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I&#039;m assuming the line that it gives you is &lt;/body&gt;</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Feb 17 2016 02:01:23 GMT-0800 (Pacific Standard Time)">10:01</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=ritsyy@irc>ritsyy</span>&gt;</td><td class="msg-cell">annevk: oh okay, i am looking into it, thanks</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Feb 17 2016 05:43:40 GMT-0800 (Pacific Standard Time)">13:43</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Unprefixed fullscreen api in Firefox 47, finally</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Feb 17 2016 07:48:57 GMT-0800 (Pacific Standard Time)">15:48</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: so conceptually we&#039;d have &quot;dispatch&quot; invoke something like while(target = target.getParent(event)) path.append(target) and node and document implement this getParent function slightly differently</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Feb 17 2016 07:49:23 GMT-0800 (Pacific Standard Time)">15:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: as would IDB objects</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Feb 17 2016 07:49:41 GMT-0800 (Pacific Standard Time)">15:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: and then when Shadow DOM gets integrated properly we&#039;d change the implementation of nodes a bit further</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Feb 17 2016 07:49:48 GMT-0800 (Pacific Standard Time)">15:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hayato: ^^</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Feb 17 2016 08:12:33 GMT-0800 (Pacific Standard Time)">16:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">annevk: yeah</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Feb 17 2016 08:13:06 GMT-0800 (Pacific Standard Time)">16:13</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I think that should be quite clear for the spec</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Feb 17 2016 08:14:40 GMT-0800 (Pacific Standard Time)">16:14</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I think in new Shadow DOM the propagation would be close to XBL: <a href="http://mxr.mozilla.org/mozilla-central/source/dom/base/FragmentOrElement.cpp#890">http://mxr.mozilla.org/mozilla-central/source/dom/base/FragmentOrElement.cpp#890</a></td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Feb 17 2016 08:19:24 GMT-0800 (Pacific Standard Time)">16:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: it&#039;s somewhat shitty that getParent needs that event argument for the Window case, but what can you do...</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Feb 17 2016 08:19:59 GMT-0800 (Pacific Standard Time)">16:19</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">&#039;load&#039; is horrible special case</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Feb 17 2016 08:20:41 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">This new webkit stuff is pretty horrible too though, geez</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Feb 17 2016 08:22:09 GMT-0800 (Pacific Standard Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: any reason Gecko passes the whole event to getParent and not just the type?</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Feb 17 2016 08:22:26 GMT-0800 (Pacific Standard Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: or even just a boolean whether it&#039;s a load or not</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Feb 17 2016 08:25:26 GMT-0800 (Pacific Standard Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">well, Gecko passes a visitor object. And that has pointers to various things. And event.type is used also in HTMLInputElement for example when click event on checkbox before dispatch needs to switch the state, and if event is cancelled, the state is reverted back</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Feb 17 2016 08:25:58 GMT-0800 (Pacific Standard Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">this is because there is then PostHandleEvent on each event target called</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Feb 17 2016 08:26:12 GMT-0800 (Pacific Standard Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">after the normal DOM event handling</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Feb 17 2016 08:27:15 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">visitor object has also a pointer to the eventtarget in case there is retargetting happening (this is XBL stuff mostly)</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Feb 17 2016 08:27:55 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">aah, this is how the &lt;input&gt; stuff works</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Feb 17 2016 08:28:06 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">so we could finally define that more clearly if I add these hooks</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Wed Feb 17 2016 08:28:10 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">great</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Wed Feb 17 2016 08:28:20 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell"><a href="http://mxr.mozilla.org/mozilla-central/source/dom/events/EventDispatcher.h#50">http://mxr.mozilla.org/mozilla-central/source/dom/events/EventDispatcher.h#50</a> There is the generic visitor which is then extended by pre and post visitors</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Wed Feb 17 2016 08:29:08 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">annevk: well, the setup is against the current spec</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Wed Feb 17 2016 08:29:16 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: oh, after event dispatch we need to cycle through the parents too?</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Wed Feb 17 2016 08:29:47 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">like, dispatching mouseevent &#039;click&#039; manually needs to trigger links per web compatibility, but IIRC per spec it shouldn&#039;t</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Wed Feb 17 2016 08:30:13 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and click() just dispatches event, and if the event wasn&#039;t cancelled, then trigger link</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Wed Feb 17 2016 08:30:24 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: ah yes, but that is different from click on checkbox stuff iirc</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Wed Feb 17 2016 08:30:46 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">annevk: yes, this setup does iterate the chain again for post phase</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Wed Feb 17 2016 08:32:13 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">okay, so I&#039;ll first define this setup purely for getting the event path and then we can go from there</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Wed Feb 17 2016 08:32:58 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">thanks, this is really helpful</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Wed Feb 17 2016 08:34:52 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I&#039;m rather subjective here, but the setup Gecko has (has had since 2006), has proved to be very flexible and still fast.  That IDB case for example was trivial to implement.</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Wed Feb 17 2016 08:43:01 GMT-0800 (Pacific Standard Time)">16:43</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">annevk: something else: do you recall if we have cases where some property or interface is hidden based on some state</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Wed Feb 17 2016 08:43:55 GMT-0800 (Pacific Standard Time)">16:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: I don&#039;t think we do that</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Wed Feb 17 2016 08:44:05 GMT-0800 (Pacific Standard Time)">16:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: at least, not that I&#039;m aware of</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Wed Feb 17 2016 08:44:14 GMT-0800 (Pacific Standard Time)">16:44</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">not even with this all secure context stuff</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Wed Feb 17 2016 08:44:25 GMT-0800 (Pacific Standard Time)">16:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: there&#039;s a proposal to hide APIs for insecure contexts, yes</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Wed Feb 17 2016 08:44:39 GMT-0800 (Pacific Standard Time)">16:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: but in that case the state would be immutable</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Wed Feb 17 2016 08:44:51 GMT-0800 (Pacific Standard Time)">16:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Not sure if I like that though</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Wed Feb 17 2016 08:45:09 GMT-0800 (Pacific Standard Time)">16:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">just commented in the bug, but I was just thinking the possibility to hide .history and History in shadow-iframes</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Wed Feb 17 2016 08:45:14 GMT-0800 (Pacific Standard Time)">16:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">could be a silly idea</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Wed Feb 17 2016 08:49:34 GMT-0800 (Pacific Standard Time)">16:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I&#039;d think pages end up throwing on that too</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Wed Feb 17 2016 12:38:15 GMT-0800 (Pacific Standard Time)">20:38</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=nox_@irc>nox_</span>&gt;</td><td class="msg-cell">annevk: I can do DOM if you want but HTML scares me.</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Wed Feb 17 2016 13:25:58 GMT-0800 (Pacific Standard Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">nox_: dive right in, HTML loves you and just wants to give you a big, big ... big ... hug</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Wed Feb 17 2016 13:42:29 GMT-0800 (Pacific Standard Time)">21:42</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">TabAtkins: how should i xref a global attribute in html in another spec with bikeshed? e.g. title=&quot;&quot; attribute</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Wed Feb 17 2016 13:43:17 GMT-0800 (Pacific Standard Time)">21:43</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">The same way you&#039;d ref anything else, based on whatever linking data HTML&#039;s definition exposes.  `bikeshed refs` can help.</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Wed Feb 17 2016 13:44:25 GMT-0800 (Pacific Standard Time)">21:44</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">TabAtkins: what i did in webvtt stopped working recently. see <a href="https://github.com/w3c/webvtt/commit/37cfd8bdb67972221aa6434b77bcf8a09a2177cf">https://github.com/w3c/webvtt/commit/37cfd8bdb67972221aa6434b77bcf8a09a2177cf</a></td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Wed Feb 17 2016 13:44:43 GMT-0800 (Pacific Standard Time)">21:44</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">It doesn&#039;t look like HTML provides a global title definition, at least from a quick look at `bikeshed refs --spec=html --text=title`?</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Wed Feb 17 2016 13:46:18 GMT-0800 (Pacific Standard Time)">21:46</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Ah, I see what&#039;s happening.</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Wed Feb 17 2016 13:47:57 GMT-0800 (Pacific Standard Time)">21:47</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">So I can explain both what went wrong, and what the correct thing to do is.</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Wed Feb 17 2016 13:48:03 GMT-0800 (Pacific Standard Time)">21:48</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">First, correct thing:</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Wed Feb 17 2016 13:48:22 GMT-0800 (Pacific Standard Time)">21:48</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">The global dfn *is* actually in the linking db, I just missed it.</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Wed Feb 17 2016 13:48:34 GMT-0800 (Pacific Standard Time)">21:48</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">&lt;a element-attr for=/&gt;title&lt;/a&gt; will grab it.</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Wed Feb 17 2016 13:49:35 GMT-0800 (Pacific Standard Time)">21:49</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Run `bikeshed refs --spec=html --text=title --type=element-attr` to find it - it&#039;s the first one.</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Wed Feb 17 2016 13:50:02 GMT-0800 (Pacific Standard Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Second, what went wrong:</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Wed Feb 17 2016 13:50:43 GMT-0800 (Pacific Standard Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">You have title defined in your anchors block, so your autolinks were picking it up from there.</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Wed Feb 17 2016 13:51:46 GMT-0800 (Pacific Standard Time)">21:51</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">But I recently changed things, at Anne&#039;s request (and because it made sense) so that if you specify `spec` on an autolink, it ignores any local links, because you&#039;re *very explicitly* indicating that you want a foreign link.</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Wed Feb 17 2016 13:52:23 GMT-0800 (Pacific Standard Time)">21:52</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">And things specified in the anchors block count as &quot;local&quot;, so now they&#039;re skipped. ^_^</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Wed Feb 17 2016 13:53:55 GMT-0800 (Pacific Standard Time)">21:53</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">So another way you could fix this is just to remove the `spec` attribute from your title autolinks so they can grab from your anchors block again, but that&#039;s not the best method. Do what I said above.</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Wed Feb 17 2016 13:54:51 GMT-0800 (Pacific Standard Time)">21:54</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">TabAtkins: ok, i removed these from the block and removed spec=html and added for=/, which seems to work (though it says there are multiple possibilities for lang, but only lists one)... but class gives a fatal error</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Wed Feb 17 2016 13:55:07 GMT-0800 (Pacific Standard Time)">21:55</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Interesting!</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Wed Feb 17 2016 13:55:33 GMT-0800 (Pacific Standard Time)">21:55</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Oh wait, not a crash, just an error. What&#039;s it giving?</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Wed Feb 17 2016 13:55:44 GMT-0800 (Pacific Standard Time)">21:55</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">FATAL ERROR: No &#039;element-attr&#039; refs found for &#039;class&#039; with for=&#039;/&#039;.</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Wed Feb 17 2016 13:56:23 GMT-0800 (Pacific Standard Time)">21:56</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">for &lt;a element-attr for=/&gt;class&lt;/a&gt;</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Wed Feb 17 2016 13:56:38 GMT-0800 (Pacific Standard Time)">21:56</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, run `bikeshed refs --spec=html --text=class --type=element-attr` and you&#039;ll see Bikeshed doesn&#039;t see anything like that.</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Wed Feb 17 2016 13:57:29 GMT-0800 (Pacific Standard Time)">21:57</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Mang where the hell is it defined? I spot only one definition of &quot;class&quot; of any type in HTML, and it&#039;s for microdata.</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Wed Feb 17 2016 13:57:59 GMT-0800 (Pacific Standard Time)">21:57</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell"><a href="https://html.spec.whatwg.org/multipage/dom.html#classes">https://html.spec.whatwg.org/multipage/dom.html#classes</a></td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Wed Feb 17 2016 13:59:23 GMT-0800 (Pacific Standard Time)">21:59</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">the id doesn&#039;t follow the same pattern as the other attributes... is that the problem?</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Wed Feb 17 2016 14:00:29 GMT-0800 (Pacific Standard Time)">22:00</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">if so, could fix it in html</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Wed Feb 17 2016 14:00:37 GMT-0800 (Pacific Standard Time)">22:00</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">but need to sleep now</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Wed Feb 17 2016 14:00:44 GMT-0800 (Pacific Standard Time)">22:00</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">will read #whatwg logs tomorrow</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Wed Feb 17 2016 14:02:14 GMT-0800 (Pacific Standard Time)">22:02</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">igrigorik: ping</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Wed Feb 17 2016 14:02:45 GMT-0800 (Pacific Standard Time)">22:02</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">igrigorik: are prefetch etc really supposed to work in any document</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Wed Feb 17 2016 14:03:05 GMT-0800 (Pacific Standard Time)">22:03</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and not only in documents which have browsing context</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Wed Feb 17 2016 14:04:14 GMT-0800 (Pacific Standard Time)">22:04</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">zcorpan: Yeah, the &lt;dfn&gt;class&lt;/dfn&gt; doesn&#039;t have an ID on it, so it&#039;s not an anchor, and the heading doesn&#039;t have the right ID pattern for Shepherd to auto-detect what it&#039;s about either.</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Wed Feb 17 2016 14:04:35 GMT-0800 (Pacific Standard Time)">22:04</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">zcorpan: Just add id=&quot;attr-class&quot; to the &lt;dfn&gt;class&lt;/dfn&gt;.</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Wed Feb 17 2016 14:05:34 GMT-0800 (Pacific Standard Time)">22:05</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Doing the same to &quot;style&quot;, in the next section, would be great too.</td></tr>

</tbody></table></div></div></div></body>
