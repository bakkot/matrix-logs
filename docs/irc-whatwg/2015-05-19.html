<!doctype html>
<head>
  <title>#whatwg on 2015-05-19</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2015-05-19<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2015-05-18" class="nav-link"><span>prev</span></a>
<a href="2015-05-20" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon May 18 2015 17:09:07 GMT-0700 (Pacific Daylight Time)">00:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Arrow was pretty good :D</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon May 18 2015 18:14:00 GMT-0700 (Pacific Daylight Time)">01:14</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=eik@irc>eik</span>&gt;</td><td class="msg-cell">Hi, In <a href="http://www.w3.org/TR/html5/embedded-content-0.html#update-the-image-data">http://www.w3.org/TR/html5/embedded-content-0.html#update-the-image-data</a> talks about update the image data algorithm. I have several questions regarding it - How is this algorithm invoked? Does UI task source enqueue a task to invoke the algorithm? - In step 8 it says that asynchronously await a stable state. What is a stable state in this case? Why can not run the algorithm till step 13 and say run the remaining steps asynchrono</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue May 19 2015 06:33:13 GMT-0700 (Pacific Daylight Time)">13:33</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: we&#039;re still on season 1</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue May 19 2015 09:15:39 GMT-0700 (Pacific Daylight Time)">16:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: why is it OK to store an empty body in the cache but not to store a body that&#039;s been read-to-the-end?</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue May 19 2015 09:17:13 GMT-0700 (Pacific Daylight Time)">16:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: maybe a question for JakeA or annevk, but IMO a drained Response is not the same as a Response with no body... the drained Response does not conceptually capture the true network response any more</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue May 19 2015 09:18:03 GMT-0700 (Pacific Daylight Time)">16:18</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm, that fits very poorly with streams.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue May 19 2015 09:20:52 GMT-0700 (Pacific Daylight Time)">16:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I don&#039;t follow... why do you say that?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue May 19 2015 09:21:21 GMT-0700 (Pacific Daylight Time)">16:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: because of what I wrote in the bug ... &quot; If I give you a stream I&#039;ve read all the chunks from (and thus happens to be closed), that should be the same as some random stream that was never read from but is also closed (because nothing was ever enqueued into it). They behave the same in every respect so there&#039;s no point in introducing something new</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue May 19 2015 09:21:21 GMT-0700 (Pacific Daylight Time)">16:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">to differentiate them.&quot;</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue May 19 2015 09:21:41 GMT-0700 (Pacific Daylight Time)">16:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: without the &quot;don&#039;t set used flag if the stream is empty&quot; optimization its all very easy... Cache API looks to see if the stream is closed... if it is, then its &quot;used&quot;</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue May 19 2015 09:22:03 GMT-0700 (Pacific Daylight Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: right. That&#039;s why I was wondering if we could reject for empty bodies.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue May 19 2015 09:22:06 GMT-0700 (Pacific Daylight Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: the complexity only comes in trying to special case the &quot;stream is closed, but it doesn&#039;t matter because it was empty anyway&quot; condition</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue May 19 2015 09:22:13 GMT-0700 (Pacific Daylight Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Exactly.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue May 19 2015 09:22:38 GMT-0700 (Pacific Daylight Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: which unfortunately is already out there in fetch and seems like something reasonably needed for API ergonomics</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue May 19 2015 09:22:44 GMT-0700 (Pacific Daylight Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I don&#039;t understand why</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue May 19 2015 09:22:57 GMT-0700 (Pacific Daylight Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">why it improves ergonomics?</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue May 19 2015 09:23:05 GMT-0700 (Pacific Daylight Time)">16:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Is it expected to be common to say res.text() then cache.put(res) but only if res.text() returned &quot;&quot;?</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue May 19 2015 09:24:19 GMT-0700 (Pacific Daylight Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: the ergonomics mainly come from being able to reuse Request objects... so var req = new Request(url); fetch(req); fetch(req); cache.add(req);</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue May 19 2015 09:24:33 GMT-0700 (Pacific Daylight Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">you can reuse the same request for multiple calls that consume if there are no bodies</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue May 19 2015 09:24:39 GMT-0700 (Pacific Daylight Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">if there is no body</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue May 19 2015 09:24:45 GMT-0700 (Pacific Daylight Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: how can you tell there&#039;s no body.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue May 19 2015 09:25:05 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">without this optimization then you would need:  var req = new Request(url); fetch(req.clone()); fetch(req.clone()); cache.add(req.clone());</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue May 19 2015 09:25:15 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: if its a GET request, there is no body</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue May 19 2015 09:25:19 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">for example</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue May 19 2015 09:25:29 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">i see</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue May 19 2015 09:25:31 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">but I agree, there is no easy way to inspect it</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue May 19 2015 09:25:36 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">.body.empty :-)</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue May 19 2015 09:25:40 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">maybe null body vs. empty body makes more sense for GET requests</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue May 19 2015 09:25:43 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">.body === null</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue May 19 2015 09:25:57 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I don&#039;t think that would be very nice for .body.getReader()</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue May 19 2015 09:26:03 GMT-0700 (Pacific Daylight Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I think it would</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Tue May 19 2015 09:26:11 GMT-0700 (Pacific Daylight Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">now .body.getReader() always needs a if (.body) check first to avoid throwing?</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Tue May 19 2015 09:26:14 GMT-0700 (Pacific Daylight Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">ugh</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Tue May 19 2015 09:26:15 GMT-0700 (Pacific Daylight Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yes</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Tue May 19 2015 09:26:18 GMT-0700 (Pacific Daylight Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Same as fetch()</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Tue May 19 2015 09:26:28 GMT-0700 (Pacific Daylight Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">You&#039;re saying people will do multiple fetch()s because they know there&#039;s no body</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Tue May 19 2015 09:26:36 GMT-0700 (Pacific Daylight Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I thought we were trying to unify null/empty concepts... not make it even harder to work with</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Tue May 19 2015 09:26:37 GMT-0700 (Pacific Daylight Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I&#039;m saying people will not do .body if they know there&#039;s no body</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Tue May 19 2015 09:27:13 GMT-0700 (Pacific Daylight Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It&#039;s the same argument</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Tue May 19 2015 09:28:21 GMT-0700 (Pacific Daylight Time)">16:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: what does .body evaluate to if new Request(url, { body: &#039;&#039; })?</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Tue May 19 2015 09:28:40 GMT-0700 (Pacific Daylight Time)">16:28</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: an empty stream. IMO that should not be multi-fetchable().</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Tue May 19 2015 09:29:03 GMT-0700 (Pacific Daylight Time)">16:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I&#039;m not sure what the current spec does with that... might not be multi-fetchable</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Tue May 19 2015 09:29:57 GMT-0700 (Pacific Daylight Time)">16:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I&#039;m ok with this suggestion... but it seems tyoshino does not like approach</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Tue May 19 2015 09:30:06 GMT-0700 (Pacific Daylight Time)">16:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">from previous github comments</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Tue May 19 2015 09:31:26 GMT-0700 (Pacific Daylight Time)">16:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I will try to outline...</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Tue May 19 2015 09:35:22 GMT-0700 (Pacific Daylight Time)">16:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: thanks, I have to run to lunch but will be back later</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Tue May 19 2015 09:50:54 GMT-0700 (Pacific Daylight Time)">16:50</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=yhirano_@irc>yhirano_</span>&gt;</td><td class="msg-cell">Domenic, in the past discussion you wanted to allow calling text() on a partially consumed response. Is it still your strong preference?</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Tue May 19 2015 09:52:07 GMT-0700 (Pacific Daylight Time)">16:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yhirano_: if it can simplify things a lot I could give it up. But I think my proposal in <a href="https://github.com/yutakahirano/fetch-with-streams/issues/37#issuecomment-103584177">https://github.com/yutakahirano/fetch-with-streams/issues/37#issuecomment-103584177</a> lets us keep that and is still sane.</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Tue May 19 2015 09:54:04 GMT-0700 (Pacific Daylight Time)">16:54</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=terinjokes@irc>terinjokes</span>&gt;</td><td class="msg-cell">hrm, packaging-on-the-web might be annoying to prollyfil, since each part can have a different content-encoding, so one would have to ship all of iconv</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Tue May 19 2015 09:54:10 GMT-0700 (Pacific Daylight Time)">16:54</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=terinjokes@irc>terinjokes</span>&gt;</td><td class="msg-cell">at least, from my reading</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Tue May 19 2015 09:55:58 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">terinjokes: only support utf8</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Tue May 19 2015 09:56:00 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=yhirano_@irc>yhirano_</span>&gt;</td><td class="msg-cell">Sorry I don&#039;t understand. Won&#039;t fetch(new Request(url, body: &#039;&#039;)) fail with your proposal?</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Tue May 19 2015 09:56:35 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yhirano_: hmm yes, it will as written. that seems bad. i meant it to work once but not twice.</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Tue May 19 2015 10:55:41 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: why will that one fail?</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Tue May 19 2015 10:56:22 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: haven&#039;t read the 11 responses since I got back, but, off the bad body will be a closed stream, and in my proposal fetch()ing a closed stream will fail.</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Tue May 19 2015 10:56:29 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">s/bad/bat</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Tue May 19 2015 10:56:53 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I thought I read in a previous comment there was an initial &quot;readable&quot; state and it only went truly closed on first read()</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Tue May 19 2015 10:56:58 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell"><span class="nick nick-12" title=wanderview@irc>wanderview</span></td><td class="msg-cell">goes to look at the spec again</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Tue May 19 2015 10:57:43 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: oh... I was thinking of the state attribute... I guess that went away when we switched to Promise-returning read()</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Tue May 19 2015 10:57:59 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: even before, once the controller of the stream calls close(), the stream is closed.</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Tue May 19 2015 10:58:43 GMT-0700 (Pacific Daylight Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: so there is no way to use .body.getReader().closed here somehow?</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Tue May 19 2015 10:59:43 GMT-0700 (Pacific Daylight Time)">17:59</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: no, empty body will be immediately closed.</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Tue May 19 2015 11:00:00 GMT-0700 (Pacific Daylight Time)">18:00</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">an empty closed stream is the same as a drained closed stream.</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Tue May 19 2015 11:00:21 GMT-0700 (Pacific Daylight Time)">18:00</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">streams don&#039;t retain knowledge of how they&#039;ve been interacted with; they just have a current state.</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Tue May 19 2015 11:00:48 GMT-0700 (Pacific Daylight Time)">18:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: well... new Request(url, { body: &#039;&#039; }) could just set body to null as a special case... not sure that works with the other body constructor options, though</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Tue May 19 2015 11:01:01 GMT-0700 (Pacific Daylight Time)">18:01</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yeah I was thinking that...</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Tue May 19 2015 11:03:25 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: what about creating a wrapper ReadableStream for Request/Response that handles this extra logic</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Tue May 19 2015 11:10:04 GMT-0700 (Pacific Daylight Time)">18:10</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: seems plausible, although annoying... I am losing sight of what we&#039;re gaining for all this complexity ... I think it is the ability to fetch() some requests multiple times but not others?</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Tue May 19 2015 11:11:21 GMT-0700 (Pacific Daylight Time)">18:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: well... this behavior has been released in fetch for some time now... even if we don&#039;t like it, not sure we can get rid of it</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Tue May 19 2015 11:11:51 GMT-0700 (Pacific Daylight Time)">18:11</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I kind of wish it was a .body() function now so we could say the moment you call it we switch into sane mode...</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Tue May 19 2015 11:12:08 GMT-0700 (Pacific Daylight Time)">18:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: its not too late for that</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Tue May 19 2015 11:12:22 GMT-0700 (Pacific Daylight Time)">18:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">but I don&#039;t think extra modes would be a good thing</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Tue May 19 2015 11:13:40 GMT-0700 (Pacific Daylight Time)">18:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: as a side note... I do think it would be nice to have a synchronous way to get the stream state... it seems right now everything is async through .read() or .closed promise... right?</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Tue May 19 2015 11:14:03 GMT-0700 (Pacific Daylight Time)">18:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: yes, that is intentional because otherwise it causes GC observability issues, IIRC.</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Tue May 19 2015 11:14:33 GMT-0700 (Pacific Daylight Time)">18:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: hmm... not sure I follow</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Tue May 19 2015 11:14:52 GMT-0700 (Pacific Daylight Time)">18:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I don&#039;t remember the details... probably somewhere in that big GC thread...</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Tue May 19 2015 11:15:36 GMT-0700 (Pacific Daylight Time)">18:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I can see GC observability for a callback of some kind... but a sync attribute can&#039;t be accessed if the objects it on is GC&#039;d...</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Tue May 19 2015 11:15:48 GMT-0700 (Pacific Daylight Time)">18:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">hmm that&#039;s true</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Tue May 19 2015 12:01:59 GMT-0700 (Pacific Daylight Time)">19:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: how does giving up .text() on partially read streams help here?</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Tue May 19 2015 12:02:13 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: no idea, but yhirano_ was asking about it, so I thought I&#039;d put it on record.</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Tue May 19 2015 12:02:38 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I guess we could have the .body getter set bodyUsed... but thats a little overeager!</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Tue May 19 2015 12:02:58 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: that was kind of what I was thinking with sane-mode... would rather it be a function in that case.</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Tue May 19 2015 12:03:30 GMT-0700 (Pacific Daylight Time)">19:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Although 43 shipped today so I can&#039;t imagine Chrome would be happy with that change</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Tue May 19 2015 12:04:10 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(hmm, I should probably be celebrating, now that I think about it...)</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Tue May 19 2015 12:04:36 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">seems someone should be able to do var reader = s.body.getReader(); reader.closed.then(itsclosedjim); reader.releaseLock(); without forcing bodyUsed to true</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Tue May 19 2015 12:04:53 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell"><span class="nick nick-12" title=wanderview@irc>wanderview</span></td><td class="msg-cell">wonders why .closed promise is on the reader instead of the stream...</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Tue May 19 2015 12:04:54 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Tue May 19 2015 12:05:03 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">*that* was for GC reasons, I am 100% sure</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Tue May 19 2015 12:05:09 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Tue May 19 2015 12:05:36 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">does the .closed promise not resolve if you .releaseLock()?</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Tue May 19 2015 12:05:51 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">it is already resolved the moment the reader came into existence.</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Tue May 19 2015 12:06:07 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: for a stream with actual content?</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Tue May 19 2015 12:06:13 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">no, sorry</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Tue May 19 2015 12:06:23 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">it will immediately resolve when you releaseLock()</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Tue May 19 2015 12:06:32 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">inactive readers act like closed streams</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Tue May 19 2015 12:07:04 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">still stuck thinking about &quot; seems someone should be able to do&quot;</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Tue May 19 2015 12:07:24 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: so if I want to observe when the stream consumption is complete I need to do something like s.pipeTo(sink).getReader().closed.then(foo)?</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Tue May 19 2015 12:07:31 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">what if ... bodyUsed was set to true for empty streams (as well as drained ones). But, putting GET requests didn&#039;t care about bodyUsed?</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Tue May 19 2015 12:07:44 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: s.pipeTo(sink).then(foo)</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Tue May 19 2015 12:08:13 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I guess I&#039;m trying to see how the .closed promise is useful if you can only use it when you are the sole reader...</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Tue May 19 2015 12:08:53 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">that&#039;s true</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Tue May 19 2015 12:08:58 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">it might be vestigial at this point :-S</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Tue May 19 2015 12:09:18 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">well, not quite</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Tue May 19 2015 12:09:25 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: the other problem I see with setting bodyUsed in .body getter or a .body()... now you can&#039;t check for body null without triggering bodyUsed</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Tue May 19 2015 12:09:33 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">even if you are the sole reader it is quite useful for getting consolidated error notifications for example</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Tue May 19 2015 12:10:01 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">yea... some use... just not what I expected when I saw it in the API</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Tue May 19 2015 12:10:09 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I thought it was an external observer</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Tue May 19 2015 12:10:27 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">it was but then GC concerns forced it into hte background. we reasoned we could add it back later.</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Tue May 19 2015 12:10:51 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">s/into hte background/solely into the reader/</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Tue May 19 2015 12:10:52 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">it can also be manually added with a Transform that you pipeThrough()</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Tue May 19 2015 12:11:01 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">an ObserverTransform</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Tue May 19 2015 12:11:04 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">or whatever</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Tue May 19 2015 12:11:40 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">true</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Tue May 19 2015 12:11:50 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">and if that&#039;s author-space it shouldn&#039;t have GC issues</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Tue May 19 2015 12:11:53 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">maybe we can add it back</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Tue May 19 2015 12:12:29 GMT-0700 (Pacific Daylight Time)">19:12</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">OK what if we modified my proposal from <a href="https://github.com/yutakahirano/fetch-with-streams/issues/37#issuecomment-103584177">https://github.com/yutakahirano/fetch-with-streams/issues/37#issuecomment-103584177</a> to not error for GETs</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Tue May 19 2015 12:13:03 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">well... HEAD OR GET</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Tue May 19 2015 12:13:05 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">so that would mean fetch(new Request(url, { body: &quot;&quot;, method: &quot;POST&quot; })) fails, hmm. seems not great</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Tue May 19 2015 12:13:06 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Tue May 19 2015 12:13:18 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">but can&#039;t other methods optionally have bodies or not?</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Tue May 19 2015 12:13:21 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">like PUT and POST</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Tue May 19 2015 12:13:25 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yeah.</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Tue May 19 2015 12:13:36 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I think I prefer the wrapper</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Tue May 19 2015 12:13:37 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I guess we could do the thing you were suggesting and translate empty body to null body</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Tue May 19 2015 12:13:45 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wrapper sounds so heavyweight, but, maybe it is ok.</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Tue May 19 2015 12:13:55 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">i still think the overall story here is bizarre</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Tue May 19 2015 12:14:01 GMT-0700 (Pacific Daylight Time)">19:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">i.e. what we tell developers</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Tue May 19 2015 12:14:29 GMT-0700 (Pacific Daylight Time)">19:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">&quot;sometimes you can multi-fetch, sometimes not. if you read the body to the end you cannot multi-fetch, but if the body was empty in the first place you can.&quot; etc.</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Tue May 19 2015 12:14:42 GMT-0700 (Pacific Daylight Time)">19:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: the problem with special casing &quot;&quot; is that it won&#039;t work if a ReadableStream is passed directly as the body:  new Request(url, { body: streamThatMaybeHasData });</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Tue May 19 2015 12:15:21 GMT-0700 (Pacific Daylight Time)">19:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">ah right</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Tue May 19 2015 12:15:24 GMT-0700 (Pacific Daylight Time)">19:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I agree its a bit awkward... its a consequence of us not wanting to do implicit clone</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Tue May 19 2015 12:16:11 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: what do you think of a just wrapping the inner source?  fetch inserts an inner source wrapper into the body stream... once it gets its &quot;a byte was read&quot; state info then it removes its wrapper from the chain</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Tue May 19 2015 12:16:22 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">removing itself could be an implementation optimization</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Tue May 19 2015 12:16:23 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">code?</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Tue May 19 2015 12:17:04 GMT-0700 (Pacific Daylight Time)">19:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: it would have to work on the inner concepts of the stream... is there a way to refer to the inner source in code currently?</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Tue May 19 2015 12:17:13 GMT-0700 (Pacific Daylight Time)">19:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">this would not be something we would let normal script do, I think</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Tue May 19 2015 12:17:43 GMT-0700 (Pacific Daylight Time)">19:17</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: no, there is not... it&#039;s the same kind of layering violation I currently see in Blink I guess, is what you&#039;re suggesting.</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Tue May 19 2015 12:17:50 GMT-0700 (Pacific Daylight Time)">19:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: to be honest, in gecko I would probably just stick a boolean &quot;ever got data&quot; into a private stream slot and let the DOM code inspect it</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Tue May 19 2015 12:18:23 GMT-0700 (Pacific Daylight Time)">19:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I think thats the cheapest, simplest solution</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Tue May 19 2015 12:19:06 GMT-0700 (Pacific Daylight Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">this is making me sad</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Tue May 19 2015 12:19:39 GMT-0700 (Pacific Daylight Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">&quot;it won&#039;t work if a ReadableStream is passed directly as the body&quot; what if we say that always errors</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Tue May 19 2015 12:19:49 GMT-0700 (Pacific Daylight Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(if the ReadableStream is closed)</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Tue May 19 2015 12:19:58 GMT-0700 (Pacific Daylight Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">we could let &quot;&quot; error too</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Tue May 19 2015 12:20:04 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">only null bodies work for multi-fetch</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Tue May 19 2015 12:20:20 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">seems conceptually closer to how things actually work</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Tue May 19 2015 12:20:26 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">you can only multi-fetch when you truly have no body</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Tue May 19 2015 12:20:35 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">is what we&#039;re trying to enforce here</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Tue May 19 2015 12:20:43 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">we shouldn&#039;t have a loophole for empty bodies</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Tue May 19 2015 12:20:49 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I think that creates a bit of the quantum streams problem for a pipe passed as the body... for example, if you consume the stream before pipe writer end is closed, then it works... but if the pipe writer end decides its done and no data was ever written, then now the body can&#039;t be used</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Tue May 19 2015 12:21:24 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I like that, except for the problem were passing &quot;&quot; errors without ever being usable</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Tue May 19 2015 12:21:38 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">&quot;&quot; erroring seems OK</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Tue May 19 2015 12:21:48 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">don&#039;t use body: &quot;&quot;, use body: null.</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Tue May 19 2015 12:22:02 GMT-0700 (Pacific Daylight Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">*or*, just clone defensively, if you&#039;re unsure.</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Tue May 19 2015 12:22:08 GMT-0700 (Pacific Daylight Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">it would break backward compat... I guess we would have to special case &quot;&quot; for all the previously existing body initializers</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Tue May 19 2015 12:22:50 GMT-0700 (Pacific Daylight Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Let me try to write this up in a bit more detail so we can tear it down more comprehensively.</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Tue May 19 2015 12:23:12 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: can &quot;&quot; be expressed for FormData or URLSearchParams?</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Tue May 19 2015 12:23:26 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Blob has .size</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Tue May 19 2015 12:23:34 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I think BufferSource has .length</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Tue May 19 2015 12:24:11 GMT-0700 (Pacific Daylight Time)">19:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I guess for FormData and URLSearchParams we can just take the size of the resulting encoded value... they both run serializers... if the encoded value is length 0 then set body to null</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Tue May 19 2015 12:24:50 GMT-0700 (Pacific Daylight Time)">19:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Is breaking back-compat there an option? How many people are doing multi-fetch with an empty FormData?</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Tue May 19 2015 12:30:24 GMT-0700 (Pacific Daylight Time)">19:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I think we can special case all of those to set a null body when empty</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Tue May 19 2015 12:30:57 GMT-0700 (Pacific Daylight Time)">19:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: and the new ReadableStream body functions with the closed-is-drained semantics</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Tue May 19 2015 12:31:18 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I think that works for most cases... pipe might get a bit ugly as I mentioned above</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Tue May 19 2015 12:31:34 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">hold on, I appear to be reinventing the bodyUsed flag...</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Tue May 19 2015 12:31:44 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell"><span class="nick nick-1" title=Domenic@irc>Domenic</span></td><td class="msg-cell">goes to re-read the thread</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Tue May 19 2015 12:33:05 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yes, I have begun re-inventing plan(X), as it is called. Nevermind...</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Tue May 19 2015 12:34:02 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I don&#039;t think thats the same as plan(X)...  I don&#039;t think plan(X) equated stream closed with bodyUsed</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Tue May 19 2015 12:34:24 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yeah, I was trying to do a different version that allowed you to fetch() once.</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Tue May 19 2015 12:34:27 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">basically we want to define bodyUsed as `.body &amp;&amp; .body is closed`</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Tue May 19 2015 12:34:33 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">oh, ok</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Tue May 19 2015 12:36:01 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: wait a minute... how can Response or Request tell if .body is closed initially?  do they have to do a .read() and keep track to see if done:true is returned from the first .read()?</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Tue May 19 2015 12:36:08 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Tue May 19 2015 12:36:18 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">that seems problematic for .bodyUsed</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Tue May 19 2015 12:36:25 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Not problematic for actual consumption code</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Tue May 19 2015 12:36:29 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">but problematic for .bodyUsed.</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Tue May 19 2015 12:36:40 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: what if its not closed... and it gets a chunk back... it can&#039;t push it back...</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Tue May 19 2015 12:36:47 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I think we need a sync attribute to tell if closed or not</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Tue May 19 2015 12:36:50 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">then it continues consuming</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Tue May 19 2015 12:37:03 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">no need to push it back</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Tue May 19 2015 12:37:38 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: well, I mean for for .bodyUsed which is itself not a consumer</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Tue May 19 2015 12:37:48 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yes, .bodyUsed is problematic.</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Tue May 19 2015 12:38:05 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I think it would need a sync getter, you are right</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Tue May 19 2015 12:38:30 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">why is this so hard -_-. doesn&#039;t feel like it should be.</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Tue May 19 2015 12:38:36 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I think it would be useful anyway for devs to be able to inspect the state without potentially modifying the stream</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Tue May 19 2015 12:38:47 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">which was one of the reasons we added .bodyUsed</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Tue May 19 2015 12:39:00 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">i like how all access is gated on the reader and on being async</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Tue May 19 2015 12:39:08 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">but it&#039;s not essential i guess</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Tue May 19 2015 12:39:09 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: this sort of thing would probably take an order magnitude less time if we were all in the same room with a whiteboard</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Tue May 19 2015 12:39:11 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">just seems nice</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Tue May 19 2015 12:39:16 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">heh, that&#039;s fair.</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Tue May 19 2015 12:40:50 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: you could make it .body.getReader().state or whatever... so still gated on the lock</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Tue May 19 2015 12:40:57 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">sure</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Tue May 19 2015 12:41:39 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">i guess part of the mismatch here is that streams expects trying to consume a consumed stream to be a no-op</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Tue May 19 2015 12:41:49 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">whereas serviceworker and friends expect it to throw</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Tue May 19 2015 12:42:04 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">or reject i guess</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Tue May 19 2015 12:42:46 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">streams is not necessarily better when I put it that way</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Tue May 19 2015 12:44:02 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">right. and service worker has the sync &quot;will this fail&quot; getter in bodyUsed</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Tue May 19 2015 12:44:27 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">so if we want to translate between the streams model (or even if we were to change the streams model to also be a fail) we&#039;d need a &quot;will this no-op&quot; getter on streams.</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Tue May 19 2015 12:45:09 GMT-0700 (Pacific Daylight Time)">19:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">i guess the motivation is higher in service worker land because failing is something you want to avoid more actively than no-oping</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Tue May 19 2015 12:45:19 GMT-0700 (Pacific Daylight Time)">19:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">so a bodyUsed getter is more important than a closed getter.</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Tue May 19 2015 12:45:37 GMT-0700 (Pacific Daylight Time)">19:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(ugh, boolean adjective getters vs. past-tense promise getters... English is screwing us.)</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Tue May 19 2015 12:46:12 GMT-0700 (Pacific Daylight Time)">19:46</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(I guess it&#039;d be a state getter so crisis averted)</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Tue May 19 2015 12:46:20 GMT-0700 (Pacific Daylight Time)">19:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I guess I would propose a .state getter vs calling it .closed</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Tue May 19 2015 12:46:26 GMT-0700 (Pacific Daylight Time)">19:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">yesa</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Tue May 19 2015 12:46:28 GMT-0700 (Pacific Daylight Time)">19:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">yea</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Tue May 19 2015 12:47:24 GMT-0700 (Pacific Daylight Time)">19:47</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">ok i remember now why it&#039;s a no-op for streams instead of an error. because you never know if the next read() is going to be &quot;oh actually i have no more chunks for you.&quot;</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Tue May 19 2015 12:47:39 GMT-0700 (Pacific Daylight Time)">19:47</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">So .read() cannot reject on stream end because it&#039;s non-exceptional</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Tue May 19 2015 12:47:53 GMT-0700 (Pacific Daylight Time)">19:47</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">But I can understand why readToEnd(stream) rejecting on stream being empty might be exceptional</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Tue May 19 2015 12:48:05 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">i&#039;m feeling a bit better as i talk myself through this, hope you don&#039;t mind :)</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Tue May 19 2015 12:48:39 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">np</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Tue May 19 2015 12:55:40 GMT-0700 (Pacific Daylight Time)">19:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: you see this? <a href="https://twitter.com/yaypie/status/600738702038409216">https://twitter.com/yaypie/status/600738702038409216</a></td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Tue May 19 2015 12:58:08 GMT-0700 (Pacific Daylight Time)">19:58</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">no, no idea what that&#039;s about.</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Tue May 19 2015 12:58:26 GMT-0700 (Pacific Daylight Time)">19:58</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">i&#039;m tempted to blame user error until he gives more details; we have plenty of tests for concatenated minified JS.</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Tue May 19 2015 12:59:01 GMT-0700 (Pacific Daylight Time)">19:59</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=caitp-@irc>caitp-</span>&gt;</td><td class="msg-cell">in 2015 bugs get filed on twitter instead of where people can find them</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Tue May 19 2015 12:59:39 GMT-0700 (Pacific Daylight Time)">19:59</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: posted new proposal based on our discussions. i imagine it will need a few more tweaks...</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Tue May 19 2015 13:00:10 GMT-0700 (Pacific Daylight Time)">20:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">thanks, I&#039;ll take a look</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Tue May 19 2015 13:01:01 GMT-0700 (Pacific Daylight Time)">20:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">wow... I opened the email notification in gmail... and the github page was smart enough to take the (1) notification thing out of its tab name</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Tue May 19 2015 13:01:56 GMT-0700 (Pacific Daylight Time)">20:01</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">O_O</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Tue May 19 2015 13:03:46 GMT-0700 (Pacific Daylight Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Tracking images, yo.</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Tue May 19 2015 13:07:51 GMT-0700 (Pacific Daylight Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I know you don&#039;t like my &quot;quantum streams&quot;, but I think part of the mismatch we get between SW &quot;fail on consumed streams&quot; and the streams closed concept is that &quot;consumed&quot; implies that someone did something to the stream...  I think its weird conceptually for a stream to become consumed on its own spontaneously (from initially empty or the writer</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Tue May 19 2015 13:07:52 GMT-0700 (Pacific Daylight Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">end of a pipe being closed, etc)</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Tue May 19 2015 13:08:51 GMT-0700 (Pacific Daylight Time)">20:08</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yes. I don&#039;t understand that part of SW honestly, which is what this new thing is trying to fix. Why would a respones the server made empty be any different from one the developer made empty?</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Tue May 19 2015 13:10:26 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">not sure I understand what you mean by server/developer in this case</td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Tue May 19 2015 13:11:31 GMT-0700 (Pacific Daylight Time)">20:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">to me &quot;consumed&quot; conceptually requires a consumer to take an action on the stream... even if it ends up a no-op</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Tue May 19 2015 13:12:12 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I don&#039;t think consumed is a coherent concept</td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Tue May 19 2015 13:12:18 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It causes global coordination problems</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Tue May 19 2015 13:12:37 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: can you elaborate on those problems?</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Tue May 19 2015 13:12:45 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I give you an empty string from one part of the program. Have I consumed it yet, or not?</td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Tue May 19 2015 13:12:56 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">to be clear, I don&#039;t think &quot;consumed&quot; is a replacement for &quot;closed&quot;</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Tue May 19 2015 13:13:43 GMT-0700 (Pacific Daylight Time)">20:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It implies people should take different paths depending on what&#039;s happened in the past, instead of just working with what they&#039;re given in their part of the program</td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Tue May 19 2015 13:13:54 GMT-0700 (Pacific Daylight Time)">20:13</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Can there be something like iterator&#039;s &quot;done&quot; flag?  An iterator might be empty at any point, and may or may not have indicated it yet, but once it&#039;s emitted &quot;done&quot;, it&#039;s absolutely done.</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Tue May 19 2015 13:14:26 GMT-0700 (Pacific Daylight Time)">20:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">TabAtkins: yea... thats the kind of semantics I was expecting</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Tue May 19 2015 13:14:28 GMT-0700 (Pacific Daylight Time)">20:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">TabAtkins: we have that, it&#039;s closed. But service worker wants something different.</td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Tue May 19 2015 13:14:43 GMT-0700 (Pacific Daylight Time)">20:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">or not</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Tue May 19 2015 13:14:56 GMT-0700 (Pacific Daylight Time)">20:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Service worker wants &quot;has anyone ever iterated over this iterator&quot;</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Tue May 19 2015 13:15:06 GMT-0700 (Pacific Daylight Time)">20:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">which I maintain is a very strange way of programming</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Tue May 19 2015 13:15:25 GMT-0700 (Pacific Daylight Time)">20:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">You should work with the thing you&#039;re given, and its current state. Who cares how it got that way.</td></tr>
  <tr class="msg" id="L237"><td class="ts-cell"><a class="ts" href="#L237" alt="Tue May 19 2015 13:17:57 GMT-0700 (Pacific Daylight Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Domenic: Oh yeah, they just want an exclusive stream.</td></tr>
  <tr class="msg" id="L238"><td class="ts-cell"><a class="ts" href="#L238" alt="Tue May 19 2015 13:18:08 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I mean, single consumer makes sense.</td></tr>
  <tr class="msg" id="L239"><td class="ts-cell"><a class="ts" href="#L239" alt="Tue May 19 2015 13:18:35 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">they have that... they want to be sure nobody ever read it to the end and then decided they were ready to release access to its dead husk</td></tr>
  <tr class="msg" id="L240"><td class="ts-cell"><a class="ts" href="#L240" alt="Tue May 19 2015 13:18:40 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">They don&#039;t like dead husks</td></tr>
  <tr class="msg" id="L241"><td class="ts-cell"><a class="ts" href="#L241" alt="Tue May 19 2015 13:19:08 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm we could get rid of auto-release-on-close... and in fact not allow release of closed streams??</td></tr>
  <tr class="msg" id="L242"><td class="ts-cell"><a class="ts" href="#L242" alt="Tue May 19 2015 13:19:19 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">then no dead husks should be accessible</td></tr>
  <tr class="msg" id="L243"><td class="ts-cell"><a class="ts" href="#L243" alt="Tue May 19 2015 13:19:33 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Unless, like, you tee it and hand off one of the copies.</td></tr>
  <tr class="msg" id="L244"><td class="ts-cell"><a class="ts" href="#L244" alt="Tue May 19 2015 13:23:34 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: in fairness, the proposed spec explicitly did the &quot;release access to its dead husk&quot; in the .text()/etc methods</td></tr>
  <tr class="msg" id="L245"><td class="ts-cell"><a class="ts" href="#L245" alt="Tue May 19 2015 13:28:35 GMT-0700 (Pacific Daylight Time)">20:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: what is the use case for releasing the lock anyway?</td></tr>
  <tr class="msg" id="L246"><td class="ts-cell"><a class="ts" href="#L246" alt="Tue May 19 2015 13:29:08 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: once the stream is closed? not too much of one. You can contrive some ideas though.</td></tr>
  <tr class="msg" id="L247"><td class="ts-cell"><a class="ts" href="#L247" alt="Tue May 19 2015 13:29:29 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I meant ever all unlocking... even while the stream is open</td></tr>
  <tr class="msg" id="L248"><td class="ts-cell"><a class="ts" href="#L248" alt="Tue May 19 2015 13:29:48 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: allowing multiple consumers access to different parts of the stream, e.g. headers, body, trailers</td></tr>
  <tr class="msg" id="L249"><td class="ts-cell"><a class="ts" href="#L249" alt="Tue May 19 2015 13:30:25 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">readHeaders(stream).then(headers =&gt; readBody(stream).then(body =&gt; [headers, body]))</td></tr>
  <tr class="msg" id="L250"><td class="ts-cell"><a class="ts" href="#L250" alt="Tue May 19 2015 13:30:32 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">readHeaders acquires and releases a lock</td></tr>
  <tr class="msg" id="L251"><td class="ts-cell"><a class="ts" href="#L251" alt="Tue May 19 2015 13:31:47 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: and what would this case do if there were headers and no body... the stream closed and left the lock in place... what would readBody() do?</td></tr>
  <tr class="msg" id="L252"><td class="ts-cell"><a class="ts" href="#L252" alt="Tue May 19 2015 13:31:53 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">with your proposal</td></tr>
  <tr class="msg" id="L253"><td class="ts-cell"><a class="ts" href="#L253" alt="Tue May 19 2015 13:32:23 GMT-0700 (Pacific Daylight Time)">20:32</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: yeah I think it would have to check .locked first... or .state === &quot;closed&quot;??</td></tr>
  <tr class="msg" id="L254"><td class="ts-cell"><a class="ts" href="#L254" alt="Tue May 19 2015 13:32:58 GMT-0700 (Pacific Daylight Time)">20:32</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">failing though seems like a reasonable default tbh</td></tr>
  <tr class="msg" id="L255"><td class="ts-cell"><a class="ts" href="#L255" alt="Tue May 19 2015 13:33:05 GMT-0700 (Pacific Daylight Time)">20:33</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">that code seems to expect a body</td></tr>
  <tr class="msg" id="L256"><td class="ts-cell"><a class="ts" href="#L256" alt="Tue May 19 2015 13:34:15 GMT-0700 (Pacific Daylight Time)">20:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: so an initially-empty stream would start in the state === &#039;closed&#039; state, but not be locked... then someone could do getReader().read(), which would return done:true and leave the stream locked</td></tr>
  <tr class="msg" id="L257"><td class="ts-cell"><a class="ts" href="#L257" alt="Tue May 19 2015 13:34:31 GMT-0700 (Pacific Daylight Time)">20:34</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yeah i think that&#039;s the gist of it...</td></tr>
  <tr class="msg" id="L258"><td class="ts-cell"><a class="ts" href="#L258" alt="Tue May 19 2015 13:34:46 GMT-0700 (Pacific Daylight Time)">20:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: so bodyUsed would be `body !== null &amp;&amp; body.state !== &#039;readable&#039; &amp;&amp; body.locked`</td></tr>
  <tr class="msg" id="L259"><td class="ts-cell"><a class="ts" href="#L259" alt="Tue May 19 2015 13:35:08 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">sounds right</td></tr>
  <tr class="msg" id="L260"><td class="ts-cell"><a class="ts" href="#L260" alt="Tue May 19 2015 13:35:10 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: this brings us back to the original proposal modulo the &quot;can&#039;t unlock a consumed stream&quot; thing</td></tr>
  <tr class="msg" id="L261"><td class="ts-cell"><a class="ts" href="#L261" alt="Tue May 19 2015 13:35:50 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">the difference being .locked reflects the current state of the stream instead of historical information about how the current state arose.</td></tr>
  <tr class="msg" id="L262"><td class="ts-cell"><a class="ts" href="#L262" alt="Tue May 19 2015 13:40:00 GMT-0700 (Pacific Daylight Time)">20:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I think you can infer a lot by looking at state === &#039;closed&#039; and locked attribute... if its closed, but not locked, then it was initially empty</td></tr>
  <tr class="msg" id="L263"><td class="ts-cell"><a class="ts" href="#L263" alt="Tue May 19 2015 13:40:35 GMT-0700 (Pacific Daylight Time)">20:40</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">currently not true; currently state === &#039;closed&#039; =&gt; locked === false always, because it auto-unlocks on close.</td></tr>
  <tr class="msg" id="L264"><td class="ts-cell"><a class="ts" href="#L264" alt="Tue May 19 2015 13:41:51 GMT-0700 (Pacific Daylight Time)">20:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: right, I meant with your proposal</td></tr>
  <tr class="msg" id="L265"><td class="ts-cell"><a class="ts" href="#L265" alt="Tue May 19 2015 13:45:16 GMT-0700 (Pacific Daylight Time)">20:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L266"><td class="ts-cell"><a class="ts" href="#L266" alt="Tue May 19 2015 14:03:56 GMT-0700 (Pacific Daylight Time)">21:03</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">philipj, Domenic: I tried filing a Chromium bug to get caretPositionFromPoint implemented (instead of nonstandard caretRangeFromPoint) but it didn&#039;t work out too well: <a href="https://code.google.com/p/chromium/issues/detail?id=388976">https://code.google.com/p/chromium/issues/detail?id=388976</a></td></tr>
  <tr class="msg" id="L267"><td class="ts-cell"><a class="ts" href="#L267" alt="Tue May 19 2015 14:04:23 GMT-0700 (Pacific Daylight Time)">21:04</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">is there a better path?</td></tr>
  <tr class="msg" id="L268"><td class="ts-cell"><a class="ts" href="#L268" alt="Tue May 19 2015 14:05:25 GMT-0700 (Pacific Daylight Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">oof, that looks like some triage went wrong. I am not a veteran of the best procedures for such things but will ask around... philipj probably is such a veteran.</td></tr>
  <tr class="msg" id="L269"><td class="ts-cell"><a class="ts" href="#L269" alt="Tue May 19 2015 14:07:26 GMT-0700 (Pacific Daylight Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">thanks</td></tr>
  <tr class="msg" id="L270"><td class="ts-cell"><a class="ts" href="#L270" alt="Tue May 19 2015 14:14:16 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I&#039;m trying to log into my <a href="http://chromium.org">chromium.org</a> account, but it&#039;s fine to just put that back as Available.</td></tr>
  <tr class="msg" id="L271"><td class="ts-cell"><a class="ts" href="#L271" alt="Tue May 19 2015 14:14:31 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">That&#039;s def the worst triage I&#039;ve ever seen. roc, plz ping if you ever get service that bad.</td></tr>
  <tr class="msg" id="L272"><td class="ts-cell"><a class="ts" href="#L272" alt="Tue May 19 2015 14:14:58 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">oh, I&#039;ve seen worse :-). Thanks</td></tr>
  <tr class="msg" id="L273"><td class="ts-cell"><a class="ts" href="#L273" alt="Tue May 19 2015 14:15:06 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell"><a href="http://chromium.org">chromium.org</a> accounts. the worst.</td></tr>
  <tr class="msg" id="L274"><td class="ts-cell"><a class="ts" href="#L274" alt="Tue May 19 2015 14:15:16 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">are they volunteers?</td></tr>
  <tr class="msg" id="L275"><td class="ts-cell"><a class="ts" href="#L275" alt="Tue May 19 2015 14:15:39 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">no I just meant having separate google accounts to use for chromium is the worst. I dunno about the triagers.</td></tr>
  <tr class="msg" id="L276"><td class="ts-cell"><a class="ts" href="#L276" alt="Tue May 19 2015 14:50:57 GMT-0700 (Pacific Daylight Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=philipj@irc>philipj</span>&gt;</td><td class="msg-cell">roc: is Gecko the only engine to implement caretPositionFromPoint so far?</td></tr>
  <tr class="msg" id="L277"><td class="ts-cell"><a class="ts" href="#L277" alt="Tue May 19 2015 14:51:25 GMT-0700 (Pacific Daylight Time)">21:51</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=philipj@irc>philipj</span>&gt;</td><td class="msg-cell">looks like IE doesn&#039;t implement caretPositionFromPoint or caretRangeFromPoint, and WebKit/Blink only the latter</td></tr>
  <tr class="msg" id="L278"><td class="ts-cell"><a class="ts" href="#L278" alt="Tue May 19 2015 15:25:59 GMT-0700 (Pacific Daylight Time)">22:25</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">philipj: I guess so</td></tr>
  <tr class="msg" id="L279"><td class="ts-cell"><a class="ts" href="#L279" alt="Tue May 19 2015 15:26:24 GMT-0700 (Pacific Daylight Time)">22:26</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">philipj: I suppose we could revert the spec to caretRangeFromPoint if you think that&#039;s best. You should talk to zcorpan about it</td></tr>
  <tr class="msg" id="L280"><td class="ts-cell"><a class="ts" href="#L280" alt="Tue May 19 2015 15:27:35 GMT-0700 (Pacific Daylight Time)">22:27</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=philipj@irc>philipj</span>&gt;</td><td class="msg-cell">roc: I suppose you don&#039;t have any metrics for how often caretPositionFromPoint is used?</td></tr>
  <tr class="msg" id="L281"><td class="ts-cell"><a class="ts" href="#L281" alt="Tue May 19 2015 15:28:08 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">if we&#039;re the only browser with it, I&#039;m guessing it&#039;s unused</td></tr>
  <tr class="msg" id="L282"><td class="ts-cell"><a class="ts" href="#L282" alt="Tue May 19 2015 15:28:14 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">could be wrong</td></tr>
  <tr class="msg" id="L283"><td class="ts-cell"><a class="ts" href="#L283" alt="Tue May 19 2015 15:28:30 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">so yeah, no data</td></tr>
  <tr class="msg" id="L284"><td class="ts-cell"><a class="ts" href="#L284" alt="Tue May 19 2015 15:28:32 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=philipj@irc>philipj</span>&gt;</td><td class="msg-cell">caretPositionFromPoint is a less strange API, I can see why it was changed</td></tr>
  <tr class="msg" id="L285"><td class="ts-cell"><a class="ts" href="#L285" alt="Tue May 19 2015 15:31:23 GMT-0700 (Pacific Daylight Time)">22:31</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=caitp-@irc>caitp-</span>&gt;</td><td class="msg-cell">good job whoever fixed qSA + camelcased elements/attributes :d</td></tr>
  <tr class="msg" id="L286"><td class="ts-cell"><a class="ts" href="#L286" alt="Tue May 19 2015 15:31:26 GMT-0700 (Pacific Daylight Time)">22:31</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=philipj@irc>philipj</span>&gt;</td><td class="msg-cell">I&#039;ll start a search in httparchive to see how caretRangeFromPoint is actually used</td></tr>
  <tr class="msg" id="L287"><td class="ts-cell"><a class="ts" href="#L287" alt="Tue May 19 2015 15:44:03 GMT-0700 (Pacific Daylight Time)">22:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">TabAtkins: where&#039;s that spec where you were writing things in JS? colors maybe?</td></tr>
  <tr class="msg" id="L288"><td class="ts-cell"><a class="ts" href="#L288" alt="Tue May 19 2015 15:45:15 GMT-0700 (Pacific Daylight Time)">22:45</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Domenic: Yeah, color 4</td></tr>
  <tr class="msg" id="L289"><td class="ts-cell"><a class="ts" href="#L289" alt="Tue May 19 2015 15:45:20 GMT-0700 (Pacific Daylight Time)">22:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Found it.</td></tr>
  <tr class="msg" id="L290"><td class="ts-cell"><a class="ts" href="#L290" alt="Tue May 19 2015 15:45:28 GMT-0700 (Pacific Daylight Time)">22:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">V8 extras candidate \o/</td></tr>
  <tr class="msg" id="L291"><td class="ts-cell"><a class="ts" href="#L291" alt="Tue May 19 2015 16:04:36 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Domenic: ???</td></tr>
  <tr class="msg" id="L292"><td class="ts-cell"><a class="ts" href="#L292" alt="Tue May 19 2015 16:05:11 GMT-0700 (Pacific Daylight Time)">23:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">TabAtkins: <a href="https://groups.google.com/forum/#!topic/v8-users/D6FmTwlvCgk">https://groups.google.com/forum/#!topic/v8-users/D6FmTwlvCgk</a> people asking for a design doc, I&#039;m writing one, was looking for examples of where V8 extras would be a good strategy, color API is definitely one.</td></tr>
  <tr class="msg" id="L293"><td class="ts-cell"><a class="ts" href="#L293" alt="Tue May 19 2015 16:06:36 GMT-0700 (Pacific Daylight Time)">23:06</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Ah, cool.</td></tr>

</tbody></table></div></div></div></body>
