<!doctype html>
<head>
  <title>#whatwg on 2019-03-13</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "#whatwg";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2019-03-13<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2019-03-12" class="nav-link"><span>prev</span></a>
<a href="2019-03-14" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Mar 12 2019 18:25:33 GMT-0700 (Pacific Daylight Time)">01:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">annevk: found this old related issue <a href="https://github.com/whatwg/html/issues/2579">https://github.com/whatwg/html/issues/2579</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Mar 13 2019 03:55:28 GMT-0700 (Pacific Daylight Time)">10:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">annevk: where does the fetch spec normatively state the requirement that CORS requests can only have the http/https protocol scheme?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Mar 13 2019 04:12:27 GMT-0700 (Pacific Daylight Time)">11:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: in main fetch it might be somewhat implicitly stated</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Mar 13 2019 04:13:19 GMT-0700 (Pacific Daylight Time)">11:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: I’d be interested in learning more about the issues with squashing</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Mar 13 2019 04:13:25 GMT-0700 (Pacific Daylight Time)">11:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">jyasskin: ^^</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Mar 13 2019 04:17:10 GMT-0700 (Pacific Daylight Time)">11:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">annevk: yeah thinking about it more I realize that the protocol can‘</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Mar 13 2019 04:17:15 GMT-0700 (Pacific Daylight Time)">11:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">oofs</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Mar 13 2019 04:17:55 GMT-0700 (Pacific Daylight Time)">11:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">*can’t work unless the response can include HTTP headers</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Mar 13 2019 04:30:11 GMT-0700 (Pacific Daylight Time)">11:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: well, Fetch does have this abstraction where all responses have headers and such</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Mar 13 2019 04:30:23 GMT-0700 (Pacific Daylight Time)">11:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: so assuming there&#039;s some suitable mapping, it&#039;s all good</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Mar 13 2019 04:30:52 GMT-0700 (Pacific Daylight Time)">11:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: but Fetch also safelists schemes, so it&#039;s not all good</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Mar 13 2019 04:52:20 GMT-0700 (Pacific Daylight Time)">11:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">annevk: I see. But there’s no way for a non-HTTP(S) server to add an Access-Control-Allow-Origin response header to a response, right? So regardless of the abstraction the spec, and non-HTTP(S) server can’t use the CORS protocol (to get browsers to relax the same-origin policy), right?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Mar 13 2019 04:59:44 GMT-0700 (Pacific Daylight Time)">11:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: is this theoretical or practical?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Mar 13 2019 05:08:02 GMT-0700 (Pacific Daylight Time)">12:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">annevk: practical; part of the context is, until today the MDN article on XHR contained a statement saying that ftp URLs could be used with the XHR API</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Mar 13 2019 05:09:48 GMT-0700 (Pacific Daylight Time)">12:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">I removed that. But it occured to me that it would be helpful to have a clear explanation of why ftp requests can’t be made cross-orgin</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Mar 13 2019 05:11:03 GMT-0700 (Pacific Daylight Time)">12:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: I think that&#039;s technically possible though</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Mar 13 2019 05:11:22 GMT-0700 (Pacific Daylight Time)">12:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: if you get an ftp response sniffed as an HTML document that could then execute script to fetch something from the same server</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Mar 13 2019 05:11:28 GMT-0700 (Pacific Daylight Time)">12:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: no CORS needed</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Mar 13 2019 05:12:11 GMT-0700 (Pacific Daylight Time)">12:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">(now some of these things might have gotten restricted over the years, I&#039;m not exactly sure where we are at with FTP deprecation)</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Mar 13 2019 05:12:34 GMT-0700 (Pacific Daylight Time)">12:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: that BarProp thing turns out to be a gigantic nerd-snipe</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Mar 13 2019 05:18:59 GMT-0700 (Pacific Daylight Time)">12:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">annevk: I see. But nowadays CORB would anyway block an ftp response sniffed as an HTML document, right? So in practice it seems the gist of is that a cross-origin ftp request is just not gonna work in modern browsers ー though I guess maybe it could still work in some older browsers</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Mar 13 2019 05:19:48 GMT-0700 (Pacific Daylight Time)">12:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">annevk: For smaller PRs, I don&#039;t think squashing is a major concern, but once features become larger, loss of history once they get merged can be a problem. I know jyasskin was worried about that when it comes to SXG and Fetch integration</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Mar 13 2019 05:23:43 GMT-0700 (Pacific Daylight Time)">12:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">MikeSmith: I don&#039;t see why CORB would be at play here</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Mar 13 2019 05:24:29 GMT-0700 (Pacific Daylight Time)">12:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: there&#039;s something to that concern, I suspect</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Mar 13 2019 05:25:49 GMT-0700 (Pacific Daylight Time)">12:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: in such cases we&#039;ve used pointers to the incubation repo in the past</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Mar 13 2019 05:49:29 GMT-0700 (Pacific Daylight Time)">12:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">annevk: Sure, but if all incubation happens on someone&#039;s Fetch repo GH fork, that&#039;s a bit weird</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Mar 13 2019 05:55:40 GMT-0700 (Pacific Daylight Time)">12:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">Is there a way for incubation to happen elsewhere without monkeypatching? I was thinking we could land hooks into the various related algorithms before we have consensus, and then be able to keep the logic in a separate doc, while not putting any processing into the WHATWG spec that don&#039;t have 2 vendor agreement</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Mar 13 2019 06:04:24 GMT-0700 (Pacific Daylight Time)">13:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">That doesn&#039;t sound acceptable to me</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Mar 13 2019 07:56:36 GMT-0700 (Pacific Daylight Time)">14:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</div></td><td class="msg-cell">annevk: what part of it doesn&#039;t sound acceptable? Adding the hooks?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Mar 13 2019 07:58:33 GMT-0700 (Pacific Daylight Time)">14:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">yoav: yeah, that&#039;s not materially different to a change to the standard</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Mar 13 2019 09:01:40 GMT-0700 (Pacific Daylight Time)">16:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</div></td><td class="msg-cell">yoav/annevk: I&#039;m missing some context here, but guessing: I was worried about maintaining SXG&#039;s fetch integration as a PR because it&#039;s just difficult to maintain long-lived topic branches, both because of merges and because I want review for changes to the fetch integration.</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Mar 13 2019 09:01:44 GMT-0700 (Pacific Daylight Time)">16:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</div></td><td class="msg-cell">Losing the history after the merge wasn&#039;t my primary concern, and actually, that history&#039;s more likely to get lost from a monkeypatch merge than a long-lived PR merge.</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Mar 13 2019 09:17:10 GMT-0700 (Pacific Daylight Time)">16:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</div></td><td class="msg-cell">annevk: Unrelated, our loading team is looking at implementing Bundles, but I haven&#039;t yet 1) finished what I think will be the final format or 2) written down how it integrates with Fetch and Service Workers. Clearly we won&#039;t *ship* before those are done, but how sad is it going to make Mozilla if we *implement* early?</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Mar 13 2019 09:20:14 GMT-0700 (Pacific Daylight Time)">16:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">jyasskin: ship is what folks care about afaik</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Mar 13 2019 09:20:25 GMT-0700 (Pacific Daylight Time)">16:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</div></td><td class="msg-cell">annevk: Thanks.</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Mar 13 2019 09:47:50 GMT-0700 (Pacific Daylight Time)">16:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Unicode might move to GitHub? Or only CLDR?</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Mar 13 2019 10:07:32 GMT-0700 (Pacific Daylight Time)">17:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</div></td><td class="msg-cell">yoav/annevk: Oh! I&#039;ve found the email: <a href="https://groups.google.com/a/chromium.org/d/msg/blink-dev/rspPrQHfFkI/B5vWGNhvCQAJ">https://groups.google.com/a/chromium.org/d/msg/blink-dev/rspPrQHfFkI/B5vWGNhvCQAJ</a>. I think the question of whether not-yet-merged features should live in PRs or in monkeypatches in a separate specification document, is orthogonal to the main question in that thread, which seems to be about when to ship at all.</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Mar 13 2019 10:14:27 GMT-0700 (Pacific Daylight Time)">17:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</div></td><td class="msg-cell">annevk: Ignoring the political question of when to ship, I think I&#039;m making the right tradeoff in <a href="https://wicg.github.io/webpackage/loading.html">https://wicg.github.io/webpackage/loading.html</a> to let us review changes as we refine the design.</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Mar 13 2019 13:19:09 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: I don&#039;t think we can remove global object reuse</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Mar 13 2019 13:19:27 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">annevk: I was hoping minimize the number of cases it shows up, e.g., maybe for iframes</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Mar 13 2019 13:19:34 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: for <a href="http://window.open">window.open</a>(&quot;/common/blank.html&quot;) I&#039;m pretty sure the document changes and the global stays the same</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Mar 13 2019 13:19:37 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: I see</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Mar 13 2019 13:20:01 GMT-0700 (Pacific Daylight Time)">20:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">I guess it&#039;s debatable whether minimizing in the way I propose makes things more or less complex</td></tr>

</tbody></table></div></div></div></body>
