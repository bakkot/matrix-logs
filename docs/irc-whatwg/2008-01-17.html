<!doctype html>
<head>
  <title>#whatwg on 2008-01-17</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2008-01-17<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2008-01-16" class="nav-link"><span>prev</span></a>
<a href="2008-01-18" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Jan 16 2008 18:01:00 GMT-0800 (Pacific Standard Time)">02:01</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">Philip`: <a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows">http://www.whatwg.org/specs/web-apps/current-work/#shadows</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Jan 16 2008 18:01:01 GMT-0800 (Pacific Standard Time)">02:01</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">Philip`: what do you think? i tried avoiding the maths...</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Jan 16 2008 18:03:00 GMT-0800 (Pacific Standard Time)">02:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Hixie: &quot;Shadows form part of the source image during composition.&quot; - they don&#039;t in Safari</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Jan 16 2008 18:03:01 GMT-0800 (Pacific Standard Time)">02:03</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">oh?</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Jan 16 2008 18:03:02 GMT-0800 (Pacific Standard Time)">02:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">(The shadow gets composited onto the canvas first, and then the source image is composited on top)</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Jan 16 2008 18:03:03 GMT-0800 (Pacific Standard Time)">02:03</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">that seems dumb</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Jan 16 2008 18:04:00 GMT-0800 (Pacific Standard Time)">02:04</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">wouldn&#039;t that mean you would get non-shadow-like effects when your globalcompositethingy is not source-over?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Jan 16 2008 18:06:00 GMT-0800 (Pacific Standard Time)">02:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell"><a href="http://canvex.lazyilluminati.com/misc/shadow/shadow2.html">http://canvex.lazyilluminati.com/misc/shadow/shadow2.html</a> (in Safari) - the rows have different globalCompositeOperations, and it does result in things that don&#039;t really look like shadows</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Jan 16 2008 18:07:00 GMT-0800 (Pacific Standard Time)">02:07</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">does any browser to shadows other than safair?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Jan 16 2008 18:07:01 GMT-0800 (Pacific Standard Time)">02:07</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">safari?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Jan 16 2008 18:07:02 GMT-0800 (Pacific Standard Time)">02:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">No (though there&#039;s a patch for Firefox that I wrote)</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Jan 16 2008 18:08:00 GMT-0800 (Pacific Standard Time)">02:08</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">do you recommend that we try to get safari to change, or should i just make the spec do this weird behaviour?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Jan 16 2008 18:09:00 GMT-0800 (Pacific Standard Time)">02:09</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">I assume Safari uses some CG function to draw shadows, so it&#039;d be a pain if they had to rewrite it all to do custom rendering, and I don&#039;t think any other behaviour would be significantly less weird</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Jan 16 2008 18:09:01 GMT-0800 (Pacific Standard Time)">02:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">k</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Jan 16 2008 18:10:00 GMT-0800 (Pacific Standard Time)">02:10</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">(I don&#039;t have any kind of intuitive understanding of what should happen when you xor a semi-transparent shadowed shape onto a background, so everything is equally weird)</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Jan 16 2008 18:11:00 GMT-0800 (Pacific Standard Time)">02:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">true</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Jan 16 2008 18:11:01 GMT-0800 (Pacific Standard Time)">02:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">(and Safari&#039;s approach is at least sensible when you have operation=source-over and globalAlpha=anything)</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Jan 16 2008 18:12:00 GMT-0800 (Pacific Standard Time)">02:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">ok, changed the drawing model (it&#039;ll update in about 60 seconds)</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Jan 16 2008 18:14:00 GMT-0800 (Pacific Standard Time)">02:14</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;The shadowBlur attribute specifies the number of coordinate space units that the blurring is to cover.&quot; - it doesn&#039;t really specify that, since there&#039;s some non-linear calculation to convert shadowBlur into the Gaussian radius and then the blur is theoretically infinitely wide; so maybe it should say something vague like &quot;The shadowBlur attribute determines the size of the blur&quot;</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Jan 16 2008 18:16:00 GMT-0800 (Pacific Standard Time)">02:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;Copy the alpha channel of A to B, offset by shadowOffsetX in the positive x direction, and shadowOffsetY in the positive y direction.&quot; - shadowOffsetY is not a link</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Jan 16 2008 18:16:01 GMT-0800 (Pacific Standard Time)">02:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;let Ïƒ be the square root of span&gt;shadowBlur*2&quot; - HTML leakage, and also the sentence doesn&#039;t end with a &quot;.&quot;</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Jan 16 2008 18:18:00 GMT-0800 (Pacific Standard Time)">02:18</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">thanks, fixed and regenning...</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Jan 16 2008 18:18:01 GMT-0800 (Pacific Standard Time)">02:18</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;Perform a Gaussian Blur on B&quot; - might be slightly clearer as &quot;Perform a 2D Gaussian blur on B&quot;</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Jan 16 2008 18:18:02 GMT-0800 (Pacific Standard Time)">02:18</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">fixed and regenning...</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Jan 16 2008 18:19:00 GMT-0800 (Pacific Standard Time)">02:19</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">do you have a good reference for 2D Gaussian Blur, btw? i looked at google scholar for a siggraph paper or something, but found nothing</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Jan 16 2008 18:19:01 GMT-0800 (Pacific Standard Time)">02:19</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;Multiply the alpha component of every pixel in B by the alpha components of the color of shadowColor.&quot; - s/components/component/</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Jan 16 2008 18:20:00 GMT-0800 (Pacific Standard Time)">02:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">fixed internally</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Jan 16 2008 18:21:00 GMT-0800 (Pacific Standard Time)">02:21</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Hmm, I don&#039;t know of any references</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Jan 16 2008 18:22:00 GMT-0800 (Pacific Standard Time)">02:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Gauss probably wasn&#039;t into computer graphics much, and afterwards Gaussian blurs were sufficiently obvious that maybe nobody could publish research papers about it</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Jan 16 2008 18:22:01 GMT-0800 (Pacific Standard Time)">02:22</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">heh</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Jan 16 2008 18:24:00 GMT-0800 (Pacific Standard Time)">02:24</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Maybe there&#039;s some standard graphics textbook that describes fundamental things like that, but I wouldn&#039;t know of it</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Jan 16 2008 18:24:01 GMT-0800 (Pacific Standard Time)">02:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">several people have suggested text books, but i&#039;d rather refer to the original reference or to nothing at all</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Jan 16 2008 18:27:00 GMT-0800 (Pacific Standard Time)">02:27</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;Rendered the shadow from image A, using the current shadow styles, creating image B.&quot; - s/Rendered/Render/</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Jan 16 2008 18:27:01 GMT-0800 (Pacific Standard Time)">02:27</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">It&#039;s not clear what should be done when shadows are not supported</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Jan 16 2008 18:28:00 GMT-0800 (Pacific Standard Time)">02:28</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=kig@irc>kig</span>&gt;</td><td class="msg-cell">it&#039;s a convolution kernel with the factors following a gaussian distribution, right?</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Jan 16 2008 18:28:01 GMT-0800 (Pacific Standard Time)">02:28</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">Philip`: hm, good point</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Jan 16 2008 18:28:02 GMT-0800 (Pacific Standard Time)">02:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">kig: Yes</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Jan 16 2008 18:31:00 GMT-0800 (Pacific Standard Time)">02:31</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;Multiply the alpha component of every pixel in B by globalAlpha.&quot; (and subsequent lines) - &quot;B&quot; should be italics</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Jan 16 2008 18:32:00 GMT-0800 (Pacific Standard Time)">02:32</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">will fix</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Jan 16 2008 18:33:00 GMT-0800 (Pacific Standard Time)">02:33</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Back at the beginning, &quot;Shadows form part of the source image during composition.&quot; should be removed (if it isn&#039;t already)</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Jan 16 2008 18:35:00 GMT-0800 (Pacific Standard Time)">02:35</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Is it worth saying something like &quot;Ïƒ (may|should) be clamped to a maximum value before drawing, to prevent excessive memory usage&quot;?</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Jan 16 2008 18:36:00 GMT-0800 (Pacific Standard Time)">02:36</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Hmm, don&#039;t think I see anything else to comment on at the moment</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Jan 16 2008 18:37:00 GMT-0800 (Pacific Standard Time)">02:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">(It&#039;s sensible to avoid the maths for the blurring - I don&#039;t know why I originally suggested writing it all explicitly, when it&#039;s not like anyone is going to implement it based on the spec&#039;s maths)</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Jan 16 2008 18:39:00 GMT-0800 (Pacific Standard Time)">02:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">would this be ok:</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Wed Jan 16 2008 18:39:01 GMT-0800 (Pacific Standard Time)">02:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">    &lt;p&gt;User agents may limit values of &lt;var title=&quot;&quot;&gt;&amp;sigma;&lt;/var&gt; to</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Wed Jan 16 2008 18:39:02 GMT-0800 (Pacific Standard Time)">02:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">    an implementation-specific maximum value to avoid memory or CPU</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Wed Jan 16 2008 18:39:03 GMT-0800 (Pacific Standard Time)">02:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">    limitations during the Gaussian blur operation.&lt;/p&gt;</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Wed Jan 16 2008 18:39:04 GMT-0800 (Pacific Standard Time)">02:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">s/avoid memory/avoid exceeding memory/</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Wed Jan 16 2008 18:40:00 GMT-0800 (Pacific Standard Time)">02:40</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">and s/memory or CPU/hardware/</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Wed Jan 16 2008 18:41:00 GMT-0800 (Pacific Standard Time)">02:41</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">I think that sounds reasonable, just as a hint to implementors that they should prevent shadowBlur=1e10</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Wed Jan 16 2008 18:43:00 GMT-0800 (Pacific Standard Time)">02:43</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">is clearRect() affected by the clipping region?</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Wed Jan 16 2008 18:44:00 GMT-0800 (Pacific Standard Time)">02:44</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Yes, in Opera/Firefox/Safari</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Wed Jan 16 2008 18:44:01 GMT-0800 (Pacific Standard Time)">02:44</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">but not globalAlpha or globalCompositeOperation, right?</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Wed Jan 16 2008 18:44:02 GMT-0800 (Pacific Standard Time)">02:44</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">according to <a href="http://philip.html5.org/tests/canvas/suite/tests/2d.clearRect.clip.html">http://philip.html5.org/tests/canvas/suite/tests/2d.clearRect.clip.html</a> (although Opera is a bit funny and gets the alpha slightly wrong)</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Wed Jan 16 2008 18:44:03 GMT-0800 (Pacific Standard Time)">02:44</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">No (except globalCompositeOperation in Opera 9.2 (not 9.5)), according to <a href="http://philip.html5.org/tests/canvas/suite/tests/2d.clearRect.globalcomposite.html">http://philip.html5.org/tests/canvas/suite/tests/2d.clearRect.globalcomposite.html</a></td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Wed Jan 16 2008 18:45:00 GMT-0800 (Pacific Standard Time)">02:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Wed Jan 16 2008 18:45:01 GMT-0800 (Pacific Standard Time)">02:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">(and <a href="http://philip.html5.org/tests/canvas/suite/tests/2d.clearRect.globalalpha.html">http://philip.html5.org/tests/canvas/suite/tests/2d.clearRect.globalalpha.html</a>)</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Wed Jan 16 2008 18:45:02 GMT-0800 (Pacific Standard Time)">02:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">thanks</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Wed Jan 16 2008 18:45:03 GMT-0800 (Pacific Standard Time)">02:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">(and it&#039;s affected by shadows in Safari, which seems silly)</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Wed Jan 16 2008 18:46:00 GMT-0800 (Pacific Standard Time)">02:46</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">ok, regenning the new text for shadows and clearRect()</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Wed Jan 16 2008 18:49:00 GMT-0800 (Pacific Standard Time)">02:49</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">i don&#039;t seem to be getting as much mail this year as last year</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Wed Jan 16 2008 18:49:01 GMT-0800 (Pacific Standard Time)">02:49</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">let&#039;s hope this lasts</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Wed Jan 16 2008 18:50:00 GMT-0800 (Pacific Standard Time)">02:50</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">regenned</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Wed Jan 16 2008 18:55:00 GMT-0800 (Pacific Standard Time)">02:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Is there any value in being explicit that shadowOffset[XY] are not affected by the CTM?</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Wed Jan 16 2008 18:55:01 GMT-0800 (Pacific Standard Time)">02:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">(since it&#039;s now mentioned that shadowBlur is unaffected by it)</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Wed Jan 16 2008 18:56:00 GMT-0800 (Pacific Standard Time)">02:56</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;... the new value is igored.&quot; - I&#039;m not sure what Igor is doing here</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Wed Jan 16 2008 18:57:00 GMT-0800 (Pacific Standard Time)">02:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">The whole &quot;Let A be the source image for which a shadow is being created.&quot; etc section has non-italic &quot;A&quot;, whereas the Drawing Model section has italic &quot;A&quot;</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Wed Jan 16 2008 18:59:00 GMT-0800 (Pacific Standard Time)">02:59</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">&quot;If shadowBlur is less than 8, let Ïƒ be shadowBlur/2; otherwise, let Ïƒ be the square root of shadowBlur*2.&quot; - the &quot;/&quot; and &quot;*&quot; look a bit out of place - maybe use the proper divide and times symbols?</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Wed Jan 16 2008 19:00:00 GMT-0800 (Pacific Standard Time)">03:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">I&#039;ll assume implementors can work out for themselves that the shadow rendering can be skipped iff shadowColor.alpha == 0</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Wed Jan 16 2008 19:01:00 GMT-0800 (Pacific Standard Time)">03:01</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">(since they&#039;d be stupid to not optimise that case)</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Wed Jan 16 2008 19:02:00 GMT-0800 (Pacific Standard Time)">03:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">It&#039;d be nice if &quot;Render the shadow from image A, using the current shadow styles, creating image B.&quot; linked back to the definition of how to render a shadow</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Wed Jan 16 2008 19:02:01 GMT-0800 (Pacific Standard Time)">03:02</a></td><td class="nick-cell"><span class="nick nick-9" title=Philip`@irc>Philip`</span></td><td class="msg-cell">can&#039;t think of any comments now again</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Wed Jan 16 2008 19:04:00 GMT-0800 (Pacific Standard Time)">03:04</a></td><td class="nick-cell"><span class="nick nick-9" title=Philip`@irc>Philip`</span></td><td class="msg-cell">goes to bed</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Thu Jan 17 2008 06:12:00 GMT-0800 (Pacific Standard Time)">14:12</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">based on the minutes, the waf telecon seems to have been one that would have been interesting to listen to...</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Thu Jan 17 2008 06:14:00 GMT-0800 (Pacific Standard Time)">14:14</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=Dashiva@irc>Dashiva</span>&gt;</td><td class="msg-cell">Are the minutes public?</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Thu Jan 17 2008 06:14:01 GMT-0800 (Pacific Standard Time)">14:14</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">Dashiva: yes.</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Thu Jan 17 2008 06:15:00 GMT-0800 (Pacific Standard Time)">14:15</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">Dashiva: <a href="http://www.w3.org/mid/213B17B2-B67E-4D5F-A6D9-D7C3499AB228âŠ™nc">http://www.w3.org/mid/213B17B2-B67E-4D5F-A6D9-D7C3499AB228âŠ™nc</a></td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Thu Jan 17 2008 06:23:00 GMT-0800 (Pacific Standard Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=Dashiva@irc>Dashiva</span>&gt;</td><td class="msg-cell">Interesting indeed</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Thu Jan 17 2008 10:52:00 GMT-0800 (Pacific Standard Time)">18:52</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">annevk: FYI: <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=289938#c16">https://bugzilla.mozilla.org/show_bug.cgi?id=289938#c16</a></td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Thu Jan 17 2008 11:29:00 GMT-0800 (Pacific Standard Time)">19:29</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">Hiya Hixie... Any chance you have a reference/spec on how you expect button.type to behave? Mozilla&#039;s and Opera&#039;s implementations are not interoperable (and ours just play sucks)</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Thu Jan 17 2008 11:33:00 GMT-0800 (Pacific Standard Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">I guess WF2.0 behavior is consistent with Opera, though..</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Thu Jan 17 2008 11:38:00 GMT-0800 (Pacific Standard Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=heycam@irc>heycam</span>&gt;</td><td class="msg-cell">Hixie, the not crashing requirement on safari 3 for the acid3 submissions, is that an actual safari 3 release, rather than a webkit nightly?</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Thu Jan 17 2008 12:03:00 GMT-0800 (Pacific Standard Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">SadEagle: dom2 html :-)</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Thu Jan 17 2008 12:03:01 GMT-0800 (Pacific Standard Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">heycam: both, ideally</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Thu Jan 17 2008 12:04:00 GMT-0800 (Pacific Standard Time)">20:04</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">Hixie: come on. You know as well as me that that spec is barely above useless.</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Thu Jan 17 2008 12:05:00 GMT-0800 (Pacific Standard Time)">20:05</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">I can make some guesses about what they -meant- by the case folding remark. But it says nothing about what to do when the value isn&#039;t one of the button / submit / reset.</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Thu Jan 17 2008 12:07:00 GMT-0800 (Pacific Standard Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">Mozilla behavior is that the values submit / button / reset are case folded on return. Other values are unaffected, including returning uppercase (which does contradict the lowercasing remark). Lack of attribute (what you test for, I think?) is interpreted as submit.</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Thu Jan 17 2008 12:08:00 GMT-0800 (Pacific Standard Time)">20:08</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=heycam@irc>heycam</span>&gt;</td><td class="msg-cell">Hixie, ok</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Thu Jan 17 2008 12:08:01 GMT-0800 (Pacific Standard Time)">20:08</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">Opera (and ~now Konq) behavior is to revert to &#039;submit&#039; if the value of type isn&#039;t valid (or blank), and otherwise return the type. </td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Thu Jan 17 2008 12:11:00 GMT-0800 (Pacific Standard Time)">20:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">SadEagle: unless WF2 says something else, i don&#039;t have any better spec yet. HTML5 will eventually cover this of course. Feel free to send mail to whatwg or public-html to remind me to fix this.</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Thu Jan 17 2008 12:12:00 GMT-0800 (Pacific Standard Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">Hixie: well, WF2 says that invalid values of attributes should be ignored, which is basically what opera does, with the interpretation that type is returning the computed value..</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Thu Jan 17 2008 12:42:00 GMT-0800 (Pacific Standard Time)">20:42</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">Hixie: I&#039;m not sure tests 26 and 27 are a good idea, since it is an obscure case and the obvious ways preserving connected ancestors as well as descendants across GC would likely hurt DOM performance</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Thu Jan 17 2008 12:42:01 GMT-0800 (Pacific Standard Time)">20:42</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">(I guess we can see if it does for real though)</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Thu Jan 17 2008 12:47:00 GMT-0800 (Pacific Standard Time)">20:47</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">the expected behavior also could cause web apps to unintentionally hold down larger chunks of memory than they might expect (XHR, grab a single node without removing it, now you have extended the lifetime of the whole result document)</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Thu Jan 17 2008 12:48:00 GMT-0800 (Pacific Standard Time)">20:48</a></td><td class="nick-cell"><span class="nick nick-2" title=gsnedders@irc>gsnedders</span></td><td class="msg-cell">annevk pig</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Thu Jan 17 2008 12:49:00 GMT-0800 (Pacific Standard Time)">20:49</a></td><td class="nick-cell"><span class="nick nick-2" title=gsnedders@irc>gsnedders</span></td><td class="msg-cell">can&#039;t type</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Thu Jan 17 2008 12:49:01 GMT-0800 (Pacific Standard Time)">20:49</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">that was meant to be: /msg annevk ping</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Thu Jan 17 2008 12:59:00 GMT-0800 (Pacific Standard Time)">20:59</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">othermaciej: i disagree, iv&#039;e run into this kind of thing before, as have others, and i think it&#039;s clear that the DOM requires browsers to not be GCing accessible stuff</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Thu Jan 17 2008 13:01:00 GMT-0800 (Pacific Standard Time)">21:01</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">Hixie: I&#039;m not sure it&#039;s particularly clear that the DOM requires anything on this</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Thu Jan 17 2008 13:02:00 GMT-0800 (Pacific Standard Time)">21:02</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">i think you&#039;d be hard-pressed to argue that the DOM allows you to just start setting parentNode to null whimsically</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Thu Jan 17 2008 13:03:00 GMT-0800 (Pacific Standard Time)">21:03</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">I don&#039;t think it&#039;s clear that it doesn&#039;t require it either - just not sure &quot;clear&quot; is a word that applies</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Thu Jan 17 2008 13:03:01 GMT-0800 (Pacific Standard Time)">21:03</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">it doesn&#039;t say anything about what operations not mentioned by the DOM spec may mutate the DOM</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Thu Jan 17 2008 13:04:00 GMT-0800 (Pacific Standard Time)">21:04</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">it&#039;s clearly not &quot;none&quot;, since other specs require various things to mutate the DOM</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Thu Jan 17 2008 13:04:01 GMT-0800 (Pacific Standard Time)">21:04</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">so you&#039;re saying that if IE started moving nodes around randomly in the DOM, it would be conforming?</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Thu Jan 17 2008 13:04:02 GMT-0800 (Pacific Standard Time)">21:04</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">I can see how a sensible person might not think &quot;allocating memory&quot; shouldn&#039;t be one of those operations</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Thu Jan 17 2008 13:04:03 GMT-0800 (Pacific Standard Time)">21:04</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">well, it would be a perverse interpretation of the spec</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Thu Jan 17 2008 13:05:00 GMT-0800 (Pacific Standard Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">but I don&#039;t think the spec is &quot;clear&quot; on this</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Thu Jan 17 2008 13:05:01 GMT-0800 (Pacific Standard Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">there is no normative prose anywhere that allows the parentNode to change, as far as i can tell</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Thu Jan 17 2008 13:05:02 GMT-0800 (Pacific Standard Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">in this spec or any other</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Thu Jan 17 2008 13:06:00 GMT-0800 (Pacific Standard Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">and since parentNode is defined as returning the parent, and appendChild is defined as setting the parent, i don&#039;t see how you can have an interpretation that allows the parent to change</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Thu Jan 17 2008 13:06:01 GMT-0800 (Pacific Standard Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">you mean, &quot;as a result of garbage collection&quot;, or no prose allows the parentNode to change ever?</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Thu Jan 17 2008 13:06:02 GMT-0800 (Pacific Standard Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">i meant as a result of the browser randomly deciding to do it (e.g. as part of GC)</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Thu Jan 17 2008 13:07:00 GMT-0800 (Pacific Standard Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">if there was some text that could define _when_ exactly the parent would be lost, then ok</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Thu Jan 17 2008 13:07:01 GMT-0800 (Pacific Standard Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">but there isn&#039;t, and browsers are losing the parent in different ways because of it</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Thu Jan 17 2008 13:08:00 GMT-0800 (Pacific Standard Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">this is an interoperability nightmare that should be fixed by not dropping parts of the DOM on the floor</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Thu Jan 17 2008 13:08:01 GMT-0800 (Pacific Standard Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">it&#039;s not like you&#039;re actually saving memory intentionally on real sites because of this</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Thu Jan 17 2008 13:08:02 GMT-0800 (Pacific Standard Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">bbiab</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Thu Jan 17 2008 13:08:03 GMT-0800 (Pacific Standard Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">it&#039;s true that no normative prose explicitly allows that, but nor does it explicitly forbid it</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Thu Jan 17 2008 13:08:04 GMT-0800 (Pacific Standard Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hsivonen, actually, we have magic behavior that approaches Gecko, just not for all public identifiers that Gecko recognizes, such as MathML</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Thu Jan 17 2008 13:08:05 GMT-0800 (Pacific Standard Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">othermaciej: yes it does! it says it should return the parent, and the parent was set by appendChild</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Thu Jan 17 2008 13:09:00 GMT-0800 (Pacific Standard Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">Hixie: but clearly there&#039;s things not in the DOM Core spec which would require you to change the parent</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Thu Jan 17 2008 13:09:01 GMT-0800 (Pacific Standard Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">even things that do not result from any DOM call (like parsing a document)</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Thu Jan 17 2008 13:09:02 GMT-0800 (Pacific Standard Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">othermaciej: and none of those things are happening here</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Thu Jan 17 2008 13:10:00 GMT-0800 (Pacific Standard Time)">21:10</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">othermaciej: indeed _nothing_ is happening here, it&#039;s one piece of script</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Thu Jan 17 2008 13:10:01 GMT-0800 (Pacific Standard Time)">21:10</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">if script is executing then obviously something is happening</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Thu Jan 17 2008 13:11:00 GMT-0800 (Pacific Standard Time)">21:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">othermaciej: i mrsn nothing is happening to the DOM, between the setting and the checking</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Thu Jan 17 2008 13:11:01 GMT-0800 (Pacific Standard Time)">21:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">othermaciej: specs cannot say what must not happen, there&#039;s an infinite list of things that would have to be listed</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Thu Jan 17 2008 13:12:00 GMT-0800 (Pacific Standard Time)">21:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">othermaciej: &quot;browsers must not set attributes for no reason. browsers must not change the values of attributes for no reason. browsers must not...&quot;</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Thu Jan 17 2008 13:12:01 GMT-0800 (Pacific Standard Time)">21:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">othermaciej: if you go down this line of argument, then almost any bug can be explained as &quot;well the spec doesn&#039;t say it _shouldn&#039;t_ happen on the 3rd of september at 2pm...&quot;</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Thu Jan 17 2008 13:13:00 GMT-0800 (Pacific Standard Time)">21:13</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">really must go, will be back shortly</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Thu Jan 17 2008 13:14:00 GMT-0800 (Pacific Standard Time)">21:14</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">I&#039;m not sure if there&#039;s a justification in the text of DOM Core why html parsing can mutate the DOM but garbage collection (or occurence of a random date) is not, but I admit I can&#039;t think of how you would write it to make that clear</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Thu Jan 17 2008 13:16:00 GMT-0800 (Pacific Standard Time)">21:16</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">it can&#039;t just be &quot;another standard says so&quot; because I don&#039;t think the fact that insertAdjacentHTML mutates the DOM would be considered nonconforming to the DOM spec</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Thu Jan 17 2008 13:17:00 GMT-0800 (Pacific Standard Time)">21:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">HTML parsing defines what DOM mutations are to be performed</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Thu Jan 17 2008 13:17:01 GMT-0800 (Pacific Standard Time)">21:17</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">but it does indeed seem lame to assume that therefore anything is permitted</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Thu Jan 17 2008 13:17:02 GMT-0800 (Pacific Standard Time)">21:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">which is slightly different I&#039;d say</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Thu Jan 17 2008 13:18:00 GMT-0800 (Pacific Standard Time)">21:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">well, I could write a document saying what DOM mutations may or may not be performed when garbage collecting, but I don&#039;t think that should retroactively change the meaning of DOM Core</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Thu Jan 17 2008 13:19:00 GMT-0800 (Pacific Standard Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">and no spec defines what DOM mutations are to be performed when calling insertAdjacentHTML</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Thu Jan 17 2008 13:19:01 GMT-0800 (Pacific Standard Time)">21:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">no spec defines insertAdjacentHTML</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Thu Jan 17 2008 13:20:00 GMT-0800 (Pacific Standard Time)">21:20</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">that is true</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Thu Jan 17 2008 13:21:00 GMT-0800 (Pacific Standard Time)">21:21</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">defining side effects that can happen during GC is nasty, because GC is very non-deterministic</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Thu Jan 17 2008 13:21:01 GMT-0800 (Pacific Standard Time)">21:21</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">there is a spec that defines ECMAScript garbage collection, namely ECMA-262</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Thu Jan 17 2008 13:23:00 GMT-0800 (Pacific Standard Time)">21:23</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">but it&#039;s probably super vague about participation of host objects in GC</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Thu Jan 17 2008 13:24:00 GMT-0800 (Pacific Standard Time)">21:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">in the name of interop it&#039;s probably good that Acid3 includes things that really annoy each of the browser vendors</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Thu Jan 17 2008 13:24:01 GMT-0800 (Pacific Standard Time)">21:24</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">the logical model is that child references are strong references and parent references are weak references</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Thu Jan 17 2008 13:24:02 GMT-0800 (Pacific Standard Time)">21:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">the 0 bytes in the DOM issue bites us</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Thu Jan 17 2008 13:25:00 GMT-0800 (Pacific Standard Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">surely by now all browser vendors are too jaded to be annoyed by anything</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Thu Jan 17 2008 13:25:01 GMT-0800 (Pacific Standard Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Thu Jan 17 2008 13:27:00 GMT-0800 (Pacific Standard Time)">21:27</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">othermaciej: weak references suck too. especially when they&#039;re not explicit</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Thu Jan 17 2008 13:27:01 GMT-0800 (Pacific Standard Time)">21:27</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">actually I think it would be easy to make the specific acid3 test for this pass, the hard case would be preserving pieces of the DOM that have never been referenced from JS</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Thu Jan 17 2008 13:28:00 GMT-0800 (Pacific Standard Time)">21:28</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">if (elem.parentNode) { elem.parentNode.setAttribute(...) }</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Thu Jan 17 2008 13:28:01 GMT-0800 (Pacific Standard Time)">21:28</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">sure hope you didn&#039;t GC in there!</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Thu Jan 17 2008 13:29:00 GMT-0800 (Pacific Standard Time)">21:29</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">at least with explicit weak refs like in Java, I have to declare the weak ref and then do a .get() to get the real reference, so I know something&#039;s up</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Thu Jan 17 2008 13:30:00 GMT-0800 (Pacific Standard Time)">21:30</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">I&#039;m not saying it&#039;s great behavior, it just happens to be what we lovingly reverse-engineered from Mozilla as best we could</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Thu Jan 17 2008 13:31:00 GMT-0800 (Pacific Standard Time)">21:31</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">oh, I didn&#039;t know there was a compatibility argument</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Thu Jan 17 2008 13:32:00 GMT-0800 (Pacific Standard Time)">21:32</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">I&#039;m not sure compatibility cares that much one way or the other</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Thu Jan 17 2008 13:32:01 GMT-0800 (Pacific Standard Time)">21:32</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">so why&#039;d you reverse engineer it?</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Thu Jan 17 2008 13:32:02 GMT-0800 (Pacific Standard Time)">21:32</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">(about preserving parents in detached DOM fragments)</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Thu Jan 17 2008 13:32:03 GMT-0800 (Pacific Standard Time)">21:32</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">there was some site that required specific things about preserving DOM wrappers for descendants of detached DOM subtrees years ago</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Thu Jan 17 2008 13:33:00 GMT-0800 (Pacific Standard Time)">21:33</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">(actually worse than a site, I think it was an &quot;enterprise&quot; app&#039;s html interface)</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Thu Jan 17 2008 13:33:01 GMT-0800 (Pacific Standard Time)">21:33</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">doesn&#039;t the Web JS concurrency model guarantee that if you walk down the tree, you can walk back up in the same method without someone else mutating the tree in ways that make weak refs collectable?</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Thu Jan 17 2008 13:33:02 GMT-0800 (Pacific Standard Time)">21:33</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">so we tested what other browsers did for parents or siblings of detached trees across GC</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Thu Jan 17 2008 13:34:00 GMT-0800 (Pacific Standard Time)">21:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">hsivonen: if what you&#039;re getting at is that roc&#039;s example can&#039;t possibly fail if &quot;eleme&quot; is in the document tree then I think you are right</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Thu Jan 17 2008 13:35:00 GMT-0800 (Pacific Standard Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Thu Jan 17 2008 13:35:01 GMT-0800 (Pacific Standard Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">but if it isn&#039;t...</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Thu Jan 17 2008 13:35:02 GMT-0800 (Pacific Standard Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">othermaciej: I meant roc&#039;s case, yes</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Thu Jan 17 2008 13:35:03 GMT-0800 (Pacific Standard Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">one thing to consider is that any argument that could be made to say test 23 is invalid could also be used to make test 99 invalid</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Thu Jan 17 2008 13:36:00 GMT-0800 (Pacific Standard Time)">21:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">er, s/23/26/</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Thu Jan 17 2008 13:36:01 GMT-0800 (Pacific Standard Time)">21:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">and i really don&#039;t think you want test 99 to be invalid</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Thu Jan 17 2008 13:36:02 GMT-0800 (Pacific Standard Time)">21:36</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">if elem is not in the document tree then indeed weird things could happen in very speculative theory, but in fact won&#039;t, since there&#039;s nothing to trigger a GC at times that no temporary expression holds a reference</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Thu Jan 17 2008 13:36:03 GMT-0800 (Pacific Standard Time)">21:36</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">I still don&#039;t understand when parentNode is a weak ref to something for which there isn&#039;t a reciprocal hard ref</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Thu Jan 17 2008 13:36:04 GMT-0800 (Pacific Standard Time)">21:36</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">isn&#039;t parentNode nulled automatically if you detach a node from the tree?</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Thu Jan 17 2008 13:37:00 GMT-0800 (Pacific Standard Time)">21:37</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">if you removeChild, yes, it is nulled</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Thu Jan 17 2008 13:38:00 GMT-0800 (Pacific Standard Time)">21:38</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">the case where it is effectively a weak ref in WebKit (and was in Gecko and IE at least last time I tested) is if you have node A containing node B in document D, then you remove node A from the document, keep a reference to node B, and drop all your references to node A</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Thu Jan 17 2008 13:39:00 GMT-0800 (Pacific Standard Time)">21:39</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">hmm. interesting case</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Thu Jan 17 2008 13:39:01 GMT-0800 (Pacific Standard Time)">21:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">the gc bg fails in gecko differently than webkit</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Thu Jan 17 2008 13:39:02 GMT-0800 (Pacific Standard Time)">21:39</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">FWIW it still is weak in Gecko, we fail testcase 26, but we have enough infrastructure to fix it pretty easily post-FF3</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Thu Jan 17 2008 13:39:03 GMT-0800 (Pacific Standard Time)">21:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">in one the ndoes have to still be in the doc, in the other the nodes have to be outside of the dic</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Thu Jan 17 2008 13:39:04 GMT-0800 (Pacific Standard Time)">21:39</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">Hixie: test 99 is comedy gold</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Thu Jan 17 2008 13:40:00 GMT-0800 (Pacific Standard Time)">21:40</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">indeed</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Thu Jan 17 2008 13:40:01 GMT-0800 (Pacific Standard Time)">21:40</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">I don&#039;t recall seeing any weak refs in Java DOM impls, but then weak refs wasn&#039;t what I was paying attention to</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Thu Jan 17 2008 13:40:02 GMT-0800 (Pacific Standard Time)">21:40</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">hsivonen: you have to have weak refs if you&#039;re using ref counting, otherwise you&#039;ll never reach zero</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Thu Jan 17 2008 13:40:03 GMT-0800 (Pacific Standard Time)">21:40</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">hsivonen: not so much an issue with other GC schemes</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Thu Jan 17 2008 13:41:00 GMT-0800 (Pacific Standard Time)">21:41</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">you wouldn&#039;t expect to, Java has a real collector so cyclic structures were never a problem</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Thu Jan 17 2008 13:41:01 GMT-0800 (Pacific Standard Time)">21:41</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">Java DOM impls probably have strong refs both ways because Java DOMs would be written in pure Java</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Thu Jan 17 2008 13:41:02 GMT-0800 (Pacific Standard Time)">21:41</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">ah right. </td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Thu Jan 17 2008 13:42:00 GMT-0800 (Pacific Standard Time)">21:42</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">othermaciej: &quot;if elem is not in the document tree then indeed weird things could happen in very speculative theory, but in fact won&#039;t&quot; ... I&#039;m not sure about that. I can easily imagine running unrelated windows in different threads sharing a common JS heap</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Thu Jan 17 2008 13:43:00 GMT-0800 (Pacific Standard Time)">21:43</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">or the Gears thread stuff</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Thu Jan 17 2008 13:45:00 GMT-0800 (Pacific Standard Time)">21:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">roc: that&#039;s the kind of stuff that I considered to be in the &quot;speculative theory&quot; category (though Gears might potentially be less speculative)</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Thu Jan 17 2008 13:54:00 GMT-0800 (Pacific Standard Time)">21:54</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Thu Jan 17 2008 13:55:00 GMT-0800 (Pacific Standard Time)">21:55</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">we can differ on how far-fetched it is</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Thu Jan 17 2008 13:57:00 GMT-0800 (Pacific Standard Time)">21:57</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">I think the only thing preventing that case from occurring in Gecko + Gears today is where we place our GC safe points</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Thu Jan 17 2008 13:57:01 GMT-0800 (Pacific Standard Time)">21:57</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">so I don&#039;t see it as all that far-fetched</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Thu Jan 17 2008 14:02:00 GMT-0800 (Pacific Standard Time)">22:02</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=roc@irc>roc</span>&gt;</td><td class="msg-cell">anyway, if that doesn&#039;t bother you, there&#039;s still the problem that inserting almost any code between the test of parentNode and the use of parentNode could allocate and trigger GC itself</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Thu Jan 17 2008 14:09:00 GMT-0800 (Pacific Standard Time)">22:09</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=jruderman@irc>jruderman</span>&gt;</td><td class="msg-cell">Hixie: does safari 3 fail acid3&#039;s text-shadow by having the shadow too close to the text?</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Thu Jan 17 2008 14:09:01 GMT-0800 (Pacific Standard Time)">22:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">what maks you ask that?</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Thu Jan 17 2008 14:09:02 GMT-0800 (Pacific Standard Time)">22:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">makes</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Thu Jan 17 2008 14:09:03 GMT-0800 (Pacific Standard Time)">22:09</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=jruderman@irc>jruderman</span>&gt;</td><td class="msg-cell">its shadow is close to the text &quot;Acid3&quot; than in the reference</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Thu Jan 17 2008 14:10:00 GMT-0800 (Pacific Standard Time)">22:10</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">not on my machine...</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Thu Jan 17 2008 14:10:01 GMT-0800 (Pacific Standard Time)">22:10</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">but yes, if it is not pixel perfect, then it has failed</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Thu Jan 17 2008 14:10:02 GMT-0800 (Pacific Standard Time)">22:10</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=jruderman@irc>jruderman</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Thu Jan 17 2008 14:14:00 GMT-0800 (Pacific Standard Time)">22:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">are you testing for multiple shadows?</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Thu Jan 17 2008 14:14:01 GMT-0800 (Pacific Standard Time)">22:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">that will make Safari fail</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Thu Jan 17 2008 14:14:02 GMT-0800 (Pacific Standard Time)">22:14</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">no, just the one</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Thu Jan 17 2008 14:14:03 GMT-0800 (Pacific Standard Time)">22:14</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">multiple shadows are out in css3, iirc</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Thu Jan 17 2008 14:15:00 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">ok i found a way to make the shift-click thing work in 3/4 browsers, up from 2/4</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Thu Jan 17 2008 14:15:01 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">still doesn&#039;t work in opera though</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Thu Jan 17 2008 14:15:02 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">they&#039;re not out</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Thu Jan 17 2008 14:15:03 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">i thought they were out?</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Thu Jan 17 2008 14:15:04 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">afaict they&#039;re not</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Thu Jan 17 2008 14:15:05 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">huh</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Thu Jan 17 2008 14:15:06 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">oh well</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Thu Jan 17 2008 14:15:07 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">they should be :-</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Thu Jan 17 2008 14:15:08 GMT-0800 (Pacific Standard Time)">22:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">)</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Thu Jan 17 2008 14:16:00 GMT-0800 (Pacific Standard Time)">22:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">if you use document.close() it might start working in Opera</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Thu Jan 17 2008 14:16:01 GMT-0800 (Pacific Standard Time)">22:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">i haven&#039;t actually tested that myself though</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Thu Jan 17 2008 14:17:00 GMT-0800 (Pacific Standard Time)">22:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">oh, you do that now</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Thu Jan 17 2008 14:17:01 GMT-0800 (Pacific Standard Time)">22:17</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">well if you work out something that will make it work in opera, let me know</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Thu Jan 17 2008 14:17:02 GMT-0800 (Pacific Standard Time)">22:17</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">in the meantime, i&#039;m out of here</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Thu Jan 17 2008 14:17:03 GMT-0800 (Pacific Standard Time)">22:17</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">later</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Thu Jan 17 2008 14:17:04 GMT-0800 (Pacific Standard Time)">22:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">use &lt;pre&gt;</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Thu Jan 17 2008 14:18:00 GMT-0800 (Pacific Standard Time)">22:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">thought that requires some additional effort to escape the rest</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Thu Jan 17 2008 15:15:00 GMT-0800 (Pacific Standard Time)">23:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">Hixie: i used        document.write(&#039;&lt;pre&gt;Failed &#039; + (tests.length - score) + &#039; of &#039; + tests.length + &#039; tests.\n&#039; + log.replace(/&amp;/g,&#039;&amp;amp;&#039;).replace(/&lt;/g,&#039;&amp;lt;&#039;).replace(&#039;\0&#039;, &#039;\\0&#039;) + &#039;&lt;/pre&gt;&#039;);</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Thu Jan 17 2008 15:16:00 GMT-0800 (Pacific Standard Time)">23:16</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">and that worked?</td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Thu Jan 17 2008 15:16:01 GMT-0800 (Pacific Standard Time)">23:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">zcorpan: Should be /\0/g, not &#039;\0&#039;</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Thu Jan 17 2008 15:20:00 GMT-0800 (Pacific Standard Time)">23:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">well i&#039;ve put that in</td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Thu Jan 17 2008 15:20:01 GMT-0800 (Pacific Standard Time)">23:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">no time to test it right now</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Thu Jan 17 2008 15:20:02 GMT-0800 (Pacific Standard Time)">23:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">but let me know if it breaks anything if you try it before me</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Thu Jan 17 2008 15:22:00 GMT-0800 (Pacific Standard Time)">23:22</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">it worked for me, yeah</td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Thu Jan 17 2008 15:22:01 GMT-0800 (Pacific Standard Time)">23:22</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">Philip`: that didn&#039;t work</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Thu Jan 17 2008 15:22:02 GMT-0800 (Pacific Standard Time)">23:22</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">there&#039;s only one \0 in the string anyway</td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Thu Jan 17 2008 15:29:00 GMT-0800 (Pacific Standard Time)">23:29</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">zcorpan: Hmm, how did it not work?</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Thu Jan 17 2008 15:30:00 GMT-0800 (Pacific Standard Time)">23:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell"><a href="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cscript%3E%0D%0Avar%20s%3D&#039;a%5C0b%5C0c&#039;%3B%0D%0Aw(s.replace(%2F%5C0%2Fg%2C%20&#039;%5C%5C0&#039;))%3B%0D%0A%3C%2Fscript%3E">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cscript%3E%0D%0Avar%20s%3D&#039;a%5C0b%5C0c&#039;%3B%0D%0Aw(s.replace(%2F%5C0%2Fg%2C%20&#039;%5C%5C0&#039;))%3B%0D%0A%3C%2Fscript%3E</a> seems to be doing the right replacements...</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Thu Jan 17 2008 15:32:00 GMT-0800 (Pacific Standard Time)">23:32</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">I think I know an easy way to fix tests 26 and 27 in WebKit</td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Thu Jan 17 2008 15:32:01 GMT-0800 (Pacific Standard Time)">23:32</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">still not sure if it is a good idea though</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Thu Jan 17 2008 15:35:00 GMT-0800 (Pacific Standard Time)">23:35</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">othermaciej: interesting (but may be not for the rest of the channel :-) )</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Thu Jan 17 2008 15:36:00 GMT-0800 (Pacific Standard Time)">23:36</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</td><td class="msg-cell">SadEagle: well, a few hours ago I was debating the test with people</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Thu Jan 17 2008 15:41:00 GMT-0800 (Pacific Standard Time)">23:41</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=SadEagle@irc>SadEagle</span>&gt;</td><td class="msg-cell">othermaciej: well, I am curious about the potential solution, but this isn&#039;t the place for it</td></tr>

</tbody></table></div></div></div></body>
