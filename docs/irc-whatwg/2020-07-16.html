<!doctype html>
<head>
  <title>#whatwg on 2020-07-16</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2020-07-16<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2020-07-15" class="nav-link"><span>prev</span></a>
<a href="2020-07-17" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Jul 15 2020 21:37:51 GMT-0700 (Pacific Daylight Time)">04:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Well, agent cluster, no?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Jul 15 2020 21:38:00 GMT-0700 (Pacific Daylight Time)">04:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ideally</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Jul 15 2020 21:43:19 GMT-0700 (Pacific Daylight Time)">04:43</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">annevk: does the term &quot;deque&quot; not describe this?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Jul 15 2020 22:01:58 GMT-0700 (Pacific Daylight Time)">05:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">MikeSmith: it does I think, but the prepending isnâ€™t an important feature and could be factored out</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Jul 15 2020 22:09:08 GMT-0700 (Pacific Daylight Time)">05:09</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">ah OK</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jul 16 2020 00:45:50 GMT-0700 (Pacific Daylight Time)">07:45</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">MikeSmith: would it make sense to change x-ua-compatible to be non-conforming?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jul 16 2020 02:28:41 GMT-0700 (Pacific Daylight Time)">09:28</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">so, I have a web with origin X; I open a new window with a URL from the same origin (via <a href="http://window.open">window.open</a>), and yet I receive</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jul 16 2020 02:28:47 GMT-0700 (Pacific Daylight Time)">09:28</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell"> Permission denied to access property &quot;href&quot; on cross-origin object</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jul 16 2020 02:28:53 GMT-0700 (Pacific Daylight Time)">09:28</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">when I try to access win.location.href</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jul 16 2020 02:29:06 GMT-0700 (Pacific Daylight Time)">09:29</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">what kind of black magic is that?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jul 16 2020 02:33:43 GMT-0700 (Pacific Daylight Time)">09:33</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">the popup window&#039;s content-type of application/json seems to be a problem</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jul 16 2020 02:33:51 GMT-0700 (Pacific Daylight Time)">09:33</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">is that a standardized behavior? or a browser bug?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jul 16 2020 02:35:00 GMT-0700 (Pacific Daylight Time)">09:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">ondras: it&#039;s probably not as well-defined as it should be, but that&#039;s what I would expect for that case</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jul 16 2020 02:35:46 GMT-0700 (Pacific Daylight Time)">09:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">ondras: actually, I think what would be ideal is that you see a closed popup that&#039;s still at initial about:blank and the browser swapped the browsing context so the user gets to see the JSON still</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jul 16 2020 02:37:03 GMT-0700 (Pacific Daylight Time)">09:37</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">annevk: is there a reason for that? why should I *not* access the popup&#039;s location in this case?</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jul 16 2020 02:38:19 GMT-0700 (Pacific Daylight Time)">09:38</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">it fails even if the popup has the access-control-allow-origin:* (not sure why this should be required tho)</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Jul 16 2020 02:38:30 GMT-0700 (Pacific Daylight Time)">09:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">ondras: because we only create documents for certain MIME types and we shouldn&#039;t expose documents for browser internal viewers</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Jul 16 2020 02:39:13 GMT-0700 (Pacific Daylight Time)">09:39</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">annevk: I see. I do not want to access the document, though - I am only interested in the location (oauth popup with secret code in the url)</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Jul 16 2020 02:39:44 GMT-0700 (Pacific Daylight Time)">09:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Then use fetch() or some such</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Jul 16 2020 02:40:41 GMT-0700 (Pacific Daylight Time)">09:40</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">that is not really suitable for oauth. the user needs a real new window to perform the authorization</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Jul 16 2020 02:41:03 GMT-0700 (Pacific Daylight Time)">09:41</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">(and ends up being redirected to my problematic redirect_uri that happens to contain JSON)</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Jul 16 2020 02:41:54 GMT-0700 (Pacific Daylight Time)">09:41</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">okay, so I conclude that this is currently not possible. thanks for explanation! (still not sure why accessing the same-origin location for a json document shall be forbidden though)</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Jul 16 2020 02:46:15 GMT-0700 (Pacific Daylight Time)">09:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Well, poking a hole like that requires a bunch of special cases that don&#039;t seem worth it</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Jul 16 2020 02:46:49 GMT-0700 (Pacific Daylight Time)">09:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Just serve HTML</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Jul 16 2020 02:47:13 GMT-0700 (Pacific Daylight Time)">09:47</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=ondras@irc>ondras</span>&gt;</td><td class="msg-cell">done. switched the content based on the Accept: header.</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Jul 16 2020 04:01:30 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">annevk: yes, I think it would make sense to change x-ua-compatible to be non-conforming</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Jul 16 2020 04:34:59 GMT-0700 (Pacific Daylight Time)">11:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: could you move <a href="https://github.com/whatwg/fetch/issues/538#issuecomment-659350493">https://github.com/whatwg/fetch/issues/538#issuecomment-659350493</a> into its own issue pretty please?</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Jul 16 2020 06:53:41 GMT-0700 (Pacific Daylight Time)">13:53</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: any chance you could look at <a href="https://github.com/whatwg/html/pull/5736">https://github.com/whatwg/html/pull/5736</a> soon?</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Jul 16 2020 06:58:18 GMT-0700 (Pacific Daylight Time)">13:58</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">annevk: I was refactoring things and I just noticed that the TextEncoderStream algorithms used a stream of code units, not scalar values, for the cases when the split happened in the middle of a surrogate pair</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Jul 16 2020 06:58:21 GMT-0700 (Pacific Daylight Time)">13:58</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">and I completely missed this back at <a href="https://github.com/whatwg/encoding/pull/196">https://github.com/whatwg/encoding/pull/196</a></td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Jul 16 2020 06:58:34 GMT-0700 (Pacific Daylight Time)">13:58</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">whoops</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Jul 16 2020 07:25:12 GMT-0700 (Pacific Daylight Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">annevk: do you recall some helper site to check what all data browser ends up sending to the server when submitting a form?</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Jul 16 2020 07:40:33 GMT-0700 (Pacific Daylight Time)">14:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: I use <a href="http://software.hixie.ch/utilities/cgi/test-tools/echo">http://software.hixie.ch/utilities/cgi/test-tools/echo</a> at times</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Jul 16 2020 09:41:23 GMT-0700 (Pacific Daylight Time)">16:41</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">where is the best place to talk about css stuff</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Jul 16 2020 09:41:33 GMT-0700 (Pacific Daylight Time)">16:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">devsnek: <a href="https://github.com/w3c/csswg-drafts/issues">https://github.com/w3c/csswg-drafts/issues</a></td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Jul 16 2020 09:41:40 GMT-0700 (Pacific Daylight Time)">16:41</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">thanks</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Jul 16 2020 09:50:26 GMT-0700 (Pacific Daylight Time)">16:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Anyone interested in doing some editorial review on XMLHttpRequest? It&#039;s a big change, but it does now use all IDL&#039;s latest goodies: <a href="https://github.com/whatwg/xhr/pull/285">https://github.com/whatwg/xhr/pull/285</a></td></tr>
</tbody></table>
</div></div></div></body>
