<!doctype html>
<head>
  <title>#whatwg on 2021-04-03</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "#whatwg";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2021-04-03<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-04-01" class="nav-link"><span>prev</span></a>
<a href="2021-04-07" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sat Apr 03 2021 05:04:38 GMT-0700 (Pacific Daylight Time)">12:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">new Date(&#039;2021-03-29&#039;).toISOString()</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sat Apr 03 2021 05:04:41 GMT-0700 (Pacific Daylight Time)">12:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">&quot;2021-03-29T00:00:00.000Z&quot;</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sat Apr 03 2021 05:04:51 GMT-0700 (Pacific Daylight Time)">12:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">new Date(&#039;2021/03/29&#039;).toISOString()</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sat Apr 03 2021 05:04:52 GMT-0700 (Pacific Daylight Time)">12:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">&quot;2021-03-28T15:00:00.000Z&quot;</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sat Apr 03 2021 05:05:07 GMT-0700 (Pacific Daylight Time)">12:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">fun stuff</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sat Apr 03 2021 06:50:59 GMT-0700 (Pacific Daylight Time)">13:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=fales[m]@irc>fales[m]</span>&gt;</div></td><td class="msg-cell">hello good people, I&#039;m currently the maintainer of the HTML5/wasm export of Godot Engine. We&#039;ve been recently bitten by CORS headers limitations in `fetch`.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sat Apr 03 2021 06:50:59 GMT-0700 (Pacific Daylight Time)">13:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=fales[m]@irc>fales[m]</span>&gt;</div></td><td class="msg-cell">I know there are security implications with CORS, but I&#039;m wondering if there is one specifically for why `Content-Length` is whitelisted while `Content-Encoding` is not. And if it would make sense to open an issue on the whatwg/fetch github for that.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sat Apr 03 2021 06:50:59 GMT-0700 (Pacific Daylight Time)">13:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=fales[m]@irc>fales[m]</span>&gt;</div></td><td class="msg-cell">To give some context we were using `Content-Length` to improve memory allocation when `Content-Encoding` was not set (so we knew that Content-Length reflected the acutal bytes to be read). You can read some more in this PR: <a href="https://github.com/godotengine/godot/pull/47597">https://github.com/godotengine/godot/pull/47597</a></td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sat Apr 03 2021 09:51:16 GMT-0700 (Pacific Daylight Time)">16:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">fales[m]: you&#039;d probably get a good answer by filing on whatwg/fetch and waiting for annevk to come back from his OOO time. However I&#039;ll note in general that the allowlist is just legacy exceptions and if anything we&#039;d want to reduce it over time (i.e. remove Content-Length) instead of expand it.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sat Apr 03 2021 09:51:34 GMT-0700 (Pacific Daylight Time)">16:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">s/I&#039;ll note that/my impression is that/ (annevk would be better to confirm)</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sat Apr 03 2021 12:50:25 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=fales[m]@irc>fales[m]</span>&gt;</div></td><td class="msg-cell">Domenic: thanks for your reply. I&#039;ll think about opening an issue then, but I see the point in reducing the allowlist instead of expanding it.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sat Apr 03 2021 14:36:45 GMT-0700 (Pacific Daylight Time)">21:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=EveryOS@irc>EveryOS</span>&gt;</div></td><td class="msg-cell">Does the spec expect all UAs to support Ecmascript? If not, what do UAs that do not support Ecmascript generally do when the specs make mentions to things like Javascript Realms?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sat Apr 03 2021 14:41:47 GMT-0700 (Pacific Daylight Time)">21:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</div></td><td class="msg-cell">My understanding is that the spec only needs to keep track of realms because callbacks must be associated to some realm, and so you don&#039;t have to care about them if you don&#039;t support scripts</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sat Apr 03 2021 14:42:09 GMT-0700 (Pacific Daylight Time)">21:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=EveryOS@irc>EveryOS</span>&gt;</div></td><td class="msg-cell">Ok, thanks</td></tr>

</tbody></table></div></div></div></body>
