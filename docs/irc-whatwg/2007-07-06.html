<!doctype html>
<head>
  <title>#whatwg on 2007-07-06</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2007-07-06<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2007-07-05" class="nav-link"><span>prev</span></a>
<a href="2007-07-07" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jul 05 2007 17:00:00 GMT-0700 (Pacific Daylight Time)">00:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Oh, I guess I just need to fix my concept of &#039;current token&#039; so it&#039;s not simply the most recent token on the stack</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jul 05 2007 17:00:01 GMT-0700 (Pacific Daylight Time)">00:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: stack?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jul 05 2007 17:01:00 GMT-0700 (Pacific Daylight Time)">00:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Well, append-only stack</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jul 05 2007 17:01:01 GMT-0700 (Pacific Daylight Time)">00:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">so, er, I guess it&#039;s more like a list</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Jul 05 2007 17:03:00 GMT-0700 (Pacific Daylight Time)">00:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: do you mean your test harness builds a list of tokens?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jul 05 2007 17:03:01 GMT-0700 (Pacific Daylight Time)">00:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">I was just thinking that there&#039;s no stack in the tokenizer</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jul 05 2007 17:05:00 GMT-0700 (Pacific Daylight Time)">00:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">The tokeniser itself builds a list of tokens (and then prints them all out at the end)</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jul 05 2007 17:05:01 GMT-0700 (Pacific Daylight Time)">00:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(though I can change it to not do that, because it only ever needs a single current token and a bit of cheating to merge character tokens)</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jul 05 2007 17:19:00 GMT-0700 (Pacific Daylight Time)">00:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Ooh, it sort of almost works, some of the time</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jul 05 2007 17:22:00 GMT-0700 (Pacific Daylight Time)">00:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">interesting, i never considered parse errors as a token type</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jul 05 2007 17:22:01 GMT-0700 (Pacific Daylight Time)">00:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">i just treat them as an out-of-band callback called during parse (my parser is synchronous, it returns a complete document once the parsing is done)</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jul 05 2007 17:25:00 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: I treat both errors and tokens as callbacks</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jul 05 2007 17:25:01 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">right</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jul 05 2007 17:25:02 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">they are on different interfaces but the handler that generates JSON implements both</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jul 05 2007 17:27:00 GMT-0700 (Pacific Daylight Time)">00:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Now I pass all of test1.dat and test2.dat except for about half of them which are just bits I haven&#039;t quite implemented yet</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jul 05 2007 17:29:00 GMT-0700 (Pacific Daylight Time)">00:29</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">needs to write a Perl one after this</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Jul 05 2007 17:35:00 GMT-0700 (Pacific Daylight Time)">00:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(Actually, I probably don&#039;t, since there&#039;d be no point at all)</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Jul 05 2007 17:35:01 GMT-0700 (Pacific Daylight Time)">00:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title=webben@irc>webben</span>&gt;</div></td><td class="msg-cell">why not?</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Jul 05 2007 17:37:00 GMT-0700 (Pacific Daylight Time)">00:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Because a tokeniser by itself isn&#039;t very useful :-)</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Jul 05 2007 18:30:00 GMT-0700 (Pacific Daylight Time)">01:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell"><a href="http://canvex.lazyilluminati.com/misc/states6.png">http://canvex.lazyilluminati.com/misc/states6.png</a> - now with fewer bugs than before, since implementation seems to pass most of the tests now</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Jul 05 2007 18:31:00 GMT-0700 (Pacific Daylight Time)">01:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">*the implementation</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Jul 05 2007 18:32:00 GMT-0700 (Pacific Daylight Time)">01:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=nickshanks@irc>nickshanks</span>&gt;</div></td><td class="msg-cell">yay squiggly lines</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Jul 05 2007 18:33:00 GMT-0700 (Pacific Daylight Time)">01:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">Philip`: what&#039;s the difference between red and black lines?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Jul 05 2007 18:33:01 GMT-0700 (Pacific Daylight Time)">01:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(Oh, I segfault on &lt;x y=&quot;&amp;&quot;&gt;, which can&#039;t be good)</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Jul 05 2007 18:34:00 GMT-0700 (Pacific Daylight Time)">01:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=nickshanks@irc>nickshanks</span>&gt;</div></td><td class="msg-cell">an especially squiggly red one going from CommentEndDash to Data</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Jul 05 2007 18:34:01 GMT-0700 (Pacific Daylight Time)">01:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Lachy: Red is transitions that are parse errors, black is transitions that probably aren&#039;t</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Jul 05 2007 18:34:02 GMT-0700 (Pacific Daylight Time)">01:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Jul 05 2007 18:34:03 GMT-0700 (Pacific Daylight Time)">01:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(&quot;probably&quot; because of the parse-error-unless-it&#039;s-a-permitted-slash thing, which the graph treats as not-an-error)</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Jul 05 2007 18:35:00 GMT-0700 (Pacific Daylight Time)">01:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">that&#039;s awesome</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Jul 05 2007 18:35:01 GMT-0700 (Pacific Daylight Time)">01:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">why not have a red line and a black line when you have the permitted slash thing?</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Jul 05 2007 18:35:02 GMT-0700 (Pacific Daylight Time)">01:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">you do that elsewhere</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Jul 05 2007 18:35:03 GMT-0700 (Pacific Daylight Time)">01:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">yay, bogus doctype only has red arrows leading to it</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Jul 05 2007 18:35:04 GMT-0700 (Pacific Daylight Time)">01:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">same with bogus comment, yay</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Jul 05 2007 18:36:00 GMT-0700 (Pacific Daylight Time)">01:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">you really should use another colour for the EOF transitions</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Jul 05 2007 18:36:01 GMT-0700 (Pacific Daylight Time)">01:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">in fact maybe we should have an EOF state</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Jul 05 2007 18:36:02 GMT-0700 (Pacific Daylight Time)">01:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">instead of having EOF go back to the dat astate</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Jul 05 2007 18:37:00 GMT-0700 (Pacific Daylight Time)">01:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I can&#039;t easily have both because I only generate one arrow per transition from the original algorithm, and then delete all duplicates, so it only ends up with red+black when there are two separate transitions between the same states</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Jul 05 2007 18:37:01 GMT-0700 (Pacific Daylight Time)">01:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">ah ok</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Jul 05 2007 18:37:02 GMT-0700 (Pacific Daylight Time)">01:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">didn&#039;t realise it came from actual code</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu Jul 05 2007 18:38:00 GMT-0700 (Pacific Daylight Time)">01:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">that graph is awesome</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu Jul 05 2007 18:38:01 GMT-0700 (Pacific Daylight Time)">01:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">It&#039;s not entirely actual code - the algorithm is represented as data in OCaml, and I can generate that graph or a C++ implementation from that data</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu Jul 05 2007 18:38:02 GMT-0700 (Pacific Daylight Time)">01:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">it shows that there are really three basic ideas</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu Jul 05 2007 18:38:03 GMT-0700 (Pacific Daylight Time)">01:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">aah</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Thu Jul 05 2007 18:38:04 GMT-0700 (Pacific Daylight Time)">01:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">cool</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Thu Jul 05 2007 18:39:00 GMT-0700 (Pacific Daylight Time)">01:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=rubys@irc>rubys</span>&gt;</div></td><td class="msg-cell">is there any reason why you couldn&#039;t generate a, say, Python or Ruby implementation from that data?</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Thu Jul 05 2007 18:42:00 GMT-0700 (Pacific Daylight Time)">01:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell"><a href="http://canvex.lazyilluminati.com/misc/states7.png">http://canvex.lazyilluminati.com/misc/states7.png</a> - unless I did something wrong, that has blue lines for every transition that cannot occur if EOF is never consumed</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Thu Jul 05 2007 18:42:01 GMT-0700 (Pacific Daylight Time)">01:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(i.e. all the transitions that are (at least partially) caused by EOF)</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Thu Jul 05 2007 18:43:00 GMT-0700 (Pacific Daylight Time)">01:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">can you try it with a separate state for EOF? or is that more effort than it&#039;s worth?</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Thu Jul 05 2007 18:43:01 GMT-0700 (Pacific Daylight Time)">01:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">it&#039;d be cool to have the arrows go down to another state for EOF, it would look less cluttered i&#039;d think</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Thu Jul 05 2007 18:43:02 GMT-0700 (Pacific Daylight Time)">01:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">just an idea, don&#039;t worry about it if it&#039;s more work than a few seconds :-)</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Thu Jul 05 2007 18:43:03 GMT-0700 (Pacific Daylight Time)">01:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">rubys: I don&#039;t think there is any reason why that wouldn&#039;t work</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Thu Jul 05 2007 18:43:04 GMT-0700 (Pacific Daylight Time)">01:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">this is really cool</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Thu Jul 05 2007 18:45:00 GMT-0700 (Pacific Daylight Time)">01:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I&#039;ve still had to manually write a few hundred lines of C++ (which would need to be ported to other languages), mostly for the entity parsing (since that&#039;s too boring to do in a more generic way), but then it generates a thousand lines of state-machine code automatically</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Thu Jul 05 2007 18:45:01 GMT-0700 (Pacific Daylight Time)">01:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=rubys@irc>rubys</span>&gt;</div></td><td class="msg-cell">I don&#039;t know O&#039;Caml, but this sounds like a wonderful excuse to learn.  Will you be publishing your source at some point?</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Thu Jul 05 2007 18:45:02 GMT-0700 (Pacific Daylight Time)">01:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I didn&#039;t know it either, so I&#039;m using it as exactly the same excuse ;-)</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Thu Jul 05 2007 18:46:00 GMT-0700 (Pacific Daylight Time)">01:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I&#039;ll try to upload what I&#039;ve done soonish</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Thu Jul 05 2007 18:46:01 GMT-0700 (Pacific Daylight Time)">01:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=KevinMarks@irc>KevinMarks</span>&gt;</div></td><td class="msg-cell">looks like it could be used to generate code coverage testcases too</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Thu Jul 05 2007 18:47:00 GMT-0700 (Pacific Daylight Time)">01:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I&#039;m sure there must be a way to add in a new EOF state in about three lines of code, but I&#039;m also sure they&#039;ll take a few minutes to work out...</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Thu Jul 05 2007 18:55:00 GMT-0700 (Pacific Daylight Time)">01:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell"><a href="http://canvex.lazyilluminati.com/misc/states8.png">http://canvex.lazyilluminati.com/misc/states8.png</a></td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Thu Jul 05 2007 18:55:01 GMT-0700 (Pacific Daylight Time)">01:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(Hmm, it took fourteen lines)</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Thu Jul 05 2007 18:56:00 GMT-0700 (Pacific Daylight Time)">01:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">sweet</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Thu Jul 05 2007 18:57:00 GMT-0700 (Pacific Daylight Time)">01:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">that&#039;s totally awesome</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Thu Jul 05 2007 18:58:00 GMT-0700 (Pacific Daylight Time)">01:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Now I just need to make it able to generate the spec text from the algorithm ;-)</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Thu Jul 05 2007 18:58:01 GMT-0700 (Pacific Daylight Time)">01:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hah</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Thu Jul 05 2007 19:00:00 GMT-0700 (Pacific Daylight Time)">02:00</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">wonders if people have experience of how much more time it takes to implement tree construction compared to tokenisation</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Thu Jul 05 2007 19:00:01 GMT-0700 (Pacific Daylight Time)">02:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">about twice as long to write, about three times as long to debug, iirc</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Thu Jul 05 2007 19:00:02 GMT-0700 (Pacific Daylight Time)">02:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">but it&#039;s not especially hard</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Thu Jul 05 2007 19:00:03 GMT-0700 (Pacific Daylight Time)">02:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">just tedious</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Thu Jul 05 2007 19:07:00 GMT-0700 (Pacific Daylight Time)">02:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=rubys@irc>rubys</span>&gt;</div></td><td class="msg-cell">why is there a blue arrow from data to data?</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Thu Jul 05 2007 19:11:00 GMT-0700 (Pacific Daylight Time)">02:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Because I modified the algorithm so any case which is triggered by EOF and causes a transition into the Data state, was changed to transition into the EOFData state</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Thu Jul 05 2007 19:11:01 GMT-0700 (Pacific Daylight Time)">02:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">but the relevant part inside the Data state bit of the algorithm doesn&#039;t transition into the Data state</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Thu Jul 05 2007 19:12:00 GMT-0700 (Pacific Daylight Time)">02:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(because I didn&#039;t bother writing in the &quot;stay in the same state&quot; bits explicitly)</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Thu Jul 05 2007 19:12:01 GMT-0700 (Pacific Daylight Time)">02:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">so that could be considered a bug in my old-algorithm-to-new-algorithm transformation code, but it&#039;d require too much effort to fix :-)</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Thu Jul 05 2007 19:18:00 GMT-0700 (Pacific Daylight Time)">02:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Hmm, it&#039;s far too easy to get exponential growth in these things</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Thu Jul 05 2007 19:20:00 GMT-0700 (Pacific Daylight Time)">02:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell"><a href="http://canvex.lazyilluminati.com/misc/states9.png">http://canvex.lazyilluminati.com/misc/states9.png</a> - I&#039;m not sure why it&#039;s gone quite that bad</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Thu Jul 05 2007 19:21:00 GMT-0700 (Pacific Daylight Time)">02:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">holy crap what the hell is that</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Thu Jul 05 2007 19:21:01 GMT-0700 (Pacific Daylight Time)">02:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">states * pcdata etc?</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Thu Jul 05 2007 19:22:00 GMT-0700 (Pacific Daylight Time)">02:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Yes</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Thu Jul 05 2007 19:23:00 GMT-0700 (Pacific Daylight Time)">02:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I suppose it&#039;s unhappy because lots of states emit start/end tag tokens when they see EOF, and the tokeniser can&#039;t tell what the tree constructor is going to do to the content model flag when that happens, so I assume it could end up being set to anything, which causes unpleasant growth</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Thu Jul 05 2007 19:23:01 GMT-0700 (Pacific Daylight Time)">02:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(&quot;I assume&quot; = &quot;I tell the code to assume&quot;)</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Thu Jul 05 2007 19:26:00 GMT-0700 (Pacific Daylight Time)">02:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Looks like that is the case - <a href="http://canvex.lazyilluminati.com/misc/states10.png">http://canvex.lazyilluminati.com/misc/states10.png</a> is far better without the EOFs</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Thu Jul 05 2007 19:27:00 GMT-0700 (Pacific Daylight Time)">02:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">Philip`: what are you using to create those flow charts?</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Thu Jul 05 2007 19:28:00 GMT-0700 (Pacific Daylight Time)">02:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Graphviz</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Thu Jul 05 2007 19:30:00 GMT-0700 (Pacific Daylight Time)">02:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(It does tend to collapse into a mass of unreadable squiggles when you get past a certain size, and I always tend to use it on things that approach that size, but I&#039;ve not heard of anything else that does the same kind of thing)</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Thu Jul 05 2007 19:31:00 GMT-0700 (Pacific Daylight Time)">02:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(Uh, &quot;same kind of thing&quot; = drawing graphs, not collapsing into squiggles)</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Thu Jul 05 2007 19:46:00 GMT-0700 (Pacific Daylight Time)">02:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=minerale@irc>minerale</span>&gt;</div></td><td class="msg-cell">What is whatwg ?</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Thu Jul 05 2007 19:47:00 GMT-0700 (Pacific Daylight Time)">02:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=wildcfo@irc>wildcfo</span>&gt;</div></td><td class="msg-cell">u mean this channel?</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Thu Jul 05 2007 19:47:01 GMT-0700 (Pacific Daylight Time)">02:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=minerale@irc>minerale</span>&gt;</div></td><td class="msg-cell">The website needs an &#039;about&#039; link</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Thu Jul 05 2007 19:47:02 GMT-0700 (Pacific Daylight Time)">02:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=minerale@irc>minerale</span>&gt;</div></td><td class="msg-cell">I just saw the site in a slashdot sig, went there and was not sure how it related to silverlight</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Thu Jul 05 2007 19:50:00 GMT-0700 (Pacific Daylight Time)">02:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=minerale@irc>minerale</span>&gt;</div></td><td class="msg-cell">is it some kind of social front end to w3c&#039;s html specifications?</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Thu Jul 05 2007 19:51:00 GMT-0700 (Pacific Daylight Time)">02:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">minerale: see <a href="http://blog.whatwg.org/faq/#whattf">http://blog.whatwg.org/faq/#whattf</a></td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Thu Jul 05 2007 19:52:00 GMT-0700 (Pacific Daylight Time)">02:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">minerale: we&#039;re basically the renegade group that started html5</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Thu Jul 05 2007 19:57:00 GMT-0700 (Pacific Daylight Time)">02:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">My entirely unoptimised C++ tokeniser (which no longer segfaults) takes about 0.4 seconds for the HTML5 spec, which doesn&#039;t seem too bad</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Thu Jul 05 2007 19:59:00 GMT-0700 (Pacific Daylight Time)">02:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(It&#039;s certainly a bit useless, because it just computes all the tokens and then memory-leaks them away)</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Thu Jul 05 2007 20:12:00 GMT-0700 (Pacific Daylight Time)">03:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">Philip`: yeah tokenising is easy</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Thu Jul 05 2007 20:13:00 GMT-0700 (Pacific Daylight Time)">03:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">Philip`: the tree construction is definitely the more expensive part</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Fri Jul 06 2007 00:46:00 GMT-0700 (Pacific Daylight Time)">07:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell"><a href="http://html5.googlecode.com/svn/trunk/data/">http://html5.googlecode.com/svn/trunk/data/</a></td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Fri Jul 06 2007 00:46:01 GMT-0700 (Pacific Daylight Time)">07:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">enjoy</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Fri Jul 06 2007 00:47:00 GMT-0700 (Pacific Daylight Time)">07:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">(hsivonen, jgraham, Philip`, anyone else writing an HTML5 parser ^)</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Fri Jul 06 2007 01:28:00 GMT-0700 (Pacific Daylight Time)">08:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: thank you</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Fri Jul 06 2007 01:32:00 GMT-0700 (Pacific Daylight Time)">08:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hm</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Fri Jul 06 2007 01:32:01 GMT-0700 (Pacific Daylight Time)">08:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">so i have data on attributes-per-element and suchlike</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Fri Jul 06 2007 01:32:02 GMT-0700 (Pacific Daylight Time)">08:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">but i don&#039;t know exactly what you want to know</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Fri Jul 06 2007 01:33:00 GMT-0700 (Pacific Daylight Time)">08:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">cumulative percentages of x% had 0 attributes, y% had &lt;=1 attributes, z% had &lt;=2 attributes, etc.</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Fri Jul 06 2007 01:33:01 GMT-0700 (Pacific Daylight Time)">08:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hm</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Fri Jul 06 2007 01:36:00 GMT-0700 (Pacific Daylight Time)">08:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hm</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Fri Jul 06 2007 01:36:01 GMT-0700 (Pacific Daylight Time)">08:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">if 10 elements had 0 attributes</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Fri Jul 06 2007 01:36:02 GMT-0700 (Pacific Daylight Time)">08:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">and i know there were 20 elements</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Fri Jul 06 2007 01:36:03 GMT-0700 (Pacific Daylight Time)">08:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">and 5 elements had 1 attribute</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Fri Jul 06 2007 01:36:04 GMT-0700 (Pacific Daylight Time)">08:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">I meant element instances, not element names, btw</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Fri Jul 06 2007 01:37:00 GMT-0700 (Pacific Daylight Time)">08:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">that means 75% had &lt;= 1</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Fri Jul 06 2007 01:37:01 GMT-0700 (Pacific Daylight Time)">08:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">right?</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Fri Jul 06 2007 01:37:02 GMT-0700 (Pacific Daylight Time)">08:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Fri Jul 06 2007 01:37:03 GMT-0700 (Pacific Daylight Time)">08:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">i know</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Fri Jul 06 2007 01:37:04 GMT-0700 (Pacific Daylight Time)">08:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Fri Jul 06 2007 01:37:05 GMT-0700 (Pacific Daylight Time)">08:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">so i just need to add numbers until i get to one where i don&#039;t know the number</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Fri Jul 06 2007 02:12:00 GMT-0700 (Pacific Daylight Time)">09:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hsivonen: ok, see <a href="http://html5.googlecode.com/svn/trunk/data/misc.txt">http://html5.googlecode.com/svn/trunk/data/misc.txt</a></td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Fri Jul 06 2007 02:16:00 GMT-0700 (Pacific Daylight Time)">09:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: thank you</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Fri Jul 06 2007 02:17:00 GMT-0700 (Pacific Daylight Time)">09:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">my pleasure</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Fri Jul 06 2007 02:17:01 GMT-0700 (Pacific Daylight Time)">09:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">elements with &lt;= 0 attributes:  33.5% is lower than I would have guessed</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Fri Jul 06 2007 02:18:00 GMT-0700 (Pacific Daylight Time)">09:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">most documents consist primarily of &lt;td&gt;s with bgcolors, &lt;font&gt;s, and such like</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Fri Jul 06 2007 02:19:00 GMT-0700 (Pacific Daylight Time)">09:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">I had guessed that 3 attributes is the common case. not such a bad guess</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Fri Jul 06 2007 02:20:00 GMT-0700 (Pacific Daylight Time)">09:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">I readjust my guess to 5</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Fri Jul 06 2007 02:20:01 GMT-0700 (Pacific Daylight Time)">09:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">amusingly, the more documents i scan, the greater the portion that is XHTML</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Fri Jul 06 2007 02:21:00 GMT-0700 (Pacific Daylight Time)">09:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">in a sample of several dozen billion documents, it was about 0.2%, vs 0.02% for a sample of only a few billion (smaller sample being biased towards western pages with higher page rank)</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Fri Jul 06 2007 02:22:00 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">(0.2% is vs 97.5% for text/html)</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Fri Jul 06 2007 02:29:00 GMT-0700 (Pacific Daylight Time)">09:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: testing whether the stack has &quot;table&quot; in table scope is the same as checking whether there&#039;s a &quot;table&quot; on the stack at all, right?</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Fri Jul 06 2007 02:30:00 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">Hixie: did you find anything with &lt;! &quot;&gt;&quot; &gt; ?</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Fri Jul 06 2007 02:30:01 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">zcorpan_: didn&#039;t have a chance to look into that yet</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Fri Jul 06 2007 02:30:02 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Fri Jul 06 2007 02:30:03 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">zcorpan_: but the fact that only IE does it makes me think it&#039;s not a big deal</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Fri Jul 06 2007 02:30:04 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hsivonen: um</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Fri Jul 06 2007 02:31:00 GMT-0700 (Pacific Daylight Time)">09:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hsivonen: yeah, i guess so</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Fri Jul 06 2007 02:31:01 GMT-0700 (Pacific Daylight Time)">09:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: ok. thanks</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Fri Jul 06 2007 02:31:02 GMT-0700 (Pacific Daylight Time)">09:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">does the spec ever ask that?</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Fri Jul 06 2007 02:33:00 GMT-0700 (Pacific Daylight Time)">09:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: yes</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Fri Jul 06 2007 02:33:01 GMT-0700 (Pacific Daylight Time)">09:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: I sent email</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Fri Jul 06 2007 02:33:02 GMT-0700 (Pacific Daylight Time)">09:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">k</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Fri Jul 06 2007 02:35:00 GMT-0700 (Pacific Daylight Time)">09:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">Hixie: so obviously XHTML lowers your pagerank!</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Fri Jul 06 2007 02:35:01 GMT-0700 (Pacific Daylight Time)">09:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">evil google conspiracy!</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Fri Jul 06 2007 02:35:02 GMT-0700 (Pacific Daylight Time)">09:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">othermaciej: lol</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Fri Jul 06 2007 02:35:03 GMT-0700 (Pacific Daylight Time)">09:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">i wouldn&#039;t be surprised if that was actually true</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Fri Jul 06 2007 02:36:00 GMT-0700 (Pacific Daylight Time)">09:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">i don&#039;t think google really supports xhtml</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Fri Jul 06 2007 02:36:01 GMT-0700 (Pacific Daylight Time)">09:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">we probably treat it as text/html and get all confused or something</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Fri Jul 06 2007 02:37:00 GMT-0700 (Pacific Daylight Time)">09:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">like mobiles?</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Fri Jul 06 2007 02:37:01 GMT-0700 (Pacific Daylight Time)">09:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">:)</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Fri Jul 06 2007 02:43:00 GMT-0700 (Pacific Daylight Time)">09:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">yeah, probably</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Fri Jul 06 2007 02:53:00 GMT-0700 (Pacific Daylight Time)">09:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: according to markp and Matt Cutts on rubys&#039; blog, the XHTML non-support is changing</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Fri Jul 06 2007 02:58:00 GMT-0700 (Pacific Daylight Time)">09:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">hmm. actually, neither of them said anything about Google parsing XHTML right...</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Fri Jul 06 2007 03:01:00 GMT-0700 (Pacific Daylight Time)">10:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">I wonder how much of the nominal html on the web is mobile-targeted (and therefore not really parsed as xhtml)</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Fri Jul 06 2007 03:29:00 GMT-0700 (Pacific Daylight Time)">10:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">othermaciej: btw, did you debug why dom2string hit a &quot;Maximum call stack size exeeded&quot; error in webkit?</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Fri Jul 06 2007 03:31:00 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: haven&#039;t had time so far</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Fri Jul 06 2007 03:31:01 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: can you remind me of the relevant URL?</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Fri Jul 06 2007 03:31:02 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">I can try it now</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Fri Jul 06 2007 03:34:00 GMT-0700 (Pacific Daylight Time)">10:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">othermaciej: <a href="http://simon.html5.org/temp/html5lib-tests/">http://simon.html5.org/temp/html5lib-tests/</a></td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Fri Jul 06 2007 03:38:00 GMT-0700 (Pacific Daylight Time)">10:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: thanks</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Fri Jul 06 2007 03:42:00 GMT-0700 (Pacific Daylight Time)">10:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">does any HTML5 document meet the nesting requirements once parsed?</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Fri Jul 06 2007 03:43:00 GMT-0700 (Pacific Daylight Time)">10:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">gsnedders: what nesting requirement?</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Fri Jul 06 2007 03:44:00 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">zcorpan_: things like &lt;div&gt;test&lt;p&gt;test&lt;/p&gt;&lt;/div&gt;</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Fri Jul 06 2007 03:44:01 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: yes.</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Fri Jul 06 2007 03:44:02 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">like, the content model (I say remembering the name)</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Fri Jul 06 2007 03:44:03 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">gsnedders: oh. no.</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Fri Jul 06 2007 03:44:04 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: no</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Fri Jul 06 2007 03:45:00 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">gsnedders: any stream of characters results in a tree. but it might not conform to the content model rules</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Fri Jul 06 2007 03:46:00 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">I&#039;m just thinking about how plausible it&#039;d be to take arbitrary input and output (machine-checkable) conformant HTML5</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Fri Jul 06 2007 03:48:00 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: you&#039;d probably need methods similar to what John Cowan&#039;s TagSoup uses </td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Fri Jul 06 2007 03:48:01 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: the HTML5 parsing algorithm itself specifically is not about doing that</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Fri Jul 06 2007 03:48:02 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">hsivonen: I know. I was just wondering how much it does do in itself.</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Fri Jul 06 2007 03:48:03 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">even things that parse without parse errors could result in a non-conforming document</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Fri Jul 06 2007 03:49:00 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">gsnedders: it builds a tree</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Fri Jul 06 2007 03:49:01 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: it makes sure that tables don&#039;t have intervening cruft and it moves stuff between head and body to head</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Fri Jul 06 2007 03:49:02 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">My issue was really as to how close to being conforming the output of it was, and whether what it did change made those sections conforming</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Fri Jul 06 2007 03:50:00 GMT-0700 (Pacific Daylight Time)">10:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">I wonder if all the machine-checkable conformance criteria are practically machine-fixable</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Fri Jul 06 2007 03:50:01 GMT-0700 (Pacific Daylight Time)">10:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">othermaciej: invalid dates won&#039;t be.</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Fri Jul 06 2007 03:50:02 GMT-0700 (Pacific Daylight Time)">10:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">(short of dropping them)</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Fri Jul 06 2007 03:51:00 GMT-0700 (Pacific Daylight Time)">10:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">othermaciej: everything that is machine-checkable is machine-fixable to the point that the machine checker doesn&#039;t know the difference (but the result can be totally bogus)</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Fri Jul 06 2007 03:51:01 GMT-0700 (Pacific Daylight Time)">10:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">&lt;title&gt;s in body are still moved to head too, right?</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Fri Jul 06 2007 03:51:02 GMT-0700 (Pacific Daylight Time)">10:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">you could use an ultra-lenient best-guess date parser</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Fri Jul 06 2007 03:51:03 GMT-0700 (Pacific Daylight Time)">10:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">case in point: filling alt attributes with junk</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Fri Jul 06 2007 03:51:04 GMT-0700 (Pacific Daylight Time)">10:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">othermaciej: even that will have limitations.</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Fri Jul 06 2007 03:51:05 GMT-0700 (Pacific Daylight Time)">10:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">or copying src to longdesc to please an accessibility checker</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Fri Jul 06 2007 03:52:00 GMT-0700 (Pacific Daylight Time)">10:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">whether an alt attribute is junk isn&#039;t machine-checkable, really</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Fri Jul 06 2007 03:52:01 GMT-0700 (Pacific Daylight Time)">10:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">othermaciej: that&#039;s my point</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Fri Jul 06 2007 03:52:02 GMT-0700 (Pacific Daylight Time)">10:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">it might be than an image is a picture of the text &quot;asdfjkl; i hate conformance checking&quot;</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Fri Jul 06 2007 03:52:03 GMT-0700 (Pacific Daylight Time)">10:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">and so that would be totally valid alt text</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Fri Jul 06 2007 03:53:00 GMT-0700 (Pacific Daylight Time)">10:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">so anything that is non-conforming in a machine-checkable way can be replaced with stuff that is semantically junk but that is syntactically ok</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Fri Jul 06 2007 03:53:01 GMT-0700 (Pacific Daylight Time)">10:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">I guess it depends on how you want to fix things</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Fri Jul 06 2007 03:54:00 GMT-0700 (Pacific Daylight Time)">10:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">attribute values that would be discarded don&#039;t really matter as much as violating content models, in a way</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Fri Jul 06 2007 03:54:01 GMT-0700 (Pacific Daylight Time)">10:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">because in the latter case, there might not be a conforming document that looks and acts the same (at least, without rewriting in-page scripts)</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Fri Jul 06 2007 03:55:00 GMT-0700 (Pacific Daylight Time)">10:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: in many cases, you can &quot;fix&quot; content models by wrapping consecutive inline nodes in a single p node</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Fri Jul 06 2007 04:20:00 GMT-0700 (Pacific Daylight Time)">11:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">perhaps &lt;foo =&gt; should be a parse error (since it doesn&#039;t do what the spec says in any of ie, safari, opera, firefox)</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Fri Jul 06 2007 04:25:00 GMT-0700 (Pacific Daylight Time)">11:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">what does the spec say to do?</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Fri Jul 06 2007 04:26:00 GMT-0700 (Pacific Daylight Time)">11:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">create an attribute with the name = </td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Fri Jul 06 2007 04:26:01 GMT-0700 (Pacific Daylight Time)">11:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">| &lt;foo&gt;</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Fri Jul 06 2007 04:26:02 GMT-0700 (Pacific Daylight Time)">11:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">|   ==&quot;&quot;</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Fri Jul 06 2007 04:27:00 GMT-0700 (Pacific Daylight Time)">11:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">opera, moz, safari drop the attribute. ie creates an attribute with the empty string as the name</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Fri Jul 06 2007 04:27:01 GMT-0700 (Pacific Daylight Time)">11:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">the spec behavior is extremely weird then</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Fri Jul 06 2007 04:28:00 GMT-0700 (Pacific Daylight Time)">11:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">not really weird. but doesn&#039;t match any browser and it&#039;s not a parse error</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Fri Jul 06 2007 04:38:00 GMT-0700 (Pacific Daylight Time)">11:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">zcorpan_: email time :-)</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Fri Jul 06 2007 04:38:01 GMT-0700 (Pacific Daylight Time)">11:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">emailed</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Fri Jul 06 2007 04:46:00 GMT-0700 (Pacific Daylight Time)">11:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: what blows the JS stack on that page is the runner/process mutual recursion</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Fri Jul 06 2007 04:47:00 GMT-0700 (Pacific Daylight Time)">11:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: not sure offhand why they call each other but perhaps it could be a loop instead</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Fri Jul 06 2007 04:48:00 GMT-0700 (Pacific Daylight Time)">11:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: at some point we will fix the stack limit, it should probably be higher than it is</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Fri Jul 06 2007 04:48:01 GMT-0700 (Pacific Daylight Time)">11:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">othermaciej: ah. so it&#039;s not the dom2string that is the problem</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Fri Jul 06 2007 04:49:00 GMT-0700 (Pacific Daylight Time)">11:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: well, it might have been a problem before, but those recurse deeply enough by themselves to exceed the limit</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Fri Jul 06 2007 04:58:00 GMT-0700 (Pacific Daylight Time)">11:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">othermaciej: works when i rewrote it to be a loop</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Fri Jul 06 2007 04:59:00 GMT-0700 (Pacific Daylight Time)">11:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: cool</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Fri Jul 06 2007 04:59:01 GMT-0700 (Pacific Daylight Time)">11:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">zcorpan_: thanks for the workaround</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Fri Jul 06 2007 05:59:00 GMT-0700 (Pacific Daylight Time)">12:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">commited workaround to <a href="http://html5.googlecode.com/svn/trunk/parser-tests/">http://html5.googlecode.com/svn/trunk/parser-tests/</a></td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Fri Jul 06 2007 06:16:00 GMT-0700 (Pacific Daylight Time)">13:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">The OCaml preprocessor makes my brain hurt</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Fri Jul 06 2007 06:17:00 GMT-0700 (Pacific Daylight Time)">13:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">trying to think whether the tree building spec ask implementors do useless stuff takes time...</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Fri Jul 06 2007 06:20:00 GMT-0700 (Pacific Daylight Time)">13:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Oh, nice, the camlp4 documentation has an example that does precisely what I&#039;m trying to do, which means I don&#039;t have to understand anything and can just copy-and-paste it in</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Fri Jul 06 2007 06:45:00 GMT-0700 (Pacific Daylight Time)">13:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">hmm. getElementsByClassName doesn&#039;t take a string as argument. it did before, didn&#039;t it?</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Fri Jul 06 2007 06:55:00 GMT-0700 (Pacific Daylight Time)">13:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">zcorpan_: gEBCN() has gone though various iterations including a space separated string, varargs and array of strings.</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Fri Jul 06 2007 06:56:00 GMT-0700 (Pacific Daylight Time)">13:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">yeah. i thought it was either string or array. appears it is array only</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Fri Jul 06 2007 07:02:00 GMT-0700 (Pacific Daylight Time)">14:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">firefox has implemented it as either string or array</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Fri Jul 06 2007 07:02:01 GMT-0700 (Pacific Daylight Time)">14:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">it seems</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Fri Jul 06 2007 07:03:00 GMT-0700 (Pacific Daylight Time)">14:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">which version of FF supports it?</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Fri Jul 06 2007 07:04:00 GMT-0700 (Pacific Daylight Time)">14:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">3</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Fri Jul 06 2007 07:04:01 GMT-0700 (Pacific Daylight Time)">14:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">or actually, it only supports array when it has 1 item</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Fri Jul 06 2007 07:05:00 GMT-0700 (Pacific Daylight Time)">14:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">hopefully that can be fixed before FF3 ships</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Fri Jul 06 2007 07:05:01 GMT-0700 (Pacific Daylight Time)">14:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">it uses space-separated string</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Fri Jul 06 2007 07:05:02 GMT-0700 (Pacific Daylight Time)">14:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">that seems to be more practical anyway to me</td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Fri Jul 06 2007 07:06:00 GMT-0700 (Pacific Daylight Time)">14:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">yeah, in some ways it is, but even with an array, it&#039;s not hard to do gEBCN([&quot;foo&quot;]);</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Fri Jul 06 2007 07:08:00 GMT-0700 (Pacific Daylight Time)">14:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">the array helps when you&#039;re programmatically creating a collection of class names, but the space separated string would probably be better optimised for the majority of cases</td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Fri Jul 06 2007 07:09:00 GMT-0700 (Pacific Daylight Time)">14:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">classList is an array right</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Fri Jul 06 2007 07:09:01 GMT-0700 (Pacific Daylight Time)">14:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">or can be passed to gEBCN</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Fri Jul 06 2007 07:09:02 GMT-0700 (Pacific Daylight Time)">14:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">it probably is</td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Fri Jul 06 2007 07:10:00 GMT-0700 (Pacific Daylight Time)">14:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">it&#039;s a DOMTokenList</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Fri Jul 06 2007 07:10:01 GMT-0700 (Pacific Daylight Time)">14:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell"><a href="http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist0">http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist0</a></td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Fri Jul 06 2007 07:11:00 GMT-0700 (Pacific Daylight Time)">14:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">does that fit the definition of &quot;array&quot; wrt what gEBCN can take as argument?</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Fri Jul 06 2007 07:11:01 GMT-0700 (Pacific Daylight Time)">14:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">whether or not a DOMTokenList can be passed to gEBCN would depend on the language binding</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Fri Jul 06 2007 07:11:02 GMT-0700 (Pacific Daylight Time)">14:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">for ECMAScript</td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Fri Jul 06 2007 07:13:00 GMT-0700 (Pacific Daylight Time)">14:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">ideally, it should be possible to pass a DOMTokenList in all languages.  I suggest you send mail about the issue</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Fri Jul 06 2007 07:13:01 GMT-0700 (Pacific Daylight Time)">14:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">it can be passed, just not clear if the result will be useful</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Fri Jul 06 2007 07:13:02 GMT-0700 (Pacific Daylight Time)">14:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">unless the toString conversion is defined</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Fri Jul 06 2007 07:13:03 GMT-0700 (Pacific Daylight Time)">14:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">to do something good</td></tr>
  <tr class="msg" id="L237"><td class="ts-cell"><a class="ts" href="#L237" alt="Fri Jul 06 2007 07:13:04 GMT-0700 (Pacific Daylight Time)">14:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">which probably it should be</td></tr>
  <tr class="msg" id="L238"><td class="ts-cell"><a class="ts" href="#L238" alt="Fri Jul 06 2007 07:14:00 GMT-0700 (Pacific Daylight Time)">14:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">the toString should probably return a space separated list of tokens as a string.</td></tr>
  <tr class="msg" id="L239"><td class="ts-cell"><a class="ts" href="#L239" alt="Fri Jul 06 2007 07:15:00 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">but I don&#039;t think toString is relevant, given the current definition of gEBCN accepting an array</td></tr>
  <tr class="msg" id="L240"><td class="ts-cell"><a class="ts" href="#L240" alt="Fri Jul 06 2007 07:15:01 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">othermaciej: why does toString matter?</td></tr>
  <tr class="msg" id="L241"><td class="ts-cell"><a class="ts" href="#L241" alt="Fri Jul 06 2007 07:15:02 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">I thought it took a string, sorry</td></tr>
  <tr class="msg" id="L242"><td class="ts-cell"><a class="ts" href="#L242" alt="Fri Jul 06 2007 07:15:03 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">defining it to take an array is weird</td></tr>
  <tr class="msg" id="L243"><td class="ts-cell"><a class="ts" href="#L243" alt="Fri Jul 06 2007 07:15:04 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">why</td></tr>
  <tr class="msg" id="L244"><td class="ts-cell"><a class="ts" href="#L244" alt="Fri Jul 06 2007 07:15:05 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">it should at the very least accept a string also</td></tr>
  <tr class="msg" id="L245"><td class="ts-cell"><a class="ts" href="#L245" alt="Fri Jul 06 2007 07:16:00 GMT-0700 (Pacific Daylight Time)">14:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">it is true that you can do the varargs thing with an array and it also lets you build up a pre-made array</td></tr>
  <tr class="msg" id="L246"><td class="ts-cell"><a class="ts" href="#L246" alt="Fri Jul 06 2007 07:16:01 GMT-0700 (Pacific Daylight Time)">14:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">but it makes the common case more awkward</td></tr>
  <tr class="msg" id="L247"><td class="ts-cell"><a class="ts" href="#L247" alt="Fri Jul 06 2007 07:16:02 GMT-0700 (Pacific Daylight Time)">14:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">and it requires creating a wasteful temporary object for the common case</td></tr>
  <tr class="msg" id="L248"><td class="ts-cell"><a class="ts" href="#L248" alt="Fri Jul 06 2007 07:16:03 GMT-0700 (Pacific Daylight Time)">14:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L249"><td class="ts-cell"><a class="ts" href="#L249" alt="Fri Jul 06 2007 07:17:00 GMT-0700 (Pacific Daylight Time)">14:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">and you can use .apply() to pass an array of arguments to a varargs function in JS</td></tr>
  <tr class="msg" id="L250"><td class="ts-cell"><a class="ts" href="#L250" alt="Fri Jul 06 2007 07:18:00 GMT-0700 (Pacific Daylight Time)">14:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">perhaps the spec should be changed to only take a space separated string as argument. and defined DOMTokenList.toString to be useful</td></tr>
  <tr class="msg" id="L251"><td class="ts-cell"><a class="ts" href="#L251" alt="Fri Jul 06 2007 07:19:00 GMT-0700 (Pacific Daylight Time)">14:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">it could probably be defined to accept either a space separated string, varargs, array or a DOMTokenList.</td></tr>
  <tr class="msg" id="L252"><td class="ts-cell"><a class="ts" href="#L252" alt="Fri Jul 06 2007 07:20:00 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Lachy@irc>Lachy</span>&gt;</div></td><td class="msg-cell">I think that would be possible to define, using the IDL described in the latest DOM Language Bindings draft</td></tr>
  <tr class="msg" id="L253"><td class="ts-cell"><a class="ts" href="#L253" alt="Fri Jul 06 2007 08:49:00 GMT-0700 (Pacific Daylight Time)">15:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Ooh, looks like each tokeniser state can only ever be entered with one (or zero) type of current token</td></tr>
  <tr class="msg" id="L254"><td class="ts-cell"><a class="ts" href="#L254" alt="Fri Jul 06 2007 08:50:00 GMT-0700 (Pacific Daylight Time)">15:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">which is nice because it means I can just cast the current-token pointer without any safety checks, since it&#039;s guaranteed to be the right type</td></tr>
  <tr class="msg" id="L255"><td class="ts-cell"><a class="ts" href="#L255" alt="Fri Jul 06 2007 13:00:00 GMT-0700 (Pacific Daylight Time)">20:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">FWIW: <a href="http://geoffers.no-ip.com/svn/php-html-5-direct">http://geoffers.no-ip.com/svn/php-html-5-direct</a> — (Barely started) direct implementation of HTML 5&#039;s algorithms</td></tr>
  <tr class="msg" id="L256"><td class="ts-cell"><a class="ts" href="#L256" alt="Fri Jul 06 2007 13:03:00 GMT-0700 (Pacific Daylight Time)">20:03</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">wonders why the list of whitespace characters differs from the list used in the tokeniser</td></tr>
  <tr class="msg" id="L257"><td class="ts-cell"><a class="ts" href="#L257" alt="Fri Jul 06 2007 13:06:00 GMT-0700 (Pacific Daylight Time)">20:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">Philip`: where is it different? It&#039;s the same, just in a different order.</td></tr>
  <tr class="msg" id="L258"><td class="ts-cell"><a class="ts" href="#L258" alt="Fri Jul 06 2007 13:06:01 GMT-0700 (Pacific Daylight Time)">20:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">The tokeniser doesn&#039;t do U+000D</td></tr>
  <tr class="msg" id="L259"><td class="ts-cell"><a class="ts" href="#L259" alt="Fri Jul 06 2007 13:06:02 GMT-0700 (Pacific Daylight Time)">20:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">&quot;U+000D CARRIAGE RETURN (CR) characters, and U+000A LINE FEED (LF) characters, are treated specially. Any CR characters that are followed by LF characters must be removed, and any CR characters not followed by LF characters must be converted to LF characters. Thus, newlines in HTML DOMs are represented by LF characters, and there are never any CR characters in the input to the tokenisation stage.&quot;</td></tr>
  <tr class="msg" id="L260"><td class="ts-cell"><a class="ts" href="#L260" alt="Fri Jul 06 2007 13:06:03 GMT-0700 (Pacific Daylight Time)">20:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">(Input Stream)</td></tr>
  <tr class="msg" id="L261"><td class="ts-cell"><a class="ts" href="#L261" alt="Fri Jul 06 2007 13:07:00 GMT-0700 (Pacific Daylight Time)">20:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">whereas within an attribute a CR could occur through a entity</td></tr>
  <tr class="msg" id="L262"><td class="ts-cell"><a class="ts" href="#L262" alt="Fri Jul 06 2007 13:09:00 GMT-0700 (Pacific Daylight Time)">20:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: the entity case maps to LF as well now</td></tr>
  <tr class="msg" id="L263"><td class="ts-cell"><a class="ts" href="#L263" alt="Fri Jul 06 2007 13:10:00 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">hsivonen: that was actually changed? ah. I guess the other parts exist to accommodate XHTML5, then?</td></tr>
  <tr class="msg" id="L264"><td class="ts-cell"><a class="ts" href="#L264" alt="Fri Jul 06 2007 13:10:01 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">actually, XML changes CR as well</td></tr>
  <tr class="msg" id="L265"><td class="ts-cell"><a class="ts" href="#L265" alt="Fri Jul 06 2007 13:11:00 GMT-0700 (Pacific Daylight Time)">20:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">&quot;The only way to get a #xD character to match this production is to use a character reference in an entity value literal.&quot; — so you can get it through an entity in XML</td></tr>
  <tr class="msg" id="L266"><td class="ts-cell"><a class="ts" href="#L266" alt="Fri Jul 06 2007 13:12:00 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Does any of that conversion apply if you do document.write(&quot;&lt;b\r&gt;&quot;) ?</td></tr>
  <tr class="msg" id="L267"><td class="ts-cell"><a class="ts" href="#L267" alt="Fri Jul 06 2007 13:12:01 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">Philip`: it goes through the input stream, so yes</td></tr>
  <tr class="msg" id="L268"><td class="ts-cell"><a class="ts" href="#L268" alt="Fri Jul 06 2007 13:14:00 GMT-0700 (Pacific Daylight Time)">20:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Ah, okay</td></tr>
  <tr class="msg" id="L269"><td class="ts-cell"><a class="ts" href="#L269" alt="Fri Jul 06 2007 13:23:00 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: CR is now in the same table as the Windows-1252 NCRS</td></tr>
  <tr class="msg" id="L270"><td class="ts-cell"><a class="ts" href="#L270" alt="Fri Jul 06 2007 13:23:01 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">NCRs</td></tr>
  <tr class="msg" id="L271"><td class="ts-cell"><a class="ts" href="#L271" alt="Fri Jul 06 2007 13:23:02 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">gsnedders: if you put an NCR for CR in XML, you get a CR in the infoset/DOM</td></tr>
  <tr class="msg" id="L272"><td class="ts-cell"><a class="ts" href="#L272" alt="Fri Jul 06 2007 13:24:00 GMT-0700 (Pacific Daylight Time)">20:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">hsivonen: ah. I didn&#039;t notice it when I implemented that separately a few days ago (though I did just copy/paste the table and create code automagically). that&#039;s what I thought about XML, though.</td></tr>
  <tr class="msg" id="L273"><td class="ts-cell"><a class="ts" href="#L273" alt="Fri Jul 06 2007 13:24:01 GMT-0700 (Pacific Daylight Time)">20:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">trying to remember what specs say when so tired probably isn&#039;t sensible :)</td></tr>
  <tr class="msg" id="L274"><td class="ts-cell"><a class="ts" href="#L274" alt="Fri Jul 06 2007 13:25:00 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-15" title=hsivonen@irc>hsivonen</span></div></td><td class="msg-cell">notes that the fragment case does bad things to control flow</td></tr>
  <tr class="msg" id="L275"><td class="ts-cell"><a class="ts" href="#L275" alt="Fri Jul 06 2007 14:21:00 GMT-0700 (Pacific Daylight Time)">21:21</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">wishes he could find a nice way to output C code from OCaml without just sticking lots of strings together, and without using 25K-line libraries with far too many dependencies</td></tr>
  <tr class="msg" id="L276"><td class="ts-cell"><a class="ts" href="#L276" alt="Fri Jul 06 2007 14:42:00 GMT-0700 (Pacific Daylight Time)">21:42</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">wonders what would be the easiest way to prove the tokeniser terminates (assuming the character stream is finite)</td></tr>
  <tr class="msg" id="L277"><td class="ts-cell"><a class="ts" href="#L277" alt="Fri Jul 06 2007 14:42:01 GMT-0700 (Pacific Daylight Time)">21:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(I don&#039;t doubt that it does, but I like having a computer agree with me...)</td></tr>
  <tr class="msg" id="L278"><td class="ts-cell"><a class="ts" href="#L278" alt="Fri Jul 06 2007 14:43:00 GMT-0700 (Pacific Daylight Time)">21:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">oh you are actually proving stuff :-)</td></tr>
  <tr class="msg" id="L279"><td class="ts-cell"><a class="ts" href="#L279" alt="Fri Jul 06 2007 14:43:01 GMT-0700 (Pacific Daylight Time)">21:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">I just trust the html5lib tests :-)</td></tr>
  <tr class="msg" id="L280"><td class="ts-cell"><a class="ts" href="#L280" alt="Fri Jul 06 2007 14:46:00 GMT-0700 (Pacific Daylight Time)">21:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">what is a conforming test case? don&#039;t we need conformance requirements for test cases?</td></tr>
  <tr class="msg" id="L281"><td class="ts-cell"><a class="ts" href="#L281" alt="Fri Jul 06 2007 14:46:01 GMT-0700 (Pacific Daylight Time)">21:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=Dashiva@irc>Dashiva</span>&gt;</div></td><td class="msg-cell">Can you show the input position is steadily increasing?</td></tr>
  <tr class="msg" id="L282"><td class="ts-cell"><a class="ts" href="#L282" alt="Fri Jul 06 2007 14:46:02 GMT-0700 (Pacific Daylight Time)">21:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Since I&#039;ve got the tokeniser in this format, I thought I might as well try proving various forms of correctness, to make sure I don&#039;t forget all the logic stuff I learnt at university :-)</td></tr>
  <tr class="msg" id="L283"><td class="ts-cell"><a class="ts" href="#L283" alt="Fri Jul 06 2007 14:47:00 GMT-0700 (Pacific Daylight Time)">21:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Dashiva: No, since it doesn&#039;t always steadily increase - some states don&#039;t always consume a character</td></tr>
  <tr class="msg" id="L284"><td class="ts-cell"><a class="ts" href="#L284" alt="Fri Jul 06 2007 14:47:01 GMT-0700 (Pacific Daylight Time)">21:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=Dashiva@irc>Dashiva</span>&gt;</div></td><td class="msg-cell">But then you could take those states and how they&#039;re always part of a series of states increasing it</td></tr>
  <tr class="msg" id="L285"><td class="ts-cell"><a class="ts" href="#L285" alt="Fri Jul 06 2007 14:49:00 GMT-0700 (Pacific Daylight Time)">21:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I think that&#039;d probably work - I don&#039;t know if it can be done automatically, but I guess it shouldn&#039;t be hard to manually define a (partial) ordering of states and check that (input_position, state) is always increasing</td></tr>
  <tr class="msg" id="L286"><td class="ts-cell"><a class="ts" href="#L286" alt="Fri Jul 06 2007 14:51:00 GMT-0700 (Pacific Daylight Time)">21:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: do you use a read()/unread() model?</td></tr>
  <tr class="msg" id="L287"><td class="ts-cell"><a class="ts" href="#L287" alt="Fri Jul 06 2007 14:51:01 GMT-0700 (Pacific Daylight Time)">21:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: can you prove that there are never two consecutive unreads without a read in between?</td></tr>
  <tr class="msg" id="L288"><td class="ts-cell"><a class="ts" href="#L288" alt="Fri Jul 06 2007 14:52:00 GMT-0700 (Pacific Daylight Time)">21:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">that would at least prove it isn&#039;t going backwards</td></tr>
  <tr class="msg" id="L289"><td class="ts-cell"><a class="ts" href="#L289" alt="Fri Jul 06 2007 14:53:00 GMT-0700 (Pacific Daylight Time)">21:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Is &quot;unread&quot; where the spec says &quot;reconsume the character in the something state&quot;?</td></tr>
  <tr class="msg" id="L290"><td class="ts-cell"><a class="ts" href="#L290" alt="Fri Jul 06 2007 14:53:01 GMT-0700 (Pacific Daylight Time)">21:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">I&#039;ve made quite a few optimization by just looking hard at the tree building algorithm without proving anything...</td></tr>
  <tr class="msg" id="L291"><td class="ts-cell"><a class="ts" href="#L291" alt="Fri Jul 06 2007 14:53:02 GMT-0700 (Pacific Daylight Time)">21:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: yes</td></tr>
  <tr class="msg" id="L292"><td class="ts-cell"><a class="ts" href="#L292" alt="Fri Jul 06 2007 14:53:03 GMT-0700 (Pacific Daylight Time)">21:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: I call unread() before such transitions</td></tr>
  <tr class="msg" id="L293"><td class="ts-cell"><a class="ts" href="#L293" alt="Fri Jul 06 2007 14:55:00 GMT-0700 (Pacific Daylight Time)">21:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">hsivonen: Okay - I&#039;ve done about the same, with UnconsumeCharacter/ConsumeCharacter</td></tr>
  <tr class="msg" id="L294"><td class="ts-cell"><a class="ts" href="#L294" alt="Fri Jul 06 2007 14:56:00 GMT-0700 (Pacific Daylight Time)">21:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: btw, what&#039;s you character datatype? an UTF-8 code unit? UTF-16 code unit? UTF-32 code unit?</td></tr>
  <tr class="msg" id="L295"><td class="ts-cell"><a class="ts" href="#L295" alt="Fri Jul 06 2007 14:57:00 GMT-0700 (Pacific Daylight Time)">21:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(I&#039;ve tried to do as literal a translation of the spec text as possible, but &#039;unconsume&#039; maps onto the state-&gt;state [where &#039;state&#039; means the whole tokeniser state, not just the explicit ones in the spec] transition model much better than &#039;reconsume in some other state&#039;)</td></tr>
  <tr class="msg" id="L296"><td class="ts-cell"><a class="ts" href="#L296" alt="Fri Jul 06 2007 14:58:00 GMT-0700 (Pacific Daylight Time)">21:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">The C++ implementation just uses a wchar_t, which is 2 or 4 bytes, but it ought to be relatively easy to change that to something better if I had any idea of what would work well</td></tr>
  <tr class="msg" id="L297"><td class="ts-cell"><a class="ts" href="#L297" alt="Fri Jul 06 2007 15:01:00 GMT-0700 (Pacific Daylight Time)">22:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I&#039;d like to be able to just start with the original correct algorithm, and then have code that optimises it into a less naive structure, and then output that (as C++ or whatever else you want), though currently I&#039;ve got none of the optimisation bit :-)</td></tr>
  <tr class="msg" id="L298"><td class="ts-cell"><a class="ts" href="#L298" alt="Fri Jul 06 2007 15:04:00 GMT-0700 (Pacific Daylight Time)">22:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(...and then if the spec changes, it&#039;d all work nicely and easily since the optimisation things would just apply themselves to a different algorithm and produce a new correct tokeniser)</td></tr>
  <tr class="msg" id="L299"><td class="ts-cell"><a class="ts" href="#L299" alt="Fri Jul 06 2007 15:04:01 GMT-0700 (Pacific Daylight Time)">22:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(I expect this is all far more complex than necessary, but it&#039;s fun anyway)</td></tr>
  <tr class="msg" id="L300"><td class="ts-cell"><a class="ts" href="#L300" alt="Fri Jul 06 2007 15:45:00 GMT-0700 (Pacific Daylight Time)">22:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hsivonen: i haven&#039;t checked, but re &lt;/table&gt;, what about:   &lt;table&gt;&lt;td&gt;&lt;ol&gt;&lt;li&gt;&lt;/table&gt; ?</td></tr>
  <tr class="msg" id="L301"><td class="ts-cell"><a class="ts" href="#L301" alt="Fri Jul 06 2007 15:45:01 GMT-0700 (Pacific Daylight Time)">22:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">vs &lt;table&gt;&lt;td&gt;&lt;p&gt;&lt;/table&gt;</td></tr>
  <tr class="msg" id="L302"><td class="ts-cell"><a class="ts" href="#L302" alt="Fri Jul 06 2007 15:45:02 GMT-0700 (Pacific Daylight Time)">22:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">and ignoring the missing &lt;tr&gt;s, oops</td></tr>
  <tr class="msg" id="L303"><td class="ts-cell"><a class="ts" href="#L303" alt="Fri Jul 06 2007 15:47:00 GMT-0700 (Pacific Daylight Time)">22:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: well, yeah. I guess we want the errors there after all. my point was that &lt;ol&gt; gets one error anyway when it goes on the stack</td></tr>
  <tr class="msg" id="L304"><td class="ts-cell"><a class="ts" href="#L304" alt="Fri Jul 06 2007 16:04:00 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hsivonen: not in that case, you&#039;re in a cell there</td></tr>
  <tr class="msg" id="L305"><td class="ts-cell"><a class="ts" href="#L305" alt="Fri Jul 06 2007 16:16:00 GMT-0700 (Pacific Daylight Time)">23:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: ooh. good point.</td></tr>
  <tr class="msg" id="L306"><td class="ts-cell"><a class="ts" href="#L306" alt="Fri Jul 06 2007 16:16:01 GMT-0700 (Pacific Daylight Time)">23:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: except then you aren&#039;t IN_TABLE</td></tr>
  <tr class="msg" id="L307"><td class="ts-cell"><a class="ts" href="#L307" alt="Fri Jul 06 2007 16:18:00 GMT-0700 (Pacific Daylight Time)">23:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">well, I implemented the spec now</td></tr>
  <tr class="msg" id="L308"><td class="ts-cell"><a class="ts" href="#L308" alt="Fri Jul 06 2007 16:20:00 GMT-0700 (Pacific Daylight Time)">23:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">doesn&#039;t in-cell defer to in-table in that case?</td></tr>
  <tr class="msg" id="L309"><td class="ts-cell"><a class="ts" href="#L309" alt="Fri Jul 06 2007 16:21:00 GMT-0700 (Pacific Daylight Time)">23:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">no. it closes the cell first</td></tr>
  <tr class="msg" id="L310"><td class="ts-cell"><a class="ts" href="#L310" alt="Fri Jul 06 2007 16:24:00 GMT-0700 (Pacific Daylight Time)">23:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">ah</td></tr>
  <tr class="msg" id="L311"><td class="ts-cell"><a class="ts" href="#L311" alt="Fri Jul 06 2007 16:24:01 GMT-0700 (Pacific Daylight Time)">23:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hm</td></tr>
  <tr class="msg" id="L312"><td class="ts-cell"><a class="ts" href="#L312" alt="Fri Jul 06 2007 16:24:02 GMT-0700 (Pacific Daylight Time)">23:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">well i&#039;ll look at it in detail at some point</td></tr>
  <tr class="msg" id="L313"><td class="ts-cell"><a class="ts" href="#L313" alt="Fri Jul 06 2007 16:24:03 GMT-0700 (Pacific Daylight Time)">23:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">:-)</td></tr>

</tbody></table></div></div></div></body>
