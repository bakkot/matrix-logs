<!doctype html>
<head>
  <title>#whatwg on 2014-05-27</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2014-05-27<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2014-05-26" class="nav-link"><span>prev</span></a>
<a href="2014-05-28" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon May 26 2014 17:16:01 GMT-0700 (Pacific Daylight Time)">00:16</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">+1 on the addition of .closest too, annevk.  Very, very useful for DOM traversal, if my authoring experience with jQuery is any indication.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon May 26 2014 21:39:23 GMT-0700 (Pacific Daylight Time)">04:39</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=JonathanNeal@irc>JonathanNeal</span>&gt;</td><td class="msg-cell">TabAtkins: yea! closest!</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon May 26 2014 21:39:59 GMT-0700 (Pacific Daylight Time)">04:39</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=JonathanNeal@irc>JonathanNeal</span>&gt;</td><td class="msg-cell">annevk: dunno what you said to bring it up, but +1</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon May 26 2014 21:41:31 GMT-0700 (Pacific Daylight Time)">04:41</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=JonathanNeal@irc>JonathanNeal</span>&gt;</td><td class="msg-cell">TabAtkins, annevk, “do it for the delegates”</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon May 26 2014 22:10:11 GMT-0700 (Pacific Daylight Time)">05:10</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=JonathanNeal@irc>JonathanNeal</span>&gt;</td><td class="msg-cell">my oh my it looks like it’s gonna be a thing! <a href="https://github.com/whatwg/dom/commit/fd69cc7ed9251d12b1185b24e6f89d3f0481f39d">https://github.com/whatwg/dom/commit/fd69cc7ed9251d12b1185b24e6f89d3f0481f39d</a> wooohoo!!</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon May 26 2014 22:27:28 GMT-0700 (Pacific Daylight Time)">05:27</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=caitp@irc>caitp</span>&gt;</td><td class="msg-cell">maybe dave methvin and john resig should be writing these things</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon May 26 2014 23:28:23 GMT-0700 (Pacific Daylight Time)">06:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JonathanNeal: I added it</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue May 27 2014 00:21:51 GMT-0700 (Pacific Daylight Time)">07:21</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">annevk: SamB: so should we do something about the xhr logo? ask ajax for permission?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue May 27 2014 00:25:06 GMT-0700 (Pacific Daylight Time)">07:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">zcorpan: I don&#039;t see why it&#039;s not fair use</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue May 27 2014 00:25:44 GMT-0700 (Pacific Daylight Time)">07:25</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">annevk: it is, but that&#039;s a US thing i think</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue May 27 2014 00:40:14 GMT-0700 (Pacific Daylight Time)">07:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">zcorpan: not sure then</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue May 27 2014 00:42:48 GMT-0700 (Pacific Daylight Time)">07:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">zcorpan: kinda planning on merging XHR into Fetch at some point so it might become moot</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue May 27 2014 00:43:58 GMT-0700 (Pacific Daylight Time)">07:43</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue May 27 2014 00:54:52 GMT-0700 (Pacific Daylight Time)">07:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">darobin: tobie: you guys were involved with Ringmark right? Care to comment on <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1016053">https://bugzilla.mozilla.org/show_bug.cgi?id=1016053</a> ?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue May 27 2014 00:55:19 GMT-0700 (Pacific Daylight Time)">07:55</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">I wasn&#039;t, it was a Facebook internal project</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue May 27 2014 00:55:38 GMT-0700 (Pacific Daylight Time)">07:55</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">I wasn&#039;t even aware it was still alive</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue May 27 2014 00:56:10 GMT-0700 (Pacific Daylight Time)">07:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Arg.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue May 27 2014 00:56:32 GMT-0700 (Pacific Daylight Time)">07:56</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">Ringmark has some... issues</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue May 27 2014 00:57:46 GMT-0700 (Pacific Daylight Time)">07:57</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Lots of reasons why I don&#039;t want to comment on this.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue May 27 2014 00:59:50 GMT-0700 (Pacific Daylight Time)">07:59</a></td><td class="nick-cell"><span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span></td><td class="msg-cell">wonders if he cares enough to look up who claimed they fixed all their issues, promise</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue May 27 2014 01:01:01 GMT-0700 (Pacific Daylight Time)">08:01</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">annevk: if there are no other known instances of this being used, I would recommend closing the bug</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue May 27 2014 01:01:34 GMT-0700 (Pacific Daylight Time)">08:01</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">also, Kyle seems to indicate that there&#039;s some XPConnect magic going on — why that would happen on the Web I don&#039;t even</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue May 27 2014 01:09:15 GMT-0700 (Pacific Daylight Time)">08:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">annevk: commented. imho test needs to be fixed to generate the storageevent properly.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue May 27 2014 01:13:16 GMT-0700 (Pacific Daylight Time)">08:13</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">tobie, want to poke the right people? :)</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue May 27 2014 01:13:30 GMT-0700 (Pacific Daylight Time)">08:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Ms2ger: Rick is.</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue May 27 2014 01:13:45 GMT-0700 (Pacific Daylight Time)">08:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Ms2ger:</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue May 27 2014 01:13:55 GMT-0700 (Pacific Daylight Time)">08:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Rick is the right person.</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue May 27 2014 01:13:56 GMT-0700 (Pacific Daylight Time)">08:13</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Do you know if he reads bugmail?</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue May 27 2014 01:14:25 GMT-0700 (Pacific Daylight Time)">08:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">He probably does, but I&#039;ll ping him on twitter.</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue May 27 2014 01:15:02 GMT-0700 (Pacific Daylight Time)">08:15</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Ta</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue May 27 2014 01:31:11 GMT-0700 (Pacific Daylight Time)">08:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Ms2ger: are storage events still on other windows only?</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Tue May 27 2014 01:31:32 GMT-0700 (Pacific Daylight Time)">08:31</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Eh?</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Tue May 27 2014 01:32:37 GMT-0700 (Pacific Daylight Time)">08:32</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Yeah. Spec used to mandate firing storage events on window objects of other open tabs of the same origin.</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Tue May 27 2014 01:33:28 GMT-0700 (Pacific Daylight Time)">08:33</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Nicely conflating a sync storage system and a cross frame communication channel along the way.</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Tue May 27 2014 01:43:44 GMT-0700 (Pacific Daylight Time)">08:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">tobie: the test could do new StorageEvent()</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Tue May 27 2014 01:44:22 GMT-0700 (Pacific Daylight Time)">08:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">oh. Mind mentioning that in the comment? I&#039;m out of battery.</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Tue May 27 2014 03:18:40 GMT-0700 (Pacific Daylight Time)">10:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: note that per <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=24822">https://www.w3.org/Bugs/Public/show_bug.cgi?id=24822</a> we should not advocate allowing <a href="http://localhost">localhost</a> by default</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Tue May 27 2014 03:19:07 GMT-0700 (Pacific Daylight Time)">10:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: apparently people set up systems locally and do not expect the outside world to be able to read them even if they have CORS headers...</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Tue May 27 2014 03:22:43 GMT-0700 (Pacific Daylight Time)">10:22</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: hmm, that&#039;s really tough. I mean, what if you *want* that?</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Tue May 27 2014 03:23:17 GMT-0700 (Pacific Daylight Time)">10:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: use case?</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Tue May 27 2014 03:24:05 GMT-0700 (Pacific Daylight Time)">10:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: actually, <a href="http://localhost">localhost</a> same-origin is prolly fine</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Tue May 27 2014 03:25:25 GMT-0700 (Pacific Daylight Time)">10:25</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Say I&#039;m developing locally, and I have a local version of some API running for testing purposes</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Tue May 27 2014 03:25:41 GMT-0700 (Pacific Daylight Time)">10:25</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Would <a href="http://jakearchibald.dev">jakearchibald.dev</a> be able to reach <a href="http://localhost:3000">localhost:3000</a>?</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Tue May 27 2014 03:26:21 GMT-0700 (Pacific Daylight Time)">10:26</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">(assume <a href="http://jakearchibald.dev">jakearchibald.dev</a> maps to <a href="http://localhost">localhost</a>)</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Tue May 27 2014 03:27:04 GMT-0700 (Pacific Daylight Time)">10:27</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Would XHRing to <a href="http://localhost:3000">localhost:3000</a> behave differently to <a href="http://jakearchibald.dev:3000">jakearchibald.dev:3000</a>?</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Tue May 27 2014 03:27:50 GMT-0700 (Pacific Daylight Time)">10:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: that&#039;s what people are proposing</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Tue May 27 2014 03:28:05 GMT-0700 (Pacific Daylight Time)">10:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: maybe leave a comment in that bug</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Tue May 27 2014 03:28:18 GMT-0700 (Pacific Daylight Time)">10:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: sicking wants to do this</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Tue May 27 2014 03:30:54 GMT-0700 (Pacific Daylight Time)">10:30</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Done</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Tue May 27 2014 03:31:32 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">tbh, as long as it was flagged in devtools with a button to allow, it&#039;d be ok</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Tue May 27 2014 03:31:42 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">But it seems weird to break CORS like this</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Tue May 27 2014 03:36:11 GMT-0700 (Pacific Daylight Time)">10:36</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">JakeA: I think it&#039;s not just CORS that&#039;s the issue but accessing <a href="http://localhost">localhost</a> in general</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Tue May 27 2014 03:36:25 GMT-0700 (Pacific Daylight Time)">10:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Oh yeah, this wouldn&#039;t just block CORS, this would block all the things</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Tue May 27 2014 03:36:27 GMT-0700 (Pacific Daylight Time)">10:36</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">there are a few apps out there that expose a local server, and aren&#039;t necessarily well thought out</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Tue May 27 2014 03:36:57 GMT-0700 (Pacific Daylight Time)">10:36</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">(e.g. support GET with side-effects)</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Tue May 27 2014 03:37:37 GMT-0700 (Pacific Daylight Time)">10:37</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">But with CORS, that&#039;s an explicit &quot;allow access&quot;</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Tue May 27 2014 03:38:19 GMT-0700 (Pacific Daylight Time)">10:38</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">I can understand wanting to block new Image().src=&#039;<a href="http://localhost/...&#039">http://localhost/...&#039</a>;</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Tue May 27 2014 03:38:24 GMT-0700 (Pacific Daylight Time)">10:38</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">JakeA: to answer your question, I would expect the block to apply to &quot;<a href="http://localhost">localhost</a>&quot; and also explicit access to the loopback/local IPs, but not to other (unguessable) names that map to those IPs</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Tue May 27 2014 03:39:55 GMT-0700 (Pacific Daylight Time)">10:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Is loopback/local IPs defined?</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Tue May 27 2014 03:40:04 GMT-0700 (Pacific Daylight Time)">10:40</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">So if I had localtoast mapping to <a href="http://localhost">localhost</a> it&#039;d behave like the rest of the web? I guess that&#039;s an easy way around it for developers</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Tue May 27 2014 03:40:08 GMT-0700 (Pacific Daylight Time)">10:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Does the definition make sense with IPv6?</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Tue May 27 2014 03:40:16 GMT-0700 (Pacific Daylight Time)">10:40</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">(as long as localtoast doesn&#039;t become a pseudostandard)</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Tue May 27 2014 03:40:21 GMT-0700 (Pacific Daylight Time)">10:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">If you know about any of that darobin it might make sense to add to the bug</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Tue May 27 2014 03:41:03 GMT-0700 (Pacific Daylight Time)">10:41</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">JakeA: that&#039;s what I&#039;d expect</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Tue May 27 2014 03:41:21 GMT-0700 (Pacific Daylight Time)">10:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: Mac OS X makes setting up <a href="http://localhost">localhost</a> very easy but doesn&#039;t make the implications that clear</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Tue May 27 2014 03:41:35 GMT-0700 (Pacific Daylight Time)">10:41</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">annevk: well, I don&#039;t know *much* but yes IPv6 has ::1</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Tue May 27 2014 03:41:38 GMT-0700 (Pacific Daylight Time)">10:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I guess if there was a special dev mode, localdevhost, that could work</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Tue May 27 2014 03:41:54 GMT-0700 (Pacific Daylight Time)">10:41</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">it&#039;s pretty easy for developers to run their own local names</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Tue May 27 2014 03:41:58 GMT-0700 (Pacific Daylight Time)">10:41</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Does OS X <a href="http://localhost">localhost</a> come with CORS as default?</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Tue May 27 2014 03:42:07 GMT-0700 (Pacific Daylight Time)">10:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: this is not about CORS</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Tue May 27 2014 03:42:19 GMT-0700 (Pacific Daylight Time)">10:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: this is about Fetch</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Tue May 27 2014 03:42:41 GMT-0700 (Pacific Daylight Time)">10:42</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Ahh I see, by blocking the get you also block CORS. What about forcing preflight?</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Tue May 27 2014 03:45:15 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">mmmm</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Tue May 27 2014 03:45:22 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">I don&#039;t like the idea of forcing preflight</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Tue May 27 2014 03:45:39 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">because it means that if you develop using CORS against <a href="http://localhost">localhost</a>, you get a preflight which you won&#039;t get when you deploy</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Tue May 27 2014 03:45:50 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">that risks causing confusion</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Tue May 27 2014 03:46:14 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">if your preflight has side-effects you&#039;ll end up with really hard to debug behaviour</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Tue May 27 2014 03:46:15 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">more than XHR failing to <a href="http://localhost">localhost</a> all together?</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Tue May 27 2014 03:46:26 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">well yeah, if it fails it really just fails</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Tue May 27 2014 03:46:41 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">you don&#039;t get weird side effects, just immediate failure</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Tue May 27 2014 03:46:52 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">But that&#039;s also confusing</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Tue May 27 2014 03:46:55 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">and your console can report &quot;ERROR: access to <a href="http://localhost">localhost</a> blocked for XHR&quot;</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Tue May 27 2014 03:47:49 GMT-0700 (Pacific Daylight Time)">10:47</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">I guess maybe there could be a better way</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Tue May 27 2014 03:47:53 GMT-0700 (Pacific Daylight Time)">10:47</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Fair enough, if there was an option in devtools to &quot;allow&quot;, I guess its fine</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Tue May 27 2014 03:48:13 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">*if* the origin calling fetch is from a name that maps to the loopback IP, then it&#039;s allowed to call to <a href="http://localhost">localhost</a></td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Tue May 27 2014 03:48:20 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">anything else is just blocked</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Tue May 27 2014 03:48:39 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">so <a href="http://jakea.dev">jakea.dev</a> can call <a href="http://localhost">localhost</a>, with all the usual CORS stuff</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Tue May 27 2014 03:48:57 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">but <a href="http://jakea.com">jakea.com</a>, which does not map to 127.0.0.1 or ::1, can&#039;t</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Tue May 27 2014 03:49:14 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">I think that stops the attacks, but keeps devs happy and simple</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Tue May 27 2014 03:49:29 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=darobin@irc>darobin</span>&gt;</td><td class="msg-cell">annevk: WDYT? ^</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Tue May 27 2014 03:49:50 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">feels ok to me</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Tue May 27 2014 03:49:54 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">darobin: yeah I guess something like that makes sense</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Tue May 27 2014 03:52:55 GMT-0700 (Pacific Daylight Time)">10:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: do you think you can get to that Fetch / SW integration question today?</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Tue May 27 2014 03:53:19 GMT-0700 (Pacific Daylight Time)">10:53</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I&#039;m gonna look into fetch() / Request / Response after lunch</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Tue May 27 2014 03:56:19 GMT-0700 (Pacific Daylight Time)">10:56</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: The progress events one? <a href="https://github.com/slightlyoff/ServiceWorker/issues/289">https://github.com/slightlyoff/ServiceWorker/issues/289</a></td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Tue May 27 2014 04:01:57 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: <a href="https://github.com/slightlyoff/ServiceWorker/issues/242">https://github.com/slightlyoff/ServiceWorker/issues/242</a></td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Tue May 27 2014 04:45:19 GMT-0700 (Pacific Daylight Time)">11:45</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: If I call event.respondWith(event.default()) for a subresource &amp; it returns a redirect, it doesn&#039;t re-enter the SW right?</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Tue May 27 2014 04:46:09 GMT-0700 (Pacific Daylight Time)">11:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: the network layer cannot return a redirect normally</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Tue May 27 2014 04:46:26 GMT-0700 (Pacific Daylight Time)">11:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: only if explicitly instructed, and only the navigate algorithm does that at the moment per Hixie</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Tue May 27 2014 04:48:13 GMT-0700 (Pacific Daylight Time)">11:48</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: So when you &quot;Return the result of performing a fetch using request&quot;, it&#039;ll have some avoid-sw flag set?</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Tue May 27 2014 04:48:30 GMT-0700 (Pacific Daylight Time)">11:48</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">(when handling 30x)</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Tue May 27 2014 04:49:24 GMT-0700 (Pacific Daylight Time)">11:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: yeah something like that</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Tue May 27 2014 04:49:38 GMT-0700 (Pacific Daylight Time)">11:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: ideally with source still pointing to the originating client, not the service worker</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Tue May 27 2014 04:49:47 GMT-0700 (Pacific Daylight Time)">11:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: so Referer and such are still nice</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Tue May 27 2014 04:56:10 GMT-0700 (Pacific Daylight Time)">11:56</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: If we had request.manualRedirect, which was get/set &amp; respected by fetch(), doesn&#039;t that meet the use-cases of event.default()?</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Tue May 27 2014 04:58:21 GMT-0700 (Pacific Daylight Time)">11:58</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">.manualRedirect being true by default if its a navigate, but I could set it for subresources if I wanted. That means I&#039;d return a redirect to fetch, which would follow it &amp; any others (and wouldn&#039;t go through the SW because of this avoid-sw flag)</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Tue May 27 2014 04:59:43 GMT-0700 (Pacific Daylight Time)">11:59</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">If a fetch() resolves to a redirect, it&#039;d have to be opaque because of potential tokens passed in the url</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Tue May 27 2014 05:23:59 GMT-0700 (Pacific Daylight Time)">12:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: what about Referer or CSP?</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Tue May 27 2014 05:24:25 GMT-0700 (Pacific Daylight Time)">12:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: what about the weird thing with fetch() suddenly having two modes</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Tue May 27 2014 05:24:57 GMT-0700 (Pacific Daylight Time)">12:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: manualRedirect is a feature, it&#039;s not a solution</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Tue May 27 2014 05:25:19 GMT-0700 (Pacific Daylight Time)">12:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: you can make fetch() do the same thing as default(), but what you&#039;ve done at that point is that you&#039;ve added a special mode to fetch()</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Tue May 27 2014 05:25:27 GMT-0700 (Pacific Daylight Time)">12:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I said as much the other day</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Tue May 27 2014 05:27:59 GMT-0700 (Pacific Daylight Time)">12:27</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: If you make requests from SW, losing the Referer and CSP defaults doesn&#039;t seem bad</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Tue May 27 2014 05:28:29 GMT-0700 (Pacific Daylight Time)">12:28</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Yeah, fetch gets a mode, is that weirder than event.default()?</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Tue May 27 2014 05:29:45 GMT-0700 (Pacific Daylight Time)">12:29</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Having event.default() drop back into fetch and then back into SW again feels really weird, but I agree it&#039;s the only sane way to implement event.default()</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Tue May 27 2014 05:30:14 GMT-0700 (Pacific Daylight Time)">12:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I would be fine actually with event.default() not going back into SW but rather do the same as &quot;return null&quot;</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Tue May 27 2014 05:30:32 GMT-0700 (Pacific Daylight Time)">12:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: but then you would not be able to store it in the cache</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Tue May 27 2014 05:30:45 GMT-0700 (Pacific Daylight Time)">12:30</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Or more importantly IMO provide a fallback if it fails</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Tue May 27 2014 05:32:04 GMT-0700 (Pacific Daylight Time)">12:32</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: I guess event.default() would return the same promise if called twice, or just fail</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Tue May 27 2014 05:32:51 GMT-0700 (Pacific Daylight Time)">12:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: seems like that is up to you to define</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Tue May 27 2014 05:33:06 GMT-0700 (Pacific Daylight Time)">12:33</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: fetch() having a mode in SW context only seems weird to me</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Tue May 27 2014 05:33:53 GMT-0700 (Pacific Daylight Time)">12:33</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: event.default() means you&#039;re going to be handling SW responses in two places, for each of the calls into SW</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Tue May 27 2014 05:34:22 GMT-0700 (Pacific Daylight Time)">12:34</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Eg, event.respondWith( event.default().then(function() { return fetch(&#039;/&#039;); }) )</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Tue May 27 2014 05:34:31 GMT-0700 (Pacific Daylight Time)">12:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: as you can see from my explanation default() is pretty weird you ask SW for a response, but it actually gives you a callback and asks you to get a response, and then that callback gives you the actual response</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Tue May 27 2014 05:35:08 GMT-0700 (Pacific Daylight Time)">12:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: whereas fetch() is very simple just like XHR, it just does a fetch</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Tue May 27 2014 05:38:03 GMT-0700 (Pacific Daylight Time)">12:38</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: yeah, I&#039;ve got no problem with fetch(). But event.default… ugh</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Tue May 27 2014 05:38:30 GMT-0700 (Pacific Daylight Time)">12:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: so your solution is to make fetch() ugly?</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Tue May 27 2014 05:39:19 GMT-0700 (Pacific Daylight Time)">12:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: overloading is generally a bad strategy</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Tue May 27 2014 05:41:00 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Is it overloading? The fetch spec can manually handle redirects, why shouldn&#039;t fetch() be able to do the same (but opaque for security)?</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Tue May 27 2014 05:41:59 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Fetch already does a lot of different stuff depending on the method, headers, origin</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Tue May 27 2014 05:43:22 GMT-0700 (Pacific Daylight Time)">12:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: again, this is not about redirects</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Tue May 27 2014 05:44:31 GMT-0700 (Pacific Daylight Time)">12:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I don&#039;t even see how that works, you get back an OpaqueResponse, it&#039;s a redirect, what happens next? You bypass the SW for future requests? What if those fail?</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Tue May 27 2014 05:45:01 GMT-0700 (Pacific Daylight Time)">12:45</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: pretty sure event.default() came about to deal with base urls after redirects</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Tue May 27 2014 05:45:30 GMT-0700 (Pacific Daylight Time)">12:45</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: it came about because there was no way to do the same thing as return null</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Tue May 27 2014 05:45:45 GMT-0700 (Pacific Daylight Time)">12:45</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: redirects expose that pretty badly, but they&#039;re not the only thing</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Tue May 27 2014 05:47:07 GMT-0700 (Pacific Daylight Time)">12:47</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: you&#039;re right, for subresources if you get a successful redirect which results in a failure, you won&#039;t hear about it in the SW</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Tue May 27 2014 05:47:08 GMT-0700 (Pacific Daylight Time)">12:47</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Tue May 27 2014 05:49:45 GMT-0700 (Pacific Daylight Time)">12:49</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: If event.default is the answer, your suggestion of how to hook it into the fetch spec seems the most sensible way</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Tue May 27 2014 05:50:05 GMT-0700 (Pacific Daylight Time)">12:50</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">SimonSapin/TabAtkins: Around?</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Tue May 27 2014 05:51:03 GMT-0700 (Pacific Daylight Time)">12:51</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">yoav: yes, but just ask :) <a href="http://www.nohello.com/">http://www.nohello.com/</a></td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Tue May 27 2014 05:51:12 GMT-0700 (Pacific Daylight Time)">12:51</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: again, we could overload fetch() to do this too, it would need exactly the same hooks</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Tue May 27 2014 05:51:39 GMT-0700 (Pacific Daylight Time)">12:51</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: the reasons are redirects, correct referrer, correct CSP, correct context, etc.</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Tue May 27 2014 05:51:49 GMT-0700 (Pacific Daylight Time)">12:51</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">SimonSapin: I believe life has found a bug in the CSS syntax spec: <a href="https://code.google.com/p/chromium/issues/detail?id=377510">https://code.google.com/p/chromium/issues/detail?id=377510</a></td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Tue May 27 2014 05:52:19 GMT-0700 (Pacific Daylight Time)">12:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: i.e. a fetch() which is passed a Request object that has its UA-bit set</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Tue May 27 2014 05:52:58 GMT-0700 (Pacific Daylight Time)">12:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: that solution however seems much less elegant, I&#039;d much rather truncate the UA-bit when such an object is passed to fetch() and have fetch() always do the same thing</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Tue May 27 2014 05:53:43 GMT-0700 (Pacific Daylight Time)">12:53</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">SimonSapin: Basically, when we encounter something like &quot;+-5&quot;, we check if &quot;-5&quot; is a number (which it is), and then continue to parse &quot;+-5&quot; as a number, which fails</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Tue May 27 2014 05:54:14 GMT-0700 (Pacific Daylight Time)">12:54</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: yeah, this is why I was interested in request.send()</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Tue May 27 2014 05:54:32 GMT-0700 (Pacific Daylight Time)">12:54</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">yoav: that sounds wrong, let me check</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Tue May 27 2014 05:54:48 GMT-0700 (Pacific Daylight Time)">12:54</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: although that gets complicated when it comes to those requests going in &amp; out of caches</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Tue May 27 2014 05:55:15 GMT-0700 (Pacific Daylight Time)">12:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">SimonSapin: it&#039;s fairly possible that I got the spec wrong. This is what happens in my impl (which I think is per spec)</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Tue May 27 2014 05:55:23 GMT-0700 (Pacific Daylight Time)">12:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">s/got/read/</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Tue May 27 2014 05:56:30 GMT-0700 (Pacific Daylight Time)">12:56</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: the problems would seem to apply to default() too</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Tue May 27 2014 05:56:50 GMT-0700 (Pacific Daylight Time)">12:56</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: request.send() we could still do I suppose and do away with fetch()</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Tue May 27 2014 05:57:20 GMT-0700 (Pacific Daylight Time)">12:57</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: event.default().then(r =&gt; console.log(r.url)) - is exposing that a security leak given redirects?</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Tue May 27 2014 05:58:57 GMT-0700 (Pacific Daylight Time)">12:58</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">So. Consume a token starts with &quot; Consume the next input code point&quot;, which becomes the &quot;current input code point&quot;. When that’s &#039;+&#039;, we check &quot;If the input stream starts with a number&quot; which works on three code points, &quot;the current input code point and the next two input code points, in that order&quot;, so &quot;+-5&quot;</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Tue May 27 2014 05:59:06 GMT-0700 (Pacific Daylight Time)">12:59</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">… which returns false</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Tue May 27 2014 06:00:32 GMT-0700 (Pacific Daylight Time)">13:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: no, note that if it&#039;s opaque that would just return the empty string</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Tue May 27 2014 06:00:33 GMT-0700 (Pacific Daylight Time)">13:00</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">yoav: I believe the spec is correct in this case</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Tue May 27 2014 06:00:59 GMT-0700 (Pacific Daylight Time)">13:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">SimonSapin: OK, so the first code point is the already consumed one?</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Tue May 27 2014 06:01:17 GMT-0700 (Pacific Daylight Time)">13:01</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">If so, the spec&#039;s probably right, and I read it wrong</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Tue May 27 2014 06:01:35 GMT-0700 (Pacific Daylight Time)">13:01</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">&quot;The algorithm described here can be called explicitly with three code points, or can be called with the input stream itself. In the latter case, the three code points in question are the current input code point and the next two input code points, in that order.&quot;</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Tue May 27 2014 06:01:55 GMT-0700 (Pacific Daylight Time)">13:01</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">current input code point  is defined as      The last code point to have been consumed.</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Tue May 27 2014 06:02:17 GMT-0700 (Pacific Daylight Time)">13:02</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: but it won&#039;t always be opaque. Say it goes to another server, then comes back with a token in the url. The response is non-opaque, but url is leaking data</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Tue May 27 2014 06:02:36 GMT-0700 (Pacific Daylight Time)">13:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">SimonSapin: OK, thanks! I&#039;ll fix my bugs then :)</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Tue May 27 2014 06:02:50 GMT-0700 (Pacific Daylight Time)">13:02</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">I agree this is a bit convoluted, but I don’t know how to make it better without drowning in verbosity</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Tue May 27 2014 06:06:11 GMT-0700 (Pacific Daylight Time)">13:06</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: how would that be different from an XHR doing the same thing?</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Tue May 27 2014 06:06:26 GMT-0700 (Pacific Daylight Time)">13:06</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: btw, that&#039;s only non-opaque if it&#039;s CORS</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Tue May 27 2014 06:07:49 GMT-0700 (Pacific Daylight Time)">13:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: see fourth clause of step 6 of <a href="http://fetch.spec.whatwg.org/#concept-fetch">http://fetch.spec.whatwg.org/#concept-fetch</a></td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Tue May 27 2014 06:08:14 GMT-0700 (Pacific Daylight Time)">13:08</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Maybe I need to find out more about the redirect security issue. I thought the final request url was a problem because it may contain tokens added by another server</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Tue May 27 2014 06:08:48 GMT-0700 (Pacific Daylight Time)">13:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: yes it can</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Tue May 27 2014 06:09:12 GMT-0700 (Pacific Daylight Time)">13:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I documented the issue here: <a href="http://fetch.spec.whatwg.org/#atomic-http-redirect-handling">http://fetch.spec.whatwg.org/#atomic-http-redirect-handling</a></td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Tue May 27 2014 06:09:37 GMT-0700 (Pacific Daylight Time)">13:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: if you can explain to me how you would obtain that secret I&#039;d be happy to hear it</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Tue May 27 2014 06:09:51 GMT-0700 (Pacific Daylight Time)">13:09</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: ah, so the request gets tained when it goes to the other server, but remains tained when it comes back to the local server?</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Tue May 27 2014 06:10:18 GMT-0700 (Pacific Daylight Time)">13:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: yes, once you&#039;re tainted there&#039;s no going back</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Tue May 27 2014 06:10:36 GMT-0700 (Pacific Daylight Time)">13:10</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: ahh ok, that&#039;s the bit that was breaking my understanding</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Tue May 27 2014 06:14:04 GMT-0700 (Pacific Daylight Time)">13:14</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Sorry about that, I thought XHR would come back non-opaque</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Tue May 27 2014 06:14:23 GMT-0700 (Pacific Daylight Time)">13:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">XHR would have bailed at that point</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Tue May 27 2014 06:14:34 GMT-0700 (Pacific Daylight Time)">13:14</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Tue May 27 2014 06:14:56 GMT-0700 (Pacific Daylight Time)">13:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">&lt;img&gt; would be tainted</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Tue May 27 2014 06:15:16 GMT-0700 (Pacific Daylight Time)">13:15</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">&amp; fetch() would return OpaqueResponse</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Tue May 27 2014 06:15:47 GMT-0700 (Pacific Daylight Time)">13:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">So a cross-origin redirect to a same-origin URL that acts as a paint server cannot communicate using that</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Tue May 27 2014 06:16:10 GMT-0700 (Pacific Daylight Time)">13:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Yeah, fetch() without mode set to CORS is basically &lt;img&gt;</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Tue May 27 2014 06:16:21 GMT-0700 (Pacific Daylight Time)">13:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">We need to decide what we want as default for mode</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Tue May 27 2014 06:16:27 GMT-0700 (Pacific Daylight Time)">13:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">If it&#039;s CORS or tainted cross-origin</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Tue May 27 2014 06:18:06 GMT-0700 (Pacific Daylight Time)">13:18</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">!summon Philip`</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Tue May 27 2014 06:19:18 GMT-0700 (Pacific Daylight Time)">13:19</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Judged by the request object I guess. I like the idea of setting &quot;context&quot; in the Request constructor to set defaults for headers, so probably CORS too</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Tue May 27 2014 06:19:43 GMT-0700 (Pacific Daylight Time)">13:19</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Philip`: Any idea if <a href="http://w3c-test.org/2dcontext/fill-and-stroke-styles/2d.pattern.image.broken.html">http://w3c-test.org/2dcontext/fill-and-stroke-styles/2d.pattern.image.broken.html</a> has a race between the image (failing to) load and the assert?</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Tue May 27 2014 06:19:49 GMT-0700 (Pacific Daylight Time)">13:19</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Should there ben an event?</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Tue May 27 2014 06:19:55 GMT-0700 (Pacific Daylight Time)">13:19</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">XHR&#039;s behaviour is a good default though</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Tue May 27 2014 06:21:03 GMT-0700 (Pacific Daylight Time)">13:21</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">SimonSapin: I think the source of my mixup is that impl function naming doesn&#039;t match the spec. I&#039;ll align the impl terminology with the spec&#039;s one</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Tue May 27 2014 06:22:16 GMT-0700 (Pacific Daylight Time)">13:22</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">yoav: you mean things like &quot;current input code point&quot;?</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Tue May 27 2014 06:22:31 GMT-0700 (Pacific Daylight Time)">13:22</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">I admit I haven’t tried to keep my impls that close to the spec</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Tue May 27 2014 06:25:58 GMT-0700 (Pacific Daylight Time)">13:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I forgot the idea around context, you might want to file a bug on that</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Tue May 27 2014 06:26:46 GMT-0700 (Pacific Daylight Time)">13:26</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: <a href="https://github.com/slightlyoff/ServiceWorker/issues/279">https://github.com/slightlyoff/ServiceWorker/issues/279</a></td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Tue May 27 2014 06:27:49 GMT-0700 (Pacific Daylight Time)">13:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">jgraham: looks like it</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Tue May 27 2014 06:35:41 GMT-0700 (Pacific Daylight Time)">13:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: ah right, I guess at some point that should be a bug on Fetch</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Tue May 27 2014 06:35:57 GMT-0700 (Pacific Daylight Time)">13:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: not sure how you&#039;d make CORS dependant on that, most contexts allow both</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Tue May 27 2014 06:36:14 GMT-0700 (Pacific Daylight Time)">13:36</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Is that where the Request constructor will live?</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Tue May 27 2014 06:36:34 GMT-0700 (Pacific Daylight Time)">13:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: yeah</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Tue May 27 2014 06:36:40 GMT-0700 (Pacific Daylight Time)">13:36</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">cool, makes sense</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Tue May 27 2014 06:37:32 GMT-0700 (Pacific Daylight Time)">13:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">SimonSapin: Yeah, that&#039;s the part that confused me (currentCP referred to the next non-consumed CP in my impl, which I&#039;m now changing)</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Tue May 27 2014 06:45:38 GMT-0700 (Pacific Daylight Time)">13:45</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: any reason the service worker spec has no style sheet?</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Tue May 27 2014 06:46:00 GMT-0700 (Pacific Daylight Time)">13:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: is that because someone updated the bs backend system again?</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Tue May 27 2014 06:47:43 GMT-0700 (Pacific Daylight Time)">13:47</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Are we talking about <a href="https://slightlyoff.github.io/ServiceWorker/spec/service_worker/">https://slightlyoff.github.io/ServiceWorker/spec/service_worker/</a>? It has styles for me</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Tue May 27 2014 06:48:19 GMT-0700 (Pacific Daylight Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: so maybe it&#039;s a mixed content link somewhere that chrome doesn&#039;t block?</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Tue May 27 2014 06:48:29 GMT-0700 (Pacific Daylight Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: I get styles in Firefox too</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Tue May 27 2014 06:48:39 GMT-0700 (Pacific Daylight Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Even in the nightlies</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Tue May 27 2014 06:48:52 GMT-0700 (Pacific Daylight Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Happens to me from time to time. Not sure what it is.</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Tue May 27 2014 06:49:04 GMT-0700 (Pacific Daylight Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I use 32.0a1 (2014-05-27)</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Tue May 27 2014 06:49:26 GMT-0700 (Pacific Daylight Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Console says &quot;Error: <a href="https://slightlyoff.github.io/ServiceWorker/spec/assets/web-spec-framework/bower_components/platform/platform.js">https://slightlyoff.github.io/ServiceWorker/spec/assets/web-spec-framework/bower_components/platform/platform.js</a> is being assigned a //# sourceMappingURL, but already has one&quot;</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Tue May 27 2014 06:49:32 GMT-0700 (Pacific Daylight Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">I get styles in 32.0a1 (2014-05-21). Updating now</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Tue May 27 2014 06:49:36 GMT-0700 (Pacific Daylight Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Sounds like dependency management gone wrong</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Tue May 27 2014 06:49:39 GMT-0700 (Pacific Daylight Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">I get that error too, but still get styles</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Tue May 27 2014 06:49:43 GMT-0700 (Pacific Daylight Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Oh</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Tue May 27 2014 06:50:13 GMT-0700 (Pacific Daylight Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I don&#039;t understand why this spec has such a complex setup :/</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Tue May 27 2014 06:50:49 GMT-0700 (Pacific Daylight Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">There&#039;s a gazillion script files</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Tue May 27 2014 06:50:50 GMT-0700 (Pacific Daylight Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Hmm, yeah, no styles in 32.0a1 (2014-05-27)</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Tue May 27 2014 07:14:51 GMT-0700 (Pacific Daylight Time)">14:14</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">annevk: yeah, it&#039;s difficult to deal with. Breaks when parsed with anything but a modern browser (e.g. jsdom doesn&#039;t support it very well)</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Tue May 27 2014 07:15:17 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">Hard to get the ToC out as it&#039;s inside an iframe. Etc.</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Tue May 27 2014 07:18:01 GMT-0700 (Pacific Daylight Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">annevk: Welcome to the web of the future</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Tue May 27 2014 07:21:11 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: is the current class distinction between response objects useful?</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Tue May 27 2014 07:21:24 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">jgraham: yeah, sincerely hope Web components are more straightforward than the current polyfills. If not, we&#039;re in for a world of hurt.</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Tue May 27 2014 07:21:29 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: how about a single object with a property to inspect what kind you have?</td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Tue May 27 2014 07:21:46 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: requiring typeof seems not really JavaScript-y</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Tue May 27 2014 07:24:14 GMT-0700 (Pacific Daylight Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: I don&#039;t have a strong opinion</td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Tue May 27 2014 07:24:48 GMT-0700 (Pacific Daylight Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: so if new Request takes (url, init), should new Response take (body, init)?</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Tue May 27 2014 07:25:36 GMT-0700 (Pacific Daylight Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: yes</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Tue May 27 2014 07:25:59 GMT-0700 (Pacific Daylight Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: <a href="https://github.com/slightlyoff/ServiceWorker/issues/192#issuecomment-40737493">https://github.com/slightlyoff/ServiceWorker/issues/192#issuecomment-40737493</a></td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Tue May 27 2014 07:26:35 GMT-0700 (Pacific Daylight Time)">14:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: k, sketching out API in Fetch now</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Tue May 27 2014 07:34:12 GMT-0700 (Pacific Daylight Time)">14:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: open issues in my API sketch are body and header representation</td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Tue May 27 2014 07:37:39 GMT-0700 (Pacific Daylight Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=zewt@irc>zewt</span>&gt;</td><td class="msg-cell">&quot;can you elaborate&quot; in this instance, guessing not</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Tue May 27 2014 07:43:25 GMT-0700 (Pacific Daylight Time)">14:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">zewt: ?</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Tue May 27 2014 07:51:57 GMT-0700 (Pacific Daylight Time)">14:51</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: <a href="http://fetch.spec.whatwg.org/#fetch-api">http://fetch.spec.whatwg.org/#fetch-api</a></td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Tue May 27 2014 08:06:02 GMT-0700 (Pacific Daylight Time)">15:06</a></td><td class="nick-cell"><span class="nick nick-2" title=SamB@irc>SamB</span></td><td class="msg-cell">isn&#039;t sure he likes the future</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Tue May 27 2014 08:06:15 GMT-0700 (Pacific Daylight Time)">15:06</a></td><td class="nick-cell"><span class="nick nick-2" title=SamB@irc>SamB</span></td><td class="msg-cell">also wonders when he gets his jetpack or flying car</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Tue May 27 2014 08:23:06 GMT-0700 (Pacific Daylight Time)">15:23</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: looks good, I&#039;ll have a think how to provide default values to Request based on a context (maybe context is enough)</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Tue May 27 2014 08:23:57 GMT-0700 (Pacific Daylight Time)">15:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: that&#039;d mean we&#039;d have a distinct context and context-for-CSP, which may be okay, but it&#039;s yet another field</td></tr>
  <tr class="msg" id="L237"><td class="ts-cell"><a class="ts" href="#L237" alt="Tue May 27 2014 08:24:24 GMT-0700 (Pacific Daylight Time)">15:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: should prolly discuss that with implementers</td></tr>
  <tr class="msg" id="L238"><td class="ts-cell"><a class="ts" href="#L238" alt="Tue May 27 2014 08:24:40 GMT-0700 (Pacific Daylight Time)">15:24</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: the alternative is different request constructors. ImageRequest, FontRequest etc etc</td></tr>
  <tr class="msg" id="L239"><td class="ts-cell"><a class="ts" href="#L239" alt="Tue May 27 2014 08:24:44 GMT-0700 (Pacific Daylight Time)">15:24</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">bleh</td></tr>
  <tr class="msg" id="L240"><td class="ts-cell"><a class="ts" href="#L240" alt="Tue May 27 2014 08:25:16 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: no, the alternative is not having the feature</td></tr>
  <tr class="msg" id="L241"><td class="ts-cell"><a class="ts" href="#L241" alt="Tue May 27 2014 08:25:27 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: syntax for the feature is a separate discussion ;-)</td></tr>
  <tr class="msg" id="L242"><td class="ts-cell"><a class="ts" href="#L242" alt="Tue May 27 2014 08:25:38 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(though just a field seems fine, if we do it)</td></tr>
  <tr class="msg" id="L243"><td class="ts-cell"><a class="ts" href="#L243" alt="Tue May 27 2014 08:37:26 GMT-0700 (Pacific Daylight Time)">15:37</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=dglazkov@irc>dglazkov</span>&gt;</td><td class="msg-cell">good morning, Whatwg!</td></tr>
  <tr class="msg" id="L244"><td class="ts-cell"><a class="ts" href="#L244" alt="Tue May 27 2014 10:22:32 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">jgraham: The test should not run until window.onload, and I probably assumed onload would not be triggered until the image had either succeeded or failed to load</td></tr>
  <tr class="msg" id="L245"><td class="ts-cell"><a class="ts" href="#L245" alt="Tue May 27 2014 10:23:12 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">Maybe in theory it&#039;s possible for the browser to realise the image cannot succeed, so it decides to send the load event, but doesn&#039;t actually mark the image as failed until some arbitrary later time</td></tr>
  <tr class="msg" id="L246"><td class="ts-cell"><a class="ts" href="#L246" alt="Tue May 27 2014 10:23:16 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">though that would seem silly</td></tr>
  <tr class="msg" id="L247"><td class="ts-cell"><a class="ts" href="#L247" alt="Tue May 27 2014 10:23:31 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell"><span class="nick nick-9" title=Philip`@irc>Philip`</span></td><td class="msg-cell">has no idea what the spec said when he wrote the test, and even less idea what it says now</td></tr>
  <tr class="msg" id="L248"><td class="ts-cell"><a class="ts" href="#L248" alt="Tue May 27 2014 10:24:50 GMT-0700 (Pacific Daylight Time)">17:24</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Philip`: Yeah, I realised that. It seems like browsers are wrong in not firing an error there, although they will if the PNG header is corrupted</td></tr>
  <tr class="msg" id="L249"><td class="ts-cell"><a class="ts" href="#L249" alt="Tue May 27 2014 10:25:36 GMT-0700 (Pacific Daylight Time)">17:25</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">(I mean firing an error in the canvas operation; I *think* the cases are expected to differ on whether there is a load event for the image)</td></tr>
  <tr class="msg" id="L250"><td class="ts-cell"><a class="ts" href="#L250" alt="Tue May 27 2014 10:25:50 GMT-0700 (Pacific Daylight Time)">17:25</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Additionally it seems like there is some kind of network race in Gecko</td></tr>
  <tr class="msg" id="L251"><td class="ts-cell"><a class="ts" href="#L251" alt="Tue May 27 2014 10:26:55 GMT-0700 (Pacific Daylight Time)">17:26</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">I vaguely remember that the whole thing with images loading/failing was a total mess in implementations and in the spec, so I didn&#039;t look at it too closely</td></tr>
  <tr class="msg" id="L252"><td class="ts-cell"><a class="ts" href="#L252" alt="Tue May 27 2014 10:27:43 GMT-0700 (Pacific Daylight Time)">17:27</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Maybe I should just file a bug on Gecko saying &quot;this seems to race&quot; and disable the test</td></tr>
  <tr class="msg" id="L253"><td class="ts-cell"><a class="ts" href="#L253" alt="Tue May 27 2014 10:30:24 GMT-0700 (Pacific Daylight Time)">17:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">That sounds like shirking responsibility for the problem</td></tr>
  <tr class="msg" id="L254"><td class="ts-cell"><a class="ts" href="#L254" alt="Tue May 27 2014 10:30:29 GMT-0700 (Pacific Daylight Time)">17:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</td><td class="msg-cell">so I approve</td></tr>
  <tr class="msg" id="L255"><td class="ts-cell"><a class="ts" href="#L255" alt="Tue May 27 2014 10:43:49 GMT-0700 (Pacific Daylight Time)">17:43</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Sadly, my taking responsibility for every problematic test is a non-converging approach since we are adding new non-deterministic tests faster than I resolve the issues with existing ones.</td></tr>
  <tr class="msg" id="L256"><td class="ts-cell"><a class="ts" href="#L256" alt="Tue May 27 2014 10:44:02 GMT-0700 (Pacific Daylight Time)">17:44</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">So it&#039;s a necessary solution :(</td></tr>
  <tr class="msg" id="L257"><td class="ts-cell"><a class="ts" href="#L257" alt="Tue May 27 2014 10:45:37 GMT-0700 (Pacific Daylight Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=SamB@irc>SamB</span>&gt;</td><td class="msg-cell">maybe there should be some kind of policy where the people who add the races need to handle it</td></tr>
  <tr class="msg" id="L258"><td class="ts-cell"><a class="ts" href="#L258" alt="Tue May 27 2014 10:49:49 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">SamB: Sadly there are a bunch of reasons that doesn&#039;t work</td></tr>
  <tr class="msg" id="L259"><td class="ts-cell"><a class="ts" href="#L259" alt="Tue May 27 2014 10:49:57 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Like it isn&#039;t clear who added the race</td></tr>
  <tr class="msg" id="L260"><td class="ts-cell"><a class="ts" href="#L260" alt="Tue May 27 2014 10:50:09 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">It isn&#039;t clear how important the race is</td></tr>
  <tr class="msg" id="L261"><td class="ts-cell"><a class="ts" href="#L261" alt="Tue May 27 2014 10:50:24 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=SamB@irc>SamB</span>&gt;</td><td class="msg-cell">that second one looks harder</td></tr>
  <tr class="msg" id="L262"><td class="ts-cell"><a class="ts" href="#L262" alt="Tue May 27 2014 10:50:35 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">It&#039;s difficult to reproduce the race on other hardware/configurations/whatever</td></tr>
  <tr class="msg" id="L263"><td class="ts-cell"><a class="ts" href="#L263" alt="Tue May 27 2014 10:50:42 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=SamB@irc>SamB</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L264"><td class="ts-cell"><a class="ts" href="#L264" alt="Tue May 27 2014 10:51:00 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=SamB@irc>SamB</span>&gt;</td><td class="msg-cell">and is it hard to reproduce that configuration to bisect the issue?</td></tr>
  <tr class="msg" id="L265"><td class="ts-cell"><a class="ts" href="#L265" alt="Tue May 27 2014 10:51:01 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">In general intermittent tests are the bane of web browser testing</td></tr>
  <tr class="msg" id="L266"><td class="ts-cell"><a class="ts" href="#L266" alt="Tue May 27 2014 10:51:17 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=SamB@irc>SamB</span>&gt;</td><td class="msg-cell">and I guess intermittence is hard to determine for sure itself</td></tr>
  <tr class="msg" id="L267"><td class="ts-cell"><a class="ts" href="#L267" alt="Tue May 27 2014 10:51:22 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=SamB@irc>SamB</span>&gt;</td><td class="msg-cell">that&#039;s the crux, huh?</td></tr>
  <tr class="msg" id="L268"><td class="ts-cell"><a class="ts" href="#L268" alt="Tue May 27 2014 10:53:57 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Yeah, everything is hard when bugs are intermittent</td></tr>
  <tr class="msg" id="L269"><td class="ts-cell"><a class="ts" href="#L269" alt="Tue May 27 2014 12:22:25 GMT-0700 (Pacific Daylight Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">annevk: You around?  I think there&#039;s some miscommunication about the &quot;status&quot; thing in Font Loading.  Basically, I have no idea what you&#039;re talking about. ^_^</td></tr>
  <tr class="msg" id="L270"><td class="ts-cell"><a class="ts" href="#L270" alt="Tue May 27 2014 12:23:24 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">The &quot;status&quot; is an exposed enumerated attribute on the FontFace object.  I don&#039;t understand what further needs to be done about when it gets set, since the algo that sets it is already async, unless maybe the entire async portion of the algo (and all the rest of my async algos) need to specify what task queue they run in?</td></tr>
  <tr class="msg" id="L271"><td class="ts-cell"><a class="ts" href="#L271" alt="Tue May 27 2014 12:52:00 GMT-0700 (Pacific Daylight Time)">19:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: in step 4 you set status to &quot;loading&quot;; my question is if anyone can ever observe status being &quot;loading&quot;</td></tr>
  <tr class="msg" id="L272"><td class="ts-cell"><a class="ts" href="#L272" alt="Tue May 27 2014 12:52:17 GMT-0700 (Pacific Daylight Time)">19:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: and how they are notified of that change that they can now observe such a thing</td></tr>
  <tr class="msg" id="L273"><td class="ts-cell"><a class="ts" href="#L273" alt="Tue May 27 2014 12:52:43 GMT-0700 (Pacific Daylight Time)">19:52</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Oh, now I see what you&#039;re saying!</td></tr>
  <tr class="msg" id="L274"><td class="ts-cell"><a class="ts" href="#L274" alt="Tue May 27 2014 12:52:44 GMT-0700 (Pacific Daylight Time)">19:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=jarek@irc>jarek</span>&gt;</td><td class="msg-cell">will Web Components support SVG templates?</td></tr>
  <tr class="msg" id="L275"><td class="ts-cell"><a class="ts" href="#L275" alt="Tue May 27 2014 12:52:57 GMT-0700 (Pacific Daylight Time)">19:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=jarek@irc>jarek</span>&gt;</td><td class="msg-cell">e.g. will it be possible to do: &lt;link rel=&quot;import&quot; href=&quot;/someFile.svg&quot;&gt;</td></tr>
  <tr class="msg" id="L276"><td class="ts-cell"><a class="ts" href="#L276" alt="Tue May 27 2014 12:53:01 GMT-0700 (Pacific Daylight Time)">19:53</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, whether or not that&#039;s observable is a good question.</td></tr>
  <tr class="msg" id="L277"><td class="ts-cell"><a class="ts" href="#L277" alt="Tue May 27 2014 12:53:08 GMT-0700 (Pacific Daylight Time)">19:53</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: if in an async algorithm you don&#039;t define when a state transition in the main thread happens, you risk obj.status != obj.status due to the asynchronous nature of things and that would be bad</td></tr>
  <tr class="msg" id="L278"><td class="ts-cell"><a class="ts" href="#L278" alt="Tue May 27 2014 12:54:00 GMT-0700 (Pacific Daylight Time)">19:54</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">You can certainly observe &quot;loading&quot; at a well-defined time if you have a url-based font - it switches sync when you or the system calls .load().</td></tr>
  <tr class="msg" id="L279"><td class="ts-cell"><a class="ts" href="#L279" alt="Tue May 27 2014 12:54:07 GMT-0700 (Pacific Daylight Time)">19:54</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">But in the binary data case, hm.</td></tr>
  <tr class="msg" id="L280"><td class="ts-cell"><a class="ts" href="#L280" alt="Tue May 27 2014 12:54:30 GMT-0700 (Pacific Daylight Time)">19:54</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Okay, so pretend that I want to make it observable.  How do I fix this?  Push the rest of the algo past that point into another task?</td></tr>
  <tr class="msg" id="L281"><td class="ts-cell"><a class="ts" href="#L281" alt="Tue May 27 2014 12:54:50 GMT-0700 (Pacific Daylight Time)">19:54</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Or queue a task to set it to &quot;loading&quot;?</td></tr>
  <tr class="msg" id="L282"><td class="ts-cell"><a class="ts" href="#L282" alt="Tue May 27 2014 12:55:04 GMT-0700 (Pacific Daylight Time)">19:55</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(and then queue another one to set it to &quot;loaded&quot; or &quot;error&quot;?)</td></tr>
  <tr class="msg" id="L283"><td class="ts-cell"><a class="ts" href="#L283" alt="Tue May 27 2014 12:56:45 GMT-0700 (Pacific Daylight Time)">19:56</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: I don&#039;t get why for the parsing case you need to set it to &quot;loading&quot;</td></tr>
  <tr class="msg" id="L284"><td class="ts-cell"><a class="ts" href="#L284" alt="Tue May 27 2014 12:57:00 GMT-0700 (Pacific Daylight Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: it seems like you should just set it to &quot;loaded&quot; or &quot;error&quot; and that&#039;s sufficient</td></tr>
  <tr class="msg" id="L285"><td class="ts-cell"><a class="ts" href="#L285" alt="Tue May 27 2014 12:57:06 GMT-0700 (Pacific Daylight Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">It might not be necessary, sure.</td></tr>
  <tr class="msg" id="L286"><td class="ts-cell"><a class="ts" href="#L286" alt="Tue May 27 2014 12:57:20 GMT-0700 (Pacific Daylight Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">But it looks like your objection extends to the loaded/error case, too, right?</td></tr>
  <tr class="msg" id="L287"><td class="ts-cell"><a class="ts" href="#L287" alt="Tue May 27 2014 12:57:36 GMT-0700 (Pacific Daylight Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: no, those are observable due to the promise being resolved/rejected</td></tr>
  <tr class="msg" id="L288"><td class="ts-cell"><a class="ts" href="#L288" alt="Tue May 27 2014 12:57:46 GMT-0700 (Pacific Daylight Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: the &quot;loaded&quot; case has no corresponding task</td></tr>
  <tr class="msg" id="L289"><td class="ts-cell"><a class="ts" href="#L289" alt="Tue May 27 2014 12:58:08 GMT-0700 (Pacific Daylight Time)">19:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: well actually, you&#039;re right I guess</td></tr>
  <tr class="msg" id="L290"><td class="ts-cell"><a class="ts" href="#L290" alt="Tue May 27 2014 12:58:20 GMT-0700 (Pacific Daylight Time)">19:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: you might want to mention this in your guide</td></tr>
  <tr class="msg" id="L291"><td class="ts-cell"><a class="ts" href="#L291" alt="Tue May 27 2014 12:58:46 GMT-0700 (Pacific Daylight Time)">19:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: if you set observable state in addition to rejecting/resolving a promise, that ideally happens in the same microtask</td></tr>
  <tr class="msg" id="L292"><td class="ts-cell"><a class="ts" href="#L292" alt="Tue May 27 2014 12:59:48 GMT-0700 (Pacific Daylight Time)">19:59</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Is it implicit that promise resolving always happens in some microtask?</td></tr>
  <tr class="msg" id="L293"><td class="ts-cell"><a class="ts" href="#L293" alt="Tue May 27 2014 12:59:59 GMT-0700 (Pacific Daylight Time)">19:59</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Rather than async sometime in the middle of your executing code?</td></tr>
  <tr class="msg" id="L294"><td class="ts-cell"><a class="ts" href="#L294" alt="Tue May 27 2014 13:00:13 GMT-0700 (Pacific Daylight Time)">20:00</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(Or maybe it doesn&#039;t matter, because *responding* to a promise always happens in the next microtask.)</td></tr>
  <tr class="msg" id="L295"><td class="ts-cell"><a class="ts" href="#L295" alt="Tue May 27 2014 13:00:25 GMT-0700 (Pacific Daylight Time)">20:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: promise resolving can happen whenever, since it&#039;s only observable in a microtask</td></tr>
  <tr class="msg" id="L296"><td class="ts-cell"><a class="ts" href="#L296" alt="Tue May 27 2014 13:00:46 GMT-0700 (Pacific Daylight Time)">20:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: however, if you resolve and change observable state at the same time, there&#039;s a potential problem that Domenic needs to solve</td></tr>
  <tr class="msg" id="L297"><td class="ts-cell"><a class="ts" href="#L297" alt="Tue May 27 2014 14:15:54 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: I felt this was kind of covered in the guide</td></tr>
  <tr class="msg" id="L298"><td class="ts-cell"><a class="ts" href="#L298" alt="Tue May 27 2014 14:16:02 GMT-0700 (Pacific Daylight Time)">21:16</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Queued tasks take place after next microtask</td></tr>
  <tr class="msg" id="L299"><td class="ts-cell"><a class="ts" href="#L299" alt="Tue May 27 2014 16:33:54 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=JonathanNeal@irc>JonathanNeal</span>&gt;</td><td class="msg-cell">What’s the status of Element.prototype.findAll / find? Is that still happening?</td></tr>
  <tr class="msg" id="L300"><td class="ts-cell"><a class="ts" href="#L300" alt="Tue May 27 2014 16:35:17 GMT-0700 (Pacific Daylight Time)">23:35</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">anyone here a JS module expert who can answer me some questions? I&#039;m trying to work out if I can walk the dependency tree using the ES6 module API</td></tr>
  <tr class="msg" id="L301"><td class="ts-cell"><a class="ts" href="#L301" alt="Tue May 27 2014 16:35:38 GMT-0700 (Pacific Daylight Time)">23:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=zewt@irc>zewt</span>&gt;</td><td class="msg-cell">still dubious about adding an api entry point that&#039;s basically just an alias for something else</td></tr>
  <tr class="msg" id="L302"><td class="ts-cell"><a class="ts" href="#L302" alt="Tue May 27 2014 16:38:32 GMT-0700 (Pacific Daylight Time)">23:38</a></td><td class="nick-cell"><span class="nick nick-14" title=Hixie@irc>Hixie</span></td><td class="msg-cell">starts a sentence &quot;HTML Imports import other Imports&quot; and then realises he&#039;s gonna have to start over</td></tr>
  <tr class="msg" id="L303"><td class="ts-cell"><a class="ts" href="#L303" alt="Tue May 27 2014 16:45:47 GMT-0700 (Pacific Daylight Time)">23:45</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">HTML imports importing other imports is an important feature</td></tr>

</tbody></table></div></div></div></body>
