<!doctype html>
<head>
  <title>#whatwg on 2013-06-21</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2013-06-21<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2013-06-20" class="nav-link"><span>prev</span></a>
<a href="2013-06-22" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jun 20 2013 17:25:14 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">heycam: !</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jun 20 2013 17:25:20 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=heycam@irc>heycam</span>&gt;</td><td class="msg-cell">TabAtkins, hi :)</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jun 20 2013 17:25:25 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">[MapClass]?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jun 20 2013 17:25:31 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=heycam@irc>heycam</span>&gt;</td><td class="msg-cell">yes yes, I know :)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Jun 20 2013 17:25:34 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">^_^</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jun 20 2013 17:25:55 GMT-0700 (Pacific Daylight Time)">00:25</a></td><td class="nick-cell"><span class="nick nick-6" title=heycam@irc>heycam</span></td><td class="msg-cell">still has a few days left in the week to make good</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jun 20 2013 17:26:07 GMT-0700 (Pacific Daylight Time)">00:26</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=heycam@irc>heycam</span>&gt;</td><td class="msg-cell">I saw the thread on www-style</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jun 20 2013 17:26:23 GMT-0700 (Pacific Daylight Time)">00:26</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=heycam@irc>heycam</span>&gt;</td><td class="msg-cell">(so I guess the implementation work is why you&#039;d like it looked at soon)</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jun 20 2013 17:31:54 GMT-0700 (Pacific Daylight Time)">00:31</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yup!</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jun 20 2013 17:32:03 GMT-0700 (Pacific Daylight Time)">00:32</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Was talking with the implementor a few minutes ago.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jun 20 2013 17:32:52 GMT-0700 (Pacific Daylight Time)">00:32</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=heycam@irc>heycam</span>&gt;</td><td class="msg-cell">cool</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jun 20 2013 17:52:25 GMT-0700 (Pacific Daylight Time)">00:52</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hixie: Yo, are the W3C versions of PostMessage/SSE/WebWorkers/etc all still accurate?  Are they genned off of the current WHATWG spec, or what?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jun 20 2013 19:58:35 GMT-0700 (Pacific Daylight Time)">02:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: sequence&lt;Node&gt; won&#039;t have .find and .findAll on it, so I think arv is wrong</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jun 20 2013 20:24:13 GMT-0700 (Pacific Daylight Time)">03:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">TabAtkins: i think the ones in <a href="http://dev.w3.org">dev.w3.org</a> are, but i wouldn&#039;t bet on it</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jun 20 2013 20:24:32 GMT-0700 (Pacific Daylight Time)">03:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">TabAtkins: certainly the canonical material as far as i&#039;m concerned is the material in <a href="http://whatwg.org/c">whatwg.org/c</a></td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jun 20 2013 23:49:16 GMT-0700 (Pacific Daylight Time)">06:49</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">damn who fuglied up the desktop notifications in the Chromium trunk, and why</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri Jun 21 2013 00:29:58 GMT-0700 (Pacific Daylight Time)">07:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell"><a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=22422">https://www.w3.org/Bugs/Public/show_bug.cgi?id=22422</a> is pretty ugly :/</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri Jun 21 2013 00:30:21 GMT-0700 (Pacific Daylight Time)">07:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Maybe Hixie already handles that for images in HTML... But that wouldn&#039;t cover CSS so I guess not</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri Jun 21 2013 00:44:48 GMT-0700 (Pacific Daylight Time)">07:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Doesn&#039;t seem to be handled. I wonder if the HTTP gods are aware of this.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri Jun 21 2013 01:34:36 GMT-0700 (Pacific Daylight Time)">08:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hallvors: so, 304 is a very distinct case from redirects</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri Jun 21 2013 01:35:10 GMT-0700 (Pacific Daylight Time)">08:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hallvors: I&#039;m sure the HTTP gods had some interesting reason to mix it in with them, but when it comes down to it, the logic for it is different and it needs to be handled separately</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri Jun 21 2013 01:35:27 GMT-0700 (Pacific Daylight Time)">08:35</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">you&#039;re right</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri Jun 21 2013 01:36:13 GMT-0700 (Pacific Daylight Time)">08:36</a></td><td class="nick-cell"><span class="nick nick-5" title=hallvors@irc>hallvors</span></td><td class="msg-cell">is curious about Anne&#039;s religion</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri Jun 21 2013 01:36:48 GMT-0700 (Pacific Daylight Time)">08:36</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">I should rather investigate how much of that header stuff is implemented</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri Jun 21 2013 01:37:46 GMT-0700 (Pacific Daylight Time)">08:37</a></td><td class="nick-cell"><span class="nick nick-5" title=hallvors@irc>hallvors</span></td><td class="msg-cell">#stilsleepy</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri Jun 21 2013 01:40:52 GMT-0700 (Pacific Daylight Time)">08:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hallvors: I don&#039;t believe in the HTTP gods, but they do exist</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri Jun 21 2013 01:42:09 GMT-0700 (Pacific Daylight Time)">08:42</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">X-Anne-Faith: HTTP-Conditional</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri Jun 21 2013 01:42:27 GMT-0700 (Pacific Daylight Time)">08:42</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">Well, at least Chrome supports the 304 stuff in the spec as written</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri Jun 21 2013 01:42:37 GMT-0700 (Pacific Daylight Time)">08:42</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">according to your test</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri Jun 21 2013 01:43:16 GMT-0700 (Pacific Daylight Time)">08:43</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">I&#039;m a bit surprised Opera didn&#039;t support it according to that test - because we did some work on behaving like a &quot;caching proxy&quot; for XHR a while back</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Fri Jun 21 2013 01:43:43 GMT-0700 (Pacific Daylight Time)">08:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">That bug was still open when I still had an account :)</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Fri Jun 21 2013 01:43:48 GMT-0700 (Pacific Daylight Time)">08:43</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">(but there may also still be some magic somewhere that makes requests with query less caching)</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Fri Jun 21 2013 01:44:18 GMT-0700 (Pacific Daylight Time)">08:44</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">hm.. I thought some work was done on it, maybe not enough to actually ship a fix though</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Fri Jun 21 2013 01:44:20 GMT-0700 (Pacific Daylight Time)">08:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">It&#039;s a bit unclear to me what the spec says is actionable enough. I feel like maybe we should turn that into some kind of flag too...</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Fri Jun 21 2013 01:44:34 GMT-0700 (Pacific Daylight Time)">08:44</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">I should look up the bug</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Fri Jun 21 2013 01:44:51 GMT-0700 (Pacific Daylight Time)">08:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">E.g. if you set header 1 or 2, set the &quot;pass 304 through flag&quot;. If that flag is set, don&#039;t change 304 into 200.</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Fri Jun 21 2013 01:47:00 GMT-0700 (Pacific Daylight Time)">08:47</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Or more likely, if it&#039;s unset, change 304 into 200 :)</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Fri Jun 21 2013 01:49:25 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell"><a href="http://m.itworld.com/361807/foxconn-hire-3000-support-firefox-os-and-software-development">http://m.itworld.com/361807/foxconn-hire-3000-support-firefox-os-and-software-development</a></td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Fri Jun 21 2013 01:50:01 GMT-0700 (Pacific Daylight Time)">08:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wow, they went from .5-1 Mozilla to 3 Mozillas pretty quickly</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Fri Jun 21 2013 01:50:54 GMT-0700 (Pacific Daylight Time)">08:50</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=karlcow@irc>karlcow</span>&gt;</td><td class="msg-cell">hallvors: CORE-37327</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Fri Jun 21 2013 01:50:59 GMT-0700 (Pacific Daylight Time)">08:50</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=karlcow@irc>karlcow</span>&gt;</td><td class="msg-cell">maybe</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Fri Jun 21 2013 01:51:40 GMT-0700 (Pacific Daylight Time)">08:51</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">&quot;It&#039;s looking for software engineers with skills in HTML5 operating systems&quot;</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Fri Jun 21 2013 01:51:48 GMT-0700 (Pacific Daylight Time)">08:51</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">All 20 of them?</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Fri Jun 21 2013 01:55:46 GMT-0700 (Pacific Daylight Time)">08:55</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=miketaylr@irc>miketaylr</span>&gt;</td><td class="msg-cell">what if i have skills in 15 - 18 HTML5 OSes, do i get the job?</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Fri Jun 21 2013 02:00:18 GMT-0700 (Pacific Daylight Time)">09:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I think Ms2ger meant there&#039;s only 20 people with the relevant skills</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Fri Jun 21 2013 02:00:49 GMT-0700 (Pacific Daylight Time)">09:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Like that now decade old IBM job listing. Might as well list them by name</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Fri Jun 21 2013 02:02:26 GMT-0700 (Pacific Daylight Time)">09:02</a></td><td class="nick-cell"><span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span></td><td class="msg-cell">thought of the same thing</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Fri Jun 21 2013 02:03:13 GMT-0700 (Pacific Daylight Time)">09:03</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=miketaylr@irc>miketaylr</span>&gt;</td><td class="msg-cell">boo, thanks for ruining my joke annevk</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Fri Jun 21 2013 02:03:41 GMT-0700 (Pacific Daylight Time)">09:03</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=karlcow@irc>karlcow</span>&gt;</td><td class="msg-cell">:)</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Fri Jun 21 2013 02:06:24 GMT-0700 (Pacific Daylight Time)">09:06</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=hallvors@irc>hallvors</span>&gt;</td><td class="msg-cell">karlcow: thanks - that&#039;s the fixed one, CORE-1033 is the still open one</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Fri Jun 21 2013 02:07:16 GMT-0700 (Pacific Daylight Time)">09:07</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=karlcow@irc>karlcow</span>&gt;</td><td class="msg-cell">damned, I was not subscribed to this one. Not in my mail archive. :)</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Fri Jun 21 2013 02:51:44 GMT-0700 (Pacific Daylight Time)">09:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=SteveF@irc>SteveF</span>&gt;</td><td class="msg-cell">hixie: appears the mutlipage and the one page of the whatwg spec are out of phase the multi-page is a day behind</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Fri Jun 21 2013 02:54:46 GMT-0700 (Pacific Daylight Time)">09:54</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=SteveF@irc>SteveF</span>&gt;</td><td class="msg-cell">Hixie: appears the mutlipage and the one page of the whatwg spec are out of phase the multi-page is a day behind (once again with right nick)</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Fri Jun 21 2013 07:34:44 GMT-0700 (Pacific Daylight Time)">14:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=zewt@irc>zewt</span>&gt;</td><td class="msg-cell">hixie==hixie</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Fri Jun 21 2013 08:35:17 GMT-0700 (Pacific Daylight Time)">15:35</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=dglazkov@irc>dglazkov</span>&gt;</td><td class="msg-cell">good morning, Whatwg!</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Fri Jun 21 2013 09:00:16 GMT-0700 (Pacific Daylight Time)">16:00</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">annevk: What. The. Fuck.  Jeezus, the webidl situation up in here is *fucked up* if all I want is freaking array of nodes with useful functions.</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Fri Jun 21 2013 09:01:44 GMT-0700 (Pacific Daylight Time)">16:01</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">annevk: On the other hand, going with NodeList means you don&#039;t get .filter or .map.</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Fri Jun 21 2013 09:01:50 GMT-0700 (Pacific Daylight Time)">16:01</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">This shouldn&#039;t be a choice we have to make.</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Fri Jun 21 2013 09:41:52 GMT-0700 (Pacific Daylight Time)">16:41</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">FYI: am migrating remaining html5lib-python issues from Google Code.</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Fri Jun 21 2013 09:42:14 GMT-0700 (Pacific Daylight Time)">16:42</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">I read &quot;to&quot;</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Fri Jun 21 2013 10:36:11 GMT-0700 (Pacific Daylight Time)">17:36</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Zero issues remaining on GCode.</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Fri Jun 21 2013 11:50:41 GMT-0700 (Pacific Daylight Time)">18:50</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I tried to write a proposal that would let you connect to a remote window in a similar way to how you can connect to a shared worker: <a href="http://wiki.whatwg.org/wiki/RemoteDocumentMessaging">http://wiki.whatwg.org/wiki/RemoteDocumentMessaging</a></td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Fri Jun 21 2013 11:50:49 GMT-0700 (Pacific Daylight Time)">18:50</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">how badly did I screw it up?  :)</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Fri Jun 21 2013 11:56:21 GMT-0700 (Pacific Daylight Time)">18:56</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i guess folks aren&#039;t around.  I&#039;ll ask on the mailing list</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Fri Jun 21 2013 12:04:13 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">remote in what sense?</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Fri Jun 21 2013 12:04:39 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">not in the same unit of related browsing contexts</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Fri Jun 21 2013 12:04:58 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">e.g., you don&#039;t already have a JavaScript reference to the window object</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Fri Jun 21 2013 12:05:03 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">why not just use a shared worker? that&#039;s what they&#039;re for :-)</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Fri Jun 21 2013 12:05:13 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">they consume resources</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Fri Jun 21 2013 12:05:19 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">e.g., memory</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Fri Jun 21 2013 12:05:50 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Fri Jun 21 2013 12:06:47 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">as far as I can tell, all the mechanisms exist in the platform</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Fri Jun 21 2013 12:06:49 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">so much as to be prohibitive? what are y&#039;all putting in these workers? :-P</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Fri Jun 21 2013 12:07:08 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">consider the use case in the wiki page</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Fri Jun 21 2013 12:07:16 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">i&#039;m not sure <a href="http://window.name">window.name</a> would be the best way to identify a target, but other than that this could work</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Fri Jun 21 2013 12:07:25 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">should the word processing site always spin up a shared worker just in case?</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Fri Jun 21 2013 12:07:38 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">if they&#039;re cheap, yeah</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Fri Jun 21 2013 12:08:03 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">if they&#039;re not, i&#039;d have gone more for a &quot;broadcast message to same origin pages&quot; approach, where you tell everyone &quot;hey anyone out there?&quot; and see if anyone responds</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Fri Jun 21 2013 12:08:43 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">why not broadcast to some name within an origin?</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Fri Jun 21 2013 12:08:51 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">if you&#039;ve got a large origin with lots of different stuff</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Fri Jun 21 2013 12:09:20 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell"><span class="nick nick-14" title=Hixie@irc>Hixie</span></td><td class="msg-cell">sits down rather than typing over the desk</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Fri Jun 21 2013 12:09:21 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you don&#039;t want them have to bring all the pages out of swap</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Fri Jun 21 2013 12:09:29 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">just to send them a message they don&#039;t care about</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Fri Jun 21 2013 12:09:33 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">yeah, that&#039;s fair enough</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Fri Jun 21 2013 12:09:45 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell"><a href="http://window.name">window.name</a> isn&#039;t unique</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Fri Jun 21 2013 12:10:05 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">in particular, what you really want in the case you mentioned on the wiki page is to broadcast to other instances of yourself</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Fri Jun 21 2013 12:10:14 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Fri Jun 21 2013 12:10:17 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">so <a href="http://window.name">window.name</a> would be awkward</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Fri Jun 21 2013 12:10:30 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">but you could register to receive messages on a particular topic, for instance</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Fri Jun 21 2013 12:10:30 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">we should use a different name</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Fri Jun 21 2013 12:10:46 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">window.subscribeTo(&quot;the-topic&quot;)</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Fri Jun 21 2013 12:11:09 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">another solution might be to make shared workers much cheaper by having a way to delay the actual shared worker creation until such time as multiple connections are attempted</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Fri Jun 21 2013 12:11:10 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">window.broadcastMessage(&quot;hi there&quot;, &quot;the-topic&quot;) ?</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Fri Jun 21 2013 12:11:41 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">but i&#039;m not sure the shared worker being expensive is that big a deal. wouldn&#039;t an editor want a worker to be doing all the work in the background anyway?</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Fri Jun 21 2013 12:11:47 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">in which case, making it shared is a non-issue</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Fri Jun 21 2013 12:11:58 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">brb, oqne sec</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Fri Jun 21 2013 12:16:49 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I agree with you that if shared workers were free, web sites could build this mechanism themselves</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Fri Jun 21 2013 12:16:53 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">but they&#039;re not free :)</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Fri Jun 21 2013 12:18:07 GMT-0700 (Pacific Daylight Time)">19:18</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">back</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Fri Jun 21 2013 12:18:15 GMT-0700 (Pacific Daylight Time)">19:18</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">yeah, but in the case of an editor, isn&#039;t it a sunk cost anyway?</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Fri Jun 21 2013 12:18:29 GMT-0700 (Pacific Daylight Time)">19:18</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I&#039;m not sure I follow?</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Fri Jun 21 2013 12:18:45 GMT-0700 (Pacific Daylight Time)">19:18</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">wouldn&#039;t an editor want to put its networking and stuff in a worker?</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Fri Jun 21 2013 12:19:47 GMT-0700 (Pacific Daylight Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">this feature request is coming from the tech lead of an editor, and he says wouldn&#039;t need a shared worker anymore if we had this feature</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Fri Jun 21 2013 12:20:01 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">currently, his shared worker is eating 70 MB of memory on my machine :)</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Fri Jun 21 2013 12:20:04 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">why wouldn&#039;t they use a worker, that&#039;s weird</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Fri Jun 21 2013 12:20:11 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">wait, wtf is he doing in his worker</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Fri Jun 21 2013 12:20:18 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">just to send messages takes 70 MB?!</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Fri Jun 21 2013 12:20:26 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">how about we fix that, rather than adding more features</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Fri Jun 21 2013 12:20:28 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">that&#039;s absurd</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Fri Jun 21 2013 12:20:42 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the problem is that shared workers are long-lived</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Fri Jun 21 2013 12:20:49 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so they accumulate resources</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Fri Jun 21 2013 12:21:04 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">that&#039;s... not how that works</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Fri Jun 21 2013 12:21:19 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">what are they accumulating?</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Fri Jun 21 2013 12:21:20 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">e.g., the object graph grows if you&#039;re not careful to drop all references, and the heap fragments</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Fri Jun 21 2013 12:21:27 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">dunno</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Fri Jun 21 2013 12:21:35 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">all he&#039;s doing is sending messages back and forth, how hard can it possibly be</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Fri Jun 21 2013 12:22:05 GMT-0700 (Pacific Daylight Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">by the way, I currently have zero documents open :)</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Fri Jun 21 2013 12:22:59 GMT-0700 (Pacific Daylight Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">one of the nice properties of the web is that resources are scoped to tabs</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Fri Jun 21 2013 12:23:10 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so you naturally clear them out as you browse around</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Fri Jun 21 2013 12:23:22 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">shared workers are persistent, so they tend to accumulate cruft</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Fri Jun 21 2013 12:23:44 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">maybe i&#039;m not understanding how this is going to work. when you open three of these tabs on the same document, is one of the tabs going to get promoted to master tab or something?</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Fri Jun 21 2013 12:23:45 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">which means they require much higher skill levels use correctly</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Fri Jun 21 2013 12:23:48 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">and the others act as slaves?</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Fri Jun 21 2013 12:24:05 GMT-0700 (Pacific Daylight Time)">19:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">it just seems silly to me not to use a shared worker in this case. it&#039;s made for this precise thing.</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Fri Jun 21 2013 12:24:23 GMT-0700 (Pacific Daylight Time)">19:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">if it doesn&#039;t work for this, then we&#039;ve failed and should just scrap shared workers.</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Fri Jun 21 2013 12:24:51 GMT-0700 (Pacific Daylight Time)">19:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Sounds like it&#039;s time to land the Gecko implementation, then</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Fri Jun 21 2013 12:25:17 GMT-0700 (Pacific Daylight Time)">19:25</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">if there&#039;s only one document open, and the shared worker is only used for managing multiple documents, then we can make the shared worker take zero resources until another tab attempts to connect to it</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Fri Jun 21 2013 12:25:33 GMT-0700 (Pacific Daylight Time)">19:25</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">by having an API that says &quot;but don&#039;t actually create it until there&#039;s another client&quot;</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Fri Jun 21 2013 12:26:17 GMT-0700 (Pacific Daylight Time)">19:26</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">which is to say, i understand that if there&#039;s just one client, having a shared worker is more expensive than necessary. but with multiple clients, especially N &gt; 2, it seems just silly to avoid them.</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Fri Jun 21 2013 12:26:26 GMT-0700 (Pacific Daylight Time)">19:26</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I guess I don&#039;t understand why you need something as complicated as a shared worker just to do cross-document messaging</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Fri Jun 21 2013 12:26:42 GMT-0700 (Pacific Daylight Time)">19:26</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">i don&#039;t understand why you think shared workers are complicated</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Fri Jun 21 2013 12:27:29 GMT-0700 (Pacific Daylight Time)">19:27</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I just want to send a message from one document to another.  it seems unnecessary to make me write a third entity just to route the messages</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Fri Jun 21 2013 12:28:09 GMT-0700 (Pacific Daylight Time)">19:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">should we make all cross-document messages flow through a shared worker?</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Fri Jun 21 2013 12:28:30 GMT-0700 (Pacific Daylight Time)">19:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">why are cross-document messages in a single unit of related browsing contexts special and get to avoid the shared worker?</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Fri Jun 21 2013 12:28:56 GMT-0700 (Pacific Daylight Time)">19:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you agree it would be crazy to require a document to spin up a shared worker just to postMessage to one of its iframes, right?</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Fri Jun 21 2013 12:29:17 GMT-0700 (Pacific Daylight Time)">19:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">or two iframes on the same page</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Fri Jun 21 2013 12:29:34 GMT-0700 (Pacific Daylight Time)">19:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so, why require a shared worker if the two iframes are in different windows?</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Fri Jun 21 2013 12:29:41 GMT-0700 (Pacific Daylight Time)">19:29</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">if it&#039;s 1:1, sure. but this use case isn&#039;t 1:1. it&#039;s n:n, with shared networking and shared document state, and with conflict resolution.</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Fri Jun 21 2013 12:29:47 GMT-0700 (Pacific Daylight Time)">19:29</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">that&#039;s not just 1:1 communication.</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Fri Jun 21 2013 12:30:32 GMT-0700 (Pacific Daylight Time)">19:30</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I don&#039;t understand how the &quot;two iframes in the same window&quot; case is different from the &quot;two frames in different windows&quot; case</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Fri Jun 21 2013 12:31:35 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">my point is just that a shared worker is massive overkill for this use case</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Fri Jun 21 2013 12:31:45 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">i&#039;m not saying it is, i&#039;m saying this use case isn&#039;t that</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Fri Jun 21 2013 12:33:11 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">let me connect this back to my original use case</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Fri Jun 21 2013 12:33:39 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">there are two ways of opening word processing documents</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Fri Jun 21 2013 12:33:48 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you can go to the list of all your documents and open them</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Fri Jun 21 2013 12:33:57 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">or you can make a new tab, and open it by pasting in the URL</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Fri Jun 21 2013 12:33:57 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell"><span class="nick nick-9" title=hober@irc>hober</span></td><td class="msg-cell">double click on it in Finder? :)</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Fri Jun 21 2013 12:34:06 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">yes :)</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Fri Jun 21 2013 12:34:18 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">in the first case, all the documents are in the same unit of related browsing contexts</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Fri Jun 21 2013 12:34:29 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and can communicate easily</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Fri Jun 21 2013 12:34:44 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">in the second case, they can&#039;t because they don&#039;t have a script connection</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Fri Jun 21 2013 12:35:00 GMT-0700 (Pacific Daylight Time)">19:35</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so, just because they were opened by pasting in the URL, now they need to spin up a shared worker</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Fri Jun 21 2013 12:35:04 GMT-0700 (Pacific Daylight Time)">19:35</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">you&#039;re assuming that the user didn&#039;t open the list again to open the second doc</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Fri Jun 21 2013 12:35:14 GMT-0700 (Pacific Daylight Time)">19:35</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">(which i almost always do)</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Fri Jun 21 2013 12:35:31 GMT-0700 (Pacific Daylight Time)">19:35</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">there are many ways they can end up without a script connection</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Fri Jun 21 2013 12:36:01 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">but there are also cases where they share a script connection, depending on how you ended up opening the documents</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Fri Jun 21 2013 12:36:04 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">in the common case, there is no script connection. yes.</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Fri Jun 21 2013 12:36:21 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">what does it matter if there&#039;s a script connection or not?</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Fri Jun 21 2013 12:36:26 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">why is a shared worker required in the second case but not in the first case?</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Fri Jun 21 2013 12:36:39 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">i&#039;d use one if the first case too</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Fri Jun 21 2013 12:36:53 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">the shared worker makes this problem like a zillion times easier</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Fri Jun 21 2013 12:37:05 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">in what way?</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Fri Jun 21 2013 12:37:17 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the shared worker seems like massively more complexity than I need here</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Fri Jun 21 2013 12:37:34 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">you don&#039;t have to implement a &quot;slave&quot; mode for the tab and &quot;master&quot; mode for the tab.</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Fri Jun 21 2013 12:37:36 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">why do should I need to author a separate script just to route messages?</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Fri Jun 21 2013 12:37:43 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">you don&#039;t have to worry, e.g., about your &quot;master&quot; tab getting killed half-way through synchronising a complicated merge.</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Fri Jun 21 2013 12:37:56 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">why do I have to elect a master?</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Fri Jun 21 2013 12:38:00 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i&#039;m confused</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Fri Jun 21 2013 12:38:28 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">you want to try to do n-way edit merges using some sort of cooperative algorithm??</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Fri Jun 21 2013 12:38:51 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">who should be in charge of sending the edits to the server, if not a master tab?</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Fri Jun 21 2013 12:39:03 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">this is just begging for a master-slave organisation.</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Fri Jun 21 2013 12:39:13 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">which is exactly what shared workers are for.</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Fri Jun 21 2013 12:40:18 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you&#039;re saying that one needs to be in charge of persisting the document to stable storage</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Fri Jun 21 2013 12:40:42 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">normally, the server is in charge of that</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Fri Jun 21 2013 12:40:56 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">if you&#039;re online, this is just a latency optimization to avoid round-tripping with the server</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Fri Jun 21 2013 12:41:00 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">one of them needs to be in charge of telling the server what the edits are</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Fri Jun 21 2013 12:41:30 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">well, the edits originate in one window</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Fri Jun 21 2013 12:41:42 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the same problem occurs if the two documents are open on two different computers</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Fri Jun 21 2013 12:42:03 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">or the same computer in different browsers, sure. but in that case, they&#039;re not coordinating.</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Fri Jun 21 2013 12:42:04 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">just in that case, you&#039;ll tolerate more latency to round-trip with the server</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Fri Jun 21 2013 12:42:38 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you could imagine being able to message between browsers, but that&#039;s a bit of an obscure case</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Fri Jun 21 2013 12:44:13 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">thanks for the feedback.  /me needs to get some lunch</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Fri Jun 21 2013 12:44:23 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I&#039;ll give it some more thought</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Fri Jun 21 2013 12:45:55 GMT-0700 (Pacific Daylight Time)">19:45</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell"><a href="https://code.google.com/p/chromium/issues/detail?id=161070">https://code.google.com/p/chromium/issues/detail?id=161070</a>   &lt;--- If you&#039;re interested in this topic, you can CC yourself on this bug, which is the original feature request from the document editing folks</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Fri Jun 21 2013 12:47:17 GMT-0700 (Pacific Daylight Time)">19:47</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">separate from whether this use case should be solved that way, i don&#039;t a priori see anything wrong with a broadcast mechanism, fwiw.</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Fri Jun 21 2013 12:47:31 GMT-0700 (Pacific Daylight Time)">19:47</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">especially if we don&#039;t provide a zero-cost way to defer-start a shared worker.</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Fri Jun 21 2013 12:47:42 GMT-0700 (Pacific Daylight Time)">19:47</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">then i could see it as a way to coordinate when to start one, for instance.</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Fri Jun 21 2013 12:48:21 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">this is related to the distributed locking proposal that fishd sent to the whatwg list a while ago</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Fri Jun 21 2013 12:48:33 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">that&#039;s a sort of &quot;one bit&quot; coordination approach</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Fri Jun 21 2013 12:48:48 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">(not sure about using <a href="http://window.name">window.name</a>, though. although maybe tha&#039;s better than having yet another registration mechanism.)</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Fri Jun 21 2013 12:49:51 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell"><a href="http://window.open">window.open</a>(&quot;...&quot;, &quot;the-channel&quot;)</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Fri Jun 21 2013 12:50:03 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">has similar properties</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Fri Jun 21 2013 12:50:24 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">in that you either create a new window or get back a way to communicate with an existing window of that name</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Fri Jun 21 2013 12:50:47 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">but the security is screwed up because the names aren&#039;t scoped to an origin</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Fri Jun 21 2013 12:51:15 GMT-0700 (Pacific Daylight Time)">19:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">it&#039;s the current &quot;discovery&quot; mechanism</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Fri Jun 21 2013 12:51:38 GMT-0700 (Pacific Daylight Time)">19:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">but yeah, I&#039;m not sure <a href="http://window.name">window.name</a> is the right thing either</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Fri Jun 21 2013 12:51:52 GMT-0700 (Pacific Daylight Time)">19:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i&#039;ll be back in a bit after I get some lunch</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Fri Jun 21 2013 12:53:34 GMT-0700 (Pacific Daylight Time)">19:53</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">later.</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Fri Jun 21 2013 13:48:08 GMT-0700 (Pacific Daylight Time)">20:48</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I reworked the proposal to be a broadcast channel: <a href="http://wiki.whatwg.org/wiki/RemoteDocumentMessaging">http://wiki.whatwg.org/wiki/RemoteDocumentMessaging</a></td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Fri Jun 21 2013 13:48:41 GMT-0700 (Pacific Daylight Time)">20:48</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">there&#039;s still the question of whether a shared worker is a better fit for the use case, but I agree with you that the broadcast formulation is much cleaner</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Fri Jun 21 2013 14:04:46 GMT-0700 (Pacific Daylight Time)">21:04</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">abarth: Looks nice and simple!  At least, it seems to basically  just be a super-simple pre-provided Shared Worker that just forwards messages to all connected pages.</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Fri Jun 21 2013 14:05:30 GMT-0700 (Pacific Daylight Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">In fact, maybe we can just do it like that?  Define a browser-provided (about:?) link that starts up a forwarding Worker.</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Fri Jun 21 2013 14:05:52 GMT-0700 (Pacific Daylight Time)">21:05</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you&#039;d still want to have channel names</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Fri Jun 21 2013 14:06:00 GMT-0700 (Pacific Daylight Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, deifnitely.</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Fri Jun 21 2013 14:06:06 GMT-0700 (Pacific Daylight Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Bake that into the urls as an extension point.</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Fri Jun 21 2013 14:06:20 GMT-0700 (Pacific Daylight Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">var port = new SharedWorker(&quot;about:bouncer/foo&quot;).port;</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Fri Jun 21 2013 14:06:53 GMT-0700 (Pacific Daylight Time)">21:06</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">You need domain magic to make this work, I guess.</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Fri Jun 21 2013 14:07:28 GMT-0700 (Pacific Daylight Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the other nice thing about a channel name is that you can use a nonce</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Fri Jun 21 2013 14:07:34 GMT-0700 (Pacific Daylight Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and have something like a private channel</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Fri Jun 21 2013 14:07:44 GMT-0700 (Pacific Daylight Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I&#039;m agreeing with you. ^_^</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Fri Jun 21 2013 14:07:59 GMT-0700 (Pacific Daylight Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">sorry, I was just thinking outloud</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Fri Jun 21 2013 14:08:26 GMT-0700 (Pacific Daylight Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I don&#039;t understand how this stuff interacts with transferable objects</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Fri Jun 21 2013 14:08:46 GMT-0700 (Pacific Daylight Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">like, does this support zero-copy sending of ArrayBuffers?</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Fri Jun 21 2013 14:08:55 GMT-0700 (Pacific Daylight Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hm, neuterable objects wouldn&#039;t work, since it&#039;s multi-cast.</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Fri Jun 21 2013 14:08:59 GMT-0700 (Pacific Daylight Time)">21:08</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Only things that could by copied.</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Fri Jun 21 2013 14:09:18 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so, can I send a MessagePort through the BroadcastChannel?</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Fri Jun 21 2013 14:09:27 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i guess only one listener would be able to receive it</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Fri Jun 21 2013 14:09:35 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Those are copyable, no?</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Fri Jun 21 2013 14:09:42 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Maybe not.</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Fri Jun 21 2013 14:09:45 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell"><span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span></td><td class="msg-cell">doesn&#039;t know.</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Fri Jun 21 2013 14:58:18 GMT-0700 (Pacific Daylight Time)">21:58</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">abarth: You could have two types of bouncers - one that&#039;s multicast and accepts as many channels as you want, and one that&#039;s singlecast and only accepts two connections at a time.</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Fri Jun 21 2013 14:58:44 GMT-0700 (Pacific Daylight Time)">21:58</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">abarth: Dunno how to indicate that the connection limit has been hit - immediately send a message back saying that it&#039;s full?</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Fri Jun 21 2013 14:59:11 GMT-0700 (Pacific Daylight Time)">21:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">that&#039;s sort of like the async lock proposal</td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Fri Jun 21 2013 14:59:16 GMT-0700 (Pacific Daylight Time)">21:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">except the limit is 1</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Fri Jun 21 2013 14:59:29 GMT-0700 (Pacific Daylight Time)">21:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so, you&#039;re suggesting something more like a semaphore</td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Fri Jun 21 2013 14:59:36 GMT-0700 (Pacific Daylight Time)">21:59</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, but when you&#039;re trying to do a zero-copy transfer, that&#039;s exactly what you need.</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Fri Jun 21 2013 15:01:03 GMT-0700 (Pacific Daylight Time)">22:01</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Two pages in an origin can use a multicast bouncer to coordinate with each other and agree on a singlecast channel name to use for transfer communication.</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Fri Jun 21 2013 15:01:13 GMT-0700 (Pacific Daylight Time)">22:01</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">about:bouncer and about:transferer?</td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Fri Jun 21 2013 15:03:43 GMT-0700 (Pacific Daylight Time)">22:03</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Reusing SharedWorker literally might not be the best idea - it may still be better to provide dedicated constructors - but I think explaining them in terms of browser-provided shared workers is pretty interesting.</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Fri Jun 21 2013 15:04:23 GMT-0700 (Pacific Daylight Time)">22:04</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">If we did use dedicated constructors, I like your BroadcastChannel name, and we can augment it with a TransferChannel name for the singlecast variant.</td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Fri Jun 21 2013 15:20:03 GMT-0700 (Pacific Daylight Time)">22:20</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i&#039;d have to think about how the transfer channel would handle error cases</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Fri Jun 21 2013 15:20:25 GMT-0700 (Pacific Daylight Time)">22:20</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you might want something that just hands off a message port to the parties</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Fri Jun 21 2013 15:20:42 GMT-0700 (Pacific Daylight Time)">22:20</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">e.g., MessageChannel</td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Fri Jun 21 2013 15:21:19 GMT-0700 (Pacific Daylight Time)">22:21</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you could imagine giving one of the message ports to the broadcast channel</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Fri Jun 21 2013 15:21:26 GMT-0700 (Pacific Daylight Time)">22:21</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and the first one to grab it wins</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Fri Jun 21 2013 15:24:57 GMT-0700 (Pacific Daylight Time)">22:24</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hmm, yeah, that&#039;s just as correct I guess.</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Fri Jun 21 2013 15:25:23 GMT-0700 (Pacific Daylight Time)">22:25</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">You&#039;d need some way to explicitly open the port, or something like that.</td></tr>
  <tr class="msg" id="L237"><td class="ts-cell"><a class="ts" href="#L237" alt="Fri Jun 21 2013 15:25:31 GMT-0700 (Pacific Daylight Time)">22:25</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">First to attach an onMessage handler?</td></tr>
  <tr class="msg" id="L238"><td class="ts-cell"><a class="ts" href="#L238" alt="Fri Jun 21 2013 15:25:59 GMT-0700 (Pacific Daylight Time)">22:25</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">there&#039;s a start() function</td></tr>
  <tr class="msg" id="L239"><td class="ts-cell"><a class="ts" href="#L239" alt="Fri Jun 21 2013 15:26:16 GMT-0700 (Pacific Daylight Time)">22:26</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so, you could claim it by doing that</td></tr>
  <tr class="msg" id="L240"><td class="ts-cell"><a class="ts" href="#L240" alt="Fri Jun 21 2013 15:26:18 GMT-0700 (Pacific Daylight Time)">22:26</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Ah, indeed there is.</td></tr>
  <tr class="msg" id="L241"><td class="ts-cell"><a class="ts" href="#L241" alt="Fri Jun 21 2013 15:26:23 GMT-0700 (Pacific Daylight Time)">22:26</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I&#039;d missed that.</td></tr>
  <tr class="msg" id="L242"><td class="ts-cell"><a class="ts" href="#L242" alt="Fri Jun 21 2013 15:27:22 GMT-0700 (Pacific Daylight Time)">22:27</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">So that&#039;s just a matter of adding a constructor to MessagePort, which is nice and elegant.</td></tr>
  <tr class="msg" id="L243"><td class="ts-cell"><a class="ts" href="#L243" alt="Fri Jun 21 2013 15:27:43 GMT-0700 (Pacific Daylight Time)">22:27</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Well, kinda.</td></tr>
  <tr class="msg" id="L244"><td class="ts-cell"><a class="ts" href="#L244" alt="Fri Jun 21 2013 15:28:00 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">You need to get a pair of them.</td></tr>
  <tr class="msg" id="L245"><td class="ts-cell"><a class="ts" href="#L245" alt="Fri Jun 21 2013 15:28:10 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">that&#039;s what MessageChannel does for you</td></tr>
  <tr class="msg" id="L246"><td class="ts-cell"><a class="ts" href="#L246" alt="Fri Jun 21 2013 15:28:16 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">So yeah, MessageChannel.</td></tr>
  <tr class="msg" id="L247"><td class="ts-cell"><a class="ts" href="#L247" alt="Fri Jun 21 2013 15:28:17 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">it has port1 and port2</td></tr>
  <tr class="msg" id="L248"><td class="ts-cell"><a class="ts" href="#L248" alt="Fri Jun 21 2013 15:28:30 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Oh, durp, I should really read this whole Workers chapter again.</td></tr>
  <tr class="msg" id="L249"><td class="ts-cell"><a class="ts" href="#L249" alt="Fri Jun 21 2013 15:28:39 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the missing piece is a way to hand one of the ports to the remote document</td></tr>
  <tr class="msg" id="L250"><td class="ts-cell"><a class="ts" href="#L250" alt="Fri Jun 21 2013 15:28:43 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">without a script connection</td></tr>
  <tr class="msg" id="L251"><td class="ts-cell"><a class="ts" href="#L251" alt="Fri Jun 21 2013 15:28:53 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">my first draft went after that problem directly</td></tr>
  <tr class="msg" id="L252"><td class="ts-cell"><a class="ts" href="#L252" alt="Fri Jun 21 2013 15:29:03 GMT-0700 (Pacific Daylight Time)">22:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">but letting you trigger a &quot;connect&quot; event on the remote document</td></tr>
  <tr class="msg" id="L253"><td class="ts-cell"><a class="ts" href="#L253" alt="Fri Jun 21 2013 15:29:10 GMT-0700 (Pacific Daylight Time)">22:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">with the message port</td></tr>
  <tr class="msg" id="L254"><td class="ts-cell"><a class="ts" href="#L254" alt="Fri Jun 21 2013 15:29:18 GMT-0700 (Pacific Daylight Time)">22:29</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, and the BroadcastChannel works well.  I like it&#039;s elegance - the way it can be described as a browser-defined &quot;bouncer&quot; SharedWorker.</td></tr>
  <tr class="msg" id="L255"><td class="ts-cell"><a class="ts" href="#L255" alt="Fri Jun 21 2013 15:29:27 GMT-0700 (Pacific Daylight Time)">22:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">but that felt a bit like electing a leader</td></tr>
  <tr class="msg" id="L256"><td class="ts-cell"><a class="ts" href="#L256" alt="Fri Jun 21 2013 15:29:37 GMT-0700 (Pacific Daylight Time)">22:29</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah.</td></tr>
  <tr class="msg" id="L257"><td class="ts-cell"><a class="ts" href="#L257" alt="Fri Jun 21 2013 15:29:41 GMT-0700 (Pacific Daylight Time)">22:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">since there&#039;s a distinguished instance that gets the connect event</td></tr>
  <tr class="msg" id="L258"><td class="ts-cell"><a class="ts" href="#L258" alt="Fri Jun 21 2013 15:29:54 GMT-0700 (Pacific Daylight Time)">22:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and if you&#039;re going to elect a leader, you probably should be using a shared worker</td></tr>
  <tr class="msg" id="L259"><td class="ts-cell"><a class="ts" href="#L259" alt="Fri Jun 21 2013 15:30:00 GMT-0700 (Pacific Daylight Time)">22:30</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so the leader can outlive all the followers</td></tr>
  <tr class="msg" id="L260"><td class="ts-cell"><a class="ts" href="#L260" alt="Fri Jun 21 2013 15:30:16 GMT-0700 (Pacific Daylight Time)">22:30</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">BroadcastChannel is more symmetric</td></tr>
  <tr class="msg" id="L261"><td class="ts-cell"><a class="ts" href="#L261" alt="Fri Jun 21 2013 15:30:42 GMT-0700 (Pacific Daylight Time)">22:30</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yup.</td></tr>
  <tr class="msg" id="L262"><td class="ts-cell"><a class="ts" href="#L262" alt="Fri Jun 21 2013 15:40:06 GMT-0700 (Pacific Daylight Time)">22:40</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">abarth: Problem with just transferring the port is that it gets neutered as it is transferred.  You can&#039;t have the broadcast channel send it to multiple other senders.</td></tr>
  <tr class="msg" id="L263"><td class="ts-cell"><a class="ts" href="#L263" alt="Fri Jun 21 2013 15:40:58 GMT-0700 (Pacific Daylight Time)">22:40</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">Maybe BroadcastChannel could allow transferrable if there&#039;s only one listener?</td></tr>
  <tr class="msg" id="L264"><td class="ts-cell"><a class="ts" href="#L264" alt="Fri Jun 21 2013 15:41:11 GMT-0700 (Pacific Daylight Time)">22:41</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so, you could agree with someone what channel name to use</td></tr>
  <tr class="msg" id="L265"><td class="ts-cell"><a class="ts" href="#L265" alt="Fri Jun 21 2013 15:41:35 GMT-0700 (Pacific Daylight Time)">22:41</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and then hop onto that channel</td></tr>
  <tr class="msg" id="L266"><td class="ts-cell"><a class="ts" href="#L266" alt="Fri Jun 21 2013 15:42:03 GMT-0700 (Pacific Daylight Time)">22:42</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">e.g., one channel is used for signaling and the other is used for data</td></tr>
  <tr class="msg" id="L267"><td class="ts-cell"><a class="ts" href="#L267" alt="Fri Jun 21 2013 15:42:08 GMT-0700 (Pacific Daylight Time)">22:42</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">That does mean that it&#039;s possible to be DOSed by something else on your origin, but that&#039;s probably a sufficiently okay problem - you can already have lots of bad things happen from your own origin.</td></tr>
  <tr class="msg" id="L268"><td class="ts-cell"><a class="ts" href="#L268" alt="Fri Jun 21 2013 15:42:31 GMT-0700 (Pacific Daylight Time)">22:42</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">if they want to DOS you, they can just make a sync XHR :)</td></tr>
  <tr class="msg" id="L269"><td class="ts-cell"><a class="ts" href="#L269" alt="Fri Jun 21 2013 15:42:35 GMT-0700 (Pacific Daylight Time)">22:42</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">they don&#039;t even have to be in your origin</td></tr>
  <tr class="msg" id="L270"><td class="ts-cell"><a class="ts" href="#L270" alt="Fri Jun 21 2013 15:43:01 GMT-0700 (Pacific Daylight Time)">22:43</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I meant that something else on your origin, which knows your signaling channel, can listen in and connect to any ports you attempt to use for data.</td></tr>
  <tr class="msg" id="L271"><td class="ts-cell"><a class="ts" href="#L271" alt="Fri Jun 21 2013 15:43:14 GMT-0700 (Pacific Daylight Time)">22:43</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">But they&#039;re already within your origin, so you&#039;re screwed.</td></tr>
  <tr class="msg" id="L272"><td class="ts-cell"><a class="ts" href="#L272" alt="Fri Jun 21 2013 15:44:33 GMT-0700 (Pacific Daylight Time)">22:44</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">And I don&#039;t see how that&#039;s possible to solve without a direct connection anyway.  You *must* use a spoofable token to identify the channel, precisely so that the other side can spoof it.</td></tr>
  <tr class="msg" id="L273"><td class="ts-cell"><a class="ts" href="#L273" alt="Fri Jun 21 2013 15:58:41 GMT-0700 (Pacific Daylight Time)">22:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">TabAtkins: you could make up a nonce on the server</td></tr>
  <tr class="msg" id="L274"><td class="ts-cell"><a class="ts" href="#L274" alt="Fri Jun 21 2013 15:58:49 GMT-0700 (Pacific Daylight Time)">22:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and send it to the two pages</td></tr>
  <tr class="msg" id="L275"><td class="ts-cell"><a class="ts" href="#L275" alt="Fri Jun 21 2013 15:58:56 GMT-0700 (Pacific Daylight Time)">22:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and they could use it as the channel name</td></tr>
  <tr class="msg" id="L276"><td class="ts-cell"><a class="ts" href="#L276" alt="Fri Jun 21 2013 15:59:22 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Sure, there are ways to avoid it if you bring in a trusted third party.</td></tr>
  <tr class="msg" id="L277"><td class="ts-cell"><a class="ts" href="#L277" alt="Fri Jun 21 2013 15:59:29 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Anyway, I dont&#039; think it&#039;s a real concern.</td></tr>
  <tr class="msg" id="L278"><td class="ts-cell"><a class="ts" href="#L278" alt="Fri Jun 21 2013 15:59:38 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">If an attacker is inside your origin, you&#039;re already screwed.</td></tr>
  <tr class="msg" id="L279"><td class="ts-cell"><a class="ts" href="#L279" alt="Fri Jun 21 2013 15:59:45 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I wonder if NamedChannel would be a better name</td></tr>
  <tr class="msg" id="L280"><td class="ts-cell"><a class="ts" href="#L280" alt="Fri Jun 21 2013 15:59:56 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hm, maybe.</td></tr>
  <tr class="msg" id="L281"><td class="ts-cell"><a class="ts" href="#L281" alt="Fri Jun 21 2013 15:59:58 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">you might even subclass MessageChannel</td></tr>
  <tr class="msg" id="L282"><td class="ts-cell"><a class="ts" href="#L282" alt="Fri Jun 21 2013 16:00:07 GMT-0700 (Pacific Daylight Time)">23:00</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and the ports could null themselves out as they were grabbed</td></tr>
  <tr class="msg" id="L283"><td class="ts-cell"><a class="ts" href="#L283" alt="Fri Jun 21 2013 16:01:36 GMT-0700 (Pacific Daylight Time)">23:01</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i guess that doesn&#039;t work as well for the broadcast case</td></tr>
  <tr class="msg" id="L284"><td class="ts-cell"><a class="ts" href="#L284" alt="Fri Jun 21 2013 16:01:40 GMT-0700 (Pacific Daylight Time)">23:01</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and there&#039;s a race condition</td></tr>
  <tr class="msg" id="L285"><td class="ts-cell"><a class="ts" href="#L285" alt="Fri Jun 21 2013 16:01:53 GMT-0700 (Pacific Daylight Time)">23:01</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah.</td></tr>
  <tr class="msg" id="L286"><td class="ts-cell"><a class="ts" href="#L286" alt="Fri Jun 21 2013 16:02:21 GMT-0700 (Pacific Daylight Time)">23:02</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">You&#039;d have to agree on which port each should take.</td></tr>
</tbody></table>
</div></div></div></body>
