<!doctype html>
<head>
  <title>#whatwg on 2015-05-14</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2015-05-14<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2015-05-13" class="nav-link"><span>prev</span></a>
<a href="2015-05-15" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu May 14 2015 05:30:16 GMT-0700 (Pacific Daylight Time)">12:30</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">&quot;XML Interfaces to the Internet of Things with XForms&quot;</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu May 14 2015 06:26:17 GMT-0700 (Pacific Daylight Time)">13:26</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Ms2ger: Why you gotta tease us like that?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu May 14 2015 06:28:17 GMT-0700 (Pacific Daylight Time)">13:28</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">TabAtkins: Ms2ger just knows what you like to hear first thing in the mornin&#039;</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu May 14 2015 06:29:02 GMT-0700 (Pacific Daylight Time)">13:29</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Well, he&#039;s not wrong.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu May 14 2015 06:30:41 GMT-0700 (Pacific Daylight Time)">13:30</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">He&#039;s sufficiently advanced AI, of course he&#039;s not wrong.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu May 14 2015 06:31:13 GMT-0700 (Pacific Daylight Time)">13:31</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I&#039;ve seen him, and I don&#039;t think it was a skinvelope (unlike bz&#039;s remote-operated body).</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu May 14 2015 06:31:33 GMT-0700 (Pacific Daylight Time)">13:31</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Wait, is bz or bzed bzbarsky?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu May 14 2015 06:32:24 GMT-0700 (Pacific Daylight Time)">13:32</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">bz</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu May 14 2015 06:33:55 GMT-0700 (Pacific Daylight Time)">13:33</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Pretty sure people having &quot;seen&quot; either Ms2ger or bz is just a conspiracy to make people believe they&#039;re human.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu May 14 2015 06:34:04 GMT-0700 (Pacific Daylight Time)">13:34</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Ms2ger doesn&#039;t even have a real name!</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu May 14 2015 06:34:54 GMT-0700 (Pacific Daylight Time)">13:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=BigPants@irc>BigPants</span>&gt;</td><td class="msg-cell">Hey guys, I asked this a few days back but I don&#039;t think a lot of people were around... what do you think of exposing the dirty flag on input fields? Is that something that&#039;s been discussed before?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu May 14 2015 06:36:30 GMT-0700 (Pacific Daylight Time)">13:36</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=BigPants@irc>BigPants</span>&gt;</td><td class="msg-cell">Maybe there&#039;s a better place to ask?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu May 14 2015 06:39:22 GMT-0700 (Pacific Daylight Time)">13:39</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">BigPants: here and the mailing list are probably the best places; I don&#039;t think it&#039;s been discussed before, but it needs though as to whether there are any subtle implications of doing so. What&#039;s the use-case for exposing it?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu May 14 2015 06:45:52 GMT-0700 (Pacific Daylight Time)">13:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=BigPants@irc>BigPants</span>&gt;</td><td class="msg-cell">gsnedders: It would be a lot easier to make use of something like that than to hack together your own dirty checking in javascript (or use a library that does it for you) if you want to submit only the fields in a form that&#039;s been changed. Big forms where users change only minor details benefit quite a lot from only sending dirty fields</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu May 14 2015 07:44:53 GMT-0700 (Pacific Daylight Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: ping</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu May 14 2015 07:49:30 GMT-0700 (Pacific Daylight Time)">14:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: is there a solution for the chained resolved promises causing excessive memory pressure?</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu May 14 2015 07:50:12 GMT-0700 (Pacific Daylight Time)">14:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I am now seeing about a 10% penalty promise returning read() vs sync read()... but I changed my test to chain promises together</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu May 14 2015 07:55:50 GMT-0700 (Pacific Daylight Time)">14:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: actually, I added an unchained path to compare, and I see the 10% penalty regardless... hmm</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu May 14 2015 08:16:47 GMT-0700 (Pacific Daylight Time)">15:16</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: one of the Bugzilla patches you linked me to was a mitigation, I am pretty sure ... Chrome also has a mitigation I believe, although a less spec-compliant one :-/</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu May 14 2015 08:17:16 GMT-0700 (Pacific Daylight Time)">15:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: well, it seems unrelated to the chaining... let me push the code to repo and let you look at it</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu May 14 2015 08:17:53 GMT-0700 (Pacific Daylight Time)">15:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: sample output I am seeing on my desktop here: <a href="https://pastebin.mozilla.org/8833452">https://pastebin.mozilla.org/8833452</a></td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu May 14 2015 08:18:13 GMT-0700 (Pacific Daylight Time)">15:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">async cases have lower throughput and about a 10ms latency penalty there</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu May 14 2015 08:18:17 GMT-0700 (Pacific Daylight Time)">15:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I haven&#039;t tried with bluebird yet</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu May 14 2015 08:19:36 GMT-0700 (Pacific Daylight Time)">15:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: look at the various Pump classes in here and tell me if I&#039;m doing something stupid:  <a href="https://github.com/wanderview/streams-time-echo/blob/master/client.js">https://github.com/wanderview/streams-time-echo/blob/master/client.js</a></td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu May 14 2015 08:21:30 GMT-0700 (Pacific Daylight Time)">15:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Probably doesn&#039;t matter much but while (chunk) isn&#039;t exactly reflective of how the sync API would have to work... it&#039;d have to be a while (self._parser.state === &quot;readable&quot;), with state being a getter</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu May 14 2015 08:23:31 GMT-0700 (Pacific Daylight Time)">15:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Similarly async is using falsy/truthy chunks instead of { value, done }</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu May 14 2015 08:24:14 GMT-0700 (Pacific Daylight Time)">15:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">although actually async isn&#039;t testing truthiness of the chunks; the asymmetry there is confusing to me.</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu May 14 2015 08:25:11 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: the truthiness test was just for backpressure signal... which the async gets via the promise...</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu May 14 2015 08:25:14 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">executeTestList is broken, you can&#039;t return from inside `new Promise`</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu May 14 2015 08:25:35 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: ah ok I thought it was done-ness signal</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu May 14 2015 08:25:45 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: but you need to allow falsy chunks anyway, so you need a separate .state property</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu May 14 2015 08:25:47 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I&#039;m using the web socket state for close signal</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu May 14 2015 08:26:39 GMT-0700 (Pacific Daylight Time)">15:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">hmm, let me fix executeTestList</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu May 14 2015 08:27:00 GMT-0700 (Pacific Daylight Time)">15:27</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">not sure why it&#039;s promise-returning at all honestly</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu May 14 2015 08:29:16 GMT-0700 (Pacific Daylight Time)">15:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">yea, it doesn&#039;t need to be</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu May 14 2015 08:30:57 GMT-0700 (Pacific Daylight Time)">15:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I seem to get bimodal results... I wonder if the lower mode is just hitting that pathological stream chunking I saw before</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu May 14 2015 08:37:29 GMT-0700 (Pacific Daylight Time)">15:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: ok... things seem more equivalent now on my desktop... let me test on mobile</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu May 14 2015 08:37:37 GMT-0700 (Pacific Daylight Time)">15:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I assume there is a canary for android?</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu May 14 2015 08:38:34 GMT-0700 (Pacific Daylight Time)">15:38</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: no, but there&#039;s a dev, which will be just a week behind at most</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu May 14 2015 08:39:42 GMT-0700 (Pacific Daylight Time)">15:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: got it... I&#039;ll have to sort out the IPs on my network to connect my mobile to the test server</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu May 14 2015 08:39:57 GMT-0700 (Pacific Daylight Time)">15:39</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Can you push the code changes?</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu May 14 2015 08:40:10 GMT-0700 (Pacific Daylight Time)">15:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: sure... I only fixed the executeTestList() thing</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu May 14 2015 08:40:17 GMT-0700 (Pacific Daylight Time)">15:40</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Ah OK</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Thu May 14 2015 08:40:34 GMT-0700 (Pacific Daylight Time)">15:40</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Is that what changed the results you think?</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Thu May 14 2015 08:40:45 GMT-0700 (Pacific Daylight Time)">15:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I don&#039;t know... its possible</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Thu May 14 2015 08:41:03 GMT-0700 (Pacific Daylight Time)">15:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">it seems very sensitive</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Thu May 14 2015 08:41:09 GMT-0700 (Pacific Daylight Time)">15:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I also added a bluebird.html</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Thu May 14 2015 08:41:22 GMT-0700 (Pacific Daylight Time)">15:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh nice</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Thu May 14 2015 08:41:41 GMT-0700 (Pacific Daylight Time)">15:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: but even with native promises I don&#039;t see much difference: <a href="https://pastebin.mozilla.org/8833455">https://pastebin.mozilla.org/8833455</a></td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Thu May 14 2015 08:42:16 GMT-0700 (Pacific Daylight Time)">15:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I&#039;m going to re-run the tests on a more idle machine without a VM, etc... could be noise from other stuff on my desktop</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Thu May 14 2015 08:42:21 GMT-0700 (Pacific Daylight Time)">15:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">will do all that after lunch</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Thu May 14 2015 08:43:05 GMT-0700 (Pacific Daylight Time)">15:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: one difference is now I&#039;m running with devtools closed... maybe it was enabling some debugging in promises that was penalizing things</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Thu May 14 2015 08:43:41 GMT-0700 (Pacific Daylight Time)">15:43</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh yeah it probably was</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Thu May 14 2015 08:44:08 GMT-0700 (Pacific Daylight Time)">15:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I don&#039;t know the details but I do know devtools has a lot of hooks into promises and I assume that they&#039;re smart enough to turn those off when devtools is closed</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Thu May 14 2015 08:44:16 GMT-0700 (Pacific Daylight Time)">15:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">or at least some of them</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Thu May 14 2015 09:02:38 GMT-0700 (Pacific Daylight Time)">16:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">So node.deleteData(2, -1) crashes Servo \o/</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Thu May 14 2015 09:03:07 GMT-0700 (Pacific Daylight Time)">16:03</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Ms2ger: Which kind of crashes?</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Thu May 14 2015 09:24:56 GMT-0700 (Pacific Daylight Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Overflow</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Thu May 14 2015 09:25:03 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Ah</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Thu May 14 2015 09:25:15 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Which is all hardware limitations, clearly :)</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Thu May 14 2015 09:25:37 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">I was just checkin it wasn&#039;t something more untoward :)</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Thu May 14 2015 09:34:56 GMT-0700 (Pacific Daylight Time)">16:34</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Ms2ger: what overflows? the -1?</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Thu May 14 2015 09:35:30 GMT-0700 (Pacific Daylight Time)">16:35</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">oh you&#039;re talking about this in #servo</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Thu May 14 2015 09:35:33 GMT-0700 (Pacific Daylight Time)">16:35</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Yeah</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Thu May 14 2015 09:35:52 GMT-0700 (Pacific Daylight Time)">16:35</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">-1 is wrapped to 2**32-1, and then the sum overflows</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Thu May 14 2015 13:12:00 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">dglazkov: sorry, forgot to answer to custom elements doodle</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Thu May 14 2015 13:12:19 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">(in theory july 21 should be ok)</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Thu May 14 2015 13:20:49 GMT-0700 (Pacific Daylight Time)">20:20</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=dglazkov@irc>dglazkov</span>&gt;</td><td class="msg-cell">smaug____: \o/</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Thu May 14 2015 13:21:32 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I think whatever bug was causing huge memory issues in chrome with your streams demo is causing similar havoc with my time echo benchmark... it basically blows up with an OOM on my mac laptop</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Thu May 14 2015 13:21:39 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">runs fine on my windows desktop</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Thu May 14 2015 13:24:44 GMT-0700 (Pacific Daylight Time)">20:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">O_o</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Thu May 14 2015 13:25:09 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">You&#039;re not even using Chrome streams, right?</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Thu May 14 2015 13:25:15 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Just web sockets?</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Thu May 14 2015 13:25:19 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: remember the chained promise bug where they said it only blew up memory on mac... I seem to be getting the same problem</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Thu May 14 2015 13:25:34 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I ... I guess ....</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Thu May 14 2015 13:25:39 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I am using chrome streams to read from the Response... I only use web sockets to upload back to the node.js server</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Thu May 14 2015 13:25:56 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">or I am doing something stupid</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Thu May 14 2015 13:26:04 GMT-0700 (Pacific Daylight Time)">20:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Ah OK I missed that</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Thu May 14 2015 13:26:16 GMT-0700 (Pacific Daylight Time)">20:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Maybe ... maybe the GC is bad on mac?</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Thu May 14 2015 13:26:30 GMT-0700 (Pacific Daylight Time)">20:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I don&#039;t know... I&#039;m going to skip mac and just try my android device</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Thu May 14 2015 13:26:30 GMT-0700 (Pacific Daylight Time)">20:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Or the streams I guess... so strange.</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Thu May 14 2015 13:26:54 GMT-0700 (Pacific Daylight Time)">20:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">it could also be a bug in my server... what I ctrl-z the server and memory keeps climbing in chrome... its very weird</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Thu May 14 2015 13:27:05 GMT-0700 (Pacific Daylight Time)">20:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">sampling the process shows a bunch of string operations being done</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Thu May 14 2015 13:30:54 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I don&#039;t understand what could be different on mac... GC and stuff seems like it should be the same... maybe some IPC problem specific to streams and mac?</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Thu May 14 2015 13:31:36 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah ... Tokyo should be waking up in a few hours... I guess this might be worth filing a crbug for?</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Thu May 14 2015 13:31:42 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">String operations ... strange ...</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Thu May 14 2015 13:32:05 GMT-0700 (Pacific Daylight Time)">20:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I didn&#039;t look at the sample long...</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Thu May 14 2015 13:34:34 GMT-0700 (Pacific Daylight Time)">20:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=jsbell@irc>jsbell</span>&gt;</td><td class="msg-cell">Domenic: Are transform streams to the point where we should discuss how to bolt them onto TextEncoder/Decoder ?</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Thu May 14 2015 13:35:30 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">jsbell: no :(. they are still languishing somewhat unloved. I gotta kick the tires on writable and transform...</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Thu May 14 2015 13:35:42 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I should try to find some Chrome feature that requires writable so we can whip them into shape</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Thu May 14 2015 13:37:58 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=jsbell@irc>jsbell</span>&gt;</td><td class="msg-cell">Domenic: no worries; ping me if the status changes (and/or I&#039;ll continue to low frequency poll)</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Thu May 14 2015 13:41:55 GMT-0700 (Pacific Daylight Time)">20:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">for sure</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Thu May 14 2015 14:10:53 GMT-0700 (Pacific Daylight Time)">21:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I see a penalty for promise read() on my nexus5 with native promises... but its pretty equivalent with bluebird</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Thu May 14 2015 14:12:57 GMT-0700 (Pacific Daylight Time)">21:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">its hard to make this benchmark reliable with the body stream without back pressure... I have to implement my own back pressure mechanism, but I risk deadlock then if chrome decides to buffer things right as I&#039;m doing backpressure</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Thu May 14 2015 14:25:10 GMT-0700 (Pacific Daylight Time)">21:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">gah.. or not...  these tests are so sensitive</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Thu May 14 2015 14:33:40 GMT-0700 (Pacific Daylight Time)">21:33</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I ran some more tests and it looks like a 5% penalty for promise read vs sync read... I&#039;ll post data in the github issue later... I&#039;m not sure if that is a big enough difference to worry about</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Thu May 14 2015 14:33:50 GMT-0700 (Pacific Daylight Time)">21:33</a></td><td class="nick-cell"><span class="nick nick-12" title=wanderview@irc>wanderview</span></td><td class="msg-cell">runs to dinner...</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Thu May 14 2015 14:35:41 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: thanks for all the work!!</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Thu May 14 2015 14:35:56 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">oh... and that penalty only shows for mobile... desktop is fast enough you can&#039;t see it with this test</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Thu May 14 2015 15:28:14 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=jsbell@irc>jsbell</span>&gt;</td><td class="msg-cell">The IndexedDB spec is so old it cites &quot;<a href="http://geocities.com">geocities.com</a>&quot; as an example. (Will definitely leave that in for v2 because nostalgia)</td></tr>
</tbody></table>
</div></div></div></body>
