<!doctype html>
<head>
  <title>#whatwg on 2019-07-05</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "#whatwg";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2019-07-05<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2019-07-04" class="nav-link"><span>prev</span></a>
<a href="2019-07-06" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jul 04 2019 18:10:05 GMT-0700 (Pacific Daylight Time)">01:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">TabAtkins: about <a href="https://github.com/whatwg/html/issues/4752#issuecomment-508500008">https://github.com/whatwg/html/issues/4752#issuecomment-508500008</a>, I guess Bikeshed doesn’t yet provide a way to link to value definitions for global attributes?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jul 04 2019 18:12:57 GMT-0700 (Pacific Daylight Time)">01:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">hmm, and maybe it doesn’t yet have a way to link to definitions for global attributes? (not just values)</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jul 04 2019 21:29:53 GMT-0700 (Pacific Daylight Time)">04:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">Domenic: FYI I finally got around to raising an SVG-spec issue about the spec no longer defining any attributes as required <a href="https://github.com/w3c/svgwg/issues/710">https://github.com/w3c/svgwg/issues/710</a></td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jul 04 2019 21:51:05 GMT-0700 (Pacific Daylight Time)">04:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">\o/</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Fri Jul 05 2019 04:50:07 GMT-0700 (Pacific Daylight Time)">11:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">JakeA: re <a href="https://twitter.com/jaffathecake/status/1147071838561984513">https://twitter.com/jaffathecake/status/1147071838561984513</a> it could maybe fall out of the Storage Standard, but we haven&#039;t really properly layered all the things that we store on top of it</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Fri Jul 05 2019 04:52:16 GMT-0700 (Pacific Daylight Time)">11:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">JakeA: I do think we should do more to standardize this stuff; I haven&#039;t had the time yet, but maybe I should try to find someone more actively</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Fri Jul 05 2019 08:00:51 GMT-0700 (Pacific Daylight Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=innovati@irc>innovati</span>&gt;</div></td><td class="msg-cell">Is this the spot to ask about HTML Custom Elements, or Web Components? There are plenty of tools in use out there like Angular, React, etc that provide some kind of custom components for people building sites, but outside of those tools it&#039;s just kind of a black box as to what they&#039;re doing</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Fri Jul 05 2019 08:01:37 GMT-0700 (Pacific Daylight Time)">15:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=innovati@irc>innovati</span>&gt;</div></td><td class="msg-cell">I have found myself needing to modify or update websites built using these tools after the fact, externally, which means I have to look at the page, use Mutation Observers to watch for changes, and continually try to make sure my changes are present, not wiped out, but present every time they should be present</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri Jul 05 2019 08:02:31 GMT-0700 (Pacific Daylight Time)">15:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=innovati@irc>innovati</span>&gt;</div></td><td class="msg-cell">So my question is - in a future where people are using standards to build sites in similar ways, would the elements being output from standards-based tools be outputting things that the browser and JS would know about, and that would be simpler for me to extend from the outside?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri Jul 05 2019 08:03:24 GMT-0700 (Pacific Daylight Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=innovati@irc>innovati</span>&gt;</div></td><td class="msg-cell">Would some hypothetical React version be able to build on top of, and work alongside a different tool, sharing elements and &#039;components&#039; without fighting to overwrite them and not have any knowledge of what the other tool thought about the component?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri Jul 05 2019 08:19:34 GMT-0700 (Pacific Daylight Time)">15:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">innovati: might depend a bit to what extent strong encapsulation is used and what you need to do</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri Jul 05 2019 08:20:49 GMT-0700 (Pacific Daylight Time)">15:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=innovati@irc>innovati</span>&gt;</div></td><td class="msg-cell">Is the difference between something like React and Heresy that the browser would know about, and other tools could also interact with the &#039;components&#039; Heresy was working with, but React is currently kind of a black box to the browser and other JS? <a href="https://github.com/WebReflection/heresy">https://github.com/WebReflection/heresy</a></td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri Jul 05 2019 08:21:31 GMT-0700 (Pacific Daylight Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=innovati@irc>innovati</span>&gt;</div></td><td class="msg-cell">I don&#039;t do stuff with Web Components or these other tools but there&#039;s some kind of a difference or a distinction that&#039;s presently missing and I&#039;m not sure how to put my finger on it but I know there&#039;s a better way than what we do now, and I believe the better tech might already exist</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri Jul 05 2019 11:01:39 GMT-0700 (Pacific Daylight Time)">18:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">annevk: curious if you have a recommendation for 2019 for the use case of individually ephemeral values stored per-origin in the browser. I last looked at this in 2015, and at the time H2 was just coming up and there was a drive (at Wikipedia) to move away from cookies. Unfortunately, while sessionStorage (aka tabStorage) and localStorage have taken over a few use cases, the vast majority seems still only suitable for cookies. In particular because in</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Fri Jul 05 2019 11:01:39 GMT-0700 (Pacific Daylight Time)">18:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">a large deployment, using localStorage means when keys change/evolve or features never used again, it accumulates. Hence resulting in loss of functionality after a while.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Fri Jul 05 2019 11:03:34 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Krinkle: you’d have to do it in userland</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri Jul 05 2019 11:03:37 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">We have a homemade abstraction over localStorage that does expiry through enumeration, but we don&#039;t enable it for most cases because it absolutely kills performance on mobile (eg. 200ms or more blocking I/O to iterate the keys, and 50ms+ to get their value).</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri Jul 05 2019 11:04:14 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">it seems browsers don&#039;t read the per-origin thing into memory very well, so it&#039;s full disk I/O to open, read, query and close the underlying database every time complete no-go.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri Jul 05 2019 11:04:19 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Krinkle: we have an idea around storage buckets that would be easier to isolate and manage, but still early days</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri Jul 05 2019 11:04:47 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">yeah, the storage units and the way service workers does it seems very useful for PWA use of &quot;caching&quot;</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri Jul 05 2019 11:05:03 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Krinkle: Domenic et al are working on KV Storage which should do more things async</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri Jul 05 2019 11:06:26 GMT-0700 (Pacific Daylight Time)">18:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">but that&#039;s different from more user-facing storing of &quot;forgettable state&quot;, e.g. 15/200 random banners you&#039;ve seen already, a section that&#039;s collapsed by default, an A/B test token, random crap like that (multiplied by 100). As a user navigates around the site, all of that builds up, but it never goes away, especially problematic for power users and regular contributors that interact with a ton of different front-end features.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri Jul 05 2019 11:07:01 GMT-0700 (Pacific Daylight Time)">18:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">(and worse in Firefox because if you visit one of the 900 wikis just once, it stays around forever and even our slow garbage collector can&#039;t reach it unless you visit the site again).</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri Jul 05 2019 11:07:15 GMT-0700 (Pacific Daylight Time)">18:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">although I hear that&#039;s finally being changed</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri Jul 05 2019 11:07:37 GMT-0700 (Pacific Daylight Time)">18:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">annevk: OK, so not something we can polyfill today yet with reasonable compat.</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri Jul 05 2019 11:08:07 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Only with IDB</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri Jul 05 2019 11:08:20 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">IDB has TTL on keys?</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri Jul 05 2019 11:08:43 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Krinkle: it should not block as badly</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri Jul 05 2019 11:08:53 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Krinkle: cause async</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri Jul 05 2019 11:09:18 GMT-0700 (Pacific Daylight Time)">18:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Krinkle: you will also have more capacity</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Fri Jul 05 2019 11:09:32 GMT-0700 (Pacific Daylight Time)">18:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Gotta go</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Fri Jul 05 2019 11:10:30 GMT-0700 (Pacific Daylight Time)">18:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">right, so manual garbage collecting could be more incremental and graceful.</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Fri Jul 05 2019 11:11:07 GMT-0700 (Pacific Daylight Time)">18:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</div></td><td class="msg-cell">Thanks, I think we could give that a go</td></tr>

</tbody></table></div></div></div></body>
