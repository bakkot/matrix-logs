<!doctype html>
<head>
  <title>#whatwg on 2018-01-31</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2018-01-31<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2018-01-30" class="nav-link"><span>prev</span></a>
<a href="2018-02-01" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Jan 30 2018 16:15:36 GMT-0800 (Pacific Standard Time)">00:15</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">a-ja: in browsers?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Jan 30 2018 16:16:19 GMT-0800 (Pacific Standard Time)">00:16</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=a-ja@irc>a-ja</span>&gt;</td><td class="msg-cell">MikeSmith, in validator</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Jan 30 2018 16:21:01 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">dunno but probably less costly than some other things I’m already doing</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Jan 30 2018 16:26:38 GMT-0800 (Pacific Standard Time)">00:26</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=a-ja@irc>a-ja</span>&gt;</td><td class="msg-cell">MikeSmith, fwiw, i&#039;ve been thinking about a possible change to outline messages...another time, earlier in the day</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Jan 30 2018 16:28:03 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=a-ja@irc>a-ja</span>&gt;</td><td class="msg-cell">basically re sectioning elements without headings but with aria labelling</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Jan 30 2018 16:30:01 GMT-0800 (Pacific Standard Time)">00:30</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">ah ok</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Jan 30 2018 16:42:04 GMT-0800 (Pacific Standard Time)">00:42</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hm, WebIDL seems to say that I can&#039;t put [Exposed] on an interface *and* on that interface&#039;s members, but then how am I supposed to say &quot;all the members are exposed per A, but this one in particular is instead exposed per B&quot;?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Jan 30 2018 16:42:30 GMT-0800 (Pacific Standard Time)">00:42</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Does this mean I&#039;d have to instead manually add [Exposed] to *every single member*?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Jan 30 2018 16:56:34 GMT-0800 (Pacific Standard Time)">00:56</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(Relevance: in Typed OM we want to expose all of our interfaces widely, but restrict the methods that involve CSS parsing to only be available in Window.)</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Jan 30 2018 16:57:06 GMT-0800 (Pacific Standard Time)">00:57</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</td><td class="msg-cell">TabAtkins: I haven&#039;t checked this, but can you put the less-exposed ones on a separate partial interface?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Jan 30 2018 17:00:19 GMT-0800 (Pacific Standard Time)">01:00</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hm, both the algorithm and some following requirements imply that a member can have a different exposure set from the interface it&#039;s a part of.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Jan 30 2018 17:40:34 GMT-0800 (Pacific Standard Time)">01:40</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, I think this is a WebIDL bug - it contradicts itself in implications.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Jan 30 2018 17:44:01 GMT-0800 (Pacific Standard Time)">01:44</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Oh nm, that restriction is solely about members of *partial* interfaces - [Exposed] on a partial is implicitly putting it on all the members.  So, not relevant to me, but also doesn&#039;t seem necessary. Still filing a bug.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Jan 30 2018 20:14:19 GMT-0800 (Pacific Standard Time)">04:14</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: re array methods on Typed OM collections, what&#039;s the best case scenario? i.e., what should calling <a href="http://cssNumericArray.map">cssNumericArray.map</a>() return? (a CSSNumericArray or just Array? should the type of the value returned from the map() callback be cast to CSSNumericValue?)</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Jan 30 2018 20:15:39 GMT-0800 (Pacific Standard Time)">04:15</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">if returning an Array is okay then [LegacyArrayClass] + indexed getter would work, no?</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Jan 30 2018 20:16:21 GMT-0800 (Pacific Standard Time)">04:16</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Right now, it throws because undefined is not a function. ^_^</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Jan 30 2018 20:16:51 GMT-0800 (Pacific Standard Time)">04:16</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">For the rest, I don&#039;t have a strong opinion, but JS *does* have support for good Array subclassing now, such that .map() could return your subclass.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Jan 30 2018 20:17:08 GMT-0800 (Pacific Standard Time)">04:17</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">yeah that&#039;s why I said &quot;should&quot;</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Jan 30 2018 20:17:50 GMT-0800 (Pacific Standard Time)">04:17</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">But it&#039;s probably fine to just return an Array too, since the subclass doesn&#039;t do anything additional, and our inputs are all `sequence&lt;&gt;`. Only downside would be that you couldn&#039;t directly assign to the attribute, when present.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Jan 30 2018 20:18:48 GMT-0800 (Pacific Standard Time)">04:18</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: hmm, is typed om implemented in any browser? If so I&#039;d like to test something</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Jan 30 2018 20:18:49 GMT-0800 (Pacific Standard Time)">04:18</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Well, hm, I&#039;m lying. It would be bad if `(new CSSUnparsedValue([&quot;one&quot;])).map(x-&gt;x)` returned an Array.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Jan 30 2018 20:19:08 GMT-0800 (Pacific Standard Time)">04:19</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">It&#039;s behind a flag in Blink right now.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Jan 30 2018 20:19:34 GMT-0800 (Pacific Standard Time)">04:19</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: yeah it seems like different collections want different semantics for array methods</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue Jan 30 2018 20:20:03 GMT-0800 (Pacific Standard Time)">04:20</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Sometimes maybe. But returning the same class as you started with seems pretty universally good, and supported by JS now.</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue Jan 30 2018 20:20:23 GMT-0800 (Pacific Standard Time)">04:20</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">If you really want an Array you can wash it thru `[...foo]`, after all.</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue Jan 30 2018 20:20:57 GMT-0800 (Pacific Standard Time)">04:20</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: how about type casting though? I assume you would want to force the result of map() to whatever element type is in the original collection?</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue Jan 30 2018 20:21:19 GMT-0800 (Pacific Standard Time)">04:21</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: do you know what flag it is in Chrome?</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue Jan 30 2018 20:21:24 GMT-0800 (Pacific Standard Time)">04:21</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, that would presumably cause an error to be thrown during the implicit construction of the new value.</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue Jan 30 2018 20:21:31 GMT-0800 (Pacific Standard Time)">04:21</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">Experimental Web Platform features?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue Jan 30 2018 20:21:58 GMT-0800 (Pacific Standard Time)">04:21</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Precisely *when* the error is thrown (immediately after the callback returns a bad value, or when the callback is totally done) is an open question which needs to be answered, but whose answer is probably not important.</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue Jan 30 2018 20:22:03 GMT-0800 (Pacific Standard Time)">04:22</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, that&#039;s the flag.</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Tue Jan 30 2018 20:22:28 GMT-0800 (Pacific Standard Time)">04:22</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">Okay, I&#039;m looking into this</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Tue Jan 30 2018 20:23:01 GMT-0800 (Pacific Standard Time)">04:23</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">.push(), etc would also typecheck for you. Basically everything would indirect thru your constructor or your indexed setter, both of which should have the types you want.</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Tue Jan 30 2018 20:23:48 GMT-0800 (Pacific Standard Time)">04:23</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">TimothyGu: I forget what browser you work for. ^_^</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Tue Jan 30 2018 20:24:27 GMT-0800 (Pacific Standard Time)">04:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: I&#039;m a first-year undergrad</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Tue Jan 30 2018 20:24:36 GMT-0800 (Pacific Standard Time)">04:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">lol</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Tue Jan 30 2018 20:24:39 GMT-0800 (Pacific Standard Time)">04:24</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">ah, kk</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Tue Jan 30 2018 20:24:49 GMT-0800 (Pacific Standard Time)">04:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">I&#039;ll intern at Google this summer though</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Tue Jan 30 2018 20:24:53 GMT-0800 (Pacific Standard Time)">04:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">(Chrome)</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Tue Jan 30 2018 20:24:53 GMT-0800 (Pacific Standard Time)">04:24</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">+1</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Tue Jan 30 2018 20:27:30 GMT-0800 (Pacific Standard Time)">04:27</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: question: why did y&#039;all decide on rest params for CSSUnparsedValue&#039;s constructor instead of a sequence&lt;&gt;?</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Tue Jan 30 2018 20:27:54 GMT-0800 (Pacific Standard Time)">04:27</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">seems kinda odd when basically everything else takes a sequence</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Tue Jan 30 2018 20:27:59 GMT-0800 (Pacific Standard Time)">04:27</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I think we didn&#039;t have any particular reason, but since it&#039;s inconsistent with CSSTransformValue we should harmonize those two.</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Tue Jan 30 2018 20:28:30 GMT-0800 (Pacific Standard Time)">04:28</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: yeah, should I file a ticket or is that a known issue?</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Tue Jan 30 2018 20:28:36 GMT-0800 (Pacific Standard Time)">04:28</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">file issue plz</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Tue Jan 30 2018 20:33:02 GMT-0800 (Pacific Standard Time)">04:33</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: <a href="https://github.com/w3c/css-houdini-drafts/issues/618">https://github.com/w3c/css-houdini-drafts/issues/618</a></td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Tue Jan 30 2018 20:34:31 GMT-0800 (Pacific Standard Time)">04:34</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">danke</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Tue Jan 30 2018 20:34:43 GMT-0800 (Pacific Standard Time)">04:34</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">de nada</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Tue Jan 30 2018 21:08:45 GMT-0800 (Pacific Standard Time)">05:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: interface exposed a,b meber exposed a should work; does for XHR at least</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Tue Jan 30 2018 21:09:09 GMT-0800 (Pacific Standard Time)">05:09</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, discovered that it&#039;s fine, the paragraph I was confused about only applied to *partial* interfaces.</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Tue Jan 30 2018 21:13:45 GMT-0800 (Pacific Standard Time)">05:13</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">annevk: Do you have some examples of indexed getters/setters on the platform? I need to see what current ones do when you get/set an index that doesn&#039;t have an associated value.</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Tue Jan 30 2018 21:14:37 GMT-0800 (Pacific Standard Time)">05:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">We don’r use those anymore; they’re to be renamed legacy</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Tue Jan 30 2018 21:19:05 GMT-0800 (Pacific Standard Time)">05:19</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">That&#039;s cool and all, but until we actually resolve the array-like issue I&#039;m still using them, and would like to be consistent with the rest of the platform.</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Tue Jan 30 2018 21:20:01 GMT-0800 (Pacific Standard Time)">05:20</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(Turns out engines all special-case indexed getters/setters and run them much more efficiently than a general proxy would.)</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Tue Jan 30 2018 21:20:38 GMT-0800 (Pacific Standard Time)">05:20</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(I&#039;d love to make them legacy and get something better, they&#039;re so manual and frustrating, when so much of it should be automatic.)</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Tue Jan 30 2018 21:24:44 GMT-0800 (Pacific Standard Time)">05:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">You cannot be consistent if you refuse to be so…</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Tue Jan 30 2018 21:26:05 GMT-0800 (Pacific Standard Time)">05:26</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I can&#039;t be consistent with something that&#039;s nonexistent, either!</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Tue Jan 30 2018 21:26:24 GMT-0800 (Pacific Standard Time)">05:26</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Looks like getters all return null, per the DOM spec. None of these have setters. :/</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Tue Jan 30 2018 21:27:40 GMT-0800 (Pacific Standard Time)">05:27</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(It&#039;s been almost a year since the last time I said &quot;hey, my spec has three array-likes, sure would be good to make IDL support that properly&quot;, and nothing&#039;s happened since then, so don&#039;t try and shame me about this.)</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Tue Jan 30 2018 21:29:42 GMT-0800 (Pacific Standard Time)">05:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Saying it’s somebody else their problem is a little weird</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Tue Jan 30 2018 21:30:14 GMT-0800 (Pacific Standard Time)">05:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And you got ample feedback there too about the platform not doing this</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Tue Jan 30 2018 21:30:53 GMT-0800 (Pacific Standard Time)">05:30</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">No, I got pushback from *you* about this, while Boris supported it. Yay for contradictory advice!</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Tue Jan 30 2018 21:31:12 GMT-0800 (Pacific Standard Time)">05:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic pushed back too</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Tue Jan 30 2018 21:31:36 GMT-0800 (Pacific Standard Time)">05:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TC39 would push back too</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Tue Jan 30 2018 21:31:40 GMT-0800 (Pacific Standard Time)">05:31</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Sure. I don&#039;t think counting 2 vs 1 is reasonable here?</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Tue Jan 30 2018 21:32:09 GMT-0800 (Pacific Standard Time)">05:32</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Nah, TC39 explicitly supported integer catchalls several years back, and I&#039;ve gotten feedback that they&#039;re just fine perf-wise in engines.</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Tue Jan 30 2018 21:32:12 GMT-0800 (Pacific Standard Time)">05:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Maybe we should bring it up with the TAG?</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Tue Jan 30 2018 21:32:44 GMT-0800 (Pacific Standard Time)">05:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I doubt TC39 did that, pointer?</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Tue Jan 30 2018 21:32:52 GMT-0800 (Pacific Standard Time)">05:32</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(Nobody ended up *doing* anything about it in TC39, but we still have the records with several people enthusiastically supporting, including several current members.)</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Tue Jan 30 2018 21:33:02 GMT-0800 (Pacific Standard Time)">05:33</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">It was linked in the WebIDL issue, let me go get it.</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Tue Jan 30 2018 21:34:04 GMT-0800 (Pacific Standard Time)">05:34</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell"><a href="https://lists.w3.org/Archives/Public/public-webapps/2009JulSep/1346.html">https://lists.w3.org/Archives/Public/public-webapps/2009JulSep/1346.html</a></td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Tue Jan 30 2018 21:34:53 GMT-0800 (Pacific Standard Time)">05:34</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(follow the thread linked from that message)</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Tue Jan 30 2018 21:35:13 GMT-0800 (Pacific Standard Time)">05:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">The outcome of that discussion was to stop doing live lists</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Tue Jan 30 2018 21:35:33 GMT-0800 (Pacific Standard Time)">05:35</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yes? That&#039;s correct and a good conclusion.</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Tue Jan 30 2018 21:35:47 GMT-0800 (Pacific Standard Time)">05:35</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">As I&#039;ve said multiple times, I&#039;m not doing live lists.</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Tue Jan 30 2018 21:36:25 GMT-0800 (Pacific Standard Time)">05:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">So why not return arrays then?</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Tue Jan 30 2018 21:37:58 GMT-0800 (Pacific Standard Time)">05:37</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">:deep breath: I&#039;m repeating myself, but: because they&#039;re not arrays. They&#039;re other objects with branding concerns, which have restrictions on what types of objects they contain, and sometimes have useful methods hanging off of them that are only reasonable for their specific type.</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Tue Jan 30 2018 21:38:10 GMT-0800 (Pacific Standard Time)">05:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Anyway, I think to be more productive I should study what you are trying to do in more detail. It’s been a while.</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Tue Jan 30 2018 21:38:45 GMT-0800 (Pacific Standard Time)">05:38</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Luckily for you, I just posted an update about that: <a href="https://github.com/heycam/webidl/issues/345#issuecomment-361814861">https://github.com/heycam/webidl/issues/345#issuecomment-361814861</a></td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Tue Jan 30 2018 21:38:52 GMT-0800 (Pacific Standard Time)">05:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">It seems you could enforce validation when setting though. That’s how everything else works.</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Tue Jan 30 2018 21:39:21 GMT-0800 (Pacific Standard Time)">05:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Cool, I’ll check it out later today</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Tue Jan 30 2018 21:39:58 GMT-0800 (Pacific Standard Time)">05:39</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">No (a) I can&#039;t do that easily (it would be both more expensive *and* would delay catching errors for no author benefit), and (b) that&#039;s *not* how everything else works, every single other thing in WebIDL typechecks eagerly as soon as you set a value.</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Tue Jan 30 2018 21:40:19 GMT-0800 (Pacific Standard Time)">05:40</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell"><a href="http://foo.bar">foo.bar</a> = &quot;something invalid&quot; throws immediately; foo[1] = &quot;something invalid&quot; should too.</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Tue Jan 30 2018 21:41:31 GMT-0800 (Pacific Standard Time)">05:41</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">foo(&quot;something invalid&quot;) throws immediately, but if the brand check succeeds we generally depend on the object being correct, and don&#039;t do recursive type-checking by hand.  (I&#039;d be interested if you could find an instance of such manual recursive type-checking.)</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Tue Jan 30 2018 21:42:42 GMT-0800 (Pacific Standard Time)">05:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Eg Headers constructor</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Tue Jan 30 2018 21:43:00 GMT-0800 (Pacific Standard Time)">05:43</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">That&#039;s in Fetch?</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Tue Jan 30 2018 21:43:05 GMT-0800 (Pacific Standard Time)">05:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Yes</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Tue Jan 30 2018 21:47:00 GMT-0800 (Pacific Standard Time)">05:47</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Ah, that&#039;s not an example of such. (a) it&#039;s not recursive, it just checks *one* layer down in the passed sequence, and (b) it&#039;s just papering over a deficiency in WebIDL that prevents you from explicitly saying that you take a `map-sequence&lt;ByteString, ByteString&gt;`, so you&#039;re having to manually roll that check; all it does it verify that each item has precisely two entries.  (Besides the length-checking, the actual</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Tue Jan 30 2018 21:47:00 GMT-0800 (Pacific Standard Time)">05:47</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">type-checking is still done automatically for you by IDL.)</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Tue Jan 30 2018 21:48:53 GMT-0800 (Pacific Standard Time)">05:48</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(And that&#039;s captured in <a href="https://github.com/heycam/webidl/issues/324">https://github.com/heycam/webidl/issues/324</a> too; there are questions about what to do with map-sequence&lt;&gt; as a return type, but as an argument type it&#039;s nice and simple.)</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Tue Jan 30 2018 22:55:18 GMT-0800 (Pacific Standard Time)">06:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">MikeSmith: are you logging URLs too?</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Tue Jan 30 2018 23:08:57 GMT-0800 (Pacific Standard Time)">07:08</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">tobie: Yo, would you take a PR for `pair-sequence&lt;&gt;`? Looking at `sequence&lt;&gt;`, it looks pretty easy to spec.</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Tue Jan 30 2018 23:12:17 GMT-0800 (Pacific Standard Time)">07:12</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</td><td class="msg-cell">TabAtkins: I didn’t read up on the thread, but if there’s consensus and implementor interest, sure.</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Tue Jan 30 2018 23:14:08 GMT-0800 (Pacific Standard Time)">07:14</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I&#039;ll write it up and we&#039;ll see. I think there&#039;s only one consumer at the moment - `Headers` - because the only maplike I&#039;m in charge of isn&#039;t currently constructable.</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Tue Jan 30 2018 23:15:48 GMT-0800 (Pacific Standard Time)">07:15</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hm, about that: Domenic, annevk, we generally want *all* objects to be constructable, right?  I&#039;ve got nothing against making StylePropertyMap constructable, you just can&#039;t *do* anything with manually constructed instances (all attributes of that type are `readonly`).</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Tue Jan 30 2018 23:17:29 GMT-0800 (Pacific Standard Time)">07:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: <a href="https://github.com/w3ctag/design-principles/issues/44">https://github.com/w3ctag/design-principles/issues/44</a></td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Tue Jan 30 2018 23:17:41 GMT-0800 (Pacific Standard Time)">07:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: so generally yes, with some exceptions</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Tue Jan 30 2018 23:18:41 GMT-0800 (Pacific Standard Time)">07:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: if it&#039;s not useful I wouldn&#039;t add a constructor</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Tue Jan 30 2018 23:18:46 GMT-0800 (Pacific Standard Time)">07:18</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hm, that&#039;s for using constructors vs factory methods.</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Tue Jan 30 2018 23:18:46 GMT-0800 (Pacific Standard Time)">07:18</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">kk</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Wed Jan 31 2018 03:42:45 GMT-0800 (Pacific Standard Time)">11:42</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Hey everyone! I&#039;ve seen ricea&#039;s comment on data channel streams (<a href="https://github.com/w3c/webrtc-pc/issues/1732#issuecomment-361843997">https://github.com/w3c/webrtc-pc/issues/1732#issuecomment-361843997</a>) and was wondering how passing a readable stream to the send method would look like if I were to write in chunks... do you have an example for that?</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Wed Jan 31 2018 03:43:21 GMT-0800 (Pacific Standard Time)">11:43</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Basically, my question is how the examples (<a href="https://github.com/w3c/webrtc-pc/issues/1732#issuecomment-357442429">https://github.com/w3c/webrtc-pc/issues/1732#issuecomment-357442429</a>) would have to be rewritten for providing a readable stream on a send call.</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Wed Jan 31 2018 04:07:12 GMT-0800 (Pacific Standard Time)">12:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: if you construct your own RS you can push stuff in that the data channel would then read</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Wed Jan 31 2018 04:07:42 GMT-0800 (Pacific Standard Time)">12:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: that is how upload fetch() works, but not yet implemented</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Wed Jan 31 2018 04:08:38 GMT-0800 (Pacific Standard Time)">12:08</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">annevk: I&#039;d be interested in how that would look like if I don&#039;t have a readable stream beforehand (so, I need to construct one of my own)</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Wed Jan 31 2018 04:08:57 GMT-0800 (Pacific Standard Time)">12:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: it does not use WS since ideal WS usage requires the underlying buffer, which would require a callback of sorts and was not feasible impl wise</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Wed Jan 31 2018 04:11:16 GMT-0800 (Pacific Standard Time)">12:11</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">annevk: Okay... but that means constructing a writable stream on RTCDataChannel and writing into that is theoretically more effizient with BYOB (once we have that for writable stream)?</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Wed Jan 31 2018 04:11:37 GMT-0800 (Pacific Standard Time)">12:11</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">jeez, that German thrown into there... *efficient :)</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Wed Jan 31 2018 04:11:38 GMT-0800 (Pacific Standard Time)">12:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: could not find a quick example, but <a href="https://streams.spec.whatwg.org/#rs-constructor">https://streams.spec.whatwg.org/#rs-constructor</a> has a description</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Wed Jan 31 2018 04:12:49 GMT-0800 (Pacific Standard Time)">12:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: if the impl could give you access to the networking layer’s buffer, yes, but not sure how feasible that is given framing and such</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Wed Jan 31 2018 04:13:29 GMT-0800 (Pacific Standard Time)">12:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: I suspect some piping will be necessary</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Wed Jan 31 2018 04:14:49 GMT-0800 (Pacific Standard Time)">12:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Fetch should probably have an example for this</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Wed Jan 31 2018 04:14:55 GMT-0800 (Pacific Standard Time)">12:14</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">annevk: I worked on the FF data channel implementation and yeah that should be possible if I&#039;m not mistaken. So, would you rather say we should go for .createWritableStream instead of .send(myReadableStream)?</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Wed Jan 31 2018 04:15:50 GMT-0800 (Pacific Standard Time)">12:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: or make send() return it; is synchronous acceptable though?</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Wed Jan 31 2018 04:16:18 GMT-0800 (Pacific Standard Time)">12:16</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">It&#039;s only sync so far.</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Wed Jan 31 2018 04:16:40 GMT-0800 (Pacific Standard Time)">12:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: I mean getting sync access to the buffer</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Wed Jan 31 2018 04:17:18 GMT-0800 (Pacific Standard Time)">12:17</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">I&#039;m not sure what you mean by that</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Wed Jan 31 2018 04:18:46 GMT-0800 (Pacific Standard Time)">12:18</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Argh</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Wed Jan 31 2018 04:19:35 GMT-0800 (Pacific Standard Time)">12:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: I’m prolly mistaken and it’s not an issue</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Wed Jan 31 2018 04:19:37 GMT-0800 (Pacific Standard Time)">12:19</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Returning a writable stream on .send() would be an idea but I&#039;m not a fan of it because I think it creates an awkward API. Also, .send would have to know when it should return a writable stream.</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Wed Jan 31 2018 04:20:12 GMT-0800 (Pacific Standard Time)">12:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: wb</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Wed Jan 31 2018 04:21:07 GMT-0800 (Pacific Standard Time)">12:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: it does seem a little weird if this can get away with using WS, but not fetch()</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Wed Jan 31 2018 04:21:28 GMT-0800 (Pacific Standard Time)">12:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: curious what ricea and yhirano__ think</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Wed Jan 31 2018 04:22:53 GMT-0800 (Pacific Standard Time)">12:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: fair re send(); be good to keep the name relatively short though</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Wed Jan 31 2018 04:23:26 GMT-0800 (Pacific Standard Time)">12:23</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Ideas welcome :)</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Wed Jan 31 2018 04:23:50 GMT-0800 (Pacific Standard Time)">12:23</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">annevk, I&#039;d actually written some more tests for that createImageBitmap PR you reviewed, but I forgot to commit</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Wed Jan 31 2018 04:23:52 GMT-0800 (Pacific Standard Time)">12:23</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Boo, git</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Wed Jan 31 2018 04:24:12 GMT-0800 (Pacific Standard Time)">12:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: happy to review</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Wed Jan 31 2018 04:24:21 GMT-0800 (Pacific Standard Time)">12:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Coming up in a minute</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Wed Jan 31 2018 04:24:28 GMT-0800 (Pacific Standard Time)">12:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: was planning on writing more too for that PR</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Wed Jan 31 2018 04:24:50 GMT-0800 (Pacific Standard Time)">12:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: now I figured out Blob is similar to &lt;img&gt;</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Wed Jan 31 2018 04:25:07 GMT-0800 (Pacific Standard Time)">12:25</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">I&#039;ll try to find time to do a closer review, but not sure I&#039;ll be able to</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Wed Jan 31 2018 04:25:28 GMT-0800 (Pacific Standard Time)">12:25</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">aneevk: My current idea was to just throw buffers into the WS (which are then consumed) and hope you come up with a good idea for BYOB writer. Wouldn&#039;t that work for fetch too?</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Wed Jan 31 2018 04:26:02 GMT-0800 (Pacific Standard Time)">12:26</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Probably some of these tests should run in workers too</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Wed Jan 31 2018 04:27:01 GMT-0800 (Pacific Standard Time)">12:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: then it’s not better than RS iirc, but really need the others for that discussion</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Wed Jan 31 2018 04:27:35 GMT-0800 (Pacific Standard Time)">12:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: hopefully junov can help with that</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Wed Jan 31 2018 04:32:11 GMT-0800 (Pacific Standard Time)">12:32</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=lgrahl_@irc>lgrahl_</span>&gt;</td><td class="msg-cell">Freenode is flaky for me...</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Wed Jan 31 2018 04:32:21 GMT-0800 (Pacific Standard Time)">12:32</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=lgrahl_@irc>lgrahl_</span>&gt;</td><td class="msg-cell">annevk: It&#039;s not better but it would allow us to switch later without breaking API. But yeah, it&#039;s a good idea if you discuss this together. Ping me if you need me.</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Wed Jan 31 2018 04:36:43 GMT-0800 (Pacific Standard Time)">12:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl_: I&#039;m hoping ricea will just chime in, I&#039;m not super invested in this</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Wed Jan 31 2018 04:37:26 GMT-0800 (Pacific Standard Time)">12:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl_: I&#039;m reading through <a href="https://github.com/yutakahirano/fetch-with-streams/issues/30">https://github.com/yutakahirano/fetch-with-streams/issues/30</a> though to figure out why fetch() uses RS again (a lot of the stuff in the beginning isn&#039;t it I think)</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Wed Jan 31 2018 04:39:08 GMT-0800 (Pacific Standard Time)">12:39</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=lgrahl_@irc>lgrahl_</span>&gt;</td><td class="msg-cell">annevk: Okay. I&#039;ll grab lunch in the meantime. :)</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Wed Jan 31 2018 04:44:47 GMT-0800 (Pacific Standard Time)">12:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl_: good plan; <a href="https://github.com/yutakahirano/fetch-with-streams/issues/30#issuecomment-95161858">https://github.com/yutakahirano/fetch-with-streams/issues/30#issuecomment-95161858</a> seems like the conclusion</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Wed Jan 31 2018 04:45:13 GMT-0800 (Pacific Standard Time)">12:45</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl_: basically even with WS there&#039;s no guarantee you get the actual final buffer/sink for fetch()</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Wed Jan 31 2018 04:45:42 GMT-0800 (Pacific Standard Time)">12:45</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl_: and additionally for fetch() WS became awkward due to how Request works</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Wed Jan 31 2018 05:07:59 GMT-0800 (Pacific Standard Time)">13:07</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">annevk, is a video with data URL src cross-origin?</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Wed Jan 31 2018 05:21:40 GMT-0800 (Pacific Standard Time)">13:21</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=lgrahl_@irc>lgrahl_</span>&gt;</td><td class="msg-cell">annevk: Cheers. I don&#039;t understand these points entirely (lack of spec knowledge I guess) and so I&#039;m not sure this would apply to data channels, too.</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Wed Jan 31 2018 05:23:55 GMT-0800 (Pacific Standard Time)">13:23</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=lgrahl_@irc>lgrahl_</span>&gt;</td><td class="msg-cell">annevk: It really confuses me that readable streams are used by both ends. so I&#039;m surprised by this (at least in terms of terminology).</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Wed Jan 31 2018 05:29:48 GMT-0800 (Pacific Standard Time)">13:29</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">annevk: Also, if I come back to the low-level use, creating a writer from a WS and passing chunks into it is easy. But constructing a RS and feeding chunks into it seems tedious because you need to write your own RS object (unless I missed something).</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Wed Jan 31 2018 05:33:13 GMT-0800 (Pacific Standard Time)">13:33</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Test works and passes right away... What&#039;d I do wrong? :)</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Wed Jan 31 2018 05:37:18 GMT-0800 (Pacific Standard Time)">13:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Hmm, lgrahl disappeared</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Wed Jan 31 2018 05:37:32 GMT-0800 (Pacific Standard Time)">13:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: it shouldn&#039;t be</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Wed Jan 31 2018 05:37:38 GMT-0800 (Pacific Standard Time)">13:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: (re data: URL)</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Wed Jan 31 2018 05:37:58 GMT-0800 (Pacific Standard Time)">13:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: data: URLs are only an opaque origin (cross-origin) when they instantiate a realm</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Wed Jan 31 2018 05:38:50 GMT-0800 (Pacific Standard Time)">13:38</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Okay, thanks</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Wed Jan 31 2018 05:40:54 GMT-0800 (Pacific Standard Time)">13:40</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">This is getting a little annoying... Every test I try to write just passes in Chrome :)</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Wed Jan 31 2018 05:41:36 GMT-0800 (Pacific Standard Time)">13:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: have you done zero-width/height SVG inside a Blob yet?</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Wed Jan 31 2018 05:41:48 GMT-0800 (Pacific Standard Time)">13:41</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">No</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Wed Jan 31 2018 05:42:06 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Although I&#039;m not sure Chrome would fail that</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Wed Jan 31 2018 05:43:29 GMT-0800 (Pacific Standard Time)">13:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: can you help out with <a href="https://github.com/w3c/web-platform-tests/pull/9194">https://github.com/w3c/web-platform-tests/pull/9194</a> btw?</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Wed Jan 31 2018 05:43:51 GMT-0800 (Pacific Standard Time)">13:43</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Yeah</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Wed Jan 31 2018 05:43:57 GMT-0800 (Pacific Standard Time)">13:43</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Not just now, though :)</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Wed Jan 31 2018 05:45:53 GMT-0800 (Pacific Standard Time)">13:45</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">annevk: Jeez, was I gone again? :X</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Wed Jan 31 2018 05:47:36 GMT-0800 (Pacific Standard Time)">13:47</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Changed some settings and hope Freenode is less flaky now...</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Wed Jan 31 2018 05:48:22 GMT-0800 (Pacific Standard Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: you mean new RS(impl) is tedious? I guess it&#039;s a little more work than the equivalent writer</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Wed Jan 31 2018 05:49:40 GMT-0800 (Pacific Standard Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: I think the main question is when you invoke write() can you ensure that writes to the outgoing buffer that the data channel uses or do you need to consume it somehow first before passing it on</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Wed Jan 31 2018 05:49:51 GMT-0800 (Pacific Standard Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: but again, best to ask in the issue thread from ricea et al</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Wed Jan 31 2018 05:50:30 GMT-0800 (Pacific Standard Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: it&#039;s a bit unfortunate the issue is getting sidetracked so much; seems everyone has to learn anew that it&#039;s about a single message (me included)</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Wed Jan 31 2018 05:57:02 GMT-0800 (Pacific Standard Time)">13:57</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">TabAtkins: I find it a bit frustrating that whenever we ask you to do something moderately complicated in your API design, such as keeping consistency with other multimaps, or using arrays instead of proxies, or accepting a pair-sequence, you try to push back and say this really is Web IDL&#039;s job to figure out for you. Yes, maybe in an ideal world Web IDL would do more, but we&#039;re not there yet, so in the meantime it</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Wed Jan 31 2018 05:57:02 GMT-0800 (Pacific Standard Time)">13:57</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">would be good if you were able to accept advice without saying it&#039;s not your problem.</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Wed Jan 31 2018 05:58:32 GMT-0800 (Pacific Standard Time)">13:58</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(1) Your multimaps already aren&#039;t consistent with each other, or with Maps. That&#039;s somewhat of a problem, and in the issue about it I&#039;ve been exploring the space a bit and figuring out what the consistent subset we actually need to work with is. Surprise, different things are sometimes different; trivial consistency is the hobgoblin, etc.</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Wed Jan 31 2018 05:59:29 GMT-0800 (Pacific Standard Time)">13:59</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: lgrahl: using writable stream for sending data is ideal; Fetch not doing that is really unfortunate stemming from some early design choices about the lifecycle of Request/Response objects. But I think Till from Mozilla is still interested in changing that if possible, even if just by adding writable stream sugar to save people the all-too-common pattern of creating an identity transform stream, piping to its</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Wed Jan 31 2018 05:59:29 GMT-0800 (Pacific Standard Time)">13:59</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">writable end, and sending the readable end to fetch</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Wed Jan 31 2018 06:00:20 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I thought there were also some concerns around being actually able to have the highest performance solution rather than something that has to pipe?</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Wed Jan 31 2018 06:00:47 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: yeah those are Till&#039;s concerns, writable streams are more easily performant because piping can hide all the implementation details</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Wed Jan 31 2018 06:00:56 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(2) &quot;Arrays instead of proxies&quot; has been a bugaboo for years; we just super disagree about some fundamental aspects here, and I&#039;m not willing to give up on it. &quot;Just use arrays&quot; means accepting a pretty major inconsistency with every other aspect of WebIDL-mediated APIs, and results in a noticeably worse/awkwarder authoring experience.  Finally, the &quot;use arrays, not proxies&quot; position that you and Anne present is</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Wed Jan 31 2018 06:00:56 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">*not* universal; see my frustration in the relevant WebIDL thread when I&#039;m trying to work around y&#039;all&#039;s issues and Boris is like &quot;lol, just use the proxy thing, that&#039;s why it&#039;s there, dunno what their problem is&quot;.</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Wed Jan 31 2018 06:01:11 GMT-0800 (Pacific Standard Time)">14:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: that&#039;s not what I was trying to say 😃</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Wed Jan 31 2018 06:01:29 GMT-0800 (Pacific Standard Time)">14:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I thought the problem was that implementations could not expose the actual underlying buffer to WS</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Wed Jan 31 2018 06:01:49 GMT-0800 (Pacific Standard Time)">14:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: but also, none of this has shipped, so maybe we should revisit</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Wed Jan 31 2018 06:02:12 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I think it can still fit with Request/Response if body is a callback</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Wed Jan 31 2018 06:02:13 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: Ah right about accurate desiredSize, yeah, that may not be perfectly possible, but it&#039;s already not possible with the pass-a-ReadableStream design</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Wed Jan 31 2018 06:02:30 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Sorry guys, I&#039;m getting disconnected all the time but I check the logs, so just ignore this is happening.</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Wed Jan 31 2018 06:02:30 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">annevk: Yeah, I think new RS is a bit tedious... also when it comes to terminology because both sides use readers now. pipeTo isn&#039;t used... all of this seems awkward to me.</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Wed Jan 31 2018 06:02:30 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">annevk: My understanding is that if I don&#039;t use BYOB mode, then I always hand out buffers I cannot reclaim (thus, they are implicitly consumed). So, if I create a non-byob reader for a data channel message, then the implementation hands out buffers that it cannot reclaim. On the other side, if I use a normal writer, I cannot reclaim buffers handed out by calls to .write. Correct me if I&#039;m wrong.</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Wed Jan 31 2018 06:02:31 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">annevk: Yes, people ask the same question over and over again in the issue... ;)</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Wed Jan 31 2018 06:02:41 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(3) Dunno what you&#039;re talking about with the pair-sequence thing. I&#039;m saying that pair sequences are currently very awkward to write *and* read in WebIDL, and it&#039;d be better to have it be a named concept. I then today offered to *write the WebIDL text for such a feature*.  The more map-likes that appear on the platform the more valuable this will be; spec authors will work around it (or get things subtly different,</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Wed Jan 31 2018 06:02:41 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">because it&#039;s awkward) otherwise.</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Wed Jan 31 2018 06:02:42 GMT-0800 (Pacific Standard Time)">14:02</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: no, I&#039;m also not talking about Content-Length</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Wed Jan 31 2018 06:03:26 GMT-0800 (Pacific Standard Time)">14:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: well that&#039;s the only way I can see WritableStreams exposing the buffer</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Wed Jan 31 2018 06:03:54 GMT-0800 (Pacific Standard Time)">14:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">TabAtkins: I&#039;ve given up long ago on convincing you, especially on these issues, but I&#039;m hopeful you&#039;ll notice this pattern in your behavior for the future.</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Wed Jan 31 2018 06:04:06 GMT-0800 (Pacific Standard Time)">14:04</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">And who knows, maybe the TAG will save us from these APIs</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Wed Jan 31 2018 06:04:17 GMT-0800 (Pacific Standard Time)">14:04</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">So seriously, pretending that I&#039;m pushing back or complaining &quot;whenever we ask you to do something moderately complicated&quot; is an incorrect and frankly insulting characterization of this; look at all the other complicated API surface I&#039;ve happily written and accepted elsewhere.</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Wed Jan 31 2018 06:07:16 GMT-0800 (Pacific Standard Time)">14:07</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Hmm</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Wed Jan 31 2018 06:07:47 GMT-0800 (Pacific Standard Time)">14:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I had this notion in my head that doing WS properly was too hard and UAs would have to pipe/consume anyway and couldn&#039;t get the developer-provided bytes/memory close enough to the metal</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Wed Jan 31 2018 06:08:18 GMT-0800 (Pacific Standard Time)">14:08</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">If I call createImageBitmap with video whose src is a cross-origin URL which redirects to a same-origin URL, is the result origin-clean?</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Wed Jan 31 2018 06:08:24 GMT-0800 (Pacific Standard Time)">14:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: but maybe the only issue is Request being too early and a callback being a little awkward</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Wed Jan 31 2018 06:08:39 GMT-0800 (Pacific Standard Time)">14:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: it should not be</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Wed Jan 31 2018 06:09:04 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: it&#039;s been a while but the latter is all I remember. You might be right. I&#039;d be interested to get Till and wanderview in a room :)</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Wed Jan 31 2018 06:09:12 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">room-slash-GitHub-thread</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Wed Jan 31 2018 06:09:13 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">I&#039;ll let you file another bug on Gecko, then :)</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Wed Jan 31 2018 06:09:54 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: hmm, maybe this is an enshrined side channel leak</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Wed Jan 31 2018 06:10:23 GMT-0800 (Pacific Standard Time)">14:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: it probably is as if you did this via &lt;iframe&gt; it&#039;d just work, unfortunately</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Wed Jan 31 2018 06:10:28 GMT-0800 (Pacific Standard Time)">14:10</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">I would really prefer if it&#039;s origin-unclean, because I have no idea how to do the other thing in WebKit :)</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Wed Jan 31 2018 06:11:01 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: it would be better, but if it&#039;s not consistently so I don&#039;t think it&#039;s better</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Wed Jan 31 2018 06:11:10 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: and I kinda doubt it&#039;s consistently so</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Wed Jan 31 2018 06:11:37 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">This might be a bug in Fetch too, not sure if I tried addressing it yet</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Wed Jan 31 2018 06:14:33 GMT-0800 (Pacific Standard Time)">14:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: annevk: I feel like I put all my reasons for wanting ReadableStream in the github issue before... if there is a new proposal to add some WritableStream approach for populating a body, then I&#039;d be happy to look at it... but an abstract &quot;replace ReadableStream with WritableStream&quot; doesn&#039;t make sense to me</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Wed Jan 31 2018 06:15:46 GMT-0800 (Pacific Standard Time)">14:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: I think the main problem I have with your argument is that Boris disagreeing with TC39 doesn&#039;t mean it&#039;s okay. If you convinced TC39 (as a whole), fine, but otherwise I&#039;m really not sure why we&#039;d revisit this</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Wed Jan 31 2018 06:15:48 GMT-0800 (Pacific Standard Time)">14:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: annevk: I still feel anything added here would end up being the equivalent of ReadableStream + an IdentityTransformStream in the implementation... and its better to let script choose the size of the buffer in the IdentityTransformStream</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Wed Jan 31 2018 06:17:27 GMT-0800 (Pacific Standard Time)">14:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: <a href="https://github.com/yutakahirano/fetch-with-streams/issues/30#issuecomment-95161858">https://github.com/yutakahirano/fetch-with-streams/issues/30#issuecomment-95161858</a> suggest it did have something to do with the actual sink being hard to get to</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Wed Jan 31 2018 06:17:36 GMT-0800 (Pacific Standard Time)">14:17</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">annevk: And as I said earlier (and linked you to, and said last year when I last visited this issue...) TC39 *is* okay with this, or at least was okay with it several years back. In the meantime, the primary argument against (&quot;proxies are slow&quot;) turns out to be irrelevant, as Boris explained, because all engines optimize integer catch-alls, due to there being several common APIs that use them.</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Wed Jan 31 2018 06:17:50 GMT-0800 (Pacific Standard Time)">14:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: does <a href="https://github.com/yutakahirano/fetch-with-streams/issues/30#issuecomment-95161858">https://github.com/yutakahirano/fetch-with-streams/issues/30#issuecomment-95161858</a> accurately summarize your view?</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Wed Jan 31 2018 06:18:03 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: I&#039;m wondering whether or not it translates to WebRTC data channels</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Wed Jan 31 2018 06:18:32 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">This is what keeps annoying the heck out of me - y&#039;all keep trying to shut it down with &quot;you can&#039;t do it, it&#039;s slow, TC39 won&#039;t allow it&quot;, and, uh, both of those are wrong. And I&#039;ve explained why they&#039;re wrong and documented it and gotten other Web Elders with relevant experience to agree.</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Wed Jan 31 2018 06:18:40 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">annevk, <a href="https://github.com/w3c/web-platform-tests/pull/9313">https://github.com/w3c/web-platform-tests/pull/9313</a> should be uncontroversial; <a href="https://github.com/w3c/web-platform-tests/pull/9314">https://github.com/w3c/web-platform-tests/pull/9314</a> is for the last thing I mentioned, but no hurry to review it for me</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Wed Jan 31 2018 06:18:50 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">TabAtkins: that linked thread *definitely* does not reflect &quot;TC39 is OK with this&quot;. At most, it contains Brendan saying &quot;we should keep working on this&quot;. TC39 as a whole detests new exotic objects.</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Wed Jan 31 2018 06:18:50 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: the issue is that Request is something that is disconnected from the data sink... if the WebRTC data channel thing does not use a Request then it doesn&#039;t have that problem IMO</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Wed Jan 31 2018 06:19:14 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Brendan, Mark, Maciej, Jonas...</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Wed Jan 31 2018 06:19:15 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It also predates ES6 being finalized and our modern understanding of exotic objects.</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Wed Jan 31 2018 06:19:29 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Only one of which is on TC39 these days</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Wed Jan 31 2018 06:19:32 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: I still prefer ReadableStream stylistically as it gives you better default back pressure... but I don&#039;t think thats a blocker</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Wed Jan 31 2018 06:20:14 GMT-0800 (Pacific Standard Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: I don&#039;t think that 2009 thread accurately reflects TC39&#039;s view on this</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Wed Jan 31 2018 06:20:28 GMT-0800 (Pacific Standard Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: in particular catchalls happened and array-likes never did</td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Wed Jan 31 2018 06:21:06 GMT-0800 (Pacific Standard Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: and their Map/Set didn&#039;t end up with indexed getters/setters either, even though they are ordered and could</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Wed Jan 31 2018 06:22:02 GMT-0800 (Pacific Standard Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: so I think that if you want to push this through, you have to do more due diligence; e.g., make a proposal to TC39, get it progressed</td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Wed Jan 31 2018 06:22:12 GMT-0800 (Pacific Standard Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">+1</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Wed Jan 31 2018 06:23:29 GMT-0800 (Pacific Standard Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">The more general solution that solves more problems ended up getting specced, that&#039;s not a huge surprise. ^_^ And with that, catch-alls *do* exist, and engines happen to much better-optimize catchalls limited to integer-key gets/sets, so the slower version of what I&#039;m asking for is already possible in userland, and the faster version is possible and already-existing in browserland.</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Wed Jan 31 2018 06:23:33 GMT-0800 (Pacific Standard Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: right, but if body were to take a callback that we invoked the moment we hook up the sink, that would work, right?</td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Wed Jan 31 2018 06:24:12 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">The problem with proxies isn&#039;t just that they&#039;re slow, it&#039;s that they&#039;re exotic.</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Wed Jan 31 2018 06:24:17 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(I dunno why one would assume that getting a map/set by index is relevant here. They&#039;re ordered, but as a side detail. Getting map/set values by index isn&#039;t a common feature in any major language.)</td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Wed Jan 31 2018 06:24:20 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TabAtkins: possible yes, but Proxy-style APIs are discouraged</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Wed Jan 31 2018 06:24:26 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Using normal arrays is the non-exotic pattern that we use for all TC39 APIs</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Wed Jan 31 2018 06:24:45 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: could we add it as an additional thing?  sure... should we remove the straightforward &quot;provide a ReadableStream body&quot; approach with that?  I don&#039;t think so</td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Wed Jan 31 2018 06:25:17 GMT-0800 (Pacific Standard Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: I think its very complicated and quite frankly does not reflect what we do in the browser at all</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Wed Jan 31 2018 06:25:30 GMT-0800 (Pacific Standard Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: I think that myself and Till believe that the current API will not be &quot;straightforward&quot; in the future when everyone&#039;s using transform streams and piping things around</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Wed Jan 31 2018 06:26:05 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(it&#039;s 1:30am here and we&#039;re continuing to relay the exact same points that were made last year without any further reflection or budging, so i&#039;m gonna go to bed)</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Wed Jan 31 2018 06:26:57 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: I guess I&#039;m curious to hear what Till&#039;s concern is... AFAIK he defered to someone else to integrate this into the network and DOM layers, so I&#039;m not sure exactly what aspect he is concerned about</td></tr>
  <tr class="msg" id="L237"><td class="ts-cell"><a class="ts" href="#L237" alt="Wed Jan 31 2018 06:27:41 GMT-0800 (Pacific Standard Time)">14:27</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: yeah definitely, I&#039;d love to hear your two&#039;s conversation. It might be more ergonomics and disconnected from the actual networking, not sure.</td></tr>
  <tr class="msg" id="L238"><td class="ts-cell"><a class="ts" href="#L238" alt="Wed Jan 31 2018 06:27:43 GMT-0800 (Pacific Standard Time)">14:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: I also heard out-of-band he&#039;d like to have WS here</td></tr>
  <tr class="msg" id="L239"><td class="ts-cell"><a class="ts" href="#L239" alt="Wed Jan 31 2018 06:28:20 GMT-0800 (Pacific Standard Time)">14:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Maybe we should just set up a call</td></tr>
  <tr class="msg" id="L240"><td class="ts-cell"><a class="ts" href="#L240" alt="Wed Jan 31 2018 06:28:31 GMT-0800 (Pacific Standard Time)">14:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: I&#039;d be interested to know if he has actually looked at what that would take to implement in our stack... I have I don&#039;t think it would be any different than ReadableStream+Transform... just less control for script</td></tr>
  <tr class="msg" id="L241"><td class="ts-cell"><a class="ts" href="#L241" alt="Wed Jan 31 2018 06:29:22 GMT-0800 (Pacific Standard Time)">14:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Why less control? You can always introduce your own intermediate buffers</td></tr>
  <tr class="msg" id="L242"><td class="ts-cell"><a class="ts" href="#L242" alt="Wed Jan 31 2018 06:29:39 GMT-0800 (Pacific Standard Time)">14:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: annevk: internally we use an nsIInputStream which is our native equivalent of a ReadableStream... for probably the last decade</td></tr>
  <tr class="msg" id="L243"><td class="ts-cell"><a class="ts" href="#L243" alt="Wed Jan 31 2018 06:30:04 GMT-0800 (Pacific Standard Time)">14:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: because you can&#039;t control the buffer size the browser inevitably has to introduce to convert from your WritableStream to its internal mechanism</td></tr>
  <tr class="msg" id="L244"><td class="ts-cell"><a class="ts" href="#L244" alt="Wed Jan 31 2018 06:30:48 GMT-0800 (Pacific Standard Time)">14:30</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">wanderview: if the browser uses 0, then you can control it</td></tr>
  <tr class="msg" id="L245"><td class="ts-cell"><a class="ts" href="#L245" alt="Wed Jan 31 2018 06:30:51 GMT-0800 (Pacific Standard Time)">14:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: the idea that content script is going to use a WritableStream to feed directly into the operating system buffer is just not realistic in a multi-process browser architecture, IMO</td></tr>
  <tr class="msg" id="L246"><td class="ts-cell"><a class="ts" href="#L246" alt="Wed Jan 31 2018 06:32:04 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">So that would be true for data channels too, I think, although lgrahl thinks otherwise (and probably knows)</td></tr>
  <tr class="msg" id="L247"><td class="ts-cell"><a class="ts" href="#L247" alt="Wed Jan 31 2018 06:32:24 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: Domenic: anyway, if we want a WritableStream as a second way to feed the Request.body, I&#039;m ok with that but not sure we would implement in firefox... I feel pretty strongly Request.body should be able to take a ReadableStream as we&#039;ve agreed in the past</td></tr>
  <tr class="msg" id="L248"><td class="ts-cell"><a class="ts" href="#L248" alt="Wed Jan 31 2018 06:32:48 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">:-/</td></tr>
  <tr class="msg" id="L249"><td class="ts-cell"><a class="ts" href="#L249" alt="Wed Jan 31 2018 06:32:49 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: webrtc is very different, implementation-wise</td></tr>
  <tr class="msg" id="L250"><td class="ts-cell"><a class="ts" href="#L250" alt="Wed Jan 31 2018 06:32:58 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I see</td></tr>
  <tr class="msg" id="L251"><td class="ts-cell"><a class="ts" href="#L251" alt="Wed Jan 31 2018 06:33:25 GMT-0800 (Pacific Standard Time)">14:33</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Domenic: annevk: how do you propose to handle the upload cloaning issue with a WritableStream body?</td></tr>
  <tr class="msg" id="L252"><td class="ts-cell"><a class="ts" href="#L252" alt="Wed Jan 31 2018 06:33:45 GMT-0800 (Pacific Standard Time)">14:33</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">as in, a POST request is redirected and has to provide the body a second time</td></tr>
  <tr class="msg" id="L253"><td class="ts-cell"><a class="ts" href="#L253" alt="Wed Jan 31 2018 06:36:03 GMT-0800 (Pacific Standard Time)">14:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: don&#039;t we reject for streams anyway?</td></tr>
  <tr class="msg" id="L254"><td class="ts-cell"><a class="ts" href="#L254" alt="Wed Jan 31 2018 06:36:25 GMT-0800 (Pacific Standard Time)">14:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: I thought opting into streams meant opting out of redirects, unless it was a 303</td></tr>
  <tr class="msg" id="L255"><td class="ts-cell"><a class="ts" href="#L255" alt="Wed Jan 31 2018 06:36:28 GMT-0800 (Pacific Standard Time)">14:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: well, we haven&#039;t even shipped streams yet... but yes, we don&#039;t support Request streams right now</td></tr>
  <tr class="msg" id="L256"><td class="ts-cell"><a class="ts" href="#L256" alt="Wed Jan 31 2018 06:36:42 GMT-0800 (Pacific Standard Time)">14:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: oh, you mean in the spec?  I wasn&#039;t aware of that restriction</td></tr>
  <tr class="msg" id="L257"><td class="ts-cell"><a class="ts" href="#L257" alt="Wed Jan 31 2018 06:36:50 GMT-0800 (Pacific Standard Time)">14:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: yes, per Fetch</td></tr>
  <tr class="msg" id="L258"><td class="ts-cell"><a class="ts" href="#L258" alt="Wed Jan 31 2018 06:37:08 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: otherwise you&#039;d have to buffer the entire thing, taking away all the memory optimizations</td></tr>
  <tr class="msg" id="L259"><td class="ts-cell"><a class="ts" href="#L259" alt="Wed Jan 31 2018 06:37:18 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It seems we actually could support it with the writable stream version, as you&#039;d just call the body function a second time</td></tr>
  <tr class="msg" id="L260"><td class="ts-cell"><a class="ts" href="#L260" alt="Wed Jan 31 2018 06:37:36 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: you just created a minor security hole</td></tr>
  <tr class="msg" id="L261"><td class="ts-cell"><a class="ts" href="#L261" alt="Wed Jan 31 2018 06:38:19 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">drrr</td></tr>
  <tr class="msg" id="L262"><td class="ts-cell"><a class="ts" href="#L262" alt="Wed Jan 31 2018 06:38:20 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">I don&#039;t know why we can ship ReadableStream body first before trying to eek that last 1% of optimizations out with a complicated WritableStream API</td></tr>
  <tr class="msg" id="L263"><td class="ts-cell"><a class="ts" href="#L263" alt="Wed Jan 31 2018 06:38:27 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">^can^can&#039;t</td></tr>
  <tr class="msg" id="L264"><td class="ts-cell"><a class="ts" href="#L264" alt="Wed Jan 31 2018 06:38:50 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I&#039;m not opposed to shipping RS FWIW</td></tr>
  <tr class="msg" id="L265"><td class="ts-cell"><a class="ts" href="#L265" alt="Wed Jan 31 2018 06:38:55 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(aside: the fact that arr[-0] and arr[&quot;-0&quot;] are different really freaks me out. I did not know that before today.)</td></tr>
  <tr class="msg" id="L266"><td class="ts-cell"><a class="ts" href="#L266" alt="Wed Jan 31 2018 06:39:00 GMT-0800 (Pacific Standard Time)">14:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I was just interested again in the rationale around WS</td></tr>
  <tr class="msg" id="L267"><td class="ts-cell"><a class="ts" href="#L267" alt="Wed Jan 31 2018 06:39:14 GMT-0800 (Pacific Standard Time)">14:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: same</td></tr>
  <tr class="msg" id="L268"><td class="ts-cell"><a class="ts" href="#L268" alt="Wed Jan 31 2018 06:39:44 GMT-0800 (Pacific Standard Time)">14:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: since yesterday or so I&#039;ve been worried about being unclear about -0/+0 throughout the platform</td></tr>
  <tr class="msg" id="L269"><td class="ts-cell"><a class="ts" href="#L269" alt="Wed Jan 31 2018 06:40:12 GMT-0800 (Pacific Standard Time)">14:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: it helps somewhat that unsigned in IDL means it&#039;s normalized, but still, there&#039;s a lot of signed things</td></tr>
  <tr class="msg" id="L270"><td class="ts-cell"><a class="ts" href="#L270" alt="Wed Jan 31 2018 06:40:15 GMT-0800 (Pacific Standard Time)">14:40</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">No need to worry about that... We most definitely are unclear about it everywhere :)</td></tr>
  <tr class="msg" id="L271"><td class="ts-cell"><a class="ts" href="#L271" alt="Wed Jan 31 2018 06:40:37 GMT-0800 (Pacific Standard Time)">14:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: so you&#039;re saying we&#039;re consistent? I do like consistency</td></tr>
  <tr class="msg" id="L272"><td class="ts-cell"><a class="ts" href="#L272" alt="Wed Jan 31 2018 06:41:03 GMT-0800 (Pacific Standard Time)">14:41</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">The signed integers shouldn&#039;t have negative zero at all, but who knows if that&#039;s actually written down</td></tr>
  <tr class="msg" id="L273"><td class="ts-cell"><a class="ts" href="#L273" alt="Wed Jan 31 2018 06:41:37 GMT-0800 (Pacific Standard Time)">14:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Part of the problem is that we haven&#039;t really agreed on what a number in a specification means</td></tr>
  <tr class="msg" id="L274"><td class="ts-cell"><a class="ts" href="#L274" alt="Wed Jan 31 2018 06:41:58 GMT-0800 (Pacific Standard Time)">14:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">But BigNum might solve that, so I&#039;m excited for BigNum</td></tr>
  <tr class="msg" id="L275"><td class="ts-cell"><a class="ts" href="#L275" alt="Wed Jan 31 2018 06:43:22 GMT-0800 (Pacific Standard Time)">14:43</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm so far the internet is coming out quite strong in favor of getting the answer right <a href="https://twitter.com/domenic/status/958711529070710785">https://twitter.com/domenic/status/958711529070710785</a></td></tr>
  <tr class="msg" id="L276"><td class="ts-cell"><a class="ts" href="#L276" alt="Wed Jan 31 2018 06:44:49 GMT-0800 (Pacific Standard Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">Btw. I don&#039;t get the argument of buffer size control. Isn&#039;t that what .desiredSize on WS is good for?</td></tr>
  <tr class="msg" id="L277"><td class="ts-cell"><a class="ts" href="#L277" alt="Wed Jan 31 2018 06:46:07 GMT-0800 (Pacific Standard Time)">14:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: can you set desiredSize on a WS you did not create?</td></tr>
  <tr class="msg" id="L278"><td class="ts-cell"><a class="ts" href="#L278" alt="Wed Jan 31 2018 06:46:50 GMT-0800 (Pacific Standard Time)">14:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: r+ for <a href="https://github.com/w3c/web-platform-tests/pull/9306">https://github.com/w3c/web-platform-tests/pull/9306</a>?</td></tr>
  <tr class="msg" id="L279"><td class="ts-cell"><a class="ts" href="#L279" alt="Wed Jan 31 2018 06:47:15 GMT-0800 (Pacific Standard Time)">14:47</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: No but in the proposed API, RTCDataChannel creates the WS for me and it knows how much buffer space there is. The user can still decide to ignore it.</td></tr>
  <tr class="msg" id="L280"><td class="ts-cell"><a class="ts" href="#L280" alt="Wed Jan 31 2018 06:48:45 GMT-0800 (Pacific Standard Time)">14:48</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: ok, but a user could control the buffer space if they created a Transform... if they wanted to size it exactly for their chunks, etc</td></tr>
  <tr class="msg" id="L281"><td class="ts-cell"><a class="ts" href="#L281" alt="Wed Jan 31 2018 06:49:01 GMT-0800 (Pacific Standard Time)">14:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: anyway, I don&#039;t have any opinions on webrtc API use of ReadableStream vs WritableStream</td></tr>
  <tr class="msg" id="L282"><td class="ts-cell"><a class="ts" href="#L282" alt="Wed Jan 31 2018 06:50:17 GMT-0800 (Pacific Standard Time)">14:50</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: I haven&#039;t really looked at transforms yet. You mean in case the user *requires* a specific chunk size for some transformation?</td></tr>
  <tr class="msg" id="L283"><td class="ts-cell"><a class="ts" href="#L283" alt="Wed Jan 31 2018 06:50:29 GMT-0800 (Pacific Standard Time)">14:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">other than I think default back pressure mechanism is nicer with ReadableStream and lots of examples in node.js with people getting back pressure wrong with push-style streams... but I won&#039;t fight that issue</td></tr>
  <tr class="msg" id="L284"><td class="ts-cell"><a class="ts" href="#L284" alt="Wed Jan 31 2018 06:51:42 GMT-0800 (Pacific Standard Time)">14:51</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: when I say a Transform I mean a buffer that exposes a WritableStream end to fill the buffer and a ReadableStream end to read from the buffer... so if an API only takes ReadableStream, but you want to use a WritableStream for some reason, you can use this thing to convert... it would just let you control the size of the buffering taking palce</td></tr>
  <tr class="msg" id="L285"><td class="ts-cell"><a class="ts" href="#L285" alt="Wed Jan 31 2018 06:53:25 GMT-0800 (Pacific Standard Time)">14:53</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: Alright, transforming from WS to RS.</td></tr>
  <tr class="msg" id="L286"><td class="ts-cell"><a class="ts" href="#L286" alt="Wed Jan 31 2018 06:54:21 GMT-0800 (Pacific Standard Time)">14:54</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: You guys are the experts but from the outside, it just looks really weird to have WS and then use RS for pretty much everything.</td></tr>
  <tr class="msg" id="L287"><td class="ts-cell"><a class="ts" href="#L287" alt="Wed Jan 31 2018 06:54:28 GMT-0800 (Pacific Standard Time)">14:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: I usually call it a &quot;pipe&quot;, but folks in streams spec like to call it an &quot;identity transform&quot;</td></tr>
  <tr class="msg" id="L288"><td class="ts-cell"><a class="ts" href="#L288" alt="Wed Jan 31 2018 06:56:47 GMT-0800 (Pacific Standard Time)">14:56</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: What annevk and I wanted to find out is whether there&#039;s a reason why we shouldn&#039;t go for WS for RTCDataChannel. To me, it originally looked like the way to go.</td></tr>
  <tr class="msg" id="L289"><td class="ts-cell"><a class="ts" href="#L289" alt="Wed Jan 31 2018 06:57:19 GMT-0800 (Pacific Standard Time)">14:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: I mean, the other reason to go with ReadableStream is you will get adoption faster since more browsers will ship ReadableStream before they ship WritableStream</td></tr>
  <tr class="msg" id="L290"><td class="ts-cell"><a class="ts" href="#L290" alt="Wed Jan 31 2018 06:58:28 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: but like I said, I&#039;m not really involved with webrtc, so I&#039;m not going to fight you all using WritableStream</td></tr>
  <tr class="msg" id="L291"><td class="ts-cell"><a class="ts" href="#L291" alt="Wed Jan 31 2018 06:58:45 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">maybe it will work great and it will be the use case used to encourage more WritableStream usage elsewhere</td></tr>
  <tr class="msg" id="L292"><td class="ts-cell"><a class="ts" href="#L292" alt="Wed Jan 31 2018 07:00:47 GMT-0800 (Pacific Standard Time)">15:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">wanderview: note that <a href="https://github.com/whatwg/encoding/pull/127">https://github.com/whatwg/encoding/pull/127</a> uses WS too</td></tr>
  <tr class="msg" id="L293"><td class="ts-cell"><a class="ts" href="#L293" alt="Wed Jan 31 2018 07:01:43 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">annevk: yea, I think transformation things like that make the most sense for WS... wfm</td></tr>
  <tr class="msg" id="L294"><td class="ts-cell"><a class="ts" href="#L294" alt="Wed Jan 31 2018 07:02:53 GMT-0800 (Pacific Standard Time)">15:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: Other than a little API clumsiness (.send(RS) just looks nicer than .createWritableStream()), I haven&#039;t seen anything that would be a big blocker to use WS in data channels. But to be honest, I haven&#039;t understood all of your points in the issue and stuff like easier backpressure support in RS because I&#039;m just not that deep into the streams spec.</td></tr>
  <tr class="msg" id="L295"><td class="ts-cell"><a class="ts" href="#L295" alt="Wed Jan 31 2018 07:04:26 GMT-0800 (Pacific Standard Time)">15:04</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: well, with a pull-style stream like ReadableStream you get automatic back pressure... if the consumer isn&#039;t ready for more data they just stop reading</td></tr>
  <tr class="msg" id="L296"><td class="ts-cell"><a class="ts" href="#L296" alt="Wed Jan 31 2018 07:05:28 GMT-0800 (Pacific Standard Time)">15:05</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: with a push-style stream like WritableStream the source has to understand the signal that says &quot;please stop sending data right now&quot; and back off... its not super hard to implement, but historically its something that people get wrong... and they end up queuing a bunch of data in temporaries and stuff</td></tr>
  <tr class="msg" id="L297"><td class="ts-cell"><a class="ts" href="#L297" alt="Wed Jan 31 2018 07:06:10 GMT-0800 (Pacific Standard Time)">15:06</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: Okay, I get that.</td></tr>
  <tr class="msg" id="L298"><td class="ts-cell"><a class="ts" href="#L298" alt="Wed Jan 31 2018 07:11:05 GMT-0800 (Pacific Standard Time)">15:11</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: I mean, it&#039;s a tradeoff, right? And I personally believe it&#039;s not too much to ask for the sink implementation to get this right to provide a (at least to me) more appealing way to write data to it. But still, you&#039;re the experts regarding streams, so if there are other concerns... let me know. I don&#039;t want to create an API that sucks in the end. :)</td></tr>
  <tr class="msg" id="L299"><td class="ts-cell"><a class="ts" href="#L299" alt="Wed Jan 31 2018 07:15:18 GMT-0800 (Pacific Standard Time)">15:15</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">lgrahl: using an API that takes ReadableStream allows the sink to get it write... exposing a WritableStream is asking the person pushing the data to get it right... AFAICT anyway</td></tr>
  <tr class="msg" id="L300"><td class="ts-cell"><a class="ts" href="#L300" alt="Wed Jan 31 2018 07:33:39 GMT-0800 (Pacific Standard Time)">15:33</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=lgrahl@irc>lgrahl</span>&gt;</td><td class="msg-cell">wanderview: I&#039;m not really sure what the user of a WS writer can get wrong. Granted, when using a WS the user cannot reclaim the buffer (at least not until we have BYOB writers), so this *is* a gotcha. But IIRC you already have a way to claim a buffer somehow, so this could maybe be used?</td></tr>
  <tr class="msg" id="L301"><td class="ts-cell"><a class="ts" href="#L301" alt="Wed Jan 31 2018 07:43:49 GMT-0800 (Pacific Standard Time)">15:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">lgrahl: looking at some examples it seems rather trivial to ignore backpressure</td></tr>
  <tr class="msg" id="L302"><td class="ts-cell"><a class="ts" href="#L302" alt="Wed Jan 31 2018 07:47:25 GMT-0800 (Pacific Standard Time)">15:47</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">of course ReadableStream is not immune either if you have to adapt a push source you don&#039;t control into a ReadableStream... but you are kind of out of luck there</td></tr>
  <tr class="msg" id="L303"><td class="ts-cell"><a class="ts" href="#L303" alt="Wed Jan 31 2018 09:43:43 GMT-0800 (Pacific Standard Time)">17:43</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">surma: FYI I&#039;ll work on the separate-section thing myself since it ties into clarifying some stuff that came up while chatting with lgrahl.</td></tr>
  <tr class="msg" id="L304"><td class="ts-cell"><a class="ts" href="#L304" alt="Wed Jan 31 2018 09:44:03 GMT-0800 (Pacific Standard Time)">17:44</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Would be happy to get your review though :)</td></tr>
  <tr class="msg" id="L305"><td class="ts-cell"><a class="ts" href="#L305" alt="Wed Jan 31 2018 09:49:55 GMT-0800 (Pacific Standard Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=surma@irc>surma</span>&gt;</td><td class="msg-cell">Domenic: sg! Happy to review :D</td></tr>
  <tr class="msg" id="L306"><td class="ts-cell"><a class="ts" href="#L306" alt="Wed Jan 31 2018 10:26:43 GMT-0800 (Pacific Standard Time)">18:26</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">blah, trying to figure out what cross-origin requests to blob URLs browsers actually allow... firefox seems to allow nothing (at least nothing I&#039;ve tried so far), which seems reasonable. But chrome allows some no-cors fetches as well as some navigate fetches (but not all in either case)...</td></tr>
  <tr class="msg" id="L307"><td class="ts-cell"><a class="ts" href="#L307" alt="Wed Jan 31 2018 10:27:35 GMT-0800 (Pacific Standard Time)">18:27</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">(the spec seems to allow all no-cors and navigate fetches though, which definitely doesn&#039;t match implementations)</td></tr>
  <tr class="msg" id="L308"><td class="ts-cell"><a class="ts" href="#L308" alt="Wed Jan 31 2018 10:29:15 GMT-0800 (Pacific Standard Time)">18:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Mek: I don&#039;t think I carefully considered blob loading and just grouped them with other things</td></tr>
  <tr class="msg" id="L309"><td class="ts-cell"><a class="ts" href="#L309" alt="Wed Jan 31 2018 10:30:07 GMT-0800 (Pacific Standard Time)">18:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Mek: also yeah, whenever you look into something ill-defined and go, &quot;how  does this actually work?&quot;, it&#039;s always bad news</td></tr>
  <tr class="msg" id="L310"><td class="ts-cell"><a class="ts" href="#L310" alt="Wed Jan 31 2018 10:31:16 GMT-0800 (Pacific Standard Time)">18:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">When there&#039;s enough vagueness in a standard to allow for observable differences, there will be plenty of those</td></tr>
  <tr class="msg" id="L311"><td class="ts-cell"><a class="ts" href="#L311" alt="Wed Jan 31 2018 10:31:26 GMT-0800 (Pacific Standard Time)">18:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">When the standard is solid, but there are no tests, same deal</td></tr>
  <tr class="msg" id="L312"><td class="ts-cell"><a class="ts" href="#L312" alt="Wed Jan 31 2018 10:36:20 GMT-0800 (Pacific Standard Time)">18:36</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">yeah... that definitely matches my experience with these things...</td></tr>
  <tr class="msg" id="L313"><td class="ts-cell"><a class="ts" href="#L313" alt="Wed Jan 31 2018 10:47:07 GMT-0800 (Pacific Standard Time)">18:47</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">actually writing a test to determine of a no-opener <a href="http://window.open">window.open</a> succeeded or not is kind of annoying...</td></tr>
  <tr class="msg" id="L314"><td class="ts-cell"><a class="ts" href="#L314" alt="Wed Jan 31 2018 10:59:19 GMT-0800 (Pacific Standard Time)">18:59</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Mek: BroadcastChannel() to a cross-origin iframe that forwards to its parent maybe?</td></tr>
  <tr class="msg" id="L315"><td class="ts-cell"><a class="ts" href="#L315" alt="Wed Jan 31 2018 11:07:56 GMT-0800 (Pacific Standard Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">yeah, that&#039;s what I&#039;m thinking too</td></tr>
  <tr class="msg" id="L316"><td class="ts-cell"><a class="ts" href="#L316" alt="Wed Jan 31 2018 11:08:49 GMT-0800 (Pacific Standard Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</td><td class="msg-cell">Mek: won&#039;t work in webkit, but I guess neither would SharedWorker</td></tr>
  <tr class="msg" id="L317"><td class="ts-cell"><a class="ts" href="#L317" alt="Wed Jan 31 2018 12:36:26 GMT-0800 (Pacific Standard Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">whaat, is Garrett Smith back</td></tr>
  <tr class="msg" id="L318"><td class="ts-cell"><a class="ts" href="#L318" alt="Wed Jan 31 2018 12:38:59 GMT-0800 (Pacific Standard Time)">20:38</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">is it possible to block a github user from commenting on  issues?</td></tr>
  <tr class="msg" id="L319"><td class="ts-cell"><a class="ts" href="#L319" alt="Wed Jan 31 2018 12:46:39 GMT-0800 (Pacific Standard Time)">20:46</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</td><td class="msg-cell">smaug____: Yes, if you&#039;re an org admin: <a href="https://help.github.com/articles/blocking-a-user-from-your-organization/">https://help.github.com/articles/blocking-a-user-from-your-organization/</a></td></tr>
  <tr class="msg" id="L320"><td class="ts-cell"><a class="ts" href="#L320" alt="Wed Jan 31 2018 12:47:13 GMT-0800 (Pacific Standard Time)">20:47</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">aha</td></tr>
  <tr class="msg" id="L321"><td class="ts-cell"><a class="ts" href="#L321" alt="Wed Jan 31 2018 12:47:27 GMT-0800 (Pacific Standard Time)">20:47</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</td><td class="msg-cell">smaug____: There&#039;s also the milder <a href="https://help.github.com/articles/locking-conversations/">https://help.github.com/articles/locking-conversations/</a></td></tr>
  <tr class="msg" id="L322"><td class="ts-cell"><a class="ts" href="#L322" alt="Wed Jan 31 2018 12:48:25 GMT-0800 (Pacific Standard Time)">20:48</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell"><a href="https://github.com/w3c/webcomponents/issues/713#issuecomment-362062221">https://github.com/w3c/webcomponents/issues/713#issuecomment-362062221</a> is something requiring blocking, I think</td></tr>
  <tr class="msg" id="L323"><td class="ts-cell"><a class="ts" href="#L323" alt="Wed Jan 31 2018 12:48:31 GMT-0800 (Pacific Standard Time)">20:48</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and hopefully such comment can be removed</td></tr>
  <tr class="msg" id="L324"><td class="ts-cell"><a class="ts" href="#L324" alt="Wed Jan 31 2018 12:49:47 GMT-0800 (Pacific Standard Time)">20:49</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">MikeSmith: ^</td></tr>
  <tr class="msg" id="L325"><td class="ts-cell"><a class="ts" href="#L325" alt="Wed Jan 31 2018 13:40:34 GMT-0800 (Pacific Standard Time)">21:40</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">does window.onload firing guarantee that any iframes in that window have also finished loading?</td></tr>
  <tr class="msg" id="L326"><td class="ts-cell"><a class="ts" href="#L326" alt="Wed Jan 31 2018 13:41:01 GMT-0800 (Pacific Standard Time)">21:41</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">(and finished executing sync javascript that sets document.domain)</td></tr>
  <tr class="msg" id="L327"><td class="ts-cell"><a class="ts" href="#L327" alt="Wed Jan 31 2018 13:44:42 GMT-0800 (Pacific Standard Time)">21:44</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Mek: yes</td></tr>
  <tr class="msg" id="L328"><td class="ts-cell"><a class="ts" href="#L328" alt="Wed Jan 31 2018 13:46:13 GMT-0800 (Pacific Standard Time)">21:46</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Mek: see a bit below <a href="https://html.spec.whatwg.org/#iframe-load-event-steps">https://html.spec.whatwg.org/#iframe-load-event-steps</a></td></tr>
  <tr class="msg" id="L329"><td class="ts-cell"><a class="ts" href="#L329" alt="Wed Jan 31 2018 13:46:27 GMT-0800 (Pacific Standard Time)">21:46</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Mek: the paragraph beginning &quot;When the iframe&#039;s browsing context&#039;s active document is not ready for post-load tasks&quot;</td></tr>
  <tr class="msg" id="L330"><td class="ts-cell"><a class="ts" href="#L330" alt="Wed Jan 31 2018 13:47:21 GMT-0800 (Pacific Standard Time)">21:47</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">gsnedders: I think that&#039;s about the iframes load event itself, not the load event of the window containing the document containing the iframe, right?</td></tr>
  <tr class="msg" id="L331"><td class="ts-cell"><a class="ts" href="#L331" alt="Wed Jan 31 2018 13:48:21 GMT-0800 (Pacific Standard Time)">21:48</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">although it isn&#039;t clear if &quot;the iframe&#039;s browsing context&quot; is the browsing context inside the iframe or the browsing context the iframe lives in...</td></tr>
  <tr class="msg" id="L332"><td class="ts-cell"><a class="ts" href="#L332" alt="Wed Jan 31 2018 13:49:20 GMT-0800 (Pacific Standard Time)">21:49</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Mek: the end of the sentence</td></tr>
  <tr class="msg" id="L333"><td class="ts-cell"><a class="ts" href="#L333" alt="Wed Jan 31 2018 13:49:48 GMT-0800 (Pacific Standard Time)">21:49</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">oh wait no you&#039;re right</td></tr>
  <tr class="msg" id="L334"><td class="ts-cell"><a class="ts" href="#L334" alt="Wed Jan 31 2018 13:50:17 GMT-0800 (Pacific Standard Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">the spec would be clearer if it actually refered to &quot;the iframe&#039;s nested browsing context&quot;, rather than being vague about which exact browsing context it is talking about...</td></tr>
  <tr class="msg" id="L335"><td class="ts-cell"><a class="ts" href="#L335" alt="Wed Jan 31 2018 13:50:48 GMT-0800 (Pacific Standard Time)">21:50</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">but yeah, an iframe no delaying the load event of its parent document would explain some (very infrequent) flakiness I&#039;m seeing in some tests in chrome</td></tr>
  <tr class="msg" id="L336"><td class="ts-cell"><a class="ts" href="#L336" alt="Wed Jan 31 2018 13:51:28 GMT-0800 (Pacific Standard Time)">21:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">it definitely /should/ AFAIK</td></tr>
  <tr class="msg" id="L337"><td class="ts-cell"><a class="ts" href="#L337" alt="Wed Jan 31 2018 13:51:32 GMT-0800 (Pacific Standard Time)">21:51</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">per what browsers do</td></tr>
  <tr class="msg" id="L338"><td class="ts-cell"><a class="ts" href="#L338" alt="Wed Jan 31 2018 13:54:29 GMT-0800 (Pacific Standard Time)">21:54</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Mek: like this is exactly what the warning where I linked is about</td></tr>
  <tr class="msg" id="L339"><td class="ts-cell"><a class="ts" href="#L339" alt="Wed Jan 31 2018 13:54:35 GMT-0800 (Pacific Standard Time)">21:54</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">wait no</td></tr>
  <tr class="msg" id="L340"><td class="ts-cell"><a class="ts" href="#L340" alt="Wed Jan 31 2018 13:54:36 GMT-0800 (Pacific Standard Time)">21:54</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">kjdfkdfgkhfdg</td></tr>
  <tr class="msg" id="L341"><td class="ts-cell"><a class="ts" href="#L341" alt="Wed Jan 31 2018 13:54:51 GMT-0800 (Pacific Standard Time)">21:54</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">can someone dig me out of this hole?</td></tr>
  <tr class="msg" id="L342"><td class="ts-cell"><a class="ts" href="#L342" alt="Wed Jan 31 2018 13:56:52 GMT-0800 (Pacific Standard Time)">21:56</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Mek: I think in the text I linked to by &quot;the iframe must delay the load event of its document&quot; means &quot;the owner document of the iframe&quot; rather than the one in the iframe?</td></tr>
  <tr class="msg" id="L343"><td class="ts-cell"><a class="ts" href="#L343" alt="Wed Jan 31 2018 13:57:16 GMT-0800 (Pacific Standard Time)">21:57</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">I&#039;m not sure...</td></tr>
  <tr class="msg" id="L344"><td class="ts-cell"><a class="ts" href="#L344" alt="Wed Jan 31 2018 14:00:06 GMT-0800 (Pacific Standard Time)">22:00</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I am pretty sure that&#039;s what it means, but wow, that is unclear.</td></tr>
  <tr class="msg" id="L345"><td class="ts-cell"><a class="ts" href="#L345" alt="Wed Jan 31 2018 14:00:16 GMT-0800 (Pacific Standard Time)">22:00</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Even just &quot;its node document&quot; would help me.</td></tr>
  <tr class="msg" id="L346"><td class="ts-cell"><a class="ts" href="#L346" alt="Wed Jan 31 2018 14:02:09 GMT-0800 (Pacific Standard Time)">22:02</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Domenic: see I went from thinking that was what it meant to being unsure to thinking that was what it meant *and I know what the behaviour should be*.</td></tr>
  <tr class="msg" id="L347"><td class="ts-cell"><a class="ts" href="#L347" alt="Wed Jan 31 2018 14:02:20 GMT-0800 (Pacific Standard Time)">22:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">yeah, that text could definitely use some clarification...</td></tr>
  <tr class="msg" id="L348"><td class="ts-cell"><a class="ts" href="#L348" alt="Wed Jan 31 2018 14:02:28 GMT-0800 (Pacific Standard Time)">22:02</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">and if someone who knows what the correct behaviour per-spec is can&#039;t figure out what the spec says…</td></tr>
  <tr class="msg" id="L349"><td class="ts-cell"><a class="ts" href="#L349" alt="Wed Jan 31 2018 14:03:33 GMT-0800 (Pacific Standard Time)">22:03</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">it does seem like generally chrome does indeed delay the outer onload till the iframe is loaded. But I&#039;m definitely getting (rare) flaky test failures where it seems like outer code waiting for onload runs before the inner iframe has had a chance to set document.domain. But maybe that&#039;s just a bug in chrome.</td></tr>
  <tr class="msg" id="L350"><td class="ts-cell"><a class="ts" href="#L350" alt="Wed Jan 31 2018 14:04:40 GMT-0800 (Pacific Standard Time)">22:04</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Mek: the web definitely relies on it</td></tr>
  <tr class="msg" id="L351"><td class="ts-cell"><a class="ts" href="#L351" alt="Wed Jan 31 2018 14:07:52 GMT-0800 (Pacific Standard Time)">22:07</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Filed <a href="https://github.com/whatwg/html/issues/3436">https://github.com/whatwg/html/issues/3436</a> for those who want to follow along</td></tr>
  <tr class="msg" id="L352"><td class="ts-cell"><a class="ts" href="#L352" alt="Wed Jan 31 2018 14:09:56 GMT-0800 (Pacific Standard Time)">22:09</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">thanks</td></tr>
  <tr class="msg" id="L353"><td class="ts-cell"><a class="ts" href="#L353" alt="Wed Jan 31 2018 14:33:11 GMT-0800 (Pacific Standard Time)">22:33</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">smaug____: thanks for the heads-up</td></tr>
  <tr class="msg" id="L354"><td class="ts-cell"><a class="ts" href="#L354" alt="Wed Jan 31 2018 15:31:22 GMT-0800 (Pacific Standard Time)">23:31</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Domenic: omg, where did you get your twitter header from?</td></tr>
  <tr class="msg" id="L355"><td class="ts-cell"><a class="ts" href="#L355" alt="Wed Jan 31 2018 15:31:55 GMT-0800 (Pacific Standard Time)">23:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm some Marvel comic... which one was it...</td></tr>
  <tr class="msg" id="L356"><td class="ts-cell"><a class="ts" href="#L356" alt="Wed Jan 31 2018 15:33:12 GMT-0800 (Pacific Standard Time)">23:33</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I want to say Ant-Man?</td></tr>
  <tr class="msg" id="L357"><td class="ts-cell"><a class="ts" href="#L357" alt="Wed Jan 31 2018 15:35:30 GMT-0800 (Pacific Standard Time)">23:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah here we go <a href="http://readcomiconline.to/Comic/The-Astonishing-Ant-Man/Issue-5?id=34226#9">http://readcomiconline.to/Comic/The-Astonishing-Ant-Man/Issue-5?id=34226#9</a></td></tr>
  <tr class="msg" id="L358"><td class="ts-cell"><a class="ts" href="#L358" alt="Wed Jan 31 2018 15:43:01 GMT-0800 (Pacific Standard Time)">23:43</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Ahahaha, two panels later is gold too. So good.</td></tr>
</tbody></table>
</div></div></div></body>
