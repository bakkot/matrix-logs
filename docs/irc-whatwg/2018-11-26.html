<!doctype html>
<head>
  <title>#whatwg on 2018-11-26</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2018-11-26<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2018-11-25" class="nav-link"><span>prev</span></a>
<a href="2018-11-27" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sun Nov 25 2018 17:07:57 GMT-0800 (Pacific Standard Time)">01:07</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">agio: <a href="https://tools.ietf.org/html/rfc2046#section-4.5">https://tools.ietf.org/html/rfc2046#section-4.5</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sun Nov 25 2018 17:08:12 GMT-0800 (Pacific Standard Time)">01:08</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">&gt; The &quot;application&quot; media type is to be used for discrete data which do not fit in any of the other categories, and particularly for data to be processed by some type of application program. This is information which must be processed by an application before it is viewable or usable by a user.</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sun Nov 25 2018 17:08:37 GMT-0800 (Pacific Standard Time)">01:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=agio@irc>agio</span>&gt;</td><td class="msg-cell">thanks, I found that too</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Nov 26 2018 05:26:19 GMT-0800 (Pacific Standard Time)">13:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">gsnedders: re <a href="https://twitter.com/gsnedders/status/1067042972594855936">https://twitter.com/gsnedders/status/1067042972594855936</a> isn&#039;t Map preferable since you cannot get confused by other properties existing, e.g., someone doing __proto__ or some such</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Nov 26 2018 05:30:28 GMT-0800 (Pacific Standard Time)">13:30</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">annevk: __proto__&#039;s setter is on Object.prototype nowadays, no? So given a null [[Prototype]] there should be no magic?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Nov 26 2018 05:30:59 GMT-0800 (Pacific Standard Time)">13:30</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Like, I&#039;m pretty sure __proto__ isn&#039;t special-cased in [[Set]] nowadays</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Nov 26 2018 08:06:34 GMT-0800 (Pacific Standard Time)">16:06</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: so anywhere else you argue for mostly explicit management of things, and we also have construction and destruction of realms mostly defined, but agents is too far and needs to be circular? (In a way I&#039;m not at all convinced actually works. In fact I&#039;m pretty certain it doesn&#039;t.)</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Nov 26 2018 08:07:18 GMT-0800 (Pacific Standard Time)">16:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I&#039;d rather have the most basic building blocks rather explicitly defined. If we do our job well there also wouldn&#039;t be too much management of them throughout the standards...</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Nov 26 2018 08:07:28 GMT-0800 (Pacific Standard Time)">16:07</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: You&#039;re right in this case, and I&#039;m writing up why. But in general I much prefer simple definitions based on the properties of an object, over manually adding and removing things to a collection</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Nov 26 2018 08:08:08 GMT-0800 (Pacific Standard Time)">16:08</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Layered != circular</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Mon Nov 26 2018 08:08:21 GMT-0800 (Pacific Standard Time)">16:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">But this isn&#039;t properly layered</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Mon Nov 26 2018 08:08:41 GMT-0800 (Pacific Standard Time)">16:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Realms have origins, browsing contexts don&#039;t</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Mon Nov 26 2018 08:08:50 GMT-0800 (Pacific Standard Time)">16:08</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It has bugs, and ones that are unfixable (as I&#039;m writing up). But fundamentally there&#039;s no difference between layering agents on top of URSOBCs versus layering URSOBCs on top of agents.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Mon Nov 26 2018 08:09:32 GMT-0800 (Pacific Standard Time)">16:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">URSOBC was always meant to be what similar-origin window agent actually is</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Mon Nov 26 2018 08:09:41 GMT-0800 (Pacific Standard Time)">16:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Browsing contexts have active documents which have origins. Having to do bc.activeDoc.origin instead of realm.{activeDoc|singleGlobal}.origin is not any fundamentally worse</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Mon Nov 26 2018 08:10:20 GMT-0800 (Pacific Standard Time)">16:10</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I don&#039;t really have any context for that historical claim so I&#039;m not sure how to engage with it.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Mon Nov 26 2018 08:10:57 GMT-0800 (Pacific Standard Time)">16:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I mean to say that this was always a bit of a hack, an approximation</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Mon Nov 26 2018 08:12:31 GMT-0800 (Pacific Standard Time)">16:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Implementations always had collections of documents instead (e.g., doc group in Gecko), and browsing contexts were managed separately (e.g., tab group in Gecko)</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Mon Nov 26 2018 08:13:15 GMT-0800 (Pacific Standard Time)">16:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">This might be a bit different in user agents that don&#039;t have multiple documents per browsing context though (e.g., Chrome does a lot with just _frame)</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Mon Nov 26 2018 08:16:07 GMT-0800 (Pacific Standard Time)">16:16</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah, thus my latest (just now) ask for an overview.</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Mon Nov 26 2018 08:18:23 GMT-0800 (Pacific Standard Time)">16:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: so I tried to sketch it out in OP; a BC group holds a map for agent clusters, when you navigate around you pick from that map and construct/deconstruct agents and realms in it</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Mon Nov 26 2018 08:18:54 GMT-0800 (Pacific Standard Time)">16:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: and it also holds a set of browsing context trees that belong to the group</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Mon Nov 26 2018 08:20:01 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: what is the key in the map?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Mon Nov 26 2018 08:20:02 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: the latter is mostly needed for targeting a browsing context via a name and to know which map to use</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Mon Nov 26 2018 08:20:32 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: for agent cluster it&#039;s site, but with the Spectre headers it could be (&quot;Spectre, origin)</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Mon Nov 26 2018 08:20:38 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">sorry, &quot;Spectre&quot; (as a bit)</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Mon Nov 26 2018 08:20:55 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Do we have a definition for &quot;site&quot;? I thought we just had a yes/no predicate</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Mon Nov 26 2018 08:21:41 GMT-0800 (Pacific Standard Time)">16:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: scheme + domain&#039;s registrable domain (<a href="https://url.spec.whatwg.org/#host-registrable-domain">https://url.spec.whatwg.org/#host-registrable-domain</a>)</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Mon Nov 26 2018 08:21:53 GMT-0800 (Pacific Standard Time)">16:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Got it</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Mon Nov 26 2018 08:22:07 GMT-0800 (Pacific Standard Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">OK so that gives you an agent cluster... let&#039;s se...</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Mon Nov 26 2018 08:22:17 GMT-0800 (Pacific Standard Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: we could have a separate map for shared/service workers I think, those could always be origin-bound agent clusters</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Mon Nov 26 2018 08:22:31 GMT-0800 (Pacific Standard Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: as they don&#039;t have d.domain</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Mon Nov 26 2018 08:23:01 GMT-0800 (Pacific Standard Time)">16:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Are the values of the maps agents or agent clusters?</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Mon Nov 26 2018 08:23:17 GMT-0800 (Pacific Standard Time)">16:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Remember e.g. dedicated worker agents are inside the same agent cluster as their parent window</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Mon Nov 26 2018 08:23:27 GMT-0800 (Pacific Standard Time)">16:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: need to be agent clusters I think for that reason</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Mon Nov 26 2018 08:23:39 GMT-0800 (Pacific Standard Time)">16:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh you said &quot;shared/service&quot;</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Mon Nov 26 2018 08:24:00 GMT-0800 (Pacific Standard Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">We&#039;d need a bunch of convenience members around this to manage it all easily</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Mon Nov 26 2018 08:24:10 GMT-0800 (Pacific Standard Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">How do you know when to create a new agent, in the window case?</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Mon Nov 26 2018 08:24:12 GMT-0800 (Pacific Standard Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And have something like a similar-origin window agent cluster perhaps</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Mon Nov 26 2018 08:24:44 GMT-0800 (Pacific Standard Time)">16:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I guess top-level versus not</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Mon Nov 26 2018 08:25:28 GMT-0800 (Pacific Standard Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: if the map returns nothing for your cluster, you need to create a cluster, if there&#039;s a cluster, there&#039;s an agent you can use most likely (unless you&#039;re the first, but then it would be created as part of creating a similar-origin window agent cluster I think)</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Mon Nov 26 2018 08:25:58 GMT-0800 (Pacific Standard Time)">16:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">&quot; if there&#039;s a cluster, there&#039;s an agent you can use most likely&quot; seems wrong for new top-level windows?</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Mon Nov 26 2018 08:26:21 GMT-0800 (Pacific Standard Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: a new top-level is a new browsing context group, which means the map is empty</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Mon Nov 26 2018 08:26:50 GMT-0800 (Pacific Standard Time)">16:26</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh there&#039;s a whole new level of hierarchy, I forgot, I thought the map was top-level...</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Mon Nov 26 2018 08:27:01 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: e.g., noopener/noreferrer means new bcg</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Mon Nov 26 2018 08:27:10 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Is there a single top-level BC per BC group?</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Mon Nov 26 2018 08:27:17 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Mon Nov 26 2018 08:27:24 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">OK, that wasn&#039;t clear from the OP</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Mon Nov 26 2018 08:27:29 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">and zero or more auxiliary</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Mon Nov 26 2018 08:27:34 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">though the single top-level could go away</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Mon Nov 26 2018 08:28:46 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">anyway, glad we arrived here today 😃</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Mon Nov 26 2018 08:28:52 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yep, thanks for walking me through it...</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Mon Nov 26 2018 08:29:13 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I&#039;ll try to clarify the design a bit more tomorrow and work out the exact setup we need for this</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Mon Nov 26 2018 08:29:34 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I waited a bit with that to see if there were any immediate concerns</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Mon Nov 26 2018 08:30:44 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Yeah, sorry it went a little sour, it&#039;s sometimes hard to pinpoint how to unstuck a conversation</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Mon Nov 26 2018 08:31:28 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I guess I am more worried about the BroadcastChannel thing now too</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Mon Nov 26 2018 08:31:36 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I wonder if we can get any Chrome multiprocess folks to comment</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Mon Nov 26 2018 08:32:20 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: there&#039;s still some problems with MessageChannel reportedly not working for SAB btw, due to being able to post it across threads, but not claim it, effectively leaking the SAB forever</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Mon Nov 26 2018 08:32:50 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I mean that&#039;s true for anything in a MessageChannel, right?</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Mon Nov 26 2018 08:32:54 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: at least in the sense that nobody wanted to implement that for MessageChannel, but nobody raised the concern on whatwg/html either</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Mon Nov 26 2018 08:34:39 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: so I agree, but <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1360190#c9">https://bugzilla.mozilla.org/show_bug.cgi?id=1360190#c9</a></td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Mon Nov 26 2018 08:34:47 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I&#039;ve asked repeatedly for that to be raised in public, but no luck</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Mon Nov 26 2018 08:34:58 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">&quot;in public&quot; -&gt; whatwg/html</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Mon Nov 26 2018 08:35:46 GMT-0800 (Pacific Standard Time)">16:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">:-/</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Mon Nov 26 2018 08:35:57 GMT-0800 (Pacific Standard Time)">16:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: so yeah, BroadcastChannel is the only messaging thing that goes outside a browsing context group, but storage et al do too...</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Mon Nov 26 2018 08:36:50 GMT-0800 (Pacific Standard Time)">16:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Storage is more static though</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Mon Nov 26 2018 08:36:54 GMT-0800 (Pacific Standard Time)">16:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Seems totally separable</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Mon Nov 26 2018 08:37:02 GMT-0800 (Pacific Standard Time)">16:37</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Doesn&#039;t impact process creation choices</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Mon Nov 26 2018 08:37:44 GMT-0800 (Pacific Standard Time)">16:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">But cross-BCG BroadcastChannel would simply not support SAB which seems fine</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Mon Nov 26 2018 08:38:04 GMT-0800 (Pacific Standard Time)">16:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And even intra-BCG it wouldn&#039;t always work due to different clusters existing</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Mon Nov 26 2018 08:38:54 GMT-0800 (Pacific Standard Time)">16:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(It&#039;s actually an interesting question where shared/service workers get their agent clusters. They should probably not use a BCG, but some kind of global map.)</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Mon Nov 26 2018 08:39:22 GMT-0800 (Pacific Standard Time)">16:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(Which has some implications for side channels as folks discovered, e.g., seeing how many shared workers can still be allocated.)</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Mon Nov 26 2018 14:19:56 GMT-0800 (Pacific Standard Time)">22:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: were you planning to check out <a href="https://github.com/whatwg/html/pull/4115">https://github.com/whatwg/html/pull/4115</a> ? Seems like the kind of work we should encourage :)</td></tr>
</tbody></table>
</div></div></div></body>
