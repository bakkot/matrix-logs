<!doctype html>
<head>
  <title>#whatwg on 2015-11-27</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2015-11-27<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2015-11-26" class="nav-link"><span>prev</span></a>
<a href="2015-11-28" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Fri Nov 27 2015 05:14:27 GMT-0800 (Pacific Standard Time)">13:14</a></td><td class="nick-cell"><span class="nick nick-14" title=smaug____@irc>smaug____</span></td><td class="msg-cell">tries to understand <a href="https://github.com/whatwg/dom/pull/121">https://github.com/whatwg/dom/pull/121</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Fri Nov 27 2015 05:15:35 GMT-0800 (Pacific Standard Time)">13:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">is that just the case when both params point to the same node?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Fri Nov 27 2015 05:16:48 GMT-0800 (Pacific Standard Time)">13:16</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">I think so</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Fri Nov 27 2015 05:32:27 GMT-0800 (Pacific Standard Time)">13:32</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: ping</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Fri Nov 27 2015 05:32:38 GMT-0800 (Pacific Standard Time)">13:32</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Pong.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Fri Nov 27 2015 05:32:48 GMT-0800 (Pacific Standard Time)">13:32</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: do you have testcase for 2nd comment in <a href="https://github.com/whatwg/dom/pull/121">https://github.com/whatwg/dom/pull/121</a></td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Fri Nov 27 2015 05:32:53 GMT-0800 (Pacific Standard Time)">13:32</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">trying to understand what it is about</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Fri Nov 27 2015 05:33:15 GMT-0800 (Pacific Standard Time)">13:33</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: There are already in the file I changed in the PR I linked.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri Nov 27 2015 05:33:30 GMT-0800 (Pacific Standard Time)">13:33</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Which case in particular would you like to see?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri Nov 27 2015 05:33:49 GMT-0800 (Pacific Standard Time)">13:33</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">like which mutationrecords you see in gecko</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri Nov 27 2015 05:34:04 GMT-0800 (Pacific Standard Time)">13:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">For which case?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri Nov 27 2015 05:34:14 GMT-0800 (Pacific Standard Time)">13:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Replacing a child by itself?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri Nov 27 2015 05:34:41 GMT-0800 (Pacific Standard Time)">13:34</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">you say in the comment &quot; queuing 2 records in total.&quot;</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri Nov 27 2015 05:34:42 GMT-0800 (Pacific Standard Time)">13:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">(removedNodes = [child]), (removedNodes = [child], addedNodes = [child]).</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Fri Nov 27 2015 05:34:57 GMT-0800 (Pacific Standard Time)">13:34</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and I&#039;d like to understand in which case</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Fri Nov 27 2015 05:35:02 GMT-0800 (Pacific Standard Time)">13:35</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">what is the testcase there</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri Nov 27 2015 05:35:09 GMT-0800 (Pacific Standard Time)">13:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">In the case of replacing a child by itself.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri Nov 27 2015 05:35:27 GMT-0800 (Pacific Standard Time)">13:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It&#039;s the test case I linked. My test case follows my spec change, so obviously Gecko fails it.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri Nov 27 2015 05:35:48 GMT-0800 (Pacific Standard Time)">13:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">In the case where child ≠ node, it queues:</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri Nov 27 2015 05:35:51 GMT-0800 (Pacific Standard Time)">13:35</a></td><td class="nick-cell"><span class="nick nick-14" title=smaug____@irc>smaug____</span></td><td class="msg-cell">doesn&#039;t know where the link to testcase is</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri Nov 27 2015 05:35:57 GMT-0800 (Pacific Standard Time)">13:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">(removedNodes = [node]), (removedNodes = [child], addedNodes = [node]).</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri Nov 27 2015 05:36:10 GMT-0800 (Pacific Standard Time)">13:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">oh, down there is somelink</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri Nov 27 2015 05:36:14 GMT-0800 (Pacific Standard Time)">13:36</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: <a href="https://github.com/whatwg/dom/pull/121#issuecomment-160137419">https://github.com/whatwg/dom/pull/121#issuecomment-160137419</a></td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri Nov 27 2015 05:41:37 GMT-0800 (Pacific Standard Time)">13:41</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: ok, and you&#039;d like to get rid of the first MutationRecord, right?</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri Nov 27 2015 05:41:43 GMT-0800 (Pacific Standard Time)">13:41</a></td><td class="nick-cell"><span class="nick nick-14" title=smaug____@irc>smaug____</span></td><td class="msg-cell">can see a bug in Gecko there</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri Nov 27 2015 05:41:44 GMT-0800 (Pacific Standard Time)">13:41</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Yes.</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri Nov 27 2015 05:41:49 GMT-0800 (Pacific Standard Time)">13:41</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: In the case where child = node.</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri Nov 27 2015 05:42:05 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">we don&#039;t remove anything there, but queue record</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri Nov 27 2015 05:42:14 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">That&#039;s not a bug.</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri Nov 27 2015 05:42:32 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Fri Nov 27 2015 05:42:34 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Actually, what do you mean?</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Fri Nov 27 2015 05:42:35 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">wait, we do remove there</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Fri Nov 27 2015 05:42:36 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nm</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Fri Nov 27 2015 05:42:38 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">let me read</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Fri Nov 27 2015 05:42:39 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Do you mean that no mutation should happen?</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Fri Nov 27 2015 05:42:46 GMT-0800 (Pacific Standard Time)">13:42</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Because that would be wrong too. Cf. ranges.</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Fri Nov 27 2015 05:43:08 GMT-0800 (Pacific Standard Time)">13:43</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">parent.replaceChild(child, child) should move any range that starts or ends in child.</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Fri Nov 27 2015 05:44:47 GMT-0800 (Pacific Standard Time)">13:44</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: I don&#039;t mean no mutation should happen</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Fri Nov 27 2015 05:44:56 GMT-0800 (Pacific Standard Time)">13:44</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Ok. :)</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Fri Nov 27 2015 05:45:09 GMT-0800 (Pacific Standard Time)">13:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I&#039;m trying to understand where we get removedNodes in (removedNodes = [child], addedNodes = [node]).</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Fri Nov 27 2015 05:45:34 GMT-0800 (Pacific Standard Time)">13:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Completely unrelated, could you paste somewhere your PrototypeList.cpp file? You are a Gecko developer, right?</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Fri Nov 27 2015 05:45:40 GMT-0800 (Pacific Standard Time)">13:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">actually, I would totally expect 2 records here</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Fri Nov 27 2015 05:45:48 GMT-0800 (Pacific Standard Time)">13:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">but I don&#039;t understand why (removedNodes = [child], addedNodes = [node]).</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Fri Nov 27 2015 05:45:48 GMT-0800 (Pacific Standard Time)">13:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Trying to fix something in Servo and I don&#039;t want to build Gecko. :P</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Fri Nov 27 2015 05:46:02 GMT-0800 (Pacific Standard Time)">13:46</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">PrototypeList...</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Fri Nov 27 2015 05:46:13 GMT-0800 (Pacific Standard Time)">13:46</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">I don&#039;t understand what you mean. Which records do you expect for replacing a child by itself?</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Fri Nov 27 2015 05:46:14 GMT-0800 (Pacific Standard Time)">13:46</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">just a sec</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Fri Nov 27 2015 05:46:34 GMT-0800 (Pacific Standard Time)">13:46</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">(removedNodes = [child]) (addedNones = [child])?</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Fri Nov 27 2015 05:47:18 GMT-0800 (Pacific Standard Time)">13:47</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">You remove `node` from its previous parent, and then you replace `child` by node. That&#039;s why you end up with a mutation record with both removedNodes and addedNodes.</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Fri Nov 27 2015 05:47:47 GMT-0800 (Pacific Standard Time)">13:47</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">In the case where child = node, we either need to avoid the record about removing from the previous parent, or the removedNodes part in the second mutation record.</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Fri Nov 27 2015 05:48:07 GMT-0800 (Pacific Standard Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And my opinion is that the former is cleaner.</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Fri Nov 27 2015 05:48:20 GMT-0800 (Pacific Standard Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">fun, gedit becomes non-responsive after opening PrototypeList.cpp with it</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Fri Nov 27 2015 05:48:24 GMT-0800 (Pacific Standard Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Ah ah. :)</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Fri Nov 27 2015 05:48:39 GMT-0800 (Pacific Standard Time)">13:48</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell"><a href="https://pastebin.mozilla.org/8853215">https://pastebin.mozilla.org/8853215</a></td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Fri Nov 27 2015 05:49:37 GMT-0800 (Pacific Standard Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: How come the namespaces are empty? :(</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Fri Nov 27 2015 05:49:44 GMT-0800 (Pacific Standard Time)">13:49</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">(prototypes and constructors)</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Fri Nov 27 2015 05:50:07 GMT-0800 (Pacific Standard Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: so, first you remove from a parent, so you get (removedNodes = [node]), and then you add, so you get (addedNodes = [node]) - that is what I&#039;d expect at least now</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Fri Nov 27 2015 05:50:18 GMT-0800 (Pacific Standard Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">but why gecko gives (removedNodes = [child], addedNodes = [node] there</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Fri Nov 27 2015 05:50:28 GMT-0800 (Pacific Standard Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">looking...</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Fri Nov 27 2015 05:50:36 GMT-0800 (Pacific Standard Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">This isn&#039;t what I would expect at all.</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Fri Nov 27 2015 05:50:37 GMT-0800 (Pacific Standard Time)">13:50</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It&#039;s a replacing.</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Fri Nov 27 2015 05:51:02 GMT-0800 (Pacific Standard Time)">13:51</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: In the most basic case, replacing a node removes two elements and adds one.</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Fri Nov 27 2015 05:51:06 GMT-0800 (Pacific Standard Time)">13:51</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: those empty namespaces look like just some codegen artifact</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Fri Nov 27 2015 05:51:18 GMT-0800 (Pacific Standard Time)">13:51</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It must removes the replacing node from its previous parent,</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Fri Nov 27 2015 05:51:28 GMT-0800 (Pacific Standard Time)">13:51</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">and it must removes the to-be-replaced child from the new parent of the replacing node.</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Fri Nov 27 2015 05:51:44 GMT-0800 (Pacific Standard Time)">13:51</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">The removing of the to-be-replaced child is the removedNodes in the mutation record of the actual replacement.</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Fri Nov 27 2015 05:52:11 GMT-0800 (Pacific Standard Time)">13:52</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">The removing of the replacing node is part of `node` being adopted.</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Fri Nov 27 2015 05:52:13 GMT-0800 (Pacific Standard Time)">13:52</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">first you remove node from parent, you get record 1, (now node is already removed), then you can&#039;t remove it again so the next record has just added node</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Fri Nov 27 2015 05:52:36 GMT-0800 (Pacific Standard Time)">13:52</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">All replacements end with a (removedNodes = [child] addedNodes = [node]), so that shouldn&#039;t be the thing that is changed.</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Fri Nov 27 2015 05:52:55 GMT-0800 (Pacific Standard Time)">13:52</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Then that is a replacement that doesn&#039;t look like a replacement.</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Fri Nov 27 2015 05:53:02 GMT-0800 (Pacific Standard Time)">13:53</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Hence why I think it would be wrong.</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Fri Nov 27 2015 05:53:25 GMT-0800 (Pacific Standard Time)">13:53</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Case 1: node has no previous parent: (removedNodes = [child], addedNodes = [node])</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Fri Nov 27 2015 05:53:43 GMT-0800 (Pacific Standard Time)">13:53</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Case 1: node has a previous parent: (removedNodes = [node]) (removedNodes = [child], addedNodes = [node])</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Fri Nov 27 2015 05:53:44 GMT-0800 (Pacific Standard Time)">13:53</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">s/1/2/</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Fri Nov 27 2015 05:53:59 GMT-0800 (Pacific Standard Time)">13:53</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Case 3: node = child in current Gecko: (removedNodes = [child]) (removedNodes = [child], addedNodes = [child])</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Fri Nov 27 2015 05:54:19 GMT-0800 (Pacific Standard Time)">13:54</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">You suggest changing case 3 to  (removedNodes = [child]) (addedNodes = [child]);</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Fri Nov 27 2015 05:54:30 GMT-0800 (Pacific Standard Time)">13:54</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">I suggest (removedNodes = [child], addedNodes = [child])</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Fri Nov 27 2015 05:54:37 GMT-0800 (Pacific Standard Time)">13:54</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and I think that is wrong</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Fri Nov 27 2015 05:54:47 GMT-0800 (Pacific Standard Time)">13:54</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">first you remove from whatever parent</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Fri Nov 27 2015 05:54:53 GMT-0800 (Pacific Standard Time)">13:54</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Your suggestion makes case 3 out of the place when comparing to case 1 and 2…</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Fri Nov 27 2015 05:54:56 GMT-0800 (Pacific Standard Time)">13:54</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">so you need to get (removedNodes = [node])</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Fri Nov 27 2015 05:55:24 GMT-0800 (Pacific Standard Time)">13:55</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and your suggestion makes case 2 out of place</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Fri Nov 27 2015 05:55:27 GMT-0800 (Pacific Standard Time)">13:55</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And it makes the algorithm way more complex than conditionally adopting.</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Fri Nov 27 2015 05:55:30 GMT-0800 (Pacific Standard Time)">13:55</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">No it doesn&#039;t.</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Fri Nov 27 2015 05:55:33 GMT-0800 (Pacific Standard Time)">13:55</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">you&#039;re missing one record</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Fri Nov 27 2015 05:55:38 GMT-0800 (Pacific Standard Time)">13:55</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">No.</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Fri Nov 27 2015 05:55:42 GMT-0800 (Pacific Standard Time)">13:55</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It just makes it like case 1.</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Fri Nov 27 2015 05:55:43 GMT-0800 (Pacific Standard Time)">13:55</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">which should always happen when something is replaced</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Fri Nov 27 2015 05:55:56 GMT-0800 (Pacific Standard Time)">13:55</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">but it isn&#039;t like case 1</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Fri Nov 27 2015 05:56:10 GMT-0800 (Pacific Standard Time)">13:56</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">When something is replaced, there should always be a mutation record corresponding to a damn replacement.</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Fri Nov 27 2015 05:56:11 GMT-0800 (Pacific Standard Time)">13:56</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">In your case 3, it doesn&#039;t.</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Fri Nov 27 2015 05:56:11 GMT-0800 (Pacific Standard Time)">13:56</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">it looks like remove and insertBefore were called.</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Fri Nov 27 2015 05:56:18 GMT-0800 (Pacific Standard Time)">13:56</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">node *does have* previous parent</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Fri Nov 27 2015 05:56:27 GMT-0800 (Pacific Standard Time)">13:56</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">so it is not case 1</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Fri Nov 27 2015 05:56:53 GMT-0800 (Pacific Standard Time)">13:56</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And it is a replacement, so no mutation record at all with both removedNodes and addedNodes is wrong too.</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Fri Nov 27 2015 05:56:55 GMT-0800 (Pacific Standard Time)">13:56</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And it makes the spec way more verbose than my suggestion.</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Fri Nov 27 2015 05:57:20 GMT-0800 (Pacific Standard Time)">13:57</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">&quot;Let nodes be node’s children if node is a DocumentFragment node, and a list containing solely node otherwise.&quot; becomes:</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Fri Nov 27 2015 05:57:45 GMT-0800 (Pacific Standard Time)">13:57</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Let nodes be the empty list if node is child, node’s children if node is a DocumentFragment node, and a list containing solely node otherwise.</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Fri Nov 27 2015 05:58:11 GMT-0800 (Pacific Standard Time)">13:58</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">( I don&#039;t understand why Gecko gives that (removedNodes = [child], addedNodes = [child]), I need to debug)</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Fri Nov 27 2015 05:58:31 GMT-0800 (Pacific Standard Time)">13:58</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It does it because it&#039;s a replacement…</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Fri Nov 27 2015 05:58:36 GMT-0800 (Pacific Standard Time)">13:58</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And because the spec says to queue that.</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Fri Nov 27 2015 05:59:47 GMT-0800 (Pacific Standard Time)">13:59</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Err, what I said about step 12 is wrong.</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Fri Nov 27 2015 05:59:51 GMT-0800 (Pacific Standard Time)">13:59</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I don&#039;t care what the spec says, I care what should happen ;)</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Fri Nov 27 2015 06:00:04 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It&#039;s step 14 that needs to be changed for what you said.</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Fri Nov 27 2015 06:00:10 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Sure, but replacing a node should always queue a replacement record,</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Fri Nov 27 2015 06:00:21 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">a record with just addedNodes isn&#039;t, whatever we say.</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Fri Nov 27 2015 06:00:46 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">&quot;replacement record&quot;</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Fri Nov 27 2015 06:00:51 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">&quot;removedNodes a list solely containing child&quot; would need to become &quot;removedNodes a list solely containing child if child is not node, and the empty list otherwise.&quot;</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Fri Nov 27 2015 06:00:53 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">what on earth that is :)</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Fri Nov 27 2015 06:00:56 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">there are just MutationRecords</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Fri Nov 27 2015 06:00:59 GMT-0800 (Pacific Standard Time)">14:00</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: A record with both removedNodes and addedNodes, obviously.</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Fri Nov 27 2015 06:01:33 GMT-0800 (Pacific Standard Time)">14:01</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">but let me debug this some</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Fri Nov 27 2015 06:01:47 GMT-0800 (Pacific Standard Time)">14:01</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I need to understand why gecko does what it does now</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Fri Nov 27 2015 06:04:39 GMT-0800 (Pacific Standard Time)">14:04</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And with 2 mutation records, I will need to invalidate childNodes&#039; cache more frequently in Servo.</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Fri Nov 27 2015 06:05:12 GMT-0800 (Pacific Standard Time)">14:05</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">A mutation record with (removedNodes = [node], addedNodes = [node]) tells me that the list of children didn&#039;t change size, so my cache is still correct.</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Fri Nov 27 2015 06:09:07 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: so in Gecko I&#039;m getting the records I expect</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Fri Nov 27 2015 06:09:09 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">2 records</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Fri Nov 27 2015 06:09:23 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">first one has the removal, 2nd one has the added node</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Fri Nov 27 2015 06:09:45 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And why would that be more correct than what I said?</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Fri Nov 27 2015 06:09:49 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: you use mutation records to invalidate childNodes cache?</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Fri Nov 27 2015 06:09:57 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Their machinery yes.</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Fri Nov 27 2015 06:10:09 GMT-0800 (Pacific Standard Time)">14:10</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">That&#039;s written in the ticket, it would be nice if I didn&#039;t have to repeat myself. :)</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Fri Nov 27 2015 06:10:41 GMT-0800 (Pacific Standard Time)">14:10</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">it is rather expected that replaceChild first removes the replacing node from its parent</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Fri Nov 27 2015 06:10:44 GMT-0800 (Pacific Standard Time)">14:10</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Mutation records in Servo will be queued somewhere in a children_changed method. That method is too used to update childNodes cache.</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Fri Nov 27 2015 06:10:54 GMT-0800 (Pacific Standard Time)">14:10</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">so, you get one record for that</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Fri Nov 27 2015 06:11:03 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It is rather expected that replaceChild will queue a record with both removedNodes and addedNodes.</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Fri Nov 27 2015 06:11:10 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and then you create a record for the case when replacing node is added to context node</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Fri Nov 27 2015 06:11:12 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">What&#039;s wrong about what I&#039;m saying?</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Fri Nov 27 2015 06:11:25 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and whether or not something removed is just a side thing</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Fri Nov 27 2015 06:11:30 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">&quot;replacement&quot;, i.e. something is removed and something is added.</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Fri Nov 27 2015 06:11:59 GMT-0800 (Pacific Standard Time)">14:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">you somehow special case child == node</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Fri Nov 27 2015 06:12:09 GMT-0800 (Pacific Standard Time)">14:12</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">You do too.</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Fri Nov 27 2015 06:12:16 GMT-0800 (Pacific Standard Time)">14:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">not really</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Fri Nov 27 2015 06:12:29 GMT-0800 (Pacific Standard Time)">14:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I think either way we&#039;ll have to special case that</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Fri Nov 27 2015 06:12:32 GMT-0800 (Pacific Standard Time)">14:12</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Yes you do. That case must be discriminated to not include child in removedNodes.</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Fri Nov 27 2015 06:12:44 GMT-0800 (Pacific Standard Time)">14:12</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Cf. step 14.</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Fri Nov 27 2015 06:12:47 GMT-0800 (Pacific Standard Time)">14:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">if nothing is removed in the second phase, you don&#039;t get anything in the removedNodes</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Fri Nov 27 2015 06:13:02 GMT-0800 (Pacific Standard Time)">14:13</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And how do you initialise removedNodes?</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Fri Nov 27 2015 06:13:23 GMT-0800 (Pacific Standard Time)">14:13</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">By saying it should be empty if child = node,</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Fri Nov 27 2015 06:13:23 GMT-0800 (Pacific Standard Time)">14:13</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">that&#039;s discriminating.</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Fri Nov 27 2015 06:14:41 GMT-0800 (Pacific Standard Time)">14:14</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">initialize removedNodes? it is empty list unless you&#039;ve removed something from a node when the record is created</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Fri Nov 27 2015 06:15:17 GMT-0800 (Pacific Standard Time)">14:15</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">That makes no sense. You are talking about this from the POV of implementation details of Gecko.</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Fri Nov 27 2015 06:15:26 GMT-0800 (Pacific Standard Time)">14:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I see Gecko&#039;s behavior, which is (removedNodes = [child], addedNodes = [child]), not (removedNodes = [child]), (removedNodes = [child], addedNodes = [child]) rather good one</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Fri Nov 27 2015 06:15:41 GMT-0800 (Pacific Standard Time)">14:15</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">How do you *specify* what you are saying, if not by special-casing child = node?</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Fri Nov 27 2015 06:15:55 GMT-0800 (Pacific Standard Time)">14:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: I&#039;m talking about from the point of view of how I see mutations in DOM should work ;)</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Fri Nov 27 2015 06:16:00 GMT-0800 (Pacific Standard Time)">14:16</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Me too.</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Fri Nov 27 2015 06:16:04 GMT-0800 (Pacific Standard Time)">14:16</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">How do you specify it?</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Fri Nov 27 2015 06:16:12 GMT-0800 (Pacific Standard Time)">14:16</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and from a point of view of the MutationObserver API designer</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Fri Nov 27 2015 06:16:12 GMT-0800 (Pacific Standard Time)">14:16</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">How do you write the prose that describe what *you* want?</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Fri Nov 27 2015 06:16:16 GMT-0800 (Pacific Standard Time)">14:16</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Me too.</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Fri Nov 27 2015 06:16:44 GMT-0800 (Pacific Standard Time)">14:16</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">You say you aren&#039;t special-casing child == node, explain what would be the prose to do what you say without special-casing it.</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Fri Nov 27 2015 06:18:16 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Note also that we are special casing this case already elsewhere, in pre-insert</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Fri Nov 27 2015 06:18:43 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">annevk: Yeah, and insertion is not about removing something and putting something instead.</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Fri Nov 27 2015 06:19:01 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">From the POV of a MutationObserver API designer, I would expect the mutation records to strive to describe the actual mutations taking place,</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Fri Nov 27 2015 06:19:10 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">there is still special case sure, but different place. and I say removing the first &quot;replacing node is removed from parent&quot;  in some case would be weirder that having just the case later that if there isn&#039;t anything to remove anymore, don&#039;t add anything to removedNodes</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Fri Nov 27 2015 06:19:15 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">that&#039;s why we have the suppress observers flag and whatnot,</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Fri Nov 27 2015 06:19:47 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">making two records is to me like not having the suppress observers flag, and queueing mutation records for each removal and insertion instead of in bulk.</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Fri Nov 27 2015 06:20:00 GMT-0800 (Pacific Standard Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: And that&#039;s not special-casing?</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Fri Nov 27 2015 06:20:30 GMT-0800 (Pacific Standard Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">How is changing the removedNodes property of the second record not as special-casing as not queuing the first one?</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Fri Nov 27 2015 06:20:50 GMT-0800 (Pacific Standard Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: it seems your solution requires changes to step 11 and step 14, whereas nox&#039; solution requires only a change to step 10 and creates cleaner records...</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Fri Nov 27 2015 06:21:40 GMT-0800 (Pacific Standard Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I&#039;m looking if my solution needs any changes</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Fri Nov 27 2015 06:22:00 GMT-0800 (Pacific Standard Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">step 11 wouldn&#039;t just do anything, and I&#039;m not sure what it does here... reading</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Fri Nov 27 2015 06:22:08 GMT-0800 (Pacific Standard Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">To the spec? Of course it does, that&#039;s what I&#039;ve been saying for 15 minutes.</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Fri Nov 27 2015 06:22:11 GMT-0800 (Pacific Standard Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: it segfaults</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Fri Nov 27 2015 06:22:21 GMT-0800 (Pacific Standard Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Removing a node from its parent needs a parent. `node` doesn&#039;t have a parent anymore.</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Fri Nov 27 2015 06:22:26 GMT-0800 (Pacific Standard Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">That&#039;s why the spec is wrong.</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Fri Nov 27 2015 06:22:53 GMT-0800 (Pacific Standard Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">ah, 14 would need change</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Fri Nov 27 2015 06:23:10 GMT-0800 (Pacific Standard Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And 11.</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Fri Nov 27 2015 06:23:15 GMT-0800 (Pacific Standard Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Fri Nov 27 2015 06:23:36 GMT-0800 (Pacific Standard Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Mine needs a change in step 10 and makes better records.</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Fri Nov 27 2015 06:23:45 GMT-0800 (Pacific Standard Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox&#039; solution creates unexpected records, since it is missing the first one</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Fri Nov 27 2015 06:23:54 GMT-0800 (Pacific Standard Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Expected records*</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Fri Nov 27 2015 06:24:06 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">unexpected :)</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Fri Nov 27 2015 06:24:10 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Yours are unexpected, because the second one doesn&#039;t describe a replacement.</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Fri Nov 27 2015 06:24:11 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">because it is missing the first one</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Fri Nov 27 2015 06:24:22 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">See my test.</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Fri Nov 27 2015 06:24:29 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Find a replaceChild that produces a record without a removedNodes property.</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Fri Nov 27 2015 06:24:33 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Hint: there is none.</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Fri Nov 27 2015 06:24:37 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: not describing the replacement seems at least equally weird</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Fri Nov 27 2015 06:24:45 GMT-0800 (Pacific Standard Time)">14:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">or unexpected</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Fri Nov 27 2015 06:25:10 GMT-0800 (Pacific Standard Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I&#039;m trying to see why what is unexpected</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Fri Nov 27 2015 06:25:16 GMT-0800 (Pacific Standard Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell"><a href="https://github.com/nox/web-platform-tests/blob/replacechild-mutation-records/dom/nodes/MutationObserver-childList.html#L258-L296">https://github.com/nox/web-platform-tests/blob/replacechild-mutation-records/dom/nodes/MutationObserver-childList.html#L258-L296</a></td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Fri Nov 27 2015 06:25:59 GMT-0800 (Pacific Standard Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: because in all cases, except for this one in Gecko, invoking replaceChild ends with a record that describes what node got removed and what it got replaced with</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Fri Nov 27 2015 06:26:03 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">{type: &quot;childList&quot;, removedNodes: […], addedNodes: […]}</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Fri Nov 27 2015 06:28:41 GMT-0800 (Pacific Standard Time)">14:28</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">can&#039;t see the light here</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Fri Nov 27 2015 06:29:26 GMT-0800 (Pacific Standard Time)">14:29</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Do you understand what annevk said?</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Fri Nov 27 2015 06:29:34 GMT-0800 (Pacific Standard Time)">14:29</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It&#039;s not rocket science.</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Fri Nov 27 2015 06:29:44 GMT-0800 (Pacific Standard Time)">14:29</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Do you not see the common element to all the tests I linked?</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Fri Nov 27 2015 06:32:01 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">53 is missing one record, that is what I see</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Fri Nov 27 2015 06:32:26 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Are you kidding me?</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Fri Nov 27 2015 06:32:31 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I&#039;m trying to understand reasoning for this proposed change</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Fri Nov 27 2015 06:32:49 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">we need a fix to the spec sure</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Fri Nov 27 2015 06:33:18 GMT-0800 (Pacific Standard Time)">14:33</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Oh, n51 is the same test I see.</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Fri Nov 27 2015 06:34:06 GMT-0800 (Pacific Standard Time)">14:34</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">one of the initial steps in replaceChild has always been that the node is removed from its parent</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Fri Nov 27 2015 06:34:09 GMT-0800 (Pacific Standard Time)">14:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Ah no, d51 doesn&#039;t exist. Different test.</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Fri Nov 27 2015 06:34:41 GMT-0800 (Pacific Standard Time)">14:34</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">so I&#039;m trying to understand why that step should now change</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Fri Nov 27 2015 06:34:45 GMT-0800 (Pacific Standard Time)">14:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: One of the final steps in replaceChild has always been that the mutation record has always a removedNodes.</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Fri Nov 27 2015 06:34:53 GMT-0800 (Pacific Standard Time)">14:34</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">no</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Fri Nov 27 2015 06:34:59 GMT-0800 (Pacific Standard Time)">14:34</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">What no?</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Fri Nov 27 2015 06:35:00 GMT-0800 (Pacific Standard Time)">14:35</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">MutationObservers are a new thing</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Fri Nov 27 2015 06:35:04 GMT-0800 (Pacific Standard Time)">14:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Ok.</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Fri Nov 27 2015 06:35:08 GMT-0800 (Pacific Standard Time)">14:35</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">added to DOM recently</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Fri Nov 27 2015 06:35:14 GMT-0800 (Pacific Standard Time)">14:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Let me reformulate.</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Fri Nov 27 2015 06:35:29 GMT-0800 (Pacific Standard Time)">14:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">One of the initial steps in replaceChild has not been that the node is removed from its parent,</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Fri Nov 27 2015 06:35:38 GMT-0800 (Pacific Standard Time)">14:35</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">since WebKit always short-circuited everything in case child = node.</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Fri Nov 27 2015 06:36:20 GMT-0800 (Pacific Standard Time)">14:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">that is implementation detail</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Fri Nov 27 2015 06:36:42 GMT-0800 (Pacific Standard Time)">14:36</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I was talking about spec here</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Fri Nov 27 2015 06:36:46 GMT-0800 (Pacific Standard Time)">14:36</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And if the node wasn&#039;t in a parent, it isn&#039;t removed from anywhere, so what you are saying is wrong too.</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Fri Nov 27 2015 06:37:04 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">About spec, mutation records of replacement operations always include a removedNodes entry.</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Fri Nov 27 2015 06:37:12 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">That&#039;s right there in the spec, isn&#039;t it?</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Fri Nov 27 2015 06:37:36 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Replacing a child by a node with no parent: removedNodes present;</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Fri Nov 27 2015 06:37:57 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">replacing a child by nothing: removedNodes present;</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Fri Nov 27 2015 06:37:57 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">replacing a child by another node in the document: removedNodes present;</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Fri Nov 27 2015 06:37:58 GMT-0800 (Pacific Standard Time)">14:37</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">replacing a child by another node in another document: removedNodes present;</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Fri Nov 27 2015 06:38:07 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">replacing a child by itself: you want no removedNodes present, I want one.</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Fri Nov 27 2015 06:38:16 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">.innerHTML creates &quot;replacement record&quot;, and may not contain anything in removedNodes</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Fri Nov 27 2015 06:38:36 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">same with .textContent</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Fri Nov 27 2015 06:38:41 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">That&#039;s because it&#039;s akin to &quot;replace all&quot;.</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Fri Nov 27 2015 06:38:48 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">That&#039;s not &quot;replacing a single thing by something else&quot;.</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Fri Nov 27 2015 06:38:59 GMT-0800 (Pacific Standard Time)">14:38</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">replaceWith does like I just described.</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Fri Nov 27 2015 06:39:34 GMT-0800 (Pacific Standard Time)">14:39</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=caitp@irc>caitp</span>&gt;</td><td class="msg-cell">would there be any harm done if implementations which short circuited the actual replacement, still queued up the mutation records?</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Fri Nov 27 2015 06:39:46 GMT-0800 (Pacific Standard Time)">14:39</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">caitp: Yes.</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Fri Nov 27 2015 06:39:52 GMT-0800 (Pacific Standard Time)">14:39</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">caitp: Ranges not being updated.</td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Fri Nov 27 2015 06:42:36 GMT-0800 (Pacific Standard Time)">14:42</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=caitp@irc>caitp</span>&gt;</td><td class="msg-cell">in webkit, they could probably get all the side effects with Node::didReplace() or whatever it&#039;s called</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Fri Nov 27 2015 06:42:48 GMT-0800 (Pacific Standard Time)">14:42</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">(anecdote, even DOM 1 spec from 1997 says &quot;If the newChild is already in the tree, it is first removed. &quot;)</td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Fri Nov 27 2015 06:44:18 GMT-0800 (Pacific Standard Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">You can&#039;t argue that mutation observers are new,</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Fri Nov 27 2015 06:44:22 GMT-0800 (Pacific Standard Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">and then argue about how the newChild must be removed from its parent in 1997.</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Fri Nov 27 2015 06:44:32 GMT-0800 (Pacific Standard Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Even with my suggestion, newChild is still removed from its parent.</td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Fri Nov 27 2015 06:44:47 GMT-0800 (Pacific Standard Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">But it does so with observer suppressed.</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Fri Nov 27 2015 06:45:18 GMT-0800 (Pacific Standard Time)">14:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Whereas you want to keep removing it during adoption (which doesn&#039;t look mentioned in 1997), with the observers unsuppressed.</td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Fri Nov 27 2015 06:49:25 GMT-0800 (Pacific Standard Time)">14:49</a></td><td class="nick-cell"><span class="nick nick-14" title=smaug____@irc>smaug____</span></td><td class="msg-cell">doesn&#039;t understand how the proposal would improve anything but thinking ... trying to understand</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Fri Nov 27 2015 06:50:40 GMT-0800 (Pacific Standard Time)">14:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: well for one it&#039;d keep the spec simpler</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Fri Nov 27 2015 06:50:54 GMT-0800 (Pacific Standard Time)">14:50</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And would queue less mutation records.</td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Fri Nov 27 2015 06:52:43 GMT-0800 (Pacific Standard Time)">14:52</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and would change the behavior of shipping produces</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Fri Nov 27 2015 06:52:46 GMT-0800 (Pacific Standard Time)">14:52</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">products</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Fri Nov 27 2015 06:52:58 GMT-0800 (Pacific Standard Time)">14:52</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: what does Edge do?</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Fri Nov 27 2015 06:53:22 GMT-0800 (Pacific Standard Time)">14:53</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">I&#039;m on a Mac.</td></tr>
  <tr class="msg" id="L237"><td class="ts-cell"><a class="ts" href="#L237" alt="Fri Nov 27 2015 06:54:00 GMT-0800 (Pacific Standard Time)">14:54</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: I&#039;m pretty sure Gecko has another bug anyway…</td></tr>
  <tr class="msg" id="L238"><td class="ts-cell"><a class="ts" href="#L238" alt="Fri Nov 27 2015 06:55:45 GMT-0800 (Pacific Standard Time)">14:55</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell"><a href="http://mxr.mozilla.org/mozilla-central/source/dom/base/nsINode.cpp#1970">http://mxr.mozilla.org/mozilla-central/source/dom/base/nsINode.cpp#1970</a> This, what is it?</td></tr>
  <tr class="msg" id="L239"><td class="ts-cell"><a class="ts" href="#L239" alt="Fri Nov 27 2015 06:56:12 GMT-0800 (Pacific Standard Time)">14:56</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Isn&#039;t that about the child&#039;s next sibling being node?</td></tr>
  <tr class="msg" id="L240"><td class="ts-cell"><a class="ts" href="#L240" alt="Fri Nov 27 2015 06:57:17 GMT-0800 (Pacific Standard Time)">14:57</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">no</td></tr>
  <tr class="msg" id="L241"><td class="ts-cell"><a class="ts" href="#L241" alt="Fri Nov 27 2015 06:57:36 GMT-0800 (Pacific Standard Time)">14:57</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">that is the child</td></tr>
  <tr class="msg" id="L242"><td class="ts-cell"><a class="ts" href="#L242" alt="Fri Nov 27 2015 06:58:12 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Why could an error be thrown at that point?</td></tr>
  <tr class="msg" id="L243"><td class="ts-cell"><a class="ts" href="#L243" alt="Fri Nov 27 2015 06:58:59 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">mostly because &quot;this is mutation events, ensure we&#039;re some sane-ish state still&quot;</td></tr>
  <tr class="msg" id="L244"><td class="ts-cell"><a class="ts" href="#L244" alt="Fri Nov 27 2015 06:59:17 GMT-0800 (Pacific Standard Time)">14:59</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=caitp@irc>caitp</span>&gt;</td><td class="msg-cell">&quot;I&#039;m pretty sure Gecko/AnyOtherEngine has another bug anyway&quot; pretty safe bet =)</td></tr>
  <tr class="msg" id="L245"><td class="ts-cell"><a class="ts" href="#L245" alt="Fri Nov 27 2015 06:59:27 GMT-0800 (Pacific Standard Time)">14:59</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">well, mutation events aren&#039;t spec&#039;ed</td></tr>
  <tr class="msg" id="L246"><td class="ts-cell"><a class="ts" href="#L246" alt="Fri Nov 27 2015 06:59:44 GMT-0800 (Pacific Standard Time)">14:59</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Wha</td></tr>
  <tr class="msg" id="L247"><td class="ts-cell"><a class="ts" href="#L247" alt="Fri Nov 27 2015 06:59:50 GMT-0800 (Pacific Standard Time)">14:59</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">++caitp</td></tr>
  <tr class="msg" id="L248"><td class="ts-cell"><a class="ts" href="#L248" alt="Fri Nov 27 2015 07:00:49 GMT-0800 (Pacific Standard Time)">15:00</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=gsnedder1@irc>gsnedder1</span>&gt;</td><td class="msg-cell">nox: you do &quot;something vaguely like this&quot;</td></tr>
  <tr class="msg" id="L249"><td class="ts-cell"><a class="ts" href="#L249" alt="Fri Nov 27 2015 07:01:12 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">gsnedder1: My patch is pristine clear. =)</td></tr>
  <tr class="msg" id="L250"><td class="ts-cell"><a class="ts" href="#L250" alt="Fri Nov 27 2015 07:01:26 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I still hold some hopes we don&#039;t have to define mutation events</td></tr>
  <tr class="msg" id="L251"><td class="ts-cell"><a class="ts" href="#L251" alt="Fri Nov 27 2015 07:01:42 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">But... I&#039;m getting close to the point of just trying to figure them out and get it over with</td></tr>
  <tr class="msg" id="L252"><td class="ts-cell"><a class="ts" href="#L252" alt="Fri Nov 27 2015 07:01:56 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">annevk: I think that&#039;s a vain hope at this stage :(</td></tr>
  <tr class="msg" id="L253"><td class="ts-cell"><a class="ts" href="#L253" alt="Fri Nov 27 2015 07:01:59 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Although maybe if Servo gets away with sanity and prevails</td></tr>
  <tr class="msg" id="L254"><td class="ts-cell"><a class="ts" href="#L254" alt="Fri Nov 27 2015 07:02:16 GMT-0800 (Pacific Standard Time)">15:02</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Justice shall prevail.</td></tr>
  <tr class="msg" id="L255"><td class="ts-cell"><a class="ts" href="#L255" alt="Fri Nov 27 2015 07:02:33 GMT-0800 (Pacific Standard Time)">15:02</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">May the odds be forever in your favour.</td></tr>
  <tr class="msg" id="L256"><td class="ts-cell"><a class="ts" href="#L256" alt="Fri Nov 27 2015 07:02:48 GMT-0800 (Pacific Standard Time)">15:02</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">so in Gecko the current behavior comes rather naturally from the implementation, I admit. Since MutationObserver implementation uses internal nsIMutationObserver to get notifications about actual removals and additions, if some removal just doesn&#039;t happen, removedNodes will be empty</td></tr>
  <tr class="msg" id="L257"><td class="ts-cell"><a class="ts" href="#L257" alt="Fri Nov 27 2015 07:03:26 GMT-0800 (Pacific Standard Time)">15:03</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: In Servo too. :)</td></tr>
  <tr class="msg" id="L258"><td class="ts-cell"><a class="ts" href="#L258" alt="Fri Nov 27 2015 07:03:50 GMT-0800 (Pacific Standard Time)">15:03</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">so it is like merging 14 to 11</td></tr>
  <tr class="msg" id="L259"><td class="ts-cell"><a class="ts" href="#L259" alt="Fri Nov 27 2015 07:04:01 GMT-0800 (Pacific Standard Time)">15:04</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">partially</td></tr>
  <tr class="msg" id="L260"><td class="ts-cell"><a class="ts" href="#L260" alt="Fri Nov 27 2015 07:04:18 GMT-0800 (Pacific Standard Time)">15:04</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: Following my DOM PR: <a href="https://github.com/nox/servo/blob/c63e8e62454a0ef2d1006c00a19d7aa62ba0777d/components/script/dom/node.rs#L2050-L2054">https://github.com/nox/servo/blob/c63e8e62454a0ef2d1006c00a19d7aa62ba0777d/components/script/dom/node.rs#L2050-L2054</a></td></tr>
  <tr class="msg" id="L261"><td class="ts-cell"><a class="ts" href="#L261" alt="Fri Nov 27 2015 07:05:37 GMT-0800 (Pacific Standard Time)">15:05</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: and you could have that same null check around Node::remove(child, self, SuppressObserver::Suppressed);</td></tr>
  <tr class="msg" id="L262"><td class="ts-cell"><a class="ts" href="#L262" alt="Fri Nov 27 2015 07:05:43 GMT-0800 (Pacific Standard Time)">15:05</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and get Gecko&#039;s behavior</td></tr>
  <tr class="msg" id="L263"><td class="ts-cell"><a class="ts" href="#L263" alt="Fri Nov 27 2015 07:06:11 GMT-0800 (Pacific Standard Time)">15:06</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: No. I would then have to change step 14.</td></tr>
  <tr class="msg" id="L264"><td class="ts-cell"><a class="ts" href="#L264" alt="Fri Nov 27 2015 07:06:47 GMT-0800 (Pacific Standard Time)">15:06</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">ok, so Servo has quite different setup then</td></tr>
  <tr class="msg" id="L265"><td class="ts-cell"><a class="ts" href="#L265" alt="Fri Nov 27 2015 07:06:54 GMT-0800 (Pacific Standard Time)">15:06</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Specifically, I would need to call either ChildrenMutation::replace or ChildrenMutation::insert.</td></tr>
  <tr class="msg" id="L266"><td class="ts-cell"><a class="ts" href="#L266" alt="Fri Nov 27 2015 07:07:15 GMT-0800 (Pacific Standard Time)">15:07</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">in Gecko it is step 11 effectively which tells whether mutation record has something in removedNodes</td></tr>
  <tr class="msg" id="L267"><td class="ts-cell"><a class="ts" href="#L267" alt="Fri Nov 27 2015 07:07:27 GMT-0800 (Pacific Standard Time)">15:07</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">since it nothing is removed, nothing will be added to removed nodes</td></tr>
  <tr class="msg" id="L268"><td class="ts-cell"><a class="ts" href="#L268" alt="Fri Nov 27 2015 07:07:33 GMT-0800 (Pacific Standard Time)">15:07</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: In Servo, mutation records are built explicitly.</td></tr>
  <tr class="msg" id="L269"><td class="ts-cell"><a class="ts" href="#L269" alt="Fri Nov 27 2015 07:07:38 GMT-0800 (Pacific Standard Time)">15:07</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">s/are/will be/</td></tr>
  <tr class="msg" id="L270"><td class="ts-cell"><a class="ts" href="#L270" alt="Fri Nov 27 2015 07:07:56 GMT-0800 (Pacific Standard Time)">15:07</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">From a ChildrenMutation struct, which we build in each method that queues a mutation record.</td></tr>
  <tr class="msg" id="L271"><td class="ts-cell"><a class="ts" href="#L271" alt="Fri Nov 27 2015 07:08:24 GMT-0800 (Pacific Standard Time)">15:08</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">That ChildrenMutation thing is what I use to update childNodes.</td></tr>
  <tr class="msg" id="L272"><td class="ts-cell"><a class="ts" href="#L272" alt="Fri Nov 27 2015 07:08:59 GMT-0800 (Pacific Standard Time)">15:08</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell"><a href="https://github.com/nox/servo/blob/c63e8e62454a0ef2d1006c00a19d7aa62ba0777d/components/script/dom/nodelist.rs#L240-L267">https://github.com/nox/servo/blob/c63e8e62454a0ef2d1006c00a19d7aa62ba0777d/components/script/dom/nodelist.rs#L240-L267</a></td></tr>
  <tr class="msg" id="L273"><td class="ts-cell"><a class="ts" href="#L273" alt="Fri Nov 27 2015 07:09:28 GMT-0800 (Pacific Standard Time)">15:09</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">With your suggestion, calling replaceChild will mean we reach <a href="https://github.com/nox/servo/blob/c63e8e62454a0ef2d1006c00a19d7aa62ba0777d/components/script/dom/nodelist.rs#L233">https://github.com/nox/servo/blob/c63e8e62454a0ef2d1006c00a19d7aa62ba0777d/components/script/dom/nodelist.rs#L233</a> way more frequently.</td></tr>
  <tr class="msg" id="L274"><td class="ts-cell"><a class="ts" href="#L274" alt="Fri Nov 27 2015 07:09:31 GMT-0800 (Pacific Standard Time)">15:09</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">With mine, never.</td></tr>
  <tr class="msg" id="L275"><td class="ts-cell"><a class="ts" href="#L275" alt="Fri Nov 27 2015 07:09:48 GMT-0800 (Pacific Standard Time)">15:09</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">With mine, only the case where we replace a child by nothing*</td></tr>
  <tr class="msg" id="L276"><td class="ts-cell"><a class="ts" href="#L276" alt="Fri Nov 27 2015 07:14:39 GMT-0800 (Pacific Standard Time)">15:14</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">in Gecko the latter record gets both removed/addedNodes because of <a href="http://mxr.mozilla.org/mozilla-central/source/dom/base/nsINode.cpp?mark=2168-2168,2189-2189#2168">http://mxr.mozilla.org/mozilla-central/source/dom/base/nsINode.cpp?mark=2168-2168,2189-2189#2168</a> and it nsAutoMutationBatch isn&#039;t ever initialized, you just get a normal record with addedNodes</td></tr>
  <tr class="msg" id="L277"><td class="ts-cell"><a class="ts" href="#L277" alt="Fri Nov 27 2015 07:14:48 GMT-0800 (Pacific Standard Time)">15:14</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">s/it/if/</td></tr>
  <tr class="msg" id="L278"><td class="ts-cell"><a class="ts" href="#L278" alt="Fri Nov 27 2015 07:15:22 GMT-0800 (Pacific Standard Time)">15:15</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Someone should try my test on Edge.</td></tr>
  <tr class="msg" id="L279"><td class="ts-cell"><a class="ts" href="#L279" alt="Fri Nov 27 2015 07:15:41 GMT-0800 (Pacific Standard Time)">15:15</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">when no batching happens, all mutationrecord handling is based on actual insertions or removals</td></tr>
  <tr class="msg" id="L280"><td class="ts-cell"><a class="ts" href="#L280" alt="Fri Nov 27 2015 07:18:05 GMT-0800 (Pacific Standard Time)">15:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">I find the setup in Servo better because it follows closely the spec.</td></tr>
  <tr class="msg" id="L281"><td class="ts-cell"><a class="ts" href="#L281" alt="Fri Nov 27 2015 07:20:23 GMT-0800 (Pacific Standard Time)">15:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">oh, sure from readability point of view probably much better. Gecko just was there well before we had good DOM spec ;)</td></tr>
  <tr class="msg" id="L282"><td class="ts-cell"><a class="ts" href="#L282" alt="Fri Nov 27 2015 07:20:41 GMT-0800 (Pacific Standard Time)">15:20</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">and, nsIMutationObserver which we use for this too is super handy</td></tr>
  <tr class="msg" id="L283"><td class="ts-cell"><a class="ts" href="#L283" alt="Fri Nov 27 2015 07:21:15 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nsIMutationObserver has very little to do with MutationObserver, way lower level, C++ only notifications</td></tr>
  <tr class="msg" id="L284"><td class="ts-cell"><a class="ts" href="#L284" alt="Fri Nov 27 2015 07:21:31 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">(nsIMutationObserver is used also to implement Range etc)</td></tr>
  <tr class="msg" id="L285"><td class="ts-cell"><a class="ts" href="#L285" alt="Fri Nov 27 2015 07:22:46 GMT-0800 (Pacific Standard Time)">15:22</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">smaug____: children_changed is Servo&#039;s nsIMutationObserver.</td></tr>
  <tr class="msg" id="L286"><td class="ts-cell"><a class="ts" href="#L286" alt="Fri Nov 27 2015 07:23:25 GMT-0800 (Pacific Standard Time)">15:23</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">sounds like it is a tad higher level thing</td></tr>
  <tr class="msg" id="L287"><td class="ts-cell"><a class="ts" href="#L287" alt="Fri Nov 27 2015 07:23:33 GMT-0800 (Pacific Standard Time)">15:23</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">For childList records that is.</td></tr>
  <tr class="msg" id="L288"><td class="ts-cell"><a class="ts" href="#L288" alt="Fri Nov 27 2015 07:24:13 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">It is used for Rust-only things I mean.</td></tr>
  <tr class="msg" id="L289"><td class="ts-cell"><a class="ts" href="#L289" alt="Fri Nov 27 2015 07:24:53 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">And will be usable for actual MutationRecord things.</td></tr>
  <tr class="msg" id="L290"><td class="ts-cell"><a class="ts" href="#L290" alt="Fri Nov 27 2015 07:29:39 GMT-0800 (Pacific Standard Time)">15:29</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">lunch</td></tr>
  <tr class="msg" id="L291"><td class="ts-cell"><a class="ts" href="#L291" alt="Fri Nov 27 2015 07:30:04 GMT-0800 (Pacific Standard Time)">15:30</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">5:30pm?</td></tr>
  <tr class="msg" id="L292"><td class="ts-cell"><a class="ts" href="#L292" alt="Fri Nov 27 2015 07:30:54 GMT-0800 (Pacific Standard Time)">15:30</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Ms2ger: Actually just went outside to buy a sandwich too.</td></tr>
  <tr class="msg" id="L293"><td class="ts-cell"><a class="ts" href="#L293" alt="Fri Nov 27 2015 07:31:12 GMT-0800 (Pacific Standard Time)">15:31</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">But I woke up at 11:30.</td></tr>
  <tr class="msg" id="L294"><td class="ts-cell"><a class="ts" href="#L294" alt="Fri Nov 27 2015 07:41:43 GMT-0800 (Pacific Standard Time)">15:41</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">:&#039;(</td></tr>
  <tr class="msg" id="L295"><td class="ts-cell"><a class="ts" href="#L295" alt="Fri Nov 27 2015 07:42:08 GMT-0800 (Pacific Standard Time)">15:42</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell"><a href="https://github.com/whatwg/dom/pull/121#issuecomment-160163345">https://github.com/whatwg/dom/pull/121#issuecomment-160163345</a></td></tr>
  <tr class="msg" id="L296"><td class="ts-cell"><a class="ts" href="#L296" alt="Fri Nov 27 2015 09:01:45 GMT-0800 (Pacific Standard Time)">17:01</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">1) We should aim for consistency as long as possible. So if some step in an algorithm can be executed, it should be (by default) (step 10), and aim for adding special cases to steps which just can&#039;t be executed (step 11)</td></tr>
  <tr class="msg" id="L297"><td class="ts-cell"><a class="ts" href="#L297" alt="Fri Nov 27 2015 09:02:02 GMT-0800 (Pacific Standard Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">2) with your proposal we end up creating such mutation records which no other mutation creates, same node in removed and in added nodes</td></tr>
  <tr class="msg" id="L298"><td class="ts-cell"><a class="ts" href="#L298" alt="Fri Nov 27 2015 09:02:05 GMT-0800 (Pacific Standard Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">nox: aha, even more reasons for Gecko&#039;s behavior :)</td></tr>
  <tr class="msg" id="L299"><td class="ts-cell"><a class="ts" href="#L299" alt="Fri Nov 27 2015 09:02:06 GMT-0800 (Pacific Standard Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Yeah.</td></tr>
  <tr class="msg" id="L300"><td class="ts-cell"><a class="ts" href="#L300" alt="Fri Nov 27 2015 09:38:42 GMT-0800 (Pacific Standard Time)">17:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Well glad that got sorted</td></tr>
  <tr class="msg" id="L301"><td class="ts-cell"><a class="ts" href="#L301" alt="Fri Nov 27 2015 09:38:51 GMT-0800 (Pacific Standard Time)">17:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I guess now we need to figure out what the steps actually need to say</td></tr>
  <tr class="msg" id="L302"><td class="ts-cell"><a class="ts" href="#L302" alt="Fri Nov 27 2015 09:39:05 GMT-0800 (Pacific Standard Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And we should add some more tests</td></tr>
  <tr class="msg" id="L303"><td class="ts-cell"><a class="ts" href="#L303" alt="Fri Nov 27 2015 09:45:29 GMT-0800 (Pacific Standard Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">annevk: Will do.</td></tr>
  <tr class="msg" id="L304"><td class="ts-cell"><a class="ts" href="#L304" alt="Fri Nov 27 2015 09:46:31 GMT-0800 (Pacific Standard Time)">17:46</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">annevk: just to verify, getAttributeNames is supposed to return attributes in the same order as .attributes, right?</td></tr>
  <tr class="msg" id="L305"><td class="ts-cell"><a class="ts" href="#L305" alt="Fri Nov 27 2015 09:46:49 GMT-0800 (Pacific Standard Time)">17:46</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">We should probably try and make sure we have tests for every spec change going forward, somehow.</td></tr>
  <tr class="msg" id="L306"><td class="ts-cell"><a class="ts" href="#L306" alt="Fri Nov 27 2015 11:27:32 GMT-0800 (Pacific Standard Time)">19:27</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">annevk: FYI, I&#039;m adding some getAttributeNames tests in a Gecko bug</td></tr>
  <tr class="msg" id="L307"><td class="ts-cell"><a class="ts" href="#L307" alt="Fri Nov 27 2015 11:27:34 GMT-0800 (Pacific Standard Time)">19:27</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">wpt tests</td></tr>
  <tr class="msg" id="L308"><td class="ts-cell"><a class="ts" href="#L308" alt="Fri Nov 27 2015 11:54:10 GMT-0800 (Pacific Standard Time)">19:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">smaug____: yes and nice!</td></tr>
  <tr class="msg" id="L309"><td class="ts-cell"><a class="ts" href="#L309" alt="Fri Nov 27 2015 11:54:47 GMT-0800 (Pacific Standard Time)">19:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">gsnedders: some kind of specification dashboard from which you can file bugs for commits would be great</td></tr>
  <tr class="msg" id="L310"><td class="ts-cell"><a class="ts" href="#L310" alt="Fri Nov 27 2015 11:54:54 GMT-0800 (Pacific Standard Time)">19:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">gsnedders: so you can file bugs against browsers and wpt</td></tr>
  <tr class="msg" id="L311"><td class="ts-cell"><a class="ts" href="#L311" alt="Fri Nov 27 2015 11:57:23 GMT-0800 (Pacific Standard Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">annevk: like, updating an impl to the current spec from something a few years ago where the spec hasn&#039;t changed much is so much easier if there&#039;s tests for it rather than looking through the *whole* spec and impl</td></tr>
  <tr class="msg" id="L312"><td class="ts-cell"><a class="ts" href="#L312" alt="Fri Nov 27 2015 11:57:40 GMT-0800 (Pacific Standard Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">so we really need tests for everything</td></tr>
  <tr class="msg" id="L313"><td class="ts-cell"><a class="ts" href="#L313" alt="Fri Nov 27 2015 11:57:44 GMT-0800 (Pacific Standard Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">and people to write them</td></tr>
  <tr class="msg" id="L314"><td class="ts-cell"><a class="ts" href="#L314" alt="Fri Nov 27 2015 11:57:47 GMT-0800 (Pacific Standard Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">which is really the problem :P</td></tr>
  <tr class="msg" id="L315"><td class="ts-cell"><a class="ts" href="#L315" alt="Fri Nov 27 2015 11:57:54 GMT-0800 (Pacific Standard Time)">19:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">TabAtkins: yt?</td></tr>
  <tr class="msg" id="L316"><td class="ts-cell"><a class="ts" href="#L316" alt="Fri Nov 27 2015 12:01:48 GMT-0800 (Pacific Standard Time)">20:01</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">and people to review them</td></tr>
  <tr class="msg" id="L317"><td class="ts-cell"><a class="ts" href="#L317" alt="Fri Nov 27 2015 12:02:55 GMT-0800 (Pacific Standard Time)">20:02</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">astearns: wpt has almost no problems getting test review</td></tr>
  <tr class="msg" id="L318"><td class="ts-cell"><a class="ts" href="#L318" alt="Fri Nov 27 2015 12:03:05 GMT-0800 (Pacific Standard Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">astearns: that&#039;s a csswg-test problem, pretty much</td></tr>
  <tr class="msg" id="L319"><td class="ts-cell"><a class="ts" href="#L319" alt="Fri Nov 27 2015 12:03:13 GMT-0800 (Pacific Standard Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">yep</td></tr>
  <tr class="msg" id="L320"><td class="ts-cell"><a class="ts" href="#L320" alt="Fri Nov 27 2015 12:03:25 GMT-0800 (Pacific Standard Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">astearns: really you guys just need to relax the requirements as to who can review</td></tr>
  <tr class="msg" id="L321"><td class="ts-cell"><a class="ts" href="#L321" alt="Fri Nov 27 2015 12:03:49 GMT-0800 (Pacific Standard Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">But there&#039;s not really much point in me rambling about this again :)</td></tr>
  <tr class="msg" id="L322"><td class="ts-cell"><a class="ts" href="#L322" alt="Fri Nov 27 2015 12:03:51 GMT-0800 (Pacific Standard Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">afaik, we have - we should be allowing anyone to review</td></tr>
  <tr class="msg" id="L323"><td class="ts-cell"><a class="ts" href="#L323" alt="Fri Nov 27 2015 12:04:04 GMT-0800 (Pacific Standard Time)">20:04</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">if that&#039;s not the case, I&#039;ll push at it again</td></tr>
  <tr class="msg" id="L324"><td class="ts-cell"><a class="ts" href="#L324" alt="Fri Nov 27 2015 12:05:16 GMT-0800 (Pacific Standard Time)">20:05</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">I have no idea.</td></tr>
  <tr class="msg" id="L325"><td class="ts-cell"><a class="ts" href="#L325" alt="Fri Nov 27 2015 12:05:30 GMT-0800 (Pacific Standard Time)">20:05</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">There&#039;s no good written documentation saying what the policies are nowadays, and what there is is so out of date.</td></tr>
  <tr class="msg" id="L326"><td class="ts-cell"><a class="ts" href="#L326" alt="Fri Nov 27 2015 12:07:08 GMT-0800 (Pacific Standard Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">astearns: really I think a lot of the problem is half the time when there&#039;s any discussion almost nobody responds, and it&#039;s only the people who object respond</td></tr>
  <tr class="msg" id="L327"><td class="ts-cell"><a class="ts" href="#L327" alt="Fri Nov 27 2015 12:07:35 GMT-0800 (Pacific Standard Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">astearns: probably just need to take some large proposal of &quot;here&#039;s what we want to do&quot; to the whole group and see if there&#039;s consensus</td></tr>
  <tr class="msg" id="L328"><td class="ts-cell"><a class="ts" href="#L328" alt="Fri Nov 27 2015 12:07:38 GMT-0800 (Pacific Standard Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">gsnedders: on the mailing list, you mean?</td></tr>
  <tr class="msg" id="L329"><td class="ts-cell"><a class="ts" href="#L329" alt="Fri Nov 27 2015 12:08:21 GMT-0800 (Pacific Standard Time)">20:08</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">astearns: yeah</td></tr>
  <tr class="msg" id="L330"><td class="ts-cell"><a class="ts" href="#L330" alt="Fri Nov 27 2015 12:08:52 GMT-0800 (Pacific Standard Time)">20:08</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">I think there&#039;s much more explicit implicit agreement at F2Fs :)</td></tr>
  <tr class="msg" id="L331"><td class="ts-cell"><a class="ts" href="#L331" alt="Fri Nov 27 2015 12:09:24 GMT-0800 (Pacific Standard Time)">20:09</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">(I presume I won&#039;t be showing up in Sydney, given costs and not having any funding in place for next year presently)</td></tr>
  <tr class="msg" id="L332"><td class="ts-cell"><a class="ts" href="#L332" alt="Fri Nov 27 2015 12:09:26 GMT-0800 (Pacific Standard Time)">20:09</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">from people who don&#039;t subscribe to the testing mailing list, and so don&#039;t contribute to the discussions there :)</td></tr>
  <tr class="msg" id="L333"><td class="ts-cell"><a class="ts" href="#L333" alt="Fri Nov 27 2015 12:09:35 GMT-0800 (Pacific Standard Time)">20:09</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">(FWIW)</td></tr>
  <tr class="msg" id="L334"><td class="ts-cell"><a class="ts" href="#L334" alt="Fri Nov 27 2015 12:09:38 GMT-0800 (Pacific Standard Time)">20:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">gsnedders: yet, even if wpt gets reviews, one should not rely on them in case implementing something you get test failures :) (I just fixed a broken MutationObserver test yesterday)</td></tr>
  <tr class="msg" id="L335"><td class="ts-cell"><a class="ts" href="#L335" alt="Fri Nov 27 2015 12:09:56 GMT-0800 (Pacific Standard Time)">20:09</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">smaug____: oh, totally agreed</td></tr>
  <tr class="msg" id="L336"><td class="ts-cell"><a class="ts" href="#L336" alt="Fri Nov 27 2015 12:09:58 GMT-0800 (Pacific Standard Time)">20:09</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">but sure, usually things go well</td></tr>
  <tr class="msg" id="L337"><td class="ts-cell"><a class="ts" href="#L337" alt="Fri Nov 27 2015 12:10:33 GMT-0800 (Pacific Standard Time)">20:10</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">smaug____: but even with far higher requirements for who can review you still end up with bad tests slipping through (probably fewer though), but then you also get far fewer tests reviewed too…</td></tr>
  <tr class="msg" id="L338"><td class="ts-cell"><a class="ts" href="#L338" alt="Fri Nov 27 2015 12:11:03 GMT-0800 (Pacific Standard Time)">20:11</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">very true. need some balance, yet mostly we need just more tests</td></tr>
  <tr class="msg" id="L339"><td class="ts-cell"><a class="ts" href="#L339" alt="Fri Nov 27 2015 12:11:30 GMT-0800 (Pacific Standard Time)">20:11</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">my basic conclusion is we just need to swing policies in favour of more tests, because bad tests will be found when people debug failures</td></tr>
  <tr class="msg" id="L340"><td class="ts-cell"><a class="ts" href="#L340" alt="Fri Nov 27 2015 12:11:43 GMT-0800 (Pacific Standard Time)">20:11</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">(though that does nothing for tests that bogusly pass)</td></tr>
  <tr class="msg" id="L341"><td class="ts-cell"><a class="ts" href="#L341" alt="Fri Nov 27 2015 12:12:11 GMT-0800 (Pacific Standard Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">and really the choice is between getting the major of tests vendors write v. very, very few</td></tr>
  <tr class="msg" id="L342"><td class="ts-cell"><a class="ts" href="#L342" alt="Fri Nov 27 2015 12:12:22 GMT-0800 (Pacific Standard Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">no policy will lead to any middle ground, AFAICT</td></tr>
  <tr class="msg" id="L343"><td class="ts-cell"><a class="ts" href="#L343" alt="Fri Nov 27 2015 12:12:29 GMT-0800 (Pacific Standard Time)">20:12</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">it would be great if we could get help from web devs to write tests, so that not only browser impls write them. It should be also interests for web devs to ensure browsers don&#039;t regress behavior</td></tr>
  <tr class="msg" id="L344"><td class="ts-cell"><a class="ts" href="#L344" alt="Fri Nov 27 2015 12:13:19 GMT-0800 (Pacific Standard Time)">20:13</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">smaug____: FWIW, I know some major web companies have expressed interest in paying people to work on testing browsers (because long-term it&#039;s in there interest), but thus far nothing really has come of it</td></tr>
  <tr class="msg" id="L345"><td class="ts-cell"><a class="ts" href="#L345" alt="Fri Nov 27 2015 12:13:37 GMT-0800 (Pacific Standard Time)">20:13</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">I&#039;m going to be talking next week to a room full of web devs on that very topic - becoming responsible for the tech we use (writing tests, reporting bugs, etc.)</td></tr>
  <tr class="msg" id="L346"><td class="ts-cell"><a class="ts" href="#L346" alt="Fri Nov 27 2015 12:14:01 GMT-0800 (Pacific Standard Time)">20:14</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">smaug____: the big problem with tests from TTWF and similar is that the devs will open PRs with what they&#039;ve written, but then will never get back to respond to any sort of review comments</td></tr>
  <tr class="msg" id="L347"><td class="ts-cell"><a class="ts" href="#L347" alt="Fri Nov 27 2015 12:14:09 GMT-0800 (Pacific Standard Time)">20:14</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">and quite frankly plenty of the tests are really poor</td></tr>
  <tr class="msg" id="L348"><td class="ts-cell"><a class="ts" href="#L348" alt="Fri Nov 27 2015 12:14:38 GMT-0800 (Pacific Standard Time)">20:14</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">I think a lot of that is just the fact the majority of people are terrible at any sort of QA</td></tr>
  <tr class="msg" id="L349"><td class="ts-cell"><a class="ts" href="#L349" alt="Fri Nov 27 2015 12:14:46 GMT-0800 (Pacific Standard Time)">20:14</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">does that hint we need better documentation how to write good tests</td></tr>
  <tr class="msg" id="L350"><td class="ts-cell"><a class="ts" href="#L350" alt="Fri Nov 27 2015 12:15:28 GMT-0800 (Pacific Standard Time)">20:15</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">smaug____: I think the issue is deeper than that: people don&#039;t know *how* to even start writing a test for a feature (not a web feature, but *any* feature)</td></tr>
  <tr class="msg" id="L351"><td class="ts-cell"><a class="ts" href="#L351" alt="Fri Nov 27 2015 12:16:04 GMT-0800 (Pacific Standard Time)">20:16</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">like what we get is consistent with what I see in plenty of places: devs are simply terrible at testing</td></tr>
  <tr class="msg" id="L352"><td class="ts-cell"><a class="ts" href="#L352" alt="Fri Nov 27 2015 12:16:20 GMT-0800 (Pacific Standard Time)">20:16</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">hmm, I don&#039;t btw know how to run wpt tests if I&#039;m not using mach from mozilla-central</td></tr>
  <tr class="msg" id="L353"><td class="ts-cell"><a class="ts" href="#L353" alt="Fri Nov 27 2015 12:16:33 GMT-0800 (Pacific Standard Time)">20:16</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">but like how to run wpt in other browsers</td></tr>
  <tr class="msg" id="L354"><td class="ts-cell"><a class="ts" href="#L354" alt="Fri Nov 27 2015 12:17:01 GMT-0800 (Pacific Standard Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">looks like <a href="https://github.com/w3c/web-platform-tests/">https://github.com/w3c/web-platform-tests/</a> explains</td></tr>
  <tr class="msg" id="L355"><td class="ts-cell"><a class="ts" href="#L355" alt="Fri Nov 27 2015 12:17:24 GMT-0800 (Pacific Standard Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">not really how to run all the tests in an automated manner</td></tr>
  <tr class="msg" id="L356"><td class="ts-cell"><a class="ts" href="#L356" alt="Fri Nov 27 2015 12:17:31 GMT-0800 (Pacific Standard Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">but how many people actually need to do that?</td></tr>
  <tr class="msg" id="L357"><td class="ts-cell"><a class="ts" href="#L357" alt="Fri Nov 27 2015 12:17:41 GMT-0800 (Pacific Standard Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">jgraham_ et al have just make running tests so easy with gecko</td></tr>
  <tr class="msg" id="L358"><td class="ts-cell"><a class="ts" href="#L358" alt="Fri Nov 27 2015 12:17:43 GMT-0800 (Pacific Standard Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">like what matters is being able to run one test</td></tr>
  <tr class="msg" id="L359"><td class="ts-cell"><a class="ts" href="#L359" alt="Fri Nov 27 2015 12:17:49 GMT-0800 (Pacific Standard Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">s/make/made/</td></tr>
  <tr class="msg" id="L360"><td class="ts-cell"><a class="ts" href="#L360" alt="Fri Nov 27 2015 12:17:57 GMT-0800 (Pacific Standard Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">smaug____: fwiw, wptrunner works with more than just Gecko and Servo</td></tr>
  <tr class="msg" id="L361"><td class="ts-cell"><a class="ts" href="#L361" alt="Fri Nov 27 2015 12:18:12 GMT-0800 (Pacific Standard Time)">20:18</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">at least in principle, it should be cross-browser, without too much setup code per browser</td></tr>
  <tr class="msg" id="L362"><td class="ts-cell"><a class="ts" href="#L362" alt="Fri Nov 27 2015 12:18:43 GMT-0800 (Pacific Standard Time)">20:18</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">the harder thing is running reftests in some user-friendly way, IMO</td></tr>
  <tr class="msg" id="L363"><td class="ts-cell"><a class="ts" href="#L363" alt="Fri Nov 27 2015 12:23:30 GMT-0800 (Pacific Standard Time)">20:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">astearns: do you have any views on how to clarify policies about testsuite? just bring it up on www-style?</td></tr>
  <tr class="msg" id="L364"><td class="ts-cell"><a class="ts" href="#L364" alt="Fri Nov 27 2015 12:23:38 GMT-0800 (Pacific Standard Time)">20:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">(and telecons?)</td></tr>
  <tr class="msg" id="L365"><td class="ts-cell"><a class="ts" href="#L365" alt="Fri Nov 27 2015 12:24:20 GMT-0800 (Pacific Standard Time)">20:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">gsnedders: but do other vendors yet run wpt automatically?</td></tr>
  <tr class="msg" id="L366"><td class="ts-cell"><a class="ts" href="#L366" alt="Fri Nov 27 2015 12:24:35 GMT-0800 (Pacific Standard Time)">20:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">I thought blink has plans, but not doing it yet</td></tr>
  <tr class="msg" id="L367"><td class="ts-cell"><a class="ts" href="#L367" alt="Fri Nov 27 2015 12:24:43 GMT-0800 (Pacific Standard Time)">20:24</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">smaug____: Edge do</td></tr>
  <tr class="msg" id="L368"><td class="ts-cell"><a class="ts" href="#L368" alt="Fri Nov 27 2015 12:24:47 GMT-0800 (Pacific Standard Time)">20:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</td><td class="msg-cell">ah, great</td></tr>
  <tr class="msg" id="L369"><td class="ts-cell"><a class="ts" href="#L369" alt="Fri Nov 27 2015 12:25:06 GMT-0800 (Pacific Standard Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">telecons and ftf would probably be more effective than the mailing list(s) (as you noted, only the people who are comfortable with the status quo respond on the lists)</td></tr>
  <tr class="msg" id="L370"><td class="ts-cell"><a class="ts" href="#L370" alt="Fri Nov 27 2015 12:25:43 GMT-0800 (Pacific Standard Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">I&#039;m happy to spend telcon time talking about testing</td></tr>
  <tr class="msg" id="L371"><td class="ts-cell"><a class="ts" href="#L371" alt="Fri Nov 27 2015 12:25:55 GMT-0800 (Pacific Standard Time)">20:25</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">we should probably do this once I formally back in the group :)</td></tr>
  <tr class="msg" id="L372"><td class="ts-cell"><a class="ts" href="#L372" alt="Fri Nov 27 2015 12:26:51 GMT-0800 (Pacific Standard Time)">20:26</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">smaug____: I think within six months we really hopefully can be at a point where everyone is running wpt+csswg-test. idk quite how realistic that is for Blink.</td></tr>
  <tr class="msg" id="L373"><td class="ts-cell"><a class="ts" href="#L373" alt="Fri Nov 27 2015 12:26:54 GMT-0800 (Pacific Standard Time)">20:26</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">yep yep (and/or before the formalities are done, depending on how long that takes)</td></tr>
  <tr class="msg" id="L374"><td class="ts-cell"><a class="ts" href="#L374" alt="Fri Nov 27 2015 12:27:12 GMT-0800 (Pacific Standard Time)">20:27</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">brb</td></tr>
  <tr class="msg" id="L375"><td class="ts-cell"><a class="ts" href="#L375" alt="Fri Nov 27 2015 12:27:38 GMT-0800 (Pacific Standard Time)">20:27</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">as I said, I won&#039;t be at the next F2F (and idk really until next TPAC, given travel costs, depending on what happens about funding)</td></tr>
  <tr class="msg" id="L376"><td class="ts-cell"><a class="ts" href="#L376" alt="Fri Nov 27 2015 12:27:57 GMT-0800 (Pacific Standard Time)">20:27</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">(I mean I /can/ self-fund, but long-haul travel starts having real effects on income fast)</td></tr>
  <tr class="msg" id="L377"><td class="ts-cell"><a class="ts" href="#L377" alt="Fri Nov 27 2015 12:36:34 GMT-0800 (Pacific Standard Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">gsnedders: where are you based?</td></tr>
  <tr class="msg" id="L378"><td class="ts-cell"><a class="ts" href="#L378" alt="Fri Nov 27 2015 12:37:59 GMT-0800 (Pacific Standard Time)">20:37</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">astearns: Scotland</td></tr>
  <tr class="msg" id="L379"><td class="ts-cell"><a class="ts" href="#L379" alt="Fri Nov 27 2015 12:39:19 GMT-0800 (Pacific Standard Time)">20:39</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">I think good progress can be made if we spend some time talking on the weekly calls about tests</td></tr>
  <tr class="msg" id="L380"><td class="ts-cell"><a class="ts" href="#L380" alt="Fri Nov 27 2015 12:40:03 GMT-0800 (Pacific Standard Time)">20:40</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">prod people about the review queue, get some testing voids identified to spur test writing</td></tr>
  <tr class="msg" id="L381"><td class="ts-cell"><a class="ts" href="#L381" alt="Fri Nov 27 2015 12:41:17 GMT-0800 (Pacific Standard Time)">20:41</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">I think stuff would be easier if we just viewed the tests in the repo as de-facto reviewed (by virtue of being run by some), and just kept on top of new tests</td></tr>
  <tr class="msg" id="L382"><td class="ts-cell"><a class="ts" href="#L382" alt="Fri Nov 27 2015 12:42:11 GMT-0800 (Pacific Standard Time)">20:42</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">(I also don&#039;t think finding test voids really helps *that* much, because browser vendors will mostly write tests when it&#039;s in their interest and not much otherwise)</td></tr>
  <tr class="msg" id="L383"><td class="ts-cell"><a class="ts" href="#L383" alt="Fri Nov 27 2015 12:42:55 GMT-0800 (Pacific Standard Time)">20:42</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">the review queue I&#039;m concerned about is pending pull requests. I don&#039;t much care about the review &quot;status&quot; of tests already in the repo</td></tr>
  <tr class="msg" id="L384"><td class="ts-cell"><a class="ts" href="#L384" alt="Fri Nov 27 2015 12:45:59 GMT-0800 (Pacific Standard Time)">20:45</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">I&#039;ll try and write something up as to what there&#039;s mostly consensus on (mostly those who&#039;ve spoken except for Gérard) to www-style for the sake of somewhere to *start* discussions; I&#039;ll probably throw in a few things that I feel strongly about too :)</td></tr>
  <tr class="msg" id="L385"><td class="ts-cell"><a class="ts" href="#L385" alt="Fri Nov 27 2015 12:48:51 GMT-0800 (Pacific Standard Time)">20:48</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">there wasn&#039;t anything more than &quot;west coast US&quot; said for the May F2F was there?</td></tr>
  <tr class="msg" id="L386"><td class="ts-cell"><a class="ts" href="#L386" alt="Fri Nov 27 2015 13:01:45 GMT-0800 (Pacific Standard Time)">21:01</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">gsnedders: nothing more definite yet for May. I don&#039;t expect we&#039;ll have a destination until after the new year</td></tr>
  <tr class="msg" id="L387"><td class="ts-cell"><a class="ts" href="#L387" alt="Fri Nov 27 2015 15:54:00 GMT-0800 (Pacific Standard Time)">23:54</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=paxcoder@irc>paxcoder</span>&gt;</td><td class="msg-cell">Hello. annevk: Why don&#039;t you write something on your blog? Are you too busy?</td></tr>
</tbody></table>
</div></div></div></body>
