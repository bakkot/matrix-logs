<!doctype html>
<head>
  <title>#whatwg on 2019-09-12</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2019-09-12<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2019-09-11" class="nav-link"><span>prev</span></a>
<a href="2019-09-13" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Sep 11 2019 17:27:24 GMT-0700 (Pacific Daylight Time)">00:27</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Nothing really further... It just feels more like HTML, i.e. the core of the browser, than Infra, i.e. how to write specs.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Sep 11 2019 18:22:26 GMT-0700 (Pacific Daylight Time)">01:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">these substeps of step 14 look... scary, tbh</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Sep 11 2019 18:22:53 GMT-0700 (Pacific Daylight Time)">01:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">maybe it makes sense in the context of an internal browser implementation, but these semantics have the infamous &quot;zalgo problem&quot;</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Sep 11 2019 18:22:55 GMT-0700 (Pacific Daylight Time)">01:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">3. If completion is a normal completion, return completion.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Sep 11 2019 18:22:55 GMT-0700 (Pacific Daylight Time)">01:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">4. If completion is an abrupt completion and the callback function has a return type that is not a promise type, return completion.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Sep 11 2019 18:22:55 GMT-0700 (Pacific Daylight Time)">01:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">5. Let rejectedPromise be ! Call(%Promise_reject%, %Promise%, «completion.[[Value]]»).</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Sep 11 2019 18:22:55 GMT-0700 (Pacific Daylight Time)">01:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">6. Return the result of converting rejectedPromise to the callback function’s return type.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Sep 11 2019 19:35:08 GMT-0700 (Pacific Daylight Time)">02:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Jessidhia: they do not. This is just spec-ese for writing `try { steps() } catch (e) { return PRomise.reject(e); }`</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Sep 11 2019 19:39:03 GMT-0700 (Pacific Daylight Time)">02:39</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">4. returns the abrupt completion before reaching the step where %Promise_reject% is invoked</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Sep 11 2019 19:40:54 GMT-0700 (Pacific Daylight Time)">02:40</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">also, if there is a normal completion, it returns the completion as-is, without using the Promise capability to ensure the result is a Promise</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Sep 11 2019 19:41:32 GMT-0700 (Pacific Daylight Time)">02:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yes, true, it does not return a promise if the operation is not promise-returning.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Sep 11 2019 19:41:39 GMT-0700 (Pacific Daylight Time)">02:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">This is as intended.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Sep 11 2019 19:41:49 GMT-0700 (Pacific Daylight Time)">02:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Not all functions return promises.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Sep 11 2019 19:49:21 GMT-0700 (Pacific Daylight Time)">02:49</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">yeah, it just gets into that scary &quot;this returns a Promise / is asynchronous but _only sometimes_&quot; territory for which the Zalgo problem was named</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Sep 11 2019 19:52:15 GMT-0700 (Pacific Daylight Time)">02:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">The same function will always return a promise, or always not return a promise. It is declared in the return type.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Sep 11 2019 19:52:28 GMT-0700 (Pacific Daylight Time)">02:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">This algorithm works on any declaration, but any given declaration will always behave the same.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Sep 11 2019 19:53:35 GMT-0700 (Pacific Daylight Time)">02:53</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=Jessidhia@irc>Jessidhia</span>&gt;</td><td class="msg-cell">ah, right, this calls IDL functions which have a type declaration</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Sep 11 2019 21:01:31 GMT-0700 (Pacific Daylight Time)">04:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: jyasskin: I think Infra as we should allow for user agents that implement URL, but not much other WHATWG standards; making it about browsers excludes too much.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Sep 11 2019 21:56:24 GMT-0700 (Pacific Daylight Time)">04:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm are those user agents? Like I don&#039;t think of Node or PHP as a user AGENT.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Sep 11 2019 21:56:41 GMT-0700 (Pacific Daylight Time)">04:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(that was accidental caps, not purposeful emphasis)</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Sep 11 2019 22:52:41 GMT-0700 (Pacific Daylight Time)">05:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">They are traditionally, afaik</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Sep 11 2019 22:53:58 GMT-0700 (Pacific Daylight Time)">05:53</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And would match the way we use the term, otherwise we ought to use some other term most of the time</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Sep 11 2019 23:51:20 GMT-0700 (Pacific Daylight Time)">06:51</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: The service worker working group is on Monday. Are there particular parts of the day you&#039;ll be there? There&#039;s a couple of things that could do with your input, but happy to schedule around you</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Sep 12 2019 00:09:23 GMT-0700 (Pacific Daylight Time)">07:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I have something at 10:15-10:45 and there&#039;s an a11y thing or two zcorpan would know about, so there&#039;s definitely time somewhere</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Sep 12 2019 00:09:36 GMT-0700 (Pacific Daylight Time)">07:09</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">taa</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Sep 12 2019 03:59:07 GMT-0700 (Pacific Daylight Time)">10:59</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">annevk: OTOH, it&#039;s easier to deal with naysaying the WHATWG specs are positioned as attempting to be normative over browsers and other kinds of software may be written to match if they care to interoperate</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Sep 12 2019 03:59:27 GMT-0700 (Pacific Daylight Time)">10:59</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">s/naysaying the/naysaying if the/</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Sep 12 2019 04:01:03 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">annevk: see e.g. <a href="http://www.open-std.org/pipermail/unicode/2019-August/000574.html">http://www.open-std.org/pipermail/unicode/2019-August/000574.html</a></td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Sep 12 2019 04:33:40 GMT-0700 (Pacific Daylight Time)">11:33</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">zcorpan: Just to be clear about your latest lazyload review, you&#039;re saying even disconnected images with `loading=lazy` specified would still load eagerly, right?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Sep 12 2019 04:34:05 GMT-0700 (Pacific Daylight Time)">11:34</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">If that&#039;s what you mean, then I agree, the latest changes seem to overlook this</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Sep 12 2019 04:34:28 GMT-0700 (Pacific Daylight Time)">11:34</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">domfarolino: as specified that would happen, yes, afaict</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Sep 12 2019 04:34:38 GMT-0700 (Pacific Daylight Time)">11:34</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">zcorpan: Cool thanks, I&#039;ll address</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Sep 12 2019 04:34:48 GMT-0700 (Pacific Daylight Time)">11:34</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">nice!</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Sep 12 2019 04:50:13 GMT-0700 (Pacific Daylight Time)">11:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hsivonen: it&#039;s tricky, as it does seem somewhat harmful for web-consuming software to not use the URL Standard as a reference</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Sep 12 2019 04:50:21 GMT-0700 (Pacific Daylight Time)">11:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hsivonen: e.g., curl comes to mind</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Sep 12 2019 05:17:32 GMT-0700 (Pacific Daylight Time)">12:17</a></td><td class="nick-cell"><span class="nick nick-12" title=annevk@irc>annevk</span></td><td class="msg-cell">wonders when issues Domenic files will reach epic poem length</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Sep 12 2019 05:31:03 GMT-0700 (Pacific Daylight Time)">12:31</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">annevk: maybe should apply <a href="https://twitter.com/catherineols/status/1171503961662087169">https://twitter.com/catherineols/status/1171503961662087169</a> to Domenic&#039;s issues</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Sep 12 2019 05:31:33 GMT-0700 (Pacific Daylight Time)">12:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">heh</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Sep 12 2019 05:41:22 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Where&#039;s Ms2ger?</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu Sep 12 2019 05:41:41 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">zcorpan: btw, while you&#039;re here, are we meeting Monday and on what times?</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu Sep 12 2019 05:46:30 GMT-0700 (Pacific Daylight Time)">12:46</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">annevk: I haven&#039;t heard back yet. Pinged my email thread. I suggested 2pm Monday now</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu Sep 12 2019 09:55:23 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: for custom element ARIA role/states, what&#039;s the plan for built-ins?</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu Sep 12 2019 09:55:32 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: customized built-ins, in particular</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Thu Sep 12 2019 11:28:46 GMT-0700 (Pacific Daylight Time)">18:28</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=jyasskin@irc>jyasskin</span>&gt;</td><td class="msg-cell">annevk/Domenic: <a href="https://url.spec.whatwg.org/#writing">https://url.spec.whatwg.org/#writing</a> does use &quot;user agent&quot;, so I&#039;ll go for Infra: <a href="https://github.com/whatwg/infra/pull/269">https://github.com/whatwg/infra/pull/269</a>.</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Thu Sep 12 2019 16:49:34 GMT-0700 (Pacific Daylight Time)">23:49</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: IIRC attachInternals() throws for customized built-ins</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Thu Sep 12 2019 16:50:04 GMT-0700 (Pacific Daylight Time)">23:50</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I think it could be made to work, with extra effort, but the demand is unclear.</td></tr>

</tbody></table></div></div></div></body>
