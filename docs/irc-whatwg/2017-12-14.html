<!doctype html>
<head>
  <title>#whatwg on 2017-12-14</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "#whatwg";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2017-12-14<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2017-12-13" class="nav-link"><span>prev</span></a>
<a href="2017-12-15" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Dec 13 2017 18:46:07 GMT-0800 (Pacific Standard Time)">02:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">does anyone here know what happens in an IETF meeting other than WG meetings?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Dec 13 2017 18:47:05 GMT-0800 (Pacific Standard Time)">02:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Seems like a good question to ask on that thread... I found <a href="https://ietf.org/tao.html#rfc.section.3">https://ietf.org/tao.html#rfc.section.3</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Dec 13 2017 20:00:41 GMT-0800 (Pacific Standard Time)">04:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: smaug____ is not here</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Dec 13 2017 20:03:11 GMT-0800 (Pacific Standard Time)">04:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">I support updating the mailing list with news and tweeting interesting threads</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Dec 13 2017 20:03:21 GMT-0800 (Pacific Standard Time)">04:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Happy to help next week</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Dec 14 2017 01:12:13 GMT-0800 (Pacific Standard Time)">09:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</div></td><td class="msg-cell">littledan: you should really split up your spec repo so you can add pr-preview to it.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Dec 14 2017 01:12:20 GMT-0800 (Pacific Standard Time)">09:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</div></td><td class="msg-cell">littledan:</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Dec 14 2017 02:36:45 GMT-0800 (Pacific Standard Time)">10:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=foolip@irc>foolip</span>&gt;</div></td><td class="msg-cell">Ms2ger: the promise cleanup isn&#039;t on OKRs or anything, but Mike has only next week to work on it. Review appreciated, but I could to it too if you like.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Dec 14 2017 02:37:22 GMT-0800 (Pacific Standard Time)">10:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=foolip@irc>foolip</span>&gt;</div></td><td class="msg-cell">Or at least someone who&#039;s being paid to, if it&#039;s not fun and rewarding.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Dec 14 2017 02:43:03 GMT-0800 (Pacific Standard Time)">10:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=littledan@irc>littledan</span>&gt;</div></td><td class="msg-cell">tobie: Interesting idea. Seems like we&#039;d need to do some work to integrate ecmarkup and pr-preview... another thing on my todo list I guess</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Dec 14 2017 02:43:12 GMT-0800 (Pacific Standard Time)">10:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=littledan@irc>littledan</span>&gt;</div></td><td class="msg-cell">I didn&#039;t know about that tool. thanks for the link</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Dec 14 2017 02:44:07 GMT-0800 (Pacific Standard Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</div></td><td class="msg-cell">ecmarkup is a node project, right? It would be trivial to integrate as a post-processor.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Dec 14 2017 02:44:19 GMT-0800 (Pacific Standard Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=tobie@irc>tobie</span>&gt;</div></td><td class="msg-cell">littledan: happy to hook it up for you.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Dec 14 2017 02:44:40 GMT-0800 (Pacific Standard Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title=littledan@irc>littledan</span>&gt;</div></td><td class="msg-cell">that&#039;d be really helpful!</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Dec 14 2017 03:25:55 GMT-0800 (Pacific Standard Time)">11:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</div></td><td class="msg-cell">foolip, how about I see what the PR ends up looking like, and I&#039;ll ping you if I won&#039;t have time?</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Dec 14 2017 04:07:13 GMT-0800 (Pacific Standard Time)">12:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=foolip@irc>foolip</span>&gt;</div></td><td class="msg-cell">Ms2ger: SGTM, thanks!</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Dec 14 2017 05:07:02 GMT-0800 (Pacific Standard Time)">13:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=foolip@irc>foolip</span>&gt;</div></td><td class="msg-cell">In <a href="https://github.com/whatwg/dom/issues/544">https://github.com/whatwg/dom/issues/544</a> I don&#039;t see the string &quot;compat&quot;. It seems unlikely to me that adding such a short and useful name on EventTarget would be web compatible, has anyone done any digging yet?</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Dec 14 2017 05:07:07 GMT-0800 (Pacific Standard Time)">13:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=foolip@irc>foolip</span>&gt;</div></td><td class="msg-cell">^ annevk</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Dec 14 2017 05:11:19 GMT-0800 (Pacific Standard Time)">13:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">foolip: at this point we don&#039;t have implementer interest although othermaciej did comment with some questions, so I&#039;m not sure it&#039;s worth bikeshedding names</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Dec 14 2017 05:12:07 GMT-0800 (Pacific Standard Time)">13:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">foolip: that thread is already way longer than is ideal, but not unexpected due to the excited around new things ðŸ˜ƒ</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Dec 14 2017 05:58:13 GMT-0800 (Pacific Standard Time)">13:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=foolip@irc>foolip</span>&gt;</div></td><td class="msg-cell">annevk: ok, good</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Dec 14 2017 06:18:05 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">JakeA: &quot;This also happens before unsetting the event&#039;s passive listener flag, so preventing default should be fine for spec-dispatched events&quot; is not true</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Dec 14 2017 06:18:49 GMT-0800 (Pacific Standard Time)">14:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">JakeA: unless you want to change all algorithms that dispatch an event and look at its canceled flag afterwards to wait for all microtasks to end first, effectively breaking compat of sorts</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Dec 14 2017 06:19:16 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">JakeA: as currently you can expect that by the time the microtask runs the spec-defined action has already happened</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Dec 14 2017 06:19:31 GMT-0800 (Pacific Standard Time)">14:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">annevk: huh, but aren&#039;t microtasks handled as part of calling the callback?</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Dec 14 2017 06:20:32 GMT-0800 (Pacific Standard Time)">14:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">JakeA: hmm, I see, so click() and a normal mouse click would be different</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Dec 14 2017 06:21:06 GMT-0800 (Pacific Standard Time)">14:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">JakeA: that&#039;s going to be somewhat confusing</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Dec 14 2017 06:51:28 GMT-0800 (Pacific Standard Time)">14:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">annevk: especially now EventTarget is constructible/extendable, we&#039;ll see more dispatchEvent usage</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Dec 14 2017 06:58:01 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">Since I don&#039;t know the history behind AbortController and AbortSignal, why are they separate things?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Dec 14 2017 06:58:49 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">smaug____: being able to hand someone a signal without giving away control</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Dec 14 2017 06:58:53 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: folks really wanted the ability to abort and the ability to be abortable to be separate</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Dec 14 2017 06:59:04 GMT-0800 (Pacific Standard Time)">14:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">Why wouldn&#039;t there be just Abortable object which inherits EventTarget (or possibly just have a getter for a promise which is resolved when aborted or something)</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Dec 14 2017 06:59:24 GMT-0800 (Pacific Standard Time)">14:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">Why they need to be separate?</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Dec 14 2017 07:00:17 GMT-0800 (Pacific Standard Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: eg, in a service worker, fetchEvent.request.signal will tell you if the browser wants the request to be cancelled</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Dec 14 2017 07:00:34 GMT-0800 (Pacific Standard Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">this might be because some JS on the page called controller.abort(), or it might be because a tab closed</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Dec 14 2017 07:01:30 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">hmm, why wouldn&#039;t request be EventTarget with onabort on it</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Dec 14 2017 07:01:37 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">oh well, the ship has probably sailed</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Dec 14 2017 07:02:25 GMT-0800 (Pacific Standard Time)">15:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: So you have onabort on requests &amp; onabort on controllers?</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Dec 14 2017 07:02:44 GMT-0800 (Pacific Standard Time)">15:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">smaug____: Request is carrying information around, it doesn&#039;t really represent an ongoing thing</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu Dec 14 2017 07:03:15 GMT-0800 (Pacific Standard Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">smaug____: that also wouldn&#039;t really allow you to pass the signal around to other things that might need to react to it</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu Dec 14 2017 07:03:39 GMT-0800 (Pacific Standard Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">I would have expected request itself basically been the signal</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu Dec 14 2017 07:03:45 GMT-0800 (Pacific Standard Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">(the ship has sailed, FWIW, but it would be good to have a shared understanding)</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu Dec 14 2017 07:03:58 GMT-0800 (Pacific Standard Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">smaug____: so every API that takes a signal would have to take a Request?</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Thu Dec 14 2017 07:04:14 GMT-0800 (Pacific Standard Time)">15:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">no</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Thu Dec 14 2017 07:04:24 GMT-0800 (Pacific Standard Time)">15:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">signal could have been a mixin or so</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Thu Dec 14 2017 07:04:37 GMT-0800 (Pacific Standard Time)">15:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: <a href="https://developers.google.com/web/updates/2017/09/abortable-fetch#in_a_service_worker">https://developers.google.com/web/updates/2017/09/abortable-fetch#in_a_service_worker</a> might help</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Thu Dec 14 2017 07:05:22 GMT-0800 (Pacific Standard Time)">15:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">not really</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Thu Dec 14 2017 07:06:10 GMT-0800 (Pacific Standard Time)">15:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: is your proposal fetch(url, { signal: event.request })?</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Thu Dec 14 2017 07:07:23 GMT-0800 (Pacific Standard Time)">15:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">I wanted there to be a clear distinction between &quot;pls attempt to abort&quot; and &quot;this has aborted&quot;</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Thu Dec 14 2017 07:07:47 GMT-0800 (Pacific Standard Time)">15:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">With request.onabort, it wouldn&#039;t be clear which that was</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Thu Dec 14 2017 07:08:53 GMT-0800 (Pacific Standard Time)">15:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">I guess I don&#039;t understand why we want the same signal in fetch(url, { signal: event.request.signal })</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Thu Dec 14 2017 07:09:04 GMT-0800 (Pacific Standard Time)">15:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">looks wrong to me</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Thu Dec 14 2017 07:09:13 GMT-0800 (Pacific Standard Time)">15:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">but this is serviceworkers, so I stop looking at this now</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Thu Dec 14 2017 07:12:56 GMT-0800 (Pacific Standard Time)">15:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">smaug____: you want the fetch (or multiple of them) in the service worker to be dependent on the main thread</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Thu Dec 14 2017 07:14:14 GMT-0800 (Pacific Standard Time)">15:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">fetchEvent.request gives details on the request the browser would make if the service worker wasn&#039;t there. It includes the abort signal. You may want to make a different request, but one that&#039;s &#039;inspired&#039; by the original request. Eg use some of the same headers, search string etc etc. One of the things you probably want to copy is any intent to abort.</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Thu Dec 14 2017 07:21:04 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">JakeA: so what if the original request is aborted or you end up using same signal with many fetch calls</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Thu Dec 14 2017 07:21:20 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">I think I&#039;m missing something in this expected pattern</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Thu Dec 14 2017 07:21:58 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: using the same signal with many fetches is fine if they&#039;re related <a href="https://developers.google.com/web/updates/2017/09/abortable-fetch#one_signal_many_fetches">https://developers.google.com/web/updates/2017/09/abortable-fetch#one_signal_many_fetches</a></td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Thu Dec 14 2017 07:23:01 GMT-0800 (Pacific Standard Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">JakeA: signal says it is aborted</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Thu Dec 14 2017 07:23:17 GMT-0800 (Pacific Standard Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">but it is just one of the fetches</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Thu Dec 14 2017 07:24:15 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">I guess you&#039;re saying that if one is interested in the case when any of the fetches in a group fails, then this works fine</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Thu Dec 14 2017 07:25:36 GMT-0800 (Pacific Standard Time)">15:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: fetchStory() is an operation that may involve n fetches. Aborting that operation will involve aborting any of those active fetches, and avoiding any additional ones.</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Thu Dec 14 2017 07:28:53 GMT-0800 (Pacific Standard Time)">15:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">hmm, still missing something :) I would understand this if signal (should be then called something else) was abortable, and calling abort() on it would abort all the fetch and then abort event would be dispatched. But I guess the controller is now somewhere else, hidden</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Thu Dec 14 2017 07:35:46 GMT-0800 (Pacific Standard Time)">15:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: So, I give you a buzzer, and tell you to do star jumps until the buzzer buzzes. I, the owner of the buzzer, know the special code to emit to make the buzzer buzz. The signal is the buzzer.</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Thu Dec 14 2017 07:36:08 GMT-0800 (Pacific Standard Time)">15:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">You can&#039;t make the buzzer buzz. It&#039;s my buzzer.</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Thu Dec 14 2017 07:36:40 GMT-0800 (Pacific Standard Time)">15:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">You&#039;re holding it, so you can react to it buzzing.</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Thu Dec 14 2017 07:37:22 GMT-0800 (Pacific Standard Time)">15:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">And why we want this pattern?</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Thu Dec 14 2017 07:37:59 GMT-0800 (Pacific Standard Time)">15:37</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-12" title=wanderview@irc>wanderview</span></div></td><td class="msg-cell">wonders what is going on here...</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Thu Dec 14 2017 07:38:02 GMT-0800 (Pacific Standard Time)">15:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">anyhow, sounds like I should read all the relevant discussions which has lead to this</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Thu Dec 14 2017 07:38:05 GMT-0800 (Pacific Standard Time)">15:38</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-12" title=wanderview@irc>wanderview</span></div></td><td class="msg-cell">reads backscroll...</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Thu Dec 14 2017 07:38:36 GMT-0800 (Pacific Standard Time)">15:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">wanderview: nothing too useful. I&#039;m not being familiar with various reasoning around service worker related API design</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Thu Dec 14 2017 07:39:02 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">definitely an area I should stay away :)</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Thu Dec 14 2017 07:39:21 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: this isn&#039;t a service worker API</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Thu Dec 14 2017 07:39:38 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: Other languages have similar things <a href="https://msdn.microsoft.com/en-us/library/system.threading.cancellationtoken(v=vs.110).aspx#Anchor_6">https://msdn.microsoft.com/en-us/library/system.threading.cancellationtoken(v=vs.110).aspx#Anchor_6</a></td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Thu Dec 14 2017 07:40:53 GMT-0800 (Pacific Standard Time)">15:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</div></td><td class="msg-cell">smaug____: I think its just separation of concerns... separate interfaces for &quot;ability react to the abort&quot; and &quot;ability to trigger the abort&quot;</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Thu Dec 14 2017 07:41:19 GMT-0800 (Pacific Standard Time)">15:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</div></td><td class="msg-cell">smaug____: some people really wanted this and I think it made some things cleaner to integrate with fetch, streams, and service worker</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Thu Dec 14 2017 07:41:47 GMT-0800 (Pacific Standard Time)">15:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</div></td><td class="msg-cell">smaug____: but fetch abort was a massive bikeshed fest... honestly I accept anything JakeA/annevk/Domenic were able to get consensus on just to have the capability</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Thu Dec 14 2017 07:43:22 GMT-0800 (Pacific Standard Time)">15:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">ok. And yeah, I&#039;m not proposing any changes since the ship has sailed, as I said.  Occasionally it would be just nice to understand the reasoning.</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Thu Dec 14 2017 07:44:13 GMT-0800 (Pacific Standard Time)">15:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">smaug____: it&#039;s entirely possible there&#039;s a better pattern that wasn&#039;t considered, as with everything</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Thu Dec 14 2017 07:44:16 GMT-0800 (Pacific Standard Time)">15:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">do you have one in mind?</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Thu Dec 14 2017 07:45:16 GMT-0800 (Pacific Standard Time)">15:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">not sure it is even worth to think about that now.</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Thu Dec 14 2017 07:45:50 GMT-0800 (Pacific Standard Time)">15:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">(random note, I wish more people would have commented microtasks when they were introduced. Perhaps we would have found some better idea.)</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Thu Dec 14 2017 07:47:15 GMT-0800 (Pacific Standard Time)">15:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</div></td><td class="msg-cell">its also easier to combine separate interfaces into a single object (put abort() on signal) then it is to split things in the future... so it seemed safer to start with this</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Thu Dec 14 2017 07:47:25 GMT-0800 (Pacific Standard Time)">15:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=wanderview@irc>wanderview</span>&gt;</div></td><td class="msg-cell">maybe we can make a simplified abort interface in the future</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Thu Dec 14 2017 08:10:03 GMT-0800 (Pacific Standard Time)">16:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: <a href="https://searchfox.org/mozilla-central/source/dom/html/HTMLInputElement.cpp#180">https://searchfox.org/mozilla-central/source/dom/html/HTMLInputElement.cpp#180</a> already seems like a different feature</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Thu Dec 14 2017 08:10:08 GMT-0800 (Pacific Standard Time)">16:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: and it&#039;s not even behind a flag</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Thu Dec 14 2017 08:10:10 GMT-0800 (Pacific Standard Time)">16:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">smaug____: ^^</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Thu Dec 14 2017 08:10:35 GMT-0800 (Pacific Standard Time)">16:10</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-12" title=annevk@irc>annevk</span></div></td><td class="msg-cell">wonders if that inputmode thing impl is hooked up to something</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Thu Dec 14 2017 08:11:23 GMT-0800 (Pacific Standard Time)">16:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">I thought it is used on android, but I could be wrong</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Thu Dec 14 2017 08:12:52 GMT-0800 (Pacific Standard Time)">16:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">I think I&#039;m wrong</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Thu Dec 14 2017 08:25:04 GMT-0800 (Pacific Standard Time)">16:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">othermaciej: was Event&#039;s having cancel() a typo? Firefox does not have that method at least</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Thu Dec 14 2017 08:25:25 GMT-0800 (Pacific Standard Time)">16:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">IT was, I meant stopPropagation(), as Jake correctly inferred</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Thu Dec 14 2017 08:26:33 GMT-0800 (Pacific Standard Time)">16:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">Just so I can avoid asking more basic questions in the issue, where in the event dispatch process is the microtask queue drained?</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Thu Dec 14 2017 08:26:43 GMT-0800 (Pacific Standard Time)">16:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">Is it after every individual event listener gets called?</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Thu Dec 14 2017 08:27:03 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">othermaciej: it depends on whether the JavaScript stack is empty</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Thu Dec 14 2017 08:27:17 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">othermaciej: and yes, that is the point</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Thu Dec 14 2017 08:27:46 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">othermaciej: that invokes an algorithm defined in IDL that integrates with HTML that drains the microtask queue if the JavaScript stack is empty</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Thu Dec 14 2017 08:27:57 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">othermaciej: <a href="https://dom.spec.whatwg.org/#concept-event-listener-inner-invoke">https://dom.spec.whatwg.org/#concept-event-listener-inner-invoke</a> step 7, to <a href="https://heycam.github.io/webidl/#call-a-user-objects-operation">https://heycam.github.io/webidl/#call-a-user-objects-operation</a> step 16.2, to <a href="https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script">https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script</a></td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Thu Dec 14 2017 08:28:03 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">making the timing of event delivery depend on whether the JavaScript stack is empty seems bad</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Thu Dec 14 2017 08:28:39 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">smaug____ should know why microtasks work this way</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Thu Dec 14 2017 08:28:55 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">It&#039;s probably about time we start adding note around it</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Thu Dec 14 2017 08:29:02 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">besides dispatching custom events by hand, I&#039;m pretty sure there are Web Platform APIs that will synchronously dispatch an event from a method called from JavaScript</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Thu Dec 14 2017 08:29:27 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">for example <a href="http://element.click">element.click</a>()</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Thu Dec 14 2017 08:29:33 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">or element.focus()</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Thu Dec 14 2017 08:29:58 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">This seems like a big weakness of the Observable proposal, yet is required to get the nice integration with async/await</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Thu Dec 14 2017 08:31:27 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">abortController.abort() causes the &quot;abort&quot; event to fire on the related signal without a turn of the event loop too</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Thu Dec 14 2017 08:31:40 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">The idea with microtask behaving that way was to let event listeners work without necessarily affecting each others. So that when a listener is called, all the mutation observer callbacks would have been called already.</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Thu Dec 14 2017 08:32:08 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">Note, Microtasks were designed way before all the Promise stuf</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Thu Dec 14 2017 08:32:36 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">That behaviour enables IDB to be wrapped in promises, so I&#039;m a fan</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Thu Dec 14 2017 08:32:47 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">or perhaps there were ideas of Promises or Futures, but their scheduling definitely wasn&#039;t based on microtasks initially</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Thu Dec 14 2017 08:32:57 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">I am definitely not questioning the timing of microtasks</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Thu Dec 14 2017 08:33:05 GMT-0800 (Pacific Standard Time)">16:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">I just wanted to understand what it is</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Thu Dec 14 2017 08:33:22 GMT-0800 (Pacific Standard Time)">16:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">Since this Observable proposal for events depends on it</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Thu Dec 14 2017 08:33:45 GMT-0800 (Pacific Standard Time)">16:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">(I have started to question the timing of microtasks because devs seem to misuse them badly by creating long promise chains, and that causes jank)</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Thu Dec 14 2017 08:34:52 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=smaug____@irc>smaug____</span>&gt;</div></td><td class="msg-cell">(but as I said, microtasks were not designed with Promise kind of thing in mind. )</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Thu Dec 14 2017 08:35:09 GMT-0800 (Pacific Standard Time)">16:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</div></td><td class="msg-cell">(I only mention the IDB thing because that&#039;s when I &#039;discovered&#039; that microtasks happen between event callbacks in stack-empty cases)</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Thu Dec 14 2017 09:51:28 GMT-0800 (Pacific Standard Time)">17:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">MikeSmith: I don&#039;t see any changes at <a href="https://github.com/validator/validator/commits/master">https://github.com/validator/validator/commits/master</a>, but the validator in the CI build for HTML started reporting the focus-within etc. CSS errors again. Any chance you pushed some changes to the .tgz or something that might have regressed?</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Thu Dec 14 2017 09:53:41 GMT-0800 (Pacific Standard Time)">17:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">hmm could be</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Thu Dec 14 2017 09:53:44 GMT-0800 (Pacific Standard Time)">17:53</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span></div></td><td class="msg-cell">looks</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Thu Dec 14 2017 10:24:08 GMT-0800 (Pacific Standard Time)">18:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">Domenic: fixed</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Thu Dec 14 2017 10:24:11 GMT-0800 (Pacific Standard Time)">18:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">sorry about that</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Thu Dec 14 2017 10:24:19 GMT-0800 (Pacific Standard Time)">18:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Phew. What happened?</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Thu Dec 14 2017 10:24:25 GMT-0800 (Pacific Standard Time)">18:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">the formatting of the messages changed</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Thu Dec 14 2017 10:24:49 GMT-0800 (Pacific Standard Time)">18:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">I added â€œ and â€ around the literals in the messages</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Thu Dec 14 2017 10:25:05 GMT-0800 (Pacific Standard Time)">18:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">&gt; Unknown pseudo-element or pseudo-class â€œ:focus-withinâ€</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Thu Dec 14 2017 10:25:23 GMT-0800 (Pacific Standard Time)">18:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">&gt; â€œleader(&quot;. &quot;)â€ is not a â€œcontentâ€ value</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Thu Dec 14 2017 10:25:32 GMT-0800 (Pacific Standard Time)">18:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">those were unquoted before</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Thu Dec 14 2017 10:25:53 GMT-0800 (Pacific Standard Time)">18:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">the filter expression didnâ€™t account for the quotes</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Thu Dec 14 2017 10:26:25 GMT-0800 (Pacific Standard Time)">18:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">Iâ€™ll add some tests</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Thu Dec 14 2017 10:26:40 GMT-0800 (Pacific Standard Time)">18:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">so that I donâ€™t regress it again</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Thu Dec 14 2017 10:26:58 GMT-0800 (Pacific Standard Time)">18:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">\o/</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Thu Dec 14 2017 14:10:35 GMT-0800 (Pacific Standard Time)">22:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">jgraham: <a href="https://github.com/whatwg/meta/issues/58">https://github.com/whatwg/meta/issues/58</a></td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Thu Dec 14 2017 14:19:15 GMT-0800 (Pacific Standard Time)">22:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">annevk: Thanks</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Thu Dec 14 2017 14:29:05 GMT-0800 (Pacific Standard Time)">22:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">someone explained to me CORS as follow: &quot;Lets make it easier. <a href="http://badsite.com">badsite.com</a> sends a JS asset to your browser and in that JS it tells your browser to request <a href="http://bank.com/send-money-to-the-bad-guys">bank.com/send-money-to-the-bad-guys</a>, <a href="http://bank.com">bank.com</a> is the one who sets the headers that allow requests to come from <a href="http://badsite.com">badsite.com</a>&quot;</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Thu Dec 14 2017 14:29:16 GMT-0800 (Pacific Standard Time)">22:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">but is it true if badsite is not aware by <a href="http://bank.com">bank.com</a>, the request send-money-to-the-bad-guys still be issued by the browser and processed by <a href="http://bank.com">bank.com</a>, it&#039;s just the response not being processed by the browser?</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Thu Dec 14 2017 14:40:06 GMT-0800 (Pacific Standard Time)">22:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</div></td><td class="msg-cell">muteki: how does <a href="http://badsite.com">badsite.com</a> send a JS asset in the first place?</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Thu Dec 14 2017 14:42:01 GMT-0800 (Pacific Standard Time)">22:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">good question, I didn&#039;t ask, but I guess probably the user wander to that page accidentally?</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Thu Dec 14 2017 14:42:24 GMT-0800 (Pacific Standard Time)">22:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">I was basically asking some general concepts behind CORS and that&#039;s the response I got</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Thu Dec 14 2017 14:57:04 GMT-0800 (Pacific Standard Time)">22:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">muteki: did you read through the examples in the Fetch Standard?</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Thu Dec 14 2017 14:58:16 GMT-0800 (Pacific Standard Time)">22:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">annevk: you meant 3.2.6 in <a href="https://fetch.spec.whatwg.org/#cors-protocol">https://fetch.spec.whatwg.org/#cors-protocol</a> ?</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Thu Dec 14 2017 15:00:07 GMT-0800 (Pacific Standard Time)">23:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">I think I understand how it works, but I am just trying to understand the rationale behind it and what does it use to protect against... especially the example mentioned by others about <a href="http://bank.com">bank.com</a>, seems to be not quite fitting the actual CORS protocol</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Thu Dec 14 2017 15:00:45 GMT-0800 (Pacific Standard Time)">23:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">muteki: I have to admit I donâ€™t quite follow that example either</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Thu Dec 14 2017 15:01:01 GMT-0800 (Pacific Standard Time)">23:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">wondering maybe that example (<a href="http://badsite.com/bank.com">badsite.com/bank.com</a>) is not quite accurate</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Thu Dec 14 2017 15:01:39 GMT-0800 (Pacific Standard Time)">23:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">muteki: CORS in principle does not protect; it enables sharing of otherwise protected resources</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Thu Dec 14 2017 15:02:35 GMT-0800 (Pacific Standard Time)">23:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">muteki: the reason those resources are protected is because they might contain confidential information about the user or the userâ€™s local network</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Thu Dec 14 2017 15:02:53 GMT-0800 (Pacific Standard Time)">23:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">annevk: I think that makes sense, because the resource can be accessed regardless using curl or other method, but it&#039;s to workaround (or provide way to add exception) to the same origin policy enforced by the browser, am I correct?</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Thu Dec 14 2017 15:03:38 GMT-0800 (Pacific Standard Time)">23:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">muteki: you cannot always fetch it with curl</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Thu Dec 14 2017 15:03:54 GMT-0800 (Pacific Standard Time)">23:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">muteki: consider a fetch with the cookies from the user</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Thu Dec 14 2017 15:04:17 GMT-0800 (Pacific Standard Time)">23:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">muteki: or to a local IP or IP-authenticated server</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Thu Dec 14 2017 15:04:32 GMT-0800 (Pacific Standard Time)">23:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">muteki: <a href="https://annevankesteren.nl/2015/02/same-origin-policy">https://annevankesteren.nl/2015/02/same-origin-policy</a> might also help</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Thu Dec 14 2017 15:04:53 GMT-0800 (Pacific Standard Time)">23:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">thanks, let me read through that</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Thu Dec 14 2017 15:40:57 GMT-0800 (Pacific Standard Time)">23:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">annevk: thanks for the link, so here is what I gathered after reading your blog plus the example people gave me, please let me know if I am missing anything...  it sounds like his <a href="http://badsite.com">badsite.com</a> is untrusted.example as described in your blog and <a href="http://bank.com">bank.com</a> is intranet.example.  so, without CORS, bad JS hosting by untrusted.example can ask user&#039;s browser to access resource on intranet.example.  but even with</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Thu Dec 14 2017 15:41:03 GMT-0800 (Pacific Standard Time)">23:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=muteki@irc>muteki</span>&gt;</div></td><td class="msg-cell">CORS, untrusted.example can still serve bad JS to browser, and browser will send request to intranet.example and response will be sent but not process by browser..  and if we want to prevent request (or full power request in your blog) processed by intranet, we need preflight requests for further protection.  am I correct?</td></tr>

</tbody></table></div></div></div></body>
