<!doctype html>
<head>
  <title>#whatwg on 2021-02-03</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2021-02-03<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-02-02" class="nav-link"><span>prev</span></a>
<a href="2021-02-04" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Feb 02 2021 17:22:16 GMT-0800 (Pacific Standard Time)">01:22</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">Domenic: in documents you author other than HTML, you generally donâ€™t use any hard margin? I mean, not like the 100-character limit we use for the HTML spec source</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Feb 02 2021 18:07:42 GMT-0800 (Pacific Standard Time)">02:07</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">MikeSmith: yeah, I guess not. At least, never in Markdown if I can avoid it.</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Feb 02 2021 18:07:53 GMT-0800 (Pacific Standard Time)">02:07</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Definitely in JS and other programming languages...</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Feb 02 2021 18:08:00 GMT-0800 (Pacific Standard Time)">02:08</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Not sure what I do for HTML, but I guess usually no wrapping</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Feb 02 2021 18:08:13 GMT-0800 (Pacific Standard Time)">02:08</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">yeah I meant mostly for markdown or HTML</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Feb 02 2021 18:08:40 GMT-0800 (Pacific Standard Time)">02:08</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">for mdn/content source, we are not enforcing any line wrapping</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Feb 02 2021 18:09:35 GMT-0800 (Pacific Standard Time)">02:09</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">at first, last month when we started with the new system, I though I would not like the lack of wrapping</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Feb 02 2021 18:10:50 GMT-0800 (Pacific Standard Time)">02:10</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">but then I spent time figuring out how to get my vim set up to handle it well â€” specifically, how to get it vim to soft-wrap regardless of the window size, and how to soft-wrap indented blocks right</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Feb 02 2021 18:11:19 GMT-0800 (Pacific Standard Time)">02:11</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">and now I have kind of come around to really liking it</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Feb 02 2021 18:12:13 GMT-0800 (Pacific Standard Time)">02:12</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">it eliminates one less busywork thing to worry about</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Feb 02 2021 21:39:26 GMT-0800 (Pacific Standard Time)">05:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Yeah, I think we should give up on wrapping too. With GitHubâ€™s diffing and PR preview thereâ€™s far less of a need</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Feb 02 2021 23:17:12 GMT-0800 (Pacific Standard Time)">07:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Multiple commits from one PR works as well: <a href="https://twitter.com/fetchstandard/status/1356849141624799233">https://twitter.com/fetchstandard/status/1356849141624799233</a></td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Feb 03 2021 00:26:14 GMT-0800 (Pacific Standard Time)">08:26</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: crossOriginIsolated is a guarantee that this page does not have opaque content in the same process, right?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Feb 03 2021 00:28:33 GMT-0800 (Pacific Standard Time)">08:28</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">It feels like it shouldn&#039;t also be other things like a sessionStorage or history.back boundary.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Feb 03 2021 00:30:14 GMT-0800 (Pacific Standard Time)">08:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: there can still be opaque content, but it &quot;consented&quot;</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Feb 03 2021 00:30:53 GMT-0800 (Pacific Standard Time)">08:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I&#039;m not sure how those are the same, after all, it will also have access to localStorage and such</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Feb 03 2021 00:33:47 GMT-0800 (Pacific Standard Time)">08:33</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">cool, we&#039;re on the same page I think</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Feb 03 2021 02:36:49 GMT-0800 (Pacific Standard Time)">10:36</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: <a href="https://wpt.fyi/results/fetch/h1-parsing/status-code.window.html">https://wpt.fyi/results/fetch/h1-parsing/status-code.window.html</a> is now correct btw</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Feb 03 2021 03:16:27 GMT-0800 (Pacific Standard Time)">11:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I think we discussed this before, but why are you tracking things per browsing context rather than per top-level browsing context for session history? Or do browsers also track something at the browsing context level? cc smaug____</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Feb 03 2021 03:17:37 GMT-0800 (Pacific Standard Time)">11:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: is that to avoid having to re-identify the &lt;iframe&gt;s and such? (I guess I don&#039;t know how that actually works in browsers.)</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Feb 03 2021 03:18:52 GMT-0800 (Pacific Standard Time)">11:18</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: my plan is for an iframe&#039;s navigable to own its session history, but which item is it&#039;s &#039;current&#039; item is dictated by the top-level navigable</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Feb 03 2021 03:19:28 GMT-0800 (Pacific Standard Time)">11:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: so say you have A which nests B</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Feb 03 2021 03:20:24 GMT-0800 (Pacific Standard Time)">11:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">user navigates B to B2 then navigates A to C; browser does aggressive GC of sorts so there&#039;s no bfcache and the iframe is gone, then user presses back</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Feb 03 2021 03:22:23 GMT-0800 (Pacific Standard Time)">11:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I thought browsers made that work, in that you would see A with B2, not B, fetched from the network</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Feb 03 2021 03:23:26 GMT-0800 (Pacific Standard Time)">11:23</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: yeah, when a document is discarded, it&#039;s nested session history will need to be serialised in some way. Reapplying that state can fail in all kinds of fun ways, so it may not create as many session history entries as it had previously</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Feb 03 2021 03:24:20 GMT-0800 (Pacific Standard Time)">11:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I see, that&#039;s how you handle that and then you also deserialize it when traversing history</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Feb 03 2021 03:24:21 GMT-0800 (Pacific Standard Time)">11:24</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: but while a document is present, I associate the session history with the nested navigable, that means those entries go away if the navigable is destroyed (eg when removing an iframe)</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Feb 03 2021 03:24:39 GMT-0800 (Pacific Standard Time)">11:24</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: yeah, that&#039;s the plan. I&#039;m going to tackle that in a second pass</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Feb 03 2021 03:25:29 GMT-0800 (Pacific Standard Time)">11:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I haven&#039;t looked at the PR in detail yet but if this is not called out please XXX it somewhere</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Feb 03 2021 03:25:51 GMT-0800 (Pacific Standard Time)">11:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Good to know there&#039;s a plan ðŸ™‚</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Feb 03 2021 03:26:07 GMT-0800 (Pacific Standard Time)">11:26</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: see &#039;spec changes&#039; in <a href="https://github.com/whatwg/html/issues/5767">https://github.com/whatwg/html/issues/5767</a>. It&#039;s very hand-wavey there, but it covers my initial thinking</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Feb 03 2021 03:26:45 GMT-0800 (Pacific Standard Time)">11:26</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: basically the document in a session history entry is replaced with a serialised representation of its nested history</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Feb 03 2021 05:05:12 GMT-0800 (Pacific Standard Time)">13:05</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">do we have any good term for &quot;current document or any frame descendent&quot;?</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Feb 03 2021 05:06:40 GMT-0800 (Pacific Standard Time)">13:06</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">gsnedders: <a href="https://github.com/whatwg/html/issues/1336#issuecomment-557512704">https://github.com/whatwg/html/issues/1336#issuecomment-557512704</a></td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Feb 03 2021 09:32:42 GMT-0800 (Pacific Standard Time)">17:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: is there some summary somewhere on the current vs relevant debate?</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Feb 03 2021 09:33:19 GMT-0800 (Pacific Standard Time)">17:33</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: latest revival is <a href="https://github.com/heycam/webidl/issues/135#issuecomment-411109348">https://github.com/heycam/webidl/issues/135#issuecomment-411109348</a></td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Feb 03 2021 09:38:54 GMT-0800 (Pacific Standard Time)">17:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I see, I guess with bz doing other things we could see if there&#039;s appetite for revisiting this, but it&#039;s a pretty large undertaking</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Feb 03 2021 09:39:25 GMT-0800 (Pacific Standard Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah, I dunno... It&#039;s less work than you might think because most specs still aren&#039;t being explicit about realms</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Feb 03 2021 09:39:32 GMT-0800 (Pacific Standard Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I&#039;m also not sure I fully understand the proposal, e.g., with new URL would its SearchParams always be in the same realm?</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Feb 03 2021 09:40:12 GMT-0800 (Pacific Standard Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: as long as URLSearchParams was created in the URL constructor then yes. If it was created lazily then no.</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Feb 03 2021 09:40:21 GMT-0800 (Pacific Standard Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I think creating things lazily is just not done as often as bz though</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Feb 03 2021 09:40:26 GMT-0800 (Pacific Standard Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">At least in specs</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Feb 03 2021 09:41:01 GMT-0800 (Pacific Standard Time)">17:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: any kind of promise fulfillment value, presumably?</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Feb 03 2021 09:41:15 GMT-0800 (Pacific Standard Time)">17:41</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I mean created lazily and cached</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Wed Feb 03 2021 09:42:09 GMT-0800 (Pacific Standard Time)">17:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And I guess my worry is not so much about updating specs as it is about impl and tests</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Wed Feb 03 2021 09:43:16 GMT-0800 (Pacific Standard Time)">17:43</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Well, I think there&#039;s like 3-5 test files (mostly written by us) that are rigorous about these things</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Wed Feb 03 2021 09:43:22 GMT-0800 (Pacific Standard Time)">17:43</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">And who knows what impls do</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Wed Feb 03 2021 09:44:08 GMT-0800 (Pacific Standard Time)">17:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hmm, webidl/current-realm.html why is that named current</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Wed Feb 03 2021 09:45:11 GMT-0800 (Pacific Standard Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It does seem to be asserting current</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Wed Feb 03 2021 09:45:36 GMT-0800 (Pacific Standard Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Wait no I misred</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Wed Feb 03 2021 09:45:59 GMT-0800 (Pacific Standard Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah it&#039;s asserting relevant</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Wed Feb 03 2021 09:46:02 GMT-0800 (Pacific Standard Time)">17:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">browsers pass most of the tests there atm</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Wed Feb 03 2021 09:46:28 GMT-0800 (Pacific Standard Time)">17:46</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Wed Feb 03 2021 09:47:17 GMT-0800 (Pacific Standard Time)">17:47</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I dunno, we could say &quot;create promises and exceptions in the current realm, create everything else in relevant??&quot; Seems like a burden for spec authors</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Wed Feb 03 2021 09:47:37 GMT-0800 (Pacific Standard Time)">17:47</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I do think some amount of impl updates are necessary because having promises be in different realms depending on whether they&#039;re rejected or fulfilled is just bonkers</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Wed Feb 03 2021 09:48:41 GMT-0800 (Pacific Standard Time)">17:48</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I guess if we let spec authors not specify a realm (like we are already doing for exceptions, in practice) then it could work</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Wed Feb 03 2021 09:48:55 GMT-0800 (Pacific Standard Time)">17:48</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">But then we&#039;d need some of jyasskin&#039;s ideas about auto-propagating the realm into queued tasks</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Wed Feb 03 2021 09:49:13 GMT-0800 (Pacific Standard Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">through in parallel? hmmmm</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Wed Feb 03 2021 09:49:28 GMT-0800 (Pacific Standard Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">magic realm</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Wed Feb 03 2021 09:49:40 GMT-0800 (Pacific Standard Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell"><a href="https://github.com/heycam/webidl/issues/135#issuecomment-286789309">https://github.com/heycam/webidl/issues/135#issuecomment-286789309</a> I objected to that in my reply but at this point maybe he&#039;s right, we just need anything we can get to make this a tractable problem for spec authors</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Wed Feb 03 2021 09:50:51 GMT-0800 (Pacific Standard Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">It doesn&#039;t seem to be that hard to get a realm and pass it to new and such, based on some recent editing of Fetch, but if we can make it easier that would be nice of course</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Wed Feb 03 2021 09:51:08 GMT-0800 (Pacific Standard Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Well I think it becomes harder if you have to explicitly think about the realm each time</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Wed Feb 03 2021 09:51:20 GMT-0800 (Pacific Standard Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">And I&#039;m worried if we say &quot;promises and exceptions do one thing, everything else does another&quot; then it&#039;s too hard</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Wed Feb 03 2021 09:51:43 GMT-0800 (Pacific Standard Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I&#039;m also more flexible than bz on what realm we pick and am happy to make the case internally, but yeah, we do need a story of sorts</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Wed Feb 03 2021 09:51:51 GMT-0800 (Pacific Standard Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Also... what is even the story for dictionaries</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Wed Feb 03 2021 09:52:01 GMT-0800 (Pacific Standard Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">You return an Infra map, and IDL handles the conversion probably</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Wed Feb 03 2021 09:52:03 GMT-0800 (Pacific Standard Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I bet it uses current</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Wed Feb 03 2021 09:52:11 GMT-0800 (Pacific Standard Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(who knows what implementations do)</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Wed Feb 03 2021 09:52:32 GMT-0800 (Pacific Standard Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Ah this is <a href="https://github.com/heycam/webidl/issues/371">https://github.com/heycam/webidl/issues/371</a></td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Wed Feb 03 2021 09:54:01 GMT-0800 (Pacific Standard Time)">17:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Could there also be compat fallout if this was changed for createElement or some such?</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Wed Feb 03 2021 09:54:45 GMT-0800 (Pacific Standard Time)">17:54</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Seems possible but unlikely... Not sure it&#039;s worth trying</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Wed Feb 03 2021 09:56:13 GMT-0800 (Pacific Standard Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I guess I&#039;m saying I appreciate that for interfaces we have implementation precedent and some vague reasons to use relevant. So if we did interfaces = relevant, everything else (notably sequences, dictionaries, records, exceptions, and promises) = current that might work. But I don&#039;t want to make spec authors deal with that distinction. Maybe we could just have them not pass a realm at all, if we do this auto-propagating</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Wed Feb 03 2021 09:56:13 GMT-0800 (Pacific Standard Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">current/relevant for them.</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Wed Feb 03 2021 09:57:06 GMT-0800 (Pacific Standard Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">it&#039;s certainly easy to not give &quot;a new promise&quot; a realm argument</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Wed Feb 03 2021 09:57:38 GMT-0800 (Pacific Standard Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">And that one is pretty rarely called from queued tasks</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Wed Feb 03 2021 09:58:05 GMT-0800 (Pacific Standard Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I&#039;ll drop a proposal in the thread...</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Wed Feb 03 2021 09:58:07 GMT-0800 (Pacific Standard Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">there&#039;s no current realm in that case I take it?</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Wed Feb 03 2021 09:58:14 GMT-0800 (Pacific Standard Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">There is not currently</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Wed Feb 03 2021 09:58:17 GMT-0800 (Pacific Standard Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">But we could make there be one</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Wed Feb 03 2021 09:58:24 GMT-0800 (Pacific Standard Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">By adding spec magic to &quot;in parallel&quot; and &quot;queue a task&quot;</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Wed Feb 03 2021 09:58:45 GMT-0800 (Pacific Standard Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">hmm right, don&#039;t we want to change queue a task to queue a global task anyway?</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Wed Feb 03 2021 09:59:39 GMT-0800 (Pacific Standard Time)">17:59</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">it definitely needs access to some global</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Wed Feb 03 2021 09:59:45 GMT-0800 (Pacific Standard Time)">17:59</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">a task that is</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Wed Feb 03 2021 10:00:00 GMT-0800 (Pacific Standard Time)">18:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">gotta go for a bit, but I&#039;ll ponder it some more</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Wed Feb 03 2021 10:00:09 GMT-0800 (Pacific Standard Time)">18:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">s/a bit/the day/</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Wed Feb 03 2021 10:00:22 GMT-0800 (Pacific Standard Time)">18:00</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Sounds good, let&#039;s continue on the Web IDL thread</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Wed Feb 03 2021 10:01:44 GMT-0800 (Pacific Standard Time)">18:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: HTML CI errored on main: &quot;docker: unauthorized: authentication required.&quot;</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Wed Feb 03 2021 10:01:53 GMT-0800 (Pacific Standard Time)">18:01</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh dear</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Wed Feb 03 2021 10:02:23 GMT-0800 (Pacific Standard Time)">18:02</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Let&#039;s try re-running! I will debug...</td></tr>

</tbody></table></div></div></div></body>
