<!DOCTYPE html><html><head>
  <title>TC39-TG4_ Source Maps on 2024-08-07</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "TC39-TG4_ Source Maps";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">TC39-TG4_ Source Maps<br>2024-08-07<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-07-30" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search TC39-TG4_ Source Maps">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Aug 07 2024 01:37:50 GMT-0700 (Pacific Daylight Time)">08:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@szuend:matrix.org">Simon ZÃ¼nd</span>&gt;</div></td><td class="msg-cell">Hey all, I'm looking into starting a draft for the scopes spec text. The data structures involved are somewhat complex, should we embrace the TypeScript syntax to describe types and maybe even extend it to also describe the root SourceMap object that way? There is some prior art for this e.g. for Microsoft's language server protocol: <a href="https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/">https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/</a>. They also use TS notation to describe JSON structures. There is also JSON-schema, but it's not that human-readable. Any thoughts?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Aug 07 2024 02:28:29 GMT-0700 (Pacific Daylight Time)">09:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jkup:matrix.org">jkup</span>&gt;</div></td><td class="msg-cell">This is a great question. I'm not 100% sure on it. Wondering if Dan/Nic will have a better idea!</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Aug 07 2024 08:41:35 GMT-0700 (Pacific Daylight Time)">15:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">for the specification itself? seems good for drafts but we might iterate editorially later</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Aug 07 2024 08:44:14 GMT-0700 (Pacific Daylight Time)">15:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@nribaudo:igalia.com">Nic</span>&gt;</div></td><td class="msg-cell"><p>Hey, yes. I assume most of these data structures are spec-internal, right? Since the exposed "API" is just that there is an array of strings.</p>
<p>Web specs usually use a record/struct type for that: <a href="https://tc39.es/ecma262/#realm-record">this is an example of what ECMA-262 uses</a> and <a href="https://html.spec.whatwg.org/#concept-script">this is an example of what everything else uses</a>. I would go with the latter, since our spec is written in bikeshed, so it's more like the non-ecma262 specs.</p>
<p>I think using the TS notation can be useful for other spec readers though, especially for the "public API" (i.e. for describing the shape of the source map JSON object). Maybe that could go somewhere in a note, in <a href="https://tc39.es/source-map/#source-map-format">https://tc39.es/source-map/#source-map-format</a></p>
</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Aug 07 2024 08:45:00 GMT-0700 (Pacific Daylight Time)">15:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@nribaudo:igalia.com">Nic</span>&gt;</div></td><td class="msg-cell">I'd like to organize the "mapping" info as a proper struct, I could draft something up and you can take it as an example. Also, feel free to ping me for any editorial question :)</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Aug 07 2024 08:45:03 GMT-0700 (Pacific Daylight Time)">15:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">definitely this is good to go ahead with your initial drafts IMO</td></tr>

</tbody></table></div></div></div>
</body></html>