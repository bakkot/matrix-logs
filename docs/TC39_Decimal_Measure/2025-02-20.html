<!DOCTYPE html><html><head>
  <title>TC39 Decimal_Measure on 2025-02-20</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "TC39 Decimal_Measure";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">TC39 Decimal_Measure<br>2025-02-20<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2025-02-19" class="nav-link"><span>prev</span></a>
<a href="2025-02-27" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search TC39 Decimal_Measure">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Feb 19 2025 16:08:03 GMT-0800 (Pacific Standard Time)">00:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">one thing that's unclear to me is what operations FullDecimal (I don't like the name but work with me) should support</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Feb 19 2025 16:08:17 GMT-0800 (Pacific Standard Time)">00:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">should it have comparison?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Feb 19 2025 16:08:40 GMT-0800 (Pacific Standard Time)">00:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">I think we agree that FullDecimal should't do arithmetic</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Feb 19 2025 16:08:47 GMT-0800 (Pacific Standard Time)">00:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">but I wonder if we need comparison(s)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Feb 19 2025 16:09:06 GMT-0800 (Pacific Standard Time)">00:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">If I'm the only one that liked the FullDecimal idea I'm happy to drop it, I just liked having "incrementally more information" on these numeric objects rather than "all or nothing", but I have no concrete use cases. It's more of a language purity thing</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Feb 19 2025 16:09:38 GMT-0800 (Pacific Standard Time)">00:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">I'm not opposed to it</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Feb 19 2025 16:10:17 GMT-0800 (Pacific Standard Time)">00:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">that's my only (weak) objection -- no clear use cases, it exists mainly for the purpose of abstract language niceness</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Feb 19 2025 16:10:22 GMT-0800 (Pacific Standard Time)">00:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">But yes if we have it, I would expect it to have comparison that also checks the precision</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Feb 19 2025 16:10:51 GMT-0800 (Pacific Standard Time)">00:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">IEEE 754 has a comparison that respects the precision (quantum) but it's really weird</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Feb 19 2025 16:11:08 GMT-0800 (Pacific Standard Time)">00:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I don't want FullDecimal to be a focus of the presentation. But we should probably be prepared for some of these questions given that delegates will nitpick about them.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Feb 19 2025 16:11:09 GMT-0800 (Pacific Standard Time)">00:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">equals and less-than are supposed to work with mathematical value (iow ignore precisiopn)</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Feb 19 2025 16:11:10 GMT-0800 (Pacific Standard Time)">00:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">yeah it's very weird to compare precision</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Feb 19 2025 16:11:52 GMT-0800 (Pacific Standard Time)">00:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">But what if you explicitly have an object that is "number + precision"... you care about the precision, otherwise you'd just have the number</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Feb 19 2025 16:11:53 GMT-0800 (Pacific Standard Time)">00:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">you can detect that two values are mathematically equal but distinct if you have toString</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Feb 19 2025 16:11:57 GMT-0800 (Pacific Standard Time)">00:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">and equals</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Feb 19 2025 16:12:27 GMT-0800 (Pacific Standard Time)">00:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">then they're incomparable</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Feb 19 2025 16:12:34 GMT-0800 (Pacific Standard Time)">00:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I think FullDecimal should either do a total comparison or it should not have an equals function</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Feb 19 2025 16:13:43 GMT-0800 (Pacific Standard Time)">00:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">(sorry for this, maybe I should stop since FullDecimal isn't a focus of the presentation)</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Feb 19 2025 16:13:53 GMT-0800 (Pacific Standard Time)">00:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">I wonder if we should have a converter from FullDecimal to Decimal</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Feb 19 2025 16:14:04 GMT-0800 (Pacific Standard Time)">00:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">(which of course does have less-than, equals)</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Feb 19 2025 16:14:30 GMT-0800 (Pacific Standard Time)">00:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">this feels very temporal-y to me</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Feb 19 2025 16:14:36 GMT-0800 (Pacific Standard Time)">00:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">Yes, if we have the three classes I'd expect you to be able to move up and down the hierarchy</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Feb 19 2025 16:14:49 GMT-0800 (Pacific Standard Time)">00:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">like, comparison just <em>does not exist</em> in FullDecimal. you have to explicitly move to another class to do that</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Feb 19 2025 16:18:00 GMT-0800 (Pacific Standard Time)">00:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I renamed it to "DecimalWithPrecision" in the two places it is referenced in the slides</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Feb 19 2025 16:19:15 GMT-0800 (Pacific Standard Time)">00:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">what does DecimalWithPrecision add besides just being a place to hold a precision value?</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Feb 19 2025 16:20:29 GMT-0800 (Pacific Standard Time)">00:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">one benefit I can see is that <code>toString</code> might have some good use cases</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Feb 19 2025 16:20:37 GMT-0800 (Pacific Standard Time)">00:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">exposing the extra precision data</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Feb 19 2025 16:21:05 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">though tbh that's kinda what <code>toString</code> already does with (canonicalized) decimals</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Feb 19 2025 16:21:06 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">ok so it's a bucket, to contain a decimal, a precision integer, and a toString function?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Feb 19 2025 16:21:11 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">sorry <code>toFixed</code></td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Feb 19 2025 16:21:24 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">because if that's all it is, why not just have a toFixed on Decimal.prototype</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Feb 19 2025 16:21:26 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">it essentially imputes a precision to the numeric value</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Feb 19 2025 16:21:35 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">there is a toFixed</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Feb 19 2025 16:21:53 GMT-0800 (Pacific Standard Time)">00:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><code>[d, precision]</code> â†’ <code>d.toFixed(precision)</code> when i want the combo?</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Feb 19 2025 16:22:17 GMT-0800 (Pacific Standard Time)">00:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">Yes, it's exactly that to have the value and the precision as a single thing rather than having to track them individually in parallel</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Feb 19 2025 16:22:49 GMT-0800 (Pacific Standard Time)">00:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i totally get why that's beneficial, but that is a very very small value prop to add a Whole New Class</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Feb 19 2025 16:23:13 GMT-0800 (Pacific Standard Time)">00:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">especially when <code>Object.assign(Object(decimal), { precision })</code> also covers that</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Feb 19 2025 16:23:15 GMT-0800 (Pacific Standard Time)">00:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">I worry a bit about developer confusion, too</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Feb 19 2025 16:23:22 GMT-0800 (Pacific Standard Time)">00:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">(if we had the two decimal classes)</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Feb 19 2025 16:23:35 GMT-0800 (Pacific Standard Time)">00:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">nobody should be trying to java-ize JS by Nouning up all the things</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Feb 19 2025 16:23:43 GMT-0800 (Pacific Standard Time)">00:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">there needs to be sufficient rationale for stuff</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Feb 19 2025 16:23:51 GMT-0800 (Pacific Standard Time)">00:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">Well we even have classes like SetIterator ðŸ˜›</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Feb 19 2025 16:23:56 GMT-0800 (Pacific Standard Time)">00:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">yes, and that's absurd</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Feb 19 2025 16:24:00 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">Do you have a suggestion about how <code>decimal.toFixed(5).withUnit("meter")</code> would work without the intermediate type</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Wed Feb 19 2025 16:24:02 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">But I do not necessarily disagree</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Wed Feb 19 2025 16:24:03 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">we shouldn't have ever had any of the iterator classes</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Wed Feb 19 2025 16:24:24 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">I guess without the intermediate type you'd do <code>decimal.toAmount({ precision, unit })</code></td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Wed Feb 19 2025 16:24:27 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><code>(d) =&gt; d.toFixed(5).withUnit("meter")</code>?</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Wed Feb 19 2025 16:24:37 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">I might suggest <code>decimal.asMeasure({unit: "meter", precision: 5 })</code></td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Wed Feb 19 2025 16:24:55 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">like, it's already a solved problem how to carry multiple values around together (and there's multiple solutions, including an object, an array, a closure, etc)</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Wed Feb 19 2025 16:25:01 GMT-0800 (Pacific Standard Time)">00:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">(possibly composite keys one day)</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Wed Feb 19 2025 16:25:43 GMT-0800 (Pacific Standard Time)">00:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">the benefit of making a Thing for a thing is when there's lots of incremental value you can gain when you <em>for sure</em> have multiple values associated together</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Wed Feb 19 2025 16:25:50 GMT-0800 (Pacific Standard Time)">00:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I don't buy this argument, because then <code>ZonedDateTime</code> and most other Temporal types could just have been objects, too</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Wed Feb 19 2025 16:26:10 GMT-0800 (Pacific Standard Time)">00:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i believe they do pretty extensive validation, which imo is sufficient benefit</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Wed Feb 19 2025 16:26:32 GMT-0800 (Pacific Standard Time)">00:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but "two numeric values" doesn't require much in the way of validation</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Wed Feb 19 2025 16:27:05 GMT-0800 (Pacific Standard Time)">00:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">we need to make sure the numbers are in range Ã  la IEEE 754 so there is <em>some</em> validation</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Wed Feb 19 2025 16:27:17 GMT-0800 (Pacific Standard Time)">00:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">it's not just a box of two arbitrary values</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Wed Feb 19 2025 16:27:39 GMT-0800 (Pacific Standard Time)">00:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">sure. decimal covers the one tho, so it'd only be the range of valid precisions</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Wed Feb 19 2025 16:27:50 GMT-0800 (Pacific Standard Time)">00:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">and since toFixed would do that anywaysâ€¦</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Wed Feb 19 2025 16:27:53 GMT-0800 (Pacific Standard Time)">00:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">My model is that the precision gets "merged" into the Decimal without actually storing it in a separate slot (internally)</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Wed Feb 19 2025 16:28:04 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">ah I think there might be a misunderstanding -- toFixed produces a String</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Wed Feb 19 2025 16:28:05 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">what is the data model for that?</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Wed Feb 19 2025 16:28:07 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">not another Decimal</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Wed Feb 19 2025 16:28:13 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">right, i get that.</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Wed Feb 19 2025 16:28:21 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">I think you are confused maybe</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Wed Feb 19 2025 16:28:32 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">Jordan is talking about the FullDecimal?</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Wed Feb 19 2025 16:28:32 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">doing math with multiple decimals-with-precision is not a goal, as i understand it</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Wed Feb 19 2025 16:28:44 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">so the only point of having a decimal-with-precision is to produce a string. am i mistaken?</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Wed Feb 19 2025 16:28:56 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">What is the type returned by toFixed? Is it a String?</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Wed Feb 19 2025 16:29:06 GMT-0800 (Pacific Standard Time)">00:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Wed Feb 19 2025 16:29:12 GMT-0800 (Pacific Standard Time)">00:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">and it already exists on decimal</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Wed Feb 19 2025 16:29:16 GMT-0800 (Pacific Standard Time)">00:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">And we add <code>String.prototype.withUnit</code>?</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Wed Feb 19 2025 16:29:34 GMT-0800 (Pacific Standard Time)">00:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">lol it'd be more like, <code>toFixed(5, { unit: 'meter' })</code> or something, i assume</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Wed Feb 19 2025 16:29:51 GMT-0800 (Pacific Standard Time)">00:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">ok, I see. Fine with me but I'm surprised <span class="nick-6">ljharb</span> is proposing using a string as a numeric type. :)</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Wed Feb 19 2025 16:29:54 GMT-0800 (Pacific Standard Time)">00:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but unless there's good use cases beyond "render a string" i don't know why we'd want a full Class for it</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Wed Feb 19 2025 16:30:03 GMT-0800 (Pacific Standard Time)">00:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">lol, i'm not</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Wed Feb 19 2025 16:38:09 GMT-0800 (Pacific Standard Time)">00:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">I can imagine that we could drop (canonicalized) Decimal's <code>toFixed</code> and <code>toPrecision</code>, keeping <em>only</em> <code>toString</code>; these methods would instead create a FullDecimal, not a string</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Wed Feb 19 2025 16:39:07 GMT-0800 (Pacific Standard Time)">00:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">and FullDecimal would have <code>toString</code>, of course; it would read out the exact value + precision</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Wed Feb 19 2025 16:39:25 GMT-0800 (Pacific Standard Time)">00:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">there'd be no way, in this line of thinking, of imputing a precision to a decimal</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Wed Feb 19 2025 16:39:52 GMT-0800 (Pacific Standard Time)">00:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">ok but how is that better than me making an arrow function that closes over precision and the value</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Wed Feb 19 2025 16:40:13 GMT-0800 (Pacific Standard Time)">00:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">or rather, how is that better <em>enough</em> to justify a Class being added, which is a very costly and big thing</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Wed Feb 19 2025 16:40:15 GMT-0800 (Pacific Standard Time)">00:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I quite like a design of <code>decimal.toFixed(5)</code> becoming <code>decimal.withFractionDigits(5).toString()</code> and using the intermediate type</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Wed Feb 19 2025 16:40:48 GMT-0800 (Pacific Standard Time)">00:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">(but again, let's please not get into the weeds on this in plenary tomorrow. it's a good topic for a champions meeting.)</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Wed Feb 19 2025 16:41:04 GMT-0800 (Pacific Standard Time)">00:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">agreed</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Wed Feb 19 2025 16:41:43 GMT-0800 (Pacific Standard Time)">00:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i think that the intermediate type needs a much stronger elevator pitch than "it's slightly more ergononic than an arrow function closing over values", is all</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Wed Feb 19 2025 19:07:31 GMT-0800 (Pacific Standard Time)">03:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">So what do we want the focus to be tomorrow</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Wed Feb 19 2025 19:54:00 GMT-0800 (Pacific Standard Time)">03:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> So what do we want the focus to be tomorrow</blockquote></mx-reply>Surfacing any remaining dissent of the type that would block either feature from advancing to Stage 2. Figuring out which delegates are not convinced of the motivation of either proposal and why.</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Wed Feb 19 2025 23:41:47 GMT-0800 (Pacific Standard Time)">07:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">My preferred solution for precision would be for Amount to include a <code>significantDigits</code> field. That class already includes an optional unit or currency indicator that needs to be accounted for by any operations on it. Adding precision to it as a third thing (beyond value + dimension) is a much smaller cost than adding a second thing to Decimal.</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Wed Feb 19 2025 23:52:38 GMT-0800 (Pacific Standard Time)">07:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">That also allows for Amount to solve by itself the i18n issues around precision, rather than relying on the committee finding agreement on how and whether to include that within the Decimal proposal work.</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Thu Feb 20 2025 00:31:28 GMT-0800 (Pacific Standard Time)">08:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">On API details: Is there any reason why Amount ought to include a secondary constructor like <code>Amount.from()</code>? I think Shane's slide 6 alludes to that, but it's not clear to me why that might be desirable over <code>new Amount()</code> supporting the same inputs as might be proposed for <code>Amount.from()</code>.</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Thu Feb 20 2025 00:34:50 GMT-0800 (Pacific Standard Time)">08:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@rcintra:igalia.com">Romulo Cintra</span>&gt;</div></td><td class="msg-cell">While Ben is on leave, Jesse will be responsible for working on Measure/Amount/Decimal-related tasks, and the remaining tasks will be distributed among other team members, who can also provide support in other tasks if needed</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Thu Feb 20 2025 08:15:58 GMT-0800 (Pacific Standard Time)">16:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">Temporal sets precedent for <code>new</code> being strict to the data model and <code>.from</code> taking things that get coerced. But this is a nitpick that the champions should resolve. Doesn't have to do with proposal motivation.</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Thu Feb 20 2025 08:16:57 GMT-0800 (Pacific Standard Time)">16:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">Amount is proposed as opaque. The exact fields are not normative at stage 2.</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Thu Feb 20 2025 08:20:18 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">Sure, but e.g. on your slide 5 (data model) the currency/unit is specifically mentioned, but significantDigits is not.</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Thu Feb 20 2025 08:22:23 GMT-0800 (Pacific Standard Time)">16:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">"new being strict to the data model and .from taking things that get coerced" sounds like a language design concept that ought to get explicitly discussed in committee, separately from either Temporal or Amount.</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Thu Feb 20 2025 08:28:37 GMT-0800 (Pacific Standard Time)">16:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">Do you think new vs .from needs to be discussed before stage 2?</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Thu Feb 20 2025 09:11:40 GMT-0800 (Pacific Standard Time)">17:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">eemeli</span>: The purpose of this presentation is to identify issues that could <em>block advancement to Stage 2</em>. Your comments are good things to discuss amongst the champions, but they do not strike me as the type of thing that need to be resolved before Stage 2.</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Thu Feb 20 2025 09:17:34 GMT-0800 (Pacific Standard Time)">17:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I am seeking feedback on <em>the shape of the solution</em> being a new type called Amount with semantics that is a wrapper over a numeric type with precision and a unit and extremely limited functionality. I think we are in furious agreement on that.</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Thu Feb 20 2025 09:29:47 GMT-0800 (Pacific Standard Time)">17:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">I don't think .from vs. new is a blocking concern; I'm really just pointing out that it ought to be discussed in general, separately from either Temporal or Amount.</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Thu Feb 20 2025 09:56:22 GMT-0800 (Pacific Standard Time)">17:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">I'm agnostic on static method vs. constructor</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Thu Feb 20 2025 11:02:34 GMT-0800 (Pacific Standard Time)">19:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">the protocol-based approach to Amount is interesting -- that hadn't occurred to me before</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Thu Feb 20 2025 11:02:39 GMT-0800 (Pacific Standard Time)">19:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">would that work?</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Thu Feb 20 2025 11:03:02 GMT-0800 (Pacific Standard Time)">19:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">just like an options bag with value, unit and precision</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Thu Feb 20 2025 11:16:55 GMT-0800 (Pacific Standard Time)">19:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">thanks <span class="nick-16">sffc</span> for pushing this forward</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Thu Feb 20 2025 11:17:20 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">as N-ic and R-omulo mentioned I'm happy to take over the champion role for <s>measure</s> amount for now</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Thu Feb 20 2025 11:17:45 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">(co-)champion!</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Thu Feb 20 2025 11:18:11 GMT-0800 (Pacific Standard Time)">19:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">AFAICS it's not the end of the world for amount to be considered mainly a 402 thing</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Thu Feb 20 2025 11:18:36 GMT-0800 (Pacific Standard Time)">19:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">I expect we can sharpen the use cases and motivation and possibly make it clearer that it could be n 262</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Thu Feb 20 2025 11:19:56 GMT-0800 (Pacific Standard Time)">19:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">my sense is that the options bag approach isn't quite what we want; I think we need to pass amounts around as values of their own and not merely as option bags waiting to be slotted into a function call</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Thu Feb 20 2025 11:20:32 GMT-0800 (Pacific Standard Time)">19:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I feel the primordial approach is &gt;&gt; the protocol approach. I've definitely considered it before. It is technically a more narrow solution, but it has problems of its own.</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Thu Feb 20 2025 11:20:38 GMT-0800 (Pacific Standard Time)">19:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">(certainly i'd assume that the values would be in internal slots and that Intl would read those)</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Thu Feb 20 2025 11:22:06 GMT-0800 (Pacific Standard Time)">19:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I feel like we have headway to get alignment on an Intl-namespace thing (not Intl.NumberFormatOptionsBuilder but rather Intl.Amount)</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Thu Feb 20 2025 11:23:23 GMT-0800 (Pacific Standard Time)">19:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">And then I feel like we have headway to say that Intl.Amount should be just Amount</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Thu Feb 20 2025 11:23:56 GMT-0800 (Pacific Standard Time)">19:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">yeah I bet the committee will receive it differently if it's in Intl</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Thu Feb 20 2025 11:24:11 GMT-0800 (Pacific Standard Time)">19:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">I believe you, and am interested in understanding the problems</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Thu Feb 20 2025 11:24:32 GMT-0800 (Pacific Standard Time)">19:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">great presentation btw, <span class="nick-16">sffc</span></td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Thu Feb 20 2025 11:24:42 GMT-0800 (Pacific Standard Time)">19:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">I think this really helped push the discussion forward</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Thu Feb 20 2025 11:24:56 GMT-0800 (Pacific Standard Time)">19:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">additional functionality, or additional "non-rendering" use cases would help with that case; and also, userland packages/use cases that aren't solely about i18n would help</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Thu Feb 20 2025 11:25:14 GMT-0800 (Pacific Standard Time)">19:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> the protocol-based approach to Amount is interesting -- that hadn't occurred to me before</blockquote></mx-reply>That's the approach taken in the current proposed text for Intl.MessageFormat.</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Thu Feb 20 2025 11:27:30 GMT-0800 (Pacific Standard Time)">19:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> additional functionality, or additional "non-rendering" use cases would help with that case; and also, userland packages/use cases that aren't solely about i18n would help</blockquote></mx-reply>I think the clearest use case there is unit conversion</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Thu Feb 20 2025 11:27:49 GMT-0800 (Pacific Standard Time)">19:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">Are you satisfied enough with the prospect for non-intl functionality being added in the future, such as add/subtract and unit conversion?</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Thu Feb 20 2025 11:27:54 GMT-0800 (Pacific Standard Time)">19:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">arithmetic, too, though I kinda have mixed feelings about that one</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Thu Feb 20 2025 11:28:36 GMT-0800 (Pacific Standard Time)">19:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i'm not sure unit conversion is something that will ever be added; based on comments and my intuition it seems like a massive minefield</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Thu Feb 20 2025 11:28:41 GMT-0800 (Pacific Standard Time)">19:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> That's the approach taken in the current proposed text for Intl.MessageFormat.</blockquote></mx-reply>would love to hear more about the intersection of MF 2.0 and numbers/decimals/amounts</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Thu Feb 20 2025 11:28:47 GMT-0800 (Pacific Standard Time)">19:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">(that wasn't on my radar)</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Thu Feb 20 2025 11:29:38 GMT-0800 (Pacific Standard Time)">19:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but also you can already do unit conversion and math with amounts, you just need to somewhat hardcode the conversion factors</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Thu Feb 20 2025 11:29:57 GMT-0800 (Pacific Standard Time)">19:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">so adding unit conversion is only valuable if it avoids needing to code in the factors, right?</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Thu Feb 20 2025 11:30:12 GMT-0800 (Pacific Standard Time)">19:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> i'm not sure unit conversion is something that will ever be added; based on comments and my intuition it seems like a massive minefield</blockquote></mx-reply>what's interesting is that the unit conversion thing comes close to one of the (admittedly, secondary/tertiarty) use cases for decimal, which is about scientific computation, or, more coarsely, "moar digits"</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Thu Feb 20 2025 11:30:26 GMT-0800 (Pacific Standard Time)">19:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">sure. decimal math i'm sold on</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Thu Feb 20 2025 11:30:40 GMT-0800 (Pacific Standard Time)">19:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> would love to hear more about the intersection of MF 2.0 and numbers/decimals/amounts</blockquote></mx-reply>See e.g. here: <a href="https://github.com/unicode-org/message-format-wg/blob/main/spec/functions/number.md#operands-3">https://github.com/unicode-org/message-format-wg/blob/main/spec/functions/number.md#operands-3</a></td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Thu Feb 20 2025 11:30:52 GMT-0800 (Pacific Standard Time)">19:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but the units are only relevant for conversion factors when appropriate, and whether/how the precision matters is insanely complex and varied</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Thu Feb 20 2025 11:31:30 GMT-0800 (Pacific Standard Time)">19:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">here's a simple question that's homework for me: do any of the constants in units.xml for conversion go beyond the limits of IEEE 754?</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Thu Feb 20 2025 11:31:53 GMT-0800 (Pacific Standard Time)">19:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">decimal128 that is</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Thu Feb 20 2025 11:32:12 GMT-0800 (Pacific Standard Time)">19:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">Unit conversion depends on having a clear understanding of how math works on Amount values, hence wanting to leave it until later.</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Thu Feb 20 2025 11:32:35 GMT-0800 (Pacific Standard Time)">19:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">the value is just a number - math works on it the way math works</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Thu Feb 20 2025 11:32:41 GMT-0800 (Pacific Standard Time)">19:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">if it's a decimal then however decimal math works, etc</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Thu Feb 20 2025 11:32:54 GMT-0800 (Pacific Standard Time)">19:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">the conversion factor (or conversion capability) is the part that seems hard to me</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Thu Feb 20 2025 11:33:01 GMT-0800 (Pacific Standard Time)">19:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">What if it's a numeric string?</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Thu Feb 20 2025 11:33:20 GMT-0800 (Pacific Standard Time)">19:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">then you're required to do the conversion before making an Amount anyways, based on the slides i saw?</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Thu Feb 20 2025 11:33:34 GMT-0800 (Pacific Standard Time)">19:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><code>value: number | bigint | Decimal</code> was somewhere i thought</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Thu Feb 20 2025 11:33:50 GMT-0800 (Pacific Standard Time)">19:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><code>Amount</code> doesn't seem like its goal is to handle numeric strings</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Thu Feb 20 2025 11:34:04 GMT-0800 (Pacific Standard Time)">19:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">Ah, my version supported new Amount('42').</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Thu Feb 20 2025 11:34:20 GMT-0800 (Pacific Standard Time)">19:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">we don't do implicit coercion anymore tho, so i don't think that'd fly</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Thu Feb 20 2025 11:34:43 GMT-0800 (Pacific Standard Time)">19:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but either way the rules for conversion to a numeric type are/will be already decided elsewhere</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Thu Feb 20 2025 11:35:27 GMT-0800 (Pacific Standard Time)">19:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">With an opaque Amount, that's inside Intl.NumbetFormat.</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Thu Feb 20 2025 11:36:34 GMT-0800 (Pacific Standard Time)">19:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but in that case the usage is only for string rendering. which means it's decidedly not generic and shouldn't be a 262 feature, which doesn't seem like the goal</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Thu Feb 20 2025 11:46:26 GMT-0800 (Pacific Standard Time)">19:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">My version of an opaque Amount would include a toString() returning a representation of the otherwise inaccessible value. It's intended to:
1. solve i18n/L10n bugs,
2. provide a way to represent (but not operate on) numeric values beyond number,
3. not conflict with anything that we might want to do with Decimal, and
4. support later proposals for e.g. operations like conversion and Decimal integration.</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Thu Feb 20 2025 11:47:39 GMT-0800 (Pacific Standard Time)">19:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">how would that representation be 402-agnostic?</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Thu Feb 20 2025 11:48:09 GMT-0800 (Pacific Standard Time)">19:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">do we want to do that as part of this, or should it be part of stable formatting?</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Thu Feb 20 2025 11:48:43 GMT-0800 (Pacific Standard Time)">19:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">are you putting it here as a hedge against stable formatting?</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Thu Feb 20 2025 11:50:20 GMT-0800 (Pacific Standard Time)">19:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">@littledan:matrix.org</span>: Could you clarify? I don't really see the link with Stable Formatting.</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Thu Feb 20 2025 11:50:40 GMT-0800 (Pacific Standard Time)">19:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> how would that representation be 402-agnostic?</blockquote></mx-reply>What does that mean?</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Thu Feb 20 2025 11:50:49 GMT-0800 (Pacific Standard Time)">19:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell">also wanted to ask that</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Thu Feb 20 2025 11:51:08 GMT-0800 (Pacific Standard Time)">19:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><blockquote>
<p>toString() returning a representation â€¦ solve i18n/L10n bugs</p>
</blockquote>
</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Thu Feb 20 2025 11:51:28 GMT-0800 (Pacific Standard Time)">19:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">if it's using 402 algorithms to produce that representation, and it's in 262, then it'd have to be toLocaleString, wouldn't it?</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Thu Feb 20 2025 11:53:02 GMT-0800 (Pacific Standard Time)">19:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I updated the gist again to show an opaque Amount, with a <code>toString()</code> method to get at a string representation of the value:<br><a href="https://gist.github.com/eemeli/0bd413d2f711cbd6016673af8d68c38c">https://gist.github.com/eemeli/0bd413d2f711cbd6016673af8d68c38c</a></blockquote></mx-reply><span class="nick-15">@ljharb:matrix.org</span>: This is the "It" I'm describing above.</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Thu Feb 20 2025 11:53:44 GMT-0800 (Pacific Standard Time)">19:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">ok, and how does this differ from Intl.NumberFormat now, with an options bag?</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Thu Feb 20 2025 11:54:15 GMT-0800 (Pacific Standard Time)">19:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">Rather than having toString, wouldn't toLocaleString('zxx') accomplish the same things?</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Thu Feb 20 2025 11:54:25 GMT-0800 (Pacific Standard Time)">19:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">It allows for the value+dimension+precision to be encapsulated.</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Thu Feb 20 2025 11:55:18 GMT-0800 (Pacific Standard Time)">19:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Rather than having toString, wouldn't toLocaleString('zxx') accomplish the same things?</blockquote></mx-reply>No, because the toString() would only include the numerical value.</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Thu Feb 20 2025 11:55:35 GMT-0800 (Pacific Standard Time)">19:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">so does a closure. i don't think that's sufficient motivation to add something to the language</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Thu Feb 20 2025 11:57:54 GMT-0800 (Pacific Standard Time)">19:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">You mean like toLocaleString()? That requires re-creating the formatter on every call.</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Thu Feb 20 2025 12:00:59 GMT-0800 (Pacific Standard Time)">20:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jesse:igalia.com">Jesse (TC39 ðŸ‡ºðŸ‡¸)</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> No, because the toString() would only include the numerical value.</blockquote></mx-reply>I guess we omit the unit for pluralization reasons?</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Thu Feb 20 2025 12:04:14 GMT-0800 (Pacific Standard Time)">20:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">Mostly it's to provide _some_ access to the opaque value, and to not duplicate the value available from toLocaleString('zxx').</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Thu Feb 20 2025 12:05:28 GMT-0800 (Pacific Standard Time)">20:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">I would be very happy to iterate on the designs of an appropriate opaque Amount.</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Thu Feb 20 2025 12:05:58 GMT-0800 (Pacific Standard Time)">20:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">It should really be a very small proposal.</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Thu Feb 20 2025 12:13:17 GMT-0800 (Pacific Standard Time)">20:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">"re-creating the formatter", why is that expensive?</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Thu Feb 20 2025 13:40:09 GMT-0800 (Pacific Standard Time)">21:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell"><code>toLocaleString</code> is a good on-ramp to i18n. It is often performant, and ICU4X can make it more performant, but the explicit Intl formatters are an option when benchmarks show it to be worthwhile.</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Thu Feb 20 2025 13:41:02 GMT-0800 (Pacific Standard Time)">21:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">tbh the formatter design also seems like it doesn't belong as a class, but rather just as a function, but obv that ship has sailed</td></tr>

</tbody></table></div></div></div>
</body></html>