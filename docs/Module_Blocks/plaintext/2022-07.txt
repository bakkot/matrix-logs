2022-07-03
[07:19:46.0357] <Jack Works>
> <@littledan:matrix.org> I don't think it's relaxed in practice. HTML may do two fetches but definitely not evaluate the same JS code twice

Do you mean, the first import without assertion, and the second import with assertion so the browser needs to fetch the source again to check if  assertion succeed? 

[07:30:19.0879] <Jack Works>
> <@lucacasonato:matrix.org> I know for a fact that Chrome only fetched each specifier once per realm.

ðŸ‘€ What if import("/a") then import("/b") but /b redirects to /a? does "/a" execute twice?

[07:33:02.0168] <Luca Casonato>
> <@jackworks:matrix.org> ðŸ‘€ What if import("/a") then import("/b") but /b redirects to /a? does "/a" execute twice?

No

[14:28:42.0994] <guybedford>
That case very much does execute twice in browsers, even if it only fetches /a once

[15:37:38.0846] <Luca Casonato>
Huh, I am confused now... I remember this working differently

[15:38:12.0148] <Luca Casonato>
I dug through this all a year or two ago for the Deno module loader.

