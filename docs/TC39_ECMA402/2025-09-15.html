<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>TC39 ECMA402 on 2025-09-15</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "TC39 ECMA402";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">TC39 ECMA402<br>2025-09-15<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2025-08-16" class="nav-link"><span>prev</span></a>
<a href="2025-09-22" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search TC39 ECMA402">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Sep 15 2025 06:45:21 GMT-0700 (Pacific Daylight Time)">13:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@akirose:matrix.org">Aki</span>&gt;</div></td><td class="msg-cell">I don't suppose someone could merge <a href="https://github.com/tc39/ecma402/pull/1011">https://github.com/tc39/ecma402/pull/1011</a> ? I'm antsy to cognitively unload some open PRs </td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Sep 15 2025 06:45:51 GMT-0700 (Pacific Daylight Time)">13:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@usharma:igalia.com">ryzokuken</span>&gt;</div></td><td class="msg-cell">thanks for the reminder <span class="nick-6">Aki</span> I'll review it and merge it ASAP</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Sep 15 2025 06:45:59 GMT-0700 (Pacific Daylight Time)">13:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@usharma:igalia.com">ryzokuken</span>&gt;</div></td><td class="msg-cell">consider the ball out of your court ðŸ˜„ </td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Sep 15 2025 13:58:09 GMT-0700 (Pacific Daylight Time)">20:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@justingrant:matrix.org">justingrant</span>&gt;</div></td><td class="msg-cell"><p>I'm sure we discussed this as part of DurationFormat design planning, but is it expected behavior that the following options using <code>digital</code> style will display hours too, even if the duration only has minutes and seconds?</p>
<pre><code class="language-js">{ style: 'digital', minutesDisplay: 'always', secondsDisplay: 'always' }
</code></pre>
<p>With the default options I would expect to see hours (because otherwise the output would be ambiguous between mins/secs and hours/mins) but if the caller explicitly asks for mins/secs it was surprising that it didn't yield only mins/secs in the output.</p>
</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Sep 15 2025 14:00:17 GMT-0700 (Pacific Daylight Time)">21:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">Yeah there's ambiguity between hh:mm and mm:ss in many locales, but both are valid formats </td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Sep 15 2025 14:03:10 GMT-0700 (Pacific Daylight Time)">21:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@justingrant:matrix.org">justingrant</span>&gt;</div></td><td class="msg-cell"><p>So is it a bug if an implementation is given the options above but the output is h:mm:ss instead of mm:ss?</p>
<p>I read these <a href="https://github.com/tc39/ecma402/blob/main/meetings/notes-2022-09-01.md#the-output-of-minutes--seconds-and-hoursminutes-in-digital-format-could-be-the-same-54">TG2 meeting notes</a> which conculded that the default would be h:mm:ss, but I assumed that this default could be overridden. Was this assumption incorrect?</p>
</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Sep 15 2025 14:04:26 GMT-0700 (Pacific Daylight Time)">21:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">We spent a lot of time on this when writing the spec; what does the spec say to do?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Sep 15 2025 14:29:37 GMT-0700 (Pacific Daylight Time)">21:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@justingrant:matrix.org">justingrant</span>&gt;</div></td><td class="msg-cell">I saw Frank's PR here: <a href="https://github.com/tc39/proposal-intl-duration-format/pull/124/files">https://github.com/tc39/proposal-intl-duration-format/pull/124/files</a> which seems to deal with setting the default display option for H/M/S units. But I assumed that there was a separate path that was followed (like in Intl.DateTimeFormat) if the caller doesn't accept the defaults but instead wants to manually control which units are otuput by providing options for those units in constructor options.

That's the point where I got lost in the spec and wasn't sure where that non-default-options case was proceessed. </td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Sep 15 2025 14:37:27 GMT-0700 (Pacific Daylight Time)">21:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@justingrant:matrix.org">justingrant</span>&gt;</div></td><td class="msg-cell">I was operating under the assumption (maybe incorrect!) that DF worked like DTF where if you specify any unit options then the only units shown are the ones that have options provided, unless additional units are required to be shown because there's no pattern available that includes only the units in options provided by the caller.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Sep 15 2025 14:39:37 GMT-0700 (Pacific Daylight Time)">21:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">My reading of <a href="https://tc39.es/ecma402/#sec-getdurationunitoptions">https://tc39.es/ecma402/#sec-getdurationunitoptions</a> is that when display is digital, then hour, minute, and second all default to display "always" and style "numeric"</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Mon Sep 15 2025 14:40:31 GMT-0700 (Pacific Daylight Time)">21:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I think the PR you cited is the one that implemented that change</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Mon Sep 15 2025 14:41:09 GMT-0700 (Pacific Daylight Time)">21:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">So if you want to turn off hours, then you should specify <code>hoursDisplay: "auto"</code></td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Mon Sep 15 2025 14:42:42 GMT-0700 (Pacific Daylight Time)">21:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">This isn't the same mental model as Intl.DTF. In DTF, we regularly show only a subset of the data. In DurationFormat, we always try to show all of the data. It would be wrong for us to take a duration PT1H2M3S and render it as "2min 3sec". So we need to think about how to render hours all the time, even if the user set only minute and second options.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Mon Sep 15 2025 14:46:40 GMT-0700 (Pacific Daylight Time)">21:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@justingrant:matrix.org">justingrant</span>&gt;</div></td><td class="msg-cell"><p>Cool, that's the solution!  Not exactly intuitive, but it works.</p>
<p>If I have time I'll file a PR for the MDN docs to clarify how to obtain that MM:SS behavior.</p>
<blockquote>
<p>This isn't the same mental model as Intl.DTF</p>
</blockquote>
<p>Yeah, that's the part I didn't fully understand until your notes above. Thanks for clarifying.</p>
</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Mon Sep 15 2025 14:47:38 GMT-0700 (Pacific Daylight Time)">21:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">I think to get mm:ss behavior, you <em>only</em> need <code>hoursDisplay: "auto"</code>, since minutes and seconds both default to display "always"</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Mon Sep 15 2025 14:48:18 GMT-0700 (Pacific Daylight Time)">21:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sffc:mozilla.org">sffc</span>&gt;</div></td><td class="msg-cell">Yeah, I can see how that isn't completely intuitive. ðŸ¤·</td></tr>

</tbody></table></div></div></div>
</body></html>