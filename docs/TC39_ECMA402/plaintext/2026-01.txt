2026-01-05
[06:42:49.0359] <eemeli>
I vaguely recall some recent-ish conversation _somewhere_ about defining or codifying the behaviour of "best fit" locale matching, but now I can't find any record of it. Am I misremembering things?

Context here is that I happened to notice that no browser seems to fall back from `hak` to `zh`, even though the latter is a macrolanguage for the former, and CLDR encodes that relationship as a [languageMatch](https://github.com/unicode-org/cldr/blob/da8921cb81198fdab8ee927eb2cdaf6d38c1d15d/common/supplemental/languageInfo.xml#L369), and I'd like to figure out what the right place might be for fixing that.

[09:20:05.0164] <Richard Gibson>
not that I recall, but I suspect we could defer to a lot of https://unicode.org/reports/tr35/#LanguageMatching while still allowing implementation-defined weights/thresholds/etc

[14:27:02.0030] <sffc>
> <@eemeli:mozilla.org> I vaguely recall some recent-ish conversation _somewhere_ about defining or codifying the behaviour of "best fit" locale matching, but now I can't find any record of it. Am I misremembering things?
> 
> Context here is that I happened to notice that no browser seems to fall back from `hak` to `zh`, even though the latter is a macrolanguage for the former, and CLDR encodes that relationship as a [languageMatch](https://github.com/unicode-org/cldr/blob/da8921cb81198fdab8ee927eb2cdaf6d38c1d15d/common/supplemental/languageInfo.xml#L369), and I'd like to figure out what the right place might be for fixing that.

We recently discussed https://github.com/tc39/ecma402/issues/947 which is somewhat related, but I don't recall discussing codification of BestFit


2026-01-14
[12:54:35.0407] <shu>
@sffc:mozilla.org @dminor:mozilla.org i think we have a webcompat issue in CLDR 48: https://issues.chromium.org/issues/475851786

[12:55:30.0858] <shu>
haven't had a chance to test Firefox yet, do you what CLDR version Firefox is shipping with @dminor:mozilla.org ?

[12:55:44.0809] <shu>
* haven't had a chance to test Firefox yet, do you know what CLDR version Firefox is shipping with @dminor:mozilla.org ?

[12:58:05.0384] <dminor>
We just landed an update to ICU78 in Firefox 147 (https://bugzilla.mozilla.org/show_bug.cgi?id=2000225), that's probably just going to release now.

[12:58:18.0576] <dminor>
That should be using CLDR 48.

[12:59:25.0493] <shu>
interesting, would be interested to hear if you run into any compat issues. we found this in pre-release testing

[12:59:52.0857] <shu>
our preference is for CLDR to roll back this change

[13:46:36.0198] <dminor>
Looks like Firefox is affected as well, I've raised this with webcompat and I'll file a bug.

[14:18:53.0342] <dminor>
For reference, here's the Firefox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=2010411

