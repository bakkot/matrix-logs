2023-03-10
[16:56:40.0773] <justingrant>
Thanks so much to 402 team for taking the time today to discuss time zone canonicalization! üôè Proposal coming soon. 

[01:35:27.0748] <hsivonen>
I filed three issues based on the discussion yesterday: https://github.com/romulocintra/user-locale-client-hints/issues

[01:35:50.0271] <hsivonen>
(Issues 13, 14, and 15)


2023-03-11
[18:29:23.0822] <justingrant>
> <@justingrant:matrix.org> Thanks so much to 402 team for taking the time today to discuss time zone canonicalization! üôè Proposal coming soon.

Proposal is started here: https://github.com/justingrant/proposal-canonical-tz#readme

I just filed a [PR](https://github.com/tc39/agendas/pull/1339) to put this on the agenda for Stage 1 in the upcoming plenary meeting later this month.   

Feedback and issues are welcome! I'm happy to make changes before the meeting, or even to pull it from the agenda if there's something wrong.

cc Richard Gibson 


2023-03-14
[20:55:24.0512] <justingrant>
Slides for the proposal above are here: https://docs.google.com/presentation/d/13vW8JxkbzyzGubT5ZkqUIxtpOQGNSUlguVwgcrbitog

[21:00:03.0408] <justingrant>
Different topic: is there a rough timeline for when ICU4X (specifically the parts that power time zone APIs) will be included in V8?  Later this year? 2024? 2025?  A few things I'be been working on lately, including the proposal above, may rely on ICU changes. So trying to get a sense for how whether those ICU changes would be in ICU4C (which I assume is harder to justify change given ICU4X is right around the corner) or ICU4X (which I assume is somewhat more flexible).

[22:42:19.0353] <sffc>
The road to V8 running ICU4X is long. An example scenario is if we end 2023 with buy-in from all sides and then commit 2024 to doing migration and testing and roll something out in 2025. But to be clear there is no such consensus or agreement at this point. A number of V8 people are amenable to the idea but there is no official roadmap yet

[22:44:17.0316] <justingrant>
Got it, 2025 sounds like a reasonable target. Thanks for sharing. So essentially no proposal in the next year or so should depend on ICU4X, but nor should any proposal put big new requirements on ICU4C either. Sound right?

[22:49:16.0438] <sffc>
Yes, although you're welcome to make that type of proposal, just don't expect it to ship

[22:50:04.0749] <justingrant>
Haha that's kinda what I meant. I'm not a big fan of working on things that won't ship. :-) 

[22:51:54.0846] <sffc>
If you're asking about this because of time zone canonicalization, I don't know for certain exactly how it fits in here. It certainly requires either a change to ICU4C or some other helper library. Perhaps one outcome could be that this is the first proposal to use ICU4X while other things are still on C. It's easier to sell incremental migration :)

[05:44:50.0929] <Richard Gibson>
> <@justingrant:matrix.org> Got it, 2025 sounds like a reasonable target. Thanks for sharing. So essentially no proposal in the next year or so should depend on ICU4X, but nor should any proposal put big new requirements on ICU4C either. Sound right?

by "depend on ICU4{C,X}" you're referring to implementation of a proposal by one or more pieces of software, right? Because ICU is not a thing that ECMA-402 can normatively reference, and we already have software that specifically does not use it for e.g. time zone canonicalization

[05:58:24.0200] <littledan>
(I guess this is a proposal within Google, not a TC39 proposal)

[05:58:55.0316] <littledan>
glad to hear that it's on the table to adopt ICU4X in V8

[05:59:02.0268] <littledan>
(even if not decided)

[06:00:21.0374] <justingrant>
Yes. 

"2025" was all I needed to know about ICU4X. Wanted to check if ICU already had what that proposal needs our whether new ICU APIs are needed. ICU4C seems like the places to look.

ICU4C already has [`TimeZone::createEnumeration`](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1TimeZone.html#aa6e783394f7a3ee95a0a650bd25d316b) and [`getCanonicalID`](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1TimeZone.html#a7ec9cea4e406bd625e0fe1b058134b5c). 

That sounds like good news.

[06:02:43.0581] <justingrant>
* Yes. (Replying to Richatd)
"2025" was all I needed to know about ICU4X. Wanted to check if ICU already had what that proposal needs our whether new ICU APIs are needed. ICU4C seems like the places to look.
ICU4C already has TimeZone::createEnumeration and getCanonicalID.
That sounds like good news.

[06:04:02.0583] <littledan>
What was the ECMA-402 feedback on the time zone canonicalization proposal?

[06:06:19.0891] <justingrant>
TG2 encouraged me to write one. It's only 5 days old so I don't expect much feedback yet. üòÄ

[12:53:59.0180] <sffc>
We discussed the topic at length in last week's TG2 call, but before it was a proposal; see last week's email with notes

