2023-07-06
[09:41:55.0969] <ljharb>
next week is plenary, but we could still have our meeting i think. i plan to be there

[11:07:00.0073] <TabAtkins>
Do we have meeting notes? If not, a summary of the discussion?

[13:56:50.0598] <ljharb>
i could type up a summary. tab, will you be able to be there monday?

[14:10:58.0466] <TabAtkins>
yes

[14:29:05.0148] <ljharb>
awesome, let's chat then, then


2023-07-07
[09:40:23.0017] <TabAtkins>
sounds good.

[09:41:09.0130] <TabAtkins>
If we're chunking `${}` for now, how do you reference variables to match against? Are we going to move the syntax around so binding patterns have some prefix and naked idents are resolved as variable references?

[09:46:36.0738] <TabAtkins>
(Assuming we have a solution for variable refs, I'm okay with dropping `${}` in favor of array extractors, fwiw.)

[09:48:26.0090] <TabAtkins>
And by "a solution" I think the only reasonable one is indeed that a bare ident is a variable ref rather than an irrefutable binding pattern. It should precisely the same syntax restrictions and resolution rules as array extractors does.

[09:49:22.0051] <TabAtkins>
That is, if `when foo(): ...` works, then `when foo:` also needs to work and find the same variable. (But do a value match instead of forcing an array-extractor match.)

[10:12:35.0534] <TabAtkins>
And I suppose `when foo` would still try to find a custom matcher on the value. Difference from `when foo()` is that it would accept any successful result, while `foo()` further matches the successful result against a `[]` pattern. Right?

[10:28:11.0287] <TabAtkins>
Does this end up removing the `with <matcher>` suffix entirely? We still have it on regex matchers right now, is that okay? (If we remove it, we have to rely entirely on named capture groups to pull things out of a regex matcher.)

