<!DOCTYPE html><html><head>
  <title>Pattern Matching Champions on 2023-10-16</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "Pattern Matching Champions";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">Pattern Matching Champions<br>2023-10-16<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2023-10-09" class="nav-link"><span>prev</span></a>
<a href="2023-10-17" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search Pattern Matching Champions">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Oct 16 2023 07:41:10 GMT-0700 (Pacific Daylight Time)">14:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">are we meeting today?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Oct 16 2023 07:54:07 GMT-0700 (Pacific Daylight Time)">14:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@tabatkins:matrix.org">TabAtkins</span>&gt;</div></td><td class="msg-cell">Planning on it</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Oct 16 2023 08:06:57 GMT-0700 (Pacific Daylight Time)">15:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@tabatkins:matrix.org">TabAtkins</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">ljharb</span>:</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Oct 16 2023 08:09:05 GMT-0700 (Pacific Daylight Time)">15:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">I canâ€™t attend; Iâ€™m at a conference today and tomorrow</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Oct 16 2023 08:31:40 GMT-0700 (Pacific Daylight Time)">15:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@tabatkins:matrix.org">TabAtkins</span>&gt;</div></td><td class="msg-cell">Short meeting, notes up at <a href="https://github.com/tc39/proposal-pattern-matching/issues/307">https://github.com/tc39/proposal-pattern-matching/issues/307</a></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Oct 16 2023 08:51:18 GMT-0700 (Pacific Daylight Time)">15:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell"><p>TLDR:</p>
<p>After the new README merge, I will rewrite the new spec. I opened an issue to write down <em>all</em> features we have rn <a href="https://github.com/tc39/proposal-pattern-matching/issues/306">https://github.com/tc39/proposal-pattern-matching/issues/306</a>. ðŸ¤” in the issue means we don't have generally agreement but the idea has been raised with reasonable use case.</p>
<p>I don't want to ship an MVP, I want to have as many useful features as possible, therefore I'll go through this approach: add features as removable features. It's also important to let the committee know this. If we are over our syntax budget, we can remove some of them instead of getting the whole proposal rejected.</p>
<p>Here are removable features I'd like to have (they are all explained in <a href="https://github.com/tc39/proposal-pattern-matching/issues/306">https://github.com/tc39/proposal-pattern-matching/issues/306</a>):</p>
<ul>
<li>Default value (<code>{ a = 1 }</code>)</li>
<li>Unary algebraic pattern (<code>+x</code>, <code>-y</code>)</li>
<li>RegEx literal pattern (<code>/a/</code>)</li>
<li>RegEx named capture group bindings (<code>/a(?&lt;let name&gt;)/</code>)</li>
<li>Relation pattern (<code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code> <code>in</code> <code>instanceof</code> <code>===</code>)</li>
<li>Void pattern (<code>[void, 2]</code>)</li>
<li>Optional property pattern (<code>{ a: 1, b?: 2 }</code>)</li>
<li>Binding-while-matching property pattern (<code>{ let a: Number }</code>)</li>
</ul>
<p>This seems to be a lot of syntax sugars but they're all removable. I'll remark this clearly in both README and spec. If anyone wants to add more to the list or strongly object to some ideas to be written as removable in the spec please let me know!</p>
<p>BTW I'll explain new things that are not formally denoted before. This is all my personal thought, e.g. Rbuckton might disagree with me despite he also supports relational patterns.</p>
<p>Why does relational pattern include the <code>===</code> pattern?<br>Because for pattern <code>{ a: x }</code>, it actually has 2 possible semantics: <code>===</code> or custom matcher. If we want to force it to do <code>===</code> matching, there is no way to do it therefore <code>{ a: === x }</code> might be a useful thing although looks strange.</p>
<p>What's the use case for the Binding-while-matching property pattern?<br>For code doing a lot of shape checks and creating bindings (this is common for handling unknown data), this increases readability.</p>
<pre><code>// without
when { type: String and let type, id: (Number or String or null) and let id, let action }:
// with
when { let type: String, let id: Number or String or null, let action }
</code></pre>
</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Oct 16 2023 09:45:58 GMT-0700 (Pacific Daylight Time)">16:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Is <code>===</code> necessary for relational patterns if we're already using SameValue/SameValueZero? <code>instanceof</code> is marginally useful depending on the final semantics for the default behavior for an implicit custom matcher of <code>class</code>, since it is otherwise subsumed by <code>x is y</code>.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Oct 16 2023 09:47:18 GMT-0700 (Pacific Daylight Time)">16:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">I'd argue for <code>===</code> it's such a narrow corner case that I'd be fine relegating it to the <code>if</code> clause/pattern escape hatch.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Oct 16 2023 16:05:00 GMT-0700 (Pacific Daylight Time)">23:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@tabatkins:matrix.org">TabAtkins</span>&gt;</div></td><td class="msg-cell">Once you have <code>&gt;</code>, etc, <em>not</em> having the equalities is weirder than not having it imo</td></tr>

</tbody></table></div></div></div>
</body></html>