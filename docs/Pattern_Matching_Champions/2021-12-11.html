<!DOCTYPE html><html><head>
  <title>Pattern Matching Champions on 2021-12-11</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "Pattern Matching Champions";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">Pattern Matching Champions<br>2021-12-11<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-12-10" class="nav-link"><span>prev</span></a>
<a href="2021-12-13" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size="25" placeholder="Search Pattern Matching Champions">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Fri Dec 10 2021 16:35:49 GMT-0800 (Pacific Standard Time)">00:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Had a silly thought, based on the extractor object idea: `if-let` and `let-in` as an alternative to `match-when`:
```js
let x =
  if let { statusCode: 200, body } in expr(body) 
```</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Fri Dec 10 2021 16:36:12 GMT-0800 (Pacific Standard Time)">00:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">rust does that</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Fri Dec 10 2021 16:36:20 GMT-0800 (Pacific Standard Time)">00:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><a href="https://doc.rust-lang.org/rust-by-example/flow_control/if_let.html">https://doc.rust-lang.org/rust-by-example/flow_control/if_let.html</a></td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Fri Dec 10 2021 16:36:40 GMT-0800 (Pacific Standard Time)">00:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">I think it's useful, but not an alternative</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Fri Dec 10 2021 18:22:31 GMT-0800 (Pacific Standard Time)">02:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">how to do computed property key matching?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Fri Dec 10 2021 18:22:54 GMT-0800 (Pacific Standard Time)">02:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell"><pre><code class="language-js">when ({ [expr]: 1 })
when ({ [${expr}]: 1 })
</code></pre>
</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Fri Dec 10 2021 18:22:57 GMT-0800 (Pacific Standard Time)">02:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">which one?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Fri Dec 10 2021 18:35:01 GMT-0800 (Pacific Standard Time)">02:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">Jack Works: it’d have to be the second one, unless it’s a string literal</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri Dec 10 2021 18:42:29 GMT-0800 (Pacific Standard Time)">02:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">is that worth opening an issue for? my gut instinct was the second way, but that'd diverge from destructuring... I don't see why we couldn't have the first way?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri Dec 10 2021 19:24:00 GMT-0800 (Pacific Standard Time)">03:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Won't `${` step on possible syntax space? I'd like to bring extractor objects to committee next year, and it would conflict because $ is a valid identifier</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri Dec 10 2021 19:58:45 GMT-0800 (Pacific Standard Time)">03:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> is that worth opening an issue for? my gut instinct was the second way, but that'd diverge from destructuring... I don't see why we couldn't have the first way?</blockquote></mx-reply>i think it’d be very confusing if anything in pattern space had expression semantics outside of the placeholder syntax</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri Dec 10 2021 19:59:11 GMT-0800 (Pacific Standard Time)">03:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Won't `${` step on possible syntax space? I'd like to bring extractor objects to committee next year, and it would conflict because $ is a valid identifier</blockquote></mx-reply>an identifier can’t appear directly before a curly brace, so there shouldn’t be any issue.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri Dec 10 2021 20:01:14 GMT-0800 (Pacific Standard Time)">04:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> i think it’d be very confusing if anything in pattern space had expression semantics outside of the placeholder syntax</blockquote></mx-reply>I mostly agree, but isn't there a corresponding argument that confusion can arise wherever patterns and destructuring diverge?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri Dec 10 2021 20:05:25 GMT-0800 (Pacific Standard Time)">04:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">sure, but this particular one already exists because computed keys in destructuring require colon-renaming, which we don’t have i think?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Fri Dec 10 2021 20:06:02 GMT-0800 (Pacific Standard Time)">04:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">oh</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Fri Dec 10 2021 20:06:25 GMT-0800 (Pacific Standard Time)">04:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">yknow I don't think I've ever used computed properties in destructuring</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri Dec 10 2021 20:06:28 GMT-0800 (Pacific Standard Time)">04:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">so that makes sense</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri Dec 10 2021 21:05:06 GMT-0800 (Pacific Standard Time)">05:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">Another problem. </td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri Dec 10 2021 21:05:38 GMT-0800 (Pacific Standard Time)">05:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">when (x) is an ir???(how to spell that word)? match</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri Dec 10 2021 21:06:08 GMT-0800 (Pacific Standard Time)">05:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> when (x) is an ir???(how to spell that word)? match</blockquote></mx-reply>irrefutable. though in my current revision to the README I'm starting to call that an "identifier pattern" instead</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri Dec 10 2021 21:06:50 GMT-0800 (Pacific Standard Time)">05:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">But it only holds for the default match case (when you're in the last clause and want to catch the binding). (It also serve for the removed "as")</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri Dec 10 2021 21:06:51 GMT-0800 (Pacific Standard Time)">05:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> an identifier can’t appear directly before a curly brace, so there shouldn’t be any issue.</blockquote></mx-reply>Identifier before curly brace is part of that proposal, however.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri Dec 10 2021 21:07:46 GMT-0800 (Pacific Standard Time)">05:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">then that would obviously conflict, yes.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri Dec 10 2021 21:08:09 GMT-0800 (Pacific Standard Time)">05:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but I’m immediately skeptical about that being part of a proposal regardless, to be honest</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri Dec 10 2021 21:08:27 GMT-0800 (Pacific Standard Time)">05:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">I think the current semantics of  "when(identifier)" doesn't worth this concise syntax.
Maybe we should use "when (identifier)" for Matchables because that will be more important. </td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri Dec 10 2021 21:08:34 GMT-0800 (Pacific Standard Time)">05:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> But it only holds for the default match case (when you're in the last clause and want to catch the binding). (It also serve for the removed "as")</blockquote></mx-reply>what "only holds"? (I'm confused what "it" refers to)</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri Dec 10 2021 21:09:20 GMT-0800 (Pacific Standard Time)">05:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">E.g. "when(identifier)" should means calling identifier@@matcher(val)</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri Dec 10 2021 21:10:02 GMT-0800 (Pacific Standard Time)">05:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">That will be more useful than an irrefutable match</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri Dec 10 2021 21:10:24 GMT-0800 (Pacific Standard Time)">05:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i definitely don’t agree custom matchers are more important</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri Dec 10 2021 21:10:46 GMT-0800 (Pacific Standard Time)">05:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">and irrefutable matcher are strictly required for object values and array values</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Fri Dec 10 2021 21:10:55 GMT-0800 (Pacific Standard Time)">05:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">agree with Jordan. I would block the proposal myself if we did that. identifier patterns are a hard necessity inside of object / array patterns; disallowing them at the top level would be really inconsistent</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Fri Dec 10 2021 21:10:56 GMT-0800 (Pacific Standard Time)">05:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">and they should mean the same thing nested as at the top</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Fri Dec 10 2021 21:11:24 GMT-0800 (Pacific Standard Time)">05:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">(I’m pretty sure we’ve been over this in multiple champion group calls in the beginning)</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Fri Dec 10 2021 21:11:37 GMT-0800 (Pacific Standard Time)">05:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">I only want to change the top level irrefutable match, not doing anything with Array / object pattern</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Fri Dec 10 2021 21:11:42 GMT-0800 (Pacific Standard Time)">05:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but even in general, i think custom matchers will be an element minority of use cases</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Fri Dec 10 2021 21:11:56 GMT-0800 (Pacific Standard Time)">05:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I only want to change the top level irrefutable match, not doing anything with Array / object pattern</blockquote></mx-reply>Jack Works: right, that inconsistency would be unacceptable</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Fri Dec 10 2021 21:12:01 GMT-0800 (Pacific Standard Time)">05:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> (I’m pretty sure we’ve been over this in multiple champion group calls in the beginning)</blockquote></mx-reply>yes, we had strong consensus that top-level identifier patterns must be allowed for consistency</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Fri Dec 10 2021 21:12:05 GMT-0800 (Pacific Standard Time)">05:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">they need to be the same at the top or nested.</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Fri Dec 10 2021 21:12:41 GMT-0800 (Pacific Standard Time)">05:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">Ok, I agree with the consistency argument</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Fri Dec 10 2021 21:13:42 GMT-0800 (Pacific Standard Time)">05:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">But I still think top level irrefutable match doesn't worth the current syntax. It can be more useful if we agree some inconsistent</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Fri Dec 10 2021 21:13:55 GMT-0800 (Pacific Standard Time)">05:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i don’t think it would be more useful</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Fri Dec 10 2021 21:14:07 GMT-0800 (Pacific Standard Time)">05:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">custom matchers are very likely to be the minority imo</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Fri Dec 10 2021 21:14:30 GMT-0800 (Pacific Standard Time)">05:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">and it’s very important for folks ability to learn how nested patterns work by seeing how top-level ones work</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Fri Dec 10 2021 21:14:50 GMT-0800 (Pacific Standard Time)">05:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">even disregarding majority/minority, we're talking about three keystrokes - <code>identifier</code> vs <code>${identifier}</code>. I think it would be an egregious sin of language design to violate consistency here</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Fri Dec 10 2021 21:14:52 GMT-0800 (Pacific Standard Time)">05:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> custom matchers are very likely to be the minority imo</blockquote></mx-reply>I don't think so, I expect library developers will use this feature to create expressive matchers</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Fri Dec 10 2021 21:15:04 GMT-0800 (Pacific Standard Time)">05:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">arguing which will be more common is a red herring imo</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Fri Dec 10 2021 21:15:07 GMT-0800 (Pacific Standard Time)">05:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">they might. But that doesn’t mean that’ll be the majority use case by language users.</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Fri Dec 10 2021 21:15:48 GMT-0800 (Pacific Standard Time)">05:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i agree we can’t come to any objective agreement over what will be more common :-) I’m illustrating that there’s strong disagreement about our predictions, which means we shouldn’t be designing based on them</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Fri Dec 10 2021 21:16:04 GMT-0800 (Pacific Standard Time)">05:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">and thus consistency should win out, as opposed to subjective ideas of usefulness</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Fri Dec 10 2021 21:16:24 GMT-0800 (Pacific Standard Time)">05:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">I would honestly block the proposal even if we expected custom matchers to be the 99% use-case. we have an explicit delineation right now: anything outside <code>${}</code> is pattern mode, anything inside is expression mode. I think it would be a downright travesty to break that delineation. pattern matching is already conceptually hard, we shouldn't make it harder</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Fri Dec 10 2021 21:17:05 GMT-0800 (Pacific Standard Time)">05:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">remember that code is read far more often than it’s written; compared to how simple it is to read and understand, it is <em>unimportant</em> how easy it is to write</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Fri Dec 10 2021 21:18:33 GMT-0800 (Pacific Standard Time)">05:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I would honestly block the proposal even if we expected custom matchers to be the 99% use-case. we have an explicit delineation right now: anything outside <code>${}</code> is pattern mode, anything inside is expression mode. I think it would be a downright travesty to break that delineation. pattern matching is already conceptually hard, we shouldn't make it harder</blockquote></mx-reply>I don't mean custom matcher will be majority and normal matching is minority. I think they're equally important (and normal matching wins a little bit on the importancy IMO).</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Fri Dec 10 2021 21:21:59 GMT-0800 (Pacific Standard Time)">05:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">So... Except this problem, what about "when (identifier(binding, binding2))"? The unapply syntax. It is not a valid destructing pattern, can we use it for custom matcher? </td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Fri Dec 10 2021 21:22:54 GMT-0800 (Pacific Standard Time)">05:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">is the idea that <code>when (identifier(binding, binding2))</code>, as you wrote, would be equivalent to <code>when (${identifier} with [binding, binding2])</code> in the current syntax?</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Fri Dec 10 2021 21:23:37 GMT-0800 (Pacific Standard Time)">05:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">Yes I guess</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Fri Dec 10 2021 21:23:52 GMT-0800 (Pacific Standard Time)">05:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">I’m not sure why that sugar would be worth the complexity</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Fri Dec 10 2021 21:24:14 GMT-0800 (Pacific Standard Time)">05:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">especially if identifier isn’t a function - it’d be very confusing to use syntax that suggests it’s a function being called</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Fri Dec 10 2021 21:24:54 GMT-0800 (Pacific Standard Time)">05:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">Or if we have the unapply proposal, it will also in the deconstruction syntax and we can have it in pattern matching? </td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Fri Dec 10 2021 21:25:38 GMT-0800 (Pacific Standard Time)">05:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">yeah Jack I agree with your motivation - I think <code>with</code> is a little painful but I don't think we have another option besides hoping for Ron's extractor objects proposal</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Fri Dec 10 2021 21:25:50 GMT-0800 (Pacific Standard Time)">05:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">this proposal is already <em>so</em> big</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Fri Dec 10 2021 21:25:58 GMT-0800 (Pacific Standard Time)">05:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i would expect any kind of unapply proposal to advance only if it worked well with existing proposals, including this one</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Fri Dec 10 2021 21:26:29 GMT-0800 (Pacific Standard Time)">05:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but since there’s no actual proposal yet, at any stage, it’s not super useful to speculate on how it’d work</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Fri Dec 10 2021 21:34:17 GMT-0800 (Pacific Standard Time)">05:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">Does the readme reflect the latest consensus? I want to review the whole proposal again, I see it last commit is 1 minute ago 👀 or is it WIP and I shall wait</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Fri Dec 10 2021 21:35:20 GMT-0800 (Pacific Standard Time)">05:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">I'd say call it a WIP. I'm trying to pare it down and make it easier to read so might as well wait and review it after that</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Fri Dec 10 2021 21:38:25 GMT-0800 (Pacific Standard Time)">05:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> but I’m immediately skeptical about that being part of a proposal regardless, to be honest</blockquote></mx-reply>My point is that, extractors or not, using `${` would carve out an entire swath of syntax space since it would prevent identifiers from being used there, which would be unfortunate. </td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Fri Dec 10 2021 21:39:16 GMT-0800 (Pacific Standard Time)">05:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">I'm definitely sympathetic to that but I think the opportunity to align with existing dev knowledge around expression mode in template literals (which is the exact same thing) is too good to pass up</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Fri Dec 10 2021 21:42:06 GMT-0800 (Pacific Standard Time)">05:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Especially when `()` might be sufficient to break out of declaration/pattern territory on its own. `when((expr))` might seem redundant, but it's one char shorter than `when(${expr})` and doesn't lock up `id{`</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Fri Dec 10 2021 21:42:21 GMT-0800 (Pacific Standard Time)">05:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">(really, I think it's unfortunate that <code>$</code> was ever allowed to be a literal 😂)</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Fri Dec 10 2021 21:43:05 GMT-0800 (Pacific Standard Time)">05:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Especially when `()` might be sufficient to break out of declaration/pattern territory on its own. `when((expr))` might seem redundant, but it's one char shorter than `when(${expr})` and doesn't lock up `id{`</blockquote></mx-reply>this was actually the first incarnation but it was rejected universally by everyone in the champions group for being too subtle</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Fri Dec 10 2021 21:44:05 GMT-0800 (Pacific Standard Time)">05:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">if it helps, i don’t think I’d ever be on board with an actual identifier followed by a curly brace, for any proposal (unrelated to pattern matching)</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Fri Dec 10 2021 21:44:17 GMT-0800 (Pacific Standard Time)">05:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">I'd much prefer a different sigil than `$`, regardless of its precedence in template literals. It's precedence as an ID is much older. </td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Fri Dec 10 2021 21:45:31 GMT-0800 (Pacific Standard Time)">05:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I'd much prefer a different sigil than `$`, regardless of its precedence in template literals. It's precedence as an ID is much older. </blockquote></mx-reply>I don't really care about seniority though. <code>$</code> as an identifier is bad DX; <code>${}</code> in template literals is good DX</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Fri Dec 10 2021 21:45:38 GMT-0800 (Pacific Standard Time)">05:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">And I really do believe that there is a future for ADT enum and extractors in JS, and that could fall apart if `id{` is disallowed because of `${`
</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Fri Dec 10 2021 21:46:01 GMT-0800 (Pacific Standard Time)">05:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">(I'm not making an argument one way or another, I'm just saying that your beef shouldn't be with pattern matching, it should be with the identifier grammar)</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Fri Dec 10 2021 21:47:13 GMT-0800 (Pacific Standard Time)">05:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I don't really care about seniority though. <code>$</code> as an identifier is bad DX; <code>${}</code> in template literals is good DX</blockquote></mx-reply>That didn't stop ljharb from being strongly against using `$` as a topic in pipeline for the exact same reason, not trodding on identifier space</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Fri Dec 10 2021 21:47:50 GMT-0800 (Pacific Standard Time)">05:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">The identifier grammar isn't going to change, though. This can</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Fri Dec 10 2021 21:50:13 GMT-0800 (Pacific Standard Time)">05:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">tbh i wouldn’t have used $ in template literals, because it’s an identifier, but that ship sailed before i was on tc39</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Fri Dec 10 2021 21:50:46 GMT-0800 (Pacific Standard Time)">05:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">I find `match (x) when (Move{x, y})` to be much more appealing than having  `${` as opposed to another sigil</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Fri Dec 10 2021 21:51:22 GMT-0800 (Pacific Standard Time)">05:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> And I really do believe that there is a future for ADT enum and extractors in JS, and that could fall apart if `id{` is disallowed because of `${`<br></blockquote></mx-reply>but this ^ is the entire argument that we shouldn't use the good DX option here, and I don't really buy it - <code>Move.{x, y}</code>, <code>Move&lt;-{x, y}</code>, <code>Move@{x, y}</code>...</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Fri Dec 10 2021 21:51:40 GMT-0800 (Pacific Standard Time)">05:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">imo <code>Move{</code> is super ugly and i would never want a feature that made that possible</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Fri Dec 10 2021 21:51:45 GMT-0800 (Pacific Standard Time)">05:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Worst case, I revert extractors to be iterator-only, but I was convinced by conversations in this channel to more broadly support regular destructuring as well. </td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Fri Dec 10 2021 21:52:05 GMT-0800 (Pacific Standard Time)">05:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">curly braces wrap things - a scope/block or an object literal. they don't modify what comes before them</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Fri Dec 10 2021 21:52:42 GMT-0800 (Pacific Standard Time)">05:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> imo <code>Move{</code> is super ugly and i would never want a feature that made that possible</blockquote></mx-reply>Have you tried using that in Rust? It is super useful there. </td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Fri Dec 10 2021 21:53:04 GMT-0800 (Pacific Standard Time)">05:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">nope, i've never used rust. but the feature's usefulness is entirely unrelated to the aesthetics of the specific syntax</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Fri Dec 10 2021 21:53:35 GMT-0800 (Pacific Standard Time)">05:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">I think the canonical rust format (<code>rustfmt</code>) puts a space there which I don't think(?) we could do?</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Fri Dec 10 2021 21:53:45 GMT-0800 (Pacific Standard Time)">05:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">(and I think the version without a space would be really ugly in rust)</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Fri Dec 10 2021 21:54:30 GMT-0800 (Pacific Standard Time)">05:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">but also, rust has full-fat ADTs, I think we have to be careful about how much inspo we take from rust</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Fri Dec 10 2021 21:54:32 GMT-0800 (Pacific Standard Time)">05:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">I find the asthetics fairly pleasing, along with the duality of construction and extraction for ADT enums. </td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Fri Dec 10 2021 21:54:36 GMT-0800 (Pacific Standard Time)">05:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">(I say this as someone who uses &amp; loves rust)</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Fri Dec 10 2021 21:55:57 GMT-0800 (Pacific Standard Time)">05:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">what about <code>:</code>? you could have your enum variants be <code>Move: {x, y}</code> and your extractor patterns be <code>Move:{x, y}</code></td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Fri Dec 10 2021 21:56:15 GMT-0800 (Pacific Standard Time)">05:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">that already works as a labelled statement, in statement position</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Fri Dec 10 2021 21:56:20 GMT-0800 (Pacific Standard Time)">05:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">ADT enums for structures could be optimized by vms in ways normal objects can't (or at least, haven't yet). Checking type kind on an ADT enum could by monomorphic, which isn't currently possible for objects. </td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Fri Dec 10 2021 21:57:31 GMT-0800 (Pacific Standard Time)">05:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">The worst case I mentioned above would have been `Move({x, y}) = z`, which is an iterator destructuring</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Fri Dec 10 2021 21:57:51 GMT-0800 (Pacific Standard Time)">05:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I think the canonical rust format (<code>rustfmt</code>) puts a space there which I don't think(?) we could do?</blockquote></mx-reply>Space would be fine</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Fri Dec 10 2021 21:58:23 GMT-0800 (Pacific Standard Time)">05:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Space would be fine</blockquote></mx-reply>does that just resolve the whole thing then?</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Fri Dec 10 2021 21:58:25 GMT-0800 (Pacific Standard Time)">05:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">it'd have to be an NLTH tho</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Fri Dec 10 2021 21:59:08 GMT-0800 (Pacific Standard Time)">05:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">No, it wouldn't. </td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Fri Dec 10 2021 21:59:30 GMT-0800 (Pacific Standard Time)">05:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Object destructuring already requires you to be in an expression context</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Fri Dec 10 2021 21:59:45 GMT-0800 (Pacific Standard Time)">05:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">I'd be fine with some carve-out like "inside a pattern, <code>${</code> is always treated as the interpolation operator; if a user wants to use an extractor pattern on an identifier named <code>$</code> they must use a space"</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Fri Dec 10 2021 21:59:58 GMT-0800 (Pacific Standard Time)">05:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">`{x} = y` is a syntax error</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Fri Dec 10 2021 22:00:23 GMT-0800 (Pacific Standard Time)">06:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">`({x} = y)` is not</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Fri Dec 10 2021 22:01:03 GMT-0800 (Pacific Standard Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">oh this isn't an expression, it's a destructuring LHS?</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Fri Dec 10 2021 22:01:10 GMT-0800 (Pacific Standard Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">So `(Move{x} = y)` would align and wouldn't require a NLT</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Fri Dec 10 2021 22:01:19 GMT-0800 (Pacific Standard Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Yes, it's a destructuring LHS</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Fri Dec 10 2021 22:01:32 GMT-0800 (Pacific Standard Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Which is why it matters to `when`</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Fri Dec 10 2021 22:01:36 GMT-0800 (Pacific Standard Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><p>someone could still type:</p>
<pre><code>(Move
{ x } = y)
</code></pre>
<p>tho</p>
</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Fri Dec 10 2021 22:01:44 GMT-0800 (Pacific Standard Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Yeah, not an issue</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Fri Dec 10 2021 22:01:56 GMT-0800 (Pacific Standard Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">ASI won't trigger inside an expression</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Fri Dec 10 2021 22:01:57 GMT-0800 (Pacific Standard Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">maybe not in the grammar, but why should we permit someone to write that atrocity</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Fri Dec 10 2021 22:02:28 GMT-0800 (Pacific Standard Time)">06:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Because some people like to put braces on a separate line. Not me, but some people</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Fri Dec 10 2021 22:03:14 GMT-0800 (Pacific Standard Time)">06:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">sure but those people already have bugs in their code and violate every JS styleguide out there, they don't matter.</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Fri Dec 10 2021 22:03:27 GMT-0800 (Pacific Standard Time)">06:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Which is why pattern matching was using something other than `match(x) {` before, because it requires the NLT and some didn't like that</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Fri Dec 10 2021 22:03:33 GMT-0800 (Pacific Standard Time)">06:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">JS doesn't work with K&amp;R or allman or whichever that is; it only really works with OTBS</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Fri Dec 10 2021 22:03:55 GMT-0800 (Pacific Standard Time)">06:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> sure but those people already have bugs in their code and violate every JS styleguide out there, they don't matter.</blockquote></mx-reply>Thats a very aggressive take</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Fri Dec 10 2021 22:04:00 GMT-0800 (Pacific Standard Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i am aware</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Fri Dec 10 2021 22:04:38 GMT-0800 (Pacific Standard Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but i'm not going to give consensus for something gross just to appease people that want an inappropriate brace style, just like the committee's already decided not to block something good just because it creates ASI hazards</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Fri Dec 10 2021 22:04:47 GMT-0800 (Pacific Standard Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">I think we've lost sight of my original point a bit: using <code>${}</code> for interpolation doesn't <em>doom</em> extractor patterns, at worst it introduces a token between the identifier and the pattern (which is arguably a bit worse, arguably a bit better). I see very little reason to abandon the fantastic DX and conceptual overlap that <code>${}</code> gives us</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Fri Dec 10 2021 22:05:21 GMT-0800 (Pacific Standard Time)">06:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">I'm with Ron here - those <em>people</em> matter. maybe we don't care to further contort the JS spec to support that use case, but that's a very different statement</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Fri Dec 10 2021 22:06:02 GMT-0800 (Pacific Standard Time)">06:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">principle_skinner_its_the_children_who_are_wrong.jpeg</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Fri Dec 10 2021 22:06:42 GMT-0800 (Pacific Standard Time)">06:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><a href="https://sailbo.at/out-of-touch.jpg">https://sailbo.at/out-of-touch.jpg</a></td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Fri Dec 10 2021 22:07:16 GMT-0800 (Pacific Standard Time)">06:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I'm with Ron here - those <em>people</em> matter. maybe we don't care to further contort the JS spec to support that use case, but that's a very different statement</blockquote></mx-reply>ok fair enough. the people do matter, which is why we shouldn't encourage their problematic style by bending over backwards to support it.</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Fri Dec 10 2021 22:07:21 GMT-0800 (Pacific Standard Time)">06:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">(check out <a href="http://sailbo.at">sailbo.at</a> - it's my old tech lead's personal meme dumpster and it's so good)</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Fri Dec 10 2021 22:08:27 GMT-0800 (Pacific Standard Time)">06:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">inspired: those people matter and we should guide them towards better practices through the spec, canonical examples, teaching materials, web platform docs, etc etc</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Fri Dec 10 2021 22:09:03 GMT-0800 (Pacific Standard Time)">06:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">sure, that's fine too</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Fri Dec 10 2021 22:09:25 GMT-0800 (Pacific Standard Time)">06:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">but guiding can be done with both a carrot and a nudge</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Fri Dec 10 2021 22:09:38 GMT-0800 (Pacific Standard Time)">06:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">ps this just happened <a href="https://twitter.com/ljharb/status/1469549744343044098">https://twitter.com/ljharb/status/1469549744343044098</a></td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Fri Dec 10 2021 22:09:58 GMT-0800 (Pacific Standard Time)">06:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">F</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Fri Dec 10 2021 22:10:14 GMT-0800 (Pacific Standard Time)">06:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Got to go, family time anyways</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Fri Dec 10 2021 22:10:35 GMT-0800 (Pacific Standard Time)">06:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">thanks for hacking through the weeds! enjoy 💜</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Fri Dec 10 2021 23:15:11 GMT-0800 (Pacific Standard Time)">07:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jackworks:matrix.org">Jack Works</span>&gt;</div></td><td class="msg-cell">🤔</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Sat Dec 11 2021 01:30:59 GMT-0800 (Pacific Standard Time)">09:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">ljharb</span> I think our branch protection settings are conflicting with GH actions. looking at the logs it looks like everyone but you is getting a "cannot push to protected branch" when merging. probably not relevant until we're working on spec text but would be good to get a green build</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Sat Dec 11 2021 01:32:05 GMT-0800 (Pacific Standard Time)">09:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@mpcsh_:matrix.org">mpcsh</span>&gt;</div></td><td class="msg-cell">sidebar, I like <a href="https://github.com/tc39/proposal-temporal/blob/main/.github/workflows/deploy.yml">temporal's approach</a> of keeping rendered spec text on <code>gh-pages</code></td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Sat Dec 11 2021 08:36:12 GMT-0800 (Pacific Standard Time)">16:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">hm, I’ll take a look</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Sat Dec 11 2021 08:36:35 GMT-0800 (Pacific Standard Time)">16:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i pretty intentionally chose not to use the gh-pages branch when building the repo template</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Sat Dec 11 2021 13:42:58 GMT-0800 (Pacific Standard Time)">21:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">k i think i fixed the branch protections; we'll know the next time someone commits something that changes the spec file</td></tr>

</tbody></table></div></div></div>
</body></html>