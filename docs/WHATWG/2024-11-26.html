<!DOCTYPE html><html><head>
  <title>WHATWG on 2024-11-26</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2024-11-26<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-11-25" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Nov 25 2024 19:26:05 GMT-0800 (Pacific Standard Time)">03:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> hm. maybe our patch to add that was in error anyway. doesn't fail any of our local tests to remove it üòÖ</blockquote></mx-reply>Did you see the big red box saying that there are lots of problems with the DOMParser / XMLSerializer specs? This one reminds me of one of them... <a href="https://github.com/w3c/DOM-Parsing/issues">https://github.com/w3c/DOM-Parsing/issues</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Nov 25 2024 19:29:41 GMT-0800 (Pacific Standard Time)">03:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@akaster:serenityos.org">akaster</span>&gt;</div></td><td class="msg-cell">None of the other engines produce a result with the xml ns applied. We just slapped that into our XML document parser while referencing <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#xml">https://html.spec.whatwg.org/multipage/infrastructure.html#xml</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Nov 25 2024 19:30:43 GMT-0800 (Pacific Standard Time)">03:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@akaster:serenityos.org">akaster</span>&gt;</div></td><td class="msg-cell">/     To ease migration from HTML to XML, user agents conforming to this specification will place elements in HTML
//     in the <a href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a> namespace, at least for the purposes of the DOM and CSS.
//     The term "HTML elements" refers to any element in that namespace, even in XML documents.

Basically asserting that the spec is telling us "any element placed in any XML or HTML document shall have the xhtml namespace"</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Nov 25 2024 19:30:50 GMT-0800 (Pacific Standard Time)">03:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@akaster:serenityos.org">akaster</span>&gt;</div></td><td class="msg-cell">which seems... unlikely to be the desired effect</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Nov 25 2024 19:34:21 GMT-0800 (Pacific Standard Time)">03:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@akaster:serenityos.org">akaster</span>&gt;</div></td><td class="msg-cell">There's a PR reverting that behavior that causes us to now pass <a href="https://github.com/web-platform-tests/wpt/blob/24c2e5fb6c/domparsing/XMLSerializer-serializeToString.html#L34">https://github.com/web-platform-tests/wpt/blob/24c2e5fb6c/domparsing/XMLSerializer-serializeToString.html#L34</a> ü§∑‚Äç‚ôÇÔ∏è</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Nov 25 2024 19:35:37 GMT-0800 (Pacific Standard Time)">03:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@akaster:serenityos.org">akaster</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/LadybirdBrowser/ladybird/pull/2579/files#diff-607aaf214af29d5eaa606d04c2e53b4a0e931f713843fd158cf1f47a6f84d2cbL95">https://github.com/LadybirdBrowser/ladybird/pull/2579/files#diff-607aaf214af29d5eaa606d04c2e53b4a0e931f713843fd158cf1f47a6f84d2cbL95</a></td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Nov 25 2024 19:50:39 GMT-0800 (Pacific Standard Time)">03:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@akaster:serenityos.org">akaster</span>&gt;</div></td><td class="msg-cell">Oh I guess I missed this part on my read-through: "An XML parser, for the purposes of this specification, is a construct that follows the rules given in XML to map a string of bytes or characters into a Document object. NOTE: At the time of writing, no such rules actually exist"

... I guess we're purely in "wing it and run the tests" territory</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Nov 25 2024 20:32:29 GMT-0800 (Pacific Standard Time)">04:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> /     To ease migration from HTML to XML, user agents conforming to this specification will place elements in HTML<br>//     in the <a href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a> namespace, at least for the purposes of the DOM and CSS.<br>//     The term "HTML elements" refers to any element in that namespace, even in XML documents.<br><br>Basically asserting that the spec is telling us "any element placed in any XML or HTML document shall have the xhtml namespace"</blockquote></mx-reply>Yeah that is not saying what you're thinking. That's just saying "we recognize that XML namespaces are, unfortunately, part of the web. Therefore, instead of completely ignoring them, <a href="https://html.spec.whatwg.org/#insert-an-html-element">https://html.spec.whatwg.org/#insert-an-html-element</a> uses the XHTML namespace.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Nov 25 2024 20:33:14 GMT-0800 (Pacific Standard Time)">04:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">You can kind of tell that because it says "will place" instead of "must place", it means "there's a normative requirement somewhere else".</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Nov 26 2024 01:55:02 GMT-0800 (Pacific Standard Time)">09:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">keithamus</span>: <a href="https://github.com/whatwg/html/pull/9841">https://github.com/whatwg/html/pull/9841</a> still has a number of (hidden) unresolved conversations</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Nov 26 2024 02:01:23 GMT-0800 (Pacific Standard Time)">10:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@keithamus:matrix.org">keithamus</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span>: I've resolved a couple that I believe are outdated (namely one around linking "no state", an outdated one about the table enumeration, and one around event retargeting which I feel I addressed but didn't get a response on).</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Nov 26 2024 02:02:09 GMT-0800 (Pacific Standard Time)">10:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@keithamus:matrix.org">keithamus</span>&gt;</div></td><td class="msg-cell"><p>That means a few are left:</p>
<ul>
<li>Two comments from you about the retargeting, which we discussed yesterday (<a href="https://github.com/whatwg/html/pull/9841#discussion_r1732959104">https://github.com/whatwg/html/pull/9841#discussion_r1732959104</a>, <a href="https://github.com/whatwg/html/pull/9841#discussion_r1834134022">https://github.com/whatwg/html/pull/9841#discussion_r1834134022</a>).</li>
<li>A comment about the <code>--</code> vs <code>-</code> (<a href="https://github.com/whatwg/html/pull/9841#discussion_r1834121434">https://github.com/whatwg/html/pull/9841#discussion_r1834121434</a>).</li>
<li>A comment from you about <code>DOMString</code> vs <code>DOMString</code> (<a href="https://github.com/whatwg/html/pull/9841#discussion_r1834130209">https://github.com/whatwg/html/pull/9841#discussion_r1834130209</a>).</li>
</ul>
<p>Is that all of them or am I missing some?</p>
</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Nov 26 2024 02:06:00 GMT-0800 (Pacific Standard Time)">10:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@keithamus:matrix.org">keithamus</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span>: I just resolved all but the <code>--</code> vs <code>-</code> one, as I think they're addressed with the changes from yesterday. I <em>think</em> the <code>--</code> vs <code>-</code> one is resolved, certainly feedback from OpenUI folks landed on <code>--</code> as an ergonomic preference.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Nov 26 2024 02:07:06 GMT-0800 (Pacific Standard Time)">10:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@keithamus:matrix.org">keithamus</span>&gt;</div></td><td class="msg-cell">In fact I'll resolve that too as you say in the comment you don't feel strongly and that we can relax it later if we see a need. I'd like to go ahead with <code>--</code> considering the feedback from OpenUI.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Nov 26 2024 02:21:53 GMT-0800 (Pacific Standard Time)">10:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">keithamus</span>: I've seen more. It also seems the latest rebase wasn't proofread. There are concerning rebase artifacts in the commit.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Nov 26 2024 02:22:03 GMT-0800 (Pacific Standard Time)">10:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@keithamus:matrix.org">keithamus</span>&gt;</div></td><td class="msg-cell">:( </td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Nov 26 2024 02:28:41 GMT-0800 (Pacific Standard Time)">10:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span> <span class="nick-15">Ms2ger üáßüá™</span><br>I prefer 10AM this Thursday because next week it conflicts with TC39, but I can adapt</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Nov 26 2024 03:54:12 GMT-0800 (Pacific Standard Time)">11:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">akaster</span>: when you parse XML and there's no namespace, you can't infer a namespace, not during parsing or serialization</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Nov 26 2024 06:56:03 GMT-0800 (Pacific Standard Time)">14:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">I wonder if there could be some useful APIs to detect memory leaks, or give hints to devs about problematic patterns (like anti-AsyncContext üòâ ). Just debugging a youtube leak where iframe's window adds an event listener to <a href="http://window.top">window.top</a>, and then iframe is removed from DOM. </td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Nov 26 2024 06:57:47 GMT-0800 (Pacific Standard Time)">14:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">We should just make it harder and harder for windows to reach each other without postMessage().</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Nov 26 2024 06:58:01 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">that might be the best solution yes</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Nov 26 2024 07:00:41 GMT-0800 (Pacific Standard Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">There are also other common leaks, like the one Element has atm, where it accidentally keeps large disconnected subtrees around because of some DOM event kept alive by JS, and event's *target points to that subtree.</td></tr>

</tbody></table></div></div></div>
</body></html>