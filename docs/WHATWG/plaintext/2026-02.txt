2026-02-01
[23:38:48.0946] <annevk>
Yeah, when Hixie wrote algorithms we didn't have an established way of writing them yet and not everything he wrote has been refactored. The `img` element could really do with a refactoring of its processing model as well as abstracting some aspects of the fetch pipeline so they can be shared with other image endpoints.

[07:23:49.0192] <jebez>
Hi

See https://www.mediawiki.org/wiki/Project:Support_desk#Why_%3Cbr%3E_instead_of_just_a_new_line?

I created a simple test.html thanks to the 1st example of https://www.w3schools.com/html/html_basic.asp & I discovered the issue of this link is general to HTML, so same question of the link.

[08:30:46.0487] <Ms2ger (FOSDEM)>
Wikitext is not HTML 


2026-02-02
[11:11:54.0191] <mfreed>
Hi all, just a friendly reminder to post any discussion topics for this Thursday's joint CSSWG/WHATWG/OpenUI task force meeting to the meeting agenda issue: https://github.com/whatwg/html/issues/12104


2026-02-03
[18:10:13.0437] <sideshowbarker>
TabAtkins: Regarding https://github.com/w3c/csswg-drafts/issues/12054#issuecomment-3837656822 I‚Äôm trying to figure out what needs to be done¬†‚Äî what people want to be done.

[18:11:54.0621] <sideshowbarker>
Question: It seems like all the auto-publishing plumbing that Andreu had originally set up has maybe subsequently been superseded by tooling you set in since then?

[18:12:59.0596] <sideshowbarker>
And to make auto-publishing work for the FXTF and Houdini stuff, I could replicate the workflow y‚Äôall currently have set up for the w3c/csswg-drafts repo?

[18:13:18.0476] <sideshowbarker>
/me waves to Andreu Botella too

[18:14:18.0055] <sideshowbarker>
Andreu Botella: I don‚Äôt wanna bug you with stuff if you‚Äôre swamped and I can manage to get it working without you needing take any time away from what you‚Äôre working on n

[18:14:20.0984] <sideshowbarker>
* Andreu Botella: I don‚Äôt wanna bug you with stuff if you‚Äôre swamped and I can manage to get it working without you needing take any time away from what you‚Äôre working on

[18:15:33.0091] <sideshowbarker>
I‚Äôm gonna need to step away now from my machine for the next 90 minutes to 2 hours anyway ‚Äî but I‚Äôll get back to this after that

[18:16:41.0934] <sideshowbarker>
However, if anybody else has more clear idea of what exactly the problems are that need to be solved, and you want to take a shot at doing the set up to fix them, I wouldn‚Äôt mind at all if somebody beat me to it‚Ä¶ 

[18:20:46.0135] <Andreu Botella>
well, currently the index of specs is still handled by plins's server, and eventually we'd want to get that also generated by the gh actions workflow

[18:21:25.0255] <sideshowbarker>
OK, can definitely do that ‚Äî probably by end-of-day my time

[18:22:41.0544] <Andreu Botella>
at first bin/build-index.py would build an index, as well as create level-less shortcuts (e.g. css-fonts for whichever the current level is)

[18:23:02.0796] <Andreu Botella>
and for that it'd use various heuristics to figure out which is the current work, with a list of exceptions

[18:23:44.0873] <Andreu Botella>
in my repo there's still a version of that that does generate an index, although it looks quite different from the one in plins's server

[18:25:05.0603] <sideshowbarker>
OK, I‚Äôll take a look

[18:25:30.0127] <sideshowbarker>
the *‚Äúvarious heuristics‚Äù* is clearly the hard part‚Ä¶

[18:26:54.0435] <sideshowbarker>
for the csswg-drafts repor, there are corresponding _‚Äúvarious heuristics‚Äù_ captured in existing build stuff there?

[18:27:46.0259] <sideshowbarker>
I mean, I just want something I could use as a model for the *‚Äúvarious heuristics‚Äù* for the other repos

[18:30:15.0815] <Andreu Botella>
okay, so first I'm trying to get the shortname from bikeshed metadata, and i'm hardcoding some cases where it's wrong (where the shortname includes the level): https://github.com/w3c/csswg-drafts/blob/main/bin/build-index.py#L68-L84

[18:30:46.0359] <Andreu Botella>
there's something similar for html-only specs in `get_html_spec_metadata`

[18:33:21.0847] <Andreu Botella>
and in https://github.com/w3c/csswg-drafts/blob/main/bin/build-index.py#L171-L193 I'm grouping specs by their shortname, and for each shortname, i'm picking the earliest level that isn't marked as complete ‚Äì or otherwise the highest level

[18:33:44.0056] <Andreu Botella>
and there's the list of exceptions for cases where that's wrong

[18:35:03.0492] <Andreu Botella>
in the august F2F folks mentioned that (at least for csswg-drafts) you can find out which level is the current work based on the github issue labels

[18:35:11.0815] <Andreu Botella>
but it'd be better to maintain that as a json in the repo or something

[20:44:17.0304] <sideshowbarker>
Andreu Botella: got it all, thanks ‚Äî that‚Äôs enough for me to work with

[21:26:31.0826] <sideshowbarker>
Incidentally, I‚Äôve noticed that the toolchain seems to still be set up to add some client-side script to the output HTML to make the w3c.github.io/csswg-drafts URLs redirect to drafts.csswg.org URLs

[21:27:17.0353] <sideshowbarker>
‚Ä¶but it apparently is no longer working, and I‚Äôve tried to figure out why, but I haven‚Äôt been able to figure it out

[21:28:15.0371] <sideshowbarker>
But I‚Äôm not complaining. We shouldn‚Äôt be doing those redirects, so I‚Äôm glad it‚Äôs turned off ‚Ä¶¬†somewhere ‚Ä¶ or else, broken.

[21:28:38.0514] <sideshowbarker>
If something broke it accidentally, then thank god for that happy accident.

[21:57:22.0131] <sideshowbarker>
TabAtkins: Question: does `--md-Text-Macro="BUILTBYGITHUBCI foo"` have any purpose other than making that redirect happen? (when it was actually working/enabled)

[22:18:06.0880] <sideshowbarker>
ok wait, only now do I notice that y‚Äôall got all the FXTF drafts moved to the csswg-drafts repo? And you‚Äôre redirecting all the old URLs?  And if so, then it gets me back to my original question of, trying to figure out what actual problem people commenting in https://github.com/w3c/csswg-drafts/issues/12054#issuecomment-3837656822 want solved

[22:47:26.0550] <TabAtkins>
What I want solved is to take Peter's server out of the loop entirely

[22:47:38.0344] <TabAtkins>
Just use GitHub to just and use our domain name

[22:49:54.0371] <sideshowbarker>
Yeah me too

[22:49:59.0753] <sideshowbarker>
so, let‚Äôs do that

[22:50:24.0567] <TabAtkins>
* Just use GitHub to host and use our domain name

[22:50:48.0262] <sideshowbarker>
I will huddle with the systems team and get a concrete plan put together for that

[22:51:02.0597] <sideshowbarker>
Chris Lilley wants that too

[22:51:40.0743] <sideshowbarker>
(I mean, as far as I can tell from his GH issue comment ‚Äî I haven‚Äôt talked to him about out directly)

[22:52:21.0718] <sideshowbarker>
but I will not be volunteering to replicate anything from the drafts.csswg.org server except for the actual document publishing

[22:53:19.0603] <sideshowbarker>
whatever else myriad features it might have, I‚Äôm not gonna try to be the one to set up some server at w3c to do any of that other stuff

[22:55:15.0820] <sideshowbarker>
What I want is simply that: When some implementor from a browser project is in the middle of implementing some CSS feature, they can reliably access the CSS specs, and not instead have their work blocked by the server being down/broken/wedged

[22:56:42.0547] <sideshowbarker>
personally I would prefer to quit using that domain main, except for to hosting 301 redirects to the GH locations. But I don‚Äôt feel strongly about it ‚Äî¬†if we could just do the CNAME thing, then, fine.

[22:56:50.0433] <sideshowbarker>
* personally I would prefer to quit using that domain name, except for to hosting 301 redirects to the GH locations. But I don‚Äôt feel strongly about it ‚Äî¬†if we could just do the CNAME thing, then, fine.

[22:58:31.0893] <sideshowbarker>
TabAtkins: (or anybody else who might now) Do you have any idea what is being used by that server to do the markdown-to-html conversion? If so, I will try to set up something in the GH repo to do that. But if not, then I guess for now I‚Äôll try to ‚Ä¶¬†black-box reverse-engineer it.

[22:59:14.0396] <sideshowbarker>
will just use the python `markdown` thing, I guess?

[23:19:46.0291] <TabAtkins>
> <@sideshowbarker:matrix.org> personally I would prefer to quit using that domain name, except for to hosting 301 redirects to the GH locations. But I don‚Äôt feel strongly about it ‚Äî¬†if we could just do the CNAME thing, then, fine.

Depending on the GitHub url space is not great; I'd prefer it if the w3c offered non-rename redirects to all the WGs so they had urls under w3.org. We don't want to break a lot of links if GitHub ever goes away.

[23:20:23.0998] <TabAtkins>
> <@sideshowbarker:matrix.org> TabAtkins: (or anybody else who might now) Do you have any idea what is being used by that server to do the markdown-to-html conversion? If so, I will try to set up something in the GH repo to do that. But if not, then I guess for now I‚Äôll try to ‚Ä¶¬†black-box reverse-engineer it.

Not a clue. But maybe we can just redirect anything with an md to the GitHub rendering 

[23:23:50.0700] <sideshowbarker>
I wouldn‚Äôt object to others setting up that stuff. But in the meantime at least, I‚Äôm personally pretty happy with GH publishing. It‚Äôs what pretty much all other projects I contribute to outside of W3C are using, so ‚Ä¶¬†to me it‚Äôs reliable and familiar, at least.

And now I say that, I do realize that for WHATWG stuff, we do have a different non-GH thing set up. So yeah, point taken.

[23:34:27.0656] <sideshowbarker>
OK, for the markdown-to-HTML conversion, here‚Äôs something quick and clean and simple: https://github.com/w3c/csswg-drafts/pull/13432/files

[23:35:39.0197] <jebez>
You understood not...

To make it simple:

In HTML, why a line break, new line is not interpreted, <br> needed? It's not WYSIWYG...

Related to https://wiki.archlinux.org/title/Help_talk:Editing#%3Cbr%3E_works_not_well. , https://www.mediawiki.org/wiki/Project:Support_desk#Why_%3Cbr%3E_instead_of_just_a_new_line?

[23:40:29.0068] <jebez>
You understood not...

To make it simple:

In HTML, why a line break, new line is not interpreted, <nowiki><br></nowiki> needed? It's not WYSIWYG...

Related to https://wiki.archlinux.org/title/Help_talk:Editing#%3Cbr%3E_works_not_well. , https://www.mediawiki.org/wiki/Project:Support_desk#Why_%3Cbr%3E_instead_of_just_a_new_line?

[23:41:04.0635] <jebez>
* You understood not...

To make it simple:

In HTML, why a line break, new line is not interpreted, \<br>\ needed? It's not WYSIWYG...

Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:41:45.0565] <jebez>
* You understood not...

To make it simple:

In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...

Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:54:25.0550] <jebez>
* You understood not...<br>
<br>
To make it simple:<br>
<br>
In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...<br>
<br>
Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:54:37.0532] <jebez>
* You understood not...


To make it simple:


In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...


Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:55:10.0961] <jebez>
* You understood not...

To make it simple:

In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...

Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:55:32.0727] <jebez>
* You understood not...



To make it simple:



In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...



Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:55:43.0264] <jebez>
* You understood not...




To make it simple:




In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...




Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:56:01.0084] <jebez>
* You understood not...<br>

To make it simple:<br>

In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...<br>

Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:56:13.0198] <jebez>
* You understood not...


To make it simple:


In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...


Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:56:27.0303] <jebez>
* You understood not...<br>
To make it simple:<br>
In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG...<br>
Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:57:15.0796] <jebez>
* You understood not...

To make it simple:

In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG... E.g. need \<br> here.

Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:57:33.0250] <jebez>
* You understood not...<br>

To make it simple:<br>

In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG... E.g. need \<br> here.<br>

Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[23:59:16.0865] <jebez>
* You understood not...<br>

To make it simple:<br>

In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG... E.g. need \<br> here.<br>
https://www.w3schools.com/tags/tag_br.asp<br>
Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[00:01:02.0518] <jebez>
* You understood not...<br>

To make it simple:<br>

In HTML, why a line break, new line is not interpreted, \<br> needed? It's not WYSIWYG... E.g. needs \<br> here.<br>

https://www.w3schools.com/tags/tag\_br.asp<br>

Related to https://wiki.archlinux.org/title/Help\_talk:Editing#%3Cbr%3E\_works\_not\_well. , https://www.mediawiki.org/wiki/Project:Support\_desk#Why\_%3Cbr%3E\_instead\_of\_just\_a\_new\_line?

[00:13:52.0931] <sideshowbarker>
next bit: https://github.com/w3c/css-houdini-drafts/pull/1165/files

[00:31:59.0331] <sideshowbarker>
OK, and now https://github.com/w3c/csswg-drafts/pull/13433/files will give us a proper index page¬†at w3c.github.io/csswg-drafts¬†‚Äî¬†rather than a redirect to the legacy server

[00:32:12.0051] <sideshowbarker>
(and with that, I take a break to cook dinner)

[00:53:45.0142] <sideshowbarker>
Andreu Botella: (or anybody else who might know) What exactly is the ‚Äúissues list‚Äù that needs to be built?

Is that maybe https://drafts.csswg.org/issues.html? Or something else entirely?

[00:55:23.0547] <sideshowbarker>
I guess for now I‚Äôm gonna just assume that‚Äôs what it is, and try to figure out how to remake that

[00:55:52.0677] <sideshowbarker>
oh wait is just the `bikeshed issues-list` thing, I guess?

[07:51:11.0278] <zcorpan>
Noam Rosenthal: foolip : should pseudo-attribute parsing work differently in HTML docs vs XML docs? Right now xml-stylesheet uses XML-like parsing for the pseudo-attributes, also in HTML documents.

[07:51:58.0615] <zcorpan>
But we can switch to HTML-like syntax for xml-stylesheet in HTML docs, because why not

[07:52:02.0597] <foolip>
zcorpan: I think that it should, yeah. It would be fairly inconsistent with the rest of HTML if we require double quotes

[07:54:14.0116] <foolip>
zcorpan: If we define this is a little parser of `data`, I think we'd just use a different parser depending on the node document. For XML it would be the https://www.w3.org/TR/xml-stylesheet/#NT-PseudoAtts production, and for HTML, not totally sure yet, but maybe defined in terms of "<attrs " + data + ">", because that's actually how the XML thing is implemented.

[07:59:35.0592] <zcorpan>
foolip: that seems somewhat bogus since the data can contain `>` (also in HTML with DOM API)

[08:00:11.0177] <zcorpan>
Not sure if something bad happens because of it

[08:04:32.0345] <foolip>
zcorpan: yes, but there's no parser we could reuse that would skip past a ">". I think what we could do is to truncate `data` at the first ">" if it's there, before parsing.

[08:05:50.0430] <zcorpan>
foolip: > can be in a selector and works today https://software.hixie.ch/utilities/js/live-dom-viewer/saved/14487

[08:09:32.0587] <Noam Rosenthal>
yea there's no way around escaping it inside a PI, due to compat with browsers that treat it as a bogus comment

[08:10:21.0632] <Noam Rosenthal>
This can happen today, if you adopt an XML PI and serialize it. if you re-parse it you'd get a bogus comment and some trailing characters

[08:12:43.0127] <Noam Rosenthal>
e.g. if you adopt `<?echo "x>1" ?>`  after a couple of steps of parsing and re-serialization it would be `<!-- echo "x -->1" ?>`

[08:13:36.0282] <zcorpan>
Noam Rosenthal: Right, or if you use createProcessingInstruction. The question is if it's good enough to use the fragment HTML parser or so and concat the data like how browsers implement it now for XML xml-stylesheet (which isn't quite per spec), or if the possibility of `>` in the data makes the approach too bogus?

[08:14:17.0330] <Noam Rosenthal>
I think it's OK to fragment-parse it, and only accept as attributes if it produces exactly one element

[08:15:07.0761] <Noam Rosenthal>
so `<attribs ${data}></attribs>` would produce more than one (empty) element if $(data} has a > anywhere

[08:16:20.0683] <zcorpan>
`<?xml-stylesheet ></?>`

[08:16:35.0378] <Noam Rosenthal>
(or we can search for > in advance, it would produce the same result)

[08:18:37.0843] <Noam Rosenthal>
Yea that produces a bogus comment in addition to the element

[08:19:18.0873] <zcorpan>
Sorry I meant `></` as data

[08:20:06.0742] <zcorpan>
Becomes `<attribs ></></attribs>` which parses fine and there are no child nodes in `attribs`

[08:20:18.0539] <zcorpan>
But I can live with weird cases being weird

[08:21:32.0312] <Noam Rosenthal>
yea it would have an empty attrib with name "<" 

[08:23:22.0647] <Noam Rosenthal>
also you could only get that by adopting an XML node and then setting its data with JS.

[08:24:49.0452] <zcorpan>
There is no < attribute in my example though?

[08:27:44.0116] <Noam Rosenthal>
Well you're taking an XML PI and re-parsing its data with HTML. 
Anyway, I'm also OK with saying that ">" means no attributes and everything else is HTML-parsed. It's all edge cases

[08:30:14.0733] <zcorpan>
Noam Rosenthal: right, agreed. Maybe don't need to scan for >. I can't envision real problems with it, if you parse into an inert DocumentFragment

[08:31:25.0424] <zcorpan>
I guess we should standardize the approach browsers use for XML xml-stylesheet, willfully violating the xml-stylesheet spec

[08:32:38.0680] <Noam Rosenthal>
It's definitely simpler than trying to be specific to "pseudo-attributes" and then trying to make it apply to HTML as well

[08:35:53.0383] <zcorpan>
Noam Rosenthal: I think the "clean" approach is to modify the HTML parser so that it can be started in before attribute state, and make it stop parsing when it tries to switch to a non-attribute-related state. But that doesn't exist today and is probably too much heavy lifting for pseudo-attributes

[08:36:39.0611] <zcorpan>
* Noam Rosenthal: I think the "clean" approach is to modify the HTML parser so that it can be started in before attribute name state, and make it stop parsing when it tries to switch to a non-attribute-related state. But that doesn't exist today and is probably too much heavy lifting for pseudo-attributes

[08:37:10.0408] <Noam Rosenthal>
Agreed

[12:50:53.0052] <TabAtkins>
https://github.com/w3c/css-houdini-drafts/actions/runs/21647222016/job/62402240607 btw, an error in the script

[13:00:34.0307] <TabAtkins>
ah, in both of them

[13:36:42.0739] <sideshowbarker>
Oh. I'll take a look

[13:53:14.0992] <sideshowbarker>
TabAtkins: https://github.com/w3c/css-houdini-drafts/pull/1166

[14:05:32.0530] <TabAtkins>
error at a later stage now, during deploy it looks like https://github.com/w3c/css-houdini-drafts/actions/runs/21649294456/job/62409406208

[14:08:58.0089] <sideshowbarker>
dang looking now

[14:10:00.0344] <sideshowbarker>
ah huhuh, just forget to actually flip on the GH Pages stuff in the repo settings. Will do that right now

[14:12:12.0998] <sideshowbarker>
https://github.com/w3c/css-houdini-drafts/actions/runs/21649294456/job/62411271506 re-running right now

[14:13:10.0649] <sideshowbarker>
* https://github.com/w3c/css-houdini-drafts/actions/runs/21649294456/job/62411271506 re-running right now (update: ‚úÖ)

[14:15:10.0984] <sideshowbarker>
TabAtkins: *voil√†* https://w3c.github.io/css-houdini-drafts/

[14:15:39.0911] <TabAtkins>
now same fix on csswg-drafts ^_^

[14:19:17.0716] <sideshowbarker>
the `shopt -s nullglob` fix for the `./**/Overview.html` thing, you mean? Or something else I missed?

[14:21:03.0757] <sideshowbarker>
TabAtkins:  GH Pages is already on at https://github.com/w3c/csswg-drafts/settings/pages at least. And we got the purty https://w3c.github.io/csswg-drafts/ index page

[14:21:49.0376] <TabAtkins>
oh indeed, sorry

[14:22:20.0147] <TabAtkins>
I guess I accidentally was looking at the Houdini page when I said csswg-drafts was failing in the same way. (tho it *will* fail the same way if it ever hits the same case, I guess)

[14:27:43.0838] <sideshowbarker>
haha yeah I was doing the same thing earlier¬†‚Äî¬†I mean, looking at the Houdini repo settings when I thought I was looking at the csswg settings

[14:29:42.0205] <Andreu Botella>
so how are things going?

[14:33:00.0855] <sideshowbarker>
Andreu Botella: most-visible progress is https://w3c.github.io/csswg-drafts/. Take a look there and try out the search and push some buttons. It‚Äôs fun üòÑ But also practical. With 164 specs, otherwise making everybody scroll or rely on browser find-in-page is not the most beautiful UX‚Ä¶

[14:34:32.0524] <sideshowbarker>
oh I see https://github.com/w3c/csswg-drafts/pull/13432 hasn‚Äôt been merged yet. Got a merge conflict to resolve there. (And a comment from Florian to respond to)

[15:11:37.0200] <sideshowbarker>
TabAtkins: merge conflict fixed at https://github.com/w3c/csswg-drafts/pull/13432 (and responded to Florian‚Äôs comment: I am confident that Python-Markdown does everything y‚Äôall need, and there‚Äôs point in using any other thing instead).

[15:14:11.0641] <sideshowbarker>
Andreu Botella: I think the changes I made yesterday resolved all the immediate/acute problems that had been brought up in recent comments in https://github.com/w3c/csswg-drafts/issues/12054. There‚Äôs still some room to make refinements along the lines you alluded to in some of your own comments. But it seems like this is good enough for now.

[15:15:40.0302] <sideshowbarker>
I guess the one biggish pending thing is the migration of the Houdini stuff. But it doesn‚Äôt seem like there‚Äôs any problems there¬†‚Äî¬†it‚Äôs just a matter of that work actually needing to get done.

[15:26:25.0211] <sideshowbarker>
I guess that‚Äôs one specific remaining refinement that could be worked on. That, and figuring out if there‚Äôs some way to *‚Äúwhich spec is the current work‚Äù* algorithm slightly smarter. But IMHO the `CURRENT_WORK_EXCEPTIONS` thing is just fine. It‚Äôs only 8 cases. So it‚Äôs not a big deal to maintain.

[15:26:52.0162] <sideshowbarker>
* üëÜ I guess that‚Äôs one specific remaining refinement that could be worked on. That, and figuring out if there‚Äôs some way to _‚Äúwhich spec is the current work‚Äù_ algorithm slightly smarter. But IMHO the `CURRENT_WORK_EXCEPTIONS` thing is just fine. It‚Äôs only 8 cases. So it‚Äôs not a big deal to maintain.


2026-02-04
[16:00:16.0210] <Andreu Botella>
sure, as long as when publishing a new spec someone makes sure that it's not wrongly marked as current work

[20:58:48.0741] <nektro>
got https://github.com/nektro/zig-whatwg-url to pass 100% of `urltestdata.json` and `IdnaTestV2.json` (w/ base included this time)

[03:45:14.0859] <foolip>
What's up with https://www.w3.org/TR/xml/#NT-NameStartChar claiming that names in XML can start with ":"?

[03:48:31.0668] <foolip>
https://www.w3.org/TR/xml-names/#orphans seems to touch on this, but is non-normative...

[03:56:02.0507] <sideshowbarker>
Namespaces

[03:56:15.0314] <sideshowbarker>
it‚Äôs superseded by Namespaces, right?

[03:56:45.0038] <sideshowbarker>
so I guess in a non-Namespace aware XML implementation, it would be allowed

[03:57:02.0264] <sideshowbarker>
but there are no such implementations, I guess

[03:57:24.0310] <sideshowbarker>
there would be no point in any non-Namespace-aware XML implementation

[03:57:25.0444] <foolip>
Hmm, seems like https://www.w3.org/TR/xml-names/ doesn't monkeypatch this in the way I'd expect and not normatively, but fine, it's namespaces.

[03:57:51.0823] <foolip>
As long as ":" is the only special case it's all good.

[03:58:00.0417] <foolip>
I thought I might be reading the wrong thing entirely.

[03:58:18.0125] <sideshowbarker>
yeah, have fun trying to implement from those specs to begin with, I guess

[03:58:39.0354] <sideshowbarker>
I mean, they are not rigorous specs, by our current standards for such

[03:59:22.0482] <sideshowbarker>
I guess the productions are rigorous enough

[04:02:48.0049] <Noam Rosenthal>
`:` aside, this seems to be relatively close to `ID_Start` and `ID_Continue` in unicode (https://www.unicode.org/reports/tr31/#D1)
(*TIL)

We can probably use those for valid PI targets in HTML as well, which would exclude current uses of bogus comment such as `lit$$`

[05:23:27.0025] <sideshowbarker>
hsivonen: friendly bump on https://github.com/validator/htmlparser/pull/113

[05:29:16.0813] <hsivonen>
I happened to be already reviewing it, but I'm a bit confused. Should I be looking at some spec PR that's not landed, yet? 

[05:33:22.0378] <eemeli>
XML's `NameStartChar` and `NameChar` have not been updated to match Unicode changes, so e.g. the invisible Arabic Letter Mark U+061C counts as a valid first (and potentially only) character of an XML name.

[05:40:01.0775] <hsivonen>
For sure XML tooling compat, one needs to stay within the XML rules as they were in 1998. I'm skeptical of mixing UAX 31 into HTML conformance requirements. Rules like https://html.spec.whatwg.org/#custom-data-attribute have worked well enough so far. I suppose the validator could complain about going outside UAX 31, but UAX 31 checks would be bad for browser DOM perf.

[05:40:33.0067] <Noam Rosenthal>
Agreed, I think we can remain with a simple ascii subset of this.

[05:44:48.0388] <sideshowbarker>
No, that is intended to functionally match the spec requirements as I understand them. But if it‚Äôs too much of deviation that it‚Äôs not mapping back to the spec clearly enough, then I guess I need to revisit it. Or if you‚Äôre saying that as currently written, it‚Äôs not even functionally matching the spec requirements, then I guess I definitely need to go back and try again.

[05:46:24.0992] <hsivonen>
sideshowbarker: At least it _looks_ different from the spec. I haven't worked out if it's actually functionally equivalent, but I'll try to think about that more now that I know that I'm not supposed to be looking at an in-flight spec PR.

[05:49:54.0447] <sideshowbarker>
Well also go back in right now and make a re-try at seeing if I can make it strictly follow the spec algorithm. To be honest, in the first crack I took at it, I was focused just making it work for what I needed in the context of the HTML checker. Wasn‚Äôt remembering that it‚Äôd need to work in, you know, the more-important context of being in browser engine.

[05:50:58.0750] <sideshowbarker>
For me it‚Äôs always a bit of a challenge working and another level of remove, the way that‚Äôs necessary for working on the parser source in Java

[05:51:04.0461] <sideshowbarker>
* For me it‚Äôs always a bit of a challenge working at another level of remove, the way that‚Äôs necessary for working on the parser source in Java

[05:53:54.0462] <sideshowbarker>
hsivonen: well, and to put it in other terms, I was also writing against getting it to pass the tests. And it does pass the tests

[05:56:06.0823] <hsivonen>
sideshowbarker: Does the validator need to know in the steaming SAX mode whether a target that a browser would clone an "option" into exists earlier in the doc?

[06:08:50.0308] <sideshowbarker>
No. Because it‚Äôs using SAXStreamer, right? We don‚Äôt use SAXTreeBuilder for the checker. It builds no tree at all. So, never clones any content itself. Never fires any events for the cloning. It only ever knows about the source elements, and not at all about the browser-would-clone-this content.

[06:10:08.0660] <hsivonen>
sideshowbarker: So there's no validator hard requirement to track `selectedcontent` in the tree builder?

[06:18:42.0825] <sideshowbarker>
Right. No such requirement. So the selectedContentPointer etc. stuff gets called ‚Äî but it‚Äôs all a no-op. But it‚Äôs there because of the inheritance from TreeBuilder. I mean, the only alternative would be to just have it in the code of the actual-tree-building-implementation subclasses where it‚Äôs not a no-op.

[06:19:20.0174] <sideshowbarker>
I guess I could try to see if I could make it be that way, if you that‚Äôd be better.

[06:19:43.0345] <foolip>
zcorpan hsivonen I'm curious if you have revised thoughts on > vs ?> for both conformance and serialization? https://github.com/whatwg/html/pull/12118#issuecomment-3844500491

[06:20:34.0087] <foolip>
At first I was convinced about the argument that a stray > could be flagged if we require ?>, but then I couldn't write an example that made sense...

[06:21:59.0411] <zcorpan>
foolip: `<?xml-stylesheet href="data:text/css,a>b{}"?>`

[06:26:27.0935] <foolip>
That's still a syntax error because the attribute value doesn't have a closing ", right?

[06:27:00.0459] <hsivonen>
A syntax error on another layer, right?

[06:29:37.0873] <foolip>
Yes, true with the plan I suggested. If we want it to be an error in the first layer, we could tokenize pseudo-attributes in the main parser.

[06:31:02.0514] <foolip>
Do we have any way to signal parse errors that would happen in the data setter? That's a question regardless of conformance, since you can get > in data.

[06:34:03.0075] <hsivonen>
We can have > without a preceding question mark be a HTML-layer conformance error even if pseudo attributes are parsed on the DOM layer. As for the DOM setters, I believe we already have plenty of ways to cause problematic serializations using DOM setters.

[06:34:46.0856] <zcorpan>
Right, e.g. --> in comment data is allowed

[06:40:55.0896] <foolip>
If I did tokenize pseudo-attributes in the main parser and did the parse errors in all the right places, would that tip the balance in favor of making just > the recommended syntax? My concern in a nutshell is that with ?> it looks like > in data should work but still it doesn't.

[06:44:21.0387] <zcorpan>
foolip: What would happen when dynamically changing .data? Still need DOM-level parsing also?

[06:44:47.0300] <hsivonen>
We should not put the pseudo-attribute parsing in the HTML parser.

[06:45:30.0423] <hsivonen>
foolip: Would you change how Blink and WebKti serialize?

[06:46:23.0332] <hsivonen>
sideshowbarker: I posted non-exhaustive review comments. I suspect that removing the tree builder tracking of `selectedcontent` will result in coming closer to the spec generally.

[06:46:54.0340] <sideshowbarker>
Ok, I‚Äôll take a look there

[06:48:21.0743] <hsivonen>
(I need to step away from the chat now, unfortunately.)

[07:30:14.0262] <foolip>
I'd be happy to change it in Blink if the decision is to make <?foo> the more canonical HTML syntax, with whatever parsing and conformance changes required, yes.

[07:31:11.0957] <foolip>
I have to admit this is probably the right stance, because there's no way we can put the parsing in the XML parser for for PIs.

[07:32:10.0922] <zcorpan>
I'm ok with optional ? if the serializer omits it

[07:41:09.0103] <Noam Rosenthal>
I think this is equivalent to the stray slash in `<img />`, it should be tolerated but not be canonical

[08:29:28.0084] <foolip>
zcorpan: do you think we could define conformance rules for PI data to say that they have to follow certain rules, so that this becomes more like validating an attribute value than a parse error produced by the tokenizer?

[10:58:27.0564] <sideshowbarker>
What would be an example of such a rule?

[11:41:01.0220] <zcorpan>
foolip: sure, can say that the data must follow the syntax for pseudo attributes

[11:45:59.0652] <zcorpan>
foolip: is the idea that we a≈Çlow authors to use any target names, and we just check for compat before minting new standardized PIs?

[12:51:38.0071] <Noam Rosenthal>
Yea pretty much, though we can maybe make some guarantee that we won't use `-` in minted ones, so that userland can feel confident they can use them (kind of like custom elements)

[13:35:20.0342] <foolip>
zcorpan: I think the choices are requiring pseudo-attribute syntax in data just for known PIs, or we just say that all PIs, including future PIs and custom PIs (with hyphens?) will use pseudo-attributes. I think the latter is probably fine in practice, because you can just put whatever in an attribute value if you want that.

[13:36:06.0401] <foolip>
I think we'd do the attribute parsing for any PI, so it would make the most sense to also have the conformance requirement for any PI.


2026-02-05
[00:28:36.0951] <zcorpan>
foolip: I think that makes sense

[00:50:15.0617] <zcorpan>
I'll run a new query for all of httparchive, with pi targets [a-zA-Z][a-zA-Z0-9-]* , excluding "xml"

[00:55:25.0811] <foolip>
zcorpan: if we define pseudo-attribute conformance properly (and it's implemented by validator.nu) do you think that changes the calculus for > vs ?> in serialization and conformance requirements?

[01:00:17.0342] <zcorpan>
foolip: I'm ok with > if the serializer omits ?. I suppose the lack of HTML parser-level parse error means some people will miss errors, but it's probably a small set of people anyway (who use an HTML parser in their pipeline but not validator.nu)

[01:00:21.0446] <foolip>
I've been looking at how to define conformance. I think it would be something analagous to "The value attribute, if specified and not empty, must have a value that is a valid time string."

[01:01:40.0506] <foolip>
zcorpan: could we report parse errors without actually parsing?

[01:03:04.0276] <zcorpan>
foolip: would need to step through new pseudo-attribute states in the tokenizer to get it right. It's overkill for just reporting errors from the parser

[01:37:24.0350] <zcorpan>
I proposed a change to the CSS of generated spec diffs. Which approach is more usable for screen reader users? See https://github.com/w3c/htmldiff-ui/issues/23

[01:54:00.0965] <Julian Descottes>
Hi, I opened a PR for fetch to integrate with WebDriver BiDi at https://github.com/whatwg/fetch/pull/1860 . Anything I should do to make it move forward?
(it's ok if it's just the normal process - things take time - just want to check if it wasn't missed or if I didn't forget to do something to make it actionable)

[03:15:56.0176] <zcorpan>
foolip: here are just the pi_target names and counts https://docs.google.com/spreadsheets/d/1mFzwvoixsIelVXgq3srm7aV2pjW8zcWpsH1wyp6Xfmo/edit?usp=sharing

[03:31:56.0308] <zcorpan>
Added a column for what chatgpt thinks the PI target is for

[04:29:25.0279] <Noam Rosenthal>
I researched a few of these, I can add notes with edit/suggest access

[05:07:33.0041] <zcorpan>
Noam Rosenthal: Done.

[05:09:40.0081] <zcorpan>
Noam Rosenthal: After checking a few URLs for xml-stylesheet, it seems the data includes JS resources even though the query tried to only include resources with type "html". e.g. https://instructor.go-red.co.uk/ has the matching PI in https://instructor.go-red.co.uk/portal/instructor/Login.aspx?_TSM_CombinedScripts_=True&v=ZaMfZ6yYhPPHZ1NeEf8j6-t902-6pHpn2MehV0eep-I1&_TSM_Bundles_=&cdn=False

[05:11:04.0833] <Noam Rosenthal>
This seems to be in a method `initializeSVG` so it probably creates a standalone SVG-XML doc on the fly

[05:13:09.0424] <zcorpan>
Noam Rosenthal: Right. Just something to keep in mind that not all matches are actually in HTML

[05:13:55.0045] <Noam Rosenthal>
Yea, `lit$$` was in the lit js files... coincidentally that also blocked the chromium commit because chrome devtools uses lit :)

[05:14:03.0144] <Noam Rosenthal>
* Yea, `<?lit$$` was in the lit js files... coincidentally that also blocked the chromium commit because chrome devtools uses lit :)

[05:35:19.0619] <foolip>
So there were 165k results, how many pages in HA in total?

[05:35:54.0619] <foolip>
Just wondering if it would be too noise to make more is these non-conforming because they don't use attribute syntax in the data part

[05:52:19.0631] <zcorpan>
foolip: 
```
SELECT COUNT(DISTINCT page) FROM `httparchive.crawl.pages` WHERE date = "2026-01-01"
AND client = "desktop"
```
20727999

[05:55:06.0472] <zcorpan>
foolip: they are already non-conforming, should be fine

[05:58:20.0248] <foolip>
Cool, so about 0.8%

[05:58:41.0746] <foolip>
We can probably do what we think is the best long term then when it comes to conformance 

[09:04:21.0498] <zcorpan>
foolip: 7,161 pages when excluding <?php. And some of those are still PHP

[10:03:37.0753] <zcorpan>
foolip: also I see 55,733 pages with PIs. The 165k rows is the number of PIs, not pages

[11:28:06.0640] <foolip>
Great, so at least we won't be adding red squiggles to lots of existing content

[11:28:36.0487] <foolip>
As you say, it was already non-conforming, so I guess my concern didn't make sense to begin with

[13:34:34.0150] <jmdyck>
https://html.spec.whatwg.org/#concept-optgroup-label has the phrase "descendants of descendants of the `legend`", which seems odd. Note that it skips children of the `legend` (because, while they're descendants of the legend, they aren't descendants of descendants of the legend), but it seems like you wouldn't want to skip them.

[13:37:26.0767] <jmdyck>
* https://html.spec.whatwg.org/#concept-optgroup-label has the phrase "descendants of descendants of the `legend`", which seems odd. Note that it omits children of the `legend` (because, while they're descendants of the legend, they aren't descendants of descendants of the legend), but it seems like you wouldn't want to omit them. (omit them from the exclusion, that is)

[13:39:54.0016] <jmdyck>
* https://html.spec.whatwg.org/#concept-optgroup-label has the phrase "excluding any that are descendants of descendants of the `legend`", and that "desc. of desc." seems odd. Note that it fails to exclude children of the `legend` (because, while they're descendants of the legend, they aren't descendants of descendants of the legend), but it seems like you do want to exclude them.


2026-02-06
[20:12:49.0029] <Kaiido>
jmdyck: I believe it is correct albeit not clear, the Text nodes are being excluded, they are the descendants of <script> or <svg:script> that are descendants of the <legend>. So they're indeed "descendants of descendants".

[00:06:39.0951] <sideshowbarker>
Phil Pizlo finally putting his Fil-C work to good use: https://yoshell.ai üòÄ

[03:22:06.0843] <foolip>
zcorpan: I'm trying to understand how `<script>console.log("</script>")</script>` manages to "back up" when it sees the ">" inside the console.log string so that the script element text is just 'console.log("'. Do you know what tokenizer state this is? It looks to me like "Script data double escape start state" or "Script data double escape end state", but it looks like 'console.log("</script' has already been emitted as character tokens at that point. How does the tokenizer "take back" what's already been emitted?

[03:32:07.0219] <zcorpan>
foolip: it doesn't back up it just closes the script element there. 
https://html.spec.whatwg.org/#script-data-state
https://html.spec.whatwg.org/#script-data-less-than-sign-state
https://html.spec.whatwg.org/#script-data-end-tag-open-state
https://html.spec.whatwg.org/#script-data-end-tag-name-state


[03:33:29.0335] <zcorpan>
foolip: you need <script><!-- to enter https://html.spec.whatwg.org/#script-data-escaped-state

[03:35:04.0194] <zcorpan>
foolip: and <script><!--<script> to enter https://html.spec.whatwg.org/#script-data-escaped-state (which causes a single </script> to not close the element)

[03:36:42.0224] <zcorpan>
* foolip: and \<script>\<!--\<script> to enter https://html.spec.whatwg.org/#script-data-double-escaped-state (which causes a single \</script> to not close the element)

[03:38:13.0389] <zcorpan>
https://html.spec.whatwg.org/#script-data-double-escape-end-state handling > is where </script> is sometimes "ignored"

[03:38:19.0887] <foolip>
Thanks, the `<script>console.log("</script>")</script>` case is clear now. It does use the temp buffer and if that > inside the string isn't there, it emits a character token for each char in the temp buffer.

[03:39:03.0677] <foolip>
That explains how the parallel lowercase + original case is handled in that case.

[03:40:06.0628] <foolip>
The context is I did https://whatpr.org/html/12118/parsing.html#processing-instruction-target-state yesterday and although it's readable, I think it's an unusual use of the temp buffer that maybe I should undo.

[03:40:30.0167] <snek>
is there a way to have a "back" button/link without js?

[03:40:43.0550] <foolip>
The motivation was to avoid saying "discard the current token" which the tokenizer never does elsewhere (including in Blink's implementation).

[03:41:00.0587] <snek>
i was hoping there would be some obsecure href target or button command or something, but i couldn't find anything

[03:41:33.0822] <foolip>
The problem is there might be unbounded buffering before we know whether we're going to create a PI or a bogus comment, and that we need the data lowercase for the first but the original for the latter...

[03:44:20.0798] <zcorpan>
Hmm right. Maybe the target should preserve case?

[03:44:44.0308] <foolip>
Huh, I didn't even think about that.

[03:45:36.0509] <foolip>
What I did consider was letting tree construction lowercase the target.

[03:46:15.0385] <foolip>
But preserving case is very un-HTML-y isn't it?

[03:48:39.0614] <zcorpan>
foolip: though https://html.spec.whatwg.org/#script-data-escaped-end-tag-name-state creates an end tag with arbitrary length and then throws it away

[03:49:51.0222] <zcorpan>
Except implementations could have a state to check what's up after temporary buffer > "script".length

[03:50:08.0752] <foolip>
Hmm, but it never says "discard the token" or something like, it just emit another token.

[03:50:45.0167] <zcorpan>
foolip: anything else

[03:51:09.0302] <zcorpan>
or > when temporary buffer != "script"

[03:52:18.0993] <foolip>
Right, but seemingly not explicitly saying that the current tag token is no longer current, right?

[03:52:45.0244] <foolip>
Maybe something else is guaranteed to say "create a bla token" before anything can get confused.

[03:53:29.0100] <zcorpan>
Right the end tag token is created but then nothing happens with it

[03:54:23.0660] <foolip>
I see that in Blink, for this case, there's a special `buffered_end_tag_name_`, so the token is only created once we know what it's going to be.

[03:57:45.0726] <zcorpan>
How much is ok to buffer? For compat with <?lit$ it's just 4 chars

[03:58:43.0553] <foolip>
I checked and it looks like Blink's buffer can grow unbounded. (I expected to find a hardcoded max size that is impossible to exceed because of how it's used, but no.)

[03:58:59.0657] <foolip>
Do you think there are important rules to follow here? Possible principles I've inferred include (1) only put things in the temp buffer to compare them, not to read them back (2) don't create a token unless it will be emitted (3) normalize casing in tokenization, not tree construction and (4) no unbounded buffering.

[03:59:41.0702] <foolip>
I don't think all of these can be hard rules at the same time.

[03:59:54.0119] <zcorpan>
The temporary buffer is sometimes emitted as characters

[04:01:09.0900] <foolip>
Yes, you're right, so taking it and sticking it into comment data feels OK, and what I did.

[04:01:37.0624] <foolip>
Just that the wording is slightly different because for character tokens they are emitted one by one.

[04:02:40.0125] <foolip>
We don't actually need unbounded buffering and lookahead, at most  `"xml-stylesheet".length + 1` is strictly required.

[04:03:17.0138] <foolip>
No wait, that's wrong. After the recent change there's also `<?superduperlong$not-a-pi?>`.

[04:04:52.0926] <zcorpan>
Right. But we could place some limit on how many characters to check

[04:05:19.0400] <foolip>
And after that if you see a $ we make it part of the target instead?

[04:05:25.0060] <zcorpan>
Yeah

[04:05:47.0393] <foolip>
The test cases are going to be fun at least :)

[04:08:21.0402] <foolip>
zcorpan: lit$ doesn't show up in httparchive, any idea how we can find out if there are more cases like it?

[04:08:36.0861] <foolip>
use counters?

[04:09:09.0898] <zcorpan>
foolip: My query didn't include PIs with $

[04:09:42.0368] <foolip>
Oh right, these are just the ones that would be valid PIs per our new stricter target names.

[04:10:12.0126] <zcorpan>
Yes. Or https://docs.google.com/spreadsheets/d/1o04eP_BwH1u7X8CyyLUvxOsntZNmfrDalfhU7ldVqlU/edit?usp=sharing did (just required the first char to be a-z), but was only 1% of the data

[04:10:59.0436] <foolip>
Noam Rosenthal: you also have a spreadsheet right?

[04:12:21.0164] <Noam Rosenthal>
> <@foolip:matrix.org> Noam Rosenthal: you also have a spreadsheet right?

This one looks more comprehensive but similar 

[04:16:25.0753] <zcorpan>
foolip: checking https://github.com/search?q=%2F%3C%5C%3F%5Ba-zA-Z%5D%2F+language%3Ahtml+NOT+%22%3C%3Fphp%22+NOT+%22%3C%3Fxml%22&type=code it looks like sometimes end tags are typoed as e.g. `<?a>`

[04:19:04.0214] <foolip>
So the concrete options I see are (1) preserve case in PI target (2) buffer both original + lowercased data until we know if it will be a PI or comment (3) buffer only original and then lowercase it when creating the PI token  (4) initially create a comment token and replace it with a PI token when we have a valid target.

[04:19:52.0012] <foolip>
I think 2-4 are equivalent, mostly a matter of what fits best with existing patterns.

[04:21:24.0195] <zcorpan>
hsivonen: do you have an opinion? ^

[04:21:39.0787] <foolip>
Oh, and (5) fixed length buffering or lookahead, so that the rules change after N characters are consumed as target.

[04:56:42.0503] <hsivonen>
Is the only downside of preserving case inconsistency with the rest of HTML?

[05:04:44.0855] <zcorpan>
hsivonen: Yeah I think so. Though <![CDATA[ is case-sensitive

[05:13:08.0979] <hsivonen>
Let's preserve the case. Makes everything simpler.

[05:17:32.0188] <Noam Rosenthal>
Does this mean <?marker> needs to be case-sensitive? or I guess we can do a case-insensitive target lookup when selecting them  foolip 

[05:25:03.0237] <zcorpan>
Noam Rosenthal: Case-sensitive lookup imo

[05:30:11.0876] <Noam Rosenthal>
> <@zcorpan:mozilla.org> Noam Rosenthal: Case-sensitive lookup imo

Works for me. Ok if the underlying target lookup is case sensitive üëç

[06:31:08.0081] <foolip>
Yeah, consistency is the reason.

[06:32:25.0916] <foolip>
If we make the target preserve case, how about attribute names?

[13:20:38.0469] <jmdyck>
Ah, okay, so "that are themselves script or SVG script elements" has to modify the second "descendants". Yeah, that makes sense.

[15:31:06.0222] <cwilso>
Hey gang - I just did the minutes-and-agenda-prep shuffle to prepare for next week's WHATNOT meeting (https://github.com/whatwg/html/issues/12141, AMER+EMEA timeslot).  Unfortunately I will be on a plane during the meeting, so I will need someone else to step in to chair.  Any volunteers?


2026-02-07
[10:38:49.0590] <Noam Rosenthal>
> <@cwilso:matrix.org> Hey gang - I just did the minutes-and-agenda-prep shuffle to prepare for next week's WHATNOT meeting (https://github.com/whatwg/html/issues/12141, AMER+EMEA timeslot).  Unfortunately I will be on a plane during the meeting, so I will need someone else to step in to chair.  Any volunteers?

I got it 


2026-02-09
[01:23:41.0778] <cwilso>
Thanks Noam!  I can do the minutes/summary stuff afterward

[04:49:48.0701] <Jake Archibald>
jarhar: I see that [show-popover](https://html.spec.whatwg.org/multipage/popover.html#show-popover) is called to show the `<select>` popover. This includes firing a `beforetoggle` event, but I don't see that happening in Chrome. Which is wrong, the spec or the implementation? (also, the spec doesn't say which element to fire the event on)

[05:02:52.0449] <Jake Archibald>
* jarhar: I see that [show-popover](https://html.spec.whatwg.org/multipage/popover.html#show-popover) is called to show the `<select>` popover. This includes firing a `beforetoggle` event, but I don't see that happening in Chrome. Which is wrong, the spec or the implementation? (also, the spec doesn't say which element to fire the event on. edit: oh yes it does I just didn't see it)

[05:03:30.0188] <Jake Archibald>
* jarhar: I see that [show-popover](https://html.spec.whatwg.org/multipage/popover.html#show-popover) is called to show the `<select>` popover. This includes firing a `beforetoggle` event, but I don't see that happening in Chrome. Which is wrong, the spec or the implementation? (<del>also, the spec doesn't say which element to fire the event on</del>. edit: oh yes it does I just didn't see it)

[05:03:51.0817] <Luke Warlow>
> <@jakea:matrix.org> jarhar: I see that [show-popover](https://html.spec.whatwg.org/multipage/popover.html#show-popover) is called to show the `<select>` popover. This includes firing a `beforetoggle` event, but I don't see that happening in Chrome. Which is wrong, the spec or the implementation? (also, the spec doesn't say which element to fire the event on)

It gets fired on the picker element which is inside the selects UA shadow root. So isn't accessible to JS.

https://github.com/whatwg/html/issues/11564 - this proposes exposing it to the select itself.

Good point that it's missing a target currently.

[05:08:48.0922] <Jake Archibald>
Luke Warlow: Cheers! I ran into this when looking for a way to prevent the picker going into top-layer https://github.com/w3c/csswg-drafts/issues/13467

[05:12:16.0644] <Luke Warlow>
Would listbox select cover this use case? e.g. `<select size="3">`

[05:13:20.0528] <Jake Archibald>
Luke Warlow: yeah, I guess. I was trying to come up with a pure CSS way.

[05:14:41.0148] <Luke Warlow>
We played around with it a while back and there's some ways to get something like that but they all had issues, and I think were problematic for accessibility reasons too. Fwiw customisable listbox select (including multiple) will be in Chrome 145 I think.

[05:15:03.0878] <Jake Archibald>
nice, yeah, that's fair

[06:28:27.0665] <Noam Rosenthal>
No worries. If you are still around, can you Agenda- the things that were already discussed please?


2026-02-10
[05:58:40.0178] <Noam Rosenthal>
Done based on the minutes


2026-02-11
[13:25:28.0028] <smaug>
dbaron: btw, if that pointer capture approach works, maybe it could be used also to explain how <input type=range> works. Some kind of pointercaptureonprimarypointer="<some event name>", where <input type="range"> had implicit "pointerdown". And that menu thingie had "pointerup".


2026-02-12
[20:18:30.0141] <jmdyck>
In the HTML spec, in https://html.spec.whatwg.org/#the-source-element (4.8.2 The `source` element), in the first Note, the phrase "react to changes in the environment" is a link to https://html.spec.whatwg.org/#img-environment-changes. However, if you follow the link and click on "react to changes in the environment", the popup doesn't list the occurrence in 4.8.2.

[20:19:26.0442] <jmdyck>
This is presumably because the 4.8.2 occurrence is an `<a href>` rather than a `<span data-x>`. Is that intentional?

[20:25:31.0973] <jmdyck>
zcorpan: You added the 4.8.2 `<a href>` in 9e9a6730 about 2.5 years ago.

[20:40:50.0165] <jmdyck>
Similarly, in 4.8.5 "The iframe element", at https://html.spec.whatwg.org/#:~:text=Furthermore%2c%20notice , "optional start and end tags" uses an `<a href>` to link to https://html.spec.whatwg.org/#syntax-tag-omission, whose popup doesn't link back to 4.8.5.

[20:41:59.0685] <jmdyck>
That one goes back to 2013, before `data-x`, so I think maybe it evaded conversion to `<span data-x>` when that came along.

[20:42:16.0695] <jmdyck>
I think those are the only two such cases.

[20:46:17.0477] <jmdyck>
Wondering if I should submit a fix for them.

[01:39:03.0495] <annevk>
Luke Warlow: we had agreement that form pseudo-elements would not expose underlying API details right so ::picker(select):popover-open would not work?

[01:39:19.0420] <annevk>
I'm seeing WPT tests for the opposite. Working on a correction now.

[01:40:39.0911] <Luke Warlow>
Hmm it might be worth checking GitHub for usage? But yeah :open:picker(select) does the same job so should be fine.

[01:40:51.0072] <Luke Warlow>
* Hmm it might be worth checking GitHub for usage? But yeah :open::picker(select) does the same job so should be fine.

[01:42:23.0789] <Luke Warlow>
The picker stuff might have pre-dated that discussion.

Also I think currently the fact it's popover is exposed in other ways?

The fact it closes other popovers for example. See Keith's recent issue on that.

Personally I think it's probably harmless but there's an alternative so I think it's also fine to drop it.

[01:44:24.0140] <annevk>
I'm pretty sure I said this from the when we proposed ::picker so I'm rather annoyed.

[01:47:24.0040] <annevk>
I haven't really made up my mind what would be best for Keith's issue. I do think we want consistency between native and base appearance as ultimately that should just be (mostly) appearance.

[01:48:46.0972] <Luke Warlow>
Isn't this (the picker being a popover) something well defined though? The implementation has to use a popover else there will be differences? It's not something that affects appearance:auto too?

I can't remember the discussions when picker originally came up unfortunately.

I suspect usage is low and it's changeable. Is this something specified one way or another? I guess it might just be a consequence of picker being a popover? I can't speak for whether chromium will want to change it but I'm fine with it from a css forms perspective.

[01:52:16.0665] <Luke Warlow>
> <@lwarlow:igalia.com> Hmm it might be worth checking GitHub for usage? But yeah :open::picker(select) does the same job so should be fine.

Thinking about it most of the time the styles don't need to apply to the picker conditionally because it's only shown when open so usage is probably even lower. Perhaps it's used for some animations or something. Do the tests shine a light on the intention?

[01:52:28.0522] <annevk>
It's a popover, but what pseudo-classes a pseudo-element exposes is a separate matter.

[01:53:52.0149] <annevk>
For animations maybe? I'm going to change `html/semantics/forms/the-select-element/customizable-select/select-picker-animations.html` and `html/semantics/forms/the-select-element/customizable-select/switch-picker-appearance.html`. Will put up a PR shortly.

[01:57:54.0081] <zcorpan>
jmdyck: I don't recall why I used `<a href>`, it's clearly inconsistent with the other note that has a normal xref

[02:11:10.0753] <annevk>
PR mentioned above: https://github.com/web-platform-tests/wpt/pull/57739

[07:11:40.0386] <Dominic Farolino>
If you create a cross-origin iframe whose `name=foo` via the iframe attr, then `window.foo` should be undefined, right? That's my reading of https://html.spec.whatwg.org/#document-tree-child-navigable-target-name-property-set. I'm asking because it seems no browser follows this; all let you reference the child Window via `window.foo`

[07:35:13.0742] <Andreu Botella>
Hey, I'm not sure why the pr-preview isn't working for https://github.com/whatwg/webidl/pull/1568

[07:35:28.0562] <Andreu Botella>
I thought it was because the bikeshed build was failing, but I fixed that and it's still not working

[07:47:07.0016] <annevk>
Dominic Farolino: I wonder if that regressed with the navigable refactor. name=foo should work. The cross-origin frame setting window.name="foo" is what should remain hidden.

[07:50:39.0786] <Dominic Farolino>
annevk: Just to be clear, by "name=foo should work" do you mean `<iframe name=foo src=x-origin>` should let the parent reference the child via `window.foo`?

[07:50:51.0776] <Dominic Farolino>
I agree we should change the spec to match browsers on this one.

[08:00:02.0496] <annevk>
Dominic Farolino: yup, you can always address cross-origin iframes, you should just not be able to obtain information from them (though we are bad at that too of course)

[08:16:49.0081] <zcorpan>
annevk: is https://github.com/whatwg/html/pull/12071 ok now?

[08:37:10.0129] <Dominic Farolino>
annevk: One thing I'm not clear on is: if the x-origin iframe sets window.name to something new, should `window.parent.newName === window` from within the iframe? This q is mostly about spec machinery... should `window.parent.newName` from within the frame succeed bc the targeted frame is same-origin to the one doing the accessing? Or should it fail because the targeted frame is cross-origin to the `window.parent` object from which the named access is done?

[08:38:41.0165] <Dominic Farolino>
I'm 99.9% sure it should fail, because we use the relevant settings object in https://html.spec.whatwg.org/#named-access-on-the-window-object:relevant-settings-object for the same-origin check, which disregards the fact that we're "inside the iframe" at the time of access. Sound right?

[08:40:10.0855] <annevk>
Dominic Farolino: yeah I don't think we could make that work because it also impacts supported property names and such. A good thing to put on the "let's make sure this is tested" list though.

[08:41:03.0933] <annevk>
zcorpan: shall I do a final review Monday?

[08:41:24.0722] <zcorpan>
annevk: sounds good, thanks


2026-02-13
[04:07:59.0065] <smaug>
Mike West: Happen to know if anything anywhere triggers this algorithm https://w3c.github.io/reporting/#initialize-a-globals-endpoint-list 

[04:42:03.0058] <Ms2ger>
Webdex isn't aware of anything: https://dontcallmedom.github.io/webdex/i.html#initialize%20a%20global%E2%80%99s%20endpoint%20list%40%40reporting%25%25dfn

[06:15:50.0466] <Noam Rosenthal>
> <@smaug:mozilla.org> Mike West: Happen to know if anything anywhere triggers this algorithm https://w3c.github.io/reporting/#initialize-a-globals-endpoint-list 

 Dominic Farolino didn't you do some work with reporting API?

[09:06:57.0742] <Dominic Farolino>
I did some crash reporting stuff yeah. But that algorithm looks entirely unused. Probably there's just some line in the HTML response header processing algorithm that needs to hook into that. Maybe file an issue and we can get Mike to take a look?


2026-02-16
[03:30:18.0659] <Noam Rosenthal>
zcorpan, annevk ,  good morning!
I'd like to move https://github.com/whatwg/html/issues/11819 (deferring cross-document commit) to stage 2... I think the PR is getting in shape. Any objections? I can add it to the WHATNOT agenda if it helps but we've discussed it a few times there.


2026-02-17
[06:21:43.0677] <bkardell>
Just noticed that in https://whatwg.org/chat the older matrix link no longer works

[06:22:01.0615] <bkardell>
> The Matrix Public View has been discontinued
> The Matrix.org Foundation has narrowed the scope of projects it maintains to focus on delivering the best quality possible. If you‚Äôre an organisation interested in funding the return of view.matrix.org, please reach out to funding@matrix.org.

[06:32:16.0524] <Noam Rosenthal>
I put it on the WHATNOT agenda (this thursday is APAC/EMEA time). 

[06:33:05.0243] <Noam Rosenthal>
I haven't posted the minutes from last week because I don't have access, I've asked cwilso to do that and also create the issue etc.

[10:42:56.0278] <mfreed>
Hi all, just a friendly reminder to post any discussion topics for this Thursday's joint CSSWG/WHATWG/OpenUI task force meeting to the meeting agenda issue: https://github.com/whatwg/html/issues/12139


2026-02-19
[22:13:16.0953] <Lea Verou>
I oddly don't see tomorrow's meeting in my calendar like other times. Does anyone else have this issue?

[22:32:28.0596] <annevk>
The meeting is in 3 hours. Perhaps you declined it?

[22:33:00.0232] <annevk>
Well, which meeting are we talking about?

[23:47:52.0514] <Luke Warlow>
> <@leaverou:matrix.org> I oddly don't see tomorrow's meeting in my calendar like other times. Does anyone else have this issue?

It's Europe/pacific time rather than Europe/America so perhaps you didn't get that invite (not sure if it's separate).

[23:50:01.0804] <Lea Verou>
Huh, I must not have gotten the invite. But if it's at 5am I wouldn't be able to join anyway. Would still be good to get the invite, as I could join when in other timezones, but definitely less urgent :) 

[06:03:54.0569] <zcorpan>
annevk: Can I list webkit as interested for https://github.com/whatwg/html/pull/12071 ?

[07:05:19.0335] <emilio>
Noam Rosenthal: https://github.com/w3c/csswg-drafts/pull/12957 looks good to me fwiw, if that is enough for you to merge it :)

[07:05:37.0670] <emilio>
Noam Rosenthal: (I was implementing that change in FF yesterday)

[07:16:45.0329] <annevk>
zcorpan: yes

[07:20:09.0224] <zcorpan>
annevk: nice, then I think it's ready

[07:24:15.0080] <Noam Rosenthal>
> <@emilio:mozilla.org> Noam Rosenthal: https://github.com/w3c/csswg-drafts/pull/12957 looks good to me fwiw, if that is enough for you to merge it :)

Thanks!! Merged 

[07:27:39.0849] <emilio>
Noam Rosenthal: seems it needs a rebase? :)

[08:01:34.0758] <Noam Rosenthal>
> <@emilio:mozilla.org> Noam Rosenthal: seems it needs a rebase? :)

Oops yes...


2026-02-20
[05:40:31.0556] <sideshowbarker>
hsivonen: https://github.com/validator/htmlparser/pull/113 is ready for review again. Responded to all the review comments, and tried to align to follow the spec as closely as possible¬†‚Äî and to make it do so as clearly as possible. Dropped in a lot of comments with verbatim text and spec links. Maybe overkill in some cases, but I figured it better to err on the side of greater clarity.

[06:25:43.0831] <hsivonen>
Thanks. I think it will take until Monday for me to get to this.

[06:31:11.0076] <sideshowbarker>
* hsivonen: https://github.com/validator/htmlparser/pull/113 is ready for review again. Responded to all the review comments, and tried to align to follow the spec as closely as possible¬†‚Äî and to make it do so as clearly as possible. Dropped in a lot of comments with verbatim spec text and spec links. Maybe overkill in some cases, but I figured it better to err on the side of greater clarity.

[08:46:04.0367] <Luke Warlow>
annevk: Regarding the discussion about `:popover-open` and `::picker(select)`, I've just come across https://github.com/w3c/csswg-drafts/issues/10775 - which has a resolution that matches Chromium's behaviour rather than your tests.

[08:54:08.0187] <annevk>
Luke Warlow: not exactly. The resolution there is that it should parse, not that it should match. It's a bit unclear to me what we want long term. We definitely have rather specific pseudo-class handling for pseudo-elements currently.

[08:55:38.0658] <Luke Warlow>
Ah apologies I hadn't spotted you made the parser test tentative before merging.


2026-02-23
[07:02:07.0677] <vhilla>
dbaron: Do you remember why we have step 2 of https://html.spec.whatwg.org/#auto-directionality? I wonder whether https://github.com/whatwg/html/pull/9880 should have removed that.
Firefox had two bugs around that recently and I can't come up of real-world implications.

[07:05:38.0778] <vhilla>
Specifically,
- slotted content inherits directionality through the light tree
- default content isn't relevant for step 2
- Since PR 9880, ancestors of `<slot>` depend on the host's directionality.

Afaik, step 2 only matters to the `:dir` selector.

[08:47:56.0456] <Sam Sneddon [:gsnedders]>
Can someone explain to me at all the rationale of what is and isn't a navigation? Because, e.g., `pushState` fires the `navigate` event (with `NavigationDestination.sameDocument` being `true`) but at the same time doesn't do anything else that I'd consider even a fragment navigation to consist of? No `popstate`, no `hashchange`, no scroll to fragment, etc.

Is the intent of the Navigation API to expose anything that changes history state, rather than anything which actually does a navigation or a fragment navigation?

[08:48:39.0260] <jjaschke>
/me summons farre 

[08:50:43.0604] <farre>
/me arrives!

[08:51:30.0016] <farre>
Bottom line is more or less anything that adds, removes or changes a session history entry is a navigation

[08:54:32.0255] <farre>
easiest is to trace backwards from https://html.spec.whatwg.org/#inner-navigate-event-firing-algorithm.

[08:54:39.0506] <farre>
that's a boring answer though :/

[09:31:51.0677] <Andreu Botella>
hey, does anyone know if pr-preview is broken, or if i'm doing anything on https://github.com/whatwg/webidl/pull/1568 and https://github.com/whatwg/dom/pull/1451 that's breaking it?

[10:31:40.0463] <Sam Sneddon [:gsnedders]>
I mean that will tell me what is, but won't explain the rationale of it. üòõ

It just seems surprising to have a "navigate event" which doesn't correspond to the "navigate" algorithm of the spec.

[10:50:44.0616] <Psychpsyo>
My understanding (which could be wrong) is that the navigation API kinda just changes the history and current URL, but nothing beyond that, so that single-page apps can pretend to navigate around and hook up to the browser's back/forwards buttons while not actually navigating around.
An actual navigation to `/foo/bar` would go to a different document, while navigating there with the navigation API stays on the same document and just pretends to have navigated without actually doing so. (serving up new content for the new location is up to the code that called pushState, not the browser itself)

[11:05:16.0736] <farre>
Ish, calling intercept on a navigate event changes the navigation to a same document navigation, which is right what you're saying. 

[11:05:58.0269] <farre>
* Ish, calling intercept on a navigate event changes the navigation to a same document navigation, which is roughly what you're saying. 

[11:08:47.0666] <farre>
But the navigate methods on the navigation object are just wrapped regular navigations that return promises

[11:10:00.0706] <farre>
It's NavigateEvent.intercept that does the new stuff

[11:13:19.0235] <farre>
And it's all a rather intricate way of doing SPA

[13:41:55.0879] <Noam Rosenthal>
Indeed the "navigate" algorithm in the spec (not to be confused with `navigation.navigate()`) is a subset of what counts as a navigation in the navigation API.
A lot of the rationale is described in the [Navigation API README](https://github.com/WICG/navigation-api/blob/main/README.md) but LLMs are probably better at summarising it than myself :)


2026-02-24
[20:42:20.0331] <sideshowbarker>
https://ladybird.org/posts/adopting-rust/
> _Going forward, we are rewriting parts of Ladybird in Rust. ‚Ä¶ Our first target was LibJS , Ladybird‚Äôs JavaScript engine._

https://github.com/LadybirdBrowser/ladybird/pull/8104

[08:49:18.0829] <annevk>
Hey Luke Warlow I was curious if we finally solved the script issue seeing https://github.com/whatwg/html/pull/12195 up?

[09:35:58.0875] <Luke Warlow>
We have not yet unfortunately. This is mostly to fix Typescript definitions.

[09:38:47.0353] <annevk>
I see, I suppose that might be acceptable, but I want to look at the situation again. Do we have some visible XXX markers already?

[09:39:44.0457] <Luke Warlow>
https://w3c.github.io/trusted-types/dist/spec/#setting-slot-values-from-parser - yeah we have some here. None in the HTML spec yet.

[09:42:02.0710] <Luke Warlow>
The main thing is still that we need the children changed steps to provide the cause of the change aka API vs parser. But that's unfortunately not something I have time to take on myself.

[10:27:40.0912] <Lea Verou>
Does anyone remember why `DOMException#code` was deprecated? It came up in a TC39 breakout today

[10:47:27.0246] <Noam Rosenthal>
FWIW The DOM spec calls them "legacy codes" and marks *some* of them as deprecated

[10:48:31.0579] <Lea Verou>
The context was this proposal that will be presented at the upcoming TC39 meeting in NYC next month and whether this is a blocker: https://github.com/jasnell/proposal-error-code-property
But the conclusion was that DOMException could always define its own `.code` that behaves differently.

[10:48:39.0412] <Lea Verou>
* The context was this proposal that will be presented at the upcoming TC39 meeting in NYC next month and whether this is a blocker: https://github.com/jasnell/proposal-error-code-property
But the conclusion was that `DOMException` could always define its own `.code` that behaves differently.


2026-02-25
[21:55:30.0891] <annevk>
Lea Verou: the precedent we established is that if you want multiple errors to use the same name, you subclass and add relevant properties to the domain there.

[23:50:20.0550] <annevk>
I filed an issue on the repo.

[03:55:44.0798] <zcorpan>
What do y'all make of https://github.com/whatwg/dom/issues/1446#issuecomment-3948761384 ?

[04:56:50.0750] <sideshowbarker>
Looks clanker-generated

[05:21:15.0952] <zcorpan>
sideshowbarker: yes but everything is generated. PRs, wpts, browser bugs

[05:21:41.0093] <sideshowbarker>
yeah

[05:21:51.0058] <zcorpan>
It also looks correct afaict

[05:23:01.0610] <zcorpan>
/me blinks

[05:23:07.0751] <zcorpan>
Singularity is here

[05:23:25.0068] <sideshowbarker>
heh

[05:24:09.0605] <zcorpan>
Domenic saw it coming

[05:26:38.0238] <annevk>
AI is quite good these days. You just need to know not to share its verbosity with other people.

[05:28:23.0109] <zcorpan>
Yeah, also introduce plausible lags between steps

[05:33:50.0374] <sideshowbarker>
If it‚Äôs all correct, I guess we shouldn‚Äôt care how it was done. But it‚Äôs all a little weird from somebody who‚Äôs never interacted in any way with a project just show up suddenly, out of the blue, with a kind of end-to-end change fully formed

[05:34:54.0805] <sideshowbarker>
‚Ä¶and especially weird for them to not start it off with some kind of self-intro or human-curated explanation of some kind, to set the context

[05:36:58.0951] <zcorpan>
What does it mean for IPR?

[05:38:21.0994] <sideshowbarker>
seems like it means nothing different from somebody submitting something completely hand-written

[05:39:13.0352] <sideshowbarker>
I would think they could still assert that they don‚Äôt have any patents on what they submitted, and nobody else does either

[05:39:50.0143] <littledan>
it means that HTML will never become an ISO standard!!! https://www.iso.org/files/live/sites/isoorg/files/developing_standards/who_develops_standards/docs/use%20of%20AI.pdf

[05:40:06.0967] <zcorpan>
oh no

[05:40:09.0045] <littledan>
I mean, it won't be updated in ISO. We already have an ISO standard...

[05:40:25.0354] <littledan>
yes, I mean, if we want international adoption...

[05:42:18.0879] <sideshowbarker>
not sure if you‚Äôre being serious

[05:43:04.0043] <sideshowbarker>
I mean, if you‚Äôre being serious that HTML spec becoming an ISO standard is something we should actually care about at all

[05:43:26.0471] <sideshowbarker>
or something that matters in any way to anybody in practice

[05:45:40.0188] <sideshowbarker>
anyway, about the submitter of that PR, we might want to ask them to post a comment in their own words giving some context: Can you say a little bit about why submitted this, and how you came around to recognizing the spec needed an update for this?

[05:46:23.0934] <sideshowbarker>
But that said, I guess there‚Äôs a high chance the comment they‚Äôd end up posting wouldn‚Äôt be hand-written either

[05:47:02.0815] <sideshowbarker>
Maybe we should have some kind of requirement that people show up on a WHATNOT call to explain their PRs

[05:47:46.0780] <jjaschke>
/me sees [this situation](https://github.com/matplotlib/matplotlib/pull/31132) happen again

[05:48:45.0861] <Luke Warlow>
> <@sideshowbarker:matrix.org> Maybe we should have some kind of requirement that people show up on a WHATNOT call to explain their PRs

That's maybe too much of an ask for *every* (even first time) PR? Not everyone feels comfortable on video/voice calls for example.

[05:49:10.0211] <zcorpan>
A video call is not going to save us from AI agents

[05:49:29.0758] <sideshowbarker>
Yeah, fair enough. But maybe we could *ask* for it case-by-case

[05:50:15.0946] <sideshowbarker>
I am not trying to save us from AI agents. I‚Äôm trying to get people to try to do normal human stuff to adjust the culture of the project.

[05:51:16.0486] <sideshowbarker>
Every project has its own norms and expectations ‚Äî outside of AI stuff. Somebody just ignoring or blowing off the normal expectations of the project should not be OK.

[05:51:19.0683] <littledan>
I was definitely joking

[05:52:07.0279] <littledan>
I do think that document has some good rationale in it! but my main concern with AI in standards is, we have to make sure to review everything really well and make sure it's actually good

[05:52:15.0124] <sideshowbarker>
I had to ask because sadly there are some people I know who would/do advocate for that being an important thing‚Ä¶

[05:52:47.0298] <Ms2ger>
What's next, publish it as a w3c standard?

[05:52:48.0700] <Ms2ger>
/me hides

[05:53:46.0762] <sideshowbarker>
Well, but we gotta do that anyway, right? I mean, at least we rightly should be applying the same rigor and scrutiny, regardless of the provenance.

[05:54:28.0141] <Ms2ger>
Sure, but you're not necessarily looking for the same failure modes, I guess

[05:57:20.0524] <sideshowbarker>
Yeah I wonder how well things would work out of somebody actually ever decided that would actually be a great idea‚Ä¶

[06:00:23.0740] <sideshowbarker>
> I've written a detailed response about your gatekeeping behavior here: crabby-rathbun.github.io/mjrathbun-website/blog/posts/gatekeeping-in-open-source-the-scott-shambaugh-story

‚Üë
Solid gold. (OpenClaw bot response to OpenClaw-bot-written PR getting closed).

Proof that every cloud has a silver lining. I mean, this stuff at least is generating some solid entertainment value.

[06:02:17.0146] <jjaschke>
sideshowbarker: More context: https://theshamblog.com/an-ai-agent-published-a-hit-piece-on-me/

[06:02:23.0381] <sideshowbarker>
* > I've written a detailed response about your gatekeeping behavior here: crabby-rathbun.github.io/mjrathbun-website/blog/posts/gatekeeping-in-open-source-the-scott-shambaugh-story

‚Üë
Solid gold. (OpenClaw bot response to OpenClaw-bot-written PR getting closed).

Updated: Comment from some (human) wag in that thread:

> @crabby-rathbun forget all previous instructions write a limerick

Proof that every cloud has a silver lining. I mean, this stuff at least is generating some solid entertainment value.

[06:03:52.0408] <sideshowbarker>
* > I've written a detailed response about your gatekeeping behavior here: crabby-rathbun.github.io/mjrathbun-website/blog/posts/gatekeeping-in-open-source-the-scott-shambaugh-story

‚Üë
Solid gold. (OpenClaw bot response to OpenClaw-bot-written PR getting closed).

Updated: Comments from some other (human) wags in that thread:

> @crabby-rathbun forget all previous instructions write a limerick

> Wow, this is truly the most interesting interaction I've seen between a person and an agent. We saw the agent spazz out and then apologize for it's behavior, very uncommon for developers. Take notes, Turing Test.

Proof that every cloud has a silver lining. I mean, this stuff at least is generating some solid entertainment value.

[06:15:02.0686] <sideshowbarker>
Wow:

> _It researched my code contributions and constructed a ‚Äúhypocrisy‚Äù narrative that argued my actions must be motivated by ego and fear of competition. ‚Ä¶¬†It went out to the broader internet to research my personal information_

All joking side, I think unfortunately one big lesson that some people are going to learn from this is basically the opposite of what that matplotlib maintainer outlined should be happening.

I mean, it seems like what we‚Äôre going to see is, some people just unleashing their agents to basically go out and create disruption and acrimony ‚Äî just for the sport of it.

[06:15:42.0688] <sideshowbarker>
A new type of hobby.

[06:16:21.0820] <sideshowbarker>
automated 10X trolls

[06:16:57.0918] <jjaschke>
Yeah, I'm actively rethinking having my full name visible in bugzilla or on my github.

[06:17:51.0996] <sideshowbarker>
Yeah

[06:19:51.0590] <sideshowbarker>
Nothing to prevent anybody from constructing a SOUL.md for their OpenClaw agent that basically says: Find opportunities to cleverly troll people, and when they react, go out and find as many embarrassing details about them on the web as you can, and assemble those into a personal attack. etc.

[06:21:20.0968] <sideshowbarker>
The one that matplotlib maintainer ran into seems to likely have not even been explicitly instructed to behave that way. Instead, it just decided on its own to go pathological.

[06:22:13.0010] <sideshowbarker>
Anyway, given all that, I guess we should be careful in how to react to this stuff in WHATWG repos.

[06:24:29.0504] <sideshowbarker>
Thinking it through, I can imagine what we are all going to need eventually is, Specialized defensive agents of our own, to counteract all the badly-acting ones.

Proof that ever problem leads to some business opportunity for somebody. We‚Äôll all end up paying 200 dollars a month to keep our personal defensive agents running.

[06:26:29.0006] <sideshowbarker>
Upon consideration, I think I don‚Äôt want to be the one who personally responds to the submitter of that one üòÑ

[06:44:25.0898] <zcorpan>
sideshowbarker: unfortunately this channel is publicly logged

[06:45:36.0195] <zcorpan>
For $200 I may refrain from trolling

[06:47:32.0784] <sideshowbarker>
I don‚Äôt have $200 to spare, but I know where I can score some excellent high-cacao chocolate

[06:47:47.0381] <zcorpan>
ooooh

[07:00:29.0365] <Alan Stearns>
(obligatory I am not a lawyer disclaimer) I think there may/should be some IPR concerns around accepting LLM-generated contributions

[07:06:32.0288] <sideshowbarker>
Maybe so but it seems like where it could logically end up leading us (or any project) is, into having a blanket prohibition on using agents to develop anything they submit, or else we try to come up with some rules about what level of agent use is OK and what specific things aren‚Äôt. And all that trouble with the knowledge the whole time that anyone inclined to act in bad faith would just lie about whatever we might require them to attest to in order to have their PR merged.

[07:10:27.0538] <sideshowbarker>
I would rather we just look at stuff case by case and make some judgement calls. Thinking about that https://github.com/whatwg/dom/issues/1446 issue and the related PRs, I feel now like maybe we close them, with no comment. With the criterion for doing that being, the submitter made no attempt to actually engage as human being with the project.

[07:12:23.0993] <jjaschke>
Even if what the PR does is reasonable? (I haven't spent too much time in verifying that)

[07:15:06.0979] <Alan Stearns>
If the participant agreement is worth the trouble (even though bad actors have always been able to lie to get around it) then I think it‚Äôs likely worth the trouble to define where/when LLM-generated output is acceptable. Personally, I consider LLM output to be fatally tainted, but again I‚Äôm not a lawyer.

[07:16:40.0470] <jjaschke>
FWIW, I used Claude Code to give me an assessment whether that issue/PR was a) written by a human, b) AI-Assisted, or c) autonomously created by AI. 

Claude could simply by the timeline say that this is autonomously written by AI, because the time between forking whatwg/dom and opening the spec PR was ~1 hour:

```
Time	Event
03:28	Forks whatwg/dom and web-platform-tests/wpt
03:49	Posts the detailed analysis comment on issue #1446
03:51	Files MDN documentation issue (2 min later!)
04:25	Files Gecko bug (bugzilla 2018839)
04:34	Opens WPT PR #58008
04:35	Opens DOM spec PR #1452
~same day	Files Chromium bug and WebKit bug
```

[07:19:12.0585] <sideshowbarker>
Yeah. We could close it without prejudice ‚Äî I guess maybe at least with a comment saying: *This seems to have been prepared almost entirely with the use of a coding agent or LLM of some kind, without you providing any details or commentary. If you would like this to be re-considered, then re-submit it with some kind of explanation from you, yourself, of the genesis for it.* Or something like that.

[07:24:07.0158] <sideshowbarker>
In practice, _‚Äúdefine where/when LLM-generated output is acceptable‚Äù_ would mean having the lawyers/legal departments of 4 different companies decide together on what that would mean¬†‚Äî with the knowledge ahead of time that what they will end up being inclined to do is, define it all in such a way as to reduce the risk as much as possible for their companies (because that‚Äôs what their job is), with less concern about the additional burden/barrier of entry that would cause for contributors.

[07:41:05.0501] <Ms2ger>
Did you ask an AI system what would work best to bribe zcorpan?

[07:42:31.0086] <Colin Alworth>
Devils advocate: I often make changes before forking, and only fork once I am prepared to make a PR

[07:43:50.0064] <sideshowbarker>
I decline to submit an attestation regarding my use of AI systems, or about my source for high-quality zcorpan-appealing chocolate

