2024-10-01
[23:15:42.0759] <annevk>
Domenic: https://github.com/whatwg/html/commit/65ef915fbfa347928d5ab946cc5df372c44262cd is missing a comma

[23:15:58.0398] <Domenic>
Oops :(

[23:18:03.0914] <annevk>
Domenic: if you're editing, https://github.com/whatwg/html/commit/5db3fd041f6afd0d6c73f0e4bba21360b59b9267 did indentation incorrectly

[23:19:59.0626] <Domenic>
Sigh, my bad...

[15:05:25.0651] <TabAtkins>
Hm, question. If I were to define a new URL format, similar in principle to data: urls but for generating a specific type of image (QR codes, in this case), would I still want to lean on the "opaque origin" concepts that data: urls use? Or is that overkill and I could rely on something simpler since it's just a raster image?


2024-10-02
[23:10:12.0201] <annevk>
Domenic: what prevents you from having a scripting relationship with a bfcache'd document? I guess there's some unspecified(?) magic that might kick it out of bfcache, but you can hold a reference just fine right?

[23:11:11.0241] <Domenic>
annevk: right, I guess it's the fact that no browser bfcaches iframes or windows with openers. (Not a matter of kicking you out; they just never get bfcached in the first place.) Allowing that would probably break tons of specs that are not prepared for it. We offered to add this to the spec in the past but I think there wasn't appetite.

[23:11:57.0385] <annevk>
Domenic: you don't need an opener to hold a reference to a nested document though

[23:12:33.0740] <Domenic>
No browser bfcaches iframes

[23:13:44.0817] <annevk>
Oh, that's new to me

[23:13:56.0939] <Domenic>
So much stuff would break

[23:14:55.0946] <annevk>
TabAtkins: why would you define them as a new URL scheme and not a particular MIME type?

[03:00:31.0644] <Luke Warlow>
Stuff like the otpauth (/apple-otpauth) scheme can already be used for generating a specific type of qr code. In case of otpauth it's a scheme so it can be used in links. I guess the design might depend on whether it makes sense to linkify this new type of data? Is that the sort of thing you were after Tab? is it something more generic?

[04:23:26.0896] <annevk>
Panos Astithas: maybe we should cancel WHATNOT tomorrow. It's a German holiday and currently only Mu-An Chiou @muan, Domenic, and you are confirmed. We also just had TPAC.

[05:45:41.0170] <annevk>
I wonder if https://x.com/Mike_DiDomizio/status/1839692898670879128 is the direct result of encoding the state in an attribute or if there would be some way to avoid this. I guess the only way would be some kind of parser hack?

[05:51:31.0113] <Luke Warlow>
> <@annevk:matrix.org> I wonder if https://x.com/Mike_DiDomizio/status/1839692898670879128 is the direct result of encoding the state in an attribute or if there would be some way to avoid this. I guess the only way would be some kind of parser hack?

Could potentially only fire the event if there's been user activation on the page? But I guess that only helps on first load not subsequently parsed details 

[06:21:48.0356] <Domenic>
I mean we could thread through "did the parser set this" to the attribute changed steps. It'd just be a lot of annoying work for unclear gain.

[06:23:37.0811] <Domenic>
A new MIME type is more elegant than a new URL scheme but it does come with extra baggage. E.g. you'd expect that if the server served an image/qr-code file then that would also work, which maybe is not what Tab is going for. Unsure.

