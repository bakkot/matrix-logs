2022-07-01
[01:39:09.0142] <sideshowbarker>
> <@zcorpan_:matrix.org> hsivonen (away from Matrix until July 11): sideshowbarker : hmm, https://validator.github.io/validator/ seems to be stuck in a reload loop

yeah I guess I introduced that problem recently. Iâ€™ll take a look

[11:42:02.0110] <seiziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziziz>
have any of you played the hit game roblox?


2022-07-04
[17:29:18.0405] <Nikola Abkniky>
LOGO 

[05:20:48.0201] <nicolo-ribaudo>
Hi! I recently joined a company that already signed the participation agreement - How do I make https://participate.whatwg.org/agreement-status?user=nicolo-ribaudo&repo=html pick it up, rather than being stuck on a non-verified signature I submitted last year?

[05:21:48.0926] <Luca Casonato>
nicolo-ribaudo: the reviewer of your first PR should verify it

[05:22:37.0802] <nicolo-ribaudo>
Ok thanks! I'll wait until my PR is non-draft before worrying about it

[05:22:44.0682] <nicolo-ribaudo>
 * Ok thanks! I'll wait until my PR is non-draft before worrying about it

[07:53:34.0933] <zcorpan>
annevk: is there anything in the websocket spec that still requires what this test is testing? http://wpt.live/websockets/constructor/014.html (i.e. to wait with establishing another websocket connection to the same host while the previous is still connecting, as a DOS prevention mechanism)

[07:57:05.0009] <Yutaka Hirano>
zcorpan: https://datatracker.ietf.org/doc/html/rfc6455#section-4.1 

[07:57:40.0307] <Yutaka Hirano>
If the client already has a WebSocket connection to the remote
host (IP address) identified by /host/ and port /port/ pair, even
if the remote host is known by another name, the client MUST wait
until that connection has been established or for that connection
to have failed.  There MUST be no more than one connection in a
CONNECTING state.

[07:57:44.0433] <Yutaka Hirano>
Maybe this?

[07:58:20.0905] <zcorpan>
Yutaka Hirano: Thanks! Yes. I thought it was defined in the API rather than the protocol

[07:59:25.0189] <zcorpan>
It shouldn't delay the first connection though, but maybe browsers have to wait a microtask or a task to avoid race conditions?

[07:59:40.0700] <zcorpan>
Context: https://github.com/whatwg/html/issues/8037

[08:05:20.0928] <Yutaka Hirano>
zcorpan: Interesting! As long as the connection establishment is fast enough, subsequent WebSocket connections will not be suffered, right?

[08:07:34.0880] <zcorpan>
Yutaka Hirano: The delaying while connecting applies equally for all subsequent connections

[08:09:05.0964] <zcorpan>
Yutaka Hirano: but I mean, for the first connection, there is no prior connection, so no reason for the browser to wait. But how does the browser know for sure that a connection is the first one, without incurring any delay for the first connection? The "establish a WebSocket connection" steps are defined to be in parallel

[08:09:48.0003] <zcorpan>
Also with the guarantee to never violate the requirement

[08:12:04.0790] <Yutaka Hirano>
@zcorpan: Our implementation runs all the websocket network activities on the same sequence, though It is different from the scripting sequence.

[08:13:08.0876] <Yutaka Hirano>
zcorpan: Thus it is easy for us to distinguish the "first" request (for a server).

[08:13:40.0036] <Yutaka Hirano>
 * @zcorpan: Our implementation runs all the websocket network activities on the same sequence, though It is different from the scripting sequence.

[08:15:48.0977] <zcorpan>
Yutaka Hirano: is strelec's claim "I think that the remainder of the main thread execution delays the connection to the socket (if not according to the spec, then by browser implementations)" true in chromium? That is, does the script that calls the WebSocket constructor need to complete before the network connection is started?

[08:18:54.0037] <Yutaka Hirano>
zcorpan: Sorry, what do you mean by "complete"?

[08:19:53.0597] <Yutaka Hirano>
Due to "in parallel", `new WebSocket(...)` returns immediately. The network connection will be done later.

