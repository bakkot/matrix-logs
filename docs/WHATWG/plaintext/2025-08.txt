2025-08-01
[17:42:54.0185] <Kaiido>
That would be super old, but it was indeed discussed back when <svg:video> was proposed: https://lists.w3.org/Archives/Public/www-svg/2003May/0005.html

[22:28:59.0048] <annevk>
Lea Verou: not sure, but HTML should probably define some of it eventually.

[07:40:20.0822] <annevk>
Meghan Denny: thanks for dealing with the spam!

[07:43:20.0752] <annevk>
Luke Warlow: did you consider giving ReflectEnum all the values needed instead? `ReflectEnum=(enumToUse, "anonymous", "anonymous", null)` or some such (probably incorrect example).

[07:48:01.0105] <Luke Warlow>
Hmm I hadn't actually, would require slightly funky grammar but that's not insurmountable.

Could also just have multiple extended attributes but still put those on the idl attribute.

Problem then is you duplicate the values between usages of the same enum (fetch priority, cross origin)

[07:49:18.0247] <annevk>
Oh yeah, hmm.

[07:50:04.0977] <annevk>
Okay, so turning an enum into not-quite-an-enum still looks like the best course of action.

[07:57:33.0952] <Luke Warlow>
The grammar to annotate the enum values is a trivial change (updated my parser easily enough), so provided we can work the prose out I think that design is probably best

[08:06:30.0498] <annevk>
Luke Warlow: I thought you determined that didn't make much sense? Or is the idea that we either annotate a value or annotate the enum? And when we annotate the enum it signifies null or some such?

[08:09:13.0405] <Luke Warlow>
> <@annevk:matrix.org> Luke Warlow: I thought you determined that didn't make much sense? Or is the idea that we either annotate a value or annotate the enum? And when we annotate the enum it signifies null or some such?

Yeah either that or there might be a way to just make it fallback to the null / "" case in the event one isn't defined at all

[08:11:04.0791] <Luke Warlow>
Perhaps my current syntax is what ends up being optimal but if we want the other one it is doable

[08:20:48.0365] <annevk>
Looking at this again "no state" seems weird. I wonder if we can get rid of that eventually. But ignoring that, putting it always on the enum is probably the least confusing, even if it's a tad more verbose.

[08:22:21.0917] <annevk>
And I guess they can always take a string that is either one of the enum values or a new state that cannot be expressed as keyword.

[08:23:31.0970] <annevk>
Lol, we also have an actual "No state" (it's different).

[08:24:06.0458] <annevk>
The as attribute does indeed use the "no state", but could also have used a "Default state" or some such and branched on that.

[08:24:40.0085] <annevk>
And the as attribute might be the only attribute that builds on that oddity? Seems ripe for removal.

[12:56:56.0990] <Meghan Denny>
np! happy to help out where i can :)

