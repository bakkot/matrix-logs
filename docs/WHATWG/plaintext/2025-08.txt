2025-08-01
[17:42:54.0185] <Kaiido>
That would be super old, but it was indeed discussed back when <svg:video> was proposed: https://lists.w3.org/Archives/Public/www-svg/2003May/0005.html

[22:28:59.0048] <annevk>
Lea Verou: not sure, but HTML should probably define some of it eventually.

[07:40:20.0822] <annevk>
Meghan Denny: thanks for dealing with the spam!

[07:43:20.0752] <annevk>
Luke Warlow: did you consider giving ReflectEnum all the values needed instead? `ReflectEnum=(enumToUse, "anonymous", "anonymous", null)` or some such (probably incorrect example).

[07:48:01.0105] <Luke Warlow>
Hmm I hadn't actually, would require slightly funky grammar but that's not insurmountable.

Could also just have multiple extended attributes but still put those on the idl attribute.

Problem then is you duplicate the values between usages of the same enum (fetch priority, cross origin)

[07:49:18.0247] <annevk>
Oh yeah, hmm.

[07:50:04.0977] <annevk>
Okay, so turning an enum into not-quite-an-enum still looks like the best course of action.

[07:57:33.0952] <Luke Warlow>
The grammar to annotate the enum values is a trivial change (updated my parser easily enough), so provided we can work the prose out I think that design is probably best

[08:06:30.0498] <annevk>
Luke Warlow: I thought you determined that didn't make much sense? Or is the idea that we either annotate a value or annotate the enum? And when we annotate the enum it signifies null or some such?

[08:09:13.0405] <Luke Warlow>
> <@annevk:matrix.org> Luke Warlow: I thought you determined that didn't make much sense? Or is the idea that we either annotate a value or annotate the enum? And when we annotate the enum it signifies null or some such?

Yeah either that or there might be a way to just make it fallback to the null / "" case in the event one isn't defined at all

[08:11:04.0791] <Luke Warlow>
Perhaps my current syntax is what ends up being optimal but if we want the other one it is doable

[08:20:48.0365] <annevk>
Looking at this again "no state" seems weird. I wonder if we can get rid of that eventually. But ignoring that, putting it always on the enum is probably the least confusing, even if it's a tad more verbose.

[08:22:21.0917] <annevk>
And I guess they can always take a string that is either one of the enum values or a new state that cannot be expressed as keyword.

[08:23:31.0970] <annevk>
Lol, we also have an actual "No state" (it's different).

[08:24:06.0458] <annevk>
The as attribute does indeed use the "no state", but could also have used a "Default state" or some such and branched on that.

[08:24:40.0085] <annevk>
And the as attribute might be the only attribute that builds on that oddity? Seems ripe for removal.

[12:56:56.0990] <Meghan Denny>
np! happy to help out where i can :)


2025-08-04
[06:18:35.0173] <Noam Rosenthal>
Are the WHATNOT minutes (specifically last week's) published in somewhere shareable?
 cwilso annevk ?

[09:19:55.0542] <annevk>
Noam Rosenthal: thanks for the reminder, sorted.

[10:35:18.0068] <mfreed>
Hi all, just a friendly reminder to post any discussion topics for this Thursday's joint CSSWG/WHATWG/OpenUI task force meeting to the meeting agenda issue: https://github.com/whatwg/html/issues/11483


2025-08-05
[01:24:24.0058] <Doctor>
Are there any pending changes/proposals to do with the way streams work? 

[01:30:29.0134] <evilpie>
I don't think this is what you mean, but https://github.com/whatwg/streams/pull/1283 added transformer.cancel, which hasn't been shipped in any major browser.

[01:33:34.0250] <Doctor>
Not what I was hoping for 

[01:39:14.0074] <Noam Rosenthal>
Being more specific would help people answer your question better. there are probably all kinds of stream-related proposals/issues on github that you could search or propose new ones 

[01:39:50.0908] <Doctor>
Is there a structure guide somewhere on proposing new ones? 

[01:40:13.0623] <Doctor>
What I'd like to change is to allow transform streams to be byob

[01:45:56.0153] <Noam Rosenthal>
https://github.com/whatwg/streams/issues
"New Issue" has a few templates

[01:46:18.0047] <Noam Rosenthal>
... and you can search the existing list in that URL

[07:26:04.0169] <Aron het Lam>
Hi, I am told to ping [Domenic](https://matrix.to/#/@domenicdenicola:matrix.org) about this in the Ladybird chat, so I hope thatâ€™s ok.
Does this in the WebIDL spec essentially mean that extended attributes are allowed on both sides of the `required` keyword for dictionary members?
To me it seems the linked spec below can be expanded to `ExtendedAttributeList required TypeWithExtendedAttributes identifier ;`
 https://webidl.spec.whatwg.org/#prod-DictionaryMember

[08:05:36.0312] <annevk>
Aron het Lam: that seems correct, but I suspect it also means you could have `[X] [X] Type ident;` in theory, which is also a bit weird.

[08:08:38.0736] <annevk>
* Aron het Lam: that seems correct, but I suspect it also means you could have `[X] [X] Type ident;` in theory, which is also a bit weird. Hmm no it doesn't as that wouldn't match the production.

[08:09:15.0327] <annevk>
* Aron het Lam: that seems correct, but I suspect it also means you could have `[X] [X] Type ident;` in theory, which is also a bit weird. Hmm no it doesn't as that wouldn't match the production. I suspect this came to be as part of making extended attributes associable with types, but that left a couple of weird corner cases.

[10:47:08.0320] <Cesar Sanchez>
Hi

[12:45:03.0670] <Doctor>
In a byob readable, you may be given a buffer that that has an offset greater than zero and a length less than the remainder of the buffer. Aka a subsection of the underlying buffer. When transferring this buffer and/or responding with a new buffer, should one make sure the contents before and after your section of the buffer aren't mutated/missing? 

[12:46:00.0494] <Doctor>
For example, if I `.respondWithNewView`, should I guarantee that any content that was before my offset in the buffer given matches that with the buffer I'm now passing back?


2025-08-06
[18:06:43.0950] <Garv>
iframes should be an empty element

[20:49:36.0339] <sideshowbarker>
annevk: (or anybody else familiar with the Fetch API who might have a few minutes), about the part of the diff at https://github.com/mdn/content/pull/40643/files which adds an additional `cache.put`:

Is that additional caching step at that point actually necessary or useful in practice?

[20:51:14.0206] <sideshowbarker>
Or to put it more simply, is that actually the recommended way to use the API? (The way that MDN should be showing developers to use it)

[21:22:35.0984] <Garv>
no like seriously, there's in todays era there's essentially no chance iframes don't run on a browser, and since the only purpose of iframes being full elements was to display an error message, nowadays they should be empty

[21:22:46.0679] <Garv>
* no like seriously, in todays era there's essentially no chance iframes don't run on a browser, and since the only purpose of iframes being full elements was to display an error message, nowadays they should be empty

[23:53:18.0197] <annevk>
sideshowbarker: I'm not sure. Jake Archibald would know. Or you could look at the service worker WHATWG uses. Hopefully that follows best practice somewhat.

[03:23:13.0876] <Jake Archibald>
sideshowbarker: [I've replied](https://github.com/mdn/content/pull/40643#issuecomment-3159234101) 

[03:23:47.0914] <sideshowbarker>
Excellent â€” thanks much

[03:25:59.0084] <Jake Archibald>
Garv: that's ideally true for a lot of elements. I mean, ideally, `/>` would have been meaningful outside of foreign content. The problem is, it's not something that can be changed about the platform now without severe breakages. Here's some history https://jakearchibald.com/2023/against-self-closing-tags-in-html/

[03:27:39.0756] <smaug>
keithamus: I could be wrong, but I think [this](https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element:popover-target-attribute-activation-behavior:~:text=Otherwise%2C%20run%20the%20popover%20target%20attribute%20activation%20behavior%20given%20element%20and%20event's%20target.) doesn't work if the relevant nodes are in shadow DOM

[03:28:05.0183] <smaug>
* keithamus: I could be wrong, but I think [this](https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element:popover-target-attribute-activation-behavior:~:text=Otherwise%2C%20run%20the%20popover%20target%20attribute%20activation%20behavior%20given%20element%20and%20event's%20target.) doesn't work if the relevant nodes are in shadow DOM (related to popovers inside buttons)

[03:28:23.0278] <smaug>
because of https://dom.spec.whatwg.org/#dispatching-events:~:text=true%3A-,Set,event%2E

[03:28:41.0018] <Jake Archibald>
Garv: Specifically, what would you do with the examples of `<iframe src="â€¦">fallback</iframe>` in the wild? According to your suggestion, the "fallback" would be rendered. Eg see [this example](https://jsbin.com/yacedit/edit?html,output)

[03:28:55.0985] <smaug>
Prove me wrong ðŸ™‚ 

[03:29:26.0757] <keithamus>
hmm

[03:29:28.0965] <Jake Archibald>
* Garv: Specifically, what would you do with the examples of `<iframe src="â€¦">fallback</iframe>` in the wild? According to your suggestion, the "fallback" would be rendered. Eg see [this example](https://jsbin.com/yacedit/edit?html,output). You see "Fallback" on the page there as a direct consequence of `<img>` being an empty element.

[03:29:58.0738] <smaug>
I couldn't immediately see tests using shadow DOM

[03:30:01.0815] <smaug>
for this stuff

[03:30:10.0038] <Jake Archibald>
* Garv: Specifically, what would you do with the examples of `<iframe src="â€¦">fallback</iframe>` in the wild? According to your suggestion, the "fallback" would be rendered. Eg see [this example](https://jsbin.com/yacedit/edit?html,output). You see "Fallback" on the page there as a direct consequence of `<img>` being an empty element - it can't have insides, so the "Fallback" is outside of it. Essentially, the `</img>` is ignored.

[03:30:14.0552] <smaug>
* I couldn't immediately find tests using shadow DOM

[03:32:26.0658] <keithamus>
how does one have a popover inside of a shadowroot referenced through the button though?

[03:33:38.0417] <keithamus>
As in:

```
data:text/html,<button id=b>Open<div id=d><template shadowrootmode=open><div popover></div></template></button><script>b.popoverTargetElement = d.shadowRoot.querySelector('div')</script>
``` 

Doesn't work because `popoverTargetElement` will not accept that element as it is not a flat tree ancestor, right?

[03:34:46.0717] <smaug>
keithamus: I was thinking the case when both button and popover are inside shadow dom

[03:35:33.0682] <smaug>
under the same shadow root

[03:41:55.0143] <keithamus>
Okay so `data:text/html,<div><template shadowrootmode=open><button id=b popovertarget=p>Open<div popover id=p></div></template></button></div>` works in Chrome but not with this patch, so they must do something different to the spec I suppose?

[03:44:07.0769] <keithamus>
https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/html/forms/html_form_control_element.cc;l=440-446?q=html_form_control_element.c ðŸ¤”

