2022-09-01
[17:34:45.0351] <tigerkiller55891>
Hello

[01:01:57.0914] <sideshowbarker>
`Transfer-Encoding` seems to be the only HTTP fields/header that‚Äôs not defined in the core HTTP Semantics spec, https://httpwg.org/specs/rfc9110.html, but instead in the HTTP/1.1 Syntax spec, https://httpwg.org/specs/rfc9112.html#field.transfer-encoding

Does anybody know why that is?

Why couldn‚Äôt it instead be specified in the Semantics spec along with all the other fields/headers?

[01:24:34.0116] <sideshowbarker>
 * `Transfer-Encoding` seems to be the only HTTP field/header that‚Äôs not defined in the core HTTP Semantics spec, https://httpwg.org/specs/rfc9110.html, but instead in the HTTP/1.1 Syntax spec, https://httpwg.org/specs/rfc9112.html#field.transfer-encoding

Does anybody know why that is?

Why couldn‚Äôt it instead be specified in the Semantics spec along with all the other fields/headers?

[01:30:49.0416] <sideshowbarker>
hmm, I guess maybe because it‚Äôs not supported in HTTP/2 (and likely not in HTTP/3) ‚Äî and so in that sense, it‚Äôs not part of the shared Semantics of core HTTP but instead it‚Äôs something that only works in the HTTP/1.1 syntax‚Ä¶

[01:33:18.0254] <Domenic>
annevk: https://github.com/whatwg/fetch/pull/1469 is highest-priority fetch PR if you could find some time soon :)

[09:30:37.0718] <Panos Astithas>
It looks like our next HTML triage meeting conflicts with TPAC. I'm thinking of skipping this instance, unless others disagree.


2022-09-04
[17:24:20.0541] <Maxim Vaarwel>
thanks, for respond


2022-09-05
[04:59:01.0755] <nicolo-ribaudo>
Domenic Do you mind if I start working on https://github.com/whatwg/html/issues/7996? It took me a while to understand how "wait until it asynchronously complete" and "custom perform the fetch steps" work, and I would be happy to help replacing them with more explicit constructs.

[05:24:19.0307] <Andreu Botella>
Has anyone else noticed that HTML's section on "killing scripts" only focuses on killing script or module evaluation, rather than the evaluation of a callback?

[05:59:51.0487] <Domenic>
> <@nicolo-ribaudo:matrix.org> Domenic Do you mind if I start working on https://github.com/whatwg/html/issues/7996? It took me a while to understand how "wait until it asynchronously complete" and "custom perform the fetch steps" work, and I would be happy to help replacing them with more explicit constructs.

Sure, that would be great!

[06:00:21.0281] <hsivonen>
annevk: FWIW, it looks a lot like https://github.com/web-platform-tests/wpt/blob/master/html/cross-origin-embedder-policy/non-initial-about-blank.https.html passes in Gecko for the wrong reason.

[06:01:45.0452] <hsivonen>
As for pass in other browsers, I'm currently trying to locate spec text that would explain why going from lack of `src` to `src="about:blank"` should trigger a navigation from the initial `about:blank` to a non-initial `about:blank`.

[06:09:28.0656] <hsivonen>
So, I take it that a change in `src` triggers a navigation even if the URL resolves to the same URL that's already the URL of the current doc in the iframe.

[06:44:42.0420] <zcorpan>
hsivonen: https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element:process-the-iframe-attributes-3


2022-09-06
[23:58:42.0187] <sideshowbarker>
So I‚Äôm writing the intro of an MDN page for the Paint Timing API and want the intro the put the Paint Timing API on context relative to the Largest Contentful Paint API.

[00:00:14.0878] <sideshowbarker>
Would it be accurate for me to make it basically say the Largest Contentful Paint API aims to provide timing information that‚Äôs more useful in practice, to the point that it obviates need for the Paint Timing API.

[00:02:21.0639] <sideshowbarker>
In other words, implying (if not explicitly saying) that if you have access to the Largest Contentful Paint timing info, that‚Äôs better info and you wouldn‚Äôt also have use for knowing when first contentful paint occurred.

[00:05:10.0196] <sideshowbarker>
/me looks around for Noam Rosenthal

[00:11:40.0775] <sideshowbarker>
I have a vague recollection that during discussion with the WebKit team, they may have said that in their implementation, one of these paint-timing metrics wasn‚Äôt something that‚Äôs very useful in practice for developers to know. Or else, not something that their implementation doesn‚Äôt even make measurable such that it could be exposed to web content.

[00:11:55.0098] <sideshowbarker>
 * So I‚Äôm writing the intro of an MDN page for the Paint Timing API and want the intro to put the Paint Timing API on context relative to the Largest Contentful Paint API.

[00:12:02.0547] <sideshowbarker>
 * So I‚Äôm writing the intro of an MDN page for the Paint Timing API and want the intro to put the Paint Timing API in context relative to the Largest Contentful Paint API.

[00:13:39.0814] <sideshowbarker>
 * I have a vague recollection that during discussion with the WebKit team, they may have said that in their implementation, one of these paint-timing metrics wasn‚Äôt something that‚Äôs very useful in practice for developers to know. Or else, not something that their implementation doesn‚Äôt even make readily exposable to web content.

[00:14:13.0327] <sideshowbarker>
 * I have a vague recollection that during discussion with the WebKit team, they may have said that in their implementation, one of these paint-timing metrics wasn‚Äôt something that‚Äôs very useful in practice for developers to know. Or else, not something that their implementation doesn‚Äôt even make measurable such that it could be exposed to web content.

[00:36:39.0268] <Domenic>
Chrome prioritizes LCP over FCP in Core Web Vitals. This was done based on some analysis and data showing that LCP captured user experience better. Perhaps that is what you're thinking of?

[00:39:35.0470] <Domenic>
Some discussion at the intro to https://web.dev/lcp/, but not much... maybe there's a better source.

[01:19:16.0407] <Noam Rosenthal>
I think FCP are LCP are both useful, in different ways and depending on the content

[01:19:59.0363] <Noam Rosenthal>
they are two important points in the loading experience. LCP is more important for CWV but both can give the developers a good hint about how your loading went

[01:20:31.0687] <Noam Rosenthal>
e.g. if you have a small "Loading" icon and then all the real content loads, FCP will give you the time of the loading icon and LCP will give you the time of the entire content

[01:21:27.0126] <Noam Rosenthal>
for pages like wikipedia, FCP is very important - it's the time where the wikipedia content loads. Afterwards maybe some big image would load and be the LCP, but both timings are meaningful. So like I said it's content-dependent

[01:21:53.0917] <Noam Rosenthal>
CWV is an attempt to crystalize all the different metrics to 3 magic numbers, but many times you need more metrics than that to get the whole story and optimize

[01:22:29.0374] <Noam Rosenthal>
sideshowbarker: ^^

[01:22:58.0151] <Noam Rosenthal>
 * for pages like wikipedia, FCP is very important - it's the time where the wikipedia content loads. Afterwards maybe some big image would load and be the LCP, but both timings are meaningful. So like I said it's content-dependent

[01:25:12.0611] <Noam Rosenthal>
sideshowbarker: the webkit team discussion was about `first-paint`. They didn't want to include it because it was not useful given that webkit buffers painting until it's contentful

[02:41:15.0226] <hsivonen>
> <@zcorpan_:matrix.org> hsivonen: https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element:process-the-iframe-attributes-3

Thanks. I observe that `object` doesn't have a similar _initialInsertion_ flag. Not sure yet, if this is a spec oversight or a genuine platform difference between `object` and `iframe`.

[02:57:02.0031] <sideshowbarker>
Noam Rosenthal: If you have time to look over https://github.com/mdn/content/pull/20346 and call out any problems you see ‚Äî or any improvements that could be made ‚Äî that‚Äôd be much welcome.

[02:59:09.0692] <sideshowbarker>
> <@domenicdenicola:matrix.org> Some discussion at the intro to https://web.dev/lcp/, but not much... maybe there's a better source.

I guess what I must have been thinking of was actually just the distinction between first paint and first contentful paint (as Noam mentions)

[03:01:11.0326] <sideshowbarker>
> <@domenicdenicola:matrix.org> Some discussion at the intro to https://web.dev/lcp/, but not much... maybe there's a better source.

https://web.dev/lcp/ and https://web.dev/optimize-lcp/ and https://web.dev/user-centric-performance-metrics/ are the best sources I was able to find

[03:21:33.0359] <zcorpan>
hsivonen: I don't know either re `object` vs `iframe`

[03:22:08.0377] <hsivonen>
> <@zcorpan_:matrix.org> hsivonen: I don't know either re `object` vs `iframe`

Thanks.

[04:10:06.0148] <Domenic>
object spec is a giant mostly-unmaintained mess... if you can make object more like iframe, that would be a great end state

[04:13:12.0102] <Noam Rosenthal>
> <@sideshowbarker:matrix.org> Noam Rosenthal: If you have time to look over https://github.com/mdn/content/pull/20346 and call out any problems you see ‚Äî or any improvements that could be made ‚Äî that‚Äôd be much welcome.

Will do!

[04:14:05.0149] <Noam Rosenthal>
sideshowbarker: I'll also ping other people in my team to take a look

[04:51:26.0404] <sideshowbarker>
Noam Rosenthal: I see that PR got merged before your comments came in. We tend to merge PRs relatively quickly ‚Äî¬†and for MDN I think that‚Äôs a good thing in general. But for your changes I‚Äôd be happy to open a PR myself. Or leave it up to you ‚Äî¬†whichever you prefer.

But regardless, it‚Äôd still be great to have review from others on your team too for the https://github.com/mdn/content/pull/20346 changes.

And rather than needing to view the diff, anybody can review the current state of the content, with the changes merged, at:

- https://pr20346.content.dev.mdn.mozit.cloud/en-US/docs/Web/API/Paint\_Timing\_API
- https://pr20346.content.dev.mdn.mozit.cloud/en-US/docs/Web/API/Largest\_Contentful\_Paint\_API

‚Ä¶or else, within the next 48 hours at most, the production site will have the updated content at:

- https://developer.mozilla.org/en-US/docs/Web/API/Paint\_Timing\_API
- https://developer.mozilla.org/en-US/docs/Web/API/Largest\_Contentful\_Paint\_API

[04:51:42.0645] <sideshowbarker>
 * Noam Rosenthal: I see that PR got merged before your comments came in. We tend to merge PRs relatively quickly ‚Äî¬†and for MDN I think that‚Äôs a good thing in general. But for your changes I‚Äôd be happy to open a PR myself. Or leave it up to you ‚Äî¬†whichever you prefer.

But regardless, it‚Äôd still be great to have review from others on your team too for the https://github.com/mdn/content/pull/20346 changes.

And rather than needing to view the diff, anybody can review the current state of the content, with the changes merged, at:

- https://pr20346.content.dev.mdn.mozit.cloud/en-US/docs/Web/API/Paint\_Timing\_API
- https://pr20346.content.dev.mdn.mozit.cloud/en-US/docs/Web/API/Largest\_Contentful\_Paint\_API

‚Ä¶or else, within the next 48 hours at most, the production site will have the updated content at:

- https://developer.mozilla.org/en-US/docs/Web/API/Paint\_Timing\_API
- https://developer.mozilla.org/en-US/docs/Web/API/Largest\_Contentful\_Paint\_API

[06:36:07.0495] <Noam Rosenthal>
sideshowbarker: no worries, I'll post a correction PR. The PR has links to those previews, so I think the team will manage (I already passed it along). Thanks!

[06:44:56.0557] <Noam Rosenthal>
sideshowbarker: https://github.com/mdn/content/pull/20351 and https://github.com/mdn/content/pull/20350


2022-09-07
[19:26:56.0607] <sideshowbarker>
Noam Rosenthal: thanks for doing that

[01:40:22.0338] <hsivonen>
AFAICT, https://github.com/web-platform-tests/wpt/blob/master/upgrade-insecure-requests/gen/iframe-blank-inherit.meta/upgrade/fetch.https.html tests that calling `document.open()` on the initial `about:blank` inherits `upgrade-insecure-requests` from the caller to the `open()`ed doc. I don't see this specified in either https://w3c.github.io/webappsec-upgrade-insecure-requests/ or https://html.spec.whatwg.org/#document-open-steps . What am I missing? (Also, Gecko tries to inherit CSP between steps 6 and 7, but evidently, it's not inheriting enough.)

[03:49:08.0526] <Domenic>
hsivonen: seems like a bad test. I can't immediately tell given how many layers of generation seem to be going on but I would doubt that was intentionally tested...

[03:50:04.0482] <Domenic>
This code looks totally bogus in Chromium to me... https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/dom/document.cc;l=3257-3285;drc=6bf619d06ef290056d3e134756c1c4eaa17a2d70

[03:50:43.0880] <hsivonen>
The test was OK after all. I tracked it down to Gecko's failure to recompute upgrade-insecure-requests upon `document.open`

[03:51:22.0582] <hsivonen>
(Gecko copied the CSP OK, but failed to actually run the function to compute upgrade-insecure-requests out of the CSP)

[03:51:55.0523] <Domenic>
Fascinating

[03:52:18.0295] <Domenic>
I am hoping we can avoid inheriting anything, whether it's Gecko's CSP or Blink's renderer-process-only sandbox flags / security origin

[03:53:59.0419] <hsivonen>
(Aside: The way `fetch()` spec-wise inherits CSP from the doc in the `window` that `fetch()` is called on, is specified so abstractly that I wasn't confident how upgrade-insecure-requests should propagate, but it turns out that it should propagate from doc to `fetch()`.)

[03:54:56.0501] <Domenic>
Fuked https://bugs.chromium.org/p/chromium/issues/detail?id=1360795

[03:55:05.0945] <Domenic>
 * Filed https://bugs.chromium.org/p/chromium/issues/detail?id=1360795

[03:56:01.0263] <Domenic>
Note that the spec's "URL and history update steps" usage is probably not web-compatible... we should probably add a warning... see https://github.com/whatwg/html/issues/6556

[03:58:47.0990] <hsivonen>
> <@domenicdenicola:matrix.org> Filed https://bugs.chromium.org/p/chromium/issues/detail?id=1360795

Is "322" a typo with a digit missing?

[04:03:50.0372] <hsivonen>
> <@domenicdenicola:matrix.org> Note that the spec's "URL and history update steps" usage is probably not web-compatible... we should probably add a warning... see https://github.com/whatwg/html/issues/6556

Currently, I'm finding that tests that test history length start failing with my patch but they already fail in Chrome and pretty consistently if I remove expectations for history length to grow by one more than Chrome grows it, the tests pass both in Chrome and in Firefox+my patch.

[04:03:55.0235] <Domenic>
Yes, thanks, fixed

[04:04:22.0351] <Domenic>
> <@hsivonen:mozilla.org> Currently, I'm finding that tests that test history length start failing with my patch but they already fail in Chrome and pretty consistently if I remove expectations for history length to grow by one more than Chrome grows it, the tests pass both in Chrome and in Firefox+my patch.

For document.open() specifically, or other places?

[04:05:16.0879] <hsivonen>
> <@domenicdenicola:matrix.org> For document.open() specifically, or other places?

Other places.

[04:11:29.0965] <hsivonen>
Back in 2011 when I tried to change how Gecko handles about:blank, I got failures on history mochitests but didn't have a way to run the same tests in another engine like I can now run WPT to see that the test expectations differ from Chrome and my patch actually moves towards interop despite failing tests.


2022-09-08
[23:38:18.0683] <sideshowbarker>
PSA: At https://github.com/w3c/csswg-drafts/issues/7712 I made a new proposal to start auto-publishing CSS WG drafts at https://w3c.github.io/csswg-drafts URLs, using the same https://github.com/w3c/spec-prod tooling that most other W3C groups/repos already use ‚Äî in parallel with continuing to publish them at drafts.w3.org URLs.

[04:11:00.0342] <Domenic>
I hope they do it, although given how your attempts last time went it seems like the group is pretty set on the "dump money onto the dumster fire" solution :(

[07:00:12.0695] <Jake Archibald>
emilio: btw, we're going to have a breakout session on shared element transitions at TPAC https://www.w3.org/wiki/TPAC/2022/SessionIdeas#Page_transitions_in_the_browser_.28Shared_Element_Transitions.29

[07:00:48.0994] <emilio>
cool, thanks! will try to make it

[07:05:08.0317] <hsivonen>
AFAICT when the inner window is reused when navigating from the initial about:blank, Chrome aborts a synchronous XHR pending in that window and WPT tests this, but I don't see this in the spec. Spec bug or bad spec reading on my part?


2022-09-09
[17:12:32.0549] <Domenic>
I thought unloading cancels all network requests?

[17:13:34.0858] <Domenic>
Like I don't think initial about:blank is special here

[17:14:32.0129] <Domenic>
https://html.spec.whatwg.org/#abort-a-document step 2

[18:40:28.0093] <sideshowbarker>
I‚Äôm still optimistic. Especially if I‚Äôm willing to do all the setup work for it myself, with the understanding that we can just test out the results first, and turn it off later if there are objections for some reason. And hopefully we can take advantage of face-to-face time at TPAC next week to have a friendly discussion about it there.

[18:43:18.0100] <sideshowbarker>
annevk: if you have time to look at https://github.com/mdn/content/issues/20441 that‚Äôd be much appreciated. (Or anybody else who wants to take time to look into it.)

The behavior described in that issue description doesn‚Äôt seem to conform to the spec but I‚Äôve not tried reproducing it. The OP has a repro case set up at https://github.com/AtofStryker/understanding-cookie-behavior

[18:43:41.0057] <sideshowbarker>
> <@domenicdenicola:matrix.org> I hope they do it, although given how your attempts last time went it seems like the group is pretty set on the "dump money onto the dumster fire" solution :(

 * I‚Äôm still optimistic. Especially if I‚Äôm willing to do all the setup work for it myself, with the understanding that we can just test out the results first, and turn it off later if there are objections for some reason. And hopefully we can take advantage of face-to-face time at TPAC next week to have a friendly discussion about it there.

[18:49:22.0848] <sideshowbarker>
hmm wait actually I see the issue is just about the statement _‚ÄúSetting withCredentials has no effect on same-site requests‚Äù_ in MDN at https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials.

‚Ä¶which is just wrong in the case where a same-site request is cross-origin

[19:03:00.0484] <sideshowbarker>
commented at https://github.com/mdn/content/issues/20441#issuecomment-1241414596

[01:31:22.0390] <smaug>
zcorpan: is plaintext-only some ancient feature?

[01:31:40.0421] <zcorpan>
smaug: yes

[01:32:00.0802] <smaug>
zcorpan: does anyone have usage data of it?

[01:33:46.0877] <zcorpan>
smaug: https://chromestatus.com/metrics/feature/timeline/popularity/1132

[01:34:23.0601] <Ms2ger üíâüíâ>
Oh, I thought you meant `<plaintext>`

[01:34:32.0496] <zcorpan>
smaug: there's also https://chromestatus.com/metrics/feature/timeline/popularity/1800 which ... has higher usage :/ I was hoping browsers could remove -webkit-user-modify

[01:35:52.0357] <smaug>
plaintext-only is going down nicely. If chromium just pushed a tiny bit, we might be able to get rid of  it

[01:39:55.0103] <zcorpan>
maybe, but 0.2% was enough to need to add `<image>` parsing back in 2006

[01:40:30.0485] <zcorpan>
meanwhile the web editing folks propose a more verbose way to do the same thing (with more control, but still) https://w3c.github.io/editing/docs/contentEditableDisabled/

[01:42:46.0594] <zcorpan>
also -webkit-user-modify: read-write-plaintext-only is at 2%, so if that is not also removed there's no win with removing contenteditable=plaintext-only (which maps to the css property in webkit/chromium)

[01:55:05.0166] <Jake Archibald>
`plaintext-only` is actually pretty nice for creating a text field which grows to fit its contents

[01:55:29.0954] <Jake Archibald>
Which I recall being pretty hard with `<textarea>`

[06:38:39.0779] <Jake Archibald>
annevk smaug: We're going to have a breakout on the history spec changes if you're interested https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362

[06:38:56.0727] <smaug>
Jake Archibald: yeah, I'll try to be there

[07:51:40.0535] <hsivonen>
> <@domenicdenicola:matrix.org> https://html.spec.whatwg.org/#abort-a-document step 2

Thanks. That's what I should have found but somehow failed to.

[12:52:09.0561] <annevk>
Jake Archibald: if there's no overlap will definitely be there. Multi-year rewrites of never properly specified features FTW.

[12:53:55.0198] <annevk>
zcorpan: I've been thinking a bit about your comment about image loading, the microtask it queues, and `<picture>`. I was wondering how that works when `<picture>` is being parsed. Wouldn't you have to wait for `</picture>` essentially? (Which is not something the parser exposes as you probably know all too well.)

[15:37:41.0396] <sideshowbarker>
TabAtkins: beautiful ‚Äî thanks tons

[15:38:01.0528] <TabAtkins>
np, it was indeed extremely easy since Andreu did all the work already

[15:38:29.0570] <TabAtkins>
(https://w3c.github.io/csswg-drafts/ now exists, fyi to the rest of the channel)

[15:46:03.0856] <Domenic>
OMG!

[15:46:18.0297] <Domenic>
Can we switch Bikeshed to use these as the new URLs?

[15:52:18.0794] <TabAtkins>
Not willing to do that quite yet (it would involve either manually changing every entry in the current database by hand, via a CRUD interface, or bypassing with a hacky search-and-replace like I do to *generate* the mirror). We *are* paying plinss now to get things fixed properly, so we can reevaluate at the end of the contract. ^_^

[16:18:49.0833] <Domenic>
A hacky search-and-replace seems quite worthwhile... maybe I can just do that in the global whatwg build script


2022-09-10
[03:51:21.0482] <Andreu Botella>
> <@domenicdenicola:matrix.org> A hacky search-and-replace seems quite worthwhile... maybe I can just do that in the global whatwg build script

What this mirror does to avoid linking to drafts.csswg.org is to comb through the bikeshed anchor database and replace those links before building: https://github.com/w3c/csswg-drafts/blob/main/bin/configure-spec-data.py

[03:52:15.0698] <Andreu Botella>
I prefer that over a search and replace on the built specs

[06:22:44.0221] <sideshowbarker>
Andreu Botella: I wonder how practical it would be to have `build-index.py` also build/generate a data file (JSON I guess) with, at least, the last-modified (last-revised) time for each spec?

[06:25:01.0490] <sideshowbarker>
I can do it downstream ‚Äî by fetching each spec and checking get the revision from the, e.g., `<meta content="929f19ea6d7188d984d2e1c0783dff758d84ec57" name="document-revision">` in each, and then using https://docs.github.com/en/rest/commits/commits#get-a-commit from the GitHub API to get the commit data and pull out the date.

[06:27:08.0832] <sideshowbarker>
But if you think `build-index.py` could be patched to do basically the same thing upstream, I‚Äôd be happy to work on writing up a patch to do that.

[06:28:31.0273] <sideshowbarker>
my main need for it is for https://html-now.github.io/, in the **Repo** column, where the numbers in red and green and black indicate how many days it‚Äôs been since the spec was last updated.

[06:30:41.0586] <sideshowbarker>
Right now I get that by doing a HEAD request for each spec and checking the Last-Revised HTTP header ‚Äî if there is one (which there is for drafts.csswg.org documents); and if there is not, I check the Last-Modified header.

[06:31:14.0270] <sideshowbarker>
 * I can do it downstream ‚Äî by fetching each spec and checking the git revision from the, e.g., `<meta content="929f19ea6d7188d984d2e1c0783dff758d84ec57" name="document-revision">` in each, and then using https://docs.github.com/en/rest/commits/commits#get-a-commit from the GitHub API to get the commit data and pull out the date.

[06:31:52.0583] <sideshowbarker>
 * I can do it downstream ‚Äî by fetching each spec and checking the git revision from the, `meta` element in each doc ‚Äî e.g., `<meta content="929f19ea6d7188d984d2e1c0783dff758d84ec57" name="document-revision">` ‚Äî and then using https://docs.github.com/en/rest/commits/commits#get-a-commit from the GitHub API to get the commit data and pull out the date.

[12:03:46.0466] <Domenic>
> <@abotella:igalia.com> What this mirror does to avoid linking to drafts.csswg.org is to comb through the bikeshed anchor database and replace those links before building: https://github.com/w3c/csswg-drafts/blob/main/bin/configure-spec-data.py

This would be harder to hack into whatwg build scripts since those invoke the csswg API version of Bikeshed. Hmm.

[13:22:09.0516] <Bibi Zaiti>
Szia


2022-09-11
[18:21:40.0559] <Domenic>
annevk: if you were to create a HTTP header referring to a URL's query/search component, would you use a name containing "query" or "search"? (https://github.com/WICG/nav-speculation/pull/183 for full context if you're interested.)

[21:25:51.0082] <Scottsdale >
üôàüôàüôàüôàToday is my most happiest day, I never believe in making money in Bitcoin investment until a friend of mine invested with him and got his profit and I decided to give it a try and wow it works out for me, I'm damn happy I can't believe when I opened my Bitcoin wallet and saw my profit I was short of words, thank you so much Sir God bless you, you can also invest with him
üëáüëáüëáüëáüëáüëá

https://t.me/+fg0XTHR8CAo4Y2Fk
https://t.me/+fg0XTHR8CAo4Y2Fk
@FLORAGORDON

[02:57:21.0628] <smaug>
Jake Archibald:  (I was looking at some of my ancient tests) looks like Chrome has changed session history behavior on this case from the old WebKit model to Presto model: http://mozilla.pettay.fi/moztests/history2/Start.html  I think we don't want to spec either one of those. The testcase is about dynamically added iframes

[06:26:33.0608] <Jake Archibald>
smaug: yeah, I ran across this one too. Firefox's model is the sensible one, and it's what I put in PR.

[06:28:23.0595] <Jake Archibald>
The current spec seems to hint at the Firefox behaviour here too.

[06:32:35.0693] <Jake Archibald>
Ah, ok, this bit isn't handled in the PR. I need to make sure it explicitly removes those history entries when the iframe is removed.

[06:58:39.0517] <Jake Archibald>
Oh, no, I misread, it's handled in the current PR (the Firefox model) https://whatpr.org/html/6315/document-sequences.html#destroy-the-nested-navigable

[14:33:48.0453] <Lorin>
Is there a similar discussion platform for CSS spec? 

[14:39:04.0383] <aja>
https://matrix.to/#/#w3c_css:matrix.org

[14:39:25.0545] <aja>
specs (plural)

[14:44:37.0328] <aja>
above room is primarily for css wg meetings, though.  most discussion is in github PRs


2022-09-12
[17:22:40.0708] <annevk>
Should we have a dedicated TPAC channel for WHATWG folks at TPAC or use this one? 1Ô∏è‚É£ for this one. 2Ô∏è‚É£ for a new channel. I guess it would be especially useful for folks not here to vote. Based on the outcome I might do something tomorrow morning.

[17:23:32.0416] <annevk>
Now, related to that, anyone up for dinner in an hour or so? Gonna try to find something with outdoor seating.

[02:26:26.0211] <Ond≈ôej ≈Ω√°ra>
I am interested in positioning of the <dialog> element when open. I found https://github.com/w3c/csswg-drafts/issues/4645 and https://html.spec.whatwg.org/multipage/rendering.html#flow-content-3 and https://browserdefaultstyles.com/#dialog, but it is still not clear to me why is the <dialog> centered. In particular, 1) fixed positioning seems to be recommended, but the default styles are still showing "position:absolute"; 2) there is the "margin:auto" declaration, but this does not seem to center arbitrary elements in my userland code.

[07:14:01.0079] <Domenic>
Did you see the "The dialog element, when its is modal flag is true, is expected to act as if it had a user-agent-level style sheet rule setting the following properties:" sentence? That seems to explain it pretty clearly from my perspective

[07:23:17.0907] <Ond≈ôej ≈Ω√°ra>
> <@domenicdenicola:matrix.org> Did you see the "The dialog element, when its is modal flag is true, is expected to act as if it had a user-agent-level style sheet rule setting the following properties:" sentence? That seems to explain it pretty clearly from my perspective

Yes, I did see that! And yet, I do not see any positioning/centering there... max-{width,height} are just dimension limitations; the `position:fixed` implies there will be some left/right/top/bottom positioning specified... and the "inset-block-start" property is new to me, but judging from examples at https://developer.mozilla.org/en-US/docs/Web/CSS/inset-block-start, the value of 0 would align the box with the top of the page...

[07:23:56.0222] <Ond≈ôej ≈Ω√°ra>
Also, some centering is happening with non-modal <dialog>s as well (via the .show() method).

[07:24:59.0720] <Ond≈ôej ≈Ω√°ra>
So I assume some styling/centering is going on even without the modal flag set

[09:04:26.0393] <Domenic>
I'd suggest putting all those properties (plus the UA stylesheet base) into a demo with a <div>; I believe it'll cause centering.

[09:04:44.0672] <Domenic>
You can then use your browser's inspector to see exactly how


2022-09-13
[22:04:30.0478] <leobalter>
annevk Domenic as I mentioned, the unsafe-eval thing: https://www.logius.nl/diensten/digid/ict-beveiligingsassessments-digid/documentatie/uitzonderingsregel-upw03 (Chrome will show up a translate button) 

[23:43:16.0778] <Ond≈ôej ≈Ω√°ra>
> <@domenicdenicola:matrix.org> I'd suggest putting all those properties (plus the UA stylesheet base) into a demo with a <div>; I believe it'll cause centering.

You are correct, thanks. Let me save the time of other unfortunate devs that come here seeking the answer, trying to re-apply all the mentioned properties: the centering is caused by the `margin:auto`. MDN helpfully suggests "in certain cases this value can be used to center an element".

[23:52:18.0029] <Ond≈ôej ≈Ω√°ra>
...and here comes the explanation, finally: https://www.w3.org/TR/CSS21/visudet.html#abs-non-replaced-height

[03:04:54.0658] <tashasyarifah>
Hi everyone, I'm Tasha. I need your help. How to sign the Participant Agreement? I contribute as an individual and I am a job seeker. I try to click signed as an individual, but it didn't work. Any guidance would be helpful.

[04:40:38.0699] <hsivonen>
Domenic: Has https://www.w3.org/wiki/TPAC/2022/SessionIdeas#The_upcoming_navigation_and_session_history_rewrite been scheduled and is it open to remote participation? (I might call in if open to participation and the timezones work out.)

[07:33:19.0169] <Domenic>
> <@hsivonen:mozilla.org> Domenic: Has https://www.w3.org/wiki/TPAC/2022/SessionIdeas#The_upcoming_navigation_and_session_history_rewrite been scheduled and is it open to remote participation? (I might call in if open to participation and the timezones work out.)

It has and it is! https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362

[07:33:36.0372] <Domenic>
> <@tashasyarifah:matrix.org> Hi everyone, I'm Tasha. I need your help. How to sign the Participant Agreement? I contribute as an individual and I am a job seeker. I try to click signed as an individual, but it didn't work. Any guidance would be helpful.

Hi Tasha, what does "didn't work" mean? Did you get an error?

[07:52:24.0963] <hsivonen>
> <@domenicdenicola:matrix.org> It has and it is! https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362

Thanks. The time zone overlap is problematic, so I most likely won't be calling in. Anyway, the main point that I have is that I'm in the process of editing some history WPTs as part of my about:blank interop effort, so I hope that the current state of those WPTs doesn't end up in the spec: https://phabricator.services.mozilla.com/D155376#change-z3v1YcJlKe7v

[08:14:45.0628] <Domenic>
For sure, we'll make sure the rewritten spec is aligned with your work / the updated versions of those tests.

[09:08:24.0391] <annevk>
leobalter: ah okay, it looks like that is specific to DigiD (Dutch digital ID) deployment. That kinda makes sense I suppose.

[15:08:09.0009] <Jake Archibald>
hsivonen: https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362 - we've moved the session earlier

[16:04:36.0290] <zcorpan>
APA & WHATWG joint meeting now: https://www.w3.org/events/meetings/a0de5c4b-855f-4e12-b5ea-af56343f3fe7


2022-09-14
[21:29:43.0342] <hsivonen>
> <@jakea:matrix.org> hsivonen: https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362 - we've moved the session earlier

Thanks. I'll call in.

[01:45:46.0503] <nicolo-ribaudo>
Hi! I have a question regarding modules imports.
When you dynamically import a module that is already in the modules map, does it yield to the event loop? My reading of the spec is "no", because it schedules a task to continue the import only when it performs an actual fetch, but both Firefox and Chrome seem to yield. They only settle the dynamic import promise in the current promise tasks queue if the import specifier is malformed.

[01:51:19.0464] <Ms2ger üíâüíâ>
https://html.spec.whatwg.org/multipage/webappapis.html#hostimportmoduledynamically(referencingscriptormodule,-modulerequest,-promisecapability) - the async returning doesn't seem particularly well integrated with the event loop

[01:57:40.0137] <nicolo-ribaudo>
Right, I'm removing it in https://github.com/whatwg/html/pull/8264 and I'm not 100% sure that I got that part correctly.

[03:45:08.0111] <hsivonen>
What mechanism makes the document.write in https://github.com/web-platform-tests/wpt/blob/master/html/browsers/browsing-the-web/navigating-across-documents/010.html not interfere with the load of href.html?

[03:45:15.0000] <hsivonen>
in Chrome that is

[03:46:00.0368] <hsivonen>
In Firefox currently, the mechanism is that the about:blank isn't the initial about:blank anymore, so the navigation does not reuse the inner window, so the `document.write` happens on the old (about:blank) document.

[03:47:15.0162] <hsivonen>
However, when inner window reuse takes place, which it presumably does in Chrome, what makes the `document.write` not blow away the new document that has become the document of the inner window while the event loop for the sync XHR was spinning?

[03:49:21.0618] <hsivonen>
When Chrome aborts the old fetches (including the XHR), does it also manage to abort scripts that are being executed so that the JavaScript program aborts before xhr.send() returns?

[03:49:43.0161] <hsivonen>
I guess I should test that hypothesis.

[03:54:37.0109] <hsivonen>
I can't log with console.log() from within the javascript: URL in Chrome. Is Chrome not executing the javascript: URL at all for some reason?

[04:26:08.0349] <Haerul Fuad>
smaug: smaug

[06:46:56.0153] <tashasyarifah>
> <@domenicdenicola:matrix.org> Hi Tasha, what does "didn't work" mean? Did you get an error?

So, I clicked signed as an Individual and then submit. The result is I got an error 400. It says Invalid 'entity-name' field. I don't see any form or anything. I'm so confused. 

[07:23:22.0311] <Ms2ger üíâüíâ>
> with arguments method, args and, undefined.

[07:23:28.0839] <Ms2ger üíâüíâ>
Is that the Cambridge comma?

[09:51:19.0332] <zcorpan>
tashasyarifah: did you click the triangle in " If signing as an Individual" or did you click the link "Individual"?

[09:52:37.0147] <zcorpan>
Maybe <details> here is confusing UI

[09:53:13.0545] <zcorpan>
and links in <summary> is certainly confusing UI (https://github.com/whatwg/html/issues/2272)

[09:55:03.0529] <Domenic>
nicolo-ribaudo: I guess we should match browsers here, and queue a task regardless. Even if IMO it would have been more elegant not to yield, this is what I get for using imprecise spec constructs; implementers used what they are familiar with / what is well specced (task yielding) and now we end up here.

[09:55:53.0282] <Domenic>
Web platform tests for this would be ideal if possible :)

[09:59:56.0413] <nicolo-ribaudo>
Yeah I agree that not yielding would be more elegant... I'll try to check how the other browsers behave; if they all agree or if there is inconsistent behaviour.

[10:54:34.0659] <zcorpan>
hsivonen: are you able to review https://github.com/whatwg/html/pull/8271 ?

[11:24:17.0138] <hsivonen>
> <@zcorpan_:matrix.org> hsivonen: are you able to review https://github.com/whatwg/html/pull/8271 ?

I set a reminder for myself for tomorrow

[11:53:24.0837] <zcorpan>
ty

[12:22:17.0311] <hsivonen>
AFAICT Chrome doesn't execute the javascript: URL at all on https://github.com/web-platform-tests/wpt/blame/master/html/browsers/browsing-the-web/navigating-across-documents/010.html . Safari, however, is really strange: onmessage sees document.write() winning over the href navigation but what the user sees is the href navigation--not the document.write.

[12:22:39.0908] <hsivonen>
Currently my local patch for Gecko has document.write winning both for script and rendering purposes.

[12:22:51.0559] <hsivonen>
Under what theory should document.write() not win?

[12:24:39.0658] <hsivonen>
That is, what's the logic that the test is trying to test? That aborting the javascript: URL navigation should abort the script excecution and not just the pseudo-network response resulting from the returned string?

[12:24:45.0775] <hsivonen>
jgraham: ^

[14:02:22.0905] <Domenic>
(FWIW, I don't have any real answers here. Happy to approve a rename to .tentative, or maybe delete the test and open a whatwg/html interop issue so we can investigate and come up with what the answer *should* be.)


2022-09-15
[20:11:59.0459] <tashasyarifah>
zcorpan: OMG I click the link "individual". I thought the triangle is act for a list. Maybe change the triangle to be more noticeable. I finished filling out the form. Thank you!

[20:58:40.0205] <Lucy>
üî∞Don't depend on your salary onlyüî∞if you have a Gmail account,computer or smartphones,you can start earning $4,000 daily and $10,000 weekly,without #sending_money to anyone click on the link to get started üëáüëáüëáüëáüëáüëáüëáüëá
TELEGRAMüìàüìàüì•üì•
https://t.me/+T5bSreXpWsAwMDA0

ADMIN:
https://t.me/Braddocklucy

[23:20:25.0140] <hsivonen>
> <@domenicdenicola:matrix.org> (FWIW, I don't have any real answers here. Happy to approve a rename to .tentative, or maybe delete the test and open a whatwg/html interop issue so we can investigate and come up with what the answer *should* be.)

Thanks. I'll mark as tentative.

[00:29:33.0715] <hsivonen>
This test seems to expect _non-initial_ about:blank (which in Chrome fires its load event async) to have the magic characteristic of the DOM getting built (i.e. `contentDocument.body` existing) synchronously when the location has updated: https://github.com/web-platform-tests/wpt/blob/ab53b6abd671656733e41ef03cd0be11250688d7/content-security-policy/inheritance/history-iframe.sub.html#L53-L63 Is there a legitimate Web compat need for this magic?

[04:49:12.0146] <Ms2ger üíâüíâ>
Is it ever acceptable to use "current settings object" if you're running "in parallel"? cc Domenic annevk 

[07:06:25.0219] <annevk>
Ms2ger üíâüíâ: no, not really; current might have changed

[08:40:24.0745] <Ms2ger üíâüíâ>
https://github.com/w3c/geolocation-api/issues/126

[11:22:34.0144] <Dominic Farolino>
hsivonen: In both Chrome & Safari, I'm observing `iframe.contentDocument == null` syncly after location-navigating to `about:blank` (from cross-origin doc)

[11:41:14.0211] <hsivonen>
> <@domfarolino:matrix.org> hsivonen: In both Chrome & Safari, I'm observing `iframe.contentDocument == null` syncly after location-navigating to `about:blank` (from cross-origin doc)

Even at the point where `iframe.contentWindow.location.href == "about:blank"` ?

[11:52:33.0396] <Dominic Farolino>
hsivonen: Well it would only equal `about:blank` after the navigation is complete/loaded, right? And that's async, as per what I'm observing.

[14:08:18.0841] <zcorpan>
Domenic: do you know how css module scripts work (in particular if they always create a new `CSSStyleSheet` object)? See https://github.com/w3c/csswg-drafts/issues/7002#issuecomment-1146198613 

[15:00:18.0939] <Domenic>
> <@zcorpan_:matrix.org> Domenic: do you know how css module scripts work (in particular if they always create a new `CSSStyleSheet` object)? See https://github.com/w3c/csswg-drafts/issues/7002#issuecomment-1146198613

Not off the top of my head, sorry!

[15:05:17.0240] <Dominic Farolino>
Kiiiinnda looks like they just always do? https://html.spec.whatwg.org/#creating-a-css-module-script

[15:06:45.0046] <TabAtkins>
it always creates a stylesheet object, but the ES algo it passes that to only uses that value if you haven't already done a css import from that url. If you have it just grabs the existing value.

[15:07:52.0861] <TabAtkins>
But it remains that all of this work is observable (such as via a proxy on the CSSStyleSheet prototype, I think), whereas JS module creation is *not* observable, so the model used by JS isn't great here.

[15:08:02.0491] <TabAtkins>
It should accept some default steps, rather than just a default object.

[15:18:24.0575] <Jimbo Moyer>
Can anyone teach me to crack WiFi 


2022-09-16
[09:25:05.0101] <smaug>
Is there a way to disable OOPIF in Chrome? (I assume there is at least way to prevent some of it, given the mobile behavior)

[09:25:14.0376] <smaug>
I would just test something, on desktop

[11:01:43.0286] <hacknorris>
just a very smol question from an indie "coder" - someone knows either a full source code or css file of **X H T M L** ? cant find in google and wanted to make something similar...

[11:02:47.0323] <hacknorris>
im just curious how xhtml displays media mostly

[11:02:59.0212] <hacknorris>
rest i figured out by myself already

[11:03:16.0239] <Andreu Botella>
the only real difference is the parsing, everything else stays the same

[11:03:33.0105] <hacknorris>
and i mean - i have mine dtd already

[11:03:53.0045] <Andreu Botella>
well, if you're not careful with namespaces, you might end up with elements that look like HTML but aren't, and that would end up with a difference in rendering

[11:04:02.0413] <hacknorris>
is it executing wasm or js do display ? or whut ?

[11:04:21.0302] <Andreu Botella>
?

[11:04:36.0492] <hacknorris>
> <@abotella:igalia.com> well, if you're not careful with namespaces, you might end up with elements that look like HTML but aren't, and that would end up with a difference in rendering

no, i made a general tag for media and now i think what i can achieve with css lol

[11:04:58.0115] <hacknorris>
> <@abotella:igalia.com> ?

like an image. pixel-by-pixel

[11:05:07.0216] <hacknorris>
looks like wasm

[11:05:23.0528] <hacknorris>
eventually JS

[11:05:36.0771] <Andreu Botella>
XHTML renders the same as HTML, the only difference is the source is parsed in a different way.

[11:05:45.0707] <hacknorris>
and i mean source

[11:05:58.0950] <hacknorris>
i do xml html the reversed way

[11:06:07.0891] <Andreu Botella>
But if you're not careful with namespaces, you might end up with something like `<p>` that isn't really an HTML `<p>` element and doesn't have the default `display: block`

[11:06:10.0911] <hacknorris>
like i make xml file displaying in browser

[11:06:23.0159] <hacknorris>
> <@abotella:igalia.com> But if you're not careful with namespaces, you might end up with something like `<p>` that isn't really an HTML `<p>` element and doesn't have the default `display: block`

this i figured

[11:06:35.0058] <hacknorris>
and i meant - make **alternative** to <img> tag

[11:06:43.0161] <hacknorris>
 * and i meant - make **alternative** to <img> tag

[11:07:03.0104] <Andreu Botella>
something like that you'd have to do with CSS

[11:07:16.0312] <hacknorris>
but in css there is no display image afaik

[11:08:06.0859] <Andreu Botella>
```css
my-namespace|my-image-tag::before {
  content: image("./image.png");
}
```

[11:08:18.0018] <hacknorris>
content supports images ?!

[11:08:20.0377] <hacknorris>
wtf ?!

[11:09:05.0278] <hacknorris>
i thought maximum i can achieve was to display thing from data-x="something" instead of title attrib

[11:09:44.0505] <hacknorris>
> <@abotella:igalia.com> ```css
> my-namespace|my-image-tag::before {
>   content: image("./image.png");
> }
> ```

how with user added images like in custom media url ? not a static img ?

[11:10:14.0979] <hacknorris>
like if i want this :
```
<tag url="./file.png" type="image"> </tag>
```

[11:10:20.0343] <Andreu Botella>
I'm not sure right now if you can use attribute values in the CSS image function, or if that's spec'd but not implemented yet

[11:10:49.0594] <Andreu Botella>
 * I'm not sure right now if you can use attribute values in the CSS image function, or if that's spec'd but not implemented yet

[11:11:08.0342] <hacknorris>
> <@abotella:igalia.com> I'm not sure right now if you can use attribute values in the CSS image function, or if that's spec'd but not implemented

yeah, thats why i ask for original xhtml css file

[11:11:50.0427] <hacknorris>
or even full source code

[11:12:11.0168] <hacknorris>
for html i found on github already... but this isnt based on xml like mine...

[11:14:46.0882] <hacknorris>
like this i CAN do : 

[11:15:42.0870] <hacknorris>
but this already cant (over marked in paint) : 

[11:16:45.0957] <hacknorris>
so any ideas? source code of xhtml i beg for ? ;-;

[11:18:07.0286] <Andreu Botella>
browsers implement `<img>` and various other HTML and SVG elements specially

[11:18:27.0505] <Andreu Botella>
while there are user agent stylesheets that give you the default stylings, that doesn't cover everything

[11:18:32.0509] <hacknorris>
> <@abotella:igalia.com> browsers implement `<img>` and various other HTML and SVG elements specially

there is no more source for xhtml than dtd file !?

[11:18:44.0012] <Andreu Botella>
there's the specs

[11:18:48.0903] <Andreu Botella>
 * there's the specs

[11:19:02.0389] <hacknorris>
ye but for me its just source of xhtml lol

[11:20:38.0886] <Andreu Botella>
SVG isn't implemented with a CSS source ‚Äì the browser knows how to render specific SVG elements

[11:20:54.0149] <hacknorris>
üò∞

[11:24:07.0949] <hacknorris>
and what with audio and css

[11:24:51.0208] <hacknorris>
?

[11:25:15.0489] <Andreu Botella>
what about it?

[11:25:54.0297] <hacknorris>
cause css is stylesheet. for me style also should apply to audio but i never saw any css for audio things..

[11:25:57.0424] <hacknorris>
only Js

[11:26:41.0654] <Andreu Botella>
there's CSS properties for audio, but I'm not sure how much they're used

[11:26:58.0470] <hacknorris>
which ones ? on w3scools never saw

[11:28:25.0196] <Andreu Botella>
https://w3c.github.io/csswg-drafts/css-speech-1/

[11:29:23.0280] <hacknorris>
ü§î

[12:07:12.0174] <hacknorris>
e- would it be good to replace 2d art to 3d art in css ?

[12:07:18.0313] <hacknorris>
 * e- would it be good to replace 2d art to 3d art in css ?

[12:07:31.0783] <hacknorris>
cause i know its just possible..

[16:58:47.0242] <TabAtkins>
Yeah, the Speech spec is vaporware, nothing uses it.

[16:59:08.0074] <TabAtkins>
hacknorris: If you want to do your own images in a webpage, that's what the <canvas> element is for - creating your own images with JS.


2022-09-17
[17:00:09.0632] <TabAtkins>
If you want to control how *other* elements are displayed, you're limited to what CSS can do. The *specifics* of all that are in the browser code. Most browsers are open-sourse, so in theory you can read their code, but they're some of the biggest, most complicated programs in the world, so that's probably not very helpful. ^_^

[17:01:04.0249] <TabAtkins>
If you just want to know what CSS the browsers use to display the existing elements by default, search for "user agent style sheet" - the browsers use their own CSS file for this, and there are several blog articles examining them.

[01:32:13.0304] <hacknorris>
> <@tabatkins:matrix.org> If you want to control how *other* elements are displayed, you're limited to what CSS can do. The *specifics* of all that are in the browser code. Most browsers are open-sourse, so in theory you can read their code, but they're some of the biggest, most complicated programs in the world, so that's probably not very helpful. ^_^

once i had idea to make my own webview though...

[01:43:26.0003] <hacknorris>
||cause my mobile have broken one lol||

[01:46:57.0687] <hacknorris>
> <@tabatkins:matrix.org> Yeah, the Speech spec is vaporware, nothing uses it.

does this speech work in firefox? just asking...


2022-09-18
[02:36:37.0463] <hacknorris>
my feature request for html - <vr> tag (vertical rule), why doesnt it exist yet ? o.O

[06:29:02.0053] <Andreu Botella>
is it supposed to fill some semantic role? Because I'm pretty sure if you're writing vertical text (i.e. Chinese, Japanese, Mongolian with CSS `writing-mode: vertical-rl`) you can use `<hr>` and it will render vertical by default

[06:29:23.0610] <Andreu Botella>
 * is it supposed to fill some semantic role? Because I'm pretty sure if you're writing vertical text (i.e. Chinese, Japanese, Mongolian with CSS `writing-mode: vertical-rl`) you can use `<hr>` and it will render vertical by default

[06:29:56.0706] <hacknorris>
i meant - visible separator, like sections in office...

[06:30:21.0024] <Andreu Botella>
why not use `<section>`?

[06:30:37.0494] <hacknorris>
VISIBLE

[06:30:41.0089] <hacknorris>
a11y?

[06:33:32.0629] <Andreu Botella>
maybe `<section role="section">`?

[06:33:42.0606] <Andreu Botella>
and add a border or something with CSS

[06:33:52.0591] <hacknorris>
CSS, EXACTLY

[06:34:00.0429] <hacknorris>
hr doesnt need css

[06:34:22.0343] <Andreu Botella>
https://html.spec.whatwg.org/multipage/rendering.html#the-hr-element-2

[06:34:48.0268] <Andreu Botella>
is there any reason you don't want to use CSS?

[06:35:06.0918] <hacknorris>
i meant for standard, not use

[06:35:26.0638] <hacknorris>
i know in whih room i talk, yes?

[06:36:14.0069] <Andreu Botella>
new HTML elements are supposed to fulfill some semantic role not otherwise available

[06:36:23.0853] <Andreu Botella>
`<section>` seems to fulfill that semantic role, right?

[06:36:43.0710] <hacknorris>
but its still ot vertical

[06:36:45.0887] <Andreu Botella>
anything else can be done by developers with ARIA, CSS and maybe some JS

[06:37:16.0482] <Andreu Botella>
if it's a significant pain point for developers, it can be considered to add it into a standard

[06:37:17.0935] <hacknorris>
what about my other idea - embedding 3d art ?

[06:37:18.0336] <Andreu Botella>
but is it?

[06:37:33.0992] <hacknorris>
> <@hacknorris:mstdn.social> what about my other idea - ebedding 3d art ?

‚Üë‚Üë‚Üë

[06:37:40.0452] <hacknorris>
> <@abotella:igalia.com> anything else can be done by developers with ARIA, CSS and maybe some JS

 * what about my other idea - embedding 3d art ?

[06:38:23.0905] <Andreu Botella>
can that not be achieved with canvas?

[06:38:43.0936] <hacknorris>
yes but actually this IS  a pain for devs...

[06:38:59.0207] <hacknorris>
> <@abotella:igalia.com> can that not be achieved with canvas?

even with css but as i said - pain for dev

[06:39:49.0186] <Andreu Botella>
even with JS libraries that build on top of webGL or webGPU?

[06:40:02.0624] <Andreu Botella>
I don't know that much about 3D content, sorry

[06:40:08.0674] <hacknorris>
obj files

[06:40:34.0667] <hacknorris>
smh svg have its own html tag but 3d art doesnt have ?

[06:41:40.0120] <Andreu Botella>
SVG goes back to the 90s and I think including it into HTML syntax comes back to the legacy of XHTML

[06:41:46.0525] <Andreu Botella>
or something like that

[06:41:59.0318] <Andreu Botella>
that's not to say that something like that would not be accepted today

[06:42:00.0756] <hacknorris>
moment

[06:47:34.0747] <Andreu Botella>
does anyone know if WPT has tests for `<br>` and `<wbr>`?

[06:48:36.0285] <Andreu Botella>
I mean, I'm sure `<br>` has to be used in a bunch of the text tests, but I'm wondering if any test that, say, `all: initial` on a br still triggers a forced line break, which does seem to be interoperable across browsers

[06:50:12.0175] <Andreu Botella>
the talk about elements being special-cased by the layout engine rather than having a CSS-based rendering made me think of that

[06:50:22.0860] <Andreu Botella>
 * the talk about elements being special-cased by the layout engine rather than having a CSS-based rendering made me think of that

[06:50:44.0319] <hacknorris>
like there is vertical and horizontal tab

[06:50:57.0649] <hacknorris>
why there is no vertical and horizontal rule ?

[06:51:35.0478] <Andreu Botella>
you mean the Unicode / ASCII characters for vertical and horizontal tab?

[06:51:59.0461] <Andreu Botella>
why are those relevant to HTML elements?

[06:52:54.0105] <hacknorris>
if there is hirizontal should be also vertical

[06:52:59.0226] <hacknorris>
*horizontal

[06:53:39.0592] <Andreu Botella>
"hr" historically means "horizontal rule", but the semantics of that element are now defined in terms of section breaks

[06:53:50.0757] <Andreu Botella>
you can style it as a more bookish section break

[06:54:02.0013] <Andreu Botella>
and in vertical writing modes (for vertical writing systems), it renders vertical by default

[06:54:31.0572] <Andreu Botella>
 * and in vertical writing modes (for vertical writing systems), it renders vertical by default

[06:54:51.0312] <Andreu Botella>
 * "hr" historically means "horizontal rule", but the semantics of that element are now defined in terms of section breaks

[07:03:58.0463] <Andreu Botella>
https://people.igalia.com/abotella/pub/vertical-hr.html

[07:04:33.0826] <hacknorris>
what if someone writes from left to right ?

[07:05:57.0190] <Andreu Botella>
for left-to-right top-to-bottom writing systems like the Latin alphabet, the regular `display: block` paragraph flow goes from top to bottom, so where would you put a vertical rule?

[07:06:33.0545] <hacknorris>
to make it like in office sections? x fields to write text in ?

[07:10:14.0244] <Andreu Botella>
the only thing I seem to be getting when I search for "office sections" is page breaks: https://support.microsoft.com/en-us/office/insert-a-section-break-eef20fd8-e38c-4ba6-a027-e503bdf8375c

[07:10:34.0449] <Andreu Botella>
 * the only thing I seem to be getting when I search for "office sections" is page breaks: https://support.microsoft.com/en-us/office/insert-a-section-break-eef20fd8-e38c-4ba6-a027-e503bdf8375c


2022-09-19
[23:33:49.0592] <hacknorris>
Like that but vertical. Splitting dom into x parts vertically

[23:36:44.0419] <hacknorris>
Visually too

[23:43:11.0158] <hacknorris>
Im forking xhtml anyways...

[05:07:05.0999] <hsivonen>
> <@domfarolino:matrix.org> hsivonen: Well it would only equal `about:blank` after the navigation is complete/loaded, right? And that's async, as per what I'm observing.

It's possible that the key thing is the time when `window.location` updates: start of parse vs. end of parse.


2022-09-20
[23:16:19.0461] <smaug>
Domenic: curious, how are you reviewing the session history rewrite, I mean using what kinds of tools?

[01:17:55.0656] <hsivonen>
I found another Chromium-originating WPT that assumes that on non-initial about:blank, `location.href == "about:blank"` implies that the `about:blank` DOM has been built. Still no idea if this is a thing test authors assume or a thing that Web authors also assume.

[01:18:28.0248] <hsivonen>
 * I found another Chromium-originating WPT that assumes that on non-initial about:blank, `location.href == "about:blank"` implies that the `about:blank` DOM has been built. Still no idea if this is a thing test authors assume or a thing that Web authors also assume.

[01:18:56.0022] <hsivonen>
> <@hsivonen:mozilla.org> I found another Chromium-originating WPT that assumes that on non-initial about:blank, `location.href == "about:blank"` implies that the `about:blank` DOM has been built. Still no idea if this is a thing test authors assume or a thing that Web authors also assume.

https://github.com/web-platform-tests/wpt/blob/master/content-security-policy/inheritance/window-open-local-after-network-scheme.sub.html

[01:21:44.0509] <hsivonen>
> <@hsivonen:mozilla.org> https://github.com/web-platform-tests/wpt/blob/master/content-security-policy/inheritance/window-open-local-after-network-scheme.sub.html

The spec sure reads to me like the URL of the `Location` object should update when a new `Document` is created by the parse as opposed to being deferred to the end of the parse: https://html.spec.whatwg.org/#concept-location-url

[01:42:17.0732] <hsivonen>
Hmm. Chromium seems to force synchronous HTML parsing for `javascript:` URLs. Is there a justification for that? (Gecko doesn't do that.)

[01:49:56.0394] <hsivonen>
I suspect Chromium's implementation of how about:blank URLs result in a (zero-length) stream of data might have the side effect of the HTML tokenizer getting pumped to EOF in the same task that creates the `Document` object. Is that the case, Yoav Weiss ?

[01:51:40.0917] <hsivonen>
My current patch removes the remains of the Netscape-era HTML parser that we were using for `about:blank` only, but it looks a lot like I might have to re-introduce an `about:blank`-specific parser or parse mode for non-initial `about:blank` if Web sites assume what Chromium-originating WPTs assume. :-(

[01:55:35.0194] <hsivonen>
Are extensions in Chromium allowed to cause an asynchronicity point in HTML tree building of a from-stream-parsed document? That is, do the WPT assumption of non-initial `about:blank` element nodes getting created in the same task as the document hold if Chromium instances that have arbitrary extensions installed?

[02:02:41.0194] <hsivonen>
I guess I'm going to implement a special `about:blank` mode for the main HTML parser in Gecko and see what happens with WPTs. I think this is sad.

[03:08:55.0170] <Domenic>
> <@smaug:mozilla.org> Domenic: curious, how are you reviewing the session history rewrite, I mean using what kinds of tools?

html-build and git, I guess?

[03:12:50.0152] <smaug>
Just wondering if there is something good for such a massive patch 

[05:27:02.0650] <hsivonen>
> <@hsivonen:mozilla.org> I guess I'm going to implement a special `about:blank` mode for the main HTML parser in Gecko and see what happens with WPTs. I think this is sad.

Filed as https://github.com/whatwg/html/issues/8299

[05:28:17.0031] <hsivonen>
(Hmm. Somehow, GitHub didn't offer me the issue template for that one.)

[07:13:36.0555] <annevk>
We only have a template for PRs.

[08:50:38.0319] <hsivonen>
Jake Archibald: What are the navigation behaviors that are interoperable but "too wrong to put in the spec"?

[08:51:07.0996] <hacknorris>
i would want too

[08:53:58.0826] <Jake Archibald>
hsivonen: https://github.com/whatwg/html/issues/8273 is one. Also this one https://youtu.be/W6lvQvdeF8U?t=793, although we fixed that in Chrome

[09:04:18.0254] <hsivonen>
> <@jakea:matrix.org> hsivonen: https://github.com/whatwg/html/issues/8273 is one. Also this one https://youtu.be/W6lvQvdeF8U?t=793, although we fixed that in Chrome

Thanks

[13:18:39.0779] <jgraham>
So WebDriver-BiDi wants to inject some scripts that run before any other script on the page (maybe before any DOM is constructed? That would be more deterministic, but maybe unnecessary if it's hard). I'm not sure quite where the right place to execute those scripts is in terms of the HTML spec. Can I do it right after the environment settings object for the new Window is created (i.e. after 6.9 in https://html.spec.whatwg.org/#initialise-the-document-object) or should I be looking elsewhere?


2022-09-21
[23:52:27.0383] <annevk>
jgraham: in theory that sounds kinda reasonable

[23:56:19.0738] <hacknorris>
Same as 3d art html tag

[01:42:20.0910] <hacknorris>
For .obj files 

[01:42:21.0593] <hacknorris>
Ofc

[01:44:21.0894] <hacknorris>
Like <3d src="file.obj" texture="file.png"> (text if browser doesnt support) </3d>

[01:45:01.0993] <hacknorris>
* Like <3d src="file.obj" texture="file.png"> (text if browser doesnt support) </3d>

[01:45:46.0751] <hacknorris>
Flash dead so better 

[01:51:20.0647] <zcorpan>
> <@abotella:igalia.com> does anyone know if WPT has tests for `<br>` and `<wbr>`?

see https://github.com/whatwg/html/issues/2291 and back references listed there, looks like at least a couple of relevant tests (but the tests might be wrong)

[01:53:01.0738] <zcorpan>
hacknorris: https://github.com/immersive-web/model-element/blob/main/explainer.md might be of interest

[02:05:27.0405] <hacknorris>
üëÄ whut?

[02:53:51.0277] <annevk>
TabAtkins: if you could look at https://github.com/whatwg/webidl/issues/1195 with some urgency that would be appreciated (only working hours though!)

[06:47:49.0064] <hsivonen>
It looks like the spec, Blink, and WebKit think that `window.stop()` should prevent `DOMContentLoaded` from firing. Gecko fires it. I can find only on WPT that tests this and that expect the Gecko behavior. Am I missing something or have I found a basic interop issue that has remarkably little spec-based WPT coverage?

[07:41:22.0918] <annevk>
hsivonen: it would not surprise me if that was from the Hixie era

[07:43:24.0903] <annevk>
It does look somewhat nicely factored, so it might have gotten updated without all corner cases being tested (and in particular how it interacts with the parser might well have been overlooked)

[07:48:49.0527] <annevk>
hsivonen: https://github.com/whatwg/html/commit/f67b46d376b2bbd61096130293c675c9c75cd0b7 is the only recent change I can find, everything else seems to point to 2010-2013, but I didn't do blame analysis, just git log --grep

[07:52:27.0767] <hsivonen>
> <@annevk:matrix.org> hsivonen: https://github.com/whatwg/html/commit/f67b46d376b2bbd61096130293c675c9c75cd0b7 is the only recent change I can find, everything else seems to point to 2010-2013, but I didn't do blame analysis, just git log --grep

Thanks.


2022-09-22
[18:55:22.0330] <jugglinmike>
TabAtkins: To test support for specific counter-style names of CSS's `list-style-type` property, I'm thinking that you'd need a visual reference test (since it's supposed to use "decimal" without computing to "decimal" for unrecognized values https://w3c.github.io/csswg-drafts/css-counter-styles-3/#typedef-counter-style). Does that sound right to you?

[21:36:48.0025] <TabAtkins>
Yeah, likely. The various built-ins aren't different enough in width to be reliable detectable that way.

[00:22:32.0543] <hacknorris>
Idk if its correct place but someone knows any holes in sms protocol? Dm me cause yk...

[00:24:26.0048] <hacknorris>
Best would be rce i think...

[09:29:20.0470] <jugglinmike>
> <@tabatkins:matrix.org> Yeah, likely. The various built-ins aren't different enough in width to be reliable detectable that way.

Thanks!

[10:37:30.0154] <Andreu Botella>
annevk: isn't there a "with" missing in https://github.com/whatwg/html/pull/8309 ?

[10:40:36.0914] <annevk>
Andreu Botella: ouch, I'll PR

[10:42:13.0624] <hacknorris>
can i here ask normal coding question or is it too much offtopic ?

[10:44:46.0781] <annevk>
hacknorris: that's fine, you might not always get a reply though :-)

[10:44:53.0977] <hacknorris>
ok, about css

[10:45:02.0239] <hacknorris>
cause i make a website

[10:45:03.0681] <annevk>
Andreu Botella: https://github.com/whatwg/html/pull/8311

[10:45:40.0628] <hacknorris>
and i have image slideshow with 6 pics of cats. but after once its displayed only part stays looped

[10:46:48.0537] <hacknorris>
here is page on my local server : http://89.76.123.229:8000/dumm.html

[10:47:09.0505] <hacknorris>
if ya delete /dumm.html you get ftp server with source of everything hosted

[10:47:28.0433] <hacknorris>
or alt+shift+s or how it goes

[10:47:31.0603] <hacknorris>
 * or alt+shift+s or how it goes

[10:49:34.0354] <hacknorris>
any ideas to properly loooop?

[10:49:45.0568] <hacknorris>
without later-missing images?

[10:59:00.0418] <hacknorris>
like all 6 appears normally, first loop ends, then one appears normally, then one for millisecond and repeat 3 times from (then one appears), then repeat previous things (from then one appears) infinite

[10:59:56.0356] <hacknorris>
 * like all 6 appears normally, first loop ends, then one appears normally, then one for millisecond and repeat 3 times from (then one appears), then repeat previous things (from then one appears) infinite

[11:00:29.0262] <hacknorris>
moment

[11:00:44.0073] <hacknorris>
i'll draw sheme of this bug

[11:02:26.0111] <hacknorris>
*or code

[11:04:16.0774] <hacknorris>
```
draw.picture.1();
draw.picture.2();
draw.picture.3();
draw.picture.4();
draw.picture.5();
draw.picture.6();
while (1) {
draw.picture.1();
draw.picture.2();
draw.picture.3();
draw.picture.4();
};
```

[11:04:37.0833] <hacknorris>
like this above. code of page you need to scroll more to top ;p

[11:04:57.0374] <hacknorris>
http://89.76.123.229:8000/dumm.html this and view source

[11:05:08.0722] <hacknorris>
 * like this above. code of page below

[11:05:22.0282] <hacknorris>
someone ?

[11:24:09.0248] <hacknorris>
hmm?

[12:56:04.0711] <TabAtkins>
annevk: hacknorris is asking for help with illegal activity; go ahead and ban them (I've reported their account)

[13:11:24.0443] <jugglinmike>
TabAtkins: What about using something like `<ol start="1234567890">` ? How confident would you be that any arbitrary counter-style would render at a different width from decimal for a large number like that?

[13:15:39.0533] <TabAtkins>
hmmmm, actually not sure.

[13:17:27.0651] <TabAtkins>
jugglinmike: One issue is that not all query styles are defined out to that value (roman, hebrew, etc)

[13:18:03.0756] <jugglinmike>
Ah, good point

[13:19:13.0022] <jugglinmike>
I have a reliable test using @counter-style, but that's of limited use since Safari hasn't implemented @counter-style yet

[13:23:57.0580] <jugglinmike>
But actually, if it's the implementation of @counter-style that causes `CSS.supports` to return `true` for all values, then maybe I can just combine those heuristics in one test


2022-09-23
[22:04:44.0093] <sideshowbarker>
Looking at https://github.com/mdn/content/pull/21001

[22:05:51.0225] <sideshowbarker>
As far as I understand, an `error` event isn‚Äôt cancelable unless it‚Äôs initialized/fired with its `cancelable` attribute explicitly set to true.

[22:10:38.0778] <hacknorris>
> <@tabatkins:matrix.org> annevk: hacknorris is asking for help with illegal activity; go ahead and ban them (I've reported their account)

And just because of an asshole i need to leave programming forever...

[22:15:08.0695] <hacknorris>
* And just because of an asshole with 6 hour network delay i need to leave programming forever...

[22:26:21.0970] <sideshowbarker>
About the `error` event, see the change in that PR, in particular this part:
https://pr21001.content.dev.mdn.mozit.cloud/en-US/docs/Web/API/Window/error_event#usage_notes
> Unlike other events, the `error` event is canceled by returning `true` from the handler instead of returning `false`. When canceled, the error won't appear in the console, but the current script will still stop executing.

Is that behavior defined in the spec somewhere? And is that different from the event being ‚Äúcancelable‚Äù?

[22:28:45.0716] <sideshowbarker>
ah, in https://html.spec.whatwg.org/multipage/webappapis.html#runtime-script-errors I guess

[00:42:19.0078] <Yoav Weiss>
hsivonen: just saw your question from Tuesday.. :/ mfreed would likely know

[00:47:32.0510] <hsivonen>
> <@yoavweiss:matrix.org> hsivonen: just saw your question from Tuesday.. :/ mfreed would likely know

I'm assuming that non-initial about:blank being interoperably unlike http URLs in its DOM construction means that it's too risky to make it behave like http URLs in relation to the event loop.

[00:48:40.0568] <hacknorris>
Btw. Today already someone knows answer to this my yesterday question about css?

[01:09:32.0859] <freddy>
hacknorris: I believe you are in the wrong room.

[01:11:21.0274] <hacknorris>
Means?

[01:15:02.0297] <hacknorris>
annevk: clearly said i can ask about css...

[01:20:31.0328] <annevk>
I had overlooked that earlier message... Thanks for calling it out TabAtkins

[02:06:21.0191] <annevk>
For the first time in five years or so the SG repository has no outstanding PRs! (Not a challenge.)

[07:57:46.0551] <Sgeo>
What is the purpose of the x-user-defined encoding? I'm curious if it's in the spec only because it used to be used as a way to download binary files ( https://stackoverflow.com/questions/6986789/why-are-some-bytes-prefixed-with-0xf7-when-using-charset-x-user-defined-with-xm ) ( https://web.archive.org/web/20070612091315/http://mgran.blogspot.com/ ). 

[07:59:59.0159] <Ms2ger üíâüíâ>
hysterical raisins

[08:04:17.0716] <Sgeo>
"Return a code point whose value is 0xF780 + byte ‚àí 0x80.".... is there a reason it doesn't just say 0xF700 + byte?

[08:24:34.0589] <annevk>
Sgeo: the idea is to make it clear the code point will start at 0xF780 as byte will be at least 0x80

[08:26:51.0258] <annevk>
evilpie: FYI, it seems you did make a push on August 8 for https://github.com/whatwg/fetch/pull/1463 but it did not include the fix for using the wrong field on request


2022-09-24
[22:36:14.0595] <sideshowbarker>
About the `SpeechRecognition` (`webkitSpeechRecognition`) part of the Web Speech API: As far as I can tell, there‚Äôs no way to programatically determine what languages the browser recognizes/supports for speech input/recognition?

In comparison, for the TTS part of the API, I know I can do `window.speechSynthesis.getVoices()` to get an array of the supported voices/languages ‚Äî but there‚Äôs no similar method or property for `SpeechRecognition`.

But I wonder if there might be some browser-specific ways to get the supported languages back from Chrome and Safari.

[22:39:52.0446] <sideshowbarker>
I‚Äôm also wondering exactly how the speech recognition part of the API works in Chrome and Safari. I‚Äôve gleaned that in Chrome it seems to rely on the browser calling out to some remote Google speech-recognition service. But in the Safari case it seems to be using some built-in macOS speech-recognition platform feature. But‚Ä¶ what exactly?

And does Edge rely on the same remote Google speech-recognition service that Chrome does?

[22:40:36.0465] <sideshowbarker>
Asking in the context of trying to provide some better documentation in MDN about how `SpeechRecognition` actually works.

[22:40:58.0265] <sideshowbarker>
 * About the `SpeechRecognition` (`webkitSpeechRecognition`) part of the Web Speech API: As far as I can tell, there‚Äôs no way to programatically determine what languages the browser recognizes/supports for speech input/recognition, right?

In comparison, for the TTS part of the API, I know I can do `window.speechSynthesis.getVoices()` to get an array of the supported voices/languages ‚Äî but there‚Äôs no similar method or property for `SpeechRecognition`.

But I wonder if there might be some browser-specific ways to get the supported languages back from Chrome and Safari.

[01:04:16.0623] <annevk>
For a while "good first issue" yielded mostly good results, but now it just seems like an endless stream of requests for getting assigned to an issue. Maybe we should go back to a different label (e.g., "beginner") and just outline some instructions for beginners in the README (or through a pointer from there)?

[01:05:36.0903] <annevk>
I suppose we could try to outline some clearer instructions first, but I've the feeling the label contributes due to dedicated GitHub support.

[02:23:22.0856] <sideshowbarker>
Help/comments welcome at https://github.com/mdn/content/issues/20730

The OP asserts _‚Äú`preventDefault()` doesn't work in Chrome‚Äù_ and objects to MDN marking the `returnValue` property of `Event` as deprecated ‚Äúdespite it being the only working feature across all browsers‚Äù.

[03:42:29.0736] <Domenic>
> <@sideshowbarker:matrix.org> Help/comments welcome at https://github.com/mdn/content/issues/20730
> 
> The OP asserts _‚Äú`preventDefault()` doesn't work in Chrome‚Äù_ and objects to MDN marking the `returnValue` property of `Event` as deprecated ‚Äúdespite it being the only working feature across all browsers‚Äù.

Seems just... wrong? Ask them to provide proof.

[04:03:53.0784] <sideshowbarker>
> <@domenicdenicola:matrix.org> Seems just... wrong? Ask them to provide proof.

Yeah I guess I should do that, but I'm reluctant to engage with the OP at all, since this seems like a type where there's no possible resolution for their issue that they're going to end up being satisfied with

[04:09:13.0207] <Domenic>
Yeah that's fair

[04:09:26.0254] <Domenic>
I mean there's a slight chance they'll test it, realize they're wrong, and be graceful about it.

[05:06:16.0345] <annevk>
Oh Element (Matrix?) both has a "reply" and a "reply in thread (beta)" feature. Why aren't these one feature.

[05:06:34.0843] <annevk>
 * Oh Element (Matrix?) both has a "reply" and a "reply in thread (beta)" feature. Why aren't these one feature.

