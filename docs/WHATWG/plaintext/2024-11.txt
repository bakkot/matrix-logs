2024-11-01
[07:52:48.0378] <smaug>
Anyone understands what "If these attributes are omitted from an element, then the language of this element is the same as the language of its parent element, if any (except for slot elements in a shadow tree)." in the spec means? slot elements are somehow special cased, but it doesn't explain how?


2024-11-03
[23:57:48.0609] <annevk>
That language is not for implementers. Maybe it got out of sync with the implementer requirements?

[23:58:10.0042] <annevk>
As for `moveBefore()` and focus, I thought we decided not to do that? Did something change?

[02:21:13.0457] <Noam Rosenthal>
> <@annevk:matrix.org> As for `moveBefore()` and focus, I thought we decided not to do that? Did something change?

Ryosuke brought this up originally and it was left open, I suggested an additional alternative here that I think satisfies all the cases.


2024-11-04
[00:42:24.0190] <annevk>
Domenic: FYI: https://github.com/whatwg/dom/issues/1321

[00:43:46.0096] <annevk>
Noam Rosenthal: I don't get the impression he feels strongly about it. One point that was raised is that `moveBefore()` won't be state-preserving for accessibility as layout will be impacted.

[00:48:02.0681] <Noam Rosenthal>
> <@annevk:matrix.org> Noam Rosenthal: I don't get the impression he feels strongly about it. One point that was raised is that `moveBefore()` won't be state-preserving for accessibility as layout will be impacted.

I don’t exactly understand the a11y thing. Changing style can affect layout regardless of DOM structure changes

[00:48:53.0136] <Noam Rosenthal>
Re firing the events - sounds good, let’s start without like we said at WHATNOT and we can revise based on community feedback.

[04:40:15.0563] <Andreas Kling>
Anyone with HTML parsing know-how able to tell me if I'm missing something here or if this template/foreignObject interaction indeed leads to bugs? :) https://github.com/whatwg/html/issues/10739

[04:51:39.0438] <freddy>
Question about fetch metadata. It appears that all of the cases where page1.example is a) redirecting to page2.example, b) opening page2.example in a popup, c) navigating to page2.example - They are all done with Fetch Metadata of {sec-fetch-dest: document, sec-fetch-mode: navigate, sec-fetch-site: cross-site}. I wonder if it would be useful to have different or additional metadata for popups as they will include an opener reference (which the other cases don't). -- I am already fully aware that COOP exists which can control the popup case (but not make the browser tell beforehand)

[04:58:58.0011] <annevk>
Noam Rosenthal: well, in that we preserve state in the DOM tree, but for the a11y tree it'll be the same as remove/insert.

[05:00:39.0169] <annevk>
freddy: there's a popup proposal in the Fetch Metadata repo, been there since forever

[05:00:54.0139] <annevk>
Andreas Kling: I'll have a look, but your best bet would be hsivonen or zcorpan I suspect

[05:01:57.0471] <freddy>
annevk: great minds think alike, huh

[05:04:55.0086] <hsivonen>
Andreas Kling: Likely a spec bug

[05:05:26.0991] <Noam Rosenthal>
> <@annevk:matrix.org> Noam Rosenthal: well, in that we preserve state in the DOM tree, but for the a11y tree it'll be the same as remove/insert.

Right. 

[05:09:15.0841] <annevk>
Andreas Kling: given that it checks for a template element on the stack of open elements, I'm inclined to think that's inclusive of a namespace and therefore it wouldn't find any element

[05:09:52.0982] <annevk>
Andreas Kling: as whenever the HTML specification talks about elements that's about a particular identity derived from local name and namespace

[05:10:13.0476] <annevk>
hsivonen: ^^

[05:11:16.0882] <hsivonen>
annevk: I recall there having been a bug on this theme previously. (Part of how the combination of the introduction of SVG on one hand and template on the other resulted in a bunch of bugs.)

[05:11:46.0413] <hsivonen>
annevk: But it's indeed possible that the spec language is defined in a way that implies the HTML namespace on the stack.

