2023-07-02
[20:38:28.0197] <Motheo Moitsheki>
Brandon Sheley: 


2023-07-04
[21:35:01.0284] <Domenic>
Alexander Kalenik: Did you have a chance to look at https://github.com/whatwg/html/issues/9148#issuecomment-1610989949 ? I would love to get your implementer experience-informed opinion, before I go making changes.

[00:50:27.0386] <zcorpan>
Domenic: do you know which sites would benefit from `origin-agent-cluster` (regardless of its default value)?

[00:52:54.0686] <Domenic>
> <@zcorpan:mozilla.org> Domenic: do you know which sites would benefit from `origin-agent-cluster` (regardless of its default value)?

Google Workspace uses it heavily to hint for process isolation among its many same-site cross-origin pages.

[00:55:13.0022] <zcorpan>
Domenic: ok. Do you know if there's interest from non-Google properties?

[00:57:26.0556] <Domenic>
I haven't been in touch with any. Unfortunately it looks like it's not used on the sites HTTP archive picks up, but it's used by ~0.5% of page views. https://chromestatus.com/metrics/feature/timeline/popularity/3286

[00:58:11.0644] <zcorpan>
Domenic: ok, thanks!

[01:31:09.0873] <zcorpan>
Domenic: I see 39 sites in httparchive using resources with OAC: ?1

[01:36:27.0782] <Domenic>
Oh nice!

[01:54:37.0938] <zcorpan>
Domenic: https://docs.google.com/spreadsheets/d/1WNmB2zpx8BAf8bkBOeL-gVeHghR02sXW2Jzea6t2vpE/edit?usp=sharing

[01:55:20.0226] <Domenic>
Well, that is kind of suspicious

[01:55:58.0679] <Domenic>
It got into some white-label Brazilian photo-printing site I guess?

[01:56:30.0983] <zcorpan>
oh wait, I made a mistake. They're actually using `Origin-Agent-Cluster: 1`

[02:03:47.0789] <zcorpan>
Domenic: 6406 pages use `?1` https://docs.google.com/spreadsheets/d/11-6EKWZaQdpvOe8L1nxHW3wWtTnwDy1GhNYDJCcVY-0/edit?usp=sharing

[02:05:15.0174] <zcorpan>
Curious that the use counter doesn't find these in httparchive

[02:06:31.0901] <Domenic>
I think maybe I renamed the use counter at one point. I wonder if that broke it.

[02:06:48.0338] <Domenic>
Ah wow that is a nice list.


2023-07-05
[23:14:26.0242] <sideshowbarker>
Domenic: I want to raise an issue for adding `VideoPlaybackQuality` and `getVideoPlaybackQuality()` to HTML. I had thought we had an issue template of some kind with a checklist (e.g., including the _“no implementers object”_ language — but right now, I can’t find any such template.

And maybe I’m confusing it with the browser-project “Intent to implement/ship” messages I’ve seen that do have such checklists?

[23:15:52.0292] <sideshowbarker>
 * Domenic: I want to raise an issue for adding `VideoPlaybackQuality` and `getVideoPlaybackQuality()` to HTML. I had thought we had an issue template of some kind with a checklist (e.g., including the _“no implementers object”_ language) — but right now, I can’t find any such template.

And maybe I’m confusing it with the browser-project “Intent to implement/ship” messages I’ve seen that do have such checklists?

[23:21:47.0725] <sideshowbarker>
ah, nevermind — I realize now that I what I had been thinking of was of course the template for _PRs_


2023-07-06
[17:37:05.0283] <sideshowbarker>
Help wanted / Good first issue: For anybody interested in contributing to the HTML standard, https://github.com/whatwg/html/issues/1102 might be a good issue you could resolve, by writing a spec patch for it with a modest amount of effort — perhaps mostly by just porting over the existing `<input capture>` spec text from https://w3c.github.io/html-media-capture/


[02:01:36.0187] <vrafaeli>
I'm confused about why you cannot directly download the resource (file) on the local machine using JS, but you can do it with JS if you fetch the resource, construct the a element with the fetched resource as URL and then click it using JS?

[02:26:55.0782] <zcorpan>
Is there a spec issue about upstreaming https://wicg.github.io/document-policy/#integrations ?

[05:31:53.0649] <annevk>
zcorpan: I don't think there is one against HTML

[05:32:10.0718] <zcorpan>
annevk: ok

[05:57:34.0326] <annevk>
vrafaeli: example? I thought `<a download>.click()` would generally work. Seems weird if it performs a same-origin check ahead of time given redirects.

[06:18:31.0899] <annevk>
I initially thought https://github.com/whatwg/html/issues/9491 was about making `/>` conforming on all tags but also have it continue to be meaningless

[06:19:11.0958] <annevk>
So you can write `<div />yolo</div>`  and the HTML checker won't yell

[06:20:12.0335] <annevk>
Anyway, if we do a flag it should just be "XML5"

[06:20:40.0427] <annevk>
 * Anyway, if we do a flag it should just be "XML5" (and the flag is `text/xml`)

[06:45:53.0442] <vrafaeli>
> <@annevk:matrix.org> vrafaeli: example? I thought `<a download>.click()` would generally work. Seems weird if it performs a same-origin check ahead of time given redirects.

https://codesandbox.io/s/interesting-nightingale-vkpy9s?file=/src/index.js

I use a plugin to inject response header "content-disposition: attachment".


I was expecting that after the response has been received the browser would initialte a download to the local machine.

[06:46:47.0247] <vrafaeli>
but the download to local machine does not happen

[06:47:24.0110] <vrafaeli>
> <@annevk:matrix.org> vrafaeli: example? I thought `<a download>.click()` would generally work. Seems weird if it performs a same-origin check ahead of time given redirects.

 * https://codesandbox.io/s/interesting-nightingale-vkpy9s?file=/src/index.js

I use a Chrome plugin to inject response header "content-disposition: attachment".

I was expecting that after the response has been received the Chrome browser would initialte a download to the local machine.

[06:47:57.0211] <vrafaeli>
 * https://codesandbox.io/s/interesting-nightingale-vkpy9s?file=/src/index.js

I use a Chrome plugin to inject response header "content-disposition: attachment".

I was expecting that this would make the Chrome browser to do a download to the local machine.

[06:50:28.0748] <vrafaeli>
 * https://codesandbox.io/s/interesting-nightingale-vkpy9s?file=/src/index.js

I use a Chrome plugin to inject response header "content-disposition: attachment". (in my real case the server sets it)

I was expecting that this would make the Chrome browser to do a download to the local machine.

[11:14:09.0413] <TabAtkins>
Hm, is there a term I can reference for "frames that can be communicated with"? Basically just anything you can postMessage to?

[11:17:52.0867] <Jeremy Roman>
browsing context group?

[11:18:22.0678] <Jeremy Roman>
(though BroadcastChannel is an exception)

[11:18:51.0279] <TabAtkins>
(Context is "things that should be able to see an MQ change if it gets toggled by script", re: https://github.com/w3c/csswg-drafts/issues/6517)

[11:19:23.0758] <TabAtkins>
Because if you darkmode a site via an in-site toggle you'd like iframes to darkmode as well, ideally.

[12:41:41.0422] <zcorpan>
TabAtkins: you can postMessage() across origins. In the issue you say it shouldn't be visible to cross-origin iframes

[13:14:28.0268] <TabAtkins>
Basically I just don't want to invent a new security boundary. If you can already freely message a cross-domain frame, you should be able to affect their MQs.

[13:30:12.0475] <zcorpan>
TabAtkins: for popups you can communicate between opener and openee unless it was opened with `noopener`. For iframes I *think* you can always send a message (if embedding is allowed). When same-origin, you can communicate even if there's no reference to the window (with `BroadcastChannel` or `localStorage` or `document.cookie` or a shared worker)

[13:30:43.0752] <TabAtkins>
Right, all this detail is why I was asking if there's already a spec concept for communicating subframes.

[13:34:17.0414] <zcorpan>
TabAtkins: it's still not clear to me what you want

