2025-12-01
[17:45:23.0442] <sideshowbarker>
For https://html.spec.whatwg.org/multipage/interaction.html#attr-writingsuggestions can somebody remind me why the empty string is a conforming value for that ‚Äî¬†even though the table there only explicitly lists `true` and `false` as the allowed values?

[17:46:44.0304] <sideshowbarker>
And note that at https://html.spec.whatwg.org/multipage/indices.html#attributes-3:~:text=writingsuggestions the index of attributes is where the spec (though non-normatively there, I guess) states that the empty string is an allowed value.

[17:48:03.0230] <sideshowbarker>
‚Ä¶and similarly for, e.g., the `spellcheck` attribute, the index at https://html.spec.whatwg.org/multipage/indices.html#attributes-3:~:text=spellcheck also says the empty string is allowed for that.

[17:48:51.0957] <sideshowbarker>
And for `hidden` too https://html.spec.whatwg.org/multipage/indices.html#attributes-3:~:text=hidden,-HTML

[17:50:10.0920] <sideshowbarker>
But looking at the whole index, I guess it‚Äôs just those three which the index says are allowed to have the empty string as a value. `hidden`, `spellcheck`, and `writingsuggestions`

[17:52:02.0659] <sideshowbarker>
‚Ä¶whereas, in contrast, if you look at what the index says about other enumerated ‚Äî¬†such as `wrap` at https://html.spec.whatwg.org/multipage/indices.html#attributes-3:~:text=integer-,wrap ‚Äî¬†the index _does not_ say the empty string is allowed.

[17:53:34.0633] <sideshowbarker>
see `popover` at https://html.spec.whatwg.org/multipage/indices.html#attributes-3:~:text=popover,-HTML for another empty-string-not-allowed example

[17:58:53.0000] <sideshowbarker>
d‚Äôoh nevermind ‚Äî found the requirement at https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute:~:text=The%20empty%20string,-and

> For authoring conformance purposes, if an enumerated attribute is specified, the attribute's value must be one of:
>
> - An [ASCII case-insensitive](https://infra.spec.whatwg.org/#ascii-case-insensitive) match for one of the conforming keywords for that attribute, with no leading or trailing whitespace.
>
> - The empty string and the attribute must have an [empty value default](https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#empty-value-default) defined.

[18:00:29.0161] <sideshowbarker>
So, the index is wrong (or incomplete/imprecise) in the cases where, for any enumerated attributes, it doesn‚Äôt explicitly list the empty string as an allowed value.

[00:09:55.0672] <annevk>
sideshowbarker: r? https://github.com/whatwg/html/pull/11974

[00:10:37.0761] <sideshowbarker>
beautiful

[00:11:05.0268] <sideshowbarker>
but now you make me feel like I‚Äôm just a lazy complainer üòÜ

[00:11:11.0038] <sideshowbarker>
will review it right now

[00:12:39.0509] <annevk>
Nah all good. Luke and I changed this around a bit recently as part of making reflection more formal and this is something we missed.

[00:38:50.0684] <sideshowbarker>
annevk: You need to put on your glasses; seems like you missed a few: https://github.com/whatwg/html/pull/11974/commits/02f24ef01e1c3dd7f4fb53ec43b5e692a80050d4

[00:38:57.0813] <sideshowbarker>
oh wait

[00:39:21.0183] <sideshowbarker>
Had you outsourced that to copilot or something?

[00:52:03.0384] <annevk>
sideshowbarker: I don't really understand your commit. Why would the empty string be valid for `autocapitalize` for instance?

[00:52:39.0487] <annevk>
The attribute needs to define an "empty value default" for the empty string to be a valid value. I only added it for attributes that define that.

[00:55:29.0904] <sideshowbarker>
d‚Äôoh yeah I see now you‚Äôre right ‚Äî I hadn‚Äôt read the requirements at https://whatpr.org/html/11974/common-microsyntaxes.html#:~:text=The%20empty%20string%20and%20the%20attribute%20must%20have%20an%20empty%20value%20default%20defined. carefully enough

[00:55:56.0065] <sideshowbarker>
so yeah then, that additional commit I made can just be ignored

[00:59:46.0690] <annevk>
Okay, I'll revert it and the squash & merge.

[03:02:18.0975] <sideshowbarker>
annevk: By the way, not trying to butter you up, but I am (again) reminded that basically any time it seems to me like you made a mistake or oversight, it‚Äôs very significantly more likely (or close to certain) that it‚Äôs me who actually made the mistake.

[03:03:14.0522] <sideshowbarker>
You seem to make exceptionally few mistakes. We could probably add a ‚ÄúMistakes that Anne has made‚Äù page to the wiki, and not even come close to filling up the page.

[03:15:03.0920] <annevk>
Hah, well I made a fair number of mistakes with custom element registries recently and Domenic was pretty good at spotting errors in my PRs as well over the years. I do try to be precise and do my due diligence, but I'm certainly not infallible.

