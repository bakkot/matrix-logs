<!DOCTYPE html><html><head>
  <title>WHATWG on 2023-03-13</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2023-03-13<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2023-03-12" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Mar 13 2023 01:08:35 GMT-0700 (Pacific Daylight Time)">08:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-14">Sam Sneddon [:gsnedders]</span>: <span class="nick-6">jgraham</span> it’d be great if one of you could either give me owner access to the html5lib-tests repo, or else take a look at <a href="https://github.com/html5lib/html5lib-tests/pull/152">https://github.com/html5lib/html5lib-tests/pull/152</a> and figure out why the workflow isn’t running.</p>
<p>I suspect it may be because the repo has some setting that requires approvals for workflows in PRs before they can run.</p>
<p>Otherwise, I don’t know what would be preventing the workflow from running there.</p>
</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Mar 13 2023 03:44:25 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@gsnedders:mozilla.org">Sam Sneddon [:gsnedders]</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-1">Domenic</span>: yes I encountered these exact issues when I was chasing layout thrashing in wikipedia. e.g. <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1054515">https://bugs.chromium.org/p/chromium/issues/detail?id=1054515</a>. My opinion is that interop around mouse events is terrible. Perhaps this can go into interop2024?</blockquote></mx-reply>documenting all the cases where it's caused problems (like layout thrashing in Wikipedia) seems like it would both be a lot of effort <em>but</em> would probably make a much more compelling argument in favour of including it in Interop</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Mar 13 2023 03:49:47 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jgraham_:matrix.org">jgraham</span>&gt;</div></td><td class="msg-cell">Yeah, seems like it would be an investigation, right? Unless we already have a very clear idea of what the behaviour should be and the problem is just that people aren't implementing it right. I don't off the top of my head have loads of examples of it causing webcompat issues, but maybe if it's a perf footgun that would be enough of an argument.</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Mar 13 2023 04:07:55 GMT-0700 (Pacific Daylight Time)">11:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">Sam Sneddon [:gsnedders]</span>: the wikipedia case was documented here: <a href="https://techblog.wikimedia.org/2020/11/23/web-performance-case-study-wikipedia-page-previews/">https://techblog.wikimedia.org/2020/11/23/web-performance-case-study-wikipedia-page-previews/</a></td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Mar 13 2023 04:10:24 GMT-0700 (Pacific Daylight Time)">11:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">I think the spec is actually clear enough, but implementations do all kinds of funny stuff which created de-facto interop issues</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Mar 13 2023 04:12:13 GMT-0700 (Pacific Daylight Time)">11:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">e.g. offsetX/Y issues in chromium: (1) computed lazily instead of when the event comes - layout thrashing and inaccurate results. (2) computed from the nearest block element (ignores inline). Other implementations have other similar issues, it's kinda described in the aforementioned WPTs</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Mar 13 2023 05:05:53 GMT-0700 (Pacific Daylight Time)">12:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jakea:matrix.org">Jake Archibald</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span>: is there a spec definition for a user agent stylesheet that isn't html specific?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Mar 13 2023 05:06:53 GMT-0700 (Pacific Daylight Time)">12:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jakea:matrix.org">Jake Archibald</span>&gt;</div></td><td class="msg-cell">Context: we want view transitions to work in other document types, and we need somewhere to put the default styles. I could invent a "view transition user agent stylesheet".</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Mar 13 2023 05:44:03 GMT-0700 (Pacific Daylight Time)">12:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-12">annevk</span>: is there a spec definition for a user agent stylesheet that isn't html specific?</blockquote></mx-reply>Each spec defines their own. E.g. SVG's is at <a href="https://www.w3.org/TR/SVG2/styling.html#UAStyleSheet">https://www.w3.org/TR/SVG2/styling.html#UAStyleSheet</a> , MathML's is at <a href="https://w3c.github.io/mathml-core/#user-agent-stylesheet">https://w3c.github.io/mathml-core/#user-agent-stylesheet</a></td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Mar 13 2023 05:44:42 GMT-0700 (Pacific Daylight Time)">12:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jakea:matrix.org">Jake Archibald</span>&gt;</div></td><td class="msg-cell">Ahh cool, I'll do the same then</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Mon Mar 13 2023 05:44:44 GMT-0700 (Pacific Daylight Time)">12:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jakea:matrix.org">Jake Archibald</span>&gt;</div></td><td class="msg-cell">Cheers!</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Mon Mar 13 2023 05:53:45 GMT-0700 (Pacific Daylight Time)">12:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">By this, I hope you mean, will send a PR to each of them? Unless you are creating a new markup language, those should be the three canonical UA stylesheet specs on the web.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Mon Mar 13 2023 05:57:47 GMT-0700 (Pacific Daylight Time)">12:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jakea:matrix.org">Jake Archibald</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: oh, my plan was to create a global view transition UA stylesheet. Would that not be easier for implementers, rather than fragmenting the feature across multiple specs? As a middle ground, could the change to HTML/SVG/MathML say something like "Include the [=global view transition user agent stylesheet=]"?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Mon Mar 13 2023 05:59:07 GMT-0700 (Pacific Daylight Time)">12:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">Jake Archibald</span>: so, if something is applicable to all elements, then usually it isn't done via the UA style sheet. It's done via changing the relevant CSS infrastructure directly. E.g. there's no need to add <code>* { display: inline; }</code> to the UA stylesheet, because the initial value for <code>display</code> is <code>inline</code>.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Mon Mar 13 2023 06:00:25 GMT-0700 (Pacific Daylight Time)">13:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Or, e.g., if you want to change how something behaves on the root element (regardless of what type of root element), you'd use language like <a href="https://w3c.github.io/csswg-drafts/css-display/#root">https://w3c.github.io/csswg-drafts/css-display/#root</a></td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Mon Mar 13 2023 06:02:37 GMT-0700 (Pacific Daylight Time)">13:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jakea:matrix.org">Jake Archibald</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: In our case, we have default styles for pseudo-elements <a href="https://drafts.csswg.org/css-view-transitions-1/#ua-styles">https://drafts.csswg.org/css-view-transitions-1/#ua-styles</a>, but we also create dynamic styles in the UA stylesheet that are scoped to the document <a href="https://drafts.csswg.org/css-view-transitions-1/#ref-for-document-view-transition-style-sheet%E2%91%A3">https://drafts.csswg.org/css-view-transitions-1/#ref-for-document-view-transition-style-sheet%E2%91%A3</a>. I'm in the process of removing the HTML requirement here (eg replacing <code>html</code> with <code>:root</code>)</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Mon Mar 13 2023 06:06:30 GMT-0700 (Pacific Daylight Time)">13:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">It looks like there is no good precedent for this. Every other CSS spec has done the bad thing, and ambiguously monkeypatched "the UA stylesheet" (which one of the three?). Sometimes even as a recommendation instead of a requirement. <a href="https://drafts.csswg.org/css-pseudo-4/#highlight-ua-styles">https://drafts.csswg.org/css-pseudo-4/#highlight-ua-styles</a> <a href="https://w3c.github.io/csswg-drafts/css-lists-3/#marker-properties">https://w3c.github.io/csswg-drafts/css-lists-3/#marker-properties</a></td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Mon Mar 13 2023 06:09:34 GMT-0700 (Pacific Daylight Time)">13:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><p>I don't know what a good pattern would be, if CSS doesn't have the infrastructure to handle default styles on psuedo-elements without using something like a "UA stylesheet". Ideas:</p>
<ol>
<li>Someone (CSS? HTML?) defines a "global all-namespaces UA stylesheet".<br>2a. Each CSS spec monkeypatches that as it desires.<br>2b. Everyone sends PRs against that in a coordinated fashion.<br>2c. Everyone sends PRs adding "also include [this portion defined over here]".</li>
</ol>
</td></tr>

</tbody></table></div></div></div>
</body></html>