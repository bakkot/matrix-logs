<!DOCTYPE html><html><head>
  <title>WHATWG on 2024-03-18</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2024-03-18<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-03-17" class="nav-link"><span>prev</span></a>
<a href="2024-03-19" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Mar 18 2024 00:53:40 GMT-0700 (Pacific Daylight Time)">07:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">Hmm, navigator.userActivation is somehow specified in a completely different way from all other navigator members.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Mar 18 2024 04:20:31 GMT-0700 (Pacific Daylight Time)">11:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@csarven:matrix.org">csarven</span>&gt;</div></td><td class="msg-cell">Does/Can the <code data-md="`">type</code> attribute on the <code data-md="`">pre</code> element (similar to <a href="https://html.spec.whatwg.org/multipage/scripting.html#attr-script-type">https://html.spec.whatwg.org/multipage/scripting.html#attr-script-type</a> ) help express the type of the formatted text?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Mar 18 2024 04:33:06 GMT-0700 (Pacific Daylight Time)">11:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: <a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element">https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element</a> suggests using nested elements. (And I think there's a further suggestion to use the <code>class</code> attribute on <code>code</code> to denote a programming language.)</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Mar 18 2024 06:11:16 GMT-0700 (Pacific Daylight Time)">13:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@csarven:matrix.org">csarven</span>&gt;</div></td><td class="msg-cell">Thanks <a href="https://matrix.to/#/%40annevk%3Amatrix.org">@annevk</a> . I have noted the use of the <code data-md="`">class</code> attribute before but AFAIK, <code data-md="`">language-</code> is not a prefix for a prefined language as suffix.<br><br>Would <code data-md="`">&lt;pre type=</code> violate anything and/or not particularly meaningful for processing software? Its use would be similar to <code data-md="`">&lt;script type=</code> in that it indicates content corresponds to a MIME type. A <code data-md="`">class</code> value is relatively arbitrary compared to <code data-md="`">type</code> using a MIME type.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Mar 18 2024 06:26:32 GMT-0700 (Pacific Daylight Time)">13:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: since it's not a defined attribute for the <code>pre</code> element it would be non-conforming HTML and might clash with future extensions of HTML. Not recommended.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Mar 18 2024 06:27:08 GMT-0700 (Pacific Daylight Time)">13:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: also note that for <code>script</code> we have explicitly moved away from using MIME types for the <code>type</code> attribute.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Mar 18 2024 07:27:50 GMT-0700 (Pacific Daylight Time)">14:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@csarven:matrix.org">csarven</span>&gt;</div></td><td class="msg-cell">Nod "moved away from" but as I understand it, conforming values are not limiited to MIME types so far as that <i data-md="*">data blocks</i> are still allowed in the context of <code data-md="`">script</code>.<br><br>Is there a definition or advisement on using or error handling attributes that are not defined by a particular element? There are a couple of points in <a href="https://html.spec.whatwg.org/multipage/introduction.html#syntax-errors">https://html.spec.whatwg.org/multipage/introduction.html#syntax-errors</a> and <a href="https://html.spec.whatwg.org/multipage/introduction.html#restrictions-on-content-models-and-on-attribute-values">https://html.spec.whatwg.org/multipage/introduction.html#restrictions-on-content-models-and-on-attribute-values</a> but nothing specifically jumps out.<br><br>I ask because if use in the wild is one way for standardised adoption, how can authors know whether they can use something without violating the specification. I'm not trying to insist <code data-md="`">&lt;pre type</code> (although it makes sense to me) but trying to better understand the process. Thanks.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Mar 18 2024 07:50:32 GMT-0700 (Pacific Daylight Time)">14:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: a quick check is running your doc through <a href="https://validator.nu/">https://validator.nu/</a> / <a href="https://validator.w3.org/nu/">https://validator.w3.org/nu/</a></td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Mar 18 2024 07:51:18 GMT-0700 (Pacific Daylight Time)">14:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: less quick is to read the HTML standard and follow the conformance criteria that apply for documents</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Mar 18 2024 07:52:41 GMT-0700 (Pacific Daylight Time)">14:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: in this case <a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element">https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element</a> says<br>Content attributes:<br>Global attributes<br>which does not include <code>type</code></td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Mon Mar 18 2024 07:54:40 GMT-0700 (Pacific Daylight Time)">14:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: for user agents the requirement is to follow the defined processing per spec, regardless of what is allowed or not allowed for documents</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Mon Mar 18 2024 09:13:08 GMT-0700 (Pacific Daylight Time)">16:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@rovsen:matrix.org">AdÄ±l Babayev</span>&gt;</div></td><td class="msg-cell">Salam </td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Mon Mar 18 2024 09:40:12 GMT-0700 (Pacific Daylight Time)">16:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@csarven:matrix.org">csarven</span>&gt;</div></td><td class="msg-cell"><a href="https://matrix.to/#/%40zcorpan%3Amozilla.org">@zcorpan</a>  I have read the relevant parts of the spec but like I said what the intended error handling is not clear to me. I understand what the validator says and can observe what browsers do but that's it. Is there a processing instruction that says "when a processor encounter an unrecognised attribute, it must/advised to...". I understand it is 'non-conforming' on paper with respect to the spec.<br><br>That aside, any particular reason one should not propose having the <code data-md="`">type</code> attribute on the <code data-md="`">pre</code> element? If UAs are to follow the spec, then how do you get something into the spec? Just make the proposal? Show usage in the wild to support the proposal?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Mon Mar 18 2024 09:58:07 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@lwarlow:igalia.com">Luke Warlow</span>&gt;</div></td><td class="msg-cell">Got a question that I think this is probably the best place to ask.

WebKit and Chromium (haven't checked firefox) have this Element::finishParsingChildren() method that gets called from various places. I'm not able to find a corresponding place in the HTML spec for this behaviour though? Does one exist or is there a close aproximate step in the spec anyone knows? I understand it's generally not encouraged to be used but I think I have a legitimate need for it.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Mon Mar 18 2024 10:01:07 GMT-0700 (Pacific Daylight Time)">17:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-5">Luke Warlow</span>: it's when the parser does something for an end tag, such as <code>&lt;/script&gt;</code>. And unless there's a legacy thing, I really think we shouldn't be adding more of it.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Mon Mar 18 2024 10:03:05 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@lwarlow:igalia.com">Luke Warlow</span>&gt;</div></td><td class="msg-cell">I need some hook to know when a script finishes parsing to know to set an internal slot.

Though there's added complexity because you can change the contents mid-parse and that shouldn't be set to the slot. So maybe that shows there should be some other approach.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Mon Mar 18 2024 10:21:26 GMT-0700 (Pacific Daylight Time)">17:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: If the spec doesn't say to do something, UAs aren't expected to do something. i.e. ignore unknown attributes. Other specs can define some processing however.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Mon Mar 18 2024 10:22:32 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">csarven</span>: for the second question, see <a href="https://whatwg.org/faq#adding-new-features">https://whatwg.org/faq#adding-new-features</a></td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Mon Mar 18 2024 11:02:30 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-5">Luke Warlow</span>: for <code>script</code> it's no problem as it's already magic (if you search for "script" inclusive of quotes you'll find where it's handled)</td></tr>

</tbody></table></div></div></div>
</body></html>