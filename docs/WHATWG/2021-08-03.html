<!DOCTYPE html><html><head>
  <title>WHATWG on 2021-08-03</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2021-08-03<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-08-02" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/" class="current-room">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Aug 03 2021 06:21:32 GMT-0700 (Pacific Daylight Time)">13:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: <span class="nick-1">Domenic</span>: if you could look at <a href="https://github.com/whatwg/dom/pull/1004">https://github.com/whatwg/dom/pull/1004</a> at least up until line 2100 that'd be terrific</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Aug 03 2021 06:27:57 GMT-0700 (Pacific Daylight Time)">13:27</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell"><span class="nick-12">annevk</span>: will look now</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Aug 03 2021 07:53:25 GMT-0700 (Pacific Daylight Time)">14:53</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</td><td class="msg-cell">Thanks <span class="nick-16">sideshowbarker</span>. To be clear though, I was thinking of aligning more prose with this new model if it looks good. There's actually quite a lot of text is impacted.</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Aug 03 2021 07:54:00 GMT-0700 (Pacific Daylight Time)">14:54</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell"><span class="nick-12">annevk</span>: so you want suggestions on what else needs to be changed?</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Aug 03 2021 07:54:25 GMT-0700 (Pacific Daylight Time)">14:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: no, just if this direction looks good as a thing to expand upon; I can find the rest :-)</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Aug 03 2021 07:54:43 GMT-0700 (Pacific Daylight Time)">14:54</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">OK, I think in general it’s definitely an improvement</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Aug 03 2021 07:55:25 GMT-0700 (Pacific Daylight Time)">14:55</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">I am as usual more interested in the use case of web developers reading the spec than I am for implementors</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Aug 03 2021 07:56:25 GMT-0700 (Pacific Daylight Time)">14:56</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">as far as implementors, I get the impression that the existing spec works well overall for anybody implementing/writing code from it</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Aug 03 2021 07:56:33 GMT-0700 (Pacific Daylight Time)">14:56</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell"> * as far as implementors, I get the impression that the existing spec works well overall for anybody implementing/writing code from it</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Aug 03 2021 07:56:55 GMT-0700 (Pacific Daylight Time)">14:56</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">but I think it’s a lot harder for developers to learn from</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Aug 03 2021 07:57:07 GMT-0700 (Pacific Daylight Time)">14:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</td><td class="msg-cell">Apparently jsdom ran into issues with "is a Text node" not clearly including CDATASection nodes</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Aug 03 2021 07:57:14 GMT-0700 (Pacific Daylight Time)">14:57</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">aha</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Aug 03 2021 07:57:43 GMT-0700 (Pacific Daylight Time)">14:57</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">OK, yeah, I wondered who would actually be implementing these parts at this point</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Aug 03 2021 07:58:39 GMT-0700 (Pacific Daylight Time)">14:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</td><td class="msg-cell">You don't really want to say Text or CDATASection however as otherwise you also need to say Element or HTMLAnchorElement or ... It gets tricky quickly</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Aug 03 2021 07:59:09 GMT-0700 (Pacific Daylight Time)">14:59</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">yeah, I can see that</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Aug 03 2021 07:59:14 GMT-0700 (Pacific Daylight Time)">14:59</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</td><td class="msg-cell">Anyway, I hope that depending on CharacterData in a number of cases will make that more clear, as well as more clearly explaining what X node is.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Aug 03 2021 08:00:26 GMT-0700 (Pacific Daylight Time)">15:00</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">I have recently been looking at some of the lowe-level DOM-related content at MDN, and to speak generously… it has a lot of room for improvement</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Aug 03 2021 08:00:55 GMT-0700 (Pacific Daylight Time)">15:00</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">there is actually nowhere any good “Introduction to the DOM” for web developers</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Aug 03 2021 08:01:15 GMT-0700 (Pacific Daylight Time)">15:01</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</td><td class="msg-cell"><mx-reply><blockquote> You don't really want to say Text or CDATASection however as otherwise you also need to say Element or HTMLAnchorElement or ... It gets tricky quickly</blockquote></mx-reply>The difference is that when working in "DOM" code as opposed to "HTML" code, it's pretty natural to use .nodeType a lot.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Aug 03 2021 08:01:58 GMT-0700 (Pacific Daylight Time)">15:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</td><td class="msg-cell"><span class="nick-1">Domenic</span>: yeah that's fair, but there's nothing that corresponds to nodeType</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Aug 03 2021 08:02:17 GMT-0700 (Pacific Daylight Time)">15:02</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</td><td class="msg-cell">Yeah it's just very easy to think that "is a Text node" means .nodeType === TEXT_NODE</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Aug 03 2021 08:02:32 GMT-0700 (Pacific Daylight Time)">15:02</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</td><td class="msg-cell">I just opened the PR but if you use "implements" that will help.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Aug 03 2021 11:37:35 GMT-0700 (Pacific Daylight Time)">18:37</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title="@favonia:matrix.org">favonia</span>&gt;</td><td class="msg-cell"><p>Hi, I was checking the standard library of the Go programming language and found that the STD3 rules are disabled by default in the current WHATWG URL standard. I was a bit surprised because many Unicode characters in their KC normal forms could introduce forbidden host code points <code>@</code>, <code>#</code>, <code>/</code>, ... that are dangerous or at least misleading. The STD3 check protects us from those dangerous characters. I understand many existing hosts have the underscore <code>_</code> in their names that is forbidden by the STD3, but by disabling the entire STD3 check, we become vulnerable to many other attacks based on Unicode normalization. I believe this must have been carefully discussed somewhere within WHATWG. If not, I wonder how I should comment on the current URL standard and propose new changes. I am familiar with GitHub operations but I never interacted with WHATWG before, and would appreciate your guidance in making a proposal.</p>
<p>TL;DR: I wish to add a warning about the danger of disabling the STD3 check and, if an application chooses to disable the STD3 check (possibly to allow the underscore), it should verify that forbidden host code points would never arise from normalization and mapping.</p>
</td></tr>
</tbody></table>
</div></div></div>
</body></html>