<!DOCTYPE html><html><head>
  <title>WHATWG on 2024-07-25</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2024-07-25<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-07-24" class="nav-link"><span>prev</span></a>
<a href="2024-07-26" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jul 25 2024 00:52:05 GMT-0700 (Pacific Daylight Time)">07:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: I have a calendar entry for an ‚ÄúHTML spec triage‚Äù meeting starting 10 minutes from now. I guess that‚Äôs some ghost entry leftover?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jul 25 2024 00:52:57 GMT-0700 (Pacific Daylight Time)">07:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-1">Domenic</span>: I have a calendar entry for an ‚ÄúHTML spec triage‚Äù meeting starting 10 minutes from now. I guess that‚Äôs some ghost entry leftover?</blockquote></mx-reply>Hmm I think so, I don't have one myself.</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jul 25 2024 09:03:34 GMT-0700 (Pacific Daylight Time)">16:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">keithamus</span>: related to the hint/tooltip discussion, I wonder if github would have used context menu if it had been supported everywhere (It was removed in <a href="https://github.com/whatwg/html/pull/2742">https://github.com/whatwg/html/pull/2742</a>)</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jul 25 2024 09:06:41 GMT-0700 (Pacific Daylight Time)">16:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@keithamus:matrix.org">keithamus</span>&gt;</div></td><td class="msg-cell">I can‚Äôt say for sure but we‚Äôve definitely tried to provide our own context menus in places before but due to the missing expected experience we saw user pushback. It would be helpful to have a similar concept or revive that spec üòõ</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Jul 25 2024 12:23:57 GMT-0700 (Pacific Daylight Time)">19:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@irakaundal:matrix.org">Ira Kaundal</span>&gt;</div></td><td class="msg-cell">Hey folks! I have a basic question for my understanding. Can someone help me understand why don't &lt;img&gt; tags have the ability to support request headers for urls that have such requirements for e.g. authorization token?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jul 25 2024 12:24:54 GMT-0700 (Pacific Daylight Time)">19:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@easrng:yuri.im">easrng</span>&gt;</div></td><td class="msg-cell">You can use javascript for that.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jul 25 2024 12:25:27 GMT-0700 (Pacific Daylight Time)">19:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@easrng:yuri.im">easrng</span>&gt;</div></td><td class="msg-cell">try setting src to <code>URL.createObjectURL(await(await fetch(/* whatever */)).blob())</code></td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jul 25 2024 13:30:50 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@irakaundal:matrix.org">Ira Kaundal</span>&gt;</div></td><td class="msg-cell">Yes, that is the option I am implementing but it comes with its own set of challenges like creating in-memory blobs that need to be released from memory. Current recommendation is to release the memory when component unmounts but when the application is huge and performance is crucial, the intention is to have this more centralized as we don't cannot rely on all components doing this.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jul 25 2024 13:31:25 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@easrng:yuri.im">easrng</span>&gt;</div></td><td class="msg-cell">try adding the headers in a service worker perhaps</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jul 25 2024 13:38:11 GMT-0700 (Pacific Daylight Time)">20:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@irakaundal:matrix.org">Ira Kaundal</span>&gt;</div></td><td class="msg-cell">There are concerns with this approach as well since service works are not expected to always be available. For now blob url is still the most favorable option only.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jul 25 2024 13:38:59 GMT-0700 (Pacific Daylight Time)">20:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@easrng:yuri.im">easrng</span>&gt;</div></td><td class="msg-cell">could feature detect and switch to whichever is available</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jul 25 2024 13:41:51 GMT-0700 (Pacific Daylight Time)">20:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@irakaundal:matrix.org">Ira Kaundal</span>&gt;</div></td><td class="msg-cell">Possibly, but right now we are trying to figure out ways to handle the memory problem. It would be preferable to just have one path without adding too much complexity.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jul 25 2024 13:43:05 GMT-0700 (Pacific Daylight Time)">20:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@irakaundal:matrix.org">Ira Kaundal</span>&gt;</div></td><td class="msg-cell">I was majorly curious why &lt;img&gt; tag cannot support this. It seems like a common enough concern which would make things a lot easier.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jul 25 2024 13:43:45 GMT-0700 (Pacific Daylight Time)">20:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@easrng:yuri.im">easrng</span>&gt;</div></td><td class="msg-cell">because img tags are significantly older than the ability to make any kind of request with custom headers on the web</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jul 25 2024 13:44:54 GMT-0700 (Pacific Daylight Time)">20:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@irakaundal:matrix.org">Ira Kaundal</span>&gt;</div></td><td class="msg-cell">Okay I see.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jul 25 2024 13:46:28 GMT-0700 (Pacific Daylight Time)">20:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@irakaundal:matrix.org">Ira Kaundal</span>&gt;</div></td><td class="msg-cell">Thanks for the information and the help! Appreciate it!</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Jul 25 2024 16:00:04 GMT-0700 (Pacific Daylight Time)">23:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@niloc132:delightfullyoffto.pics">Colin Alworth</span>&gt;</div></td><td class="msg-cell"><p>Some other unsolicited thoughts:</p>
<ul>
<li>you could make a web component for this, so that at least the fetch is papered over and you just make a <!-- raw HTML omitted --> etc. The fetch itself will potentially be cached (if crafted correctly, right headers from the server), can use a map from original urls to object urls to provide your own caching, and web component lifecycle to revoke the object urls (so that as long as at least one image is attached to the dom, the object url won‚Äôt be revoked and can be loaded without hitting fetch at all).</li>
<li>img tags can, by dint of being as old as html (‚Ä¶ish), send cookies already, and have some protection against the app loading it being able to see contents. Additionally, cookies can be set to not permit being sent when a different site tries to load an image from the domain that originally set the cookie. On the other hand, authorization (sic) headers are not sent for image resources. Changing either rule could make it possible for an external site (<a href="http://evil.com">evil.com</a>) to craft img tags and load urls (that might not even be images) from servers that were previously secure from such attacks</li>
</ul></td></tr>

</tbody></table></div></div></div>
</body></html>