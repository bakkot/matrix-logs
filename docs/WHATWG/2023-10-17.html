<!DOCTYPE html><html><head>
  <title>WHATWG on 2023-10-17</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2023-10-17<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2023-10-16" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Oct 16 2023 23:38:44 GMT-0700 (Pacific Daylight Time)">06:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-1">Domenic</span>: I gave a first shot at the <code>navigation.activation</code> thingy, if you want to take a look: <a href="https://github.com/whatwg/html/pull/9856">https://github.com/whatwg/html/pull/9856</a><br>Still need to add tests (and implementation of course) but want to make sure I'm on the right track</blockquote></mx-reply>It's looking quite nice. I'm sorry you ran into a preexisting issue, per <a href="https://github.com/whatwg/html/pull/9856#discussion_r1361569089">https://github.com/whatwg/html/pull/9856#discussion_r1361569089</a> . I guess it's good to confirm the direction I was leaning for a fix though. Your help implementing that fix would be much appreciated.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Oct 16 2023 23:50:09 GMT-0700 (Pacific Daylight Time)">06:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> It's looking quite nice. I'm sorry you ran into a preexisting issue, per <a href="https://github.com/whatwg/html/pull/9856#discussion_r1361569089">https://github.com/whatwg/html/pull/9856#discussion_r1361569089</a> . I guess it's good to confirm the direction I was leaning for a fix though. Your help implementing that fix would be much appreciated.</blockquote></mx-reply>Yea the having to compute navigation typeâ€¦ sure let me have a go at it. Thanks for the review!</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Oct 16 2023 23:52:54 GMT-0700 (Pacific Daylight Time)">06:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: re having a new ActivationInfo with each activation, that would mean that a BFCache restore would replace the whole object: are we ok with that? This is the reason I went with an additional internal struct</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Oct 16 2023 23:53:51 GMT-0700 (Pacific Daylight Time)">06:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-1">Domenic</span>: re having a new ActivationInfo with each activation, that would mean that a BFCache restore would replace the whole object: are we ok with that? This is the reason I went with an additional internal struct</blockquote></mx-reply>Ah, good point. PRobably updating the existing object is nicer. But you can still do that, just have the "update the navigation API for reactivation" poke at the current NavigationActivation's fields.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Oct 17 2023 01:00:56 GMT-0700 (Pacific Daylight Time)">08:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: <code>python3 <a href="http://factory.py">factory.py</a> --single urlpattern "URL Pattern"</code> should work</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Oct 17 2023 01:01:41 GMT-0700 (Pacific Daylight Time)">08:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: only <code>--all</code> requires <code>db.json</code> to be up-to-date</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Oct 17 2023 01:01:59 GMT-0700 (Pacific Daylight Time)">08:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: you'll have to create a PR manually but for a one-off that seems fine</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Oct 17 2023 01:46:46 GMT-0700 (Pacific Daylight Time)">08:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Ah, nice. I ran out of time for today but will do that tomorrow.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Oct 17 2023 03:39:11 GMT-0700 (Pacific Daylight Time)">10:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@rakina:matrix.org">Rakina Zata Amni</span>&gt;</div></td><td class="msg-cell"><p>Hello, the BFCache team in Chromium has a couple of spec discussions/PRs that are awaiting response from other vendors for a while, and I've been told that it might be good to ask about them here :)</p>
<p>The first is about <a href="https://github.com/whatwg/html/pull/8972#issuecomment-1730905420">queueing messages on BroadcastChannel</a>, which I think got agreement from Firefox but pending some thoughts from <span class="nick-12">annevk</span> .&nbsp;Anne, do you think that all your concerns have been addressed there?</p>
<p>The second is about <a href="https://github.com/whatwg/html/pull/9360#issuecomment-1733061660">NotRestoredReasons</a>: there was a controversial part that <span class="nick-4">smaug</span> and <span class="nick-3">peterv</span> pointed out about randomly exposing cross-origin blocking reasons, which has been removed now. If there's no remaining problem, can we get approval from Firefox folks there? (There is also a <a href="https://github.com/whatwg/html/pull/9360#issuecomment-1733467050">question</a> about exposing line numbers and URLs there)</p>
<p>Finally this is not under WHATWG but since it's also bfcache related, there's also a discussion about <a href="https://github.com/w3c/webappsec-clear-site-data/pull/77#issuecomment-1707836953">Clear-Site-Data &lt;&gt; BFCache eviction</a> with <span class="nick-12">annevk</span>. It seems like at least the top-level-frame header eviction shouldn't be controversial, is there any problem with specifying that?</p>
<p>LMK if there's more context needed for any of those. We can also join the WHATWG triage meeting if needed, but we're all in APAC so we'll need to wait for the APAC friendly one.</p>
</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Oct 17 2023 03:39:56 GMT-0700 (Pacific Daylight Time)">10:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">Rakina Zata Amni</span>: FWIW, I and peterv will discuss about that NotRestoredReasons later today. We'll comment in the spec issue.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Oct 17 2023 03:40:24 GMT-0700 (Pacific Daylight Time)">10:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@rakina:matrix.org">Rakina Zata Amni</span>&gt;</div></td><td class="msg-cell">Awesome, thanks!</td></tr>

</tbody></table></div></div></div>
</body></html>