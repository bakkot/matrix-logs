<!DOCTYPE html><html><head>
  <title>WHATWG on 2023-06-07</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2023-06-07<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2023-06-06" class="nav-link"><span>prev</span></a>
<a href="2023-06-08" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Jun 06 2023 18:56:18 GMT-0700 (Pacific Daylight Time)">01:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@sirisian:matrix.org">sirisian</span>&gt;</div></td><td class="msg-cell">Question about differing behavior in FF and Chrome when focusing outside of a contenteditable with inline-block vs grid. Click below the contenteditable: <a href="https://jsfiddle.net/swk91rpx/">https://jsfiddle.net/swk91rpx/</a> Notice for grid it finds the first text content and places the cursor in it in Chrome. I suspect this is a bug in Chrome as I think this happened with inline-block 7 years ago and was changed. Anyone familiar with this topic and could clarify the expected behavior so I know where to file this. (For all I know this edge-case is right for chrome and FF is the one handling it wrong).</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Jun 07 2023 00:41:56 GMT-0700 (Pacific Daylight Time)">07:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">Anton Maliev</span>: that might be correct, yeah; problem is that not everything has been refactored and we have been running into some issues with this abstraction</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Jun 07 2023 00:42:31 GMT-0700 (Pacific Daylight Time)">07:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">Anton Maliev</span>: filing an issue and copying inexorabletash and <span class="nick-2">asuth</span> might be a good start</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Jun 07 2023 00:44:02 GMT-0700 (Pacific Daylight Time)">07:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">sirisian</span>: filing an issue against all of <a href="https://github.com/w3c/contentEditable/issues/new">https://github.com/w3c/contentEditable/issues/new</a>, Chromium, and Gecko seems like a good start</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Jun 07 2023 00:44:41 GMT-0700 (Pacific Daylight Time)">07:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">sirisian</span>: unfortunately the spec is not maintained so this has to be addressed on a case-by-case basis and likely slowly</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Jun 07 2023 03:02:44 GMT-0700 (Pacific Daylight Time)">10:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@abotella:igalia.com">Andreu Botella</span>&gt;</div></td><td class="msg-cell">That might also be a hit testing issue, rather than a contenteditable issue</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Jun 07 2023 03:03:02 GMT-0700 (Pacific Daylight Time)">10:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@abotella:igalia.com">Andreu Botella</span>&gt;</div></td><td class="msg-cell">and hit testing isn't really fully specified anywhere</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Jun 07 2023 03:17:33 GMT-0700 (Pacific Daylight Time)">10:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-14">zcorpan</span>: so an &lt;img alt=""&gt; should behave the same, for sizes="auto"-testing purposes, as an &lt;img src="5-second-ttfb.jpeg" /&gt; or whatever. Because the <a href="https://drafts.csswg.org/css-images/#default-object-size">default object size</a> of both a <a href="https://drafts.csswg.org/css-images/#loading-image">loading image</a> and an <a href="https://html.spec.whatwg.org/#images-3">"img element that represents nothing and the user agent does not expect this to change"</a> are both 0x0.</blockquote></mx-reply>I think so! But from my test it looks like at Chromium doesn't implement it correctly</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Jun 07 2023 03:19:13 GMT-0700 (Pacific Daylight Time)">10:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-14">zcorpan</span>: although according to the loading image definition, images in this state "may trigger fallback rendering". Is there anything in the "concrete object size ignoring natural dimensions" spec that forbids fallback rendering dimensions from being used?</blockquote></mx-reply>I don't follow. Both cases are replaced element 0x0 per spec?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Jun 07 2023 04:15:22 GMT-0700 (Pacific Daylight Time)">11:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">Adam Rice</span>: since <span class="nick-6">Mattias Buelens</span> seems to be out, do you have any thoughts on <a href="https://github.com/whatwg/streams/pull/1264">https://github.com/whatwg/streams/pull/1264</a>? Otherwise I'm gonna approve splitting the test out for now so Youenn is unblocked</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Jun 07 2023 07:39:58 GMT-0700 (Pacific Daylight Time)">14:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@etportis:matrix.org">Eric Portis (he/him)</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-14">zcorpan</span>: re: you not following, yes -- ignore me, I was confused. Even if the fallback representation is showing, that only adds an intrinsic size, it doesn't change the default or specified sizes.</p>
<p>What does Chromium do? Is "your test" part of the WPTs?</p>
</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Jun 07 2023 07:55:50 GMT-0700 (Pacific Daylight Time)">14:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">Eric Portis (he/him)</span>: <a href="https://software.hixie.ch/utilities/js/live-dom-viewer/saved/11743">https://software.hixie.ch/utilities/js/live-dom-viewer/saved/11743</a></td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Jun 07 2023 07:57:35 GMT-0700 (Pacific Daylight Time)">14:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">Eric Portis (he/him)</span>: since the second element gets full width, chromium treats it as a non-replaced element instead of a replaced element with 0x0 natural dimensions. Haven't written a wpt for this</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Jun 07 2023 12:33:18 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@ntim:mozilla.org">ntim</span>&gt;</div></td><td class="msg-cell">Hi! Can someone please merge  <a href="https://github.com/whatwg/html/pull/9397">https://github.com/whatwg/html/pull/9397</a> ?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Jun 07 2023 12:41:42 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@jub0bs:matrix.org">jub0bs</span>&gt;</div></td><td class="msg-cell">Apologies, <span class="nick-14">freddy</span>. Work got in the way. I'll shoot you an email as soon as I have more time.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Jun 07 2023 15:27:53 GMT-0700 (Pacific Daylight Time)">22:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@jyasskin:matrix.org">Jeffrey Yasskin</span>&gt;</div></td><td class="msg-cell">FYI, <a href="https://github.com/w3ctag/design-principles/pull/441">https://github.com/w3ctag/design-principles/pull/441</a> about how to monkeypatch well merged to <a href="https://w3ctag.github.io/design-principles/#cant-avoid-monkey-patching">https://w3ctag.github.io/design-principles/#cant-avoid-monkey-patching</a>. I think it describes what this group wants from monkeypatches, but if I got anything wrong, feel free to comment on the PR, and I'll try to fix it. (or you can always send your own PR of course.)</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Jun 07 2023 15:39:59 GMT-0700 (Pacific Daylight Time)">22:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@etportis:matrix.org">Eric Portis (he/him)</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span>: Safari 17's <code>Accept</code> header when making image fetches seems to be: <code>image/webp,image/avif,image/jxl,image/heic,image/heic-sequence,video/*;q=0.8,image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5</code> (124 bytes). IIUC from <a href="https://github.com/whatwg/fetch/issues/862">https://github.com/whatwg/fetch/issues/862</a> and <a href="https://fetch.spec.whatwg.org/#cors-safelisted-request-header">https://fetch.spec.whatwg.org/#cors-safelisted-request-header</a>, the limit before a preflight is required is 128 bytes. Is that an impending problem, or (more likely) am I misunderstanding how CORS works?</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Jun 07 2023 15:43:14 GMT-0700 (Pacific Daylight Time)">22:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@etportis:matrix.org">Eric Portis (he/him)</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">zcorpan</span>: Ah! I had only been testing with <em>no</em> src attribute, which behaves differently than an attribute with no value. Fun!</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Jun 07 2023 15:44:31 GMT-0700 (Pacific Daylight Time)">22:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@etportis:matrix.org">Eric Portis (he/him)</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">zcorpan</span>: Anyways, I think I finally have my mental model straight on this. Hoping to write something up about it soon; I'll definitely ping you for review once I do.</td></tr>

</tbody></table></div></div></div>
</body></html>