<!DOCTYPE html><html><head>
  <title>WHATWG on 2024-03-19</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2024-03-19<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-03-18" class="nav-link"><span>prev</span></a>
<a href="2024-03-20" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Mar 19 2024 00:47:09 GMT-0700 (Pacific Daylight Time)">07:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@dripg:matrix.org">nakima</span>&gt;</div></td><td class="msg-cell">What's the matrix "script"</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Mar 19 2024 00:49:27 GMT-0700 (Pacific Daylight Time)">07:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@dripg:matrix.org">nakima</span>&gt;</div></td><td class="msg-cell">Woe</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Mar 19 2024 01:40:11 GMT-0700 (Pacific Daylight Time)">08:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-10">TabAtkins</span>: (or any others here with insight into this area) Is there any mechanism I can use with either CSS and/or HTML attributes to programatically toggle a node’s <a href="https://drafts.csswg.org/css-contain/#relevant-to-the-user"><em>“relevant to the user”</em></a> state? And a way to use that in combination with its content-visibility state to toggle making it visible?</p>
<p>On the face of it, it seems like what the HTML <a href="https://html.spec.whatwg.org/multipage/interaction.html#the-inert-attribute"><code>inert</code></a> attribute means is the same as what CSS means by “not relevant to the user” — and so, the combination of <code>inert</code> + <code>content-visibility: auto</code> could/should cause a node to be non-visible.</p>
<p>But the CSS doesn’t actually say that, nor do implementations do that.</p>
<p>The context is: I want to implement closing/opening of <code>details</code> elements using content-visibility internally but also make the contents searchable with find-in-page. The <a href="https://html.spec.whatwg.org/#the-details-and-summary-elements:the-details-element-6">relevant part of the current HTML spec requirements</a> say to use <code>hidden</code>:</p>
<blockquote>
<p>The <a href="https://html.spec.whatwg.org/#the-details-element"><code>details</code></a> element's second <a href="https://dom.spec.whatwg.org/#concept-slot">slot</a> is expected to have its <a href="https://html.spec.whatwg.org/#attr-style"><code>style</code></a> attribute set to <code>"display: block; content-visibility: hidden;"</code> when the <a href="https://html.spec.whatwg.org/#the-details-element"><code>details</code></a> element does not have an <a href="https://html.spec.whatwg.org/#attr-details-open"><code>open</code></a> attribute.</p>
</blockquote>
<p>…however, the relevant part of the current CSS Containment spec about <code>hidden</code> says this:</p>
<blockquote>
<p>The element <a href="https://drafts.csswg.org/css-contain/#skips-its-contents">skips its contents</a>. The <a href="https://drafts.csswg.org/css-contain/#skips-its-contents">skipped contents</a> <strong><em>must not</em> be accessible to user-agent features, such as find-in-page</strong>, tab-order navigation, etc., nor be selectable or focusable.</p>
</blockquote>
<p>…while the relevant part about <code>auto</code> says this:</p>
<blockquote>
<p>If the element is not <a href="https://drafts.csswg.org/css-contain/#relevant-to-the-user">relevant to the user</a>, it also <a href="https://drafts.csswg.org/css-contain/#skips-its-contents">skips its contents</a>. Unlike <a href="https://drafts.csswg.org/css-contain/#valdef-content-visibility-hidden"><code>hidden</code></a>, the <a href="https://drafts.csswg.org/css-contain/#skips-its-contents">skipped contents</a> <strong>must still be available as normal to user-agent features such as find-in-page</strong>, tab order navigation, etc., and must be focusable and selectable as normal.</p>
</blockquote>
<p>So, to conform to the current CSS spec requirements, to allow find-in-page on closed <code>details</code> elements, it seems I actually should not use <code>hidden</code> to make them closed (despite what the HTML spec currently says), but should instead use <code>auto</code>.</p>
<p>However, just using <code>content-visibility: auto</code> for closed <code>details</code> will not on its own make their contents non-visible — instead it seems I need to somehow also make the contents not <a href="https://drafts.csswg.org/css-contain/#relevant-to-the-user"><em>“relevant to the user”</em></a>. And to me at least, it seems like <code>inert</code> could/should be the way to do that, and the CSS and/or HTML specs could/should say that.</p>
<p>But if not with <code>inert</code>, is there some other way to make a node not “relevant to the user”?</p>
</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Mar 19 2024 02:07:33 GMT-0700 (Pacific Daylight Time)">09:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">Or alternatively, we could change the HTML spec to not say that content-visibility should be used for <code>details</code> — but instead just that UAs must make the contents of closed <code>details</code> elements non-visible to users (using whatever internal means the UA chooses to use for that) while also requiring the contents must not be skipped contents for the purposes of find-in-page. (While also having the spec continue to state that for any closed <code>details</code> in which find-in-page locates a match, the UA must auto-expand it —&nbsp;by setting its <code>open</code> attribute).</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Mar 19 2024 02:14:53 GMT-0700 (Pacific Daylight Time)">09:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">It’s starting to seem to me now that having the HTML spec say that UAs are expected to use content-visibility for closing/opening <code>details</code> may not be a great choice. It certainly doesn’t seem <em>necessary</em> to use content-visibility for that case, because the CSS <code>content-visibility</code> state of any <code>details</code> contents is not observable by web developers anyway.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Mar 19 2024 02:26:26 GMT-0700 (Pacific Daylight Time)">09:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">All that said, though, I guess since it’s not exposed/observable to web developers anyway, then it seems like I could reasonably argue that implementing opening/closing of <code>details</code> with <code>content-visibility: hidden</code> <em>internally</em> doesn’t strictly break conformance with CSS spec requirements</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Mar 19 2024 03:38:15 GMT-0700 (Pacific Daylight Time)">10:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: hmm, what gives? <a href="https://participate.whatwg.org/agreement-status?user=sideshowbarker&amp;repo=html&amp;pull=9870">https://participate.whatwg.org/agreement-status?user=sideshowbarker&amp;repo=html&amp;pull=9870</a></td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Mar 19 2024 03:39:33 GMT-0700 (Pacific Daylight Time)">10:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">zcorpan</span>:  sigh yeah that’s because my membership in the relevant GitHub organization is private, not public</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Mar 19 2024 03:40:43 GMT-0700 (Pacific Daylight Time)">10:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">I very much don’t like the fact that the participation mechanism requires me to make my membership in that relevant GitHub public</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Mar 19 2024 03:40:56 GMT-0700 (Pacific Daylight Time)">10:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">but anyway, I can turn it back on temporarily</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Mar 19 2024 03:42:21 GMT-0700 (Pacific Daylight Time)">10:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: hmm, can you create a new GH org that's just for the IPR check?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Mar 19 2024 03:42:48 GMT-0700 (Pacific Daylight Time)">10:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">Yeah, I guess I could, but I rightly shouldn’t have to</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Mar 19 2024 03:43:15 GMT-0700 (Pacific Daylight Time)">10:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">Instead, the participation mechanism should be made to work in some different way</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Mar 19 2024 03:44:16 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">And I don’t say that personally about my own case — but in general, for all participants, we should not be forcing them to publicly leak any organizational membership to the entire world that they might not really want to</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Mar 19 2024 03:45:13 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">Myself, a while back, I made all my GitHub org memberships private — because I don’t personally have much need to make them public</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Mar 19 2024 03:45:39 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">We should be allowing everybody to have that same choice if they want</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Mar 19 2024 03:45:50 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: seems like something to bring up with the sg</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Mar 19 2024 03:46:15 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">In the past, I have not had much success in getting the SG to see anything my way</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Mar 19 2024 03:46:45 GMT-0700 (Pacific Daylight Time)">10:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">I tried with the pseudonymous-contributor case, and lost</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Mar 19 2024 03:49:12 GMT-0700 (Pacific Daylight Time)">10:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">I also tried with the case of distinguishing editorial/non-substantive/no-possible-IPR-impact changes from substantive/IPR-impacting changes — and I <em>think</em> the SG ended up deciding to make some change there, but if so, it was after such a long time that I had lost energy for paying attention</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Mar 19 2024 03:53:29 GMT-0700 (Pacific Daylight Time)">10:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/whatwg/sg/pull/228">https://github.com/whatwg/sg/pull/228</a></td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Mar 19 2024 10:06:01 GMT-0700 (Pacific Daylight Time)">17:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@jyasskin:matrix.org">Jeffrey Yasskin</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> And I don’t say that personally about my own case — but in general, for all participants, we should not be forcing them to publicly leak any organizational membership to the entire world that they might not really want to</blockquote></mx-reply>I have mixed feelings about that: on the one hand, you're right that people should be able to participate in github without their affiliations always being fully public. On the other, when someone's contributing to an open standard on behalf of their employer, it's both useful for reviewers to know that we should think of their contribution as coming from that organization, and important for the public to be able to see what organizations are influencing the standards. I wish Github had a "public-but-not-publicized" setting for this, where the affiliation would appear in the context of certain contributions, but wouldn't appear on the profile page.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Mar 19 2024 13:03:41 GMT-0700 (Pacific Daylight Time)">20:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@arnau478:matrix.org">Arnau</span>&gt;</div></td><td class="msg-cell">For HTML tree construction, is the stack of open elements a stack of elements or nodes? By the name I would guess elements, but the definition (<a href="https://html.spec.whatwg.org/multipage/parsing.html#stack-of-open-elements">https://html.spec.whatwg.org/multipage/parsing.html#stack-of-open-elements</a>) seems a bit ambiguous and says "the topmost <strong>node</strong> on the stack is the first one added to the stack". Plus, if the stack only has element nodes, wouldn't the current node and adjusted current node always be elements?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue Mar 19 2024 13:08:15 GMT-0700 (Pacific Daylight Time)">20:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@abotella:igalia.com">Andreu Botella</span>&gt;</div></td><td class="msg-cell">The stack of open nodes can also be seen as the set of ancestors of the current point in the DOM into which you're currently parsing</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue Mar 19 2024 13:09:11 GMT-0700 (Pacific Daylight Time)">20:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@abotella:igalia.com">Andreu Botella</span>&gt;</div></td><td class="msg-cell">since the stack is created empty (so there's no <code>Document</code> node in it), and the only non-Document nodes that can contain children are <code>Element</code> nodes, I think it can be safely assumed that it only contains elements</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue Mar 19 2024 13:09:48 GMT-0700 (Pacific Daylight Time)">20:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@abotella:igalia.com">Andreu Botella</span>&gt;</div></td><td class="msg-cell">(oh, actually <code>Document</code> also can't contain children)</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue Mar 19 2024 13:25:08 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@arnau478:matrix.org">Arnau</span>&gt;</div></td><td class="msg-cell">Oh, I get it</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue Mar 19 2024 13:25:46 GMT-0700 (Pacific Daylight Time)">20:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@arnau478:matrix.org">Arnau</span>&gt;</div></td><td class="msg-cell">So I can make it a stack of element nodes, right?</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue Mar 19 2024 16:55:12 GMT-0700 (Pacific Daylight Time)">23:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@etportis:matrix.org">Eric Portis (he/him)</span>&gt;</div></td><td class="msg-cell"><span class="nick-10">TabAtkins</span> <span class="nick-15">Florian Rivoal</span>: should <code>contain-intrinsic-size</code> alter <code>Image.naturalWidth/Height</code> ? <a href="https://codepen.io/eeeps/pen/RwOKmJL?editors=1111">https://codepen.io/eeeps/pen/RwOKmJL?editors=1111</a></td></tr>

</tbody></table></div></div></div>
</body></html>