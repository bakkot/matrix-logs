<!DOCTYPE html><html><head>
  <title>WHATWG on 2021-07-01</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2021-07-01<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-06-30" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/" class="current-room">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jul 01 2021 01:34:35 GMT-0700 (Pacific Daylight Time)">08:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">Hi, Can anyone please describe what is exact procedure to "Consume the maximum number of characters possible" mentioned here: <a href="https://html.spec.whatwg.org/#named-character-reference-state">https://html.spec.whatwg.org/#named-character-reference-state</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jul 01 2021 01:35:32 GMT-0700 (Pacific Daylight Time)">08:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell"> * Hi, Can anyone please describe what is the exact procedure to "Consume the maximum number of characters possible" mentioned here: <a href="https://html.spec.whatwg.org/#named-character-reference-state">https://html.spec.whatwg.org/#named-character-reference-state</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jul 01 2021 01:45:30 GMT-0700 (Pacific Daylight Time)">08:45</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">Hm, there's arguably a bug there, since the string <code>&amp;centerNotDot;</code> should only match the charref <code>&amp;center</code>, rather than the prefix of <code>&amp;centerdot;</code></td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jul 01 2021 01:46:08 GMT-0700 (Pacific Daylight Time)">08:46</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell"> * Hm, there's arguably a bug there, since the string <code>&amp;centerd;</code> should only match the charref <code>&amp;center</code>, rather than the prefix of <code>&amp;centerdot;</code></td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Jul 01 2021 01:47:44 GMT-0700 (Pacific Daylight Time)">08:47</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell"> * Hm, there's arguably a bug there, since the string <code>&amp;centerd;</code> should only match the charref <code>&amp;cent</code>, rather than the prefix of <code>&amp;centerdot;</code></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jul 01 2021 01:47:55 GMT-0700 (Pacific Daylight Time)">08:47</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell"> * Hm, there's arguably a bug there, since the string <code>&amp;center</code> should only match the charref <code>&amp;cent</code>, rather than the prefix of <code>&amp;centerdot;</code></td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jul 01 2021 01:50:21 GMT-0700 (Pacific Daylight Time)">08:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">So what's the correct way to do this?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jul 01 2021 01:51:45 GMT-0700 (Pacific Daylight Time)">08:51</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">Keep a copy of the named character references list, and for every consumed character, remove the entries that don't match up for that character</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jul 01 2021 01:53:07 GMT-0700 (Pacific Daylight Time)">08:53</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">But keep in a variable the latest entry that you have consumed in full (that is, for which the next character would be end-of-string)</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jul 01 2021 01:54:29 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">Once the list is empty, unconsume as many characters as (number of characters you've consumed in this algorithm - length of the latest entry consumed in full or 0)</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jul 01 2021 01:54:52 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">the latest entry consumed in full is the match you've found, if there is any</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jul 01 2021 01:56:27 GMT-0700 (Pacific Daylight Time)">08:56</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">sorry to ask a stupid question but what does it mean to "unconsume" here?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jul 01 2021 01:59:31 GMT-0700 (Pacific Daylight Time)">08:59</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">To walk back the pointer into the input stream, such that the next input characters would be the characters after the end of the matched character reference, even if in parsing you've consumed more characters than those</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jul 01 2021 02:00:40 GMT-0700 (Pacific Daylight Time)">09:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">oh ok! thank you for the help!!</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jul 01 2021 02:08:20 GMT-0700 (Pacific Daylight Time)">09:08</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">If it's not very obvious, that part of the algorithm tries to find the longest character reference that matches the input</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jul 01 2021 02:09:19 GMT-0700 (Pacific Daylight Time)">09:09</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">So both <code>cent</code> and <code>centerdot;</code> are character references, so if the next few characters are <code>center;</code>, you want to match <code>cent</code> only</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Jul 01 2021 02:09:39 GMT-0700 (Pacific Daylight Time)">09:09</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">If you're reading character by character, you would have to read <code>center</code> and then backtrack when you find the semicolon</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Jul 01 2021 02:10:46 GMT-0700 (Pacific Daylight Time)">09:10</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">but if you do find <code>centerdot;</code> you want to take that as the match, not <code>cent</code></td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Jul 01 2021 02:24:05 GMT-0700 (Pacific Daylight Time)">09:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">So from what I understand from the above explanation an html stream &lt;p&gt;center;&lt;/p&gt; would be read as &lt;p&gt;&amp;cent;er&lt;/p&gt;

right?</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Jul 01 2021 02:24:39 GMT-0700 (Pacific Daylight Time)">09:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">displayed as:
¢er;</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Jul 01 2021 02:24:57 GMT-0700 (Pacific Daylight Time)">09:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell"> * So from what I understand from the above explanation an html stream &lt;p&gt;center;&lt;/p&gt; would be read as &lt;p&gt;&amp;cent;er;&lt;/p&gt;

right?</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Jul 01 2021 02:28:39 GMT-0700 (Pacific Daylight Time)">09:28</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell"><span class="nick-12">sujaldev</span>: <code>center;</code> would never reach that algorithm —&nbsp;because <code>center;</code> doesn’t begin with an <code>&amp;</code> ampersand</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Jul 01 2021 02:29:24 GMT-0700 (Pacific Daylight Time)">09:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">sorry i mean &amp;center;</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Jul 01 2021 02:29:48 GMT-0700 (Pacific Daylight Time)">09:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">let me just edit that</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Jul 01 2021 02:29:55 GMT-0700 (Pacific Daylight Time)">09:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell"> * So from what I understand from the above explanation an html stream &lt;p&gt;&amp;center;&lt;/p&gt; would be read as &lt;p&gt;&amp;cent;er;&lt;/p&gt;

right?</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Jul 01 2021 02:31:34 GMT-0700 (Pacific Daylight Time)">09:31</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title="@andreubotella:mozilla.org">Andreu Botella (he/they)</span>&gt;</td><td class="msg-cell">¢er; indeed</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Jul 01 2021 02:32:32 GMT-0700 (Pacific Daylight Time)">09:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">trying to implement it now in my project! thank you again!</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Jul 01 2021 02:35:01 GMT-0700 (Pacific Daylight Time)">09:35</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell"><span class="nick-12">sujaldev</span>: I guess you probably already know about the html5lib test suite, but if not, you definitely want to be testing your implementation against that —&nbsp;<a href="https://github.com/html5lib/html5lib-tests">https://github.com/html5lib/html5lib-tests</a></td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Jul 01 2021 02:36:37 GMT-0700 (Pacific Daylight Time)">09:36</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">and not to muddy the waters, but it’s worth mentioning that you don’t need to match the steps in that part of the parsing algorithm exactly, as long as you end up with the same result</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Jul 01 2021 02:37:39 GMT-0700 (Pacific Daylight Time)">09:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-12">sujaldev</span>: I guess you probably already know about the html5lib test suite, but if not, you definitely want to be testing your implementation against that —&nbsp;<a href="https://github.com/html5lib/html5lib-tests">https://github.com/html5lib/html5lib-tests</a></blockquote></mx-reply>I didn't know about this, real helpful.</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Jul 01 2021 02:37:53 GMT-0700 (Pacific Daylight Time)">09:37</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">yeah for <a href="https://github.com/validator/htmlparser">https://github.com/validator/htmlparser</a> we don’t match the spec steps exactly for that part of the algorithm, but do it in a different way that produces the same test results</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Jul 01 2021 02:39:28 GMT-0700 (Pacific Daylight Time)">09:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell">does it still follow state machine concept?</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Jul 01 2021 02:39:54 GMT-0700 (Pacific Daylight Time)">09:39</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Jul 01 2021 02:41:52 GMT-0700 (Pacific Daylight Time)">09:41</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell">there are some places where it doesn’t conform to the spec, and I’ve had some pull requests open for quite a while now to fix those, but… fixing them has not been a big priority for that particular project</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Jul 01 2021 02:43:49 GMT-0700 (Pacific Daylight Time)">09:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title="@sujaldev:matrix.org">sujaldev</span>&gt;</td><td class="msg-cell"><mx-reply><blockquote> yeah for <a href="https://github.com/validator/htmlparser">https://github.com/validator/htmlparser</a> we don’t match the spec steps exactly for that part of the algorithm, but do it in a different way that produces the same test results</blockquote></mx-reply>If I knew more about parsing and also knew java would have loved to contribute to this</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Jul 01 2021 10:04:46 GMT-0700 (Pacific Daylight Time)">17:04</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title="@shuyuguo:matrix.org">shu</span>&gt;</td><td class="msg-cell">how do overloads work in WebIDL? specifically, for <code>Window.alert</code>, which is spec'd to have two overloads <code>alert()</code> and <code>alert(message)</code>, what's <code>alert.length</code> supposed to be?</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Jul 01 2021 11:13:00 GMT-0700 (Pacific Daylight Time)">18:13</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</td><td class="msg-cell"><span class="nick-8">shu</span>: <a href="https://heycam.github.io/webidl/#dfn-create-operation-function">https://heycam.github.io/webidl/#dfn-create-operation-function</a></td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Jul 01 2021 11:13:13 GMT-0700 (Pacific Daylight Time)">18:13</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</td><td class="msg-cell">step 6</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Jul 01 2021 13:44:26 GMT-0700 (Pacific Daylight Time)">20:44</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title="@shuyuguo:matrix.org">shu</span>&gt;</td><td class="msg-cell"><span class="nick-14">zcorpan</span>: thanks</td></tr>
</tbody></table>
</div></div></div>
</body></html>