<!DOCTYPE html><html><head>
  <title>WHATWG on 2022-01-17</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2022-01-17<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-01-15" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sun Jan 16 2022 20:28:01 GMT-0800 (Pacific Standard Time)">04:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@amcclure:matrix.org">Anton M.</span>&gt;</div></td><td class="msg-cell">oops didn't mean to leave</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sun Jan 16 2022 23:57:56 GMT-0800 (Pacific Standard Time)">07:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">zcorpan</span>: had you seen <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1687557">https://bugzilla.mozilla.org/show_bug.cgi?id=1687557</a>?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Jan 17 2022 01:03:15 GMT-0800 (Pacific Standard Time)">09:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@johannhof:matrix.org">johannhof</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span>: Hey, I was just going through my old needinfos and noticed <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1708354">https://bugzilla.mozilla.org/show_bug.cgi?id=1708354</a></td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Jan 17 2022 01:04:02 GMT-0800 (Pacific Standard Time)">09:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@johannhof:matrix.org">johannhof</span>&gt;</div></td><td class="msg-cell">And that bug itself aside, it feels to me like Chrome and Firefox both shipped this restriction but didn't end up updating the spec (I can't even find an issue for it)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Jan 17 2022 01:06:32 GMT-0800 (Pacific Standard Time)">09:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@johannhof:matrix.org">johannhof</span>&gt;</div></td><td class="msg-cell">But I'm slightly confused about which spec is responsible for defining these restrictions, is it the Notifications spec or Permissions?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Jan 17 2022 01:07:08 GMT-0800 (Pacific Standard Time)">09:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@johannhof:matrix.org">johannhof</span>&gt;</div></td><td class="msg-cell">i.e. would it be enough that Notifications says "this is a powerful feature" and then we derive somehow that these are either PP controlled in iframes or forbidden?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Jan 17 2022 01:45:57 GMT-0800 (Pacific Standard Time)">09:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">johannhof</span>: I think the idea was that Permissions Policy would take care of this, but it might not have been integrated everywhere just yet</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Jan 17 2022 01:49:12 GMT-0800 (Pacific Standard Time)">09:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@johannhof:matrix.org">johannhof</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span>: Right, so, I guess there are two things here. As per that bug, these checks should not only apply when requesting permission but also when notifications are sent. The second question is what does PP do for features that are powerful but not explicitly part of PP (which I think notifications is not?)</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Jan 17 2022 01:50:33 GMT-0800 (Pacific Standard Time)">09:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</div></td><td class="msg-cell">Oh right, I guess those we have to update, but that hasn't happened. Same for persistent storage.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Jan 17 2022 01:51:02 GMT-0800 (Pacific Standard Time)">09:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@johannhof:matrix.org">johannhof</span>&gt;</div></td><td class="msg-cell">I guess point 1 might be captured by having the permission check in the constructor <a href="https://notifications.spec.whatwg.org/#constructors">https://notifications.spec.whatwg.org/#constructors</a>, so that might only be a Firefox implementation issue</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Mon Jan 17 2022 01:52:57 GMT-0800 (Pacific Standard Time)">09:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@johannhof:matrix.org">johannhof</span>&gt;</div></td><td class="msg-cell">And then step 3 of <a href="https://w3c.github.io/permissions/#reading-current-states">https://w3c.github.io/permissions/#reading-current-states</a> will only do the correct thing (deny the request) if there's a policy controlled feature for "notifications" that's always forbidden</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Mon Jan 17 2022 01:55:03 GMT-0800 (Pacific Standard Time)">09:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@johannhof:matrix.org">johannhof</span>&gt;</div></td><td class="msg-cell">What is the state of the registry for permissions policy? Is it still up to the individual standards to define their own entry? So would this be a change in Notifications and Storage?</td></tr>

</tbody></table></div></div></div>
</body></html>