<!DOCTYPE html><html><head>
  <title>WHATWG on 2021-12-01</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2021-12-01<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-11-30" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Nov 30 2021 20:20:16 GMT-0800 (Pacific Standard Time)">04:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@devsrealmguy:matrix.org">devsrealmguy</span>&gt;</div></td><td class="msg-cell">Hi guys, is this room appropriate to ask questions regarding the HTML spec?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Nov 30 2021 20:21:42 GMT-0800 (Pacific Standard Time)">04:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@devsrealmguy:matrix.org">devsrealmguy</span>&gt;</div></td><td class="msg-cell">I'll ask for now, but feel free to delete it if it's not allowed, so here is my question:</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Nov 30 2021 20:29:54 GMT-0800 (Pacific Standard Time)">04:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@devsrealmguy:matrix.org">devsrealmguy</span>&gt;</div></td><td class="msg-cell">In the HTML parsing section, specifically the "Named character reference state", we have the following info:

&gt;&gt;&gt; Consume the maximum number of characters possible, where the consumed characters are one of the identifiers in the first column of the named character references table. Append each character to the temporary buffer when it's consumed.

&gt;&gt;[If there is a match]:

If the character reference was consumed as part of an attribute, and the last character matched is not a U+003B SEMICOLON character (;), and the next input character is either a U+003D EQUALS SIGN character (=) or an ASCII alphanumeric, then, for historical reasons, flush code points consumed as a character reference and switch to the return state.

&gt;&gt;[Otherwise:]

If the last character matched is not a U+003B SEMICOLON character (;), then this is a missing-semicolon-after-character-reference parse error.

Set the temporary buffer to the empty string. Append one or two characters corresponding to the character reference name (as given by the second column of the named character references table) to the temporary buffer.

Flush code points consumed as a character reference. Switch to the return state.</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Nov 30 2021 20:33:50 GMT-0800 (Pacific Standard Time)">04:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@devsrealmguy:matrix.org">devsrealmguy</span>&gt;</div></td><td class="msg-cell">At what point do I decide to stop consuming? It's not clear , I know I can lookahead and stop matching when I encounter a semi-colon but the spec doesn't make that clear</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Nov 30 2021 20:35:09 GMT-0800 (Pacific Standard Time)">04:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">devsrealmguy</span>: I think you basically stop consuming when thereâ€™s no match</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Nov 30 2021 20:35:20 GMT-0800 (Pacific Standard Time)">04:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">no substring match</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Nov 30 2021 20:38:40 GMT-0800 (Pacific Standard Time)">04:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">so if you get <code>&amp;h</code>, keep consuming, <code>&amp;he</code>, keep consuming, <code>&amp;hel</code>, <code>&amp;hell</code>, <code>&amp;helli</code>, still consuming</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Nov 30 2021 20:39:28 GMT-0800 (Pacific Standard Time)">04:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">because those all are substring matches of valid character references</td></tr>

</tbody></table></div></div></div>
</body></html>