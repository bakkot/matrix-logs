<!DOCTYPE html><html><head>
  <title>WHATWG on 2023-02-14</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2023-02-14<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2023-02-13" class="nav-link"><span>prev</span></a>
<a href="2023-02-15" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Feb 13 2023 22:41:06 GMT-0800 (Pacific Standard Time)">06:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell">A friend asked if thereâ€™s a better way to do this: <a href="https://stackoverflow.com/questions/60262041/is-there-a-way-to-get-child-class-file-path-in-parent-class/60262174#60262174">https://stackoverflow.com/questions/60262041/is-there-a-way-to-get-child-class-file-path-in-parent-class/60262174#60262174</a>

i.e. in constructor() of A get the url of B, without modifying Bâ€™s constructor. import.meta.url only gives A.js. Itâ€™s possible to catch an exception and get the stack trace, but thatâ€™s not ideal :)</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Feb 13 2023 22:42:47 GMT-0800 (Pacific Standard Time)">06:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@shark.adsm.dev:matrix.org">shark adsm</span>&gt;</div></td><td class="msg-cell">acsebility</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Feb 13 2023 23:07:15 GMT-0800 (Pacific Standard Time)">07:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> A friend asked if thereâ€™s a better way to do this: <a href="https://stackoverflow.com/questions/60262041/is-there-a-way-to-get-child-class-file-path-in-parent-class/60262174#60262174">https://stackoverflow.com/questions/60262041/is-there-a-way-to-get-child-class-file-path-in-parent-class/60262174#60262174</a><br><br>i.e. in constructor() of A get the url of B, without modifying Bâ€™s constructor. import.meta.url only gives A.js. Itâ€™s possible to catch an exception and get the stack trace, but thatâ€™s not ideal :)</blockquote></mx-reply>No, except for the stack trace loophole, there's generally no way to know what file code comes from.</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Feb 13 2023 23:08:18 GMT-0800 (Pacific Standard Time)">07:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: thanks. Do you know if that's intentional or something we should add?</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Feb 13 2023 23:08:59 GMT-0800 (Pacific Standard Time)">07:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">I think it's semi-intentional in that implementers really hate having to keep that sort of info around for stack traces (for memory reasons)?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Feb 13 2023 23:10:06 GMT-0800 (Pacific Standard Time)">07:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell">but they do keep it around, yes?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Feb 13 2023 23:10:09 GMT-0800 (Pacific Standard Time)">07:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">It's also pretty fragile in the face of bundlers, etc., which are still widely used.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Feb 13 2023 23:10:32 GMT-0800 (Pacific Standard Time)">07:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">I guess they must, for functions at least. Not sure about how things like inlining, etc. effect that.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Feb 13 2023 23:15:45 GMT-0800 (Pacific Standard Time)">07:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell">interesting, maybe there are cases where the engine knows a function can't throw and can drop the stack information. But an API would mean they can't drop it</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Feb 14 2023 05:54:36 GMT-0800 (Pacific Standard Time)">13:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@yagiznizipli:matrix.org">Yagiz Nizipli</span>&gt;</div></td><td class="msg-cell">Is there an incentive to improve the toascii.json in web-platform-tests?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Feb 14 2023 05:58:38 GMT-0800 (Pacific Standard Time)">13:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-7">Yagiz Nizipli</span>: you mean in contrast IdnaTestV2?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Feb 14 2023 06:09:14 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@yagiznizipli:matrix.org">Yagiz Nizipli</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-7">Yagiz Nizipli</span>: you mean in contrast IdnaTestV2?</blockquote></mx-reply>Yes</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Feb 14 2023 06:15:31 GMT-0800 (Pacific Standard Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-7">Yagiz Nizipli</span>: I dunno, I guess I'd like us to continue to add tests to toascii.json as we come across browser Interop issues. Perhaps if someone was willing to take the initiative to donate them to Unicode and deduplicate them with IdnaTestV2 that would be better, but I'm not sure if that's an easy process.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Feb 14 2023 07:31:00 GMT-0800 (Pacific Standard Time)">15:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I have no opinion about the contents of this, but would you be interested in joining one of ECMA-402â€™s fortnightly calls to discuss with people who might? It would be nice to make a cross-browser decision about unshipping.</blockquote></mx-reply>Thanks for this. The meeting turned up a use case: Instead of the haystack being a long string from which needle would be searched as a substring, the ECMA-402 API can be used if haystack is a list of strings and the operation is to find the list items that match the needle on a full-string basis. So now I'm aware of a potential use case instead of being totally unaware of a use case. I'm still <em>very</em> skeptical of the presented use case arising in JS programs on the Web in practice. The case mentioned was an address book, but with the ECMA-402 API, the user would have to enter a full given name or a full family name instead of being able to enter a prefix of a name.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Feb 14 2023 07:31:57 GMT-0800 (Pacific Standard Time)">15:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">hsivonen</span>: Interesting, so is that to say that you didn't reach a shared conclusion one way or another yet?</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Feb 14 2023 07:33:32 GMT-0800 (Pacific Standard Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-15">hsivonen</span>: Interesting, so is that to say that you didn't reach a shared conclusion one way or another yet?</blockquote></mx-reply>No shared conclusion, but I'm still pursuing unshipping search collation data, but now I'm considering unshipping it less fully and adding more special-casing to try to hide the fact that the data isn't there a bit more carefully.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Feb 14 2023 07:35:20 GMT-0800 (Pacific Standard Time)">15:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell">I'm also trying to understand better what the Korean search tailoring in the search root is trying to accomplish. After reading the CLDR source and issues, I had an expectation of what it would do in Chrome's ctrl-f, but I can't get Chrome's ctrl-f to do anything different from Firefox's ctrl-f for Korean.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Feb 14 2023 07:35:44 GMT-0800 (Pacific Standard Time)">15:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell">Next, I'm going to experiment with cmd-f in macOS Finder in Korean to see if something interesting happens there.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Feb 14 2023 09:10:46 GMT-0800 (Pacific Standard Time)">17:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@zero-one:matrix.zer0-one.net">zero-one</span>&gt;</div></td><td class="msg-cell">i'm writing a URL parser that follows the WHATWG URL spec, and i'm wondering how i can shortcut the implementation a little bit if i assume that all input to the parser is already UTF-8 encoded</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Feb 14 2023 09:11:10 GMT-0800 (Pacific Standard Time)">17:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@zero-one:matrix.zer0-one.net">zero-one</span>&gt;</div></td><td class="msg-cell">afaict, all codepoints &gt; <code>0x7F</code> end up being percent-encoded byte-by-byte anyway</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Feb 14 2023 09:11:22 GMT-0800 (Pacific Standard Time)">17:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@zero-one:matrix.zer0-one.net">zero-one</span>&gt;</div></td><td class="msg-cell">so can i just parse byte-by-byte instead of codepoint-by-codepoint?</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Feb 14 2023 09:32:11 GMT-0800 (Pacific Standard Time)">17:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">zero-one</span>: you'll need special code for host names, but for determining component boundaries that should totally work</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Feb 14 2023 09:33:30 GMT-0800 (Pacific Standard Time)">17:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@zero-one:matrix.zer0-one.net">zero-one</span>&gt;</div></td><td class="msg-cell">can you elaborate? is that because of the opaque-host parsing?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue Feb 14 2023 09:33:56 GMT-0800 (Pacific Standard Time)">17:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">zero-one</span>: the opposite, for domain to ASCII you need a bunch of logic around code points</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue Feb 14 2023 09:36:35 GMT-0800 (Pacific Standard Time)">17:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@zero-one:matrix.zer0-one.net">zero-one</span>&gt;</div></td><td class="msg-cell">oh, i see... we percent-decode here and then punycode it or something</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue Feb 14 2023 09:40:03 GMT-0800 (Pacific Standard Time)">17:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">Yeah, it's great ðŸ˜‚</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue Feb 14 2023 09:40:53 GMT-0800 (Pacific Standard Time)">17:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@zero-one:matrix.zer0-one.net">zero-one</span>&gt;</div></td><td class="msg-cell">but as long as i hack around that, there's no other big roadblock to basically ignoring the encoding and just going byte-by-byte?</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue Feb 14 2023 09:45:46 GMT-0800 (Pacific Standard Time)">17:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">zero-one</span>: for UTF-8 inputs, yeah</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue Feb 14 2023 09:45:53 GMT-0800 (Pacific Standard Time)">17:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@zero-one:matrix.zer0-one.net">zero-one</span>&gt;</div></td><td class="msg-cell">cool</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue Feb 14 2023 09:46:10 GMT-0800 (Pacific Standard Time)">17:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@zero-one:matrix.zer0-one.net">zero-one</span>&gt;</div></td><td class="msg-cell">thanks for the help, i'm still trying to wrap my head around everything</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue Feb 14 2023 09:46:56 GMT-0800 (Pacific Standard Time)">17:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">Heh. Me too!</td></tr>

</tbody></table></div></div></div>
</body></html>