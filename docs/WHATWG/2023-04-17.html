<!DOCTYPE html><html><head>
  <title>WHATWG on 2023-04-17</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2023-04-17<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2023-04-14" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sun Apr 16 2023 17:52:40 GMT-0700 (Pacific Daylight Time)">00:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p>I worked on the mdn-spec-links build over the weekend but still have a handful of related changes I need to make before I can get the spec json files properly updated.</p>
<p>Basically, the build is CI-automated such that every time a change is made the BCD or MDN sources, if that change affects any of the mdn-spec-links data, the CI generates a new PR that I then review and merge.</p>
<p>However, the CI build first does a check to verify that all the URLs and fragment IDs in the spec links in BCD still exist —&nbsp;and if it finds any that don’t exist, the build fails. And to get the build working again, I need to fix the broken URLs/fragments, with PRs upstream in BCD.</p>
<p>And things like big “Navigation and session history rewrite” (navigables) change to the HTML spec can really generate a lot of links that need to be fixed —&nbsp;in that case, for example, it caused the filename part of dozens of BCD URLs to change to <code>nav-history-apis.html</code>, so I needed to fix all those in BCD in order to get my build working again.<br>…And other such cases, with other specs.</p>
<p>But anyway, I only have a few broken URLs/fragments left to fix, and I should be able to get them done today, and everything will then hopefully be back to normal again (as far as my CI generating mergeable PRs that are all green).</p>
</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sun Apr 16 2023 17:56:17 GMT-0700 (Pacific Daylight Time)">00:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">smaug</span>: <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1828286">https://bugzilla.mozilla.org/show_bug.cgi?id=1828286</a> looks like an interesting issue with FF adding fetches from iframes to history unexpectedly —&nbsp;and in turn causing the back button to not take the user back to where they’d expect (or really, not seeming to the user to take them back to anywhere at all)<br><a href="https://stackoverflow.com/questions/76026846/how-to-work-around-firefox-adding-fetches-from-iframes-to-user-s-browser-history">https://stackoverflow.com/questions/76026846/how-to-work-around-firefox-adding-fetches-from-iframes-to-user-s-browser-history</a> is a related Stack Overflow Q&amp;A</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sun Apr 16 2023 21:04:52 GMT-0700 (Pacific Daylight Time)">04:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">I think the fetch is a red herring and it's setting the child src that creates a new history entry (which is per spec)</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sun Apr 16 2023 21:05:27 GMT-0700 (Pacific Daylight Time)">04:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">In some browsers the back button can skip history entries though: <a href="https://github.com/whatwg/html/issues/7832">https://github.com/whatwg/html/issues/7832</a></td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sun Apr 16 2023 21:06:25 GMT-0700 (Pacific Daylight Time)">04:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Although I dunno I guess <span class="nick-14">Kaiido</span> investigated and seems to think the fetch is to blame, so maybe I'm wrong</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sun Apr 16 2023 21:30:58 GMT-0700 (Pacific Daylight Time)">04:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@kaiido:matrix.org">Kaiido</span>&gt;</div></td><td class="msg-cell">No, I didn't do any investigation specs wise. I barely just tried a few possible workarounds as asked on the SO question and provided a repro to the FF issue. At very least I find it surprising that a fetch call triggers this seemingly unrelated behavior, but that's about it.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sun Apr 16 2023 21:32:29 GMT-0700 (Pacific Daylight Time)">04:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Yeah I meant you repro'd the issue in Firefox, and probably checked that it was actually due to fetch instead of due to the setting of src</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sun Apr 16 2023 21:36:52 GMT-0700 (Pacific Daylight Time)">04:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@kaiido:matrix.org">Kaiido</span>&gt;</div></td><td class="msg-cell">It's when both are true that it reproes. So you may very well be right that calling `fetch` is part of the heuristics here.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sun Apr 16 2023 21:59:49 GMT-0700 (Pacific Daylight Time)">04:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> In some browsers the back button can skip history entries though: <a href="https://github.com/whatwg/html/issues/7832">https://github.com/whatwg/html/issues/7832</a></blockquote></mx-reply>Interesting… To me, it seems changing the per-spec back-button behavior to require such history skipping —&nbsp;specifically, in the case of entries that have no user interaction —&nbsp;would much better match user expectations better at least.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sun Apr 16 2023 22:06:07 GMT-0700 (Pacific Daylight Time)">05:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">It's unfortunately a lot more complicated than "no user interaction", at least in Chromium. And it's still changing.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sun Apr 16 2023 22:29:01 GMT-0700 (Pacific Daylight Time)">05:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">ah OK</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sun Apr 16 2023 22:30:39 GMT-0700 (Pacific Daylight Time)">05:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-1">Domenic</span>: by the way, you planning to attend any part of the TAG face to face?</p>
<p>And do you know if there’s an agenda available? Or else, if you know of anything particularly interesting that they’re planning to handle at the face to face?</p>
</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sun Apr 16 2023 22:31:47 GMT-0700 (Pacific Daylight Time)">05:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <p><span class="nick-1">Domenic</span>: by the way, you planning to attend any part of the TAG face to face?</p>
<p>And do you know if there’s an agenda available? Or else, if you know of anything particularly interesting that they’re planning to handle at the face to face?</p>
</blockquote></mx-reply>I'm not aware of any TAG stuff, myself!</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sun Apr 16 2023 22:32:54 GMT-0700 (Pacific Daylight Time)">05:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">ah OK. Well Google is hosting it in the Shibuya office, right?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Sun Apr 16 2023 22:35:02 GMT-0700 (Pacific Daylight Time)">05:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">That is news to me!</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Sun Apr 16 2023 22:35:45 GMT-0700 (Pacific Daylight Time)">05:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">oh, then I could be wrong. Maybe it’s at Apple’s office, if they have one here. Looking for the info now…</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Sun Apr 16 2023 22:36:18 GMT-0700 (Pacific Daylight Time)">05:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/w3ctag/meetings/tree/gh-pages/2023/04-tokyo">https://github.com/w3ctag/meetings/tree/gh-pages/2023/04-tokyo</a></td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Sun Apr 16 2023 22:36:48 GMT-0700 (Pacific Daylight Time)">05:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">Shibuya Stream, hosted by Google Japan, it says</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Sun Apr 16 2023 22:38:01 GMT-0700 (Pacific Daylight Time)">05:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">I guess the TAG needs to maybe do a better job of getting meeting info out more widely</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Mon Apr 17 2023 05:16:07 GMT-0700 (Pacific Daylight Time)">12:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@draxelhecht:matrix.org">Pike</span>&gt;</div></td><td class="msg-cell">The wiki seems to be down?</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Mon Apr 17 2023 15:36:42 GMT-0700 (Pacific Daylight Time)">22:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@tabatkins:matrix.org">TabAtkins</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: ping on <a href="https://github.com/whatwg/meta/issues/271#issuecomment-1499733981">https://github.com/whatwg/meta/issues/271#issuecomment-1499733981</a>, I'm delaying a Bikeshed release for this</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Mon Apr 17 2023 15:48:40 GMT-0700 (Pacific Daylight Time)">22:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-1">Domenic</span>: ping on <a href="https://github.com/whatwg/meta/issues/271#issuecomment-1499733981">https://github.com/whatwg/meta/issues/271#issuecomment-1499733981</a>, I'm delaying a Bikeshed release for this</blockquote></mx-reply>I'm sorry, I don't really have an ETA on fixing this.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Mon Apr 17 2023 15:51:59 GMT-0700 (Pacific Daylight Time)">22:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@tabatkins:matrix.org">TabAtkins</span>&gt;</div></td><td class="msg-cell">Okay, so the easiest solution is (2) for now, then - just stop doing the special WHATWG stuff and let Bikeshed do its thing. You can change strategy later if one of the other options appeals more.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Mon Apr 17 2023 15:52:28 GMT-0700 (Pacific Daylight Time)">22:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@tabatkins:matrix.org">TabAtkins</span>&gt;</div></td><td class="msg-cell">I can't indefinitely delay the Bikeshed release, tho, and it <em>will</em> break your dfn panels right now.</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Mon Apr 17 2023 15:52:57 GMT-0700 (Pacific Daylight Time)">22:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Ok, well, I don't know what to say. I've spent as much time on that issue as I can, probably for this quarter.</td></tr>

</tbody></table></div></div></div>
</body></html>