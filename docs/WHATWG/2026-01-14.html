<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>WHATWG on 2026-01-14</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2026-01-14<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2026-01-13" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Jan 14 2026 01:37:04 GMT-0800 (Pacific Standard Time)">09:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">I remember we had a discussion about "then" following "Otherwise". I vaguely recall we wanted to change towards including it. Does anyone else have a recollection of this and maybe a pointer? <span class="nick-13">jmdyck</span>?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Jan 14 2026 03:42:55 GMT-0800 (Pacific Standard Time)">11:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: I don't see anything about <code>selectedcontent</code> handling in the Tree Construction part of the spec. Is there an in-flight spec PR that I should be looking at, or have the cloning effects of parsing been specced in a way that's not visible in the parsing spec?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Jan 14 2026 03:54:25 GMT-0800 (Pacific Standard Time)">11:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p>See the hook to the <em>“maybe clone an option into selectedcontent”</em> algorithm here: <a href="https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element:maybe-clone-an-option-into-selectedcontent">https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element:maybe-clone-an-option-into-selectedcontent</a></p>
<p>And see the <em>“maybe clone an option into selectedcontent”</em> algorithm itself here: <a href="https://html.spec.whatwg.org/multipage/form-elements.html#maybe-clone-an-option-into-selectedcontent">https://html.spec.whatwg.org/multipage/form-elements.html#maybe-clone-an-option-into-selectedcontent</a></p>
</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Jan 14 2026 03:57:05 GMT-0800 (Pacific Standard Time)">11:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: Thanks. I can see why the text would end up there in order to cover XML, but it's not good that the HTML parsing algorithm is silent about this.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Jan 14 2026 04:00:59 GMT-0800 (Pacific Standard Time)">12:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">Yeah, I vaguely recall a mention of that having come up during review of the PR. Regardless, I feel the same as you and I probably should have chimed in to say so myself on the PR review at the time. But at that point, I had no intention of implementing it myself. I only took a shot at implementing it for Gecko because nobody else had yet, and I wanted it in part so that I could resolve the open checker issue at <a href="https://github.com/validator/validator/issues/1854">https://github.com/validator/validator/issues/1854</a></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Jan 14 2026 04:04:45 GMT-0800 (Pacific Standard Time)">12:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: It seems to me that the spec expects cloning to happen on what's in the DOM at cloning time and not on what the parser has seen. Am I missing something?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Jan 14 2026 04:04:52 GMT-0800 (Pacific Standard Time)">12:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">hsivonen</span>:  And also on that subject, I have some reservations about what implementing the whole <em>“Out of order HTML streaming ("patching")”</em> thing is going to be like, and I guess I should probably speak up about those. But I hope to god I don’t end up needing to try to implement that one. It’d be much better if you did&nbsp;— or at least somebody else with more chops than me.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Jan 14 2026 04:06:29 GMT-0800 (Pacific Standard Time)">12:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">(not that it’s even been written up yet — I’m just anticipating the shape)</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Jan 14 2026 04:11:38 GMT-0800 (Pacific Standard Time)">12:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">I think you’re not missing something. I’d need to go back and look. But I will confess that in part what I did there was, implement against the tests. And I think I did get all the WPT tests for this fully passing.

In other words, I did the bad thing of not raising some spec issues that I probably should have when I was implementing&nbsp;— I mean, about possible gaps in the spec relative to getting what the expected results for the tests seemed to require.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Jan 14 2026 04:12:35 GMT-0800 (Pacific Standard Time)">12:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: The difference would be visible only with a network stall and setTimeout, right?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Jan 14 2026 04:14:10 GMT-0800 (Pacific Standard Time)">12:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">Yeah, I reckon so. And so we should rightly have a WPT test for that —&nbsp;for the setTimeout case at least.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Jan 14 2026 04:14:41 GMT-0800 (Pacific Standard Time)">12:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">I will also confess that I didn’t try to audit the tests for coverage against the spec requirements.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Jan 14 2026 04:44:43 GMT-0800 (Pacific Standard Time)">12:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">hsivonen</span>: there's quite a few unresolved issues with <code>selectedcontent</code> still: <a href="https://github.com/whatwg/html/issues?q=state%3Aopen%20selectedcontent">https://github.com/whatwg/html/issues?q=state%3Aopen%20selectedcontent</a></td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Jan 14 2026 04:45:17 GMT-0800 (Pacific Standard Time)">12:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">Not really sure why the parser should say something about it though. I kinda like that it's all handled at the node tree layer.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Jan 14 2026 04:46:42 GMT-0800 (Pacific Standard Time)">12:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span>: It's pretty unfriendly to have an action triggered when a node is popped off the parser's stack without any hint in the parsing algorithm that popping <code>option</code> off the stack is connected to further action.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Jan 14 2026 04:49:52 GMT-0800 (Pacific Standard Time)">12:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">hsivonen</span>: oh that bit. That's a pre-existing issue. I agree we should refactor that. <a href="https://github.com/whatwg/html/issues/11781">https://github.com/whatwg/html/issues/11781</a> tracks that.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Jan 14 2026 04:52:24 GMT-0800 (Pacific Standard Time)">12:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@hsivonen:mozilla.org">hsivonen</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">annevk</span>: Thanks</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Jan 14 2026 04:53:43 GMT-0800 (Pacific Standard Time)">12:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@jmdyck:matrix.org">jmdyck</span>&gt;</div></td><td class="msg-cell">You mean following <em>immediately</em>, like "If [condition], then [do thing 1], otherwise then [do thing 2]." ?</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Jan 14 2026 04:58:31 GMT-0800 (Pacific Standard Time)">12:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">jmdyck</span>: 1. If X, then Y. \n 2. Otherwise, then Z.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Jan 14 2026 05:21:06 GMT-0800 (Pacific Standard Time)">13:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@jmdyck:matrix.org">jmdyck</span>&gt;</div></td><td class="msg-cell">Hm, you might be thinking of <a href="https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Uyrjmx4h9XHM_gqQug19615xegSjjwzkaBN5-NLoeY0">https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Uyrjmx4h9XHM_gqQug19615xegSjjwzkaBN5-NLoeY0</a> almost a year ago.</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Jan 14 2026 05:21:31 GMT-0800 (Pacific Standard Time)">13:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@jmdyck:matrix.org">jmdyck</span>&gt;</div></td><td class="msg-cell">To me, "otherwise, then" sounds ungrammatical.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Jan 14 2026 05:52:54 GMT-0800 (Pacific Standard Time)">13:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">I don't think that's it, but maybe it's just "Otherwise, if X," where we considered using "then" as well. I agree that for a lone "Otherwise" it looks weird.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Jan 14 2026 06:09:35 GMT-0800 (Pacific Standard Time)">14:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@lwarlow:igalia.com">Luke Warlow</span>&gt;</div></td><td class="msg-cell"><a href="https://html.spec.whatwg.org/multipage/links.html#dom-hyperlink-href">https://html.spec.whatwg.org/multipage/links.html#dom-hyperlink-href</a>

For something like step 4 here I think putting a then before "return this's href"... is fine. Not sure it's needed. But yeah just "otherwise, then" seems wrong to me.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Jan 14 2026 06:26:04 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@jgraham_:matrix.org">jgraham</span>&gt;</div></td><td class="msg-cell"><p>So we want to add stream support in WebDriver BiDi so that e.g. you can access large network responses without having to buffer the entire response and pass in in a single message.</p>
<p>So API-wise the way this will work is that some WebDriver operation that exposes a stream will return a WebDriver message with a UUID to that stream and you'll get protocol operations like <code>io.readStream({stream: &lt;id&gt;})</code> and <code>io.closeStream({stream: id})</code>.</p>
<p>My question is: what's the best way to specify that? From a WebDriver point of view there isn't really a JS reader object involved; for <code>readStream</code> we could pretty much call <code>[=read request=]</code> with something like:</p>
<pre><code>1. Let readRequest be a new read request with the following items:
  1. [=chunk steps=] given |chunk|:
    1. Let |response| be a new `io.ReadResult` with the &lt;code&gt;value&lt;/code&gt; field set to [=serialize protocol bytes=] given |chunk| and the &lt;code&gt;done&lt;/code&gt; field set to false.
    1. Return [=success=] with data |response|.

  1. [=close steps=]:
    1. Let |response| be a new `io.ReadResult` with the &lt;code&gt;value&lt;/code&gt; field set to &lt;code&gt;""&lt;/code&gt; and the &lt;code&gt;done&lt;/code&gt; field set to true.
    1. Return [=success=] with data |response|.

 1. [=error steps=] given |e|:
    1. Return [=error=] with [=error code=] [=stream read error=].
</code></pre>
<p>And then it needs the equivalent of <code>ReadableStreamDefaultReaderRead</code> to eventually call <code>stream.[[controller]].[[PullSteps]](readRequest)</code> and actually invoke the steps.</p>
<p>This is all doable, and honestly seems fairly easy to follow, but I'm somewhat worried that the Streams spec is going to turn out to depend on the assumption that all readers are actually IDL objects, and we're going to end up violating some invariants. The other option is to write the WebDriver spec to obtain an actual <code>ReadableStreamDefaultReader</code> object and work out how to write spec prose that manipulates DOM promises. I think that's going to be harder to follow from the WebDriver side, but avoids recreating a lot of the internal mechanics of the reader objects.</p>
</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Jan 14 2026 09:24:32 GMT-0800 (Pacific Standard Time)">17:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@cateru:matrix.org">cateru</span>&gt;</div></td><td class="msg-cell">hi</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Jan 14 2026 09:25:50 GMT-0800 (Pacific Standard Time)">17:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@cateru:matrix.org">cateru</span>&gt;</div></td><td class="msg-cell">is it possible to let form autosubmit on change without js ?</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Jan 14 2026 09:27:50 GMT-0800 (Pacific Standard Time)">17:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@cateru:matrix.org">cateru</span>&gt;</div></td><td class="msg-cell">i know i can do it js. but shouldn't be possible without js</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Jan 14 2026 09:30:02 GMT-0800 (Pacific Standard Time)">17:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@cateru:matrix.org">cateru</span>&gt;</div></td><td class="msg-cell">&lt;form autosubmit&gt;&lt;/form&gt;</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Jan 14 2026 09:31:55 GMT-0800 (Pacific Standard Time)">17:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@cateru:matrix.org">cateru</span>&gt;</div></td><td class="msg-cell">im using it to filter products it opens another page but with view transitions looks like its the same page </td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Jan 14 2026 09:33:17 GMT-0800 (Pacific Standard Time)">17:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@cateru:matrix.org">cateru</span>&gt;</div></td><td class="msg-cell">is this something that could be added. considering the move to use as less of js as possible?</td></tr>

</tbody></table></div></div></div>
</body></html>