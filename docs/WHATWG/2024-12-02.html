<!DOCTYPE html><html><head>
  <title>WHATWG on 2024-12-02</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2024-12-02<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-12-01" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sun Dec 01 2024 16:24:43 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell"><p>Apologies if this is a common question -- I searched the FAQ but I don't <em>think</em> I saw anything <a href="https://github.com/whatwg/html/blob/main/FAQ.md">https://github.com/whatwg/html/blob/main/FAQ.md</a></p>
<p>Is there a canonical representation of the HTML <em>spec</em> <strong>in a machine readable-format</strong> like XML or JSON as opposed to the IDL?</p>
<p>For example, the spec would specify that the <code>type</code> on a <code>button</code> is an "enumerated attribute" that can take "button" "submit", etc. as opposed to the IDL, which specifies a DOM String</p>
</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sun Dec 01 2024 16:25:25 GMT-0800 (Pacific Standard Time)">00:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">Certainly I could parse <a href="https://github.com/whatwg/html/blob/main/source">https://github.com/whatwg/html/blob/main/source</a> and while it's not "hard" it's a non-trivial task</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sun Dec 01 2024 16:27:35 GMT-0800 (Pacific Standard Time)">00:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">There are quite a few scattered efforts out there -- e.g. <a href="https://github.com/tawesoft/html5spec">https://github.com/tawesoft/html5spec</a></td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sun Dec 01 2024 16:28:16 GMT-0800 (Pacific Standard Time)">00:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">Certainly I would imagine MDN does this to prepare their documentation -- but it's not immediately clear to me how or if they do that without studying their build process a lot more</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sun Dec 01 2024 16:49:32 GMT-0800 (Pacific Standard Time)">00:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@akaster:serenityos.org">akaster (OOO ðŸ¦ƒ)</span>&gt;</div></td><td class="msg-cell">if you want to parse <code>source</code>, you'd be best off using or extending wattsi <a href="https://github.com/whatwg/wattsi">https://github.com/whatwg/wattsi</a></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sun Dec 01 2024 17:34:01 GMT-0800 (Pacific Standard Time)">01:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">There is no such machine-readable format besides the source itself.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sun Dec 01 2024 18:34:30 GMT-0800 (Pacific Standard Time)">02:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell"><blockquote>
<p>if you want to parse source, you'd be best off using or extending wattsi <a href="https://github.com/whatwg/wattsi">https://github.com/whatwg/wattsi</a></p>
</blockquote>
<p>That makes sense. I had a look at I am impressed it is maintained and in Pascal. I agree that parsing wattsi sources (and potentially using wattsi itself) makes sense due to the useful <code>dfn</code>tag especially. For example in the case of <code>button</code>, it is helpful that <code>dfn</code> holds context for attributes:</p>
<pre><code>  &lt;table&gt;
   &lt;thead&gt;
    &lt;tr&gt;
     &lt;th&gt; Keyword
     &lt;th&gt; State
     &lt;th&gt; Brief description
   &lt;tbody&gt;
    &lt;tr&gt;
     &lt;td&gt;&lt;dfn attr-value for="button/type"&gt;&lt;code
     data-x="attr-button-type-submit"&gt;submit&lt;/code&gt;&lt;/dfn&gt;
     &lt;td&gt;&lt;span data-x="attr-button-type-submit-state"&gt;Submit Button&lt;/span&gt;
     &lt;td&gt;Submits the form.
    &lt;tr&gt;
     &lt;td&gt;&lt;dfn attr-value for="button/type"&gt;&lt;code data-x="attr-button-type-reset"&gt;reset&lt;/code&gt;&lt;/dfn&gt;
     &lt;td&gt;&lt;span data-x="attr-button-type-reset-state"&gt;Reset Button&lt;/span&gt;
     &lt;td&gt;Resets the form.
    &lt;tr&gt;
     &lt;td&gt;&lt;dfn attr-value for="button/type"&gt;&lt;code
     data-x="attr-button-type-button"&gt;button&lt;/code&gt;&lt;/dfn&gt;
     &lt;td&gt;&lt;span data-x="attr-button-type-button-state"&gt;Button&lt;/span&gt;
     &lt;td&gt;Does nothing.
  &lt;/table&gt;
  &lt;table&gt;
   &lt;thead&gt;
    &lt;tr&gt;
     &lt;th&gt; Keyword
     &lt;th&gt; State
     &lt;th&gt; Brief description
   &lt;tbody&gt;
    &lt;tr&gt;
     &lt;td&gt;&lt;dfn attr-value for="button/type"&gt;&lt;code
     data-x="attr-button-type-submit"&gt;submit&lt;/code&gt;&lt;/dfn&gt;
     &lt;td&gt;&lt;span data-x="attr-button-type-submit-state"&gt;Submit Button&lt;/span&gt;
     &lt;td&gt;Submits the form.
    &lt;tr&gt;
     &lt;td&gt;&lt;dfn attr-value for="button/type"&gt;&lt;code data-x="attr-button-type-reset"&gt;reset&lt;/code&gt;&lt;/dfn&gt;
     &lt;td&gt;&lt;span data-x="attr-button-type-reset-state"&gt;Reset Button&lt;/span&gt;
     &lt;td&gt;Resets the form.
    &lt;tr&gt;
     &lt;td&gt;&lt;dfn attr-value for="button/type"&gt;&lt;code
     data-x="attr-button-type-button"&gt;button&lt;/code&gt;&lt;/dfn&gt;
     &lt;td&gt;&lt;span data-x="attr-button-type-button-state"&gt;Button&lt;/span&gt;
     &lt;td&gt;Does nothing.
  &lt;/table&gt;
</code></pre>
</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sun Dec 01 2024 18:36:54 GMT-0800 (Pacific Standard Time)">02:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">Although I don't have a specific suggestion in mind, are maintainers of <code>wattsi</code> open to contributions that would <em>extend</em> the language? I don't have anything specific in mind at the moment, but something that could potentially help the robustness of such a parser for subsequent updates to the standard.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sun Dec 01 2024 18:42:30 GMT-0800 (Pacific Standard Time)">02:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">For example, I could envision a collection of tags that could be used to articulate each dom element, while retaining searchability within <code>wattsi</code> sources and could reduce boilerplate while enhancing parseability.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sun Dec 01 2024 18:53:11 GMT-0800 (Pacific Standard Time)">02:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell"><p>Here is a very rough example:</p>
<pre><code>&lt;h4 split-filename="form-elements"&gt;The &lt;dfn element&gt;&lt;code&gt;button&lt;/code&gt;&lt;/dfn&gt; element&lt;/h4&gt;

&lt;element name="button"&gt;
  &lt;categories&gt;
    Flow content, Phrasing content, Interactive content, Palpable content
    Listed, Labelable, Submittable, Autocapitalize-and-autocorrect inheriting
  &lt;/categories&gt;

  &lt;contexts&gt;
    Where phrasing content is expected
  &lt;/contexts&gt;

  &lt;content-model&gt;
    Phrasing content, no interactive content descendant, no tabindex attribute descendant
  &lt;/content-model&gt;

  &lt;attributes&gt;
    Global attributes
    disabled, form, formaction, formenctype, formmethod, formnovalidate, formtarget
    name, popovertarget, popovertargetaction, type, value
  &lt;/attributes&gt;

  &lt;accessibility&gt;
    &lt;link href="https://w3c.github.io/html-aria/#el-button"&gt;For authors&lt;/link&gt;
    &lt;link href="https://w3c.github.io/html-aam/#el-button"&gt;For implementers&lt;/link&gt;
  &lt;/accessibility&gt;
...
</code></pre>
</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sun Dec 01 2024 18:53:55 GMT-0800 (Pacific Standard Time)">02:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">I would doubt it for many reasons -- but very much appreciate your consideration. </td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sun Dec 01 2024 18:54:55 GMT-0800 (Pacific Standard Time)">02:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">[this isn't quite right -- but perhaps conveys the idea]</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sun Dec 01 2024 19:41:30 GMT-0800 (Pacific Standard Time)">03:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Yes, we're quite open to that. Although it'd be even better if it could be done in the new Rust pre-processor layer, which is in a more well-known language and has nice things like unit tests. I'd be ideal if eventually we moved everything from Wattsi to Rust.

See this example issue for one such project (not quite what you're looking for, but gives an idea): <a href="https://github.com/whatwg/html-build/issues/293">https://github.com/whatwg/html-build/issues/293</a>

See here for the Rust layer: <a href="https://github.com/whatwg/html-build/blob/main/src/main.rs">https://github.com/whatwg/html-build/blob/main/src/main.rs</a>

See here for some previous discussion of machine-readable stuff: <a href="https://github.com/whatwg/wattsi/issues/146">https://github.com/whatwg/wattsi/issues/146</a> + <a href="https://github.com/whatwg/html/issues/1246">https://github.com/whatwg/html/issues/1246</a></td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sun Dec 01 2024 21:35:29 GMT-0800 (Pacific Standard Time)">05:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">Thank you so much</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Sun Dec 01 2024 21:36:04 GMT-0800 (Pacific Standard Time)">05:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell"><p>~Aside: is there interest in moving wattsi in over to Rust? Matching the existing spec~</p>
<p>Edit: re-read, looks like yes</p>
<blockquote>
<p>I'd be ideal if eventually we moved everything from Wattsi to Rust.</p>
</blockquote>
</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Sun Dec 01 2024 21:39:58 GMT-0800 (Pacific Standard Time)">05:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@leoisverycool:matrix.org">leoisverycool</span>&gt;</div></td><td class="msg-cell">[oh wow, I had no idea hixie worked on this back in the day.]</td></tr>

</tbody></table></div></div></div>
</body></html>