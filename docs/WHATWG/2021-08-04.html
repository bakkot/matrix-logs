<!DOCTYPE html><html><head>
  <title>WHATWG on 2021-08-04</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2021-08-04<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-08-03" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/" class="current-room">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Aug 03 2021 17:12:48 GMT-0700 (Pacific Daylight Time)">00:12</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</td><td class="msg-cell"><a href="https://stackoverflow.com/questions/68641231/does-javascripts-abortable-fetch-close-the-http-connection">https://stackoverflow.com/questions/68641231/does-javascripts-abortable-fetch-close-the-http-connection</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Aug 03 2021 17:29:16 GMT-0700 (Pacific Daylight Time)">00:29</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title="@favonia:matrix.org">favonia</span>&gt;</td><td class="msg-cell"><mx-reply><blockquote> <a href="https://cool.asi℀.evil.com">https://cool.asi℀.evil.com</a> is just an invalid URL <a href="https://jsdom.github.io/whatwg-url/#url=aHR0cHM6Ly9jb29sLmFzaeKEgC5ldmlsLmNvbQ==&amp;base=YWJvdXQ6Ymxhbms=">https://jsdom.github.io/whatwg-url/#url=aHR0cHM6Ly9jb29sLmFzaeKEgC5ldmlsLmNvbQ==&amp;base=YWJvdXQ6Ymxhbms=</a></blockquote></mx-reply><p>Thank you. Now I see that the Step 7 you mentioned earlier implements a weaker version of the STD3 check that stopped my attack. However, I found another issue showing that whatwg-url probably violated (at least the spirit of) UTS#46. UTS#46 says:</p>
<blockquote>
<p>...<br>U+2260 ( ≠ ) NOT EQUAL TO<br>U+226E ( ≮ ) NOT LESS-THAN<br>U+226F ( ≯ ) NOT GREATER-THAN</p>
<p>... If an implementation uses <code>UseSTD3ASCIIRules=false</code> but disallows any of these three ASCII characters, then it must also disallow the corresponding precomposed character for its negation.</p>
</blockquote>
<p>The URL standard forbids <code>&lt;</code> and <code>&gt;</code>, so I feel <code>≮</code> and <code>≯</code> should be banned as well. I am happy to open a GitHub issue on this (smaller issue).</p>
<p><a href="https://jsdom.github.io/whatwg-url/#url=d3M6Ly88&amp;base=YWJvdXQ6Ymxhbms=">https://jsdom.github.io/whatwg-url/#url=d3M6Ly88&amp;base=YWJvdXQ6Ymxhbms=</a><br><a href="https://jsdom.github.io/whatwg-url/#url=d3M6Ly/iia4=&amp;base=YWJvdXQ6Ymxhbms=">https://jsdom.github.io/whatwg-url/#url=d3M6Ly/iia4=&amp;base=YWJvdXQ6Ymxhbms=</a></p>
</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Aug 03 2021 17:36:55 GMT-0700 (Pacific Daylight Time)">00:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</td><td class="msg-cell">Yes, I think this is a case where conforming to the rules doesn't really buy anything. Encoding ≮ to punycode seems fine.</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Aug 03 2021 17:37:47 GMT-0700 (Pacific Daylight Time)">00:37</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</td><td class="msg-cell">It might be clearer if you think of the URL Standard as a standalone document that gives the full processing model. The fact that it calls into some specific Unicode algorithms with some parameters is interesting, but is just an implementation detail and isn't meant to indicate any greater alignment with the philosophies of those documents.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Aug 03 2021 17:42:25 GMT-0700 (Pacific Daylight Time)">00:42</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title="@favonia:matrix.org">favonia</span>&gt;</td><td class="msg-cell">alright I will skip the reporting. it's perhaps an interesting technical point, though</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Aug 03 2021 17:46:22 GMT-0700 (Pacific Daylight Time)">00:46</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title="@favonia:matrix.org">favonia</span>&gt;</td><td class="msg-cell">Sorry I accidentally pressed Enter to create an issue when doing some complex editing on GitHub. Please give me some time to fix that :-/</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Aug 03 2021 18:04:24 GMT-0700 (Pacific Daylight Time)">01:04</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title="@favonia:matrix.org">favonia</span>&gt;</td><td class="msg-cell"><span class="nick-1">Domenic</span>: Is <a href="https://jsdom.github.io/whatwg-url">https://jsdom.github.io/whatwg-url</a> some website I can/should cite in my reporting? The tool is very convenient and I wonder if it's "permanent" in any sense.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Aug 03 2021 18:39:11 GMT-0700 (Pacific Daylight Time)">01:39</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</td><td class="msg-cell"><span class="nick-15">favonia</span>: yes, feel free to use that site.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Aug 03 2021 19:29:00 GMT-0700 (Pacific Daylight Time)">02:29</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title="@favonia:matrix.org">favonia</span>&gt;</td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-15">favonia</span>: yes, feel free to use that site.</blockquote></mx-reply>Done! <a href="https://github.com/whatwg/url/issues/626">https://github.com/whatwg/url/issues/626</a></td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Aug 04 2021 07:25:00 GMT-0700 (Pacific Daylight Time)">14:25</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title="@favonia:matrix.org">favonia</span>&gt;</td><td class="msg-cell"><mx-reply><blockquote> Yes, I think this is a case where conforming to the rules doesn't really buy anything. Encoding ≮ to punycode seems fine.</blockquote></mx-reply>After checking the Unicode tables more carefully, I must disagree with this judgment and admit UTS#46 has done the right thing. My latest reporting was mainly about NFKC and NFKD, but if we agree that the standard should prevent problematic characters, then ≮, ≯ or even ≠ could generate &lt;, &gt; or = under NFD.</td></tr>
</tbody></table>
</div></div></div>
</body></html>