<!DOCTYPE html><html><head>
  <title>WHATWG on 2024-06-13</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2024-06-13<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-06-12" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Jun 12 2024 19:33:22 GMT-0700 (Pacific Daylight Time)">02:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p>About <a href="https://github.com/mdn/content/pull/34087/files">https://github.com/mdn/content/pull/34087/files</a>, <del>I guess that behavior is required per the spec?</del> I can‚Äôt find where in the spec that behavior is defined.</p>
<p>That is, specifically this part:</p>
<blockquote>
<p><code>&lt;meta&gt;</code> redirect happens after the page is <em>completely loaded</em>, which is after all scripts have executed</p>
</blockquote>
</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Jun 12 2024 19:33:49 GMT-0700 (Pacific Daylight Time)">02:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">See also the related issue at <a href="https://github.com/mdn/content/issues/7859">https://github.com/mdn/content/issues/7859</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Jun 12 2024 19:46:57 GMT-0700 (Pacific Daylight Time)">02:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">As far as I can see from looking just now, none of the loading steps in <a href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#document-lifecycle">https://html.spec.whatwg.org/multipage/document-lifecycle.html#document-lifecycle</a> actually reference handling for <code>meta http-equiv="refresh"</code> (instead, only handling for the <code>Refresh</code> header) ‚Äî and <a href="https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-http-equiv-refresh">https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-http-equiv-refresh</a> doesn‚Äôt state <em>when</em> in the loading process the <em>‚Äúshared declarative refresh steps‚Äù</em> must be run <em>in the <code>meta http-equiv="refresh"</code> case</em>.</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Jun 12 2024 19:51:56 GMT-0700 (Pacific Daylight Time)">02:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p>I guess <a href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#refresh">https://html.spec.whatwg.org/multipage/document-lifecycle.html#refresh</a> could be possibly be sort of intentionally misread to state that <code>meta http-equiv="refresh"</code> should be handled in the loading process in the same way that the <code>Refresh</code> header is handled ‚Äî&nbsp;but that doesn‚Äôt seem to be at all what the spec actually says (instead, it‚Äôd sort of be backward with the respect to how the spec actually <em>does</em> describe the relationship between the two) ‚Äî</p>
<blockquote>
<p>The <code>Refresh</code> HTTP response header is the HTTP-equivalent to a <a href="https://html.spec.whatwg.org/multipage/semantics.html#the-meta-element">meta</a> element with an <a href="https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-http-equiv">http-equiv</a> attribute in the <a href="https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-http-equiv-refresh">Refresh state</a>. It takes <a href="https://html.spec.whatwg.org/multipage/semantics.html#conformance-attr-meta-http-equiv-refresh">the same value</a> and works largely the same. Its processing model is detailed in <a href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#initialise-the-document-object">create and initialize a Document object</a>.</p>
</blockquote>
</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Jun 12 2024 22:15:14 GMT-0700 (Pacific Daylight Time)">05:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p>OK, it‚Äôs since been pointed out to me that the relevant requirements are in fact already in the spec, in the definition of <em>‚Äúa refresh is said to have come due‚Äù</em> in step 13 of <a href="https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-http-equiv-refresh">https://html.spec.whatwg.org/multipage/semantics.html#attr-meta-http-equiv-refresh</a></p>
<blockquote>
<p>For the purposes of the previous paragraph, a refresh is said to have come due as soon as the later of the following two conditions occurs:</p>
<ul>
<li>At least time seconds have elapsed since document's <a href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#completely-loaded-time">completely loaded time</a>, adjusted to take into account user or user agent preferences.</li>
<li>If meta is given, at least time seconds have elapsed since meta was <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#insert-an-element-into-a-document">inserted into the document</a> document, adjusted to take into account user or user agent preferences.</li>
</ul>
</blockquote>
</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jun 13 2024 00:37:27 GMT-0700 (Pacific Daylight Time)">07:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@bkardell:igalia.com">bkardell</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-12">annevk</span>: <a href="https://github.com/whatwg/html/issues/10407#issuecomment-2164768308">https://github.com/whatwg/html/issues/10407#issuecomment-2164768308</a></p>
<p>i feel like i did answer the actual question you asked about what happened to it, which is all i was trying to add.. üòã</p></td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jun 13 2024 00:38:21 GMT-0700 (Pacific Daylight Time)">07:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@bkardell:igalia.com">bkardell</span>&gt;</div></td><td class="msg-cell">I guess your question that remains is like "has the wg reached out to/coordinated with/considered them?" Is that right?
</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jun 13 2024 01:28:14 GMT-0700 (Pacific Daylight Time)">08:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">keithamus</span>: About details auto-expand in GH issues, it still doesn‚Äôt seem to be working in Chrome ‚Äî and my patch at <a href="https://github.com/primer/css/pull/2624">https://github.com/primer/css/pull/2624</a> not been merged yet</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jun 13 2024 01:34:05 GMT-0700 (Pacific Daylight Time)">08:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">krosylight</span>: I think that star change is actually a bit different, since it is highlighted because the page gets bookmarked. So the process there is rather indirect</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jun 13 2024 01:46:53 GMT-0700 (Pacific Daylight Time)">08:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@krosylight:mozilla.org">krosylight</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-1">krosylight</span>: I think that star change is actually a bit different, since it is highlighted because the page gets bookmarked. So the process there is rather indirect</blockquote></mx-reply>Hmmm. Does it also apply before finishing bookmark? The popup opens and the new bookmark is not created yet, and still the star is highlighted</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jun 13 2024 01:48:00 GMT-0700 (Pacific Daylight Time)">08:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">the page is star'ed immediately, I believe. The star stays highlighted even if you just hide the popup by clicking elsewhere</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jun 13 2024 01:49:03 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@krosylight:mozilla.org">krosylight</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> the page is star'ed immediately, I believe. The star stays highlighted even if you just hide the popup by clicking elsewhere</blockquote></mx-reply>Hiding the popup is treated as Save (well, yeah) and saves bookmark</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jun 13 2024 01:49:35 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">bkardell</span>: well that issue already pointed to that explainer so I'm not really sure how that was adding anything new</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jun 13 2024 01:50:28 GMT-0700 (Pacific Daylight Time)">08:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@krosylight:mozilla.org">krosylight</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">smaug</span>: you can see the difference by opening Manage Bookmarks popup and do the star thing</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jun 13 2024 01:51:02 GMT-0700 (Pacific Daylight Time)">08:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@krosylight:mozilla.org">krosylight</span>&gt;</div></td><td class="msg-cell">New entry doesn't show up until you either dismiss the popup or click the save button</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jun 13 2024 01:52:12 GMT-0700 (Pacific Daylight Time)">08:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">I guess that is when it is decided where the bookmark is stored</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Jun 13 2024 01:53:01 GMT-0700 (Pacific Daylight Time)">08:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@krosylight:mozilla.org">krosylight</span>&gt;</div></td><td class="msg-cell">Clicking the star immediately saves it into a temporary folder you mean? perhaps yeah</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Jun 13 2024 01:54:27 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@krosylight:mozilla.org">krosylight</span>&gt;</div></td><td class="msg-cell">All other popup-opening buttons get background highlight too (including the hamburger button), but I guess that's nothing to do with commands</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Jun 13 2024 01:54:49 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@krosylight:mozilla.org">krosylight</span>&gt;</div></td><td class="msg-cell">(or does it?)</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Jun 13 2024 02:22:06 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@bkardell:igalia.com">bkardell</span>&gt;</div></td><td class="msg-cell">oh it did? weird, sorry - I missed it somehow</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Jun 13 2024 07:36:07 GMT-0700 (Pacific Daylight Time)">14:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">krosylight</span>: <span class="nick-2">bakkot</span>: FWIW, I fixed some of the Float16Array test issues already</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Jun 13 2024 08:11:19 GMT-0700 (Pacific Daylight Time)">15:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">thanks</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Jun 13 2024 08:11:25 GMT-0700 (Pacific Daylight Time)">15:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">yeah I wasn't totally sure how to handle those</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Jun 13 2024 08:11:37 GMT-0700 (Pacific Daylight Time)">15:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">the tests are not written in a way which makes them easy to split</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Jun 13 2024 08:12:51 GMT-0700 (Pacific Daylight Time)">15:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">test262 does things in a slightly different way, where there is a central list of all the TA types, and in that case I could just conditionally add it to that list based on whether it's present</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Jun 13 2024 08:13:00 GMT-0700 (Pacific Daylight Time)">15:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">but the WPT tests aren't really set up for that</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Jun 13 2024 08:13:09 GMT-0700 (Pacific Daylight Time)">15:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">still, maybe the best option? duplicating every test seems less desirable</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Jun 13 2024 08:16:17 GMT-0700 (Pacific Daylight Time)">15:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">bakkot</span>: I think there's a couple that have some duplication for the 64 case</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Jun 13 2024 08:17:13 GMT-0700 (Pacific Daylight Time)">15:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">bakkot</span>: and some have the infrastructure that it's just a local failure by making the construction local to the test</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Jun 13 2024 09:49:57 GMT-0700 (Pacific Daylight Time)">16:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-5">Luke Warlow</span>: I prolly can't look at Trusted Types PRs again until somewhere next week. Maybe <span class="nick-14">zcorpan</span> or <span class="nick-1">Dominic Farolino</span> can help out with some review on the DOM stuff meanwhile? I think your suggestion of an optional boolean is reasonable, if one path indeed has to be vetted and the other does not. (Not enough time at the moment to deeply investigate.)</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Jun 13 2024 09:50:46 GMT-0700 (Pacific Daylight Time)">16:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-5">Luke Warlow</span>: and at worst I might not have time until July. Depends a bit on some unknowns.</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Jun 13 2024 09:51:30 GMT-0700 (Pacific Daylight Time)">16:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@lwarlow:igalia.com">Luke Warlow</span>&gt;</div></td><td class="msg-cell">Yeah no worries I'm OOO till at least Tuesday. It would be good to get other eyes on it too. I'm slightly blind to it given the iteration (apologies for the churn). Any other eyes over it would be great!</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Jun 13 2024 09:54:11 GMT-0700 (Pacific Daylight Time)">16:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">zcorpan</span>: <span class="nick-1">Dominic Farolino</span>: for clarity, <a href="https://github.com/whatwg/dom/pull/1268">https://github.com/whatwg/dom/pull/1268</a> is the PR in question</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Jun 13 2024 10:03:07 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@keithamus:matrix.org">keithamus</span>&gt;</div></td><td class="msg-cell">Thanks I‚Äôll look into this as I can. It might be a week or two though.</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Jun 13 2024 11:30:20 GMT-0700 (Pacific Daylight Time)">18:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domfarolino:matrix.org">Dominic Farolino</span>&gt;</div></td><td class="msg-cell">If you can formally request my review that'd be a great way to get it in my inbox</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Jun 13 2024 11:30:37 GMT-0700 (Pacific Daylight Time)">18:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domfarolino:matrix.org">Dominic Farolino</span>&gt;</div></td><td class="msg-cell">Also tough for me to get to it before next Tuesday but I can try, or at the very least review it after.</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Jun 13 2024 12:30:49 GMT-0700 (Pacific Daylight Time)">19:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@lwarlow:igalia.com">Luke Warlow</span>&gt;</div></td><td class="msg-cell">As I say I'm OOO till Tuesday so no rush. I've added you as a reviewer.</td></tr>

</tbody></table></div></div></div>
</body></html>