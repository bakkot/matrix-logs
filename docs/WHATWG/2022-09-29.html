<!DOCTYPE html><html><head>
  <title>WHATWG on 2022-09-29</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2022-09-29<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-09-28" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Sep 29 2022 01:42:27 GMT-0700 (Pacific Daylight Time)">08:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">PSA data about self-closing tags: When I added the warning in the HTML checker a couple days ago, I also added a use counter for checking how many documents have start tags with self-closing tag syntax.

Result: Only 5.7% of the documents checked have any self-closing start tags. That is, about 57 out of every 1000 documents.

That data is from all 2.2 million documents that the checker checked over the last ~48 hours.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Sep 29 2022 01:53:53 GMT-0700 (Pacific Daylight Time)">08:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-14">zcorpan</span>: Would you be able to run an HTTP Archive query to see how well that 5.7% figure aligns with what HTTP Archive shows?</p>
<p>What’d be even more useful than that figure alone is:</p>
<ol>
<li>What percentage of documents have any void elements?</li>
<li>What percentage of the documents that have void elements have any with self-closing tag syntax?</li>
</ol>
<p>The use counter I put into the HTML checker is not currently able to check how many documents have void elements. It’s instead only currently able just to check how many documents have void elements with self-closing tag syntax.</p>
<p>If I had to, I guess I could hack a temporary use counter into the HTML checker and parser code to also do #1 above — but it’d require bad fuglying up of the parser code in way that I’m hesitant to do, even if temporarily and just on a branch.</p>
<p>So if we can instead get data back from some HTTP Archive queries — and if especially the how-many-docs-have-self-closing-tags query roughly confirms the 5.7% figure I got from the checker use counter — then that’d help to provide some strong evidence.</p>
</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Sep 29 2022 03:48:02 GMT-0700 (Pacific Daylight Time)">10:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@b0ggl3:matrix.org">b0ggl3</span>&gt;</div></td><td class="msg-cell">Hello, I have a somewhat silly question: Is WHATWG a legal entity? The reason Im asking is that I have to quote a WHATG standard in a context that requires giving a place of publication. Is there any notion of headquarter that could be used for this purpose?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Sep 29 2022 03:54:53 GMT-0700 (Pacific Daylight Time)">10:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@gsnedders:mozilla.org">Sam Sneddon [:gsnedders]</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Hello, I have a somewhat silly question: Is WHATWG a legal entity? The reason Im asking is that I have to quote a WHATG standard in a context that requires giving a place of publication. Is there any notion of headquarter that could be used for this purpose?</blockquote></mx-reply>it is not; there's no reasonable answer for place of publication except for online</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Sep 29 2022 04:02:55 GMT-0700 (Pacific Daylight Time)">11:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@b0ggl3:matrix.org">b0ggl3</span>&gt;</div></td><td class="msg-cell">Ok, thanks.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Sep 29 2022 06:21:08 GMT-0700 (Pacific Daylight Time)">13:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: one thing I noticed with <code><a href="http://review.py">review.py</a></code> is that it didn't reuse the existing origin branch when doing the update. It's not too hard to correct later as git push will tell you what to do, but it would be nice if it sorted that automatically. Would you happen to know offhand what we need to change? Otherwise I can look into it.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Sep 29 2022 06:29:21 GMT-0700 (Pacific Daylight Time)">13:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: <code>&lt;meta&gt;</code> is used on 98.9% of pages per <a href="https://almanac.httparchive.org/en/2022/markup#fig-10">https://almanac.httparchive.org/en/2022/markup#fig-10</a></td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Sep 29 2022 06:40:24 GMT-0700 (Pacific Daylight Time)">13:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: 94.05% of pages use /&gt; syntax on serialize-as-void elements, in the 10k sample dataset</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Sep 29 2022 06:40:54 GMT-0700 (Pacific Daylight Time)">13:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><pre><code>SELECT
  COUNT(DISTINCT page) AS num
FROM
  `httparchive.sample_data.response_bodies_mobile_10k`
WHERE
  page = url AND
  REGEXP_CONTAINS(body, r'(?i)(&lt;(?:area|base|br|col|embed|hr|img|input|link|meta|source|track|wbr|basefont|bgsound|frame|keygen)(?:\s+(?:[^\/&gt;]|\/[^&gt;])*)?\/&gt;)')
</code></pre>
</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Sep 29 2022 06:48:40 GMT-0700 (Pacific Daylight Time)">13:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: so either your counter is backwards and counts documents that <em>don't</em> use /&gt;, or 943 validations of the 1000 were j9t validating his pages :)</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Sep 29 2022 09:29:41 GMT-0700 (Pacific Daylight Time)">16:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">smaug</span>: <a href="https://github.com/WebKit/WebKit/pull/4822">https://github.com/WebKit/WebKit/pull/4822</a></td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Sep 29 2022 11:22:41 GMT-0700 (Pacific Daylight Time)">18:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">that is yes what I've been pondering</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Sep 29 2022 11:30:04 GMT-0700 (Pacific Daylight Time)">18:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">It does change the behavior of shadow DOM creation, since images start loading sooner and script execution happens too rather soon (I mean while other nodes are still being added to shadow DOM), but hopefully that would be ok. <span class="nick-6">nolanlawson</span> would streaming approach work for SF?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Sep 29 2022 12:50:53 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@nolanlawson:matrix.org">nolanlawson</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> It does change the behavior of shadow DOM creation, since images start loading sooner and script execution happens too rather soon (I mean while other nodes are still being added to shadow DOM), but hopefully that would be ok. <span class="nick-6">nolanlawson</span> would streaming approach work for SF?</blockquote></mx-reply>Streaming is exactly what we'd like for DSD, yes. Given our heavy use of shadow DOM, the alternative would be nothing being rendered until the top-level <code>template</code> end tag is parsed (AIUI).</td></tr>

</tbody></table></div></div></div>
</body></html>