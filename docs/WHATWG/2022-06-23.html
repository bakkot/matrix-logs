<!DOCTYPE html><html><head>
  <title>WHATWG on 2022-06-23</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2022-06-23<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-06-22" class="nav-link"><span>prev</span></a>
<a href="2022-06-24" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jun 23 2022 00:48:50 GMT-0700 (Pacific Daylight Time)">07:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">smaug</span>: <span class="nick-3">Luca Casonato</span>: see <a href="https://github.com/w3c/FileAPI/issues/43">https://github.com/w3c/FileAPI/issues/43</a> for changing that (it shouldn't lowercase parameters as that can change meaning in certain cases, such as with <code>boundary</code>)</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jun 23 2022 01:49:32 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: when you're around, can you merge <a href="https://github.com/validator/htmlparser/pull/70">https://github.com/validator/htmlparser/pull/70</a>? Henri will be afk for a couple weeks :)</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jun 23 2022 03:26:29 GMT-0700 (Pacific Daylight Time)">10:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-16">sideshowbarker</span>: when you're around, can you merge <a href="https://github.com/validator/htmlparser/pull/70">https://github.com/validator/htmlparser/pull/70</a>? Henri will be afk for a couple weeks :)</blockquote></mx-reply>yup —&nbsp;just now merged</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jun 23 2022 03:29:25 GMT-0700 (Pacific Daylight Time)">10:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: if you can review <a href="https://github.com/validator/htmlparser/pull/71">https://github.com/validator/htmlparser/pull/71</a> as well that'd be awesome, but no worries, it's not super-urgent (though it should be trivial :P). Tests and so have been reviewed already in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1775477">https://bugzilla.mozilla.org/show_bug.cgi?id=1775477</a> fwiw :)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Jun 23 2022 03:29:44 GMT-0700 (Pacific Daylight Time)">10:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">will look right now</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jun 23 2022 03:30:38 GMT-0700 (Pacific Daylight Time)">10:30</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span></div></td><td class="msg-cell">checks the spec</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jun 23 2022 03:31:27 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">hmm yeah <code>keygen</code> is not in the spec any longer, I see</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jun 23 2022 03:31:40 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span></div></td><td class="msg-cell">now reads <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1775477">https://bugzilla.mozilla.org/show_bug.cgi?id=1775477</a></td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jun 23 2022 03:32:53 GMT-0700 (Pacific Daylight Time)">10:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell">Yeah, all browsers agree on it being an HTMLUnknownElement <em>except</em> gecko when created from the parser, because we forgot to regenerate the C++ sources / <a href="http://ElementName.java">ElementName.java</a> :-(</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jun 23 2022 03:33:05 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">heh :)</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jun 23 2022 03:33:38 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">well, it’s merged now — so we’ll have proper interop for it</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jun 23 2022 03:33:50 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">minor win but hey, it’s still good</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jun 23 2022 03:34:07 GMT-0700 (Pacific Daylight Time)">10:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell">yeah, fairly minor, but while I was at it seemed worth doing :)</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jun 23 2022 03:34:19 GMT-0700 (Pacific Daylight Time)">10:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">yup</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jun 23 2022 06:35:49 GMT-0700 (Pacific Daylight Time)">13:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</div></td><td class="msg-cell">Hmm why is <a href="http://lists.whatwg.org">lists.whatwg.org</a> incomplete? (Doesn't contain replies to the referenced email)</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jun 23 2022 06:35:57 GMT-0700 (Pacific Daylight Time)">13:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</div></td><td class="msg-cell">referenced in <a href="https://twitter.com/fmalina/status/1539963473488011264">https://twitter.com/fmalina/status/1539963473488011264</a></td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Jun 23 2022 10:22:18 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">It was created from some static backup crawl that I believe was incomplete</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Jun 23 2022 10:22:42 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/whatwg/whatwg.org/pull/270">https://github.com/whatwg/whatwg.org/pull/270</a></td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Jun 23 2022 10:23:40 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/whatwg/meta/issues/153#issuecomment-566980200">https://github.com/whatwg/meta/issues/153#issuecomment-566980200</a></td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Jun 23 2022 13:08:50 GMT-0700 (Pacific Daylight Time)">20:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell"><p>I think that the discrepancy between the HTML standard's <code>aside</code> element and WAI-ARIA's <code>contentinfo</code> role warrants breaking the first rule of ARIA, but I'm just a novice so i thought i should ask first:<br>
In articles on my website, I have section permalinks following each <code>&lt;h2&gt;</code> (excluding those in sections with <code>role="doc-preface"</code>, since those aren't in the TOC). I want these permalinks to look more or less the same whether you use a textual browser (e.g. lynx) or a graphical browser, and to not be radically different to screen reader users. <a href="https://seirdy.one/posts/2022/06/10/cli-best-practices/">Here's an example article</a>.<br>
Problem: some article extractors ("reader modes") don't handle these section permalinks well. DOM Distiller (Chromium) completely removes the headings and permalinks; Readability (Firefox, Brave), Safari reading mode, and Immersive Reader (used in Edge) include the permalinks; Trafilatura sometimes combines the headings and permalinks without any whitespace between them. Ideally, a reading-mode implementation would just remove the section permalinks but keep the headings; none of them do this.<br>
One change that would fix all these reading-modes would be wrapping the section permalinks in an <code>aside</code> element. That seems in line with the HTML Standard (ancilliary content that a reading-mode can exclude), but doesn't seem to be in line with WAI-ARIA: I don't want to create a <code>contentinfo</code> landmark for each section permalink! I could override the <code>aside</code> elements' implicit roles with an explicit <code>role</code> attribute, but I want to be careful; I've never broken the first rule of ARIA before, so I don't know if this is the "right place" to do so.</p>
<p>Anyone more familiar with the standards know how I should navigate this discrepancy between the WHATWG HTML standard and WAI-ARIA?</p></td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Jun 23 2022 13:16:58 GMT-0700 (Pacific Daylight Time)">20:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Permalinks don't seem like &lt;aside&gt;s to me. Recall that aside is a "section of the page", i.e. something that traditionally has its own headings, content, etc.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Jun 23 2022 13:18:12 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">ah I see</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Jun 23 2022 13:18:18 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">How would you mark this up?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Jun 23 2022 13:18:36 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">I've seen many different ways of doing this but I'm not particularly fond of them</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Jun 23 2022 13:18:59 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">because they make textual-browsers, graphical-browsers, and screen readers show content that is too different (IMO)</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Jun 23 2022 13:20:08 GMT-0700 (Pacific Daylight Time)">20:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an <code>aria-labelledby</code> that includes the visible link name and the section name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Jun 23 2022 13:27:13 GMT-0700 (Pacific Daylight Time)">20:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">I don't know how I would mark it up because I don't know the exact heuristics article extractors use to get rid of elements</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Jun 23 2022 13:29:14 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/mozilla/readability/blob/master/Readability.js#L121">https://github.com/mozilla/readability/blob/master/Readability.js#L121</a> gives some potential clues... like if you put class="utility" maybe they will go away? In Readability at least?</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Jun 23 2022 13:29:33 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">hmm that's a last resort i guess</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Jun 23 2022 13:30:43 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span></div></td><td class="msg-cell">likes the perhaps-unrealistic ideal of making a website that sticks only to exisitng standards and doesn't have any implementation-specific quirks.</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Jun 23 2022 13:30:57 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">But these tools you're trying to cater for don't have any standards governing them</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Jun 23 2022 13:30:57 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">(thi is  a personal site after all heh)</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Jun 23 2022 13:31:12 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">well, they sort of do</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Jun 23 2022 13:31:18 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">readability and apple reader mode at least</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Jun 23 2022 13:31:33 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Oh, I wasn't aware? Where's the spec for them?</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Jun 23 2022 13:32:15 GMT-0700 (Pacific Daylight Time)">20:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">they use microdata with <a href="http://schema.org">schema.org</a> vocab to identify articles (when that markup exists), semantic html elements like <code>aside</code> and <code>article</code>, Dublin Core and more microdata for metadata extraction, etc.</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Jun 23 2022 13:32:22 GMT-0700 (Pacific Daylight Time)">20:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">so i guess it's not a standard for their behavior</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Jun 23 2022 13:32:32 GMT-0700 (Pacific Daylight Time)">20:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">more like standards they observe</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Jun 23 2022 13:32:55 GMT-0700 (Pacific Daylight Time)">20:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">DOM Distiller tries to be "smart" and also removes elements with high link-density</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu Jun 23 2022 13:33:03 GMT-0700 (Pacific Daylight Time)">20:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">that's not a standard behavior</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu Jun 23 2022 13:33:08 GMT-0700 (Pacific Daylight Time)">20:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Yeah, but the core behavior of stripping elements has no standard, so to the extent you want to interact with that, you're gonna have to use something nonstandard.</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu Jun 23 2022 13:33:43 GMT-0700 (Pacific Daylight Time)">20:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">yeah i mean they identify the meanings of elements when extracting content, and they perform that identification according to existing standards</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu Jun 23 2022 13:33:57 GMT-0700 (Pacific Daylight Time)">20:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">when they render that extracted content, that's nonstandard ofc</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Thu Jun 23 2022 13:34:33 GMT-0700 (Pacific Daylight Time)">20:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">It's not clear to me whether they perform the extraction before or after filtering out elements, but I take your meaning</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Thu Jun 23 2022 13:35:17 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">honestly im probably overthinking this, but it's fun. i just find the whole concept of article-distillation so interesting :3</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Thu Jun 23 2022 13:36:32 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">the way you gotta balance the need to observe standards (identify elements: what is an article and what isn't?) but still break them (remove parts of a page) presents a really fascinating problem.</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Thu Jun 23 2022 13:36:45 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Yeah, I find it pretty interesting too. It's unfortunately at that intersection of technologies like "semantic web" where, if everyone did perfect markup + maybe we made a couple more specs, we could have a nice result. But 95% of people won't do perfect markup so heuristics rule.</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Thu Jun 23 2022 13:36:58 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">well it's a combination</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Thu Jun 23 2022 13:37:24 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">for instance, they use hueristics to determine <em>if</em> reader mode should even be presented on a page</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Thu Jun 23 2022 13:37:36 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">those hueristics are gerated by a ML program</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Thu Jun 23 2022 13:37:38 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">E.g. reader mode won't even trigger in Firefox for any WHATWG specs because they are at the root of their domain and Firefox has a heuristic to not allow reader mode on root domains.</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Thu Jun 23 2022 13:37:50 GMT-0700 (Pacific Daylight Time)">20:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">(Fathom on mozilla's side; check out #fathom:<a href="http://mozilla.org">mozilla.org</a>)</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Thu Jun 23 2022 13:39:26 GMT-0700 (Pacific Daylight Time)">20:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">but when it comes to the actual article-distillation process on a page that has decent markup, Readability is quite predictable. It observes existing standards quite well.</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Thu Jun 23 2022 13:39:28 GMT-0700 (Pacific Daylight Time)">20:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">I wonder if an ML model would do better at article extraction than existing code like readability. If you had enough training data... but I do not know how much is "enough"</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Thu Jun 23 2022 13:39:41 GMT-0700 (Pacific Daylight Time)">20:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">I don't find <a href="https://github.com/mozilla/readability/blob/master/Readability.js#L2062-L2142">https://github.com/mozilla/readability/blob/master/Readability.js#L2062-L2142</a> very predictable tbh :)</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Thu Jun 23 2022 13:40:04 GMT-0700 (Pacific Daylight Time)">20:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><code>(!isList &amp;&amp; headingDensity &lt; 0.9 &amp;&amp; contentLength &lt; 25 &amp;&amp; (img === 0 || img &gt; 2) &amp;&amp; !this._hasAncestorTag(node, "figure"))</code> as just one line...</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Thu Jun 23 2022 13:41:40 GMT-0700 (Pacific Daylight Time)">20:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">Domenic</span>: DOM Distiller uses a weird-ass hybrid approach that combines multiple different extraction algos and uses hueristics to determine which algo to use. The algos were mostly written by humans, but they used the outputs of some machine learning programs as reference. And DOM-Distiller is a Java program transpiled to JavaScript.</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Thu Jun 23 2022 13:41:54 GMT-0700 (Pacific Daylight Time)">20:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">all that complexity screams "Google project" to me, heh</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Thu Jun 23 2022 13:42:43 GMT-0700 (Pacific Daylight Time)">20:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">ironically the article-extractor made by an adtech company (Google) is the most aggressive at removing sponsored content (link density hueristics give false positives).</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Thu Jun 23 2022 13:43:46 GMT-0700 (Pacific Daylight Time)">20:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">also the version built into chromium is only available via chrome://flags, and the flag expired in m105 so 🤷</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Thu Jun 23 2022 13:45:14 GMT-0700 (Pacific Daylight Time)">20:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I don't find <a href="https://github.com/mozilla/readability/blob/master/Readability.js#L2062-L2142">https://github.com/mozilla/readability/blob/master/Readability.js#L2062-L2142</a> very predictable tbh :)</blockquote></mx-reply>oh true</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Thu Jun 23 2022 13:46:27 GMT-0700 (Pacific Daylight Time)">20:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">would be nice if reading-modes had a "simple" and "aggressive" mode. where the simple mode errs towards "trust the page" and strictly observes standards when identifying elements, while the "agressive" mode assumes the page has bad or deceitful markup to sneak in some ads and whatnot.</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Thu Jun 23 2022 13:46:40 GMT-0700 (Pacific Daylight Time)">20:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">and users could switch between them</td></tr>

</tbody></table></div></div></div>
</body></html>