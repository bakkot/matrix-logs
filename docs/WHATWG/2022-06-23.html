<!DOCTYPE html><html><head>
  <title>WHATWG on 2022-06-23</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2022-06-23<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-06-22" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jun 23 2022 00:48:50 GMT-0700 (Pacific Daylight Time)">07:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">smaug</span>: <span class="nick-3">Luca Casonato</span>: see <a href="https://github.com/w3c/FileAPI/issues/43">https://github.com/w3c/FileAPI/issues/43</a> for changing that (it shouldn't lowercase parameters as that can change meaning in certain cases, such as with <code>boundary</code>)</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jun 23 2022 01:49:32 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: when you're around, can you merge <a href="https://github.com/validator/htmlparser/pull/70">https://github.com/validator/htmlparser/pull/70</a>? Henri will be afk for a couple weeks :)</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jun 23 2022 03:26:29 GMT-0700 (Pacific Daylight Time)">10:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-16">sideshowbarker</span>: when you're around, can you merge <a href="https://github.com/validator/htmlparser/pull/70">https://github.com/validator/htmlparser/pull/70</a>? Henri will be afk for a couple weeks :)</blockquote></mx-reply>yup —&nbsp;just now merged</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jun 23 2022 03:29:25 GMT-0700 (Pacific Daylight Time)">10:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">sideshowbarker</span>: if you can review <a href="https://github.com/validator/htmlparser/pull/71">https://github.com/validator/htmlparser/pull/71</a> as well that'd be awesome, but no worries, it's not super-urgent (though it should be trivial :P). Tests and so have been reviewed already in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1775477">https://bugzilla.mozilla.org/show_bug.cgi?id=1775477</a> fwiw :)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Jun 23 2022 03:29:44 GMT-0700 (Pacific Daylight Time)">10:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">will look right now</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jun 23 2022 03:30:38 GMT-0700 (Pacific Daylight Time)">10:30</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span></div></td><td class="msg-cell">checks the spec</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jun 23 2022 03:31:27 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">hmm yeah <code>keygen</code> is not in the spec any longer, I see</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jun 23 2022 03:31:40 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span></div></td><td class="msg-cell">now reads <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1775477">https://bugzilla.mozilla.org/show_bug.cgi?id=1775477</a></td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jun 23 2022 03:32:53 GMT-0700 (Pacific Daylight Time)">10:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell">Yeah, all browsers agree on it being an HTMLUnknownElement <em>except</em> gecko when created from the parser, because we forgot to regenerate the C++ sources / <a href="http://ElementName.java">ElementName.java</a> :-(</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jun 23 2022 03:33:05 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">heh :)</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jun 23 2022 03:33:38 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">well, it’s merged now — so we’ll have proper interop for it</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jun 23 2022 03:33:50 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">minor win but hey, it’s still good</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jun 23 2022 03:34:07 GMT-0700 (Pacific Daylight Time)">10:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell">yeah, fairly minor, but while I was at it seemed worth doing :)</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jun 23 2022 03:34:19 GMT-0700 (Pacific Daylight Time)">10:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:mozilla.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">yup</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jun 23 2022 06:35:49 GMT-0700 (Pacific Daylight Time)">13:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</div></td><td class="msg-cell">Hmm why is <a href="http://lists.whatwg.org">lists.whatwg.org</a> incomplete? (Doesn't contain replies to the referenced email)</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jun 23 2022 06:35:57 GMT-0700 (Pacific Daylight Time)">13:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan_:matrix.org">zcorpan</span>&gt;</div></td><td class="msg-cell">referenced in <a href="https://twitter.com/fmalina/status/1539963473488011264">https://twitter.com/fmalina/status/1539963473488011264</a></td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Jun 23 2022 10:22:18 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">It was created from some static backup crawl that I believe was incomplete</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Jun 23 2022 10:22:42 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/whatwg/whatwg.org/pull/270">https://github.com/whatwg/whatwg.org/pull/270</a></td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Jun 23 2022 10:23:40 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/whatwg/meta/issues/153#issuecomment-566980200">https://github.com/whatwg/meta/issues/153#issuecomment-566980200</a></td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Jun 23 2022 13:08:50 GMT-0700 (Pacific Daylight Time)">20:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell"><p>I think that the discrepancy between the HTML standard's <code>aside</code> element and WAI-ARIA's <code>contentinfo</code> role warrants breaking the first rule of ARIA, but I'm just a novice so i thought i should ask first:<br>
In articles on my website, I have section permalinks following each <code>&lt;h2&gt;</code> (excluding those in sections with <code>role="doc-preface"</code>, since those aren't in the TOC). I want these permalinks to look more or less the same whether you use a textual browser (e.g. lynx) or a graphical browser, and to not be radically different to screen reader users. <a href="https://seirdy.one/posts/2022/06/10/cli-best-practices/">Here's an example article</a>.<br>
Problem: some article extractors ("reader modes") don't handle these section permalinks well. DOM Distiller (Chromium) completely removes the headings and permalinks; Readability (Firefox, Brave), Safari reading mode, and Immersive Reader (used in Edge) include the permalinks; Trafilatura sometimes combines the headings and permalinks without any whitespace between them. Ideally, a reading-mode implementation would just remove the section permalinks but keep the headings; none of them do this.<br>
One change that would fix all these reading-modes would be wrapping the section permalinks in an <code>aside</code> element. That seems in line with the HTML Standard (ancilliary content that a reading-mode can exclude), but doesn't seem to be in line with WAI-ARIA: I don't want to create a <code>contentinfo</code> landmark for each section permalink! I could override the <code>aside</code> elements' implicit roles with an explicit <code>role</code> attribute, but I want to be careful; I've never broken the first rule of ARIA before, so I don't know if this is the "right place" to do so.</p>
<p>Anyone more familiar with the standards know how I should navigate this discrepancy between the WHATWG HTML standard and WAI-ARIA?</p></td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Jun 23 2022 13:16:58 GMT-0700 (Pacific Daylight Time)">20:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">Permalinks don't seem like &lt;aside&gt;s to me. Recall that aside is a "section of the page", i.e. something that traditionally has its own headings, content, etc.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Jun 23 2022 13:18:12 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">ah I see</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Jun 23 2022 13:18:18 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">How would you mark this up?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Jun 23 2022 13:18:36 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">I've seen many different ways of doing this but I'm not particularly fond of them</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Jun 23 2022 13:18:59 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">because they make textual-browsers, graphical-browsers, and screen readers show content that is too different (IMO)</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Jun 23 2022 13:20:08 GMT-0700 (Pacific Daylight Time)">20:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an <code>aria-labelledby</code> that includes the visible link name and the section name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Jun 23 2022 13:27:13 GMT-0700 (Pacific Daylight Time)">20:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell">I don't know how I would mark it up because I don't know the exact heuristics article extractors use to get rid of elements</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Jun 23 2022 13:29:14 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@domenicdenicola:matrix.org">Domenic</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/mozilla/readability/blob/master/Readability.js#L121">https://github.com/mozilla/readability/blob/master/Readability.js#L121</a> gives some potential clues... like if you put class="utility" maybe they will go away? In Readability at least?</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Jun 23 2022 13:29:33 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@seirdy:seirdy.one">Seirdy</span>&gt;</div></td><td class="msg-cell">hmm that's a last resort i guess</td></tr>

</tbody></table></div></div></div>
</body></html>