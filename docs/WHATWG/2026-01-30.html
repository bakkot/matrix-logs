<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>WHATWG on 2026-01-30</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "WHATWG";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">WHATWG<br>2026-01-30<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2026-01-29" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search WHATWG">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jan 29 2026 21:20:01 GMT-0800 (Pacific Standard Time)">05:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><a href="https://x.com/filpizlo/status/2017074082249048347">https://x.com/filpizlo/status/2017074082249048347</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jan 29 2026 23:14:21 GMT-0800 (Pacific Standard Time)">07:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell">Commented. Thanks</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jan 29 2026 23:19:15 GMT-0800 (Pacific Standard Time)">07:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><span class="nick-14">zcorpan</span>: We were talking on the whattnot call about the <em>“Why not just use PIs instead of minting a new exclamation point syntax?”</em> question for the marker thing, and Noam mentioned you had expressed some rationale for why. What was that? Or could you give a link(s) to your comment(s) on that?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jan 29 2026 23:20:42 GMT-0800 (Pacific Standard Time)">07:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell">IMHO Henri makes a pretty strong case for why we should just use PIs&nbsp;—&nbsp;unless there’s some really compelling reason not to.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Jan 29 2026 23:33:24 GMT-0800 (Pacific Standard Time)">07:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> IMHO Henri makes a pretty strong case for why we should just use PIs&nbsp;—&nbsp;unless there’s some really compelling reason not to.</blockquote></mx-reply>FWIW I was convinced especially by the arguments that extensions might be incompat; I think we can have something like ProcessingInstruction.prototype.marker that points to the actual clean marker data, not even a subclass, and can respond to mutations of the PI's data. This allows zero modifications to DOM and makes marker inspection and manipulation agnostic of whether its xml or HTML</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jan 29 2026 23:45:34 GMT-0800 (Pacific Standard Time)">07:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-16">sideshowbarker</span>: I proposed it in <a href="https://github.com/whatwg/html/issues/11542#issuecomment-3759955087">https://github.com/whatwg/html/issues/11542#issuecomment-3759955087</a></p>
<p>The main benefit I think is less confusion about the end of the "tag" in the syntax. In XML PIs end with ?&gt; but in the HTML parser it ends with &gt;. But the compat with XML tooling and DOM traversal scripts is more important, so I think now we should use PIs and live with mutability. We can trim a trailing "?" in the parser so polyglot is still possible.</p>
</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jan 29 2026 23:51:53 GMT-0800 (Pacific Standard Time)">07:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@sideshowbarker:matrix.org">sideshowbarker</span>&gt;</div></td><td class="msg-cell"><p>Ah I see:</p>
<blockquote>
<p><em>If we're going to use a new node type instead of ProcessingInstruction, there's no need to use the syntax for processing instructions.</em></p>
</blockquote>
<p>So yeah, objectively it’d make sense <em>if</em> we did have a very good reason to use a new node type. Which takes it back more to just being about the question of whether we need to use a new node type. And yeah the <em>“the compat with XML tooling and DOM traversal scripts”</em> argument seems to weigh things more heavily toward not doing that.</p>
</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jan 29 2026 23:54:31 GMT-0800 (Pacific Standard Time)">07:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">Note that <code>ProcessingInstruction</code>'s "target" is immutable, so at least the marker type can remain immutable and mutating the data only affects the name and whatever attributes future usages of this process</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri Jan 30 2026 00:03:22 GMT-0800 (Pacific Standard Time)">08:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Noam Rosenthal</span>: ah yes. Simplest would be to not have pseudo-attributes but just take the data and treat as the name. If we want fail-open future compat: no have pseudo-attributes for now, but let the name be the part in the data before any whitespace.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri Jan 30 2026 00:04:18 GMT-0800 (Pacific Standard Time)">08:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-8">Noam Rosenthal</span>: ah yes. Simplest would be to not have pseudo-attributes but just take the data and treat as the name. If we want fail-open future compat: no have pseudo-attributes for now, but let the name be the part in the data before any whitespace.</blockquote></mx-reply>Yes I think the latter. There are already emerging cases for pseudo attributes, eg for using this for css custom highlights</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri Jan 30 2026 00:05:11 GMT-0800 (Pacific Standard Time)">08:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">I wonder if it's important to have it as a property of a PI rather than a subclass. HTML elements are subclasses despite not being known to XML</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri Jan 30 2026 00:19:59 GMT-0800 (Pacific Standard Time)">08:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@zcorpan:mozilla.org">zcorpan</span>&gt;</div></td><td class="msg-cell">Hmm yeah, subclass seems like it should be compatible enough. I think it would only break checks like <code><a href="http://node.constructor.name">node.constructor.name</a></code> but probably scripts usually use <code>nodeType</code></td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri Jan 30 2026 00:58:28 GMT-0800 (Pacific Standard Time)">08:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">Do we need a subclass? If we actually define how the pseudo-attributes are parsed in a way that exactly matches what we do for style sheets we could just repurpose all of it.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri Jan 30 2026 01:00:08 GMT-0800 (Pacific Standard Time)">09:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">We might have some flexibility to start allowing unquoted values in there or names without values. Not sure.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Fri Jan 30 2026 01:01:39 GMT-0800 (Pacific Standard Time)">09:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Do we need a subclass? If we actually define how the pseudo-attributes are parsed in a way that exactly matches what we do for style sheets we could just repurpose all of it.</blockquote></mx-reply>Probably for the case where a plain xml PI is adopted in an HTML doc</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Fri Jan 30 2026 01:02:02 GMT-0800 (Pacific Standard Time)">09:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">But not 100% certain </td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri Jan 30 2026 01:03:58 GMT-0800 (Pacific Standard Time)">09:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">I'm not sure I understand. I think Henri's idea is that we essentially have PIs with as much structure as they have today and then the structured data is created lazily on top, perhaps exposed through an API. And the syntax for the structured data follows what we already implement for the xml-stylesheet PI.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri Jan 30 2026 01:05:01 GMT-0800 (Pacific Standard Time)">09:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I'm not sure I understand. I think Henri's idea is that we essentially have PIs with as much structure as they have today and then the structured data is created lazily on top, perhaps exposed through an API. And the syntax for the structured data follows what we already implement for the xml-stylesheet PI.</blockquote></mx-reply>Yes, the question is if the marker specific API is exposed for things that are not a marker target. Currently though it's just a name</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri Jan 30 2026 01:06:00 GMT-0800 (Pacific Standard Time)">09:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">I think we just make all PIs possible markers and all of them support some kind of attribute API. So you can do &lt;?highlight&gt; and such.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri Jan 30 2026 01:06:39 GMT-0800 (Pacific Standard Time)">09:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">And then highlightPI.setAttribute('type', 'syntax-error') or some such.</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri Jan 30 2026 01:06:55 GMT-0800 (Pacific Standard Time)">09:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I think we just make all PIs possible markers and all of them support some kind of attribute API. So you can do &lt;?highlight&gt; and such.</blockquote></mx-reply>That's also ok though the parser needs to know which ones to parse, to avoid web compat issues</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri Jan 30 2026 01:07:25 GMT-0800 (Pacific Standard Time)">09:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">Ie parse unknown ones as bogus comments </td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri Jan 30 2026 01:07:38 GMT-0800 (Pacific Standard Time)">09:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">Have we already identified we can't parse &lt;? as PIs universally?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri Jan 30 2026 01:07:58 GMT-0800 (Pacific Standard Time)">09:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">We identified that there is use of them in the wild as bogus comments </td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri Jan 30 2026 01:08:26 GMT-0800 (Pacific Standard Time)">09:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">Not a whole lot but some target names are in use</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri Jan 30 2026 01:08:43 GMT-0800 (Pacific Standard Time)">09:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">Do you think we can blocklist?</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri Jan 30 2026 01:08:50 GMT-0800 (Pacific Standard Time)">09:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">At the very least extending it to the full range of names is something we can do gradually </td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri Jan 30 2026 01:09:26 GMT-0800 (Pacific Standard Time)">09:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">As in first just parse an allowlist and continue from there with a separate compat rollout </td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri Jan 30 2026 01:09:37 GMT-0800 (Pacific Standard Time)">09:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">If we just ban xml/xml-stylesheet/php/?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri Jan 30 2026 01:10:03 GMT-0800 (Pacific Standard Time)">09:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">Probably a few more common ones in the HA IIRC</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Fri Jan 30 2026 01:10:35 GMT-0800 (Pacific Standard Time)">09:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">It seems like we should be able to get some data on that and then just forever let those names be bogus comments.</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Fri Jan 30 2026 01:11:27 GMT-0800 (Pacific Standard Time)">09:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">I am not opposed to that. In the end it's the same feature with different compat strategies.</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Fri Jan 30 2026 01:14:06 GMT-0800 (Pacific Standard Time)">09:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:matrix.org">annevk</span>&gt;</div></td><td class="msg-cell">I think figuring that out first will give us a bit more room when we get to concrete features that will use these PIs. So doing the parser changes to enable PIs in HTML and figuring out the syntax xml-stylesheet PIs use in a bit more detail.</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Fri Jan 30 2026 01:31:13 GMT-0800 (Pacific Standard Time)">09:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell">Btw another feature I can envision for these markers/PIs is a directive for the parser to buffer instead of stream, to help authors avoid rendering at intermediate points... But that needs some incubation </td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Fri Jan 30 2026 02:33:57 GMT-0800 (Pacific Standard Time)">10:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@noamr:matrix.org">Noam Rosenthal</span>&gt;</div></td><td class="msg-cell"><a href="https://docs.google.com/spreadsheets/d/1VZDB3BA-G5VZpHdpYAEczVB1u2iEkN2YC-6dZdNuyBU/edit?gid=0#gid=0">https://docs.google.com/spreadsheets/d/1VZDB3BA-G5VZpHdpYAEczVB1u2iEkN2YC-6dZdNuyBU/edit?gid=0#gid=0</a>

xml, php, ra-page, xpacket, if, echo, import appear in more than 0.001% of main document responses in January 2026.
Only &lt;?xml and &lt;?php appear in more than 0.1% of pages, Up to us where we want to draw the line</td></tr>

</tbody></table></div></div></div>
</body></html>