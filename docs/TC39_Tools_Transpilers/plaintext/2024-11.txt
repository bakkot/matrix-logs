2024-11-12
[13:01:49.0584] <Jan Olaf Martin>
Spent some time gathering data on the portability on various `import.meta` patterns across tools & runtimes. TL;DR: It's effectively impossible to write fully portable code (across bundling & SSR) that makes use of any `import.meta` API. :D https://bundlers.dev/javascript/modules/import.meta/

[13:40:50.0324] <littledan>
tbh I'm kinda upset that this import.meta thing caught on at all; it seems like an abuse of the API.

[13:47:13.0077] <Jan Olaf Martin>
It does repeat some mistakes that I've seen from import resolution as well: TC39 spec'd a syntax and left the semantics as an exercise to the reader without established spec venue.

[13:48:28.0780] <Jan Olaf Martin>
I'm hoping we can find a way to get those kinds of cross-tooling concerns specified somewhere to at least have a common core of things that can be expected to work consistently.

