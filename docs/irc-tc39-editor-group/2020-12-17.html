<!doctype html>
<head>
  <title>#tc39-editor-group on 2020-12-17</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#tc39-editor-group<br>2020-12-17<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2020-12-16" class="nav-link"><span>prev</span></a>
<a href="2020-12-22" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/" class="current-room">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #tc39-editor-group">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Dec 16 2020 16:13:50 GMT-0800 (Pacific Standard Time)">00:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">Bakkot: thanks</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Dec 16 2020 16:15:20 GMT-0800 (Pacific Standard Time)">00:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">I guess to be pedantic you have to specify how to break ties when choosing the nearest float, which you should do with roundTiesToEven</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Dec 16 2020 16:15:30 GMT-0800 (Pacific Standard Time)">00:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">though I doubt it affects anything here</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Dec 16 2020 16:19:45 GMT-0800 (Pacific Standard Time)">00:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">also to be clear &#039;float&#039; means double</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Dec 17 2020 08:29:52 GMT-0800 (Pacific Standard Time)">16:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">Bakkot: i didn&#039;t get anything back very definitive</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Dec 17 2020 08:30:18 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">the two concrete suggestions were: 1) reformulate the question for float32 and enumerate all float32 values</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Dec 17 2020 08:30:28 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">though i don&#039;t actually understand that because the input domain is strings</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Dec 17 2020 08:30:34 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">i don&#039;t see how enumerating all float32s would help</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Dec 17 2020 08:30:44 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">and if we found an answer for float32, hope that it generalizes to float64?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Dec 17 2020 08:31:03 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">and 2) read clinger&#039;s classic paper :)</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Dec 17 2020 09:25:48 GMT-0800 (Pacific Standard Time)">17:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">alas</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Dec 17 2020 09:25:55 GMT-0800 (Pacific Standard Time)">17:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">I guess I will attempt to figure it out on my own</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Dec 17 2020 09:26:02 GMT-0800 (Pacific Standard Time)">17:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">I convinced myself of it for integers</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Dec 17 2020 09:27:17 GMT-0800 (Pacific Standard Time)">17:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">specifically, the difference between the round-down and the round-up cases is always going to be strictly less than the difference between the two floats of that magnitude, so the intermediate one (produce by not rounding) must end up as one of those two</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Dec 17 2020 09:27:29 GMT-0800 (Pacific Standard Time)">17:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">I suspect that generalizes to fractions, but I need to check</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Dec 17 2020 09:27:36 GMT-0800 (Pacific Standard Time)">17:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">and I also need to look at subnormals as a distinct case</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Dec 17 2020 09:28:04 GMT-0800 (Pacific Standard Time)">17:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">also, shu, you were the one who suggested the &quot;It is considered an editorial error&quot; phrasing in my lookahead PR; do you have thoughts on <a href="https://github.com/tc39/ecma262/pull/2254#issuecomment-747451174">https://github.com/tc39/ecma262/pull/2254#issuecomment-747451174</a>?</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Dec 17 2020 09:55:39 GMT-0800 (Pacific Standard Time)">17:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">reading</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Dec 17 2020 11:15:23 GMT-0800 (Pacific Standard Time)">19:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">fwiw i asked Raymond Toy, who knows a lot about ieee754 apparently</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Dec 17 2020 11:15:30 GMT-0800 (Pacific Standard Time)">19:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">or who has a reputation of knowing</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Dec 17 2020 11:15:52 GMT-0800 (Pacific Standard Time)">19:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">he didn&#039;t really know, but did get concerned that we still haven&#039;t yet tightened up the Math special functions to have a lower bound on accuracy :)</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Dec 17 2020 11:17:07 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">shu: i believe the last consensus we have on that is &quot;we want to do it, but none of us are expert enough to know how to specify it&quot;</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Dec 17 2020 11:17:27 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">shu: so if this person&#039;s an expert in it and wants to see it happen, they can be the change :-p</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Dec 17 2020 11:17:37 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">raymond&#039;s suggestion in the past was to pin it to the accuracy provided by fdlibm</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Dec 17 2020 11:17:50 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">which i don&#039;t love but who knows, maybe the best we can do</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Dec 17 2020 11:23:55 GMT-0800 (Pacific Standard Time)">19:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">Bakkot: oh, one thing Raymond said was that&#039;s particularly relevant here is</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Dec 17 2020 11:24:04 GMT-0800 (Pacific Standard Time)">19:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">we know this rounding languages goes to 1st edition, which is 1997</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Dec 17 2020 11:24:26 GMT-0800 (Pacific Standard Time)">19:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">Clinger&#039;s classic paper <a href="https://www.researchgate.net/publication/2295884_How_to_Read_Floating_Point_Numbers_Accurately">https://www.researchgate.net/publication/2295884_How_to_Read_Floating_Point_Numbers_Accurately</a> is 1999</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Dec 17 2020 11:25:07 GMT-0800 (Pacific Standard Time)">19:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">it also seems true that the implementation reality is divorced from what the spec says about rounding</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Dec 17 2020 11:25:27 GMT-0800 (Pacific Standard Time)">19:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">so raymond&#039;s suggestion is, can we just change the spec to reference Clinger&#039;s algorithm instead</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Dec 17 2020 11:25:49 GMT-0800 (Pacific Standard Time)">19:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">instead of spend time disambiguating some inferior solution the 1st edition folks wrote up</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Dec 17 2020 11:31:50 GMT-0800 (Pacific Standard Time)">19:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">I am not all that excited about trying to make a normative change here, tbh</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Dec 17 2020 11:32:16 GMT-0800 (Pacific Standard Time)">19:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">fair enough</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Dec 17 2020 11:32:29 GMT-0800 (Pacific Standard Time)">19:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=shu@irc>shu</span>&gt;</div></td><td class="msg-cell">none of us wants to do the empirical work of figuring out what implementations do</td></tr>

</tbody></table></div></div></div></body>
