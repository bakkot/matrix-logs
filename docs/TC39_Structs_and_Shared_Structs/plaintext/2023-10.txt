2023-10-19
[19:50:13.0241] <shu>
i haven't done much work on the proposal since TC39. does anyone have topics they want to talk about tomorrow? happy to cancel otherwise

[20:41:52.0692] <rbuckton>
I had a chat with Sulekha the other day about a few tangential things to this proposal that might be helpful in tandem with shared structs. One of the things I needed to put together for TS was a concurrent map, and a missing building block I had to work around was the lack of an identity-hash API in the standard library. It's something I've thought about proposing in the past as well

[20:43:53.0003] <rbuckton>
It might be worth some time discussing what other things are missing that might need a follow-on proposal 

[20:54:46.0629] <rbuckton>
Either the building blocks for, or complete implementations of, concurrent multi-producer/multi-consumer maps, sets, and bags, thread-safe deques, shared mutexes (multi-reader/single-writer), RAII locking primitives, efficient spin waiting for lock-free algorithms to reduce contention.

Userland implementations can't build a true identity hash efficiently, nor fast string hashing w/o resorting to WASM or native code, nor can they implement spin-waiting efficiently.

