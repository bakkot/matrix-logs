[
{"content":{"body":"I would def agree that it is confusing for this to be left implicit, especially since it currently “half explains” the concept of tokens in play.","msgtype":"m.text"},"ts":1576972826000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"If we go to https://tc39.es/ecma262/#prod-TemplateLiteral you’ll see NoSubstitutionTemplate, TemplateHead, TemplateMiddle, and TemplateTail are all terminals of the syntactic grammar, but not TemplateSubstitutionTail, which is just a production of the lexical grammar that acts to group two alternatives that occur together more than once. It’s ‘gone’ at this stage — the productions of the lexical grammar aren’t","msgtype":"m.text"},"ts":1576973029000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"parse nodes.","msgtype":"m.text"},"ts":1576973029000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"I certainly see that it isn't used there but I don't understand non-post-hoc-ly what blesses the ones that are used","msgtype":"m.text"},"ts":1576973184000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"Well, how could it not be?","msgtype":"m.text"},"ts":1576973215000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"Is there any way the syntactic grammar could employ TemplateSubstitutionTail as a terminal?","msgtype":"m.text"},"ts":1576973249000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"it seems like the only difference between TemplateSubstitutionHead and TemplateMiddle / TemplateTail is that because the latter include raw tokens in their definition, there's no shorter way to refer to them","msgtype":"m.text"},"ts":1576973275000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"er \"shorter\" is a terrible word","msgtype":"m.text"},"ts":1576973322000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"more specific I mean","msgtype":"m.text"},"ts":1576973326000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"by TemplateSubstititionHead to you mean TemplateSubstitutionTail or Template?","msgtype":"m.text"},"ts":1576973382000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"do*","msgtype":"m.text"},"ts":1576973386000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"oops yeah","msgtype":"m.text"},"ts":1576973399000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"TemplateSubstitutionTail","msgtype":"m.text"},"ts":1576973404000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"but also Template in the same way","msgtype":"m.text"},"ts":1576973425000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I may be misunderstanding the thing you see as being off-kilter","msgtype":"m.text"},"ts":1576973470000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"But I could say that the ‘blessing’ stems directly from necessity — it’s not arbitrary at least as far as ‘this specific thingie has a unique identity as a terminal symbol within the syntactic grammar’. A TemplateMiddle and a TemplateTail aren’t syntactically interchangeable.","msgtype":"m.text"},"ts":1576973626000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"completely don't understand how two productions in 11.8.6 can be said to have a different status from one another if both are further dependent on other productions; you seem to be suggesting a meaningful distinction between NoSubstitutionTemplate / TemplateHead / TemplateMiddle / TemplateTail which \"build\" something and TemplateSubstitutionTail / Template which simply list alternatives","msgtype":"m.text"},"ts":1576973673000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"but I don't know how to see this distinction manifest anywhere","msgtype":"m.text"},"ts":1576973702000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"right, a TemplateMiddle and a TemplateTail aren't interchangeable and so the syntactic grammar has had no reason to treat them the same for any purpose, but it seems like all you'd need is such a purpose, and voila","msgtype":"m.text"},"ts":1576973772000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I think that’s a pretty accurate description of what I’m saying, yes. What makes this confusing is that ‘lexical production’ and ‘token’ are two different things, and yet a subset of lexical productions shares names with tokens, and the distinction is not made clear.","msgtype":"m.text"},"ts":1576973806000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"okay","msgtype":"m.text"},"ts":1576973883000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"The distinction can only be seen implicitly by actually analyzing which productions of the lexical grammar are referenced in the syntactic grammar. This alone is sufficient to make them terminals of that grammar.","msgtype":"m.text"},"ts":1576973886000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"(Like, in an abstract definitional grammar-y sense, not in spec terms specifically.)","msgtype":"m.text"},"ts":1576973962000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"but there is something 'unblessed' about using TemplateSubstitutionTail in the syntactic grammar right now, even if one could come up with a sensible purpose for doing so?","msgtype":"m.text"},"ts":1576973988000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"well, it would be unprecedented in this grammar to consider a single terminal to have two symbolic identities","msgtype":"m.text"},"ts":1576974031000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"okay fair enough","msgtype":"m.text"},"ts":1576974087000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"It’s confusing in ES because the lexical grammar is wound up with the syntactic grammar — the multiple goals are like a trick to keep pretending the lexical grammar is a ‘normal’ context-free, regular lexical grammar.","msgtype":"m.text"},"ts":1576974257000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1576974279000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"But if you imagine a more typical case, it’s usually possible to lex/tokenize independently from parsing.","msgtype":"m.text"},"ts":1576974280000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"And each token is just ‘one symbol’ and I think that’s what’s being aimed for here. But what you’re describing seems conceptually valid to me, just not something I’ve seen before in practice I think.","msgtype":"m.text"},"ts":1576974315000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"this is my first time thinking about goals at all, and evidently up 'til this point I've not really had to dwell on what makes the lexical grammar unique","msgtype":"m.text"},"ts":1576974315000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"gotcha","msgtype":"m.text"},"ts":1576974380000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I am kind of obsessed with grammars/lexing/parsing so I’ve spent a lot of time on this subject within ES but I am by no means an expert so you should prob take my assessment with a few grains of salt.","msgtype":"m.text"},"ts":1576974398000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"haha","msgtype":"m.text"},"ts":1576974414000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I am very much enjoying working on that domain within JSC's implementation but spec text still throws me curveballs sometimes","msgtype":"m.text"},"ts":1576974515000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(not wrt to using it for impl, wrt to understanding whether something is \"written in the way that it's meant to be\" like this)","msgtype":"m.text"},"ts":1576974573000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"but also, having a background in linguistics, maybe it's better if I mentally rebucket the lexical grammar as \"morphology that happens to be specified in a way that looks almost just like syntax\"","msgtype":"m.text"},"ts":1576974616000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(lol s/wrt to/wrt/ x2)","msgtype":"m.text"},"ts":1576974655000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"bathos (“If the hashbang proposal, (private) instance fields proposal, and the smart pipeline proposal all ended up reaching stage four, would this imply ... nine different lexical goal symbols?”): For what it’s worth, a hope of the smart-pipe proposal is to consolidate several other alternative proposals, like partial application and binding, each of which proposes its own additional lexical symbol(s).","msgtype":"m.text"},"ts":1576974668000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"Understandably. On one hand I think the way the grammars are described in the spec is pretty elegant, on the other ... sometimes elegance isn’t the same as “optimized for accessible reading” ... it def took me a long time to figure out a lot of parts of the puzzle. I don’t know any other grammar that’s so parameterized (both explicitly and implicitly, e.g. ‘does annex b apply’, ‘is the goal symbol","msgtype":"m.text"},"ts":1576974688000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"module’, etc).","msgtype":"m.text"},"ts":1576974688000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"(dang, was afk for this conversation)","msgtype":"m.text"},"ts":1576974736000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck: you're not too late lol","msgtype":"m.text"},"ts":1576974749000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"except now i have to go elsewhere","msgtype":"m.text"},"ts":1576974840000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"anyhow, the 'interface","msgtype":"m.text"},"ts":1576974851000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"'interface' between the syntactic and lexical grammars is ... interesting","msgtype":"m.text"},"ts":1576974869000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"@jschoi Cool, it would def be nice if partial application / topic were aligned. Partial application is a feature I think I would get a lot of use from personally.","msgtype":"m.text"},"ts":1576974896000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"shu: come share in my grad-school flashbacks about the morphosyntactic interface rn","msgtype":"m.text"},"ts":1576974932000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"It’s certainly pretty true that there are a lot of tokens in the JavaScript language now.","msgtype":"m.text"},"ts":1576975220000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"@rkirsling my personal fave mindfuck in the lexical grammar is https://tc39.es/ecma262/#sec-html-like-comments. It took me two days to reverse engineer the reasoning behind why it is defined the way it is and what it is saying ... it does make sense, but it really felt like solving a puzzle.","msgtype":"m.text"},"ts":1576975593000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":":ohno:","msgtype":"m.text"},"ts":1576975656000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"do I dare","msgtype":"m.text"},"ts":1576975667000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"haha, maybe you’ll get it faster than I did. It involves an explicit way of writing [yes LineTerminator here].","msgtype":"m.text"},"ts":1576975728000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"or in prose ‘--> begins a single line comment only if an input element preceding it was a LineTerminator or a comment including a LineTerminator or was a non-token input element which itself satisfies that same requirement’","msgtype":"m.text"},"ts":1576975881000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"I was always too afraid to know how HTML comments in JS actually worked but","msgtype":"m.text"},"ts":1576976200000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I think I'm following","msgtype":"m.text"},"ts":1576976205000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I'm amazed that <!-- and --> don't function _as_ a multiline comment?","msgtype":"m.text"},"ts":1576976254000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"And that `--> foo`, where legal, is all a comment — foo is not an identifier there!","msgtype":"m.text"},"ts":1576976332000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"😭 @ that","msgtype":"m.text"},"ts":1576976365000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I believe this dates back to oldskool practices related to putting the content of <script> and <style> inside <!-- --> but I no longer even remember why people did that.","msgtype":"m.text"},"ts":1576976391000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"I guess to avoid entity references and things-that-look-like-closing-tags being interpreted as they normally would be.","msgtype":"m.text"},"ts":1576976429000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"Probably something related to Netscape Navigator or IE 3...","msgtype":"m.text"},"ts":1576976451000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"but I think we're saying that:","msgtype":"m.text"},"ts":1576976454000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(1) <!-- can function like //","msgtype":"m.text"},"ts":1576976454000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(2) --> can function like // after a line terminator and optionally a whitespace-separated sequence of partial-line /* */ comments","msgtype":"m.text"},"ts":1576976454000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(3) --> can function like // after an (actual) multiline /* */ comment","msgtype":"m.text"},"ts":1576976454000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1576976487000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"it's hard to imagine those days accurately now that they're long-gore","msgtype":"m.text"},"ts":1576976505000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"*long-gone","msgtype":"m.text"},"ts":1576976511000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yeah — any number of whitespace/comments/lineterminator as long as at least one included a line terminator and --> starts a comment","msgtype":"m.text"},"ts":1576976520000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"(but I guess you could call Annex B \"long gore\" lolol)","msgtype":"m.text"},"ts":1576976531000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"if you use modules","msgtype":"m.text"},"ts":1576985327000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"none of it matters","msgtype":"m.text"},"ts":1576985330000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":":P","msgtype":"m.text"},"ts":1576985330000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"rkirsling: i found an interesting bug in jsc, it doesn't throw when Object.preventExtensions fails","msgtype":"m.text"},"ts":1576985368000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"sounds like we need some coverage :D https://test262.report/browse/built-ins/Object/preventExtensions","msgtype":"m.text"},"ts":1576985582000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"last commit to test262 adds coverage for it :D","msgtype":"m.text"},"ts":1576985608000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"last commit to test262 honestly has a lot of shenanigans","msgtype":"m.text"},"ts":1576985629000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1576985699000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"rkirsling: in the phrase \"syntactic grammar contexts where a TemplateMiddle or a TemplateTail is permitted\", you can't replace that with \"... a TemplateSubstitutionTail is permitted\", because there is no syntactic context where a TemplateSubstitutionTail is permitted. That is, using only syntactic productions, you can never derive (a sentence containing) TemplateSubstitutionTail.","msgtype":"m.text"},"ts":1576994548000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1576994600000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(whereas you certainly *can* derive TemplateMiddle and TemplateTail)","msgtype":"m.text"},"ts":1576994603000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"that is a satisfying explanation, thanks","msgtype":"m.text"},"ts":1576994638000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"ah good, yw.","msgtype":"m.text"},"ts":1576994647000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"And it looks like TemplateSubstitutionTail was added at the same time (in the same ES6 draft) as TemplateMiddle and TemplateTail (though they were originally named \"Quasi\" instead of \"Template\").","msgtype":"m.text"},"ts":1576994968000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"templates are quite a weird bit of syntax","msgtype":"m.text"},"ts":1576995024000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"quasi, heh","msgtype":"m.text"},"ts":1576995348000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"bathos: In my opinion, the spec is a bit vague/inconsistent on what \"token\" means, so it's hard to say definitively whether an instance of TemplateSubstitutionTail qualifies as a token. My guess is, you're probably better off if you don't think of it as a token.","msgtype":"m.text"},"ts":1576995606000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"On second thought, i take that back. I'm not sure which way you're better off.","msgtype":"m.text"},"ts":1576995777000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"In the end, I don't think it matters.","msgtype":"m.text"},"ts":1576995948000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"I agree it’s poorly described, but it’s still unambiguous at least as far as ‘it means what it means anywhere: the terminals of the syntactic grammar’ + the note in 11.5 makes it apparent that that’s what token is referring to. I’d be comfortable saying TemplateSubstitutionTail is ‘definitively not a token,’ but it’s true that it’s hard to point to a single bit of text that establishes that.","msgtype":"m.text"},"ts":1577006079000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"what makes tokens interesting in ES is that unlike in most langs w/ a lexical and syntactic grammar, the lexical grammar of ES produces things that aren’t tokens","msgtype":"m.text"},"ts":1577006168000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"like, produces in the sense of things the syntactic grammar needs to ‘see’","msgtype":"m.text"},"ts":1577006196000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"because of that, I’d expect it to be given a more concrete def","msgtype":"m.text"},"ts":1577006259000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"rather than being all read-between-the-linesy","msgtype":"m.text"},"ts":1577006278000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"For me, what's interesting about the syntactic/lexical boundary in ES...","msgtype":"m.text"},"ts":1577022386000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(1) There's a lexical goal symbol at all. (Typically, a lexical 'grammar' will just be a bunch of rules that define the lexical form of the syntactic grammar's terminals.)","msgtype":"m.text"},"ts":1577022478000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(2) There's actually 4 lexical goal symbols, and which one to use is determined by syntactic context.","msgtype":"m.text"},"ts":1577022523000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(3) Once you've used the lexical grammar to parse the next input element, and have (at least theoretically) a lexical parse tree rooted at InputElement, the thing that the syntactic grammar/parser is interested in (the 'token', if you like) is not at a fixed depth below the root.","msgtype":"m.text"},"ts":1577022720000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(E.g., a RegularExpressionLiteral is a child of the InputElement, but a TemplateHead is a child of a Template, which is a child of a CommonToken, which is a child of the InputElement.)","msgtype":"m.text"},"ts":1577023029000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"es makes the lexical goals explicit because it has more than one. when a lexical grammar doesn’t list one, it’s shorthand for ‘the goal symbol of this grammar has the following alternatives’","msgtype":"m.text"},"ts":1577030663000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"it is unusual to not have each token in that top disjunction, though the usefulness of other grouping stems from the multiple goals thing. with a single goal, there’d be no advantage","msgtype":"m.text"},"ts":1577030752000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"(i’m sure you already get that — just trying to articulate the reason for it. your points make sense, all of those things are unusual)","msgtype":"m.text"},"ts":1577030897000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"I’d add (4) line terminator twilight zone non token tokens","msgtype":"m.text"},"ts":1577030948000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"would it be breaking to change block comments to be able to nest","msgtype":"m.text"},"ts":1577047914000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i think any code that would have changed behaviour would be syntactically invalid, just having a dangling `*/`","msgtype":"m.text"},"ts":1577047951000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Hi, I'm looking for some help regarding a new proposal. I'm hoping for feedback on what additional information should be included in my initial README.","msgtype":"m.text"},"ts":1577048060000,"senderName":"despreston","senderId":"despreston@irc"},
{"content":{"body":"https://github.com/despreston/proposal-zip","msgtype":"m.text"},"ts":1577048063000,"senderName":"despreston","senderId":"despreston@irc"},
{"content":{"body":"despreston: you might wanna say why it's preferable to something like Iterator.from(names).zip(scores)","msgtype":"m.text"},"ts":1577048262000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"not that that exists right now, but it probably will soon","msgtype":"m.text"},"ts":1577048288000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Thanks @devsnek -- that's a good idea.","msgtype":"m.text"},"ts":1577048290000,"senderName":"despreston","senderId":"despreston@irc"},
{"content":{"body":"has there been any work or discussion on Iterator.from(names).zip ?","msgtype":"m.text"},"ts":1577048305000,"senderName":"despreston","senderId":"despreston@irc"},
{"content":{"body":"despreston: it was brought up on the iterator methods proposal","msgtype":"m.text"},"ts":1577048395000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i didn't include it because there are already 22 new methods","msgtype":"m.text"},"ts":1577048402000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"but a future proposal will probably add it","msgtype":"m.text"},"ts":1577048407000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: `3 \\n */a/`?","msgtype":"m.text"},"ts":1577048606000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"ljharb: how would that interfere with the block nesting though","msgtype":"m.text"},"ts":1577048645000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i'm probably not clear on what you're suggesting","msgtype":"m.text"},"ts":1577048672000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"like","msgtype":"m.text"},"ts":1577048674000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"`/* /* */ */`","msgtype":"m.text"},"ts":1577048680000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"is one block comment","msgtype":"m.text"},"ts":1577048683000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"instead of `/* /* */` and then `*/`","msgtype":"m.text"},"ts":1577048691000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"its super annoying to block comment out something that already has a block comment somewhere within it","msgtype":"m.text"},"ts":1577048711000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"in rust it keeps track of block comment depth","msgtype":"m.text"},"ts":1577048718000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"so you can nest them","msgtype":"m.text"},"ts":1577048721000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"and it's great","msgtype":"m.text"},"ts":1577048723000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Thanks again, devsnek. I'll check those out.","msgtype":"m.text"},"ts":1577048784000,"senderName":"despreston","senderId":"despreston@irc"},
{"content":{"body":"ok but so let's say i had `var g = 2; 3 \\n /* /* */ \\n */4/g` which produces NaN","msgtype":"m.text"},"ts":1577048806000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"terrifying","msgtype":"m.text"},"ts":1577048942000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"but yeah i guess that would break","msgtype":"m.text"},"ts":1577048952000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"hopefully nobody has written code like that ofc","msgtype":"m.text"},"ts":1577048962000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"but you couldn't do that in expression position","msgtype":"m.text"},"ts":1577049005000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"so maybe we're safe?","msgtype":"m.text"},"ts":1577049020000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i dunno","msgtype":"m.text"},"ts":1577049044000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"weird as ‘multiply by regexp’ is, it’d plausibly be generated by a minifier inlining initializers. the code would have a bug (barring increasingly unlikely things) but it wouldn’t be a syntax error and could make it to prod out there somewhere","msgtype":"m.text"},"ts":1577050961000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"correct me if I’m wrong but I’m pretty sure even if found web-safe, anything that previously was syntactic valid having its interpretation *change* is subject to very high scrutiny (if ever permitted?) cause of the security implications of code that evals as two different things (as opposed to eval-vs-static-syntax-error) depending on es version implemented by agent","msgtype":"m.text"},"ts":1577051111000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"syntactically*","msgtype":"m.text"},"ts":1577051123000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"(I do think it would be a useful thing though, if it is considered possible)","msgtype":"m.text"},"ts":1577051196000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"yeah \"surely people wouldn't do that\" tends to be a tough sell wrt breaking the web","msgtype":"m.text"},"ts":1577052692000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"oh, there’s also a much more likely thing: // */","msgtype":"m.text"},"ts":1577053122000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"`/* /**/ console.log('hello'); // */`","msgtype":"m.text"},"ts":1577053152000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"nice","msgtype":"m.text"},"ts":1577053190000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yeah `// */` is basically guaranteed to exist, I'd say","msgtype":"m.text"},"ts":1577053216000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"there’s also the reverse thing — comments like /* /* */ probably aren’t uncommon, and with that change, the code that follows them would become part of the comment","msgtype":"m.text"},"ts":1577053358000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"e.g. picture an accidentally nested jsdoc comment, or decorative comment borders like /* /* /* /* /*...","msgtype":"m.text"},"ts":1577053433000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"in fact, forget accidental partial nesting — some people do multiline bordering on the left where every line starts with /*","msgtype":"m.text"},"ts":1577053516000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"or people that were temporarily commenting out code and didn't actually remove it from the commit","msgtype":"m.text"},"ts":1577053524000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"but yeah I think that would be the guaranteed problem -- suddenly everybody's got block comments running 'til the end of the file","msgtype":"m.text"},"ts":1577053647000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"or the next comment, yeah","msgtype":"m.text"},"ts":1577053696000,"senderName":"bathos","senderId":"bathos@irc"}
]