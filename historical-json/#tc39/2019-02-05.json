[
{"content":{"body":"ystartsev: mmm how do I run notes_explorer? its been soo long since I've done prolog that I've forgotten, it seems I need to use load_note -> inspect_discussion ?","msgtype":"m.text"},"ts":1549376655000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1549376676000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"do you have swipl installed?","msgtype":"m.text"},"ts":1549376681000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1549376707000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"so the basic command is swipl notes_explorer/notes_explorer.pl","msgtype":"m.text"},"ts":1549376734000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"if you are in the tc39 notes repo","msgtype":"m.text"},"ts":1549376742000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"this will get the environment set up","msgtype":"m.text"},"ts":1549376749000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"rlwrap is to make swipl less annoying","msgtype":"m.text"},"ts":1549376766000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"then you can load a note, for example: load_note(\"./es9/2018-11/nov-28\").","msgtype":"m.text"},"ts":1549376809000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"this is probably what is wrong","msgtype":"m.text"},"ts":1549376813000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i got the date wrong in the slides!","msgtype":"m.text"},"ts":1549376818000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"slides are now fixed bradleymeck ^","msgtype":"m.text"},"ts":1549376842000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"once that works, you can try loading a note using the following: print_info.","msgtype":"m.text"},"ts":1549376871000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"it will just print all info thats been loaded so far","msgtype":"m.text"},"ts":1549376879000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"from there you can grab a discussion name or a value and inspect its relationship to other things","msgtype":"m.text"},"ts":1549376897000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"(i will make the user experience better soon)","msgtype":"m.text"},"ts":1549376908000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"(i will also stop abusing format soon ðŸ˜°","msgtype":"m.text"},"ts":1549376917000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i wrote the entire thing in one sitting so it isn't perfect -- let me know any issues you run into","msgtype":"m.text"},"ts":1549376971000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i also haven't written all of the viewers","msgtype":"m.text"},"ts":1549376975000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"what is notes_explorer","msgtype":"m.text"},"ts":1549377254000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"its an experimental .... thing? ... i think thing is the best word .. that combs the notes and creates relationships between discussions","msgtype":"m.text"},"ts":1549377291000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"its here : https://github.com/codehag/tc39-notes","msgtype":"m.text"},"ts":1549377336000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"its basically a prolog program that looks for tags that I add to the notes","msgtype":"m.text"},"ts":1549377344000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"ystartsev: what are the args to print_info, [In/Ins] doesn't seem to take a .md filepath string?","msgtype":"m.text"},"ts":1549377443000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"it doesnt take args","msgtype":"m.text"},"ts":1549377451000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"it just prints everything it has","msgtype":"m.text"},"ts":1549377454000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"oh wait a sec, maybe i got something wrong","msgtype":"m.text"},"ts":1549377467000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"ah sorry the cmd is write_to_text.","msgtype":"m.text"},"ts":1549377493000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"not print_info","msgtype":"m.text"},"ts":1549377497000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"print info is more general","msgtype":"m.text"},"ts":1549377501000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i got the slides wrong, sorry","msgtype":"m.text"},"ts":1549377505000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i updated them again","msgtype":"m.text"},"ts":1549377526000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"you can also use write_to_dot. or write_to_json.","msgtype":"m.text"},"ts":1549377541000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i will write up the readme properly in a few days when i have a moment","msgtype":"m.text"},"ts":1549377656000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"but if you know prolog, and you load the note -- you can start playing with that world as you like","msgtype":"m.text"},"ts":1549377679000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"prolog though","msgtype":"m.text"},"ts":1549377682000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"example: findall(X, lookup(\"Expression\", X, tension(\"Expression, X)), Tensions), print(Tensions).","msgtype":"m.text"},"ts":1549377731000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i really like prolog","msgtype":"m.text"},"ts":1549377735000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"its easy to prototype in","msgtype":"m.text"},"ts":1549377740000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"you just throw things at it, and its like \"oook sure\". as long as you dont make any mistakes that is :|","msgtype":"m.text"},"ts":1549377765000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"the errors are something else","msgtype":"m.text"},"ts":1549377770000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i messed up typing, should be findall(X, lookup(\"Expression\", X, tension(\"Expression\", X)), Tensions), print(Tensions).","msgtype":"m.text"},"ts":1549377791000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"im treating prolog as a relational database and parser","msgtype":"m.text"},"ts":1549377802000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"its just for the prototype","msgtype":"m.text"},"ts":1549377818000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"html spec builder is also prolog","msgtype":"m.text"},"ts":1549377944000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"maybe i should learn it","msgtype":"m.text"},"ts":1549377946000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"its fun!","msgtype":"m.text"},"ts":1549377950000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"really, the main issue with it is that it gives the most misleading errors","msgtype":"m.text"},"ts":1549377968000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"for example, i wrote an assembler in it, and i kept running out of memory","msgtype":"m.text"},"ts":1549377985000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i thought it was because i was compiling an operating system in it and i was just really inefficient","msgtype":"m.text"},"ts":1549377997000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"nope.","msgtype":"m.text"},"ts":1549377998000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i had a typo","msgtype":"m.text"},"ts":1549378001000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i've been trying to write an assembler","msgtype":"m.text"},"ts":1549378010000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"(nothing that could compile an os)","msgtype":"m.text"},"ts":1549378017000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"so i wrote one for a fake machine: https://github.com/codehag/asm_in_prolog","msgtype":"m.text"},"ts":1549378037000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"its a 16 bit machine, from the course nand2tetris","msgtype":"m.text"},"ts":1549378048000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"if you want to build a computer from scratch, i can recommend that course","msgtype":"m.text"},"ts":1549378057000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i think i'm getting the ops wrong though cuz trying to run the machine code always segfaults","msgtype":"m.text"},"ts":1549378058000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"if you are writing for a specific architecture it might be harder -- the 16 bit machine i was working with is quite limited and it made it easier to find my way around","msgtype":"m.text"},"ts":1549378126000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"the second half of the course is building the OS that you can compile using that assembler","msgtype":"m.text"},"ts":1549378140000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"you also write a compiler for a java like language, and then a game in the java like language","msgtype":"m.text"},"ts":1549378155000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"the teachers are really good","msgtype":"m.text"},"ts":1549378159000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i was just trying to emit some x86","msgtype":"m.text"},"ts":1549378171000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"hm, thats much more complicated than what i was doing!","msgtype":"m.text"},"ts":1549378232000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"what machine were you working with","msgtype":"m.text"},"ts":1549378248000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"its a virtual machine that you build. they call it the HACK computer","msgtype":"m.text"},"ts":1549378261000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"they take you through hardware design and you build it yourself from first principles","msgtype":"m.text"},"ts":1549378292000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"sounds fun","msgtype":"m.text"},"ts":1549378314000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"this is the course: https://www.nand2tetris.org/","msgtype":"m.text"},"ts":1549378332000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"ystartsev: sent PR with README based upon what ya taught me here","msgtype":"m.text"},"ts":1549378344000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"thank you bradleymeck !","msgtype":"m.text"},"ts":1549378356000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"i'll take a look at this","msgtype":"m.text"},"ts":1549378401000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: they have a version of it on coursera as well","msgtype":"m.text"},"ts":1549378430000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"but everything is available on their website, so whatever your learning style is is the one you should go with","msgtype":"m.text"},"ts":1549378483000,"senderName":"ystartsev","senderId":"ystartsev@irc"},
{"content":{"body":"ystartsev: that always sounded like a neat course indeed","msgtype":"m.text"},"ts":1549386522000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"littledan: i was thinking of floating a patch with the web compat hack for the override PR to see a less skewed usage counter, does that make sense?","msgtype":"m.text"},"ts":1549391616000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"what do you mean, floating?","msgtype":"m.text"},"ts":1549391660000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"i see you just closed it, but the usage counter was pretty wildly out of the norm and largely appeared to be due to 1 library so I'm not convinced it is as dangerous as it may seem at first glance","msgtype":"m.text"},"ts":1549391661000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"littledan: node can float a v8 patch and flag to see how much breaks","msgtype":"m.text"},"ts":1549391680000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"yeah, that might be the case, but I'm not sure","msgtype":"m.text"},"ts":1549391682000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"right now lodash breakage makes usage counters useless","msgtype":"m.text"},"ts":1549391691000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I don't understand what you mean by \"useless\"; they reflect lodash","msgtype":"m.text"},"ts":1549391711000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"doesn't really say much about anything outside of that and it is unclear how much breaks due to lodash's change","msgtype":"m.text"},"ts":1549391718000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"there was no V8 patch to change the actual semantics, just to count how often it occurred","msgtype":"m.text"},"ts":1549391723000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"to make more progress here, i'd recommend implementing these other semantics, and one or more of these additional fixes, and surfing around to see what breaks","msgtype":"m.text"},"ts":1549391751000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: the usage counters are biased around a bug in older lodash that shows massive breakage if you don't do a compat hack around lodash","msgtype":"m.text"},"ts":1549391762000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I understand that, but I don't know for sure that there aren't other widely used libraries that hit similar issues, but for which the tweak doesn't fix it","msgtype":"m.text"},"ts":1549391795000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: yes, floating the web compat fixes for the older lodash should make the actual impact of the change clearer","msgtype":"m.text"},"ts":1549391801000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"at this point, i feel like we should've done a bit more \"surfing around and seeing what breaks\" before landing the usage counter","msgtype":"m.text"},"ts":1549391803000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"so, is someone interested in doing this V8 programming, and then locally running a hacked-up version of Chrome and testing various things?","msgtype":"m.text"},"ts":1549391825000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"that's what I'd recommend next","msgtype":"m.text"},"ts":1549391829000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"that line of code is not clear just reading the src that it relied on that behavior","msgtype":"m.text"},"ts":1549391836000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I don't really understand what floating on Node would accomplish","msgtype":"m.text"},"ts":1549391841000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"idk if surfing around would have helped","msgtype":"m.text"},"ts":1549391842000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"well, maybe not","msgtype":"m.text"},"ts":1549391850000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"but if we put an assertion, it would've shown that it was hit","msgtype":"m.text"},"ts":1549391864000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"actually seeing that this one-off fix fixes it is harder","msgtype":"m.text"},"ts":1549391874000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1549391887000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"what caitp  is working on in Igalia now is investigating what it would take to make stuff like the frozen realm shim run faster","msgtype":"m.text"},"ts":1549391916000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"running local version of node would be my main way of doing this as I don't have experience building chrome","msgtype":"m.text"},"ts":1549391921000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but node hits the same path in lodash","msgtype":"m.text"},"ts":1549391936000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but to put things in perspective","msgtype":"m.text"},"ts":1549392003000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"frozen realms etc. are not super usable as it stands","msgtype":"m.text"},"ts":1549392013000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"the node PR implementing frozen intrinsics points this out","msgtype":"m.text"},"ts":1549392025000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: can you elaborate?","msgtype":"m.text"},"ts":1549392030000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp: lots of things \"dont work\" if your intrinsics get frozen due to lots of errors or noops occuring around these non-writable properties","msgtype":"m.text"},"ts":1549392059000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"mark's work relies on completely changing a lot of properties from data to accessor props to try and work around this","msgtype":"m.text"},"ts":1549392090000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but that isn't how JS specified intrinsic properties","msgtype":"m.text"},"ts":1549392102000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"see https://github.com/nodejs/node/pull/25685 , where it shows up from a different party investigating the approach of freezing intrinsics","msgtype":"m.text"},"ts":1549392158000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"my understanding is that the proposal is designed to protect against this sort of thing, especially from untrusted code","msgtype":"m.text"},"ts":1549392182000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"\"this sort of thing\"?","msgtype":"m.text"},"ts":1549392201000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"would you say there needs to be a layer where it's always allowed?","msgtype":"m.text"},"ts":1549392202000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"\"it\"?","msgtype":"m.text"},"ts":1549392210000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"this sort of thing -> changing properties on intrinsics","msgtype":"m.text"},"ts":1549392220000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"adding new ones, etc","msgtype":"m.text"},"ts":1549392225000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"correct, that is not the problem","msgtype":"m.text"},"ts":1549392228000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"the problem is as laid out in that node PR and others, that subclassing can break","msgtype":"m.text"},"ts":1549392240000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"and various other things if you have non-writable (such as frozen) properties in your proto chain","msgtype":"m.text"},"ts":1549392263000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"even worse, it doesn't always throw","msgtype":"m.text"},"ts":1549392278000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"it sometimes just noops","msgtype":"m.text"},"ts":1549392284000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"depending on strict/sloppy","msgtype":"m.text"},"ts":1549392292000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"ah I see","msgtype":"m.text"},"ts":1549392309000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"so, without fixing this, frozen realms are... not as usable","msgtype":"m.text"},"ts":1549392323000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"well, subclassing builtins is a relatively recent thing right? not 20 years of legacy code doing that","msgtype":"m.text"},"ts":1549392377000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp: not just builtins and not just using class syntax","msgtype":"m.text"},"ts":1549392391000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"any way of putting things in the prototype chain","msgtype":"m.text"},"ts":1549392398000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"so things like the old fn.prototype.toString = function () {} start throwing","msgtype":"m.text"},"ts":1549392414000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"or nooping...","msgtype":"m.text"},"ts":1549392420000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"ok, that's fair","msgtype":"m.text"},"ts":1549392423000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"hence my pushing node for web compat hacks","msgtype":"m.text"},"ts":1549392467000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"to my knowledge the only breakage of importance seems to be lodash but signal/noise ratio is too high without the compat hack (which itself might be breaking) to know if other things are relying on this","msgtype":"m.text"},"ts":1549392613000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"even if we just fix it in strict mode, it seems like it would be pref to doing nothing, as frozen prototypes make entire codebases unusable for now","msgtype":"m.text"},"ts":1549392644000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: I mean, you can do this experiment in Node, but I wouldn't be convinced that it demonstrates web compatibility","msgtype":"m.text"},"ts":1549392831000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"the only thing it could really demonstrate is likely incompatibility","msgtype":"m.text"},"ts":1549392843000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"the compat hack will clearly affect a lot of code, but how much of it would actually become broken? it's hard to estimate","msgtype":"m.text"},"ts":1549392847000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"well, if we're talking about Object.prototype.toString fallbacks, I'm pretty comfortable with adding more of those","msgtype":"m.text"},"ts":1549392872000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: showing if the web compat hack is incompatible is of value here","msgtype":"m.text"},"ts":1549392874000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"as it would at least let us figure out a way to get a better signal/noise ratio on usage counters","msgtype":"m.text"},"ts":1549392897000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I'd be pretty surprised if adding more of these fallbacks broke anything, but I wouldn't be surprised if it didn't fix enough","msgtype":"m.text"},"ts":1549392901000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"but those are just guesses","msgtype":"m.text"},"ts":1549392922000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"anyway this takes a nontrivial amount of C++ coding to implement; there's no patch out there that you can just float","msgtype":"m.text"},"ts":1549392956000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: the tostring workaround?","msgtype":"m.text"},"ts":1549392977000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1549392983000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"basically we're talking about a partial revert of ES6 here","msgtype":"m.text"},"ts":1549392991000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"it is doable in pure JS even if you replace all the refs unless I'm missing something?","msgtype":"m.text"},"ts":1549393007000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"sure? I'm not sure what you're trying to get at","msgtype":"m.text"},"ts":1549393022000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"there could potentially be angularjs 1.x apps out there which define readonly properties on a $scope, and then try to overwrite them in child scopes --- IIRC doing this with non-readonly properties was a pretty common (accidental) pattern","msgtype":"m.text"},"ts":1549393053000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"so if someone did that with a non-readonly property, it could break the app... but it is a big if","msgtype":"m.text"},"ts":1549393075000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp: even with that going on the question remains of if strict mode which errors suddenly didn't error would things break","msgtype":"m.text"},"ts":1549393115000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but we just have too much going on","msgtype":"m.text"},"ts":1549393135000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"need to reduce noise to get any sort of direction","msgtype":"m.text"},"ts":1549393184000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"well I think the only way to really find out is to do an experiment where some % of browsers get the special behaviour and some don't","msgtype":"m.text"},"ts":1549393186000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"or put it on a webcrawler or something","msgtype":"m.text"},"ts":1549393198000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"we did that with usage counters so that we wouldn't break things","msgtype":"m.text"},"ts":1549393219000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"yes but as you say, signal/noise","msgtype":"m.text"},"ts":1549393229000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"it doesn't indicate breakage","msgtype":"m.text"},"ts":1549393236000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Hmm. If proxies effectively let you overload the = operator (and a few more), more general operator overloading shouldn't be any slower than that, right?","msgtype":"m.text"},"ts":1549394241000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Or is = already kinda slow, so the fact that you have to check if you need to indirect thru a proxy or a setter not generally a perf hit, but doing the same for + would be?","msgtype":"m.text"},"ts":1549394278000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: they already let you control the Set operation for that, I'm not sure I understand the question","msgtype":"m.text"},"ts":1549394739000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"Yes, that's my point. We already have overloading of *some* operators, so I'm curious about if overloading the rest is problematic in new and exciting ways, or just the same ways we already know about?","msgtype":"m.text"},"ts":1549394787000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"you can control `proxy = <something + something>`, but you can't control what `<something> + <something>` gives you","msgtype":"m.text"},"ts":1549394796000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1549394948000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"...I'm not sure how my words could be read this way, but just in case: I'm not asking to expand Proxies to handle operator overloading. I'm asking about the perf implications of proxies, and how it compares to the perf implications of more general operator overloading.","msgtype":"m.text"},"ts":1549395032000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Because one of the main objections to general overloading is that it slows down all math, etc.","msgtype":"m.text"},"ts":1549395054000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"proxies are noticeably slower last I checked, doubt that will ever change since you have to call into JS which I don't think can be optimized out","msgtype":"m.text"},"ts":1549396132000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"littledan: to confirm, https://jsbin.com/qajukupuca/edit?js,console is my understanding of the behavior change that was being talked about?","msgtype":"m.text"},"ts":1549396442000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: mslekova and some others have done a fair bit of work to keep some (maybe all at this point) proxy operations in JS, and I don't think there's any reason we couldn't add some support for the js-inlining pass. it should be possible to be substantially faster than it was originally","msgtype":"m.text"},"ts":1549396570000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"that work is unlikely to happen before proxies see heavier use in perf-critical code though, or before there's a demand for that.","msgtype":"m.text"},"ts":1549397576000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"bradleymeck: Yep, I agree that this hits the codepath that jridgewell traced in the issue","msgtype":"m.text"},"ts":1549397926000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"I just don't know whether this is the only issue out there","msgtype":"m.text"},"ts":1549397932000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: it is probably not the only issue to be clear, but it has soo much noise that no other ones were found on cursory checks","msgtype":"m.text"},"ts":1549397973000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"well, sure, but I don't understand how you want to eliminate the noise","msgtype":"m.text"},"ts":1549398142000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"if you fix up that piece, it will still be after the UseCounter clicks","msgtype":"m.text"},"ts":1549398161000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: maybe we were using the usage counter for different purposes?","msgtype":"m.text"},"ts":1549398480000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"even if the usage is \"high\", if the behavior doesn't change it wouldn't be problematic? also in the past thrown -> non-thrown has been treated as non-problematic which affects strict mode change","msgtype":"m.text"},"ts":1549398551000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"how confident do you think you'd have to be that it wouldn't break the web most of the time to convince maintainers to run a finch trial (or just ship the proposed change in nightly)?","msgtype":"m.text"},"ts":1549399694000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"how does a proxy override equality","msgtype":"m.text"},"ts":1549399706000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"oh it was the set operation","msgtype":"m.text"},"ts":1549399919000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"caitp: I'd have to go through a large test of using local chrome + puppeteer or something so that nothing seems crazy, 15% is enough that top 10k websites should have it show up plenty and that at least might be enough. I'd still be somewhat wary and need to put in more checks just to ensure that we skip the lodash hack when retesting. this feels a bit brutal though","msgtype":"m.text"},"ts":1549400565000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"strict mode counter is less concerning but still at that massive 1.5%","msgtype":"m.text"},"ts":1549400658000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"lodash is still all over the internet","msgtype":"m.text"},"ts":1549400956000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"looking at the origin trials docs, we have done most of what's required for a field test","msgtype":"m.text"},"ts":1549400957000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"ok maybe not most of, probably the 2 most passive things, but still","msgtype":"m.text"},"ts":1549401084000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"devsnek: updated lodash is not affected and some historically old lodash are not affected","msgtype":"m.text"},"ts":1549401592000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: but there are still versions of it floating around right?","msgtype":"m.text"},"ts":1549404531000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yup, but web compat hack makes it still function correctly even w/ change","msgtype":"m.text"},"ts":1549404750000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"web compat hack","msgtype":"m.text"},"ts":1549404936000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"a tried and true tradition!","msgtype":"m.text"},"ts":1549405043000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"what's the hack","msgtype":"m.text"},"ts":1549405054000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"modifying Object.prototype.toString to include typed arrays instead of having typed arrays delegate to the TypedArray.prototype[toStringTag] getter (the fact it was a getter was kind of wild to me)","msgtype":"m.text"},"ts":1549405128000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1549405160000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"it's still kind of wild to me that failed sets would walk down the prototype","msgtype":"m.text"},"ts":1549405187000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"mmm?","msgtype":"m.text"},"ts":1549405240000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"if it fails, it stops","msgtype":"m.text"},"ts":1549405253000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"isn't the whole idea that the change would be to go from fail = no set to fail = try on the parent","msgtype":"m.text"},"ts":1549405297000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"nope","msgtype":"m.text"},"ts":1549405383000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I'm confused then","msgtype":"m.text"},"ts":1549405401000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"non-writable in proto crawl would perform define on reciever","msgtype":"m.text"},"ts":1549405406000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"thats the change","msgtype":"m.text"},"ts":1549405412000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"currently in sloppy, it noops","msgtype":"m.text"},"ts":1549405418000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"currently in strict, it throws","msgtype":"m.text"},"ts":1549405423000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"so it goes straight to the receiver","msgtype":"m.text"},"ts":1549405445000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"not as weird but still weird","msgtype":"m.text"},"ts":1549405466000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"well it delegates up to see if a setter exists","msgtype":"m.text"},"ts":1549405473000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"so it does walk back down the prototype?","msgtype":"m.text"},"ts":1549405543000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1549405622000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but it stops walking when it encounters any given descriptor","msgtype":"m.text"},"ts":1549405638000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"same as today","msgtype":"m.text"},"ts":1549405642000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"so it goes until it finds the prop, and if it's non writable it goes back a steo","msgtype":"m.text"},"ts":1549405678000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"step*","msgtype":"m.text"},"ts":1549405686000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"idk if it goes back a step, it can take action without rolling anything back","msgtype":"m.text"},"ts":1549405759000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"back a prototype","msgtype":"m.text"},"ts":1549405789000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"nah","msgtype":"m.text"},"ts":1549405826000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"it just places it directly on the reciever","msgtype":"m.text"},"ts":1549405834000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"no need to crawl back to find the reciever","msgtype":"m.text"},"ts":1549405842000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but when i said that before","msgtype":"m.text"},"ts":1549405949000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"you said \"well it delegates up to see if a setter exists\"","msgtype":"m.text"},"ts":1549405960000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"down/up isn't a good terminology here ;p","msgtype":"m.text"},"ts":1549406089000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"it only does it in 1 direction","msgtype":"m.text"},"ts":1549406095000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"walk prototype to find property","msgtype":"m.text"},"ts":1549406121000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"property isn't writable","msgtype":"m.text"},"ts":1549406126000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"do write on receiver instead","msgtype":"m.text"},"ts":1549406132000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1549406136000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"what if receiver isn't writable","msgtype":"m.text"},"ts":1549406154000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"same behaviour as now?","msgtype":"m.text"},"ts":1549406194000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1549406212000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"still feels kinda weird","msgtype":"m.text"},"ts":1549406311000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"bradleymeck: Right, proxies are slower. But we still put them in the language. One of the blockers brought up for operator overloading is that it'll be slower. Is it slower in a way that is different from proxies, or worse in some important way?","msgtype":"m.text"},"ts":1549406321000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"like why not just explicitly create whatever prop it is on your object","msgtype":"m.text"},"ts":1549406322000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: because assignment is the expected UX","msgtype":"m.text"},"ts":1549406400000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"TabAtkins: depends on how operator overloading is done","msgtype":"m.text"},"ts":1549406406000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"bradleymeck: but the assignment failed","msgtype":"m.text"},"ts":1549406418000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"because the property wasn't writable","msgtype":"m.text"},"ts":1549406423000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"TabAtkins: Proxies allow you to create your own forms of the meta-object protocol / create your own exotics, overloading is something else","msgtype":"m.text"},"ts":1549406433000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"Right, but it's also kinda overloading the = operator, right? Is that significantly different than overloading the + operator?","msgtype":"m.text"},"ts":1549406454000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"bigint adds a protocol for mathematical operators","msgtype":"m.text"},"ts":1549406458000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"(ignoring the issues of right-vs-left operators, etc)","msgtype":"m.text"},"ts":1549406468000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"devsnek: not really, getter/setters can still have success even if they are not writable, this isn't really related to some sort of mental model of what \"writable\" means","msgtype":"m.text"},"ts":1549406472000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"TabAtkins: it doesn't overload = really, not sure I understand, = does call the set() trap though","msgtype":"m.text"},"ts":1549406511000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"TabAtkins: the usual design of operator overloading would make every operator have to check the operand for an overload","msgtype":"m.text"},"ts":1549406516000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"\"call the set() trap\" sounds a *whole lot* like \"check if the LHS has overloaded its = operator\" to me","msgtype":"m.text"},"ts":1549406543000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"it is","msgtype":"m.text"},"ts":1549406559000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"setting is slower than it could be because exotic objects exist","msgtype":"m.text"},"ts":1549406575000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"TabAtkins: it doesn't really to my knowledge, `x = 1` doesn't ever fire that trap and `x.y = 1` doesn't mean it fires from `x` and instead could fire from `x.__proto__`","msgtype":"m.text"},"ts":1549406615000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"Okay, right, so = is *already* slow for reasons, and proxies don't make it appreciably worse? But + is fast right now, and operator overloading would make it significantly slower (equivalent to = and proxies)?","msgtype":"m.text"},"ts":1549406618000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I just see them as fundamentally different, so I'm confused mostly","msgtype":"m.text"},"ts":1549406641000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"in an interpreter = is slow","msgtype":"m.text"},"ts":1549406649000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"optimization can help of course","msgtype":"m.text"},"ts":1549406673000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"bradleymeck: Details, details, the point is you're hijacking some syntax forms to magically invoke a special function instead.","msgtype":"m.text"},"ts":1549406683000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: those details are the difference, so i don't understand that comment","msgtype":"m.text"},"ts":1549406706000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: after bigint lands, mathematical operators have their own protocol","msgtype":"m.text"},"ts":1549406710000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"so addition goes from an O(3) game to an O(4) game","msgtype":"m.text"},"ts":1549406752000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"kind of, but not in the sense of it being exposed / having scaling issues","msgtype":"m.text"},"ts":1549406761000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"`x.y = 1` becoming `x.proxySet('y', 1)` (essentially) feels similar to `x + y` becoming `x.operatorAdd(y)`; the difference I'm seeing is that = is already having to do (relatively slow) work because of various exotic objects, while + gets to fast-track more often, so adding an overloading check is a minor penalty for =, but a big penalty for +.","msgtype":"m.text"},"ts":1549406779000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"we add things to various algorithms all the time","msgtype":"m.text"},"ts":1549406782000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"and it makes interpreters really slow","msgtype":"m.text"},"ts":1549406816000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"TabAtkins: I would disagree on that point as x.operatorAdd(y) might not match y.operatorAdd(x), one might state that operatorAdd(x, y) is the less confusing approach","msgtype":"m.text"},"ts":1549406838000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but even then, you probably don't want this on the proxy","msgtype":"m.text"},"ts":1549406851000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: Sure, whatevs on exactly how you figure out what to dispatch.","msgtype":"m.text"},"ts":1549406858000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"the dispatch is rather important here, does it live on an operand that the operation is being performed on or independently changes if you need to do the lookup at the site or it can be static","msgtype":"m.text"},"ts":1549406910000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: I'm not saying add this functionality to proxies. I'm using proxies as an example of seemingly-similar functionality that was accepted by the committee, to question one of the objections to overloading.","msgtype":"m.text"},"ts":1549406916000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"for member expressions the assignment always does the lookup","msgtype":"m.text"},"ts":1549406924000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"right now overloads live on the operator","msgtype":"m.text"},"ts":1549406926000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"TabAtkins: i have other objections than speed, but tradeoffs of speed are generally going to be case by case, and introducing more means those tradeoffs become harder to justify over time","msgtype":"m.text"},"ts":1549406986000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"the usability aspect of overloading is interesting, but makes many things much harder to reason about","msgtype":"m.text"},"ts":1549407013000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"it would probably only work as an uninherited internal field","msgtype":"m.text"},"ts":1549407105000,"senderName":"devsnek","senderId":"devsnek@irc"}
]