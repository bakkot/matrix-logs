[
{"content":{"body":"devsnek: it seems important to fix, if you and Bakkot can agree on what should go to the committee :-)","msgtype":"m.text"},"ts":1565050618000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"trying to find some pattern -> https://twitter.com/GNUmanth/status/1158673972801593344","msgtype":"m.emote"},"ts":1565084407000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Is there a PDF, or downloadable (offline) version of the specification?","msgtype":"m.text"},"ts":1565101593000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"Someone should add a service worker","msgtype":"m.text"},"ts":1565102708000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I would love that, happy to add!","msgtype":"m.text"},"ts":1565103291000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"lol wouldn’t that make it slower tho","msgtype":"m.text"},"ts":1565103438000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Why would it be slower? It’s just a cache","msgtype":"m.text"},"ts":1565103705000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"And only kicks in when you’re offline","msgtype":"m.text"},"ts":1565103716000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"airbnb tried service workers but their mere presence on the page had large enough perf consequences that we yanked them out","msgtype":"m.text"},"ts":1565103801000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":":( do you know what exactly was causing the problem? They shouldn’t be slowing down the browser","msgtype":"m.text"},"ts":1565103877000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"I can be on trains/planes sometimes so it’s good to be able to read the spec without needing a constant internet connection. If there’s a way for me to try it without impacting the site I’m happy to spend time on it","msgtype":"m.text"},"ts":1565103960000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"nope, but google’s sw team worked with the airbnb engs on it and couldn’t figure out how to solve it.","msgtype":"m.text"},"ts":1565103989000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"the spec is already offline tho, once you load it once - i just keep a tab always open and it’s offline for me","msgtype":"m.text"},"ts":1565104019000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Haha that does not work well on tablets, on a pc sure but the page is so big my iPad constantly kills it and forces me to reload the page.","msgtype":"m.text"},"ts":1565104065000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"Keeping the tab open isn’t an option for me","msgtype":"m.text"},"ts":1565104094000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"ah, true","msgtype":"m.text"},"ts":1565104107000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Is it possible to experiment with a new path on the TC39 website that does this? Then we can compare the 2? I don’t know how the site is hosted currently but I remember it’s statically generated","msgtype":"m.text"},"ts":1565104270000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"couldn't we auto-generate a PDF after auto-rendering the HTML, as part of CI?","msgtype":"m.text"},"ts":1565105464000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"we already have stuff to generate PDFs for ecma","msgtype":"m.text"},"ts":1565105572000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"if by “stuff” you mean","msgtype":"m.text"},"ts":1565105894000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"“jordan prints to pdf on his Mac”","msgtype":"m.text"},"ts":1565105902000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"after a year of manually fixing styles i at least tweaked the print stylesheet so i didn’t have to do it every time","msgtype":"m.text"},"ts":1565105947000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"oh lol, i thought we had a script","msgtype":"m.text"},"ts":1565106045000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"we do, it’s just written in dna and takes a very inefficient amount of energy to run :-p","msgtype":"m.text"},"ts":1565106164000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"hard to invoke dna from ci","msgtype":"m.text"},"ts":1565106488000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":" I've raised https://github.com/tc39/tc39.github.io/issues/166","msgtype":"m.text"},"ts":1565106804000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"we used to have a sw on the nodejs docs","msgtype":"m.text"},"ts":1565107030000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"but it got removed","msgtype":"m.text"},"ts":1565107032000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i wonder if it was for the same reason","msgtype":"m.text"},"ts":1565107043000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"JaseW: shouldn't that go to ecma262? the website repo is literally just the website","msgtype":"m.text"},"ts":1565107266000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"an org admin can move the issue","msgtype":"m.text"},"ts":1565107290000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"bterlson: akirose: ^","msgtype":"m.text"},"ts":1565107296000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"oh nice I didn't know that feature existed!","msgtype":"m.text"},"ts":1565107308000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"it's fairly recent","msgtype":"m.text"},"ts":1565107316000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i use it like once a day to move issues from nodejs/node to nodejs/help lul","msgtype":"m.text"},"ts":1565107329000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"@rkirsling oh ok nice, wasn't aware of that","msgtype":"m.text"},"ts":1565107360000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"good idea regardless though :D","msgtype":"m.text"},"ts":1565107384000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I've moved it https://github.com/tc39/ecma262/issues/1656","msgtype":"m.text"},"ts":1565107399000,"senderName":"JaseW","senderId":"JaseW@irc"},
{"content":{"body":"oh i guess delegates can do that too","msgtype":"m.text"},"ts":1565107422000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"ljharb: do you still want me to move that css into a separate file","msgtype":"m.text"},"ts":1565107428000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yeah that’d be nice","msgtype":"m.text"},"ts":1565108016000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"ljharb: I have been meaning to see if I can get ecmarkup to generate LaTeX. It's probably doable, yeah?","msgtype":"m.text"},"ts":1565113236000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Bakkot: that's much more bterlson's domain than mine, and i'm not that familiar with authoring latex (only reading all my calculus assignments made with it), but it seems like it should be doable","msgtype":"m.text"},"ts":1565113395000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"bterlson ^","msgtype":"m.text"},"ts":1565113406000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"seems like it'd just be a matter of doing it","msgtype":"m.text"},"ts":1565114161000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"a lot depends on the extent to which the spec contains raw HTML or (especially) CSS, and the extent to which ecmarkup's auto-linking facility is tied to the HTML representation","msgtype":"m.text"},"ts":1565114253000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Why do people keep insisting on these legacy formats...","msgtype":"m.text"},"ts":1565114948000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Use web pages.","msgtype":"m.text"},"ts":1565114953000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"web pages are way more ephemeral and always will be","msgtype":"m.text"},"ts":1565115016000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"cf fraction of wikipedia citations to urls which are now untraceable vs fraction of wikipedia citations to books which are now untraceable","msgtype":"m.text"},"ts":1565115047000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"always cite via web.archive.org","msgtype":"m.text"},"ts":1565115571000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: wow, turns out adding a \"jump if undefined or null\" op to JSC was really easy","msgtype":"m.text"},"ts":1565128460000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"nice","msgtype":"m.text"},"ts":1565128467000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"after my initial CL lands i'm planning to add one to v8","msgtype":"m.text"},"ts":1565128474000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yeah I can't really submit it until my existing patch lands","msgtype":"m.text"},"ts":1565128496000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"seems like the Applers are busy of late","msgtype":"m.text"},"ts":1565128521000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"rkirsling / devsnek: would strongly recommend adding a comment explaining why that operation is not suitable for `== null`; I know V8 has had at least one bug where someone assumed those were equivalent","msgtype":"m.text"},"ts":1565128918000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"a comment to what","msgtype":"m.text"},"ts":1565128936000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"oh the op","msgtype":"m.text"},"ts":1565128955000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1565128957000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Bakkot: Yusuke had already added an OpIsUndefinedOrNull to address an IsHTMLDDA bug in ArraySpeciesCreate","msgtype":"m.text"},"ts":1565128959000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I'm just fusing it to `jtrue` / `jfalse`","msgtype":"m.text"},"ts":1565128995000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"there's another fixme in here that leads me to believe I'll have also fixed a RequireObjectCoercible bug by doing this, but I'll find out shortly :D","msgtype":"m.text"},"ts":1565129036000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"that said a comment might be good but I'm not quite sure where I'd put it; if they look up the definition, they'll see it's quite different, but yeah 🤔","msgtype":"m.text"},"ts":1565129264000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"hmm, guess there's no test262 case for something like `let { 0: x } = document.all;`","msgtype":"m.text"},"ts":1565130123000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"but I did just fix that, heh.","msgtype":"m.text"},"ts":1565130234000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"lol devsnek (/ Bakkot) it turns out the patch didn't technically conflict so I just submitted it separately: https://bugs.webkit.org/show_bug.cgi?id=200480","msgtype":"m.text"},"ts":1565132509000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"jsc scares me","msgtype":"m.text"},"ts":1565132557000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"jsc's optimization is pretty rad.","msgtype":"m.text"},"ts":1565132584000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"i like v8's layers","msgtype":"m.text"},"ts":1565133022000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"fascinatingly the various \"jump if <unary>\" ops are just a bytecode thing","msgtype":"m.text"},"ts":1565133023000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"like an onion","msgtype":"m.text"},"ts":1565133027000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"so they apply for direct interpretation and baseline JIT, but for the higher stages of JIT, there's just a single \"Branch\" node in the dataflow graph","msgtype":"m.text"},"ts":1565133099000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"so I didn't have to add anything there","msgtype":"m.text"},"ts":1565133164000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"devsnek: how do you mean layers?","msgtype":"m.text"},"ts":1565133255000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"devsnek: you were never involved in the crankshaft days, yeah?","msgtype":"m.text"},"ts":1565133287000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"there used to be like half a dozen different backends","msgtype":"m.text"},"ts":1565133299000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"it was so painful","msgtype":"m.text"},"ts":1565133299000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"turbofan + ignition is much nicer","msgtype":"m.text"},"ts":1565133304000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"i started using js around the time crankshaft was removed","msgtype":"m.text"},"ts":1565133305000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i only started contributing to v8 like last year though","msgtype":"m.text"},"ts":1565133323000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"rkirsling: like in order to add a new opcode in v8, you build on primitives that may or may not translate into machine code","msgtype":"m.text"},"ts":1565133358000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"ah hmm","msgtype":"m.text"},"ts":1565133389000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"JumpIfUndefinedOrNull can be two WordEqual() calls which then get handled by each architecture's backend","msgtype":"m.text"},"ts":1565133393000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1565133415000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"actually i could probably use a bitmask","msgtype":"m.text"},"ts":1565133417000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I mean to be fair I'm not having to thing about individual architectures there","msgtype":"m.text"},"ts":1565133444000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"that's a whole separate, and to me far scarier, area","msgtype":"m.text"},"ts":1565133468000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"or series of areas even","msgtype":"m.text"},"ts":1565133473000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yea the only time i've ever touched that part was to delete stuff :P","msgtype":"m.text"},"ts":1565133487000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"*think about","msgtype":"m.text"},"ts":1565133488000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I had to fix Win64 JIT at one point","msgtype":"m.text"},"ts":1565133513000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"it took weeks and I think I would've been screwed entirely had a coworker not helped me out","msgtype":"m.text"},"ts":1565133535000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"i still have no idea how a lot of v8's jit works","msgtype":"m.text"},"ts":1565133545000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"learned a thing or two about calling conventions though 🤷","msgtype":"m.text"},"ts":1565133560000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"oh yeah had to dig into that for a wasm change i'm working on","msgtype":"m.text"},"ts":1565133578000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"optimized way to call C from wasm","msgtype":"m.text"},"ts":1565133586000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"but yeah the undefined or null check there is based on the fact that undefined is 0b1010 and null is 0b0010, so you just clear the undefined bit and see whether you're left with a null value","msgtype":"m.text"},"ts":1565134156000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"it's eqnull that bakes in all the document.all checks -- my understanding is that they get optimized away, but still a burden for the interpreter","msgtype":"m.text"},"ts":1565134289000,"senderName":"rkirsling","senderId":"rkirsling@irc"}
]