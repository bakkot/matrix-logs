[
{"content":{"body":"mathiasbynens: given an array of numbers, do you know what the difference between `sort()` and this sort function are? https://gist.github.com/devsnek/ffab4d437816cbaf169d7f93d259ce72","msgtype":"m.text"},"ts":1561413636000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"what i'd like to be able to do is duplicate the behaviour of that sorting function without having to convert things to strings","msgtype":"m.text"},"ts":1561413845000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: `return a - b`?","msgtype":"m.text"},"ts":1561413927000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"isn't that already how sort() works?","msgtype":"m.text"},"ts":1561413947000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i think sort's default is `return String(b).localeCompare(a)` or something","msgtype":"m.text"},"ts":1561413966000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"otherwise it'd sort `[1, 10, 2]` into `[1, 2, 10]` instead of leaving it untouched","msgtype":"m.text"},"ts":1561413993000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"wow","msgtype":"m.text"},"ts":1561414017000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"oh wait `String(a).localeCompare(b)`","msgtype":"m.text"},"ts":1561414021000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"i didn't realize sorting was this broken lol","msgtype":"m.text"},"ts":1561414023000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"it's not broken","msgtype":"m.text"},"ts":1561414028000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"( `[1, 10, 2].sort()` is the same as `[1, 10, 2].sort((a, b) => String(a).localeCompare(b))`)","msgtype":"m.text"},"ts":1561414041000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"not literally broken","msgtype":"m.text"},"ts":1561414056000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: either the comparator had to be required, or some default had to be chosen; string is a much more sensible default than number","msgtype":"m.text"},"ts":1561414065000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"imo it'd be much nicer if the comparator was required, but here we are","msgtype":"m.text"},"ts":1561414081000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"in slither i choose the sorting system based off the first item","msgtype":"m.text"},"ts":1561414095000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"that means `[1, '10']` and `['10', 1]` sort differently, that seems super surprising to me","msgtype":"m.text"},"ts":1561414128000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"well it throws if it tries to compare two elements that aren't the same type","msgtype":"m.text"},"ts":1561414148000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"oh well","msgtype":"m.text"},"ts":1561414153000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"you could pick the mode of the types","msgtype":"m.text"},"ts":1561414155000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"but the reality is that if they're not all the same type, you either have to pick something (that will be super broken for many use cases) or throw","msgtype":"m.text"},"ts":1561414178000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"devsnek: that would be really bad default behavior for a dynamic language though ðŸ˜±","msgtype":"m.text"},"ts":1561414182000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"would it?","msgtype":"m.text"},"ts":1561414194000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1561414197000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"how often to you try to sort heterogeneous arrays","msgtype":"m.text"},"ts":1561414211000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I know but shouldn't and can't are very different","msgtype":"m.text"},"ts":1561414234000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"if you want to sort between things that aren't the same type use a comparison function ðŸ¤·","msgtype":"m.text"},"ts":1561414257000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: right but then you should throw before ever invoking the function","msgtype":"m.text"},"ts":1561414275000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"hmm using a - b still didn't work","msgtype":"m.text"},"ts":1561414286000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"b - a?","msgtype":"m.text"},"ts":1561414293000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"oh wait is that","msgtype":"m.text"},"ts":1561414306000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1561414326000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"comparators are like USB A connectors for me, whichever way i try it first is always wrong","msgtype":"m.text"},"ts":1561414338000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"yea","msgtype":"m.text"},"ts":1561414346000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yeah just doing number sort doesn't produce the same output","msgtype":"m.text"},"ts":1561414399000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"probably has to do with the conversion and stuff with strings","msgtype":"m.text"},"ts":1561414468000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"hmm, I guess I forgot that Python separates the types","msgtype":"m.text"},"ts":1561414839000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":">>> sorted(['hi', 1, 10, 2])","msgtype":"m.text"},"ts":1561414856000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"[1, 2, 10, 'hi']","msgtype":"m.text"},"ts":1561414856000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"i have that partially, to sort object keys","msgtype":"m.text"},"ts":1561414987000,"senderName":"devsnek","senderId":"devsnek@irc"}
]