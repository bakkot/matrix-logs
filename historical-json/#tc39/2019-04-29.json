[
{"content":{"body":"from a language design perspective, what if loops over iterators broke after handling a done result instead of before","msgtype":"m.text"},"ts":1556500645000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"is there a precedent for `{ value: undefined, done: true }`","msgtype":"m.text"},"ts":1556500685000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: not sure what you mean, that's typically the last iteration result for most iterators","msgtype":"m.text"},"ts":1556510655000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"ljharb: yeah but loops don't eval their bodies for it","msgtype":"m.text"},"ts":1556511042000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i guess it makes sense to allow things that finish undefined","msgtype":"m.text"},"ts":1556511060000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"the end might not be associated with a value","msgtype":"m.text"},"ts":1556511073000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"just awkward interface i guess","msgtype":"m.text"},"ts":1556511079000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i'm still not sure what you're getting at","msgtype":"m.text"},"ts":1556511178000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"do you mean like, if you eval a for..of loop, what's the completion value?","msgtype":"m.text"},"ts":1556511193000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"no i'm talking about iteration","msgtype":"m.text"},"ts":1556511199000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"its kind of awkward that `{ value: something, done: true }` is possible","msgtype":"m.text"},"ts":1556511212000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"isn't that only when a generator returns something?","msgtype":"m.text"},"ts":1556511225000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"but i am guessing the intention is that you aren't supposed to have `done: true` with some actual value","msgtype":"m.text"},"ts":1556511225000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i think so","msgtype":"m.text"},"ts":1556511237000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"its just kind of awkward","msgtype":"m.text"},"ts":1556511242000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"certainly in all user code i've seen, it never checks `.value` unless `.done` is false","msgtype":"m.text"},"ts":1556511243000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1556511250000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"(for context, i'm trying to figure out the design of iteration in slither)","msgtype":"m.text"},"ts":1556511269000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"it wouldn't be too difficult to do it","msgtype":"m.text"},"ts":1556548936000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"oh dang, znc was scrolled way up, did I just reply to something from the distant past?","msgtype":"m.text"},"ts":1556548954000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"this irc client, man ._.","msgtype":"m.text"},"ts":1556548964000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp: that depends on what you were replying to","msgtype":"m.text"},"ts":1556549284000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"it was about making `/* /* */ */` end the comment at the last `*/` instead of the first one","msgtype":"m.text"},"ts":1556549343000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"\"wouldn't be hard to do it, but what other language does that? and whats the point?\"","msgtype":"m.text"},"ts":1556549387000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"rust does that","msgtype":"m.text"},"ts":1556549695000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"makes commenting a large section without worrying about the contents less annoying","msgtype":"m.text"},"ts":1556549712000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"https://stackoverflow.com/questions/20528010/what-is-the-usage-of-nested-comments-in-some-programming-languages","msgtype":"m.text"},"ts":1556549798000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"xquery has nested comments","msgtype":"m.text"},"ts":1556549825000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"I think the only time when my internal dialogue is saying \"wouldn't it be great if js had internal comments\" is when commenting out big chunks of long unit tests to try to isolate exactly where something goes wrong --- and to work around it I just use the text editor's tools","msgtype":"m.text"},"ts":1556549981000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"s/internal/nested/","msgtype":"m.text"},"ts":1556549998000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"one easy workaround is not using /* */ for anything other than a header comment ðŸ˜Ž","msgtype":"m.text"},"ts":1556555447000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"rkirsling: are you suggesting `// //` for nested multiline","msgtype":"m.text"},"ts":1556556304000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: oh no I just mean that if you only use `//` amidst code then you wouldn't have to worry about whether temporarily wrapping a section in `/* */` is going to work","msgtype":"m.text"},"ts":1556556410000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(although code editors would generally insert `//` for you anyway but yeah)","msgtype":"m.text"},"ts":1556556496000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"having said that, I suppose it's kind of unreasonable if JSDoc expects multiline comments","msgtype":"m.text"},"ts":1556556629000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"proposal: C preprocessor for JS","msgtype":"m.text"},"ts":1556562798000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"solve this problem once and for all with #if false ... #endif","msgtype":"m.text"},"ts":1556562814000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Yeah, nestable block comments require you to actually do some level of parsing on the stuff inside the comment. Would be good anyway, as right now, you can validly write a string like `\"foo*/bar\"`, and then when you try to put that in a comment block, the block will end partway thru the string...","msgtype":"m.text"},"ts":1556563031000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"oh dear","msgtype":"m.text"},"ts":1556563061000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"On the other hand, comment hacks like being able to toggle between two sections by doing `/**/ section one /*/ section two /**/`, and adding or removing the final slash on the first comment, are also widespread, so \"fixing\" comments now would break a lot of pages, I'd wager.","msgtype":"m.text"},"ts":1556563127000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(A variant can also be used to make toggling a single section a 1-char change, rather than 2-chars twice, by putting a `/**/` before and after the section; again, removing the last slash from the first comment will comment out the whole block.)","msgtype":"m.text"},"ts":1556563199000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hmm you're right there could be a decent amount of that in prod code","msgtype":"m.text"},"ts":1556563279000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yeah, it's technically very easy to solve the problem, but I wouldn't be surprised if there were compat problems with it (which I think was mentioned when this came up before)","msgtype":"m.text"},"ts":1556563303000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"`'use nested multiline comments'`","msgtype":"m.text"},"ts":1556563442000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I am absbolutely certain there would be webcompat problems","msgtype":"m.text"},"ts":1556563765000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"`'*/use/*nested*/multiline/*comments*/'`","msgtype":"m.text"},"ts":1556563868000,"senderName":"devsnek","senderId":"devsnek@irc"}
]