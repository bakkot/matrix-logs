[
{"content":{"body":"Hi, I'm developing a website to compare ECMAScript spec revisions and PRs https://arai-a.github.io/ecma262-compare/  and I want feedback, and wish to integrate it into the spec development workflow","msgtype":"m.text"},"ts":1582695392000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"especially for PRs, I think the diff view can be used along with the existing rendered preview","msgtype":"m.text"},"ts":1582695583000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"arai_a: it'd help if the dropdown list was instead, an autocomplete with PR number and title","msgtype":"m.text"},"ts":1582696127000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"arai_a: and optionally also, sha or branch :-)","msgtype":"m.text"},"ts":1582696135000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"arai_a: how is this hosted on github pages, do you have to periodically update it?","msgtype":"m.text"},"ts":1582696159000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"good idea :)  I'll add an input field to enter PR number etc, and reflect it to other fields","msgtype":"m.text"},"ts":1582696201000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"yes, it's periodically updated (every 30 minutes)","msgtype":"m.text"},"ts":1582696221000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"the update is done by GitHub action, that clones the repo itself and ecma262 repo (and forks for PRs)","msgtype":"m.text"},"ts":1582696254000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"https://github.com/arai-a/ecma262-compare/blob/master/.github/workflows/update.yml and https://github.com/arai-a/ecma262-compare/blob/gh-pages/build.py","msgtype":"m.text"},"ts":1582696292000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"also, about selecting PR, you can specify it in URL, like https://arai-a.github.io/ecma262-compare/#pr=1881","msgtype":"m.text"},"ts":1582696367000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"so, that can be used for PR comment","msgtype":"m.text"},"ts":1582696403000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"arai_a: any change that can be a query string and not a hash?","msgtype":"m.text"},"ts":1582699638000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"do you mean make it https://arai-a.github.io/ecma262-compare/?pr=1881","msgtype":"m.text"},"ts":1582699697000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1582699702000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1582699868000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"how does that help?","msgtype":"m.text"},"ts":1582699885000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"¯\\_(ツ)_/¯ seems like a cleaner URL","msgtype":"m.text"},"ts":1582699900000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"imo hashes are weird unless it's for scrolling","msgtype":"m.text"},"ts":1582699908000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"I see. I'll try","msgtype":"m.text"},"ts":1582699918000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"(I don't know how to modify it without reloading","msgtype":"m.text"},"ts":1582699931000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"using window.pushState should do it","msgtype":"m.text"},"ts":1582700115000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"thanks :D","msgtype":"m.text"},"ts":1582700147000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"pushed the fix for search and query. will be deployed shortly","msgtype":"m.text"},"ts":1582700594000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"arai_a: the fuck kind of magic is this","msgtype":"m.text"},"ts":1582703734000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"this is incredible","msgtype":"m.text"},"ts":1582703742000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"how are you generating these diff","msgtype":"m.text"},"ts":1582703913000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"diffs","msgtype":"m.text"},"ts":1582703916000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"spec HTML is split into sections, and stored into JSON file.  the client downloads those JSON files and compares each sections, and combines different sections to show","msgtype":"m.text"},"ts":1582703999000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"i tried to do this a while ago but i couldn't figure out a consistent way to generate the diffs","msgtype":"m.text"},"ts":1582704109000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"the diff itself is done by LCS on text+path sequence","msgtype":"m.text"},"ts":1582704211000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"yeah i found the code","msgtype":"m.text"},"ts":1582704219000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"this is awesome","msgtype":"m.text"},"ts":1582704222000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"thank you :D","msgtype":"m.text"},"ts":1582704269000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"arai_a: i'm super stoked to integrate this into 262 PRs","msgtype":"m.text"},"ts":1582704305000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"^","msgtype":"m.text"},"ts":1582704312000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1582704394000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"arai_a: you might want to consider detecting fragmentation","msgtype":"m.text"},"ts":1582704440000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"https://gc.gy/50409458.png","msgtype":"m.text"},"ts":1582704459000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"like this should probably be split into a big red section and a big green section","msgtype":"m.text"},"ts":1582704473000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"(even though there is common text between them)","msgtype":"m.text"},"ts":1582704534000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yeah, I'm experimenting tree-based LCS to solve that","msgtype":"m.text"},"ts":1582704561000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"(\"Use experimental diff\" checkbox in the page.  not sure if it work for this case tho","msgtype":"m.text"},"ts":1582704655000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"devsnek: can you give me the URL for the case? I'll link to it in issue","msgtype":"m.text"},"ts":1582704847000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"arai_a: https://arai-a.github.io/ecma262-compare/?pr=1597","msgtype":"m.text"},"ts":1582704936000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"experimental mode helps a bit but still has some oddness","msgtype":"m.text"},"ts":1582704947000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"thanks!  yeah, it needs some more fix","msgtype":"m.text"},"ts":1582704984000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"applied some fix to experimental diff. now it should be shown as whole replace","msgtype":"m.text"},"ts":1582714593000,"senderName":"arai_a","senderId":"arai_a@irc"},
{"content":{"body":"arai_a: Why does https://arai-a.github.io/ecma262-compare/?from=f032005886d531aaffd02b3e90208ff08a47797b&to=2431eb385e4315471abd33f710b4ed5644e1b002 show \"O section(s) found\" ?","msgtype":"m.text"},"ts":1582745422000,"senderName":"jmdyck","senderId":"jmdyck@irc"}
]