[
{"content":{"body":"https://es.discourse.group/t/new-forbidden-rule-no-leaking-proxy/646/","msgtype":"m.text"},"ts":1613488865000,"senderName":"jackworks","senderId":"jackworks@irc"},
{"content":{"body":"proxy should be non-detectable right?","msgtype":"m.text"},"ts":1613488876000,"senderName":"jackworks","senderId":"jackworks@irc"},
{"content":{"body":"the spec doesn't forbid this","msgtype":"m.text"},"ts":1613495672000,"senderName":"gsathya","senderId":"gsathya@irc"},
{"content":{"body":"jackworks: no, it shouldn't be non-detectable in the absence of membranes.","msgtype":"m.text"},"ts":1613495879000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"and more to the point, the spec effectively requires that it be detectable for a proxy to a builtin that has internal slots","msgtype":"m.text"},"ts":1613495995000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"sooooo i made a terrible thing: https://www.npmjs.com/package/private-fields","msgtype":"m.text"},"ts":1613498040000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"but","msgtype":"m.text"},"ts":1613498436000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"why","msgtype":"m.text"},"ts":1613498436000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"because node makes it possible ¯\\_(ツ)_/¯","msgtype":"m.text"},"ts":1613498566000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"lots of things are possible and also harmful","msgtype":"m.text"},"ts":1613498577000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(\"harmful\" is perhaps too strong a term)","msgtype":"m.text"},"ts":1613498602000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(\"inadvisable\", perhaps)","msgtype":"m.text"},"ts":1613498613000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"yeah it's super harmul","msgtype":"m.text"},"ts":1613498681000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"i'm hoping i can convince node to remove the capability","msgtype":"m.text"},"ts":1613498688000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"seems unlikely; if nothing else you could always rewrite it as a C module and just rip them out of memory directly, so it's always going to be possible","msgtype":"m.text"},"ts":1613498761000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"question is how easy it is","msgtype":"m.text"},"ts":1613498767000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1613498773000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"maybe you could add an `install` script which requires someone to confirm they know what they're doing at a prompt, just so that there's added friction to prevent using it as a dependency","msgtype":"m.text"},"ts":1613498875000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"also I am amused by the idea of node packages with EULAs","msgtype":"m.text"},"ts":1613498883000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"lol sure, i could do tht","msgtype":"m.text"},"ts":1613499081000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"or just add console warnings every time the function is called","msgtype":"m.text"},"ts":1613499091000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"or `if (Math.random() < .1) process.exit(1)`","msgtype":"m.text"},"ts":1613499112000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1613499174000,"senderName":"ljharb","senderId":"ljharb@irc"}
]