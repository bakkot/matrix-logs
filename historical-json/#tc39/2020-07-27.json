[
{"content":{"body":"Do iterators have a implicit contract that it shouldn't return more value (done: false) after saying done:true?","msgtype":"m.text"},"ts":1595834699000,"senderName":"bendtherules","senderId":"bendtherules@irc"},
{"content":{"body":"The in-built array iterator seems to delete the reference back to the array once it has finished. Is it for the above reason or to clean up references?","msgtype":"m.text"},"ts":1595834764000,"senderName":"bendtherules","senderId":"bendtherules@irc"},
{"content":{"body":"where's the rule that says functions can't be declared except for top level and inside blocks","msgtype":"m.text"},"ts":1595857907000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: you mean in a non-annex-B world?","msgtype":"m.text"},"ts":1595859151000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck: yes","msgtype":"m.text"},"ts":1595859167000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: I think it's mostly just the grammar. Start at FunctionDeclaration and work your way \"up\", and you find (with a few exceptions) that it can only occur in a StatementList, which (with a few exceptions) can only occur at \"top level\" or within a Block (or a FunctionBody, which I'm guessing you're including)","msgtype":"m.text"},"ts":1595859771000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck: its something else","msgtype":"m.text"},"ts":1595859925000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Statement : ExpressionStatement","msgtype":"m.text"},"ts":1595859930000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"ExpressionStatement : FunctionExpression","msgtype":"m.text"},"ts":1595859934000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"that production is disallowed too","msgtype":"m.text"},"ts":1595859940000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"for example `while (true) function() {}`","msgtype":"m.text"},"ts":1595859953000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Ah, wasn't sure if you were talking about FuncExprs too","msgtype":"m.text"},"ts":1595859986000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"i already separated statements/declarations","msgtype":"m.text"},"ts":1595859998000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"so its just the expression forms that are confusing me now","msgtype":"m.text"},"ts":1595860006000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"https://tc39.es/ecma262/#sec-expression-statement : start of ExpressionStatement disallows 'function' keyword as lookahead","msgtype":"m.text"},"ts":1595860336000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"oh that seems kind of obvious","msgtype":"m.text"},"ts":1595860435000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1595860438000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"mind you, what about `while (true) (function() {})`","msgtype":"m.text"},"ts":1595860466000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"that one is allowed","msgtype":"m.text"},"ts":1595860552000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"so no problem","msgtype":"m.text"},"ts":1595860555000,"senderName":"devsnek","senderId":"devsnek@irc"}
]