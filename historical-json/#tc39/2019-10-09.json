[
{"content":{"body":"can you escape the L itself?","msgtype":"m.text"},"ts":1570579230000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"i tried, ecmarkup's too smart for that","msgtype":"m.text"},"ts":1570579316000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Well, you could write it as \"&#x4C;\", but that's still pretty hacky.","msgtype":"m.text"},"ts":1570579316000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"i'll just use the zero width space for now","msgtype":"m.text"},"ts":1570579325000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Oh, ecmarkup probably gets normalized text.","msgtype":"m.text"},"ts":1570579365000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"oh phew, I implemented the matchAll update and it broke a whole bunch of other tests -- looks like V8 encountered this too but hasn't reported it","msgtype":"m.text"},"ts":1570579486000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"https://bugs.chromium.org/p/v8/issues/detail?id=9800#c9","msgtype":"m.text"},"ts":1570579487000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"Wikipedia says 'word joiner' (U+2060) is preferred over 'zero width no-break space' (U+FEFF): https://en.wikipedia.org/wiki/Word_joiner","msgtype":"m.text"},"ts":1570579526000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"rkirsling: it's entirely possible i missed some when i updated test262","msgtype":"m.text"},"ts":1570579650000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"rkirsling: but IsRegExp uses Symbol.match, not Symbol.matchAll","msgtype":"m.text"},"ts":1570579660000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"uh so what I mean is that the spec checks for presence of \"g\" before looking up Symbol.matchAll","msgtype":"m.text"},"ts":1570579929000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"like in https://github.com/tc39/test262/blob/master/test/built-ins/String/prototype/matchAll/regexp-get-matchAll-throws.js","msgtype":"m.text"},"ts":1570580019000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"we've thrown a TypeError before that's even relevant","msgtype":"m.text"},"ts":1570580042000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"rkirsling: i was about to file the upstream bug to test262","msgtype":"m.text"},"ts":1570580088000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"ljharb: i also don't understand your message on the v8 issue","msgtype":"m.text"},"ts":1570580108000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"shu: yay","msgtype":"m.text"},"ts":1570580112000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"ljharb: oh god, I wasn't serious about the zero-width character thing","msgtype":"m.text"},"ts":1570580337000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"at least just use an HTML comment or something","msgtype":"m.text"},"ts":1570580344000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"sidebar: anyone know how screen readers deal with the various ZWJ (etc) characters?","msgtype":"m.text"},"ts":1570580597000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"rkirsling: it's also your understanding that those tests should be throwing `TypeError` instead of `Test262Error`, right?","msgtype":"m.text"},"ts":1570580679000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"shu: correct","msgtype":"m.text"},"ts":1570580940000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"Bakkot: lol fair, that's better","msgtype":"m.text"},"ts":1570586092000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"rkirsling: it's still relevant whether matchAll is present or not","msgtype":"m.text"},"ts":1570586118000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"rkirsling: we're saying that \"String.prototype.matchAll should not be called with anything that lacks a g flag\"","msgtype":"m.text"},"ts":1570586135000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1570586307000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"for the test I linked, S.p.matchAll throws due to receiving a non-global regex before it checks Symbol.matchAll, is the idea","msgtype":"m.text"},"ts":1570586361000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"ah, you're saying the test doesn't actually test that","msgtype":"m.text"},"ts":1570586390000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"yeah in order to keep testing the path it was originally testing, we'd need to make it /./g, I think","msgtype":"m.text"},"ts":1570586416000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"got it","msgtype":"m.text"},"ts":1570586427000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"i can make a quick pr","msgtype":"m.text"},"ts":1570586430000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"https://github.com/tc39/test262/pull/2399","msgtype":"m.text"},"ts":1570586581000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1570586753000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I think https://github.com/tc39/test262/blob/master/test/built-ins/String/prototype/matchAll/flags-undefined-throws.js has the additional issue of expecting Test262Error without actually using it anywhere","msgtype":"m.text"},"ts":1570586776000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I'd evidently been too preoccupied with the others to notice myself, but it's also mentioned in the Chromium thread","msgtype":"m.text"},"ts":1570586836000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"oops, i'll fix that too, thanks","msgtype":"m.text"},"ts":1570586903000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"ruh roh","msgtype":"m.text"},"ts":1570589727000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"there appears to have been a syntax error in something just merged","msgtype":"m.text"},"ts":1570589738000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(ecmarkup rendering is broken on master)","msgtype":"m.text"},"ts":1570589801000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"gmm","msgtype":"m.text"},"ts":1570589871000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1570589872000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"checking","msgtype":"m.text"},"ts":1570589876000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"rkirsling: everything seems to build normally for me on master","msgtype":"m.text"},"ts":1570589898000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"rkirsling: what makes you think it's broken on master?","msgtype":"m.text"},"ts":1570589946000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"https://tc39.es/ecma262/ is busted from like section 16 onward","msgtype":"m.text"},"ts":1570589982000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1570590025000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"(search for underscores, say)","msgtype":"m.text"},"ts":1570590028000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1570590038000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"oh yeah, it's not processing ecmarkdown","msgtype":"m.text"},"ts":1570590040000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"doing a bisect now","msgtype":"m.text"},"ts":1570590113000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"might be 693e09a4b9ce52b060ceda897b042c3f83f0a738.","msgtype":"m.text"},"ts":1570590228000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"oh no wait, one sec","msgtype":"m.text"},"ts":1570590266000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"seems like the HTML comment approach broke rendering","msgtype":"m.text"},"ts":1570590398000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"wah","msgtype":"m.text"},"ts":1570590419000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"but broke it at clause 16??","msgtype":"m.text"},"ts":1570590449000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"i think ecmarkup is very brittle around html comments; it's happened once before","msgtype":"m.text"},"ts":1570590462000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"pushing up a fix shortly.","msgtype":"m.text"},"ts":1570590518000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"rkirsling: should be fixed","msgtype":"m.text"},"ts":1570590789000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"confirmed!","msgtype":"m.text"},"ts":1570590856000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"thanks for the speedy recovery","msgtype":"m.text"},"ts":1570590866000,"senderName":"rkirsling","senderId":"rkirsling@irc"}
]