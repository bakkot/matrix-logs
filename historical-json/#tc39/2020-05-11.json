[
{"content":{"body":"mfw `return promise` can throw in async generators but not async functions","msgtype":"m.text"},"ts":1589215682000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: example?","msgtype":"m.text"},"ts":1589218320000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"ljharb: `return Promise.reject()`","msgtype":"m.text"},"ts":1589218332000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"why would that throw","msgtype":"m.text"},"ts":1589218381000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"`return` performs an await in async generators","msgtype":"m.text"},"ts":1589218391000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"https://gc.gy/56923403.png","msgtype":"m.text"},"ts":1589218404000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yeah that's pretty weird","msgtype":"m.text"},"ts":1589218458000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"otoh does anyone actually `return` in a generator?","msgtype":"m.text"},"ts":1589218508000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"i do","msgtype":"m.text"},"ts":1589218516000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"but its not that common","msgtype":"m.text"},"ts":1589218521000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1589218525000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(sincerely; I'm curious what the use case is)","msgtype":"m.text"},"ts":1589218531000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"my engine262 evaluator is built on generators","msgtype":"m.text"},"ts":1589218537000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"not the async kind though","msgtype":"m.text"},"ts":1589218542000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yes that is very weird","msgtype":"m.text"},"ts":1589218562000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Bakkot: https://github.com/engine262/engine262/blob/parser/src/runtime-semantics/IfStatement.mjs#L21","msgtype":"m.text"},"ts":1589218587000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"what does `return` do for you there?","msgtype":"m.text"},"ts":1589218587000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"its how i return values","msgtype":"m.text"},"ts":1589218615000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i use it like a normal return","msgtype":"m.text"},"ts":1589218622000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1589218634000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"I guess my question is, presumably this bottoms out somewhere where it isn't just generators deferring to generators","msgtype":"m.text"},"ts":1589218649000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"and that is the part I am interested in","msgtype":"m.text"},"ts":1589218653000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"https://github.com/engine262/engine262/blob/parser/src/helpers.mjs#L141-L153","msgtype":"m.text"},"ts":1589218670000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"https://github.com/engine262/engine262/blob/parser/src/abstract-ops/function-operations.mjs","msgtype":"m.text"},"ts":1589218737000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"oops","msgtype":"m.text"},"ts":1589218743000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"https://github.com/engine262/engine262/blob/parser/src/abstract-ops/function-operations.mjs#L124-L127","msgtype":"m.text"},"ts":1589218743000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"aha","msgtype":"m.text"},"ts":1589218775000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"neat","msgtype":"m.text"},"ts":1589218776000,"senderName":"Bakkot","senderId":"Bakkot@irc"}
]