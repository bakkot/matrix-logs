[
{"content":{"body":"today I learned: the ES spec does not fully define the value of number literals","msgtype":"m.text"},"ts":1606962222000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"hosts are permitted two different interpretations of 111111111111111122949","msgtype":"m.text"},"ts":1606962245000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(specifically, the exact float 111111111111111131136 and the exact float 111111111111111114752)","msgtype":"m.text"},"ts":1606962388000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"100000000000000008191 is the least such (non-negative integer) string with this property I think; implementations are allowed to interpret it as either 100000000000000000000 or 100000000000000016384","msgtype":"m.text"},"ts":1606963381000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Bakkot: and even though 111111111111111114752 is exactly representable as a Number, implementations aren't obliged to give that Number as the value of that literal.","msgtype":"m.text"},"ts":1606975060000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck hm, how not?","msgtype":"m.text"},"ts":1606975169000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"by my reading they can choose either the Number which represents the MV of `111111111111111114750` or the Number which represents the MV of `111111111111111114760`, but those are the same Number","msgtype":"m.text"},"ts":1606975212000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"oh right, i'm looking at the wrong thing.","msgtype":"m.text"},"ts":1606975356000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"it also applies to DecimalLiteral productions with an ExponentPart, e.g. `1.86264514923095703125e-9`","msgtype":"m.text"},"ts":1606984753000,"senderName":"gibson042","senderId":"gibson042@irc"},
{"content":{"body":"err, but I guess that example would also need to fall halfway between (negative) powers of 2","msgtype":"m.text"},"ts":1606984988000,"senderName":"gibson042","senderId":"gibson042@irc"},
{"content":{"body":"I wonder if there are actually implementation differences here or if we could nail this down","msgtype":"m.text"},"ts":1607014183000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"eshost on a few examples?","msgtype":"m.text"},"ts":1607014325000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"the ones I've tried have all had agreement","msgtype":"m.text"},"ts":1607014337000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(it's a little harder to test in chakra because they have a bug with printing, but I am pretty sure)","msgtype":"m.text"},"ts":1607014411000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"but nailing it down would presumably be a normative change, so probably a separate PR?","msgtype":"m.text"},"ts":1607014537000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1607014656000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"for your PR I would like to answer the narrower question of whether number for the value of the literal itself is ever not among the two alternatives given","msgtype":"m.text"},"ts":1607014723000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"I have pretty much convinced myself it is not for integers, but still need to think about numbers with fractional parts","msgtype":"m.text"},"ts":1607014755000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"But if nail-down PR lands first, it's moot for my PR.","msgtype":"m.text"},"ts":1607014792000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"i.e., that narrower question is moot.","msgtype":"m.text"},"ts":1607014873000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"true! but that can't happen until Jan 25 at the earliest, and I was hoping to get yours in before then","msgtype":"m.text"},"ts":1607014886000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1607014892000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(though admittedly we do often leave things open for well over two months)","msgtype":"m.text"},"ts":1607014922000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"it's already been around for 6 months, could wait longer.","msgtype":"m.text"},"ts":1607014951000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"wow, this \"construct typed array from existing typed array with custom ArrayBuffer\" thing is annoying","msgtype":"m.text"},"ts":1607033040000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(https://tc39.es/ecma262/#sec-initializetypedarrayfromtypedarray)","msgtype":"m.text"},"ts":1607033079000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1607035832000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"leobalter: ping, got a test262 harness question","msgtype":"m.text"},"ts":1607037396000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"shu hi","msgtype":"m.text"},"ts":1607037441000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"leobalter: what's the difference between this directory https://github.com/tc39/test262/tree/main/tools/packaging and this repo https://github.com/test262-utils/test262-harness-py?","msgtype":"m.text"},"ts":1607037483000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"did the latter move into the former?","msgtype":"m.text"},"ts":1607037489000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"some years ago we tried to move the python harness out of Test262","msgtype":"m.text"},"ts":1607037741000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"in order to communicate the people involved directly on Test262 are not doing active maintenance to it","msgtype":"m.text"},"ts":1607037769000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"I'm trying to find some issue/pr referencing this","msgtype":"m.text"},"ts":1607037785000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"well, the two are currently out of sync","msgtype":"m.text"},"ts":1607037799000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"which one should i be using?","msgtype":"m.text"},"ts":1607037803000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"it seems like the in-tree one is more recent","msgtype":"m.text"},"ts":1607037812000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"it's only more recent because there is a change related to the `main` branch","msgtype":"m.text"},"ts":1607037863000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"https://github.com/tc39/test262/pull/748","msgtype":"m.text"},"ts":1607037918000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"so... i should be using the one in test262-harness-py?","msgtype":"m.text"},"ts":1607037959000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"the remaining parts in the Test262's packaging folder are to generate tests for the website, but it's not maintained anymore","msgtype":"m.text"},"ts":1607037960000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"i see","msgtype":"m.text"},"ts":1607037978000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"okay, thanks","msgtype":"m.text"},"ts":1607037981000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"well, if you only have 2, yes, but I believe the proper python harness is on v8","msgtype":"m.text"},"ts":1607038002000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"there's been some copyright header linting that started complaining recently, trying to track down what needs to be updated","msgtype":"m.text"},"ts":1607038029000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"it'd be good to deduplicate this parseTestRecord thing, though","msgtype":"m.text"},"ts":1607038122000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"yes, IIRC there is a parseTestRecord equivalent in V8, but I still need to find it","msgtype":"m.text"},"ts":1607038245000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"we use the copy in test262-harness-py","msgtype":"m.text"},"ts":1607038887000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"both the harness repo and the main test repo are cloned into the v8 tree, and the python stuff in the harness repo are used","msgtype":"m.text"},"ts":1607038920000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"yes, and I remember that harness is the reason I stopped trying to remove the Copyright header requirement","msgtype":"m.text"},"ts":1607039000000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"unfortunately there is a lot of legacy pieces there. I would need to dedicate a better time to refactor it without compromising v8's test262 execution","msgtype":"m.text"},"ts":1607039065000,"senderName":"leobalter","senderId":"leobalter@irc"}
]