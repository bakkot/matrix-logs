[
{"content":{"body":"Thoughts on adding an additional argument to NewObjectEnvironment to initialize withEnvironment? See https://github.com/whatwg/html/pull/6086.","msgtype":"m.text"},"ts":1611312033000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk sure, seems reasonable","msgtype":"m.text"},"ts":1611333273000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"sidebar: we gotta fix `withEnvironment` so it's a proper slot","msgtype":"m.text"},"ts":1611333349000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"environment records are supposed to be records","msgtype":"m.text"},"ts":1611333441000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"and for e.g. Function env records we have explicit slots for the extra data: https://tc39.es/ecma262/#table-additional-fields-of-function-environment-records","msgtype":"m.text"},"ts":1611333471000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"but for Object environment records there's just an extra boolean \"associated\" with it","msgtype":"m.text"},"ts":1611333490000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"similarly a \"binding object\", I see","msgtype":"m.text"},"ts":1611333600000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"opened https://github.com/tc39/ecma262/issues/2285","msgtype":"m.text"},"ts":1611334747000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"I'll probably take a stab at 2285","msgtype":"m.text"},"ts":1611336293000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(I think it was on my todo list anyway.)","msgtype":"m.text"},"ts":1611336322000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"Bakkot: thanks, subscribed","msgtype":"m.text"},"ts":1611336516000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Bakkot: the reason is event handlers, on*, FWIW","msgtype":"m.text"},"ts":1611336528000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk how do those end up involving object environment records?","msgtype":"m.text"},"ts":1611336571000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Bakkot: if you have <div onclick=x()> it would first look up x on <div>, then on <div>.ownerDocument, then on globalThis, iirc","msgtype":"m.text"},"ts":1611336832000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh jeeze, I did not know that fact","msgtype":"m.text"},"ts":1611336850000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Bakkot: if it's a form control there's also the <form> in there","msgtype":"m.text"},"ts":1611336853000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Bakkot: further to post-2271 followup, reminder re https://github.com/tc39/ecma262/issues/2148","msgtype":"m.text"},"ts":1611349449000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck thanks for the reminder, will revisit","msgtype":"m.text"},"ts":1611350473000,"senderName":"Bakkot","senderId":"Bakkot@irc"}
]