[
{"content":{"body":"Is it just me, or was the “Lexical Environment” section (ID `sec-lexical-environments`) removed from Ecma-262 sometime in the past few years? There are still references to “lexical environments” in some notes, but the phrase no longer seems to be actually defined anywhere in the spec.","msgtype":"m.text"},"ts":1615485720000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"jschoi: it links here: https://tc39.es/ecma262/#sec-lexical-environments in 2022 and https://262.ecma-international.org/11.0/#sec-lexical-environments in 2020","msgtype":"m.text"},"ts":1615485798000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"jschoi: so yes, the term was removed during ES2021","msgtype":"m.text"},"ts":1615485820000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"looking for the PR","msgtype":"m.text"},"ts":1615485829000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"So it got absorbed into Environment Records…","msgtype":"m.text"},"ts":1615485856000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"jschoi: https://github.com/tc39/ecma262/pull/1697","msgtype":"m.text"},"ts":1615485856000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"ljharb: Thanks. Would it be worth submitting a pull request to change the last few references to “lexical environment” in the spec to “environment record”?","msgtype":"m.text"},"ts":1615485916000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"yeah i think that'd make sense. it'd be up to the editors tho","msgtype":"m.text"},"ts":1615486056000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Yeah.","msgtype":"m.text"},"ts":1615486153000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"Note that the spec still has the concept of 'lexical environment', insofar as every Execution Context for ES code has a LexicalEnvironment (as well as a VariableEnvironment). My recollection is that I left those few occurrences of \"lexical environment\" when they didn't appear to be referring specifically to the (former) Lexical Environment data structure, but to a lexical environment in a general sense, or in the sense ","msgtype":"m.text"},"ts":1615489301000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"an Execution Context.","msgtype":"m.text"},"ts":1615489302000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"that was what i looked at the existing terms for, but i couldn't tell where they fell on that spectrum","msgtype":"m.text"},"ts":1615489477000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"E.g., \"ECMAScript function objects encapsulate parameterized ECMAScript code closed over a lexical environment ...\" is, I think, just an introduction to the idea of function objects, using terms that the reader might already be familiar with from outside the spec.","msgtype":"m.text"},"ts":1615489532000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"And in the note in 14.11, it would be incorrect to change \"lexical environment\" to \"environment record\", because then it's saying \"the environment record of the running execution context\", which isn't well-defined. (An execution context doesn't have a singular environment record.)","msgtype":"m.text"},"ts":1615489971000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck: Is the “lexical environment” concept the same as the LexicalEnvironment state component of the running execution context, as defined in Table 25?","msgtype":"m.text"},"ts":1615490787000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"That being one of two Environment Records associated with the execution context.","msgtype":"m.text"},"ts":1615490818000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"Because “lexical environment” is not defined in the spec now, but LexicalEnvironment is defined.","msgtype":"m.text"},"ts":1615490888000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"I think that's basically the sense that 14.11 note intends. I don't think 10.2 is being that specific.","msgtype":"m.text"},"ts":1615491272000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"Makes sense; thanks.","msgtype":"m.text"},"ts":1615492183000,"senderName":"jschoi","senderId":"jschoi@irc"},
{"content":{"body":"yw","msgtype":"m.text"},"ts":1615492597000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"It's very niche, but it would be neat if there was a syntax for setting multiple properties to the same value. The grammar rules are very specific for property names. { [a, b]: 1 } or { ['a', 'b']: 1 } or { { a, b }: 1 } or { (a, b): 1 }","msgtype":"m.text"},"ts":1615493057000,"senderName":"Sirisian|Work","senderId":"Sirisian|Work@irc"},
{"content":{"body":"Sirisian|Work I don't think that comes up enough to warrant new syntax","msgtype":"m.text"},"ts":1615494008000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"syntax is expensive","msgtype":"m.text"},"ts":1615494011000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Indeed. It comes up 4 times in my whole codebase. :P","msgtype":"m.text"},"ts":1615494223000,"senderName":"Sirisian|Work","senderId":"Sirisian|Work@irc"}
]