[
{"content":{"body":"Bakkot: I'm tweaking my static analysis to detect cases like #2238","msgtype":"m.text"},"ts":1606786817000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck: sweet","msgtype":"m.text"},"ts":1606786827000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"found the cases in #2238, plus two more.","msgtype":"m.text"},"ts":1606787391000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"Also, getting a complaint that relates to PerformEval.","msgtype":"m.text"},"ts":1606787444000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(which isn't a built-in, but `eval` directly returns whatever it returns, so it has similar return-type constraint)","msgtype":"m.text"},"ts":1606787504000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"but I've mostly convinced myself that it's not a problem","msgtype":"m.text"},"ts":1606787597000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"I think step 30, which returns Completion(result) instead of just result, is probably a bug - `result` is already going to be a completion","msgtype":"m.text"},"ts":1606788570000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"actually, \"Completion()` as an AO doesn't... mean anything","msgtype":"m.text"},"ts":1606788578000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"oh, wait, yes it does","msgtype":"m.text"},"ts":1606788593000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"\"The abstract operation Completion(completionRecord) is used to emphasize that a previously computed Completion Record is being returned\"","msgtype":"m.text"},"ts":1606788598000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"ok, all is well","msgtype":"m.text"},"ts":1606788601000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"the complaint arose because \"the result of evaluating X\" can in general be a Reference Record; but presumably not when X is a ScriptBody, so PerformEval should be safe","msgtype":"m.text"},"ts":1606788673000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"yeah, makes sense","msgtype":"m.text"},"ts":1606788729000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(I kind of want to change that, incidentally - it's conceptually pretty weird. but I need to think more about whether it's practical to have a separate path for evaluate-for-reference without adding a bunch of duplication.)","msgtype":"m.text"},"ts":1606788778000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"I'm also getting some complaints about functions possibly returning ~empty~, but they might be false positives, and they're not what 2238 is looking at, so I think I'll ignore them for now.","msgtype":"m.text"},"ts":1606788887000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"functions as in AOs, or es functions?","msgtype":"m.text"},"ts":1606788910000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"es functions","msgtype":"m.text"},"ts":1606788917000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(no problem for an AO to return ~empty~, in general)","msgtype":"m.text"},"ts":1606788942000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"rkirsling: yes, it's a Hixie quote","msgtype":"m.text"},"ts":1606809695000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"rkirsling: https://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-August/063981.html is the true source, I think","msgtype":"m.text"},"ts":1606809721000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"ah no, the other link predates that, so never mind â€” the Smooshgate post points to the right place :)","msgtype":"m.text"},"ts":1606809775000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"rkirsling: i usually hear \"spec fiction\" not \"work of fiction\"","msgtype":"m.text"},"ts":1606833033000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"There's also \"specifiction\": https://www.urbandictionary.com/define.php?term=specifiction","msgtype":"m.text"},"ts":1606835073000,"senderName":"jmdyck","senderId":"jmdyck@irc"}
]