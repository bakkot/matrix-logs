[
{"content":{"body":"Bakkot: I'm approaching the end of my 2007 edits","msgtype":"m.text"},"ts":1598150940000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck sweet. push to your branch when you are, and I'll review and pull them in before I do further work, yes?","msgtype":"m.text"},"ts":1598151322000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"*when you are done","msgtype":"m.text"},"ts":1598151331000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1598151341000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"and then I'll rebase the result on master","msgtype":"m.text"},"ts":1598151352000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Bakkot: ok, pushed.","msgtype":"m.text"},"ts":1598155054000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"It's not an attempt to be thorough (although each commit should be thorough in what it's doing), it's just where I'm stopping.","msgtype":"m.text"},"ts":1598155148000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"My goal was to use mathematical values (mainly non-neg integers) rather than Numbers as much as possible.","msgtype":"m.text"},"ts":1598155317000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"Generally, this also results in fewer math<->Number conversions.","msgtype":"m.text"},"ts":1598155446000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"I think I occasionally spelled \"nonnegative\" as \"non-negative\", which looks better to me but isn't spec style.","msgtype":"m.text"},"ts":1598155779000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(didn't want to change the ones I'd already pushed)","msgtype":"m.text"},"ts":1598155830000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"I deleted some `Assert: ! IsNonNegativeInteger(_x_) is *true*.` when I changed _x_ from Number to math'al. I could have changed them to `Assert: _x_ is a nonnegative integer.`, but I already said that in the preamble.","msgtype":"m.text"},"ts":1598156022000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"I didn't touch anything in the Date mess, I think.","msgtype":"m.text"},"ts":1598156143000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"There are a lot of occurrences of `the mathematical value of ? ToInteger(_x_)` which are dubious, because ToInteger can return infinities, and 'the mathematical value' is only defined on finite values","msgtype":"m.text"},"ts":1598156498000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"Similarly `Let _i_ be ? ToInteger(_x_); ... R(_i_)` without an intervening check for infinities","msgtype":"m.text"},"ts":1598156558000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"yeah, I have an in-progress fix for that","msgtype":"m.text"},"ts":1598156702000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"https://github.com/tc39/ecma262/commit/3c869bd096661100e766684ec00513fcda455fb9","msgtype":"m.text"},"ts":1598157850000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"^ is the in-progress fix","msgtype":"m.text"},"ts":1598157860000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(also includes some other stuff)","msgtype":"m.text"},"ts":1598157867000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Oh, also, I changed the return type of some ops to be mathematical when they also can return abrupt completions, which means they supposedly are returning the math value in the [[Value]] of a Normal completion, which is supposedly not allowed. It's ok as far as I'm concerned, but you might want to do something different.","msgtype":"m.text"},"ts":1598158430000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"(ok with me because normal completions are unnecessary: https://github.com/tc39/ecma262/issues/497)","msgtype":"m.text"},"ts":1598158584000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck I am fine with normal-completion-of mathematical values, as long as the same operation cannot also return normal-completion-of Numbers","msgtype":"m.text"},"ts":1598159333000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"there are already places where normal completions hold non-ECMAScript values, so whatever","msgtype":"m.text"},"ts":1598159356000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"fixing completioons is next up after this and the SDO restructure","msgtype":"m.text"},"ts":1598159385000,"senderName":"Bakkot","senderId":"Bakkot@irc"}
]