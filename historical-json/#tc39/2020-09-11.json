[
{"content":{"body":"jmdyck: michael ficarra and I just did a bunch of work on 2007","msgtype":"m.text"},"ts":1599785255000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"incorporated the commits from your 2007_ed branch, rebased on master, and then did a few more things","msgtype":"m.text"},"ts":1599785274000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"hopefully all the uses of ToInteger are correct now","msgtype":"m.text"},"ts":1599785295000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"we still need to rectify Date, which we'll do next Thursday","msgtype":"m.text"},"ts":1599785306000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"how close is it to shipping, do you think?","msgtype":"m.text"},"ts":1599785325000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"really hoping we'll have it ready by the meeting on the 20th, so that we can confirm we've identified all the places that plenary's input is required","msgtype":"m.text"},"ts":1599785380000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"so far that list is Date stuff and this one we just discovered: https://github.com/tc39/ecma262/issues/2170","msgtype":"m.text"},"ts":1599785404000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"if we can get it ready by the meeting and get consensus on those issues at the meeting I'm going to push really hard to land it immediately after","msgtype":"m.text"},"ts":1599785426000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"since it is a massive rebase","msgtype":"m.text"},"ts":1599785438000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"oh we also incorporated the math algorithms one (2122), figuring it would land before 2007","msgtype":"m.text"},"ts":1599785477000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"that one","msgtype":"m.text"},"ts":1599785502000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"that one's still changing, though","msgtype":"m.text"},"ts":1599785510000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"a little bit, yes","msgtype":"m.text"},"ts":1599785656000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"but only a little bit","msgtype":"m.text"},"ts":1599785660000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"hoping we can get it in in the next couple of days","msgtype":"m.text"},"ts":1599785667000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"good thing i got my 2122 review in then","msgtype":"m.text"},"ts":1599785810000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"Are there many calls to ToInteger where infinity makes sense?","msgtype":"m.text"},"ts":1599785932000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"almost all of them","msgtype":"m.text"},"ts":1599785965000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"they tend to immediately bound above and below, in some manner","msgtype":"m.text"},"ts":1599785981000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"I had something different in mind for \"makes sense\"","msgtype":"m.text"},"ts":1599786035000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"can you rephrase, then?","msgtype":"m.text"},"ts":1599786075000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"hm","msgtype":"m.text"},"ts":1599786079000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"maybe: if ToInteger, rather than returning infinity, returned a large integer, would the resulting behavior be visibly different?","msgtype":"m.text"},"ts":1599786151000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"well, it would need to be an integer larger than any other integer, which is kind of what infinity is for","msgtype":"m.text"},"ts":1599786263000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"but mostly no, with a couple of exceptions in typed arrays / atomics","msgtype":"m.text"},"ts":1599786276000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"shu: also note that byteLength/length for %TypedArray% already return 0","msgtype":"m.text"},"ts":1599852325000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"it's just ArrayBuffer#byteLength that's being relaxed","msgtype":"m.text"},"ts":1599852337000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"rkirsling: ah indeed, oops, let me adjust the test","msgtype":"m.text"},"ts":1599852368000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"(now, it's interesting that there's alignment between spec and reality to have DataView throw a lot, but this is exactly the kind of thing that we could choose to deal with at a later time if we wanted)","msgtype":"m.text"},"ts":1599852395000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"rkirsling: oops got distracted, ArrayBuffer#byteLength definitely is web reality for all engines right now as well","msgtype":"m.text"},"ts":1599853847000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"yup!","msgtype":"m.text"},"ts":1599854695000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"that was the bit that started it all, 'cause I realized I shouldn't fix it","msgtype":"m.text"},"ts":1599854735000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I hadn't looked into typed arrays in particular until after talking with you, hehe","msgtype":"m.text"},"ts":1599854764000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"it's really interesting to me that typed arrays can have arbitrary properties just as long as the key isn't a stringified float","msgtype":"m.text"},"ts":1599859167000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I wonder if it's meant to be less confusing somehow? but it's really kind of moreso, since x[1.1] is clearly not an ordered index","msgtype":"m.text"},"ts":1599859235000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"can they?","msgtype":"m.text"},"ts":1599860208000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"i don't think they can have \"1.1\" as an own property","msgtype":"m.text"},"ts":1599860257000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"yeah that's what I mean","msgtype":"m.text"},"ts":1599860320000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"`ta['1-1'] = 3` does something and `ta['1.1'] = 3` does not","msgtype":"m.text"},"ts":1599860383000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"ah, i misread","msgtype":"m.text"},"ts":1599860687000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"i no longer remember the original motivation","msgtype":"m.text"},"ts":1599860699000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"but it is the source of the extra confusion of what happens when TAs are on the prototype that i talked about last year","msgtype":"m.text"},"ts":1599860712000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"the one at salesforce","msgtype":"m.text"},"ts":1599860716000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"oh yeah I had forgotten about that","msgtype":"m.text"},"ts":1599861055000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"shu: did that result in a PR?","msgtype":"m.text"},"ts":1599861154000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"that dropped off my radar and i havenâ€™t gotten back to it yet, alas","msgtype":"m.text"},"ts":1599861231000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"help appreciated ;)","msgtype":"m.text"},"ts":1599862058000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"hehehe one step at a time","msgtype":"m.text"},"ts":1599862247000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"this sure is a bumpy area of the spec ðŸ˜…","msgtype":"m.text"},"ts":1599862286000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"you, too, can become an arraybuffer abyss gazer!","msgtype":"m.text"},"ts":1599866036000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"heheheh","msgtype":"m.text"},"ts":1599866102000,"senderName":"rkirsling","senderId":"rkirsling@irc"}
]