[
{"content":{"body":"is there a way we could make the website not change position when the window resizes","msgtype":"m.text"},"ts":1597027306000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"you mean the online spec?","msgtype":"m.text"},"ts":1597027436000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1597027738000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"how did you read a message from before you joined","msgtype":"m.text"},"ts":1597027755000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"oh nvm we have logs","msgtype":"m.text"},"ts":1597027761000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1597027767000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"every time i resize my browser","msgtype":"m.text"},"ts":1597027781000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"the spec jumps somewhere random","msgtype":"m.text"},"ts":1597027784000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"because it's reflowing the whole spec","msgtype":"m.text"},"ts":1597027811000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"yeah i get it has to resize everything","msgtype":"m.text"},"ts":1597027827000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"is this just like","msgtype":"m.text"},"ts":1597027829000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"an unsolvable problem","msgtype":"m.text"},"ts":1597027832000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I seem to recall reading something about it recently, but I don't remember where.","msgtype":"m.text"},"ts":1597027857000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"on resize we could ask for whatever element is at the top of the screen","msgtype":"m.text"},"ts":1597027882000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"and then after resize we could scroll to it","msgtype":"m.text"},"ts":1597027889000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"please no js-based scrolling","msgtype":"m.text"},"ts":1597027947000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"it would only happen on resize","msgtype":"m.text"},"ts":1597028064000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"to correct the browser's scrolling","msgtype":"m.text"},"ts":1597028078000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"don't care, no js-based scrolling","msgtype":"m.text"},"ts":1597028101000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"it is never, ever a good experience","msgtype":"m.text"},"ts":1597028108000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"but this issue is dumb","msgtype":"m.text"},"ts":1597028138000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i have to permalink every time i want to resize my browser","msgtype":"m.text"},"ts":1597028149000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"open to finding other solutions to it as long as they do not involve scrolling the page using JS","msgtype":"m.text"},"ts":1597028163000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"if there's a better solution sure","msgtype":"m.text"},"ts":1597028191000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"+1 to Bakkot, js-based scrolling is terribad","msgtype":"m.text"},"ts":1597035739000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"seems like a browser UX bug tbh","msgtype":"m.text"},"ts":1597035755000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"^ https://drafts.csswg.org/css-scroll-anchoring/ is in Chrome 56","msgtype":"m.text"},"ts":1597059211000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"Ah, that was it.","msgtype":"m.text"},"ts":1597064113000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"https://caniuse.com/#feat=css-overflow-anchor","msgtype":"m.text"},"ts":1597064174000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"that proposal is in chrome and firefox and both of them scroll to random positions when the viewport size changes","msgtype":"m.text"},"ts":1597065360000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"hm, I guess window resize changes `width` of document, which suppresses the effect","msgtype":"m.text"},"ts":1597065834000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck: did you see this https://snek.dev/ecma262-multipage-demo/multipage/","msgtype":"m.text"},"ts":1597065907000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"no, hadn't seen that, thanks.","msgtype":"m.text"},"ts":1597065966000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"\"Note: Suppression triggers exist for compatibility with existing web content that has negative interactions with scroll anchoring due to shifting content in scroll event handlers.\"","msgtype":"m.text"},"ts":1597066494000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"devsnek: ooh multipage! nice","msgtype":"m.text"},"ts":1597070436000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"devsnek: what else is needed for upstreaming this?","msgtype":"m.text"},"ts":1597070449000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"well i didn't do it with ecmarkup","msgtype":"m.text"},"ts":1597070473000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"the main issue is the links are rewritten on the client side with js","msgtype":"m.text"},"ts":1597070491000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"because apparently changing `a.href` in jsdom takes about 100ms","msgtype":"m.text"},"ts":1597070506000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yikes","msgtype":"m.text"},"ts":1597070514000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"times 22000 links is 40 minutes","msgtype":"m.text"},"ts":1597070516000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"holy fuck what","msgtype":"m.text"},"ts":1597070524000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1597070528000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i started trying to do this in ecmarkup but there's so much going on in there i wasn't sure where to even start","msgtype":"m.text"},"ts":1597070692000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"mathiasbynens: i found a hack, `a.setAttribute('href', whatever)` is not deathly slow, no more client side js","msgtype":"m.text"},"ts":1597072280000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: neat! (and also weird that it makes such a big difference)","msgtype":"m.text"},"ts":1597072467000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"alright so let's upstream this","msgtype":"m.text"},"ts":1597072477000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"#hype","msgtype":"m.text"},"ts":1597072483000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"does hermes just segfault on linux now","msgtype":"m.text"},"ts":1597075615000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: re, doing this in ecmarkup, the place that most of the change would be is in Spec.ts, specifically somewhere around here: https://github.com/tc39/ecmarkup/blob/40d56a311165bb974e75ab50b8803115ee560700/src/Spec.ts#L365-L383","msgtype":"m.text"},"ts":1597078224000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"yeah found that area","msgtype":"m.text"},"ts":1597078240000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"mostly idk how to pull useful data out of the biblio","msgtype":"m.text"},"ts":1597078251000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"is DateFromTime(NaN) defined?","msgtype":"m.text"},"ts":1597079171000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Bakkot: can you tell michaelficarra we got a funny problem with built-in Function#toString for legacy regexp getters","msgtype":"m.text"},"ts":1597080788000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"Bakkot: right now SM prints `function $&()` and V8 prints `function get $&()` for RegExp.$&, the legacy \"last match\" getters","msgtype":"m.text"},"ts":1597080841000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"getter*","msgtype":"m.text"},"ts":1597080843000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"$& is not a PropertyName","msgtype":"m.text"},"ts":1597080850000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"we just need to make `$&` a valid propertyname","msgtype":"m.text"},"ts":1597080857000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"good luck with that","msgtype":"m.text"},"ts":1597080867000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"oh maybe the spec isn't an issue here, just test262","msgtype":"m.text"},"ts":1597080966000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"the spec allows for function [\"$&\"]() i guess?","msgtype":"m.text"},"ts":1597080985000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1597080992000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"so does the test ftr","msgtype":"m.text"},"ts":1597080999000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"ah indeed, there's a big complex implementation of native function matcher...","msgtype":"m.text"},"ts":1597081017000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"well then","msgtype":"m.text"},"ts":1597081023000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"this is... unfortunate","msgtype":"m.text"},"ts":1597081026000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"does the internet break if you change it to `['$&']`?","msgtype":"m.text"},"ts":1597081082000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"does it even need the brackets if it has quotes?","msgtype":"m.text"},"ts":1597081194000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"like how `'foo'() {}` is a valid class method","msgtype":"m.text"},"ts":1597081210000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"hm you're right","msgtype":"m.text"},"ts":1597081231000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i didn't add that to the native function matcher though","msgtype":"m.text"},"ts":1597081239000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"`if (!eatIdentifier() && eat('[')) { stumbleUntil(']'); }`","msgtype":"m.text"},"ts":1597081257000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: i doubt it, but why find out","msgtype":"m.text"},"ts":1597081435000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"function ['foo']() {} ... tis ugly","msgtype":"m.text"},"ts":1597083588000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"in node, `Object.getOwnPropertyDescriptor({ get '$&'() {} }, '$&').get.toString()` prints out `\"get '$&'() {}\"`","msgtype":"m.text"},"ts":1597084599000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"graalvm calls it `lastMatch`","msgtype":"m.text"},"ts":1597084724000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: looks to me like DateFromTime(NaN) is not defined","msgtype":"m.text"},"ts":1597085100000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"yeah i'm seeing `new Date(NaN).setMonth(whatever)` fail","msgtype":"m.text"},"ts":1597085121000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"ditto the infinities","msgtype":"m.text"},"ts":1597085220000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"I've been seeing notifications for things that might not be yet on Test262","msgtype":"m.text"},"ts":1597085259000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"please remember to file a bug there, it helps a lot","msgtype":"m.text"},"ts":1597085275000,"senderName":"leobalter","senderId":"leobalter@irc"},
{"content":{"body":"the date thing is tested, i've just always skipped it","msgtype":"m.text"},"ts":1597085296000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek is it just setMonth which is bugged?","msgtype":"m.text"},"ts":1597085531000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"so the `new Date(NaN)` part is well-defined, but `setMonth` is making assumptions?","msgtype":"m.text"},"ts":1597085535000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"the others look like they all guarrd for NaN first","msgtype":"m.text"},"ts":1597085538000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"setMonth calls DateFromTime","msgtype":"m.text"},"ts":1597085555000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"with NaN","msgtype":"m.text"},"ts":1597085563000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"by comparison to setFullYear, I think setMonth should guard NaN","msgtype":"m.text"},"ts":1597085592000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"though, setUTCMonth has the same thing, hmm","msgtype":"m.text"},"ts":1597085608000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"yeah I think the month ops probably need guards","msgtype":"m.text"},"ts":1597085643000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"devsnek: that assumes LocalTime(NaN) = NaN, which it might, but it's unclear.","msgtype":"m.text"},"ts":1597085654000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"should be able to check if engines act as if the guards are there","msgtype":"m.text"},"ts":1597085659000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"i wish there was a way to filter coverage by entrypoint","msgtype":"m.text"},"ts":1597085672000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i tried collecting coverage for each individual test but nyc oom'd","msgtype":"m.text"},"ts":1597085698000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"(new york city is out of memory?)","msgtype":"m.text"},"ts":1597085728000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"https://github.com/istanbuljs/nyc","msgtype":"m.text"},"ts":1597085762000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Bakkot: so i could run this script more or less as it is written on `spec.doc` https://gist.github.com/devsnek/ef84045abae6b53688e497f101c9d2d6","msgtype":"m.text"},"ts":1597092828000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"but is that ideal?","msgtype":"m.text"},"ts":1597092835000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"no, ideally ecmarkup would do it","msgtype":"m.text"},"ts":1597093375000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"as part of the build process","msgtype":"m.text"},"ts":1597093381000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Bakkot: yeah i mean in build() i would just do a bunch of querySelectors and whatnot on the `this.doc` or whatever","msgtype":"m.text"},"ts":1597093718000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"ahh","msgtype":"m.text"},"ts":1597093726000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1597093729000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"not ideal but I'd take it for now","msgtype":"m.text"},"ts":1597093749000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"before landing it'll need to be made to support redirecting when you navigate to an anchor on a page such that the anchor actually lives on a different page, though","msgtype":"m.text"},"ts":1597093773000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"uhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh","msgtype":"m.text"},"ts":1597093799000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"like if you did `sec-intro.html#sec-promise.resolve`?","msgtype":"m.text"},"ts":1597093816000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1597093820000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"how would that even happen","msgtype":"m.text"},"ts":1597093826000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"specifically so that links to don't break when we reorganize stuff","msgtype":"m.text"},"ts":1597093827000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"hm i guess","msgtype":"m.text"},"ts":1597093837000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"can add a js script to do that","msgtype":"m.text"},"ts":1597093842000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yeah, it'll need to be js","msgtype":"m.text"},"ts":1597093849000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"css+html is turing complete","msgtype":"m.text"},"ts":1597093862000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"can't reasonably do it in pure HTML since it's a redirect","msgtype":"m.text"},"ts":1597093862000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"TC doesn't mean has arbitrary IO capabilities though","msgtype":"m.text"},"ts":1597093873000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"*yet*","msgtype":"m.text"},"ts":1597093880000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"actually I think this might break the `References` thing too, as written","msgtype":"m.text"},"ts":1597093953000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"if the reference is in a different section","msgtype":"m.text"},"ts":1597093960000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"since I think those links are generated dynamically","msgtype":"m.text"},"ts":1597093983000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"but maybe they aren't, I don't know how that works","msgtype":"m.text"},"ts":1597093988000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"ugh i just realized","msgtype":"m.text"},"ts":1597094046000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i would have to clone `this.doc`","msgtype":"m.text"},"ts":1597094063000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"The year is 20XX, a timing side channel was introduced to HTML and now it has arbitrary read capabilities, no secrets are safe. This is the story of a grizzled language, JS, bringing HTML into the world of chaos that is has known all too well... *fade to title card and intro music*","msgtype":"m.text"},"ts":1597094652000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but yea TC has limitations even in HTML/CSS generally relying on tricks like focus transitions and not automatically running without input","msgtype":"m.text"},"ts":1597094683000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"devsnek: fwiw I think it makes sense to hold off on multipage builds until we do the SDO restructuring, since that will change layout significantly and might (not sure yet) change what sections there are","msgtype":"m.text"},"ts":1597095262000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"SDO restructuring is currently waiting on fixing math (2007), so that the math PR doesn't have to be rebased","msgtype":"m.text"},"ts":1597095283000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"which is blocked on figuring out what math to use for Dates, though I will probably just land it as editorial and assume we get consensus","msgtype":"m.text"},"ts":1597095303000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"it's all connected","msgtype":"m.text"},"ts":1597095314000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I got the redirect script working","msgtype":"m.text"},"ts":1597095319000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"nice!","msgtype":"m.text"},"ts":1597095322000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"like two lines of code","msgtype":"m.text"},"ts":1597095330000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"is it just a JSON.stringify + a JSON.parse","msgtype":"m.text"},"ts":1597095391000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"fetch(links).then(if document.locstion in links document.location = links)","msgtype":"m.text"},"ts":1597095488000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"behold my pseudocode","msgtype":"m.text"},"ts":1597095500000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"just inline the JSON, it can't be that large","msgtype":"m.text"},"ts":1597095520000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"7.2mb","msgtype":"m.text"},"ts":1597095548000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"ok dedup the json first","msgtype":"m.text"},"ts":1597095590000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"it's unique","msgtype":"m.text"},"ts":1597096022000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"it's just a map of \"#whatever\": \"page.html#whatever\"","msgtype":"m.text"},"ts":1597096094000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I guess I could remove the # and not duplicate the fragment but eh","msgtype":"m.text"},"ts":1597096122000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"the `page.html` part is heavily duped","msgtype":"m.text"},"ts":1597096198000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"you go the other way and reverse it when you load it","msgtype":"m.text"},"ts":1597096204000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"page -> whatever","msgtype":"m.text"},"ts":1597096209000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"page.html: [ids]","msgtype":"m.text"},"ts":1597096301000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Bakkot: deployed... https://snek.dev/ecma262-multipage-demo/multipage/#sec-promise.resolve","msgtype":"m.text"},"ts":1597099904000,"senderName":"devsnek","senderId":"devsnek@irc"}
]