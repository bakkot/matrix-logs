[
{"content":{"body":"ljharb: https://github.com/w3c/webcomponents/issues/839#issuecomment-539560744 misses a lot of nuance and I'm not sure really helps move that conversation forward","msgtype":"m.text"},"ts":1570548253000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"your opinion is noted","msgtype":"m.text"},"ts":1570548301000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"i don‚Äôt think suggesting new syntax is particularly productive either","msgtype":"m.text"},"ts":1570548327000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"i just really don‚Äôt understand the concern; if i import from a url, i have delegates trust to that url. What does it matter if it changes from json to js to html, as long as the export matches my expectations?","msgtype":"m.text"},"ts":1570548467000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"if the web doesn‚Äôt have json modules, people will just transform their json to a module exporting an object literal. How is that safer?","msgtype":"m.text"},"ts":1570548593000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Oh you‚Äôre not even talking about type=module","msgtype":"m.text"},"ts":1570551598000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If you don‚Äôt see the diff between JSON and JSONP I‚Äôm not sure I can help","msgtype":"m.text"},"ts":1570551638000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: (type=module is a reflection of the philosophy i'm irritated about) i totally do see the difference between json and jsonp. that's why it's so important to have ergonomic json modules.","msgtype":"m.text"},"ts":1570551956000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"annevk: but what i don't see is the risk here. if i `import` from a URL, i have already given over control to that URL - if it changes from JSON to JS, that's no more risky than it changing from \"good JS\" to \"malicious JS\".","msgtype":"m.text"},"ts":1570551992000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"ljharb: sure but possibly I would not have trusted that URL if it was JS","msgtype":"m.text"},"ts":1570552131000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"granting someone the ability to serve me data need not imply granting it the ability to run code in the context of my site","msgtype":"m.text"},"ts":1570552173000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"i think that that's going to be a pretty rare use case where someone knows about the hazards, decides to trust the third party URL because it's json, and also knows enough to guard against prototype pollution from that json.","msgtype":"m.text"},"ts":1570552198000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"perhaps a better expectation is to not let its format affect your trust","msgtype":"m.text"},"ts":1570552220000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"... prototype pollution from json hasn't been a risk since ES5 changed object literal evaluation from set to define, no?","msgtype":"m.text"},"ts":1570552244000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1570552252000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"I maybe do not understand what you mean to refer to then","msgtype":"m.text"},"ts":1570552261000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"there were hundreds of CVEs a year or two ago for libraries that suffered from it","msgtype":"m.text"},"ts":1570552262000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"serialization libraries that didn't special-case `__proto__`, mainly","msgtype":"m.text"},"ts":1570552277000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"I mean prototype pollution _in general_ is a thing, but not just from reading json?","msgtype":"m.text"},"ts":1570552279000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"yeah but like","msgtype":"m.text"},"ts":1570552281000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"that is a different problem","msgtype":"m.text"},"ts":1570552283000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"perhaps","msgtype":"m.text"},"ts":1570552286000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"No it is","msgtype":"m.text"},"ts":1570552294000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but still, for those rare cases where you trust json but not JS, something like CSP or SRI seems appropriate","msgtype":"m.text"},"ts":1570552302000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"speaking as someone who has spent too many hours in the last two weeks dealing with banks trying to add CSP to their websites, I am extremely hesitant to consider it a solution to anything if there is any other possible solution at all","msgtype":"m.text"},"ts":1570552345000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"and SRI doesn't work for data which changes, which it JSON often does","msgtype":"m.text"},"ts":1570552367000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"re SRI fair point","msgtype":"m.text"},"ts":1570552374000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"but even some out of band thing that says \"this url must be json\" seems fine to me","msgtype":"m.text"},"ts":1570552388000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Terrible ergonomics","msgtype":"m.text"},"ts":1570552421000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"will people importing json from a third party source does really be something that will be so common that this is an attack vector?","msgtype":"m.text"},"ts":1570552423000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"like I don't think \"I trust this third party to serve me json but not JS\" is a remotely rare case","msgtype":"m.text"},"ts":1570552427000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"well sure, there's no good ergonomics to be had here","msgtype":"m.text"},"ts":1570552436000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"ljharb: ... yes?","msgtype":"m.text"},"ts":1570552436000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1570552443000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Yeah, I disagree with the rare assertion too","msgtype":"m.text"},"ts":1570552453000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i have no data to back it, that's why i asked","msgtype":"m.text"},"ts":1570552461000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"Also from a sec perspective you don‚Äôt want to grant more priv than needed","msgtype":"m.text"},"ts":1570552476000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"could it be kind of CORS-like? same domain Just Works, different domain requires an allow list somewhere?","msgtype":"m.text"},"ts":1570552494000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"like by default I would trust just about any third party to serve me json (esp. if I can time out) and very very few third parties to serve me JS (and there SRI can give me a lot more confidence)","msgtype":"m.text"},"ts":1570552496000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"üëçüèª","msgtype":"m.text"},"ts":1570552516000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i guess i do agree with your default","msgtype":"m.text"},"ts":1570552933000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"what about the corsish suggestion?","msgtype":"m.text"},"ts":1570552945000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"rkirsling: In https://github.com/tc39/ecma262/pull/1724#pullrequestreview-298512273, is the \"you\" directed to me or ljharb?","msgtype":"m.text"},"ts":1570556612000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck: ah, I meant you, sorry for being unclear","msgtype":"m.text"},"ts":1570556730000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"okay, i just realized I misread your comment.","msgtype":"m.text"},"ts":1570556870000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"jmdyck: just to be clear, I certainly don't mean that the difference between \"code unit\" and \"code point\" is unmeaningful, I just wondered whether there's any gain from talking about regexp flags as `u` in one place and *\"u\"* in another","msgtype":"m.text"},"ts":1570560129000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"your clarification about source text versus string value makes sense, but I still am unable to review the lines in that commit and understand which bucket each is meant to fall into","msgtype":"m.text"},"ts":1570560194000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"but it sounded like the postulated issue would be wider-ranged than that","msgtype":"m.text"},"ts":1570560200000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"s/postulated/proposed/","msgtype":"m.text"},"ts":1570560227000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"ah, um, it might be taken to be if I created it as such, yeah","msgtype":"m.text"},"ts":1570560255000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"sort of a natural scope creep","msgtype":"m.text"},"ts":1570560265000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(\"re-evaluate usage of \"code unit\" and \"code point\" throughout the spec\")","msgtype":"m.text"},"ts":1570560285000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1570560289000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"basically I'm only really meaning to deal with any blockers wrt stylization of string values","msgtype":"m.text"},"ts":1570560306000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"of course","msgtype":"m.text"},"ts":1570560310000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I felt like it would be better to separate the thing as a new issue versus dealing with the status quo in a way that lacks diligence","msgtype":"m.text"},"ts":1570560360000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"but perhaps that's not the case","msgtype":"m.text"},"ts":1570560368000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"actually I think the only line I'm still confused about is the very last one","msgtype":"m.text"},"ts":1570560408000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"> Any LineTerminator code points in the value of the `\"source\"` property of a RegExp instance must be expressed using an escape sequence. Edition 5.1 only required the escaping of `\"/\"`.","msgtype":"m.text"},"ts":1570560430000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"seems like `/` is a code point but I must be missing something","msgtype":"m.text"},"ts":1570560465000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"Hm","msgtype":"m.text"},"ts":1570560546000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"that sentence seems a bit confused.","msgtype":"m.text"},"ts":1570560560000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"But yes, I agree, that `/` is a code point too.","msgtype":"m.text"},"ts":1570560848000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"No wait.","msgtype":"m.text"},"ts":1570561002000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"yup, i still agree.","msgtype":"m.text"},"ts":1570561320000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"ljharb: I didn't mean controversial :( I just was trying to avoid doing too much in one PR","msgtype":"m.text"},"ts":1570569014000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"rkirsling: i mean, it's not like i'll block the pr on it, but adding a paragraph of prose at the top doesn't seem like it'd be too much","msgtype":"m.text"},"ts":1570569041000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"kk","msgtype":"m.text"},"ts":1570569070000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I can do that","msgtype":"m.text"},"ts":1570569106000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yay ty","msgtype":"m.text"},"ts":1570569517000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"bterlson: rbuckton jmdyck: any chance yall know a way to prevent auto-linking of a given dfn? https://github.com/tc39/ecma262/issues/1730","msgtype":"m.text"},"ts":1570578163000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"insert a zero-width non-joiner? :P","msgtype":"m.text"},"ts":1570578259000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Well, I suppose you could say \"Li&zwnbsp;st\"","msgtype":"m.text"},"ts":1570578267000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"but seriously, i think it needs ecmarkup to avoid auto-linking in some contexts","msgtype":"m.text"},"ts":1570578339000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"yeah i was assuming some kind of markup to disable it","msgtype":"m.text"},"ts":1570578445000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"actually, if you said \"Mailing list archives\", that would avoid the auto-link.","msgtype":"m.text"},"ts":1570578458000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"seems hacky","msgtype":"m.text"},"ts":1570578470000,"senderName":"ljharb","senderId":"ljharb@irc"},
{"content":{"body":"not as hacky as \"Li&zwnbsp;st\", but yeah.","msgtype":"m.text"},"ts":1570578491000,"senderName":"jmdyck","senderId":"jmdyck@irc"},
{"content":{"body":"listserv","msgtype":"m.text"},"ts":1570578578000,"senderName":"akirose","senderId":"akirose@irc"},
{"content":{"body":"Looking at the ecmarkup code, I don't see a way to spot-disable autolinking.","msgtype":"m.text"},"ts":1570579189000,"senderName":"jmdyck","senderId":"jmdyck@irc"}
]