[
{"content":{"body":"rkirsling: Oh, hmm, I work with Igalians... I wonder if we could just #ifdef your feature out if the ICU version isn't high enough","msgtype":"m.text"},"ts":1587565638000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"rkirsling: Who in Igalia gave you that limit?","msgtype":"m.text"},"ts":1587565647000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"(or, what thread was this limit presented on?)","msgtype":"m.text"},"ts":1587565679000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: we can always #ifdef out specific features, yeah. comment was here: https://bugs.webkit.org/show_bug.cgi?id=209694#c30","msgtype":"m.text"},"ts":1587579583000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"it's a pretty fair constraint, so long as system ICU for a given platform is involved...","msgtype":"m.text"},"ts":1587579727000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"thanks for the reference; i'll talk with Carlos","msgtype":"m.text"},"ts":1587580531000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"I'm not sure if Ubuntu needs to be the point of reference; at the end of the day, Epiphany could upgrade to a later version of ICU and package that, like Chrome and Firefox do","msgtype":"m.text"},"ts":1587580608000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"just curious, are you thinking of using the new Intl APIs more in PlayStation?","msgtype":"m.text"},"ts":1587580781000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"hoping to!","msgtype":"m.text"},"ts":1587581110000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"it'd be super cool if app devs on our platforms didn't need to rely on moment.js or custom localized strings just for, e.g., relative time strings","msgtype":"m.text"},"ts":1587581206000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"(meant to say \"our platform\", but I guess \"platforms\" isn't wrong since desktop/mobile is important for anybody)","msgtype":"m.text"},"ts":1587581326000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I guess the best I can do is make noise about \"hey did you realize this is available? it's already there in the engine for you!\" and have them push back against any \"but do the strings produced actually meet our spec?\" whining that arises","msgtype":"m.text"},"ts":1587581346000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yeah ultimately people could wrap it with something that gives other strings when they need it","msgtype":"m.text"},"ts":1587581375000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1587581381000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"anyway it's a great little endorsement if you think these things will be useful for your customers!","msgtype":"m.text"},"ts":1587581397000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"and memory constraints are pretty important for us (since the hardware is for the games so our apps are supposed to be as lightweight as we can make 'em) so I think it could be a real win","msgtype":"m.text"},"ts":1587581423000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"for sure! it's really neat stuff, I just didn't have time to jump into it before now","msgtype":"m.text"},"ts":1587581457000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"rkirsling: Do you think it'd work out to develop features like Intl.RelativeTimeFormat in a way that the entire feature would just be omitted if a new enough ICU is not present? Would this be taxing from a maintenance perspective?","msgtype":"m.text"},"ts":1587581581000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"we're OK if tests fail on older versions of ICU (either due to outdated data or APIs that are entirely missing), we just want WebKitGTK and WPE to be able to build using a variety of system libraries","msgtype":"m.text"},"ts":1587581672000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: so my plan was originally to #ifdef formatToParts because I thought we needed ureldatefmt_formatToResult, but that turned out to be bug-ridden in ICU 64 anyway? so then I just implemented it in terms of NumberFormat's formatToParts, at which point I needed to go through which tests would succeed with which version, which was tedious, but ultimately I made it available to everyone, data bugs or not","msgtype":"m.text"},"ts":1587581719000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"oh I see... yeah Chrome has historically shipped some workarounds like this too","msgtype":"m.text"},"ts":1587581793000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"but it can get through somewhat more flexibly since it can make downstream ICU changes, since ICU is always bundled","msgtype":"m.text"},"ts":1587581840000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"ah yeah","msgtype":"m.text"},"ts":1587581848000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"I guess the WebKitGTK/WPE projects rely on the surrounding distro to maintain packages, which is why we have the more conservative policy. If it ever prevents you from making progress in Intl, let me know, but I guess you're unblocked anyway now.","msgtype":"m.text"},"ts":1587581896000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"so I think the current plan is: if there's actually a \"this doesn't exist before X version\" then we'll #ifdef, otherwise I think we'll just let data bugs live?","msgtype":"m.text"},"ts":1587581908000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"yeah, that plan sounds *100 emoji* to me","msgtype":"m.text"},"ts":1587581924000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"oh yeah, I'm not viewing it as blockage","msgtype":"m.text"},"ts":1587581925000,"senderName":"rkirsling","senderId":"rkirsling@irc"},
{"content":{"body":"good","msgtype":"m.text"},"ts":1587582054000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"(yeah, seems like I was missing a lot of context on embedded toolchains; the situation is really complicated)","msgtype":"m.text"},"ts":1587589286000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"yeah I'm not surprised :)","msgtype":"m.text"},"ts":1587589323000,"senderName":"rkirsling","senderId":"rkirsling@irc"}
]