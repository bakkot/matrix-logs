[
{"content":{"body":"Nothing really further... It just feels more like HTML, i.e. the core of the browser, than Infra, i.e. how to write specs.","msgtype":"m.text"},"ts":1568248044000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"these substeps of step 14 look... scary, tbh","msgtype":"m.text"},"ts":1568251346000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"maybe it makes sense in the context of an internal browser implementation, but these semantics have the infamous \"zalgo problem\"","msgtype":"m.text"},"ts":1568251373000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"3. If completion is a normal completion, return completion.","msgtype":"m.text"},"ts":1568251375000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"4. If completion is an abrupt completion and the callback function has a return type that is not a promise type, return completion.","msgtype":"m.text"},"ts":1568251375000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"5. Let rejectedPromise be ! Call(%Promise_reject%, %Promise%, «completion.[[Value]]»).","msgtype":"m.text"},"ts":1568251375000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"6. Return the result of converting rejectedPromise to the callback function’s return type.","msgtype":"m.text"},"ts":1568251375000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"Jessidhia: they do not. This is just spec-ese for writing `try { steps() } catch (e) { return PRomise.reject(e); }`","msgtype":"m.text"},"ts":1568255708000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"4. returns the abrupt completion before reaching the step where %Promise_reject% is invoked","msgtype":"m.text"},"ts":1568255943000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"also, if there is a normal completion, it returns the completion as-is, without using the Promise capability to ensure the result is a Promise","msgtype":"m.text"},"ts":1568256054000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"Yes, true, it does not return a promise if the operation is not promise-returning.","msgtype":"m.text"},"ts":1568256092000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"This is as intended.","msgtype":"m.text"},"ts":1568256099000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Not all functions return promises.","msgtype":"m.text"},"ts":1568256109000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah, it just gets into that scary \"this returns a Promise / is asynchronous but _only sometimes_\" territory for which the Zalgo problem was named","msgtype":"m.text"},"ts":1568256561000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"The same function will always return a promise, or always not return a promise. It is declared in the return type.","msgtype":"m.text"},"ts":1568256735000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"This algorithm works on any declaration, but any given declaration will always behave the same.","msgtype":"m.text"},"ts":1568256748000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"ah, right, this calls IDL functions which have a type declaration","msgtype":"m.text"},"ts":1568256815000,"senderName":"Jessidhia","senderId":"Jessidhia@irc"},
{"content":{"body":"Domenic: jyasskin: I think Infra as we should allow for user agents that implement URL, but not much other WHATWG standards; making it about browsers excludes too much.","msgtype":"m.text"},"ts":1568260891000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm are those user agents? Like I don't think of Node or PHP as a user AGENT.","msgtype":"m.text"},"ts":1568264184000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(that was accidental caps, not purposeful emphasis)","msgtype":"m.text"},"ts":1568264201000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"They are traditionally, afaik","msgtype":"m.text"},"ts":1568267561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And would match the way we use the term, otherwise we ought to use some other term most of the time","msgtype":"m.text"},"ts":1568267638000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: The service worker working group is on Monday. Are there particular parts of the day you'll be there? There's a couple of things that could do with your input, but happy to schedule around you","msgtype":"m.text"},"ts":1568271080000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I have something at 10:15-10:45 and there's an a11y thing or two zcorpan would know about, so there's definitely time somewhere","msgtype":"m.text"},"ts":1568272163000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"taa","msgtype":"m.text"},"ts":1568272176000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: OTOH, it's easier to deal with naysaying the WHATWG specs are positioned as attempting to be normative over browsers and other kinds of software may be written to match if they care to interoperate","msgtype":"m.text"},"ts":1568285947000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"s/naysaying the/naysaying if the/","msgtype":"m.text"},"ts":1568285967000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: see e.g. http://www.open-std.org/pipermail/unicode/2019-August/000574.html","msgtype":"m.text"},"ts":1568286063000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: Just to be clear about your latest lazyload review, you're saying even disconnected images with `loading=lazy` specified would still load eagerly, right?","msgtype":"m.text"},"ts":1568288020000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"If that's what you mean, then I agree, the latest changes seem to overlook this","msgtype":"m.text"},"ts":1568288045000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: as specified that would happen, yes, afaict","msgtype":"m.text"},"ts":1568288068000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: Cool thanks, I'll address","msgtype":"m.text"},"ts":1568288078000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"nice!","msgtype":"m.text"},"ts":1568288088000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: it's tricky, as it does seem somewhat harmful for web-consuming software to not use the URL Standard as a reference","msgtype":"m.text"},"ts":1568289013000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: e.g., curl comes to mind","msgtype":"m.text"},"ts":1568289021000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wonders when issues Domenic files will reach epic poem length","msgtype":"m.emote"},"ts":1568290652000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: maybe should apply https://twitter.com/catherineols/status/1171503961662087169 to Domenic's issues","msgtype":"m.text"},"ts":1568291463000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1568291493000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Where's Ms2ger?","msgtype":"m.text"},"ts":1568292082000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: btw, while you're here, are we meeting Monday and on what times?","msgtype":"m.text"},"ts":1568292101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I haven't heard back yet. Pinged my email thread. I suggested 2pm Monday now","msgtype":"m.text"},"ts":1568292390000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Domenic: for custom element ARIA role/states, what's the plan for built-ins?","msgtype":"m.text"},"ts":1568307323000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: customized built-ins, in particular","msgtype":"m.text"},"ts":1568307332000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk/Domenic: https://url.spec.whatwg.org/#writing does use \"user agent\", so I'll go for Infra: https://github.com/whatwg/infra/pull/269.","msgtype":"m.text"},"ts":1568312926000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"annevk: IIRC attachInternals() throws for customized built-ins","msgtype":"m.text"},"ts":1568332174000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think it could be made to work, with extra effort, but the demand is unclear.","msgtype":"m.text"},"ts":1568332204000,"senderName":"Domenic","senderId":"Domenic@irc"}
]