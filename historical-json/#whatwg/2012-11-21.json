[
{"content":{"body":"Hixie: You tried to send the email to anne's old address.","msgtype":"m.text"},"ts":1353463740000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: d'oh","msgtype":"m.text"},"ts":1353467475000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"MikeSmith: Yo! :D Sorry to jump on you, but it'd be ace to have everything (PHP) in  http://w3c-test.org/webappsec/tests/cors/submitted/opera/staging/resources/  reviewed.","msgtype":"m.text"},"ts":1353485461000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: looking now","msgtype":"m.text"},"ts":1353485485000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I'm also going to move stuff some more later sadly. To the approved folder hopefully soon, but people in webappsec are worried about all the failures :P (but they don't know the reason)","msgtype":"m.text"},"ts":1353485511000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1353485522000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: Preemtive thanks :D  (afk 1h now)","msgtype":"m.text"},"ts":1353485611000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"hai","msgtype":"m.text"},"ts":1353485625000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Why do so many website designers suck at making their login forms support auto-fill in?","msgtype":"m.text"},"ts":1353488211000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"...? I haven't had that problem. Maybe the implementation of your browser isn't as magical as it could be? :P","msgtype":"m.text"},"ts":1353488322000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: Haha, well, Chrome is generally pretty decent in that regard. :)","msgtype":"m.text"},"ts":1353488654000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"But I do encounter quite a few sites that fail, station.sony.com is a good one","msgtype":"m.text"},"ts":1353488731000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"asmodai: Oh my... Stupid Sony-site says INCOMPATIBLE BROWSER when I go to the log in-page with Opera.","msgtype":"m.text"},"ts":1353489054000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"They definately suck.","msgtype":"m.text"},"ts":1353489072000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: haha, see?!","msgtype":"m.text"},"ts":1353489093000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1353489095000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"asmodai: But Opera does save the password for it at least (when I got away the warning).","msgtype":"m.text"},"ts":1353489135000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: File a bug? Well I expect there already is one, but at least check","msgtype":"m.text"},"ts":1353489144000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"odinho: I go through planetside2.com to https://auth.station.sony.com/login?theme=ps2&locale=en_US&service=http%3A%2F%2Fwww.planetside2.com%2Fj_acegi_cas_security_check","msgtype":"m.text"},"ts":1353489187000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"and that login section on the right hand side never saves the login info for Chrome","msgtype":"m.text"},"ts":1353489207000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"Opera did work for that, you say?","msgtype":"m.text"},"ts":1353489221000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"Funny thing is that they have  background: url(some-file.gif) transparent;   on that box. And some-file is 404. ... So, result? Gray text against a gray faded background, damn hard to read.","msgtype":"m.text"},"ts":1353489221000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"asmodai: Yep, it saves it.","msgtype":"m.text"},"ts":1353489266000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"asmodai: Even from planetside.","msgtype":"m.text"},"ts":1353489274000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Then I wonder just wtf Chrome isn't picking up on it","msgtype":"m.text"},"ts":1353489290000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"Anywayz, I have a question MikeSmith, I can't for the life of me understand how the PHP-files behave on w3c-test.org. Is there some sort of CORS-apache config thing going on?","msgtype":"m.text"},"ts":1353489310000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"MikeSmith: curl -i -X OPTIONS -H \"Origin: http://test.com\" -H \"Access-Control-RequesMethod: GET\" \"http://w3c-test.org/webappsec/tests/cors/submitted/opera/staging/resources/preflight.php?ident=test\"","msgtype":"m.text"},"ts":1353489328000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"MikeSmith: It doesn't like getting the OPTIONS header. It just instantly replies with \"Allow: OPTIONS,GET,HEAD,POST\" -- which is not valid (it should be Access-Control-Allow-Methods), and not something I remember writing :-)","msgtype":"m.text"},"ts":1353489414000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"no idea man","msgtype":"m.text"},"ts":1353489433000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I am PHP-averse","msgtype":"m.text"},"ts":1353489445000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Hmm. Looks to be something apache does :-) At least it doesn't happen on Opera Apache (our test server), nor my local nginx. And I'm sure I didn't ever write that line.","msgtype":"m.text"},"ts":1353489486000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"I had my fill of PHP this year when plh made me work on adding features to the CSS test-framework UI code","msgtype":"m.text"},"ts":1353489492000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: Is there shell accounts I can use to muck around?","msgtype":"m.text"},"ts":1353489499000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"ok if it's an Apache thing I can work on fixing it","msgtype":"m.text"},"ts":1353489515000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"odinho: no there are not shell accounts","msgtype":"m.text"},"ts":1353489523000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I suspect the server setup though... But you never know with PHP. :P","msgtype":"m.text"},"ts":1353489528000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"that machine is behind a W3C-internal firewall","msgtype":"m.text"},"ts":1353489543000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if it's an Apache-only problem I'm much more enthusiastic about trying to fix it","msgtype":"m.text"},"ts":1353489576000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"i can check stuff on the server if you point me to what to check","msgtype":"m.text"},"ts":1353489624000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"other thing is, you can write server-side code in python","msgtype":"m.text"},"ts":1353489644000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Will have to do some research first. Looking at it now.","msgtype":"m.text"},"ts":1353489648000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"That would be nice.","msgtype":"m.text"},"ts":1353489656000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"But how?","msgtype":"m.text"},"ts":1353489673000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"MikeSmith: Ah, I'd start with  grep -R \"OPTIONS\" /etc/apache2/   btw. Just to see if it is defining anything.","msgtype":"m.text"},"ts":1353489733000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"hai","msgtype":"m.text"},"ts":1353489743000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will try that right now","msgtype":"m.text"},"ts":1353489748000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"$ sudo grep -R \"OPTIONS\" /etc/apache2/","msgtype":"m.text"},"ts":1353489820000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":" /etc/apache2/mods-available/userdir.conf:                <Limit GET POST OPTIONS>","msgtype":"m.text"},"ts":1353489837000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":" /etc/apache2/mods-available/userdir.conf:                <LimitExcept GET POST OPTIONS>","msgtype":"m.text"},"ts":1353489838000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that's all","msgtype":"m.text"},"ts":1353489844000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Hmm. Okay. :-/ So not that then.","msgtype":"m.text"},"ts":1353489865000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"MikeSmith: Is it mod-php or fcgi or something else?","msgtype":"m.text"},"ts":1353490020000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"umm","msgtype":"m.text"},"ts":1353490058000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not sure","msgtype":"m.text"},"ts":1353490059000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"lemme check","msgtype":"m.text"},"ts":1353490062000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://issues.apache.org/bugzilla/show_bug.cgi?id=15242 << was a similar issue earlier. But that one should at least be fixed.","msgtype":"m.text"},"ts":1353490091000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"This patch will add \"ScriptTrapOptions (on|off)\" directive, which","msgtype":"m.text"},"ts":1353490118000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"allows user to control whether CGI script will handle OPTIONS request","msgtype":"m.text"},"ts":1353490119000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"or not.","msgtype":"m.text"},"ts":1353490119000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Oh, that's old. They just removed the entire check, so no configuring necessary.","msgtype":"m.text"},"ts":1353490167000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"I see a mods-enabled/php5_cgi.conf","msgtype":"m.text"},"ts":1353490186000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and a mods-enabled/php5filter.conf too","msgtype":"m.text"},"ts":1353490200000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh, filter, that sounds bad :P *googling*","msgtype":"m.text"},"ts":1353490219000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Nah, doesnt' seem that related on first look :]","msgtype":"m.text"},"ts":1353490310000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Might be some PHP problems anyway then. Because it doesn't reply about any allowance when I use it for other files.","msgtype":"m.text"},"ts":1353490377000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"But those files won't go through the apache php configuration machinery either, so...","msgtype":"m.text"},"ts":1353490403000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"mmmmm","msgtype":"m.text"},"ts":1353490515000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"can you turn on NPH for PHP?","msgtype":"m.text"},"ts":1353490522000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'm having dim memories resurfacing from the Good Old Days of CGI","msgtype":"m.text"},"ts":1353490546000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"2012-11-21 02:10:10.745:WARN::/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/%uff0e%uff0e/etc/passwd: java.lang.NumberFormatException: uf","msgtype":"m.text"},"ts":1353490709000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"TabAtkins: Hixie: didn't get an email other than public stuff...","msgtype":"m.text"},"ts":1353490735000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: Never knew of this estoric NPH stuff. But seems some people last talked about it in 2004. And I think W3C would have to use a real, old CGI for PHP with Apache. And I guess noone does that (?)","msgtype":"m.text"},"ts":1353490977000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: NPH was all the rage back when it was the only way of implementing some neat tricks ;) but yeah, I can't dig up anything useful that's recent","msgtype":"m.text"},"ts":1353491038000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"modern web dev stuff should normally be able to handle anything without that","msgtype":"m.text"},"ts":1353491062000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Yeah, -- but you see that something before my PHP script is handling this request:  curl -i -X OPTIONS -H \"Origin: http://test.com\" -H \"Access-Control-RequesMethod: GET\" \"http://w3c-test.org/webappsec/tests/cors/submitted/opera/staging/resources/preflight.php?ident=test\"","msgtype":"m.text"},"ts":1353491105000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"darobin: Testing with Opera's apache and my nginx, it does the expected thing.","msgtype":"m.text"},"ts":1353491127000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"maybe this could help? http://httpd.apache.org/docs/2.2/mod/mod_actions.html#script","msgtype":"m.text"},"ts":1353491166000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Hmm. Since it's CORS, I could just temporarily put the PHP on my own server and update the paths were it asks for stuff. To show webappsec that the tests are working. :P","msgtype":"m.text"},"ts":1353491166000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"darobin: MikeSmith grepped for OPTIONS, there was nothing suspicious.","msgtype":"m.text"},"ts":1353491205000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: indeed, your script is never even called","msgtype":"m.text"},"ts":1353491294000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"isn't that because the PHP isn't vetted yet?","msgtype":"m.text"},"ts":1353491357000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: It is, -- if it wasn't it wouldn't show up on the server at all. :-)","msgtype":"m.text"},"ts":1353491371000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: oh :/","msgtype":"m.text"},"ts":1353491401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nah, the PHP replies correctly to GET, HEAD, POST","msgtype":"m.text"},"ts":1353491494000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"odinho: if you use a crappy method name like FOO do you get a 501 in your setups that work?","msgtype":"m.text"},"ts":1353491528000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"because here I get HTTP/1.1 501 Method Not Implemented","msgtype":"m.text"},"ts":1353491541000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"which may be a lead","msgtype":"m.text"},"ts":1353491544000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I have to drop off for a while","msgtype":"m.text"},"ts":1353491699000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but if you get it figured out I'll be back on later and can fix it on the server then","msgtype":"m.text"},"ts":1353491729000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"darobin: That gives me HTTP/1.1 200 OK","msgtype":"m.text"},"ts":1353491928000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"darobin: the \"FOO\"","msgtype":"m.text"},"ts":1353491933000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"darobin: So you're very right. We probably have some extra setup that says \"send whatever through\"","msgtype":"m.text"},"ts":1353491950000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"really? weirder and weirder!","msgtype":"m.text"},"ts":1353491951000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"it would be good to figure out what","msgtype":"m.text"},"ts":1353491968000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"alternatively, it might be that the W3C setup has a <Limit> directive of some sort","msgtype":"m.text"},"ts":1353491990000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Yeah, whatever sending that 501 might very well be it. Some security/restricted setup.","msgtype":"m.text"},"ts":1353492072000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Is there a proxy in front of the apache? The firewall tm mentioned?","msgtype":"m.text"},"ts":1353492087000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"mmmm, no, the firewall is for ssh access","msgtype":"m.text"},"ts":1353492161000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I reckon there must be a LimitExcept in there","msgtype":"m.text"},"ts":1353492173000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"or might be","msgtype":"m.text"},"ts":1353492177000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"since that will return a 501 for disallowed methods","msgtype":"m.text"},"ts":1353492186000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"LimitExcept would've shown OPTIONS in the grep probably though. :/","msgtype":"m.text"},"ts":1353492223000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Can PHP have such a stop?","msgtype":"m.text"},"ts":1353492230000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"( http://test.s0.no/w3c-tests/webappsec/tests/cors/submitted/opera/staging/preflight-cache.htm ) <- how it should work, green. :]","msgtype":"m.text"},"ts":1353492264000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"curl -i -X FOO -H \"Origin: http://test.com\" -H \"Access-Control-Request-Method: GET\" \"http://test.s0.no/w3c-tests/webappsec/tests/cors/submitted/opera/staging/resources/preflight.php?ident=test\"","msgtype":"m.text"},"ts":1353492340000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"damn, I can't seem to recall the login I'm supposed to use to access that machine :(","msgtype":"m.text"},"ts":1353492393000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"we'll have to wait for Mike to return I'm afraid","msgtype":"m.text"},"ts":1353492404000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"odinho: no, you grepped for OPTIONS. But <LimitExcept GET POST PUT> would exclude OPTIONS","msgtype":"m.text"},"ts":1353492432000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"and not match in grep","msgtype":"m.text"},"ts":1353492436000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: Ah. Yeah, that does make some sense. :-)","msgtype":"m.text"},"ts":1353492462000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Hopefully it's that :D *waiting*","msgtype":"m.text"},"ts":1353492495000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"interesting: PUT returns 405 Method Not Allowed while FOO gives 501 Method Not Implemented","msgtype":"m.text"},"ts":1353492523000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'll be back on in 15 minutes","msgtype":"m.text"},"ts":1353493167000,"senderName":"[tm]","senderId":"[tm]@irc"},
{"content":{"body":"or so","msgtype":"m.text"},"ts":1353493173000,"senderName":"[tm]","senderId":"[tm]@irc"},
{"content":{"body":"darobin: but we should try too get your ssh acceds to that server working also","msgtype":"m.text"},"ts":1353493252000,"senderName":"[tm]","senderId":"[tm]@irc"},
{"content":{"body":"annevk, abarth: Reading http://fetch.spec.whatwg.org/#resource-sharing-check -- it says Note: The above algo also functions when ascii origin == \"null\".  That does in fact mean a browser should allow  ACA-Origin: null  when it sent Origin: null, right?","msgtype":"m.text"},"ts":1353494423000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1353494445000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"I've been double checking it too much now, and wonder why WebKit doesn't follow that. So either test is wrong, or webkit is.","msgtype":"m.text"},"ts":1353494447000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"its entirely possible that webkit and the spec disagree","msgtype":"m.text"},"ts":1353494468000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"Okay, nice.","msgtype":"m.text"},"ts":1353494481000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"abarth: Origin spec didn't say anything specific about that, but anne's note was at least helpful (though I didn't see it at first :P)","msgtype":"m.text"},"ts":1353494505000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"its a CORS issue, not an origin issue","msgtype":"m.text"},"ts":1353494521000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"abarth: Yea, but step 3 defers the origin spec :P  -->  If the value of Access-Control-Allow-Origin is not a case-sensitive match for the value of the Origin header as defined by its specification, return fail and terminate this algorithm.","msgtype":"m.text"},"ts":1353494551000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"I'd have to look into the details to give you a definitive answer","msgtype":"m.text"},"ts":1353494583000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"But okay, that part of the test should be correct then.  The failing vendors can (and will) probably do an extra thorough spec check, and report any test errors.","msgtype":"m.text"},"ts":1353494668000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Because it LGTM :D","msgtype":"m.text"},"ts":1353494694000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"saying Access-Control-Allow-Origin: null is almost like saying Access-Control-Allow-Origin: *","msgtype":"m.text"},"ts":1353494889000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: It'll fail much more often ;-)","msgtype":"m.text"},"ts":1353494907000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"but * only works if omit credentials is set","msgtype":"m.text"},"ts":1353494910000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"odinho: but i think any origin can set up something that gets null as origin","msgtype":"m.text"},"ts":1353494957000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hmm. Doing a redirect, and getting \"null\" would be a possible way to walk around that credentials not allowed for *.","msgtype":"m.text"},"ts":1353494959000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"maybe null should be banned?","msgtype":"m.text"},"ts":1353495017000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: Why?","msgtype":"m.text"},"ts":1353495055000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"because it seems like a security hole","msgtype":"m.text"},"ts":1353495122000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Maybe the credentials stuff. -- But how would it be a security hole if else?","msgtype":"m.text"},"ts":1353495153000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"the person who sets null might not realize that it gives access to anyone","msgtype":"m.text"},"ts":1353495204000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I think noone will do that. \"Only allow people who have been redirected, or people who are in a privacy sensitive area\"","msgtype":"m.text"},"ts":1353495248000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"i don't follow","msgtype":"m.text"},"ts":1353495290000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"noone will use null?","msgtype":"m.text"},"ts":1353495309000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"It's nice because     header(\"aca-origin: $_SERVER[Origin]\")   will actually work with redirects too then.","msgtype":"m.text"},"ts":1353495326000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"zcorpan: Noone will hardcode null. :-)","msgtype":"m.text"},"ts":1353495385000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Either they care about who they allow (so they'll have a list), or they don't and use * or just returns whatever the client sent in Origin.","msgtype":"m.text"},"ts":1353495437000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"maybe","msgtype":"m.text"},"ts":1353495463000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: null is for credentialed search from an untrusted widget","msgtype":"m.text"},"ts":1353495480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"[tm]: as far as I can tell it's looking like my public key is no longer on the test machine","msgtype":"m.text"},"ts":1353495562000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"at least, I can't make any other sense of the trace","msgtype":"m.text"},"ts":1353495570000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: OK will check on that","msgtype":"m.text"},"ts":1353495577000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"btw /etc/apache2/mods-available/userdir.conf:                <LimitExcept GET POST OPTIONS>","msgtype":"m.text"},"ts":1353495587000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: is that the only match for LimitExcept?","msgtype":"m.text"},"ts":1353495619000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"yeah that's the only instance of \"LimitExcept\" in /etc/apache2/","msgtype":"m.text"},"ts":1353495631000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well, that's not it then","msgtype":"m.text"},"ts":1353495641000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"(unless someone had fun with a .htaccess)","msgtype":"m.text"},"ts":1353495651000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"but you want to nuke that too","msgtype":"m.text"},"ts":1353495654000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"because e.g. XHR needs far more than that","msgtype":"m.text"},"ts":1353495663000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"XHR needs wildcard basically","msgtype":"m.text"},"ts":1353495685000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: you mean the LimitExcept? it's in the userdir config, I doubt it affects anything","msgtype":"m.text"},"ts":1353495692000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1353495703000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in fact, I really hope it only affects ~user stuff — I reckon we could just disable the whole module as we're not using it","msgtype":"m.text"},"ts":1353495713000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"this is why I dislike Apache for testing (actually for my own site as well)","msgtype":"m.text"},"ts":1353495869000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's too much magic and taking control","msgtype":"m.text"},"ts":1353495877000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, I stopped using Apache, it's just too clunky","msgtype":"m.text"},"ts":1353495925000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"for testing stuff I really like using Node because it practically does nothing for you","msgtype":"m.text"},"ts":1353495972000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"yeah, in the end you just want raw byte access with maybe a few methods for convenience that output the boilerplate stuff (and even that you want to be able to mess around with, e.g. sending HTTP/2.0 or some such)","msgtype":"m.text"},"ts":1353496121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"FWIW I think we are going to need to write a server specifically for testing so that Mozilla and Google can run tests on their infrastructure","msgtype":"m.text"},"ts":1353497466000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I imagine this would have some way to allow tests to specify handlers that override specific bits of the test","msgtype":"m.text"},"ts":1353497495000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"er, the response, on a per-test basis","msgtype":"m.text"},"ts":1353497517000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Or the handling in general","msgtype":"m.text"},"ts":1353497523000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Yes yes yes! jgraham for president!!!111 :D","msgtype":"m.text"},"ts":1353497975000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"jgraham: yeah, that matches other mumbles I've heard","msgtype":"m.text"},"ts":1353498146000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I thought jgraham was going to be the new King Arthur?","msgtype":"m.text"},"ts":1353499497000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm... maybe that is the President","msgtype":"m.text"},"ts":1353499507000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it's President For Life Arthur these days","msgtype":"m.text"},"ts":1353499535000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"sighs","msgtype":"m.emote"},"ts":1353499540000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I don't know if paving the cowpaths is the right thing to do for accessibility, but the advice for alt attributes that's in HTML5 is really not paving the cowpaths at all","msgtype":"m.text"},"ts":1353499570000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"as far as I can tell, using it that way is not even a minority practice","msgtype":"m.text"},"ts":1353499602000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"can you do time zone conversion in JavaScript easily?","msgtype":"m.text"},"ts":1353499637000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"volkmar: ^^","msgtype":"m.text"},"ts":1353499652000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"volkmar: I think selecting in local time and having it converted to UTC is useful, but if that's trivial both server and client-side...","msgtype":"m.text"},"ts":1353499683000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you need a library to do that","msgtype":"m.text"},"ts":1353499739000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"the core Date is TZ ignorant","msgtype":"m.text"},"ts":1353499754000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"ew","msgtype":"m.text"},"ts":1353499757000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"though IIRC TC39 has been adding stuff for that","msgtype":"m.text"},"ts":1353499764000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"sounds like datetime-utc or datetime-global is kinda useful then","msgtype":"m.text"},"ts":1353499767000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not sure what the status of that is though","msgtype":"m.text"},"ts":1353499774000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"anything that does the right thing with TZs is probably good, people get it wrong all the fucking time","msgtype":"m.text"},"ts":1353499810000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"so earlier today I wrote an IPv6 serialization algorithm in English","msgtype":"m.text"},"ts":1353499885000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if we're changing the datetime names we might as well look at taking the I18N folks' feedback on them as well","msgtype":"m.text"},"ts":1353499891000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"this was not exactly what I had in mind when starting to work on URLs","msgtype":"m.text"},"ts":1353499906000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"are you surprised that it's taken you to all sorts of wrong places?","msgtype":"m.text"},"ts":1353499924000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I guess I'm most annoyed with IDNA, because it seems I can't actually solve that by myself","msgtype":"m.text"},"ts":1353500017000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"btw, is it me or is there some productivity dip again?","msgtype":"m.text"},"ts":1353500120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"like a few times a year everything gets way quieter","msgtype":"m.text"},"ts":1353500148000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: You should make some graphs, man.","msgtype":"m.text"},"ts":1353500165000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"the most avid users of alt seem to be porn sites","msgtype":"m.text"},"ts":1353500220000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"but remarkably they use it wrong both according to HTML5 and WCAG","msgtype":"m.text"},"ts":1353500239000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"alt=\"You don't want to know\"","msgtype":"m.text"},"ts":1353500251000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"in fact given the length of their alts I get the impression that porn site really would rather use longdesc","msgtype":"m.text"},"ts":1353500293000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I guess size matters to them","msgtype":"m.text"},"ts":1353500299000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: this is Thanksgiving week...","msgtype":"m.text"},"ts":1353500310000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"no one in the US is doing fuck all","msgtype":"m.text"},"ts":1353500331000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: you can do .toString() and .toUTCString()","msgtype":"m.text"},"ts":1353500332000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"annevk: IOW, you can know the user's time in his/her tz and the time in UTC","msgtype":"m.text"},"ts":1353500367000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"no real need for any conversion I would say","msgtype":"m.text"},"ts":1353500374000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"volkmar: math on strings seems annoying","msgtype":"m.text"},"ts":1353500402000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: ah yeah, I guess they're doing something over there then after all :-)","msgtype":"m.text"},"ts":1353500454000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so if you refine by date on w3.markmail.org for the last year and half or so TabAtkins turns out to be the Big Spammer","msgtype":"m.text"},"ts":1353500641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"since inception though it's still Hixie followed by jreschke","msgtype":"m.text"},"ts":1353500675000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: you need to parse the string on the server anyway","msgtype":"m.text"},"ts":1353500707000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"volkmar: why would there be a server?","msgtype":"m.text"},"ts":1353500728000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"volkmar: e.g. a timezone app could be pretty much client-side","msgtype":"m.text"},"ts":1353500755000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: if there is no server, the Date object has everything you need","msgtype":"m.text"},"ts":1353500766000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"annevk: you can get the date in UTC","msgtype":"m.text"},"ts":1353500772000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"hmm yeah looks like darobin was wrong","msgtype":"m.text"},"ts":1353500939000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, maybe darobin meant conversion to some other timezone","msgtype":"m.text"},"ts":1353500964000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ?","msgtype":"m.text"},"ts":1353500965000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: never trust French people ;)","msgtype":"m.text"},"ts":1353500974000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"volkmar: except when they live elsewhere?","msgtype":"m.text"},"ts":1353500990000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, you asked about TZ conversions — not about dumping out to UTC","msgtype":"m.text"},"ts":1353500996000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"you can always get the UTC date :)","msgtype":"m.text"},"ts":1353501002000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"except when they're also Australian!","msgtype":"m.text"},"ts":1353501014000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: as soon as you have the UTC date, it's quite easy to do TZ conversions","msgtype":"m.text"},"ts":1353501016000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"HAHAHAHAHAHAHA","msgtype":"m.text"},"ts":1353501025000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"look ma, the funny man over there said date handling is easy!","msgtype":"m.text"},"ts":1353501037000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"get some popcorn","msgtype":"m.emote"},"ts":1353501045000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gets damnit","msgtype":"m.text"},"ts":1353501049000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but it's true that if all you care about is getting a UTC datetime, then you're fine","msgtype":"m.text"},"ts":1353501075000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"volkmar: guess I'm fine with dropping -local then","msgtype":"m.text"},"ts":1353501084000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: you mean, dropping -local and have datetime returning a Date with TZ info?","msgtype":"m.text"},"ts":1353501108000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1353501113000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1353501116000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"goes back to IPv6 serialization","msgtype":"m.emote"},"ts":1353501170000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Marcos for TAG!","msgtype":"m.text"},"ts":1353505511000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin:having look at the alt text data, is the red/italic the alt text?","msgtype":"m.text"},"ts":1353508653000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"Stevef: yes, sorry, should've spent a little more time polishing the explanation","msgtype":"m.text"},"ts":1353508710000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"np i assumed so","msgtype":"m.text"},"ts":1353508724000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"darobin: what is immedaitely obvious form smaller data set is that many many alts are duplicates of text that is contiguous with the <img>","msgtype":"m.text"},"ts":1353508911000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"Stevef: yes, that happens a lot","msgtype":"m.text"},"ts":1353508926000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"in fact it's probably relatively easy to autodetect","msgtype":"m.text"},"ts":1353508938000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"in all of those cases it violates both WCAG and HTML5","msgtype":"m.text"},"ts":1353508949000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1353508989000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"I guess that there could be heuristics to usefully manipulate the accessibility tree in such cases","msgtype":"m.text"},"ts":1353508995000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"that would be something done on the AT side I think, for example, some AT do not announce duplicate text (via user setting)","msgtype":"m.text"},"ts":1353509094000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"yup yup","msgtype":"m.text"},"ts":1353509156000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"but the part that I'm interested in here is that I could only spot very few cases that follow the HTML5 advice, whereas a bunch more do follow WCAG","msgtype":"m.text"},"ts":1353509187000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1353509286000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"well that could be due to the fact that advice on writing alt text generally and historically comes from accessibility resources and guidelines such as WCAG, so if they do do it 'right' they are going to do it 'right' as per WCAG","msgtype":"m.text"},"ts":1353509405000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"Stevef: actually I think that's more deeply ingrained than that","msgtype":"m.text"},"ts":1353509468000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"most web devs haven't read the WCAG details, they're only going on \"you should provide some description in alt\"","msgtype":"m.text"},"ts":1353509495000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"and the reflex there seems to be \"put a description of the image\" not \"put something that flows with the surrounding text\"","msgtype":"m.text"},"ts":1353509518000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"it certainly matches my personal experience","msgtype":"m.text"},"ts":1353509526000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: sure, but note the WCAG advice is both \"put a description of the image\" or \"put something that flows with the surrounding text\" depending on the context","msgtype":"m.text"},"ts":1353509613000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"yes, I know, but far less so than in HTML5","msgtype":"m.text"},"ts":1353509636000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I get the impression people only use flowing when it's in a link","msgtype":"m.text"},"ts":1353509653000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"which seems right","msgtype":"m.text"},"ts":1353509659000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1353509936000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"annevk, I started migrating selectors api 2 into the DOM spec. See branch here for early draft. https://github.com/lachlanhunt/dom/tree/selectorsapi","msgtype":"m.text"},"ts":1353511508000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"also, I did what jgraham said re the W3C fork and rebasing. I now have it working, so you shouldn't ever need to accept those changes I submitted yesterday. I just didn't know how to do that before.","msgtype":"m.text"},"ts":1353511591000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: okay","msgtype":"m.text"},"ts":1353513184000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin, d'ya know the ports the w3c-test.org is listening for HTTPS? (except :443)","msgtype":"m.text"},"ts":1353513463000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"lemme check","msgtype":"m.text"},"ts":1353513475000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"(I couldn't find any on http://www.w3.org/wiki/Testing/Requirements ) -- so maybe it doesn't exist.","msgtype":"m.text"},"ts":1353513513000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: it takes a little while for ssh to echo my chars back at me, so this could be a little slow...","msgtype":"m.text"},"ts":1353513524000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Then I should really remove that test, not like I expect it to break :P","msgtype":"m.text"},"ts":1353513530000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"darobin: mosh, just sayin'","msgtype":"m.text"},"ts":1353513534000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"yeah, I been meaning to try that for a while","msgtype":"m.text"},"ts":1353513583000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"odinho: it looks like we only have 443","msgtype":"m.text"},"ts":1353513592000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I did, when in France ;-)","msgtype":"m.text"},"ts":1353513603000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"darobin: Okay. Think I'll just remove those tests then. Red isn't a nice colour in tests.","msgtype":"m.text"},"ts":1353513619000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: I can open another port","msgtype":"m.text"},"ts":1353513631000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"which would you like?","msgtype":"m.text"},"ts":1353513643000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"442?","msgtype":"m.text"},"ts":1353513645000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"4430?","msgtype":"m.text"},"ts":1353513651000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"odinho: ^^","msgtype":"m.text"},"ts":1353513709000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: At Opera we've done  8443  (and 8080), so basically +8000 for anything. -- Since you have  80 81 82 83,  maybe 443 444 would be the correct way? :P","msgtype":"m.text"},"ts":1353513772000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"444 it is then","msgtype":"m.text"},"ts":1353513785000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I hope I don't cock this up","msgtype":"m.text"},"ts":1353513791000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"^_^","msgtype":"m.text"},"ts":1353513795000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"I've noticed people make fun of you when you crash the server on the same day you get root access","msgtype":"m.text"},"ts":1353513857000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"aah Lachy left","msgtype":"m.text"},"ts":1353514316000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"aaaaaand crash the server I did","msgtype":"m.text"},"ts":1353514363000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"thankfully not long enough for it to matter","msgtype":"m.text"},"ts":1353514369000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"odinho: ok, I can't use 8443 because that's taken by Jetty","msgtype":"m.text"},"ts":1353514536000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"and for other ports I need to poke a hole in iptables","msgtype":"m.text"},"ts":1353514547000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I don't want to do that without taking to Mike because I'm unsure of what the security policy is on that box","msgtype":"m.text"},"ts":1353514571000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"the server currently listens on 444 but the firewall is blocking it","msgtype":"m.text"},"ts":1353514597000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: thank you although you're gone.","msgtype":"m.text"},"ts":1353516708000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"armchairing with bz","msgtype":"m.text"},"ts":1353517142000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"good times","msgtype":"m.text"},"ts":1353517144000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"can't wait to get back to http://html5.org/temp/unicorn.svg","msgtype":"m.text"},"ts":1353517717000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"amazing","msgtype":"m.text"},"ts":1353517811000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"odinho: the different protocol stuff, is that http/https?","msgtype":"m.text"},"ts":1353518025000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"odinho: and which direction? from http to https or vice versa?","msgtype":"m.text"},"ts":1353518043000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmmmm... so, for img@srcset, if I have '<img src=\"foo\" srcset=\"bar x1\">' it's not clear (to me) how to pick between them from the algorithm.","msgtype":"m.text"},"ts":1353518178000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"argh, make that 1x","msgtype":"m.text"},"ts":1353518193000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"annevk: Different protocol what? Different protocol and different port, was some tests I removed.","msgtype":"m.text"},"ts":1353518199000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"(both at the same time)","msgtype":"m.text"},"ts":1353518224000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"argh. that effin x1 vs x1 keeps getting me.","msgtype":"m.text"},"ts":1353518225000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"whoa","msgtype":"m.text"},"ts":1353518227000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"why do so many browsers fail Disallow origin: http://www1.test.s0.no# ?","msgtype":"m.text"},"ts":1353518232000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"odinho: oh","msgtype":"m.text"},"ts":1353518242000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: The # is probably stripped somewhere in the engines.","msgtype":"m.text"},"ts":1353518323000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"that's some weird shit","msgtype":"m.text"},"ts":1353518334000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's working for not-remote though. Which I thought a bit weird.","msgtype":"m.text"},"ts":1353518343000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"afaik HTTP doesn't treat # magically","msgtype":"m.text"},"ts":1353518346000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So maybe it's postmessage that's munging it. ... Or it shouldn't do that.","msgtype":"m.text"},"ts":1353518365000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"that does not-remote mean?","msgtype":"m.text"},"ts":1353518366000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"There's two tests,   origin.htm, and remote-origin.htm","msgtype":"m.text"},"ts":1353518382000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"miketaylr: my plan is to put that behind about:unicorn","msgtype":"m.text"},"ts":1353518395000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"they do the same, only remote-origin opens up an iframe on a different origin where it postMessage some stuff for that iframe to XHR.","msgtype":"m.text"},"ts":1353518432000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"I made it kinda fast, maybe I did something wacky.","msgtype":"m.text"},"ts":1353518449000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"how are you passing the origin around?","msgtype":"m.text"},"ts":1353518731000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"odinho: oh, maybe the # doesn't arrive on the server in some browsers because they strip it from the request?","msgtype":"m.text"},"ts":1353518787000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: source -> http://test.s0.no/w3c-tests/webappsec/tests/cors/submitted/opera/staging/remote-origin.htm","msgtype":"m.text"},"ts":1353518831000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"annevk: With less junk -> http://test.s0.no/w3c-tests/webappsec/tests/cors/submitted/opera/staging/anne-panne.htm","msgtype":"m.text"},"ts":1353518936000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Hm, it is not sent with in Opera, no. That's strange because it is when I don't do the remote thingy.","msgtype":"m.text"},"ts":1353518984000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"I suspect encodeURIComponent(real_origin)","msgtype":"m.text"},"ts":1353519035000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie (or hober), when you are around: if I have '<img src=\"foo\" srcset=\"bar x1\">' it's not clear (to me) how to pick between them from the algorithm (I probably missed something). Any guidance would be appreciated.","msgtype":"m.text"},"ts":1353519053000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"hmm no","msgtype":"m.text"},"ts":1353519079000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's not different from the original","msgtype":"m.text"},"ts":1353519084000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"decodeURIComponent(e.data.url) then? Lets see","msgtype":"m.text"},"ts":1353519152000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1353519159000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I was just there :)","msgtype":"m.text"},"ts":1353519165000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the iframe looks like the culprit","msgtype":"m.text"},"ts":1353519170000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://xhr.spec.whatwg.org/#the-open()-method requires the fragment to be dropped","msgtype":"m.text"},"ts":1353519188000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe Chrome does not do that? would be a bug in Chrome","msgtype":"m.text"},"ts":1353519200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Wat? But ... howcome it works f ... f... Hmmmm.... AHA","msgtype":"m.text"},"ts":1353519261000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"I doubt howcome knows about this","msgtype":"m.text"},"ts":1353519351000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"^_^  I think I can add an extra encodeURIComponent to it, and it'll work better. Or I can remove the decode on the other side. Probably best to remove the decode, it shouldn't be there as far as I can see.","msgtype":"m.text"},"ts":1353519422000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Hixie, hober, never mind. Found it :)","msgtype":"m.text"},"ts":1353519528000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"annevk: Like totally fixed lots of errors. No more red in Opera for remote-origin.","msgtype":"m.text"},"ts":1353519550000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho: awesome","msgtype":"m.text"},"ts":1353519617000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"( http://test.s0.no/w3c-tests/webappsec/tests/cors/submitted/opera/staging/remote-origin.htm )","msgtype":"m.text"},"ts":1353519638000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"hmm, there's also http://wiki.whatwg.org/wiki/FormData","msgtype":"m.text"},"ts":1353526023000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"kinda sad we use append there instead of add()","msgtype":"m.text"},"ts":1353526044000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins_: how do you feel about calling it append() instead of add()?","msgtype":"m.text"},"ts":1353526094000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm, and for URLQuery, how do you get the names?","msgtype":"m.text"},"ts":1353526143000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(the difference between FormData and URLQuery is that FormData is like multipart/form-data and URLQuery is like application/x-www-form-urlencoded","msgtype":"m.text"},"ts":1353526192000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"; i.e. one supports Blob and the other doesn't)","msgtype":"m.text"},"ts":1353526203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"my favorite gmail thing: pasting a URL, editing the URL, and having it be sent with an automagically-generated link to the original link","msgtype":"m.text"},"ts":1353528736000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"arv: nice work on the exception stuff","msgtype":"m.text"},"ts":1353529033000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"exceptionally good work, is what I think annevk meant to say :-)","msgtype":"m.text"},"ts":1353529064000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden, you're the worst","msgtype":"m.text"},"ts":1353529088000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"jwalden: I am reserving that for when WebKit is DOM-compliant :)","msgtype":"m.text"},"ts":1353529113000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: only if you say I'm a brat","msgtype":"m.text"},"ts":1353529142000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"annevk: thanks","msgtype":"m.text"},"ts":1353529142000,"senderName":"arv","senderId":"arv@irc"},
{"content":{"body":"matjas: seems your spec is up now btw on /specs/","msgtype":"m.text"},"ts":1353529421000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"arv: I've talked to sicking btw about adding something like promises to the platform","msgtype":"m.text"},"ts":1353529566000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"arv: not sure if that's up your alley, but if you have input/suggestions that would be appreciated","msgtype":"m.text"},"ts":1353529595000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Talk to Alex Russel, he is also trying to do this","msgtype":"m.text"},"ts":1353529710000,"senderName":"arv","senderId":"arv@irc"},
{"content":{"body":"where should a cue that is left-aligned, given an x-position of 50%, and a width of 100%, end up?","msgtype":"m.text"},"ts":1353529737000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: I want promises but at this point there are too many cooks for me to add anything but +1 to that discussion","msgtype":"m.text"},"ts":1353529741000,"senderName":"arv","senderId":"arv@irc"},
{"content":{"body":"at x=50%, widht width=50%?","msgtype":"m.text"},"ts":1353529747000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or at x=0%, with width=100%?","msgtype":"m.text"},"ts":1353529757000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"arv: fair enough, if people are working on this maybe I should just sit back and relax","msgtype":"m.text"},"ts":1353529777000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(and bitch about IDNA)","msgtype":"m.text"},"ts":1353529785000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: is this like background-position or position:absolute?","msgtype":"m.text"},"ts":1353529828000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: or is that what you're asking? :)","msgtype":"m.text"},"ts":1353529837000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think slightlyoff is planning to get it in through some crypto API","msgtype":"m.text"},"ts":1353529852000,"senderName":"arv","senderId":"arv@irc"},
{"content":{"body":"arv: wut?","msgtype":"m.text"},"ts":1353529864000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Promises","msgtype":"m.text"},"ts":1353529877000,"senderName":"arv","senderId":"arv@irc"},
{"content":{"body":"yeah I understand, not sure I understand the strategy","msgtype":"m.text"},"ts":1353529887000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it is a new api that is async","msgtype":"m.text"},"ts":1353529906000,"senderName":"arv","senderId":"arv@irc"},
{"content":{"body":"my idea was to figure out what we want from the API and then add it to every asynchronous object we have","msgtype":"m.text"},"ts":1353529910000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":" xhr.promise.fail()/succeed()/then() or some such","msgtype":"m.text"},"ts":1353529990000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"new async stuff could return promise directly","msgtype":"m.text"},"ts":1353530004000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"Tell CSS about WG consensus on case folding\"","msgtype":"m.text"},"ts":1353530374000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1353530375000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"-- http://lists.w3.org/Archives/Public/www-international/2012OctDec/0076.html","msgtype":"m.text"},"ts":1353530403000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it's like neither, but i'm asking","msgtype":"m.text"},"ts":1353530462000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: what do existing formats do?","msgtype":"m.text"},"ts":1353530568000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: is that \"tell csswg about i18n wg’s consensus\"? What is the said consensus?","msgtype":"m.text"},"ts":1353530583000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"SimonSapin: it sounds like the consensus is not ASCII case-insensitive, which I think is what it should be","msgtype":"m.text"},"ts":1353530612000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: not clear","msgtype":"m.text"},"ts":1353530680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh I see, \"case folding\" is i18n’s anwser to the question of \"what kind case insensitivity\"","msgtype":"m.text"},"ts":1353530717000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"align:left position:50% width:100% => seems to me it should be treated the same as align:left position:50% width:50%","msgtype":"m.text"},"ts":1353530750000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but","msgtype":"m.text"},"ts":1353530754000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"align:left position:100% width:50% => seems to me it should be treated the same as align:left position:50% width:50% also","msgtype":"m.text"},"ts":1353530765000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and i can't work out how to make both of those happen, so one has to lose","msgtype":"m.text"},"ts":1353530784000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"probably the second","msgtype":"m.text"},"ts":1353530796000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but shrinking to width:0% doesn't make sense either...","msgtype":"m.text"},"ts":1353530807000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: why not if pos+width > 100% ignore pos?","msgtype":"m.text"},"ts":1353530811000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"SimonSapin: case folding is how you do unicode case-insensitivity (as opposed to \"convert to lowercase\", which is subtly different)","msgtype":"m.text"},"ts":1353530822000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"case folding is also a way complex operation for where something simple is sufficient","msgtype":"m.text"},"ts":1353530874000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: because default width is 100% so that would mean position doesn't work unless you change the width also, every time","msgtype":"m.text"},"ts":1353530880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: sure, it's nonsense when you're only comparing ascii","msgtype":"m.text"},"ts":1353530904000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"heh, come to think of it I don't even know what String.toLowerCase actually does","msgtype":"m.text"},"ts":1353530919000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: so ignore width instead then I suppose...","msgtype":"m.text"},"ts":1353530946000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's toLowerCase and toLocaleLowerCase, but \"lowercase\" basically by definition has to be based on some locale","msgtype":"m.text"},"ts":1353530947000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: which you already concluded","msgtype":"m.text"},"ts":1353530953000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe just \"toLowerCase = lowercase based on en_US, toLocaleLowerCase = based on the user's locale\"? dunno","msgtype":"m.text"},"ts":1353530970000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: there's a locale-independent algo I think","msgtype":"m.text"},"ts":1353530991000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that's what case folding is","msgtype":"m.text"},"ts":1353530998000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"annevk: yeah but then align:left position:100% never does what the author wants. maybe that's ok.","msgtype":"m.text"},"ts":1353530999000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is there anywhere it actually matters, aside from stupid turkish dotless I?","msgtype":"m.text"},"ts":1353531022000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: what do you want there?","msgtype":"m.text"},"ts":1353531025000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hell if i know","msgtype":"m.text"},"ts":1353531036000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: but even though we don't know what X wants, it doesn't do what X wants?","msgtype":"m.text"},"ts":1353531062000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or is that just the only one that affects the ASCII set","msgtype":"m.text"},"ts":1353531071000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: there's a lot of cases","msgtype":"m.text"},"ts":1353531096000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's probably what it is","msgtype":"m.text"},"ts":1353531103000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"annevk: i can argue multiple interpretations as reasonable","msgtype":"m.text"},"ts":1353531520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"another case is  align:middle size:25%","msgtype":"m.text"},"ts":1353531530000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"should that be in the middle, or on the left?","msgtype":"m.text"},"ts":1353531541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe the default position should depend on the alignment...","msgtype":"m.text"},"ts":1353531556000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"please comment on https://www.w3.org/Bugs/Public/show_bug.cgi?id=20037 if you have opinions regarding webvtt positioning","msgtype":"m.text"},"ts":1353531691000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lunch, bbl","msgtype":"m.text"},"ts":1353531694000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"TabAtkins_: why is it Map.size rather than Map.length?","msgtype":"m.text"},"ts":1353533696000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maps aren't vectors; they don't have a length","msgtype":"m.text"},"ts":1353533991000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"does HashMap.length make any sense?","msgtype":"m.text"},"ts":1353534010000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"\"length\" in apis usually means \"the number of things in the container\", it's not restricted to linear things like strings and arrays","msgtype":"m.text"},"ts":1353534041000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I don't think that's universally true, and to the extent it's true in those cases, it's a bad name","msgtype":"m.text"},"ts":1353534102000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"eg. python uses len() for all kinds of containers, it doesn't make you remember different names (which also makes duck typing work much better)","msgtype":"m.text"},"ts":1353534106000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"everyone understands it, so i think the name is fine","msgtype":"m.text"},"ts":1353534125000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"it could be \"elephants\" as long as it was understood :)","msgtype":"m.text"},"ts":1353534138000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"yeah, that's certainly how I've come to view length, thus far I haven't seen a different name for it","msgtype":"m.text"},"ts":1353534156000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"size would be fine too but we've already got \"length\"","msgtype":"m.text"},"ts":1353534170000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"btw, what is .length for a sparse JS array? The number of defined items or the greatest index + 1?","msgtype":"m.text"},"ts":1353534226000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"the latter","msgtype":"m.text"},"ts":1353534286000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"does javascript even have actual sparse arrays, other than setting up an object-with-array-semantics by hand?","msgtype":"m.text"},"ts":1353534329000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: isn’t that an implementation detail?","msgtype":"m.text"},"ts":1353534359000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"i'm not talking about implementation, i'm asking if there are any interfaces or APIs or syntaxes that actually let you create a sparse array, other than assigning to an object directly","msgtype":"m.text"},"ts":1353534423000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"arrays *are* objects","msgtype":"m.text"},"ts":1353534437000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"you can do [10,20,,,,,,40]","msgtype":"m.text"},"ts":1353534445000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"yes, we're not JS 101 here :)","msgtype":"m.text"},"ts":1353534447000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"there's no such thing as a sparse array at all","msgtype":"m.text"},"ts":1353534451000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"just arrays","msgtype":"m.text"},"ts":1353534453000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"sometimes which might be missing properties below their length","msgtype":"m.text"},"ts":1353534461000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"that’s what I meant by sparse","msgtype":"m.text"},"ts":1353534477000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"also people don't use \"sparse\" in the same sense in all cases","msgtype":"m.text"},"ts":1353534486000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"it's just not a very precise term","msgtype":"m.text"},"ts":1353534500000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: heycam's syntax definitely gives a sparse array","msgtype":"m.text"},"ts":1353534512000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"not a terribly useful one (if you want a sparse array, usually you want millions of missing items, not a few), but just the same","msgtype":"m.text"},"ts":1353534538000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: in the engines I'm aware of, I believe that gets optimized to use vector-like storage, which engine implementers don't consider to be a sparse case","msgtype":"m.text"},"ts":1353534544000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"zewt, you can also start off with [] and then just assign to the index properties you want","msgtype":"m.text"},"ts":1353534557000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"zewt: which illustrates the problems of using the term \"sparse\"","msgtype":"m.text"},"ts":1353534560000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: that much *is* an implementation detail","msgtype":"m.text"},"ts":1353534594000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: there is no definition for the term \"sparse\", so it's meaningless to ask whether JS exposes them","msgtype":"m.text"},"ts":1353534625000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden, do you know if you do `var a = []; a[2**30] = 1` will it not allocate a chunk of memory?","msgtype":"m.text"},"ts":1353534628000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"and wherein heycam returns and I ask him to add https://www.w3.org/Bugs/Public/show_bug.cgi?id=18547 to his list (unless Ms2ger gets to it first)","msgtype":"m.text"},"ts":1353534634000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in JS terms, i'd consider a sparse array to simply be one with array semantics, but where one of the indexes below .length doesn't exist in the object","msgtype":"m.text"},"ts":1353534641000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"annevk, so added.","msgtype":"m.text"},"ts":1353534651000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"well, if that's your definition, new Array(17)","msgtype":"m.text"},"ts":1353534656000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"whether or how it's actually optimized based on that being the implementation detail part, of course","msgtype":"m.text"},"ts":1353534677000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"heycam gets to do that :)","msgtype":"m.text"},"ts":1353534680000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"heycam: it depends on the engine; most will probably use something similar to non-array, non-typedarray property storage for it, which allocates memory sometimes (but not necessarily always)","msgtype":"m.text"},"ts":1353534722000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"i guess the other way to view sparse arrays is as the actual physical in-memory data structure (but that isn't very interesting at a level like JS)","msgtype":"m.text"},"ts":1353534730000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"questions about what memory gets allocated are inherently un-answerable without qualifying to a specific engine, mostly","msgtype":"m.text"},"ts":1353534750000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"well, not that exactly (it doesn't define something specific like a binary tree)","msgtype":"m.text"},"ts":1353534751000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"so... cross-origin seamless","msgtype":"m.text"},"ts":1353541746000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"do we always want the following on any seamless case?:","msgtype":"m.text"},"ts":1353541792000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"- links opening in the parent browsing context, not the nested one","msgtype":"m.text"},"ts":1353541803000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"- shrink wrapping","msgtype":"m.text"},"ts":1353541825000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"- media queries acting as if the bc was the parent, not the iframe","msgtype":"m.text"},"ts":1353541847000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"- borders disable by default","msgtype":"m.text"},"ts":1353541885000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"- speech media should not announce the iframe as separate","msgtype":"m.text"},"ts":1353541901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if so, are the only things we _don't_ want to propagate the styles, and the events (not yet specced anyway)?","msgtype":"m.text"},"ts":1353541956000,"senderName":"Hixie","senderId":"Hixie@irc"}
]