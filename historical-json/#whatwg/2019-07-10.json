[
{"content":{"body":"What's the difference between http://example.org/dir and http://example.org/dir/","msgtype":"m.text"},"ts":1562736357000,"senderName":"leonardus","senderId":"leonardus@irc"},
{"content":{"body":"(the trailing slash)","msgtype":"m.text"},"ts":1562736418000,"senderName":"leonardus","senderId":"leonardus@irc"},
{"content":{"body":"leonardus: different path","msgtype":"m.text"},"ts":1562737507000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"leonardus: per spec the latter has an empty path segment at the end","msgtype":"m.text"},"ts":1562737558000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nice Stack Overflow success story:","msgtype":"m.text"},"ts":1562755228000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://stackoverflow.com/questions/56877116/flask-logs-duplicate-xhr-cors-requests-from-safari","msgtype":"m.text"},"ts":1562755229000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"question posted to SO on July 3, with detailed repro steps","msgtype":"m.text"},"ts":1562755263000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"...in fact, a github repo with the repro dependencies and instructions https://github.com/karls/flask-safari-troubleshoot","msgtype":"m.text"},"ts":1562755328000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"then https://bugs.webkit.org/show_bug.cgi?id=199492 raised on July 4","msgtype":"m.text"},"ts":1562755351000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"then Youenn lands a fix only July 9 https://trac.webkit.org/changeset/247276","msgtype":"m.text"},"ts":1562755399000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Apparently Chrome appends / to the URL when browsing a directory over file://.","msgtype":"m.text"},"ts":1562761862000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"Is the behaviour of file:// covered by a standard, or is this intentionally out of scope?","msgtype":"m.text"},"ts":1562761896000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"\"For now, unfortunate as it is, file URLs are left as an exercise for the reader. \"","msgtype":"m.text"},"ts":1562762049000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I should maybe start using \"implementation-defined\" for things like that","msgtype":"m.text"},"ts":1562762111000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: Thanks.","msgtype":"m.text"},"ts":1562762570000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"Ms2ger: Is this from URL?","msgtype":"m.text"},"ts":1562762577000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"Fetch","msgtype":"m.text"},"ts":1562762583000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ah.","msgtype":"m.text"},"ts":1562762593000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"ato: parsing is defined, fetching is not","msgtype":"m.text"},"ts":1562762829000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ato: it's origin isn't either","msgtype":"m.text"},"ts":1562762849000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"its","msgtype":"m.text"},"ts":1562762855000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ouch","msgtype":"m.text"},"ts":1562762856000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Great, thanks.","msgtype":"m.text"},"ts":1562762885000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"Well not great, but now I see.","msgtype":"m.text"},"ts":1562762892000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"Chrome bug: closed because behaviour matches the spec https://bugs.chromium.org/p/chromium/issues/detail?id=20574 W3C bug: closed because \"<ericwilligers_> dbaron: it is a little late to change that.\" \"<ericwilligers_> dirk: confirm WebKit behaves same as Edge and Chrome and Firefox in creating a containing block.\"","msgtype":"m.text"},"ts":1562763216000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"Originally only Chrome had this behaviour, IE/FF/Opera all changed to match the spec. Instead of Chrome talking about what the spec says, and W3C talking about current browser behaviour, why don't people talk about what makes sense?","msgtype":"m.text"},"ts":1562763237000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"The purpose of position fixed is to make sure an element is always relative to the viewport, if under certain conditions it's basically just position: absolute/relative what purpose does it serve? No one can be confident in using if it only does what you expect it to under certain conditions.","msgtype":"m.text"},"ts":1562763272000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"Oh, this is the \"3C bug btw https://github.com/w3c/csswg-drafts/issues/913","msgtype":"m.text"},"ts":1562763292000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"Someone on the W3C bug mentions that there's some complexity with changing this behaviour, but IE/FF/Opera did have this behaviour originally, and in it's current state it's effectively useless IMO, I don't think 'it would be hard' is a good excuse for closing the bug","msgtype":"m.text"},"ts":1562763438000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"This isn't the place to escalate","msgtype":"m.text"},"ts":1562763958000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And if you want to overturn such a decision you'll have to justify the engineering cost involved somehow, relative to other work","msgtype":"m.text"},"ts":1562764008000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"As well as take into consideration the compatibility fallout if it goes entrenched behavior","msgtype":"m.text"},"ts":1562764029000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"What is the correct place?","msgtype":"m.text"},"ts":1562764165000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"Dari: leaving a comment on that issue, potentially filing a new issue given it's been almost a year (given it's almost a year, it seems even harder to overturn and you'll need even better justification; definitely more than what you wrote above)","msgtype":"m.text"},"ts":1562764335000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm, well it's hard to justify given factors you've mentioned. The only justification I have is that the proposed behaviour makes more sense, and I think that position fixed won't be used by people who've found out about the current behaviour (from discussion and resources I've seen online it feels like most people are still unaware of how it actua","msgtype":"m.text"},"ts":1562765421000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"lly works)","msgtype":"m.text"},"ts":1562765421000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"It's always going to be easier to leave it half broken than try and fix it","msgtype":"m.text"},"ts":1562765529000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"Dari: yeah, engineering tradeoffs are hard","msgtype":"m.text"},"ts":1562765668000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Dari: note though that even if this is entrenched for whatever reason, offering some opt-out might still be a reasonable request","msgtype":"m.text"},"ts":1562765699000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Dari: and worth doing if there are compelling use cases","msgtype":"m.text"},"ts":1562765717000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Dari: and perhaps this will also motive you to get involved earlier and review other discussions going on ðŸ˜Š","msgtype":"m.text"},"ts":1562765758000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"motivate*","msgtype":"m.text"},"ts":1562765765000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Thanks for your time, you've given me some things to think about","msgtype":"m.text"},"ts":1562765832000,"senderName":"Dari","senderId":"Dari@irc"},
{"content":{"body":"annevk: do you have time for the navigation refactor (https://github.com/whatwg/html/pull/4664) today?","msgtype":"m.text"},"ts":1562774146000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: no, hopefully tomorrow","msgtype":"m.text"},"ts":1562774291000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"OK cool, thanks for letting me know. Just very excited to land that :)","msgtype":"m.text"},"ts":1562774308000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah, totally fair, and it'll probably help with COOP/COEP too so I should get to it","msgtype":"m.text"},"ts":1562775492000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The only really broken thing left with navigation after that is source browsing context, I think.","msgtype":"m.text"},"ts":1562776277000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Oh my and multipart from a quick skim I did earlier","msgtype":"m.text"},"ts":1562776319000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah true","msgtype":"m.text"},"ts":1562776328000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think we're quite close with source browsing context, esp. if navigation always happens synchronously (because then it can be a \"source document\" as it should be quite easily)","msgtype":"m.text"},"ts":1562776406000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh yeah I forgot we're making a lot of progress on sync vs. async navigation","msgtype":"m.text"},"ts":1562776424000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Although I guess there's a lot of implicitness in \"element that caused the navigation\" and thus \"document that caused the navigation\"","msgtype":"m.text"},"ts":1562776446000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That shouldn't be too hard to fix though, navigate doesn't have too many call sites in the spec","msgtype":"m.text"},"ts":1562776464000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'm hopeful to start taking another stab at the agent cluster stuff based on 4664","msgtype":"m.text"},"ts":1562777040000,"senderName":"dtapuska","senderId":"dtapuska@irc"},
{"content":{"body":"The other big thing is inheritance of document state into weird URL schemes","msgtype":"m.text"},"ts":1562777441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh and downloads","msgtype":"m.text"},"ts":1562777482000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm","msgtype":"m.text"},"ts":1562777487000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"whispers *session history*","msgtype":"m.emote"},"ts":1562777598000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Inheritance of document state into weird URL schemes?","msgtype":"m.text"},"ts":1562780319000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"downloads seem pretty reasonable to me","msgtype":"m.text"},"ts":1562780341000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: e.g. referrer policy et al into srcdoc / about:blank / data: / blob:","msgtype":"m.text"},"ts":1562780563000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: and in particular when is the policy copied and such","msgtype":"m.text"},"ts":1562780580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: afaik downloads aren't defined as a navigation still","msgtype":"m.text"},"ts":1562780601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Downloads are defined as a navigation I am pretty sure","msgtype":"m.text"},"ts":1562780610000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I see the problem with weird URLs","msgtype":"m.text"},"ts":1562780629000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"\"Handle the result of fetching request as a download.\"","msgtype":"m.text"},"ts":1562780636000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I see yes","msgtype":"m.text"},"ts":1562780640000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It's backwards from what you're proposing: navigations can end up as downloads. https://html.spec.whatwg.org/#navigating-across-documents:as-a-download","msgtype":"m.text"},"ts":1562780669000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Well, that too, download=\"\" just forces that code path (again, in impls)","msgtype":"m.text"},"ts":1562780708000,"senderName":"annevk","senderId":"annevk@irc"}
]