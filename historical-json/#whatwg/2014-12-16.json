[
{"content":{"body":"away","msgtype":"m.text"},"ts":1418695389000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"was reading through the whatwg dom spec, love the jquery-like ChildNode interface, any plan to add an .index() method that returns node's index? This would be very helpful when dealing with ranges.","msgtype":"m.text"},"ts":1418710648000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"what's the use-case for that, hgl?","msgtype":"m.text"},"ts":1418711026000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"why not just `for node of SomeNodeList/HTMLCollection`","msgtype":"m.text"},"ts":1418711060000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"when you want to change a range's start or end to some node. range.setStart(node.parentNode, node.index())","msgtype":"m.text"},"ts":1418711095000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"using a loop, you no longer have a one-liner.","msgtype":"m.text"},"ts":1418711124000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"oh, you mean actual DOM ranges","msgtype":"m.text"},"ts":1418711160000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"yes. :)","msgtype":"m.text"},"ts":1418711169000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"I think you'd want to come up with a compelling use case, though","msgtype":"m.text"},"ts":1418711222000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"otherwise I can see \"no we only want to give people primitives to do cool things otherwise we're just adding complexity for nothing rawrrrr\" answers to it :(","msgtype":"m.text"},"ts":1418711257000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"because to do that, there are basically two approaches --- either the engine does the computation all the time and the performance sucks,","msgtype":"m.text"},"ts":1418711295000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"or some caching happens, and the cache probably lives in rare data and kind of sucks for that reason too","msgtype":"m.text"},"ts":1418711334000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"i dunno, maybe file a bug asking for such a method, but I don't feel like it would go anywhere without a use case :'(","msgtype":"m.text"},"ts":1418711377000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"but, to be honest, if the rule is to only provide primitives, node.remove() shouldn't be there, we already have node.parentNode.removeChild(node)","msgtype":"m.text"},"ts":1418711529000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"i think that argument has probably been made","msgtype":"m.text"},"ts":1418711584000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"i dunno, who knows what could happen","msgtype":"m.text"},"ts":1418711628000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"before and after are just sugar over documentfragment + appendChild","msgtype":"m.text"},"ts":1418711639000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"did you file a bug? =)","msgtype":"m.text"},"ts":1418711684000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"hehe, i will open an issue and try my luck then. :)","msgtype":"m.text"},"ts":1418711691000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"doing it, one minute","msgtype":"m.text"},"ts":1418711705000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"caitp, this is embarrassing, but which category should i file in? i only see DOM TS, doesn't seem to be the correct one.","msgtype":"m.text"},"ts":1418711927000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"caitp, never mind, it's in WebAppsWG","msgtype":"m.text"},"ts":1418712023000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"Done. https://www.w3.org/Bugs/Public/show_bug.cgi?id=27623","msgtype":"m.text"},"ts":1418712268000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"hgl: wouldn't it be nicer to do range.setStart(node.parentNode, node) ?","msgtype":"m.text"},"ts":1418715820000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or maybe just range.setStart(node)","msgtype":"m.text"},"ts":1418716101000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan,  but this might make the offset hard to control, sometimes your might want range.setEnd(node.parentNode, node.index() + 1) // or +2","msgtype":"m.text"},"ts":1418716425000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"hgl: range.setEnd(node.nextSibling)","msgtype":"m.text"},"ts":1418716468000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, hmm, sounds pretty good.","msgtype":"m.text"},"ts":1418716524000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"zcorpan, but it's not clear the range is after or before the node...","msgtype":"m.text"},"ts":1418716597000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"i mean the range end, for both setStart and setEnd","msgtype":"m.text"},"ts":1418716627000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"wait a sec, we already have  setStartBefore and the likes.","msgtype":"m.text"},"ts":1418716675000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"ah. there you go","msgtype":"m.text"},"ts":1418716726000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok, i have no use index()..for now...","msgtype":"m.text"},"ts":1418716734000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"zcorpan, thank you for inspiring me. :)","msgtype":"m.text"},"ts":1418716827000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"krijnhoetmerbot: patch for the log's css: p { font:0.7em sans-serif }","msgtype":"m.text"},"ts":1418718193000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, krijnhoetmerbot: `html { font-family: sans-serif; } p { font-size: .9em; } ol { font-family: Consolas, monospace; }` IMHO","msgtype":"m.text"},"ts":1418719295000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"hgl: thanks for sorting out your own bug :-)","msgtype":"m.text"},"ts":1418726785000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: forgive me if this is a dumb question, but did you do a git pull before you ran make?","msgtype":"m.text"},"ts":1418732072000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: I ran Sync in the GitHub client","msgtype":"m.text"},"ts":1418732106000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: judging from the commits that should have given me bikeshed's latest","msgtype":"m.text"},"ts":1418732124000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not asking about a pull on bikeshed, I meant: did you pull the latest from whatwg/url?","msgtype":"m.text"},"ts":1418732150000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: ah I missed that","msgtype":"m.text"},"ts":1418732239000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: it seems there's still that difference with </main> between our copies :/","msgtype":"m.text"},"ts":1418732254000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I never did get around to checking with my macbook.  I'll do that now","msgtype":"m.text"},"ts":1418732282000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"we may need TabAtkin's help","msgtype":"m.text"},"ts":1418732291000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I wish the generated stuff from bikeshed used more newlines so you can actually read a diff about changes to generated sections...","msgtype":"m.text"},"ts":1418732340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess I can file a bug","msgtype":"m.text"},"ts":1418732359000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://github.com/tabatkins/bikeshed/issues/310","msgtype":"m.text"},"ts":1418732418000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"updated bikeshed and whatwg/url on my macbook; removed url.html; ran make then git diff: the only difference I get is the <time> element is updated to 16 December.","msgtype":"m.text"},"ts":1418732499000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"annevk: I have no idea what else to try.  What exactly is changed in your version?","msgtype":"m.text"},"ts":1418732560000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I get a newline before <body class=\"h-entry status-LS\">","msgtype":"m.text"},"ts":1418732594000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And </main> is removed from before Conformance to be before References","msgtype":"m.text"},"ts":1418732638000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wonder if we have a different htmlparser?","msgtype":"m.text"},"ts":1418732662000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Which makes sense in a way, Conformance is part of the main document","msgtype":"m.text"},"ts":1418732677000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Could be","msgtype":"m.text"},"ts":1418732703000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm running with html5lib (1.0b3) on ubuntu","msgtype":"m.text"},"ts":1418732745000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"same on my macbook","msgtype":"m.text"},"ts":1418732773000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"annevk: https://www.w3.org/Bugs/Public/show_bug.cgi?id=27252 can be closed now?","msgtype":"m.text"},"ts":1418732983000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: yeah seems like it","msgtype":"m.text"},"ts":1418733019000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: I have no idea what version of html5lib I have; when I look on my MacBook for html5lib it only finds something that comes with web-platform-tests","msgtype":"m.text"},"ts":1418733050000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: I'm not terribly great at managing software packages","msgtype":"m.text"},"ts":1418733071000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk what does \"pip list | grep html5lib\" say?","msgtype":"m.text"},"ts":1418733104000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"0.95","msgtype":"m.text"},"ts":1418733127000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, I'm running with a newer version, and that could explain the diffs.  Try updating?","msgtype":"m.text"},"ts":1418733157000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"easy_install html5lib returns this version","msgtype":"m.text"},"ts":1418733198000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I just realize that what I did was to use these instructions: https://wiki.whatwg.org/wiki/Anolis","msgtype":"m.text"},"ts":1418733227000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"git clone git://github.com/html5lib/html5lib-python.git; cd html5lib-python && sudo python setup.py install","msgtype":"m.text"},"ts":1418733243000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I guess those are from when html5lib wasn't available over easy_install","msgtype":"m.text"},"ts":1418733279000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Do we want to standardize on 0.95 or 1.03b3?","msgtype":"m.text"},"ts":1418733320000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Somewhat curious what TabAtkins would have to say, but I think standardizing on whatever easy_install does would be simplest for new contributors","msgtype":"m.text"},"ts":1418733409000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"first I'll try backing out what I have to see if it really makes a difference","msgtype":"m.text"},"ts":1418733600000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"annevk: which is ... neither.  After uninstalling and reinstalling I get html5lib (0.999)","msgtype":"m.text"},"ts":1418733740000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"... and no change (other than the <time> element) from what I got before.","msgtype":"m.text"},"ts":1418733761000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"can you try uninstalling html5lib and reinstalling it?  It could be that <main> element support changed between 0.95 and 0.999...","msgtype":"m.text"},"ts":1418733803000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"done and you win","msgtype":"m.text"},"ts":1418733947000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"win?","msgtype":"m.text"},"ts":1418734012000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: sorry, had to run off for a bit; that was the difference","msgtype":"m.text"},"ts":1418734104000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cool.  If you like, the templates can be changed.","msgtype":"m.text"},"ts":1418734124000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: the difference is now the <time> element change only","msgtype":"m.text"},"ts":1418734132000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, not in a great hurry with that","msgtype":"m.text"},"ts":1418734201000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So in the beginning there were Workers","msgtype":"m.text"},"ts":1418736208000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Then we got ServiceWorkers","msgtype":"m.text"},"ts":1418736216000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Now I see discussion of Service ServiceWorkers","msgtype":"m.text"},"ts":1418736229000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie, ping (re example at https://html.spec.whatwg.org/multipage/#association-of-controls-and-forms)","msgtype":"m.text"},"ts":1418736436000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Oh this is great, new html5lib changed attribute order","msgtype":"m.text"},"ts":1418738012000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: we need to go deeper","msgtype":"m.text"},"ts":1418738036000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1418738042000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: service service service workers","msgtype":"m.text"},"ts":1418738338000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: curious about the context of that though, I hadn't seen that","msgtype":"m.text"},"ts":1418738359000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: html5lib has had the same behaviour for attribute order for years now","msgtype":"m.text"},"ts":1418738360000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: 0.95 has been out of date for years I guess?","msgtype":"m.text"},"ts":1418738376000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it's just that most of the tree data structures html5lib uses (like minidom, like lxmlâ€¦ don't preserve attribute order per their API)","msgtype":"m.text"},"ts":1418738398000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: almost three years old :)","msgtype":"m.text"},"ts":1418738416000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: Sicking in dev.platform","msgtype":"m.text"},"ts":1418738422000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/in /on /","msgtype":"m.text"},"ts":1418738435000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"gsnedders: I think I set this up when I got this Macbook from Mozilla, but maybe I did something else...","msgtype":"m.text"},"ts":1418738444000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: covariant? I'm not sure what that is but if WindowClient is a subclass of BasicClient/Client, then anything accepting BasicClient/Client also accepts WindowClient","msgtype":"m.text"},"ts":1418742579000,"senderName":"annevk_","senderId":"annevk_@irc"},
{"content":{"body":"I'm coding up a development blog and I was wondering if anyone had any tips on rendering syntactical code styles on the frontend.","msgtype":"m.text"},"ts":1418745903000,"senderName":"jamesheston","senderId":"jamesheston@irc"},
{"content":{"body":"Is there a javascript lib people usually use?","msgtype":"m.text"},"ts":1418745923000,"senderName":"jamesheston","senderId":"jamesheston@irc"},
{"content":{"body":"rubys: http://intertwingly.net/projects/pegurl/url-problem-statement.html why does it claim URL is based on IDNA2003?","msgtype":"m.text"},"ts":1418745979000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: it's based on UTS #46 which builds on IDNA2008","msgtype":"m.text"},"ts":1418746017000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I thought IDNA2008 was a non-starter? What changed?","msgtype":"m.text"},"ts":1418746037000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: one sec, on a phone","msgtype":"m.text"},"ts":1418746044000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Does UTS #46 avoid the breakage v. IDNA2003?","msgtype":"m.text"},"ts":1418746056000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"rubys: also \"leaves out many topics\" deserves to be elaborated as that might be a bug","msgtype":"m.text"},"ts":1418746061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: yes","msgtype":"m.text"},"ts":1418746069000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: see blog posts on annevankesteren.nl","msgtype":"m.text"},"ts":1418746080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: what's not really captured by tests is the encoding override","msgtype":"m.text"},"ts":1418746180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: that along with handling code points not covered by the grammar was a significant motivator that we needed something new","msgtype":"m.text"},"ts":1418746203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"If the only thing keeping development of a standard in the W3C is the copyright license on the specification, then the W3C is doomed.\" -- http://lists.w3.org/Archives/Public/public-w3process/2014Dec/0078.html","msgtype":"m.text"},"ts":1418746925000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: also, in that document I don't think what is stated about the IRI group is correct","msgtype":"m.text"},"ts":1418747078000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: it might not have gotten the contributors or some such, but it definitely got all the feedback","msgtype":"m.text"},"ts":1418747093000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: including what would be needed to turn it into a success","msgtype":"m.text"},"ts":1418747104000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: both Hixie and I sent quite a few emails explaining that","msgtype":"m.text"},"ts":1418747133000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: for many languages that is true in general but false for parametrized/generic types.","msgtype":"m.text"},"ts":1418747435000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I don't think I follow, but how did you think e.g. cloneNode(Node node, ...) worked?","msgtype":"m.text"},"ts":1418747520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I believe it works for Node, wasn't sure it would work for sequence<Node>","msgtype":"m.text"},"ts":1418747548000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But I guess when you put it in Node terms it seems more obvious that it should work","msgtype":"m.text"},"ts":1418747569000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"NodeList baby","msgtype":"m.text"},"ts":1418747598000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I have also done my email, but it took about half a day and I still have two left","msgtype":"m.text"},"ts":1418747635000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok, I'm back, you still around?","msgtype":"m.text"},"ts":1418747807000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: fwiw good stuff on w3process","msgtype":"m.text"},"ts":1418748102000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Dominic: for what good it will do.  But, thanks!","msgtype":"m.text"},"ts":1418748125000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"oh, cool, Chris Wilson engaged.","msgtype":"m.text"},"ts":1418748185000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Mike Champion too","msgtype":"m.text"},"ts":1418748256000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"annevk: btw, big +1 from me on the moz/web components blog post. it matches up with my personal thoughts very closely","msgtype":"m.text"},"ts":1418749111000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: Yeah, for stability I use the option that serializes attributes alphabetically.","msgtype":"m.text"},"ts":1418749235000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Blog post?","msgtype":"m.text"},"ts":1418749294000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"rubys: yes","msgtype":"m.text"},"ts":1418749517000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: https://hacks.mozilla.org/2014/12/mozilla-and-web-components/","msgtype":"m.text"},"ts":1418749528000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ms2ger: here","msgtype":"m.text"},"ts":1418749530000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: now back on the phone :-( but for this call, I can multi-task a bit","msgtype":"m.text"},"ts":1418749570000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"(1) what you are looking it is a quickly converted blog post of Larry Masinter into IETF RFC form.  Here is the original post: http://masinter.blogspot.com/2014/09/the-url-mess.html","msgtype":"m.text"},"ts":1418749625000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I'll change it to say that URL-LS is based on UTS-46.  I'll drop \"leaves out many topics\" unless you have something that needs to be said?","msgtype":"m.text"},"ts":1418749682000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"2) encoding override is not yet implemented by my reference implementation; not sure whether this is a new topic or something you think should be mentioned in the internet draft?","msgtype":"m.text"},"ts":1418749729000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"3) what do you suggest be said about the IRI working group (again, I wasn't involved, and so what you see is Larry's text)","msgtype":"m.text"},"ts":1418749780000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: using the document encoding for the query component was a big part of how we noticed URI/IRI was broken","msgtype":"m.text"},"ts":1418749802000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: I guess the only topic the URL Standard currently doesn't tackle is URL comparison since most of the normalization steps happen as part of the parser and the browsers compare on the parsed result...","msgtype":"m.text"},"ts":1418749858000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: there's a plan to offer an API once the current API is a bit more widespread","msgtype":"m.text"},"ts":1418749876000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: I think what happened is that the IRI WG formed and Larry expected us not to just to provide feedback, but else help develop this document, which we were not super interested in at the time (my reason was mostly that I didn't want to write IETF documents since I don't like how they are formatted)","msgtype":"m.text"},"ts":1418750009000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, off the phone","msgtype":"m.text"},"ts":1418750045000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"so, you are OK with the changes I said in #1?","msgtype":"m.text"},"ts":1418750073000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: yes","msgtype":"m.text"},"ts":1418750270000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok.  So for number 2, you are suggesting that the following sentence be reworded: \"Despite years of development, the group didn't get the attention of those active in WHATWG, W3C or Unicode consortium, ...\"?","msgtype":"m.text"},"ts":1418750315000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"would dropping \"the group didn't get the attention of those active in WHATWG, W3C or Unicode consortium, and \" address your comment?","msgtype":"m.text"},"ts":1418750371000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"bah.  This is comment #3, not comment 2.  I'll come back to 2.","msgtype":"m.text"},"ts":1418750401000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: yeah e.g. http://lists.w3.org/Archives/Public/public-iri/2009Aug/0000.html","msgtype":"m.text"},"ts":1418750437000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also http://lists.w3.org/Archives/Public/public-iri/2010Apr/0008.html","msgtype":"m.text"},"ts":1418750473000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll add those links as an XML comments (i.e. not shown up in the draft).  Is that fine?","msgtype":"m.text"},"ts":1418750497000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I don't mind","msgtype":"m.text"},"ts":1418750580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, so back to #2: \"in an attempt to match what some of the browsers were doing\" isn't specific enough, you want encoding override to be specifically called out?  If so, I can do that.","msgtype":"m.text"},"ts":1418750637000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: nah that's fine","msgtype":"m.text"},"ts":1418750759000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"anything else I missed?","msgtype":"m.text"},"ts":1418750781000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1418750914000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mispoke on #1, I think the part that you asked me to drop was \", and there were other issues\"","msgtype":"m.text"},"ts":1418750999000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"The brief history is not quite correct... URI / IRI were first. Browsers didn't match them so Hixie defined something in HTML5. Then Dan Connolly tried to extract that but never finished it.","msgtype":"m.text"},"ts":1418751072000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"At some point abarth made an attempt but I'm not sure anymore when that was.","msgtype":"m.text"},"ts":1418751097000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Larry tried to revive the IRI WG also with the goal of taking it out of HTML5. That didn't really go anywhere either.","msgtype":"m.text"},"ts":1418751120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"URI predated RFC1738?","msgtype":"m.text"},"ts":1418751120000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: no, but that's before forking happened","msgtype":"m.text"},"ts":1418751168000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: that has its own set of issues of course :-)","msgtype":"m.text"},"ts":1418751191000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"In some aspects what browsers do matches RFC1738 the best","msgtype":"m.text"},"ts":1418751230000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And the problem with IDNA2008 was not about IRI, but that it wasn't backwards compatible","msgtype":"m.text"},"ts":1418751283000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and therefore unsafe","msgtype":"m.text"},"ts":1418751287000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"While I don't want to make this inaccurate, I don't want it to be overly complicated either; all that is needed here is a brief history.","msgtype":"m.text"},"ts":1418751297000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"You've clearly got much more background on what really happened than I do... if you are so inclined, a pull request would be appreciated :-)  If not, I'll try to address the feedback.","msgtype":"m.text"},"ts":1418751337000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"meanwhile, I've pushed out the first set of changes to http://intertwingly.net/projects/pegurl/url-problem-statement.html","msgtype":"m.text"},"ts":1418751545000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"source is here: https://github.com/webspecs/url/blob/develop/docs/url-problem-statement.xml","msgtype":"m.text"},"ts":1418751601000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Domenic: would the fetch API be streamable?","msgtype":"m.text"},"ts":1418751669000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"I've also updated https://url.spec.whatwg.org/interop/test-results/ and https://url.spec.whatwg.org/reference-implementation/liveview.html to match the fragment changes (https://www.w3.org/Bugs/Public/show_bug.cgi?id=27252)","msgtype":"m.text"},"ts":1418751670000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"terinjokes: yep, https://github.com/yutakahirano/fetch-with-streams/","msgtype":"m.text"},"ts":1418751685000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: looks like just a different body mixin then?","msgtype":"m.text"},"ts":1418751957000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"annevk: you may have missed to lines: see http://krijnhoetmer.nl/irc-logs/whatwg/20141216#l-745","msgtype":"m.text"},"ts":1418752210000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"two*","msgtype":"m.text"},"ts":1418752216000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"terinjokes: basically `fetch(url).then(res => res.body.pipeTo(writableStream))`","msgtype":"m.text"},"ts":1418752415000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"rubys: still says \"leaving out may of the topics in the IETF specifications\"","msgtype":"m.text"},"ts":1418752712000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think this has become one of my favorite W3C pages: http://www.w3.org/Policy.html","msgtype":"m.text"},"ts":1418752789000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"The definition of protocols such as HTTP and data formats such as HTML are in the public domain and may be freely used by anyone.\" Tim BL","msgtype":"m.text"},"ts":1418752804000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I really like http://www.w3.org/Tools/ too","msgtype":"m.text"},"ts":1418752834000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Aww, the good old days.","msgtype":"m.text"},"ts":1418752940000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: zapped.  (I *love* deleting text and/or code.  :-))","msgtype":"m.text"},"ts":1418753051000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"$ curl https://www.w3.org/Policy.html","msgtype":"m.text"},"ts":1418753351000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"<title>307 Temporary Redirect</title>","msgtype":"m.text"},"ts":1418753355000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"<p>The document has moved <a href=\"http://www.w3.org/Policy.html\">here</a>.</p>","msgtype":"m.text"},"ts":1418753358000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"hey everyone.","msgtype":"m.text"},"ts":1418756142000,"senderName":"skoller","senderId":"skoller@irc"},
{"content":{"body":"Domenic: so yeah, I'm hoping that starting Q1 we can all work together tightening up custom elements and then figure out how to approach shadow DOM in a way that doesn't really throw away a bunch of stuff, but does decouple its features a bit more","msgtype":"m.text"},"ts":1418756423000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: how far is HTML as custom elements?","msgtype":"m.text"},"ts":1418756449000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sounds awesome. HACE is going OK, but running into lots of missing primitives. Right now I've concluded we can faithfully emulate <div> and <blockquote>. (Not <span>, notably.)","msgtype":"m.text"},"ts":1418757128000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"??? Why not <span>?","msgtype":"m.text"},"ts":1418757170000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: custom elements are exposed as block-level to accessibility and automation technologies","msgtype":"m.text"},"ts":1418757216000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Oh, weird.","msgtype":"m.text"},"ts":1418757227000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hmm, subclassing HTMLElement is postponed yet again?","msgtype":"m.text"},"ts":1418757255000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TC39 :-(","msgtype":"m.text"},"ts":1418757260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So much for making custom elements play nice with that in some reasonable timeframe","msgtype":"m.text"},"ts":1418757276000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: that sounds like a bug somewhere","msgtype":"m.text"},"ts":1418757329000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: or is \"block-level\" something else than just CSS?","msgtype":"m.text"},"ts":1418757339000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: IA2_ROLE_SECTION for accessibility for example","msgtype":"m.text"},"ts":1418757362000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://github.com/domenic/html-as-custom-elements/blob/master/docs/accessibility.md","msgtype":"m.text"},"ts":1418757437000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'm forging ahead on <custom-a> though and it's working OK. Biggest missing thing is the DOMTokenList stuff :-/","msgtype":"m.text"},"ts":1418757521000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: heh, DOMTokenList is easy to fix once we have a design","msgtype":"m.text"},"ts":1418757954000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, just not sure how to get consensus on one, since it will involve either Blink/WebKit or Gecko changing their implementation for not-too-much gain.","msgtype":"m.text"},"ts":1418757998000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I wonder if the XHR spec covers this difference between Gecko and Blink: what happens to XHR if the host page is navigated away from: https://github.com/mailpile/Mailpile/issues/1134#issuecomment-66771873","msgtype":"m.text"},"ts":1418759260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"didn't read the spec yet","msgtype":"m.emote"},"ts":1418759267000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"failed to find an answer in the spec","msgtype":"m.emote"},"ts":1418759882000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Domenic: the Blink subclassing thread seems annoying for custom elements being done right in 2015","msgtype":"m.text"},"ts":1418759905000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: my biased perspective is that basically Yehuda and Dave Herman torpedo'd hopes of an actually-implementable subclassing solution two TC39 meetings ago and we're just trying to do something not future-hostile until the pieces can be picked back up.","msgtype":"m.text"},"ts":1418759953000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"hsivonen: the basic idea is that once the Document is killed its ongoing fetches are terminated (unless <img> / sendBeacon / ping=\"\")","msgtype":"m.text"},"ts":1418759958000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: your <a> implementation, it can't actually write to window.location.href and that doesn't seem to take into account target=\"\" or <base target>","msgtype":"m.text"},"ts":1418760534000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: target is TODO. Why can't it write to window.location.href?","msgtype":"m.text"},"ts":1418760558000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: what if the page overwrites window.location?","msgtype":"m.text"},"ts":1418760571000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: in general HACE as of right now is not safe against tampering users. But in all cases the answer is just \"store the appropriate value somewhere beforehand\"","msgtype":"m.text"},"ts":1418760595000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: full TODO https://github.com/domenic/html-as-custom-elements/issues/37","msgtype":"m.text"},"ts":1418760694000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"if the falafel is not to your liking","msgtype":"m.text"},"ts":1418762293000,"senderName":"caitp","senderId":"caitp@irc"}
]