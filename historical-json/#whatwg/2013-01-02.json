[
{"content":{"body":"I feel like BjÃ¶rn wrote that www-archive message for me...","msgtype":"m.text"},"ts":1357138109000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"pbarth: did you merry Adam?","msgtype":"m.text"},"ts":1357141827000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"marry, doh","msgtype":"m.text"},"ts":1357141839000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heycam|away: yt?","msgtype":"m.text"},"ts":1357146659000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heycam|away: can you default to a string literal in IDL?","msgtype":"m.text"},"ts":1357146674000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://dev.w3.org/2006/webapi/WebIDL/#prod-DefaultValue says yes","msgtype":"m.text"},"ts":1357146880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"[1000, -1, -2, Infinity, -Infinity, NaN].forEach(function(x) { try { document.createElement('select').options.add(document.createElement('option'), x); } catch (e) { console.log(x + \": \" + e); } })","msgtype":"m.text"},"ts":1357156463000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"FF17 throws on +/-Infinity. Chrome 23/Safari 6/IE10 throw on -2, +/-Infinity and NaN","msgtype":"m.text"},"ts":1357156514000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"Based on the HTML + WebIDL specs I wouldn't expect any of them to throw. :P","msgtype":"m.text"},"ts":1357156640000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"optional (HTMLElement or long)? before = null","msgtype":"m.text"},"ts":1357157274000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"I don't remember stuff fully to be confident, but I think that takes either an element, or any value (which will then be coerced to long)","msgtype":"m.text"},"ts":1357157315000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"so, yeah, not throwing at all I *think* might be spec-right","msgtype":"m.text"},"ts":1357157325000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"doesn't remember the option interface well enough to know what of these options is at all sane","msgtype":"m.emote"},"ts":1357157343000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: I noticed this futzing with the ES number-> IDL long conversion code.","msgtype":"m.text"},"ts":1357158149000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"unsurprising :-)","msgtype":"m.text"},"ts":1357158184000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Could toss an [EnforceRange] in the spec's IDL to get throwing behavior on non-finites, but dunno why FF distinguishes NaN, and throwing on < -1 would require prose anyway.","msgtype":"m.text"},"ts":1357158217000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"another fun thing to test is { valueOf: function() { return \"bazinga\"; } }","msgtype":"m.text"},"ts":1357158220000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"er, s/return/throw/","msgtype":"m.text"},"ts":1357158226000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"I haven't tried, but I bet incrementing a counter in valueOf would give inconsistent results as well.","msgtype":"m.text"},"ts":1357158323000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"undoubtedly :-)","msgtype":"m.text"},"ts":1357158366000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"tries reading Gecko variant code to figure out what causes that behavior, spends too much time following twisty passages, gives up","msgtype":"m.emote"},"ts":1357158831000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"we'll adhere to webidl requirements in semi-short order, I expect","msgtype":"m.text"},"ts":1357158858000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"doesn't know the timeline for this particular bit of code being converted, tho","msgtype":"m.emote"},"ts":1357158872000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jsbell: are you sure long accepts NaN?","msgtype":"m.text"},"ts":1357159476000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jsbell: that seems kinda unlikely","msgtype":"m.text"},"ts":1357159481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jsbell: don't mind me, I'm wrong :/","msgtype":"m.text"},"ts":1357159598000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jwalden: btw, Ms2ger explained why that algorithm was correct after all","msgtype":"m.text"},"ts":1357159719000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jwalden: the global named properties are on some prototype object","msgtype":"m.text"},"ts":1357159744000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"would have thought long == Int32, and ECMAScript conversions would use the ToInt32 operator","msgtype":"m.emote"},"ts":1357159787000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: so using the [[GetOwnProperty]] would get there eventually","msgtype":"m.text"},"ts":1357159790000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jwalden: yeah that's correct","msgtype":"m.text"},"ts":1357159800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if that's not the case, that's mildly surprising","msgtype":"m.text"},"ts":1357159801000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"in which case NaN would become 0 for your test, jsbell","msgtype":"m.text"},"ts":1357159827000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"it's ToInt32(ToNumber(V))","msgtype":"m.text"},"ts":1357159832000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ToNumber(NaN) => NaN, ToInt32(NaN) => 0","msgtype":"m.text"},"ts":1357159848000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"http://dev.w3.org/2006/webapi/WebIDL/#es-long (with some exceptions for extended attributes)","msgtype":"m.text"},"ts":1357159850000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for better or worse","msgtype":"m.text"},"ts":1357159853000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"but Infinity also becomes 0","msgtype":"m.text"},"ts":1357159874000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and Gecko throws for that...","msgtype":"m.text"},"ts":1357159882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Gecko","msgtype":"m.text"},"ts":1357159896000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1357159897000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Gecko's not using webidlish code right now, so all bets are off as to what it does :-)","msgtype":"m.text"},"ts":1357159912000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"at least, not for that particular interface/method/argument","msgtype":"m.text"},"ts":1357159920000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"fair enough","msgtype":"m.text"},"ts":1357159924000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"will be glad when non-webidl stuff is all dead","msgtype":"m.emote"},"ts":1357159945000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"yeah, then we can start fighting Web IDL","msgtype":"m.text"},"ts":1357160016000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or something like that :)","msgtype":"m.text"},"ts":1357160028000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I shouldn't be, but I'm continually amazed by how much of Gecko semantics is just \"that's what the random internal method that happened to be used, did\"","msgtype":"m.text"},"ts":1357160091000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"it seems kinda natural for any system that grows big, to have a lot of inconsistencies","msgtype":"m.text"},"ts":1357160144000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you get that even when there's one person developing the system for an extended period of time","msgtype":"m.text"},"ts":1357160171000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I dunno, I find algorithms are just that much worse to read, usually, if they're not isomorphic to the spec steps","msgtype":"m.text"},"ts":1357160257000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"which naturally leads me into writing helper methods like ToUint32 or whatever, where at least if they're wrong it's just a matter of changing guts","msgtype":"m.text"},"ts":1357160297000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"rather than having to change a hundred places all converting in different ways","msgtype":"m.text"},"ts":1357160323000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"meh, doesn't really matter at this point","msgtype":"m.text"},"ts":1357160333000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"well that certainly makes sense :)","msgtype":"m.text"},"ts":1357160344000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I meant more what came before the standard and to some extent the standards we're developing now; that they all have their inconsistencies","msgtype":"m.text"},"ts":1357160376000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"true enough","msgtype":"m.text"},"ts":1357160398000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: re: \"what the random internal method... did\" - and the resulting specs are such fun to implement, because you know that in some code base, somewhere, there's some trivial and probably very efficient implementation of what seems like an insanely baroque algorithm.","msgtype":"m.text"},"ts":1357161668000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"in my experience, usually the internal method is also insanely baroque and inefficient :-)","msgtype":"m.text"},"ts":1357161721000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"with special cases nobody's seriously thought through because some random page needed something","msgtype":"m.text"},"ts":1357161743000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Sure, kill my sense of hope... ;-)","msgtype":"m.text"},"ts":1357161745000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"even redundant special cases","msgtype":"m.text"},"ts":1357161751000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1357161753000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jsbell: not sure what specs you're reading, but I usually aim to simplify what the implementations did","msgtype":"m.text"},"ts":1357162146000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i have no idea what that mail on www-archive means","msgtype":"m.text"},"ts":1357162633000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, \"encodings suck\"","msgtype":"m.text"},"ts":1357162697000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"It's about BOM taking precedence over the encoding declaration and supposedly whether X-Content-Type-Options should influence that or not... And whether it's a good idea to begin with. Overall I took it as subtle critique of the Encoding Standard :-)","msgtype":"m.text"},"ts":1357162933000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sounds complicated","msgtype":"m.text"},"ts":1357163715000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Saw \"An error occurred submitting your review comment\" from the HTML spec. Maybe I typed too much, maybe there's a back-end issue.","msgtype":"m.text"},"ts":1357166380000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"looking...","msgtype":"m.text"},"ts":1357166444000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(did you save your comment text, perchance?)","msgtype":"m.text"},"ts":1357166450000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: it does not appear to have been cleared from the input field, so yes","msgtype":"m.text"},"ts":1357166491000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"i got back a \"Text Too Long\" from bugzilla","msgtype":"m.text"},"ts":1357166497000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thought i worked around that though","msgtype":"m.text"},"ts":1357166502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, i see","msgtype":"m.text"},"ts":1357166533000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let me fix this...","msgtype":"m.text"},"ts":1357166535000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jsbell: do you still have it up?","msgtype":"m.text"},"ts":1357166755000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jsbell: if so, try submitting again","msgtype":"m.text"},"ts":1357166760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"submittifying...","msgtype":"m.text"},"ts":1357166785000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"success!","msgtype":"m.text"},"ts":1357166788000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"sweet","msgtype":"m.text"},"ts":1357166813000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i really don't understand where these people are coming from who type in random things in that form","msgtype":"m.text"},"ts":1357166910000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"got one just now that's just an address","msgtype":"m.text"},"ts":1357166927000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why would you do that?","msgtype":"m.text"},"ts":1357166929000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"a bot reverse engineering the rules?","msgtype":"m.text"},"ts":1357167076000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"doesn't look like it","msgtype":"m.text"},"ts":1357167121000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"every one i've seen, they visit a few pages, then send a wacked comment","msgtype":"m.text"},"ts":1357167131000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe they're trying to do a search?","msgtype":"m.text"},"ts":1357167196000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and that's just what's got focus?","msgtype":"m.text"},"ts":1357167204000,"senderName":"Hixie","senderId":"Hixie@irc"}
]