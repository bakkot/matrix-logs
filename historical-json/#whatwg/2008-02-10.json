[
{"content":{"body":"Hmm, is html5.org dead?","msgtype":"m.text"},"ts":1202601780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://canvex.lazyilluminati.com/misc/insertion_modes.svg (red = error transition; blue = non-error reprocess-as-if transition; black = non-error permanent transition)","msgtype":"m.text"},"ts":1202601960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"with only a small number of known bugs in there","msgtype":"m.text"},"ts":1202601961000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i love anne's comment on <canvas>:","msgtype":"m.text"},"ts":1202601962000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"The section should be more clear what it means by image. ...\"","msgtype":"m.text"},"ts":1202602020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which section?","msgtype":"m.text"},"ts":1202602021000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's how the e-mail starts. which fricking section???","msgtype":"m.text"},"ts":1202602022000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"The canvas section? :-)","msgtype":"m.text"},"ts":1202602023000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that doesn't help much :-P","msgtype":"m.text"},"ts":1202602080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe he means 3.14.11.3. Security with canvas elements","msgtype":"m.text"},"ts":1202602081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think i must have fixed this comment already","msgtype":"m.text"},"ts":1202602082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe he means the origin section itself?","msgtype":"m.text"},"ts":1202602200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(Aha, html5.org is back, hence http://philip.html5.org/misc/insertion-modes.svg )","msgtype":"m.text"},"ts":1202602260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"safari fails at that image.","msgtype":"m.text"},"ts":1202602320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hat's red?","msgtype":"m.text"},"ts":1202602321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"parse error?","msgtype":"m.text"},"ts":1202602322000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how abotu blue?","msgtype":"m.text"},"ts":1202602323000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"red = error transition; blue = non-error reprocess-as-if transition; black = non-error permanent transition","msgtype":"m.text"},"ts":1202602324000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"brb, intermission shift.","msgtype":"m.text"},"ts":1202602380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: cool","msgtype":"m.text"},"ts":1202603520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: looks like you have some missing. e.g. EOF in a number of the main phase cases","msgtype":"m.text"},"ts":1202603580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in fact _BeforeHead has only one exiting arrow","msgtype":"m.text"},"ts":1202603581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which seems unlikely","msgtype":"m.text"},"ts":1202603582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"EOF doesn't explicitly transition to any insertion mode, which is why it isn't shown","msgtype":"m.text"},"ts":1202603640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah ok","msgtype":"m.text"},"ts":1202603641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It might do transitions while generating implied end tags, but those will be a subset of the transitions that are already shown","msgtype":"m.text"},"ts":1202603700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the transitions for a single character \"X\" seem wrong","msgtype":"m.text"},"ts":1202603701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"initial phase -> root element -> _beforehead -> ?","msgtype":"m.text"},"ts":1202603702000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"...and it might do transitions when acting as if there were new start/end tags","msgtype":"m.text"},"ts":1202603760000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"aaah","msgtype":"m.text"},"ts":1202603761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you should show those too :-)","msgtype":"m.text"},"ts":1202603762000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"In BeforeHead it does some internal magic (like pretending there's a <head>) and then performs the only possible transition to InHead","msgtype":"m.text"},"ts":1202603820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"makes sense","msgtype":"m.text"},"ts":1202603880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Duplicate the \"Start tag [head]\" arrow and call it \"Character not [...]\" etc for each act-as-if-a-start-tag-named-head bit?","msgtype":"m.text"},"ts":1202603881000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"or just put an asterisk next to the transitions that happen due to other cases","msgtype":"m.text"},"ts":1202604000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"labelled \"* Also happens due to other tokens\" or something","msgtype":"m.text"},"ts":1202604001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or \"* May be implied\"","msgtype":"m.text"},"ts":1202604002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://philip.html5.org/misc/insertion-modes-2.svg handles act-as-if-start-tag","msgtype":"m.text"},"ts":1202604240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hmm, stack overflow if I try it with end tags","msgtype":"m.text"},"ts":1202604360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"...because </p> can create a <p>, and <p> can create a </p>","msgtype":"m.text"},"ts":1202604540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(in body)","msgtype":"m.text"},"ts":1202604541000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1202604660000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://philip.html5.org/misc/insertion-modes-3.svg handles act-as-if-(start|end)-tag","msgtype":"m.text"},"ts":1202605140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and is getting a little ugly :-(","msgtype":"m.text"},"ts":1202605141000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(It's intentional that <noscript> isn't handled, because I haven't translated that bit yet)","msgtype":"m.text"},"ts":1202605200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i think my asterisk idea wins :-P","msgtype":"m.text"},"ts":1202605260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"found any errors in the spec yet? :-D","msgtype":"m.text"},"ts":1202605320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so the \"please don't dereference these http URIs\" post from the w3c made it to reddit","msgtype":"m.text"},"ts":1202605321000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"If I added asterisks, I'd have to add some way to delete duplicates, and that would require lines of code :-(","msgtype":"m.text"},"ts":1202605322000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I am amazed how many people support the concept of using http URIs as opaque identifiers not meant to be dereferenced","msgtype":"m.text"},"ts":1202605323000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i think we clearly should learn from this that using URIs for things that are opaque identifiers not meant to be dereferenced is dumb","msgtype":"m.text"},"ts":1202605324000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"barely a moment's thought given to whether that might be a dumb idea in the first place","msgtype":"m.text"},"ts":1202605325000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Philip`: heh","msgtype":"m.text"},"ts":1202605380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"You can just look at http://philip.html5.org/misc/insertion-modes.svg and imagine a \"..., or may be implied\" beside each transition","msgtype":"m.text"},"ts":1202605440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: There's a few things that don't entirely seem sensible in there (so I've sent mail to public-html), but I haven't tried looking hard for errors yet :-)","msgtype":"m.text"},"ts":1202605620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wants to create hundreds of thousands of test cases to see if all the parsers interoperate","msgtype":"m.emote"},"ts":1202605680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1202605740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"FWIW I'm quite firmly on the other side re: http URIs, in strong support of dereferenceable URLs (not a typo), e.g. for XMDP profiles.","msgtype":"m.text"},"ts":1202606220000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"a dereferencable URL for something meant to be dereferenced is fine","msgtype":"m.text"},"ts":1202606280000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but an allegedly opaque identifier starting with \"http:\" and having the format of a URL is just dumb","msgtype":"m.text"},"ts":1202606281000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"IMHO a URI using the \"http\" protocol implies dereferencability.","msgtype":"m.text"},"ts":1202606340000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"that's certainly how it seems to most people","msgtype":"m.text"},"ts":1202606460000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Any transfer protocol would be an odd choice for non-transfer, really","msgtype":"m.text"},"ts":1202606520000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"<html xmlns=\"data:,w3.org XHTML\"> - still a URI, still uses DNS for 'guaranteed' uniqueness and allows many distinct values for the same domain","msgtype":"m.text"},"ts":1202606640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"agreed Dashiva. Any URI using a transfer protocol implies dereferenceability, and specs SHOULD NOT discourage dereferenceability of such URIs.","msgtype":"m.text"},"ts":1202606641000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"in fact, one might even say that specs which use URIs MUST NOT place additional such restrictions on the URIs, as that would be a layer violation.","msgtype":"m.text"},"ts":1202606700000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"will <video> work well for streaming formats?","msgtype":"m.text"},"ts":1202615880000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"such as real-time porn cams","msgtype":"m.text"},"ts":1202615881000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"the idea of using URIs as identifiers rather than locators ignores the main affordance of URIs","msgtype":"m.text"},"ts":1202634540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"in that sense, we should have stayed with URLs and the URI thing was a mistake","msgtype":"m.text"},"ts":1202634600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`, is your parser faster than the Java parser?","msgtype":"m.text"},"ts":1202646960000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: My C++ tokeniser was faster than the Java tokeniser (at least in the particular case that I was testing)","msgtype":"m.text"},"ts":1202647020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"you haven't converted the OCaml parser to C++ yet?","msgtype":"m.text"},"ts":1202647080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"No, and the tree constructor part doesn't quite work in OCaml yet either","msgtype":"m.text"},"ts":1202647200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1202647380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://www.sitepoint.com/forums/showthread.php?t=531009","msgtype":"m.text"},"ts":1202651520000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"just testing postMessage http://ejohn.org/apps/message/ ","msgtype":"m.emote"},"ts":1202655660000,"senderName":"met_","senderId":"met_@irc"},
{"content":{"body":"the spec gen truly is bizarre.","msgtype":"m.text"},"ts":1202655661000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"anyone knows why it doesn't work in opera?","msgtype":"m.text"},"ts":1202655662000,"senderName":"met_","senderId":"met_@irc"},
{"content":{"body":"thougt Opera implemented postMessage already","msgtype":"m.emote"},"ts":1202655663000,"senderName":"met_","senderId":"met_@irc"},
{"content":{"body":"Opera implemented it on document instead of window","msgtype":"m.text"},"ts":1202655840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1202655841000,"senderName":"met_","senderId":"met_@irc"},
{"content":{"body":"(this is changing)","msgtype":"m.text"},"ts":1202655842000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, I  have missed thaht","msgtype":"m.text"},"ts":1202655843000,"senderName":"met_","senderId":"met_@irc"},
{"content":{"body":"Hixie: playing around with various concepts I have for implementing the spec-gen clone, it's gonna be quick. really quick.","msgtype":"m.text"},"ts":1202656560000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(and by playing around I mean playing around with a DOM tree of the HTML 5 spec, so a really large doc)","msgtype":"m.text"},"ts":1202656561000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie, in http://lists.w3.org/Archives/Public/www-archive/2008Jan/0078.html you said you changed test 43 but it seems that you did not do that","msgtype":"m.text"},"ts":1202659080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: as far as i can tell i did; what's not fixed?","msgtype":"m.text"},"ts":1202671380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hmm... Opera has a feature to import bookmarks from Firefox","msgtype":"m.text"},"ts":1202671620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Firefox 3 stores bookmarks in an SQLite database","msgtype":"m.text"},"ts":1202671680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hence, Opera will have to include SQLite so that it can continue to import from Firefox","msgtype":"m.text"},"ts":1202671681000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"can't say he blames FF people for using something like SQLite.","msgtype":"m.emote"},"ts":1202671682000,"senderName":"D2xSadEagle","senderId":"D2xSadEagle@irc"},
{"content":{"body":"though don't they always run only one process? Cheaters :p","msgtype":"m.text"},"ts":1202671683000,"senderName":"D2xSadEagle","senderId":"D2xSadEagle@irc"},
{"content":{"body":"Since it already has to pay the code-size and integration cost of SQLite, it will cost approximately nothing extra to support client-side database storage in a way that's compatible with Firefox","msgtype":"m.text"},"ts":1202671740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"And so the world will be happy and interoperable, which is good","msgtype":"m.text"},"ts":1202671741000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it frightens me that Julian is arguing that servers don't assume that a missing Referer means that the request should be allowed","msgtype":"m.text"},"ts":1202671800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(And any other browser that wants to attract Firefox users will have to offer a similar import feature, and so will have to have SQLite too)","msgtype":"m.text"},"ts":1202671801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Well, that all assumes FF3 will be released before DNF :)","msgtype":"m.text"},"ts":1202671860000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"wonders how to respond to someone who has such a feeble grasp of the realities of deployed content","msgtype":"m.emote"},"ts":1202671920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: If they do assume that, it should be easy to give some examples of open source code with that assumption","msgtype":"m.text"},"ts":1202671980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"It seems the much more common situation (mainly to avoid image hot-linking) is for servers to assume a non-missing different-origin Referer means the request should be denied","msgtype":"m.text"},"ts":1202672040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(which isn't the same as assuming a missing Referer means the request should be trusted)","msgtype":"m.text"},"ts":1202672041000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1202672100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(because nothing particularly bad happens when someone hot-links an image and 1% of users don't send Referer and therefore don't get redirected to a rude message)","msgtype":"m.text"},"ts":1202672101000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"feel free to point him to code doing this if you know of any","msgtype":"m.text"},"ts":1202672160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't know of any","msgtype":"m.text"},"ts":1202672161000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah me either","msgtype":"m.text"},"ts":1202672162000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i just know it's very common :-)","msgtype":"m.text"},"ts":1202672163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"You're the one arguing that servers do make assumptions :-p","msgtype":"m.text"},"ts":1202672164000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"b.m.o at least used to block slashdot referers but allows no referer","msgtype":"m.text"},"ts":1202672220000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and arguing without evidence is not very convincing :-)","msgtype":"m.text"},"ts":1202672221000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"What does Apache do by default?","msgtype":"m.text"},"ts":1202672222000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"webben: just logs the referer","msgtype":"m.text"},"ts":1202672223000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"IIS?","msgtype":"m.text"},"ts":1202672280000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"Philip`: indeed","msgtype":"m.text"},"ts":1202672281000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: My image leech prevention script assumes a missing referer is local","msgtype":"m.text"},"ts":1202672282000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"guess i'll have to do more research","msgtype":"m.text"},"ts":1202672283000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It's not open source, though","msgtype":"m.text"},"ts":1202672284000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"time to go to the rehearsal though","msgtype":"m.text"},"ts":1202672340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbl","msgtype":"m.text"},"ts":1202672341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: b.m.o isn't blocking certain referrers in order to avoid CSRF, so it's not really relevant to the argument about no-referrer pings being bad for security","msgtype":"m.text"},"ts":1202672342000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and the same for all the image leech prevention scripts","msgtype":"m.text"},"ts":1202672343000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: using Referer for security purposes seems like a very brittle and RFC 2616-incompliant idea to me","msgtype":"m.text"},"ts":1202672400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: If we assumed people were sensible, then that would mean people wouldn't use Referer for security purposes, and so there's no danger in sending pings with no Referer","msgtype":"m.text"},"ts":1202672460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"which one of Julian's messages are we talking about?","msgtype":"m.text"},"ts":1202672520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I think the first paragraph of http://lists.w3.org/Archives/Public/public-html/2008Feb/0164.html","msgtype":"m.text"},"ts":1202672521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://google.com/codesearch?q=show:J2QBLfV3jjo:NRV5Vj3R4SI:1curwdNzfbk&cs_p=ftp://t3domains.de/pub/TYPO3-complete-package/current-version/yamlt3-V4.5.0.zip&cs_f=yamlt3/typo3/sysext/cms/tslib/class.tslib_fe.php#l2106","msgtype":"m.text"},"ts":1202672940000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hmm. using Referer as an anti-CSRF mechanism still seems like a very bad idea unless it is merely used as an optimization in a mechanism that actuallly works","msgtype":"m.text"},"ts":1202672941000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"That's something that prevents email form submission if the Referer is wrong or missing","msgtype":"m.text"},"ts":1202672942000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: lucky for them, fx3 exports its bookmarks to an html file on shutdown ;)","msgtype":"m.text"},"ts":1202673180000,"senderName":"tndH","senderId":"tndH@irc"},
{"content":{"body":"http://google.com/codesearch?q=show:H3ulLINfCo0:QkWYPi2-xVM:o8NYFfBdVkY&cs_p=http://freshmeat.net/redir/punbb/46741/url_tgz/punbb-1.2.15.tar.gz&cs_f=punbb-1.2.15/upload/include/functions.php#l671","msgtype":"m.text"},"ts":1202673300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"That also prevents things if Referer is wrong or missing","msgtype":"m.text"},"ts":1202673301000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://google.com/codesearch?q=show:BILmTBaOV7w:J2LE5gqHQ64:eBTzqE7cT8s&cs_p=http://wphooks.flatearth.org&cs_f=hooks/check_admin_referer/-001#first","msgtype":"m.text"},"ts":1202673600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"There's another one","msgtype":"m.text"},"ts":1202673601000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"So I still haven't seen one that thinks missing referer means the request can be trusted...","msgtype":"m.text"},"ts":1202673602000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"tndH: Oh :-(","msgtype":"m.text"},"ts":1202673780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://google.com/codesearch?q=show:cFRMv4O2bGI:eriQ8VkTUd4:dQQ6OTNA-Bs&cs_p=https://svn.radicaldesigns.org/amp/trunk&cs_f=punbb/admin_options.php#l41","msgtype":"m.text"},"ts":1202673840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"That also rejects missing referer","msgtype":"m.text"},"ts":1202673841000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://google.com/codesearch?q=show:2v0x4p249hg:NM4BWguMEFY:lqNJFi-SHlc&cs_p=http://scoop.kuro5hin.org/dist/releases/scoop_1.1.7.tar.gz&cs_f=scoop-1.1.7/lib/Scoop/Admin.pm#l8","msgtype":"m.text"},"ts":1202673960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://google.com/codesearch?q=show:aVoQhiwqoGk:-V6ZnWGm9lc:vBMeJnZMb1M&cs_p=http://www.dcscripts.com/localFTP/gdcf625.tar.gz&cs_f=./dcf625/cgi-bin/dcforum/dcboard.cgi#l344","msgtype":"m.text"},"ts":1202674320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gives up looking","msgtype":"m.emote"},"ts":1202674380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"So, I still don't have any evidence that sending requests with a missing Referer is going to introduce security issues in existing software","msgtype":"m.text"},"ts":1202674381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(though obviously I also don't have any evidence that it isn't)","msgtype":"m.text"},"ts":1202674440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: Do you know of some specific anti-CSRF mechanisms that do work?","msgtype":"m.text"},"ts":1202674620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"is currently unable to think of any","msgtype":"m.emote"},"ts":1202674680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cscript%3Evar%20xhr%3Dnew%20XMLHttpRequest()%3Bxhr.open(%27GET%27%2C%20%27https%3A%2F%2Fmail.google.com%2Fmail%2F%3Flogout%26hl%3Den-GB%27)%3Bxhr.send(null)%3C%2Fscript%3E","msgtype":"m.text"},"ts":1202674860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"In Firefox 3, that doesn't work very happily","msgtype":"m.text"},"ts":1202674861000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"presumably because of the Access-Control stuff introducing new CSRF vulnerabilities","msgtype":"m.text"},"ts":1202674920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"annevk: Is that a known problem or a bug in Firefox or something?","msgtype":"m.text"},"ts":1202674980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, maybe not","msgtype":"m.text"},"ts":1202675100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"It's not anything new, because <script src=\"https://mail.google.com/mail/?logout&hl=en-GB\"></script> has the same effect","msgtype":"m.text"},"ts":1202675101000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Is it a bug in Gmail, or is the web just fundamentally broken?","msgtype":"m.text"},"ts":1202675102000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: apparently some people use transitional because the software they use emit stuff that only validates as transitional","msgtype":"m.text"},"ts":1202675103000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hsivonen: and so it might be worth to look into the default templates of popular CMSs and blogs and which errors they get when validating as html5","msgtype":"m.text"},"ts":1202675220000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"(but i guess the results would be pretty much the same as what you've already got)","msgtype":"m.text"},"ts":1202675221000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: good idea","msgtype":"m.text"},"ts":1202675222000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan_: altough the generated stuff in CMSs is harder to change than the templates, so it would be even more interesting to isolate the template parts somehow","msgtype":"m.text"},"ts":1202675280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1202675340000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I see <a name> and target=_blank in what I think is the Blogger default","msgtype":"m.text"},"ts":1202675640000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"additionally, the blogger navbar has every presentational iframe attribute","msgtype":"m.text"},"ts":1202675700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"SMF and WordPress both output target=\"_blank\".\" -- http://www.sitepoint.com/forums/showthread.php?p=3718885","msgtype":"m.text"},"ts":1202675701000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"what's SMF?","msgtype":"m.text"},"ts":1202675760000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"probably http://www.simplemachines.org/","msgtype":"m.text"},"ts":1202675761000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"never heard","msgtype":"m.text"},"ts":1202675762000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i hadn't, either","msgtype":"m.text"},"ts":1202675820000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"SMF seems to be fairly popular","msgtype":"m.text"},"ts":1202675821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"https://labs.mozilla.com/forum/ uses it","msgtype":"m.text"},"ts":1202675822000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Can't validate that one with Validator.nu","msgtype":"m.text"},"ts":1202676000000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the SSL cert is not supported by Sun JDK","msgtype":"m.text"},"ts":1202676001000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://html5.validator.nu/?doc=http%3A%2F%2Fwww.simplemachines.org%2Fcommunity%2Findex.php looks unhappy","msgtype":"m.text"},"ts":1202676120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"zcorpan_: WordPress default has profile at least: http://html5.validator.nu/?doc=http%3A%2F%2Fthemes.wordpress.net%2Ftestrun%2F","msgtype":"m.text"},"ts":1202676121000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and http://html5.validator.nu/?doc=http://www.cyberscoreforums.com/ (SMF 1.x, whereas the other one was 2.x) looks similar","msgtype":"m.text"},"ts":1202676180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah. language=\"JavaScript\" all over the place","msgtype":"m.text"},"ts":1202676181000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Sun's certificate management docs aren't as obvious as I'd like :-(","msgtype":"m.text"},"ts":1202676600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder if there's a way to ask HttpClient to accept any cert and only use TLS for encryption--not for verifying the idintity of the other party","msgtype":"m.text"},"ts":1202676780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"<link rel=\"help\" href=\"http://www.cyberscoreforums.com/index.php?action=help\" target=\"_blank\" /> (from cyberscoreforums.com)","msgtype":"m.text"},"ts":1202676781000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"wonder if we should allow <img with=0 height=0>","msgtype":"m.text"},"ts":1202679120000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1202679121000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"width","msgtype":"m.text"},"ts":1202679122000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Philip`, Google doing actions on the user's behalf based on a GET request seems to be broken","msgtype":"m.text"},"ts":1202679420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: seeming you said you'd explain to me anything I didn't get from the DOM specs, what does compareDocumentPosition() return?","msgtype":"m.text"},"ts":1202679600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I suppose doing actions on a POST request would be broken too, because anyone could set up a form and submit it via JS","msgtype":"m.text"},"ts":1202679601000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so it's basically impossible to safely allow actions","msgtype":"m.text"},"ts":1202679660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: it's an untranslatable string of curses in the direction of whoever thought up of this function","msgtype":"m.text"},"ts":1202679661000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1202679662000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: check out some stuff in http rfc about pipelining and idempotency, for extra fun.","msgtype":"m.text"},"ts":1202679663000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"at a really basic level, how can I tell if something occurs before something else?","msgtype":"m.text"},"ts":1202679664000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1202679720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"though not all browsers might support it","msgtype":"m.text"},"ts":1202679721000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also, iirc it returns an integer that maps to some constant","msgtype":"m.text"},"ts":1202679780000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh yuk.","msgtype":"m.text"},"ts":1202679781000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hmm, it's actually not so expensive to implement as I first thought.","msgtype":"m.text"},"ts":1202679782000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"the usual solution to ajax api is to trust the browser to not leak cookies outside SOP and use the cookie secret for authenticating requests by adding the secret as a var to the post req","msgtype":"m.text"},"ts":1202679783000,"senderName":"kig","senderId":"kig@irc"},
{"content":{"body":"gsnedders: this seems to explain it: http://www.quirksmode.org/blog/archives/2006/01/contains_for_mo.html","msgtype":"m.text"},"ts":1202679784000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"SadEagle: thx","msgtype":"m.text"},"ts":1202679840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"s/usual/what i've been using/","msgtype":"m.text"},"ts":1202679841000,"senderName":"kig","senderId":"kig@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1202679900000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"there is a separate section in DOM3 core explaining it too, just search for DocumentPosition... For some reason the method specs don't refer to it..","msgtype":"m.text"},"ts":1202679901000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"that'll be why I didn't find it.","msgtype":"m.text"},"ts":1202679960000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"loves DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC","msgtype":"m.emote"},"ts":1202679961000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"yeah, I just noticed that","msgtype":"m.text"},"ts":1202679962000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"kig: Hmm, that sounds quite reasonable","msgtype":"m.text"},"ts":1202679963000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"SadEagle: sadly, too often order isn't defined in DOM","msgtype":"m.text"},"ts":1202679964000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"they have a disconnected flag, though","msgtype":"m.text"},"ts":1202680080000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"wow, someone should clean that up and remove that constant","msgtype":"m.text"},"ts":1202680081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"DOM5!","msgtype":"m.text"},"ts":1202680140000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"next year of school will suck. No longer in Secondary 5 :(","msgtype":"m.text"},"ts":1202680141000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"dom5 core is on my list of things to do...","msgtype":"m.text"},"ts":1202680260000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Hixie, \"input2.setAttribute(\"checked\", \"checked\"); // sets defaultChecked, doesn't change actual state\" does change the state in deployed browsers","msgtype":"m.text"},"ts":1202680261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan_: you can use me a test subject as someone who doesn't know much about DOM :P","msgtype":"m.text"},"ts":1202680262000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: i don't follow","msgtype":"m.text"},"ts":1202680320000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: To make sure DOM5 Core actually makes sense to those who don't know much about DOM","msgtype":"m.text"},"ts":1202680380000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: ah","msgtype":"m.text"},"ts":1202680381000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"gsnedders: not sure that should be a goal though","msgtype":"m.text"},"ts":1202680382000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"gsnedders: coincidentally, DOM* Core is probably the best-specified part of DOM.","msgtype":"m.text"},"ts":1202680383000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"SadEagle: I'm aware.","msgtype":"m.text"},"ts":1202680440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: oh, in the radio button tests. i thought you were talking about the checkbox tests.","msgtype":"m.text"},"ts":1202680441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wonders whether someone will be tackling saneification of DOM2 HTML... I guess some parts of WF2 overlap, though.","msgtype":"m.emote"},"ts":1202680500000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"SadEagle: HTML 5 is, AFAIK","msgtype":"m.text"},"ts":1202680501000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1202680502000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"poor Hixie :-)","msgtype":"m.text"},"ts":1202680503000,"senderName":"SadEagle","senderId":"SadEagle@irc"},
{"content":{"body":"annevk: wow, that's a big bug in the spec. i'd better make sure i fix that in html5.","msgtype":"m.text"},"ts":1202680620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i doubt that's possible","msgtype":"m.text"},"ts":1202680680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"HTML5 fixed most of DOM2 HTML","msgtype":"m.text"},"ts":1202680740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i mean a big bug in the dom2 html spec","msgtype":"m.text"},"ts":1202680741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1202680800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i haven't checked wf2","msgtype":"m.text"},"ts":1202680801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mails himself","msgtype":"m.emote"},"ts":1202680802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: k, fixed the test","msgtype":"m.text"},"ts":1202681220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how can input1 still be checked?","msgtype":"m.text"},"ts":1202681340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":".defaultChecked is exactly equivalent to setAttribute(\"checked\", \"checked\") ...","msgtype":"m.text"},"ts":1202681400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or did you change other things, too?","msgtype":"m.text"},"ts":1202681401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wait i thought you said that setting setAttribute(\"checked\", \"checked\") was specifically _not_ equivalent to setting defaultChecked?","msgtype":"m.text"},"ts":1202681460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so you're saying that setting defaultChecked also changes checked???","msgtype":"m.text"},"ts":1202681461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1202681520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sorry for not being more specific initially","msgtype":"m.text"},"ts":1202681521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe I'm wrong","msgtype":"m.text"},"ts":1202681580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Wouldn't it be nice if there was a website that would screenshot a given page in IE6+7, FF2+3, Safari2+3 and Opera9.2+9.5 and display the results?","msgtype":"m.text"},"ts":1202681760000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"puts it back to what it used to be","msgtype":"m.emote"},"ts":1202681761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Dashiva: there is","msgtype":"m.text"},"ts":1202681762000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"really?","msgtype":"m.text"},"ts":1202681763000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"And not a paid service?","msgtype":"m.text"},"ts":1202681764000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1202681765000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i forget the url","msgtype":"m.text"},"ts":1202681766000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but there are some","msgtype":"m.text"},"ts":1202681767000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hmm... guess it's google time","msgtype":"m.text"},"ts":1202681768000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3Ex%3Cinput%20name%3Dradio%20type%3Dradio%3E%3Cinput%20name%3Dradio%20type%3Dradio%3E%3Cscript%3Evar%20i%20%3D%20document.getElementsByTagName(%22input%22)%3B%20i[0].defaultChecked%20%3D%20true%3B%20i[1].defaultChecked%20%3D%20true%20%3C%2Fscript%3E","msgtype":"m.text"},"ts":1202681820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Firefox seems inconsistent","msgtype":"m.text"},"ts":1202681821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well i've put it back to what the spec says","msgtype":"m.text"},"ts":1202681880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but given how inconsistent Firefox is I'm not sure we can fix it","msgtype":"m.text"},"ts":1202681881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Dashiva: http://browsershots.org/ ?","msgtype":"m.text"},"ts":1202682120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah, looking at that now","msgtype":"m.text"},"ts":1202682121000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Hixie, because of \"iframe { float: left; height: 0; width: 0; }\" some of the media query tests are invalid","msgtype":"m.text"},"ts":1202683380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"specifically, y1, y2, y3, and y4 will not function as expected","msgtype":"m.text"},"ts":1202683381000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(if I uncomment that CSS line the media query tests pass in Opera as expected)","msgtype":"m.text"},"ts":1202683382000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh the media queries depend on the iframe dimensions?","msgtype":"m.text"},"ts":1202683560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"y1, y2, y3, y4 test the width and height media features","msgtype":"m.text"},"ts":1202683620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1202683621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i didn't realise that those heights and widths were the viewport dimensions","msgtype":"m.text"},"ts":1202683622000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"of the inner viewport","msgtype":"m.text"},"ts":1202683623000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they are","msgtype":"m.text"},"ts":1202683680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but indeed it is","msgtype":"m.text"},"ts":1202683681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you could change them to min-device-width etc. I suppose","msgtype":"m.text"},"ts":1202683682000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fixed","msgtype":"m.text"},"ts":1202683683000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there, let me know if that works","msgtype":"m.text"},"ts":1202683800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that works, but you should update the comment to say that the tests assume a 0x0 window","msgtype":"m.text"},"ts":1202683801000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"// the next four assume that the window is bigger than 1em by 1em at the time the test is run\"","msgtype":"m.text"},"ts":1202683802000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fixed","msgtype":"m.text"},"ts":1202683860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"great","msgtype":"m.text"},"ts":1202683861000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that broke safari","msgtype":"m.text"},"ts":1202683920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bonus points","msgtype":"m.text"},"ts":1202683921000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":";)","msgtype":"m.text"},"ts":1202683922000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"this may be old news. graphviz over canvas: http://www.ryandesign.com/canviz/","msgtype":"m.text"},"ts":1202684040000,"senderName":"salty-horse","senderId":"salty-horse@irc"},
{"content":{"body":"hadn't seen that before","msgtype":"m.emote"},"ts":1202684160000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Looks like it works well :-)","msgtype":"m.text"},"ts":1202684161000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Is it possible for someone to enter their own dot files?","msgtype":"m.text"},"ts":1202684220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I just saw this link on graphviz.org :)","msgtype":"m.text"},"ts":1202684280000,"senderName":"salty-horse","senderId":"salty-horse@irc"},
{"content":{"body":"fails to find any information about it other than https://mailman.research.att.com/pipermail/graphviz-interest/2007q3/004709.html","msgtype":"m.emote"},"ts":1202684580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: you've tested <canvas> the most, do you know if it's the case today that all <canvas> implementations create backing stores the same dimensions as the coordinate space?","msgtype":"m.text"},"ts":1202684700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`, since the graphviz xdot output parsing is on the client-side, you already have all of the source code :)","msgtype":"m.text"},"ts":1202684820000,"senderName":"salty-horse","senderId":"salty-horse@irc"},
{"content":{"body":"Hixie: I think WebKit might use a different scale if you some secret hidden OS X feature to change the UI scaling factor or something like that, but I've never tried that myself","msgtype":"m.text"},"ts":1202684880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/ / use /","msgtype":"m.text"},"ts":1202684881000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but other than that, they all just use the coordinate space?","msgtype":"m.text"},"ts":1202684882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so if i have <canvas height=1 width=1> and  canvas { height: 100%; width: 100%; }  they all screw it up?","msgtype":"m.text"},"ts":1202684940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Firefox and Opera \"do\"","msgtype":"m.text"},"ts":1202684941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The internal buffer is always independent of the size rendered on the screen","msgtype":"m.text"},"ts":1202685000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"although in that case it's debatable what should happen as CSS stuff is just resizing after all the <canvas> stuff happened","msgtype":"m.text"},"ts":1202685001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It wouldn't really make sense otherwise, given that you can change the rendered size easily","msgtype":"m.text"},"ts":1202685002000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i'm not saying the css stuff should control the buffer size","msgtype":"m.text"},"ts":1202685003000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(like by resizing the window if it's width:100%)","msgtype":"m.text"},"ts":1202685004000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i'm just asking if that would always make a 1x1 buffer","msgtype":"m.text"},"ts":1202685005000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think in WebKit it would be (1*UI scaling factor)x(1*UI scaling factor), where UI scaling factor = 1 unless you're using developer tools to change it","msgtype":"m.text"},"ts":1202685060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1202685120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(but I could be wrong :-) )","msgtype":"m.text"},"ts":1202685121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that seems sad","msgtype":"m.text"},"ts":1202685122000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we're always 1:1","msgtype":"m.text"},"ts":1202685123000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"Why?","msgtype":"m.text"},"ts":1202685124000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"changing that would be pretty easy, but someone has to think about dynamic DPI changes","msgtype":"m.text"},"ts":1202685180000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"s/^/Hixie: /","msgtype":"m.text"},"ts":1202685181000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: because it means that i can't pick a convenient coordinate space","msgtype":"m.text"},"ts":1202685240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Not quite sure what you mean","msgtype":"m.text"},"ts":1202685300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: i have to think about what my biggest likely rendering size (in terms of css pixels) will be","msgtype":"m.text"},"ts":1202685301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"instead of just saying \"well i'll just work in the range 0..1\"","msgtype":"m.text"},"ts":1202685302000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ctx.scale(canvas.width, canvas.height) would let you work in the range 0..1","msgtype":"m.text"},"ts":1202685360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1202685361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: someone has to think about that. The browser can't really know.","msgtype":"m.text"},"ts":1202685420000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"the browser could just use big abcking stores","msgtype":"m.text"},"ts":1202685421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if it didn't care about performance","msgtype":"m.text"},"ts":1202685480000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1202685481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it turns out we do care about performance","msgtype":"m.text"},"ts":1202685482000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"that's a tradeoff each browser vendor can make","msgtype":"m.text"},"ts":1202685483000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if the author wants hires they should just use a huge <canvas>","msgtype":"m.text"},"ts":1202685484000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"imo","msgtype":"m.text"},"ts":1202685485000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it's useful to be able to get information from authors. Some authors care about performance too","msgtype":"m.text"},"ts":1202685486000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"and then scale using CSS","msgtype":"m.text"},"ts":1202685540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Do any authors not care about performance?","msgtype":"m.text"},"ts":1202685541000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"<canvas> is always going to be slow, because people want hi-res full-screen canvases with millions of pixels, so performance is unlikely to ever become irrelevant","msgtype":"m.text"},"ts":1202685600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"likes to think of <canvas> as dynamic <img>, where you just say it's got w*h pixels and you can stick colour values in them, and tries not to think of <img src=x.svg> which breaks that model","msgtype":"m.emote"},"ts":1202685780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and anything more complex makes my head hurt","msgtype":"m.text"},"ts":1202685840000,"senderName":"Philip`","senderId":"Philip`@irc"}
]