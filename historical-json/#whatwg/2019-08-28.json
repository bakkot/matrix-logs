[
{"content":{"body":"Can someone in WHATWG, W3, the IETF define the *semantics*, and not just the grammar, of application/x-www-form-urlencoded in a real standard like an RFC or something? Like, are \"k\" and \"k=\" semantically equivalent? Can we all agree that either dupes are silly, or at least, if we are having them, the last arg takes precendence? The ambiguity such a critical format has is astonishing.","msgtype":"m.text"},"ts":1566969611000,"senderName":"royiv","senderId":"royiv@irc"},
{"content":{"body":"I think at least WHATWG says \"k\" and \"k=\" are equivalent.","msgtype":"m.text"},"ts":1566969624000,"senderName":"royiv","senderId":"royiv@irc"},
{"content":{"body":"royiv: if the URL Standard is unclear somehow, please file an issue, but sounds like it’s clear enough","msgtype":"m.text"},"ts":1566972149000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Per spec, does the concept of a \"Document\" exist when something like an image resource is navigated to and displayed?","msgtype":"m.text"},"ts":1566981735000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Specifically what I'm getting at is: Could a link rel=stylesheet header be used to style an image or JSON resource in any way? (Since we of course couldn't include a rel=stylesheet in our HTML, since there is no HTML)","msgtype":"m.text"},"ts":1566981848000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Yep","msgtype":"m.text"},"ts":1566982258000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#read-media","msgtype":"m.text"},"ts":1566982277000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"You could put an image in an iframe and then dynamically a link element, if I'm not mistaken","msgtype":"m.text"},"ts":1566982328000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Indeed, use an <iframe> and contentDocument it","msgtype":"m.text"},"ts":1566984864000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: yt? Mind if I push some changes to your XPath branch?","msgtype":"m.text"},"ts":1566989971000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tehres an XPath branch?","msgtype":"m.text"},"ts":1566990643000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah, DOM","msgtype":"m.text"},"ts":1566990666000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: not at all, go ahead","msgtype":"m.text"},"ts":1566990764000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Does the Web Platform have a built-in way to convert between JS Strings and Uint16Array?","msgtype":"m.text"},"ts":1566993131000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I don't think so","msgtype":"m.text"},"ts":1566993171000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks","msgtype":"m.text"},"ts":1566993179000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder how Qt on Wasm deals with this","msgtype":"m.text"},"ts":1566993271000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Uint16Array.from(str) allocates something of the right size, but you need more to get the values out it seems","msgtype":"m.text"},"ts":1566993364000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: I'd ask fitzgen","msgtype":"m.text"},"ts":1566993492000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks. I guess the answer to how Qt deals with this is in the Qt source code","msgtype":"m.text"},"ts":1566993568000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Shouldn't there be a way to view a JS string as a Uint16Array?","msgtype":"m.text"},"ts":1566996638000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Without allocating anything I mean.","msgtype":"m.text"},"ts":1566996643000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: maybe, there's been some talk about a StringView thingy","msgtype":"m.text"},"ts":1566996683000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: not possible in cases where the backing storage isn't actually UTF-16","msgtype":"m.text"},"ts":1566996699000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Oh right, silly me.","msgtype":"m.text"},"ts":1566996709000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Not the most efficient solution, but.....    Array.prototype.reduce.call(SOME UINT16ARRAY, (str, cc) => str + String.fromCharCode(cc), \"\");","msgtype":"m.text"},"ts":1566997692000,"senderName":"oskarlh","senderId":"oskarlh@irc"},
{"content":{"body":"and new Uint16Array((function *() { for(let i = 0; i !== str.length; ++i) { yield str.charCodeAt(i); } })())","msgtype":"m.text"},"ts":1566997742000,"senderName":"oskarlh","senderId":"oskarlh@irc"},
{"content":{"body":"hsivonen: we should have a way to be able to get a JS string as a Uint16Array where impls don't have to copy the string if it's already a contiguous UTF-16 array","msgtype":"m.text"},"ts":1566997799000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"s/should/should at least/","msgtype":"m.text"},"ts":1566997825000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: can Uint16Array be read-only?","msgtype":"m.text"},"ts":1566997893000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm, maybe not","msgtype":"m.text"},"ts":1566997980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"And I don't know how useful being able to do zero-copy would be even if there was, given idk how often you'd end up wanting to copy strings represented as a rope…","msgtype":"m.text"},"ts":1566998026000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I expect Wasm bindings to need a way to get the string written into a caller-supplied Uint16Array instead of creating a new one","msgtype":"m.text"},"ts":1566998890000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"But I guess I should find the relevant Qt bits before speculating about use cases","msgtype":"m.text"},"ts":1566998932000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(the ex-Opera employee in me wants to all be like, \"but what about Big Endian implementations?!\"","msgtype":"m.text"},"ts":1566998987000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":")","msgtype":"m.text"},"ts":1566998990000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Does TenFourFox have little-endian Web-visible ArrayBuffer semantics by now?","msgtype":"m.text"},"ts":1566999046000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"The next Debian release will drop big-endian MIPS as an official platform, so s390x will be the only remaining big-endian architecture with an official Debian release","msgtype":"m.text"},"ts":1566999119000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"There are ways to replace the document object while keeping the same window, right?","msgtype":"m.text"},"ts":1567001937000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: initial about:blank","msgtype":"m.text"},"ts":1567002047000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: i.e., when navigating away from it?","msgtype":"m.text"},"ts":1567002245000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Sorry, I'm far too far away from remembering how document loading works!)","msgtype":"m.text"},"ts":1567002326000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: yeah, sorry","msgtype":"m.text"},"ts":1567002637000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: but only if it's same-origin with the initial about:blank and there might be differences across UAs","msgtype":"m.text"},"ts":1567002659000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic, bikeshed update fetches from bikeshed-data, which is broken: https://github.com/tabatkins/bikeshed-data/issues/3","msgtype":"m.text"},"ts":1567005413000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Oh I see","msgtype":"m.text"},"ts":1567005425000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah I guess the web interface uses a different set of data :-/","msgtype":"m.text"},"ts":1567005436000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"TabAtkins is on vacation so we should probably try to work around","msgtype":"m.text"},"ts":1567005456000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Or maybe foolip can help","msgtype":"m.text"},"ts":1567005467000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"People could add the link-defaults thing for now","msgtype":"m.text"},"ts":1567005702000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Why don't we just fix the promises guide?","msgtype":"m.text"},"ts":1567005739000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ah yeah I turned off my computer before I went on vacation. ...I should put bikeshed-data on some actual infra","msgtype":"m.text"},"ts":1567006017000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(am on the beach right now in Haiti)","msgtype":"m.text"},"ts":1567006031000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I should be able to run it on my server as well. I think I'm rate-limited on cron there, but I can at least run it a few times a day as a backup.","msgtype":"m.text"},"ts":1567006152000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: if you want to run it daily Travis would do the trick, and if more often is needed GitHub Actions can now do that.","msgtype":"m.text"},"ts":1567006491000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Kk, I'll look into that when I'm back next week","msgtype":"m.text"},"ts":1567006548000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: is bikeshed-data up and running now, or is there a simple command someone else could run to get it updated as a one-off?","msgtype":"m.text"},"ts":1567006593000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"If I grant access to the repo, anyone can download it and run the command.","msgtype":"m.text"},"ts":1567006673000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"You want to handle it?","msgtype":"m.text"},"ts":1567006684000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Or Domenic ?","msgtype":"m.text"},"ts":1567006740000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(it just requires a local Bikeshed install to already exist)","msgtype":"m.text"},"ts":1567006763000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I can do an update, but what is the command to run?","msgtype":"m.text"},"ts":1567007175000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"finds https://github.com/tabatkins/bikeshed-data/blob/master/__init__.py#L14","msgtype":"m.emote"},"ts":1567007238000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"TabAtkins: I figured it out, if you give me write access to the repo I can push an update","msgtype":"m.text"},"ts":1567007651000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"TabAtkins: if you sign up for the beta for your user on https://github.com/features/actions I could do the automation part too","msgtype":"m.text"},"ts":1567007860000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: sent you an invite","msgtype":"m.text"},"ts":1567009120000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: received! On my way home now, but can push an update within 6 hours","msgtype":"m.text"},"ts":1567009299000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"TabAtkins: do you want to do the GitHub Actions thing too? Going by commit times it looks like you've been running continuously,  but I'd hourly enough?","msgtype":"m.text"},"ts":1567009387000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Is","msgtype":"m.text"},"ts":1567009389000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Should be enough yeah","msgtype":"m.text"},"ts":1567009456000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I run it every ten minutes right now","msgtype":"m.text"},"ts":1567009463000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Oh, it changed from the 24h cycle? I clearly have not been doing much editing as of late","msgtype":"m.text"},"ts":1567009824000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Or maybe this is not Shepherd...","msgtype":"m.text"},"ts":1567009916000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: https://github.com/tabatkins/bikeshed-data/commit/165a92ef0fcdfafafcd96fbb2aadeb28cf1cd02c pushed, just done manually","msgtype":"m.text"},"ts":1567011105000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"annevk: this isn't Shepherd, no :)","msgtype":"m.text"},"ts":1567011129000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"annevk: Shepherd's cycle is still 24h (or less). But bikeshed-data pulls from more sources than that, most particularly wpt which updates constantly.","msgtype":"m.text"},"ts":1567019455000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"foolip: danke","msgtype":"m.text"},"ts":1567019594000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: did you click through https://github.com/features/actions or shall we deal with that next week?","msgtype":"m.text"},"ts":1567019660000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Domenic: did my manual update fix anything?","msgtype":"m.text"},"ts":1567019678000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"I clicked, but it just put me in the beta queue","msgtype":"m.text"},"ts":1567019687000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Domenic, annevk: note also the --skip-manifest flag documented at https://tabatkins.github.io/bikeshed/#cli-update if there are every problems with the data being out of date","msgtype":"m.text"},"ts":1567019807000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"It's just a lot slower than the normal update process","msgtype":"m.text"},"ts":1567019821000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"foolip: I'm not sure, Ms2ger is the person to ask","msgtype":"m.text"},"ts":1567019826000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: oh, right","msgtype":"m.text"},"ts":1567019869000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"TabAtkins: please enjoy the beach 🏖","msgtype":"m.text"},"ts":1567020203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh I am","msgtype":"m.text"},"ts":1567020225000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"🥳","msgtype":"m.text"},"ts":1567020255000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://twitter.com/tabatkins/status/1166794352753963009","msgtype":"m.text"},"ts":1567020470000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]