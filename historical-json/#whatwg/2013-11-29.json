[
{"content":{"body":"https://groups.google.com/d/msg/comp.infosystems.www.authoring.html/M1pz9cJJdxE/_OzpCv8dwwgJ","msgtype":"m.text"},"ts":1385712806000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"I _don't_ recommend what I'm about to say.  However, it is sort-of","msgtype":"m.text"},"ts":1385712816000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"theoretically respectable.\"","msgtype":"m.text"},"ts":1385712818000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hel","msgtype":"m.text"},"ts":1385712834000,"senderName":"davve","senderId":"davve@irc"},
{"content":{"body":"oops, wrong window.","msgtype":"m.text"},"ts":1385712863000,"senderName":"davve","senderId":"davve@irc"},
{"content":{"body":":]","msgtype":"m.text"},"ts":1385712910000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"wowser developers, eh","msgtype":"m.text"},"ts":1385713923000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"is there spec yet for Mozilla data-store API that's been discussed in the sysapps WG?","msgtype":"m.text"},"ts":1385714151000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I'd be surprised","msgtype":"m.text"},"ts":1385714290000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: do you remember who's pushing for it?","msgtype":"m.text"},"ts":1385714393000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I assume it's something wanted for b2g","msgtype":"m.text"},"ts":1385714413000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I'll guess... sicking","msgtype":"m.text"},"ts":1385714424000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"but I vaguely remember hearing that it was mainly wanted for stoarge for the messaging API","msgtype":"m.text"},"ts":1385714440000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Ms2ger: ok","msgtype":"m.text"},"ts":1385714443000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://wiki.mozilla.org/WebAPI/DataStore I guess","msgtype":"m.text"},"ts":1385714491000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"who's Baku?","msgtype":"m.text"},"ts":1385714495000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Andrea","msgtype":"m.text"},"ts":1385714656000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(If that helps :))","msgtype":"m.text"},"ts":1385714781000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: \"wowser\" means Netscape that ignored SGML thruth","msgtype":"m.text"},"ts":1385716050000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"That's from before my time :)","msgtype":"m.text"},"ts":1385716069000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"right now, I'm pretty annoyed at Netscape developers who came up with the idea of supporting x-user-defined","msgtype":"m.text"},"ts":1385716094000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"s/thruth/truth/ even","msgtype":"m.text"},"ts":1385716133000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"aargh. this whole \"Arial AM\" thing happened after Armenian was already in Unicode 1.0. so sad","msgtype":"m.text"},"ts":1385716243000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk-cloud: check http://hsivonen.com/test/moz/x-user-defined/test-2-unknown-or-alias.htm out in Chrome","msgtype":"m.text"},"ts":1385720189000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk-cloud: Is my conclusion that Chrome aliases x-user-defined to windows-1252 correct?","msgtype":"m.text"},"ts":1385720208000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: it says <meta charset=\"windows-1252\"> not 51","msgtype":"m.text"},"ts":1385721540000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: good typo catch. Thanks.","msgtype":"m.text"},"ts":1385721661000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: even though my testing was wrong, I still found out about a Blink/WebKit quirk: https://bugs.webkit.org/show_bug.cgi?id=18270","msgtype":"m.text"},"ts":1385721697000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"https://mxr.mozilla.org/chromium/source/src/third_party/WebKit/Source/core/fetch/TextResourceDecoder.cpp#139","msgtype":"m.text"},"ts":1385721709000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"data:text/html;charset=x-user-defined,%C3%A5 is interesting in firefox","msgtype":"m.text"},"ts":1385721711000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: what's interesting about it?","msgtype":"m.text"},"ts":1385721785000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: for me it renders a glyph for U+F7C3 followed by a \"5\"","msgtype":"m.text"},"ts":1385721938000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: but if i copy the text and paste into live dom viewer, the 5 becomes U+F7A5","msgtype":"m.text"},"ts":1385721969000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: anyway, a simpler test is <meta charset=x-user-defined><meta charset=utf-8>å (in utf-8)","msgtype":"m.text"},"ts":1385722075000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: and compare with <meta charset=unknown><meta charset=utf-8>å","msgtype":"m.text"},"ts":1385722109000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: same conclusion. same result in presto, too","msgtype":"m.text"},"ts":1385722205000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: except presto says x-user-defined in your test","msgtype":"m.text"},"ts":1385722411000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"\"My understanding is that IE treats x-user-defined differently based on some Registry settings\" (from the bug above)","msgtype":"m.text"},"ts":1385722704000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: good idea to test it like that: http://hsivonen.com/test/moz/x-user-defined/baseline.htm","msgtype":"m.text"},"ts":1385722995000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: good idea to test it like that: http://hsivonen.com/test/moz/x-user-defined/test.htm","msgtype":"m.text"},"ts":1385723001000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the latter shows that x-user-defined decodes those bytes like windows-1252 on en-US IE11 but is a distict encoding","msgtype":"m.text"},"ts":1385723059000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"such a mess","msgtype":"m.text"},"ts":1385723070000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: it seems weirder to special-case <meta> than to special-case XHR, imo","msgtype":"m.text"},"ts":1385723356000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: presto decodes as windows-1252 for both http header and <meta>","msgtype":"m.text"},"ts":1385723385000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: i wonder what web pages expect that declare x-user-defined in http","msgtype":"m.text"},"ts":1385723430000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Do any? :)","msgtype":"m.text"},"ts":1385723484000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"none in webdevdata.org-2013-09-01-201332","msgtype":"m.text"},"ts":1385723936000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I agree it's weirder, but I'd rather make Gecko consistent with Blink that try to get Blink to change","msgtype":"m.text"},"ts":1385726561000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it's bad enough that WebKit made stuff up like that. making up *different* weird stuff would be even worse, IMO.","msgtype":"m.text"},"ts":1385726617000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Kind of sad if we are reduced to treating blink as an immovable rock though","msgtype":"m.text"},"ts":1385726646000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hsivonen: do you want to make me file a bug on HTML?","msgtype":"m.text"},"ts":1385726658000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: i think it shouldn't be too hard to get this changed in blink if there are tests","msgtype":"m.text"},"ts":1385727350000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: that would be nice, yes, unless you think it's worthwhile to make Blink&WebKit invert what they special-case","msgtype":"m.text"},"ts":1385727488000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: well, it's easier for me to clone the WebKit/Blink quirk and forget about this than to go around telling WebKit *and* Blink devs they should change something as obscure as this to make it make more sense","msgtype":"m.text"},"ts":1385727552000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: that is, it's easier to just leave my sense of logic at the door and not fight the WebKit/Blink quirk","msgtype":"m.text"},"ts":1385727589000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it's really sad, though, that some x-user-defined sites \"improve\" their state by using @font-face instead of migrating to UTF-8","msgtype":"m.text"},"ts":1385727665000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"as if doing things the right way was so terrible that it has to be avoided","msgtype":"m.text"},"ts":1385727679000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"not surprising for the Web, of course","msgtype":"m.text"},"ts":1385727697000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"High level sincerity！\"","msgtype":"m.text"},"ts":1385728540000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: ?","msgtype":"m.text"},"ts":1385728570000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, http://www.w3.org/mid/CA+-d5Zr8E=WpH9sTACm3XBmopGn_VeJvVcy3Yx2oKvLGvFvaFQ⊙mgc","msgtype":"m.text"},"ts":1385728670000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hmm, meta refresh support is optional in the spec. i'll assume that browsers aren't going to have it off by default so i can let the test fail (or time out) if it doesn't navigate","msgtype":"m.text"},"ts":1385729513000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: okay, on it","msgtype":"m.text"},"ts":1385730504000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: https://www.w3.org/Bugs/Public/show_bug.cgi?id=23940","msgtype":"m.text"},"ts":1385730664000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it seems meta refresh doesn't work in firefox if it's inserted by a script","msgtype":"m.text"},"ts":1385731872000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"is that intentional? i think the spec says it should work","msgtype":"m.text"},"ts":1385731905000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2667","msgtype":"m.text"},"ts":1385732019000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"\"User agents are encouraged to expose parse errors somehow.\"","msgtype":"m.text"},"ts":1385735487000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"We choose to expose them by encoding them in the initial state of the universe","msgtype":"m.text"},"ts":1385735571000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That's why we hired jgraham, in fact","msgtype":"m.text"},"ts":1385735605000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I encourage annevk to somehow work the phrase \"with extreme prejudice\" into his next specification","msgtype":"m.text"},"ts":1385735771000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2668 - does the close() cause 'load' to be fired?","msgtype":"m.text"},"ts":1385735787000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"write() implies open() which mutes the iframe's load event that was going to be fired because the browsing context came into being","msgtype":"m.text"},"ts":1385735838000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: Yes","msgtype":"m.text"},"ts":1385735839000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"zcorpan: Where is the stuff about document.open muting load events?\\","msgtype":"m.text"},"ts":1385736003000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: i thought it was step 20 but i see now that only applies while handling a load event","msgtype":"m.text"},"ts":1385736170000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: I suppose if you're used to the only way of getting stuff rendered is custom fonts, the obvious next step is @font-face, not looking for alternate ways (like re-encoding stuff).","msgtype":"m.text"},"ts":1385736238000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zcorpan: Yeah, that's to stop you getting more than one load event","msgtype":"m.text"},"ts":1385736283000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: but in my case the flag is false so i think the spec says two load events should be fired","msgtype":"m.text"},"ts":1385736337000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"\"When an iframe element is inserted into a document, the user agent must create a nested browsing context, and then process the iframe attributes for the \"first time\".\" #the-iframe-element","msgtype":"m.text"},"ts":1385736400000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"which will \"Queue a task to run the iframe load event steps.\"","msgtype":"m.text"},"ts":1385736459000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: So this is the question of how the initial about:blank document loads, right?","msgtype":"m.text"},"ts":1385736747000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: not quite","msgtype":"m.text"},"ts":1385736775000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i'll file a bug","msgtype":"m.text"},"ts":1385736808000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Well nearly","msgtype":"m.text"},"ts":1385736812000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"If the initial about:blank was loaded synchronously, you wouldn't see that event","msgtype":"m.text"},"ts":1385736829000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"why not?","msgtype":"m.text"},"ts":1385736913000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I thought that where the load was synchronous the event was too","msgtype":"m.text"},"ts":1385737785000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But maybe I am misremembering this stuff","msgtype":"m.text"},"ts":1385737796000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"https://www.w3.org/Bugs/Public/show_bug.cgi?id=23942","msgtype":"m.text"},"ts":1385737841000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmm, stop parsing fires load on the window, not on the iframe","msgtype":"m.text"},"ts":1385738035000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Sounds like someone is writing tests ;)","msgtype":"m.text"},"ts":1385738292000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"MikeSmith: as in \"implementations MUST NOT support UTF-32, with extreme prejudice\"?","msgtype":"m.text"},"ts":1385739123000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: that sounds sensible","msgtype":"m.text"},"ts":1385745513000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"speaking of sensible, best combination of sentences found in my inbox so far today: \"I see two possibilities to improve the specification. First the syntax should be defined in an EBNF.\"","msgtype":"m.text"},"ts":1385745981000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: That makes sense. Assuming that the real problem with whatever specification this is is that the editor is full of crazy and someone is looking for a way to say \"look at the counterproductive things s?he is spending h[er|is] time on, we should remove them\"","msgtype":"m.text"},"ts":1385746207000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I can see you've played knifey spoony before","msgtype":"m.text"},"ts":1385746541000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"}
]