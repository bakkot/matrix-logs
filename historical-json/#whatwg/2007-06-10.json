[
{"content":{"body":"hello","msgtype":"m.text"},"ts":1181471760000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"once again some stuff on the media elements... http://metavid.ucsc.edu/blog/2007/06/07/html5-video-the-future-is-now/ - this script will \"enable\" <video> for all browsers. If native <video> support is present the script will just keep the DOM as-is - if <video> it'll embed a Java applet to play back the media, and if Java isn't there it'll try to use <embed> and hope the client has a proper plugin","msgtype":"m.text"},"ts":1181472060000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"the problem I see: As far as I see there's no way to detect if the <video> implementation a certain format","msgtype":"m.text"},"ts":1181472061000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"I think you'll have to try to put a video on the page and see if it throws an error","msgtype":"m.text"},"ts":1181472120000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"(e.g. http://www.whatwg.org/specs/web-apps/current-work/#mediaerrdecode )","msgtype":"m.text"},"ts":1181472121000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"now... we're in year 2015, browsers are around that support various MPEG codecs, Ogg Theora, Ogg Dirac, Hyper L33t codec and whatever","msgtype":"m.text"},"ts":1181472240000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"so the script would try to embed Ogg Theora... it fails.... now it'll go for Ogg Dirac.... nope. Then it goes for MPEG... nope. Ah, Hyper L33t works, pfew, lucky us","msgtype":"m.text"},"ts":1181472241000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"that may or may not take its time","msgtype":"m.text"},"ts":1181472300000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"so I wonder if media elements should carry some sort of information to carry information about formats supported","msgtype":"m.text"},"ts":1181472301000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"trial and error may not work in the long run","msgtype":"m.text"},"ts":1181472360000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"(oh, and rereading my stuff I wrote above I can only say.... insert verbs wherever suitable... gargh)","msgtype":"m.text"},"ts":1181473080000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"Lachy, you mean \"Hixie, please sort this out\"?","msgtype":"m.text"},"ts":1181476800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(re: offline resources)","msgtype":"m.text"},"ts":1181476801000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maikmerten, why not just include all the <source> elements?","msgtype":"m.text"},"ts":1181476860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"doesn't see the need for inspecting first","msgtype":"m.emote"},"ts":1181476861000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maikmerten: How does your script handle fallback content for <video>?","msgtype":"m.text"},"ts":1181476862000,"senderName":"webben_","senderId":"webben_@irc"},
{"content":{"body":"<noembed> and alt?","msgtype":"m.text"},"ts":1181476863000,"senderName":"webben_","senderId":"webben_@irc"},
{"content":{"body":"annevk, the problem is that some content vendors only have a certain subset of formats available as fallbacks","msgtype":"m.text"},"ts":1181476920000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"maikmerten, just give the UA all the alternative <source> elements","msgtype":"m.text"},"ts":1181476980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so if vendor A only has files in format B it may be good to know if this format is supported before using <video>","msgtype":"m.text"},"ts":1181476981000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1181476982000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the UA won't fetch stuff it doesn't support","msgtype":"m.text"},"ts":1181476983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it will iterate through <source>","msgtype":"m.text"},"ts":1181476984000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(unless <video> has src= specified)","msgtype":"m.text"},"ts":1181476985000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm... k. So a media error is only thrown if ALL given sources fail","msgtype":"m.text"},"ts":1181477040000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"I think a media error is thrown only once a resource is actually fetched and it appears it isn't supported or can't be decoded","msgtype":"m.text"},"ts":1181477041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"webben_, well, that script (it's not mine) just assumes <video> will support Ogg, there's no check to see if that has gone wrong","msgtype":"m.text"},"ts":1181477100000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"webben_, however, if <video> isn't supported at all it'll go for a Java applet to decode the video","msgtype":"m.text"},"ts":1181477101000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"I'm not talking about video not being supported so much as embed not being supported.","msgtype":"m.text"},"ts":1181477160000,"senderName":"webben_","senderId":"webben_@irc"},
{"content":{"body":"(or being disabled)","msgtype":"m.text"},"ts":1181477161000,"senderName":"webben_","senderId":"webben_@irc"},
{"content":{"body":"well, actually that script seems to use <object> for plugin fallbacks","msgtype":"m.text"},"ts":1181477280000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"oh, and <embed> as nested fallback for that","msgtype":"m.text"},"ts":1181477340000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"http://metavid.ucsc.edu/wiki_dev/mv_embed/mv_embed.js","msgtype":"m.text"},"ts":1181477341000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"annevk, well, as more crude example: The Wikipedia player first determines what options are available, then does document.write stuff to embed a viable solution. No DOM manipulation afterwards, it's basically Netscape 3 compatible stuff (blame this on me, I've provided the logic)","msgtype":"m.text"},"ts":1181477400000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"so once it determined \"well, yes, there's a <video> tag with a play() method\" it'll use that","msgtype":"m.text"},"ts":1181477460000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"which of course goes completely wrong if the browser doesn't happen to support that particular format","msgtype":"m.text"},"ts":1181477461000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"you can insert <video><source src=ogg type=someoggtype> <source src=mpg type=somempgtype> </video> ...","msgtype":"m.text"},"ts":1181477520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"personally I'd like to know what it supports without trying... as trying would most likely also have server interaction","msgtype":"m.text"},"ts":1181477521000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"that would not be compatible with Opera's implementation fwiw, but the idea is that that's how <video> will work","msgtype":"m.text"},"ts":1181477522000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1181477523000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"of course, you can still do <video src=ogg> in which case the <source> elements will be ignored","msgtype":"m.text"},"ts":1181477524000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe we should define it that <video src=> is the final fallback...","msgtype":"m.text"},"ts":1181477580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that would make the whole thing \"backwards compatible\"...","msgtype":"m.text"},"ts":1181477581000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I have to read what the type attribute is working like","msgtype":"m.text"},"ts":1181477582000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"if I can specify <video src=\"blubb.ogg\" type=\"application/ogg\"> and that thing throws an error without first trying to download and play back the file if Ogg is not supported everything is perfectly fine","msgtype":"m.text"},"ts":1181477640000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"(or whatever valid value for type)","msgtype":"m.text"},"ts":1181477641000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"type= is not on <video>","msgtype":"m.text"},"ts":1181477700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I didn't intend to imply for Hixie to have to sort it out himself :-), I just wanted to let others know about it and start a discussion incase someone knows more about it","msgtype":"m.text"},"ts":1181477760000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"annevk, ah, stupid me","msgtype":"m.text"},"ts":1181477761000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"annevk, no wonder I missed that ;)","msgtype":"m.text"},"ts":1181477762000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"annevk, but right, if <source src=\"blubb.media\" type=\"application/someformat\"> immediately makes sure the <video> element reports back an error if application/someformat isn't supported that's a rather elegant thing","msgtype":"m.text"},"ts":1181477880000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"Lachy, well, it has been around for several months and the Firefox guys so far have not submitted stuff...","msgtype":"m.text"},"ts":1181477881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"iirc","msgtype":"m.text"},"ts":1181477882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I don't think it returns an error...","msgtype":"m.text"},"ts":1181477883000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But you're able to find out if it does something with it...","msgtype":"m.text"},"ts":1181477940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"needs to study <video> some more at some point","msgtype":"m.emote"},"ts":1181477941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"would \"<video id='file.media'><source type='some/mimetype'></video>\" be a valid construction to determine if some/mimetype is supported?","msgtype":"m.text"},"ts":1181478000000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"I'd hope for the media element to have MEDIA_ERR_DECODE set","msgtype":"m.text"},"ts":1181478001000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"I think <source> would need to have src= set as well","msgtype":"m.text"},"ts":1181478060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"However, I think the right way to go around it is to simply use it","msgtype":"m.text"},"ts":1181478061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and render let the fallback content handle it if it's not supported","msgtype":"m.text"},"ts":1181478120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"okay, thanks for clarifying these issues","msgtype":"m.text"},"ts":1181478180000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"I now see all use cases that'd make sense being covered","msgtype":"m.text"},"ts":1181478240000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"anyone working on open source implementations of <video>, please consider coming to http://www.annodex.org/events/foms2008/","msgtype":"m.text"},"ts":1181482020000,"senderName":"kfish","senderId":"kfish@irc"}
]