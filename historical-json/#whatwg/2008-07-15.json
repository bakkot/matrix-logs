[
{"content":{"body":"if scoped stylesheets were changed to be evaluated only in the context of the scoped tree, rather than the whole document, the :scope would still be useful because it allows you to select the scope element and it's children with the child combinator","msgtype":"m.text"},"ts":1216080720000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it would only remove the need for :scope when used in conjunction with the descendant combinator, in most cases.","msgtype":"m.text"},"ts":1216080780000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"if selectors would work that way re-using :root makes even more sense","msgtype":"m.text"},"ts":1216080840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and the sole advantage of :root as I demonstrated in my e-mail goes away","msgtype":"m.text"},"ts":1216080841000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"advantage of :scope, I should say","msgtype":"m.text"},"ts":1216080842000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe we could allow for both options","msgtype":"m.text"},"ts":1216080843000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"over engineering?","msgtype":"m.text"},"ts":1216080900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1216080901000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1216080902000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1216080903000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":":root should match the root element and that's all","msgtype":"m.text"},"ts":1216080904000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"don't overload it with random other functionality","msgtype":"m.text"},"ts":1216080905000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't see why changing the meaning of :root in some cases is better than adding :scope for those use cases","msgtype":"m.text"},"ts":1216080960000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"there were a few cases where the ancestor elements outside the scope are useful, as I gave some examples of already","msgtype":"m.text"},"ts":1216080961000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it would still need a change to the Selectors spec","msgtype":"m.text"},"ts":1216080962000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and unless there are cases where you want to refer to either the document root or the scope node interchangeably depending on context, it doesn't seem helpful to use a single pseudo-class for both","msgtype":"m.text"},"ts":1216081020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I was just saying that if we change selectors to not match outside the subtree it would be over engineering to also keep the current solution","msgtype":"m.text"},"ts":1216081021000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"new version of the spec http://lists.w3.org/Archives/Public/www-archive/2008Jul/att-0025/Overview.html","msgtype":"m.text"},"ts":1216081022000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"using :scope now","msgtype":"m.text"},"ts":1216081023000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"whee, discussion of the scoped-stylesheet debate","msgtype":"m.text"},"ts":1216081024000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"but since the current solution is better it seems good to not introduce the one where you need to change selectors","msgtype":"m.text"},"ts":1216081025000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"selectors should match outside the scoped subtree imho","msgtype":"m.text"},"ts":1216081140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"doing anything else changes selectors","msgtype":"m.text"},"ts":1216081141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"afaict","msgtype":"m.text"},"ts":1216081200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I still don't see why","msgtype":"m.text"},"ts":1216081201000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"because selectors are run in the context of a document","msgtype":"m.text"},"ts":1216081202000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, the idea of scoping is that you're explicitly limiting scope","msgtype":"m.text"},"ts":1216081203000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"the element doesn't suddenly lose its parent just because you are scoped to it","msgtype":"m.text"},"ts":1216081260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which to me implicitly limits context as well","msgtype":"m.text"},"ts":1216081261000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"if you style elements that are inside <Aside> elements, they should still have those styles even if the <Aside> is outside your scope","msgtype":"m.text"},"ts":1216081262000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it doesn't limit it, it just makes it portable","msgtype":"m.text"},"ts":1216081263000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"s/limit it/loses its parent/","msgtype":"m.text"},"ts":1216081264000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"I think they should apply to the whole document too.  It should be possible to take a stylesheet that normally applies to a whole document, but then just restrict the set of elements it applies to, without altering which elements match.","msgtype":"m.text"},"ts":1216081320000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"that's only possible with matching outside of the subtree is true.","msgtype":"m.text"},"ts":1216081321000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"AFAICT, the primary use case is for when the author of a subsection does not have access to the style of the whole page","msgtype":"m.text"},"ts":1216081380000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"which makes matching outside the scope pointless","msgtype":"m.text"},"ts":1216081381000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"my use case was including some local styles for a blog entry","msgtype":"m.text"},"ts":1216081382000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1216081383000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"but, there does seem to be some demand for the other situation too, and so maybe if those use cases are justified, an attribute on the style selement could specify whether the context was the whole document or the subtree","msgtype":"m.text"},"ts":1216081384000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"i do have access to the whole page :)","msgtype":"m.text"},"ts":1216081440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'd end up having to <root of scope> <rest of selector> the entire thing","msgtype":"m.text"},"ts":1216081441000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"jcranmer, why?","msgtype":"m.text"},"ts":1216081442000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: to limit the styles properly of course","msgtype":"m.text"},"ts":1216081443000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"only when you're using the descendant selector","msgtype":"m.text"},"ts":1216081500000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"jcranmer, if you needed to do that the scoped attribute would have no effect, but it does","msgtype":"m.text"},"ts":1216081501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"of course, I think we can sidestep the entire argument by having the author point out which model he would like to use","msgtype":"m.text"},"ts":1216081502000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"heads to supper","msgtype":"m.emote"},"ts":1216081560000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"<style scoped context=\"document\"> or <... context=\"scope\">","msgtype":"m.text"},"ts":1216081561000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"not changing selectors seems the most straightforward path and is already how, e.g. getElementsByClassName works","msgtype":"m.text"},"ts":1216081562000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, the definition, hah, it doesn't actually matter of course there :/","msgtype":"m.text"},"ts":1216081620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"with :scope you don't need any of this","msgtype":"m.text"},"ts":1216081800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you can just stick :Scope on the front of every selector and be done with it","msgtype":"m.text"},"ts":1216081801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1216081860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, yeah, I agree, but people are complaining about having to do that.","msgtype":"m.text"},"ts":1216082280000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"there's always people who disagree with something","msgtype":"m.text"},"ts":1216082340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I know, but I don't like that. Why can't everyone just agree with everything I say?","msgtype":"m.text"},"ts":1216082341000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"shrugs","msgtype":"m.emote"},"ts":1216082400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Lachy: \"waah\"","msgtype":"m.text"},"ts":1216082520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Lachy: \"I have considered your feedback but decided to not do this for v1.\"","msgtype":"m.text"},"ts":1216082521000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what?","msgtype":"m.text"},"ts":1216082580000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"where did I say that?","msgtype":"m.text"},"ts":1216082581000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"you didn't","msgtype":"m.text"},"ts":1216082640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm saying that's how you should respond","msgtype":"m.text"},"ts":1216082641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1216082642000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"in response to the \"waah\" from people","msgtype":"m.text"},"ts":1216082643000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok.","msgtype":"m.text"},"ts":1216082700000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"for some issues, it's just not worth it though. It's sometimes easier to give in than to continue putting up with whinging.","msgtype":"m.text"},"ts":1216082760000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1216082761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"never let whinging make you make suboptimal decisions","msgtype":"m.text"},"ts":1216082762000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1216082763000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"as spec writers people for the next 100 years or more are going to rely on our decisions","msgtype":"m.text"},"ts":1216082820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: btw, on your comments about hsivonen's parser earlier, if the tokeniser was only switched into case-preserving mode \"in foreign content\", I don't think there'd be much if any performance hit","msgtype":"m.text"},"ts":1216082821000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"that is a huge responsibility","msgtype":"m.text"},"ts":1216082822000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, that's right. So I have to be sure that I'm making the right decisions.","msgtype":"m.text"},"ts":1216082823000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"sometimes that's difficult.","msgtype":"m.text"},"ts":1216082880000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"often :-)","msgtype":"m.text"},"ts":1216082881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"takkaria: maybe, i don't know what his parser looks like","msgtype":"m.text"},"ts":1216082882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I've looked at it, and that seems to be the case","msgtype":"m.text"},"ts":1216082940000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"not that would make the SVG people happy anyway","msgtype":"m.text"},"ts":1216082941000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"why does no software handle multigigabyte files well","msgtype":"m.text"},"ts":1216083360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sigh","msgtype":"m.text"},"ts":1216083361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what kind of file do you have that is multigigabyte, unless it's video or something?","msgtype":"m.text"},"ts":1216083420000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":".csv file","msgtype":"m.text"},"ts":1216083421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"points out the simple solution again","msgtype":"m.emote"},"ts":1216083900000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"there's a simple solution to dealing with multigigabyte csv files? :-)","msgtype":"m.text"},"ts":1216083901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is fgets() not enough?","msgtype":"m.text"},"ts":1216083960000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"Hixie: no, to the scoped style discussion","msgtype":"m.text"},"ts":1216084020000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"make an attribute on the element and let authors decide","msgtype":"m.text"},"ts":1216084021000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"adding an attribute seems like bad design","msgtype":"m.text"},"ts":1216084022000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why is :Scope not enough?","msgtype":"m.text"},"ts":1216084023000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"because I'd prepend it to every selector then","msgtype":"m.text"},"ts":1216084080000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"takkaria: writing little scripts to process the data is what i've done, but it sucks that i can't use real spreadsheet tools","msgtype":"m.text"},"ts":1216084081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jcranmer: so?","msgtype":"m.text"},"ts":1216084082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the key word there is \"every\"","msgtype":"m.text"},"ts":1216084083000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"if there's boilerplate for everything, then maybe the decision should be looked at again","msgtype":"m.text"},"ts":1216084084000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"jcranmer: to be honest i don't believe you :-) i mean, i believe that you think you would, but i think in practice you wouldn't at all end up doing that.","msgtype":"m.text"},"ts":1216084085000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jcranmer: for example if you have styles for elements that are in links, i don't see why it matters if the link is inside the scope or not","msgtype":"m.text"},"ts":1216084140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I'd have thought excel would manage it, but if not, then I don't know what hope any other spreadsheet tools have","msgtype":"m.text"},"ts":1216084141000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"i don't have office","msgtype":"m.text"},"ts":1216084142000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"OOo?","msgtype":"m.text"},"ts":1216084200000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"but i doubt either numbers or the openoffice spreadsheet tool can handle a few dozen megabytes, let alone more than 2 gigabytes","msgtype":"m.text"},"ts":1216084201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm going out on a limb here and guessing you're not using FAT","msgtype":"m.text"},"ts":1216084260000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"um no","msgtype":"m.text"},"ts":1216084261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"NFS","msgtype":"m.text"},"ts":1216084262000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm, how could I guess ;-)","msgtype":"m.text"},"ts":1216084263000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"does anyone still use FAT?","msgtype":"m.text"},"ts":1216084264000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1216084265000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"wow","msgtype":"m.text"},"ts":1216084266000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"All CF cards","msgtype":"m.text"},"ts":1216084267000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"my old, *old* computer","msgtype":"m.text"},"ts":1216084268000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"anyone who uses floppies","msgtype":"m.text"},"ts":1216084320000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"so *you* still use FAT","msgtype":"m.text"},"ts":1216084321000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"i don't have any CF cards","msgtype":"m.text"},"ts":1216084322000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"roc: I don't use that computer","msgtype":"m.text"},"ts":1216084323000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"it's my parents","msgtype":"m.text"},"ts":1216084324000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"'","msgtype":"m.text"},"ts":1216084325000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"uses CF cards :(","msgtype":"m.emote"},"ts":1216084326000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"I bet most USB keys use FAT too","msgtype":"m.text"},"ts":1216084380000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"don't have any of those either :-)","msgtype":"m.text"},"ts":1216084381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and probably Sony's memory sticks","msgtype":"m.text"},"ts":1216084382000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"and SD","msgtype":"m.text"},"ts":1216084383000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"SD?","msgtype":"m.text"},"ts":1216084384000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you don't have a digital camera, then I'll be impressed","msgtype":"m.text"},"ts":1216084385000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"Hixie: what about your brain?","msgtype":"m.text"},"ts":1216084386000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"i don't have a digital camera","msgtype":"m.text"},"ts":1216084387000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you have an iPod, but if you're a Mac user, you probably don't use FAT there either...","msgtype":"m.text"},"ts":1216084388000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"now yu","msgtype":"m.text"},"ts":1216084440000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"yeah my ipod is HFS+, i believe","msgtype":"m.text"},"ts":1216084441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"now you're just showing off","msgtype":"m.text"},"ts":1216084442000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"i have an iSight and an external iSight","msgtype":"m.text"},"ts":1216084443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but those don't have storage","msgtype":"m.text"},"ts":1216084444000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"would not be suprised if an appliance in Hixie's house used FAT","msgtype":"m.emote"},"ts":1216084445000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"if not, I'm sure the computers at the airport checkin line use them","msgtype":"m.text"},"ts":1216084500000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"maybe the ATM as well","msgtype":"m.text"},"ts":1216084501000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"i expect my girlfriend's camera uses flash, but i don't know what storage it uses (she uses USB to get the data off)","msgtype":"m.text"},"ts":1216084502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i used an ATM once in the last 12 months. :-)","msgtype":"m.text"},"ts":1216084503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"recently discovered this when he audited his bank records to make his budget for the coming months","msgtype":"m.emote"},"ts":1216084560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"er, s/uses flash/uses FAT/","msgtype":"m.text"},"ts":1216084561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm, Hixie said nothing about flying...","msgtype":"m.text"},"ts":1216084562000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"i flew three times in the last year, i think","msgtype":"m.text"},"ts":1216084563000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well, three times two","msgtype":"m.text"},"ts":1216084564000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and the experiecne is worse each time","msgtype":"m.text"},"ts":1216084620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyway","msgtype":"m.text"},"ts":1216084680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"goes back to defining Pipes","msgtype":"m.emote"},"ts":1216084681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if anyone can find a better name for the PipeEnd object, let me know","msgtype":"m.text"},"ts":1216084682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"MessagePort","msgtype":"m.text"},"ts":1216084740000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah Port","msgtype":"m.text"},"ts":1216084741000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"ooo","msgtype":"m.text"},"ts":1216084742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(I like that better as general terminology than Pipe too)","msgtype":"m.text"},"ts":1216084800000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it's useful to be able to talk about the connection itself","msgtype":"m.text"},"ts":1216084860000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"although usually the connection isn't exposed as a first-class object","msgtype":"m.text"},"ts":1216084861000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"only the bridge between the \"ports\" is exposed","msgtype":"m.text"},"ts":1216084920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right now only hte ports are exposed","msgtype":"m.text"},"ts":1216084921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but you create them as ap air","msgtype":"m.text"},"ts":1216084922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"as a pair","msgtype":"m.text"},"ts":1216084923000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so there is an object that represents a pair of ports when they are first created","msgtype":"m.text"},"ts":1216084980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"called a Pipe right now","msgtype":"m.text"},"ts":1216084981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Unix pipes block on write if the reader isn't reading","msgtype":"m.text"},"ts":1216085040000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"if you're doing something asynchronous then you might want a more general term for clarity","msgtype":"m.text"},"ts":1216085041000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"no blocking here","msgtype":"m.text"},"ts":1216085042000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1216085043000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i've renamed PipeEnd to MessagePort","msgtype":"m.text"},"ts":1216085044000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what terminology goes with Ports for the object that holds two ports?","msgtype":"m.text"},"ts":1216085100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"MessageChannel for the connection object?","msgtype":"m.text"},"ts":1216085101000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"that works","msgtype":"m.text"},"ts":1216085102000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or just Channel","msgtype":"m.text"},"ts":1216085160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since this is the constructor you'll call","msgtype":"m.text"},"ts":1216085161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"var x = new Channel();","msgtype":"m.text"},"ts":1216085162000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"x.port1; x.port2;","msgtype":"m.text"},"ts":1216085163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe Channel and ChannelPort? Rather than Channel and MessagePort?","msgtype":"m.text"},"ts":1216085220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ChannelPort seems less clear","msgtype":"m.text"},"ts":1216085280000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1216085281000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"though frankly, few people will deal with the name MessagePort","msgtype":"m.text"},"ts":1216085282000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'd use MessageChannel to be honest","msgtype":"m.text"},"ts":1216085340000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"Channel does seem a bit more vague","msgtype":"m.text"},"ts":1216085400000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"MessageChannel it is","msgtype":"m.text"},"ts":1216085401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"MessageChannel is also more consistent with postMessage","msgtype":"m.text"},"ts":1216085402000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok well this terminology is much better now","msgtype":"m.text"},"ts":1216085460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1216085461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you have a channel with ports 1 and 2","msgtype":"m.text"},"ts":1216112160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and you try to send port2 down port1","msgtype":"m.text"},"ts":1216112161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it should obviously fail","msgtype":"m.text"},"ts":1216112162000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"because the semantics of that are just crazy weird","msgtype":"m.text"},"ts":1216112163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but if you send port1 down port1","msgtype":"m.text"},"ts":1216112164000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"should it also throw?","msgtype":"m.text"},"ts":1216112165000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it would be equivalent to having a rope and throwing one end to the other end","msgtype":"m.text"},"ts":1216112220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"here's a channel!\"","msgtype":"m.text"},"ts":1216112221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"pretty useless, since why wouldn't you just create a new MessageChannel() for yourself","msgtype":"m.text"},"ts":1216112222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i would guess most cases of port1 going down port1 will be mistakes","msgtype":"m.text"},"ts":1216112223000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so it makes sense to fail big","msgtype":"m.text"},"ts":1216112224000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"at the point of error","msgtype":"m.text"},"ts":1216112225000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"instead of having hard-to-debug problems later","msgtype":"m.text"},"ts":1216112280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is getting postMessage endpoint-passing flashbacks","msgtype":"m.emote"},"ts":1216113360000,"senderName":"gDashiva","senderId":"gDashiva@irc"},
{"content":{"body":"gDashiva: hm?","msgtype":"m.text"},"ts":1216113480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It just sounds so similar","msgtype":"m.text"},"ts":1216113481000,"senderName":"gDashiva","senderId":"gDashiva@irc"},
{"content":{"body":"it is more than similar","msgtype":"m.text"},"ts":1216113540000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's the same thing","msgtype":"m.text"},"ts":1216113541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"That would explain it then","msgtype":"m.text"},"ts":1216113542000,"senderName":"gDashiva","senderId":"gDashiva@irc"},
{"content":{"body":"roc and mjs came up with the better names","msgtype":"m.text"},"ts":1216113900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"pipe become message channel","msgtype":"m.text"},"ts":1216113901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and end point and pipe end become message port","msgtype":"m.text"},"ts":1216113902000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"s/become/became/","msgtype":"m.text"},"ts":1216113960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm doing dvorak-layout typos while typing on a qwerty keyboard","msgtype":"m.text"},"ts":1216113961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's freaky","msgtype":"m.text"},"ts":1216113962000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that suggests that when i do typos, i'm hitting the keys my brain intended to hit","msgtype":"m.text"},"ts":1216114020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that my brain doesn't have a good idea of what keys to hit, and that it makes mistakes based on locality of the keyboard layout","msgtype":"m.text"},"ts":1216114021000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that the mistakes it makes aren't necessarily related to the keyboard layout it is actually typing on","msgtype":"m.text"},"ts":1216114022000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://blogs.msdn.com/ie/archive/2008/07/14/ie8-ajax-navigation.aspx","msgtype":"m.text"},"ts":1216114860000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"wish they'd say what they actually implemented :-)","msgtype":"m.text"},"ts":1216116120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just the hashchanged event apparently","msgtype":"m.text"},"ts":1216116240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"The third comment makes me sad.","msgtype":"m.text"},"ts":1216117080000,"senderName":"gDashiva","senderId":"gDashiva@irc"},
{"content":{"body":"is that the one about how their markup \"sucls\"?","msgtype":"m.text"},"ts":1216117560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sucks","msgtype":"m.text"},"ts":1216117561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rather","msgtype":"m.text"},"ts":1216117562000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it made me sad too","msgtype":"m.text"},"ts":1216117563000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm pretty sure this is picture of the guy who wrote that comment:","msgtype":"m.text"},"ts":1216117680000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"http://upload.wikimedia.org/wikipedia/en/7/79/The_Simpsons-Jeff_Albertson.png","msgtype":"m.text"},"ts":1216117681000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"you wouldn't say","msgtype":"m.text"},"ts":1216117740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"when did Comic Book Guy get named Jeff Albertson?","msgtype":"m.text"},"ts":1216117920000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"oh, apparently way back in 2005.","msgtype":"m.text"},"ts":1216117980000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"that comment did have a point about the DOCTYPE though. The PDF contains \"<!DOCTYPE>\"","msgtype":"m.text"},"ts":1216118100000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hixie, in MessagePort various definitions and references have mismatching titles, at least onmessage and ownerWindow","msgtype":"m.text"},"ts":1216118280000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fixed onmessage a while back","msgtype":"m.text"},"ts":1216118340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fixed ownerWindow just now, thanks","msgtype":"m.text"},"ts":1216118341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hmm, isn't another reason that the tokenizer is made case-insensitive so that xmlns and xmlns:* attributes can be used outside the context of the subtree?","msgtype":"m.text"},"ts":1216118880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heh, \"Having <svg:a> be interpreted by a legacy user agent as <html:a> is perhaps not that critical, you can even add a 'src' attribute to have the link work in both contexts, so it can be used as a sort of fallback.","msgtype":"m.text"},"ts":1216119240000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"Hixie, just hit refresh to verify, seems the second ownerWindow ref is still wrong","msgtype":"m.text"},"ts":1216119420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"takkaria: svg in html, appendix C","msgtype":"m.text"},"ts":1216119421000,"senderName":"gDashiva","senderId":"gDashiva@irc"},
{"content":{"body":"anne: should be ok now","msgtype":"m.text"},"ts":1216119600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lol, few days before the E3 Sony says it can't be bothered by Nintendo and now they announce all kinds of competitive features","msgtype":"m.text"},"ts":1216119601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what is DOMFrameContentLoaded?","msgtype":"m.text"},"ts":1216121520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm, seems to be some Firefox event","msgtype":"m.text"},"ts":1216121521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, i defined postMessage(m, p, o)","msgtype":"m.text"},"ts":1216121522000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let me know if it's separate enoug","msgtype":"m.text"},"ts":1216121580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"h","msgtype":"m.text"},"ts":1216121581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok what else do i need for workers","msgtype":"m.text"},"ts":1216121760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess i need to split Window","msgtype":"m.text"},"ts":1216121761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i love how everyone was saying \"use a separate spec!\"","msgtype":"m.text"},"ts":1216121820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i've basically ended up having to do tons of work in html5 proper anyway","msgtype":"m.text"},"ts":1216121821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, message is not dispatched on an element and is not dispatched on document either (re: introduction)","msgtype":"m.text"},"ts":1216121880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, I think the latest is that it's dispatched on window","msgtype":"m.text"},"ts":1216121940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hm i just moved that example up","msgtype":"m.text"},"ts":1216121941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i didn't edit it :-)","msgtype":"m.text"},"ts":1216121942000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that might explain things :p","msgtype":"m.text"},"ts":1216122000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fixed","msgtype":"m.text"},"ts":1216122060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, for Workers you need to split Window into main thread only and multithreaded functionality","msgtype":"m.text"},"ts":1216122360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but that would've been the case if you kept it in the spec or not","msgtype":"m.text"},"ts":1216122420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1216122421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm just amused that the workers spec is going to be about one page long of non-boilerplate material","msgtype":"m.text"},"ts":1216122480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that the total number of changes will have been dozens of pages","msgtype":"m.text"},"ts":1216122481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lol, http://www.p01.org/releases/DHTML_contests/files/DEFENDER_of_the_favicon/","msgtype":"m.text"},"ts":1216123980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wow he is so completely disqualified from ever suggesting anything to html5 again :-P","msgtype":"m.text"},"ts":1216124220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok Window is split","msgtype":"m.text"},"ts":1216124460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that was easy","msgtype":"m.text"},"ts":1216124461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's clever, but really difficult to play","msgtype":"m.text"},"ts":1216124462000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"even if I zoom my screen right in to see it, it's just not enough pixels","msgtype":"m.text"},"ts":1216124520000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I can't play the game without the page scrolling annoyingly","msgtype":"m.text"},"ts":1216124580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie, why is frames not under self-reference?","msgtype":"m.text"},"ts":1216124581000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"because workers can't have frames","msgtype":"m.text"},"ts":1216124582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`, make your window bigger so it doesn't have scroll bars","msgtype":"m.text"},"ts":1216124640000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hixie, but frames is just a useless alias for self and window","msgtype":"m.text"},"ts":1216124641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, it's nothing special","msgtype":"m.text"},"ts":1216124642000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1216124643000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so why have it on workers?","msgtype":"m.text"},"ts":1216124644000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why have self on workers?","msgtype":"m.text"},"ts":1216124645000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Lachy: I'd have to make the window bigger than my screen, which is kind of awkward","msgtype":"m.text"},"ts":1216124646000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"annevk: because it makes more sense than window","msgtype":"m.text"},"ts":1216124700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`, get a bigger screen with a higher resolution.","msgtype":"m.text"},"ts":1216124701000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: That's expensive :-p","msgtype":"m.text"},"ts":1216124702000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it's essential that you have a screen resolution of 1920x1200 so you can play a game of 16x16px","msgtype":"m.text"},"ts":1216124760000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"If I reduced my resolution to 640x480, maybe I'd be able to see what was happening","msgtype":"m.text"},"ts":1216124761000,"senderName":"gDashiva","senderId":"gDashiva@irc"},
{"content":{"body":"Hixie, still most people use window and don't use self","msgtype":"m.text"},"ts":1216124762000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Philip`: you can use WASD to move instead -- won't scroll then","msgtype":"m.text"},"ts":1216124763000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"If you're on OS X, just use the ctrl(?) + mouse-wheel thing to zoom in on the play area","msgtype":"m.text"},"ts":1216124764000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"annevk: If anything, self is often shadowed to work around \"this\" voodoo","msgtype":"m.text"},"ts":1216124820000,"senderName":"gDashiva","senderId":"gDashiva@irc"},
{"content":{"body":"Philip`, yes","msgtype":"m.text"},"ts":1216124821000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"virtuelv: It does scroll, since those keys make Opera select links on the page","msgtype":"m.text"},"ts":1216124822000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: disable one-key shortcuts","msgtype":"m.text"},"ts":1216124823000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"annevk: right, that's why i'm keeping window too","msgtype":"m.text"},"ts":1216124824000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`, write a user style sheet that hides everything else on the page","msgtype":"m.text"},"ts":1216124825000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"virtuelv: But then shift-G stops working, which is why I turned on one-key shortcuts in the first place","msgtype":"m.text"},"ts":1216124880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"what does Shift+G do?","msgtype":"m.text"},"ts":1216124881000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: toggle images","msgtype":"m.text"},"ts":1216124882000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"Lachy: Toggle stylesheets","msgtype":"m.text"},"ts":1216124883000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah, stylesheets it was","msgtype":"m.text"},"ts":1216124884000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"Philip`: you could always reassign keys to your own liking :)","msgtype":"m.text"},"ts":1216124940000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"virtuelv: I'm far too lazy for that","msgtype":"m.text"},"ts":1216124941000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and far too indecisive","msgtype":"m.text"},"ts":1216124942000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, just temporarily disable it. I had to disable \"Search for text when I start typing\" so I could play it too.","msgtype":"m.text"},"ts":1216125000000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I can cope with preference checkboxes, but if I get offered a million actions to map onto any permutation of a million keystrokes, I get too confused to do anything at all :-(","msgtype":"m.text"},"ts":1216125001000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, yeah, it's a well known problem that Opera's keyboard shortcut configuration is too complex","msgtype":"m.text"},"ts":1216125060000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"interesting to see that Kaazing guys will be doing a session on the WebSocket interface at AjaxWorld","msgtype":"m.text"},"ts":1216137900000,"senderName":"billyjack","senderId":"billyjack@irc"},
{"content":{"body":"http://www.sys-con.com/read/609412_p.htm","msgtype":"m.text"},"ts":1216137901000,"senderName":"billyjack","senderId":"billyjack@irc"},
{"content":{"body":"http://1997.webhistory.org/www.lists/www-talk.1993q1/0182.html","msgtype":"m.text"},"ts":1216148460000,"senderName":"csarven-","senderId":"csarven-@irc"},
{"content":{"body":"Huh. Why is the sanitizer allowing <p> in <h1>?!","msgtype":"m.text"},"ts":1216154700000,"senderName":"tusho_","senderId":"tusho_@irc"},
{"content":{"body":"People are crazy.","msgtype":"m.text"},"ts":1216156080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"This is what defining how people have made the real world has taught me.","msgtype":"m.text"},"ts":1216156140000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"no kiding","msgtype":"m.text"},"ts":1216156141000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"kidding","msgtype":"m.text"},"ts":1216156142000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Content-Type: text/html;image/gif;image/jpeg; Charset=iso-8859-1;text/javascript","msgtype":"m.text"},"ts":1216156200000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: nice! which one is it really? :)","msgtype":"m.text"},"ts":1216156260000,"senderName":"jmb","senderId":"jmb@irc"},
{"content":{"body":"jmb: Dunno, haven't looked :)","msgtype":"m.text"},"ts":1216156261000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"text/html, it's http://www.ecsrefining.com/","msgtype":"m.text"},"ts":1216156320000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"you just ignore most of the stuff as invalid parameters, I expect","msgtype":"m.text"},"ts":1216156380000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"do browsers get the right charset?","msgtype":"m.text"},"ts":1216156381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"does html5?","msgtype":"m.text"},"ts":1216156382000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It looks to be pure US-ACSII the actual page","msgtype":"m.text"},"ts":1216156440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"It should be treated as windows-1252","msgtype":"m.text"},"ts":1216156441000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"So, yeah, HTML 5 and everything copes fine","msgtype":"m.text"},"ts":1216156500000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"text/html; charSet=gb2312;charset=ISO-8859-1 makes me more interested","msgtype":"m.text"},"ts":1216156560000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That is gb2312 really","msgtype":"m.text"},"ts":1216156620000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://www.mediachina.net/ FWIW","msgtype":"m.text"},"ts":1216156621000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"what's better. window.closing becoming true when the thread is being shut down, or window.active becoming false when the thread is being shut down.","msgtype":"m.text"},"ts":1216160700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the latter allows for  while(active) { ... }","msgtype":"m.text"},"ts":1216160701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the former allws for  if (closing) return;","msgtype":"m.text"},"ts":1216160760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"will the cancellation design make it meaningful to even ask?","msgtype":"m.text"},"ts":1216160880000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i figure when the thread gets canceled we should set this flag, fire an unload event at the next available opportunity, and wait a couple of seconds to see if the thread shuts down cleanly, and if it doesn't, kill it forcibly.","msgtype":"m.text"},"ts":1216160940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"seems better to at least give the thread a chance to clean up after itself rather than just always killing it forcibly","msgtype":"m.text"},"ts":1216160941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"POSIX has the notion of registering cancellation cleanup handlers","msgtype":"m.text"},"ts":1216161060000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm not sure if \"run for a few more seconds\" is a useful design point","msgtype":"m.text"},"ts":1216161061000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that's what the unload event is for","msgtype":"m.text"},"ts":1216161062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"particularly if those few seconds might be in blocking I/O (assuming blocking IO operations are cancellation points)","msgtype":"m.text"},"ts":1216161063000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"POSIX doesn't have to worry about the cancelation cleanup handlers trying to do blocking I/O or trying to solve checkers on a 64x64 board.","msgtype":"m.text"},"ts":1216161120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we do.","msgtype":"m.text"},"ts":1216161121000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't see how we can _not_ have a timeout","msgtype":"m.text"},"ts":1216161122000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since we have to basically assume the workers are hostile","msgtype":"m.text"},"ts":1216161123000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I guess what I'm saying is, I think it would be better to terminate normal flow execution of the thread (if any) immediately, fire the cancellation-related event, and then have a timeout","msgtype":"m.text"},"ts":1216161180000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"having the thread keep running means you need two timeouts","msgtype":"m.text"},"ts":1216161181000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that's a bit extreme, you might be in the middle of a 10ms transaction when you get terminated","msgtype":"m.text"},"ts":1216161182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and sprinkling your code with \"am I cancelled\" checks would be ugly and in some cases not really possible anyway","msgtype":"m.text"},"ts":1216161240000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i guess i don't mind having two timeouts if you think we need it, but i certainly think we need at least to give the main code the opportunity to run to completion before we kill it","msgtype":"m.text"},"ts":1216161241000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that misses the point of cancellation","msgtype":"m.text"},"ts":1216161242000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if the main code could be trusted to run to completion in reasonable time, you could just send the thread a message to kill itself","msgtype":"m.text"},"ts":1216161300000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i think you're assuming that workers are going to always be running non-stop code","msgtype":"m.text"},"ts":1216161301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no, I'm assuming they might be","msgtype":"m.text"},"ts":1216161302000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"cancellation is most important for the case where they are","msgtype":"m.text"},"ts":1216161303000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if they aren't you can use messages to establish a protocol to stop the thread's activity","msgtype":"m.text"},"ts":1216161360000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i'm imagining many workers will be mostly idle and will be mostly doing very short event handler type code -- receive an event, store the data in the database. And for those cases, you absolutely never want to abort in the middle of the handler, since that might corrupt your database or lose data.","msgtype":"m.text"},"ts":1216161361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aborting would not corrupt your database because they have transactional semantics","msgtype":"m.text"},"ts":1216161362000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the database operation must either complete or roll back","msgtype":"m.text"},"ts":1216161420000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"assumign they do it right, sure","msgtype":"m.text"},"ts":1216161421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you'll still lose data","msgtype":"m.text"},"ts":1216161422000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't see any reason not to give those handlers time to complete, they won't be taking long anyway.","msgtype":"m.text"},"ts":1216161423000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you can afford to wait for them, then you can just postMessage to the thread and ask it to stop further activity","msgtype":"m.text"},"ts":1216161480000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if you absolutely want to guarantee that any pending I/O finishes, you have to do that anyway","msgtype":"m.text"},"ts":1216161481000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"a timeout gives you the worst of both worlds","msgtype":"m.text"},"ts":1216161482000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"no guarantee the I/O will complete, and no guarantee the thread stops promptly","msgtype":"m.text"},"ts":1216161540000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that's what the unload event is for","msgtype":"m.text"},"ts":1216161541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you need to register an event handler to ensure that cancellation is clean, then there's no benefit to your main code continuing to run","msgtype":"m.text"},"ts":1216161542000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i don't understand what you are proposing or why","msgtype":"m.text"},"ts":1216161543000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm proposing that cancellation stops whatever is executing right away, and invokes any registered cancellation handlers with a timeout limit","msgtype":"m.text"},"ts":1216161720000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"how does that not cause dataloss in the case of a thread having just received a message asking it to store data?","msgtype":"m.text"},"ts":1216161780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and I explained why - letting the main code continue to run defeats the most important use case for cancellation, which is a thread that's busy doing a long computation","msgtype":"m.text"},"ts":1216161781000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the other way causes data loss too, if the message has not been dispatched yet","msgtype":"m.text"},"ts":1216161782000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(unless the thread registers a cancellation handler, but I guess there is no way to explicitly drain the message queue)","msgtype":"m.text"},"ts":1216161840000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"unload would be added to the queue of events, it would be the last fired event.","msgtype":"m.text"},"ts":1216161841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you shouldn't cancel a thread if you sent it a message that you actually need to be processed","msgtype":"m.text"},"ts":1216161842000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the author isn't the one canceling the thread","msgtype":"m.text"},"ts":1216161843000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the user is","msgtype":"m.text"},"ts":1216161844000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you should ask it to finish itself instead","msgtype":"m.text"},"ts":1216161845000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so this is for leaving the page, not for an explicit cancellation API?","msgtype":"m.text"},"ts":1216161900000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we're talking about the user closing the window or something like that, yes","msgtype":"m.text"},"ts":1216161901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well for code on the main thread, there's no specific timeout for currently running code defined, and unload gets to run with no specific timeout defined","msgtype":"m.text"},"ts":1216162020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(as well as beforeunload which has the opportunity to cancel the close / leave operation)","msgtype":"m.text"},"ts":1216162021000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the spec doesn't define a timeout, but there is a timeout","msgtype":"m.text"},"ts":1216162022000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and arguably the spec should define that (though the precise number would be up to the UA)","msgtype":"m.text"},"ts":1216162080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in the case of Safari the timeout would be the general slow script timeout","msgtype":"m.text"},"ts":1216162081000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1216162082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyway I see that this is a trickier design problem than what I thought you were talking about (API for thread cancellation)","msgtype":"m.text"},"ts":1216162140000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ah ok","msgtype":"m.text"},"ts":1216162200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the API for thread cancellation is simple","msgtype":"m.text"},"ts":1216162201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just send an event and be done with it","msgtype":"m.text"},"ts":1216162202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't know that i'll even add anything explicit for that","msgtype":"m.text"},"ts":1216162203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you need to be able to cancel a thread that is blocked or in the middle of computation","msgtype":"m.text"},"ts":1216162204000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"maybe just the \"close()\" method of the message port objects","msgtype":"m.text"},"ts":1216162260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"postMessage conventions can't do that","msgtype":"m.text"},"ts":1216162261000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1216162262000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i mean, why is that necessary","msgtype":"m.text"},"ts":1216162263000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"to avoid wasting CPU cycles if you fire off long-running computation that turns out to be unnecessary","msgtype":"m.text"},"ts":1216162380000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hm","msgtype":"m.text"},"ts":1216162440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and to make it slightly easier not to make all your threads be runaways (otherwise you have to set up a message handler in the thread to cancel all timers and pending I/O when asked to stop, seems like a needless pain)","msgtype":"m.text"},"ts":1216162441000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"well if all the channels to a worker get closed, you kill the thread as if the user had killed it","msgtype":"m.text"},"ts":1216162500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"though you'd still want to use a timeout to allow the thread to empty it's message queue","msgtype":"m.text"},"ts":1216162501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"its","msgtype":"m.text"},"ts":1216162502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"closing all channels as implicit termination is a bit weak (you have to keep track of all channels you may have vended)","msgtype":"m.text"},"ts":1216162560000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and also I guess counts on the worker object itself not being a message target, or else you have to make sure to drop all refs and let it get GC'd to really kill it","msgtype":"m.text"},"ts":1216162620000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"isn't that a good thing? why would you want to kill a worker if some other frame has a handle to it? especially given that that could mean the thread dying while someone is talkign to it","msgtype":"m.text"},"ts":1216162621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well the way i'm currently speccing it, there is no worker object on the outside","msgtype":"m.text"},"ts":1216162680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"only the channels","msgtype":"m.text"},"ts":1216162681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"creating a worker gets you a channel to that worker","msgtype":"m.text"},"ts":1216162682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1216162683000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"is there a way to copy the channel (so that you have multiple copies which independently need to be closed)?","msgtype":"m.text"},"ts":1216162740000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if the worker is named, you can get multiple independent windows (from the same origin) getting channels to a single worker","msgtype":"m.text"},"ts":1216162741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and since you can send a port down a channel, you can associate multiple channels with a worker, yes","msgtype":"m.text"},"ts":1216162742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they're not the same channel, just different channels that have one end owned by the worker","msgtype":"m.text"},"ts":1216162800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't think open channels controlling the lifecycle makes sense","msgtype":"m.text"},"ts":1216162860000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"why not?","msgtype":"m.text"},"ts":1216162861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"having an open channel wouldn't keep a Window alive presumably, if that window is otherwise closed","msgtype":"m.text"},"ts":1216162862000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if a window closes, or has its session history traversed, channels to that window have their other end temporarily deactivated","msgtype":"m.text"},"ts":1216162920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(the channels get permanently deactivated when the window is garbage collected)","msgtype":"m.text"},"ts":1216162921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, is Workers going to define a new database and local storage API and such?","msgtype":"m.text"},"ts":1216163940000,"senderName":"annevk","senderId":"annevk@irc"}
]