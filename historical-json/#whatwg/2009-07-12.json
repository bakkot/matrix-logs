[
{"content":{"body":"tries to work out why photobooth won't start if you have no physical monitor plugged in","msgtype":"m.emote"},"ts":1247373060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyone know exactly which browsers treat --!> as a comment end?","msgtype":"m.text"},"ts":1247373061000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"and why if you start it while a monitor is plugged in, and then take the monitor out, the preview window goes white, but you can still take pictures","msgtype":"m.text"},"ts":1247373062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"noticed hsivonen's note that his parser doesn't do it yet, but that apparently it's supported elsewhere","msgtype":"m.emote"},"ts":1247373120000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: hsivonen raised and HTML WG bugzilla bug for that, did you see it?","msgtype":"m.text"},"ts":1247376240000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think he has a link to a mozilla bug report ","msgtype":"m.text"},"ts":1247376241000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"goes looking","msgtype":"m.emote"},"ts":1247376242000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"http://www.w3.org/Bugs/Public/show_bug.cgi?id=7089","msgtype":"m.text"},"ts":1247376300000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Gecko bug https://bugzilla.mozilla.org/show_bug.cgi?id=502984","msgtype":"m.text"},"ts":1247376301000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Site: http://www.erc.gov.ph/","msgtype":"m.text"},"ts":1247376302000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: so do all major browsers support that?","msgtype":"m.text"},"ts":1247376420000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"i.e. close the comment when they see --!>","msgtype":"m.text"},"ts":1247376421000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(I guess I could test out a bunch of them.... but I thought someone might know)","msgtype":"m.text"},"ts":1247376480000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: I don't know myself. I guess the way to be sure is to test it and see what you get","msgtype":"m.text"},"ts":1247376540000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1247376541000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"but based on hsivonen comments there, it seems like that do","msgtype":"m.text"},"ts":1247376542000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"*they do","msgtype":"m.text"},"ts":1247376543000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"FF 2&3, & Safari 4 do, but Opera doesn't seem to","msgtype":"m.text"},"ts":1247376900000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"maybe I should file an opera bug","msgtype":"m.text"},"ts":1247376901000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(though they probably know this, w/ annevk &c. paying attention)","msgtype":"m.text"},"ts":1247377020000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"oh wow, the opera behavior is odd indeed","msgtype":"m.text"},"ts":1247377920000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"if it only finds --!>, then it treats it as a comment ending","msgtype":"m.text"},"ts":1247377921000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"but if there's --> anywhere later, it'll use that as the end of the comment","msgtype":"m.text"},"ts":1247377922000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"swallowing anything in between","msgtype":"m.text"},"ts":1247377980000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"so adding a comment way down the page completely changes rendering","msgtype":"m.text"},"ts":1247377981000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I guess I will file that bug","msgtype":"m.text"},"ts":1247377982000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"for any opera devs here, bug 258698","msgtype":"m.text"},"ts":1247378460000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"example html that causes this behavior in latest Opera 10 preview: http://pastie.textmate.org/542877","msgtype":"m.text"},"ts":1247378820000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(hsivonen/Hixie: you might be interested in that... dunno)","msgtype":"m.text"},"ts":1247380200000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: If I remember correctly, if it reaches EOF with an unclosed comment then it re-parses and closes the comment on the first >, or something like that","msgtype":"m.text"},"ts":1247386080000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"huh. well I can put in multiple 'fake' comments and they work fine","msgtype":"m.text"},"ts":1247386140000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"but as soon as I add a real one, even way down the page, they all break","msgtype":"m.text"},"ts":1247386141000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"you could be right that that's the behavior. I'll test a bit","msgtype":"m.text"},"ts":1247386142000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Philip`: huh, you seem to be right","msgtype":"m.text"},"ts":1247386200000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"so they probably already had this as a bug","msgtype":"m.text"},"ts":1247386201000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"sadly, the database is closed...","msgtype":"m.text"},"ts":1247386260000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"yeah, it seems to eat everything up to the first > it finds, if it can't find a -->","msgtype":"m.text"},"ts":1247386380000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"which means that it tends to eat some opening tag","msgtype":"m.text"},"ts":1247386381000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"http://detexify.kirelabs.org/classify.html","msgtype":"m.text"},"ts":1247412720000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: cool","msgtype":"m.text"},"ts":1247412960000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"takkaria: yt?","msgtype":"m.text"},"ts":1247417940000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: sort of","msgtype":"m.text"},"ts":1247418000000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"takkaria: How long did it take to get to Roxen?","msgtype":"m.text"},"ts":1247418001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1247418002000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"(and back)","msgtype":"m.text"},"ts":1247418060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"maybe two hours there, one hour back","msgtype":"m.text"},"ts":1247418061000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"hmm, so I could go today","msgtype":"m.text"},"ts":1247418062000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I stopped and took photos lots though","msgtype":"m.text"},"ts":1247418063000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"heads off","msgtype":"m.emote"},"ts":1247418064000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"looks out of window one final time and sees huge dark clouds towards Roxenâ€¦","msgtype":"m.emote"},"ts":1247418600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Just getting cloudier and cloudier","msgtype":"m.text"},"ts":1247419080000,"senderName":"gsnedders_","senderId":"gsnedders_@irc"},
{"content":{"body":"So I am wondering about implementing the new table character data stuff in html5lib","msgtype":"m.text"},"ts":1247420820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Sounds like a good idea to me","msgtype":"m.text"},"ts":1247420821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"It seems like it might be nice to return all character data from the tokenizer together rather than special casing whitespace in some circumstances","msgtype":"m.text"},"ts":1247420880000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So all the logic about whitespce being special would be on the treebuilder side","msgtype":"m.text"},"ts":1247420881000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But I'm not sure if this is just crazy talk or not","msgtype":"m.text"},"ts":1247420940000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"wonders what hsivonen does","msgtype":"m.emote"},"ts":1247421000000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So <!doctype html> actually triggers different behavior from old doctypes, it seems?","msgtype":"m.text"},"ts":1247423940000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"That's . . . bad?","msgtype":"m.text"},"ts":1247423941000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Simetrical: Depends which old doctypes you mean","msgtype":"m.text"},"ts":1247423942000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Well, I'm working on switching Wikipedia from XHTML 1.0 Transitional to HTML 5.","msgtype":"m.text"},"ts":1247423943000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"When I switch the doctype, rendering breaks.","msgtype":"m.text"},"ts":1247424000000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"That will make things *much* more complicated.","msgtype":"m.text"},"ts":1247424001000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"I had thought that the doctype was chosen specifically so it would trigger standards mode in all browsers, but it seems that's not quite the case.","msgtype":"m.text"},"ts":1247424002000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Hmm.","msgtype":"m.text"},"ts":1247424003000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Simetrical: If I'm reading the table on http://hsivonen.iki.fi/doctype/ properly, XHTML 1.0 Transitional is \"Almost Standards\"","msgtype":"m.text"},"ts":1247424004000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah, I just read that too.","msgtype":"m.text"},"ts":1247424005000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"(and <!doctype html> is \"Standards\")","msgtype":"m.text"},"ts":1247424006000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Okay, I'm going to have to come up with a test case here.","msgtype":"m.text"},"ts":1247424060000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Because I'm seeing the rendering break in Chrome.","msgtype":"m.text"},"ts":1247424061000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"I'll figure out what's going on.","msgtype":"m.text"},"ts":1247424062000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Hopefully there shouldn't be that many differences between almost-standards and standards","msgtype":"m.text"},"ts":1247424063000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"doesn't remember exactly what the differences are, though","msgtype":"m.emote"},"ts":1247424064000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, I see.","msgtype":"m.text"},"ts":1247424065000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Hmm.","msgtype":"m.text"},"ts":1247424120000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Oh, http://hsivonen.iki.fi/doctype/ already talks about Almost Standards","msgtype":"m.text"},"ts":1247424121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Current MediaWiki doctype: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">","msgtype":"m.text"},"ts":1247424122000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"\"which implements the vertical sizing of table cells traditionally and not rigorously according to the CSS2 specification\"","msgtype":"m.text"},"ts":1247424123000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"It looks like the doctype change is switching three browsers from \"almost standards\" to \"standards\".","msgtype":"m.text"},"ts":1247424180000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Specifically including . . . all recent browsers.","msgtype":"m.text"},"ts":1247424181000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"That sounds correct","msgtype":"m.text"},"ts":1247424182000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"So more changes will be required to ensure that pages continue to render correctly.","msgtype":"m.text"},"ts":1247424240000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Ugh.  Okay.","msgtype":"m.text"},"ts":1247424241000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Sounds like image-in-table is about the only difference","msgtype":"m.text"},"ts":1247424242000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"https://developer.mozilla.org/en/Images%2c_Tables%2c_and_Mysterious_Gaps etc","msgtype":"m.text"},"ts":1247424300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"We have some of those, I guess, but that's not the difference I'm seeing.","msgtype":"m.text"},"ts":1247424301000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Hmm, what difference are you seeing?","msgtype":"m.text"},"ts":1247424302000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"or maybe it's better to wait for a test case :-)","msgtype":"m.text"},"ts":1247424360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Well, look at any page of Wikipedia in the default skin.  The whole nav bar thing on the left below the logo gets pushed down below the end of the page in Chrome 3 with an HTML 5 doctype.","msgtype":"m.text"},"ts":1247424361000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Hmm, same in Safari 4.0","msgtype":"m.text"},"ts":1247424660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"But not Firefox 3.5.","msgtype":"m.text"},"ts":1247424840000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Nor Opera","msgtype":"m.text"},"ts":1247424960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Might be some kind of WebKit bug","msgtype":"m.text"},"ts":1247425020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If it breaks the site for all Safari users, that means we can't switch the doctype right now.","msgtype":"m.text"},"ts":1247425021000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"I'm trying to make a minimal test case.","msgtype":"m.text"},"ts":1247425022000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"There's approximately zero benefit in changing the doctype, so it doesn't seem worth hurting users","msgtype":"m.text"},"ts":1247425140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"though I suppose it's nice to make browsers do Standards instead of Almost Standards","msgtype":"m.text"},"ts":1247425141000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Well, the idea is to actually deploy valid HTML 5, which means switching the doctype.","msgtype":"m.text"},"ts":1247425200000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"My understanding is that the point of the HTML 5 doctype is to make sure that old content will work.","msgtype":"m.text"},"ts":1247425201000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"I think the point is to make old content work the same as if it used an old Standards mode doctype (e.g. XHTML Strict), and also to be as short as possible","msgtype":"m.text"},"ts":1247425260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Aha.","msgtype":"m.text"},"ts":1247425320000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"You know, it might be WebKit-specific JavaScript hacks in MediaWiki itself.","msgtype":"m.text"},"ts":1247425321000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"If there wasn't quirks mode, then HTML5 would probably have no doctype at all","msgtype":"m.text"},"ts":1247425322000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yes, agreed.","msgtype":"m.text"},"ts":1247425323000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Hmm, that's possible","msgtype":"m.text"},"ts":1247425324000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Okay, bingo.","msgtype":"m.text"},"ts":1247425325000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"wikibits.js is the problem.","msgtype":"m.text"},"ts":1247425380000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"has tried playing with the CSS briefly and couldn't see what the problem was","msgtype":"m.emote"},"ts":1247425381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I just started removing chunks of the head and body.","msgtype":"m.text"},"ts":1247425382000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"When I removed the script tags the problem stopped.","msgtype":"m.text"},"ts":1247425383000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Hooray for browser sniffing :-)","msgtype":"m.text"},"ts":1247425384000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah.  :(","msgtype":"m.text"},"ts":1247425385000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"I'm not sure it's the browser sniffing . . .","msgtype":"m.text"},"ts":1247425560000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Bingo, KHTMLFixes.css.","msgtype":"m.text"},"ts":1247425800000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Excellent, IE silently rejects EOT fonts if the Font Family Name is not a prefix of the Full Font Name","msgtype":"m.text"},"ts":1247426160000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(even though an equivalent font works perfectly well in the rest of Windows)","msgtype":"m.text"},"ts":1247426220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/font/TTF font/","msgtype":"m.text"},"ts":1247426221000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Okay, Wikipedia HTML 5 deployment back on track.","msgtype":"m.text"},"ts":1247428080000,"senderName":"Simetrical","senderId":"Simetrical@irc"},
{"content":{"body":"Serving a five-year-old CSS fix for KHTML to modern WebKit development versions = epic fail.","msgtype":"m.text"},"ts":1247428740000,"senderName":"Simetrical","senderId":"Simetrical@irc"}
]