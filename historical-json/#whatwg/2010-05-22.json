[
{"content":{"body":"Hi I wanted to know is there a simple JS method to convert HTML body node to plain string WITHOUT STRIPPING THE HTML TAGS?","msgtype":"m.text"},"ts":1274493960000,"senderName":"sid_","senderId":"sid_@irc"},
{"content":{"body":".innerHTML?","msgtype":"m.text"},"ts":1274493961000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"nono thats without the tags.","msgtype":"m.text"},"ts":1274494020000,"senderName":"sid_","senderId":"sid_@irc"},
{"content":{"body":"Without which tags?  ","msgtype":"m.text"},"ts":1274494021000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"never mind","msgtype":"m.text"},"ts":1274494080000,"senderName":"sid_","senderId":"sid_@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1274494081000,"senderName":"sid_","senderId":"sid_@irc"},
{"content":{"body":".outerHTML includes the <body> tags, but it's not supported everywhere.","msgtype":"m.text"},"ts":1274494082000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But it's part of the spec, and it's part of IE, so it should be fine to use relatively soon","msgtype":"m.text"},"ts":1274494140000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Yeah.","msgtype":"m.text"},"ts":1274494141000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"It is supported on chrome..","msgtype":"m.text"},"ts":1274494320000,"senderName":"sid_","senderId":"sid_@irc"},
{"content":{"body":"Is there a version of caniuse that addresses the oldest browsers still with a relevant market share, I wonder","msgtype":"m.text"},"ts":1274494560000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"(That is, it doesn't help to know that IE9 supports feature X if IE<9 doesn't and still has a 40% market share)","msgtype":"m.text"},"ts":1274494620000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: it depends on your site’s browser breakdown, but at the top of www.caniuse.com under “other options” there’s “show conclusions”…","msgtype":"m.text"},"ts":1274495220000,"senderName":"boblet","senderId":"boblet@irc"},
{"content":{"body":"basically that’s the same as “if there’s red, don’t use”","msgtype":"m.text"},"ts":1274495280000,"senderName":"boblet","senderId":"boblet@irc"},
{"content":{"body":"ooh this is nice: http://www.germanforblack.com/articles/moving-towards-readable-w3c-specs","msgtype":"m.text"},"ts":1274498700000,"senderName":"boblet","senderId":"boblet@irc"},
{"content":{"body":"Hixie: can we introduce a websocket-version header, as chrome implements draft75, yet chromium implements draft76+","msgtype":"m.text"},"ts":1274523000000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"micheil: versioning means you either are lying or end up with multiple implementations/forks within an implementation, which seems bad. I'd rather just people didn't rely upon a non-final protocol that much :P","msgtype":"m.text"},"ts":1274523840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"micheil: just drop chrome support","msgtype":"m.text"},"ts":1274526900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"micheil: anyway a new header ain't gonna do you any good for supporting already-implemented handshakes :-)","msgtype":"m.text"},"ts":1274526960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and you can distinguish the handshakes unambiguously already if for some reason you really need to support obsolete experimental implementations","msgtype":"m.text"},"ts":1274527020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, I've since relieased that only draft76+ sends sec-* headers","msgtype":"m.text"},"ts":1274527021000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"so, theoretically, I can have a dynamic switching mode to change between 75 and 76 on a per-client basis","msgtype":"m.text"},"ts":1274527560000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"Hmm, a pure ECMAScript templating engine...","msgtype":"m.text"},"ts":1274530740000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I guess I really need some sort of tree model first.","msgtype":"m.text"},"ts":1274530800000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hmm, what would be a good tree model API in ECMAScript...","msgtype":"m.text"},"ts":1274530860000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I guess I good approach would be to take the if-in-any-doubt-go-against-DOM approach","msgtype":"m.text"},"ts":1274530920000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Represent the tree as an array of triples","msgtype":"m.text"},"ts":1274531160000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: How so?","msgtype":"m.text"},"ts":1274531280000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: [[1, \"parent\", 2], [1, \"parent\", 3], [1, \"name\", \"html\"], [2, \"child\", 1], [3, \"child\", 1], ...]","msgtype":"m.text"},"ts":1274531400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah, like that","msgtype":"m.text"},"ts":1274531401000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Then you won't even be limited to tree structures","msgtype":"m.text"},"ts":1274531402000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: :)","msgtype":"m.text"},"ts":1274531403000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: That doesn't address the what's a good API question, unless you intend to just expose the raw data structure","msgtype":"m.text"},"ts":1274531460000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: I can't find a spec for the <meta http-equiv=\"Link\"/> behavior required by http://www.hixie.ch/tests/adhoc/css/cascade/import/002.html","msgtype":"m.text"},"ts":1274531461000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"Hixie: don't know what you want to do about it, but thought I'd mention...","msgtype":"m.text"},"ts":1274531462000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"fantasai: Per HTML5 <meta http-equiv=\"Link\"/> should have no effect","msgtype":"m.text"},"ts":1274531520000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: The test passes in both Mozilla and Opera","msgtype":"m.text"},"ts":1274531521000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"gsnedders: If it's intended to have no effect, the HTML5 spec should clarify","msgtype":"m.text"},"ts":1274531580000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"gsnedders: I didn't find any discussion of it on the lists.","msgtype":"m.text"},"ts":1274531581000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"fantasai: It's specified by a whitelist of http header names","msgtype":"m.text"},"ts":1274531582000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"you could raise it on whatwg⊙wo","msgtype":"m.text"},"ts":1274531583000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: That doesn't change the fact that it looks like the issue was never considered.","msgtype":"m.text"},"ts":1274531584000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"yeah indeed, same for http-equiv=set-cookie","msgtype":"m.text"},"ts":1274531640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(which I raised some time ago)","msgtype":"m.text"},"ts":1274531641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fantasai: I don't think the stylesheet case was, but well, yeah, it seems like it may be worthwhile raising","msgtype":"m.text"},"ts":1274531642000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: Should I post to whatwg, public-html, or both?","msgtype":"m.text"},"ts":1274531700000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"doesn't know what the conventions are for deciding, now that her messages get through to both","msgtype":"m.emote"},"ts":1274531760000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"only had one option before","msgtype":"m.emote"},"ts":1274531761000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"I guess that depends on whether you want no discussion then a reply in six months saying \"ok, I changed the spec\"/\"I'm not going to change the spec\", or whether you want a repeat of all the previous discussions about how the http-equiv value space is meant to be defined by HTTP not HTML","msgtype":"m.text"},"ts":1274532000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"mmm, anyone saw the Android 2.2 Froyo webbrowser JavaScript performance demo?","msgtype":"m.text"},"ts":1274532120000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"Philip`: So what's the convention when you don't care and just want to file the issue and leave?","msgtype":"m.text"},"ts":1274532540000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"fantasai: The WHATWG list is probably simplest, but it doesn't really make that much difference","msgtype":"m.text"},"ts":1274533020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"filing a bug might be even simpler in that scenario","msgtype":"m.text"},"ts":1274533080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(Also there's no guaranteed response to posts on public-html, so you'd have to use the Bugzilla instead)","msgtype":"m.text"},"ts":1274533081000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"annevk: Ok, filed http://www.w3.org/Bugs/Public/post_bug.cgi","msgtype":"m.text"},"ts":1274533560000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1274533561000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"http://www.w3.org/Bugs/Public/show_bug.cgi?id=9797","msgtype":"m.text"},"ts":1274533562000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"gsnedders: I thought you were working on Anolis 2 :p","msgtype":"m.text"},"ts":1274533800000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Um, well...","msgtype":"m.text"},"ts":1274533801000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I got distracted.","msgtype":"m.text"},"ts":1274533802000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Also, I vaugely considered writing a js templating engine a bit like genshi","msgtype":"m.text"},"ts":1274533803000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"but without all the xml crap","msgtype":"m.text"},"ts":1274533860000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Doing it for the pure ES case will be more fun though","msgtype":"m.text"},"ts":1274533861000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"What do you mean \"pure es\"?","msgtype":"m.text"},"ts":1274533862000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The template itself would be executable javascript?","msgtype":"m.text"},"ts":1274533863000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Something that will run in a shell, without all the host objects browsers have","msgtype":"m.text"},"ts":1274533920000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I.e., for this case, no XML/HTML parser, no tree model..","msgtype":"m.text"},"ts":1274533921000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yeah that was part of my design goals (given an API for reading files and so on)","msgtype":"m.text"},"ts":1274533922000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It'll be a lot of work","msgtype":"m.text"},"ts":1274533923000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Given that :(","msgtype":"m.text"},"ts":1274533924000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yeah, writing the template parser was the first part of the project","msgtype":"m.text"},"ts":1274533925000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"html5lib for ES?","msgtype":"m.text"},"ts":1274533980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"basically I figured if you made it like XML but with much less syntax it wouldn't be that bad","msgtype":"m.text"},"ts":1274533981000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I want to be able to take arbitrary HTML input, so I don't have it so easy","msgtype":"m.text"},"ts":1274533982000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"more like XML - doctypes ","msgtype":"m.text"},"ts":1274533983000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Why?","msgtype":"m.text"},"ts":1274534040000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Because creating another language is stupid","msgtype":"m.text"},"ts":1274534041000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Not if it makes it achievable rather than impossible","msgtype":"m.text"},"ts":1274534042000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Anyway it is a pure subset of XML 1.0","msgtype":"m.text"},"ts":1274534100000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so it's not really new","msgtype":"m.text"},"ts":1274534101000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"does wonder what perf would be like of a HTML5 parser in ES","msgtype":"m.emote"},"ts":1274534102000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You can always use hsivonen's GWT one :)","msgtype":"m.text"},"ts":1274534160000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Because all ES engine QAs love GWT, right? :)","msgtype":"m.text"},"ts":1274534161000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yeah, well if you have a project \"make a templating engine\" and stage one is \"write a html5 parser\", it is likely that you will never get past stage one","msgtype":"m.text"},"ts":1274534220000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"wonders if anyone has used pylons","msgtype":"m.emote"},"ts":1274534280000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(in particular I have a trivial pylons + genshi project where I am trying to pass a variable to the template doing something like c.a = \"b\" in the controller. However c in the template always seems to have no properties)","msgtype":"m.text"},"ts":1274534460000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: It wouldn't be so bad if it weren't for zcorpan and all his dammed script states","msgtype":"m.text"},"ts":1274534640000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"is still bitter about that","msgtype":"m.emote"},"ts":1274534641000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"*damned","msgtype":"m.text"},"ts":1274534700000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jgraham: I don't remember seeing anything weird when I tried Pylons before","msgtype":"m.text"},"ts":1274534760000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wants to vary the layout of a blog at thereshouldbenored.com based upon browser bugs, but needs ideas for bugs","msgtype":"m.emote"},"ts":1274534820000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: With genshi?","msgtype":"m.text"},"ts":1274535060000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: yeah","msgtype":"m.text"},"ts":1274535061000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"How long ago? There seems to be a relatively new pylons and a relatively new genshi","msgtype":"m.text"},"ts":1274535120000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"A year or so?","msgtype":"m.text"},"ts":1274535121000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hmm","msgtype":"m.text"},"ts":1274535122000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I think it was just before I started at Opera, in the two weeks between my final exam and leaving for Sweden","msgtype":"m.text"},"ts":1274535123000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I remember using pylons for something one and it working","msgtype":"m.text"},"ts":1274535124000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So it shouldn't be impossible","msgtype":"m.text"},"ts":1274535180000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Anyone tried out BESEN?","msgtype":"m.text"},"ts":1274535600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hmm, seems to work now. No idea what I changed apart from trying to log what was happening, of course...","msgtype":"m.text"},"ts":1274536200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"gsnedders: I take it you don't mean the New York based investment firm, so you might need to give more of a hint","msgtype":"m.text"},"ts":1274536260000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(or indeed the ","msgtype":"m.text"},"ts":1274536320000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://besen.sourceforge.net/","msgtype":"m.text"},"ts":1274536321000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"per the thread on es5-discuss (or maybe es-discuss), currently the only ES engine claiming full ES5 compliance","msgtype":"m.text"},"ts":1274536380000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Given how well it does on Google, I would suggest that no one has tried it (approximatley)","msgtype":"m.text"},"ts":1274536440000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Would be fun to use it to try out something using strict mode","msgtype":"m.text"},"ts":1274536740000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Gah. The ES spec is somewhat ridiculous.","msgtype":"m.text"},"ts":1274538000000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"/foobar/x is a valid syntaxual extension, new RegExp(\"foobar\", \"x\") must throw SyntaxError","msgtype":"m.text"},"ts":1274538001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: do you think it's wise for a server to support dynamic & automated switching between websocket versions?","msgtype":"m.text"},"ts":1274538060000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"so, allow the server to be told to use either draft75 or draft76, or auto","msgtype":"m.text"},"ts":1274538061000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"micheil: I'd say you run the risk of clients never moving to a newer version of the ","msgtype":"m.text"},"ts":1274538062000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"spec and being stuck having to support it forever","msgtype":"m.text"},"ts":1274538063000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"well, the code to support the old one isn't much","msgtype":"m.text"},"ts":1274538120000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"just a different handshake","msgtype":"m.text"},"ts":1274538121000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"substr is non-standard!?","msgtype":"m.text"},"ts":1274538180000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"In the lovely app. B","msgtype":"m.text"},"ts":1274538240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Everyone loves ECMAScript","msgtype":"m.text"},"ts":1274539260000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"micheil: Versioning is bad in the long run. WebSockets is just a bit unstable right now","msgtype":"m.text"},"ts":1274539320000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: yeah, although, right now, chromium supports draft76+","msgtype":"m.text"},"ts":1274539321000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"and chrome does draft75","msgtype":"m.text"},"ts":1274539380000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"making it utter hell for developers wanting to use them","msgtype":"m.text"},"ts":1274539381000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"jgraham: I'm proving how long its been sice I read the spec to be amazed a this","msgtype":"m.text"},"ts":1274539382000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"so what I'm thinking of doing is adding in an automatic upgrade/downgrade to draft75 or 76, unless the server is told to run explicitly on draft76 only.","msgtype":"m.text"},"ts":1274539440000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"micheil, well a) it's still experimental and b) the request is different so it should be as much hell as it would be with versioning","msgtype":"m.text"},"ts":1274539441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that's what I mean, so, I can check if the sec-* headers are sent, if they are, we assume that it's > 75","msgtype":"m.text"},"ts":1274539442000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"otherwise, we assume it's 75.","msgtype":"m.text"},"ts":1274539500000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"(sorta like esmtp vs smtp)","msgtype":"m.text"},"ts":1274539501000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"micheil: Yeah if you need o deploy right now, that will work","msgtype":"m.text"},"ts":1274539560000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so, yeah","msgtype":"m.text"},"ts":1274539561000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"But I would just support 76 and ignore 75; it will disappear soon enough","msgtype":"m.text"},"ts":1274539562000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"76 might disappear too...","msgtype":"m.text"},"ts":1274539620000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(I mean there is a push to change handshake yet again)","msgtype":"m.text"},"ts":1274539621000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(or two different pushes, really)","msgtype":"m.text"},"ts":1274539622000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I guess having multiple different constructors for the various tokens is going to be suboptimal, because it'd mean using isinstance, which is (relatively) slow","msgtype":"m.text"},"ts":1274539800000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Just give each token an id","msgtype":"m.text"},"ts":1274539860000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"+type","msgtype":"m.text"},"ts":1274539861000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Yeah, that's what I was going to do","msgtype":"m.text"},"ts":1274539862000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: What are you actually doing now?","msgtype":"m.text"},"ts":1274539863000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"html5lib for ES ;P","msgtype":"m.text"},"ts":1274539864000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jgraham: you're kidding me.. ?","msgtype":"m.text"},"ts":1274539920000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"micheil: No","msgtype":"m.text"},"ts":1274539921000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"heh heh.","msgtype":"m.text"},"ts":1274539922000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"is there any information on these two pushes?","msgtype":"m.text"},"ts":1274539923000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"gsnedders: Ah, I hope phase two wasn't that significant then :p","msgtype":"m.text"},"ts":1274539924000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"micheil: Sure, on the hybi mailing list","msgtype":"m.text"},"ts":1274539925000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hmm..","msgtype":"m.text"},"ts":1274539926000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"there's archives yes?","msgtype":"m.text"},"ts":1274539927000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"jgraham: I could be evil and have something like function EOFToken() { var t = new Token(); token.type = EOFToken; return token; }","msgtype":"m.text"},"ts":1274539980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Yes you could","msgtype":"m.text"},"ts":1274539981000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But that would just be odd","msgtype":"m.text"},"ts":1274539982000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Also, why are both of us sitting around indoors on IRC when it's a nice sunny day?","msgtype":"m.text"},"ts":1274539983000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"keeps wondering why he is, then fails to come up with a better plan of what to do :P","msgtype":"m.emote"},"ts":1274540040000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"micheil: Basically some people think the handshake will confuse (that is, be hard to implement in) some mixed HTTP/WebSockets servers and some people think that the handshake should be done in TLS instead","msgtype":"m.text"},"ts":1274540100000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"for security reasons","msgtype":"m.text"},"ts":1274540101000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"oh man.","msgtype":"m.text"},"ts":1274540102000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1274540103000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"if you require TLS you'd be adding a barrier.","msgtype":"m.text"},"ts":1274540104000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"Indeed","msgtype":"m.text"},"ts":1274540105000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"the current awesome thing about websockets is that anyone can start a server for it","msgtype":"m.text"},"ts":1274540106000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"switch uses non-strict equality, right?","msgtype":"m.text"},"ts":1274540107000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The argument goes \"everyone will just use libraries to do TLS\"","msgtype":"m.text"},"ts":1274540160000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and, thanks, but the new websocket draft76 handshake isn't hard to implement in the server level","msgtype":"m.text"},"ts":1274540161000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"gsnedders: I think, but you aren't going to depend on that, right? :)","msgtype":"m.text"},"ts":1274540162000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: It just makes it unusable for my case :)","msgtype":"m.text"},"ts":1274540163000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"yes, it required a small change to how we handled requests in node, but overall, the only difficulty is the implementation of the security headers","msgtype":"m.text"},"ts":1274540220000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"because of the various datatypes it uses","msgtype":"m.text"},"ts":1274540221000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"it's hard to implement, but not impossible / extremely hard","msgtype":"m.text"},"ts":1274540222000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"it just means a little more code.","msgtype":"m.text"},"ts":1274540223000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"jgraham: (I have a charsMask function that returns false at EOF, otherwise whatever does or does not match the mask, possibly \"\")","msgtype":"m.text"},"ts":1274540224000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(I don't buy the libraries argument myself; it is barely possible in the python stdlib and the puported third party alternatives are not that well known for being simple)","msgtype":"m.text"},"ts":1274540280000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(and the python stdlib is unusually good)","msgtype":"m.text"},"ts":1274540340000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"micheil: If you think this would be a serious impediment to you I think you should say so on the list","msgtype":"m.text"},"ts":1274540400000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I'm not a technical person, I'm just a protocol implementor","msgtype":"m.text"},"ts":1274540460000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"although, really, the current spec looks rather good","msgtype":"m.text"},"ts":1274540461000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"(I have had code having it work, in plain JS, it was a bit difficult, but really, most other languages have better datatypes then js)","msgtype":"m.text"},"ts":1274540462000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"notes that http://philip.html5.org/tools/parser/ exists as an HTML5 parser in JS, albeit rather incompletely and buggy and inefficient","msgtype":"m.emote"},"ts":1274540520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham: I'm also tempted doing this to follow hsivonen's example and make it a DFA, never rewinding the data stream","msgtype":"m.text"},"ts":1274540521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: and ld","msgtype":"m.text"},"ts":1274540522000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"*old","msgtype":"m.text"},"ts":1274540523000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Age is unimportant","msgtype":"m.text"},"ts":1274540580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Incompleteness and bugginess and inefficiency may be important, though)","msgtype":"m.text"},"ts":1274540581000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Wait, that's created from the OCaml impl, right?","msgtype":"m.text"},"ts":1274540582000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The _auto.js files are","msgtype":"m.text"},"ts":1274540583000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: In this case age directly implies \"buggy\" though","msgtype":"m.text"},"ts":1274540640000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Unless your original bugs happened to exactly match the subsequent spec changes","msgtype":"m.text"},"ts":1274540641000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which would be impressive","msgtype":"m.text"},"ts":1274540642000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Not directly - age plus spec changes implies buggy","msgtype":"m.text"},"ts":1274540643000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah but we know apriori that spec changed has occurred","msgtype":"m.text"},"ts":1274540644000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Someone ought to update the Python impl to match the spec","msgtype":"m.text"},"ts":1274540700000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I have made some changes","msgtype":"m.text"},"ts":1274540701000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"And the PHP one too","msgtype":"m.text"},"ts":1274540702000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Locally","msgtype":"m.text"},"ts":1274540703000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Also, did you win?","msgtype":"m.text"},"ts":1274540704000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I was going to bring back the python 3 implementation this weekend but I'm not sure I will get around to it now","msgtype":"m.text"},"ts":1274540705000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"gsnedders: hahahaha","msgtype":"m.text"},"ts":1274540706000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(I'm expecting not.)","msgtype":"m.text"},"ts":1274540760000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(I guess laughter confirms that.)","msgtype":"m.text"},"ts":1274540761000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hmm.. are all the messages in the mailing list about websockets pretty much from that Simon from opera?","msgtype":"m.text"},"ts":1274541000000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"Most discussion nowadays is about the protocol which is mainly on the HyBi list","msgtype":"m.text"},"ts":1274541001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"HyBi list?","msgtype":"m.text"},"ts":1274541060000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"I'm looking at: http://www.whatwg.org/mailing-list","msgtype":"m.text"},"ts":1274541120000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"https://www.ietf.org/mailman/listinfo/hybi","msgtype":"m.text"},"ts":1274541480000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Notice http://www.ietf.org/mail-archive/web/hybi/current/msg01948.html","msgtype":"m.text"},"ts":1274541481000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and http://www.ietf.org/mail-archive/web/hybi/current/msg02003.html","msgtype":"m.text"},"ts":1274541540000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"right, well, for one, ssl will kill websockets, as ssl is fairly difficult to implement (in a good way)","msgtype":"m.text"},"ts":1274541600000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"notices where Motala is again, seeming he always forgets","msgtype":"m.emote"},"ts":1274541601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I still have no idea whether node.js even supports ssl, which is where I'm seeing a large increase in interest of websockets","msgtype":"m.text"},"ts":1274541602000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"I think there's plenty of interest not related to node.js","msgtype":"m.text"},"ts":1274541660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"true, although, yeah","msgtype":"m.text"},"ts":1274541720000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"my point still standards, SSL is fairly heavy stuff; and as for implementing, well, what is it, openssl or gnutls?","msgtype":"m.text"},"ts":1274541780000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"But I agree \"just use sockets\" and \"just use twisted\" (to reuse othermaciej's python example) are rather different uses of the word \"just\"","msgtype":"m.text"},"ts":1274541781000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and, I like the idea of having wss and ws, they server a good purpose.","msgtype":"m.text"},"ts":1274541840000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"although, I don't really have any legs to stand on as far as technical chops; I can just read specs and implement them (hopefully).","msgtype":"m.text"},"ts":1274541900000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"So, uh, anolis 2.","msgtype":"m.text"},"ts":1274542080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"micheil: You seem ideally placed to answer questions like \"is X too big a barrier for typical server developers\"","msgtype":"m.text"},"ts":1274542320000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(of course it may be that the security argument wins over convenience, in which case we jsut have to suck up the fact that therewill be far less diversity of implemntation)","msgtype":"m.text"},"ts":1274542500000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1274542680000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"jgraham: I guess the other thing to note, is if you want some super strength security on your websockets, then we've already got wss","msgtype":"m.text"},"ts":1274542860000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"which is, afaik, much like https","msgtype":"m.text"},"ts":1274542920000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"I think the point is not to protect the data being transmitted, but to protect non-websockets servers","msgtype":"m.text"},"ts":1274543040000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So optional wss doesn't help","msgtype":"m.text"},"ts":1274543041000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'm confused there, tbh.","msgtype":"m.text"},"ts":1274543100000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"a normal server should not be handling an upgrade request like an ordinary http request, should it?","msgtype":"m.text"},"ts":1274543101000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"A normal server could be anything, not just http","msgtype":"m.text"},"ts":1274543160000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"okay, non-websocket server then","msgtype":"m.text"},"ts":1274543220000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"a non-websocket server just simply doesn't respond to a websocket upgrade request","msgtype":"m.text"},"ts":1274543221000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"Say you could construct the websocket handshake in just such a way that a smtp server (for example) would see a commnt (smtp probably doesn't have comments but let's pretend)","msgtype":"m.text"},"ts":1274543222000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and then once you were connected, you would start sending smtp","msgtype":"m.text"},"ts":1274543223000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"that would be bad","msgtype":"m.text"},"ts":1274543280000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(that's odd, I actually know a fair bit of the smtp protocol, I was implementing that for node.js as well)","msgtype":"m.text"},"ts":1274543281000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"I know roughly nothing about smtp","msgtype":"m.text"},"ts":1274543282000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so, what, you mean connecting to a server, then faking a connection, like connecting via telnet","msgtype":"m.text"},"ts":1274543283000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"jgraham: s/ about.*//","msgtype":"m.text"},"ts":1274543340000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: That is true of everyone though and is therefore a less interesting observation","msgtype":"m.text"},"ts":1274543341000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"micheil: Yes","msgtype":"m.text"},"ts":1274543342000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"right, but that's an attack vector in.. well, pretty much every protocol, isn't it?","msgtype":"m.text"},"ts":1274543400000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"I mean, even if you do requrie tls / ssl connections, you can still do it.","msgtype":"m.text"},"ts":1274543401000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"decides to try out geotagging photos from tracks recorded on his phone","msgtype":"m.emote"},"ts":1274543402000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"micheil: I'm not an expert","msgtype":"m.text"},"ts":1274543403000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But yes it applies to more than just websockets","msgtype":"m.text"},"ts":1274543460000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"well, of the protocols I've seen, most are somewhat malleable through telnet or ssl telnet","msgtype":"m.text"},"ts":1274543461000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"so, by saying that websockets requires more then any other protocol seems rather odd to me.","msgtype":"m.text"},"ts":1274543462000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"It's the other way around; you shouldn't be able to talk some other protocol using websockets","msgtype":"m.text"},"ts":1274543520000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"just like you can't talk smtp by carefully constructing http requests","msgtype":"m.text"},"ts":1274543521000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"although, we have to remember that websockets are an extension to http.","msgtype":"m.text"},"ts":1274543522000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"(so websockets shouldn't be like telnet which does allow you to talk random other protocols)","msgtype":"m.text"},"ts":1274543580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"unless of course you make them not an extension on http","msgtype":"m.text"},"ts":1274543581000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"They are not really an exension of HTTP","msgtype":"m.text"},"ts":1274543582000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"at the same instance, a websocket client probably couldn't talk to smtp","msgtype":"m.text"},"ts":1274543583000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"jgraham: well why aren't they a separate protocol from the start then?","msgtype":"m.text"},"ts":1274543640000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"eg, using a custom packet format, etc.","msgtype":"m.text"},"ts":1274543641000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"micheil: I don't recall everything but it is likely to do with playing nice with existing infrastructure","msgtype":"m.text"},"ts":1274543700000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"right.","msgtype":"m.text"},"ts":1274543701000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"sorry, this is all a bit confusing, is it we currently have something that plays with existing infrastructure, but someone else saying that's a security flaw?","msgtype":"m.text"},"ts":1274543702000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"No it's only a security flaw if you can abuse the protocol ","msgtype":"m.text"},"ts":1274543760000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hmm.. it just occurred to me that it may, and may only just be possible to connect to a websocket server using an xmlhttprequest","msgtype":"m.text"},"ts":1274543761000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"because you have access to the headers on a xmlhttprequest","msgtype":"m.text"},"ts":1274543762000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"I don't think that matters","msgtype":"m.text"},"ts":1274544180000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The problem is using websockets to access something that isn't websockets","msgtype":"m.text"},"ts":1274544240000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"from client or server?","msgtype":"m.text"},"ts":1274544360000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"client","msgtype":"m.text"},"ts":1274544361000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hm...","msgtype":"m.text"},"ts":1274544362000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"I don't think that'd be possible, as the client initiates with that GET request","msgtype":"m.text"},"ts":1274544420000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"which most other protocols would not understand, would they?","msgtype":"m.text"},"ts":1274544421000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"Yeah probably most. The trick is to make it \"all\"","msgtype":"m.text"},"ts":1274544422000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"well, I can't think of one off the top of my head that would understand a http request but not be a http server","msgtype":"m.text"},"ts":1274544480000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"The argument is that \"I can't think of why this won't work\" isn't good enough for security","msgtype":"m.text"},"ts":1274544540000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1274544600000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"it sort of like saying that someone abusing an smtp client could maybe pass off as something else.","msgtype":"m.text"},"ts":1274544601000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"there's so many different protocols, that with enough time & effort, you could probably pass on off for the other","msgtype":"m.text"},"ts":1274544720000,"senderName":"micheil","senderId":"micheil@irc"},
{"content":{"body":"micheil: With the current websockets handshake you would need to trick the server into responding with the right value computed from the random bytes and th key headers","msgtype":"m.text"},"ts":1274547660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That seems challenging; the question is whether it is good enough","msgtype":"m.text"},"ts":1274547661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"7.15km, I think that counts as a reasonable walk","msgtype":"m.text"},"ts":1274548500000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Sigh. html5lib is crashing python","msgtype":"m.text"},"ts":1274552460000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well I gues lxml is really to blame","msgtype":"m.text"},"ts":1274552461000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But still I have no idea why this is happening...","msgtype":"m.text"},"ts":1274552462000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(it works fine to run the same code in ipython)","msgtype":"m.text"},"ts":1274552463000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Agh, not the list @type thing again","msgtype":"m.text"},"ts":1274553060000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Unless there's a <ref> element to do automatic backreferences, it makes no sense to call it semantic","msgtype":"m.text"},"ts":1274553120000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"http://news.ycombinator.com/item?id=1369950 -- we need a html5 parser in Haskell :)","msgtype":"m.text"},"ts":1274553300000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I thought Philip` already had one","msgtype":"m.text"},"ts":1274553301000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"That was O'Caml","msgtype":"m.text"},"ts":1274553302000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Oh","msgtype":"m.text"},"ts":1274553303000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"jgraham: I know a bunch of Haskell fanbois who deal with HTML and related stuff...","msgtype":"m.text"},"ts":1274553360000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"\"a bunch\" == 2","msgtype":"m.text"},"ts":1274553420000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"True","msgtype":"m.text"},"ts":1274553421000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Pretty disappointing if we were talking about bananas","msgtype":"m.text"},"ts":1274553422000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But we're not talking about bananas.","msgtype":"m.text"},"ts":1274553423000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Depends what ou think about Haskell fanbois really","msgtype":"m.text"},"ts":1274553480000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I usually buy bananas in bunches of 2","msgtype":"m.text"},"ts":1274553481000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"They go overripe too fast to buy more at a time","msgtype":"m.text"},"ts":1274553482000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I'm pretty sure that would be a pair of bananas","msgtype":"m.text"},"ts":1274553483000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"No, see, there's a big bunch in the store, and then I split it into two smaller bunches, one of which has two","msgtype":"m.text"},"ts":1274553540000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"If you split it into N-1 and 1, would you describe it as a bunch of one?","msgtype":"m.text"},"ts":1274553541000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"No, because then there would be no bunching, just a single banana","msgtype":"m.text"},"ts":1274553542000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"But the bunch of two is a fully connected entity","msgtype":"m.text"},"ts":1274553543000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"If you split them apart, it'd be a pair of bananas","msgtype":"m.text"},"ts":1274553600000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Nevertheless \"bunch\" typically implies \"large group\"","msgtype":"m.text"},"ts":1274553601000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But this isn't a normal-size bunch, it's a rather small bunch","msgtype":"m.text"},"ts":1274553720000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"It depends if the critical feature of being a bunch in this case is a) banananess b) connectedness c) magnitude","msgtype":"m.text"},"ts":1274553780000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I guess b) is plausible","msgtype":"m.text"},"ts":1274553840000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Ryanair is evil. The flight times are close to what I want. If the times of the flights on Friday and Saturday were the other way around everything would be fine...","msgtype":"m.text"},"ts":1274560560000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Well, apart from the fact it's still Ryanair","msgtype":"m.text"},"ts":1274560620000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But at least I could fly at the time of day I want.","msgtype":"m.text"},"ts":1274560621000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Which is about all you can wish for with Ryanair)","msgtype":"m.text"},"ts":1274560622000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jgraham: to a very close approximation, you can't send a handshake with websocket that looks different enough from HTTP for a cross-protocol attack to be an issue","msgtype":"m.text"},"ts":1274562060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Too many negatives combined with \"approximaion\"","msgtype":"m.text"},"ts":1274563080000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"the current handshake is fine","msgtype":"m.text"},"ts":1274563140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: That's what I'm hoping :)","msgtype":"m.text"},"ts":1274563141000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I hate OSX","msgtype":"m.text"},"ts":1274563320000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Could adobe please release lightroom for linux","msgtype":"m.text"},"ts":1274563380000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Thaen all I would need would be some decent non-apple laptop (or even an apple laptop running linux) and I could be happy","msgtype":"m.text"},"ts":1274563381000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(I am trying to rebuild lxml to see if the previous crash has been fixed and it doesn't compile. No one on other platforms has these issues)","msgtype":"m.text"},"ts":1274563560000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"lxml issues fixed... finally","msgtype":"m.text"},"ts":1274564820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"anyone like to give me some feedback on a flowchart for sectioning content (the dreaded article vs section difference etc)?","msgtype":"m.text"},"ts":1274572320000,"senderName":"boblet","senderId":"boblet@irc"},
{"content":{"body":"aaw","msgtype":"m.text"},"ts":1274572440000,"senderName":"boblet","senderId":"boblet@irc"}
]