[
{"content":{"body":"I would like to add a spec step for \"discarding\" an environment when the navigation fails (context at https://github.com/w3c/ServiceWorker/pull/1315). Can I just use the English word \"discard\" as the reverse of \"create\"? The spec already just says: \"Create a new environment\" in https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigating-across-documents:process-a-navigate-fetch.  Or does it need to be more formal","msgtype":"m.text"},"ts":1527645930000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"somehow: define the term \"discard\" which actually have steps but allows other specs to \"wait for the environment to be discarded\".","msgtype":"m.text"},"ts":1527645930000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"\"which doesn't actually have steps\"","msgtype":"m.text"},"ts":1527645950000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"falken: it seems like there's a particular point in the navigation algorithm you want to insert your steps at? In which case adding such a step, e.g. \"X. At this point the environment <var>env</var> is <dfn>discarded</dfn>\" or \"X. Run the <dfn>discarding steps</dfn> for <var>env</var>\" seems ideal, to pinpoint the exact point relative to other steps in the algorithm at which your steps run.","msgtype":"m.text"},"ts":1527649170000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yes that makes sense","msgtype":"m.text"},"ts":1527649930000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"Domenic: sent a PR","msgtype":"m.text"},"ts":1527651594000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"jochen__: heya, if you want to pitch your restricting ports for same site checks idea, now would be good time: https://github.com/whatwg/fetch/issues/687#issuecomment-392722063","msgtype":"m.text"},"ts":1527664485000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jochen__: the main question is how much it's worth the trouble","msgtype":"m.text"},"ts":1527664516000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Costly as in for people's privacy (the people that depend on the legacy values right now)?","msgtype":"m.text"},"ts":1527665597000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: mostly getting all impls to change","msgtype":"m.text"},"ts":1527665639000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: and tests, and making sure everyone agrees this should actually go","msgtype":"m.text"},"ts":1527665673000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Ah, right.","msgtype":"m.text"},"ts":1527666298000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Hmm, I updated html and html-build and now I'm getting a wattsi error when trying to build","msgtype":"m.text"},"ts":1527670217000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"syntax:: integer expression expected","msgtype":"m.text"},"ts":1527670221000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"wattsi: invalid arguments","msgtype":"m.text"},"ts":1527670222000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"syntax:","msgtype":"m.text"},"ts":1527670222000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"  wattsi [--quiet] <source-file> <output-directory> <caniuse.json> <bugs.csv>","msgtype":"m.text"},"ts":1527670223000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"anyone else seeing the same?","msgtype":"m.text"},"ts":1527670231000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: did you update wattsi?","msgtype":"m.text"},"ts":1527670420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm now looking into that, but don't remember how I got the binary in the first place","msgtype":"m.text"},"ts":1527670447000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: we updated all the things yesterday to prepare for Review Drafts","msgtype":"m.text"},"ts":1527670476000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: that included changes to wattsi","msgtype":"m.text"},"ts":1527670484000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: you could remove wattsi from your PATH and then it should get invoked remotely on a build server","msgtype":"m.text"},"ts":1527670508000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: that should work, though I'm not a 100% sure that the build server is updated","msgtype":"m.text"},"ts":1527670526000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that sounds easier than upgrading :)","msgtype":"m.text"},"ts":1527670534000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I'll give it a try","msgtype":"m.text"},"ts":1527670539000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"thanks!","msgtype":"m.text"},"ts":1527670540000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"@annevk managed to find and update wattsi. Thanks! :)","msgtype":"m.text"},"ts":1527670791000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"@s people here for some reason :facepalm:","msgtype":"m.emote"},"ts":1527670832000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Too much proprietary messaging services can really get to you","msgtype":"m.text"},"ts":1527670869000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I signed up for a corporate Slack account the other day ðŸ˜•","msgtype":"m.text"},"ts":1527670901000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, I blame slack as well...","msgtype":"m.text"},"ts":1527674283000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"JakeA: if you could look at the XXX comment I added in the second commit here https://github.com/whatwg/fetch/pull/736 that'd be cool","msgtype":"m.text"},"ts":1527679787000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: if you don't immediately know no need to do the research though; I'll get to it","msgtype":"m.text"},"ts":1527679809000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I wanted to make it so headers.delete('range') worked. It seemed weird that headers.delete('range') would be prevented, but headers.delete('accept') would be allowed, but that would also delete the range header","msgtype":"m.text"},"ts":1527680054000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"foolip: regarding the flakiness at https://github.com/web-platform-tests/wpt/pull/11227","msgtype":"m.text"},"ts":1527680434000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: yes? :)","msgtype":"m.text"},"ts":1527680490000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"just so that I'd know I understand you correctly: if the test produces the same number of tests at each run in Firefox, but the results for those tests could be passing or failing","msgtype":"m.text"},"ts":1527680493000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Is that considered flaky?","msgtype":"m.text"},"ts":1527680502000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"That would be flaky, yes.","msgtype":"m.text"},"ts":1527680530000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"that's what I thought...","msgtype":"m.text"},"ts":1527680541000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Is the test trying to ensure more about the Chromium implementation that the spec actually requires?","msgtype":"m.text"},"ts":1527680563000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Not really, I suspect the flakiness is the result of Firefox's resource loading implementation","msgtype":"m.text"},"ts":1527680585000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"or RT implementation","msgtype":"m.text"},"ts":1527680590000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"e.g. I see that on some runs, some resources are never reported","msgtype":"m.text"},"ts":1527680608000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"it's not clear yet if they are downloaded and not reported, or never downloaded in the first place","msgtype":"m.text"},"ts":1527680631000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"If a Firefox bug is causing the flakiness, then that's not blocking, but can you file a Gecko bug with a snapshot of the test case, something that won't change over time?","msgtype":"m.text"},"ts":1527680643000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: I'll make sure that I'm not getting this wrong, and then will file one","msgtype":"m.text"},"ts":1527680686000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: great, thanks!","msgtype":"m.text"},"ts":1527680699000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: Is there some way to see a current \"flakiness dashboard\" for that test before the change? https://wpt.fyi/results/resource-timing/resource_initiator_types.html just shows it's failing","msgtype":"m.text"},"ts":1527680940000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"foolip: if I'm correct, it would've been flaky before the change","msgtype":"m.text"},"ts":1527680976000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: no, we have no flakiness tracking for wpt.fyi yet. please file an issue, it has more weight when someone other than me requests things :)","msgtype":"m.text"},"ts":1527680979000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1527680987000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"(I ask for lots of things)","msgtype":"m.text"},"ts":1527680993000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: Would that fall under https://github.com/web-platform-tests/wpt.fyi/issues/66 or you want a new one?","msgtype":"m.text"},"ts":1527681053000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: oh look, I've already asked. So chime in with support there then :)","msgtype":"m.text"},"ts":1527681079000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1527681085000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"foolip: testing locally, the test was flaky before my changes, for the same reasons","msgtype":"m.text"},"ts":1527681439000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"JakeA: oh right, I totally misread what that code would do","msgtype":"m.text"},"ts":1527681480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: thanks","msgtype":"m.text"},"ts":1527681484000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: sounds like https://github.com/web-platform-tests/wpt/pull/11229, with a preexisting problem. I plan to file a Chromium bug with repro and then merge the PR as is.","msgtype":"m.text"},"ts":1527681536000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"annevk: thx for the ping","msgtype":"m.text"},"ts":1527681988000,"senderName":"jochen__","senderId":"jochen__@irc"},
{"content":{"body":"foolip: wait, there's another possibility. Maybe this test just doesn't wait long enough for some resources to make sure they are loaded...","msgtype":"m.text"},"ts":1527682074000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"nah, that's not it :/","msgtype":"m.text"},"ts":1527682554000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"foolip: Commented on https://bugzilla.mozilla.org/show_bug.cgi?id=1459140","msgtype":"m.text"},"ts":1527682937000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"...is scrollPathIntoView() not implemented?","msgtype":"m.text"},"ts":1527683072000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/scrollPathIntoView#Browser_compatibility","msgtype":"m.text"},"ts":1527683126000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Blink-only it seems","msgtype":"m.text"},"ts":1527683153000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"under a flag","msgtype":"m.text"},"ts":1527683183000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ExperimentalCanvasFeatures","msgtype":"m.text"},"ts":1527683198000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"experimental web platform fetaures enabled it it seems. thanks MikeSmith","msgtype":"m.text"},"ts":1527683613000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"cheers","msgtype":"m.text"},"ts":1527683643000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"gets confused by seeing ed listed as an editor (@ Opera Software ASA), then realises he's ended up on /TR/, argh","msgtype":"m.emote"},"ts":1527684183000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Use a browser or extension that lets you add style to a domain, give all /TR specs something obvious like a weird background?","msgtype":"m.text"},"ts":1527695225000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: my preferred solution here is to \"get around to writing an extension that redirects from /TR/ to EDs\"","msgtype":"m.text"},"ts":1527695296000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Domenic annevk: Infra says that variables must be \"block scoped\", but just links to Wikipedia for the definition of that term. It's... not clear what that actually means for HTML. Can you expand the definition to actually say what elements should establish scope, so I can start enforcing that in Bikeshed?","msgtype":"m.text"},"ts":1527697034000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: <ol>, basically?","msgtype":"m.text"},"ts":1527697056000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Does dl count? (Or maybe the <dd>?)","msgtype":"m.text"},"ts":1527697097000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: <dd> would","msgtype":"m.text"},"ts":1527697182000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if you let in the opening <p> there or some such it shouldn't escape","msgtype":"m.text"},"ts":1527697197000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Typically though a <dd> with lets would contain an <ol> directly","msgtype":"m.text"},"ts":1527697238000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Typically but not always. I'd just like to have that specified in Infra so I have a clear rule to follow, and something to point people towards in the Bikeshed docs. ^_^","msgtype":"m.text"},"ts":1527698358000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I mean I don't think Infra will talk about specific HTML elements, but maybe about indentation or similar...","msgtype":"m.text"},"ts":1527698404000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Curious - why wouldn't it?","msgtype":"m.text"},"ts":1527698418000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"It seems wrong for Infra to depend on specific spec-writing languages.","msgtype":"m.text"},"ts":1527698453000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Like if you wanted to write an RFC you should still be able to use Infra.","msgtype":"m.text"},"ts":1527698466000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(Or perhaps more interestingly, if you wanted to use Markdown.)","msgtype":"m.text"},"ts":1527698475000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah, I agree with that, e.g., Infra talks about steps; not <li> or <p>","msgtype":"m.text"},"ts":1527698594000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If it's too vague or the mapping to HTML is unclear we should make it more specific I suppose","msgtype":"m.text"},"ts":1527698626000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: Bikeshed is now giving me \"Missing a 'TR' entry\" for WHATWG review drafts :(. I think maybe I didn't test after making RDs into a snapshot status?","msgtype":"m.text"},"ts":1527700223000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: It's 100% vague at the moment, so yeah, it definitely needs *something* more specific. I currently have *literally zero idea* what \"block-scoped\" is supposed to mean in terms of HTML.","msgtype":"m.text"},"ts":1527700344000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Domenic: Ah yeah, it'll want that. Hm.","msgtype":"m.text"},"ts":1527700356000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I have a fix, I'll post it and let you review if you like it","msgtype":"m.text"},"ts":1527700371000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: Also, Markdown is just an HTML syntax, so that's fine. Y^_^","msgtype":"m.text"},"ts":1527700375000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1527700379000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"https://github.com/tabatkins/bikeshed/pull/1256","msgtype":"m.text"},"ts":1527700488000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"TabAtkins: RFCs aren't quite HTML though","msgtype":"m.text"},"ts":1527700540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Sure. But it's easy enough to say \"in HTML, this means ...\"","msgtype":"m.text"},"ts":1527700856000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"RFCs are moving from a situation where `<dt>title<dd>content` is represented as <t hangText=\"title\">content</t> (https://tools.ietf.org/html/rfc7749#section-2.38.2) to representing it like HTML: https://tools.ietf.org/html/rfc7991#section-2.18.","msgtype":"m.text"},"ts":1527701635000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"how should runtimes that aren't browsers consume wpt","msgtype":"m.text"},"ts":1527711288000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I see node just did some intense copy paste but assuming you don't have a team of collabs","msgtype":"m.text"},"ts":1527711305000,"senderName":"devsnek","senderId":"devsnek@irc"}
]