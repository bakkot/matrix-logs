[
{"content":{"body":"MessagePorts are supposed to implement EventTarget - does that mean that if I register an onmessage listener on a port, that my onmessage listener can get a reference to the port via the event.target attribute? Or is that only for DOM events?","msgtype":"m.text"},"ts":1237939200000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"yes, it does mean that","msgtype":"m.text"},"ts":1237939201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well yeah, I'm biased both ways, but chaals appreciates honesty","msgtype":"m.text"},"ts":1237939202000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"annevk3: feel free to support me on the list then :-P","msgtype":"m.text"},"ts":1237939203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, since when are we doing +1 emails? :p","msgtype":"m.text"},"ts":1237939260000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":":-P","msgtype":"m.text"},"ts":1237939261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"That implies that we can't GC message ports if there are any messages in-flight even if there are no references to either endpoint's message port, since the messages themselves contain an inherent reference to the port. I could ping-pong messages back and forth between two ports using only listeners, with no active references to the ports.","msgtype":"m.text"},"ts":1237939262000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"atw: correct, the spec even explicitly says that iirc","msgtype":"m.text"},"ts":1237939320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Not so - the spec says: \"Thus, a message port can be received, given an event listener, and then forgotten, and so long as that event listener could receive a message, the channel will be maintained.","msgtype":"m.text"},"ts":1237939380000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"Of course, if this was to occur on both sides of the channel, then both ports would be garbage collected, since they would not be reachable from live code, despite having a strong reference to each other.\"","msgtype":"m.text"},"ts":1237939381000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"Ah, but.","msgtype":"m.text"},"ts":1237939382000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"The next line :)","msgtype":"m.text"},"ts":1237939383000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"It does say that you can't GC a port while there's a message in flight, and the previous paragraph implies that this would keep the entangled port from being GC'd. OK, thnx.","msgtype":"m.text"},"ts":1237939440000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"I for some reason couldn't hold those two facts in my brain at once.","msgtype":"m.text"},"ts":1237939441000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"i can make it clearer if you want","msgtype":"m.text"},"ts":1237939442000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"drop me a mail?","msgtype":"m.text"},"ts":1237939443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm in the middle of the svg edits right now","msgtype":"m.text"},"ts":1237939444000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so can't make changes","msgtype":"m.text"},"ts":1237939445000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Sure, but in retrospect I think it's plenty clear. Thx.","msgtype":"m.text"},"ts":1237939446000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"Hixie, SVG is going to be commented \"in\"?","msgtype":"m.text"},"ts":1237940520000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"(I guess the quotemarks should have been around commented....)","msgtype":"m.text"},"ts":1237940521000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"clearly needs to go to sleep; night all!","msgtype":"m.emote"},"ts":1237940580000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"Hixie, personally, I think supporting <![CDATA[]]> sections in SVG scripts, but not in HTML scripts is silly. I would prefer that we just made <script> parse as CDATA for both HTML and SVG, as that makes it easier for authors","msgtype":"m.text"},"ts":1237941780000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"well, at least, it makes it more consistent","msgtype":"m.text"},"ts":1237941781000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"we can't do that while satisfying the svgwg's goal","msgtype":"m.text"},"ts":1237941782000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't agree with the SVG WG's goal","msgtype":"m.text"},"ts":1237941783000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"neither do i, but we can't just throw out people's requirements willy nilly just because we don't like them","msgtype":"m.text"},"ts":1237941840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think making SVG as XML entirely compatible with text/html, including XML's syntactic sugar, is a non-goal","msgtype":"m.text"},"ts":1237941841000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"er, I don't think I said that quite right. But you should get what I mean","msgtype":"m.text"},"ts":1237941842000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"their goal is to be able to take svg documents created by xml serialisers and paste them into text/html docs","msgtype":"m.text"},"ts":1237941900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah. I don't agree with that","msgtype":"m.text"},"ts":1237941901000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"you think we should prevent it, or you think it's not important?","msgtype":"m.text"},"ts":1237941902000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i.e. do you think it's an anti-goal, or a non-goal?","msgtype":"m.text"},"ts":1237941903000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think text/html SVG and XML SVG should be just as compatible as HTML and XHTML","msgtype":"m.text"},"ts":1237941904000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"that's a fine goal too, but it conflicts with their goal","msgtype":"m.text"},"ts":1237941960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I know. i don't care about their goal","msgtype":"m.text"},"ts":1237941961000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"they do","msgtype":"m.text"},"ts":1237942020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I care about making the authoring requirements consistent for authors","msgtype":"m.text"},"ts":1237942021000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"they care about being able to paste svg images into text/html","msgtype":"m.text"},"ts":1237942080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wtf, windows is actually forcing me to reboot with a 30 minute countdown","msgtype":"m.text"},"ts":1237942140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sure. But I don't think it's necessary to be able to do that with SVG designed for XML processing to be copy and pasteable entirely without modification. I think requiring authors to strip (or comment out) unsupported XML syntactic sugar like CDATA sections","msgtype":"m.text"},"ts":1237942200000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"and they disagree","msgtype":"m.text"},"ts":1237942201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so the same way authors do <script>/*<![CDATA[ */ ... /* ]]> */</script> for XHTML as text/html, so should they for SVG as text/html","msgtype":"m.text"},"ts":1237942202000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"this is why opinion-based arguments don't work. there's no way to win them.","msgtype":"m.text"},"ts":1237942203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mine isn't opinion based. It's based on making rules consistent for authors","msgtype":"m.text"},"ts":1237942260000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"so hand coding is easier","msgtype":"m.text"},"ts":1237942261000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"what about sicking's suggestion for script/css CDATA parsing?","msgtype":"m.text"},"ts":1237942380000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"and theirs isn't opinion based, it's based on making authoring easier for authors","msgtype":"m.text"},"ts":1237942381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so hand coding is easier","msgtype":"m.text"},"ts":1237942382000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(they're both opinions)","msgtype":"m.text"},"ts":1237942383000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"shepazu: that breaks your goal","msgtype":"m.text"},"ts":1237942384000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmmm... how so?","msgtype":"m.text"},"ts":1237942440000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"the opinion part of it is which is more important: hand authoring, or paste authoring from existing SVG authoring tools","msgtype":"m.text"},"ts":1237942441000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"sorry if I'm being dense, but it seemed to solve the issue...","msgtype":"m.text"},"ts":1237942442000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"shepazu: making text/html not use xml-like parsing means that you can't guarantee that an xml svg file will work in text/html, no?","msgtype":"m.text"},"ts":1237942500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, the SVG WG's goals seem to be to try and maintain as much XML-like strictness as possible. I have not seen any suggestion from the SVG WG specifically designed to optimise hand coding","msgtype":"m.text"},"ts":1237942560000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"anyway, I'm not looking forward to try and explain the rules for dealing with script elements to authors now that the rules differ for HTML and SVG fragments.","msgtype":"m.text"},"ts":1237942620000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I thought sicking suggested supporting <![CDATA[]]> sections in HTML scripts and SVG scripts?","msgtype":"m.text"},"ts":1237942621000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"i don't see any sane way to support <![CDATA[ ]]> in regular HTML given the crazy \"magic <!-- -->\" processing","msgtype":"m.text"},"ts":1237942680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<![CDATA[]]> is not strictly necessary with SVG scripts... just when Offending Characters might be present, right?","msgtype":"m.text"},"ts":1237942681000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"<![CDATA[ ]]> is never necessary in XML","msgtype":"m.text"},"ts":1237942682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's just a syntactic alternative to escaping characters using numeric character references (\"entities\")","msgtype":"m.text"},"ts":1237942740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think it was a mistake for CDATA sections to be exposed in the DOM","msgtype":"m.text"},"ts":1237942741000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1237942742000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"shepazu, the problem is when authors using XML don't use CDATA sections and encode <, >, and & as character refs","msgtype":"m.text"},"ts":1237942800000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"heycam: me too, but that's actually academic here","msgtype":"m.text"},"ts":1237942801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"when they do use them, the solution to make the script compatible with both XML and text/html is to comment out the <![CDATA[ ]]> markup. with /* */ or //","msgtype":"m.text"},"ts":1237942802000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"the best thing would be to have a browser with significant market share implement a consistent mechanism (whatever that might be), and prove that it doesn't break sites and is implementable","msgtype":"m.text"},"ts":1237942860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"changing html parsing rules is a very dangerous sport","msgtype":"m.text"},"ts":1237942920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and not one i particularly enjoy","msgtype":"m.text"},"ts":1237942921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I thought that sicking seemed to say that you *could* do CDATA in script and style?","msgtype":"m.text"},"ts":1237942922000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"sicking: can you explain to me how you would do it?","msgtype":"m.text"},"ts":1237942923000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i didn't see anything that wasn't rather handwavy","msgtype":"m.text"},"ts":1237942924000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and the parsing of CDATA blocks in text/html (not <![CDATA[ ]]> blocks) is significantly non-trivial right now","msgtype":"m.text"},"ts":1237942980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(Hixie, did you BCC me on that email? I got 3 copies)","msgtype":"m.text"},"ts":1237942981000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"yeah, i bcc'ed anyone who wrote an e-mail on the thread","msgtype":"m.text"},"ts":1237942982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, thanks, mystery solved","msgtype":"m.text"},"ts":1237942983000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"ah, that explains why I got an extra copy, even though I wasn't quoted.  Though I don't remember writing anything in that thread","msgtype":"m.text"},"ts":1237943160000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"http://code.google.com/p/html5lib/source/list — there's far too much me there","msgtype":"m.text"},"ts":1237948800000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Weee… from 136s (r1274) to 50s (HEAD) to tokenize the spec","msgtype":"m.text"},"ts":1237954320000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"lots of scrollback :-(","msgtype":"m.text"},"ts":1237965240000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"here's the summary, hsivonen: SVG script is easier and more consistent than HTML script, so we will probably go with HTML's model, and Hixie rejected all the SVG WG's feedback for SVG-in-HTML","msgtype":"m.text"},"ts":1237965840000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"shepazu: thanks. I also read the logs at krijnhoetmer.nl. writing email now","msgtype":"m.text"},"ts":1237965900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the speed with which he did so suggests a remarkably organized mind with a singular coherency of thought","msgtype":"m.text"},"ts":1237965901000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"http://www.w3.org/mid/1e3451610903250034g69513bdvedd39f04dc270339⊙mgc o_O","msgtype":"m.text"},"ts":1237972920000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"was hoping hsivonen would run the sane script story campaign :)","msgtype":"m.emote"},"ts":1237973700000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"ok bed time nn","msgtype":"m.text"},"ts":1237974420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wonders what the sane script story campaign is","msgtype":"m.emote"},"ts":1237974421000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"gn","msgtype":"m.text"},"ts":1237974422000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1237974423000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham, run scripts the same way in text/html regardless of whether they are SVG or HTML <script> elements","msgtype":"m.text"},"ts":1237974480000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"Ah, OK. I thought by \"sane\" you might mean doing something other than html behaviour","msgtype":"m.text"},"ts":1237974540000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(which would be silly but could be described as \"sane\")","msgtype":"m.text"},"ts":1237974541000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(as the opposite to \"insane script handling required by html\")","msgtype":"m.text"},"ts":1237974600000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'm not necessarily saying that's what in the spec now is insane. I just needed to name my campaign :p","msgtype":"m.text"},"ts":1237974601000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"Well I agree doing anything inconsistent is insane","msgtype":"m.text"},"ts":1237974660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"More insane than just copying whatever HTML already does","msgtype":"m.text"},"ts":1237974661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"However weird","msgtype":"m.text"},"ts":1237974662000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"For someone who thinks that it is a wate of time to discuss rsayre is really fast to reply","msgtype":"m.text"},"ts":1237975980000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hsivonen: you around?","msgtype":"m.text"},"ts":1237976220000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yes","msgtype":"m.text"},"ts":1237976400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"MikeSmith: I saw the scrollback. Haven't processed the Schematron part yet.","msgtype":"m.text"},"ts":1237976401000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I made a minor change just to some message strings in the Assertions.java source","msgtype":"m.text"},"ts":1237976460000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"built and tested it with my local v.nu instance and no problems and works as expected","msgtype":"m.text"},"ts":1237976461000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: great. feel free to check in","msgtype":"m.text"},"ts":1237976520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1237976521000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will do","msgtype":"m.text"},"ts":1237976522000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thanks!","msgtype":"m.text"},"ts":1237976523000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and I'm looking at the Assertions.java source now to try go see if I can add the label@for constraints","msgtype":"m.text"},"ts":1237976580000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it seems really strange that attempting to get the insertId attribute can potentially raise an exception. http://dev.w3.org/html5/webstorage/#dom-sqlresultset-insertid","msgtype":"m.text"},"ts":1237992120000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Should contentEditable elements be focusable?","msgtype":"m.text"},"ts":1237992960000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hmm, my laptop's CPU fan seems to have become noisy, and the only way I can find to fix it is to run \"perl -e'fork; 1 while 1'\" for a minute so my CPU gets really hot and the fan goes to maximum speed, and then press the Tab or Caps lock or Q key, which makes the fan stop annoyingly whirring, and then it's fine once I let it cool down","msgtype":"m.text"},"ts":1237993020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders how Philip` managed to find that methodology","msgtype":"m.emote"},"ts":1237993021000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"wonders if there's a more direct solution, that doesn't involve disassembling his laptop using screwdrivers that he doesn't have","msgtype":"m.emote"},"ts":1237993080000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham: It seemed a pretty obvious plan to me","msgtype":"m.text"},"ts":1237993081000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Hit your laptop with a large hammer. Hard. It will soon stop making any annoying noise","msgtype":"m.text"},"ts":1237993140000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The whirring changed when I pressed down on the keyboard directly over the fan, so it seemed reasonable to try changing the fan speed and seeing if it spun itself back into a quiet state","msgtype":"m.text"},"ts":1237993141000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(The problem came back after I switched it off and on again, so I had an opportunity to discover the solution was repeatable)","msgtype":"m.text"},"ts":1237993200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham: Don't have a hammer","msgtype":"m.text"},"ts":1237993201000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and if I went to a store to purchase a hammer, I should purchase some screwdrivers too","msgtype":"m.text"},"ts":1237993260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: A brick? A tin of beans?","msgtype":"m.text"},"ts":1237993261000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I suppose I could bash it with another laptop","msgtype":"m.text"},"ts":1237993320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://ilia.ws/archives/196-IE8-X-UA-Compatible-Rant.html :/","msgtype":"m.text"},"ts":1237994040000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"The chrome team is wondering about the behavior of window.postMessage() - since the destination window/iframe may not be loaded yet, what is the expected behavior if I post a message to a window whose contents aren't yet loaded. Should the message get dropped on the floor, or queued?","msgtype":"m.text"},"ts":1238002260000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"Both Safari and Chrome just drop it on the floor now, which seems unideal.","msgtype":"m.text"},"ts":1238002261000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"Philip`: How many tags have mixed case names?","msgtype":"m.text"},"ts":1238004120000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"atw: why is this a problem?  I always understood postMessage to be for establishing communication with an already-loaded window, most particularly an iframe during the parent window's onload","msgtype":"m.text"},"ts":1238004180000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"gsnedders: About six","msgtype":"m.text"},"ts":1238004360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: I see 4580419 tags matching [a-z], 594677 [A-Z], and 5585 matching both","msgtype":"m.text"},"ts":1238004420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"atw: that's also interoperable with Gecko, fwiw; IE is too much effort for me to test right now","msgtype":"m.text"},"ts":1238004421000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: Why would postMessage() not be useful for communicating with other windows?","msgtype":"m.text"},"ts":1238004480000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"Philip`: thx","msgtype":"m.text"},"ts":1238004540000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"atw: um, please rephrase to ask what you meant to ask :-)","msgtype":"m.text"},"ts":1238004541000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Also, is the implication that onload on a parent window is invoked only after all iframes have been fully loaded? I have to admit I'm not 100% up on the semantics of onload.","msgtype":"m.text"},"ts":1238004542000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1238004543000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"to the latter","msgtype":"m.text"},"ts":1238004544000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Philip`: huh… \"six\" being the number of unique values?","msgtype":"m.text"},"ts":1238004545000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That use case makes sense to me (send messages on onload()) - I guess the intent of postMessage() is that the behavior is undefined if you are sending it to another window while that window's content is still loading?","msgtype":"m.text"},"ts":1238004660000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"gsnedders: No, six being a number I made up off the top of my head, which turned out to not be a good approximation of 5585","msgtype":"m.text"},"ts":1238004720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"\"intent\" I think is putting it a bit strongly, but I don't think it was considered a serious limitation","msgtype":"m.text"},"ts":1238004721000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"atw: do consider that all the hash-and-poll hacks already required the target window to be loaded","msgtype":"m.text"},"ts":1238004722000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Philip`: ah","msgtype":"m.text"},"ts":1238004780000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"also seems to me that making early messages get queued is mostly unneeded complexity in the implementation, and sites can work around the \"problem\" without much trouble","msgtype":"m.text"},"ts":1238004840000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"a limitation, but not pejoratively","msgtype":"m.text"},"ts":1238004841000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: Sure. We do that work for MessagePorts (queue messages before the port is started) so this seemed like an analogous situation, which is why the behavior surprised me.","msgtype":"m.text"},"ts":1238004900000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"But I'm not arguing that it's unreasonable.","msgtype":"m.text"},"ts":1238004960000,"senderName":"atw","senderId":"atw@irc"},
{"content":{"body":"messageports came along after I last really looked at postMessage, so I don't know the details of how they work","msgtype":"m.text"},"ts":1238005020000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"gsnedders: \"This gives a fair performance boost on the spec (~12s)\" - you should run your tests on a slower computer, then you could easily get a ~24s performance boost from the same patch","msgtype":"m.text"},"ts":1238008920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1238009220000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Man, I really am awesome at procrastinating.","msgtype":"m.text"},"ts":1238013840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1238014260000,"senderName":"nessy","senderId":"nessy@irc"},
{"content":{"body":"gsnedders: Or you're just arrogant ;)","msgtype":"m.text"},"ts":1238014380000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"svl, did you verify that? it sounds weird","msgtype":"m.text"},"ts":1238014680000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"annevk3: I didn't.","msgtype":"m.text"},"ts":1238014740000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"Just stumbled across it in the midst of doing other things","msgtype":"m.text"},"ts":1238014741000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"atw, waiting for <iframe onload> seems like a long time; though I don't really have a better solution (other than the <iframe> pinging the parent)","msgtype":"m.text"},"ts":1238014800000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"rubys1, while <b><i>x</b></i> is a somewhat simple example and \"works\", adding a character (e.g. <b><i>x</b>x</i>) already gives you a DOM that authors would not expect","msgtype":"m.text"},"ts":1238016300000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"I'm not sure if it's worth distinguishing between the two as it's likely that the cost of implementing in validators would be so high that the resulting messages would be terribly confusing to authors.","msgtype":"m.text"},"ts":1238016360000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"(And validators are already confusing. E.g. validator.nu is a multi-year project and still has a lot of error messages that are quite confusing.)","msgtype":"m.text"},"ts":1238016420000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"(Not to speak of validator.w3.org...)","msgtype":"m.text"},"ts":1238016421000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"As for \"<meta charset=utf-8>\". I think zcorpan suggested it might have been that older browsers just looked for the string \"charset\". That actually seems more plausible than that they tried to work with content that didn't work in any browser whatsoever. (And because they did that authors didn't have to care about quotes...)","msgtype":"m.text"},"ts":1238016540000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"annevk3: Maybe a better example is <meta name=description content=an unquoted sentence>","msgtype":"m.text"},"ts":1238017380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"annevk3: It looks like about 1% of <meta name=description>s have that error","msgtype":"m.text"},"ts":1238017381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and about 1% of <meta name=keywords>s too)","msgtype":"m.text"},"ts":1238017382000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Some of those are because people accidentally use fancy Word quotes, or put double quotes inside the double quoted attribute value, but I think many are from intentionally unquoted attributes)","msgtype":"m.text"},"ts":1238017440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, what affect did that have on browsers? The ability to handle lots of attributes?","msgtype":"m.text"},"ts":1238017500000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"effect, geez","msgtype":"m.text"},"ts":1238017501000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"Death to fancy quotes","msgtype":"m.text"},"ts":1238017560000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"saw one site with two thousand attributes on its <meta name=keywords>","msgtype":"m.emote"},"ts":1238017680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"annevk3: I wasn't thinking of the effect on authors - I was just thinking of it as evidence that unquoted attributes encourage authoring errors, and so perhaps they should be discouraged","msgtype":"m.text"},"ts":1238017740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Know of any cases where meta @keywords is actually used as keywords, and not just treated as normal text or ignored?","msgtype":"m.text"},"ts":1238017800000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: that's very common","msgtype":"m.text"},"ts":1238017860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<meta name=keywords content=a, b, c, ... for megabytes>","msgtype":"m.text"},"ts":1238017861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i had to make serious changes to my parser to handle this case","msgtype":"m.text"},"ts":1238017862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`, I thought rubys1 was talking about fallout","msgtype":"m.text"},"ts":1238017863000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"oh help, <br> and 'clear' is brought up again on www-style","msgtype":"m.text"},"ts":1238017920000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"remembers a certain F2F where that was discussed for more than 10min","msgtype":"m.emote"},"ts":1238017980000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"only 10min?","msgtype":"m.text"},"ts":1238017981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm being conservative here. My recollection has it on 1h :)","msgtype":"m.text"},"ts":1238018040000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"that sounds more like it","msgtype":"m.text"},"ts":1238018041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"goes to read AC minutes","msgtype":"m.emote"},"ts":1238018100000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"didn't know AC meetings where also for chairs","msgtype":"m.emote"},"ts":1238018160000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"s/where/were","msgtype":"m.text"},"ts":1238018161000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"hmm, I write English phonetically and I'm pretty bad at it too :)","msgtype":"m.text"},"ts":1238018220000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"Philip` got my intent.  I agree that misnested closes are often indication of an error, and that dropping quotes can lead to errors... the line between the two is fuzzy.","msgtype":"m.text"},"ts":1238018221000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Historically the line has been pretty clear :)","msgtype":"m.text"},"ts":1238018400000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"???","msgtype":"m.text"},"ts":1238018460000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"not to me.","msgtype":"m.text"},"ts":1238018461000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I'm not that opposed to requiring quotes everywhere personally. It's an easy XSS target. However, seems a bit burdersome for existing content and XSS should likely be checked using dedicated tools (e.g. a public version of scanmus) as there are many other potential holes.","msgtype":"m.text"},"ts":1238018462000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"rubys, quotes have always been optional and misnested inlines have always been disallowed","msgtype":"m.text"},"ts":1238018520000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"My problem is more basic than that: What would \"requiring\" mean?  What does \"disallowed\" mean?","msgtype":"m.text"},"ts":1238018521000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Will Opera refuse to show a page that doesn't meet one or the other criteria?","msgtype":"m.text"},"ts":1238018580000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"(that was rhetorical, the answer is \"of course not\")","msgtype":"m.text"},"ts":1238018581000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"(right)","msgtype":"m.text"},"ts":1238018582000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"That has also been pretty consistent from a historical perspective :)","msgtype":"m.text"},"ts":1238018583000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"I was talking about authoring requirements. Much like the SVG WG was.","msgtype":"m.text"},"ts":1238018640000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"Is it best practice to nest corectly?  To always use quotes?  I can see arguments for both.","msgtype":"m.text"},"ts":1238018641000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I don't really know about best practice. Sounds fuzzy :)","msgtype":"m.text"},"ts":1238018760000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"[17:54]  <Dashiva> Know of any cases where meta @keywords is actually used as keywords, and not just treated as normal text or ignored?","msgtype":"m.text"},"ts":1238018820000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"spotlight on mac os x","msgtype":"m.text"},"ts":1238018821000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"If it's really that unclear, I was simply talking about what prior HTML specifications required from authors. E.g. HTML4.","msgtype":"m.text"},"ts":1238018822000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"wilhelm_: any news on the timeout spec?","msgtype":"m.text"},"ts":1238018880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"really, really, really didn't want to use the \"alt\" attribute as my example, which is a case where HTML5 attempts to legislate \"best practices\" in a way that differs from HTML4","msgtype":"m.emote"},"ts":1238018940000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"wonders what to do with setTimeout() and company","msgtype":"m.emote"},"ts":1238018941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Yahoo too it seems if the claim is right http://help.yahoo.com/l/us/yahoo/search/ranking/ranking-02.html","msgtype":"m.text"},"ts":1238019120000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"rubys, I'm not saying we can't make changes either way. As I said, I'd be happy with required quotes. I'm just saying that historically allowing unquoted attributes and disallowing misnested tags has been the way to go.","msgtype":"m.text"},"ts":1238019240000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"What's an example of something where all browsers interoperably break the spec?","msgtype":"m.text"},"ts":1238019300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"<datagrid>","msgtype":"m.text"},"ts":1238019420000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1238019421000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"i don't think \"don't implement any of it\" counts as \"breaking the spec\" :-P","msgtype":"m.text"},"ts":1238019422000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(actually, I guess there are parsing differences in text/html)","msgtype":"m.text"},"ts":1238019423000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"gsnedders: http://www.w3.org/TR/html4/appendix/notes.html#h-B.3.3","msgtype":"m.text"},"ts":1238019480000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"In particular, shorthand markup.","msgtype":"m.text"},"ts":1238019540000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"was trying to avoid SGMLisms","msgtype":"m.emote"},"ts":1238019541000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"rubys: Also, where in HTML 4.01 does it require an SGML parser to be used?","msgtype":"m.text"},"ts":1238019600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"rubys: If there isn't such a thing, as I believe to be the case, then it isn't breaking the spec.","msgtype":"m.text"},"ts":1238019601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"OK, here's a non GML HTML5 issue: \"'Boolean attributes in HTML5 can't use the values \"true\" or \"false\" and I can't get myself to accept that fact.\" -- http://www.w3.org/QA/2009/03/a_rough_view_of_the_future.html","msgtype":"m.text"},"ts":1238019660000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I guess he never used HTML4 :)","msgtype":"m.text"},"ts":1238019780000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"would like a better thing which is certainly against the spec","msgtype":"m.emote"},"ts":1238019840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Boolean attributes came pretty much straight from HTML4 although we removed the silly SGMLism that you specify the value rather than the attribute.)","msgtype":"m.text"},"ts":1238019900000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"yeah that's not new in HTML5","msgtype":"m.text"},"ts":1238019960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"So PHP html5lib tokenizer is currently at 10.2s to tokenize the spec","msgtype":"m.text"},"ts":1238020020000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Compared with 7.46s for Python","msgtype":"m.text"},"ts":1238020021000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: what would be a helpful reply to your e-mail?","msgtype":"m.text"},"ts":1238022240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Just answer the questions somehow","msgtype":"m.text"},"ts":1238022300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(That's useless, I know.)","msgtype":"m.text"},"ts":1238022301000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: is there sample output anywhere? i don't have a file to pass it to test it.","msgtype":"m.text"},"ts":1238022420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Not really. Grab css3-namespaces, Bert's DB (see the postprocessor docs, it's linked there), and run that","msgtype":"m.text"},"ts":1238022480000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"uris?","msgtype":"m.text"},"ts":1238022540000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://dev.w3.org/cvsweb/~checkout~/csswg/css3-namespace/Overview.src.html","msgtype":"m.text"},"ts":1238022600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wait, you can't give a url","msgtype":"m.text"},"ts":1238022601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how does this work","msgtype":"m.text"},"ts":1238022602000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"File uploads only","msgtype":"m.text"},"ts":1238022660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: You should spend some time optimising the Python version","msgtype":"m.text"},"ts":1238022720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Nah","msgtype":"m.text"},"ts":1238022721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: You do that well enough","msgtype":"m.text"},"ts":1238022722000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: just to give yourself a better target to aim for in the PHP implementation","msgtype":"m.text"},"ts":1238022723000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"well i replied","msgtype":"m.text"},"ts":1238022724000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"dunno how helpful my reply will be!","msgtype":"m.text"},"ts":1238022725000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders: But I've run out of ways to make it faster, so I was hoping you could try it instead :-p","msgtype":"m.text"},"ts":1238022726000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i recommend removing the python interpreter","msgtype":"m.text"},"ts":1238022780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it seems like a big bottleneck","msgtype":"m.text"},"ts":1238022781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Nice conclusion :)","msgtype":"m.text"},"ts":1238022782000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hm, no ietf apparea minutes yet","msgtype":"m.text"},"ts":1238024220000,"senderName":"Hixie","senderId":"Hixie@irc"}
]