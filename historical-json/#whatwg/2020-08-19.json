[
{"content":{"body":"Anyone here familiar with the TypeScript community? Is https://github.com/heycam/webidl/issues/60#issuecomment-676033407 intentional?","msgtype":"m.text"},"ts":1597830549000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://stackoverflow.com/questions/58885485/why-does-typescript-have-both-void-and-undefined","msgtype":"m.text"},"ts":1597830891000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(top answer seems to be from someone who works in TS)","msgtype":"m.text"},"ts":1597831008000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That's useful, but I don't think it helps explain the example","msgtype":"m.text"},"ts":1597831126000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It explains why void has usage in TypeScript (which is pretty different from what IDL used it for, afaict)","msgtype":"m.text"},"ts":1597831154000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I expect the reason is that once you are treating undefined as a type, and you have a rule that functions which return void can't return a value of any specific type, allowing them to actually contain \"return undefined\" because that's what js does is actually more work","msgtype":"m.text"},"ts":1597831524000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and is at least arguably wrong, since the return value isn't accessible in well typed code","msgtype":"m.text"},"ts":1597831608000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: the case under discussion is that the return type is undefined and there's an error because there's no return statement","msgtype":"m.text"},"ts":1597832235000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: a function whose return type is void is allowed to return undefined in TypeScript","msgtype":"m.text"},"ts":1597832262000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh yeah, sorry I misread the example","msgtype":"m.text"},"ts":1597832562000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'm mildly surprised that the case with void and an explicit return works, but pretty unsurprised that the case with undefined and no return doesn't work","msgtype":"m.text"},"ts":1597832660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: it's weird though as void with return 3 does not work, only return undefined works","msgtype":"m.text"},"ts":1597832890000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Maybe `return undefined` is internally the same as bare `return` and the latter is needed for early return in void functions","msgtype":"m.text"},"ts":1597833385000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"looks like using `undefined` as return type will force developers to write `return undefined` explicitly","msgtype":"m.text"},"ts":1597833608000,"senderName":"cybai","senderId":"cybai@irc"},
{"content":{"body":"https://www.typescriptlang.org/play?#code/GYVwdgxgLglg9mABFApgZygCgJQC5HgAmKwMYKhiA3gFCKIQJpwA2KAdC3AOaYBEACxQBPPtgDcdRACcUUENKRESZCpIC+NIA","msgtype":"m.text"},"ts":1597833617000,"senderName":"cybai","senderId":"cybai@irc"},
{"content":{"body":"cybai: yeah, the question is if that's intentional, and if it is, why?","msgtype":"m.text"},"ts":1597833682000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: oh, I see the question","msgtype":"m.text"},"ts":1597833770000,"senderName":"cybai","senderId":"cybai@irc"},
{"content":{"body":"Note that bare `return` also works in that case","msgtype":"m.text"},"ts":1597834248000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Again suggesting that `return` and `return undefined` are treated as equivalent.","msgtype":"m.text"},"ts":1597834316000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I just found this issue (https://github.com/microsoft/TypeScript/issues/36288) to suggest allowing `undefined` as return type in non-returning functions but there's no clue if the current behavior is intentional or not in the issue","msgtype":"m.text"},"ts":1597837705000,"senderName":"cybai","senderId":"cybai@irc"},
{"content":{"body":"annevk: when you have time it might be good to review/merge the imperative shadow DOM API PRs on DOM and HTML.","msgtype":"m.text"},"ts":1597868031000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: JakeA: and any others who love the navigation algorithm: thoughts and bikesheds on https://github.com/whatwg/html/issues/5847 welcome.","msgtype":"m.text"},"ts":1597872163000,"senderName":"Domenic","senderId":"Domenic@irc"}
]