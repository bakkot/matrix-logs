[
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1456810518000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"hayato: who works on custom elements spec now?","msgtype":"m.text"},"ts":1456810530000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: about to get out of bed, but not really around for another two hours or so, unless it's something quick?","msgtype":"m.text"},"ts":1456810603000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: fyi, i triaged a bunch of custom elements spec bugs","msgtype":"m.text"},"ts":1456810619000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: and added v1 flags everywhere deemed necessary","msgtype":"m.text"},"ts":1456810629000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"great, I'll take a look today","msgtype":"m.text"},"ts":1456810655000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks.","msgtype":"m.text"},"ts":1456810659000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: i'm somewhat concerned that custom elements spec hasn't been updated in the past month or two","msgtype":"m.text"},"ts":1456810680000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"We could maybe start putting it in DOM and HTML now","msgtype":"m.text"},"ts":1456810711000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And fix things as we go","msgtype":"m.text"},"ts":1456810743000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: lifecycle callback stuff certainly needs to go to WebIDL","msgtype":"m.text"},"ts":1456810758000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: and DOM needs to enqueue tasks","msgtype":"m.text"},"ts":1456810779000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"True, it's a holy trifecta","msgtype":"m.text"},"ts":1456810808000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rniwa: Yeah, we, google, are aware that it's very unsatisfying situation that custom elements hasn't been updated.","msgtype":"m.text"},"ts":1456815678000,"senderName":"hayato","senderId":"hayato@irc"},
{"content":{"body":"hey hayato, good afternoon","msgtype":"m.text"},"ts":1456817089000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hi","msgtype":"m.text"},"ts":1456817114000,"senderName":"hayato","senderId":"hayato@irc"},
{"content":{"body":"hayato: still slowly wrapping my head around all the concepts to figure out how to best merge things into DOM/HTML etc.","msgtype":"m.text"},"ts":1456817165000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hayato: plan to mostly work on that today","msgtype":"m.text"},"ts":1456817176000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(it's still early here)","msgtype":"m.text"},"ts":1456817181000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks. I guess that's tough work.","msgtype":"m.text"},"ts":1456817216000,"senderName":"hayato","senderId":"hayato@irc"},
{"content":{"body":"hayato: it's a little hard yes, especially figuring out when the various algorithms in Shadow DOM should run","msgtype":"m.text"},"ts":1456817341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hayato: unlike you, I haven't implemented it several times over the past five years ðŸ˜ƒ","msgtype":"m.text"},"ts":1456817359000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll take a look issues filed on the spec later.","msgtype":"m.text"},"ts":1456817381000,"senderName":"hayato","senderId":"hayato@irc"},
{"content":{"body":"Thanks","msgtype":"m.text"},"ts":1456817394000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I started filing some issues against the HTML Standard too, sort of as a summary of what we should do / what we need to resolve","msgtype":"m.text"},"ts":1456817425000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And I'll have yet another section to clarify a lot of things, mentioning iframe, script, title attribute on style, and so on...","msgtype":"m.text"},"ts":1456817449000,"senderName":"hayato","senderId":"hayato@irc"},
{"content":{"body":"A lot of decisions of not sharing anything with the shadow DOM breaks the composition use case quite badly","msgtype":"m.text"},"ts":1456817457000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder how important the composition use case is, if it's important we should make \"open shadow trees\" much more similar to normal \"document trees\" maybe, with <iframe> having history there, etc.","msgtype":"m.text"},"ts":1456817511000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I see.  Yeah, there has been always a debate between encapsulation vs *open* for better composition.","msgtype":"m.text"},"ts":1456817641000,"senderName":"hayato","senderId":"hayato@irc"},
{"content":{"body":"annevk, fyi https://github.com/w3c/web-platform-tests/pull/2639","msgtype":"m.text"},"ts":1456831140000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i just noticed that lists.whatwg.org is offline and there are no redirects put into place","msgtype":"m.text"},"ts":1456831870000,"senderName":"erlehmann_","senderId":"erlehmann_@irc"},
{"content":{"body":"for example, https://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-November/033914.html has moved to https://lists.w3.org/Archives/Public/public-whatwg-archive/2011Nov/0186.html","msgtype":"m.text"},"ts":1456831881000,"senderName":"erlehmann_","senderId":"erlehmann_@irc"},
{"content":{"body":"http://nolanlawson.com/2016/02/29/high-performance-web-worker-messages/ is sad","msgtype":"m.text"},"ts":1456834870000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"PR list is finally looking manageable","msgtype":"m.text"},"ts":1456836668000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"no unread notifications \\o/","msgtype":"m.text"},"ts":1456836718000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"time for a coffee","msgtype":"m.text"},"ts":1456836739000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: can you finish up the <link> in body PR for igrigorik maybe?","msgtype":"m.text"},"ts":1456836759000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: https://github.com/tc39/ecmascript_sharedmem/issues/65 might be of interest","msgtype":"m.text"},"ts":1456837111000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: yes, it's my currently open tab :-)","msgtype":"m.text"},"ts":1456837264000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1456837270000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I wonder if it's because Spring is coming.","msgtype":"m.text"},"ts":1456837928000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Domenic: Same thing happened to Servo's queue.","msgtype":"m.text"},"ts":1456837935000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"jdm happened to Servo's queue","msgtype":"m.text"},"ts":1456838457000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That.","msgtype":"m.text"},"ts":1456838523000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Is there some summary of which Exposed combinations there are in the platform?","msgtype":"m.text"},"ts":1456839261000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: there's 4 globals, workers are usually grouped","msgtype":"m.text"},"ts":1456840554000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Yeah I know, just need which combinations are actually used to implement Exposed in Servo.","msgtype":"m.text"},"ts":1456840588000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: can't make it generic?","msgtype":"m.text"},"ts":1456840617000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I could, just don't want to.","msgtype":"m.text"},"ts":1456840669000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Anyway, not sure about an exhaustive list of all combinations, best to grep a browser engine I guess","msgtype":"m.text"},"ts":1456840675000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Did the Constructor on XMLDocument go away?","msgtype":"m.text"},"ts":1456840767000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: I don't think it ever had one","msgtype":"m.text"},"ts":1456840785000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(We have one in Servo but can't find it in DOM.","msgtype":"m.text"},"ts":1456840789000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Weird.","msgtype":"m.text"},"ts":1456840791000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Ms2ger: ^","msgtype":"m.text"},"ts":1456840797000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Huh","msgtype":"m.text"},"ts":1456840939000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Filing.","msgtype":"m.text"},"ts":1456840989000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Domenic: I cannot make much sense of https://mxr.mozilla.org/mozilla-central/source/js/src/vm/StructuredClone.cpp","msgtype":"m.text"},"ts":1456847770000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh boy","msgtype":"m.text"},"ts":1456847790000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"So I ctrl+fed for \"error\" and didn't seem to find anything specifically prohibiting Error objects, which supports my hypothesis. Looking more...","msgtype":"m.text"},"ts":1456847845000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"There's a couple other files too, but I cannot make much sense of any of them","msgtype":"m.text"},"ts":1456847918000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://mxr.mozilla.org/mozilla-central/source/js/src/vm/StructuredClone.cpp#1178","msgtype":"m.text"},"ts":1456847963000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think it is keying off of some equivalent of ES5's [[Class]]","msgtype":"m.text"},"ts":1456847975000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"So it'll only do own-property cloning on things that return \"[object Object]\"","msgtype":"m.text"},"ts":1456847986000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"which is how it excludes all the other things","msgtype":"m.text"},"ts":1456847992000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That does kinda match what HTML used to have","msgtype":"m.text"},"ts":1456848012000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(\"returns object Object\" is not precise these days because of @@toStringTag. But it seems the engine has some concept similar to that.)","msgtype":"m.text"},"ts":1456848016000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah, ES just totally blew up that infrastructure, lol","msgtype":"m.text"},"ts":1456848036000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"\"any internal slot\" seems okay, perhaps with two example objects in a note","msgtype":"m.text"},"ts":1456848068000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, I think that's probably going to be our best bet","msgtype":"m.text"},"ts":1456848092000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I see some GetBuiltinClass","msgtype":"m.text"},"ts":1456848124000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"842  * Enumeration describing possible values of the [[Class]] internal property","msgtype":"m.text"},"ts":1456848141000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"843  * value of objects.","msgtype":"m.text"},"ts":1456848142000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Once we define IDL better we should also fix that integration a bit","msgtype":"m.text"},"ts":1456848143000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"All in due course I guess","msgtype":"m.text"},"ts":1456848151000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Very interesting how ES just totally removed this piece of infrastructure. Arguably for good reasons, but it does make things rather different.","msgtype":"m.text"},"ts":1456848165000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://mxr.mozilla.org/mozilla-central/source/js/src/jsfriendapi.cpp#267 is interesting","msgtype":"m.text"},"ts":1456848299000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Whooooo wants to test Safari for me!! https://github.com/whatwg/html/issues/775#issuecomment-190796607","msgtype":"m.text"},"ts":1456849791000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: i can, sec","msgtype":"m.text"},"ts":1456850344000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"Domenic: https://cloudup.com/cACI0kI4fSV","msgtype":"m.text"},"ts":1456850391000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"https://www.irccloud.com/pastebin/B9sOMoOh/","msgtype":"m.text"},"ts":1456850392000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"heh, 3rd behavior","msgtype":"m.text"},"ts":1456850450000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"wait what","msgtype":"m.text"},"ts":1456850463000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Maybe these don't have constructor names in Safari?","msgtype":"m.text"},"ts":1456850491000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Hmm wait I brought my iPad to work, I can maybe do this","msgtype":"m.text"},"ts":1456850504000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"OK yeah","msgtype":"m.text"},"ts":1456850582000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"table updated, thanks all","msgtype":"m.text"},"ts":1456850746000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Hmm. Is \"BUT LET'S KISS.\" inappropriate to have on a slide?","msgtype":"m.text"},"ts":1456851432000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: depends, maybe the slide is a presentation meant for your significant other","msgtype":"m.text"},"ts":1456851532000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"In that case it's clearly inappropriate","msgtype":"m.text"},"ts":1456851562000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I mean I'm not a relationship expert","msgtype":"m.text"},"ts":1456851572000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But if you are mainly communicating through powerpoint I think it might be beyond repair","msgtype":"m.text"},"ts":1456851590000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"^^","msgtype":"m.text"},"ts":1456851595000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"gsnedders: with KISS not being the abbreviation?","msgtype":"m.text"},"ts":1456851621000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: with KISS being the abbreviation","msgtype":"m.text"},"ts":1456851666000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But it *is* a pun, made unclear by the capitalisation of all of it","msgtype":"m.text"},"ts":1456851713000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"you can pivot to a different pun http://www.post-gazette.com/image/2014/08/19/ca19,13,2172,1391/20140819hokissmag.jpg","msgtype":"m.text"},"ts":1456851737000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"but those guys are pretty gross","msgtype":"m.text"},"ts":1456851750000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"maybe i'm just jealous of that leather armor","msgtype":"m.text"},"ts":1456851786000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"hah","msgtype":"m.text"},"ts":1456851947000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"heh, my SO doesn't see how anyone could have any problem with it, thinking it can't really be construded as objectifying any specific person or group given it makes no statement as to who is being kissed.","msgtype":"m.text"},"ts":1456852182000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"the way to diffuse any potential drama it is to have a picture of kittens kissing in the slide","msgtype":"m.text"},"ts":1456852273000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"aww http://40.media.tumblr.com/tumblr_lxpj8u62Rh1r9z84ho1_500.jpg","msgtype":"m.text"},"ts":1456852303000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"Domenic: if you find some time, I would love for you to take a look at https://github.com/whatwg/html/pull/323 and figure out how you'd fix it","msgtype":"m.text"},"ts":1456853460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm OK.","msgtype":"m.text"},"ts":1456853479000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Doing custom elements right now.","msgtype":"m.text"},"ts":1456853483000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: there's no rush at all, I'm just having such a hard time to get my head around it","msgtype":"m.text"},"ts":1456853500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: In general, avoid sexualized jokes entirely.","msgtype":"m.text"},"ts":1456854520000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: FWIW, it still says [ENCODING] but it does now link to the right place","msgtype":"m.text"},"ts":1456854523000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Yeah, that's intentional.  Again, minimum-effort until things are fixed.","msgtype":"m.text"},"ts":1456854539000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I want to just rip out the two lines handling this when SpecRef fixes things.","msgtype":"m.text"},"ts":1456854551000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: see, that's what I would go for, really.","msgtype":"m.text"},"ts":1456854592000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Iâ€™m looking for the latest Selectors API. Will #Element.findAll return a collection that extends Array?","msgtype":"m.text"},"ts":1456855598000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: see https://dom.spec.whatwg.org/","msgtype":"m.text"},"ts":1456855628000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JonathanNeal: that's the idea, but it's not reality yet, subclassing is taking its time","msgtype":"m.text"},"ts":1456855641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh, this looks different than what I saw before. Thanks, annevk! I thought .query & .queryAll would return a live collection and .find & .findAll would return a non-live collection.","msgtype":"m.text"},"ts":1456855766000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: find/findAll are gone","msgtype":"m.text"},"ts":1456855804000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"They were renamed to query/All() because of the conflict with window.find().","msgtype":"m.text"},"ts":1456855824000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"JonathanNeal: and new live collections are also gone (mostly, hopefully)","msgtype":"m.text"},"ts":1456855827000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Got it, and Elements being a subclass of Array means it doesnâ€™t inherit changes to Array prototype?","msgtype":"m.text"},"ts":1456855930000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"No, it *does* mean that.","msgtype":"m.text"},"ts":1456855973000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"JonathanNeal: I don't know, is that how subclassing is different from proto chaining?","msgtype":"m.text"},"ts":1456855973000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Subclass means proto-chaining.","msgtype":"m.text"},"ts":1456855979000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Yeah I thought so","msgtype":"m.text"},"ts":1456855991000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So, in a sense, Elements.prototype = new Array()?","msgtype":"m.text"},"ts":1456856008000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"I think it's closer to Elements.prototype = Object.create(Array.prototype)","msgtype":"m.text"},"ts":1456856036000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"was too old school to remember Object.create. Nods.","msgtype":"m.emote"},"ts":1456856119000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"No, it's in fact closer to Elements.prototype.__proto__ = Array.prototype","msgtype":"m.text"},"ts":1456857670000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(and Elements.__proto__ = Array)","msgtype":"m.text"},"ts":1456857678000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I seem to be accidentally rewriting the custom elements spec","msgtype":"m.text"},"ts":1456857702000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: Your first line requires *creating* Elements.prototype somehow first; my line does so, by making it an empty object with its proto set to Array.prototype.","msgtype":"m.text"},"ts":1456858132000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I did leave out the proto shenanigans of the constructor functions, yeah.","msgtype":"m.text"},"ts":1456858148000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"those proto shenanigans are important for subclassing","msgtype":"m.text"},"ts":1456858186000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"I understand. I didn't say that I left it out intentionally.","msgtype":"m.text"},"ts":1456858202000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: your line overrides it. All functions have a .prototype","msgtype":"m.text"},"ts":1456858541000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://github.com/whatwg/html/issues/775#issuecomment-190851825","msgtype":"m.text"},"ts":1456858837000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"yeah thanks for saving the day there","msgtype":"m.text"},"ts":1456859176000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Welp, I'm an idiot. Just figured out why I was getting 15s processing times on an empty spec.","msgtype":"m.text"},"ts":1456860634000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Turns out the invoking the HTML parser on a large CSS file hits some degenerate behavior and makes everything go very slowly.","msgtype":"m.text"},"ts":1456860662000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Welp, I'm an idiot. Just figured out why I was getting 15s processing times on an empty spec.","msgtype":"m.text"},"ts":1456860680000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: so next PyPy and lxml releases should hopefully work together; will be interesting to revisit performance then","msgtype":"m.text"},"ts":1456860753000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"dglazkov: yt?","msgtype":"m.text"},"ts":1456861594000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: yt?","msgtype":"m.text"},"ts":1456863189000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: yep","msgtype":"m.text"},"ts":1456863197000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: do you know who is responsible for updating custom elements spec these days?","msgtype":"m.text"},"ts":1456863215000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: myself and Koji probably; we have a meeting with Hayato to discuss that tomorrow","msgtype":"m.text"},"ts":1456863257000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"rniwa: I am about 3/4 of the way through fixing a lot of things","msgtype":"m.text"},"ts":1456863265000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: okay","msgtype":"m.text"},"ts":1456863272000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: I'm more than happy to help out","msgtype":"m.text"},"ts":1456863280000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: I thought I'd do just a quick PR to get your text into the spec and then I kept updating things and now like 60% of the spec is new","msgtype":"m.text"},"ts":1456863293000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: but it's getting really hard to implement custom elements in WebKit without having anything concrete in the spec","msgtype":"m.text"},"ts":1456863297000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: that'd be great!","msgtype":"m.text"},"ts":1456863299000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: okay","msgtype":"m.text"},"ts":1456863315000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: let's land my PR then it should be easier to implement the remaining problematic parts","msgtype":"m.text"},"ts":1456863316000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: e.g. I could just start pushing PR for issues that aren't getting much traction","msgtype":"m.text"},"ts":1456863341000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: also, there is a lot of spec debt now.","msgtype":"m.text"},"ts":1456863367000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"https://github.com/whatwg/html/issues/775#issuecomment-190885243","msgtype":"m.text"},"ts":1456863595000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Domenic: Am I still right?","msgtype":"m.text"},"ts":1456863600000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: seems likely, attention on custom elements for now...","msgtype":"m.text"},"ts":1456863651000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: Good luck.","msgtype":"m.text"},"ts":1456863671000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I am feeling optimistic about integrating custom elements into DOM and HTML now","msgtype":"m.text"},"ts":1456865975000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Except for parsing. I am not optimistic about that.","msgtype":"m.text"},"ts":1456865980000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I AM HERE!!!","msgtype":"m.text"},"ts":1456866021000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"wait","msgtype":"m.text"},"ts":1456866022000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"everything is solved","msgtype":"m.text"},"ts":1456866025000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"I dunno somehow I just cloned the repo and one thing led to another and it just kinda happened","msgtype":"m.text"},"ts":1456866097000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"that's how it always goes. 3 years later you're the HTML spec editor.","msgtype":"m.text"},"ts":1456866125000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"so true. so, so true.","msgtype":"m.text"},"ts":1456866147000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Is it known that for document.createElement(), Safari returns <undefined></undefined>?","msgtype":"m.text"},"ts":1456866158000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I think I died inside a bit.","msgtype":"m.text"},"ts":1456866162000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"that's amazing","msgtype":"m.text"},"ts":1456866168000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: :D","msgtype":"m.text"},"ts":1456866192000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I guess Blink only recently fixed our `optional` handling","msgtype":"m.text"},"ts":1456866201000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I was complaining to a friend about that all() thing,","msgtype":"m.text"},"ts":1456866201000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"told me \"meh, everything is optional in JS\",","msgtype":"m.text"},"ts":1456866208000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"wanted to prove him wrong.","msgtype":"m.text"},"ts":1456866211000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"And then this happened.","msgtype":"m.text"},"ts":1456866215000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"-_-","msgtype":"m.text"},"ts":1456866216000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: that's since been fixed :x","msgtype":"m.text"},"ts":1456866964000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp: Nice to know.","msgtype":"m.text"},"ts":1456866974000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Domenic: Btw, GitHub understands language \"webidl\", if you want to colorise code snippets.","msgtype":"m.text"},"ts":1456867182000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: thanks, updated","msgtype":"m.text"},"ts":1456867198000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"roc: ðŸ‘‹","msgtype":"m.text"},"ts":1456867455000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1456867509000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc: :(","msgtype":"m.text"},"ts":1456870718000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Domenic: nice PR!","msgtype":"m.text"},"ts":1456876438000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: looking through it and found a few typos and errors","msgtype":"m.text"},"ts":1456876446000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: awesome, happy to fix up :)","msgtype":"m.text"},"ts":1456876460000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I said no editorial stuff but what I really meant was \"no multi-day back and forth waiting for LGTMs over editorial stuff\"","msgtype":"m.text"},"ts":1456876486000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yeah, let's not do that stuff","msgtype":"m.text"},"ts":1456876499000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: btw, i think there's one big bug in my original / your PR about HTML constructor","msgtype":"m.text"},"ts":1456876519000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: which is the way the global object is obtained","msgtype":"m.text"},"ts":1456876527000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"or rather Document object","msgtype":"m.text"},"ts":1456876536000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: I tried to fix that by using current Realm's global, but I didn't think about it as hard as I should have, which is often necessary with \"which global object\" questions.","msgtype":"m.text"},"ts":1456876548000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: it's totally reasonable for you create your own document via DOMImplementation or get iframe.contentDocument","msgtype":"m.text"},"ts":1456876554000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: and extend that document's prototype","msgtype":"m.text"},"ts":1456876569000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: in that case, we don't want to end up looking up the registry of whatever script realm you happen to be running","msgtype":"m.text"},"ts":1456876597000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"hmmmm","msgtype":"m.text"},"ts":1456876612000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: so instead of doing that, I think we should just get the global object out of the prototype or the constructor object","msgtype":"m.text"},"ts":1456876614000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: or the global object of [[Prototype]] internal slot of the constructor","msgtype":"m.text"},"ts":1456876631000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: the latter one in particular should always be in the right(â„¢) document.","msgtype":"m.text"},"ts":1456876646000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Global out of the constructor function seems simplest","msgtype":"m.text"},"ts":1456876680000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: indeed","msgtype":"m.text"},"ts":1456876687000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: it's weird for your constructor to be extending another class in a different document anyways","msgtype":"m.text"},"ts":1456876703000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Yeah I'm trying to think if we can detect such mismatches and throw or something","msgtype":"m.text"},"ts":1456876717000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: but if we're going that rought, we may want to check that early in defineElement as well","msgtype":"m.text"},"ts":1456876721000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: so that author would catch it early","msgtype":"m.text"},"ts":1456876730000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1456876730000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"instead of your custom element never getting upgarded","msgtype":"m.text"},"ts":1456876747000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: oh wait, no","msgtype":"m.text"},"ts":1456876769000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: in the case you define class MyElement extends MyDocCreatedForHavingASeparateRegistry {}","msgtype":"m.text"},"ts":1456876789000,"senderName":"rniwa","senderId":"rniwa@irc"}
]