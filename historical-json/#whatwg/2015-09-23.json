[
{"content":{"body":"googles The Brand New Testament","msgtype":"m.emote"},"ts":1442967596000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"sees Catherine Deneuve so that's a definite plus","msgtype":"m.emote"},"ts":1442967638000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Hm.. is it standards-specified that there will be own properties on localStorage for all stores keys?","msgtype":"m.text"},"ts":1442987428000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I'm trying to find a good arguments for why Object.keys(localStorage) is bad.","msgtype":"m.text"},"ts":1442987440000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I can't find it explicitly on https://html.spec.whatwg.org/multipage/webstorage.html#storage-2 except for the sentence \"The supported property names on a Storage object are the keys of each key/value pair currently present in the list associated with the object\" - I'm not sure what that sentence even means.","msgtype":"m.text"},"ts":1442987479000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Krinkle: that's IDL language for saying it has own properties","msgtype":"m.text"},"ts":1442988536000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Krinkle: iirc","msgtype":"m.text"},"ts":1442988541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thx.","msgtype":"m.text"},"ts":1442988852000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Quite fascinating behaviour","msgtype":"m.text"},"ts":1442988855000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"localStorage.setItem('setItem', new Date()); Object.keys(localStorage); // [ setItem ] and yet localStorage.setItem; // [native]","msgtype":"m.text"},"ts":1442988884000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"so its there but the inherited one does overlap","msgtype":"m.text"},"ts":1442988893000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Is that standards, too :D ?","msgtype":"m.text"},"ts":1442988911000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"MikeSmith: https://twitter.com/annevk/status/646569118485901312","msgtype":"m.text"},"ts":1442989073000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1442989106000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah I figured","msgtype":"m.text"},"ts":1442989119000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"cool that it crashes the entire browser though","msgtype":"m.text"},"ts":1442989130000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Krinkle: yeah, due to lack of OverrideBuiltins which we cannot add at this point iirc","msgtype":"m.text"},"ts":1442989139000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Krinkle: [OverrideBuiltins]","msgtype":"m.text"},"ts":1442989143000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hat tip to amirrajan for finding that bug","msgtype":"m.text"},"ts":1442989153000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: Ah, I see. Looks like github/whatg has no mention of it, but there are a few matches in w3c https://github.com/search?q=OverrideBuiltins+%40w3c&type=Code","msgtype":"m.text"},"ts":1442989600000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"https://w3c.github.io/html-reference/form.html#form-interface","msgtype":"m.text"},"ts":1442989646000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"But yeah, that's an undefined IDL ref.","msgtype":"m.text"},"ts":1442989722000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"annevk: Found it. https://github.com/heycam/webidl/blob/HEAD/lc2.txt#L164","msgtype":"m.text"},"ts":1442990002000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Krinkle: https://heycam.github.io/webidl/ is the IDL specification","msgtype":"m.text"},"ts":1442990698000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1442990708000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"So OverrideBuiltins is part of that standard, but not allowed for partial interfaces yet.","msgtype":"m.text"},"ts":1442990726000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"not sure if that's relevant though","msgtype":"m.text"},"ts":1442990733000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Krinkle: and the HTML Standard uses OverrideBuiltins, e.g., as part of DOMStringMap","msgtype":"m.text"},"ts":1442990734000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ah, it's already being used. cool","msgtype":"m.text"},"ts":1442990755000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Krinkle: I don't think we can change localStorage though","msgtype":"m.text"},"ts":1442990815000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"github search didn't pick up on that, presumably because whatwg/html:/source is too large or extensionless","msgtype":"m.text"},"ts":1442990820000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Krinkle: also not sure whether we want to, localStorage should not be used","msgtype":"m.text"},"ts":1442990831000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I've created https://github.com/whatwg/html/issues/183 for now","msgtype":"m.text"},"ts":1442990860000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I'm entirely satisfied if it's a no, but would like a paper trail for it.","msgtype":"m.text"},"ts":1442990872000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"annevk: Well, that's easy to say. There doesn't seem to be a good alternative at the moment. At least we're using it behind a few abstraction layers, but in that layer I noticed some code using Object.keys() and it looked quite odd. Since people usually use a .length for-loop calling .key()","msgtype":"m.text"},"ts":1442991075000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Krinkle: yeah, I guess it'll be hard to move away from existing usage","msgtype":"m.text"},"ts":1442992235000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Krinkle: alternative is IDB","msgtype":"m.text"},"ts":1442992243000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, but that requires a million lines of code to set and get a single key last I tried. Having said that, I've not looked at it properly. we have an open task to migrate to that.","msgtype":"m.text"},"ts":1442992292000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"But less support-ish, but we could always fallback to localStorage. There's a few libraries that do that.","msgtype":"m.text"},"ts":1442992305000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Though the async-ness means we can't easily migrate existing code.","msgtype":"m.text"},"ts":1442992318000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I wish localStorage was async from the get-go, would've encouraged better code.","msgtype":"m.text"},"ts":1442992329000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Now I'm conflicted: https://github.com/whatwg/fetch/issues/97#issuecomment-142449720","msgtype":"m.text"},"ts":1442992657000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Krinkle: might be a couple of order of magnitudes less","msgtype":"m.text"},"ts":1442992684000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Krinkle: yeah, the synchronous IO bit is the main problem with localStorage","msgtype":"m.text"},"ts":1442992718000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://lists.w3.org/Archives/Public/public-texttracks/2015Sep/0013.html","msgtype":"m.text"},"ts":1442993906000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: interesting","msgtype":"m.text"},"ts":1442996245000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: feel free to create whatwg/webvtt","msgtype":"m.text"},"ts":1442996274000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: and then ping Hixie about adding the domain to my account","msgtype":"m.text"},"ts":1442996293000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://twitter.com/zcorpan/status/646594862616309760 :-)","msgtype":"m.text"},"ts":1442996383000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: perhaps ask philipj if he can manage to keep the webvtt version history somehow","msgtype":"m.text"},"ts":1442996992000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, zcorpan, just make a fork of the existing repo I guess?","msgtype":"m.text"},"ts":1442997248000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"philipj: oh, heh, I thought there was still only the CVS one","msgtype":"m.text"},"ts":1442997290000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no, it's not that bad, the CVS is just the mechanism for publishing to http://dev.w3.org/html5/webvtt/","msgtype":"m.text"},"ts":1442997319000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"s/the//","msgtype":"m.text"},"ts":1442997332000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"gsnedders: fyi http://stackoverflow.com/questions/32731479/lxml-html5parser-ignores-namespacehtmlelements-false-option","msgtype":"m.text"},"ts":1442997521000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"gsnedders: I got lazy about trying to troubleshoot it myself. Maybe I can get somebody else to do it for me","msgtype":"m.text"},"ts":1442997555000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"philipj: I'd suggest please that the group quit publishing that http://dev.w3.org/html5/webvtt/ URL. We can just set up a redirect from there to some saner place.","msgtype":"m.text"},"ts":1442997658000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I hope to see the day when we're not longer actually versioning anything at http://dev.w3.org but instead it exists just for redirects of old URLs to keep them from breaking","msgtype":"m.text"},"ts":1442997733000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: zcorpan is now the editor, but I'd be delighted to see the spec published on webvtt.spec.whatwg.org (or w3c.github.io/webvtt) with a redirect","msgtype":"m.text"},"ts":1442997743000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1442997749000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"let's do that","msgtype":"m.text"},"ts":1442997759000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"doesn't sound like anybody in the group objects to it","msgtype":"m.text"},"ts":1442997777000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"philipj: perhaps it's better than to just move the repo?","msgtype":"m.text"},"ts":1442997803000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: not sure if it's possible to move a repo between organizations, but if it is, sure","msgtype":"m.text"},"ts":1442997826000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"I think so, though haven't done it before","msgtype":"m.text"},"ts":1442997843000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is it considered moved if one does a fork and then remove the original?","msgtype":"m.text"},"ts":1442997850000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: no, I can't imagine that would set up the redirects that a move results in","msgtype":"m.text"},"ts":1442997870000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"ah ok","msgtype":"m.text"},"ts":1442997885000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: what is the \"best\" way to publish stuff on TR/ these days?","msgtype":"m.text"},"ts":1442997923000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"autopublish thing","msgtype":"m.text"},"ts":1442997936000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"called \"Echidna\"","msgtype":"m.text"},"ts":1442997948000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"mkwst: I'm not entirely comfortable leaving the document bit as an open issue for HTTPS state","msgtype":"m.text"},"ts":1442997964000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: ok","msgtype":"m.text"},"ts":1442997975000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I am happy to help anybody/any group get set up to do that","msgtype":"m.text"},"ts":1442997977000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"once you have it set up, you can push to TR/ space at will","msgtype":"m.text"},"ts":1442997990000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: Ok. Do you have suggestions? :)","msgtype":"m.text"},"ts":1442997991000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"zcorpan: whenever we asked to get that autopublished for /TR/webvtt1 we got pushback because the TTWG wants to OK every revision","msgtype":"m.text"},"ts":1442998007000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"philipj: oh geez","msgtype":"m.text"},"ts":1442998025000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so I just opted to never take the initiative to update /TR/webvtt1 at all","msgtype":"m.text"},"ts":1442998028000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"philipj: :-(","msgtype":"m.text"},"ts":1442998040000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I think they just need to be politely told, sorry, no","msgtype":"m.text"},"ts":1442998048000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"mkwst: it seems it is defined when a document is created as a result of navigation","msgtype":"m.text"},"ts":1442998056000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: do you know how to be polite?","msgtype":"m.text"},"ts":1442998087000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"zcorpan: the one thing that makes it less terrible is the quite prominent warning/redirect at the bottom of http://www.w3.org/TR/webvtt1/","msgtype":"m.text"},"ts":1442998120000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"also, that not much has changed normatively since the last update","msgtype":"m.text"},"ts":1442998133000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"philipj: well, scratch the politeness plan actually„ÉºI can instead bring it to Philippe's attention and he won't bother to be polite to them","msgtype":"m.text"},"ts":1442998182000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I'm pretty sure that he was on CC on these discussions","msgtype":"m.text"},"ts":1442998221000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"well the autopublishing thing is Philippe's project, and he's a very strong advocate for groups to use it","msgtype":"m.text"},"ts":1442998237000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"But my memory is now unclear and the discussions not in public, so better to approach it as a new question rather than \"Y U NO AUTOPUBLISH?!\"","msgtype":"m.text"},"ts":1442998253000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"and one group cannot block another group from doing whatever it wants","msgtype":"m.text"},"ts":1442998259000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: /TR/webvtt1 is published \"by\" the TTWG","msgtype":"m.text"},"ts":1442998286000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"they can make a formal objection to some decision but I am pretty sure I already know the Director would not be sympathetic to an FO around this","msgtype":"m.text"},"ts":1442998301000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1442998306000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1442998308000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"there is no other WG involved with WebVTT, there's just the text tracks CG","msgtype":"m.text"},"ts":1442998337000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"oh christ this \"joint deliverable\" stuff is without an exceptions always a bad idea","msgtype":"m.text"},"ts":1442998378000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"philipj: OK","msgtype":"m.text"},"ts":1442998385000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"mkwst: however, a document as result of navigation can be either the result of a request or a response (and sometimes I think a Document object gets reused)","msgtype":"m.text"},"ts":1442998390000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm well Dave Singer is the co-chair of that WG and he is always flexible and helpful in my experience","msgtype":"m.text"},"ts":1442998444000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so maybe we can just ask Dave to please sort it out so that it can be autopublished","msgtype":"m.text"},"ts":1442998466000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: sure, it's worth another try, previous discussions were never initiated by me or Silvia","msgtype":"m.text"},"ts":1442998531000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"annevk: why haven't we added a simple promise-based wrapper API to IndexedDB which covers the localStorage usecases in a convenient way?","msgtype":"m.text"},"ts":1442998535000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"MikeSmith: do you have the right Powers to move the repo? it seems i don't have a settings button","msgtype":"m.text"},"ts":1442998538000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: hang on","msgtype":"m.text"},"ts":1442998573000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://help.github.com/articles/transferring-a-repository/","msgtype":"m.text"},"ts":1442998573000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"roc: transactions and promises were hard to reconcile iirc","msgtype":"m.text"},"ts":1442998574000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: try now","msgtype":"m.text"},"ts":1442998614000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"localStorage doesn't even have transactions so I don't see why that would block things","msgtype":"m.text"},"ts":1442998628000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"MikeSmith: settings button appeared","msgtype":"m.text"},"ts":1442998639000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"super","msgtype":"m.text"},"ts":1442998644000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"roc: https://gist.github.com/inexorabletash/c8069c042b734519680c has some ideas","msgtype":"m.text"},"ts":1442998664000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"roc: IDB has transactions so you'd break that invariant and it would no longer be a \"wrapper\"","msgtype":"m.text"},"ts":1442998694000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you just put every operation in its own transaction","msgtype":"m.text"},"ts":1442998722000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"hmm. i suppose i don't have admin rights in whatwg. annevk?","msgtype":"m.text"},"ts":1442998747000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: you do, you're in Owners","msgtype":"m.text"},"ts":1442998786000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, i wrote \"w3c\" instead of \"webvtt\" in the \"write the repo name to confirm\" field","msgtype":"m.text"},"ts":1442998831000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I guess the argument in https://groups.google.com/forum/#!msg/mozilla.dev.gaia/g5_eOE7YHWw/s8dH40HC8lsJ is that you actually need transactions and people who use localStorage without them are exchanging reliability for convenience.","msgtype":"m.text"},"ts":1442998835000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc: technically without the storage mutex there's a lot of potential for weird behavior with localStorage and cookies, but I haven't seen folks run into it in practice","msgtype":"m.text"},"ts":1442998957000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1442998974000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc: but I'm not sure why we still haven't added a new simple API","msgtype":"m.text"},"ts":1442999147000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"roc: I think maybe in part folks are hesitant to add yet another storage API and in part some folks have been pushing for figuring out the primitives underlying IDB and exposing those first...","msgtype":"m.text"},"ts":1442999177000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok i've moved the repo and created a Team for it","msgtype":"m.text"},"ts":1442999183000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"roc: which I think https://gist.github.com/inexorabletash/a53c6add9fbc8b9b1191 is about","msgtype":"m.text"},"ts":1442999196000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: okay, so once the domain name is setup I can make sure publishing happens automatically","msgtype":"m.text"},"ts":1442999266000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: and then I guess you might want to configure a Twitter account for it and such","msgtype":"m.text"},"ts":1442999282000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: can you please create webvtt.spec.whatwg.org and add it to annevk's account?","msgtype":"m.text"},"ts":1442999298000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: Sorry, had to run out.","msgtype":"m.text"},"ts":1443001033000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"annevk: I'm trying to trace the navigation pieces to see where we have a response. It looks like we will end up in the \"initialize\" mechanism regardless of how we git the bits we're parsing.","msgtype":"m.text"},"ts":1443001071000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"Step 15 of https://html.spec.whatwg.org/#navigating-across-documents fetches the data, then step 24 farms it out to one of HTML or XML or whatever, each of which ends up calling \"initialize the Document object\".","msgtype":"m.text"},"ts":1443001234000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: yeah, that matches my understanding","msgtype":"m.text"},"ts":1443001277000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: there's something with history traversal where an existing Document object can get reused, but in that case it should already have the HTTPS state set to something","msgtype":"m.text"},"ts":1443001300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Right. I think we only care about this when we create a new Document object.","msgtype":"m.text"},"ts":1443001318000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: it might be better to associate this with the Window object though, since for many Document objects this state does not make sense","msgtype":"m.text"},"ts":1443001363000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: e.g., why should new Document() have an HTTPS state?","msgtype":"m.text"},"ts":1443001380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sure. that would match the state on the worker.","msgtype":"m.text"},"ts":1443001382000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"that makes sense.","msgtype":"m.text"},"ts":1443001387000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: the only tricky thing with that seems to be document.open(), which can replace the Window object while keeping the Document object","msgtype":"m.text"},"ts":1443001428000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: I guess you'd have to copy the state across there","msgtype":"m.text"},"ts":1443001450000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: In that case, yeah, we'd copy the state over.","msgtype":"m.text"},"ts":1443001458000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"Domenic: any docs on the tc39 discussion on cancellable promises?","msgtype":"m.text"},"ts":1443001815000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: then that part of the spec is totally unreadable","msgtype":"m.text"},"ts":1443002304000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: I'm not going to argue it's great","msgtype":"m.text"},"ts":1443002372000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: but I'm not sure I would have done a better job given the kind of insane model Hixie has reverse engineered","msgtype":"m.text"},"ts":1443002412000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm, \"spin the event loop\" looks buggy","msgtype":"m.text"},"ts":1443002500000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"\"Queue a task to continue running these steps\" o_O ?","msgtype":"m.text"},"ts":1443002513000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: perhaps we could refactor that so that spin the event loop instead takes a \"task\" to run","msgtype":"m.text"},"ts":1443002593000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: or a set of steps","msgtype":"m.text"},"ts":1443002597000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: that might make it a bit more readable to programmers","msgtype":"m.text"},"ts":1443002636000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so random other tasks might run between 8 and 10","msgtype":"m.text"},"ts":1443002758000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1443002760000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so the algorithm wants to effectively clear task queue from anything there was when \"spin the event loop\" was called","msgtype":"m.text"},"ts":1443002802000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and more","msgtype":"m.text"},"ts":1443002819000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"anything the scripts added during that microtask checkpoint","msgtype":"m.text"},"ts":1443002868000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"\"spin the event loop\" basically seems like \"wait while running the event loop until X is true and then when X is true queue a task to do my thing\"","msgtype":"m.text"},"ts":1443003062000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"However, only X is an explicit argument, \"my thing\" is a tad more hand wavy","msgtype":"m.text"},"ts":1443003083000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is pretty sure this isn't anything what browsers do","msgtype":"m.emote"},"ts":1443003339000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"the sync even loop spinning there","msgtype":"m.text"},"ts":1443003358000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: what do we do instead?","msgtype":"m.text"},"ts":1443003443000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: or more interesting, what's observably different?","msgtype":"m.text"},"ts":1443003536000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"wait for the goal and continue\" is probably closer. And in case of defer scripts, not sure what wk/blink do, but run defer scripts when document and defer scripts have been loaded - right before DOMContentLoaded","msgtype":"m.text"},"ts":1443003683000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"spinning the event loop between running defer scripts is definitely observable","msgtype":"m.text"},"ts":1443003704000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"MikeSmith: happy b-day! üéâ","msgtype":"m.text"},"ts":1443003784000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: okay, so you mean that Firefox waits until all <script defer> have been loaded","msgtype":"m.text"},"ts":1443003895000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: what if a <script defer> inserts another <script defer>? I guess that doesn't work the same perhaps...","msgtype":"m.text"},"ts":1443003926000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah yeah, wouldn't be parser inserted","msgtype":"m.text"},"ts":1443003952000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks ‚úåÔ∏è","msgtype":"m.text"},"ts":1443004135000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: so Gecko has a queue for defer scripts. non-empty queue block DOMContentLoaded to fire","msgtype":"m.text"},"ts":1443004440000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but when we process defer scripts, we do it in a loop until there are no other loaded scripts","msgtype":"m.text"},"ts":1443004465000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and then wait for loading if there is something to load","msgtype":"m.text"},"ts":1443004478000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I guess that could change so that each defer script uses it own task","msgtype":"m.text"},"ts":1443004495000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"that would be perhaps the sanest also from spec point of view","msgtype":"m.text"},"ts":1443004515000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"that's what the spec does, it just doesn't wait for all of them to load first","msgtype":"m.text"},"ts":1443004589000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just waits for the parser to stop","msgtype":"m.text"},"ts":1443004598000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm, true","msgtype":"m.text"},"ts":1443004685000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"the sync event loop spinning just harms readability a bit","msgtype":"m.text"},"ts":1443004706000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ok, let me write a gecko patch","msgtype":"m.text"},"ts":1443004735000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"need to also change microtask handling","msgtype":"m.text"},"ts":1443004742000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"wonders when html spec got different microtask handling from the original mt","msgtype":"m.emote"},"ts":1443004763000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I guess it needs it because of using sync event loop spinning so often","msgtype":"m.text"},"ts":1443004801000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: maybe when it started to be used for more than just mutation observers?","msgtype":"m.text"},"ts":1443005185000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: I'm happy to make the event loop spinning more readable","msgtype":"m.text"},"ts":1443005215000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: e.g. by passing in the steps to be run when the goal is met, rather than doing that in the somewhat weird way it is done now","msgtype":"m.text"},"ts":1443005254000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, at least that mysterious ''until X\" param could be improved","msgtype":"m.text"},"ts":1443005269000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it certainly doesn't sound like a param to the algorithm","msgtype":"m.text"},"ts":1443005283000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it sounds like a condition","msgtype":"m.text"},"ts":1443005293000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"either while or do-while condition","msgtype":"m.text"},"ts":1443005304000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: something like \"Run spin the event loop with goal /goal/\"?","msgtype":"m.text"},"ts":1443005417000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes, something like that","msgtype":"m.text"},"ts":1443005437000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"MikeSmith: did you trying prodding with pdb, btw?","msgtype":"m.text"},"ts":1443006602000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"related to html tokenization, shouldn't the HYPHEN-MINUS case indicate what state to switch to here? https://html.spec.whatwg.org/multipage/syntax.html#comment-end-state","msgtype":"m.text"},"ts":1443008630000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"I'm used to seeing it specified everywhere","msgtype":"m.text"},"ts":1443008696000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"espadrine: it's not specified everywhere. when it isn't it means to stay in the same state :-)","msgtype":"m.text"},"ts":1443008908000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"thanks!","msgtype":"m.text"},"ts":1443008938000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"smaug____: okay, I guess that can be done, not super high priority for now though","msgtype":"m.text"},"ts":1443009964000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: there's some bigger problems with the event loop, such as lack of ES6 integration","msgtype":"m.text"},"ts":1443009979000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, lack of defining how Promises should work","msgtype":"m.text"},"ts":1443010003000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"gsnedders: did not yet pdb it yet, no. But it's been at least 2 weeks since I first noticed the problem, and I've not made time to investigate it further","msgtype":"m.text"},"ts":1443012205000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: I'm taking webvtt-webhook offline as I suppose it will never again be pinged","msgtype":"m.text"},"ts":1443013677000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"philipj: sounds good. i suppose it's broken with the move","msgtype":"m.text"},"ts":1443013904000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"philipj: what did that webhook do?","msgtype":"m.text"},"ts":1443016595000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it generated a static copy of the spec using PhantomJS, then committed that to CVS","msgtype":"m.text"},"ts":1443016631000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"philipj: ah okay","msgtype":"m.text"},"ts":1443016646000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"philipj: so yeah, I guess we should setup webvtt.spec... and then just redirect that old copy","msgtype":"m.text"},"ts":1443016670000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yep, MikeSmith says he can do the redirect","msgtype":"m.text"},"ts":1443016682000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"zcorpan: but if you don't want to check in the generated spec, then you'll still need some webhook to generate it from source","msgtype":"m.text"},"ts":1443016762000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"for mediasession I just check in the generated output, I kind of like seeing when Bikeshed made everything change","msgtype":"m.text"},"ts":1443016789000,"senderName":"philipj","senderId":"philipj@irc"},
{"content":{"body":"i could go either way with checking in generated version. in the csswg we typically just check in the source and have bikeshed run on the server, regenerating all the specs as necessary","msgtype":"m.text"},"ts":1443016853000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: k","msgtype":"m.text"},"ts":1443016966000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"MikeSmith: am ill, so unlikely to dig recently","msgtype":"m.text"},"ts":1443016972000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"MikeSmith: recently? soon","msgtype":"m.text"},"ts":1443016978000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"holis","msgtype":"m.text"},"ts":1443020196000,"senderName":"Mangle_Kawaii","senderId":"Mangle_Kawaii@irc"},
{"content":{"body":"zcorpan: until Domenic spreads the setup that Streams has I would prefer it if you check in the generated version too","msgtype":"m.text"},"ts":1443020715000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sure","msgtype":"m.text"},"ts":1443020726000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: that way I can just curl/wget that from the server","msgtype":"m.text"},"ts":1443020732000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: the other thing that'd be useful if you kept the structure flat","msgtype":"m.text"},"ts":1443020940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: no directories","msgtype":"m.text"},"ts":1443020971000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok. why?","msgtype":"m.text"},"ts":1443020995000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: easier to setup sync","msgtype":"m.text"},"ts":1443021072000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: that is, I can copy my existing script :-)","msgtype":"m.text"},"ts":1443021093000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok sure","msgtype":"m.text"},"ts":1443021350000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"gotta go","msgtype":"m.emote"},"ts":1443021567000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: MikeSmith: sorry I haven't had much time for reviews lately, but today should be good.","msgtype":"m.text"},"ts":1443024892000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: not at TC39?","msgtype":"m.text"},"ts":1443024903000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: prioritize MikeSmith's work, I'm in no rush","msgtype":"m.text"},"ts":1443024922000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: at TC39, but today's topics look like I should have some in between time for reviews.","msgtype":"m.text"},"ts":1443024924000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Excited about getting URL straightened out though.","msgtype":"m.text"},"ts":1443024966000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: slowly, but yes","msgtype":"m.text"},"ts":1443025485000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: I guess I'll do Location too before we change that into distinct same-origin and cross-origin objects","msgtype":"m.text"},"ts":1443025535000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: still need to think a bit about <a> and <area>, maybe tomorrow","msgtype":"m.text"},"ts":1443025563000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JonathanNeal: I just pushed the changes to Nesting.","msgtype":"m.text"},"ts":1443030433000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hurray! I'm out sick today, but anything I should take attention to?","msgtype":"m.text"},"ts":1443030673000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Nah, it's exactly what we talked about before.","msgtype":"m.text"},"ts":1443030692000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk: Regarding https://github.com/RByers/EventListenerOptions/issues/20, perhaps IRC (or a conference call if necessary) would be a more productive forum?","msgtype":"m.text"},"ts":1443031262000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":".. It really sounds like we have the same end goal here, right?  Make it easier for developers to reason about the performance implications of their handlers, while allowing more pages to be fast?","msgtype":"m.text"},"ts":1443031295000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: I'm opposed to that goal.","msgtype":"m.text"},"ts":1443031334000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I prefer artisan pages, hand-crafted and slowly enjoyed on your porch on a lazy Sunday morning.","msgtype":"m.text"},"ts":1443031353000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Ok, I guess I was wrong about IRC being a more productive discussion forum ;-)","msgtype":"m.text"},"ts":1443031373000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"^_^","msgtype":"m.text"},"ts":1443031381000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"roc, annevk: You may also like https://gist.github.com/inexorabletash/280016e79188b6a28247","msgtype":"m.text"},"ts":1443031579000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"whoah","msgtype":"m.text"},"ts":1443040513000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"jsbell: I like the part where you say, \"For those times when you don't care about your data getting corrupted, use this!\"","msgtype":"m.text"},"ts":1443040547000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: ???","msgtype":"m.text"},"ts":1443040717000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: trolling )","msgtype":"m.text"},"ts":1443040757000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but that does seem like a possible footgun","msgtype":"m.text"},"ts":1443040773000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I would wonder, if it's made available, what's to prevent Web devs from using it when they should instead really be using the transactional API","msgtype":"m.text"},"ts":1443040820000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: indeed. You can lead a developer to ACID but...","msgtype":"m.text"},"ts":1443040875000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"but instead they use this and end up muffing up their data and then they come screaming about Y U hurt my data??!!","msgtype":"m.text"},"ts":1443040885000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"jsbell: yup","msgtype":"m.text"},"ts":1443040894000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Anyone understand hgroup enough to help with https://github.com/whatwg/html/issues/115 ?","msgtype":"m.text"},"ts":1443050084000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"well that's lovely, updated debian and a bunch of scripts broke because apparently lxml.cssselect is now case-sensitive","msgtype":"m.text"},"ts":1443050562000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"SimonSapin: ^^^ what zewt just said; is lxml.cssselect case-sensitive somehow now?","msgtype":"m.text"},"ts":1443050594000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"MikeSmith: what's a good way to trigger a build error deep in the file?","msgtype":"m.text"},"ts":1443050714000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"doc = html5lib.parse(html, treebuilder='lxml'); results = CSSSelector('#id A')(doc), had to change A to a (guess it could also be a change in the parser)","msgtype":"m.text"},"ts":1443050726000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Domenic: put in a stray end tag maybe","msgtype":"m.text"},"ts":1443050738000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"sounds good","msgtype":"m.text"},"ts":1443050763000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Hmm if [[ \"$WATTSI_RESULT\" -ne \"0\" ]]; then => syntax error in conditional expression","msgtype":"m.text"},"ts":1443050814000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"most of the conditionals in the file do not use [[ ]]","msgtype":"m.text"},"ts":1443050831000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oh nevermind","msgtype":"m.text"},"ts":1443050854000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I just mismatched my braces","msgtype":"m.text"},"ts":1443050857000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah we really should better be using the [[ ]] extended form everywhere, actually","msgtype":"m.text"},"ts":1443050926000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"[[ ]] is just less portable. But if you use it even once in a script you might as well always use it. And there are cases the definitely require it","msgtype":"m.text"},"ts":1443051013000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: here's some output using the build server, going to try local now https://gist.github.com/domenic/68b7ab882afb6e6586d4","msgtype":"m.text"},"ts":1443051017000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1443051026000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so that looks correct","msgtype":"m.text"},"ts":1443051045000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that is expected output, right?","msgtype":"m.text"},"ts":1443051051000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"damn look at those line numbers","msgtype":"m.text"},"ts":1443051073000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok works","msgtype":"m.text"},"ts":1443051078000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1443051091000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"just confirming it met what you expected","msgtype":"m.text"},"ts":1443051091000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"wow local wattsi is fast","msgtype":"m.text"},"ts":1443051091000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"103882 vs 105129 is quite a diffence but looks correct","msgtype":"m.text"},"ts":1443051095000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah Hixie's wattsi code is fairly amazing in terms of performance","msgtype":"m.text"},"ts":1443051119000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah 103882 is the correct source line i messed with","msgtype":"m.text"},"ts":1443051123000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"his html parser is as fast as any other one out there","msgtype":"m.text"},"ts":1443051137000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Domenic: rock and roll","msgtype":"m.text"},"ts":1443051484000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1443051494000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"will rebase and squash the repo-switcher one shortly","msgtype":"m.text"},"ts":1443051502000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"before that I need to clean up because I have to head into the office today and I'm in a somewhat Stallman-esque personal hygiene state from having been working at home so far all this week","msgtype":"m.text"},"ts":1443051593000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I didn't realise that was like Libraries of Congress for dirt","msgtype":"m.text"},"ts":1443051757000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"lol i know the feeling","msgtype":"m.text"},"ts":1443051801000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"JakeA: is this still expected to work? https://jakearchibald.github.io/offline-wikipedia/?Hulk_Hogan","msgtype":"m.text"},"ts":1443051920000,"senderName":"wanderview_pto","senderId":"wanderview_pto@irc"},
{"content":{"body":"JakeA: I get a 404 from this resource load:  https://wikipedia-cors.appspot.com/en.m.wikipedia.org/wiki/Hulk_Hogan?action=render","msgtype":"m.text"},"ts":1443051967000,"senderName":"wanderview_pto","senderId":"wanderview_pto@irc"},
{"content":{"body":"I haven't pretty-printed the sw.js, but it appears to be passing that URL through from the fetch event","msgtype":"m.text"},"ts":1443052182000,"senderName":"wanderview_pto","senderId":"wanderview_pto@irc"},
{"content":{"body":"JakeA: ah, it seems maybe the gh-pages branch just hasn't been updated in 5 months... I don't see appspot referenced from the main branch","msgtype":"m.text"},"ts":1443052537000,"senderName":"wanderview_pto","senderId":"wanderview_pto@irc"}
]