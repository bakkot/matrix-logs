[
{"content":{"body":"for the color chooser, maybe one could define the color ends like#ff0 and #fff , and all shades in between will be shown for the user to pick, instead of writing a list of all colors","msgtype":"m.text"},"ts":1184486520000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"not sure how usefull that will be though... :)","msgtype":"m.text"},"ts":1184486521000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I get a parse error for \"unrecognised entity name\" on 60% of pages, which seems quite surprising","msgtype":"m.text"},"ts":1184506740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, right, the unrecognised entities were almost all in attributes, which sounds like <a href=\"a?b&c\">, so that's not so surprising","msgtype":"m.text"},"ts":1184508480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"60% of pages have that error, 30% have no parse errors at all, 10% have duplicate attributes (odd?), 7% have non-permitted slashes, etc","msgtype":"m.text"},"ts":1184508600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: what are the duplicate attributes?","msgtype":"m.text"},"ts":1184509440000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"things like <meta name=keywords content=the best of the best>?","msgtype":"m.text"},"ts":1184509560000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"anybody here?","msgtype":"m.text"},"ts":1184510820000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1184510940000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"i have a little proble with XHTML MP DOCTYPE declaration","msgtype":"m.text"},"ts":1184511180000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1184511181000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"while i'm creating XHTML MP document in servlet through XSLT transformation it's connection to w3c.org and verifing content, and then throw FileNotFound exception on http://www.wapforum.org/DTD/xhtml-mobile10-model-1.mod file","msgtype":"m.text"},"ts":1184511360000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"hmmm. i hope my english seems not very bad for you","msgtype":"m.text"},"ts":1184511361000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"so, what should i do for preventing this error?","msgtype":"m.text"},"ts":1184511420000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"don't use a doctype","msgtype":"m.text"},"ts":1184511421000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":")","msgtype":"m.text"},"ts":1184511422000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"of course, it will solve my problem, but it's incorrect a little a think","msgtype":"m.text"},"ts":1184511480000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"*i","msgtype":"m.text"},"ts":1184511481000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"why is it incorrect?","msgtype":"m.text"},"ts":1184511482000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"i read it's necessary to include doctype in document","msgtype":"m.text"},"ts":1184511540000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"according to whom?","msgtype":"m.text"},"ts":1184511541000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"wait a sec","msgtype":"m.text"},"ts":1184511542000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"hmmm...","msgtype":"m.text"},"ts":1184511660000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"then another question: a you sure that all phones can process wap2.0 page without doctype element?","msgtype":"m.text"},"ts":1184511780000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"pretty sure","msgtype":"m.text"},"ts":1184511840000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"http://simon.html5.org/articles/mobile-results","msgtype":"m.text"},"ts":1184511841000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"are you writing wap sites?","msgtype":"m.text"},"ts":1184511900000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1184511901000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"according to my testing, most phones treat your (carefully crafted) page (regardless of what it is) pretty much like desktop browsers treat html ","msgtype":"m.text"},"ts":1184511960000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"he, very interesting article, thanks )","msgtype":"m.text"},"ts":1184511961000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"even if it validates as something fancy and is served as application/xhtml+xml","msgtype":"m.text"},"ts":1184512020000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"it gets tag soup treatment by most phones","msgtype":"m.text"},"ts":1184512021000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"(sadly)","msgtype":"m.text"},"ts":1184512022000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hmm. did you use emulators?","msgtype":"m.text"},"ts":1184512080000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"i think a few emulators were tested too","msgtype":"m.text"},"ts":1184512140000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the s60 webkit emulator iirc","msgtype":"m.text"},"ts":1184512141000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"(the result of which was confirmed on a real device)","msgtype":"m.text"},"ts":1184512142000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"how do you think, does mobile phone browsers look at doctype at all?","msgtype":"m.text"},"ts":1184512320000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"not sure. probably not","msgtype":"m.text"},"ts":1184512321000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"opera might look at it","msgtype":"m.text"},"ts":1184512380000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"if you serve the same markup to desktop browsers, and want to avoid quirks mode, then you may want to use some doctype","msgtype":"m.text"},"ts":1184512440000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"(if you serve it as text/html)","msgtype":"m.text"},"ts":1184512441000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"problem is that i already wrote code for converting web pages... useless now","msgtype":"m.text"},"ts":1184512500000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"zcorpan_: http://www.sh3bwah.com/ does <img border=\"0\" ... border=0>, http://www.sapo.pt/ does <a class=\"subcat\" ... class=\"url\">, http://www.nate.com/ does <input name=\"news_radio\" ... name=\"NS\" ...>, http://www.sanook.com/ does <a ... target=\"_blank\" ... target=\"_blank\" ...>","msgtype":"m.text"},"ts":1184512560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: any dups for style?","msgtype":"m.text"},"ts":1184512620000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_ thanks a lot! it was very useful for me","msgtype":"m.text"},"ts":1184512920000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"zcorpan_: http://www.uume.com/","msgtype":"m.text"},"ts":1184512921000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"sorry for my english","msgtype":"m.text"},"ts":1184512922000,"senderName":"aas","senderId":"aas@irc"},
{"content":{"body":"<li ... style=\"display:none\" style=\"background:none\" ...>","msgtype":"m.text"},"ts":1184512980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I don't automatically collect data about which attributes were duplicated, so I'm just checking the list of pages through the W3C Validator to get more details)","msgtype":"m.text"},"ts":1184513040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: ok","msgtype":"m.text"},"ts":1184513041000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Philip`: dups for style is nasty in ie","msgtype":"m.text"},"ts":1184513042000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Philip`: if we were to support what ie does with dups for style in html5, it would require hacks in the tokenizer :(","msgtype":"m.text"},"ts":1184513100000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"<b style=\"color:red; /*\" style=\"font-size:2em; */\">","msgtype":"m.text"},"ts":1184513280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Looks like you can't just concatenate the attribute values :-(","msgtype":"m.text"},"ts":1184513281000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I'll try adding some instrumentation to see how common each specific duplicated attribute is","msgtype":"m.text"},"ts":1184513282000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"indeed, you need to parse each attribute separately and then combine them","msgtype":"m.text"},"ts":1184513340000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"<b style=\"color:red\" style=\"color:green\">","msgtype":"m.text"},"ts":1184513400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"pretty much as if it was <style> b { color:red; /*</style> <style> b { font-size:2em; */</style>","msgtype":"m.text"},"ts":1184513401000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Have to reverse the order, it seems","msgtype":"m.text"},"ts":1184513460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah yep, that too","msgtype":"m.text"},"ts":1184513461000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"as if it was <style> b { font-size:2em; */</style> <style> b { color:red; /*</style>","msgtype":"m.text"},"ts":1184513462000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"<b style=\"color:red\" style=\"color:green !important\">","msgtype":"m.text"},"ts":1184513520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it is unclear to me what should happen here: http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0D%0A%3Cinput%3E%3Cscript%3Edocument.body.firstChild.tabIndex%20%3D%20%22x%22%3B%20w%28document.body.firstChild.getAttribute%28%22tabindex%22%29%29%3C/script%3E","msgtype":"m.text"},"ts":1184514300000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"\"On setting, the given value must be converted to a string representing the number as a valid integer in base ten and then that string must be used as the new content attribute value.\"","msgtype":"m.text"},"ts":1184514360000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"ah. it's defined in http://dev.w3.org/cvsweb/~checkout~/2006/webapi/Binding4DOM/Overview.html?content-type=text/html;%20charset=utf-8#es-long","msgtype":"m.text"},"ts":1184516160000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"very much needed spec that one","msgtype":"m.text"},"ts":1184516220000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"thinks","msgtype":"m.emote"},"ts":1184516221000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"wonder why <col> isn't allowed as a child of <table>","msgtype":"m.text"},"ts":1184517840000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: I see duplicate @style on 10 pages (out of ~480)","msgtype":"m.text"},"ts":1184517841000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"( http://www.uume.com http://www.megaupload.com http://www.goo.ne.jp http://www.whenu.com http://www.alibaba.com http://www.naver.com http://www.sohu.com http://www.51.com http://www.domaintools.com http://www.6rb.com )","msgtype":"m.text"},"ts":1184517842000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: wow, that's a lot","msgtype":"m.text"},"ts":1184517900000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the first two don't seem to break anything by not doing what ie does","msgtype":"m.text"},"ts":1184518140000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"checks the others","msgtype":"m.emote"},"ts":1184518141000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"style=\"\" style=\"\"","msgtype":"m.text"},"ts":1184518200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"style=\"width:300px;\" style=\"ime-mode: active;\"","msgtype":"m.text"},"ts":1184518201000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"style=\"padding:0px 0px;\" style=\"font-size:10px;\"","msgtype":"m.text"},"ts":1184518202000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"style=\"float:left;width:40%;height:30px;\" style=\"padding:0 0 4px 10px;\"","msgtype":"m.text"},"ts":1184518203000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"style=\"WIDTH: 317px\" name=query tabindex=2 onfocus=\"return setTextBox(event, 0);\" style=\"BACKGROUND-POSITION: left 50%; BACKGROUND-IMAGE: url(http://wstatic.naver.com/www/images3/cursor.gif); BACKGROUND-REPEAT: no-repeat\"","msgtype":"m.text"},"ts":1184518204000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"style=\" font-weight:normal; text-decoration:underline;color:#0000cc;font-size:12px;margin-left:240px;\" style=\"behavior: url(#default#homepage)\"","msgtype":"m.text"},"ts":1184518205000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"style=\"FONT-SIZE: 12px\" style=\"color:#ff0000\"","msgtype":"m.text"},"ts":1184518206000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"style=\"line-height: 1.0em;\" style=\"vertical-align: top\"","msgtype":"m.text"},"ts":1184518207000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"style=\"font-family: Tahoma; font-size: 8pt; border: 1 solid #808080\" style=\"font-family: Tahoma; font-size: 8pt\"","msgtype":"m.text"},"ts":1184518208000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Those are the pairs I see on one element)","msgtype":"m.text"},"ts":1184518260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(for the ten sites)","msgtype":"m.text"},"ts":1184518261000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: thanks","msgtype":"m.text"},"ts":1184518262000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Three of those pages have style=\"behaviour:url(#default#homepage)\", which seems unusual","msgtype":"m.text"},"ts":1184518440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and the links with those styles also have onClick=\"this.style.behavior='url(#default#homepage)';this.setHomePage('http://www.naver.com');\"","msgtype":"m.text"},"ts":1184518441000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(The one with duplicate style attributes, of which one was that #default#homepage thing, also had the onclick on the same element)","msgtype":"m.text"},"ts":1184518442000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that's an ieism we probably don't need to copy","msgtype":"m.text"},"ts":1184518500000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hsivonen: I just found a comment in the html5lib code for the processCharacter method in the InBody phase:","msgtype":"m.text"},"ts":1184522580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"        # XXX The specification says to do this for every character at the","msgtype":"m.text"},"ts":1184522581000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"        # moment, but apparently that doesn't match the real world so we don't","msgtype":"m.text"},"ts":1184522582000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"        # do it for space characters.","msgtype":"m.text"},"ts":1184522583000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"self.tree.reconstructActiveFormattingElements()","msgtype":"m.text"},"ts":1184522584000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So it looks like we don't reconstruct afe's for space elements by design","msgtype":"m.text"},"ts":1184522585000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: hmm. testing suggests that real world requires what the spec says--not what html5lib does (Re: afe)","msgtype":"m.text"},"ts":1184526180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Interesting. ","msgtype":"m.text"},"ts":1184526240000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"At least we should raise this with Hixie","msgtype":"m.text"},"ts":1184526300000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and ask Anne if he knows why html5lib is different here","msgtype":"m.text"},"ts":1184526360000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"goes to re-enable current-spec compliant behaviour","msgtype":"m.emote"},"ts":1184526361000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%3Cp%3E%3Cb%3E%3Ci%3E%3Cu%3E%3C/p%3E%20%3Cp%3EX","msgtype":"m.text"},"ts":1184526480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Firefox 2.0, WebKit trunk, Safari 2.0.4, Opera 9.20 and, I'm told, IE7 all put the space node as a descendant of formatting elements as opposed to putting it as a child of body","msgtype":"m.text"},"ts":1184526540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: shouldn't this be raised with Anne first and with Hixie/the list only if Anne has a good reason to diverge from the spec and browser behavior?","msgtype":"m.text"},"ts":1184526660000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Yeah, that was expressed in reverse order","msgtype":"m.text"},"ts":1184526661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: email sent to Anne with you in the CC","msgtype":"m.text"},"ts":1184526960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Got it. ","msgtype":"m.text"},"ts":1184527260000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Philip` / hsivonen: Going back to the tokenizer tests for non-BMP entities; these (if I am not mistaken) assume the tokenizer produces UTF-16 output.","msgtype":"m.text"},"ts":1184532840000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Is that actually required anywhere? The DOM has to be UTF-16 but the HTML5 spec doesn't actually require that you construct a DOM per-se","msgtype":"m.text"},"ts":1184532900000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: They assume it produces UTF-32 output and then the JSON serialisation encodes those values as surrogate pairs","msgtype":"m.text"},"ts":1184532901000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham: no, JSON assumes UTF-16 code unit escapes","msgtype":"m.text"},"ts":1184532960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: if simplejson produces UTF-32 escapes, it is borked","msgtype":"m.text"},"ts":1184532961000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OK I think I understand.","msgtype":"m.text"},"ts":1184533080000,"senderName":"jgraham","senderId":"jgraham@irc"}
]