[
{"content":{"body":"hi folks .. where do I report possible errors in the HTML5 spec. Its a trivial but important bug: the Fetch algorithm http://www.whatwg.org/specs/web-apps/current-work/multipage/fetching-resources.html#fetch doesn't actually check the same-origin flag. It only does so after a redirect.","msgtype":"m.text"},"ts":1322356260000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Is Hixie the right person to ping about this?","msgtype":"m.text"},"ts":1322356320000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"origin is checked before the request is made","msgtype":"m.text"},"ts":1322356380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"before fetch is invoked, that is","msgtype":"m.text"},"ts":1322356381000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"duryodhan: ^^","msgtype":"m.text"},"ts":1322356680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: can't find that check at http://www.whatwg.org/specs/web-apps/current-work/multipage/workers.html#dom-workerglobalscope-location","msgtype":"m.text"},"ts":1322356681000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"it just seems like a better idea to do the check inside the fetch url .. what does it even mean to do a cross origin fetch with same-origin flag set? If it redirects to the same domain it will be disallowed ?","msgtype":"m.text"},"ts":1322356740000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"duryodhan: http://www.whatwg.org/specs/web-apps/current-work/multipage/workers.html#dom-worker","msgtype":"m.text"},"ts":1322356860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"duryodhan: I'm not sure that you can ever get into that situation, but maybe the spec should indeed point that out","msgtype":"m.text"},"ts":1322356920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ohh yeah .. noticed.","msgtype":"m.text"},"ts":1322356980000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"yeah to me it seems like unnecessary to require all calls to fetch to do teh same origin check themselves","msgtype":"m.text"},"ts":1322356981000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I don't think all calls do such a check","msgtype":"m.text"},"ts":1322357040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but maybe now with CORS that changed","msgtype":"m.text"},"ts":1322357041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"at some point CORS/fetch needs to merged","msgtype":"m.text"},"ts":1322357042000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but we're gonna wait with that","msgtype":"m.text"},"ts":1322357043000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wonders where myakura is","msgtype":"m.emote"},"ts":1322357580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thinks myakura should deal with http://lists.w3.org/Archives/Public/public-webapps/2011OctDec/1209.html :p","msgtype":"m.emote"},"ts":1322357640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hey, I was wondering if there was a way of telling a web browser to not allow any external embedding of javascript in a document and to dissbale eval?","msgtype":"m.text"},"ts":1322390940000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"because as far as I can see there is not, and this would be a useful security feature for the web","msgtype":"m.text"},"ts":1322391060000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"ashaw http://www.w3schools.com/html5/att_iframe_sandbox.asp","msgtype":"m.text"},"ts":1322391900000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"but can I do it outside of an iframe","msgtype":"m.text"},"ts":1322391960000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"=> wrap all page into iframe","msgtype":"m.text"},"ts":1322392020000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"That is kind of useless","msgtype":"m.text"},"ts":1322392080000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"and will cause useability problems with, giving the most basic example, and iphone","msgtype":"m.text"},"ts":1322392140000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"sec","msgtype":"m.text"},"ts":1322392141000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"Also I want to load scripts, but only thoes originally embeded in the html of the page, no other scripts","msgtype":"m.text"},"ts":1322392200000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"so above also does not do what I want","msgtype":"m.text"},"ts":1322392260000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"ashaw you can use dommutation events, catch any attemp to add <script> and dont allow set src","msgtype":"m.text"},"ts":1322392320000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"and how do you deal with eval?","msgtype":"m.text"},"ts":1322392321000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"by replacing src attibute and setAttribute fn","msgtype":"m.text"},"ts":1322392322000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"oh eval","msgtype":"m.text"},"ts":1322392380000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"ashaw user still can use cross origin XHR and eval/Fn, ok","msgtype":"m.text"},"ts":1322392381000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"but you can wrap XHR too :)","msgtype":"m.text"},"ts":1322392440000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"yeah, but this is now becoming complex and vunerable to bugs","msgtype":"m.text"},"ts":1322392441000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"and what if they then do and overwride your handler","msgtype":"m.text"},"ts":1322392500000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"thought mutation events were generally agreed to be evil and never to be used","msgtype":"m.emote"},"ts":1322392560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ashaw: Maybe you want something a bit like https://developer.mozilla.org/en/Security/CSP ?","msgtype":"m.text"},"ts":1322392620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ashaw dont forget that user can download resource via <img> & canvas, <link>, <object> and <embed>","msgtype":"m.text"},"ts":1322392800000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"I was about to mention them","msgtype":"m.text"},"ts":1322392860000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"That CSP stuff seems good","msgtype":"m.text"},"ts":1322392861000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"but only firefox?","msgtype":"m.text"},"ts":1322392980000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"does webkit, IE, opera offer anything similar?","msgtype":"m.text"},"ts":1322393040000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"so webkit is impelmenting support","msgtype":"m.text"},"ts":1322393280000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"https://docs.google.com/present/view?id=dz4jvnj_54hrjnwpdc&pli=1","msgtype":"m.text"},"ts":1322393520000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"cool, but not quite applicable","msgtype":"m.text"},"ts":1322394060000,"senderName":"ashaw","senderId":"ashaw@irc"},
{"content":{"body":"i like typesafe router","msgtype":"m.text"},"ts":1322394180000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"So do I","msgtype":"m.text"},"ts":1322394480000,"senderName":"ashaw","senderId":"ashaw@irc"}
]