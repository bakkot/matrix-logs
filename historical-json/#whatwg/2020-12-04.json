[
{"content":{"body":"andreubotella: I think I understand now","msgtype":"m.text"},"ts":1607070302000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: well hmm, maybe not","msgtype":"m.text"},"ts":1607070376000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: what happens for text/plain?","msgtype":"m.text"},"ts":1607070646000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: it seems to me that HTML should maybe be modified, that it flattens the File into its filename if the encoding is not multipart/form-data","msgtype":"m.text"},"ts":1607070691000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: and then we can modify urlencoding by asserting that value is always a string","msgtype":"m.text"},"ts":1607070739000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that's right, I hadn't considered text/plain","msgtype":"m.text"},"ts":1607076702000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"annevk: but I'm not sure about having to depend on the enctype when constructing the entry list","msgtype":"m.text"},"ts":1607076730000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"s/enctype/method","msgtype":"m.text"},"ts":1607076860000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"it means you couldn't do this even when the enctype is UTF-8:","msgtype":"m.text"},"ts":1607076878000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"const formdata = new FormData(formElement); fetch(\"https://example.com\", {method: \"POST\", body: formdata});","msgtype":"m.text"},"ts":1607076885000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"then again, I don't think you can currently convert from a FormData into a urlencoded or text/plain representation, so maybe that can work","msgtype":"m.text"},"ts":1607077070000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: constructing the <form> entry list has access to enctype, I agree it's not ideal, but it seems better than to normalize in two completely different places to me","msgtype":"m.text"},"ts":1607077351000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: and yeah, FormData can only be serialized as multipart/form-data and I'd prefer keeping it that way","msgtype":"m.text"},"ts":1607077379000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so we'd be going the safari way in these tests, I guess: https://wpt.fyi/results/FileAPI/file/send-file-formdata-controls.tentative.html?label=experimental&label=master&aligned","msgtype":"m.text"},"ts":1607077452000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"https://wpt.fyi/results/html/semantics/forms/form-submission-0/newline-normalization.html?label=pr_head&max-count=1&pr=26747 too","msgtype":"m.text"},"ts":1607077504000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: I thought we generally wanted to follow Chrome as it is closest to the spec?","msgtype":"m.text"},"ts":1607077920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's hard to go from those results to the actual tests so I'm not sure","msgtype":"m.text"},"ts":1607077946000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: here Chrome does everything by the spec except that it also normalizes newlines for urlencoded (haven't checked text/plain though)","msgtype":"m.text"},"ts":1607078022000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"hm, I might be confusing things","msgtype":"m.text"},"ts":1607078083000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: yeah, and urlencoded / text/plain we'd make a change in HTML for to flatten a File to a string; I think that makes the most sense to me","msgtype":"m.text"},"ts":1607078086000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: my bad, I was thinking that there would be some change in behavior when creating a multipart entry list, when it wouldn't be the case","msgtype":"m.text"},"ts":1607078398000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"so yeah, FormData wouldn't be affected at all","msgtype":"m.text"},"ts":1607078405000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"annevk: rfc1918 should probably follow the naming convention of COR* :D","msgtype":"m.text"},"ts":1607080574000,"senderName":"jkt_","senderId":"jkt_@irc"},
{"content":{"body":"jkt_: that's a great suggestion for that issue","msgtype":"m.text"},"ts":1607080606000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"COIAP","msgtype":"m.text"},"ts":1607080628000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Cross-origin IP address preflights","msgtype":"m.text"},"ts":1607080643000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Please don't take me seriously :D","msgtype":"m.text"},"ts":1607080672000,"senderName":"jkt_","senderId":"jkt_@irc"},
{"content":{"body":"don't say things you'll regret :p","msgtype":"m.text"},"ts":1607080695000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The joke would be on you having to explain it to browser devs :D. No CORB with a B for Boy.... etc","msgtype":"m.text"},"ts":1607080780000,"senderName":"jkt_","senderId":"jkt_@irc"},
{"content":{"body":"I'm awaiting CORBLIMEY with a Dick van Dyke logo","msgtype":"m.text"},"ts":1607080970000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"WhatWG swag right there","msgtype":"m.text"},"ts":1607081840000,"senderName":"jkt_","senderId":"jkt_@irc"},
{"content":{"body":"Domenic: if I read this correctly https://github.com/whatwg/html/pull/4184#issuecomment-739054218, do you mean that we should only try to move it forward after Firefox also has <dialog> shipped in release?","msgtype":"m.text"},"ts":1607121426000,"senderName":"saber1","senderId":"saber1@irc"},
{"content":{"body":"saber1: no, I'm saying that we require multiple implementers interested to move the change forward, and although Firefox is interested, you need to recruit a second one.","msgtype":"m.text"},"ts":1607121478000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: ah okay, sorry about that, I thought Chrome had the interests","msgtype":"m.text"},"ts":1607121530000,"senderName":"saber1","senderId":"saber1@irc"},
{"content":{"body":"Nah, see https://github.com/whatwg/html/pull/4184#issuecomment-440326010","msgtype":"m.text"},"ts":1607121563000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"gotcha, I misread","msgtype":"m.text"},"ts":1607121900000,"senderName":"saber1","senderId":"saber1@irc"}
]