[
{"content":{"body":"annevk: can you connect to moznet?","msgtype":"m.text"},"ts":1474451271000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: I'm there, no?","msgtype":"m.text"},"ts":1474452546000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, yeah","msgtype":"m.text"},"ts":1474452965000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"anybody know what channel the Intersection Observer sesssion is in?","msgtype":"m.text"},"ts":1474464085000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"also the WebIDL discussion","msgtype":"m.text"},"ts":1474464212000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk, ^","msgtype":"m.text"},"ts":1474464255000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"MikeSmith: webidl isn't minuting - we're doing #webapps for passing links and such, but are otherwise summarizing in https://public.etherpad-mozilla.org/p/webidl","msgtype":"m.text"},"ts":1474464302000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"webidl is in #webapps, but we're not taking minutes (there's an etherpad for results)","msgtype":"m.text"},"ts":1474464304000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"MikeSmith: IDL is in 5C","msgtype":"m.text"},"ts":1474464307000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh channel","msgtype":"m.text"},"ts":1474464322000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"doh","msgtype":"m.text"},"ts":1474464323000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what about manifest? any idea?","msgtype":"m.text"},"ts":1474464830000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"manifest/publications is in #collection","msgtype":"m.text"},"ts":1474464879000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"I guess nobody is in the Intersection Observer session","msgtype":"m.text"},"ts":1474465316000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"You can't observe an intersection between the atendees and people in this channel?","msgtype":"m.text"},"ts":1474465380000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"JakeA: can you think of a reasonable use case for keeping a FetchEvent.resolveWith() open for longer than 5 minutes *without* streams?","msgtype":"m.text"},"ts":1474466157000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: not that I can think of","msgtype":"m.text"},"ts":1474466246000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: thanks!  I guess chrome does not have any kind of kill timer on FetchEvent.respondWith(), right?","msgtype":"m.text"},"ts":1474466294000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I don't think so","msgtype":"m.text"},"ts":1474466322000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: does chrome kill the worker if FetchEvent.respondWith() is holding it alive, but then the last controlled window is closed?","msgtype":"m.text"},"ts":1474466352000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: hmm, I don't know :(","msgtype":"m.text"},"ts":1474466391000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"ok, thanks","msgtype":"m.text"},"ts":1474466402000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: we currently have a 5 minute kill timer on FetchEvent.respondWith()... we'll have to remove it once we get stream support, but I worry about the case where the window is closed while its being held alive...","msgtype":"m.text"},"ts":1474466440000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: did you guys discuss this SW issue at all yesterday? https://github.com/w3c/ServiceWorker/issues/962","msgtype":"m.text"},"ts":1474469801000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: seems in-process memory caches offer order-of-magnitude perf benefits... so enabling those should probably be a priority even if impls aren't there yet","msgtype":"m.text"},"ts":1474469867000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: we didn't discuss it, but it still doesn't feel like a service worker thing. More that we need programmatic access to something like the img cache","msgtype":"m.text"},"ts":1474472406000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"mkwst: so in your idea of isolation, how does a domain tell it wants isolation? Would that be part of origin-policy-manifest?","msgtype":"m.text"},"ts":1474473103000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"mkwst: and another question... since I think what some people at mozilla have been thinking about - the process isolation to get clean addressspace on 32bit, is in many ways still very similar to your idea of isolation, how could these two ideas be merged","msgtype":"m.text"},"ts":1474473233000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"mkwst: and nm, you answered to my questions :)","msgtype":"m.text"},"ts":1474474050000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"JakeA: its more that the service worker needs a way to hint \"I'm not going to change this resource every time its accessed\" so the browser can then do higher level caching","msgtype":"m.text"},"ts":1474474139000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: what's the lifetime of that statement?","msgtype":"m.text"},"ts":1474474168000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: till the service worker that served the response goes Redundant","msgtype":"m.text"},"ts":1474474190000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: ohhh ok. Static routes? :D","msgtype":"m.text"},"ts":1474474251000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: that could have a similar effect, but not necessarily the same thing","msgtype":"m.text"},"ts":1474474308000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: static routes feels closer to http cache to me (on disk) vs allowing the browser to do memory caches that sit on top of http cache","msgtype":"m.text"},"ts":1474474337000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: welllll these aren't memory caches if their lifetime is tied to the SW, as the SW survives if the browser is closed & reopened","msgtype":"m.text"},"ts":1474474387000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I meant SW going redundant would be upper bound on these caches... browser free to not cache at all or cache sometimes up until then","msgtype":"m.text"},"ts":1474474438000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: or cache until a memory limit is hit, etc","msgtype":"m.text"},"ts":1474474450000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I guess I'm worried about \"what if something ends up in that cache by accident?\"","msgtype":"m.text"},"ts":1474474473000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"would you have an API to remove items from that cache?","msgtype":"m.text"},"ts":1474474488000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: we could say hard-refresh also requires revisiting SW... but by \"accident\" you mean SW didn't intend to put the \"allow extra caching\" bit on the response, but did anyway, and now it regrets that decision?","msgtype":"m.text"},"ts":1474474567000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: Yeah. Like \"whooops I put a 404 in there\"","msgtype":"m.text"},"ts":1474474608000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I view this like cache-control:immutable, but between the SW and higher level caches","msgtype":"m.text"},"ts":1474474615000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: not sure why the browser would choose to cache a failure response","msgtype":"m.text"},"ts":1474474649000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I guess it depends what the API looks like. If I pass a response to something and say \"please memory-cache this response for this request\", it might be weird if it sometimes decides not to do that","msgtype":"m.text"},"ts":1474474773000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: its not saying \"please memory cache it\"... its saying \"its ok if you choose to memory cache it because I'll never return a different value\"","msgtype":"m.text"},"ts":1474474801000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I think I need to think about this more when I'm not tired and grumpy :D struggling to imagine the API","msgtype":"m.text"},"ts":1474474959000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: if you think of cache-control as a hint from the server to browser http-cache... something similar from SW hinting to a higher level browser memory cache","msgtype":"m.text"},"ts":1474474995000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: but yes, get some sleep\\","msgtype":"m.text"},"ts":1474474999000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: the tough part is where to put that signal. respondWith is too early, and it's tough to add things to response objects","msgtype":"m.text"},"ts":1474475454000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: why is respondWith() too early?  it could certainly be added there for anything that is pre-cached at install time","msgtype":"m.text"},"ts":1474475493000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I mean, you would add this extra header or whatever when you do the pre-cache in the install event","msgtype":"m.text"},"ts":1474475599000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: maybe it's fine, but having to decide this synchronously when you can decide the response async could be weird","msgtype":"m.text"},"ts":1474475710000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I would say the more dynamic the response the less likely this thing should be used... again this is an opportunistic optimization and shouldn't be required for every response","msgtype":"m.text"},"ts":1474475773000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"but this also seems like a space where browsers could experiment without too much compat risk","msgtype":"m.text"},"ts":1474475814000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"heh, nice nuclear attack in the blog post","msgtype":"m.text"},"ts":1474501690000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"what just happened?","msgtype":"m.text"},"ts":1474501709000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"https://blog.whatwg.org/drm-and-web-security","msgtype":"m.text"},"ts":1474501769000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"I mean, I'm obviously exaggerating, but :-)","msgtype":"m.text"},"ts":1474501780000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"woah, so much animosity towards W3C","msgtype":"m.text"},"ts":1474502237000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"but that's why WHATWG was created in the first place, wasn't it?","msgtype":"m.text"},"ts":1474502258000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"because W3C published standards that nobody was willing to implement","msgtype":"m.text"},"ts":1474502272000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"and totally out of touch with reality","msgtype":"m.text"},"ts":1474502280000,"senderName":"KiChjang","senderId":"KiChjang@irc"}
]