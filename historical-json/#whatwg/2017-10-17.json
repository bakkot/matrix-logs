[
{"content":{"body":"turf hot potato!  the tc39/test262 people think that all tests involving document.all should go in w-p-t, but pretty much the entirety of https://github.com/jswalden/test262/commit/3eacab9399a6e500c3f1dd5df0fa450788306882 is testing ecma262 goo; is it actually likely that if I massaged that into w-p-t format, it would be accepted in a PR?","msgtype":"m.text"},"ts":1508200194000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"(assume that the behavior of the goofy function being used there is just to return |document.all|)","msgtype":"m.text"},"ts":1508200230000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Who do I complain to about deficiencies in the EventSource API?","msgtype":"m.text"},"ts":1508201980000,"senderName":"t3soro","senderId":"t3soro@irc"},
{"content":{"body":"It is like a first draft, cant set request headers, can't handle an error properly, or get HTTP status","msgtype":"m.text"},"ts":1508202083000,"senderName":"t3soro","senderId":"t3soro@irc"},
{"content":{"body":"jwalden: definitely acceptable in WPT","msgtype":"m.text"},"ts":1508203379000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"mm","msgtype":"m.text"},"ts":1508203435000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"so, where to put these tests then","msgtype":"m.text"},"ts":1508203520000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"shadow-dom/leaktests/html-collection.html html/infrastructure/common-dom-interfaces/collections/htmlallcollection.html html/obsolete/requirements-for-implementations/other-elements-attributes-and-apis/document-all.html html/dom/historical.html html/dom/interfaces.html are the existing document.all test locations, and none of them seem apropos","msgtype":"m.text"},"ts":1508203583000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"maybe the (misspelled) js/behaviours","msgtype":"m.text"},"ts":1508204038000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Yeah I'd think anywhere under js/","msgtype":"m.text"},"ts":1508204053000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"boo, you didn't respond to my spelling trolling :-)","msgtype":"m.text"},"ts":1508204460000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"t3soro: file issues at https://github.com/whatwg/html I guess","msgtype":"m.text"},"ts":1508205351000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Thanks @MikeSmith","msgtype":"m.text"},"ts":1508205494000,"senderName":"t3soro","senderId":"t3soro@irc"},
{"content":{"body":"cheers","msgtype":"m.text"},"ts":1508205500000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"jimklo: foolip might be able to help you when he’s around","msgtype":"m.text"},"ts":1508205520000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thanks, I think I figured out a way, but it was definitely awkward.  Required overwriting the prototype for TextTrack.addCue","msgtype":"m.text"},"ts":1508205602000,"senderName":"jimklo","senderId":"jimklo@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1508205647000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well I guess you rightly shouldn’t have to resort to that","msgtype":"m.text"},"ts":1508205668000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"your use case sounds like it might merit you taking time to raise an issue at https://github.com/whatwg/html/issues","msgtype":"m.text"},"ts":1508205734000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I understand why TextTrack.oncuechange does what it does, It just would be nice if instead of the track being the event target, an immutable list of active cues were available. The mutable live list just causes problems, since as time progresses the contents of the list changes","msgtype":"m.text"},"ts":1508205817000,"senderName":"jimklo","senderId":"jimklo@irc"},
{"content":{"body":"so if you're trying to itterate the contents of TextTrack.activeCues  - you can't exactly do that","msgtype":"m.text"},"ts":1508205855000,"senderName":"jimklo","senderId":"jimklo@irc"},
{"content":{"body":"I see yeah","msgtype":"m.text"},"ts":1508205871000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I got what I needed done by adding a listener to the VTTCue.onstart/onfinish at the track level; so one doesn't need to individually listen to each individual cue event.","msgtype":"m.text"},"ts":1508206015000,"senderName":"jimklo","senderId":"jimklo@irc"},
{"content":{"body":"basically what I need is the VTTCue.onstart/onfinish events available at the TextTrack level","msgtype":"m.text"},"ts":1508206078000,"senderName":"jimklo","senderId":"jimklo@irc"},
{"content":{"body":"jimklo: so yeah that specifically sounds worthy of raising an issue, to see if you could get some browser-implementor interest in adding that","msgtype":"m.text"},"ts":1508206242000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think the way I currently handle is probably the right approach, it's just the current API is a bit cumbersome.  Sounds reasonable... I'll add an issue in GH","msgtype":"m.text"},"ts":1508206282000,"senderName":"jimklo","senderId":"jimklo@irc"},
{"content":{"body":"but that said, if you do raise an issue, I recommend first describing what problem you’re trying to solve, and the propose a possible solution","msgtype":"m.text"},"ts":1508206288000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"jimklo: super","msgtype":"m.text"},"ts":1508206296000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"domfarolino: ideally I think you would not be required to fetch such stylesheets at all","msgtype":"m.text"},"ts":1508214979000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: though maybe they do need to be fetched once the media starts matching; that would make sense and require more testing…","msgtype":"m.text"},"ts":1508215078000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Hm i'm a little confused? Isn't the test to see if the browser only blocks rendering on the stylesheets that match the env, even though it fetches all?","msgtype":"m.text"},"ts":1508223436000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: yeah, but if you no longer block, that kinda begs the question what the behavior is instead","msgtype":"m.text"},"ts":1508223642000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ohhhh...good point","msgtype":"m.text"},"ts":1508223678000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: I'm not entirely sure if figuring that out should block this PR though, but we should maybe have a follow-up issue of sorts","msgtype":"m.text"},"ts":1508223681000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Ok that makes sense. Maybe it could be specified further in spec or something idk","msgtype":"m.text"},"ts":1508223958000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: I'm wondering if bz would consider changing the current setup in Firefox blocked on that","msgtype":"m.text"},"ts":1508224105000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: it seems that browsers that don't block scripts on loading all stylesheets, will have to start loading them as soon as there's a match of sorts, e.g., when the window is resized","msgtype":"m.text"},"ts":1508224139000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: though in other cases, e.g., \"aural\" as medium, you likely never have to fetch it","msgtype":"m.text"},"ts":1508224172000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Hm wouldn't it be ideal if they loaded all sheets at once, just didn't block rendering on non-matching? If it didn't start \"loading\" until a match then you could resize the screen and not have styles applied, and thus have bad non-responsive looking site for as long as the network would take. Or am I missing something","msgtype":"m.text"},"ts":1508224913000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: well, but if the user never resizes you end up wasting bandwidth","msgtype":"m.text"},"ts":1508225129000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: anyway, it's worth looking into what UAs that don't block do for such a scenario","msgtype":"m.text"},"ts":1508225294000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I’m surprised the Chrome team hasn’t seen fit to fix their spec violation about sending TLS client certs in preflights","msgtype":"m.text"},"ts":1508225425000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"as discussed at https://bugzilla.mozilla.org/show_bug.cgi?id=1019603","msgtype":"m.text"},"ts":1508225432000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"do you know if they even have an open bug for it?","msgtype":"m.text"},"ts":1508225448000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: True. But since browsers like firefox take that bandwidth by default now (by blocking on all sheets) users are probably more used to taking that bandwidth hit since that's all they've known, in exchange for a webapp that when resized, snaps into responsive styles immediately.","msgtype":"m.text"},"ts":1508225480000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Yeah, I know chrome and safari don't block, and requests for the non-matching sheets are made at the same time as the matching ones","msgtype":"m.text"},"ts":1508225481000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"annevk: which I personally like but it's worth looking into deeper","msgtype":"m.text"},"ts":1508225505000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"annevk: somebody else on stackoverflow ran into that and posted a question today https://stackoverflow.com/questions/46783506/why-is-the-tls-client-certificate-not-being-included-in-preflight-request-on-mos","msgtype":"m.text"},"ts":1508225534000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: could you file a bug against Chrome?","msgtype":"m.text"},"ts":1508225687000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: and maybe mention it in the Firefox bug?","msgtype":"m.text"},"ts":1508225707000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: web-platform-tests doesn't have the chops to test this unfortunately","msgtype":"m.text"},"ts":1508225734000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: aah okay, so they have that behavior","msgtype":"m.text"},"ts":1508225757000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Indeed, yeah sorry if that was unclear! Yeah they do that now :)","msgtype":"m.text"},"ts":1508225819000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: still gives the possibility of unstyled content when resizing early, but probably not that bad","msgtype":"m.text"},"ts":1508225929000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: do they avoid loading stylesheets that can never match?","msgtype":"m.text"},"ts":1508225949000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah will file it later today","msgtype":"m.text"},"ts":1508225974000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: great thanks","msgtype":"m.text"},"ts":1508225983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yep that possibility exists for sure. That’s a good question hm I have no idea I may look into that in the next day or so given time allows. Interesting","msgtype":"m.text"},"ts":1508226017000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"annevk: https://bugs.chromium.org/p/chromium/issues/detail?id=775438","msgtype":"m.text"},"ts":1508231006000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Ta!","msgtype":"m.text"},"ts":1508232508000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"What's the accepted antonym of blocklist?","msgtype":"m.text"},"ts":1508240360000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: ^ you're generally of good advice for these things","msgtype":"m.text"},"ts":1508240508000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie, followings?","msgtype":"m.text"},"ts":1508240531000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"allowlist?","msgtype":"m.text"},"ts":1508240560000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"tobie: safelist","msgtype":"m.text"},"ts":1508240624000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, I've see both allowlist and safelist, while some people claim whitelist is OK, only blacklist isn't (which seems weird, but the etymology might be completely different—see master branch vs master/slave db)","msgtype":"m.text"},"ts":1508240709000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tantek: ?","msgtype":"m.text"},"ts":1508240721000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie hard to suggest more nuance absent context","msgtype":"m.text"},"ts":1508240802000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"tantek: yeah, sorry: https://github.com/w3c/web-platform-tests/issues/7781#issuecomment-337205846","msgtype":"m.text"},"ts":1508240892000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: HTML uses safe/block","msgtype":"m.text"},"ts":1508241081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tobie, wow that was quite a different context than I expected. interesting","msgtype":"m.text"},"ts":1508241169000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"tantek: heh","msgtype":"m.text"},"ts":1508241188000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: ty","msgtype":"m.text"},"ts":1508241191000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"safe doesn't make sense in a non-security context","msgtype":"m.text"},"ts":1508241823000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"indeed, \"safe\" seems quite overloaded","msgtype":"m.text"},"ts":1508244021000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"authlist/denylist has the nice property that the two words are the same length.","msgtype":"m.text"},"ts":1508252637000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I like allowlist/blocklist for the same reason. ^_^","msgtype":"m.text"},"ts":1508252661000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I am super guilty of choosing variable names with this property in mind in code all the time","msgtype":"m.text"},"ts":1508255087000,"senderName":"bathos","senderId":"bathos@irc"},
{"content":{"body":"annevk: any thoughts on https://github.com/w3c/web-platform-tests/pull/7848?","msgtype":"m.text"},"ts":1508258455000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"Mek: I think he's on PTO for a few weeks","msgtype":"m.text"},"ts":1508258726000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: ah, okay. he seemed active earlier, but in that case I won't bug him","msgtype":"m.text"},"ts":1508258792000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"Mek: oh, I guess he was","msgtype":"m.text"},"ts":1508258816000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"he works too much :-)","msgtype":"m.text"},"ts":1508258832000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"does anyone know if the fetch spec or the HTTP cache RFC specifies which headers to not cache?","msgtype":"m.text"},"ts":1508267690000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"and if so, where is it located?","msgtype":"m.text"},"ts":1508267700000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"anyone here have Edge 16 yet?","msgtype":"m.text"},"ts":1508269288000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I have it via browserstack","msgtype":"m.text"},"ts":1508269738000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: ah, interesting... thanks","msgtype":"m.text"},"ts":1508269907000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"not sure I want to install an extension for the free trial","msgtype":"m.text"},"ts":1508269943000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I forget what the extension adds, but I don't use it","msgtype":"m.text"},"ts":1508270562000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"Do we have a server somewhere that is actually running the wpt test runner?","msgtype":"m.text"},"ts":1508270874000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"jsbell: I have the windows update running... so I guess I'll get it soon","msgtype":"m.text"},"ts":1508270936000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wonders if windows will ask him to reboot or just cut him off mid-typing...","msgtype":"m.emote"},"ts":1508272873000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Anyone around who can answer questions I have about slurping w-p-t metadata?","msgtype":"m.text"},"ts":1508273666000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"probably?","msgtype":"m.text"},"ts":1508273684000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'm adding some Bikeshed feature for listing tests inline, and I want to:","msgtype":"m.text"},"ts":1508273688000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(a) verify that a given folder/testname exists (and hopefully do some levenshtein distance fixups to help with typos)","msgtype":"m.text"},"ts":1508273716000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(b) get the title and/or assertion for the test","msgtype":"m.text"},"ts":1508273732000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(c) link to a live version of the test","msgtype":"m.text"},"ts":1508273739000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(d) link to source of the test","msgtype":"m.text"},"ts":1508273743000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Happy to have to do some pulling/munging on my own (automatically) and just upload it somewhere in a more useful form for Bikeshed to consume.","msgtype":"m.text"},"ts":1508273784000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"maybe also link to results of the test on wpt.fyi?","msgtype":"m.text"},"ts":1508273824000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"(which itself already has links to source and live version of the test)","msgtype":"m.text"},"ts":1508273845000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"TIL wpt.fyi","msgtype":"m.text"},"ts":1508273855000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Yes, that too.","msgtype":"m.text"},"ts":1508273890000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: a) if you want to know if a given path is a test you need the manifest somewhere","msgtype":"m.text"},"ts":1508273948000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Mek: I wish it would atomically update... this stuff is confusing: https://wpt.fyi/service-workers/service-worker","msgtype":"m.text"},"ts":1508273954000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"TabAtkins: b) I don't think we store those anywhere at the momemt?","msgtype":"m.text"},"ts":1508273966000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I mean, I assume firefox has 0 passing because its updating results currently, etc","msgtype":"m.text"},"ts":1508273980000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"gsnedders: k, if I can get the source address I can parse on my own and munge it into a datafile","msgtype":"m.text"},"ts":1508274004000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"wanderview: updating results should be atomic","msgtype":"m.text"},"ts":1508274023000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"TabAtkins: you run `./wpt manifest` and you get a MANIFEST.json somewhere","msgtype":"m.text"},"ts":1508274040000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: then why do sometimes different browsers have zero results or clearly wrong results?","msgtype":"m.text"},"ts":1508274048000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: there was some discussion about this somewhere recently, uh","msgtype":"m.text"},"ts":1508274075000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wanderview: note Firefox's results for serviceworkers are all TIMEOUT","msgtype":"m.text"},"ts":1508274102000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wanderview: (i.e., it's not missing results, it's accurately display the results it got)","msgtype":"m.text"},"ts":1508274119000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ok.... but we pass large numbers of the tests... so the TIMEOUT results seem incorrect to me","msgtype":"m.text"},"ts":1508274241000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"yeah, we're randomly getting a few too many TIMEOUT and ERROR in some browsers on some tests, and I don't know if we know why exactly.","msgtype":"m.text"},"ts":1508274305000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"TabAtkins: (see ./wpt manifest --help for more)","msgtype":"m.text"},"ts":1508274325000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wanderview: https://github.com/w3c/wptdashboard/issues/162","msgtype":"m.text"},"ts":1508274465000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1508274503000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"gsnedders: do you know if the test config sets any cookie related prefs?","msgtype":"m.text"},"ts":1508274572000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"TabAtkins: stepping back though, what's the goal here? how does this fit into the existing <link rel=help> stuff?","msgtype":"m.text"},"ts":1508274581000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wanderview: it does the same as whatever wptrunner does","msgtype":"m.text"},"ts":1508274605000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1508274613000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"gsnedders: The goal is that marking the *tests* to point to segments of the *spec* doesn't help with reviewing what parts of the spec need more testing. (It also requires a lot of inline markup anyway to add more anchors.) When reviewing a test to see if it's tested well, seems more useful to have the *spec* point to *tests* instead.  (Was talking about this with fantasai over lunch - currently, she has to manually","msgtype":"m.text"},"ts":1508274961000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annotate things in reverse anyway when reviewing specs.)","msgtype":"m.text"},"ts":1508274962000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: what makes that better than the current views we have based on the spec ToC? it sounds like it would add a lot of work onto the spec editor to maintain?","msgtype":"m.text"},"ts":1508275353000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Spec ToC-based isn't fine-grained enough, and still requires flipping back and forth between spec and the wpt view. Want to get these inline.","msgtype":"m.text"},"ts":1508275574000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"The hope is also that it serves as an built-in reminder to write tests for things, so that a paragraph without tests following it looks obviously \"wrong\" in the source.","msgtype":"m.text"},"ts":1508275627000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(Requiring myself to remember to check a completely different view, unlinked by anything close to the spec, and then manually detangle how many tests are in each section and what they correspond to, to see if anything is currently untested, is not going to happen, and is a lot of work even if it does happen. Listing a few tests locally is something I can do *while writing tests*, and then it's there for me","msgtype":"m.text"},"ts":1508275826000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"automatically and easy to review when editting.)","msgtype":"m.text"},"ts":1508275826000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins gsnedders: Do either of  you know a) Macros Caceres IRC nick (or if he's on here), b) how to inject polyfill code into web platform test stuff before the tests start running.","msgtype":"m.text"},"ts":1508275897000,"senderName":"manu","senderId":"manu@irc"},
{"content":{"body":"It's `marcos`","msgtype":"m.text"},"ts":1508275909000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But he's not on here right now.","msgtype":"m.text"},"ts":1508275915000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"k thx","msgtype":"m.text"},"ts":1508275930000,"senderName":"manu","senderId":"manu@irc"},
{"content":{"body":"But as for \"injecting\", you can just put it into the test itself?  No in-built way to, like, conditionally do that, I think.","msgtype":"m.text"},"ts":1508275969000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: well, we're trying to not modify the tests themselves... didn't know if there was a test setup phase in WPT where you could inject polyfill before the tests took over.","msgtype":"m.text"},"ts":1508276028000,"senderName":"manu","senderId":"manu@irc"},
{"content":{"body":"Each test is just a separate HTML page that gets loaded and executed.","msgtype":"m.text"},"ts":1508276050000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: taaz knows more of the details on this as he's currently trying to work through it... he said the issue has more to do with waiting for the body to be ready, injecting the polyfill (because the Web Payments polyfill needs the body to be ready), and then allowing the promises in the test to then fire... it's a timing issue and we were wondering if anyone else had hit a problem like this writing polyfills that would pass WPT tests. (or if","msgtype":"m.text"},"ts":1508276168000,"senderName":"manu","senderId":"manu@irc"},
{"content":{"body":"someone else had written a blog post about their experiences doing so).","msgtype":"m.text"},"ts":1508276168000,"senderName":"manu","senderId":"manu@irc"},
{"content":{"body":"I'm guessing Marcos knows the magic incantations to make it work... we're trying the \"edit the page HTML\" approach now, but even then, you have to delay the test script being fired until after the polyfill is loaded.","msgtype":"m.text"},"ts":1508276231000,"senderName":"manu","senderId":"manu@irc"},
{"content":{"body":"there are some mentions of people doing polyfills, but it seems unclear if there's an easy way to insert such code for a whole dir of tests vs editing each file","msgtype":"m.text"},"ts":1508276236000,"senderName":"taaz","senderId":"taaz@irc"},
{"content":{"body":"so i was just trying to get one manually edited file to work","msgtype":"m.text"},"ts":1508276286000,"senderName":"taaz","senderId":"taaz@irc"},
{"content":{"body":"you could maybe modify your testharnessreport.js (which every test includes right after testharness.js), but you'd still have the problem of how to delay the actual tests...","msgtype":"m.text"},"ts":1508276324000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"maybe adding a start callback would do it, but then there is no guarantee that any particular test even has a body element...","msgtype":"m.text"},"ts":1508276389000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"the body issue is related to some internals in an rpc lib this polyfill is using.  adding a dialog child node i think.  i'm not sure how critical it is that that be done like that","msgtype":"m.text"},"ts":1508276490000,"senderName":"taaz","senderId":"taaz@irc"},
{"content":{"body":"just playing with payment-request/interfaces.https.html at the moment. seems the tests are run before DOMContentLoaded fires, which is causing the issue.","msgtype":"m.text"},"ts":1508276602000,"senderName":"taaz","senderId":"taaz@irc"},
{"content":{"body":"i can start wrapping tests to wait on things, but that's not really an option when trying to run all the test files","msgtype":"m.text"},"ts":1508276654000,"senderName":"taaz","senderId":"taaz@irc"},
{"content":{"body":"gsnedders: Is the wpt manifest file format documented anywhere?","msgtype":"m.text"},"ts":1508277824000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(The \"Writing Your Own Runner\" section says to use `wpt manifest`, but doesn't explain how to read the output, and the JSON file is non-obvious.)","msgtype":"m.text"},"ts":1508277918000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: no :)","msgtype":"m.text"},"ts":1508277967000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"TabAtkins: look at tools/manifest/manifest.py","msgtype":"m.text"},"ts":1508277974000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"TabAtkins: though even that isn't that clear","msgtype":"m.text"},"ts":1508277991000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'm already looking at that, yeah.","msgtype":"m.text"},"ts":1508277997000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"It does not illuminate.","msgtype":"m.text"},"ts":1508278003000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"basically you have obj['items'][testtype][path] = (tests: Array)","msgtype":"m.text"},"ts":1508278054000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"except testtype now also includes things like \"support\"","msgtype":"m.text"},"ts":1508278074000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Is it possible to write this down someplace.","msgtype":"m.text"},"ts":1508278157000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"tools/manifest/item.py it probably also useful here","msgtype":"m.text"},"ts":1508278173000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(If I can get shamed for not writing tests, others can get shamed for not writing docs.)","msgtype":"m.text"},"ts":1508278178000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"yeah, someone needs to actually document it somewhere","msgtype":"m.text"},"ts":1508278208000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"It looks like all I maybe need is the `paths` array, because it contains all the names I want (and I can manually parse/reassemble those into the URLs I want)?","msgtype":"m.text"},"ts":1508278364000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(Also, I'd never seen that particular formatting for a dict comprehension before. Confused me for a second, but clever.)","msgtype":"m.text"},"ts":1508278454000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(it's when it gets nested it becomes a mess)","msgtype":"m.text"},"ts":1508278664000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(also I can't guarantee I understand all of this, fwiw)","msgtype":"m.text"},"ts":1508278676000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"like, idk what the paths array is :)","msgtype":"m.text"},"ts":1508278692000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"So right now there are 7 \"testtype\" values. I have no idea what they mean.","msgtype":"m.text"},"ts":1508278988000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Maybe I can just pretend they're all equivalent, iterate them for their paths, and call it a day.","msgtype":"m.text"},"ts":1508279067000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(Types are \"manual\", \"reftest\", \"reftest_node\", \"stub\", \"support\", \"testharness\", and \"wdtest\".)","msgtype":"m.text"},"ts":1508279110000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: if it helps here is what I came up with for manipulating the manifest for my own purposes. https://github.com/tmpvar/jsdom/blob/master/test/web-platform-tests/wpt-manifest-utils.js","msgtype":"m.text"},"ts":1508281590000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(hmm, that value[[0]] looks wrong... I guess it works anyway because JavaScript)","msgtype":"m.text"},"ts":1508281645000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ahahaha, I was just squinting at that and tabbed back to here to ask you about that. ^_^","msgtype":"m.text"},"ts":1508281698000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]