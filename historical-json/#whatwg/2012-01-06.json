[
{"content":{"body":"jamesr, location.search?  You can parse it with .split().","msgtype":"m.text"},"ts":1325808060000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor, and parse all the = things myself and escape/unescape","msgtype":"m.text"},"ts":1325808120000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"smaug____, some parts of the selection spec are quite solid and interoperable.","msgtype":"m.text"},"ts":1325808121000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: I didn't say it wouldn't be. But is it reviewed :)","msgtype":"m.text"},"ts":1325808180000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"jamesr_: Use split twice","msgtype":"m.text"},"ts":1325808181000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jamesr_, parsing & and = is just something like: var bits = location.search.replace(/^\\?/, \"\").split(\"&\").map(function(s){return s.split(\"=\")});","msgtype":"m.text"},"ts":1325808240000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Or something like that.","msgtype":"m.text"},"ts":1325808241000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"As for encoding, have fun.  IIRC, it's not interoperable.","msgtype":"m.text"},"ts":1325808242000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Nor am I sure it's even specified.","msgtype":"m.text"},"ts":1325808243000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Yeah, exactly that.","msgtype":"m.text"},"ts":1325808244000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"AryehGregor: Well, split(\"=\", 2)","msgtype":"m.text"},"ts":1325808245000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yeah, I'm sure it could be made more correct.","msgtype":"m.text"},"ts":1325808246000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"and you want to decodeURIComponent() each of the parts of that","msgtype":"m.text"},"ts":1325808247000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But apart from that, that's exactly it","msgtype":"m.text"},"ts":1325808300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"location.search.replace(/^\\?/, \"\").split(\"&\").map(function(s){return s.split(\"=\", 2).map(decodeURIComponent);}","msgtype":"m.text"},"ts":1325808360000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"oh dear my semicolon has migrated to the left","msgtype":"m.text"},"ts":1325808361000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"but otherwise does that look close?","msgtype":"m.text"},"ts":1325808362000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"jamesr_: No, that's mapping dUIRC across 2-arrays.","msgtype":"m.text"},"ts":1325808363000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"ah snap","msgtype":"m.text"},"ts":1325808364000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Or wait, I'm dumb.","msgtype":"m.text"},"ts":1325808365000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Never mind, you're good.","msgtype":"m.text"},"ts":1325808420000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"no wait it's mapping both strings","msgtype":"m.text"},"ts":1325808421000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Yes.","msgtype":"m.text"},"ts":1325808422000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"jamesr_: That's right.","msgtype":"m.text"},"ts":1325808423000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"location.search.replace(/^\\?/, \"\").split(\"&\").map(function(s){return s.split(\"=\", 2).map(decodeURIComponent)});","msgtype":"m.text"},"ts":1325808480000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"seems to work","msgtype":"m.text"},"ts":1325808481000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Yeah, that should be fine.","msgtype":"m.text"},"ts":1325808482000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"btw, MDN is accessing event.layerX/layerY, which are deprecated in WebKit","msgtype":"m.text"},"ts":1325808483000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Kinda nice to get it into an object, but oh well.","msgtype":"m.text"},"ts":1325808484000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"throws a warning in the inspector","msgtype":"m.text"},"ts":1325808485000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"can some of y'all fix that?","msgtype":"m.text"},"ts":1325808486000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"guess i could map that into an object....","msgtype":"m.text"},"ts":1325808540000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"or can you do that?","msgtype":"m.text"},"ts":1325808541000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"gsnedders: That's easy.  prepend \"var query;\", append \".map(function(x){query[x[0]]=x[1];})\".","msgtype":"m.text"},"ts":1325808542000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Or .forEach?","msgtype":"m.text"},"ts":1325808600000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Alternately, define mapObject or something that expects you to return a 2-array.","msgtype":"m.text"},"ts":1325808601000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"AryehGregor: Yeah, forEach would be better semantically.","msgtype":"m.text"},"ts":1325808602000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Note that forEach and map and the like are likely to be fairly slow for at least another year or two","msgtype":"m.text"},"ts":1325808900000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Really?  Why?","msgtype":"m.text"},"ts":1325808960000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: In large part because of jumping between C++ and JS threads","msgtype":"m.text"},"ts":1325808961000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"s/threads/stacks/","msgtype":"m.text"},"ts":1325808962000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Interesting.  Where is the stack jump?  In the function invocation or something?","msgtype":"m.text"},"ts":1325809020000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"knows nothing about the interface between c++ and js.","msgtype":"m.emote"},"ts":1325809021000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"heh, i doubt that'll matter at all in this case","msgtype":"m.text"},"ts":1325809022000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"are you talking about in a specific JS engine?","msgtype":"m.text"},"ts":1325809023000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"i thought map/forEach were implemented natively in v8","msgtype":"m.text"},"ts":1325809024000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"checks","msgtype":"m.emote"},"ts":1325809025000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Calling into C++ in the first case, then into the function, then out of the function, and then after doing those two a number of times back to JS","msgtype":"m.text"},"ts":1325809080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"notes that parsing a single query string is not a situation where performance is of any concern","msgtype":"m.emote"},"ts":1325809081000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jamesr_: I thought they originally were in V8 but aren't any more.","msgtype":"m.text"},"ts":1325809082000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://google.com/codesearch#OAMlx_jo-ck/src/v8/src/array.js&q=forEach&ct=rc&exact_package=chromium&cd=8&sq=&l=1039","msgtype":"m.text"},"ts":1325809083000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"i'm not sure exactly what that is","msgtype":"m.text"},"ts":1325809084000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"gsnedders: Is that because map is implemented in C++?","msgtype":"m.text"},"ts":1325809085000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Rather than as a JS for-loop?","msgtype":"m.text"},"ts":1325809140000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Right.","msgtype":"m.text"},"ts":1325809141000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"kk","msgtype":"m.text"},"ts":1325809142000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"http://jsperf.com/map-builtin-v-js/5 is about as close as you can get with pure JS","msgtype":"m.text"},"ts":1325809500000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"In Chrome the native function is the quickest map impl because it has all its magic functions to optimize it better (IIRC some of them have specific low-level impls)","msgtype":"m.text"},"ts":1325809560000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"right, the built-ins aren't strictly speaking straight JS","msgtype":"m.text"},"ts":1325809561000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"but they don't have to make a full JS/C++ stack jump","msgtype":"m.text"},"ts":1325809620000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"jamesr_: Right","msgtype":"m.text"},"ts":1325809621000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"at least that's my understanding. i'm not a JS VM engineer, i just play one on IRC","msgtype":"m.text"},"ts":1325809622000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"jamesr_: That is the case, they don't have any stack jump, they're just another JS function from the engine's POV, it's just some things they call are magic","msgtype":"m.text"},"ts":1325809680000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"JSC I don't really know why it's perf is as it is, and SpiderMonkey is just a matter of how slow the JS impl is mainly, AFAIK","msgtype":"m.text"},"ts":1325809681000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"doesn't know enough about what's happened with JSC in the past year really, it's kinda sad","msgtype":"m.emote"},"ts":1325809800000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"will bear this in minf when he has to parse a million key vlue pairs out of the query string","msgtype":"m.emote"},"ts":1325809980000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hey, it's a viable DoS attack, as has been proven recently! :P","msgtype":"m.text"},"ts":1325809981000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1325821680000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"when parsing a URL, how do you canonicalize the port?","msgtype":"m.text"},"ts":1325821681000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"On the basis of the scheme?","msgtype":"m.text"},"ts":1325821740000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Or am I missing something?","msgtype":"m.text"},"ts":1325821741000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: dunno","msgtype":"m.text"},"ts":1325822340000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it's missing from abarth URL parsing draft","msgtype":"m.text"},"ts":1325822341000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"http://tools.ietf.org/html/draft-abarth-url-01#section-5","msgtype":"m.text"},"ts":1325822342000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"he has \"If the canonicalized-port is non-empty and is not the default port for the scheme\"","msgtype":"m.text"},"ts":1325822400000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"which is the part you mean, I think","msgtype":"m.text"},"ts":1325822401000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so that's clear","msgtype":"m.text"},"ts":1325822402000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but that step is done after the port is \"canonicalized\"","msgtype":"m.text"},"ts":1325822460000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"port - one of the few pieces of a URL that people seem to agree on for the most part","msgtype":"m.text"},"ts":1325822461000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1325822462000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1325822463000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"port or port number","msgtype":"m.text"},"ts":1325822464000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"or if you're a PHP person, SERVER_PORT","msgtype":"m.text"},"ts":1325822465000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"MikeSmith, you've seen this right? http://tantek.com/2011/238/b1/many-ways-slice-url-name-pieces","msgtype":"m.text"},"ts":1325822466000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"so not clear to me, given just a port number without knowledge of the scheme, what exactly do I do to canonicize it?","msgtype":"m.text"},"ts":1325822520000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1325822521000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"tantek: ah yeah","msgtype":"m.text"},"ts":1325822522000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that's quite a diagram","msgtype":"m.text"},"ts":1325822523000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"abarth introduces the term \"after-scheme\" for all the stuff collectively that is not the scheme","msgtype":"m.text"},"ts":1325822580000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I like that","msgtype":"m.text"},"ts":1325822581000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I have two more rows to add too","msgtype":"m.text"},"ts":1325822582000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"oh?","msgtype":"m.text"},"ts":1325822640000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh great","msgtype":"m.text"},"ts":1325822641000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"make that 3","msgtype":"m.text"},"ts":1325822642000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"then","msgtype":"m.text"},"ts":1325822643000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"is this an RFC track thing? draft-abarth-url-01","msgtype":"m.text"},"ts":1325822644000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"in which case, maybe I'll wait until there's a permalinkable spec for it","msgtype":"m.text"},"ts":1325822645000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"since IETF doesn't seem to believe in permalinks for drafts","msgtype":"m.text"},"ts":1325822700000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":":P","msgtype":"m.text"},"ts":1325822701000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"the tools.ietf.org/html/ links are pretty much stable","msgtype":"m.text"},"ts":1325822702000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The actual drafts vanish after 90 days, but they stay around there forever :P","msgtype":"m.text"},"ts":1325822703000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"GO LOGIC!","msgtype":"m.text"},"ts":1325822760000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"that ID is being not being maintained any longer","msgtype":"m.text"},"ts":1325822761000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"s","msgtype":"m.text"},"ts":1325822762000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so it won't move forward at the IETF","msgtype":"m.text"},"ts":1325822763000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"huh","msgtype":"m.text"},"ts":1325822764000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"our plan is to put all the URL stuff into a single spec","msgtype":"m.text"},"ts":1325822765000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and publish it at W3C","msgtype":"m.text"},"ts":1325822766000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will await a permalink for that spec then","msgtype":"m.emote"},"ts":1325822767000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"tantek: http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html","msgtype":"m.text"},"ts":1325822820000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I am working on it as we speak","msgtype":"m.text"},"ts":1325822821000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"a-ha ok","msgtype":"m.text"},"ts":1325822822000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"just taking the work that abarth has already done and combining into it one doc, along with some bits from the HTML spec","msgtype":"m.text"},"ts":1325822880000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so the plan is for this doc to to have the definition of \"URL\" and \"valid URL\", then algorithms for dealing with URLs, then the URL API","msgtype":"m.text"},"ts":1325822940000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah - looks like the terms are a re-use of 1996 DOM window.location","msgtype":"m.text"},"ts":1325822941000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"so that's good, not a new terminology at least","msgtype":"m.text"},"ts":1325822942000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1325823000000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well, none of it is set in stone of course","msgtype":"m.text"},"ts":1325823001000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the main goal for now is to get it all in one place and then get it out for review","msgtype":"m.text"},"ts":1325823060000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and the high-level goal is to \"get it right\"","msgtype":"m.text"},"ts":1325823061000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"including to have it actually reflect reality","msgtype":"m.text"},"ts":1325823062000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or realities plural","msgtype":"m.text"},"ts":1325823120000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in that the browser behavior for URL parsing it not completely interoperable","msgtype":"m.text"},"ts":1325823121000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/public-webapps/2012JanMar/0023.html was reported before and I think it was concluded to not be a security issue","msgtype":"m.text"},"ts":1325828100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"don't remember why though, abarth?","msgtype":"m.text"},"ts":1325828101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"dunno","msgtype":"m.text"},"ts":1325828160000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"sounds like a server issue","msgtype":"m.text"},"ts":1325828161000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"we can't account for all manner of crazy transformations servers might do","msgtype":"m.text"},"ts":1325828220000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"yeah, and I sort of doubt even though would let Cotnent-Length be spoofed that way","msgtype":"m.text"},"ts":1325828280000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"because it's a higher-level library","msgtype":"m.text"},"ts":1325828281000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you should see the proxies that permute letters in Referer :)","msgtype":"m.text"},"ts":1325828340000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"heh, I'll stay semi-naive about HTTP for now","msgtype":"m.text"},"ts":1325828400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"encodings are enough fun as it is","msgtype":"m.text"},"ts":1325828401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also crazy","msgtype":"m.text"},"ts":1325828460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<annevk> that we're still figuring out document.write()","msgtype":"m.text"},"ts":1325828640000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"Someone mentioned before that it was invented in Netscape 2","msgtype":"m.text"},"ts":1325828700000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"And as I said before, Netscape 2 did not parse HTML into a tree, instead it treated tags as commands.","msgtype":"m.text"},"ts":1325828701000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"I don't think async script loading was supported at all.","msgtype":"m.text"},"ts":1325828760000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"That was why it was considered a simple feature in Netscape 2","msgtype":"m.text"},"ts":1325828880000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"And probably why Netscape 2 to 4 supported accessing only a limited type of elements.","msgtype":"m.text"},"ts":1325828940000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"IE4 actually parsed HTML into a tree, that was why it was able to invent document.all.","msgtype":"m.text"},"ts":1325828941000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"and then we had a lot of problems","msgtype":"m.text"},"ts":1325829000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Which is yea when the problems start.","msgtype":"m.text"},"ts":1325829001000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"The problem was made even worse with DOM Level 1 which allow full manipulation of the document tree.","msgtype":"m.text"},"ts":1325829120000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"gmail is sure going to lengths to make everyone acutely aware of the major inherent flaws of web apps","msgtype":"m.text"},"ts":1325829121000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"you like how things are? too bad, we're making everything worse and there's nothing you can do about it","msgtype":"m.text"},"ts":1325829122000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"For example, here is a 0-day security vulnerability reported in Mozilla as late as 2010: https://bugzilla.mozilla.org/show_bug.cgi?id=607222","msgtype":"m.text"},"ts":1325829240000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"quite proud of http://dvcs.w3.org/hg/encoding/raw-file/tip/Overview.html#iso-2022-jp","msgtype":"m.text"},"ts":1325836200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"waking up early works","msgtype":"m.text"},"ts":1325836201000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1325838420000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: I checked in changes to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html","msgtype":"m.text"},"ts":1325838421000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think most of the necessary bits are all there now","msgtype":"m.text"},"ts":1325838422000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"though lots and lots of TODOs","msgtype":"m.text"},"ts":1325838480000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: also, the book is on the way to you","msgtype":"m.text"},"ts":1325838600000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"sweet","msgtype":"m.text"},"ts":1325838660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"kind of a sad caption http://xkcd.com/1000/","msgtype":"m.text"},"ts":1325839140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but the math joke is fun :)","msgtype":"m.text"},"ts":1325839200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: nice","msgtype":"m.text"},"ts":1325839260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: also, you didn't set all the id attributes :p","msgtype":"m.text"},"ts":1325839261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"eh? which ones needs set?","msgtype":"m.text"},"ts":1325839320000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I rather you don't, but you let them generate automatically and I remember you didn't like that","msgtype":"m.text"},"ts":1325839321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I tried making a joke :))","msgtype":"m.text"},"ts":1325839380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's a lot of RFCs btw attempting to define encodings","msgtype":"m.text"},"ts":1325839740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"people put some BNF in there, a couple of words, and put a sticker on it","msgtype":"m.text"},"ts":1325839741000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"  P  { font-size: 12pt ! legal \"IATA regulations\" }","msgtype":"m.text"},"ts":1325846280000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: euh?","msgtype":"m.text"},"ts":1325852640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://www.w3.org/TR/WD-css1-951209.html#legal","msgtype":"m.text"},"ts":1325852641000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"well thank you","msgtype":"m.text"},"ts":1325853240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I never understood why CSS had such a silly !important thing and even less why it was exposed as \"priority\" in the OM","msgtype":"m.text"},"ts":1325853241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"AryehGregor: how is http://w3c-test.org/webapps/DOMCore/tests/approved/Range-surroundContents.html approved with test errors?","msgtype":"m.text"},"ts":1325853900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"AryehGregor: jgraham or Velmont might provide a patch I hear","msgtype":"m.text"},"ts":1325854020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Because nobody actually reviewed","msgtype":"m.text"},"ts":1325854140000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"AryehGregor: other comment \"and it doesn't seem like the test follows step 10 in the DOMRange.insertNode spec\"","msgtype":"m.text"},"ts":1325854141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So, as a totally experimental thing, I tried cloning the html testsuite repository onto github","msgtype":"m.text"},"ts":1325861940000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"https://github.com/jgraham/html-testsuite/","msgtype":"m.text"},"ts":1325861941000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Mainly for the possibility of code review","msgtype":"m.text"},"ts":1325861942000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"do you want @WHATWG to announce it somehow?","msgtype":"m.text"},"ts":1325862000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and if so, how?","msgtype":"m.text"},"ts":1325862001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I have no strong desire for it to be announced","msgtype":"m.text"},"ts":1325862060000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"More than I just did by writing on public, logged, irc, I mean","msgtype":"m.text"},"ts":1325862120000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Let me work out if it is useful first :)","msgtype":"m.text"},"ts":1325862121000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1325862180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Is Hixie on vacation?","msgtype":"m.text"},"ts":1325862540000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"well he's not here","msgtype":"m.text"},"ts":1325862600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Does anyone know about IE's support for big5 /  big5-hkscs? Ideally based on what Windows 7 ships","msgtype":"m.text"},"ts":1325862960000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://longsonr.wordpress.com/2012/01/06/svgtests-interface-implemented/ <- sigh","msgtype":"m.text"},"ts":1325862961000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"not interested in pre-Vista","msgtype":"m.text"},"ts":1325862962000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: aah","msgtype":"m.text"},"ts":1325863020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: do we ship similar crap?","msgtype":"m.text"},"ts":1325863080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, what do you mean by \"here\"?","msgtype":"m.text"},"ts":1325863200000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"standards world","msgtype":"m.text"},"ts":1325863320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh well","msgtype":"m.text"},"ts":1325863321000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"a","msgtype":"m.text"},"ts":1325863322000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"n ","msgtype":"m.text"},"ts":1325863323000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"hmm http://www.microsoft.com/hk/hkscs/ seems to suggest that via Unicode you get there, but not via big5-hkscs","msgtype":"m.text"},"ts":1325863380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, what specific questions are you asking with regard to big5 / big5-hkscs ?","msgtype":"m.text"},"ts":1325863440000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"I think I found my answers already","msgtype":"m.text"},"ts":1325863500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1325863501000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"Windows has PUA-support for the characters HKSCS introduced and the label \"big5-hkscs\" means \"big5\" which uses PUA afaict","msgtype":"m.text"},"ts":1325863560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but then other browsers support \"big5-hkscs\" independently from \"big5\" (different encoding) and do not map to PUA","msgtype":"m.text"},"ts":1325863561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, that PUA story is quite famous.","msgtype":"m.text"},"ts":1325863562000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"I see.","msgtype":"m.text"},"ts":1325863620000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"so I guess if you are in HK you really want UTF-8","msgtype":"m.text"},"ts":1325863621000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I've not seen a big5-hkscs page but I am not in HK either. These characters are out of BMP right?","msgtype":"m.text"},"ts":1325863680000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"maybe? I've no idea","msgtype":"m.text"},"ts":1325863800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"PUA support.","msgtype":"m.text"},"ts":1325864100000,"senderName":"erlehmann","senderId":"erlehmann@irc"},
{"content":{"body":"wait, what.","msgtype":"m.text"},"ts":1325864101000,"senderName":"erlehmann","senderId":"erlehmann@irc"},
{"content":{"body":"annevk: I'm not sure. It wouldn't surprise me, but hopefully we're not *adding* that kind of crap years after it became obvious that it's a design anti-pattern","msgtype":"m.text"},"ts":1325864160000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It's obviously odd if PUA in DOM can get displayed as normal text.","msgtype":"m.text"},"ts":1325864280000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"system fonts","msgtype":"m.text"},"ts":1325864460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane.","msgtype":"m.text"},"ts":1325864640000,"senderName":"erlehmann","senderId":"erlehmann@irc"},
{"content":{"body":"is the whole BMP full?","msgtype":"m.text"},"ts":1325864940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"No I don't think so.","msgtype":"m.text"},"ts":1325865000000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"No","msgtype":"m.text"},"ts":1325865001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"at least Thai has some space I just found out","msgtype":"m.text"},"ts":1325865002000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"Our new years resolution should be at least 1920x1080\"","msgtype":"m.text"},"ts":1325866080000,"senderName":"Workshiva","senderId":"Workshiva@irc"},
{"content":{"body":"neh","msgtype":"m.text"},"ts":1325866260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"higher!","msgtype":"m.text"},"ts":1325866320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1325869500000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"hyv채채 iltaa","msgtype":"m.text"},"ts":1325869860000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I love umlauts.","msgtype":"m.text"},"ts":1325869980000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"those aren't actually umlauts, but separate letters ;)","msgtype":"m.text"},"ts":1325870400000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"letters with umlauts?","msgtype":"m.text"},"ts":1325870520000,"senderName":"michel_v","senderId":"michel_v@irc"},
{"content":{"body":"채 is a letter itself","msgtype":"m.text"},"ts":1325870521000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"what is the pronunciation effect of two of them?","msgtype":"m.text"},"ts":1325870580000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"You mean having two 채-letters? It is just longer sound","msgtype":"m.text"},"ts":1325870640000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Finnish is easy to pronounce","msgtype":"m.text"},"ts":1325870641000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"is it pretty much speak out each letter?","msgtype":"m.text"},"ts":1325870700000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"like Russian","msgtype":"m.text"},"ts":1325870701000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1325870702000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"that's nice. What about grammar?","msgtype":"m.text"},"ts":1325870760000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"well, you can put words almost in any order, so it is easy.","msgtype":"m.text"},"ts":1325870820000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but picking up the right form of some word can be tricky","msgtype":"m.text"},"ts":1325870880000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"If I trust one source...it says there can be 2253 different forms of every noun","msgtype":"m.text"},"ts":1325870940000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"sounds about right","msgtype":"m.text"},"ts":1325870941000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"o_O","msgtype":"m.text"},"ts":1325870942000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"but there's logic to that, right? You don't have to just memorize?","msgtype":"m.text"},"ts":1325871000000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"yeah, there is quite simple logic","msgtype":"m.text"},"ts":1325871001000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"http://en.wikipedia.org/wiki/Finnish_morphology#Noun_forms","msgtype":"m.text"},"ts":1325871060000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ah! very similar to Russian: en.wikipedia.org/wiki/Russian_grammar","msgtype":"m.text"},"ts":1325871300000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"annevk, the test bugs in surroundContents are due to changes in testharness.js after the test was written, which are in turn due to spec changes.","msgtype":"m.text"},"ts":1325871360000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"fixes","msgtype":"m.emote"},"ts":1325871361000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"dglazkov: your letters make that all hard :)","msgtype":"m.text"},"ts":1325871420000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1325871421000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"annevk, hmm, so we throw InvalidStateError for two things in surroundContents?  That's not good.","msgtype":"m.text"},"ts":1325871480000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: do you have somewhere spec'd how window.getSelection() reacts to selections in iframes?","msgtype":"m.text"},"ts":1325871540000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"dglazkov, seems not right now, no.  I think I have feedback asking me to look into it, which I plan to do.","msgtype":"m.text"},"ts":1325871600000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: cool. I'll just write up something that makes sense for shadow DOM (which is a similar situation).","msgtype":"m.text"},"ts":1325871660000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"dglazkov, I think the current theory is there's one selection per window, so iframes have a different selection.","msgtype":"m.text"},"ts":1325871661000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"ah, so it's not similar.","msgtype":"m.text"},"ts":1325871662000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"annevk, pushed a fix to the test bugs.","msgtype":"m.text"},"ts":1325871720000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Or not?","msgtype":"m.text"},"ts":1325871721000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Oh, right, the fix isn't approved.","msgtype":"m.text"},"ts":1325871722000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"is amazed how www-style can have such a long and silly discussion about using forums","msgtype":"m.emote"},"ts":1325872500000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"yikes, why is getSelection on both window and document?","msgtype":"m.text"},"ts":1325872620000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"historical reasons?","msgtype":"m.text"},"ts":1325872621000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"probably","msgtype":"m.text"},"ts":1325872680000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"\"\"Deprecated method document.getSelection() called. Please use window.getSelection() instead.\"\" was added to Gecko 2001","msgtype":"m.text"},"ts":1325872681000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I think that warning has been removed","msgtype":"m.text"},"ts":1325872740000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"maybe AryehGregor knows","msgtype":"m.text"},"ts":1325872800000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"dglazkov, I don't know the history.  But that's what implementations do.","msgtype":"m.text"},"ts":1325872801000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Until a few months ago, Gecko implemented document.getSelection() as returning a string, but now I think we have interop.","msgtype":"m.text"},"ts":1325872860000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Apparently document.getSelection has been in Gecko since 1998, so it could be Netscapeism","msgtype":"m.text"},"ts":1325872861000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Yes, I'm pretty sure it dates to Netscape.","msgtype":"m.text"},"ts":1325872920000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Maybe it was originally on Document only, but then people realized it made more sense on Window.","msgtype":"m.text"},"ts":1325872921000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"fascinating","msgtype":"m.text"},"ts":1325873040000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"window.getSelection was added to Gecko 2000","msgtype":"m.text"},"ts":1325873100000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: does Gecko support multiple-range selections? Or is this all deprecated?","msgtype":"m.text"},"ts":1325875560000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"Gecko does support multiple selections","msgtype":"m.text"},"ts":1325875561000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I mean, multi-range","msgtype":"m.text"},"ts":1325875562000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1325875620000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"dglazkov, yes, it does.  rniwa and I get ehsan to agree at some point that it shouldn't, but I dunno if the rest of Gecko is on board with that.","msgtype":"m.text"},"ts":1325875680000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"why are multi-range selections sucky?","msgtype":"m.text"},"ts":1325875681000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"that is not clear to me","msgtype":"m.text"},"ts":1325875740000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but IIRC other browser vendors don't want to implement them","msgtype":"m.text"},"ts":1325875800000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"at least to me, multi-range selections are the thing that make selections work non-crazily with shadow DOM, so I am interested","msgtype":"m.text"},"ts":1325876040000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"dglazkov, because 98% of the time there's only one Range, so authors do getSelection().getRangeAt(0) and expect it to be the only range in the selection, which breaks.","msgtype":"m.text"},"ts":1325876100000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"If we need non-contiguous selections, a better API is required, like maybe one that returns all nodes contained in the selection instead of endpoints.  One where the non-contiguous selection is not exposed as a special case in the API, because it's too rare for anyone to pay attention to.","msgtype":"m.text"},"ts":1325876160000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"FWIW, Gecko itself internally has crazy bugs with multi-range selections.","msgtype":"m.text"},"ts":1325876161000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"ehsan demoed some of them with execCommand().  It does pretty much random things when multi-range selections are involved.","msgtype":"m.text"},"ts":1325876162000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"If Gecko engineers can't get multi-range selections right, do you expect web authors to?","msgtype":"m.text"},"ts":1325876163000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I see.","msgtype":"m.text"},"ts":1325876220000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"AryehGregor: smaug____: yeah, I meant to start that discussion at some point, but I held off on it cause I never had the time to rip them out","msgtype":"m.text"},"ts":1325876340000,"senderName":"ehsan","senderId":"ehsan@irc"},
{"content":{"body":"and I didn't want the discussion to end with no results","msgtype":"m.text"},"ts":1325876341000,"senderName":"ehsan","senderId":"ehsan@irc"},
{"content":{"body":"AryehGregor: thanks, I need to think about this some more.","msgtype":"m.text"},"ts":1325876342000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"Honestly, the Range API is way too complicated anyway.  Like the fact that offsets are sometimes child numbers and sometimes offsets into CharacterData, and the way that you can have a zillion different boundary points that map to the same location.","msgtype":"m.text"},"ts":1325876400000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It's a PITA for authors to use.","msgtype":"m.text"},"ts":1325876401000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Author code is littered with simplifying assumptions like \"there's only one range per selection\" and \"range endpoints are always in Element or Text nodes\".","msgtype":"m.text"},"ts":1325876460000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Which they don't even realize are wrong.","msgtype":"m.text"},"ts":1325876461000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"damn authors!","msgtype":"m.text"},"ts":1325876462000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"why can't they be smarter!","msgtype":"m.text"},"ts":1325876463000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1325876464000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"AryehGregor: ehsan: I think mats has fixed most of the bugs related to multi-range selections","msgtype":"m.text"},"ts":1325876520000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"er, possibly not related to execCommand","msgtype":"m.text"},"ts":1325876580000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"is not interested in execCommand :p","msgtype":"m.emote"},"ts":1325876581000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: no, he hasn't :)","msgtype":"m.text"},"ts":1325876582000,"senderName":"ehsan","senderId":"ehsan@irc"},
{"content":{"body":"multi-range selections is a nice way to implement spellchecking UI, IMO","msgtype":"m.text"},"ts":1325876640000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: that can be debated, but for the most part what we want is stop exposing them to the content","msgtype":"m.text"},"ts":1325876760000,"senderName":"ehsan","senderId":"ehsan@irc"},
{"content":{"body":"I feel that the way we use multi-range selections to handle spell checking etc is not optimal","msgtype":"m.text"},"ts":1325876820000,"senderName":"ehsan","senderId":"ehsan@irc"},
{"content":{"body":"but that's a different discussion","msgtype":"m.text"},"ts":1325876821000,"senderName":"ehsan","senderId":"ehsan@irc"},
{"content":{"body":"annevk, for big5, are you inclined to spec Gecko's big5 table or CP590 of others?","msgtype":"m.text"},"ts":1325877540000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"Is the idl from the html5 spec available somewhere without all the other verbiage?","msgtype":"m.text"},"ts":1325877960000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"bz_moz, the source code of this has a copy-pasted version with a few tweaks: w3c-test.org/html/tests/submission/AryehGregor/interfaces.html  I used this to generate it from the one-page WHATWG spec: var s = \"\";     [].forEach.call(document.getElementsByClassName(\"idl\"), function(idl) {       if (!idl.classList.contains(\"extract\"))       {         s += idl.textContent + \"\\n\\n\";       }     });     document.body.innerHTML = '<pre></pre>';     d","msgtype":"m.text"},"ts":1325878860000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"ocument.body.firstChild.textContent = s;","msgtype":"m.text"},"ts":1325878861000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(see http://w3c-test.org/html/tests/resources/idlharness.js )","msgtype":"m.text"},"ts":1325878862000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: looking","msgtype":"m.text"},"ts":1325878980000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"AryehGregor: thanks, that's perfect","msgtype":"m.text"},"ts":1325879040000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1325879041000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It might be slightly out-of-date.","msgtype":"m.text"},"ts":1325879042000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I just need the interface hierarchy","msgtype":"m.text"},"ts":1325879100000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"not the members","msgtype":"m.text"},"ts":1325879101000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"I doubt that's changed","msgtype":"m.text"},"ts":1325879102000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"bz_moz, since transform-origin isn't inherited, the only way the computed value is detectable is through getComputedStyle(), no?  Having different resolved and computed values is only meaningful for inherited properties, because it's the computed value that's inherited?","msgtype":"m.text"},"ts":1325879400000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Or is computed value used somewhere other than inheritance and getComputedStyle()?","msgtype":"m.text"},"ts":1325879401000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: all properties can be inherited","msgtype":"m.text"},"ts":1325879580000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"AryehGregor: some are just not inherited by default","msgtype":"m.text"},"ts":1325879581000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"AryehGregor: anyone can always write \"transform-origin: inherit\" and boom!","msgtype":"m.text"},"ts":1325879582000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"AryehGregor: as long as your dimensions are different from your parent you can now tell whether the computed value was percent or pixels","msgtype":"m.text"},"ts":1325879640000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"AryehGregor: resolved value is a concept specific to getComputedStyle","msgtype":"m.text"},"ts":1325879641000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"AryehGregor: because UAs historically do weird shit there, because the CSS2 definition of computed value was .... odd","msgtype":"m.text"},"ts":1325879642000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"i have returned!","msgtype":"m.text"},"ts":1325882760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and won't be reading backlog, so if you asked me something, ask again or send mail :-)","msgtype":"m.text"},"ts":1325882820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"...where did you go?","msgtype":"m.text"},"ts":1325882821000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"has literally 1000s of e-mails to deal with","msgtype":"m.emote"},"ts":1325882822000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"...when did you leave?","msgtype":"m.text"},"ts":1325882823000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: vacation","msgtype":"m.text"},"ts":1325882824000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hixie: were you gone for more than 3 days?","msgtype":"m.text"},"ts":1325882940000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"more like 3 weeks","msgtype":"m.text"},"ts":1325883000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Wow.","msgtype":"m.text"},"ts":1325883001000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hixie: then why do you need the \"literally\"?  ;)","msgtype":"m.text"},"ts":1325883002000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"I... guess it's a good thing I didn't notice?","msgtype":"m.text"},"ts":1325883003000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"bz_moz: fair point! :-)","msgtype":"m.text"},"ts":1325883004000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"TabAtkins: :-P","msgtype":"m.text"},"ts":1325883005000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"would figure that 2000/week is a good lower bound for email","msgtype":"m.emote"},"ts":1325883006000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"actually this is after my filters get rid of 90% of my mail","msgtype":"m.text"},"ts":1325883007000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bz_moz: Surely your silicon brain can handle more than that.","msgtype":"m.text"},"ts":1325883008000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hixie: ah, heh","msgtype":"m.text"},"ts":1325883060000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Until I see you at SXSW and satisfy myself that your'e an organic, I'm going to continue to assume you're a supercomputing cluster in an MIT basement.","msgtype":"m.text"},"ts":1325883061000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: my laptop can probably handle all sorts of mail volumes","msgtype":"m.text"},"ts":1325883062000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1325883120000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"I have no evidence you're organic either","msgtype":"m.text"},"ts":1325883121000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Please.  My effiency and work ethic is clearly organic.","msgtype":"m.text"},"ts":1325883122000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"plus, how would you tell apart a human from R Daneel Olivaw anyway?","msgtype":"m.text"},"ts":1325883123000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Invasive x-ray.","msgtype":"m.text"},"ts":1325883124000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hopes sxsw passes on those","msgtype":"m.emote"},"ts":1325883180000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"I'm hoping I get it through airport security.","msgtype":"m.text"},"ts":1325883181000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"you'd have to catch me at the airport","msgtype":"m.text"},"ts":1325883182000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1325883183000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"has taken to traveling with his kids","msgtype":"m.emote"},"ts":1325883184000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"that way I go through the sane line","msgtype":"m.text"},"ts":1325883185000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Airport x-ray isn't invasive. It would be fooled by organic skin.","msgtype":"m.text"},"ts":1325883186000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"at least so far","msgtype":"m.text"},"ts":1325883187000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"TabAtkins: yeah, I know","msgtype":"m.text"},"ts":1325883188000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"I just opt-out every time.  10 minutes wasting their time with a patdown and I'm good.","msgtype":"m.text"},"ts":1325883240000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"and as far as that goes, the TSA actually rolled back a dumb policy","msgtype":"m.text"},"ts":1325883241000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Unless, like last time, they detect explosives on me and call the cops.","msgtype":"m.text"},"ts":1325883242000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: heh","msgtype":"m.text"},"ts":1325883243000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"TabAtkins: I've been under too much time pressure to do that the one time it came up.  :(","msgtype":"m.text"},"ts":1325883244000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"I've done a pornoscanner once in a similar timecrunch, but I usually ensure I have 1.5 hours so I can eat the time.","msgtype":"m.text"},"ts":1325883300000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"what I want is confirmation of ms2ger's humanity","msgtype":"m.text"},"ts":1325883420000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"but I may be out of luck.","msgtype":"m.text"},"ts":1325883480000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Which humanity?","msgtype":"m.text"},"ts":1325883481000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I want conformation he is non-human","msgtype":"m.text"},"ts":1325883482000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It would be way more interesting","msgtype":"m.text"},"ts":1325883483000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But less surprising","msgtype":"m.text"},"ts":1325883484000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Still passing my Turing test?","msgtype":"m.text"},"ts":1325883540000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"bz_moz, ah, right.  Thanks.","msgtype":"m.text"},"ts":1325883541000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Ms2ger: oh, sure","msgtype":"m.text"},"ts":1325883542000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Ms2ger: but at this point chatbots do _that_","msgtype":"m.text"},"ts":1325883543000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Ms2ger: (you do a bit better, because you comment on patches, which most chatbots can't)","msgtype":"m.text"},"ts":1325883544000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"True.  Cleverbot is pretty human most of the time.","msgtype":"m.text"},"ts":1325883600000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"tabatkins: more precisely the turing testers are not doing it right","msgtype":"m.text"},"ts":1325883601000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"tabatkins: imho","msgtype":"m.text"},"ts":1325883602000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"bz_moz, hmm, I want a bot to complain about style issues in random people's patches :)","msgtype":"m.text"},"ts":1325883603000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Another 10 years, and the turing test will stop being useful for testing AI, because we'll just assume that making conversation is something that *of course* computers can do.","msgtype":"m.text"},"ts":1325883604000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(10y is a conservative estimate)","msgtype":"m.text"},"ts":1325883660000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Ms2ger: http://beaufour.dk/jst-review/","msgtype":"m.text"},"ts":1325883661000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"bz_moz, yeah, but I want it to comment in bmo","msgtype":"m.text"},"ts":1325883662000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"TabAtkins: depends on conversation and demographic.  random party conversation, sure","msgtype":"m.text"},"ts":1325883663000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"TabAtkins: which is why you have to find a common area of interest and specialize","msgtype":"m.text"},"ts":1325883664000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"TabAtkins: e.g. I'm pretty sure I could prove to myself that you're not a bot","msgtype":"m.text"},"ts":1325883720000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"And it's not useful for me, because I deliberately don't rev uuids in patches I put up for review","msgtype":"m.text"},"ts":1325883721000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"TabAtkins: we'd just talk css specs","msgtype":"m.text"},"ts":1325883722000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"Well, sure, because Texas doesn't have good AI research.","msgtype":"m.text"},"ts":1325883840000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"had no idea texas was involved","msgtype":"m.emote"},"ts":1325883841000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"It's where I was raised.","msgtype":"m.text"},"ts":1325883842000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"if we're talking that....","msgtype":"m.text"},"ts":1325883900000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"On the other hand, you're somewhere up in the northeast, where all the fancy universities are.","msgtype":"m.text"},"ts":1325883901000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"neither does dc","msgtype":"m.text"},"ts":1325883902000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"(amount of I in general there could be debated)","msgtype":"m.text"},"ts":1325883903000,"senderName":"bz_moz","senderId":"bz_moz@irc"},
{"content":{"body":"zewt, thanks for your reply about encoding/XHR/json, that's why I wanted the guy to tell public-webapps about his bug :)","msgtype":"m.text"},"ts":1325884800000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"matjas, matijsb: I forget which of you is which, so I'll just say: the CSS commits feed is back to working.  It's not showing the diffs yet, but you don't need that for the Twitter feed.","msgtype":"m.text"},"ts":1325889060000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: hehe, this is matjas'","msgtype":"m.text"},"ts":1325889180000,"senderName":"matijsb","senderId":"matijsb@irc"},
{"content":{"body":"\"This is an editor's draft of a spec, it's not a recommendation, so it's hardly a violation of anything.\" <- losing a lot of respect for webkit here","msgtype":"m.text"},"ts":1325891820000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"timeless, \"anyone have experience cajoling MXR into doing regexp searches?  I'm trying to get it to search for '#\\d+[#=]' (in Perl-speak), and I'm getting nowhere\"","msgtype":"m.text"},"ts":1325891821000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"cc jwalden","msgtype":"m.text"},"ts":1325891822000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"zewt: url?","msgtype":"m.text"},"ts":1325891880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"public-webapps, the JSON thread","msgtype":"m.text"},"ts":1325891881000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"responseType \"json\" thread on webapps","msgtype":"m.text"},"ts":1325891882000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"ah, i didn't read that thread","msgtype":"m.text"},"ts":1325892240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"The HTML5 parser defines a context-sensitive language, right? Has anyone tried to do a formal definition of it?","msgtype":"m.text"},"ts":1325892241000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"are you saying the HTML spec isn't formal? :-P","msgtype":"m.text"},"ts":1325892242000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Yes. :P","msgtype":"m.text"},"ts":1325892300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"bz_moz: you get too much email :)","msgtype":"m.text"},"ts":1325892720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"bz_moz: having said that, I think in three months I had about 20000, so maybe you are right... depressing","msgtype":"m.text"},"ts":1325892780000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"three months away*","msgtype":"m.text"},"ts":1325892781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: Can you think of anything that stops it from being a CSG?","msgtype":"m.text"},"ts":1325892782000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"kennyluck: 950, which I thought is what Gecko implemented","msgtype":"m.text"},"ts":1325892840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"AryehGregor: thanks","msgtype":"m.text"},"ts":1325892841000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wb Hixie","msgtype":"m.text"},"ts":1325892900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: CSG?","msgtype":"m.text"},"ts":1325893440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Context sensitive grammar","msgtype":"m.text"},"ts":1325893441000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"will be scared if it isn't","msgtype":"m.emote"},"ts":1325893442000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"document.write()?","msgtype":"m.text"},"ts":1325893443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Because if it isn't, you need a Turing machine to parse it.","msgtype":"m.text"},"ts":1325893444000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"you do","msgtype":"m.text"},"ts":1325893445000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Assume scripting disabled","msgtype":"m.text"},"ts":1325893446000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1325893500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(Once you have JS involved, obviously a Turing machine is needed)","msgtype":"m.text"},"ts":1325893501000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"do you mean conforming syntax only too?","msgtype":"m.text"},"ts":1325893502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"No.","msgtype":"m.text"},"ts":1325893503000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: take a few classes off and figure it out","msgtype":"m.text"},"ts":1325893504000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: I'm sure mankind will thank you, and university might hand you a few credits","msgtype":"m.text"},"ts":1325893560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: i'm not familiar enough with the strict definition of CSG to say one way or the other","msgtype":"m.text"},"ts":1325893620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders: certainly in the common case -- scripting enabled -- parsing can be non-deterministic","msgtype":"m.text"},"ts":1325893621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"My gut says it is a CSG, but I don't have proof for it.","msgtype":"m.text"},"ts":1325893622000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: Certainly. document.write guarantees that.","msgtype":"m.text"},"ts":1325893623000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: does the fact that HTML streams can be unbounded make it not a CSG?","msgtype":"m.text"},"ts":1325893740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"No.","msgtype":"m.text"},"ts":1325893800000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"wikipedia says a CSG can be parsed by an LBA, and an LBA assumes bounded input as far as i can tell","msgtype":"m.text"},"ts":1325893801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: No","msgtype":"m.text"},"ts":1325893802000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"but here we are outside my area of expertise","msgtype":"m.text"},"ts":1325893803000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so...","msgtype":"m.text"},"ts":1325893804000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Even a regular grammar can handle unbounded input","msgtype":"m.text"},"ts":1325893860000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it seems wikipedia's definitions also has the key sentence \"The only restriction placed on grammars for such languages is that no production maps a string to a shorter string.\"","msgtype":"m.text"},"ts":1325893861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i don't really understand what that means","msgtype":"m.text"},"ts":1325893862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"e.g., a null-terminated string can be parsed with a regular grammar, but you don't know when, if ever, you'll reach the null byte.","msgtype":"m.text"},"ts":1325893863000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"So inevitably anything higher up in the hierarchy can be unbounded.","msgtype":"m.text"},"ts":1325893920000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1325893921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh oh","msgtype":"m.text"},"ts":1325893980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the AAA","msgtype":"m.text"},"ts":1325893981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it can mutate previously-provided output","msgtype":"m.text"},"ts":1325893982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"does that violate some rule of CSGs?","msgtype":"m.text"},"ts":1325893983000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<html x> and <body x>, too","msgtype":"m.text"},"ts":1325893984000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and <table>x","msgtype":"m.text"},"ts":1325894040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm somewhat concerned about the AAA.","msgtype":"m.text"},"ts":1325894041000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"aren't we all","msgtype":"m.text"},"ts":1325894042000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"What's the effect of <html x>?","msgtype":"m.text"},"ts":1325894043000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"mutates the earlier <html> node","msgtype":"m.text"},"ts":1325894044000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"iirc","msgtype":"m.text"},"ts":1325894045000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(adds attributes)","msgtype":"m.text"},"ts":1325894046000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Oh, is this because the parser has some special-case for <html>?","msgtype":"m.text"},"ts":1325894100000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"That's not an issue. You're still creating the html node.","msgtype":"m.text"},"ts":1325894101000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That adds the token first?","msgtype":"m.text"},"ts":1325894102000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"<html><html a><html b> parses the same as <html a b> iirc","msgtype":"m.text"},"ts":1325894103000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"where you can have any amount of content between each of those tags","msgtype":"m.text"},"ts":1325894104000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"But yeah, the fact that AAA can move content an arbitrary distance past arbitrary content inside the table would probably break a CSG.","msgtype":"m.text"},"ts":1325894105000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Same with <html> attribute merging, yeah.","msgtype":"m.text"},"ts":1325894160000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Yeah, you'd need a two-stack DFA, which is turing-equivalent.","msgtype":"m.text"},"ts":1325894220000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Is a two-stack DFA Turing-equiv? I thought you could do that with a CSG.","msgtype":"m.text"},"ts":1325894221000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yes, it is.","msgtype":"m.text"},"ts":1325894222000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"If i'm remembering my automata theory properly","msgtype":"m.text"},"ts":1325894280000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Shit, I meant PDA.","msgtype":"m.text"},"ts":1325894281000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"A two-stack PDA.","msgtype":"m.text"},"ts":1325894282000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Well, a PDA is basically just a one-stack DFA","msgtype":"m.text"},"ts":1325894340000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hm. You may be able to get by with a nested-stack PDA, which is still a type 1 language.","msgtype":"m.text"},"ts":1325894341000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]