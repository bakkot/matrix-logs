[
{"content":{"body":"http://lachy.id.au/log/2005/05/script-comments says \"the only user agent I know of the supports the CDATA section for HTML documents is the new Opera 8\", so it sounds like it wasn't added before v8. (I have no idea why they ever added it, particularly with such an intriguing implementation...)","msgtype":"m.text"},"ts":1182297840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1182297841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1182297842000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no comment","msgtype":"m.text"},"ts":1182297843000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i love how zcorpan reported the same issue several times (probably without realising it)","msgtype":"m.text"},"ts":1182297900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok i'm sure what i just did just about broke everything in the spec","msgtype":"m.text"},"ts":1182301200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so, please let me know if you find issues with those checkins...","msgtype":"m.text"},"ts":1182301201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: did you just set the spec on fire?","msgtype":"m.text"},"ts":1182301380000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"i abstracted out innerHTML's getter and setter to generic algorithms","msgtype":"m.text"},"ts":1182301440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Looks like the innerHTML link in item 3 a bit below http://www.whatwg.org/specs/web-apps/current-work/#innerhtml1 should link to innerhtml1 (to be consistent with all the others in that section) instead of innerhtml0. Or maybe all those should link to innerhtml0 instead, or something.","msgtype":"m.text"},"ts":1182301920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"oops","msgtype":"m.text"},"ts":1182301980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"will dix","msgtype":"m.text"},"ts":1182302040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"f6ix","msgtype":"m.text"},"ts":1182302041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fix","msgtype":"m.text"},"ts":1182302042000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Ooh, excellent, I get non-deterministic behaviour when drawing a couple of arcs and rectangles in Opera","msgtype":"m.text"},"ts":1182303180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"uri?","msgtype":"m.text"},"ts":1182303300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Just trying to make a sensible test case now","msgtype":"m.text"},"ts":1182303360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"giggles","msgtype":"m.emote"},"ts":1182303720000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"one of my colleagues introduced me to one of our interns, saying i was a standards guru","msgtype":"m.text"},"ts":1182303721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the intern asked if i knew about the whatwg","msgtype":"m.text"},"ts":1182303722000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1182303780000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"do you pronounce whatwg?","msgtype":"m.text"},"ts":1182303781000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"or do you say W-H-A....","msgtype":"m.text"},"ts":1182303782000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"i pronounce it \"whatwuhjee\"","msgtype":"m.text"},"ts":1182303840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and i guess that's canonical since i came up with it","msgtype":"m.text"},"ts":1182303841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"when i'm talking more formally i call it the \"What double you gee\"","msgtype":"m.text"},"ts":1182303842000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://canvex.lazyilluminati.com/misc/operanondet.html - that's running the same code lots of times, and I get a random selection of about four renderings (of which two are quite rare)","msgtype":"m.text"},"ts":1182303900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I usually say whatwahguhdfm.....","msgtype":"m.text"},"ts":1182303901000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"...in Opera 9.21 on Windows and Linux","msgtype":"m.text"},"ts":1182303902000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Turns out it doesn't actually need arcs at all)","msgtype":"m.text"},"ts":1182303903000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"all look the same to me on 9.00","msgtype":"m.text"},"ts":1182303960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(windows)","msgtype":"m.text"},"ts":1182303961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bewest: whatwahguhdfm?","msgtype":"m.text"},"ts":1182303962000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Does it stay the same if you reload the page a few times?","msgtype":"m.text"},"ts":1182303963000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(wish it was easier to keep up to date with opera, sheesh)","msgtype":"m.text"},"ts":1182303964000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"seems yes","msgtype":"m.text"},"ts":1182303965000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yes, and then my voice kind of trails off at the end, and then I resume what I was saying.","msgtype":"m.text"},"ts":1182304020000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1182304021000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i recommend \"whatwuhjee\"","msgtype":"m.text"},"ts":1182304080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, seems better.","msgtype":"m.text"},"ts":1182304081000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"Philip`: wow, yeah, opera 9.21 is all over the place","msgtype":"m.text"},"ts":1182304082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://canvex.lazyilluminati.com/misc/operanondet.png - that has all the four renderings I've noticed","msgtype":"m.text"},"ts":1182304260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"funky","msgtype":"m.text"},"ts":1182304740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, renamed \"innerHTML case\" to \"fragment case\"","msgtype":"m.text"},"ts":1182304860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wow, the last csswg meeting had all of four people on the call","msgtype":"m.text"},"ts":1182304920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://bugs.webkit.org/show_bug.cgi?id=12740 is heartwarming","msgtype":"m.text"},"ts":1182306900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"like heartburn?","msgtype":"m.text"},"ts":1182306901000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1182306960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"like a hug :-P","msgtype":"m.text"},"ts":1182306961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah yes, that was a nice fix","msgtype":"m.text"},"ts":1182307020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"interop problem solved by following spec","msgtype":"m.text"},"ts":1182307021000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: which part of the spec?","msgtype":"m.text"},"ts":1182307200000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"Hixie: part of the HTML5 parsing algorithm","msgtype":"m.text"},"ts":1182307201000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i assume that was to karl","msgtype":"m.text"},"ts":1182307202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":";)","msgtype":"m.text"},"ts":1182307203000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"since i looked at the bug and therefore knew :-)","msgtype":"m.text"},"ts":1182307204000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"er, yeah","msgtype":"m.text"},"ts":1182307260000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"karlUshi: meant that for you","msgtype":"m.text"},"ts":1182307261000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"a specific part of the parsing algorithm","msgtype":"m.text"},"ts":1182307262000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"I have an idea to explain people why html5 parsing rules are important.","msgtype":"m.text"},"ts":1182307320000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"I think it is a good example","msgtype":"m.text"},"ts":1182307321000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"http://dev.w3.org/cvsweb/~checkout~/html5/spec/Overview.html#in-table","msgtype":"m.text"},"ts":1182307500000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"it seems to be it","msgtype":"m.text"},"ts":1182307560000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"karlUshi: Looks like the \"A start tag whose tag name is \"table\"\" case in there, in particular","msgtype":"m.text"},"ts":1182307860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie, yt?","msgtype":"m.text"},"ts":1182310200000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"yo","msgtype":"m.text"},"ts":1182311460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Lachy?","msgtype":"m.text"},"ts":1182311520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hey","msgtype":"m.text"},"ts":1182311760000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"regarding Selectors API, Jonas' last message on member-webapi and http://lists.w3.org/Archives/Public/public-webapi/2006Sep/0100.html","msgtype":"m.text"},"ts":1182311761000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I'm wondering if you could help me understand what the issue is - there doesn't seem to be one","msgtype":"m.text"},"ts":1182311820000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"which part?","msgtype":"m.text"},"ts":1182311821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in particular, the scoped selectors part.","msgtype":"m.text"},"ts":1182311822000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"AFAIK, scoped selectors don't exist, so how can I deal with them?","msgtype":"m.text"},"ts":1182311880000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"i don't see the problem either","msgtype":"m.text"},"ts":1182311881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"also, regarding the :root issue, it seems to me that it would only ever match the root of the document, not the root of a subtree, so I don't see what the problem is there either","msgtype":"m.text"},"ts":1182312000000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"i agree","msgtype":"m.text"},"ts":1182312001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wonders exactly what chaals meant in reply to the f2f questionnaire","msgtype":"m.emote"},"ts":1182312002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cool.  I'll just reply and explain why it's not an issue.","msgtype":"m.text"},"ts":1182312003000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"i can't tell if he thinks i'm wrong in saying the telecon was a waste of time or what","msgtype":"m.text"},"ts":1182312060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"guess i'll have to catch him online at some point","msgtype":"m.text"},"ts":1182312061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which f2f questionaire?","msgtype":"m.text"},"ts":1182312062000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"http://www.w3.org/2002/09/wbs/40318/mtgmv/","msgtype":"m.text"},"ts":1182312063000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"given that only 13 people replied, and at least one of them only replied because i asked them about it, i'm starting to wonder if anyone actually reads public-html these days","msgtype":"m.text"},"ts":1182312120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I haven't paid much attention to it recently.  I marked about ~300 messages as read a few days ago cause I couldn't be bothered","msgtype":"m.text"},"ts":1182312121000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I didn't even know they were going to have an f2f","msgtype":"m.text"},"ts":1182312180000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1182312181000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right, going home","msgtype":"m.text"},"ts":1182312300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbl","msgtype":"m.text"},"ts":1182312301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, cya","msgtype":"m.text"},"ts":1182312302000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hmm, commit-watchers seems to still be randomly ignoring some commits (823, 839, 898, 908, 912, 932, 934)","msgtype":"m.text"},"ts":1182312480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: weird","msgtype":"m.text"},"ts":1182322020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what do people think of selectOne/selectAll as the resolution to the selectors api naming debate? (I'm currently going through ~300 emails reviewing the arguments)","msgtype":"m.text"},"ts":1182322260000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"sounds good to me, but i think the reason anne didn't pick those is that they are either too similar or actually clash with the xpath functions that IE supports","msgtype":"m.text"},"ts":1182322740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, I did the research on that.  XPath uses selectSingleNode/selectNodes","msgtype":"m.text"},"ts":1182322800000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":".select() is out because it's already used in <textarea> and <input type=text> APIs","msgtype":"m.text"},"ts":1182322801000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"the other alternative I'm considering is choose*()","msgtype":"m.text"},"ts":1182322860000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"i prefer select","msgtype":"m.text"},"ts":1182322920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"me too","msgtype":"m.text"},"ts":1182322921000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"finds a page that renders differently in IE than in other browsers because <span> is not considered a formatting element","msgtype":"m.emote"},"ts":1182322922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I still have about 150 emails to get through.  Then I'll finish summarising the arguments and send the results to the list","msgtype":"m.text"},"ts":1182322923000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"and then you'll be told you're being biased, and will have to ignore about 30% of the people, who will raise formal objections... welcome to the editor's job :-)","msgtype":"m.text"},"ts":1182323160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, why do you think I've been avoiding the issue for so long? :-)","msgtype":"m.text"},"ts":1182323220000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"at least the CSS WG resolved the case sesitivity issue for me earlier today :-)","msgtype":"m.text"},"ts":1182323221000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1182323460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"impressive","msgtype":"m.text"},"ts":1182323461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"are you going to consider fixing the issue in XBL to make the prefixes case senstive now, or just leave it as is?","msgtype":"m.text"},"ts":1182323520000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"i'll fix it in due course","msgtype":"m.text"},"ts":1182323521000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1182323522000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1182323940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://news.com.com/8301-10784_3-9731230-7.html?part=rss&subj=news&tag=2547-1_3-0-5","msgtype":"m.text"},"ts":1182324960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"seriously, they're getting worse","msgtype":"m.text"},"ts":1182324961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"when will they learn?","msgtype":"m.text"},"ts":1182324962000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, I noticed that earlier.  I just laughed","msgtype":"m.text"},"ts":1182324963000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"oh dear! Flash CS3 apparently uses document.selectAll() already :-(","msgtype":"m.text"},"ts":1182325680000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"Hixie: you mean journalists… indeed :p Tempest in a tea post","msgtype":"m.text"},"ts":1182325681000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"slashdot is more interesting on the issue","msgtype":"m.text"},"ts":1182325740000,"senderName":"karlUshi","senderId":"karlUshi@irc"},
{"content":{"body":"Lachy_: for what?","msgtype":"m.text"},"ts":1182325741000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"what does it expect selectAll to do?","msgtype":"m.text"},"ts":1182325742000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm getting the link...","msgtype":"m.text"},"ts":1182325800000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"http://livedocs.adobe.com/flash/9.0/main/wwhelp/wwhimpl/common/html/wwhelp.htm?context=LiveDocs_Parts&file=00003989.html","msgtype":"m.text"},"ts":1182325801000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"it apparently seems to do text selection, though I'm not totally sure","msgtype":"m.text"},"ts":1182325860000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"so wait, Flash extends the Document object?","msgtype":"m.text"},"ts":1182325861000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"is confused","msgtype":"m.emote"},"ts":1182325862000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"\"The Document object represents the Stage. That is, only FLA files are considered documents.\"","msgtype":"m.text"},"ts":1182325920000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"well, it calls it a DOM, but it doesn't seem to be related to the W3C DOM","msgtype":"m.text"},"ts":1182325921000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"none of that stuff is in any way related to the DOM as we know it, as far as I can tell","msgtype":"m.text"},"ts":1182325922000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Lachy_: the article about the w3c is hilarious","msgtype":"m.text"},"ts":1182325980000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"can anyone access http://forums.whatwg.org/ ?","msgtype":"m.text"},"ts":1182326100000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_, no","msgtype":"m.text"},"ts":1182326101000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1182326520000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"server is rebooting","msgtype":"m.text"},"ts":1182326580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"great to see that Declan McCullagh at it again","msgtype":"m.text"},"ts":1182326581000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"does it matter whether something is implemented in the tokenizer or the parser?","msgtype":"m.text"},"ts":1182328500000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: if you want to use tokenizer-specific unit tests, yes.","msgtype":"m.text"},"ts":1182328620000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan_: matter for whom?","msgtype":"m.text"},"ts":1182328621000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan_: also, in the case of Java (or C#, I presume), upper or lower casing stuff in the tokenizer is a bit cheaper than leaving it to the tree builder","msgtype":"m.text"},"ts":1182328680000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(languages that have both char[] and immutable String)","msgtype":"m.text"},"ts":1182328740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"scratch that--the statement makes assumptions about the interface between the tokenizer and the tree builder","msgtype":"m.text"},"ts":1182328741000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: whether it matters for spec conformance","msgtype":"m.text"},"ts":1182328860000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: it may matter to the order of parse errors","msgtype":"m.text"},"ts":1182328920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan_: I'd expect","msgtype":"m.text"},"ts":1182328921000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"does the spec require a particular order for parse errors?","msgtype":"m.text"},"ts":1182328922000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: IIRC, there was some language tied to \"first\"","msgtype":"m.text"},"ts":1182328980000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"e.g., if something is more performant to implement in the parser for implementor A and more performant to implement in the tokenizer for implementor B, and the end result is the same, then i don't see a good reason to make one implementation non-conforming","msgtype":"m.text"},"ts":1182328981000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: agreed","msgtype":"m.text"},"ts":1182329040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"othermaciej: ah. not relevant. it was not the first as defined by the algorithm but the first for which the impl takes special action","msgtype":"m.text"},"ts":1182329100000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"The error handling for parse errors is well-defined: user agents must either act as described below when encountering such problems, or must abort processing at the first error that they encounter for which they do not wish to apply the rules described below.\"","msgtype":"m.text"},"ts":1182329160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"could be phrased as s/the first/any/","msgtype":"m.text"},"ts":1182329220000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"fwiw, I'll probably make following that rule optional","msgtype":"m.text"},"ts":1182329340000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(i.e. allow the user of the parser to enable non-conforming coercion to XML 1.0 infoset)","msgtype":"m.text"},"ts":1182329341000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"in the parser library that is--not in the conformance checker","msgtype":"m.text"},"ts":1182329400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm. the state transitions between the new comment states aren't nice","msgtype":"m.text"},"ts":1182330780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wonders if one state with hyphen counting would work","msgtype":"m.emote"},"ts":1182330781000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm, writing test cases for .lastModified seems non-trivial","msgtype":"m.text"},"ts":1182330900000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"or not, i can use http headers","msgtype":"m.text"},"ts":1182330901000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"it seems to me that it is the easiest to combine the last three comment states and to use a counter","msgtype":"m.text"},"ts":1182331080000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"The last two digits of the year component of the date.\" -- shouldn't this be 4 digits?","msgtype":"m.text"},"ts":1182331260000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hsivonen: the biggest problem with that is getting the parse errors right","msgtype":"m.text"},"ts":1182331560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: \"that\" being a counter?","msgtype":"m.text"},"ts":1182331620000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1182331621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well, with not using the numerous states i used","msgtype":"m.text"},"ts":1182331622000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: was the year component of .lastModified a mistake? should i bug the list about it? (all browsers return the year in 4 digits)","msgtype":"m.text"},"ts":1182331680000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"why are the states troublesome? because of using a stack-based approach instead of a switch? or?","msgtype":"m.text"},"ts":1182331681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: using a stack-based approach and I don't want arbitrary recursion based on input","msgtype":"m.text"},"ts":1182331740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan_: hm","msgtype":"m.text"},"ts":1182331741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: plus the direct transition to comment end state from comment start dash state","msgtype":"m.text"},"ts":1182331742000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1182331800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just have a little state machine in your function :-)","msgtype":"m.text"},"ts":1182331801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: isn't the counter exactly it?","msgtype":"m.text"},"ts":1182331802000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"0: comment 1: end dash 2: end","msgtype":"m.text"},"ts":1182331860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"well, if you get the parse errors right","msgtype":"m.text"},"ts":1182331861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<!--> has a parse error, <!----> does not","msgtype":"m.text"},"ts":1182331862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<!---> has a parse error, <!-- ---> has a parse error","msgtype":"m.text"},"ts":1182331863000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<!-- --> does not","msgtype":"m.text"},"ts":1182331920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan_: oops, i'll fix that","msgtype":"m.text"},"ts":1182331980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan_: no need to report it","msgtype":"m.text"},"ts":1182331981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: um. according to the revision of comment start dash state that I am looking at, <!--> does not have a parse error","msgtype":"m.text"},"ts":1182331982000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: ok","msgtype":"m.text"},"ts":1182331983000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"oop","msgtype":"m.text"},"ts":1182331984000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"s","msgtype":"m.text"},"ts":1182331985000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"never mind","msgtype":"m.text"},"ts":1182332040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"you start in the comment start state, not the comment start dash state","msgtype":"m.text"},"ts":1182332041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I wasn't going to use a counter for the comment start * states","msgtype":"m.text"},"ts":1182332042000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah ok","msgtype":"m.text"},"ts":1182332100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, I am here now","msgtype":"m.text"},"ts":1182332580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sent you mail","msgtype":"m.text"},"ts":1182332581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"having said that, I haven't checked e-mail so far","msgtype":"m.text"},"ts":1182332582000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1182332583000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: considering markup decl open state, how could you ever go through the comment start* states without hitting the '-' cases?","msgtype":"m.text"},"ts":1182332584000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"If the next two characters are both U+002D HYPHEN-MINUS (-) characters, consume those two characters, create a comment token whose data is the empty string, and switch to the comment start state.\"","msgtype":"m.text"},"ts":1182332640000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"they're consumed (by the text you just quoted) before you enter that state","msgtype":"m.text"},"ts":1182332641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ooh! the purpose of those states is very different from what I though","msgtype":"m.text"},"ts":1182332760000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"t","msgtype":"m.text"},"ts":1182332761000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1182332820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"heh :-)","msgtype":"m.text"},"ts":1182332821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"calling them \"start\" is confusing","msgtype":"m.text"},"ts":1182332822000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1182332880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they're at the start","msgtype":"m.text"},"ts":1182332881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"when they actually test for bogus end","msgtype":"m.text"},"ts":1182332882000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"what should i call them?","msgtype":"m.text"},"ts":1182332883000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't want to have the tokeniser enter a state with the name \"bogus\" for quite compliant markup","msgtype":"m.text"},"ts":1182332884000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"commentPotentiallyBogusDashOne commentPotentiallyBogusDashTwo","msgtype":"m.text"},"ts":1182332885000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"whoa","msgtype":"m.text"},"ts":1182333000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i don't like names with \"bogus\" in them that are not bogus :-)","msgtype":"m.text"},"ts":1182333001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"whoa\"?","msgtype":"m.text"},"ts":1182333002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: only *potentially#","msgtype":"m.text"},"ts":1182333060000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oh i understand your proposal","msgtype":"m.text"},"ts":1182333061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i just don't particularly like it :-)","msgtype":"m.text"},"ts":1182333062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i understand how the current text is confusing though","msgtype":"m.text"},"ts":1182333063000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: what was your reading of the purpose of the new states?","msgtype":"m.text"},"ts":1182333120000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"whoa was in response to the new names","msgtype":"m.text"},"ts":1182333121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen, to address parse errors for <!--> and <!--->","msgtype":"m.text"},"ts":1182333122000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, but was your intuitive reading that <!--> would go through comment start dash?","msgtype":"m.text"},"ts":1182333180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: am I the only one who is confused?","msgtype":"m.text"},"ts":1182333181000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i agree that the current state names are confusing","msgtype":"m.text"},"ts":1182333182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and will look for better names","msgtype":"m.text"},"ts":1182333183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ok thanks","msgtype":"m.text"},"ts":1182333184000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"on another note, the w3c pubrules checker is retarded","msgtype":"m.text"},"ts":1182333240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen, how does <!--> go through comment start dash? it is emitted during comment start","msgtype":"m.text"},"ts":1182333300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it doesn't. that's my point","msgtype":"m.text"},"ts":1182333840000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: wow this is interesting. ie takes daylight-saving time into account for .lastModified. firefox doesn't.","msgtype":"m.text"},"ts":1182333900000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1182333960000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I suppose I'm too used to everything after <!-- being the start of the comment","msgtype":"m.text"},"ts":1182333961000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://simon.html5.org/test/html/dom/interfaces/HTMLDocument/lastModified/001.php","msgtype":"m.text"},"ts":1182333962000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"in ie, it failed, but when i turned off \"automatically adjust daylight-saving time\" in windows, the test passed","msgtype":"m.text"},"ts":1182334020000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"on a related note: if an HTML5 doc contains <!--a--b-->, what would you like the result of XHTML5 conversion be? (assuming fatal error is not an option)","msgtype":"m.text"},"ts":1182334021000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"in firefox it passed both times","msgtype":"m.text"},"ts":1182334022000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"is substituting two EN DASHes in the middle evil and/or confusing? what about a single U+FFFD?","msgtype":"m.text"},"ts":1182334140000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I think the DOM spec suggested something like \"--\" -> \"- -\"","msgtype":"m.text"},"ts":1182334260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1182334261000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie, does Google have some secret project that relies on the placement of comments? :)","msgtype":"m.text"},"ts":1182334440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"The presence of this character sequence must generate a fatal error during serialization.\" -- http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-1728279322","msgtype":"m.text"},"ts":1182334441000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I stick with my suggestion","msgtype":"m.text"},"ts":1182334500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I believe browsers already support <base> in XHTML","msgtype":"m.text"},"ts":1182334501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan_: let's assume I'm going to have an infoset-altering option for everything that the specs say is fatal","msgtype":"m.text"},"ts":1182334560000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: ok. that was the text i found when looking for what annevk referred to (\"--\" -> \"- -\")","msgtype":"m.text"},"ts":1182334620000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"(that almost looked like a smiley)","msgtype":"m.text"},"ts":1182334621000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"will bug the list about daylight-saving time on .lastModified","msgtype":"m.emote"},"ts":1182334740000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the whattf CVS to SVN migration support thread has 14 messages and the transition still isn't done...","msgtype":"m.text"},"ts":1182334741000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"not counting my replies","msgtype":"m.text"},"ts":1182334742000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: heh, no, i just want whitespace and comments to be in the DOM in the same place they are in the markup","msgtype":"m.text"},"ts":1182334860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: that'll be another use of XmlViolationPolicy.ALTER_INFOSET, then","msgtype":"m.text"},"ts":1182334920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"which?","msgtype":"m.text"},"ts":1182334980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: appending stuff to </head>","msgtype":"m.text"},"ts":1182334981000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"to head","msgtype":"m.text"},"ts":1182334982000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"after </head> has been seen","msgtype":"m.text"},"ts":1182334983000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"or are there those cases still","msgtype":"m.text"},"ts":1182335040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"perhaps I'm just way too confused this morning. I woke up too early","msgtype":"m.text"},"ts":1182335041000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1182335100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is it possible to get daylight-saving time info from javascript? ","msgtype":"m.text"},"ts":1182335160000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"annevk: is your remainin </head> suggestion only about white space and comments?","msgtype":"m.text"},"ts":1182335161000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"iirc, firefox inserts whitespace and comments that appear before <head> in the HEAD, and after </body> in the BODY. and between </head> and <body> in HEAD.","msgtype":"m.text"},"ts":1182335340000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"If we ignore </head> there's no moving around of elements anymore","msgtype":"m.text"},"ts":1182335460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"a lot less special processing","msgtype":"m.text"},"ts":1182335461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and in general a simpler parsing model","msgtype":"m.text"},"ts":1182335462000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the complexity involved here is miniscule compared to almost any other part of the spec","msgtype":"m.text"},"ts":1182335520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21--before-doctype--%3E%3C%21doctype%20html%3E%3C%21--before-html--%3E%3Chtml%3E%3C%21--before-head--%3E%3Chead%3E%3C/head%3E%3C%21--before-body--%3E%3Cbody%3E%3C/body%3E%3C%21--after-body--%3E%3C/html%3E%3C%21--after-html--%3E","msgtype":"m.text"},"ts":1182335700000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"after body and after html will always be part of body I believe","msgtype":"m.text"},"ts":1182335760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not in html5","msgtype":"m.text"},"ts":1182335761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i need to find a way to handle whitespace, too","msgtype":"m.text"},"ts":1182335820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i can reuse whatever solution i find for <table> whitespace processing","msgtype":"m.text"},"ts":1182335821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there are way too many pointless edge case differences between html4, html5 and xml 1.0","msgtype":"m.text"},"ts":1182335940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I don't care about xml 1.1, which is itself pointless","msgtype":"m.text"},"ts":1182335941000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"unfortunately, the silliness is mostly due to XML banning arbitrary stuff","msgtype":"m.text"},"ts":1182336000000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"or html5 allowing arbitrary stuff","msgtype":"m.text"},"ts":1182336001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, yeah","msgtype":"m.text"},"ts":1182336060000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"then again, html was there first","msgtype":"m.text"},"ts":1182336061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the arbitrary stuff in xml was copied from sgml, wasn't it?","msgtype":"m.text"},"ts":1182336062000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: U+FFFE and U+FFFF sure were not","msgtype":"m.text"},"ts":1182336120000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: ok. ","msgtype":"m.text"},"ts":1182336180000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"wonders who is actually able to use U+FFFF as a sentinel","msgtype":"m.emote"},"ts":1182336181000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wow! I just finished reading through every email I have on the naming debate :-)","msgtype":"m.text"},"ts":1182336360000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"Lachy_: naming?","msgtype":"m.text"},"ts":1182336361000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"selectors api","msgtype":"m.text"},"ts":1182336362000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"Lachy_: onwards to XHTML5 then :-)","msgtype":"m.text"},"ts":1182336363000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the debate between matchAll()/getElementBySelector() and dozens of other alternatives","msgtype":"m.text"},"ts":1182336364000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"Lachy_: did you get any wiser? :)","msgtype":"m.text"},"ts":1182336420000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I'm about to send the summary of my research to public-webapi","msgtype":"m.text"},"ts":1182336421000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"sadly, I had to give up on selectOne/selectAll idea :-(","msgtype":"m.text"},"ts":1182336480000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"I'm considering a few like the following...","msgtype":"m.text"},"ts":1182336481000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"selectElement/selectElementList","msgtype":"m.text"},"ts":1182336482000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"getElement/getElementList","msgtype":"m.text"},"ts":1182336483000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"selectElement would be extremely confusing given selectSingleNode","msgtype":"m.text"},"ts":1182336540000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I would sugget cssQuery / cssQueryAll or cssQueryOne / cssQuery","msgtype":"m.text"},"ts":1182336541000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Lachy_: was it pointed out that dean edwards' base2 uses matchAll() and matchSingle() to implement the spec?","msgtype":"m.text"},"ts":1182336542000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"short and unambiguous","msgtype":"m.text"},"ts":1182336543000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah, that's the argument against all the select* alternatives","msgtype":"m.text"},"ts":1182336544000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"zcorpan_, yes, I'm aware","msgtype":"m.text"},"ts":1182336545000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"nn all","msgtype":"m.text"},"ts":1182336600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cya hixie","msgtype":"m.text"},"ts":1182336601000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"Hixie: nn","msgtype":"m.text"},"ts":1182336602000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1182336603000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm not a fan of the getElementBySelector name that was theoretically chosen by the group but never put in the spec","msgtype":"m.text"},"ts":1182336660000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but I also think on further thought that get() / getAll() is a little *too* concise","msgtype":"m.text"},"ts":1182336661000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the problem with that is chosing a name for the one that matches multiple","msgtype":"m.text"},"ts":1182336662000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if we didn't need to have both methods, I'd just go for getElementsBySelector()","msgtype":"m.text"},"ts":1182336720000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"I hate how long it is","msgtype":"m.text"},"ts":1182336721000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah, me too","msgtype":"m.text"},"ts":1182336722000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I know, me too","msgtype":"m.text"},"ts":1182336723000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"cssQuery","msgtype":"m.text"},"ts":1182336724000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"short, unambiguous","msgtype":"m.text"},"ts":1182336725000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"matchAll and matchSingle is already implemented :)","msgtype":"m.text"},"ts":1182336726000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not a fan of having css in the name","msgtype":"m.text"},"ts":1182336727000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"css is inaccurate","msgtype":"m.text"},"ts":1182336780000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"are, even","msgtype":"m.text"},"ts":1182336781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but is also a very common name for the similar function in JS libraries","msgtype":"m.text"},"ts":1182336782000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah, that's a good argument in favour of the match* methods","msgtype":"m.text"},"ts":1182336783000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"people call it a \"css query api\"","msgtype":"m.text"},"ts":1182336784000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"terrible","msgtype":"m.text"},"ts":1182336785000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"microsoft's implementation comments were weird","msgtype":"m.text"},"ts":1182336840000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mailed public-webapi with the list of alternatives and the summary of the arguments","msgtype":"m.emote"},"ts":1182337260000,"senderName":"Lachy_","senderId":"Lachy_@irc"},
{"content":{"body":"getElementByGroupOfSelectors() and getElementsByGroupOfSelectors() all the way","msgtype":"m.text"},"ts":1182337560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: at this point there are so many suggestions, I suggest going with magic() and blackMagic() :-P","msgtype":"m.text"},"ts":1182337740000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"Wow, that's a lot of names","msgtype":"m.text"},"ts":1182338700000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"foo()","msgtype":"m.text"},"ts":1182338760000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"sss() and aaa()","msgtype":"m.text"},"ts":1182338940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"document.gifv()","msgtype":"m.text"},"ts":1182339060000,"senderName":"BenWard","senderId":"BenWard@irc"},
{"content":{"body":"dwiw?","msgtype":"m.text"},"ts":1182339061000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"document.gtfo()","msgtype":"m.text"},"ts":1182339420000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"what's gifv, dwiw and gtfo?","msgtype":"m.text"},"ts":1182340320000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"do what I want, get the f* out","msgtype":"m.text"},"ts":1182340321000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"But how about making two names? E.g. both getElementsBySelector and gEBS. Then everyone should be happy :)","msgtype":"m.text"},"ts":1182340380000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"\"I guess that's the nice thing about getElementsBySelector. It's like picking 6 names all at once. :)\" --  http://lists.w3.org/Archives/Public/public-webapi/2006Dec/0049.html","msgtype":"m.text"},"ts":1182340440000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"6 > 2!","msgtype":"m.text"},"ts":1182340500000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Call them $$$ and $$$s","msgtype":"m.text"},"ts":1182340740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I'll just let each UA implement whatever they like and let the market decide","msgtype":"m.text"},"ts":1182340800000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I know","msgtype":"m.text"},"ts":1182340801000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Make them use kanji","msgtype":"m.text"},"ts":1182340802000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Then they can be short and detailed at the same time!","msgtype":"m.text"},"ts":1182340803000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I could go with ⺽⻤()","msgtype":"m.text"},"ts":1182340860000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"(no idea what that means, I just picked 2 random chinese characters)","msgtype":"m.text"},"ts":1182340920000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Seems they didn't make it past the encoding boundries either","msgtype":"m.text"},"ts":1182340980000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"they were encoded as UTF-8","msgtype":"m.text"},"ts":1182340981000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"But that will just make it easier for authors to check they're using the right encoding!","msgtype":"m.text"},"ts":1182340982000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"yeah, someone should just implement match() and matchAll() and we're done :)","msgtype":"m.text"},"ts":1182341040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Can't we just have one method, matchBySelector and overload it?","msgtype":"m.text"},"ts":1182341100000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1182341220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the reason for having the single method is that it's more efficient when you only want the first element.","msgtype":"m.text"},"ts":1182341280000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Well, the JS match solves that by having a global flag on/off on the regexp. ","msgtype":"m.text"},"ts":1182341400000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I guess it's not more efficient when you only want one element and you're selecting it by ID (which I guess might be the most common single-selection situation)","msgtype":"m.text"},"ts":1182341401000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the issue is that most use cases for wanting a single element are covered by gEBId or things like document.body","msgtype":"m.text"},"ts":1182341402000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"match(\"#a, #b, #c\") is an interesting use case when you want whichever comes first or whichever is present in the document","msgtype":"m.text"},"ts":1182341460000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"hopefully this method name is short enough that it can obsolete the need for getElementById","msgtype":"m.text"},"ts":1182341461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and getElementsByTagName","msgtype":"m.text"},"ts":1182341520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"document.match(/.e + ul li > a/g)","msgtype":"m.text"},"ts":1182341521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and rewrite the ECMAScript language a bit","msgtype":"m.text"},"ts":1182341580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"rewrite it like E4X did?","msgtype":"m.text"},"ts":1182341640000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"should we make E5X?","msgtype":"m.text"},"ts":1182341641000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"ES4 is already rewriting it plenty","msgtype":"m.text"},"ts":1182341642000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"annevk, what was your rationality for choosing matchSingle over matchOne?","msgtype":"m.text"},"ts":1182341700000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"people argued it sounded better and I agreed","msgtype":"m.text"},"ts":1182341820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm all for .match though","msgtype":"m.text"},"ts":1182341821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"we should make E5H","msgtype":"m.text"},"ts":1182341822000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm sure you could set up some kind of type inference to work out that \"var x = /a+b/; \"aaaaab\".match(x)\" uses regexp parsing rules when setting x, and \"var x = /a+b/; document.match(x)\" uses CSS selector rules, and \"var x = /a+b/; \"aa\".match(x); document.match(x)\" would be a type error with an entirely incomprehensible error message","msgtype":"m.text"},"ts":1182341880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":".match was the name that started this whole debate.  I'm not sure going back to it would solve anything","msgtype":"m.text"},"ts":1182341940000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I prefer matchOne over matchSingle, but not enough to justify changing it given that there's already an implementation in base2","msgtype":"m.text"},"ts":1182342000000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"matchOne is also harder to type on a qwerty keyboard than matchSingle","msgtype":"m.text"},"ts":1182342120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for me, anyway","msgtype":"m.text"},"ts":1182342121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I suppose I could get used to either","msgtype":"m.text"},"ts":1182342122000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"DeanE said he could change the name btw, or alias it","msgtype":"m.text"},"ts":1182342123000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, I know he could change it easily","msgtype":"m.text"},"ts":1182342180000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I don't see how One is easieer to type than Single","msgtype":"m.text"},"ts":1182342181000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"we need to add HTMLElement.isContentEditable and several things like queryCommand... on HTMLDocument...","msgtype":"m.text"},"ts":1182342600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"queryCommandEnabled,  queryCommandValue, queryCommandSupported","msgtype":"m.text"},"ts":1182342840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"matchOnce?","msgtype":"m.text"},"ts":1182343140000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Hixie: comments in #writing needs to say that comments must not begin with > or ->","msgtype":"m.text"},"ts":1182345180000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"implemented new-style <nobr>","msgtype":"m.emote"},"ts":1182349980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It seems end tag handling of some elements has also changed","msgtype":"m.text"},"ts":1182350040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"most notably \"/body\" and \"/head\"","msgtype":"m.text"},"ts":1182350100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmph, now I have enough tests that Safari won't run them all simultaneously without dropping the last couple of dozen and randomly crashing :-(","msgtype":"m.text"},"ts":1182350580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that's good :)","msgtype":"m.text"},"ts":1182350640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"have you filed bugs on them already?","msgtype":"m.text"},"ts":1182350700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I implemented new-style <link>, <meta>, <base> in html5lib)","msgtype":"m.text"},"ts":1182350701000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham, you need to fix the encoding sniffer for comment handling","msgtype":"m.text"},"ts":1182350702000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"found a bug in the html serializer: <p>a&lt;b&gt;c</p>  =>  <p>a<b>c</p>; but only if a character encoding is specified.","msgtype":"m.text"},"ts":1182350880000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"does the html serializer implement the innerHTML algorithm?","msgtype":"m.text"},"ts":1182350940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Looks like it's actually an intentional limit in WebKit - it won't display more than 200 iframes on a page","msgtype":"m.text"},"ts":1182350941000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I honestly haven't followed all these treewalker, etc. additions","msgtype":"m.text"},"ts":1182350942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"don't see 'inner' anywhere in the serializer.","msgtype":"m.text"},"ts":1182350943000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"maybe t.broyer should be invited on IRC...","msgtype":"m.text"},"ts":1182351120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm, can't do more than 200 of <object> either","msgtype":"m.text"},"ts":1182351360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"maybe 200 object + 200 iframe? :)","msgtype":"m.text"},"ts":1182351361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Philip: perhaps you should get another browser?  :-P","msgtype":"m.text"},"ts":1182351420000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I wonder what the rationale is for this change: http://html5.org/tools/web-apps-tracker?from=917&to=918","msgtype":"m.text"},"ts":1182351421000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Seems to be limit of 200 on num_object+num_iframe","msgtype":"m.text"},"ts":1182351422000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"rubys: Unfortunately I can't use another browser to run test cases in Safari :-(","msgtype":"m.text"},"ts":1182351480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"was joking","msgtype":"m.emote"},"ts":1182351540000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Ooh, it even works fine in IE6","msgtype":"m.text"},"ts":1182351600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(except for failing pretty much all of the test cases, obviously)","msgtype":"m.text"},"ts":1182351601000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"you know what, I'll just implement the above change and see what happens","msgtype":"m.text"},"ts":1182351900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Also, I can't even do >200 iframes by having 16 iframes each containing 16 iframes","msgtype":"m.text"},"ts":1182352140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that's what I was afraid of","msgtype":"m.text"},"ts":1182352200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no testcase breaks","msgtype":"m.text"},"ts":1182352201000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what change?","msgtype":"m.text"},"ts":1182352202000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"see the link above","msgtype":"m.text"},"ts":1182352260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://html5.org/tools/web-apps-tracker?from=917&to=918","msgtype":"m.text"},"ts":1182352261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://trac.webkit.org/projects/webkit/browser/trunk/WebCore/html/HTMLFrameElementBase.cpp#L72","msgtype":"m.text"},"ts":1182352320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"supposes he just has to do fewer tests at a time","msgtype":"m.emote"},"ts":1182352380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wow, sites rely on self-references","msgtype":"m.text"},"ts":1182352500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I suppose the aforementioned change affects whitespace handling","msgtype":"m.text"},"ts":1182352501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the change also affects handling of </body><meta> for instance","msgtype":"m.text"},"ts":1182353040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not sure this was a good change","msgtype":"m.text"},"ts":1182353100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mailed the list","msgtype":"m.text"},"ts":1182353220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"changing how </p> works breaks quite a lot of tests","msgtype":"m.text"},"ts":1182353520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I left that change out for now","msgtype":"m.text"},"ts":1182354060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Aha, it works (about half the time, randomly) in Safari if I add a button which deletes all the iframes for completed tests and then recreates the iframes for tests that haven't loaded yet, and if I then change the text size up and down so it redraws the screen properly","msgtype":"m.text"},"ts":1182354180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"...which is a totally horrible hack, but then I already need another hack to replace <iframe> with <object> so that it stops being invisible in Safari","msgtype":"m.text"},"ts":1182354181000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(though it only does that after it's finished loading the iframes, because it looks like onload doesn't run on objects)","msgtype":"m.text"},"ts":1182354240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"why do you recreate the iframes?","msgtype":"m.text"},"ts":1182354241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just set frame.location ...","msgtype":"m.text"},"ts":1182354242000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That doesn't appear to work (is location only set after it's decided it's acceptable to load that iframe?), but it looks like setAttribute('src', getAttribute('src')) does it, so that's a bit nicer","msgtype":"m.text"},"ts":1182354480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"should probably just split the test-report-generating page into several pages of ~100 tests, and do something cleverer on the server side to merge all the results","msgtype":"m.emote"},"ts":1182354540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"rubys, aren't < and > conforming in XML attribute values?","msgtype":"m.text"},"ts":1182356100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wonders how the hell XMLHttpRequest.responseBody works","msgtype":"m.emote"},"ts":1182356460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"here's something to play with: http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21doctype%20html%3Exxx%0D%0A%3Cscript%3E%0D%0A%20var%20r%20%3D%20new%20XMLHttpRequest%28%29%3B%0D%0A%20r.open%28%22GET%22%2C%20%22image%22%2C%20false%29%3B%0D%0A%20r.send%28%29%0D%0A%20var%20z%20%3D%20r.responseBody%3B%0D%0A%20for%20%28x%20in%20z%29%7B%0D%0A%20%20%20w%28z%5Bx%5D%29%0D%0A%20%7D%0D%0A%3C/script%3E","msgtype":"m.text"},"ts":1182356640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no, neither are conforming. [^<&>] is the definition, IIRC","msgtype":"m.text"},"ts":1182356700000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"data:text/html,<test test=\"<>\">x</test>","msgtype":"m.text"},"ts":1182356760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"actually, > is conforming.","msgtype":"m.text"},"ts":1182356761000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"please explain the lack of well-formedness error","msgtype":"m.text"},"ts":1182356762000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oops","msgtype":"m.text"},"ts":1182356763000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you're right","msgtype":"m.text"},"ts":1182356764000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"[10]    AttValue    ::=    '\"' ([^<&\"] | Reference)* '\"'","msgtype":"m.text"},"ts":1182356765000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"< isn't","msgtype":"m.text"},"ts":1182356766000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(or with single quotes)","msgtype":"m.text"},"ts":1182356767000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"testcase should've been data:text/xml,<test test=\"<>\">x</test>","msgtype":"m.text"},"ts":1182356768000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"they could easily allow < there...","msgtype":"m.text"},"ts":1182356820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but this is XML!","msgtype":"m.text"},"ts":1182356821000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"maybe due to it being a subset of SGML?","msgtype":"m.text"},"ts":1182356822000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"couldn't care less","msgtype":"m.text"},"ts":1182356880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is it <option selected> or <option selected=\"selected\">?","msgtype":"m.text"},"ts":1182356881000,"senderName":"mitsuhiko","senderId":"mitsuhiko@irc"},
{"content":{"body":"either","msgtype":"m.text"},"ts":1182356882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"awesome","msgtype":"m.text"},"ts":1182356883000,"senderName":"mitsuhiko","senderId":"mitsuhiko@irc"},
{"content":{"body":"or <option selected=\"\">","msgtype":"m.text"},"ts":1182356884000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: is there a preferred way?","msgtype":"m.text"},"ts":1182356885000,"senderName":"mitsuhiko","senderId":"mitsuhiko@irc"},
{"content":{"body":"not really","msgtype":"m.text"},"ts":1182356940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"isn't the value irrelevant, from the UA conformance POV?","msgtype":"m.text"},"ts":1182356941000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1182356942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"from an authoring point of view it isn't though","msgtype":"m.text"},"ts":1182356943000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it's either the empty string or the attribute name","msgtype":"m.text"},"ts":1182356944000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"where is that defined in the spec (as the form elements currently reference WF2 which references HTML4) or is it not yet?","msgtype":"m.text"},"ts":1182357060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it's defined for things like contenteditable","msgtype":"m.text"},"ts":1182357061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Web Forms 2 is yet to be integrated","msgtype":"m.text"},"ts":1182357062000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so it's really undefined as of writing in that case","msgtype":"m.text"},"ts":1182357120000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"the writing section defines those type of attributes","msgtype":"m.text"},"ts":1182357121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the concept boolean attribute is defined by the HTML5 spec","msgtype":"m.text"},"ts":1182357180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it doesn't appear to be defined what happens with a bool attribute when it exists but isn't either an empty string or the attribute's name","msgtype":"m.text"},"ts":1182357240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it is","msgtype":"m.text"},"ts":1182357241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: in XML, > is legal in attribute values, but < is not","msgtype":"m.text"},"ts":1182357242000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"annevk: where?","msgtype":"m.text"},"ts":1182357300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"\"The presence of a boolean attribute on an element represents the true value, and the absence of the attribute represents the false value.\"","msgtype":"m.text"},"ts":1182357301000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: duh. of course the next section doesn't apply.","msgtype":"m.text"},"ts":1182357302000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"s/section/paragraph","msgtype":"m.text"},"ts":1182357303000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"that applies just to authors, yes","msgtype":"m.text"},"ts":1182357360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm… you seem to be able to get the SGML handbook second-hand in good condition for less than a third of the cost of the ISO spec","msgtype":"m.text"},"ts":1182357720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: you there?","msgtype":"m.text"},"ts":1182360480000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"hey, some told me this : ","msgtype":"m.text"},"ts":1182366360000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"irefox implements the canvas element which is","msgtype":"m.text"},"ts":1182366361000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"actually able to catch part of the screen as bitmap and display it to","msgtype":"m.text"},"ts":1182366362000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"the user. It is also able to convert the bitmap to base64. ","msgtype":"m.text"},"ts":1182366363000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"*firefox","msgtype":"m.text"},"ts":1182366364000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"is this true?","msgtype":"m.text"},"ts":1182366365000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"about the canvas element?","msgtype":"m.text"},"ts":1182366366000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Safari, Opera and Firefox all implement canvas","msgtype":"m.text"},"ts":1182366480000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"yes ...","msgtype":"m.text"},"ts":1182366540000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I know that ...","msgtype":"m.text"},"ts":1182366541000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I am saying can Canvas do that ...","msgtype":"m.text"},"ts":1182366542000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"(save a part of page as bitmap and then save it as base64)","msgtype":"m.text"},"ts":1182366543000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"You mean basically print-screen the page and then work with that?","msgtype":"m.text"},"ts":1182366600000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1182366601000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"kinda","msgtype":"m.text"},"ts":1182366602000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Firefox has a non-standard extension which lets privileged content (like extensions) draw HTML elements into the canvas","msgtype":"m.text"},"ts":1182366603000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"where?","msgtype":"m.text"},"ts":1182366660000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"(which I believe is used by e.g. the tab preview extension)","msgtype":"m.text"},"ts":1182366661000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah, a lot of people who prorivide screenshot services use that feature","msgtype":"m.text"},"ts":1182366662000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"so can I do it through HTML + JS ?","msgtype":"m.text"},"ts":1182366663000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"or will it always require an extension?","msgtype":"m.text"},"ts":1182366720000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"and can it convert it to base64","msgtype":"m.text"},"ts":1182366721000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I can't see any documentation, but it looks like it's ctx.drawWindow(htmlelement, x, y, w, h, backgroundcolour)","msgtype":"m.text"},"ts":1182366780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but you'll always get a security exception if you try doing that from normal web content","msgtype":"m.text"},"ts":1182366781000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but if user adds the domain to trusted ... do you still get that ?","msgtype":"m.text"},"ts":1182366840000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"That still won't let it run; though I think it's possible to make web content ask the user for universal read privileges, in which case it would be allowed","msgtype":"m.text"},"ts":1182366900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(though you probably have to be a trusted site before even being able to ask for permission)","msgtype":"m.text"},"ts":1182366901000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and you have to ask for permission every time you want to use drawWindow)","msgtype":"m.text"},"ts":1182366960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ohh ","msgtype":"m.text"},"ts":1182366961000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"stupid mozilla server has klined me :(","msgtype":"m.text"},"ts":1182366962000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"netscape.security.PrivilegeManager.enablePrivilege('UniversalBrowserRead');","msgtype":"m.text"},"ts":1182366963000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"...should give the right privileges, I think","msgtype":"m.text"},"ts":1182367020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Once you've drawn stuff to the canvas, http://www.whatwg.org/specs/web-apps/current-work/multipage/section-the-canvas.html#todataurl lets you save it as a bitmap (as a base64-encoded PNG image in a data: URI)","msgtype":"m.text"},"ts":1182367140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hmm let me try it out then ....","msgtype":"m.text"},"ts":1182367200000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"wonders if people have already complained about Gecko adding non-standard functions to the '2d' context, instead of making a 'moz-2d'","msgtype":"m.emote"},"ts":1182367201000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(...and adding non-standard arguments to the toDataURL function)","msgtype":"m.text"},"ts":1182367320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: what is the ctx in the ctx.drawwindow ?","msgtype":"m.text"},"ts":1182367380000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"ctx = canvas.getContext('2d')","msgtype":"m.text"},"ts":1182367381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"where canvas is a <canvas> element","msgtype":"m.text"},"ts":1182367382000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(...which should be big enough to fit whatever you want to draw into it)","msgtype":"m.text"},"ts":1182367440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and the html element is lets say div ? or is it canvas again?","msgtype":"m.text"},"ts":1182367441000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"(You can do 'canvas = document.createElement('canvas'); canvas.width = 123; canvas.height = 456' if you want a canvas element without actually having one in the HTML document)","msgtype":"m.text"},"ts":1182367500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The htmlelement in the first argument to drawWindow can be any HTML element at all","msgtype":"m.text"},"ts":1182367560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"or at least I assume it can be - I've never actually tried this myself :-)","msgtype":"m.text"},"ts":1182367561000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://weblogs.mozillazine.org/roc/archives/2005/05/rendering_web_p.html has an example using drawWindow, and it looks like the interface hasn't changed since then","msgtype":"m.text"},"ts":1182367620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://pastebin.ca/579563","msgtype":"m.text"},"ts":1182368160000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"us that ok?","msgtype":"m.text"},"ts":1182368161000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"how do I get the png file ?","msgtype":"m.text"},"ts":1182368162000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"duryodhan: Hmm, looks like I was wrong about it accepting any HTML element - it has to be a window object","msgtype":"m.text"},"ts":1182369240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://canvex.lazyilluminati.com/misc/drawwindow.html (when run from local disk so it's more-trusted) seems to work for me","msgtype":"m.text"},"ts":1182369300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"It draws the whole page window into the canvas, and then uses toDataURL to get an address which can be used in <img src> or could be parsed to get the actual PNG data","msgtype":"m.text"},"ts":1182369301000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: ohh ok ","msgtype":"m.text"},"ts":1182369600000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"it works for me too...","msgtype":"m.text"},"ts":1182369601000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"but then the problem is still there ...","msgtype":"m.text"},"ts":1182369602000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I don't think an actual page can do this cos it requires that page be on local disk","msgtype":"m.text"},"ts":1182369660000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"btw,","msgtype":"m.text"},"ts":1182369661000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"it is showing it to me twice ...","msgtype":"m.text"},"ts":1182369662000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Is there some way to mark pages as trusted in FF? That ought to make it work the same as files on disk, I think, though I can't work out where you find that option","msgtype":"m.text"},"ts":1182369720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"It should be showing the original text once, and then the rendered version in the <canvas>, and then the toDataURLd version in the <img> just to the right","msgtype":"m.text"},"ts":1182369780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yes ","msgtype":"m.text"},"ts":1182369781000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"thats right","msgtype":"m.text"},"ts":1182369782000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"maybe you have to make the html+script signed , package them as jar files with signtool and then access them...","msgtype":"m.text"},"ts":1182370140000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"http://www.mozilla.org/projects/security/components/signed-scripts.html","msgtype":"m.text"},"ts":1182370141000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"search for using signtool in that","msgtype":"m.text"},"ts":1182370142000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Hmm, sounds painful","msgtype":"m.text"},"ts":1182370143000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1182370144000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"for the devel ","msgtype":"m.text"},"ts":1182370200000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"not for the client ","msgtype":"m.text"},"ts":1182370201000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Sounds like it might be easier just to write an extension, particularly since that could avoid asking the user for permission every time","msgtype":"m.text"},"ts":1182370202000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"an extension that does what ?","msgtype":"m.text"},"ts":1182370260000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"takes a snap when told and saves it","msgtype":"m.text"},"ts":1182370261000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"suppose I want to submit the base64 to the server (of the canvas)","msgtype":"m.text"},"ts":1182370262000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"in a form ...","msgtype":"m.text"},"ts":1182370263000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"An extension that does whatever you're trying to do that Firefox normally objects to","msgtype":"m.text"},"ts":1182370500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"You should be able to just call toDataURL and put the resulting string in a form field and submit that, though you'll probably have to strip off the \"data:image/png;base64,\" before trying to decode it into a real PNG","msgtype":"m.text"},"ts":1182370560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(It's not guaranteed to be base64, but I don't know of any implementation that doesn't do that, and you can't do drawWindow in a vaguely cross-browser way anyway)","msgtype":"m.text"},"ts":1182370561000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"seems like ie stops appending characters to the string when getting innerHTML after it has dealt with the children of a plaintext element","msgtype":"m.text"},"ts":1182370800000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmm, wc","msgtype":"m.text"},"ts":1182370801000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: Can you file a bug on me about the character encoding change? I am really swamped with stuff at the moment so I'm missing out on all the html5lib fun :(","msgtype":"m.text"},"ts":1182373080000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"i really have no idea how to describe the rules for CDATA and RCDATA","msgtype":"m.text"},"ts":1182373860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"for authors","msgtype":"m.text"},"ts":1182373861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: delegate to tutorial volunteers perhaps to see what they come up with?","msgtype":"m.text"},"ts":1182374460000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"while i am sure that what they would come up with would be quite helpful to authors, i don't think it would be airtight","msgtype":"m.text"},"ts":1182374940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah.","msgtype":"m.text"},"ts":1182375000000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it seems that few people appreciate the airtight restatement in prose :-(","msgtype":"m.text"},"ts":1182375001000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wonders how to test (and report results for) optional features, like gradient rendering, where there are different requirements if the feature is not supported, but there's no way to really tell whether the UA is actually trying to support the feature (but buggily) or intentionally and consistently choosing to not support it","msgtype":"m.emote"},"ts":1182375060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: the target audience of the syntax section is basically me -- or rather, spec lawyers in years to come. i don't want them to have to prove their case about whether something is conforming or not by walking the parsing algorithm","msgtype":"m.text"},"ts":1182375061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I understand. I'd expect those who markp calls \"assholes\" to prefer airtight prose over walking the algorithm","msgtype":"m.text"},"ts":1182375180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1182375300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: perhaps define them in terms of a sequence of subparts like \"escaped run\", \"unescaped text\", \"entity\"","msgtype":"m.text"},"ts":1182375301000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that's basically the target audience","msgtype":"m.text"},"ts":1182375302000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, i think i'll basically have to do that","msgtype":"m.text"},"ts":1182375360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"though not with the word \"entity\"!","msgtype":"m.text"},"ts":1182375361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well entity reference","msgtype":"m.text"},"ts":1182375362000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"for RCDATA","msgtype":"m.text"},"ts":1182375363000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oh right","msgtype":"m.text"},"ts":1182375420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1182375421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.bernzilla.com/item.php?id=875","msgtype":"m.text"},"ts":1182382680000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oops","msgtype":"m.text"},"ts":1182382800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"replies to a mail without noticing it was sent to a mailing list","msgtype":"m.emote"},"ts":1182382801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"whistles innocently and moves on to the next mail","msgtype":"m.emote"},"ts":1182382802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: hey, finally someone who agrees with me!","msgtype":"m.text"},"ts":1182382860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yeah :)","msgtype":"m.text"},"ts":1182382861000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"actually, i feel \"dirty\" too, i just think that it's not really harmful and authors changing their documents to insert div tags around images to conform to html5 are wasting their time","msgtype":"m.text"},"ts":1182382980000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i was talking to citoyen yesterday about this","msgtype":"m.text"},"ts":1182382981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the only reason we have <div> is to allow custom widgets to be made","msgtype":"m.text"},"ts":1182382982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i can't work out how to make it hard to abuse it","msgtype":"m.text"},"ts":1182383040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you make it hard to abuse div, people will abuse something else... :)","msgtype":"m.text"},"ts":1182383220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(like table)","msgtype":"m.text"},"ts":1182383221000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"<table>, <br>, and <div> are the main ones i'm worried about being abused","msgtype":"m.text"},"ts":1182383280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<table> is being dealt with by education","msgtype":"m.text"},"ts":1182383281000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"moderately successfully, even","msgtype":"m.text"},"ts":1182383340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<br> is a tough one. i don't know how to not use <br> in a forum that accepts bbcode. people want to be able to make one, two, three, many line-breaks. fwiw, they also aren't going to mark up headings in any other manner than pressing the BOLD button and hitting enter","msgtype":"m.text"},"ts":1182383460000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(well, i guess a heading bbcode tag could be introduced -- that was an aside)","msgtype":"m.text"},"ts":1182383520000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the contents of forum postings are equivalent to wysiwyg editor output","msgtype":"m.text"},"ts":1182383580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1182383581000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i don't know how to handle those either","msgtype":"m.text"},"ts":1182383582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's not trivial","msgtype":"m.text"},"ts":1182383583000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the <meta generator> idea didn't go down well","msgtype":"m.text"},"ts":1182383584000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1182383585000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"about div and what it means... perhaps when it contains block-level content, it means nothing, and when it contains inline-level content, it means a thematic group","msgtype":"m.text"},"ts":1182383760000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or it always means a thematic group","msgtype":"m.text"},"ts":1182383820000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"isn't that what <section> is?","msgtype":"m.text"},"ts":1182383821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"section affects the document outline, div doesn't","msgtype":"m.text"},"ts":1182383822000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i suppose i could buy your block vs inline semantics definition","msgtype":"m.text"},"ts":1182383880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but when it contains blocks, it really means nothing, imho","msgtype":"m.text"},"ts":1182383940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that, btw, is why i didn't want it containing inlines in the first place","msgtype":"m.text"},"ts":1182383941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1182383942000,"senderName":"zcorpan","senderId":"zcorpan@irc"}
]