[
{"content":{"body":"Domenic: (/me puts foot in mouth) Did you try the PDF? :)","msgtype":"m.text"},"ts":1602036144000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"the single page version actually renders quite quickly in Firefox these days. I'm impressed.","msgtype":"m.text"},"ts":1602036226000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I usually know the section I'm looking for, so multipage is way way better for me 90%+ of the time","msgtype":"m.text"},"ts":1602049318000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(most of the time it's just Ctrl-F for \"X ele\" and then root around near there)","msgtype":"m.text"},"ts":1602049345000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"twitter poll could be useful","msgtype":"m.text"},"ts":1602055303000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I only ever use the single page version, because of ctrl-f. But that doesn't mean the default can't change.","msgtype":"m.text"},"ts":1602070259000,"senderName":"PiersW","senderId":"PiersW@irc"},
{"content":{"body":"https://twitter.com/annevk/status/1313805658588938240","msgtype":"m.text"},"ts":1602070662000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tune in tomorrow for the results","msgtype":"m.text"},"ts":1602070683000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wanted to include \"Cover-to-cover, multiple times, then backwards at least once, and finally by picking random sections from the contents list and following all the cross-references.\" but it went over the character limit","msgtype":"m.text"},"ts":1602070783000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I hacked together a version of the single-page HTML spec that uses content-visibility to defer layout https://html-spec-with-c-v.glitch.me/","msgtype":"m.text"},"ts":1602071050000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"In Chrome, it takes the initial layout time from 50s down to 400ms","msgtype":"m.text"},"ts":1602071066000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I saw that tweet, what kind of changes would be required?","msgtype":"m.text"},"ts":1602071166000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: wrap sections of the spec in an element (probably all h2 sections and h3 sections?), then give them `content-visibility: auto; contain-intrinsic-size: 1px 5000px;` - ideally the 5000px should be a rough height of the element, which is used before layout is done properly. I guess you might use a different number for the h2 sections vs h3.","msgtype":"m.text"},"ts":1602071345000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I don't know if it's ready to go yet. I'm finding issues with in-page links sometimes not working. But I'm filing bugs as I find them.","msgtype":"m.text"},"ts":1602071372000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Hmm, wouldn't that be a function of font size?","msgtype":"m.text"},"ts":1602071389000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And page width yeah, but it really doesn't matter if it's wildly wrong","msgtype":"m.text"},"ts":1602071429000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Anyway, sounds interesting and I believe Domenic has been thinking about using more structural elements","msgtype":"m.text"},"ts":1602071433000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The more wrong the value is, the more the scrollbar will jump when layout is computed properly","msgtype":"m.text"},"ts":1602071456000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"But meh, scrollbars are jumpy on native mobile for the same reasons","msgtype":"m.text"},"ts":1602071483000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I see, that sounds rather janky","msgtype":"m.text"},"ts":1602071486000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But interactive sooner is nice of course","msgtype":"m.text"},"ts":1602071538000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's a tradeoff yeah. If you wanted accurate values I guess a build system could generate them for various widths? But I don't think it's a big deal vs the gains","msgtype":"m.text"},"ts":1602071551000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Scrolling remains smooth etc etc","msgtype":"m.text"},"ts":1602071569000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: what if you gave it a calc()?","msgtype":"m.text"},"ts":1602071610000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"vw * some em size","msgtype":"m.text"},"ts":1602071630000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Might still go wrong depending on unusual constructs, so hmm","msgtype":"m.text"},"ts":1602071680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah that might give you more accurate values. Although you're either having to calculate that at build time, or come up with a generic value for all sections, which will still be massively out for some sections","msgtype":"m.text"},"ts":1602071688000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Since some sections of the spec are short, some are massive","msgtype":"m.text"},"ts":1602071700000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"But… the scrollbar jumps around in the HTML spec already as it's loading. This is just doing it later","msgtype":"m.text"},"ts":1602071740000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: I have no trace of your latest update to 5953.","msgtype":"m.text"},"ts":1602079733000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: I'm not sure what's up.","msgtype":"m.text"},"ts":1602079745000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"The scrollbar was pretty unusable in the c-v version for me... Like, I couldn't scroll down.","msgtype":"m.text"},"ts":1602079769000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: I have a hunch, though. Can you try deleting the log dump from the PR body?","msgtype":"m.text"},"ts":1602079827000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: it seems rather large, and I found an unattributed \"Error: request entity too large\" in the logs","msgtype":"m.text"},"ts":1602079862000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: looking","msgtype":"m.text"},"ts":1602079899000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tobie: I elided the log and left everything else","msgtype":"m.text"},"ts":1602080004000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: OK, saw the error again here.","msgtype":"m.text"},"ts":1602080031000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: so you're clearly triggering that error","msgtype":"m.text"},"ts":1602080045000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: so that's something on your end or can GitHub not deal?","msgtype":"m.text"},"ts":1602080195000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no, no, that's the pr-preview app itself (well the underlying Express framework, really).","msgtype":"m.text"},"ts":1602080233000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: Thanks for helping identify the problem.","msgtype":"m.text"},"ts":1602080244000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: now I have no idea what the solution is. :)","msgtype":"m.text"},"ts":1602080258000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: will research.","msgtype":"m.text"},"ts":1602080263000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"thanks!","msgtype":"m.text"},"ts":1602080269000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm somewhat surprised we didn't hit this before, maybe we generate somewhat longer logs these days","msgtype":"m.text"},"ts":1602080307000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it doesn't seem to be related to the log, really.","msgtype":"m.text"},"ts":1602080352000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: can you run it one last time?","msgtype":"m.text"},"ts":1602080363000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: you got it","msgtype":"m.text"},"ts":1602080584000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: right so that is just the payload size is an issue.","msgtype":"m.text"},"ts":1602080653000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: ok, so it's not solved for now.","msgtype":"m.text"},"ts":1602080734000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: what payload though? The size of OP?","msgtype":"m.text"},"ts":1602080752000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1602080757000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1602080759000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: does it also include all the revisions?","msgtype":"m.text"},"ts":1602080763000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And how does that explain it not triggering again upon new commits?","msgtype":"m.text"},"ts":1602080783000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no, it includes the update and the prior version.","msgtype":"m.text"},"ts":1602080790000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: so you had to run it twice to get rid of the log.","msgtype":"m.text"},"ts":1602080805000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: increased the limit from  100kb to 5mb.","msgtype":"m.text"},"ts":1602081680000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: this should do the trick","msgtype":"m.text"},"ts":1602081693000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: lmk if you still have the issue.","msgtype":"m.text"},"ts":1602081711000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: was that also the problem for IDL though?","msgtype":"m.text"},"ts":1602081791000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tobie: I updated OP of https://github.com/whatwg/html/pull/5953 again to see if PR Preview does a thing now","msgtype":"m.text"},"ts":1602081834000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: biab","msgtype":"m.text"},"ts":1602081896000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: seems it’s still stuck","msgtype":"m.text"},"ts":1602087761000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I managed to include a typo in a 12 character change.","msgtype":"m.text"},"ts":1602089211000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"Should be fixed now.","msgtype":"m.text"},"ts":1602089225000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"(No comment and apologies.)","msgtype":"m.text"},"ts":1602089239000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"ta, trying once more","msgtype":"m.text"},"ts":1602089974000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tobie: I guess it seems to work, but it doesn't build for some reason","msgtype":"m.text"},"ts":1602091522000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tobie: that might be a different problem though","msgtype":"m.text"},"ts":1602091550000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, old PRs need rebasing","msgtype":"m.text"},"ts":1602091956000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"ah good","msgtype":"m.text"},"ts":1602091985000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thoughts on merging https://github.com/whatwg/html/pull/5889 , or waiting for further review?","msgtype":"m.text"},"ts":1602099759000,"senderName":"Domenic","senderId":"Domenic@irc"}
]