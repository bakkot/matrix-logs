[
{"content":{"body":"\"I have an insane, complex use case, and you'd laugh at me if I told you what it was, but trust me when I say I need an immediate mode drawing API like <canvas> instead of a retained scene graph like SVG.\"","msgtype":"m.text"},"ts":1379920842000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"lucky for them such a thing exists","msgtype":"m.text"},"ts":1379920872000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"annevk: if a document's encoding is the replacement encoding, what should document.characterSet return when \"replacement\" isn't one of the encoding's labels?","msgtype":"m.text"},"ts":1379938340000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Ms2ger: 74s","msgtype":"m.text"},"ts":1379942833000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1379942894000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"For the review","msgtype":"m.text"},"ts":1379942909000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1379942999000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Next: under 60s :)","msgtype":"m.text"},"ts":1379943005000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Well now you have something to beat ;)","msgtype":"m.text"},"ts":1379943033000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Heh","msgtype":"m.text"},"ts":1379943046000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"reruns his importing script","msgtype":"m.emote"},"ts":1379943053000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"if one doesn't want to get emails about comments https://github.com/hoppipolla-critic-bot makes, does it work to block that user?","msgtype":"m.text"},"ts":1379944810000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Perhaps?","msgtype":"m.text"},"ts":1379944870000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"In the future it could potentially send more useful comments","msgtype":"m.text"},"ts":1379944882000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Like it could be an easy way to do merges directly from critic","msgtype":"m.text"},"ts":1379944911000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"apparently art wants to pretend that critic doesn't exist","msgtype":"m.text"},"ts":1379944932000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"or at least doesn't want to use it and doesn't want to get emails about it","msgtype":"m.text"},"ts":1379944961000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Well it's not clear if he is in principle opposed to all mail it sends or just that mail in particular","msgtype":"m.text"},"ts":1379945051000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I guess it's hard to tell at the moment since that's the only mail it sends","msgtype":"m.text"},"ts":1379945066000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Or, rather, that it causes GH to send","msgtype":"m.text"},"ts":1379945081000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hsivonen: you return the name of the encoding, so \"replacement\"","msgtype":"m.text"},"ts":1379945129000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"See the whole threat on public-fx [1].\"","msgtype":"m.text"},"ts":1379947318000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i wonder if public-fx is a list i should subscribe ot","msgtype":"m.text"},"ts":1379948014000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the only thread this month i care about is cross-posted to www-style, so i guess no","msgtype":"m.text"},"ts":1379948068000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: i'm subscribed to it, but every few days i just do \"select all recipient fx delete expunge\", so...","msgtype":"m.text"},"ts":1379948833000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"zcorpan_: you should I think (I'm not)","msgtype":"m.text"},"ts":1379948976000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan_: object model for CSS and SVG should be somewhat coordinated and similar","msgtype":"m.text"},"ts":1379948998000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1379949007000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"At some point I thought the latter should be mostly obsoleted by the former... Not sure how true that is these days","msgtype":"m.text"},"ts":1379949058000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"*poof*","msgtype":"m.emote"},"ts":1379949105000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"annevk: but if the label \"replacement\" appears in, say Content-Type, it's unknown and doesn't map to \"replacement\"?","msgtype":"m.text"},"ts":1379949716000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: correct","msgtype":"m.text"},"ts":1379949724000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: :-( I wonder if your APIs are prepared to deal with this kind of thing","msgtype":"m.text"},"ts":1379949748000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'll try to implement this and will report back","msgtype":"m.text"},"ts":1379949764000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: it's kind of an odd exception, would you prefer an explicit label?","msgtype":"m.text"},"ts":1379949765000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: I had the feeling we didn't really want to expose replacement more than required","msgtype":"m.text"},"ts":1379949784000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"possibly. I'll have to try how annoying the current state of the spec is","msgtype":"m.text"},"ts":1379949789000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"per spec architecture it makes perfect sense, but I can imagine it might be annoying elsewhere yeah","msgtype":"m.text"},"ts":1379949820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"A new css-ruby draft? Hear, hear","msgtype":"m.text"},"ts":1379951106000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"is it finally simplified or does it still try to cover all the potential use cases?","msgtype":"m.text"},"ts":1379951335000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1379953500000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"This conference is pretty interesting. I didn't know that people put <iframe> inside <iframe> to circumvent people relying on window.onload before initializing a bunch of stuff (in the context of third party widgets).","msgtype":"m.text"},"ts":1379953610000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Maybe there should be something like \"I don't care about body's load event\"","msgtype":"m.text"},"ts":1379953695000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Or people should just generally not use it for larger setups...","msgtype":"m.text"},"ts":1379953715000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Cookieless requests came up again too...","msgtype":"m.text"},"ts":1379955025000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: why does document.write() not throw for async scripts?","msgtype":"m.text"},"ts":1379956368000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: it's apparently annoying","msgtype":"m.text"},"ts":1379956379000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk left","msgtype":"m.text"},"ts":1379957390000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Seems like an odd thing to be annoyed about","msgtype":"m.text"},"ts":1379957400000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But didn't implementations lead here? Also I guess the script probably doesn't know that it's async at the moment","msgtype":"m.text"},"ts":1379957452000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"document.write() from createElement()ed scripts didn't throw before async=\"\"","msgtype":"m.text"},"ts":1379959737000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"cookieless requests seem great, wouldn't they let you do cors-less cross-domain stuff?","msgtype":"m.text"},"ts":1379960158000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"No, cookies aren't the only source of ambient authority.","msgtype":"m.text"},"ts":1379960308000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":":( what else is there","msgtype":"m.text"},"ts":1379960359000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Being on a given network, for example.","msgtype":"m.text"},"ts":1379960407000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"ugggh","msgtype":"m.text"},"ts":1379960421000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Yeah, the web's design sucks. :/","msgtype":"m.text"},"ts":1379960439000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"it's just so silly to have to set up a proxy endpoint on one's server to do any cross-domain requests","msgtype":"m.text"},"ts":1379960441000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Agreed, but security is hard, and the web screwed it up super-bad early enough that we can only patch it now, not actually fix it.","msgtype":"m.text"},"ts":1379960640000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Domenic_: opting out of HTTP authentication and something TLS user certificates would pave the way to that","msgtype":"m.text"},"ts":1379961052000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic_: I think we should have the ability to do those kinds of things same-origin, but requires more work figuring out the right hooks and getting implementations aligned with the new architecture","msgtype":"m.text"},"ts":1379961101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: +1, building fetch from the ground-up by layering cookies etc. on top of a raw HTTP request seems sensible. But in terms of actual use cases my most prominent is cross-origin.","msgtype":"m.text"},"ts":1379961152000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"You mean tainted cross-origin?","msgtype":"m.text"},"ts":1379961197000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no i mean just letting me see the damn data :P","msgtype":"m.text"},"ts":1379961212000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"in the same way i would see it if i set up a server-side proxy and went through that","msgtype":"m.text"},"ts":1379961224000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"You won't get cross-origin requests without CORS.","msgtype":"m.text"},"ts":1379961230000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Except for tainted, but then you can't see the data (apart from height/width in case of images).","msgtype":"m.text"},"ts":1379961271000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, I guess that's what TabAtkins was explaining to me. Sad times.","msgtype":"m.text"},"ts":1379961272000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Proxying through your server wipes out all the ambient auth, which is why it's kosher.  It's ugly, but it's not actually a hack - it has the desired security characterics.","msgtype":"m.text"},"ts":1379961275000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Well, we should never have given the illusion from the start that intranets are protected. If security was thought through, it could've been the same...","msgtype":"m.text"},"ts":1379961322000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's IP-based intranet security that's biting us here...","msgtype":"m.text"},"ts":1379961341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yup.","msgtype":"m.text"},"ts":1379961362000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"'evening, annevk","msgtype":"m.text"},"ts":1379968602000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"yt?","msgtype":"m.text"},"ts":1379968607000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"hallvors: good afternoon","msgtype":"m.text"},"ts":1379968614000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"still somewhat confused about those serialize doc/encoding issues","msgtype":"m.text"},"ts":1379968661000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"but seeing that the spec is sort of undecided too, it's not entirely my fault :)","msgtype":"m.text"},"ts":1379968692000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1379968797000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: any \"current\" thoughts on this? (If the rest of you would like context it's https://github.com/w3c/web-platform-tests/pull/343#issuecomment-24906702 onwards)","msgtype":"m.text"},"ts":1379968831000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"hallvors: Chrome doesn't support sending documents at all?","msgtype":"m.text"},"ts":1379968882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hallvors: do you get [object Document] or some such at least?","msgtype":"m.text"},"ts":1379968893000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nope","msgtype":"m.text"},"ts":1379968899000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"it sends \"Content-length: 0\" , no content-type, no content","msgtype":"m.text"},"ts":1379968915000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"hallvors: if we can get away with serializing and then encoding to utf-8 bytes that'd be preferred","msgtype":"m.text"},"ts":1379968921000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hallvors: is that the same for HTML and XML documents?","msgtype":"m.text"},"ts":1379968932000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"hallvors: seems like we can if Chrome doesn't even support stuff","msgtype":"m.text"},"ts":1379968933000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"OK - that's what my rewritten test currently asserts ;-)","msgtype":"m.text"},"ts":1379968944000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"not entirely surprised, people get documents but rarely send them, and then likely as strings","msgtype":"m.emote"},"ts":1379968966000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"We could of course also make the test accept either behaviour as legal (with some real checks that the encoding label matches the on-the-wire bytes)","msgtype":"m.text"},"ts":1379968992000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"does not approve of that","msgtype":"m.emote"},"ts":1379969031000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"utters a Darth Vader noooo in silence","msgtype":"m.emote"},"ts":1379969049000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(BTW Ms2ger - since you're around - consider the issues you raised about the exceptions tests fixed ;-))","msgtype":"m.text"},"ts":1379969067000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"tries to remember","msgtype":"m.emote"},"ts":1379969104000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"The one about the ByteString","msgtype":"m.text"},"ts":1379969109000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(And I'm glad you don't approve of that although it means more work for Gecko devs if you vote it down :-))","msgtype":"m.text"},"ts":1379969112000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"And what was the other?","msgtype":"m.text"},"ts":1379969118000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Some TypeError -","msgtype":"m.text"},"ts":1379969121000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"tests are apparently slightly out of sync with spec :-/","msgtype":"m.text"},"ts":1379969132000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"Oh, the Blob","msgtype":"m.text"},"ts":1379969135000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"oh yes, that one too","msgtype":"m.text"},"ts":1379969142000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"No problem, thanks for filing the bugs","msgtype":"m.text"},"ts":1379969148000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"will fix :)","msgtype":"m.text"},"ts":1379969153000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"(sort of hoping all the errors are Anne's fault :-p)","msgtype":"m.text"},"ts":1379969182000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"nah, sorry Anne ;-)","msgtype":"m.text"},"ts":1379969208000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"has been dealing with twelve days of backlog :)","msgtype":"m.emote"},"ts":1379969230000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hallvors, and just as a general comment, I find small, focused PRs easier to deal with than \"fix all the bugs\" ones","msgtype":"m.text"},"ts":1379969329000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(Not saying that I would be reviewing the smaller ones ;))","msgtype":"m.text"},"ts":1379969348000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"OK, I might consider that..","msgtype":"m.text"},"ts":1379969371000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"It's a bit hard to find nice ways to slice those assorted bugs into PRs..","msgtype":"m.text"},"ts":1379969535000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"hallvors: hah, I'm sure they are","msgtype":"m.text"},"ts":1379970323000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hallvors: I wrote those tests long ago, on the couch in richt's old apartment in Oslo","msgtype":"m.text"},"ts":1379970349000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hallvors: no doubt things have changed","msgtype":"m.text"},"ts":1379970359000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that plus remanent substances embedded in the couch","msgtype":"m.text"},"ts":1379970376000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"will forever blame Rich's couch","msgtype":"m.emote"},"ts":1379970385000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"annevk; Ms2ger: http://xhr.spec.whatwg.org/#interface-formdata doesn't say that formdata.append() should throw any exceptions?","msgtype":"m.text"},"ts":1379970748000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"hallvors: IDL-level exceptions?","msgtype":"m.text"},"ts":1379970762000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1379970765000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"You can't convert a string to a Blob","msgtype":"m.text"},"ts":1379970773000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1379970780000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"sweet kittens, the web makes no sense","msgtype":"m.text"},"ts":1379970831000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Woah, you only just realised?","msgtype":"m.text"},"ts":1379970846000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It merely reflects humanity. Humans don't make much sense either.","msgtype":"m.text"},"ts":1379970879000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"is worried that Hixie_ has been asleep at the wheel","msgtype":"m.emote"},"ts":1379970883000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1379970886000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hallvors: Now you sound like karl","msgtype":"m.text"},"ts":1379970897000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"i'm trying to figure out something about history.back()","msgtype":"m.text"},"ts":1379970909000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"jgraham, if it'd been in the form of a haiku...","msgtype":"m.text"},"ts":1379970923000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"this API is on window.history","msgtype":"m.text"},"ts":1379970928000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"so you'd think it would affect window","msgtype":"m.text"},"ts":1379970934000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"but no!","msgtype":"m.text"},"ts":1379970936000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"My new goal in life is to out-Karl Karl some day :)","msgtype":"m.text"},"ts":1379970942000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"it can affect some random other window, if it feels like it","msgtype":"m.text"},"ts":1379970947000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"sub-frames that were navigated?","msgtype":"m.text"},"ts":1379970967000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"or parent frames","msgtype":"m.text"},"ts":1379970973000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"or sibling frames","msgtype":"m.text"},"ts":1379970977000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Well yeah, it changes the position in the global session history","msgtype":"m.text"},"ts":1379970982000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"or cousin frames","msgtype":"m.text"},"ts":1379970982000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"that makes precisely no sense.","msgtype":"m.text"},"ts":1379970990000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"or third cousin frames. or grandparent frames.","msgtype":"m.text"},"ts":1379971014000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"The global session history makes no sense?","msgtype":"m.text"},"ts":1379971032000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"the many joys of designing functionality in world where nested framesets are all the rage","msgtype":"m.text"},"ts":1379971076000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"i go back to: the web makes no sense.","msgtype":"m.text"},"ts":1379971077000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: many things you can access through the global are not limited to it","msgtype":"m.text"},"ts":1379971095000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Well the global session history is no fun to implement at least","msgtype":"m.text"},"ts":1379971098000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie_.back()","msgtype":"m.text"},"ts":1379971101000,"senderName":"hallvors","senderId":"hallvors@irc"},
{"content":{"body":"Oh, you did document.open/document.write during load. Pretend the load didn't happen\"","msgtype":"m.text"},"ts":1379971155000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(iirc)","msgtype":"m.text"},"ts":1379971194000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hmmmm","msgtype":"m.text"},"ts":1379971364000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"history.back() provides an interesting difficulty in situations where several browsing contexts with the same top-level browsing context have different event loops","msgtype":"m.text"},"ts":1379971412000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"good point","msgtype":"m.text"},"ts":1379971465000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also UX vs API","msgtype":"m.text"},"ts":1379971472000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"as in UX innovation is made harder because we expose an API to control the functionality","msgtype":"m.text"},"ts":1379971496000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"although I suppose the back button doesn't have to be implemented in terms of the API (would make the API less useful)","msgtype":"m.text"},"ts":1379971520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what do you think are the odds that one of the htmlwg editors would fix this bug if i filed it on the htmlwg","msgtype":"m.text"},"ts":1379971561000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Ahahahahaha","msgtype":"m.text"},"ts":1379971570000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"it _should_ be a 5.0 blocker, since it's implemented functionality","msgtype":"m.text"},"ts":1379971572000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Ahem","msgtype":"m.text"},"ts":1379971575000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"right darobin?","msgtype":"m.text"},"ts":1379971581000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1379971587000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I dunno, do you just want it fixed or do you want it fixed right?","msgtype":"m.text"},"ts":1379971604000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"fixed right","msgtype":"m.text"},"ts":1379971610000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"that said, I don't know of any rule that would make it a 5.0 blocker","msgtype":"m.text"},"ts":1379971626000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"but then again there seems to have been process rules invented just for you","msgtype":"m.text"},"ts":1379971642000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"well you couldn't exit CR unless it was interoperably implemented, unless the w3c's ignoring its process again","msgtype":"m.text"},"ts":1379971651000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"or using one of its many \"oh we don't really mean it\" clauses","msgtype":"m.text"},"ts":1379971663000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"which is why I doubt it would make its way into there","msgtype":"m.text"},"ts":1379971666000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"No, no","msgtype":"m.text"},"ts":1379971681000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Browsers work","msgtype":"m.text"},"ts":1379971685000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hence, the spec is correct and interoperably implemented","msgtype":"m.text"},"ts":1379971698000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Thus we can go to rec","msgtype":"m.text"},"ts":1379971706000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"right! so it's fine :) we have, what's it called? \"demonstrated interoperability\"","msgtype":"m.text"},"ts":1379971708000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"oh right, i forgot, we proved the spec was right","msgtype":"m.text"},"ts":1379971710000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"has his process work done by Ms2ger, usually works out well","msgtype":"m.emote"},"ts":1379971722000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"sigh","msgtype":"m.text"},"ts":1379971753000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"W3C shipping \"good enough\" makes sense given the patent policy","msgtype":"m.text"},"ts":1379971793000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well yeah","msgtype":"m.text"},"ts":1379971808000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"yeah, we wouldn't want to have the patent protection cover what's actually implemented","msgtype":"m.text"},"ts":1379971810000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"It's kinda useless for all other things though and for \"good enough\" there's way too much politics","msgtype":"m.text"},"ts":1379971814000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it's good to have patent protection cover what's reasonably well defined","msgtype":"m.text"},"ts":1379971863000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Hixie_: it'd be better sure, but with limited time something has got to give","msgtype":"m.text"},"ts":1379971885000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well if anyone has a patent on how history.back() works, the spec won't cover it","msgtype":"m.text"},"ts":1379971890000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: and with infinite time you don't get protection","msgtype":"m.text"},"ts":1379971895000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: if there was limited time, we could have gone to REC five years ago","msgtype":"m.text"},"ts":1379971907000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: right, but you'd get the other features covered","msgtype":"m.text"},"ts":1379971913000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"long ago proposed going to REC every year","msgtype":"m.emote"},"ts":1379971918000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: agreed","msgtype":"m.text"},"ts":1379971919000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so clearly that's not it either","msgtype":"m.text"},"ts":1379971925000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"anyway","msgtype":"m.text"},"ts":1379971926000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: if someone has a patent that accurately describes how history.back() works, they deserve the money","msgtype":"m.text"},"ts":1379971932000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"anyone got an idea on this history.back() thing?","msgtype":"m.text"},"ts":1379971940000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: smaug____ does","msgtype":"m.text"},"ts":1379971950000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and jgraham I suppose","msgtype":"m.text"},"ts":1379971954000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"given that presto and gecko both just have one event loop...","msgtype":"m.text"},"ts":1379971969000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"wants to go to Rec every year, not sure why people hesitate about it","msgtype":"m.emote"},"ts":1379971977000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"yes, didn't jgraham promise to write a spec about session history :)","msgtype":"m.text"},"ts":1379971981000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Hixie_, it's quite simple, people still want to make it seem like the process is followed","msgtype":"m.text"},"ts":1379972017000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hixie_, that may be silly, but that's how it works","msgtype":"m.text"},"ts":1379972028000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"w3c sucks, news at 11. about this event loop problem...","msgtype":"m.text"},"ts":1379972039000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"do we need some sort of cross-event-loop synchronisation primitive?","msgtype":"m.text"},"ts":1379972062000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"that would suck the big one","msgtype":"m.text"},"ts":1379972065000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Or define a single event loop? :)","msgtype":"m.text"},"ts":1379972108000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"that wouldn't be compatible with per-origin process isolation","msgtype":"m.text"},"ts":1379972120000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: I recommend asking abarth","msgtype":"m.text"},"ts":1379972271000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie_: per http://www.chromium.org/developers/design-documents/oop-iframes they will track history globally","msgtype":"m.text"},"ts":1379972391000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie_: see \"Navigation\"","msgtype":"m.text"},"ts":1379972409000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"We will also change the representation of a tab's session history to more closely match the HTML5 spec\"","msgtype":"m.text"},"ts":1379972608000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":":-o","msgtype":"m.text"},"ts":1379972611000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"ok so basically they're planning on having a master event loop","msgtype":"m.text"},"ts":1379972630000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"just for navigation","msgtype":"m.text"},"ts":1379972640000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"that's interesting","msgtype":"m.text"},"ts":1379972643000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"makes sense","msgtype":"m.text"},"ts":1379972646000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bbiab","msgtype":"m.text"},"ts":1379972702000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_, annevk: happy to answer questions","msgtype":"m.text"},"ts":1379973678000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"any parser folks around? i'm fairly certain that the \"spin-the-event-loop\" step in http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#parsing-main-incdata isn't actually implemented","msgtype":"m.text"},"ts":1379973681000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"abarth: seems the whitepaper answered them :)","msgtype":"m.text"},"ts":1379973695000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1379973700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"great :)","msgtype":"m.text"},"ts":1379973703000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"but it seems a bit tricky to test","msgtype":"m.text"},"ts":1379973705000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"if i understand correctly, to test this i'd need to insert a </script> into the document with a pending stylesheet and with a current script nesting level of zero","msgtype":"m.text"},"ts":1379973753000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"<link href=test rel=stylesheet><script> ... </script>","msgtype":"m.text"},"ts":1379973804000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jamesr__: it might be implemented in a different way, e.g. by only pausing once you hit .offsetWidth or some such","msgtype":"m.text"},"ts":1379973824000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(unless I'm not following this particular requirement at all)","msgtype":"m.text"},"ts":1379973853000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well that example wouldn't be observably different","msgtype":"m.text"},"ts":1379973858000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"if you did setTimeout(foo); doc.write(\"</scr\"+\"ipt>\"); bar(); with a pending stylesheet load, the spec appears to be saying that foo() could execute before bar()","msgtype":"m.text"},"ts":1379973933000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"so long as the script was running at nesting level zero","msgtype":"m.text"},"ts":1379974009000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"http://news.netcraft.com/archives/2013/09/23/certificate-authorities-struggle-to-comply-with-baseline-requirements.html - the web is indeed a mess.","msgtype":"m.text"},"ts":1379977405000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"jamesr__: looking...","msgtype":"m.text"},"ts":1379977408000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"jamesr__: it has to be implemented, because if you don't spin the event loop there, the style sheet can never load, since the networking tasks that load the style sheet are also queued on the event loop :-)","msgtype":"m.text"},"ts":1379977456000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"jamesr__: it might be that certain task sources are blocked, though (the same way the tokeniser is blocked in that case)","msgtype":"m.text"},"ts":1379977590000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: /Something/ needs to replace CAs. Badly.","msgtype":"m.text"},"ts":1379978204000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"d'oh, finally made a test case with a server component to delay the end of DOMContentLoaded and it just crashes chrome","msgtype":"m.text"},"ts":1379978209000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"Hixie_: what do you mean \"the sheet can never load\"? won't it load after executing the script?","msgtype":"m.text"},"ts":1379978243000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"the script is blocked on the style sheet loading","msgtype":"m.text"},"ts":1379978260000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"executing the script, or parsing the </script> ?","msgtype":"m.text"},"ts":1379978281000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"you're talking about \"An end tag whose tag name is \"script\"\", \"if there is a pending parsing-blocking script\", script nesting level is zero, step 3, right?","msgtype":"m.text"},"ts":1379978352000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"there's a script that is waiting to run, but it's blocked on a style sheet being loaded. the parser blocks, waiting for the style sheet to load; once it's loaded, the parser continues, which executes the script.","msgtype":"m.text"},"ts":1379978394000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"right, with you so far","msgtype":"m.text"},"ts":1379978427000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"so what's the question?","msgtype":"m.text"},"ts":1379978440000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"but that algorithm could be running due to document.write(), correct?","msgtype":"m.text"},"ts":1379978448000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"not re-entrantly, or the script nesting level wouldn't be zero, but sure, document.write() could be involved somewhere, i guess","msgtype":"m.text"},"ts":1379978481000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"probably would have to be, actually","msgtype":"m.text"},"ts":1379978494000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"i don't know how else you get a pending parsing-blocking script","msgtype":"m.text"},"ts":1379978511000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"in my test case i'm executing document.write() from a img onload","msgtype":"m.text"},"ts":1379978514000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"sorry, onerror","msgtype":"m.text"},"ts":1379978520000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"(not that it matters)","msgtype":"m.text"},"ts":1379978524000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"you wouldn't be in the parser then","msgtype":"m.text"},"ts":1379978551000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"so none of this would apply","msgtype":"m.text"},"ts":1379978553000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"what do you mean \"you wouldn't be in the parser\"?","msgtype":"m.text"},"ts":1379978563000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"you wouldn't have a pending parsing-blocking script","msgtype":"m.text"},"ts":1379978614000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"(i will have to disappear for 30 minutes or so in about 3 minutes)","msgtype":"m.text"},"ts":1379978624000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"hmm, but i have a <link rel=stylesheet ...> pending load and i'm doc.writing() a <script> tag in","msgtype":"m.text"},"ts":1379978649000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"to test this iirc you need something like <script>document.write('<link ...><script src=...><\\/script>');</script>","msgtype":"m.text"},"ts":1379978672000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"ah, but the parser-inserted bit won't be set?","msgtype":"m.text"},"ts":1379978689000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"gotta go","msgtype":"m.text"},"ts":1379978693000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bbiab","msgtype":"m.text"},"ts":1379978694000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"sorry","msgtype":"m.text"},"ts":1379978694000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1379978697000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"Can the various event loops in theory run in parallel?","msgtype":"m.text"},"ts":1379978745000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: not sure what you mean. tasks have to be run serially","msgtype":"m.text"},"ts":1379978763000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"Well, there are three (four?) event loops in the HTML spec.","msgtype":"m.text"},"ts":1379978780000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh, I'm mixing up event loops with their task queues. nvm.","msgtype":"m.text"},"ts":1379978890000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"there are many task queues but only one event loop AFAIK. you can't run tasks in parallel","msgtype":"m.text"},"ts":1379978915000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"Yeah, indeed.","msgtype":"m.text"},"ts":1379978922000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"although some are re-entrant or have asynchronous sections that you can run in parallel","msgtype":"m.text"},"ts":1379978926000,"senderName":"jamesr__","senderId":"jamesr__@irc"}
]