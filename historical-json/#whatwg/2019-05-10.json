[
{"content":{"body":"Domenic: would you think https://github.com/whatwg/html/issues/4356 is somehow related to the Focus meta-bug stuff ðŸ‘€?","msgtype":"m.text"},"ts":1557456481000,"senderName":"cybai","senderId":"cybai@irc"},
{"content":{"body":"cybai: I guess so, in that it'll be more obvious why browsers differ and are allowed to differ. It won't solve the interop problem though, unless miraculously all browsers decide to have the same focus model independent of OSes","msgtype":"m.text"},"ts":1557456545000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yeah! thanks! I was confused what a focusable area while I filed that issue. Happy to see that meta-bug :D About the interop problem, I see; it would be great if all browsers decide to have same focus model independent of OSes ðŸ˜‚","msgtype":"m.text"},"ts":1557456904000,"senderName":"cybai","senderId":"cybai@irc"},
{"content":{"body":"Anyone know if CSS images have a default referrer policy of no-referrer? Trying to see if this test is asserting correct behavior: https://cs.chromium.org/chromium/src/third_party/blink/web_tests/http/tests/security/resources/referrer-policy-conflicting-policies.html","msgtype":"m.text"},"ts":1557458938000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: they donâ€™t","msgtype":"m.text"},"ts":1557464776000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: but that seems to be testing something else","msgtype":"m.text"},"ts":1557464863000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It seems that the document's referrer policy will be the empty string since it is unset, and https://www.w3.org/TR/referrer-policy/#referrer-policy-empty-string (the example) I think indicates that it should be treated as no-referrer-when-downgrade.","msgtype":"m.text"},"ts":1557464950000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"I guess I don't see why the request should have no referrer at all, hmm","msgtype":"m.text"},"ts":1557464963000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: the meta sets it to origin, but the fetch is cross-origin","msgtype":"m.text"},"ts":1557466082000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: Iâ€™m assuming the second bit btw","msgtype":"m.text"},"ts":1557466098000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: that the meta has taken effect assumes something about delivery of the document I think","msgtype":"m.text"},"ts":1557466174000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Ok, I was assuming it hasn't taken effect at the time of image fetching, as per \"Checks that an CSS image that was created before a referrer policy was set\". I am not sure if the fetch is x-origin","msgtype":"m.text"},"ts":1557466229000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: oh hmm, perhaps localhost is special?","msgtype":"m.text"},"ts":1557466500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Ah, I found https://cs.chromium.org/chromium/src/third_party/blink/web_tests/http/tests/security/referrer-policy-conflicting-policies.html?g=0&l=5, which I guess explains things","msgtype":"m.text"},"ts":1557466517000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: anyway, the default is not no-referrer","msgtype":"m.text"},"ts":1557466526000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess the page is loaded via https, but the image request is made to an insecure origin, and therefore no-referrer-when-downgrade kicks in and results in no-referrer","msgtype":"m.text"},"ts":1557466582000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"So it is cross-origin","msgtype":"m.text"},"ts":1557466712000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Itâ€™s weird to me the meta can take no effect, CSS is parsed sync, but this means fetches also have to be prepared sync; maybe one day CSS will define thatâ€¦","msgtype":"m.text"},"ts":1557466781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes, but I think the value of, or even inclusion of the meta tag is irrelevant. i think what is being exercised is the \"downgrade\" part, where no referrer is included in requests from secure => non-secure","msgtype":"m.text"},"ts":1557466786000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1557466830000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"annevk: so do you think it is _defined_ that the documentâ€™s RP at the time of fetching the CSS image there is the default empty string, since meta hasnâ€™t â€œtaken effectâ€ yet?","msgtype":"m.text"},"ts":1557470161000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: time of fetching or creating the request for the fetch is not defined","msgtype":"m.text"},"ts":1557470292000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Wow Iâ€™m surprised even creating the request is not defined","msgtype":"m.text"},"ts":1557470363000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"That seems..not great lol","msgtype":"m.text"},"ts":1557470377000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"CSSâ€™s interaction with non-CSS is shaky","msgtype":"m.text"},"ts":1557470414000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1557470874000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Domenic: I'm a little surprised https://github.com/whatwg/html/pull/4603 got landed as we still have the Streams/IDL issues, or will someone file follow-ups?","msgtype":"m.text"},"ts":1557471479000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"FYI: https://github.com/whatwg/sg/issues/90","msgtype":"m.text"},"ts":1557475623000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"const portal = document.createElement('portal');","msgtype":"m.text"},"ts":1557485690000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"portal.src = url;","msgtype":"m.text"},"ts":1557485690000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"portal.activate();","msgtype":"m.text"},"ts":1557485691000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"^ post this, if I need to navigate back to the parent page, what should I do?","msgtype":"m.text"},"ts":1557485691000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"(might be a very silly question, but not able to find it in the explainer)","msgtype":"m.text"},"ts":1557485769000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"I believe what you want is adoptPredecessor, defined on the portalactivate event. That returns a portal containing the website you came from.","msgtype":"m.text"},"ts":1557485848000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: neat, let me give it a shot, portalHost also would be useful?","msgtype":"m.text"},"ts":1557486201000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"howdoi: Are you asking so you can communicate with it? I assume portalHost would become undefined on the context that's been activated, and become defined on the context you are coming from.","msgtype":"m.text"},"ts":1557486311000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: yes, first up trying to figure out the navigate back. (too much of a grey area)","msgtype":"m.emote"},"ts":1557486370000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"You'd want to listen to the portalactivate event, and when it fires, call adoptPredecessor on the event and store the returned element. When you're ready, you could then call activate on the element you're storing somewhere to go back. I'm not sure if you need to actually embed the portal for it to stay loaded.","msgtype":"m.text"},"ts":1557486680000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"What I am trying to do is a SPA, with multiple portals and seamless navigation between them...","msgtype":"m.text"},"ts":1557486959000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"That's definitely possible, is there something about my explanation that you're struggling to understand? Happy to elaborate.","msgtype":"m.text"},"ts":1557487143000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: thanks a ton, trying it now","msgtype":"m.text"},"ts":1557488702000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Ms2ger I saw that you had PR Preview report an error to you recently. Was it helpful and did it let you fix the issue easily?","msgtype":"m.text"},"ts":1557488930000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"Ms2ger: what can be improved about it?","msgtype":"m.text"},"ts":1557488943000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"I did?","msgtype":"m.text"},"ts":1557488968000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: https://github.com/whatwg/html/pull/4603","msgtype":"m.text"},"ts":1557488988000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"Ms2ger: if you look back at the edits to the OP","msgtype":"m.text"},"ts":1557489035000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"I think that may have been in response to Domenic's edit","msgtype":"m.text"},"ts":1557489111000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: oh! Well, Domenic if you have comments/suggestions, you're welcome.","msgtype":"m.text"},"ts":1557489171000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"oliverdunk: still around?","msgtype":"m.text"},"ts":1557496375000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Indeed :)","msgtype":"m.text"},"ts":1557496383000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"nice, just came across portal.replaceWith()","msgtype":"m.text"},"ts":1557496420000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"That should work, although it's a ChildNode thing, rather than a portal thing: https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/replaceWith","msgtype":"m.text"},"ts":1557496576000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: so here is what I understood:","msgtype":"m.text"},"ts":1557496654000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"0. Say, example.com, has a portal to example.xyz","msgtype":"m.text"},"ts":1557496654000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"1. On click of a button in example.com, we activate the portal.","msgtype":"m.text"},"ts":1557496654000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"2. If example.xyz I shall have portalactivate event and get ref to example.com from adoptPredecessor","msgtype":"m.text"},"ts":1557496654000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"3. Now I can navigate back to example.xyz on need.","msgtype":"m.text"},"ts":1557496654000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Correct me if I am wrong.","msgtype":"m.text"},"ts":1557496654000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Yep, exactly. The only caveat is that I think you need to insert the portal returned by adoptPredecessor into the DOM. I could be wrong, but I believe that if you don't, the portal will be closed.","msgtype":"m.text"},"ts":1557496728000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"it's the same replaceWith, heh heh, forgot that portal is also an HTMLElement","msgtype":"m.emote"},"ts":1557496743000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"okies, trying to make two plain html pages and emulate this use case","msgtype":"m.text"},"ts":1557496807000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"or rather post these two pages on two diff ports and test","msgtype":"m.text"},"ts":1557496855000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"It sounds like what you've got should work, let me know if you have more questions. Off topic: closing a portal sounds really sci-fi and I love it.","msgtype":"m.text"},"ts":1557496930000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: holy goodness, I felt the same about portal closing!","msgtype":"m.text"},"ts":1557497051000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"also, where I can read more about CORS, CSP and other security concerns for portal?","msgtype":"m.text"},"ts":1557497157000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"I believe it's still up for debate, issues like https://github.com/WICG/portals/issues/17 and https://github.com/WICG/portals/issues/22 may be worth a read. The spec has an empty section for this at the moment: https://wicg.github.io/portals/#security-considerations","msgtype":"m.text"},"ts":1557497491000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"hmm, interesting","msgtype":"m.text"},"ts":1557497697000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"window.addEventListener('portalactivate', () => {}) is not getting trigged, but the portal is loading","msgtype":"m.text"},"ts":1557497716000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"annevk: can I get a green check mark on the JSON parse PR? Will rebase and merge if so.","msgtype":"m.text"},"ts":1557497785000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: ah yes, will do that","msgtype":"m.text"},"ts":1557497815000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"howdoi: Looks good to me. You're aware that it only fires after the activate() call?","msgtype":"m.text"},"ts":1557497816000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: yes, but if page-1 is loading it via <portal src=\"domain/page2\"/> is in't like activate?","msgtype":"m.text"},"ts":1557497907000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Nope, at that point all you've got is window.portalHost. activate means when the portal becomes full screen, takes over the address bar etc.","msgtype":"m.text"},"ts":1557497959000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"but I don't see page-1 contents, I just see page-2 the contents when I load page-1 which has the portal element in it","msgtype":"m.text"},"ts":1557498137000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"So you're embedding page2 into page1 as a portal the same size as the viewport?","msgtype":"m.text"},"ts":1557498235000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1557498272000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"So the idea is that page1 is almost like an invisible host that just manages sending you between the pages?","msgtype":"m.text"},"ts":1557498326000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"Finally, I would like to have multiple portals in page1, let me reduce the the viewport and see, I get the point","msgtype":"m.text"},"ts":1557498402000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Rather for now, let me have a button which on click loads the portal, there by invoking activate","msgtype":"m.text"},"ts":1557498514000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Is your goal multiple portals on page1 displayed in a grid? Or multiple full size portals with only one visible at a time?","msgtype":"m.text"},"ts":1557498532000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"Or something else entirely :P","msgtype":"m.text"},"ts":1557498538000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"I was trying to gauge the difference between explicit activate call vs <portal />","msgtype":"m.text"},"ts":1557498552000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"hah hah, grid of portals, that should go fullscreen on user actions","msgtype":"m.text"},"ts":1557498598000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Failed to execute 'activate' on 'HTMLPortalElement': The HTMLPortalElement is not associated with a portal context, what, but why?","msgtype":"m.text"},"ts":1557498892000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Is this going from page2 back to page1? It sounds like you the portal was closed because it wasn't added to the DOM.","msgtype":"m.text"},"ts":1557498927000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"it wasn't added, right!","msgtype":"m.text"},"ts":1557499131000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"now I am seeing an unexpectedly closed the connection.","msgtype":"m.text"},"ts":1557499154000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Where's that?","msgtype":"m.text"},"ts":1557499222000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"localhost:3000 is the main page, localhost:3001 is the portal page; in the main page I have a button on click loads the portal","msgtype":"m.text"},"ts":1557499222000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"howdoi: can you go through where exactly the error appears? Although it sounds like a server error rather than something wrong with your JavaScript.","msgtype":"m.text"},"ts":1557499333000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: both the main page and the portal page loads fine independently, from page one on button click I create a portal element, assign the src to the portal page, append it to the html and invoke activate; but after I click the button it loads a fullpage with an unexpectedly closed the connection.","msgtype":"m.text"},"ts":1557499430000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"duh! my bad, `https` hmm","msgtype":"m.text"},"ts":1557499462000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"https://usercontent.irccloud-cdn.com/file/kjLQUyRp/hmm%2C%20I%20had%20given%20it%20as%20https%3A%2F%2F%20instead%20of%20http%3A%2F%2F","msgtype":"m.text"},"ts":1557499526000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"So, now on click the portal loads fullscreen, but portalactivate event is not getting triggered yet","msgtype":"m.text"},"ts":1557499635000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"also, when the portal loads, devtools close","msgtype":"m.text"},"ts":1557499675000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"I'm seeing the same, that looks like a bug. Not sure why the event isn't called.","msgtype":"m.text"},"ts":1557499862000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"There's definitely a portalactivate event listener registered, and then you call activate()?","msgtype":"m.text"},"ts":1557499989000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: yes, should we report the devtool bug? {I am sure someone else would have}","msgtype":"m.text"},"ts":1557500182000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"I couldn't see anything: https://bugs.chromium.org/p/chromium/issues/list?can=2&q=component%3ABlink%3EHTML%3EPortal+. I decided not to bother, as it'll almost definitely be picked up as they work on DevTools support - no harm in doing so if you want to, though.","msgtype":"m.text"},"ts":1557500251000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"okies, for now focusing on get this thing done","msgtype":"m.text"},"ts":1557500355000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"oliverdunk: the `portalactivate` not triggering could be a bug too?","msgtype":"m.text"},"ts":1557500794000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"let me relaunch canary, I was on 76.0.3789.3","msgtype":"m.text"},"ts":1557500822000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"same","msgtype":"m.text"},"ts":1557500889000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"It seems pretty fundamental to me and I'd be surprised if it wasn't spotted. I'm also not having any trouble on my end. Are you able to share your code?","msgtype":"m.text"},"ts":1557500908000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1557500933000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"oliverdunk: https://gist.github.com/hemanth/ebb6a2e01f10c515162b4af7efd91474 format is screwed","msgtype":"m.text"},"ts":1557501199000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Huh. I guess portalactivate is being called before your event listener was registered.","msgtype":"m.text"},"ts":1557501607000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"Not certain if that's something that should be fixed or not, probably worth making an issue for. In the meantime, you could add a delay - or for a more robust solution, have the second page post a message to the host when it's ready.","msgtype":"m.text"},"ts":1557501791000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"`portalactivate` should be in portal page itself right?","msgtype":"m.text"},"ts":1557502136000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Yep. By issue I meant one on the spec by the way, rather than a chrome bug.","msgtype":"m.text"},"ts":1557502181000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: did we find a bug in spec!?!","msgtype":"m.text"},"ts":1557502621000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Bug is maybe pushing it, but a potential omission! It makes sense that the event is missed - but I can see other people doing what you've done, so perhaps the \"default\" behaviour of the browser should be overridden. Worth saying that I'm not involved in the spec at all - just a fan of portals like you.","msgtype":"m.text"},"ts":1557502728000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"Did you want to open an issue? If not I'm happy to do so.","msgtype":"m.text"},"ts":1557502756000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"oliverdunk: I am :) I just opened one with devtools","msgtype":"m.text"},"ts":1557503083000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"oliverdunk: https://bugs.chromium.org/p/chromium/issues/detail?id=961740 I guess I am missing something trivial, but let us see","msgtype":"m.text"},"ts":1557503321000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"I feel bad, but in looking for your first issue, I stumbled onto https://bugs.chromium.org/p/chromium/issues/detail?id=961142 - didn't think to look under DevTools . If you can you probably want to close yours as a duplicate. For the second it's probably better at https://github.com/WICG/portals/issues. Chrome's implementation is fine, the discussion to be had is about if the spec should have a special case for when the page hasn't","msgtype":"m.text"},"ts":1557503636000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":" loaded yet.","msgtype":"m.text"},"ts":1557503636000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"Domenic: https://github.com/web-platform-tests/wpt/blob/master/html/webappapis/scripting/processing-model-2/unhandled-promise-rejections/support/promise-rejection-events.js#L461 isn't quite right, I think","msgtype":"m.text"},"ts":1557504910000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"postMessage and timers use different task sources, so any ordering between those can't be guaranteed","msgtype":"m.text"},"ts":1557504969000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Yeah, that makes sense. Can we find any DOM manipulation task source replacement for postMessageTask?","msgtype":"m.text"},"ts":1557504998000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"let me try to find and fix the test (first in Gecko wpt)","msgtype":"m.text"},"ts":1557505057000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Thank you!","msgtype":"m.text"},"ts":1557505079000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oliverdunk: I got in touch with the spec authors let us see what they have to say, before we file an issue?","msgtype":"m.text"},"ts":1557505098000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"Sure","msgtype":"m.text"},"ts":1557505149000,"senderName":"oliverdunk","senderId":"oliverdunk@irc"},
{"content":{"body":"A simple DOM manipulation task source task: data:text/html,<script>var d = document.createElement(\"details\"); d.ontoggle = function() { console.log(\"a task\"); }; d.setAttribute(\"open\", \"\");</script>","msgtype":"m.text"},"ts":1557506294000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hacky, but simple","msgtype":"m.text"},"ts":1557506298000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Perfect :)","msgtype":"m.text"},"ts":1557508269000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://w3c.github.io/ServiceWorker/#cache-addAll Under the process the response substeps -- specifically the bit about Vary --I'm guessing that \"If fieldValue matches '*'\" means, match the literal string '*\"? So addAll wont' cache anything that has \"Vary: *\"? (but it will cache for other, non-wildcard values of Vary?)","msgtype":"m.text"},"ts":1557510733000,"senderName":"eeeps","senderId":"eeeps@irc"},
{"content":{"body":"[nvm], confirmed that it's screening out `Vary: *`, which apparently people use, as a form of cache control??","msgtype":"m.text"},"ts":1557517329000,"senderName":"eeeps","senderId":"eeeps@irc"}
]