[
{"content":{"body":"It's so frustrating GitHub only allows you to report a single user within a short period of time","msgtype":"m.text"},"ts":1601283884000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Especially considering I'm logged in and have a track record of reporting actual spammers","msgtype":"m.text"},"ts":1601283917000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And usually they're pretty good about feedback but I reported this issue twice and they're just like shrug","msgtype":"m.text"},"ts":1601283941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I didn’t know they had such a limit","msgtype":"m.text"},"ts":1601286500000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I guess I’ve never reported multiple problems in close succession","msgtype":"m.text"},"ts":1601286541000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I often hit it in the morning as when dealing with GitHub notifications I try to deal with spam first","msgtype":"m.text"},"ts":1601286548000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah yeah","msgtype":"m.text"},"ts":1601286553000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"their entire reporting system opaque, unnecessarily","msgtype":"m.text"},"ts":1601286633000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"You do make me wonder if this is a timezone problem where the spam doesn't pile up in other timezones as much so it's not perceived as a problem","msgtype":"m.text"},"ts":1601286670000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I have created another ticket, maybe three times works","msgtype":"m.text"},"ts":1601287107000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh cool, for support requests there's now a ticket center where you can keep track of things online","msgtype":"m.text"},"ts":1601287155000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Though I cannot view my spam reports there","msgtype":"m.text"},"ts":1601287164000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: I haven't pinged plinss explicitly anywhere because it seems most of csswg.org is down, e.g., https://drafts.csswg.org/css-inline/","msgtype":"m.text"},"ts":1601303728000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Fun","msgtype":"m.text"},"ts":1601303737000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"So I would expect this to be known","msgtype":"m.text"},"ts":1601303744000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: now I'm also doubting \"and public-suffix roots need to be considered same-site to their subdomains.\"","msgtype":"m.text"},"ts":1601305473000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: annevk.github.io is not same site with github.io, right?","msgtype":"m.text"},"ts":1601305485000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: it might be that only your statement there was wrong as it seems the same site check does account for it","msgtype":"m.text"},"ts":1601305560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: but let's note that in the parenthesis fix commit message","msgtype":"m.text"},"ts":1601305585000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Sounds good","msgtype":"m.text"},"ts":1601305593000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I thought they would be considered same-site, hmm","msgtype":"m.text"},"ts":1601305598000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But yeah I guess that would be bad","msgtype":"m.text"},"ts":1601305613000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Will walk myself back through the algorithms after this meeting","msgtype":"m.text"},"ts":1601305629000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"👍🏻","msgtype":"m.text"},"ts":1601305909000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: OK, that all makes sense. But as a related non-blocking question, I'm wondering why we define registrable domain at all? Instead of defining eTLD+1? Then we could say that site is always (scheme, eTLD+1) instead of branching on nullness of registrable domain.","msgtype":"m.text"},"ts":1601306270000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: so how do you obtain eTLD+1 from a host?","msgtype":"m.text"},"ts":1601306593000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: a modification of the https://url.spec.whatwg.org/#host-registrable-domain algorithm to return the host instead of null.","msgtype":"m.text"},"ts":1601306624000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: it seems that would make github.io same site with annevk.github.io","msgtype":"m.text"},"ts":1601306641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm OK maybe what I am suggesting is not in fact an eTLD+1","msgtype":"m.text"},"ts":1601306676000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Is there a name for a thing where it's https://url.spec.whatwg.org/#host-registrable-domain but with step 1 returning host instead of null?","msgtype":"m.text"},"ts":1601306701000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think Gecko might call that effective domain","msgtype":"m.text"},"ts":1601306722000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1601306726000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm maybe not","msgtype":"m.text"},"ts":1601306787000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: I can't really find anything obvious, mostly it seems to be dealt with through fallback. I do wonder if implementations are truly consistent about all this though","msgtype":"m.text"},"ts":1601307388000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm hmm","msgtype":"m.text"},"ts":1601307402000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: it does seem like you need something like registrable domain; or you would need a separate type essentially","msgtype":"m.text"},"ts":1601307439000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"When is it useful for it to be null?","msgtype":"m.text"},"ts":1601307451000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: for the same site check","msgtype":"m.text"},"ts":1601307460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think same site could just become \"is siteA[1] === siteB[1]\"","msgtype":"m.text"},"ts":1601307480000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Where site[1] is this new thing","msgtype":"m.text"},"ts":1601307492000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Well, if you look at how schemelessly same site is defined, I don't see how that's possible without it either being a distinct type somehow or having registrable domain","msgtype":"m.text"},"ts":1601307529000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If we're talking about no functional changes","msgtype":"m.text"},"ts":1601307541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"No functional changes indeed","msgtype":"m.text"},"ts":1601307560000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Basically, what's the definition of === as it cannot really be identity I think","msgtype":"m.text"},"ts":1601307588000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://gist.github.com/domenic/49d7d2ec209bfae109ce6ec52148dffc is what I'm thinking","msgtype":"m.text"},"ts":1601307694000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: sure, but what's equals?","msgtype":"m.text"},"ts":1601307731000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The same thing it is currently>","msgtype":"m.text"},"ts":1601307744000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"If site[1] is a host, it's host-equals","msgtype":"m.text"},"ts":1601307765000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"If site[1] is a registrable-domain-or-host, it's host-equals for hosts, string-equals for registrable domain","msgtype":"m.text"},"ts":1601307786000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Okay, so you'd have an explicit registrable domain type","msgtype":"m.text"},"ts":1601307812000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Currently it's just another domain","msgtype":"m.text"},"ts":1601307821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"No you'd use string","msgtype":"m.text"},"ts":1601307837000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But how would you tell it's the registrable domain and not a domain?","msgtype":"m.text"},"ts":1601307852000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Or not the public suffix, rather","msgtype":"m.text"},"ts":1601307864000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"How would it matter?","msgtype":"m.text"},"ts":1601307866000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"You already computed that in \"obtain a site\"","msgtype":"m.text"},"ts":1601307874000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Now you just have a string-or-IP-address","msgtype":"m.text"},"ts":1601307879000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"or opaque host","msgtype":"m.text"},"ts":1601307884000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"or empty host","msgtype":"m.text"},"ts":1601307888000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah, but we obtain the registrable domain from it","msgtype":"m.text"},"ts":1601307896000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh wait those are both strings","msgtype":"m.text"},"ts":1601307897000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But you don't need to","msgtype":"m.text"},"ts":1601307905000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"By the time you're in \"same site\" you just have a string-or-IP address","msgtype":"m.text"},"ts":1601307913000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"You can compare those using normal ===","msgtype":"m.text"},"ts":1601307917000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Oh that might be true, yes, hmm","msgtype":"m.text"},"ts":1601307956000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll raise an editorial PR for changing same-site and schemeless-same-site for discussion. That's separate from potentially changing the definition of registrable domain/obtain a site, I guess.","msgtype":"m.text"},"ts":1601308132000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: there's also the question of what we'd want to expose to APIs, if ever","msgtype":"m.text"},"ts":1601308181000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: for an API you might want to have registrable domain, but on the other hand maybe you don't to enforce consistency","msgtype":"m.text"},"ts":1601308203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, I dunno, the API discussion seems rather theoretical to me","msgtype":"m.text"},"ts":1601308261000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: it keeps coming up as we expose this in more and more places","msgtype":"m.text"},"ts":1601308320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: it seems we call this \"base domain\" in Firefox (frontend code at least; getBaseDomainFromHost)","msgtype":"m.text"},"ts":1601308339000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"When I looked on Friday Chrome's code was not very good at mapping to the spec","msgtype":"m.text"},"ts":1601308373000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: but that's implemented on top of registrable domain","msgtype":"m.text"},"ts":1601308388000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(which is called eTLD+1 for reasons)","msgtype":"m.text"},"ts":1601308420000,"senderName":"annevk","senderId":"annevk@irc"}
]