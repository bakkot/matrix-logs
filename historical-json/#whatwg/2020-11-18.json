[
{"content":{"body":"andreubotella: it seems that only Chrome does newline normalization","msgtype":"m.text"},"ts":1605698139000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: The send-file-form-controls.tentative.html tests are passing on webkit on Linux, so webkit is doing newline normalization when building the multipart/form-data payload, not when constructing the entry list.","msgtype":"m.text"},"ts":1605698226000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: okay, I do recall the spec having newline normalization for some form stuff","msgtype":"m.text"},"ts":1605698308000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://html.spec.whatwg.org/#append-an-entry","msgtype":"m.text"},"ts":1605698321000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: yeah, just found that, perhaps Infra should define Windows-normalize newlines","msgtype":"m.text"},"ts":1605698529000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I also wonder if there's no coverage for that already","msgtype":"m.text"},"ts":1605698628000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I skimmed the tests, and there didn't seem to be anything, but maybe I missed something","msgtype":"m.text"},"ts":1605698648000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"Yeah, not seeing anything either","msgtype":"m.text"},"ts":1605698733000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not sure exactly when FormData was introduced, but webkit's behavior is making me thing about how new features can make what was previously a web-inobservable detail web-observable","msgtype":"m.text"},"ts":1605700442000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: yeah, we/I didn't do enough due diligence back then; I think I also didn't realize all the implications when adding fetch() support for it","msgtype":"m.text"},"ts":1605700537000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's pretty old, https://www.w3.org/TR/2010/WD-XMLHttpRequest2-20100907/#the-formdata-interface is the earliest draft I could find","msgtype":"m.text"},"ts":1605700710000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And unfortunately I think we lost history twice, once when migrating from CVS and once when migrating from Mercurial","msgtype":"m.text"},"ts":1605700768000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hopefully these comments I just added clarify the escapes","msgtype":"m.text"},"ts":1605702627000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: do you plan to file bugs for the non-tentative tests?","msgtype":"m.text"},"ts":1605703676000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: and do you need me to land the PR? Any preferred commit message, the original one?","msgtype":"m.text"},"ts":1605703689000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: The original commit message works for me","msgtype":"m.text"},"ts":1605703885000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"and I'll file bugs for the newline normalization","msgtype":"m.text"},"ts":1605703919000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"the rest of failures in non-tentative tests are the safari crash","msgtype":"m.text"},"ts":1605703933000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"annevk: https://bugzilla.mozilla.org/show_bug.cgi?id=1657844","msgtype":"m.text"},"ts":1605712144000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"https://bugs.webkit.org/show_bug.cgi?id=219086","msgtype":"m.text"},"ts":1605712144000,"senderName":"andreubotella","senderId":"andreubotella@irc"}
]