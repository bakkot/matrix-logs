[
{"content":{"body":"JonathanNeal: http://www.html5doctor.com","msgtype":"m.text"},"ts":1347846665000,"senderName":"Benvie","senderId":"Benvie@irc"},
{"content":{"body":"Anyone on mozirc fancy asking jlebar to share his test cases?","msgtype":"m.text"},"ts":1347872957000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(also is it me or is he devaluing the brand of evil.com; using it in examples that are not really sites doing evil-evil things, just somewhat complex / unpleasant)","msgtype":"m.text"},"ts":1347873023000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(althopugh I guess there is actually a security bug in the second example)","msgtype":"m.text"},"ts":1347873137000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(but only because of firefox having a broken implementation)","msgtype":"m.text"},"ts":1347873157000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie: ping","msgtype":"m.text"},"ts":1347875883000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so thus far I thought no browser other than Chrome unescaped","msgtype":"m.text"},"ts":1347884986000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but apparently for certain sequences they do?","msgtype":"m.text"},"ts":1347884992000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"e.g. http://example.com/foo/%2e./%2e%2e/.%2e/%2e.bar","msgtype":"m.text"},"ts":1347884995000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"becomes http://example.com/%2e.bar in Gecko","msgtype":"m.text"},"ts":1347885015000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm only Chrome and Gecko it seems","msgtype":"m.text"},"ts":1347885274000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"given e.g. /test/test","msgtype":"m.text"},"ts":1347889050000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"would you rather have .dirs = [\"test\"] and .filename = \"test\"","msgtype":"m.text"},"ts":1347889067000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or .path = [\"test\", \"test\"]","msgtype":"m.text"},"ts":1347889077000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":" /test/test/ would be .path = [\"test\", \"test\", \"\"]","msgtype":"m.text"},"ts":1347889089000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"could still have filename as returning .path[-1]","msgtype":"m.text"},"ts":1347889103000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the .path thing seems somewhat more elegant","msgtype":"m.text"},"ts":1347889135000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"all of the above","msgtype":"m.text"},"ts":1347889265000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"jgraham: who @Opera might have something to say about Filesystem API ?","msgtype":"m.text"},"ts":1347889932000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"people who post \"list etiquette\" posts to mailing lists i suppose didn't learn the \"don't be condescending\" item of list etiquette","msgtype":"m.text"},"ts":1347890026000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"annevk: usually \"/test/test\" and \"/test/test/\" are equivalent--there are exceptions but having them parse differently would be strange","msgtype":"m.text"},"ts":1347890070000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: they're usually different","msgtype":"m.text"},"ts":1347890101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"e.g. replace test with test.html","msgtype":"m.text"},"ts":1347890111000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i guess if it's for urls and not filename paths (which is what it looked like you meant) you'd want them distinguishable","msgtype":"m.text"},"ts":1347890124000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"hard to do anything \"nice\" when you don't actually know if the last element is a filename or directory element","msgtype":"m.text"},"ts":1347890234000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"i'd lean towards just .path too","msgtype":"m.text"},"ts":1347890289000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"presumably you'd want to distinguish having a path, eg. [\"\"] (http://foo.com/) with not having a path at all (http://foo.com, []); seems like that would also be awkward with .filename (need to allow it to be null or something)","msgtype":"m.text"},"ts":1347890615000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"actually there will always be a slash there","msgtype":"m.text"},"ts":1347890986000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so you don't need that","msgtype":"m.text"},"ts":1347890991000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: are you adding more url decomposition idl attributes?","msgtype":"m.text"},"ts":1347891163000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: maybe","msgtype":"m.text"},"ts":1347891180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: this is mostly the internal API for my parser for now","msgtype":"m.text"},"ts":1347891186000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: to easily implement \".\" and \"..\"  segments","msgtype":"m.text"},"ts":1347891194000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for hierarchical URLs","msgtype":"m.text"},"ts":1347891198000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1347891199000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but some of it might be cool to expose","msgtype":"m.text"},"ts":1347891210000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i don't see much point if we have ability to resolve a url to another","msgtype":"m.text"},"ts":1347891267000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"do popular javascript libraries have stuff in this area?","msgtype":"m.text"},"ts":1347891315000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I was planning to look into that at some point","msgtype":"m.text"},"ts":1347893227000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"abarth did add .filename","msgtype":"m.text"},"ts":1347893251000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://github.com/annevk/url/blob/master/url.js is my code","msgtype":"m.text"},"ts":1347894439000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"note: does not do host/ip mess","msgtype":"m.text"},"ts":1347895012000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"why dont browsers provide api to list all listeners attached to a DOM node?","msgtype":"m.text"},"ts":1347895648000,"senderName":"niloy","senderId":"niloy@irc"},
{"content":{"body":"search public-webapps archives or www-dom","msgtype":"m.text"},"ts":1347895697000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"search on google?","msgtype":"m.text"},"ts":1347895737000,"senderName":"niloy","senderId":"niloy@irc"},
{"content":{"body":"I don't really care where you do it","msgtype":"m.text"},"ts":1347895823000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1347896038000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"my URL parser also does not deal with encoding for query","msgtype":"m.text"},"ts":1347896045000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's kinda hard to support in JavaScript","msgtype":"m.text"},"ts":1347896057000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"without implementing all the encodings that is :)","msgtype":"m.text"},"ts":1347896079000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, jsbell's encoder thing ;)","msgtype":"m.text"},"ts":1347896410000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: yeah indeed, but since this parser is mostly for research purposes I don't really see the point","msgtype":"m.text"},"ts":1347896436000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: but if you want to make it work, be my guest","msgtype":"m.text"},"ts":1347896450000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Heh","msgtype":"m.text"},"ts":1347896464000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"next step is rewriting this JavaScript into English","msgtype":"m.text"},"ts":1347896473000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and then I guess I'll have another look at host/IP","msgtype":"m.text"},"ts":1347896487000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I see being on holiday didn't cheep Ms2ger up any :)","msgtype":"m.text"},"ts":1347896669000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"*cheer","msgtype":"m.text"},"ts":1347896674000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hmm? :)","msgtype":"m.text"},"ts":1347896722000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"public-webapps","msgtype":"m.text"},"ts":1347896748000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Ah, always a cheery place","msgtype":"m.text"},"ts":1347896820000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1347898076000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham, though I don't know how you expected me to be cheery after wading through my email backlog ;)","msgtype":"m.text"},"ts":1347899073000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: that is why holiday isn't good for health","msgtype":"m.text"},"ts":1347900806000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"reading the emails after holiday sucks all the energy","msgtype":"m.text"},"ts":1347900849000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Should've gone for a sauna instead","msgtype":"m.text"},"ts":1347901040000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"is waiting for sauna to be ready :)","msgtype":"m.emote"},"ts":1347901086000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"just mark email as read :)","msgtype":"m.text"},"ts":1347902903000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rwaldron: thanks, seems I forgot a comma before IDNAToASCII","msgtype":"m.text"},"ts":1347905557000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rwaldron: not too concerned about the global URL object; this is just a research thingie for now","msgtype":"m.text"},"ts":1347905598000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: pong","msgtype":"m.text"},"ts":1347906310000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Dammit I forgot to reply to smaug","msgtype":"m.text"},"ts":1347908785000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie: dealt with it already; wiki account issue","msgtype":"m.text"},"ts":1347912333000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or at least, I hope it is okay this time around","msgtype":"m.text"},"ts":1347912348000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"can anyone think of ways to cause a document to fire more than one unload event?","msgtype":"m.text"},"ts":1347917917000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"other than starting a navigation while running unload","msgtype":"m.text"},"ts":1347917933000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we've already killed running document.open() during unload","msgtype":"m.text"},"ts":1347917949000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"back() eventually fires unload, but it does so on a task so i don't think you can have that one happen after another","msgtype":"m.text"},"ts":1347918155000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok so to block the double unload from navigation i just need to detect if we're going back while navigating, and if so, not do the unload dance","msgtype":"m.text"},"ts":1347918214000,"senderName":"Hixie","senderId":"Hixie@irc"}
]