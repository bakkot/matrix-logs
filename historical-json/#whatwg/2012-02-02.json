[
{"content":{"body":"hm, no abarth","msgtype":"m.text"},"ts":1328144160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aha, he's in #webkit","msgtype":"m.text"},"ts":1328144161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: http://www.whatwg.org/issues/data.html looks borked","msgtype":"m.text"},"ts":1328166960000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1328167020000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Anyone around that understands __proto__ in SM?","msgtype":"m.text"},"ts":1328198400000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Basically, anyone know what Object.prototype.__proto__ does?","msgtype":"m.text"},"ts":1328199000000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'm confused looking over the thread in es-discuss.","msgtype":"m.text"},"ts":1328199060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Mmm","msgtype":"m.text"},"ts":1328201940000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"I wonder why Opera mobile does not allow fingerpress on URL to have a copy URL popup option.","msgtype":"m.text"},"ts":1328201941000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"asmodai: What OS?","msgtype":"m.text"},"ts":1328202720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Android 3","msgtype":"m.text"},"ts":1328202780000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"Only got a Save As and Copy Text option when long pressing an URL leading to an apk (nightly firefox in this case)","msgtype":"m.text"},"ts":1328202781000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"Oh, you mean on a link?","msgtype":"m.text"},"ts":1328202960000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Aye","msgtype":"m.text"},"ts":1328203020000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"Many cases where you might want to drop an URL into an evernote note or something like that","msgtype":"m.text"},"ts":1328203080000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"Argh, Transforms are *so* messed up.","msgtype":"m.text"},"ts":1328204040000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"I suspect largely because nobody ever finished the spec, but everyone implemented anyway.","msgtype":"m.text"},"ts":1328204041000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"Sounds like something to blame Apple for","msgtype":"m.text"},"ts":1328204100000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"TabAtkins_, :)","msgtype":"m.text"},"ts":1328204101000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"TabAtkins_, on the other hand, it might get interesting if you resolved ems for computed value but not percentages . . .","msgtype":"m.text"},"ts":1328204160000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"tries to think of an interesting case","msgtype":"m.emote"},"ts":1328204161000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It's a corner case anyway, since there's no reason for anyone to specify transform: inherit, ever.","msgtype":"m.text"},"ts":1328204162000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"We could probably change it so ems are resolved and no one would notice.","msgtype":"m.text"},"ts":1328204220000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor, I think a well-written css3-box would be really nice, fwiw","msgtype":"m.text"},"ts":1328204460000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"has never looked at css3-box","msgtype":"m.emote"},"ts":1328204520000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Hey, it doesn't have a warning","msgtype":"m.text"},"ts":1328204521000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"TabAtkins?","msgtype":"m.text"},"ts":1328204522000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"w3c reminds me idef more and more","msgtype":"m.text"},"ts":1328204640000,"senderName":"bga","senderId":"bga@irc"},
{"content":{"body":"back","msgtype":"m.text"},"ts":1328204940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jetlagged","msgtype":"m.text"},"ts":1328204941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: Yes?","msgtype":"m.text"},"ts":1328204942000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"Oh, I see.","msgtype":"m.text"},"ts":1328205000000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"Huh, I wonder how that escaped my warning crusade.","msgtype":"m.text"},"ts":1328205001000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"annevk: welcome back!","msgtype":"m.text"},"ts":1328205002000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"inbox >4000","msgtype":"m.text"},"ts":1328205060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, multipage HTML is broken","msgtype":"m.text"},"ts":1328205061000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yeah, I read about that","msgtype":"m.text"},"ts":1328205062000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is foolip away too?","msgtype":"m.text"},"ts":1328205063000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or just didn't have the time","msgtype":"m.text"},"ts":1328205064000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"AryehGregor: Changing it to resolve ems would be great, yes.","msgtype":"m.text"},"ts":1328205480000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"MikeSmith: resolved bugs still don't go to www-dom I think","msgtype":"m.text"},"ts":1328205900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: the timeout given in my email (backed up by Art) has long since passed","msgtype":"m.text"},"ts":1328205901000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: so I think we can go ahead with that now","msgtype":"m.text"},"ts":1328205902000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Velmont: hey, have you ever played with gzip and XHR?","msgtype":"m.text"},"ts":1328206260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Velmont: should work fine no?","msgtype":"m.text"},"ts":1328206320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger or some Mozilla person: do reftests detect differences that aren't painted onto the screen?  Like, they're outside the initial viewport?","msgtype":"m.text"},"ts":1328206321000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Don't think so","msgtype":"m.text"},"ts":1328206322000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I just found a reftest that seems to want to say matrix3d(1,0,0,0, 0,2,0,0, 0,0,3,0, 4,5,6,1) is the same as scale3d(1,2,3) translate3d(4px,5px,6px), which of course it's not, but the transformed div has no background and the text is off-screen, so I guess it's not surprising that it passes anyway.","msgtype":"m.text"},"ts":1328206380000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"\"Responses must have the content-encodings automatically decoded.\"","msgtype":"m.text"},"ts":1328206381000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so that should work fine","msgtype":"m.text"},"ts":1328206382000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":". . . also, I just found a test that's precisely identical to its ref.","msgtype":"m.text"},"ts":1328206560000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"<3","msgtype":"m.text"},"ts":1328206561000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I guess I should file bugs.","msgtype":"m.text"},"ts":1328206562000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Checked for silly things like BOMs?","msgtype":"m.text"},"ts":1328206563000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"diff -u returned nothing.","msgtype":"m.text"},"ts":1328206620000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"A bug it is, then, I guess","msgtype":"m.text"},"ts":1328206621000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"diff -u layout/reftests/transform-3d/overflow-hidden-1{a,-ref}.html","msgtype":"m.text"},"ts":1328206622000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"reports","msgtype":"m.emote"},"ts":1328206623000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Hah","msgtype":"m.text"},"ts":1328206624000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger, if I'm filing a bug that was introduced by another bug, the new bug I file should depend on the old bug, right?  Not block it?","msgtype":"m.text"},"ts":1328208660000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"always gets them confused","msgtype":"m.emote"},"ts":1328208720000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"MikeSmith: wfm now","msgtype":"m.text"},"ts":1328208721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"AryehGregor, block","msgtype":"m.text"},"ts":1328208722000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Okay.","msgtype":"m.text"},"ts":1328208723000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"anyone have IE handy?","msgtype":"m.text"},"ts":1328208900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, yes.","msgtype":"m.text"},"ts":1328208901000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"is using Windows 8 Developer Preview in VirtualBox with IE10","msgtype":"m.emote"},"ts":1328208902000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"No need for licensing fees.","msgtype":"m.text"},"ts":1328208960000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"can you load http://software.hixie.ch/utilities/js/live-dom-viewer/ and hit the download link","msgtype":"m.text"},"ts":1328208961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Then what?","msgtype":"m.text"},"ts":1328208962000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"and then hit set 0, check that option 0 is selected, then hit set 1, check that option 1 is selected, and then hit set null, and see what happens?","msgtype":"m.text"},"ts":1328208963000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"When I hit \"set 0\", option 0 is selected.  Then when I hit \"set 1\", option 1 is selected.  Then when I hit \"set null\", option 0 is selected again.","msgtype":"m.text"},"ts":1328209020000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"In IE10 Developer Preview.","msgtype":"m.text"},"ts":1328209021000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"awesome, thanks","msgtype":"m.text"},"ts":1328209022000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and nothing is selected for set 2, right?","msgtype":"m.text"},"ts":1328209023000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Right.","msgtype":"m.text"},"ts":1328209024000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"ok so the guy reporting this bug was just wrong, cool","msgtype":"m.text"},"ts":1328209025000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1328209026000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's so cool the way these days the specs all line up and actually describe obscure edge cases interoperably","msgtype":"m.text"},"ts":1328209080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Well, the HTML/DOM type of specs, at least . . . CSS not so much, as I'm finding.","msgtype":"m.text"},"ts":1328209140000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":":-(","msgtype":"m.text"},"ts":1328209141000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Dude, you're explicitly dealing with specs that are shitty because they got dropped.","msgtype":"m.text"},"ts":1328209320000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"Stop generalizing, please. >_<","msgtype":"m.text"},"ts":1328209321000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1328209322000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"TabAtkins_, no, I definitely mean all CSS specs.  At least all the ones to do with layout.  Parsing and the cascade seems fine.  But layout is horribly vague.  It needs to be redefined algorithmically using precise hyperlinked definitions.","msgtype":"m.text"},"ts":1328209323000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"We were just talking about how terms like \"the element's box\" are ambiguous in tons of cases.","msgtype":"m.text"},"ts":1328209380000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"oh hey Hixie, until when are you around?","msgtype":"m.text"},"ts":1328209381000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Mm, that's true.","msgtype":"m.text"},"ts":1328209382000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"woot, anne has returned!","msgtype":"m.text"},"ts":1328209383000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: i'm at home with some virus or something","msgtype":"m.text"},"ts":1328209440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: planning on looking into that multipage issue, but food is getting near","msgtype":"m.text"},"ts":1328209441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so on and off depending on when i'm feeling better and when i'm out cold in bed","msgtype":"m.text"},"ts":1328209442000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"A big problem there is that no one has written Box yet, and 2.1 is still overly vague.","msgtype":"m.text"},"ts":1328209443000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"Hixie: oh, good luck with that","msgtype":"m.text"},"ts":1328209444000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i'll be fine","msgtype":"m.text"},"ts":1328209445000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: will take a look a little later (still going through email) and ping you again","msgtype":"m.text"},"ts":1328209446000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"A big problem is that tons of different people are all writing different specs to bolt on features in different places and there's very little thought given to how they interact, because nothing is being done in a unified fashion.","msgtype":"m.text"},"ts":1328209447000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"annevk: cool","msgtype":"m.text"},"ts":1328209448000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: it looks like your end isn't fetching the spec","msgtype":"m.text"},"ts":1328209500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: at least, i don't get any hits for the spec when i ping your end","msgtype":"m.text"},"ts":1328209501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I use svn update","msgtype":"m.text"},"ts":1328209502000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1328209503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm","msgtype":"m.text"},"ts":1328209504000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"might be my fault then","msgtype":"m.text"},"ts":1328209505000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe i'm no longer updating something","msgtype":"m.text"},"ts":1328209506000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let me check","msgtype":"m.text"},"ts":1328209507000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nope, looks like the repo is up to date","msgtype":"m.text"},"ts":1328209560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"both complete.html and index (though tehy're identical now of course)","msgtype":"m.text"},"ts":1328209561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"man, i really need to add a mail filter to send anything matching (to:public-webapps subject:charter) to trash","msgtype":"m.text"},"ts":1328209620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm a week out of date","msgtype":"m.text"},"ts":1328209680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, dreamhost was hacked, had to reset my password","msgtype":"m.text"},"ts":1328209920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"they were hacked jan 21... spec stopped updating jan 24","msgtype":"m.text"},"ts":1328209921000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1328209922000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah i don't think the password change would have any effect","msgtype":"m.text"},"ts":1328210100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and I'm in","msgtype":"m.text"},"ts":1328210340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: fixed","msgtype":"m.text"},"ts":1328210520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what was wrong?","msgtype":"m.text"},"ts":1328210580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: same problem as last time, svn cleanup was required","msgtype":"m.text"},"ts":1328210581000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"weird","msgtype":"m.text"},"ts":1328210582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I put it in the cgi script now","msgtype":"m.text"},"ts":1328210583000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1328210584000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not sure if that'll help","msgtype":"m.text"},"ts":1328210585000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: any idea what's causing svn cleanup to be needed?","msgtype":"m.text"},"ts":1328210700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"svn being locked while checking out maybe? not sure if that's possible, but it complaints about locking","msgtype":"m.text"},"ts":1328210760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"weird","msgtype":"m.text"},"ts":1328210761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"This is actually what *specs* do?","msgtype":"m.text"},"ts":1328211060000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"https://www.w3.org/Bugs/Public/show_bug.cgi?id=12539#c11 is still not fixed","msgtype":"m.text"},"ts":1328211061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"any idea jgraham ?","msgtype":"m.text"},"ts":1328211062000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Apparently the web wants isSameNode :(","msgtype":"m.text"},"ts":1328211120000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"And GWT in particular","msgtype":"m.text"},"ts":1328211121000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, ^","msgtype":"m.text"},"ts":1328211180000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"aah","msgtype":"m.text"},"ts":1328211240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sad","msgtype":"m.text"},"ts":1328211241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"IE is shipping BlobBuilder?","msgtype":"m.text"},"ts":1328212980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I thought we were going to kill that? :(","msgtype":"m.text"},"ts":1328212981000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"WTF -- transform-origin parses differently in standards and quirks mode?","msgtype":"m.text"},"ts":1328213100000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Interoperably?","msgtype":"m.text"},"ts":1328213101000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"transform-origin: 100 100 is interpreted as transform-origin: 100px 100px in quirks mode, but not standards mode . . .","msgtype":"m.text"},"ts":1328213220000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Is this an across-the-board difference in CSS parsing?  If so, is it specced somewhere?","msgtype":"m.text"},"ts":1328213221000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"TabAtkins, ^^","msgtype":"m.text"},"ts":1328213222000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"https://developer.mozilla.org/en/Mozilla_Quirks_Mode_Behavior ?","msgtype":"m.text"},"ts":1328213223000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(\"The CSS parser interprets unitless numbers as px\")","msgtype":"m.text"},"ts":1328213224000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Oh, I misread \"specced\" as \"documented\")","msgtype":"m.text"},"ts":1328213280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Seems interoperable.","msgtype":"m.text"},"ts":1328213281000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"This should probably be in Values and Units.","msgtype":"m.text"},"ts":1328213340000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Oh, and I think we parse color: 000000 in quirks","msgtype":"m.text"},"ts":1328213341000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Quirks mode doesn't exist in CSS, though","msgtype":"m.text"},"ts":1328213342000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"So it's only for styles that are inline in an HTML document?","msgtype":"m.text"},"ts":1328213400000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"css compressors will be happy to hear this","msgtype":"m.text"},"ts":1328213401000,"senderName":"bga","senderId":"bga@irc"},
{"content":{"body":"Ms2ger and color: fff too?","msgtype":"m.text"},"ts":1328213460000,"senderName":"bga","senderId":"bga@irc"},
{"content":{"body":"Dunno","msgtype":"m.text"},"ts":1328213461000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"AryehGregor, is it? I'm not sure","msgtype":"m.text"},"ts":1328213462000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"also doesn't","msgtype":"m.emote"},"ts":1328213463000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"data:text/html,<div style=\"background:00ff00; height:100;width:100\"> displays a green box in IE/Chrome/Opera, but not Firefox.","msgtype":"m.text"},"ts":1328213580000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Hmm, attributes may go through another path","msgtype":"m.text"},"ts":1328213640000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Awesome.","msgtype":"m.text"},"ts":1328213700000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I think they should all go through the same path","msgtype":"m.text"},"ts":1328214060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and I think we should define it","msgtype":"m.text"},"ts":1328214061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just sent mail to www-style","msgtype":"m.emote"},"ts":1328214240000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Hmm, ParseStyleAttribute does seem to check for quirks mode","msgtype":"m.text"},"ts":1328214480000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Seems like this should work...","msgtype":"m.text"},"ts":1328214600000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Aha","msgtype":"m.text"},"ts":1328214720000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"AryehGregor, doesn't work for compound properties; color and background-color work","msgtype":"m.text"},"ts":1328214780000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Nice.","msgtype":"m.text"},"ts":1328214781000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Ah, and bz beat me to it","msgtype":"m.text"},"ts":1328214840000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"so data URL rules when fetching data URLs through an HTTP API","msgtype":"m.text"},"ts":1328215740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what would be the best place?","msgtype":"m.text"},"ts":1328215741000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"XMLHttpRequest for now?","msgtype":"m.text"},"ts":1328215742000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gwt users blame Ms2ger that he deleted isSameNode","msgtype":"m.text"},"ts":1328217000000,"senderName":"bga","senderId":"bga@irc"},
{"content":{"body":"I wonder why GWT uses isSameNode","msgtype":"m.text"},"ts":1328217120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so what's HTTP/2.0?","msgtype":"m.text"},"ts":1328218440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is it intended to be the new name for SPDY?","msgtype":"m.text"},"ts":1328218441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I presume HTTP/2.0 will be where they take SPDY, make some backward-incompatible changes, and leave browsers with 3 protocols to implement","msgtype":"m.text"},"ts":1328219520000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"reminiscent of Kafka","msgtype":"m.text"},"ts":1328219820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<2400","msgtype":"m.text"},"ts":1328220000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(there was a lot of spam :( )","msgtype":"m.text"},"ts":1328220001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: sounds familiar...","msgtype":"m.text"},"ts":1328220240000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"jgraham: I'm not sure SPDY has any legacy which prevents it from being dropped, though.","msgtype":"m.text"},"ts":1328220600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"why is http://tools.ietf.org/html/draft-ietf-websec-origin not linked to http://tools.ietf.org/html/draft-abarth-origin ?","msgtype":"m.text"},"ts":1328220601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: Also Firefox already supports at least four already: HTTP, FTP, SPDY, and Gopher.","msgtype":"m.text"},"ts":1328220660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: and both should really point to http://tools.ietf.org/html/rfc6454","msgtype":"m.text"},"ts":1328220661000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"annevk: dunno.  I think we'd need to ask someone at the IETF to add the links","msgtype":"m.text"},"ts":1328220662000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"hober: yeah, the former does, but I found the latter via Google :/","msgtype":"m.text"},"ts":1328220720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk abarth: of course the ietf have always been so good about this sort of thing</sarcasm>","msgtype":"m.text"},"ts":1328220721000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"annevk: I can update the draft with a link if all else fails","msgtype":"m.text"},"ts":1328220780000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"abarth: I guess I'll ask Julian if I remember","msgtype":"m.text"},"ts":1328220900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: I don't think that FTP or Gopher are functionally equivalent to HTTP. I mean Opera support SMTP but it's hardly comparable","msgtype":"m.text"},"ts":1328221200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"oh, by donating you become an EFF member?","msgtype":"m.text"},"ts":1328221380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder if I could have avoided that somehow","msgtype":"m.text"},"ts":1328221440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"should we add something to http://wiki.whatwg.org/wiki/MetaExtensions about emailing whatwgâŠ™wo for community review?","msgtype":"m.text"},"ts":1328221560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"as optional step of course","msgtype":"m.text"},"ts":1328221561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"only two sleeping spammers on the wiki since I left","msgtype":"m.text"},"ts":1328222100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"good times","msgtype":"m.text"},"ts":1328222101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh hey, it's anne!","msgtype":"m.text"},"ts":1328222102000,"senderName":"asmodai","senderId":"asmodai@irc"},
{"content":{"body":"\"Obsolescence notices on old specifications, again\" ooh","msgtype":"m.text"},"ts":1328222400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ooh, there's a subthread on www-archive with the same name","msgtype":"m.text"},"ts":1328222880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and no popcorn available","msgtype":"m.text"},"ts":1328222881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does anyone know what the right way is to unpack a javascript float? i.e. to figure out the exact bits of the internal number?","msgtype":"m.text"},"ts":1328223360000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"*internal representation","msgtype":"m.text"},"ts":1328223361000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"You mean get at the actual repr of it?","msgtype":"m.text"},"ts":1328223362000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1328223363000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Um, there's no built-in way to do so.","msgtype":"m.text"},"ts":1328223420000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"sure. I'm just wondering what the best arithmetic to do is that won't introduce rounding errors or w/e","msgtype":"m.text"},"ts":1328223421000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"You can probably achieve it through Typed Arrays, actually.","msgtype":"m.text"},"ts":1328223422000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: yeah, but that doesn't help me in old browsers :)","msgtype":"m.text"},"ts":1328223423000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Then it's less easy :)","msgtype":"m.text"},"ts":1328223424000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: and one thing I'm trying to do is test out the PRNGs behind Math.random(), just for my own edification","msgtype":"m.text"},"ts":1328223480000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I guess you just need to calculate the needed exponent and mantissa yourself.","msgtype":"m.text"},"ts":1328223540000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"yeah. so in theory, if I have a number 0 < x < 1, repeatedly multiplying by 2 and sometimes subtracting 1 should avoid rounding problems, right?","msgtype":"m.text"},"ts":1328223600000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I'm nowhere near awake enough to think in that level of detail :)","msgtype":"m.text"},"ts":1328223660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"heh. boo","msgtype":"m.text"},"ts":1328223661000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1328223720000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Well, the exponent is such that you take log2, round-down.","msgtype":"m.text"},"ts":1328223721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"IEEE754 means you need to deal with the exponent bias.","msgtype":"m.text"},"ts":1328223780000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But then you should just be able to subtract Math.pow(2, exponent) from your value to get the mantissa, no?","msgtype":"m.text"},"ts":1328223781000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"that's what I would expect","msgtype":"m.text"},"ts":1328223840000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"but once I have the mantissa, that's still as a float. I should be able to pull out the bits w/ repeated [multiply by 2], [if > 1 then subtract 1] steps, right?","msgtype":"m.text"},"ts":1328223900000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"And both the exponent and mantissa can be expressed exactly (both are less than 2^53), and Math.pow(2, exponent) is guaranteed to have a representation possible.","msgtype":"m.text"},"ts":1328223901000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jacobolus: Just x.toString(2)","msgtype":"m.text"},"ts":1328223902000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: oh! didn't realize that one.","msgtype":"m.text"},"ts":1328223960000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"gsnedders: I can just use x.toString(2) in general then","msgtype":"m.text"},"ts":1328224020000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: Doesn't get you the actual repr of the float, though","msgtype":"m.text"},"ts":1328224080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"but it gives the exponent & mantissa","msgtype":"m.text"},"ts":1328224081000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: It shouldn't.","msgtype":"m.text"},"ts":1328224140000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"> (Math.pow(2, 51)+1.5).toString(2)","msgtype":"m.text"},"ts":1328224141000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"\"1000000000000000000000000000000000000000000000000001.1\"","msgtype":"m.text"},"ts":1328224142000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"For example","msgtype":"m.text"},"ts":1328224143000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"that looks correct...?","msgtype":"m.text"},"ts":1328224200000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"It's not the exponent and mantissa, though","msgtype":"m.text"},"ts":1328224201000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"well, the exponent is however far the . is to the right","msgtype":"m.text"},"ts":1328224202000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"and the mantissa is the value if we remove the . and strip leading 0s","msgtype":"m.text"},"ts":1328224260000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"and if I read the ieee 754 spec I could figure out precisely how the bits of that are arranged","msgtype":"m.text"},"ts":1328224261000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: That's not going to be in IEEE754 double format, though","msgtype":"m.text"},"ts":1328224262000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"what do you mean?","msgtype":"m.text"},"ts":1328224320000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(where the mantissa has an implicit leading 1, effectively making it normalized)","msgtype":"m.text"},"ts":1328224321000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1328224322000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Or am I being stupid and half-asleep?","msgtype":"m.text"},"ts":1328224323000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(This seems quite plausible)","msgtype":"m.text"},"ts":1328224324000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Seeming I am, in fact, half asleep)","msgtype":"m.text"},"ts":1328224325000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: what I'm saying is I can deterministically figure out the representation from that, I think","msgtype":"m.text"},"ts":1328224326000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Right.","msgtype":"m.text"},"ts":1328224327000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"but in any event, it's good enough for my purposes here","msgtype":"m.text"},"ts":1328224380000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"gsnedders: interestingly, v8's Math.random() seems to only do 32 random bits?","msgtype":"m.text"},"ts":1328224381000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: No idea.","msgtype":"m.text"},"ts":1328224382000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"safari as well","msgtype":"m.text"},"ts":1328224383000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"in theory they could do 53 random bits, right?","msgtype":"m.text"},"ts":1328224440000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"for a number in (0, 1)","msgtype":"m.text"},"ts":1328224441000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(0, 1]","msgtype":"m.text"},"ts":1328224442000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"[0, 1)","msgtype":"m.text"},"ts":1328224500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"is it (0, 1]? I was under the impression that they'd never produce 1.","msgtype":"m.text"},"ts":1328224501000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"No, I'm just getting my brackets the wrong way around.","msgtype":"m.text"},"ts":1328224502000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gotcha","msgtype":"m.text"},"ts":1328224503000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"What Philip` said.","msgtype":"m.text"},"ts":1328224504000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"0 <= x < 1, if you want the not incredibly confusing notation","msgtype":"m.text"},"ts":1328224505000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1328224506000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"the notation is plenty readable to former math students :)","msgtype":"m.text"},"ts":1328224560000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"gsnedders: thanks for the toString(2) lead. I for whatever reason thought that only worked for integers","msgtype":"m.text"},"ts":1328224561000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I believe at least SpiderMonkey uses an RNG equivalent to lrand48(), which returns 31 bits, but then it gets two random ints and shifts and adds to get a random double","msgtype":"m.text"},"ts":1328224740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think one difficulty with Math.random() is that if you change it to a higher quality RNG, you lose on critical-for-marketing benchmarks","msgtype":"m.text"},"ts":1328224800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"boo","msgtype":"m.text"},"ts":1328224801000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"prngs like MWC are pretty fast though","msgtype":"m.text"},"ts":1328224802000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"integrate randomness quality into the benchmarks? heh","msgtype":"m.text"},"ts":1328224860000,"senderName":"zewt_","senderId":"zewt_@irc"},
{"content":{"body":"Philip`: but it's hard to imagine a case where actual calls to random() is the bottleneck. adding just a couple noop function calls seem to dramatically slow things down relative to calling random() bare","msgtype":"m.text"},"ts":1328224861000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"as long as you're not doing anything stupid (like touching /dev/random)","msgtype":"m.text"},"ts":1328224920000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"i.e. hard to imagine such cases in real code","msgtype":"m.text"},"ts":1328224921000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: Never underestimate the ability of benchmark writers to write benchmarks whose bottleneck is nowhere like where they intended :-)","msgtype":"m.text"},"ts":1328224922000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"heh. fair enough","msgtype":"m.text"},"ts":1328224923000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(especially since the bottlenecks change after the benchmarks are written)","msgtype":"m.text"},"ts":1328224980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I guess what I mean is, doing `for (var i = 0, r = Math.random; i < 1e6; i++) { r(); };` seems like a relatively rare sort of occurrence","msgtype":"m.text"},"ts":1328224981000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"if there's a benchmark along those lines, maybe it should be scrapped :)","msgtype":"m.text"},"ts":1328225040000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: of course, a smart JIT would notice that Math.random() has no side-effects, and elide the whole damn thing :P","msgtype":"m.text"},"ts":1328225041000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"A lot of Peacekeeper comes down to little more than that.","msgtype":"m.text"},"ts":1328225042000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"c/c++ compilers definitely do that sort of thing","msgtype":"m.text"},"ts":1328225100000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(no clue if JS engines do)","msgtype":"m.text"},"ts":1328225160000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(guess it'd be easy enough to find out)","msgtype":"m.text"},"ts":1328225161000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I *think* V8 and SM should, but in V8's case it needs to be detected as hot-code to get the optimization done!","msgtype":"m.text"},"ts":1328225220000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"chrome production doesn't, anyway","msgtype":"m.text"},"ts":1328225221000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"well, not when pasting into the console","msgtype":"m.text"},"ts":1328225222000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"gsnedders: of course, that's another problem with benchmarking JS :P","msgtype":"m.text"},"ts":1328225223000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"was: re: stating the obvious","msgtype":"m.text"},"ts":1328225224000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: It's optimization for hot-code should, at least. The problem is you have to run the non-optimized code first. :P","msgtype":"m.text"},"ts":1328225280000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zewt: Well, it's a problem with any JITing language.","msgtype":"m.text"},"ts":1328225281000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"sticking it in a function and calling it a few times and it doesn't change, at least","msgtype":"m.text"},"ts":1328225282000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"gsnedders: well, I'm blaming the naive benchmarks, not JS","msgtype":"m.text"},"ts":1328225283000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Try a few hundred :P","msgtype":"m.text"},"ts":1328225284000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: is commented peacekeeper code easily accessible someplace?","msgtype":"m.text"},"ts":1328225285000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: No.","msgtype":"m.text"},"ts":1328225286000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"their site is kind of a mess","msgtype":"m.text"},"ts":1328225287000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"shouldn't have to run an expensive function a few hundred times to get it to optimize :P not when calling the function takes over a second","msgtype":"m.text"},"ts":1328225340000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(increased to 1e7 so I could see the runtime clearly)","msgtype":"m.text"},"ts":1328225341000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"jacobolus: The test frame just loads the same URL over and over again, and changes based on cookies :P","msgtype":"m.text"},"ts":1328225342000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"how can people take a 21st century benchmark seriously that doesn't clearly show & explain what it's doing?","msgtype":"m.text"},"ts":1328225400000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Marketing.","msgtype":"m.text"},"ts":1328225401000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The perceived quality of a benchmark is entirely dependent on how pretty its graphs are","msgtype":"m.text"},"ts":1328225460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(That's how I judge them, at least)","msgtype":"m.text"},"ts":1328225461000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: well are there any good benchmarks with shitty graphs that need help?","msgtype":"m.text"},"ts":1328225462000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I bet with a couple days effort it would be possible to make some damn pretty graphs","msgtype":"m.text"},"ts":1328225520000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"use canvas or SVG, and if they aren't supported, just \"sorry, your browser is so obsolete we can't even show you results\"","msgtype":"m.text"},"ts":1328225521000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Kraken for example tests CSE quite heavily.","msgtype":"m.text"},"ts":1328225580000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(for var i = 0; i < 1000; i++) { foo[i] = Math.abs(foo[i] >> 1); bar[i] = foo[i] >> 1; }","msgtype":"m.text"},"ts":1328225700000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"knows too little to know of any good benchmarks","msgtype":"m.emote"},"ts":1328225701000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Is what you need to be quick on to be good on Kraken.","msgtype":"m.text"},"ts":1328225702000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: \"CSE\"?","msgtype":"m.text"},"ts":1328225760000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: common subexpression elimination","msgtype":"m.text"},"ts":1328225761000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ah, I see","msgtype":"m.text"},"ts":1328225820000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Also you need to be able to tell Math.abs is loop-invariant","msgtype":"m.text"},"ts":1328225821000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: with the idea there being that foo[i] >> 1 can't be eliminated because foo[i] changes after the first time?","msgtype":"m.text"},"ts":1328225822000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: Gah! No, switch the two statements in the block around.","msgtype":"m.text"},"ts":1328225880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"understanding const functions is a pretty fundamental optimization anyway, i'd expect","msgtype":"m.text"},"ts":1328225881000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(which means you have to be able to tell that Math.abs is the built-in pure one, and that foo[i] and bar[i] are data properties for all i)","msgtype":"m.text"},"ts":1328225882000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(because if they are accessor properties for any i then they could have side-effects and mutate Math.abs)","msgtype":"m.text"},"ts":1328225940000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1328225941000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"i'd expect engines to optimize for functions like that not being mutated, and have an exception path if anything ever does (\"fuck, throw everything jitted away and give up because someone did something horrible\")","msgtype":"m.text"},"ts":1328225942000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Also if any are {valueOf:function(){return 1;}} because obv. you can do whatever in that function","msgtype":"m.text"},"ts":1328226060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"are there any \"how fast can the jit do when we throw horrible stuff\" tests? those would be fun to write","msgtype":"m.text"},"ts":1328226061000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"and if someone creates benchmarks for performance when people do horrible things that break optimizations, they get shot in the head","msgtype":"m.text"},"ts":1328226062000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: Ah, but the point is you don't want the branch for the exception path in the hot code.","msgtype":"m.text"},"ts":1328226063000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh, you mean just throwing out all generated code if something mutates such a thing?","msgtype":"m.text"},"ts":1328226064000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: the branch would happen on assignment, not on access","msgtype":"m.text"},"ts":1328226065000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(putting aside how to do *that* efficiently)","msgtype":"m.text"},"ts":1328226120000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1328226121000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: That could be fun with OSR.","msgtype":"m.text"},"ts":1328226122000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"with who?","msgtype":"m.text"},"ts":1328226123000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"on-stack replacement","msgtype":"m.text"},"ts":1328226124000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Imagine you have generated code that assumes a built-in is a built-in, and then you change the built-in.","msgtype":"m.text"},"ts":1328226180000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1328226181000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Everything higher up on the stack has to cope with this change.","msgtype":"m.text"},"ts":1328226182000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"i'd think that would be an important assumption to be able to make","msgtype":"m.text"},"ts":1328226183000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"and cope with if someone is a jerk and violates it","msgtype":"m.text"},"ts":1328226184000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"So throwing away code isn't obviously always simple.","msgtype":"m.text"},"ts":1328226185000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"but not optimize for","msgtype":"m.text"},"ts":1328226186000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"heh, i wouldn't expect anything related to JIT to be simple :)","msgtype":"m.text"},"ts":1328226187000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"but yeah, it's definitely a tough problem","msgtype":"m.text"},"ts":1328226240000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"i'd expect the wins to be pretty significant, though","msgtype":"m.text"},"ts":1328226241000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I mean, something like that example at first glance appears to be quite easy to optimize, until you start finding edge-cases that make optimization hard.","msgtype":"m.text"},"ts":1328226242000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zewt: Eh, mostly only on benchmarks, though","msgtype":"m.text"},"ts":1328226300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Anyhow, time for me to vanish.","msgtype":"m.text"},"ts":1328226301000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: i don't know about that; it should allow general sets of constant-value folding","msgtype":"m.text"},"ts":1328226302000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"granted, many of which you can do by hand, but that's exactly what you shouldn't have to do with a good optimizer","msgtype":"m.text"},"ts":1328226360000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"heh, I think some C optimizers will optimize x = 0; for(int i = 0; i < n; ++i) x += i; to x = n*(n+1)/2","msgtype":"m.text"},"ts":1328226361000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(which, to be sure, is an optimization only relevant to benchmarks)","msgtype":"m.text"},"ts":1328226420000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(I imagine it could be argued that those kinds of optimisations are actually somewhat useful, even though a human could perform the same transformation trivially, because dumb code will be generated via macros or templates and it's nice if the compiler can recognise the special cases instead of forcing the programmer to abandon their nice abstractions and optimise those cases by hand)","msgtype":"m.text"},"ts":1328226780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"also, those optimizations tend to (though don't always) mirror more useful optimizations","msgtype":"m.text"},"ts":1328226781000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"eg. having enough information in a C compiler to notice common patterns (as opposed to, say, a dumb peephole match for a summation) is obviously a good thing","msgtype":"m.text"},"ts":1328226840000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(no idea what level the above optimization is actually done at)","msgtype":"m.text"},"ts":1328226841000,"senderName":"zewt","senderId":"zewt@irc"}
]