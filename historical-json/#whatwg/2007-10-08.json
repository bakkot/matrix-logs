[
{"content":{"body":":)","msgtype":"m.text"},"ts":1191844680000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"hsivonen: http://forums.whatwg.org/viewtopic.php?t=114","msgtype":"m.text"},"ts":1191848160000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"<audio>'s transparent content model and <figure>'s content model don't seem to work together","msgtype":"m.text"},"ts":1191848220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: in spec or in my impl?","msgtype":"m.text"},"ts":1191848340000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"in the spec","msgtype":"m.text"},"ts":1191848341000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so does validator.nu have a bug?","msgtype":"m.text"},"ts":1191848342000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"not sure","msgtype":"m.text"},"ts":1191848343000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"But audio is embedded content, which is allowed in figure","msgtype":"m.text"},"ts":1191848400000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"yes, however <audio> has a transparent content model","msgtype":"m.text"},"ts":1191848401000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"OmegaJunior: Have you checked the latest spec on <audio>? you should do the format fallback using <source> instead of nested <audio>","msgtype":"m.text"},"ts":1191848402000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Semi-transparent, does that make a difference?","msgtype":"m.text"},"ts":1191848460000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/multipage/section-documents0.html#transparent0","msgtype":"m.text"},"ts":1191848461000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"isn't a fan of transparent content models","msgtype":"m.emote"},"ts":1191848520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"format fallback instead of nested? The latest spec says to nest source element inside audio element","msgtype":"m.text"},"ts":1191848521000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"zcorpan, that part on transparent content model makes my implementation correct and the validator wrong.","msgtype":"m.text"},"ts":1191848580000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"<figure><legend></legend><audio src=x>TEST</audio></figure> isn't conforming because <figure><legend></legend>TEST</figure> isn't","msgtype":"m.text"},"ts":1191848640000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I must say, it's highly confusing.","msgtype":"m.text"},"ts":1191848641000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"OmegaJunior: you have two nested <audio> elements","msgtype":"m.text"},"ts":1191848642000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm reviewing the schema for bugs","msgtype":"m.text"},"ts":1191848643000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it seems to me that this is a bug in the spec","msgtype":"m.text"},"ts":1191848644000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Yes, hsivonen, I do now... I started out with one audio element and two nested sources","msgtype":"m.text"},"ts":1191848645000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"I'll change that, but it'll have the same effect.","msgtype":"m.text"},"ts":1191848700000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"IIRC, this is a spec bug","msgtype":"m.text"},"ts":1191848701000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I think I've mentioned this to Hixie","msgtype":"m.text"},"ts":1191848702000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OmegaJunior: figure wants an embedded content element","msgtype":"m.text"},"ts":1191848820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OmegaJunior: and <audio> is transparent","msgtype":"m.text"},"ts":1191848821000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Semi-transparent?","msgtype":"m.text"},"ts":1191848822000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"OmegaJunior: so the result is that the audio element wants an embedded child too","msgtype":"m.text"},"ts":1191848823000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OmegaJunior: semi is about <source>","msgtype":"m.text"},"ts":1191848824000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1191848880000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"so Validator.nu is unhelpful here, but it's really a spec issue","msgtype":"m.text"},"ts":1191848881000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"So removing the figure element should solve that problem","msgtype":"m.text"},"ts":1191848882000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"OmegaJunior: yes","msgtype":"m.text"},"ts":1191848883000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"This should probably be fixed by allowing text blocks as figures","msgtype":"m.text"},"ts":1191848940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Or maybe let media elements be real embed content?","msgtype":"m.text"},"ts":1191849000000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"they are embedded content","msgtype":"m.text"},"ts":1191849001000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Spec says:","msgtype":"m.text"},"ts":1191849002000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"Contexts in which this element may be used:  ","msgtype":"m.text"},"ts":1191849003000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"As the only embedded content child of a figure element.","msgtype":"m.text"},"ts":1191849004000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"So use in figure element should be according to spec","msgtype":"m.text"},"ts":1191849005000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"thus spec contradicts self","msgtype":"m.text"},"ts":1191849060000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"OmegaJunior: indeed, as we said it's a bug in the spec :)","msgtype":"m.text"},"ts":1191849061000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"OK :)","msgtype":"m.text"},"ts":1191849062000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"Thanks!","msgtype":"m.text"},"ts":1191849063000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1191849064000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"OmegaJunior: use of <audio> in <figure> is OK. but the transparent content model sucks in that case, because then the content of <audio> needs to be embedded content, too","msgtype":"m.text"},"ts":1191849120000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"So basically using block-level elements inside an audio element is impossible?","msgtype":"m.text"},"ts":1191849180000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"As fallback content?","msgtype":"m.text"},"ts":1191849181000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"yes (since the other context where <audio> is allowed is where strictly inline-level content is allowed)","msgtype":"m.text"},"ts":1191849240000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"OmegaJunior: impossible per current spec when audio occurs as the child of figure","msgtype":"m.text"},"ts":1191849300000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oh, and what zcorpan said","msgtype":"m.text"},"ts":1191849301000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"That's going to provide a lot of feedback...","msgtype":"m.text"},"ts":1191849360000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"I can't use block- nor inline-level elements anywhere inside an audio element, according to the validator.","msgtype":"m.text"},"ts":1191849361000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"Basically this renders fallback content useless, as you can't provide one or more hyperlinks as alternatives to the content.","msgtype":"m.text"},"ts":1191849420000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"OmegaJunior: http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2007-April/010790.html","msgtype":"m.text"},"ts":1191849480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"interestingly, Google didn't find that message with relevant keywords","msgtype":"m.text"},"ts":1191849540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Did you get an answer to that question?","msgtype":"m.text"},"ts":1191849541000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"That required descendant that I'm missing... that might be the embedded content you ask about in your question of last April.","msgtype":"m.text"},"ts":1191849720000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"OmegaJunior: it's probably on the list of open issues","msgtype":"m.text"},"ts":1191849721000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"OmegaJunior: I thought Hixie acknowledged it, but I can't find anything to that effect in the logs","msgtype":"m.text"},"ts":1191849780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OmegaJunior: yes. my guess is that the error goes away if you put an <img> or <embed> there...","msgtype":"m.text"},"ts":1191849781000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I hope this confusion will be edited out before this thing goes live... say, in the next 14 years.","msgtype":"m.text"},"ts":1191849840000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"OmegaJunior: I hope so, too.","msgtype":"m.text"},"ts":1191849841000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OmegaJunior: occasionally I take matters into my own hands if the spec says something silly, but in this case I'm going with the letter of the spec","msgtype":"m.text"},"ts":1191849900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the email is in the graphics-video folder in http://www.whatwg.org/issues/","msgtype":"m.text"},"ts":1191849960000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"OmegaJunior: <font> and style='' would be examples of me overriding the spec optimistically.","msgtype":"m.text"},"ts":1191849961000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OK :)","msgtype":"m.text"},"ts":1191849962000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"Well, I finally found something that makes the validator happy","msgtype":"m.text"},"ts":1191850380000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"I did enter an embed element into the audio element","msgtype":"m.text"},"ts":1191850381000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"And moved my fallback content (what I consider fallback) outside of the figure","msgtype":"m.text"},"ts":1191850440000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"But the embed element itself can't have fallback content...","msgtype":"m.text"},"ts":1191850441000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"So it's either one of the sources, or an embed, or nothing.","msgtype":"m.text"},"ts":1191850500000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"i would suggest to ignore any error messages regarding <figure><audio>","msgtype":"m.text"},"ts":1191850501000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"That works too...","msgtype":"m.text"},"ts":1191850560000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"but links would probably be useful also for people with html5 browsers, so it makes sense to place the links outside the <audio>","msgtype":"m.text"},"ts":1191850620000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Though that is true, it also makes sense to put them inside the element as fallback content.","msgtype":"m.text"},"ts":1191850680000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"yeah, if you want to hide the links from people with html5 browsers","msgtype":"m.text"},"ts":1191850681000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(fallback is for legacy browsers--not for HTML5 browsers)","msgtype":"m.text"},"ts":1191850740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that is, fallback isn't for accessibility or codec fallback","msgtype":"m.text"},"ts":1191850741000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Really?","msgtype":"m.text"},"ts":1191850800000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"That's different from what I expected.","msgtype":"m.text"},"ts":1191850801000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"it's like the contents of <iframe>","msgtype":"m.text"},"ts":1191850802000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"browsers that don't support <iframe> will use the contents","msgtype":"m.text"},"ts":1191850860000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Well... I expect Opera to show the fallback content of an iframe if I tell it not to display iframes...","msgtype":"m.text"},"ts":1191850861000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"yes, then you disable support for iframes","msgtype":"m.text"},"ts":1191850862000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"And I expect to be able to enter a hyperlink as fallback content, so visitors will be able to browse to the uri themselves.","msgtype":"m.text"},"ts":1191850920000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"Those with iframe support don't need that link...","msgtype":"m.text"},"ts":1191850921000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"but you don't get the contents of iframes if the iframe references a 404 or something that is not supported","msgtype":"m.text"},"ts":1191850922000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"exactly","msgtype":"m.text"},"ts":1191850923000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"True","msgtype":"m.text"},"ts":1191850924000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"<audio> is the same","msgtype":"m.text"},"ts":1191850925000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"But then having only an embed element as fallback of content doesn't cover all bases, does it?","msgtype":"m.text"},"ts":1191850980000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"i don't understand the question","msgtype":"m.text"},"ts":1191850981000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Well, suppose a user agent doesn't know html 5: it won't understand the audio element. Suppose it adheres only to the W3 recommendations of html and doesn't know the embed element either... then the user sees nothing.","msgtype":"m.text"},"ts":1191851100000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1191851101000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Allowing a simple text as fallback content would at least indicate that something should be present.","msgtype":"m.text"},"ts":1191851102000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1191851160000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Lest we require the user to study the page source...","msgtype":"m.text"},"ts":1191851161000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"Thanks for the explanations! I'm heading off.","msgtype":"m.text"},"ts":1191851220000,"senderName":"OmegaJunior","senderId":"OmegaJunior@irc"},
{"content":{"body":"cya","msgtype":"m.text"},"ts":1191851221000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"aaronlev: is this thread on your radar: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-October/012642.html","msgtype":"m.text"},"ts":1191858600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: barely","msgtype":"m.text"},"ts":1191858601000,"senderName":"aaronlev","senderId":"aaronlev@irc"},
{"content":{"body":"the expert on closed captioning technologies is Larry Goldberg from WGBH","msgtype":"m.text"},"ts":1191858660000,"senderName":"aaronlev","senderId":"aaronlev@irc"},
{"content":{"body":"they invented closed captioning and are on top of technical issues","msgtype":"m.text"},"ts":1191858661000,"senderName":"aaronlev","senderId":"aaronlev@irc"},
{"content":{"body":"i think we should get them into this conversation","msgtype":"m.text"},"ts":1191858662000,"senderName":"aaronlev","senderId":"aaronlev@irc"},
{"content":{"body":"just replied to the highest-voted e-mail","msgtype":"m.emote"},"ts":1191882240000,"senderName":"Hixie","senderId":"Hixie@irc"}
]