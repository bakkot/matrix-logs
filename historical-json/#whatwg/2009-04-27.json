[
{"content":{"body":"Hixie: Re: http://lists.w3.org/Archives/Public/public-html/2009Mar/0503.html","msgtype":"m.text"},"ts":1240794660000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: Firefox appends more text to the last text node it was appending to","msgtype":"m.text"},"ts":1240794720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: IE appends more text as child of the element it previously appended text as a child","msgtype":"m.text"},"ts":1240794721000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: coalescing the text nodes if the existing last child is a text node","msgtype":"m.text"},"ts":1240794780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: so Firefox and IE are different if you insert an element from script between parser text flushes","msgtype":"m.text"},"ts":1240794840000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: can you give an example of what you mean?","msgtype":"m.text"},"ts":1240796460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I had an example in the email","msgtype":"m.text"},"ts":1240796461000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"looking it up","msgtype":"m.text"},"ts":1240796462000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: http://hsivonen.iki.fi/test/moz/flushing-document-written-text-no-alert.html is different for you in Firefox 3.5 and IE8, right?","msgtype":"m.text"},"ts":1240796580000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i meant like a tiny example :-)","msgtype":"m.text"},"ts":1240796581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is your example basically  <script>append a text node</script>x -- are there two text nodes or one?","msgtype":"m.text"},"ts":1240796640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: no, the crux is the line document.getElementById(\"foo\").appendChild(document.createElement(\"span\"))","msgtype":"m.text"},"ts":1240796700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"my confusion is with \"Firefox appends more text to the last text node it was appending to\", since if a script is running, the last text node it inserted into was the <script>'s child node","msgtype":"m.text"},"ts":1240796701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you're saying you want     <script>write 'aaa'; append element node</script>bbb  to result in \"aaabbb element node\" rather than \"aaa element node bbb\"?","msgtype":"m.text"},"ts":1240796760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm very confused","msgtype":"m.text"},"ts":1240796761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: former in Firefox, latter in IE","msgtype":"m.text"},"ts":1240796820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"well clearly imho aaabbb element is outright incorrect.","msgtype":"m.text"},"ts":1240796821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you want to spec what IE does?","msgtype":"m.text"},"ts":1240796880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"WebKit is element aaabbb, IIRC","msgtype":"m.text"},"ts":1240796881000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and Opera","msgtype":"m.text"},"ts":1240796882000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the spec already requires the text after the <script> to come after whatever state the DOM is in after the script executes.","msgtype":"m.text"},"ts":1240796883000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"element aaa bbb is definitely wrong per spec, it means the parser isn't re-entrant.","msgtype":"m.text"},"ts":1240797000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(or acts as if it's not, which is worse)","msgtype":"m.text"},"ts":1240797001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.hixie.ch/tests/adhoc/html/parsing/026-demo.html","msgtype":"m.text"},"ts":1240797002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: the webkit/opera behavior flows naturally from a late-flushed accumulation buffer","msgtype":"m.text"},"ts":1240797060000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"webkit's behaviour is clearly wrong.","msgtype":"m.text"},"ts":1240797061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"then a late-flushed accumulation buffer is a bad dea.","msgtype":"m.text"},"ts":1240797062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"idea","msgtype":"m.text"},"ts":1240797063000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: it's 2 out of 4 :-)","msgtype":"m.text"},"ts":1240797064000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'll have to get back on this when I have a decent text input method","msgtype":"m.text"},"ts":1240797120000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"IE's behaviour in http://www.hixie.ch/tests/adhoc/html/parsing/026-demo.html is what the spec requires","msgtype":"m.text"},"ts":1240797121000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and is the only behaviour i've found in the four browsers i tested that is even remotely sane.","msgtype":"m.text"},"ts":1240797122000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyway, as i noted in my e-mail reply, just use the text node's own buffer as the buffer","msgtype":"m.text"},"ts":1240797180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you have an interesting notion of sane","msgtype":"m.text"},"ts":1240797181000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and then you get IE's behaviour for free","msgtype":"m.text"},"ts":1240797182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"really? you don't think having things come out in the order they were written is sane?","msgtype":"m.text"},"ts":1240797183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: nope, then you get the Firefox behavior","msgtype":"m.text"},"ts":1240797184000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"you only get firefox's behaviour if you don't check to make sure the text node is still the last child each time a script runs","msgtype":"m.text"},"ts":1240797240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(which is a trivial pointer test)","msgtype":"m.text"},"ts":1240797241000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: my independent implementation matched webkit and opera, and I like to think I'm sane","msgtype":"m.text"},"ts":1240797242000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i'm not saying the implementor isn't sane","msgtype":"m.text"},"ts":1240797243000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm saying that having nodes come out in an order different than the order they went in is unintuitive","msgtype":"m.text"},"ts":1240797300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"depends on whether your intuition is buffered :-)","msgtype":"m.text"},"ts":1240797301000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"reload http://www.hixie.ch/tests/adhoc/html/parsing/026-demo.html","msgtype":"m.text"},"ts":1240797360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i really think that only IE's behaviour here matches author expectations","msgtype":"m.text"},"ts":1240797361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and i don't buy that it's hard to implement.","msgtype":"m.text"},"ts":1240797362000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I guess I'll have to implement it then, even though WebKit and Opera have gotten away with the simple behavior","msgtype":"m.text"},"ts":1240797420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: simpler for authors is more important than simpler for implementors :-)","msgtype":"m.text"},"ts":1240798020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://lists.xml.org/archives/xml-dev/200904/msg00062.html","msgtype":"m.text"},"ts":1240800600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://lists.xml.org/archives/xml-dev/200904/msg00061.html","msgtype":"m.text"},"ts":1240800660000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"heycam: be snarky here instead :-)","msgtype":"m.text"},"ts":1240804980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"#whatwg are indeed the go-to guys for snark!","msgtype":"m.text"},"ts":1240805040000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"if i'm going to spend some time doing something, it may as well be to fix things rather than snark about them, anyway","msgtype":"m.text"},"ts":1240805100000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"boring!","msgtype":"m.text"},"ts":1240805280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1240805400000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"http://www.unicode.org/charts/PDF/UBOOP.pdf","msgtype":"m.text"},"ts":1240814340000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Member/chairs/2009AprJun/0035.html","msgtype":"m.text"},"ts":1240815780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i wonder if at our next rechartering we can get the htmlwg chartered to 2022 on the same basis","msgtype":"m.text"},"ts":1240815781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"here are some realistic times\"","msgtype":"m.text"},"ts":1240815840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, I e-mailed some comments on webstorage last Friday and it seems they had some delay while getting to the list","msgtype":"m.text"},"ts":1240826220000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"Hixie, do you have them?","msgtype":"m.text"},"ts":1240826221000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"yay http://wiki.whatwg.org/wiki/Web_ECMAScript#HTML_comments","msgtype":"m.text"},"ts":1240834020000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yay as in mess?","msgtype":"m.text"},"ts":1240834140000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"annevk2: What do you mean. The IE behaviour is toatlly sane and I can't see why everyone doesn't do that","msgtype":"m.text"},"ts":1240834620000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(beware: low-flying sarcasm)","msgtype":"m.text"},"ts":1240834680000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"SpiderMonkey's behaviour is different if you use ;version=something-large-enough or ;e4x=1","msgtype":"m.text"},"ts":1240834860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The e4x thing makes sense","msgtype":"m.text"},"ts":1240834920000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But the version thng?","msgtype":"m.text"},"ts":1240834921000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I might be lying about that","msgtype":"m.text"},"ts":1240834922000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i don't find any differences with version=1.8","msgtype":"m.text"},"ts":1240834923000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Oh, I'm not lying","msgtype":"m.text"},"ts":1240834980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://philip.html5.org/demos/js/jsversion.html - see the \"<!-- 1 -->\" line","msgtype":"m.text"},"ts":1240834981000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(in Firefox)","msgtype":"m.text"},"ts":1240834982000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but <!-- 1 --> is not \"line that starts with just whitespace and comments is treated as a line comment\" is it?","msgtype":"m.text"},"ts":1240835040000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"s//a/","msgtype":"m.text"},"ts":1240835100000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"No, but it's an HTML comment in the script, and the behaviour is different between ;versions","msgtype":"m.text"},"ts":1240835101000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"what's the issue with DOMTimeStamp? http://lists.whatwg.org/pipermail/commit-watchers-whatwg.org/2009/001994.html","msgtype":"m.text"},"ts":1240836420000,"senderName":"hendry","senderId":"hendry@irc"},
{"content":{"body":"http://www.w3.org/TR/DOM-Level-3-Core/core.html#Core-DOMTimeStamp DOMTimeStamp is long for non-JS","msgtype":"m.text"},"ts":1240836600000,"senderName":"hendry","senderId":"hendry@irc"},
{"content":{"body":"hendry: http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-February/018487.html and associated thread seems relevant","msgtype":"m.text"},"ts":1240836601000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"urgh","msgtype":"m.text"},"ts":1240836660000,"senderName":"hendry","senderId":"hendry@irc"},
{"content":{"body":"Hixie: \"The rules right now are really simple -- you only need quotes if your value includes spaces, quotes, or equal signs.\" ...or greater than","msgtype":"m.text"},"ts":1240837920000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or if your value is the empty string","msgtype":"m.text"},"ts":1240838100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"there you go, it's not actually really simple :)","msgtype":"m.text"},"ts":1240838580000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and if you care about compat with firefox or safari or ie or opera then it becomes more complicated still","msgtype":"m.text"},"ts":1240838640000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"which is not documented in the spec","msgtype":"m.text"},"ts":1240838700000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"s/opera/old versions of opera/","msgtype":"m.text"},"ts":1240838701000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"So it's only simple if you don't learn any rules except to always quote attribute values","msgtype":"m.text"},"ts":1240838760000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which conincidentially is the fashion amonst hip web developers","msgtype":"m.text"},"ts":1240838820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It's the fashion amongst pretty much all web developers, not just hip ones, as far as I can see","msgtype":"m.text"},"ts":1240838880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(judging by http://canvex.lazyilluminati.com/misc/stats/tokeniser.html having 6902804 double-quoted characters, vs 387236 single-quoted and 376258 unquoted","msgtype":"m.text"},"ts":1240838940000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":")","msgtype":"m.text"},"ts":1240838941000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh well maybe it's only the hip web developers who go around telling other people how uncool they are for not using quotes","msgtype":"m.text"},"ts":1240839000000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so unquoted attributes are as common as single quoted attributes?","msgtype":"m.text"},"ts":1240839060000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i.e. about 0.05%","msgtype":"m.text"},"ts":1240839180000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"jgraham: It's the web developers who have gone *beyond* hip, who omit needless tags and quotes and everything","msgtype":"m.text"},"ts":1240839181000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and often omit compatibility with real web browsers too","msgtype":"m.text"},"ts":1240839182000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"zcorpan: Only if you trust my data, which you shouldn't","msgtype":"m.text"},"ts":1240839183000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"because it's counting numbers of tokeniser state transitions that are not uppercase letters or ampersands etc","msgtype":"m.text"},"ts":1240839240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: it was the only data i had at hand :)","msgtype":"m.text"},"ts":1240839241000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"rather than counting something useful like number of attributes","msgtype":"m.text"},"ts":1240839242000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(But that's the only data I've acquired from an instrumented tokeniser, so I don't have anything better)","msgtype":"m.text"},"ts":1240839300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"tries to find the quote he's thinking of","msgtype":"m.emote"},"ts":1240839301000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: can unquoted attributes go through more state transitions than a single quoted attribute because of entities?","msgtype":"m.text"},"ts":1240839360000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"jgraham: It's only the web developers who are so hip they can hardly see over their pelvises","msgtype":"m.text"},"ts":1240839361000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"zcorpan: I don't think entities make a difference; I was just counting the number of times the \"Anything else\" transition is encountered","msgtype":"m.text"},"ts":1240839420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Uh","msgtype":"m.text"},"ts":1240839421000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Did I say something about uppercase letters?","msgtype":"m.text"},"ts":1240839422000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Please ignore that entirely","msgtype":"m.text"},"ts":1240839423000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Ooh, actually my data probably does say how many attributes there were","msgtype":"m.text"},"ts":1240839540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"BeforeAttributeValueState: currentCharacter == 34 -- 366746","msgtype":"m.text"},"ts":1240839600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"BeforeAttributeValueState: true -- 52451","msgtype":"m.text"},"ts":1240839601000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"BeforeAttributeValueState: currentCharacter == 39 -- 17591","msgtype":"m.text"},"ts":1240839602000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"which are (respectively) the starts of double-quoted, unquoted and single-quoted attribute values","msgtype":"m.text"},"ts":1240839603000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(\"true\" means the \"Anything else\" case)","msgtype":"m.text"},"ts":1240839604000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"One can thus conclude that double-quoted attribute values have average length 19 characters, single-quoted 22, and unquoted 7","msgtype":"m.text"},"ts":1240839660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham: Oh, actually it might be pelves","msgtype":"m.text"},"ts":1240839840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so 84% double-quoted, 12% unquoted and 4% single-quoted","msgtype":"m.text"},"ts":1240840140000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Something like that","msgtype":"m.text"},"ts":1240840200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"based on a small, unspecified, biased sample of pages","msgtype":"m.text"},"ts":1240840201000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The rules for unquoted attributes are relatively simple because most of the special characters that require quotes are rather intuitive becuase they're the characters that have some other special meaning in the tag","msgtype":"m.text"},"ts":1240840800000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Is it intuitive that you have to include quotes if the value contains U+000C?","msgtype":"m.text"},"ts":1240840980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"where \"intuitive\" means you don't have to read the spec in detail to discover it","msgtype":"m.text"},"ts":1240841040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(And if you're implementing an HTML5 serialiser, and even if you do read the spec in detail, is it intuitive that you also have to include quotes when the value contains ` or < ?)","msgtype":"m.text"},"ts":1240841400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, yes, because '>' is the character used to end the tag, so it seems fairly obvious that in <span class=foo>bar..., the attribute only contains \"foo\"","msgtype":"m.text"},"ts":1240841700000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: he didn't ask about \">\"","msgtype":"m.text"},"ts":1240842780000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so, an idea that came up in developer.mozilla.org/Talk:En/JavaScript intrigued me, although the way that the poster presented it was ill-defined.","msgtype":"m.text"},"ts":1240843740000,"senderName":"drostie","senderId":"drostie@irc"},
{"content":{"body":"A lot of people spend a lot of time with bad or generic parsers against XSS. HTML 5 could really reduce this problem if it included a <sandbox> element or so, which restricted the sorts of things you find in XSS exploits anyway. The parser would only have to check for <sandbox> and </sandbox> tags instead of *everything* that could launch a script.","msgtype":"m.text"},"ts":1240843860000,"senderName":"drostie","senderId":"drostie@irc"},
{"content":{"body":"The browser would make sure, e.g., that a <b> tag started inside of a sandbox didn't leave it, and that scripts didn't execute within the sandbox, and so forth.","msgtype":"m.text"},"ts":1240843861000,"senderName":"drostie","senderId":"drostie@irc"},
{"content":{"body":"Philip`: What was the sample size for the comment data that you got for me (i.e. the total number of pages)","msgtype":"m.text"},"ts":1240843980000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The only thing I'm thinking is that it would probably play not-nice with DOM methods.","msgtype":"m.text"},"ts":1240843981000,"senderName":"drostie","senderId":"drostie@irc"},
{"content":{"body":"drostie: That has been discussed before and it turns out to not be quite as simple as you would hope. Ill let someone else explain though (or you can check the mail archives)","msgtype":"m.text"},"ts":1240844100000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"goes a-searching ^_^","msgtype":"m.emote"},"ts":1240844280000,"senderName":"drostie","senderId":"drostie@irc"},
{"content":{"body":"Philip`: Oh it says. I am blind :)","msgtype":"m.text"},"ts":1240844281000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I guess it was the 425K pages?","msgtype":"m.text"},"ts":1240844340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham: Being blind is not an excuse for failing to read the plain text that says where the data came from :-p","msgtype":"m.text"},"ts":1240844400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I suppose one problem with this dataset is it's going to be heavily biased towards sites with many pages","msgtype":"m.text"},"ts":1240844460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"e.g. a forum which exposes a million URLs will be a million times more likely to be included in the sample than a site that's just a single page","msgtype":"m.text"},"ts":1240844461000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(though the population is large enough that a single site doesn't occur more than dozens of times, if I remember correctly)","msgtype":"m.text"},"ts":1240844520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"drostie: if those pages would use HTML5 parsers instead of \"generic parsers\", wouldn't the XSS problems go away?","msgtype":"m.text"},"ts":1240844521000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: that would depend -- but it's much easier to use a generic parser that replaces < and > with character entities than it is to write an HTML5 parser. ","msgtype":"m.text"},"ts":1240844640000,"senderName":"drostie","senderId":"drostie@irc"},
{"content":{"body":"drostie, there's a plan to address that through <iframe doc=\"string of html\" seamless sandbox></iframe> iirc","msgtype":"m.text"},"ts":1240844700000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"But jgraham is right, there's a *lot* of discussion about this idea on the mailing list; and one good reason it will never work is because you will always need to parse the content anyway, for legacy clients.","msgtype":"m.text"},"ts":1240844701000,"senderName":"drostie","senderId":"drostie@irc"},
{"content":{"body":"anne: I'll look at that as well. :D","msgtype":"m.text"},"ts":1240844760000,"senderName":"drostie","senderId":"drostie@irc"},
{"content":{"body":"drostie, the fallback would be a src=cross-origin","msgtype":"m.text"},"ts":1240844761000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"drostie, note that doc= is not defined currently","msgtype":"m.text"},"ts":1240844762000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"zcorpan: They would have to use HTML5 parsers plus sanitisers that have zero bugs","msgtype":"m.text"},"ts":1240844880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"plus serialisers that have zero bugs","msgtype":"m.text"},"ts":1240844881000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Only zero bugs that result in exploitable holes","msgtype":"m.text"},"ts":1240844882000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and also browsers must not be buggy or non-standard","msgtype":"m.text"},"ts":1240844883000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Then you'll be secure","msgtype":"m.text"},"ts":1240844884000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"In the meantime, the 'defence in depth' thing seems like a good idea","msgtype":"m.text"},"ts":1240845000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh dear","msgtype":"m.text"},"ts":1240849440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"finds photos of him","msgtype":"m.emote"},"ts":1240849441000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Note to the people who designed github: I am really stupendeously uninterested in whether I get a zip file or a tar.gz file","msgtype":"m.text"},"ts":1240864620000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I imagine other people might care, since Windows users can only read zip, and users of more functional OSes can read both but .tar.gz is often much more efficient","msgtype":"m.text"},"ts":1240866840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: There is no excuse for making the UI \"click a link marked download, get a modal overlay thing sking what type of file I want\". In almost all cases the extra efficiency of tar.gz will save much less download time than the extra time taken to deal with unexpected popup","msgtype":"m.text"},"ts":1240867140000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So just going with zip would be fine","msgtype":"m.text"},"ts":1240867200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Or if they really think people need a choice it should be two different links","msgtype":"m.text"},"ts":1240867201000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Oh, that does sound a bit annoying","msgtype":"m.text"},"ts":1240867380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Somebody teach me how to solve first and second order differential equations.","msgtype":"m.text"},"ts":1240867980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"forgets what first and second order differential equations are","msgtype":"m.emote"},"ts":1240867981000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Things in the Advanced Higher maths course :)","msgtype":"m.text"},"ts":1240868040000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That's not an entirely helpful description","msgtype":"m.text"},"ts":1240868100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: In general it's not possible or at least not easy, I think. But you only need to know special forms, not in general","msgtype":"m.text"},"ts":1240868640000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"gsnedders: So if you really want help you'll need to be more specific about what you want to know","msgtype":"m.text"},"ts":1240868820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: What is required in the AH course.","msgtype":"m.text"},"ts":1240868821000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":":P","msgtype":"m.text"},"ts":1240868822000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: The bit of the syllabus that I found so far talks about equations in the form dy/dx = F(x)/G(y)","msgtype":"m.text"},"ts":1240869180000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"No, not them","msgtype":"m.text"},"ts":1240869240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"googles for ah maths and finds his school's website","msgtype":"m.emote"},"ts":1240869241000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: you mean ones like a(x)dy/dx + b(x)y = f(x)?","msgtype":"m.text"},"ts":1240869360000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1240869361000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Search http://www.sqa.org.uk/files_ccc/Maths_AH_5th_ed.pdf for differential equations","msgtype":"m.text"},"ts":1240869420000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ah, well you do what it say then. You rearrange it to the form dy/dx + F(x)y = G(x)","msgtype":"m.text"},"ts":1240869421000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and notice that multiplyin both sides by exp(int(F(x), dx)) gives you something that you can write as an exact differential","msgtype":"m.text"},"ts":1240869480000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"since d/dx(y*exp(int(F(x, dx)))) = F(x)exp(int(F(x), dx)))*y + dy/dx*exp(int(F(x),dx))","msgtype":"m.text"},"ts":1240869600000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(excude the probably mismtched brackets)","msgtype":"m.text"},"ts":1240869660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That's applying the chain rule to d/dx(exp(g(x)) where g(x) happens to be an integral","msgtype":"m.text"},"ts":1240869720000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"badly needs to learn maths","msgtype":"m.emote"},"ts":1240869721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: The important thing to realise is that a) you can't do everyhing \"forwards\"; someimes you need to know/intuit the answer","msgtype":"m.text"},"ts":1240869780000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and b) you can get a long way with practice","msgtype":"m.text"},"ts":1240869781000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well, for b) I have four weeks until the exam","msgtype":"m.text"},"ts":1240869782000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Well make good use of it :)","msgtype":"m.text"},"ts":1240869840000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"This week I'm kinda stuck with second prelims and ball, so only three weeks really","msgtype":"m.text"},"ts":1240869900000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ahhhh","msgtype":"m.text"},"ts":1240869901000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"notes that balls aren't really very productive, so you could spend that time doing fun maths instead","msgtype":"m.emote"},"ts":1240869960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"And ditch the gorgeous girl I'm meant to be going with now? :P","msgtype":"m.text"},"ts":1240869961000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Sure","msgtype":"m.text"},"ts":1240869962000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"It's statistically unlikely that you'll marry her, so it's just a waste of time in the long run","msgtype":"m.text"},"ts":1240870020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"LOL","msgtype":"m.text"},"ts":1240870021000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"sees a flaw in that argument","msgtype":"m.emote"},"ts":1240870140000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well I say one, but that's really an insult to arguments with just one flaw","msgtype":"m.text"},"ts":1240870141000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Philip`: I am, however, avoiding being overly unproductive by not going to the afterball","msgtype":"m.text"},"ts":1240870260000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I suppose it depends on how much value you place on fleeting happiness","msgtype":"m.text"},"ts":1240870261000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Not at all. It assumes that the experience will have a negligible impact on your future life","msgtype":"m.text"},"ts":1240870440000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which seems like an entirely unsupportable hypothesis","msgtype":"m.text"},"ts":1240870441000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(it also assumes that marriage is a end unto something which is rather sily)","msgtype":"m.text"},"ts":1240870500000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"notes that gsnedders should in no way use his previous argument to prioritise the ball over maths revision :)","msgtype":"m.emote"},"ts":1240871520000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Sorry, but, girl I'm going with > you.","msgtype":"m.text"},"ts":1240873320000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"has no idea what that has to do with anything","msgtype":"m.emote"},"ts":1240873680000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"decides it is bed time","msgtype":"m.emote"},"ts":1240873740000,"senderName":"jgraham","senderId":"jgraham@irc"}
]