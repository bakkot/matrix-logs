[
{"content":{"body":"sends mail","msgtype":"m.emote"},"ts":1213488060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://www.middlebury.govoffice.com/ - <html xmlns:msxsl=\"urn:schemas-microsoft-com:xslt\" xmlns:vbscript=\"http://mycompany.com/mynamespace\"> - yay for copy-and-paste from example code","msgtype":"m.text"},"ts":1213496640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: heh","msgtype":"m.text"},"ts":1213496820000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"http://www.freeamerican.com/ - <all Clay About><Y</all><all Clay About><Y</all><all Clay About><Y</all> a zillion times - ?!","msgtype":"m.text"},"ts":1213496821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: man, that page is a goldmine in many ways","msgtype":"m.text"},"ts":1213496940000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"mcarter: hei. what's status on the JS implementation you were doing related to the connection API? haven't heard anything about it for a while","msgtype":"m.text"},"ts":1213497000000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I'm not sure I'd call what you find there \"gold\"","msgtype":"m.text"},"ts":1213497060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"\"THC is a cure for Cancer!\"","msgtype":"m.text"},"ts":1213497061000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I like that part at least","msgtype":"m.text"},"ts":1213497062000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, I implemented the html5 TCPConnection as specified, both api and protocol","msgtype":"m.text"},"ts":1213497180000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"MikeSmith, I've been waiting to release until I get it going in opera, which I'm working on today","msgtype":"m.text"},"ts":1213497240000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"actually, i don't suppose any opera developers are around? annevk? there seems to be an incompatibility between 9.27 and 9.5 for SSE with the application/x-dom-event-stream content-type","msgtype":"m.text"},"ts":1213497300000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: virtuelv (Arve B.) might be a good person to ask about","msgtype":"m.text"},"ts":1213497480000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"about that","msgtype":"m.text"},"ts":1213497481000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"he is a web app developer at Opera","msgtype":"m.text"},"ts":1213497482000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"virtuelv_: ","msgtype":"m.text"},"ts":1213497540000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, thanks","msgtype":"m.text"},"ts":1213497541000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"virtuelv_, in opera 9.5 the problem is if i do this: \"var source = document.createElement(\"event-source\"); source.setAttribute('src', url); document.body.appendChild(source);\" then it connects TWICE. once when i setAttribute 'src', the other time when i put the element in the document","msgtype":"m.text"},"ts":1213497600000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"virtuelv_, older versions of opera would only connect to the event source once","msgtype":"m.text"},"ts":1213497660000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: what ever happened to your plans to propose an HTTP-tunneled version of the protocol?","msgtype":"m.text"},"ts":1213497720000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"I really want to add some kind of two-way persistent communication mechanism to WebKit but the current TCPConnection just seems like a bad design","msgtype":"m.text"},"ts":1213497780000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"othermaciej_, I wanted a working implementation first. And that proved harder than I thought","msgtype":"m.text"},"ts":1213497781000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej_, the good news, is I have one now, and i'm just putting on the finishing touches. like opera support","msgtype":"m.text"},"ts":1213497782000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: so this sorta works like a reverse proxy I assume?","msgtype":"m.text"},"ts":1213497783000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"the client does two-way messaging and some intermediary handles that and maintains a persistent connection to the real server?","msgtype":"m.text"},"ts":1213497840000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"othermaciej_, yeah. the api in the browser is the standard, and the protocol out the back of the proxy is the proposal","msgtype":"m.text"},"ts":1213497841000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"I guess that might even still be useful for load reduction, so long as the intermediary has a good policy for when to tear down the persistent connection","msgtype":"m.text"},"ts":1213497900000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(reduces load on your real server and the reverse proxy bit is easily scalable given its nature)","msgtype":"m.text"},"ts":1213497901000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, tear down which persistent connection? the one to the backend or the one to the browser?","msgtype":"m.text"},"ts":1213497960000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"to the back end","msgtype":"m.text"},"ts":1213497961000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"to the browser it can't have a persistent two-way connection, right?","msgtype":"m.text"},"ts":1213498020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"though I guess it can use event-source or XHR for something one-way persistent","msgtype":"m.text"},"ts":1213498021000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, well no, it has a server->browser persistent connection, and another connection for xhr browser->server","msgtype":"m.text"},"ts":1213498022000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, but i figure the backend server can close the connection whenever it wants","msgtype":"m.text"},"ts":1213498080000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: how can you ensure that a persistent browser->server connection is maintained?","msgtype":"m.text"},"ts":1213498081000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, i don't know if you can necessarily ensure it for all browsers. But in practice, if you use keep alive and send a ping or something every so often, the browser->server connection tends to remain open","msgtype":"m.text"},"ts":1213498140000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"also, after creating this api, I made some more protocol implementations on top","msgtype":"m.text"},"ts":1213498200000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"oh?","msgtype":"m.text"},"ts":1213498201000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"for instance, there is an IRC client written in javascript thats pretty neat (this uses an alternative proxy->backend protocol. just raw tcp with no initial handshake)","msgtype":"m.text"},"ts":1213498202000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"I've come upon a number of issues for some protocols though","msgtype":"m.text"},"ts":1213498260000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"for instance, in implementing the STOMP protocol (simple messaging protocol for message queues) it uses a '\\0' byte which the browsers won't all send","msgtype":"m.text"},"ts":1213498261000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"I know these protocols aren't the target case for the html5 specification -- i was just experimenting","msgtype":"m.text"},"ts":1213498320000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"in implementing xmpp, I found that some servers require TLS handshake and its really not feasible to implement encryption directly in the browser","msgtype":"m.text"},"ts":1213498380000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"it would be kinda slow, certainly","msgtype":"m.text"},"ts":1213498800000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"newer JS implementations are getting better at code like that but still not as fast as C, and there is always IE to deal with still","msgtype":"m.text"},"ts":1213498801000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"wonders if \"still not as fast as C\" means \"still two orders of magnitude slower than C\"","msgtype":"m.emote"},"ts":1213498980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah... the funny thing about implementing xmpp in the browser is that you get buddy icons back as byte arrays (javascript list of integers)","msgtype":"m.text"},"ts":1213498981000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"you can base64 encode it and set the img src=\"data:base64string\", at least in firefox. but again, no IE support","msgtype":"m.text"},"ts":1213498982000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Philip`: probably around 20 times slower, in the fastest JS implementations (at least without static typing extensions)","msgtype":"m.text"},"ts":1213499040000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it would be really nice to have more of the native image decoder and ssl stuff exposed directly to javascript","msgtype":"m.text"},"ts":1213499041000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"real bytearrays would be a nice start","msgtype":"m.text"},"ts":1213499160000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"mcarter: if you could send whatever feedback you have soon, that'd be great -- i really have to start working on that part of the spec (either fix it, or remove it)","msgtype":"m.text"},"ts":1213499400000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, ok, sorry for the delay. I was trying to hard to perfect my implementation. I'll send the feedback soon.","msgtype":"m.text"},"ts":1213500120000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1213500121000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well that didn't take long","msgtype":"m.text"},"ts":1213501320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rb just sent his complaint that i was dismissing him","msgtype":"m.text"},"ts":1213501321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders: yt?","msgtype":"m.text"},"ts":1213501620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I know there exists userjs for using xpath in fragment identifiers. But I don't know of anyone using them.","msgtype":"m.text"},"ts":1213519440000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/www-archive/2008Jun/0074.html","msgtype":"m.text"},"ts":1213521000000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"looks like he's asking for a new editor, simply based on the fact that Hixie disagrees with him.","msgtype":"m.text"},"ts":1213521060000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"is using FXPointer","msgtype":"m.emote"},"ts":1213521480000,"senderName":"hdh","senderId":"hdh@irc"},
{"content":{"body":"Hixie: Let me ask the same question of you: yt?","msgtype":"m.text"},"ts":1213521780000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Lachy: I wonder what it means that RB chose to CC html4all, but not public-html","msgtype":"m.text"},"ts":1213522620000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva, because it's discussing a process related issue, which shouldn't be discussed on public-html","msgtype":"m.text"},"ts":1213522920000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"\"Focussing on things like demand and whether implementors will  ","msgtype":"m.text"},"ts":1213523220000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"implement is entirely unhelpful.\"","msgtype":"m.text"},"ts":1213523221000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"!?","msgtype":"m.text"},"ts":1213523222000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"because rob burns knows those things as well as Hixie does","msgtype":"m.text"},"ts":1213523223000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so it's insulting to bring them up","msgtype":"m.text"},"ts":1213523224000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hey if rob burns convinces the htmlwg to remove me as editor i'd probably be the happiest person on the working group","msgtype":"m.text"},"ts":1213524780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'd no longer have to deal with rob burns, for one","msgtype":"m.text"},"ts":1213524781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if it ever comes to w3c html5 vs whatwg html5, i have absolutely zero doubt about who would be able to move faster","msgtype":"m.text"},"ts":1213524782000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the motivation alone would probably double my prouctivity","msgtype":"m.text"},"ts":1213524840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the w3c bugzilla isn't the first one he's abused","msgtype":"m.text"},"ts":1213524841000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"gsnedders: here now, but i e-mailed you anyway","msgtype":"m.text"},"ts":1213524842000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the funniest aspect of this rob burns thing is that of all the people on the wg, i think i'm the one who has spent the most time trying to consider his proposals and comments","msgtype":"m.text"},"ts":1213524900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"e.g. as far as i can tell most of his process complaints just fall on deaf ears","msgtype":"m.text"},"ts":1213524901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Could you reply to my email to public-html from several days ago first?","msgtype":"m.text"},"ts":1213524902000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: That will ensure I'm not being stupid","msgtype":"m.text"},"ts":1213524903000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"um... sure","msgtype":"m.text"},"ts":1213524960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let's see if i can work out where i put that!","msgtype":"m.text"},"ts":1213524961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/public-html/2008Jun/0172.html","msgtype":"m.text"},"ts":1213524962000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"probably the sections folder","msgtype":"m.text"},"ts":1213524963000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I finally found someone who has as many unread emails as Hixie, BTW","msgtype":"m.text"},"ts":1213524964000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"My dad.","msgtype":"m.text"},"ts":1213524965000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: You've actually done some of the things, now","msgtype":"m.text"},"ts":1213525080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"does he plan to reply to that mail?","msgtype":"m.text"},"ts":1213525081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I wish Rob's energy could be turned in useful directions that would help the group","msgtype":"m.text"},"ts":1213525082000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: Oh, he hasn't looked at it yet, so he doesn't know that yet.","msgtype":"m.text"},"ts":1213525140000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"but that kind of turnaround can be hard to achieve","msgtype":"m.text"},"ts":1213525141000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: I just got rather urgent emails forwarded from him that he got a month ago","msgtype":"m.text"},"ts":1213525142000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"othermaciej: you can't convert heat energy into mechanical energy","msgtype":"m.text"},"ts":1213525200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: in any sort of efficient manner","msgtype":"m.text"},"ts":1213525201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: what if I redirect his complaints to public-carnot-cycle⊙wo?","msgtype":"m.text"},"ts":1213525202000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"gsnedders: oh i read all my e-mail straight away","msgtype":"m.text"},"ts":1213525203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders: i just don't deal with it straight away","msgtype":"m.text"},"ts":1213525204000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I know that — I do the same :)","msgtype":"m.text"},"ts":1213525260000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it may not be the most efficient way but team-maxwells-demon is not publicly accessible","msgtype":"m.text"},"ts":1213525261000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Has any open source project discovered a way to efficiently eliminate time-wasters? I'd like to know about it","msgtype":"m.text"},"ts":1213525380000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc: A dictatorship?","msgtype":"m.text"},"ts":1213525500000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"how does that help?","msgtype":"m.text"},"ts":1213525620000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc, doing anything with time-wasters is inherently inefficent.","msgtype":"m.text"},"ts":1213525680000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"most of all, trying to elimiate them.","msgtype":"m.text"},"ts":1213525681000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"roc: You just completely ignore them, then they give up","msgtype":"m.text"},"ts":1213525980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: replied","msgtype":"m.text"},"ts":1213525981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"roc: see the talk by fitz and co about poisonous people","msgtype":"m.text"},"ts":1213526040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bugzilla entries are fun","msgtype":"m.text"},"ts":1213526041000,"senderName":"anne-olpc2","senderId":"anne-olpc2@irc"},
{"content":{"body":"(by sussman and fitz)","msgtype":"m.text"},"ts":1213526160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://video.google.com/videoplay?docid=-4216011961522818645","msgtype":"m.text"},"ts":1213526161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right bed time now","msgtype":"m.text"},"ts":1213526162000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1213526163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"actually the hardest time-wasters I've found are people who are really nice and eager to help, and completely clueless","msgtype":"m.text"},"ts":1213526280000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"WebKit has been relatively free of time-wasters","msgtype":"m.text"},"ts":1213526460000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I think because it has no UI","msgtype":"m.text"},"ts":1213526461000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and most of what it does is readily judged by objective criteria like standards and performance metrics","msgtype":"m.text"},"ts":1213526520000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"roc: Those can be channeled into doing manual labor, though","msgtype":"m.text"},"ts":1213526880000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Something is badly broken with my impl.. Ergh.","msgtype":"m.text"},"ts":1213541520000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"assert self.current_section != self.current_section.subsections[-1]","msgtype":"m.text"},"ts":1213541580000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"See, the oddness is that as far as I can see, you shouldn't ever be able to reach the assertion","msgtype":"m.text"},"ts":1213542240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Well, you should reach it, it should just never ever throw an assertion error)","msgtype":"m.text"},"ts":1213542300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://pastebin.com/m6cd75910 — anyone see anyway anything can become a subsection of itself?","msgtype":"m.text"},"ts":1213542420000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Add lots of 'print' statements wherever any of those variables are modified, to see where the error gets introduced?","msgtype":"m.text"},"ts":1213542421000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I've added loads of assert statements, which should cause an error before it reaches there","msgtype":"m.text"},"ts":1213542422000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Shouldn't the assert on line 105 say \"not in\" rather than \"!=\", if you're trying to detect the cases where a section might become its own subsection?","msgtype":"m.text"},"ts":1213542540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Both are single section objects, so no","msgtype":"m.text"},"ts":1213542541000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh, indeed, I'm just being confused","msgtype":"m.text"},"ts":1213542600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it's line 149 when an assertion is thrown: nowhere else","msgtype":"m.text"},"ts":1213542601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(and of course around line 149, if it is a subsection, you're in an infinite loop)","msgtype":"m.text"},"ts":1213542660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"If you want people to debug your code, you should give them a runnable example that demonstrates the problem :-)","msgtype":"m.text"},"ts":1213542661000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I'm just playing around with the interactive interpreter :P","msgtype":"m.text"},"ts":1213542720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: That seems to be irrelevant to my point :-p","msgtype":"m.text"},"ts":1213542780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: http://pastebin.com/m55b99a32 — will that do? :P","msgtype":"m.text"},"ts":1213542900000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: Just remove line 26 if you want it to actually run","msgtype":"m.text"},"ts":1213543020000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"<h2></h2><h3></h3><table><tr><td></table>","msgtype":"m.text"},"ts":1213543260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"That seems to trigger the error","msgtype":"m.text"},"ts":1213543261000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"td is a sectioning root","msgtype":"m.text"},"ts":1213543440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ah - <h1></h1><h2></h2><figure> seems like a possibly minimal case, then","msgtype":"m.text"},"ts":1213543560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The first <h1> becomes the heading of the body","msgtype":"m.text"},"ts":1213543620000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"<h2> hits the otherwise substeps in \"When entering a heading content element\"","msgtype":"m.text"},"ts":1213543621000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://mg.pov.lt/blog/object-graphs-with-graphviz prints a object reference graph, may be it can help","msgtype":"m.text"},"ts":1213543980000,"senderName":"hdh","senderId":"hdh@irc"},
{"content":{"body":"Philip`, do you have a full list of pages that use /> on unknown elements published somewhere?","msgtype":"m.text"},"ts":1213549800000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: No","msgtype":"m.text"},"ts":1213549860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1213549861000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"do you know if there are pages that use /> on some of the newly introduced HTML5 elements? e.g. <section/>, etc.?","msgtype":"m.text"},"ts":1213549862000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I just grepped for <(?!a|b|...|br|dd|...)\\w[^>]*/>","msgtype":"m.text"},"ts":1213549920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"using the list of element names from hsivonen's parser","msgtype":"m.text"},"ts":1213549921000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Mostly it finds RDF (Creative Commons, Trackback, etc) in comments, and VML","msgtype":"m.text"},"ts":1213549980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(where the VML is also in (conditional) comments)","msgtype":"m.text"},"ts":1213549981000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If you have a list of the newly introduced HTML5 elements, I could look for that","msgtype":"m.text"},"ts":1213550040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I think it's unlikely to find anything, since none of the HTML5 element names are used significantly)","msgtype":"m.text"},"ts":1213550100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(unless you count <embed> etc)","msgtype":"m.text"},"ts":1213550160000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://www.w3.org/TR/html5-diff/#new-elements","msgtype":"m.text"},"ts":1213550220000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"(<header> seems to be the most common, on 40 out of 130K pages)","msgtype":"m.text"},"ts":1213550221000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"article|aside|audio|canvas|command|datagrid|datatemplate|details|event-source|figure|footer|header|mark|meter|nest|progress|rule|section|source|time|video","msgtype":"m.text"},"ts":1213550340000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"http://www.outbackatisa.com.au/AttractionsatOutbackatIsa/RiversleighFossilsCentre.aspx","msgtype":"m.text"},"ts":1213550460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"<time hour=\"8\" minute=\"30\" /><span style=\"FONT-SIZE: 8pt; FONT-FAMILY: Verdana; mso-font-kerning: 0pt; mso-ansi-language: EN-US; mso-fareast-language: EN-US\">8.30am - 5.00pm</span></time />","msgtype":"m.text"},"ts":1213550520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"is that it? One page is hardly significant evidence.","msgtype":"m.text"},"ts":1213550640000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Wait a few minutes :-)","msgtype":"m.text"},"ts":1213550700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1213550701000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I'm pretty sure I've seen Hixie show pages which have it in quantity that would screw up if parsed as empty elements","msgtype":"m.text"},"ts":1213550702000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"(except s/bad grammar/good english/)","msgtype":"m.text"},"ts":1213550703000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"takkaria: On unknown elements?","msgtype":"m.text"},"ts":1213550760000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"mm, perhaps not","msgtype":"m.text"},"ts":1213550761000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"There's loads of known elements where it'd break, but IE already parses unknown elements as effectively empty so nobody should be intentionally relying on that behaviour","msgtype":"m.text"},"ts":1213550762000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it's ok. I have other argument's against Rob's proposal that doesn't depend on this particular evidence.","msgtype":"m.text"},"ts":1213550820000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: (Finished searching) That's the only one (excluding any pages that split the tag over multiple lines)","msgtype":"m.text"},"ts":1213550880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(There's a million times more pages that I didn't search than I did, so it's not possible to conclude anything much from a lack of evidence)","msgtype":"m.text"},"ts":1213551000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Well, go search some more!","msgtype":"m.text"},"ts":1213551001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it would be very confusing for future authors to have to use the solidus sometimes but not always","msgtype":"m.text"},"ts":1213551002000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"takkaria, yeah, that's my other argument that I've written","msgtype":"m.text"},"ts":1213551003000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"but I can see the worth in the proposal.  I'm not quite sure what kind of empty elements one would want to include in the future, though...","msgtype":"m.text"},"ts":1213551060000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"hey, why doesn't this section list any of the new void elements, like source and event-source? http://www.whatwg.org/specs/web-apps/current-work/#elements0","msgtype":"m.text"},"ts":1213551061000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: Because Hixie sucks>?","msgtype":"m.text"},"ts":1213551120000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"s/>//","msgtype":"m.text"},"ts":1213551121000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: I've already got too many to fit in RAM, so searches take ages, so I don't want more :-(","msgtype":"m.text"},"ts":1213551122000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(*I don't want more pages; I do want more RAM)","msgtype":"m.text"},"ts":1213551123000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Can't we give you more of both?","msgtype":"m.text"},"ts":1213551180000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"how much RAM do you have?","msgtype":"m.text"},"ts":1213551181000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: 4GB","msgtype":"m.text"},"ts":1213551182000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ok, not too bad.","msgtype":"m.text"},"ts":1213551183000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"It'd be nice when we can have 16TB of RAM. Then we would have these problems.","msgtype":"m.text"},"ts":1213551240000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: 16TB of RAM should be enough for anyone!","msgtype":"m.text"},"ts":1213551241000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"s/16TB/640KB/","msgtype":"m.text"},"ts":1213551242000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hober: ping","msgtype":"m.text"},"ts":1213551243000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"16TB of RAM is more than I have available on hard drives.","msgtype":"m.text"},"ts":1213551300000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Also I'd run out of allocated disk space, and I can't remember the LVM commands to merge physical partitions and rebuild the RAID and filesystem and everything so I'd probably destroy my computer","msgtype":"m.text"},"ts":1213551301000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and the sysadmin complained when I last modified the disk stuff, since I'd grown the root filesystem to 32GB when I only really needed 8GB)","msgtype":"m.text"},"ts":1213551420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"needs his 15GB of music","msgtype":"m.emote"},"ts":1213551600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That reminds me, I should compress all the cached pages to save on IO and RAM","msgtype":"m.text"},"ts":1213551660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: I keep all that on my personal laptop, not on my work machine :-)","msgtype":"m.text"},"ts":1213551720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: They are one and the same for me :)","msgtype":"m.text"},"ts":1213551721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Clearly you have too few computers","msgtype":"m.text"},"ts":1213551780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Clearly.","msgtype":"m.text"},"ts":1213551781000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"yeah, you can never have too many computers.","msgtype":"m.text"},"ts":1213551782000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I have 4 and I'm ordering a 5th tomorrow.","msgtype":"m.text"},"ts":1213551840000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"has far too many in this house","msgtype":"m.emote"},"ts":1213551841000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Only that a lot of them are from the mid/late 90s","msgtype":"m.text"},"ts":1213551842000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"although, I'm replacing my old and mostly dead Mac Mini and really big, bulky and noisy PC with a new iMac","msgtype":"m.text"},"ts":1213551900000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"mm, BBC BASIC","msgtype":"m.text"},"ts":1213551901000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"'s parents had about a dozen from the 90s, but threw them all out recently :-(","msgtype":"m.emote"},"ts":1213552140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"files a new bug, in the hope that it will increase the number of useful bugs from 0 to 1","msgtype":"m.emote"},"ts":1213552320000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"s/useful bugs/useful bug reports/","msgtype":"m.text"},"ts":1213552321000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Who's dave.null⊙wo?","msgtype":"m.text"},"ts":1213552380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, just the default assignee of all bugs.","msgtype":"m.text"},"ts":1213552440000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"wonders if it's related to a real person called Dave, or just a joke on /dev/null","msgtype":"m.emote"},"ts":1213552500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it's either an archived list, or just an email address that files everything in /dev/null","msgtype":"m.text"},"ts":1213552501000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"and it's not listed in either the Public or Member lists. It could be in Team, but unlikely","msgtype":"m.text"},"ts":1213552560000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hmm, Gentoo has opera-9.50 (and marked stable) now","msgtype":"m.text"},"ts":1213552800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders if he should risk upgrading","msgtype":"m.emote"},"ts":1213552801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Even more minimalistic test case: \"<table><tr><td>foo\"","msgtype":"m.text"},"ts":1213553400000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ah, that's confusingly non-monotonic - I had tried removing just one of the headings, which made the error go away, and didn't try removing both","msgtype":"m.text"},"ts":1213553520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I still got the error with one header","msgtype":"m.text"},"ts":1213553521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh","msgtype":"m.text"},"ts":1213553580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i wonder why i'm not getting any email","msgtype":"m.text"},"ts":1213554300000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"is tempted to go and play through GTA4 again, making all the choices he didn't make before","msgtype":"m.emote"},"ts":1213554540000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You didn't make the choice to not play the game, so that means you would have to make that choice now","msgtype":"m.text"},"ts":1213554600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/choices/choices within the game/","msgtype":"m.text"},"ts":1213554660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You didn't make the choice to be a perfectly law-abiding citizen within the game","msgtype":"m.text"},"ts":1213554720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/choices within the game/choices that occur while completing the game storyline/","msgtype":"m.text"},"ts":1213554840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You didn't make the choice to walk backwards all the time","msgtype":"m.text"},"ts":1213554900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"oh fuck off.","msgtype":"m.text"},"ts":1213554960000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You're just being insufficiently precise","msgtype":"m.text"},"ts":1213554961000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://wiki.whatwg.org/wiki/Parser_tests says that the tests have a correctness flag","msgtype":"m.text"},"ts":1213555680000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"er, that doctypes have a correctness flag","msgtype":"m.text"},"ts":1213555681000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"whilst now they have a force-quirks flag","msgtype":"m.text"},"ts":1213555740000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"I assume that force-quirks is = !correctness","msgtype":"m.text"},"ts":1213555741000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"takkaria: It is","msgtype":"m.text"},"ts":1213555742000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1213555743000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"Going back to <http://pastebin.com/m6cd75910>, it seems section.subsections gets set somewhere","msgtype":"m.text"},"ts":1213559460000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I can't see where, though","msgtype":"m.text"},"ts":1213559461000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I just had the error vanish for one run","msgtype":"m.text"},"ts":1213560060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Huh.","msgtype":"m.text"},"ts":1213560061000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Shouldn't line 128 be \"pass\" instead of \"return\", else it won't run the \"In addition, whenever you exit a node, ...\" bit?","msgtype":"m.text"},"ts":1213560600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Peh. That's irrelevant! It doesn't even associate anything apart from elements with sections anyway. It's broken there.","msgtype":"m.text"},"ts":1213560660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: And I've removed that from my local copy entirely now","msgtype":"m.text"},"ts":1213560661000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ooh","msgtype":"m.text"},"ts":1213560780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Your definition of 'class section' is broken","msgtype":"m.text"},"ts":1213560781000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"because the 'subsections = []' etc is assigning a single list object when the class is first defined, whereas you want a new list object for each instance of that class","msgtype":"m.text"},"ts":1213560840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so the .subsections of all section objects is exactly the same list","msgtype":"m.text"},"ts":1213560900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(so when one section is added to another's subsections, it's being added to its own subsections too)","msgtype":"m.text"},"ts":1213560901000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ahah!","msgtype":"m.text"},"ts":1213560960000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Something is certainly broken with the algorithm","msgtype":"m.text"},"ts":1213561140000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"<h1/><h2/><h2/> Never picks up the second h2","msgtype":"m.text"},"ts":1213561141000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"((And obviously the same problem applies to the 'toc' class, if you're using it more than once))","msgtype":"m.text"},"ts":1213561200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hmm…","msgtype":"m.text"},"ts":1213561260000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it seems to be quicker to have stack as a normal list and not a deque, as len() is quicker on a normal list","msgtype":"m.text"},"ts":1213561261000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You can avoid lots of uses of len by doing \"if foo\" instead of \"if len(foo) > 0\", which should be faster","msgtype":"m.text"},"ts":1213561320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Also doing stacks as lists is sensible anyway, since lists are optimised for adding/removing from the end, which is exactly what you do to a stack","msgtype":"m.text"},"ts":1213561380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah, that is quicker","msgtype":"m.text"},"ts":1213561381000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: deque should be quicker for any frequently changing list, AFAIK","msgtype":"m.text"},"ts":1213561382000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: That depends entirely on how you're changing it :-)","msgtype":"m.text"},"ts":1213561500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I meant changing it from the right end","msgtype":"m.text"},"ts":1213561501000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(because if you're not, deque is obviously going to quicker, due to it being an O(1) op. there, and an O(n) one in a list)","msgtype":"m.text"},"ts":1213561502000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"By \"right end\", do you mean \"correct end\" or \"end with highest index value\"?","msgtype":"m.text"},"ts":1213561620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: \"correct\"?","msgtype":"m.text"},"ts":1213561680000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"lists are O(1) push-right and pop-right and get and set, and O(n) push-left and pop-left; deques are O(1) push and pop on left and right (with a larger constant factor than lists), and O(n) on get and set","msgtype":"m.text"},"ts":1213561860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: By \"correct end\" (for lists) I mean the end with the highest index value, since that's fast and the other end is slow","msgtype":"m.text"},"ts":1213561980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Then why the \"or\", as they're both the same","msgtype":"m.text"},"ts":1213561981000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders; I get sensible results from <h1>foo</h1><h2>bar</h2><h2>baz</h2>","msgtype":"m.text"},"ts":1213561982000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: On my impl or yours?","msgtype":"m.text"},"ts":1213562040000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"On my imp.","msgtype":"m.text"},"ts":1213562041000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I think","msgtype":"m.text"},"ts":1213562042000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Although I no longer understand how my implementation works","msgtype":"m.text"},"ts":1213562100000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'll see if the online copy is up to date","msgtype":"m.text"},"ts":1213562101000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"gsnedders: Because I was unsure which you meant, and whether you meant only lists (where one end is correct) or also deques (where neither is)","msgtype":"m.text"},"ts":1213562280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: Try the case that you're having  problem with at http://james.html5.org/outliner.html","msgtype":"m.text"},"ts":1213562400000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: That doesn't work for me","msgtype":"m.text"},"ts":1213562460000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"What doesn't work?","msgtype":"m.text"},"ts":1213562520000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: the outliner in saf","msgtype":"m.text"},"ts":1213562521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jgraham: And in Fx2 all I get is \"updating…\"","msgtype":"m.text"},"ts":1213562522000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh, well try FF3 then :)","msgtype":"m.text"},"ts":1213562580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"goes to debug Safari","msgtype":"m.emote"},"ts":1213562581000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Or rather debug my ode in Safari","msgtype":"m.text"},"ts":1213562582000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"An ode to Safari?","msgtype":"m.text"},"ts":1213562640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hmm I've heard that code is poetry but I'm not sure that Shakespeare is concerned with my efforts","msgtype":"m.text"},"ts":1213562700000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://www.unix.com.ua/orelly/perl/prog3/ch27_02.htm","msgtype":"m.text"},"ts":1213562760000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah, it works fine there","msgtype":"m.text"},"ts":1213562820000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jgraham: is the script (web_outline) that actually makes the structure visible available?","msgtype":"m.text"},"ts":1213563840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: Is line 136 of http://pastebin.com/m6cd75910 correct?","msgtype":"m.text"},"ts":1213564260000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: Or am I still misunderstanding you?","msgtype":"m.text"},"ts":1213564261000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: The actual useful script is outline.py","msgtype":"m.text"},"ts":1213565280000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which I can make avaliable","msgtype":"m.text"},"ts":1213565281000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Yeah, I know, but I want to see web_outline :P","msgtype":"m.text"},"ts":1213565282000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Not very useful? http://pastebin.com/d7520d64b","msgtype":"m.text"},"ts":1213565640000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: http://james.html5.org/temp/outline/outline.py doesn't actually build the visible output","msgtype":"m.text"},"ts":1213565820000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"oh, wait, the tostring does","msgtype":"m.text"},"ts":1213565880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yeah, the tostring actually builds the visible content. Not really very elegant","msgtype":"m.text"},"ts":1213566120000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"What did you decide was the best way to get text out of lxml elements?","msgtype":"m.text"},"ts":1213566121000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: etree.tostring(element, encoding=unicode, method='text', with_tail=False)","msgtype":"m.text"},"ts":1213566180000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Thanks","msgtype":"m.text"},"ts":1213566420000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Thank Philip` too","msgtype":"m.text"},"ts":1213566421000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: Thanks :)","msgtype":"m.text"},"ts":1213566480000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://pastebin.com/m137dfc92 — I can't get that to create any sane TOC","msgtype":"m.text"},"ts":1213566720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Looking at the outline of the body, I find 440 sections","msgtype":"m.text"},"ts":1213566721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"And there aren't that many h2 elements in HTML 5","msgtype":"m.text"},"ts":1213566780000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(there are 19 in my copy)","msgtype":"m.text"},"ts":1213566781000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hmm, enumerating all combinations of {0, Infinity, -Infinity, NaN} for each argument of an 8-argument function is not a good idea","msgtype":"m.text"},"ts":1213569720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Lachy: Don't give up! Don't let him confuse you!","msgtype":"m.text"},"ts":1213571520000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva, what are you referring to?","msgtype":"m.text"},"ts":1213573440000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"are you referring to Rob's bugzilla responses?","msgtype":"m.text"},"ts":1213573740000,"senderName":"Lachy","senderId":"Lachy@irc"}
]