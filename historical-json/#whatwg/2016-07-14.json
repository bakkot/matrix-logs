[
{"content":{"body":"jsbell:  Entry webkitGetAsEntry(); that webidl doesn't allow returning null, but the prose says null can be returned","msgtype":"m.text"},"ts":1468456089000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so Entry -> Entry?","msgtype":"m.text"},"ts":1468456099000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"callback interfaces are icky","msgtype":"m.text"},"ts":1468459404000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but if this is a legacy API then what can you do","msgtype":"m.text"},"ts":1468459414000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: earlier I was looking for CC0 test cases for the Encoding Standard. Now there are some: https://github.com/hsivonen/encoding_rs/commit/186ab87b68a6cd1eb3fa4895ce6dc87c66f11cf8","msgtype":"m.text"},"ts":1468484843000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hi, using html5lib, when I run `html5lib.parseFragment(myhtml, treebuilder=\"lxml\")` I get a list of Element, rather than an ElementTree. Is it normal?","msgtype":"m.text"},"ts":1468500823000,"senderName":"aleray_","senderId":"aleray_@irc"},
{"content":{"body":"gsnedders: â¬†","msgtype":"m.text"},"ts":1468501729000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"aleray_: I think so.","msgtype":"m.text"},"ts":1468503694000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"aleray_: https://html.spec.whatwg.org/multipage/syntax.html#parsing-html-fragments","msgtype":"m.text"},"ts":1468503722000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Cf. step 14.","msgtype":"m.text"},"ts":1468503725000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox, thanks","msgtype":"m.text"},"ts":1468505267000,"senderName":"aleray_","senderId":"aleray_@irc"},
{"content":{"body":"nox, lxml html5parser seems todo it \"by hand\": https://github.com/lxml/lxml/blob/master/src/lxml/html/html5parser.py#L95","msgtype":"m.text"},"ts":1468506489000,"senderName":"aleray_","senderId":"aleray_@irc"},
{"content":{"body":"Domenic: https://html.spec.whatwg.org/multipage/webappapis.html#dom-createimagebitmap - the only step that's in parallel here is resolving the promise. Does this mean the promise is kinda pointless and the work will be on the main thread?","msgtype":"m.text"},"ts":1468510954000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Eg steps 10 & 11","msgtype":"m.text"},"ts":1468510998000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: hah, yes, looks like a bug.","msgtype":"m.text"},"ts":1468516789000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: cheers, will write it up","msgtype":"m.text"},"ts":1468516804000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I wonder where implementations actually go to be \"in parallel\"","msgtype":"m.text"},"ts":1468516826000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"seems like there could be race conditions depending...","msgtype":"m.text"},"ts":1468516834000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"or maybe there's a copy of the incoming data made at the top of the algorithm?","msgtype":"m.text"},"ts":1468516845000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"aleray_: yeah, there's no way to give a fragment as a tree, because you essentially have multiple top-level eleemnts","msgtype":"m.text"},"ts":1468516852000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Domenic: pretty early. I think the intention is for decoding & raster to happen in another thread if the input is blob","msgtype":"m.text"},"ts":1468516945000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I'll be curious what junov says...","msgtype":"m.text"},"ts":1468517001000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Is the idea that the promise-returning only matters for the blob input?","msgtype":"m.text"},"ts":1468517013000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"so for img/video/etc. cases we should just collapse them into \"Return a new promise resolved with ...\"?","msgtype":"m.text"},"ts":1468517052000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I'd love it if we could do SVG rasterizing in another thread. That means it should be done for <img> too, since the resize operation means the SVG needs to be re-rastered.","msgtype":"m.text"},"ts":1468517172000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Can someone check to see if Gecko uses the replace argument to window.open? smaug____?","msgtype":"m.text"},"ts":1468520300000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: you mean if that is implemented?","msgtype":"m.text"},"ts":1468520350000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: yeah","msgtype":"m.text"},"ts":1468520355000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(in a meeting but will check after that)","msgtype":"m.text"},"ts":1468520369000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"thanks!","msgtype":"m.text"},"ts":1468520374000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"smaug____: nevermind, I was able to test.","msgtype":"m.text"},"ts":1468521142000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: back","msgtype":"m.text"},"ts":1468522259000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"the outcome was?","msgtype":"m.text"},"ts":1468522264000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"aha, I see the github email","msgtype":"m.text"},"ts":1468522305000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Domenic: did you test document.open case","msgtype":"m.text"},"ts":1468522401000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: Entry? change made","msgtype":"m.text"},"ts":1468522405000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"smaug____: ah right good point","msgtype":"m.text"},"ts":1468522411000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"jsbell: thanks","msgtype":"m.text"},"ts":1468522413000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Domenic: since IIRC Gecko supports replace in document.open","msgtype":"m.text"},"ts":1468522430000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: Chrome's bindings for document.open() literally do dynamic dispatch to window.open() O_o","msgtype":"m.text"},"ts":1468522447000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"almost missed that; did I miss anything else? (also, bugs welcome!)","msgtype":"m.text"},"ts":1468522453000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"to be fair that does seem to be what the spec implies","msgtype":"m.text"},"ts":1468522456000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"we do something similar... reading some code","msgtype":"m.text"},"ts":1468522475000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: yeah looks like document.open()-as-window.open() does not support replace either http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=4321","msgtype":"m.text"},"ts":1468522499000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yes, http://searchfox.org/mozilla-central/source/dom/html/nsHTMLDocument.cpp#1396","msgtype":"m.text"},"ts":1468522509000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Hmm that XXXbz means maybe we should ping bz","msgtype":"m.text"},"ts":1468522539000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: and see bz' comment about ignoring replace there","msgtype":"m.text"},"ts":1468522540000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Domenic: well, bz just added the comment in somewhat unrelated patch: https://hg.mozilla.org/mozilla-central/rev/f870d9cd5af1#l1.519","msgtype":"m.text"},"ts":1468522696000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"he split the Open() method to two, one dealing with non window-opening case and other for window opening","msgtype":"m.text"},"ts":1468522763000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"oh i see","msgtype":"m.text"},"ts":1468522774000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: and the non-window opening case certainly does care about replace param, but that is about different replace param. http://searchfox.org/mozilla-central/rev/5a3efff7dee9d3233f532126afdbcb82ffcc1ff4/content/html/document/src/nsHTMLDocument.cpp#1672-1677 http://searchfox.org/mozilla-central/source/dom/webidl/HTMLDocument.webidl#36,38","msgtype":"m.text"},"ts":1468522973000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"yeah exactly","msgtype":"m.text"},"ts":1468522983000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"nice and confusing","msgtype":"m.text"},"ts":1468522987000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"i mostly just don't want to remove this thing if someone was planning on implementing it soon","msgtype":"m.text"},"ts":1468522998000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"doesn't even know what replace does in window.open","msgtype":"m.emote"},"ts":1468523062000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"we broke the spec without realizing it","msgtype":"m.text"},"ts":1468523121000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but it was meant to cause window.open() to navigate the named window with replacement instead of normally","msgtype":"m.text"},"ts":1468523141000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"so instead of fixing the spec i figure we should just remove it","msgtype":"m.text"},"ts":1468523155000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"gsnedders, Hi","msgtype":"m.text"},"ts":1468526164000,"senderName":"aleray_","senderId":"aleray_@irc"},
{"content":{"body":"thanks, I though there war a createParent option (orsomething like this) to address that","msgtype":"m.text"},"ts":1468526236000,"senderName":"aleray_","senderId":"aleray_@irc"},
{"content":{"body":"*was","msgtype":"m.text"},"ts":1468526249000,"senderName":"aleray_","senderId":"aleray_@irc"},
{"content":{"body":"In https://html5lib.readthedocs.io/en/latest/html5lib.html?highlight=parsefragment#html5lib.__init__.HTMLParser.parseFragment","msgtype":"m.text"},"ts":1468526365000,"senderName":"aleray_","senderId":"aleray_@irc"},
{"content":{"body":"the \"container\" option","msgtype":"m.text"},"ts":1468526380000,"senderName":"aleray_","senderId":"aleray_@irc"},
{"content":{"body":"TabAtkins: updated bikeshed, getting \"Unknown Status 'ED' used.\" Any guesses what's bogus in my metadata?","msgtype":"m.text"},"ts":1468531859000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"https://github.com/w3c/FileAPI/blob/gh-pages/index.bs for reference","msgtype":"m.text"},"ts":1468531900000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: Nothing's bogus, it's a semi-breaking update that'll flush out some minor fixes in some places.  The W3C statuses are now limited to groups that I know are W3C groups.","msgtype":"m.text"},"ts":1468531973000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"assumes https://github.com/tabatkins/bikeshed/commit/f02935307493078ab95b09236b27d2f471aebb44 ... ah","msgtype":"m.emote"},"ts":1468531984000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"TabAtkins: Group: webplatform in this case","msgtype":"m.text"},"ts":1468531999000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"Yes, not known yet. Gimme a sec.","msgtype":"m.text"},"ts":1468532021000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Cool, found megaGroups = { ... }","msgtype":"m.text"},"ts":1468532054000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"I need to make it friendlier, so if there's no name clash I go ahead and let you use it for an unknown group, but throw a warning asking you to let me know about it.","msgtype":"m.text"},"ts":1468532057000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Okay, update pushed.","msgtype":"m.text"},"ts":1468532117000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"yay, works","msgtype":"m.text"},"ts":1468532136000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"You'll also start getting priv-sec nagging. ^_^","msgtype":"m.text"},"ts":1468532165000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"yep, ignoring it in FileAPI (not my spec...)","msgtype":"m.text"},"ts":1468532182000,"senderName":"jsbell","senderId":"jsbell@irc"}
]