[
{"content":{"body":"aklein: not all of those, so a bit?","msgtype":"m.text"},"ts":1453268165000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"console.log() becoming a standard seems to excite more folks on Twitter than anything else we ever did","msgtype":"m.text"},"ts":1453277668000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1453277722000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"annevk: I guess it's something more directly tangible and familiar to most devs","msgtype":"m.text"},"ts":1453281760000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"sice everybody who does web dev knows about console.log() and has used it","msgtype":"m.text"},"ts":1453281792000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Whoa, it seems DreamHost allows enabling Let's Encrypt","msgtype":"m.text"},"ts":1453282894000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Trying it out now... If that works Hixie will be so pleased he won't have to copy-and-paste certificates around dozens of domains","msgtype":"m.text"},"ts":1453282928000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"a quick CSP question -- does my CSP policy apply also *inside* of an iframe that itself sits on an allowed-but-different domain?","msgtype":"m.text"},"ts":1453282946000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: nope","msgtype":"m.text"},"ts":1453282965000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: nice, thanks. makes sense.","msgtype":"m.text"},"ts":1453282977000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"TabAtkins: another example, I just updated bikeshed, and now \"URL\" and \"URLs\" are no longer the same term","msgtype":"m.text"},"ts":1453284059000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or fragment/fragments","msgtype":"m.text"},"ts":1453284175000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: with an updated bikeshed, for dom i get FATAL ERROR: No 'idl' refs found for 'addEventListener()' that are marked for export.","msgtype":"m.text"},"ts":1453284578000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I have no idea how bikeshed works and apparently TabAtkins doesn't run regression tests","msgtype":"m.text"},"ts":1453284668000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: ^","msgtype":"m.text"},"ts":1453284683000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"https://travis-ci.org/tabatkins/bikeshed ... not sure what the expected output is there, but it says both FATAL ERROR and ✔ All tests passed.","msgtype":"m.text"},"ts":1453285397000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: FYI https://lists.w3.org/Archives/Public/www-validator/2016Jan/0019.html","msgtype":"m.text"},"ts":1453287357000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: intredasting. seems like a spec bug. can you file one?","msgtype":"m.text"},"ts":1453287543000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i suppose we don't want to allow <template><p lolfoobar=\"\"></template>","msgtype":"m.text"},"ts":1453287608000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"sure but what about his real example of <img> without src?","msgtype":"m.text"},"ts":1453287670000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I will ask him to file a spec bug for it","msgtype":"m.text"},"ts":1453287725000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"because the validator is conforming to the spec on this","msgtype":"m.text"},"ts":1453287749000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and I'm not sure what sane spec change we could actually make for this","msgtype":"m.text"},"ts":1453287794000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"as far as the validator behavior I could create something that just drops all <template> elements and their subtrees from the document before running validation on it against the RelaxNG schema","msgtype":"m.text"},"ts":1453287927000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"we don't actually have that many required attributes, so one way I could handle it is to make the RelaxNG schema make them optional but make the Java assertions-checking code report errors for them unless they are in <template> subtrees","msgtype":"m.text"},"ts":1453288255000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"while running the build script i am getting \"curl: (55) Send failure: Broken pipe\" this error","msgtype":"m.text"},"ts":1453288359000,"senderName":"ritsyy","senderId":"ritsyy@irc"},
{"content":{"body":"MikeSmith: ^^ turns out connectivity is not stable everywhere which is another good reason to reduce external dependencies","msgtype":"m.text"},"ts":1453288519000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: ritsyy: perhaps we should also document options such as -n directly on https://github.com/whatwg/html-build","msgtype":"m.text"},"ts":1453288564000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes it is very much needed,","msgtype":"m.text"},"ts":1453288630000,"senderName":"ritsyy","senderId":"ritsyy@irc"},
{"content":{"body":"annevk: OK yeah I will put together an html-build PR for that tomorrow (should have had it done before now but been distracted by working on validator stuffーadding support for CSP checking and some other things)","msgtype":"m.text"},"ts":1453288727000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yeah we should change the spec to be somewhat laxer on attributes in <template>","msgtype":"m.text"},"ts":1453288896000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: OK I'll ask them to file the bug since they have real use cases to explain","msgtype":"m.text"},"ts":1453289058000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"thx","msgtype":"m.text"},"ts":1453289112000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: -n also not working in my case","msgtype":"m.text"},"ts":1453289147000,"senderName":"ritsyy","senderId":"ritsyy@irc"},
{"content":{"body":"again there is the broken pipe error script stops almost everytime at 86% or so","msgtype":"m.text"},"ts":1453289213000,"senderName":"ritsyy","senderId":"ritsyy@irc"},
{"content":{"body":"Hmm, perhaps even then there is some network stuff","msgtype":"m.text"},"ts":1453289355000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah","msgtype":"m.text"},"ts":1453289420000,"senderName":"ritsyy","senderId":"ritsyy@irc"},
{"content":{"body":"ritsyy: do you know what exactly it's doing when it hangs at 86%?","msgtype":"m.text"},"ts":1453289664000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I mean, which step","msgtype":"m.text"},"ts":1453289669000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if you run it with --verbose it might be more clear","msgtype":"m.text"},"ts":1453289687000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that will be super-verbose but if you look at the last few lines of console output before that 86% point, that might show it","msgtype":"m.text"},"ts":1453289750000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: https://paste.kde.org/pfom38ygc here are these lines but i didn't got any idea about it","msgtype":"m.text"},"ts":1453290349000,"senderName":"ritsyy","senderId":"ritsyy@irc"},
{"content":{"body":"maybe it works better if wattsi is installed locally?","msgtype":"m.text"},"ts":1453290822000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ah yeah if you don't have wattsi installed locally then it certainly is going to require network access to send the request to the wattsi server and receive the resulting output","msgtype":"m.text"},"ts":1453291281000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: zcorpan okay, yes i will install wattsi locally then, thanks!","msgtype":"m.text"},"ts":1453296512000,"senderName":"ritsyy","senderId":"ritsyy@irc"},
{"content":{"body":"annevk: lolwat, I tested *precisely that*. The change just made it so that *if* I find an exact match, I don't also go look for variants (producing confusing errors if you have two <dfn>s that are variants of each other). I'll debug on the bus this morning, sorry for the trouble.","msgtype":"m.text"},"ts":1453305398000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: noticed it for both URL and DOM, kinda surprised nobody else noticed this","msgtype":"m.text"},"ts":1453305458000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(Seriously, I verified that <dfn>foo</dfn> is still matching <a>foo</a> and <a>fooing</a>.)","msgtype":"m.text"},"ts":1453305465000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Dunno man, I was editting CSS specs all day and didn't run into any problems.","msgtype":"m.text"},"ts":1453305479000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I actually ended up fixing it for URL, by just adding <a lt> things","msgtype":"m.text"},"ts":1453305480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Well you'll be able to revert that in about an hour when I figure out what the deal is.","msgtype":"m.text"},"ts":1453305507000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"but then DOM was much more complicated and became a whack-a-mole","msgtype":"m.text"},"ts":1453305523000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I've told you in the past - don't fix around Bikeshed errors.  I'm very fast in dealing with them, you'll just waste your time and get frustrated trying to deal with them and then revert.","msgtype":"m.text"},"ts":1453305874000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Well, I was already frustrated, but yes, I did waste time","msgtype":"m.text"},"ts":1453306234000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It would be really great if e.g. the DOM source was checked in to Bikeshed and it was a regression test that it have to be rebaselined every change and sanity checked.","msgtype":"m.text"},"ts":1453306292000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: Yeah, I've been meaning to put some full specs into the testsuite for that purpose, and just haven't done it yet. I'll dump DOM in after I fix this.","msgtype":"m.text"},"ts":1453306623000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1453306713000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Oof, working on DOM, I'm like \"how did this *ever* build cleanly?\"","msgtype":"m.text"},"ts":1453307681000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Oh dang, I see the error.  This is... annoying.","msgtype":"m.text"},"ts":1453307771000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"MikeSmith: did you know that your download all PRs script also includes closed PRs?","msgtype":"m.text"},"ts":1453308148000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: would be nice if those could be excluded somehow","msgtype":"m.text"},"ts":1453308157000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, heyo","msgtype":"m.text"},"ts":1453308254000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"First step in https://xhr.spec.whatwg.org/#the-open%28%29-method , how does that work in Workers?","msgtype":"m.text"},"ts":1453308272000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"With https://html.spec.whatwg.org/multipage/workers.html#set-up-a-worker-environment-settings-object","msgtype":"m.text"},"ts":1453308343000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: workers used to have a responsible document too, if that's gone, not sure","msgtype":"m.text"},"ts":1453308414000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: time for an issue I guess and some thinking","msgtype":"m.text"},"ts":1453308456000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, you filing?","msgtype":"m.text"},"ts":1453308464000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1453308477000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Great, thanks","msgtype":"m.text"},"ts":1453308486000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"https://github.com/whatwg/xhr/issues/47","msgtype":"m.text"},"ts":1453308571000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<3","msgtype":"m.text"},"ts":1453308614000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk: Pushing a revert on that commit now, as I'll need to do something differently to make it work properly.","msgtype":"m.text"},"ts":1453308892000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"And DOM works now.","msgtype":"m.text"},"ts":1453308921000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1453308957000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://github.com/whatwg/html/issues/546","msgtype":"m.text"},"ts":1453309173000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Poor avidrissman","msgtype":"m.text"},"ts":1453309181000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"He sits next to me in Chrome NYC","msgtype":"m.text"},"ts":1453309955000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it was fun times yesterday learning about this","msgtype":"m.text"},"ts":1453309962000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"anyone have opinions on what JSON.stringify(new DOMMatrix(...)) should do? see https://lists.w3.org/Archives/Public/public-fx/2016JanMar/0014.html","msgtype":"m.text"},"ts":1453310076000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"philipj: ^","msgtype":"m.text"},"ts":1453310168000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(WebKitCSSMatrix serializes as {} fwiw)","msgtype":"m.text"},"ts":1453310224000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i was going to suggest whatever WebKitCSSMatrix does, because i'm lazy","msgtype":"m.text"},"ts":1453310258000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"miketaylr: in the thread it was argued that all geometry objects should have serializers","msgtype":"m.text"},"ts":1453310368000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that are more useful than {}","msgtype":"m.text"},"ts":1453310378000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah {} is pretty useless","msgtype":"m.text"},"ts":1453310397000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"i'm tempted to switch to serializer = { attribute }; for matrices also","msgtype":"m.text"},"ts":1453310530000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I see two approaches in general: serialize everything and serialize only the minimal amount needed to reconstruct. You seem to have gone with serialize everything elsewhere so being consistent with that makes sense to me.","msgtype":"m.text"},"ts":1453310554000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yeah. thx","msgtype":"m.text"},"ts":1453310590000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"https://github.com/w3c/fxtf-drafts/commit/7b5664a99dff3a3c3afd5085c65fea7ad7791d9c","msgtype":"m.text"},"ts":1453310851000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Domenic: can you check https://github.com/whatwg/html/pull/514 ? :-)","msgtype":"m.text"},"ts":1453311242000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Will do","msgtype":"m.text"},"ts":1453312205000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"hey annevk I had a question about steps 6 and 7 for a redirect status under https://fetch.spec.whatwg.org/#http-fetch","msgtype":"m.text"},"ts":1453315298000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"er, 7 and 8*","msgtype":"m.text"},"ts":1453315308000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"7. If request's redirect count is twenty, return a network error.","msgtype":"m.text"},"ts":1453315318000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"8. Increase request's redirect count by one.","msgtype":"m.text"},"ts":1453315318000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"this means that on the 21st redirect a network error is returned","msgtype":"m.text"},"ts":1453315331000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"since redirect count starts at 0","msgtype":"m.text"},"ts":1453315340000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"is this intentional? cause if the steps were switched, it'd return a network error on the 20th redirect","msgtype":"m.text"},"ts":1453315360000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"20 or 21 is arbitrary (afaict) either way, but 20 just seems easier to logic about cause of how we work with numbers","msgtype":"m.text"},"ts":1453315396000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"I wonder which (if either) browsers implement... I had no idea that was a thing","msgtype":"m.text"},"ts":1453315458000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I guess I've seen the \"too many redirects\" for page loads before","msgtype":"m.text"},"ts":1453315467000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But I didn't realize it would apply to all fetches.","msgtype":"m.text"},"ts":1453315480000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"well, it only applies to fetches that start redirecting","msgtype":"m.text"},"ts":1453315496000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"I just want to be sure of the number because I'm writing some tests for redirects in Servo, and I want to make sure I test the boundaries correctly","msgtype":"m.text"},"ts":1453315524000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"Anyone want to review the commit message for <script type=\"module\">? https://github.com/whatwg/html/pull/443/commits","msgtype":"m.text"},"ts":1453315627000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"nikkibee: that should maybe be nineteen indeed","msgtype":"m.text"},"ts":1453319438000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nikkibee: not really around now though","msgtype":"m.text"},"ts":1453319445000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that's alright, I'm glad I was on to something about it","msgtype":"m.text"},"ts":1453319485000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"should I open an issue about it?","msgtype":"m.text"},"ts":1453319490000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"nikkibee: PR?","msgtype":"m.text"},"ts":1453319502000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nikkibee: but yes","msgtype":"m.text"},"ts":1453319506000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sure thing","msgtype":"m.text"},"ts":1453319509000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"I think switching the order of the steps would make more sense too","msgtype":"m.text"},"ts":1453319517000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"because stopping at 19 is not obvious unless you think about how it's 0-indexed","msgtype":"m.text"},"ts":1453319533000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"nikkibee: so actually","msgtype":"m.text"},"ts":1453319551000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nikkibee: there's an open PR by me","msgtype":"m.text"},"ts":1453319556000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nikkibee: that factors out this redirect business","msgtype":"m.text"},"ts":1453319563000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh! no more redirect_count you mean?","msgtype":"m.text"},"ts":1453319573000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"nikkibee: and changes a couple of things","msgtype":"m.text"},"ts":1453319577000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nikkibee: no that is kept","msgtype":"m.text"},"ts":1453319581000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: what does it change?","msgtype":"m.text"},"ts":1453319595000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"nikkibee: it changes processing for \"manual\"","msgtype":"m.text"},"ts":1453319625000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nikkibee: but it mostly makes it possible for HTML to reuse that algorithm to follow navigation redirects","msgtype":"m.text"},"ts":1453319644000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ttyl","msgtype":"m.text"},"ts":1453319795000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"see ya, thanks for the info","msgtype":"m.text"},"ts":1453319887000,"senderName":"nikkibee","senderId":"nikkibee@irc"},
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1453320349000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"Is the problem of relative URLs in web components already resolved?","msgtype":"m.text"},"ts":1453320392000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"no zcorpan","msgtype":"m.text"},"ts":1453320893000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"https://drafts.csswg.org/cssom-view/#dom-document-scrollingelement could use a small tweak and define what root element means there","msgtype":"m.text"},"ts":1453320931000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"jarek: nope","msgtype":"m.text"},"ts":1453322081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: is it delayed util https://github.com/whatwg/loader spec is finished?","msgtype":"m.text"},"ts":1453322232000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"annevk: or is it a problem that can't be solved at all and we will have to stick with directory naming conventions?","msgtype":"m.text"},"ts":1453322250000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"s/util/until","msgtype":"m.text"},"ts":1453322264000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: it would require changes to DOM, but unclear how that works well together with script, indeed, which uses base from execution environment","msgtype":"m.text"},"ts":1453322368000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://drafts.csswg.org/cssom-view/#dom-document-scrollingelement is so weirdly written. scrollableElement is body if body is _not_ potentially scrollable","msgtype":"m.text"},"ts":1453324513000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"rbyers: I don't understand blink's scrollableElement implementation","msgtype":"m.text"},"ts":1453325657000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or perhaps I'm reading the spec wrong","msgtype":"m.text"},"ts":1453325663000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it doesn't seem to care about overflow-x/y values","msgtype":"m.text"},"ts":1453325739000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug___: Blink intentionally doesn't exactly match the spec here (which is kind of the point of document.scrollingElement) - unless ScrollTopLeftInterop is enabled - see https://dev.opera.com/articles/fixing-the-scrolltop-bug/","msgtype":"m.text"},"ts":1453327006000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"... but yeah the pre-existing rules about how body behaves are weird - scrollingElement just reflects that.","msgtype":"m.text"},"ts":1453327046000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"... basically if you have \"html, body {overflow: scroll}\" then there are two independently scrollable things.  But if you just have \"body {overflow: scroll }\" then that applies to the viewport (behaves the same as just \"html {overflow: scroll}\" I believe).","msgtype":"m.text"},"ts":1453327114000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"But none of this really matters for the definition of scrollableElement.  All that really matters for that API is that document.scrollingElement reflects the element whose scrollTop changes when you do window.scrollTo.","msgtype":"m.text"},"ts":1453327152000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"The spec over-complicates this by repeating the complex legacy details in both the definition of scrollingElement and the definition of scrollTop (see https://drafts.csswg.org/cssom-view/#dom-element-scrolltop).","msgtype":"m.text"},"ts":1453327220000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"My advice to Simon was to just move all the complexity from scrollTop/scrollLeft (which has long been there for legacy reasons) into the defintion of scrollingElement, then write everything else in terms of \"if 'e' is the scrollingElement\".  That's what I did in the blink implementation.","msgtype":"m.text"},"ts":1453327268000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"(with the added complexity that we have to support ScrollTopLeftInterop being disabled - for now, I hope to ship it this quarter).","msgtype":"m.text"},"ts":1453327332000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: well I can't see it ever matching the spec","msgtype":"m.text"},"ts":1453328388000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but I don't understand why this property should be added if blink doesn't implement it per spec","msgtype":"m.text"},"ts":1453328416000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or in other words, I guess I should just implement it the same way it is in blink","msgtype":"m.text"},"ts":1453328427000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but I'm not totally lost with this property","msgtype":"m.text"},"ts":1453328491000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug___: If all browsers implemented scrollTop according to spec, there would only be minor utility to this API.","msgtype":"m.text"},"ts":1453328697000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"WebKit has a long standing bug where scrollTop/Left behave as if the page was in quirksmode (i.e. body.scrollTop==window.scrollY, documentElement.scrollTop==0) even when it's not (should be documentElement.scrollTop==window.scrollY, body.scrollTop==0).","msgtype":"m.text"},"ts":1453328702000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"  It's because sites have come to depend on WebKit's long-standing bug where scrollTop behaves as per quirksmode for ALL pages that we need this API.","msgtype":"m.text"},"ts":1453328713000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"We've successfully used this API to get sites to migrate away from depending on code like \"isWebKit ? body : documentElement\".","msgtype":"m.text"},"ts":1453328768000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: sure, scrollTop and those are old stuff","msgtype":"m.text"},"ts":1453328977000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but why isn't blink implementing this new API per spec?","msgtype":"m.text"},"ts":1453328991000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"isn't that the whole point that there is some API which all the browsers implement the same way?","msgtype":"m.text"},"ts":1453329006000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I guess not in this case","msgtype":"m.text"},"ts":1453329026000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"It does implement it per spec when ScrollTopLeftInterop mode is enabled, which I'm trying to ship (but can only do once I've gotten enough sites updated).","msgtype":"m.text"},"ts":1453329148000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"it is not implementing per spec when that is enabled","msgtype":"m.text"},"ts":1453329172000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"BTW it's weird quirksmode cases like this http://jsbin.com/hocuno/edit?html,css,js,output where scrollingElement should be null","msgtype":"m.text"},"ts":1453329172000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"blink doesn't care about the overflowx/y values of html element","msgtype":"m.text"},"ts":1453329198000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it checks only body element","msgtype":"m.text"},"ts":1453329204000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"because in that case neither document.body.scrollTop nor document.documentElement.scrollTop will match window.scrollY","msgtype":"m.text"},"ts":1453329225000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"Are you saying that just based on code inspection, or do you have a repro?","msgtype":"m.text"},"ts":1453329249000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: based on code inspection","msgtype":"m.text"},"ts":1453329260000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"There's some funky logic elsewhere in the code that promotes styles from documentElement to body or vice versa","msgtype":"m.text"},"ts":1453329273000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"(I don't even know how to enable RuntimeEnabledFeatures::scrollTopLeftInteropEnabled())","msgtype":"m.text"},"ts":1453329279000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Try to build a repro","msgtype":"m.text"},"ts":1453329285000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"huhuh","msgtype":"m.text"},"ts":1453329297000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so blink is doing some magic there too","msgtype":"m.text"},"ts":1453329309000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"You can enable that flag easily by setting chrome://flags/#enable-experimental-web-platform-features","msgtype":"m.text"},"ts":1453329324000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"Or explicitly by running with --enable-blink-features=ScrollTopLeftInterop","msgtype":"m.text"},"ts":1453329334000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"ah, that, thanks","msgtype":"m.text"},"ts":1453329341000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"NP","msgtype":"m.text"},"ts":1453329345000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"is thinking \"worker code that holds cross-thread refs to promises\" statement along with Domenic streams-from-main-thread-to-worker statement","msgtype":"m.emote"},"ts":1453329438000,"senderName":"yury`m","senderId":"yury`m@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1453329476000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"If you can come up with a repro that's not per spec, I'll definitely investigate.  There's a bunch of annoying complexity / long-standing legacy here that was previously exposed only via scrollTop/scrollLeft behavior.  scrollingElement should just reflect that behavior (i.e. so we should be able to compare scrollTop behavior between blink with","msgtype":"m.text"},"ts":1453329482000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"ScrollTopLeftInterop enabled and Firefox - should match exactly)","msgtype":"m.text"},"ts":1453329482000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"Domenic: there was your vimeo video about mozilla thinking about moving streams processing in the worker","msgtype":"m.text"},"ts":1453329528000,"senderName":"yury`m","senderId":"yury`m@irc"},
{"content":{"body":"do you have more context?","msgtype":"m.text"},"ts":1453329540000,"senderName":"yury`m","senderId":"yury`m@irc"},
{"content":{"body":"yury`m: I think it was https://w3c.github.io/mediacapture-worker/","msgtype":"m.text"},"ts":1453329610000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: at 44:20 of https://vimeo.com/132786072","msgtype":"m.text"},"ts":1453329611000,"senderName":"yury`m","senderId":"yury`m@irc"},
{"content":{"body":"posted to wrong channel his thoughts, so goes back to where he came from to think there :)","msgtype":"m.emote"},"ts":1453329975000,"senderName":"yury`m","senderId":"yury`m@irc"},
{"content":{"body":"aannevk: yeah about the PR-branch-fetch config, I don't know how to make it not fetch closed PRs. It's a github-specific thing, not a git thing, and I think it may just need to be made smarter on the github side. But will look into it more.","msgtype":"m.text"},"ts":1453331874000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Domenic: given the network problems that ritsyy has had, I'd guess others in some places might run into similar issues, and so wattsi server might not be the best solution in all cases for trying to make things as easy as possible for contributors","msgtype":"m.text"},"ts":1453332646000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but since building fpc and watssi locally is also not exactly easy, I wonder if we might consider creating a Docker image","msgtype":"m.text"},"ts":1453332693000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I am personally scared of docker but that seems like a good solution for a certain class of people.","msgtype":"m.text"},"ts":1453332746000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah, I've never created one for anything and have been skeptical about the need in other projects where it's come up, but this seems like a case where it might actually solve a real problem","msgtype":"m.text"},"ts":1453332772000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyway, I have a bunch of other open html-build and watssi things on my stack before I could get to that","msgtype":"m.text"},"ts":1453332807000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1453332821000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but maybe if we have somebody familiar/experienced with Docker, they could give it a shot","msgtype":"m.text"},"ts":1453332833000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"i really need to spend a bit more time on wattsi-server to make it a full build server","msgtype":"m.text"},"ts":1453332836000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Seems like a good thing to post an issue about describing what we'd like help with and then point the community at.","msgtype":"m.text"},"ts":1453332854000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah I think for most people, wattsi-server really is the best solution","msgtype":"m.text"},"ts":1453332864000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"OK, will raise an issue for now","msgtype":"m.text"},"ts":1453332879000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for anybody on the channel with Docker chops who's interested in helping with the HTML spec effort: https://github.com/whatwg/html-build/issues/55","msgtype":"m.text"},"ts":1453333472000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Tweeted https://twitter.com/domenic/status/689958419130884098","msgtype":"m.text"},"ts":1453333892000,"senderName":"Domenic","senderId":"Domenic@irc"}
]