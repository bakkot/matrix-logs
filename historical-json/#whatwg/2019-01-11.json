[
{"content":{"body":"I have a question about the web-streams api","msgtype":"m.text"},"ts":1547166323000,"senderName":"mattyp","senderId":"mattyp@irc"},
{"content":{"body":"is anyone here knowledgable?","msgtype":"m.text"},"ts":1547166334000,"senderName":"mattyp","senderId":"mattyp@irc"},
{"content":{"body":"annevk: if you're around, I'd appreciate your comments on the note in https://github.com/w3c/resource-timing/pull/172 and if it's still necessary given the (handwavy) https://github.com/w3c/resource-timing/pull/196","msgtype":"m.text"},"ts":1547200693000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I'd also love bz's review on https://github.com/web-platform-tests/wpt/pull/13823, but not sure how to grab his attention...","msgtype":"m.text"},"ts":1547200881000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: I thought I left a comment this morning?","msgtype":"m.text"},"ts":1547200930000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1547200934000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: there's a comment there from me","msgtype":"m.text"},"ts":1547200948000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you did!","msgtype":"m.text"},"ts":1547200952000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"but GH didn't show it without a reload...","msgtype":"m.text"},"ts":1547200965000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"bz hangs out in Mozilla IRC, but generally not before 5PM our time","msgtype":"m.text"},"ts":1547200988000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: having said that, I'd recommend reaching out to Markus Stange for anything you want bz for, he should be handling most Web Performance stuff these days","msgtype":"m.text"},"ts":1547201040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"OK, I'll try to catch him there","msgtype":"m.text"},"ts":1547201042000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1547201052000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: mstange btw (also email)","msgtype":"m.text"},"ts":1547201070000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"regarding your comment, I don't understand the scenario of the attack you're describing","msgtype":"m.text"},"ts":1547201088000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"if attacker adds TAO, it exposes information about itself to EXAMPLE","msgtype":"m.text"},"ts":1547201127000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"that is true, but not sure what attack/leak that enables","msgtype":"m.text"},"ts":1547201144000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: the idea is that if the attacker manages to be somehow in the middle they can confuse example","msgtype":"m.text"},"ts":1547201152000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: this is probably more true with CORS due to it encompassing much more data, but it seems good to keep the same kind of check","msgtype":"m.text"},"ts":1547201180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: the idea is that once you've gone cross-origin stuff is tainted, and you better explicitly opt into that","msgtype":"m.text"},"ts":1547201225000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"can you point me to the related CORS discussion? I want to better understand the rational","msgtype":"m.text"},"ts":1547201313000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Not easily","msgtype":"m.text"},"ts":1547201352000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"confused deputy\" might be a good search term (and that coupled with security might give you some insight into the theoretical background)","msgtype":"m.text"},"ts":1547201379000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I don't immediately see the damage in making EXAMPLE think that the resource is CORS-enabled/passes TAO)","msgtype":"m.text"},"ts":1547201383000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I'm familiar with that, but not sure how that applies here. What is ATTACKER convincing the confused EXAMPLE to do?","msgtype":"m.text"},"ts":1547201475000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"That really depends on what EXAMPLE does with the readouts, e.g., perhaps ATTACKER could cause some kind of overflow","msgtype":"m.text"},"ts":1547201728000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And it applies precisely because EXAMPLE thinks it's in control but actually ATTACKER could have influenced the results, that's a confused deputy","msgtype":"m.text"},"ts":1547201830000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: OK, so if I apply this specifically to TAO, if EXAMPLE reads timing values, ATTACKER can make those values arbitrarily higher. That doesn't seem particularly risky, and EXAMPLE should know that this is true, as it has put ATTACKER in its redirection path","msgtype":"m.text"},"ts":1547203171000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"It doesn't have to know if it's XSS or some such","msgtype":"m.text"},"ts":1547203227000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Also, I don't think it makes sense to use a different model for TAO","msgtype":"m.text"},"ts":1547203307000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in the XSS case, I think EXAMPLE has bigger problems","msgtype":"m.text"},"ts":1547203314000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Not a good enough argument against this imo","msgtype":"m.text"},"ts":1547203336000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I also don't see the problem with adopting a model that's equivalent to CORS, I thought we agreed on that long ago actually","msgtype":"m.text"},"ts":1547203355000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"OK, that seems like it's worth while to open a separate issue other than 152 on that, discuss it and reach conclusions in a wider forum","msgtype":"m.text"},"ts":1547203360000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I thought this was that issue?","msgtype":"m.text"},"ts":1547203372000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I explained this exact scenario several times in GitHub too...","msgtype":"m.text"},"ts":1547203394000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It wasn't clear to me that this was the issue (as TAO handling was also lacking definition around redirections that don't include TAO)","msgtype":"m.text"},"ts":1547203429000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I agree that aligning the model with CORS would be good","msgtype":"m.text"},"ts":1547203457000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"but want to discuss this extra restriction in a wider forum","msgtype":"m.text"},"ts":1547203480000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: I guess you can, but we already did","msgtype":"m.text"},"ts":1547203595000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: this is example 5 of https://github.com/w3c/resource-timing/issues/173#issuecomment-448450346","msgtype":"m.text"},"ts":1547203600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: sorry, example 2","msgtype":"m.text"},"ts":1547203628000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"For the CORS case, is there an alternative mechanism for EXAMPLE to opt into CORS with a cross-origin redirect?","msgtype":"m.text"},"ts":1547203707000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: I don't understand","msgtype":"m.text"},"ts":1547203737000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"basically to say \"I know I have a cross-origin redirect and I'm not confused about it\"","msgtype":"m.text"},"ts":1547203747000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: yeah, set CORS headers","msgtype":"m.text"},"ts":1547203757000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, ok","msgtype":"m.text"},"ts":1547203784000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"example 3 in the above issue","msgtype":"m.text"},"ts":1547203831000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1547203848000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fair enough","msgtype":"m.text"},"ts":1547203850000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"annevk: other than the algo refactoring,  https://github.com/w3c/resource-timing/pull/197 looks fine?","msgtype":"m.text"},"ts":1547216182000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: yeah, I think so","msgtype":"m.text"},"ts":1547216206000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"awesome, thanks! :)","msgtype":"m.text"},"ts":1547216219000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Does gecko have some hack to \"support\" the safari max(2em, env(safe-area-inset-left)) thing?","msgtype":"m.text"},"ts":1547237625000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i try foo(bar, env(baz)) and it gives 0 in gecko","msgtype":"m.text"},"ts":1547237651000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but change \"env\" to something else makes the declaration be ignored","msgtype":"m.text"},"ts":1547237716000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"https://bugzilla.mozilla.org/show_bug.cgi?id=1519519","msgtype":"m.text"},"ts":1547238770000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Domenic: Jeez, looking at the \"interfacing with IDB\" example, I'm even angrier that we shipped IDB 1 without including a friendly version.","msgtype":"m.text"},"ts":1547242421000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"^_^","msgtype":"m.text"},"ts":1547242432000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"The only upside to that debacle is that you can now promise-ify the friendly version and it's automatically attractive solely from the friendliness.","msgtype":"m.text"},"ts":1547242452000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I still remain quite pleased with the example in https://wicg.github.io/kv-storage/#storagearea-backingstore","msgtype":"m.text"},"ts":1547242764000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"this is v v good","msgtype":"m.text"},"ts":1547243038000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]