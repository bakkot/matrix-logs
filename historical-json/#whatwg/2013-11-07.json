[
{"content":{"body":"hi","msgtype":"m.text"},"ts":1383807256000,"senderName":"cortexA9","senderId":"cortexA9@irc"},
{"content":{"body":"jgraham: does trickle(d1) send the headers immediately?","msgtype":"m.text"},"ts":1383811024000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"So it was true that FB was going to do Presto!","msgtype":"m.text"},"ts":1383812188000,"senderName":"Ms2ger`","senderId":"Ms2ger`@irc"},
{"content":{"body":"https://news.ycombinator.com/item?id=6684318","msgtype":"m.text"},"ts":1383812191000,"senderName":"Ms2ger`","senderId":"Ms2ger`@irc"},
{"content":{"body":"oh, cool. utf-16le is now the name of the encoding and utf-16 is a label","msgtype":"m.text"},"ts":1383814687000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"this has changed recently, right?","msgtype":"m.text"},"ts":1383814697000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"anyway, I'm less annoyed now","msgtype":"m.text"},"ts":1383814707000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Yeah was changed","msgtype":"m.text"},"ts":1383816745000,"senderName":"annevk-cloud","senderId":"annevk-cloud@irc"},
{"content":{"body":"So GPHemsley, should http://wiki.whatwg.org/wiki/New_work become a subpage too then?","msgtype":"m.text"},"ts":1383822047000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"GPHemsley: your spelling of acknowledgments disagrees with all my specs","msgtype":"m.text"},"ts":1383822166000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fwiw about setting up a way to get RF agreements for whatwg specs, I notice that the Dash Industry Forum is using a relatively lightweight means to get RF agreemenents for code contributions to the dash.js library. see https://github.com/Dash-Industry-Forum/dash.js/wiki/How-to-Contribute#process-for-contributing-code and, e.g., https://groups.google.com/forum/#!topic/dashjs/W4Tmm8sBGX0","msgtype":"m.text"},"ts":1383822268000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it's for code, not specs, but it seems like the same thing could be used for spec contributions","msgtype":"m.text"},"ts":1383822332000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in fact, they actually just call it a \"Feedback Agreement\"","msgtype":"m.text"},"ts":1383822368000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"http://dashif.org/documents/DASH-IF-Feedback-Agreement-5-9-2013.pdf","msgtype":"m.text"},"ts":1383822376000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"\"By signing below, you (on behalf of yourself if you are an individual and your company if you are providing Feedback on behalf of the company) grant the companies under all applicable intellectual property rights owned or controlled by you or your company a non-exclusive, non-transferable, worldwide, perpetual, irrevocable, royalty-free license to use, disclose, copy, publish, license, modify, sublicense or otherwise distribute and exploit Feedback yo","msgtype":"m.text"},"ts":1383822407000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I'm trying to remember if there's data somewhere on how many documents on the Web are actually being served with an XML MIME type","msgtype":"m.text"},"ts":1383824785000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I mean documents with an XHTML doctype served with an XML MIME type instead of as text/html","msgtype":"m.text"},"ts":1383824858000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"finds http://dev.opera.com/articles/view/mama-http-headers/#conttype","msgtype":"m.emote"},"ts":1383826504000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"'Of the 3,509,180 URLs that MAMA analyzed, the vast majority (~99.9%) used a \"text/html\" MIME type'","msgtype":"m.text"},"ts":1383826561000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I hope you're just doing that because you're curious and not because someone is saying something irrational","msgtype":"m.text"},"ts":1383830461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"umm, I wish I could claim it was because someone isn't saying something irrational, so let's just go with \"curious\"","msgtype":"m.text"},"ts":1383830569000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"You know it's bad when you have to revisit a decade old fact-settled debate.","msgtype":"m.text"},"ts":1383830881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: speaking of those: http://lists.suckless.org/dev/1310/17874.html","msgtype":"m.text"},"ts":1383831062000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: gopher man, how do you find this stuff?","msgtype":"m.text"},"ts":1383831207000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hendry tweeted it at me","msgtype":"m.text"},"ts":1383831221000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"haha","msgtype":"m.text"},"ts":1383831225000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder if I should add telemetry for those font-only legacy Mac encodings","msgtype":"m.text"},"ts":1383831349000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"To see if the font code path is being hit?","msgtype":"m.text"},"ts":1383831389000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: right","msgtype":"m.text"},"ts":1383831395000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"maybe I should add telemetry for legacy stuff that Thunderbird might use, too","msgtype":"m.text"},"ts":1383831416000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Is there any Mac OS out there that still needs that?","msgtype":"m.text"},"ts":1383831432000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That Gecko supports?","msgtype":"m.text"},"ts":1383831445000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I have no idea what fonts people have installed","msgtype":"m.text"},"ts":1383831453000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Ooh, it's not an OS thing, it's a fonts thing?","msgtype":"m.text"},"ts":1383831465000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ew...","msgtype":"m.text"},"ts":1383831468000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it's for making sense of data in legacy font files","msgtype":"m.text"},"ts":1383831486000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I guess that does warrant investigation of sorts. Alternatively investigation of the Chrome code base which almost certainly does not do this. (They don't have those encoders/decoders at the Chromium level.)","msgtype":"m.text"},"ts":1383831554000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Yeah, there are a few more pages that should probably become subpages.","msgtype":"m.text"},"ts":1383834245000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Any chance we could start encouraging subject prefixes on the mailing list, like CSS and others do? (I know I do it with mimesniff.)","msgtype":"m.text"},"ts":1383835396000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"how about \"Subject: \"","msgtype":"m.text"},"ts":1383835525000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"GPHemsley: no","msgtype":"m.text"},"ts":1383835561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1383835602000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"A lot of topics encompass lots of different specifications. We should not add bureaucracy that isn't needed.","msgtype":"m.text"},"ts":1383835605000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You have a low bar for what is considered \"bureaucracy\"","msgtype":"m.text"},"ts":1383835642000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Yes","msgtype":"m.text"},"ts":1383835670000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Everything that's a \"rule\" basically.","msgtype":"m.text"},"ts":1383835695000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Don't need people that want to contribute to have to go through more rules than strictly needed.","msgtype":"m.text"},"ts":1383835720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's already too hard for a bunch of them.","msgtype":"m.text"},"ts":1383835745000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"On the flipside, it's hard for me to figure out what mail to read ;)","msgtype":"m.text"},"ts":1383835780000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"All of it ;)","msgtype":"m.text"},"ts":1383835818000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Do you really what my unqualified opinion on everything? ;)","msgtype":"m.text"},"ts":1383835835000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"s/what/want/","msgtype":"m.text"},"ts":1383835840000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"I want you to read it, not necessarily to reply ;)","msgtype":"m.text"},"ts":1383835864000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"GPHemsley: I think the hidden message there is that annevk doesn't want to contribute :)","msgtype":"m.text"},"ts":1383835865000,"senderName":"darobin_","senderId":"darobin_@irc"},
{"content":{"body":"Not sure that reading every mail means responding to everything","msgtype":"m.text"},"ts":1383835887000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: 'Twas hyperbole ;)","msgtype":"m.text"},"ts":1383835903000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"doesn't read every mail, but also doesn't want more rules for the sake of it","msgtype":"m.emote"},"ts":1383835915000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I find that if people use meaningful subjects you don't need a prefix","msgtype":"m.text"},"ts":1383835974000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"GPHemsley: I recommend reading the subjects that interest you","msgtype":"m.text"},"ts":1383835983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: indeed","msgtype":"m.text"},"ts":1383835986000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"whereas people tend to get prefixes wrong, especially if there are more than two different ones","msgtype":"m.text"},"ts":1383835988000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'd be okay with a \"use meaningful subjects\" guideline, just like we have a \"inline quote\" guideline","msgtype":"m.text"},"ts":1383836011000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that just falls under proper netiquette really","msgtype":"m.text"},"ts":1383836028000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1383836034000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe just training the spam filter to drop emails with poor netiquette would achieve excellent signal to noise","msgtype":"m.text"},"ts":1383836092000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"This is nice Frenglish: \"Initialized empty Dépôt git dans /home/simon/projects/specs/html/.git/\"","msgtype":"m.text"},"ts":1383837108000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"Why would you use a French OS","msgtype":"m.text"},"ts":1383837151000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"old habits","msgtype":"m.text"},"ts":1383837223000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"anyone know about in-browser ITS tools?","msgtype":"m.text"},"ts":1383844021000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ITS?","msgtype":"m.text"},"ts":1383844134000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"-> beijing -> shenzhen","msgtype":"m.emote"},"ts":1383844275000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wtf, a bunch of characters in the multipage acks got corrupted","msgtype":"m.text"},"ts":1383844395000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"oh i bet the problem is that some parser doesn't supported named references","msgtype":"m.text"},"ts":1383844457000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"annnnnnneeeeeeeeeeeeee","msgtype":"m.text"},"ts":1383844465000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"heh, I was also going to curse Anne for something different :)","msgtype":"m.text"},"ts":1383845305000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"Domenic_: are microtasks going to be spec'd in ES6, and is there already draft text for it?","msgtype":"m.text"},"ts":1383845623000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"oh, if ES6 is gonna spec them that would make my life easier","msgtype":"m.text"},"ts":1383845798000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"is currently deep in the middle of trying to figure out how to spec them in HTML","msgtype":"m.emote"},"ts":1383845807000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"jorendorff/Hixie: relevant (short) thread is https://mail.mozilla.org/pipermail/es-discuss/2013-October/033940.html","msgtype":"m.text"},"ts":1383846087000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"\"easier\"; \"short\"","msgtype":"m.text"},"ts":1383846153000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"OK, my real question was: how deterministic is the ordering of microtasks?","msgtype":"m.text"},"ts":1383846173000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"well i presume they're just going to provide hooks for HTML to use","msgtype":"m.text"},"ts":1383846223000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"it's not like they can actually embed the event loop directly into ES6, given how much HTML-specific crap is around the event loop","msgtype":"m.text"},"ts":1383846238000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"mmhmm","msgtype":"m.text"},"ts":1383846246000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"(e.g. when the event loop starts, etc)","msgtype":"m.text"},"ts":1383846251000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"(how it's used for non-script-related stuff)","msgtype":"m.text"},"ts":1383846259000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"today's monster is http://www.hixie.ch/tests/adhoc/html/script/callbacks/001.html","msgtype":"m.text"},"ts":1383846928000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"anyone got IE11 around?","msgtype":"m.text"},"ts":1383847235000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1383847432000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"I can maybe fix bugs from China, otherwise in 10 days.","msgtype":"m.text"},"ts":1383849415000,"senderName":"annevk-cloud","senderId":"annevk-cloud@irc"},
{"content":{"body":"On the tube at the moment with no place to sit. Shit's clogged.","msgtype":"m.text"},"ts":1383849448000,"senderName":"annevk-cloud","senderId":"annevk-cloud@irc"},
{"content":{"body":"ES6 will just have a hook btw","msgtype":"m.text"},"ts":1383849599000,"senderName":"annevk-cloud","senderId":"annevk-cloud@irc"},
{"content":{"body":"if you're in an iframe and you call parent.setTimeout(parent.open, 0, 'a') -- should the 'a' be resolved relative to your own base URL, or should it be resolved relative to the parent's base URL?","msgtype":"m.text"},"ts":1383849642000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"everyone (except IE, which won't accept that construct at all) agrees it should be the parent's base URL, but nobody agrees as to why","msgtype":"m.text"},"ts":1383849689000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"in chrome it's because the setTimeout is from the parent","msgtype":"m.text"},"ts":1383849703000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"in firefox it's because the argument isn't a script but the argument comes from the parent","msgtype":"m.text"},"ts":1383849724000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"and in safari it's because the argument isn't a script but the setTimeout comes from the parent","msgtype":"m.text"},"ts":1383849736000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"firefox's answer is inconvenient since it would mean figuring out what global to use when you pass e.g. MessagePort.send to setTimeout","msgtype":"m.text"},"ts":1383849803000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"chrome's answer is lame because it means if you do parent.setTimeout(myownfunc, ...), myownfunc is going to resolve relative to the parent instead of relative to itself","msgtype":"m.text"},"ts":1383849837000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"seems crazy that you could change how a function works based on who's setTimeout you use","msgtype":"m.text"},"ts":1383849862000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"then again, it's already true that if you call a function in the parent frame directly, you change how it behaves relative to it being called by script in that frame...","msgtype":"m.text"},"ts":1383849899000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"How about window.setTimeout.call(parent,...? :)","msgtype":"m.text"},"ts":1383849929000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"not sure i want to know","msgtype":"m.text"},"ts":1383849948000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"i assume that's the same as parent.setTimeout, at the webidl level","msgtype":"m.text"},"ts":1383849975000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"am i wrong?","msgtype":"m.text"},"ts":1383849976000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"I'd hope so","msgtype":"m.text"},"ts":1383849982000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"let's assume so for the sake of this discussion","msgtype":"m.text"},"ts":1383850067000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"wait, safari's behaviour still requires answering the question above. damnit.","msgtype":"m.text"},"ts":1383850174000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: jorendorff: annevk-cloud: yeah my impression is there will be some abstract operation \"queue a microtask\" which ES uses, and doesn't actually specify how it works, besides maybe some invariants like clean-stack or ordering or something.","msgtype":"m.text"},"ts":1383853366000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"clean-stack, definitely; ordering is what i'm after... hmm.","msgtype":"m.text"},"ts":1383854420000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"i'll assume it's mostly deterministics","msgtype":"m.text"},"ts":1383854436000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"It will be deterministic jorendorff","msgtype":"m.text"},"ts":1383855395000,"senderName":"annevk-cloud","senderId":"annevk-cloud@irc"},
{"content":{"body":"ok!","msgtype":"m.text"},"ts":1383855423000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"Domenic_: i was able to remove all direct interaction with microtasks from the module loader stuff by using promises instead","msgtype":"m.text"},"ts":1383855445000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"Domenic_: little worried i'm not doing it right -- that spec is impenetrable, to me -- but i guess the bugs will shake out one stuff runs","msgtype":"m.text"},"ts":1383855503000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"*once","msgtype":"m.text"},"ts":1383855508000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"heycam!","msgtype":"m.text"},"ts":1383862087000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"so i've been studying browsers","msgtype":"m.text"},"ts":1383862095000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"http://www.hixie.ch/tests/adhoc/html/script/callbacks/001.html has my results and conclusions (see bottom)","msgtype":"m.text"},"ts":1383862120000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"oh my","msgtype":"m.text"},"ts":1383862181000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"yeah.","msgtype":"m.text"},"ts":1383862196000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"so the only real question that no browsers agrees with is how to determine the entry script (actually, the \"settings object\", i'll explain what i mean in the bug later) for cases where you call a method with a native method as the callback","msgtype":"m.text"},"ts":1383862241000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"as in setTimeout(open, ...)","msgtype":"m.text"},"ts":1383862247000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"there are several options:","msgtype":"m.text"},"ts":1383862264000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"1. we don't support that (IE9)","msgtype":"m.text"},"ts":1383862269000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"2. we use the data from the global of the method you called (setTimeout in this case) (Chrome, Safari)","msgtype":"m.text"},"ts":1383862303000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"3. we use the data from the global of the method you passed as a callback (open in this case) (Firefox)","msgtype":"m.text"},"ts":1383862318000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"4. we do our own new thing in the interests of sanity","msgtype":"m.text"},"ts":1383862325000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"to me, 3 sounds like it is more sensible","msgtype":"m.text"},"ts":1383862350000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"(btw Chrome and Safari are incompatible for the more common case of passing a script-defined function, so don't put too much in the fact that they agree on this question)","msgtype":"m.text"},"ts":1383862354000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"i.e. you look at the thing you will be invoking later","msgtype":"m.text"},"ts":1383862362000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"#2 and #3 have a problem: do we have a way to determine what \"global\" any random method is related to?","msgtype":"m.text"},"ts":1383862374000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1383862381000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"oh excellent","msgtype":"m.text"},"ts":1383862388000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Web IDL says every \"initial object\" is associated with a particular \"global environment\"","msgtype":"m.text"},"ts":1383862396000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"initial object is like the method?","msgtype":"m.text"},"ts":1383862406000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"what's a \"global environment\"?","msgtype":"m.text"},"ts":1383862411000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"yeah, it's basically all of the objects that exist before you run any scripts","msgtype":"m.text"},"ts":1383862417000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"(apart from the ES-defined ones)","msgtype":"m.text"},"ts":1383862424000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"\"global environment\" is something a bit fuzzy","msgtype":"m.text"},"ts":1383862433000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"so what if someone passes an ES-defined one?","msgtype":"m.text"},"ts":1383862436000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"like, toString","msgtype":"m.text"},"ts":1383862447000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"I guess my definition won't help there… maybe there is one in the ES spec?","msgtype":"m.text"},"ts":1383862470000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"not sure if the spec has begun to talk about realms yet or not","msgtype":"m.text"},"ts":1383862480000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"last i checked, the ES spec didn't acknowledge multiple globals","msgtype":"m.text"},"ts":1383862485000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"but i may not have checked for a while","msgtype":"m.text"},"ts":1383862497000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"http://people.mozilla.org/~jorendorff/es6-draft.html#sec-code-realms","msgtype":"m.text"},"ts":1383862501000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"ok so you can go from the toString object to the realm","msgtype":"m.text"},"ts":1383862516000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"what does the realm give you?","msgtype":"m.text"},"ts":1383862531000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"that table of things","msgtype":"m.text"},"ts":1383862538000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"including the global object","msgtype":"m.text"},"ts":1383862547000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"a global, we can use that","msgtype":"m.text"},"ts":1383862552000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"well if you can get from any random method (script-defined, ES-defined, or WebIDL-defined) to a global, i can do the rest","msgtype":"m.text"},"ts":1383862603000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"I can","msgtype":"m.text"},"ts":1383862623000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"ok, cool","msgtype":"m.text"},"ts":1383862627000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"whew! finally we can use style=\"\"","msgtype":"m.text"},"ts":1383862653000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"heycam: Hm?","msgtype":"m.text"},"ts":1383862738000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hmmm... i need to move script origins to the settings object also","msgtype":"m.text"},"ts":1383862746000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"TabAtkins, sorry, just being facetious about http://www.w3.org/TR/2013/REC-css-style-attr-20131107/ becoming a Rec","msgtype":"m.text"},"ts":1383862754000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"Ah, indeed.","msgtype":"m.text"},"ts":1383862760000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Time to deprecate style=\"\"","msgtype":"m.text"},"ts":1383863383000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i tried","msgtype":"m.text"},"ts":1383863942000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"people presented... compelling arguments","msgtype":"m.text"},"ts":1383863952000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"i'm sure they did","msgtype":"m.text"},"ts":1383863983000,"senderName":"Jasper","senderId":"Jasper@irc"},
{"content":{"body":"TabAtkins: dunno if you're the right one to ask, but, are you on board with javascript: being killed in CSS url()s?","msgtype":"m.text"},"ts":1383864863000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"I'm surprised those even work. Do they?","msgtype":"m.text"},"ts":1383864876000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Kill them.","msgtype":"m.text"},"ts":1383864879000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"probably not","msgtype":"m.text"},"ts":1383864890000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1383864891000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"the plan is to move javascript: to just be a quirk of the navigate algorithm","msgtype":"m.text"},"ts":1383864904000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"i'm about to make the first move towards that, by removing the concept of scripts having origins, the bulk of which is concerned with defining the origin of javascript: scripts","msgtype":"m.text"},"ts":1383864929000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"christ, 1993 matches for \"script\" in the spec","msgtype":"m.text"},"ts":1383865012000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"this could take a while","msgtype":"m.text"},"ts":1383865018000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Domenic_: interesting situation... the Loader's use of Promises is supposed to be kind of an implementation detail, unobservable","msgtype":"m.text"},"ts":1383865817000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"Domenic_: but at various points user scripts can screw us over by modifying the builtins","msgtype":"m.text"},"ts":1383865846000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"Domenic_: for example, CastToPromise calls GetDeferred which calls C.[[Construct]] which calls C[@@create], which is configurable","msgtype":"m.text"},"ts":1383865880000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"big ufn","msgtype":"m.text"},"ts":1383865888000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"jorendorff: We're dealing with that too.  The solution seems to be to have some way to provide clean built-ins to browser JS.","msgtype":"m.text"},"ts":1383866438000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"that's basically what we do for all the other things that are defined in terms of author-visible features","msgtype":"m.text"},"ts":1383866483000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"TabAtkins: oh, dherman has designed an API for this:   new Realm","msgtype":"m.text"},"ts":1383866485000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"but all the methods are probably configurable","msgtype":"m.text"},"ts":1383866497000,"senderName":"jorendorff","senderId":"jorendorff@irc"},
{"content":{"body":"(though i've tended to just define things in terms of algorithms and then invoke the algorithms rather than the native features)","msgtype":"m.text"},"ts":1383866507000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"s/native/author-accessible/","msgtype":"m.text"},"ts":1383866520000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"that's what I'm used to (algorithms), but Promises are high-level enough that it starts to break down","msgtype":"m.text"},"ts":1383866589000,"senderName":"jorendorff","senderId":"jorendorff@irc"}
]