[
{"content":{"body":"we still need to pick a format for the manifest","msgtype":"m.text"},"ts":1191370200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess that's next on the todo list","msgtype":"m.text"},"ts":1191370201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"all available options suck","msgtype":"m.text"},"ts":1191370380000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"The unavailable ones suck too :)","msgtype":"m.text"},"ts":1191370440000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"why choose the lesser of two evils?","msgtype":"m.text"},"ts":1191370680000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I say go all out and base the syntax on ASN.1","msgtype":"m.text"},"ts":1191370681000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"dare i ask","msgtype":"m.text"},"ts":1191370682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ASN.1 isn't so bad","msgtype":"m.text"},"ts":1191370683000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"i have three requirements so far:","msgtype":"m.text"},"ts":1191370800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"    *  Has a magic signature","msgtype":"m.text"},"ts":1191370801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"    * Has a simple defined processing that is easy to test the error handling of","msgtype":"m.text"},"ts":1191370802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"    * Can express two lists of URIs and one mapping of prefixes to URIs ","msgtype":"m.text"},"ts":1191370803000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh i and i suppose i should add \"supports a comment syntax\"","msgtype":"m.text"},"ts":1191370860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the last requirement would rule out JSON, if it is truly a requirement","msgtype":"m.text"},"ts":1191370861000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"leaving XML or ad-hoc plaintext format","msgtype":"m.text"},"ts":1191370862000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i think it is, with big apps i can certainly imagine needing to comment which set of files is required for what","msgtype":"m.text"},"ts":1191370863000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i mean, even my simple .htaccess files often end up quite well documented","msgtype":"m.text"},"ts":1191370920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Let's use .htaccess then. mod_rewrite can handle the prefixes :D","msgtype":"m.text"},"ts":1191370921000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"if i have a section \"cache\" for files that have to be cached, what would you call the section for files that are whitelisted as being online only and should never be cached?","msgtype":"m.text"},"ts":1191382260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"online, live, network, notcached","msgtype":"m.text"},"ts":1191382380000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"http://junkyard.damowmow.com/297","msgtype":"m.text"},"ts":1191382440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/#manifests","msgtype":"m.text"},"ts":1191382620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think i'm gonna go with \"idea #3\" there (the same as .../297) unless someone has a better idea by the time i get online next (probably an hour from now)","msgtype":"m.text"},"ts":1191382800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"consider reusing terminology from HTTP headers regarding caching?","msgtype":"m.text"},"ts":1191382920000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"like what?","msgtype":"m.text"},"ts":1191382921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't think http really has equivalent concepts","msgtype":"m.text"},"ts":1191382980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no-cache ?","msgtype":"m.text"},"ts":1191383040000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"this isn't really about the resource not getting cached -- there are various ways in which it could get cached -- it's about the cache being bypassed when you do a request for the resource","msgtype":"m.text"},"ts":1191383100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the application cache, that is","msgtype":"m.text"},"ts":1191383101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the normal cache still gets hit","msgtype":"m.text"},"ts":1191383102000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9","msgtype":"m.text"},"ts":1191383103000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"e.g. so that you can have a worked thread that talks to the server even from an \"offline\" application","msgtype":"m.text"},"ts":1191383104000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh weird","msgtype":"m.text"},"ts":1191383105000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"worker thread, rather","msgtype":"m.text"},"ts":1191383160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well I think from an HTTP perspective, they're just different caches","msgtype":"m.text"},"ts":1191383161000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1191383162000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"like layers thereof","msgtype":"m.text"},"ts":1191383163000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"proxies like","msgtype":"m.text"},"ts":1191383164000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1191383165000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so you should still be able to model it using HTTP, even if it is an \"application cache\"","msgtype":"m.text"},"ts":1191383166000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"well an application cache isn't really an http cache -- the whole point is that normally any resource will avoid the network if it's in the manifest, and any resource not in the manifest will immediately fail, unless it's on this whitelist, in which case it does normal http caching semantics on the browser's primary cache and uses the network if appropriate","msgtype":"m.text"},"ts":1191383280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no-cache means \"bypass all caches\"","msgtype":"m.text"},"ts":1191383281000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which isn't what's going on here","msgtype":"m.text"},"ts":1191383282000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think maciej's \"network\" suggestion is probably best","msgtype":"m.text"},"ts":1191383283000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyway, gotta go","msgtype":"m.text"},"ts":1191383284000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbiab","msgtype":"m.text"},"ts":1191383340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"should I expect datatemplates to be stable enough to start working on conformance checking them?","msgtype":"m.text"},"ts":1191403380000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"The contents of rule elements form a template, and may be anything that, when the parent datatemplate is applied to some conforming data, results in a conforming DOM tree.\" is that supposed to be machine-checkable?","msgtype":"m.text"},"ts":1191403740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I guess it is, but it seems rather tricky as it may involve additional requests, etc.","msgtype":"m.text"},"ts":1191403860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also, it involves computing all possible context trees for a selector...","msgtype":"m.text"},"ts":1191403861000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"isn't that infinite most of the time?","msgtype":"m.text"},"ts":1191403980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"'*'","msgtype":"m.text"},"ts":1191403981000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gotta love how a \"small\" change can totally break fundamental assumptions about the nature of computations for conformance checking...","msgtype":"m.text"},"ts":1191403982000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: obviously, enumerating the trees is futile","msgtype":"m.text"},"ts":1191403983000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I haven't yet figured out what problem data templates solve","msgtype":"m.text"},"ts":1191404040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"on the first look it seems like XSLT lite with Selectors instead of XPath","msgtype":"m.text"},"ts":1191404041000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm not sure either, although I'm told it likely replaces repetition templates and looks like XUL templating but simpler","msgtype":"m.text"},"ts":1191404100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"this stuff looks much harder to grok than repetition templates","msgtype":"m.text"},"ts":1191404220000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"When an element has a template attribute but no ref attribute, the element may, instead of its usual content model, have a single element of any kind. That element is then used as the root node of the data for the template.\" aargh","msgtype":"m.text"},"ts":1191404280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"You slowly begin to understand why Hixie advocates a no-schema approach","msgtype":"m.text"},"ts":1191404340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: well, I guess he has more knowledge of what kind of radical changes he is going to pull off","msgtype":"m.text"},"ts":1191404400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1191404401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: earlier, analyzing the spec and deciding to use RELAX NG was a reasonable choice","msgtype":"m.text"},"ts":1191404402000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://developer.mozilla.org/en/docs/XUL_Tutorial:Templates has an intro to XUL templates that seems to map to <datatemplatE> and co","msgtype":"m.text"},"ts":1191404403000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"with a complex structure it should be possible to generate your weblog out of your Atom feed, as I understand it :)","msgtype":"m.text"},"ts":1191404520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"this saves some templates on the server side, but is probably a nightmare for search engines and older clients...","msgtype":"m.text"},"ts":1191404580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm fine with certain things being left to the server side","msgtype":"m.text"},"ts":1191404700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"server side means that all sites don't need to buy in to the same solutions and can be updated out of sync and can explore stuff without browser cooperation","msgtype":"m.text"},"ts":1191404760000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"maybe there are more convincing use cases","msgtype":"m.text"},"ts":1191404761000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: are data templates *really* supposed to work inline or do you expect people to use XML templates by reference anyway?","msgtype":"m.text"},"ts":1191404820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I mean inline in text/html","msgtype":"m.text"},"ts":1191404821000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I suppose it helps in the cases where you don't have a server, as in offline applications","msgtype":"m.text"},"ts":1191404822000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm sensing some serious scope creep here","msgtype":"m.text"},"ts":1191404823000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Although writing some JavaScript to do the same might not be too hard","msgtype":"m.text"},"ts":1191404880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I feel like sending a dozen emails, but I don't want to stir it on public-html up front","msgtype":"m.text"},"ts":1191404881000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"e-mail whatwgâŠ™wo ?","msgtype":"m.text"},"ts":1191404882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and say it's important as you're planning to implement","msgtype":"m.text"},"ts":1191404940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, when I have smart questions to ask, I'll probably take the whatwg route","msgtype":"m.text"},"ts":1191404941000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"FWIW I think Hyatt suggested the datatemplate thing","msgtype":"m.text"},"ts":1191405240000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"\"Most mobile browsers do not support everything HTML defines. Our experience is that XHTML Basic delivered with application/xhtml+xml is more likely to result in a functional user experience than other combinations.\" -- http://lists.w3.org/Archives/Public/public-bpwg-comments/2007OctDec/0012.html","msgtype":"m.text"},"ts":1191405241000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"sounds like bs","msgtype":"m.text"},"ts":1191405420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I must be living in some parallel universe where I carry a Gecko-based browser, a WebKit-based browsers and three Opera-based browsers on my person when I go out","msgtype":"m.text"},"ts":1191405421000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"although maybe they can give some pointers to research they've done in that area, that counters yours","msgtype":"m.text"},"ts":1191405422000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and even then WebKit would get the encoding wrong :p","msgtype":"m.text"},"ts":1191405480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: From what I've seen, inline text/html datatemplates appear to have extremely limited uses, since you can't use any interesting HTML elements in them without breaking in HTML5 UAs and in pre-HTML5 UAs","msgtype":"m.text"},"ts":1191405720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: if that's true, I don't like inline datatemplates","msgtype":"m.text"},"ts":1191405900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"more on XUL templates: http://www.jerf.org/resources/xblinjs/whyNotMozilla/notXulTemplates.html","msgtype":"m.text"},"ts":1191406500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(At least the <select><nest></select> is broken by HTML5 parsers in http://philip.html5.org/demos/datatemplate/experimental/002.html - not sure if there are other problems there)","msgtype":"m.text"},"ts":1191406620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"would expect that the parsing rules are modified at some point","msgtype":"m.emote"},"ts":1191406680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for <select> you can use a data= attribute btw that points to an external XML file","msgtype":"m.text"},"ts":1191406681000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"although then you'd have to do the templating on the server side","msgtype":"m.text"},"ts":1191406682000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If the contents of <datatemplate> doesn't get parsed like normal HTML, it'd seem even weirder to have it inline in HTML documents","msgtype":"m.text"},"ts":1191406740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"didn't know you could specify 'Content-Type:text/html (this is a meaningless comment)' in HTTP","msgtype":"m.emote"},"ts":1191409800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wonders if it actually works","msgtype":"m.emote"},"ts":1191409801000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: seems to work in opera but not mozilla, testing with a data: uri","msgtype":"m.text"},"ts":1191410220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"safari for windows crashed","msgtype":"m.text"},"ts":1191410280000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"comments in protocol don't make sense to me","msgtype":"m.text"},"ts":1191410520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it's not like humans are supposed to talk HTTP by hand and other humans supposed to read it","msgtype":"m.text"},"ts":1191410521000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"maybe for debugging purposes?","msgtype":"m.text"},"ts":1191410580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"seems that the old specs are hopelessly out of data though","msgtype":"m.text"},"ts":1191410581000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is reading through RFC2045 and 2046","msgtype":"m.emote"},"ts":1191410582000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"all subtypes of \"text\" must use CRLF as newline delimiter","msgtype":"m.text"},"ts":1191410640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: well, to me it looks like comments are yet another thing to debug","msgtype":"m.text"},"ts":1191410641000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"haha","msgtype":"m.text"},"ts":1191410642000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"this is false for all text subtypes I know","msgtype":"m.text"},"ts":1191410643000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1191410644000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"except in email","msgtype":"m.text"},"ts":1191410645000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"CRLF is one of the worst ideas ever in text processing","msgtype":"m.text"},"ts":1191410700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"was reading this because Hixie is defining a format that ignores RFC 2046 in two ways: it uses LF as newline delimiter and UTF-8 is the encoding","msgtype":"m.emote"},"ts":1191410760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which format is that?","msgtype":"m.text"},"ts":1191410820000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it's part of #offline for caching","msgtype":"m.text"},"ts":1191410940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the manifest thing?","msgtype":"m.text"},"ts":1191410941000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1191411000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm, the default media type in case Content-Type is bogus or absent is 'text/plain; charset=us-ascii'","msgtype":"m.text"},"ts":1191411001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(to be fair, all this is from 1996)","msgtype":"m.text"},"ts":1191411060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: url for Hixie's spec?","msgtype":"m.text"},"ts":1191411240000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"it's part of HTML5","msgtype":"m.text"},"ts":1191411241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/#offline","msgtype":"m.text"},"ts":1191411242000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, allowing comments in data: URIs types is a bug per the data URI specification it seems","msgtype":"m.text"},"ts":1191411300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok","msgtype":"m.text"},"ts":1191411301000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it defines mediatype itself as '[ type \"/\" subtype ] *( \";\" parameter )'","msgtype":"m.text"},"ts":1191411360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"HTTP matters so much more than SMTP for the transfer of novel types.","msgtype":"m.text"},"ts":1191411480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"likes idea #3 better than the other two ideas","msgtype":"m.emote"},"ts":1191411481000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"we should repeal the old MIME RFCs and write new specs that are sane for HTTP and have exceptions for the SMTP legacy","msgtype":"m.text"},"ts":1191411540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"why can't the manifest have the mime type text/plain ?","msgtype":"m.text"},"ts":1191411541000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so that text/plain does not have to be sniffed?","msgtype":"m.text"},"ts":1191411600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen, the problem is the amount of work","msgtype":"m.text"},"ts":1191411660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you'd only sniff it if it was referenced from <html application=\"...\">, no?","msgtype":"m.text"},"ts":1191411661000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"s/sniff/process/","msgtype":"m.text"},"ts":1191411662000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmm, maybe","msgtype":"m.text"},"ts":1191411720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just like e.g. a css style sheet doesn't do anything if you view it directly","msgtype":"m.text"},"ts":1191411780000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i don't think I care much either way","msgtype":"m.text"},"ts":1191411900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"using a MIME type is less likely to upset people though and doesn't cost much","msgtype":"m.text"},"ts":1191411960000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and if it doesn't work out it can always be obsoleted","msgtype":"m.text"},"ts":1191411961000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"from a practical point of view -- what file extension will you use? does apache have a mapping for that file extension?","msgtype":"m.text"},"ts":1191412020000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"we might end up having authors use all of text/cache-manifest, text/plain and text/html etc","msgtype":"m.text"},"ts":1191412021000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and browsers will have to support all of those or perhaps even ignore the content-type altogether","msgtype":"m.text"},"ts":1191412080000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"which seems worse than to just use text/plain","msgtype":"m.text"},"ts":1191412081000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ignoring content-type information seems like an acceptable loss to me","msgtype":"m.text"},"ts":1191412140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, but what's the win of saying text/cache-manifest over text/plain?","msgtype":"m.text"},"ts":1191412141000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it doesn't upset people who care about this, or upsets them less","msgtype":"m.text"},"ts":1191412200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(re: data URLs, they need to be updated too to be clear about fragment identifiers and that percent encoded URIs are always interpreted as UTF-8 (iirc))","msgtype":"m.text"},"ts":1191412320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i don't see a difference here from xbl using application/xml instead of application/xbl+xml","msgtype":"m.text"},"ts":1191412380000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"all XML is processed the same way, text subtypes are process differently","msgtype":"m.text"},"ts":1191412381000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"FWIW, it suck rather badly for developers that application/json triggers download behavior (at least in Firefox) if you try to view directly","msgtype":"m.text"},"ts":1191412382000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"e.g. text/html vs text/css","msgtype":"m.text"},"ts":1191412383000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sucks even","msgtype":"m.text"},"ts":1191412440000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"JSON doesn't need a Content-Type really...","msgtype":"m.text"},"ts":1191412441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: the problem was that saying application/xbl+xml is likely to result in mislabeled content, and the same applies to text/cache-manifest","msgtype":"m.text"},"ts":1191412442000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"also, .rng and .rnc don't really benefit from non-text/plain content types","msgtype":"m.text"},"ts":1191412443000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"since people who view those types directly want to see them as text","msgtype":"m.text"},"ts":1191412500000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan, that was not the only argument","msgtype":"m.text"},"ts":1191412560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but sure","msgtype":"m.text"},"ts":1191412561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"doesn't care much","msgtype":"m.emote"},"ts":1191412562000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in general, it seems to me that only document formats (plain text, HTML, PDF, ODF, etc.) should have authoritative types","msgtype":"m.text"},"ts":1191412680000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and style sheet, schemas, scripts, auxiliary data files, etc. would be better without","msgtype":"m.text"},"ts":1191412681000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the test should be \"Do end users who aren't debugging want to load this in the a browsing context?\"","msgtype":"m.text"},"ts":1191412740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Yes => typed. No => untyped","msgtype":"m.text"},"ts":1191412741000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"btw, prompting for text/unknown is wrong in theory","msgtype":"m.text"},"ts":1191413580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hm. I'd probably like to see the offline manifest as JSON instead","msgtype":"m.text"},"ts":1191413820000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"see #whatwg archives","msgtype":"m.text"},"ts":1191413821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JSON was too complex with too many edge cases","msgtype":"m.text"},"ts":1191413822000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1191413880000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"XML even more so","msgtype":"m.text"},"ts":1191413881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"goes without saying","msgtype":"m.text"},"ts":1191413940000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"what's matchAll() or getElementsBySelector() called today?","msgtype":"m.text"},"ts":1191415800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"isn't following the naming debate anymore","msgtype":"m.emote"},"ts":1191415801000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"querySelector() and querySelectorAll()","msgtype":"m.text"},"ts":1191415860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1191415920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I thought JSON had Draconian failure on error without edge cases","msgtype":"m.text"},"ts":1191416880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"is there a way to make non-html elements focusable?","msgtype":"m.text"},"ts":1191417780000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"html:role is pretty useless otherwise","msgtype":"m.text"},"ts":1191417840000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"unless we say e.g. that html:role makes the element focusable in and of itself","msgtype":"m.text"},"ts":1191417900000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"SVG has focusable=","msgtype":"m.text"},"ts":1191418080000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"looks at svg mobile 1.2","msgtype":"m.emote"},"ts":1191422220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"<circle cx=\"300\" cy=\"225\" r=\"100\" fill=\"red\">","msgtype":"m.text"},"ts":1191422221000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"        <handler type=\"application/ecmascript\" ev:event=\"DOMActivate\"> change(evt); </handler>","msgtype":"m.text"},"ts":1191422222000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"    </circle>","msgtype":"m.text"},"ts":1191422223000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"what's wrong with <circle ... onclick=\"chance(event)\"/> ?","msgtype":"m.text"},"ts":1191422280000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"s/chance/change/","msgtype":"m.text"},"ts":1191422281000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://www.w3.org/TR/SVGMobile12/interact.html#UIEvents","msgtype":"m.text"},"ts":1191422340000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"XML Events seemed like the way forward or something","msgtype":"m.text"},"ts":1191422341000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"seem just more verbose to me","msgtype":"m.text"},"ts":1191422400000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I presume that someone foresaw a future where javascript was dead","msgtype":"m.text"},"ts":1191422520000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":" <handler type=\"application/x-brainfuck\" ev:event=\"DOMActivate\"> change(evt); </handler>","msgtype":"m.text"},"ts":1191422521000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"zcorpan, yes, formal objections to that effect have been raised and subsequently ignored iirc","msgtype":"m.text"},"ts":1191422522000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1191423420000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"still, Content-Script-Type could solve that the day another script type becomes evident","msgtype":"m.text"},"ts":1191423421000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"as specced in html4 ten years ago","msgtype":"m.text"},"ts":1191423480000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I wonder how many servers have bogus values for that header","msgtype":"m.text"},"ts":1191424320000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"and for the style equivalent header for that matter","msgtype":"m.text"},"ts":1191424321000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"i've seen the headers in the wild but not with bogus values","msgtype":"m.text"},"ts":1191424500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i think some versions of firefox respect them","msgtype":"m.text"},"ts":1191424560000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: i'll be online in about 2 hours and can reply to any datatemplate questions","msgtype":"m.text"},"ts":1191432240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: in brief: not expected to be used inline in html; didn't expect machine checkable to actually apply the templates","msgtype":"m.text"},"ts":1191432300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: did expect validators to at least check that there was one context in which all the children of the <rule> element could theoretically be valid together","msgtype":"m.text"},"ts":1191432301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: datatemplate is basically expected to replace the repetition construct stuff; i'm not convinced that repetition blocks are easier, i actually think datatemplates are easier","msgtype":"m.text"},"ts":1191432360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: text/plain isn't a manifest. while we're pretending that content-type still exists, we should at least try to honour its concepts","msgtype":"m.text"},"ts":1191432420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ok. i don't expect it to actually work though","msgtype":"m.text"},"ts":1191432480000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"got to love that the XHTML2 WG is public now: \"there is actual money value in efficiency boost by using XML and namespacing; tag soup devalues and compromises accessibility\"","msgtype":"m.text"},"ts":1191438240000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"also, \"GJR: XBL draft dangersously underspecified\"","msgtype":"m.text"},"ts":1191438300000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"annevk2: pointers?","msgtype":"m.text"},"ts":1191438360000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://www.w3.org/2007/10/03-xhtml-minutes.html#item03","msgtype":"m.text"},"ts":1191438361000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"there's also some stuff about the non-namespaced role= solution not being forward-looking","msgtype":"m.text"},"ts":1191438420000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"ah, they discussed aria","msgtype":"m.text"},"ts":1191438540000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"reads","msgtype":"m.emote"},"ts":1191438541000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: well, the spec currently says to bail if the mime type doesn't match. but we'll see. :-)","msgtype":"m.text"},"ts":1191438840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yep :)","msgtype":"m.text"},"ts":1191439020000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"\"XBL draft dangersously underspecified\"?","msgtype":"m.text"},"ts":1191439080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"who's GJR? i should ask him for feedback","msgtype":"m.text"},"ts":1191439081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It's Gregory","msgtype":"m.text"},"ts":1191439082000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"aha, gregory","msgtype":"m.text"},"ts":1191439083000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"pm'd you contact info in case you don't have it","msgtype":"m.text"},"ts":1191439140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i can't extract actual feedback on the aria proposal form the minutes","msgtype":"m.text"},"ts":1191439200000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hey dreamhost fixed my jabber problem at last","msgtype":"m.text"},"ts":1191439260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, maybe you could add examples to <datatemplate> that illustrate how it replaces repetition templates and such?","msgtype":"m.text"},"ts":1191439440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"man, have you seen these minutes? http://www.w3.org/2007/10/03-xhtml-minutes.html#item02","msgtype":"m.text"},"ts":1191439500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"WG decided to declare victory -- text/html is the media type, that's that -- then we thought better of it and switched it back\"","msgtype":"m.text"},"ts":1191439501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there are so many things wrong with that... i don't know where to start","msgtype":"m.text"},"ts":1191439502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: yeah, i need to fill in the intro section","msgtype":"m.text"},"ts":1191439503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right. asked him for feedback. hopefully he can send me links to the underspecified parts, so i can fix them.","msgtype":"m.text"},"ts":1191439740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh lol, role= will depend on CURIEs","msgtype":"m.text"},"ts":1191439800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what's a curie again? i thought it was a unit of radiation.","msgtype":"m.text"},"ts":1191439801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"per the XHTML2 WG it's an abbreviation of URIs","msgtype":"m.text"},"ts":1191439860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1191439861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"abbreviations aren't usually longer than the word they're abbreviating","msgtype":"m.text"},"ts":1191439862000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"foo:bar expands into http://example.org/#bar if foo is bound to http://example.org/#","msgtype":"m.text"},"ts":1191439863000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah so it's a qualified name?","msgtype":"m.text"},"ts":1191439920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1191439921000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"qualified names don't expand into URIs","msgtype":"m.text"},"ts":1191439922000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"they expand into a namespace local-name tuple","msgtype":"m.text"},"ts":1191439923000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"{http://www.example.org/#, bar} and http://example.org/#bar seem the same to me, except for some syntactic details","msgtype":"m.text"},"ts":1191439980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's also that bar in this example is no longer restricted to a being a NCName","msgtype":"m.text"},"ts":1191440040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"seems quite trivial these days to register MIME types btw","msgtype":"m.text"},"ts":1191440100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"lordy, whatwg seems to be taking up the slack now that public-html has stopped being high-traffic","msgtype":"m.text"},"ts":1191440160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"e-mail on the whatwg list or something else?","msgtype":"m.text"},"ts":1191440220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1191440221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm, which e-mail?","msgtype":"m.text"},"ts":1191440340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i just mean that as traffic to public-html has gone down, traffic to whatwg has gone up","msgtype":"m.text"},"ts":1191440341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1191440400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: re how do we avoid <datatemplate> turning into a programming language: i think we'll define escaping to JS in the first version. i'm just not sure what the syntax should be yet.","msgtype":"m.text"},"ts":1191440401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, apparently gregory didn't mean what he minuted about xbl","msgtype":"m.text"},"ts":1191442380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"addresses some comments from Hixie on access-control","msgtype":"m.emote"},"ts":1191448620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: changing the port defaults, or the other one?","msgtype":"m.text"},"ts":1191449760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the other","msgtype":"m.text"},"ts":1191450000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I tend to agree with port defaults, but I'd like to wait for the Mozilla folks to give feedback first","msgtype":"m.text"},"ts":1191450001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"based on their feedback it's like it's now","msgtype":"m.text"},"ts":1191450060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1191450061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(i guarentee that it will lead to security holes if we don't fix it, but i agree that we should consult with the browser vendors)","msgtype":"m.text"},"ts":1191450062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mozilla unfixed it :)","msgtype":"m.text"},"ts":1191450120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe we should just have a wildcard for port","msgtype":"m.text"},"ts":1191450121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://example.org:*","msgtype":"m.text"},"ts":1191450122000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"seems better than defaulting wild, yeah","msgtype":"m.text"},"ts":1191450180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the 99% case will likely be just <*> though","msgtype":"m.text"},"ts":1191450181000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1191450240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the 99% case will be 80.","msgtype":"m.text"},"ts":1191450241000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in only very few cases would you do it to anything but 80","msgtype":"m.text"},"ts":1191450242000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"almost all cases where you talk to a non-80 port, there'll be something fishy going on","msgtype":"m.text"},"ts":1191450243000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you bring this back to use cases, fair enough","msgtype":"m.text"},"ts":1191450244000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the security issue is pretty drastic","msgtype":"m.text"},"ts":1191450300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you yourself are vulnerable","msgtype":"m.text"},"ts":1191450301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"philip` could impersonate zcorpan on html5.org, for example (assuming they both have separate use accounts to the same machine)","msgtype":"m.text"},"ts":1191450302000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you and i were hosted on the same shared dreamhost machine, i could trivially run a web host at annevankesteren.nl:9999","msgtype":"m.text"},"ts":1191450360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, I understood that from your e-mail","msgtype":"m.text"},"ts":1191450361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"quite annoying","msgtype":"m.text"},"ts":1191450362000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no argument from me there","msgtype":"m.text"},"ts":1191450420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what I've heard from others and what seems likely though is that the most common case will be <*>","msgtype":"m.text"},"ts":1191450421000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1191450422000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"only very rarely seens non-80 HTTP traffic","msgtype":"m.emote"},"ts":1191450480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sees","msgtype":"m.text"},"ts":1191450481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no, I mean Access-Control: allow <*>","msgtype":"m.text"},"ts":1191450482000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1191450540000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, that case should still have wildcard port","msgtype":"m.text"},"ts":1191450541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and yeah, it'll be quite common","msgtype":"m.text"},"ts":1191450542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the <example.org> case will have wildcard as well right?","msgtype":"m.text"},"ts":1191450543000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or do we want that to be a shorthand for http://example.org:80","msgtype":"m.text"},"ts":1191450544000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if you don't have a scheme, you'd have to make it wildcard, i'd guess","msgtype":"m.text"},"ts":1191450600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"unless you default the scheme, but that seems bad","msgtype":"m.text"},"ts":1191450601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"requiring authors to type <*://example.org:*> or something like that...","msgtype":"m.text"},"ts":1191450602000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if the scheme is \"*\" then i think defaulting the port to \"*\" would be fine","msgtype":"m.text"},"ts":1191450603000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"really all i'm saying is that \"http\" implies a port, so when you have that port implication, it shouldn't default to wild","msgtype":"m.text"},"ts":1191450604000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess that's fair enough","msgtype":"m.text"},"ts":1191450660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, btw, is it really that dangerous? as this is mostly to protect information leakage from the intranet, after all","msgtype":"m.text"},"ts":1191451380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe I'm missing something","msgtype":"m.text"},"ts":1191451440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1191451560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let http://example.com/ be user-authentication (by cookie or http) and let it host some user-sensitive data","msgtype":"m.text"},"ts":1191451620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"user-authenticated, that is","msgtype":"m.text"},"ts":1191451621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let http://affiliate.invalid/ be a separate organisation that has an agreement with example.com to use the user-sensitive data","msgtype":"m.text"},"ts":1191451680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"example.com's data is only accessible to UAs that are logged in to example.com, and to scripts running in example.com's domain and affiliate.invalid's domain.","msgtype":"m.text"},"ts":1191451681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"now let http://evil.example.net/ be an unrelated evil organisation that happens to be hosted on the same IP as affiliate.invalid","msgtype":"m.text"},"ts":1191451740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the http://evil.example.net/ organisation can host content at http://affiliate.invalid:9999/ that can now access http://example.com/'s data when a user is sent to http://affiliate.invalid:9999/ (e.g. by phishing)","msgtype":"m.text"},"ts":1191451741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"btw, this is the kind of thing that the security section should be discussing in detail","msgtype":"m.text"},"ts":1191451742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and is why security sections are important","msgtype":"m.text"},"ts":1191451800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so the problem is that it's unclear whether authentication and cookies are actually supported","msgtype":"m.text"},"ts":1191451801000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"to me, anyway","msgtype":"m.text"},"ts":1191451802000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"how do you mean?","msgtype":"m.text"},"ts":1191451860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cookies don't go in outgoing requests iirc and you can't specify user/password either","msgtype":"m.text"},"ts":1191451861000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the user is already logged in","msgtype":"m.text"},"ts":1191451920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't understand what you mean","msgtype":"m.text"},"ts":1191451921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cookies had better be sent to the server, how else can we do user authentication?","msgtype":"m.text"},"ts":1191451922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think that's prevented, but maybe the only prevention is about reading those cookies in the response","msgtype":"m.text"},"ts":1191451980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i hope so","msgtype":"m.text"},"ts":1191451981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"otherwise i have a whole bunch more comments to send :-)","msgtype":"m.text"},"ts":1191451982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"summons sicking","msgtype":"m.emote"},"ts":1191451983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the spec says cookies should work (xhr2)","msgtype":"m.text"},"ts":1191452040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it also says it doesn't deal with some things yet","msgtype":"m.text"},"ts":1191452041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"this being one of them :)","msgtype":"m.text"},"ts":1191452042000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it does deal with it, it explicitly says it should work :-)","msgtype":"m.text"},"ts":1191452043000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"If the user agent supports HTTP State Management it should persist, discard and send cookies (as received in the Set-Cookie and Set-Cookie2 response headers, and sent in the Cookie header) as applicable. [RFC2965]\"","msgtype":"m.text"},"ts":1191452044000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fair enough, though not what I meant","msgtype":"m.text"},"ts":1191452100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what did you mean then?","msgtype":"m.text"},"ts":1191452101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there's a note somewhere on limiting stuff on requests","msgtype":"m.text"},"ts":1191452102000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"issue, rather","msgtype":"m.text"},"ts":1191452103000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"such as setted request headers","msgtype":"m.text"},"ts":1191452160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and there was something about user/password too","msgtype":"m.text"},"ts":1191452161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i'll e-mail jonas","msgtype":"m.text"},"ts":1191452162000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you mean in addRequestHeader?","msgtype":"m.text"},"ts":1191452163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"set*, yes","msgtype":"m.text"},"ts":1191452164000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right setRequestHeader() certainly shouldn't let cookies be set for cross-origin hosts","msgtype":"m.text"},"ts":1191452165000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm talking about the cookies that the UA already has set","msgtype":"m.text"},"ts":1191452166000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(allowing setRequestHeader() to set cookies would allow for a distributed cookie search attack)","msgtype":"m.text"},"ts":1191452220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thanks, this helps clearing some stuff up","msgtype":"m.text"},"ts":1191452400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1191452460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wassup","msgtype":"m.text"},"ts":1191452760000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1191452761000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just e-mailed","msgtype":"m.text"},"ts":1191452820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"relayed annevk's summoning","msgtype":"m.emote"},"ts":1191452821000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"cheers","msgtype":"m.text"},"ts":1191452822000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"basically, what's the XHR2 model for non-same origin requests with respect to the user/password arguments of open() and what is with respect to cookies","msgtype":"m.text"},"ts":1191452823000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wonders if gavin_ summoned the entire #developer channel","msgtype":"m.emote"},"ts":1191452880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, I relayed it publically :)","msgtype":"m.text"},"ts":1191452881000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"annevk: we don't allow user/passwd to be specified for cross-origin requests","msgtype":"m.text"},"ts":1191452882000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"biesi must just be curious :)","msgtype":"m.text"},"ts":1191452883000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"sicking, ignored or exception?","msgtype":"m.text"},"ts":1191452940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: why did you respond to hixie on the webapi list btw?","msgtype":"m.text"},"ts":1191452941000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"oops","msgtype":"m.text"},"ts":1191452942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: leeme look","msgtype":"m.text"},"ts":1191452943000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"lemme even","msgtype":"m.text"},"ts":1191452944000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"gavin_, yep :)","msgtype":"m.text"},"ts":1191453000000,"senderName":"biesi","senderId":"biesi@irc"},
{"content":{"body":"resends to public-appformats","msgtype":"m.emote"},"ts":1191453001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"did i send it to the wrong list?","msgtype":"m.text"},"ts":1191453060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"don't think so","msgtype":"m.text"},"ts":1191453061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no, anne did","msgtype":"m.text"},"ts":1191453062000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"has now defined the syntax of manifests, btw (http://www.whatwg.org/specs/web-apps/current-work/#manifests)","msgtype":"m.emote"},"ts":1191453120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"loads","msgtype":"m.emote"},"ts":1191453180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"Note: This is a willful double violation of RFC2046.\"","msgtype":"m.text"},"ts":1191453181000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1191453182000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"two wrongs make a right?","msgtype":"m.text"},"ts":1191453183000,"senderName":"kingryan","senderId":"kingryan@irc"},
{"content":{"body":"Hixie, is the UTF-8 thingie a violation too? Where is that stated?","msgtype":"m.text"},"ts":1191453184000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"*mumble* stupid rfc","msgtype":"m.text"},"ts":1191453185000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's from 1996...","msgtype":"m.text"},"ts":1191453240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: RFC2046 requires the default to be us-ascii (HTTP changes it to ISO-8859-1) and RFC2046 requires newlines to be CRLF (HTTP changes that to CR, LF, or CRLF)","msgtype":"m.text"},"ts":1191453241000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(but HTTP requires that they be consistent throughout the file)","msgtype":"m.text"},"ts":1191453242000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so per HTTP you violate only a single rule","msgtype":"m.text"},"ts":1191453243000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(html5 changes it to UTF-8 and CR|LF|CRLF)","msgtype":"m.text"},"ts":1191453244000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh wait","msgtype":"m.text"},"ts":1191453300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you changed the sole LF requirement","msgtype":"m.text"},"ts":1191453301000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1191453302000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah otherwise windows users would hit me","msgtype":"m.text"},"ts":1191453303000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbiab","msgtype":"m.text"},"ts":1191453304000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, should it mention the UTF-8 BOM?","msgtype":"m.text"},"ts":1191453305000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mtg","msgtype":"m.text"},"ts":1191453306000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk, is the manifest format already in use somewhere?","msgtype":"m.text"},"ts":1191453420000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"Hixie: Is there a good reason not to allow comments on data lines?","msgtype":"m.text"},"ts":1191453421000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"At the end obviously","msgtype":"m.text"},"ts":1191453422000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"sayrer, nope","msgtype":"m.text"},"ts":1191453423000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, HTTP specifies what the actual data must contains?","msgtype":"m.text"},"ts":1191453480000,"senderName":"biesi","senderId":"biesi@irc"},
{"content":{"body":"sayrer, just that editors might include such a thing by default","msgtype":"m.text"},"ts":1191453481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"s/s\\?/?/","msgtype":"m.text"},"ts":1191453482000,"senderName":"biesi","senderId":"biesi@irc"},
{"content":{"body":"Hixie, you want s/<li>/<dt>/ there somewhere","msgtype":"m.text"},"ts":1191453540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"[{explicit:[,,,]},{fallback:[],,]}]","msgtype":"m.text"},"ts":1191453600000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"would avoid parsing and encoding issues","msgtype":"m.text"},"ts":1191453601000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"sayrer, http://krijnhoetmer.nl/irc-logs/whatwg/20070929#l-17","msgtype":"m.text"},"ts":1191453660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, most JSON parsers grok comments","msgtype":"m.text"},"ts":1191453780000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"but yeah, it's all a bit gross","msgtype":"m.text"},"ts":1191453840000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"That sounds like a flaw, not a feature :-)","msgtype":"m.text"},"ts":1191453841000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it's actually right there in the JSON rfc","msgtype":"m.text"},"ts":1191453842000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"you can accept more than is allowed","msgtype":"m.text"},"ts":1191453843000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"fun","msgtype":"m.text"},"ts":1191453900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so lots of them deal with comments, unquoted keys, trailing commas","msgtype":"m.text"},"ts":1191453901000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"\"A JSON parser MAY accept non-JSON forms or extensions.\"","msgtype":"m.text"},"ts":1191453902000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"anyone up for writing JSON5?","msgtype":"m.text"},"ts":1191453903000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"was wondering how long that would take to be suggested","msgtype":"m.emote"},"ts":1191453960000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/MAY/MUST NOT/ and then the world will be a happier place","msgtype":"m.text"},"ts":1191453961000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"JSON5 = JSON + comments - arbitrary extendibility","msgtype":"m.text"},"ts":1191453962000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"it's funny that JSON defaults to UTF-8 and wants to be a subset of JavaScript; but maybe I'm just being to anal","msgtype":"m.text"},"ts":1191454020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: http://krijnhoetmer.nl/irc-logs/whatwg/20070929#l-53","msgtype":"m.text"},"ts":1191454021000,"senderName":"kingryan","senderId":"kingryan@irc"},
{"content":{"body":"oh fun, it even allows UTF-32","msgtype":"m.text"},"ts":1191454080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen will be pleased","msgtype":"m.text"},"ts":1191454081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"anyway, I'm now convinced there is no good choice","msgtype":"m.text"},"ts":1191454200000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"\"Whenever I'm caught between two evils, I take the one I've never tried.\"","msgtype":"m.text"},"ts":1191454260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sicking, found out whether you guys throw or not?","msgtype":"m.text"},"ts":1191454380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looking","msgtype":"m.text"},"ts":1191454381000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sorry, got sidetracked","msgtype":"m.text"},"ts":1191454440000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"annevk: hm, BOM, good point.","msgtype":"m.text"},"ts":1191454441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: not especially, other than making parsing easier. do you think it should support that?","msgtype":"m.text"},"ts":1191454442000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: we throw if you specify a cross-origin uri and user/pass","msgtype":"m.text"},"ts":1191454500000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking, what's the reason it's not allowed, might be useful for security section","msgtype":"m.text"},"ts":1191454560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: on a redirect we'll fire an error-event","msgtype":"m.text"},"ts":1191454561000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: it seems like a low cost thing that people might find useful and will probably expect to work","msgtype":"m.text"},"ts":1191454562000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: otherwise it would be easy to do distributed brute-force hacking of an account","msgtype":"m.text"},"ts":1191454563000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"annevk: for some definition of \"easy\" :)","msgtype":"m.text"},"ts":1191454564000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sayrer: yeah the problem with JSON is that it doesn't have well defined error handling","msgtype":"m.text"},"ts":1191454620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"k, but if the user is already logged in you have access I assume?","msgtype":"m.text"},"ts":1191454621000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, I wonder if you just shouldn't allow arbitrary encodings and defualt to UTF-8 respecting charset= and all that","msgtype":"m.text"},"ts":1191454622000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixe, might want to reconsider that comment character if you allow it on data lines","msgtype":"m.text"},"ts":1191454680000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"annevk: basically i could set up a page and everyone that visited that page would take part in a distributed dictionary attack","msgtype":"m.text"},"ts":1191454681000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"jgraham: fair enough","msgtype":"m.text"},"ts":1191454682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since you know people will end up with fragment identifiers in these things","msgtype":"m.text"},"ts":1191454683000,"senderName":"sayrer","senderId":"sayrer@irc"},
{"content":{"body":"annevk: yeah, if the user is logged in already it should work","msgtype":"m.text"},"ts":1191454740000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"annevk: i'd really rather not bring in all the legacy encodings into this","msgtype":"m.text"},"ts":1191454741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sicking, k, what about cookies?","msgtype":"m.text"},"ts":1191454742000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: over the network they are sent as per usual","msgtype":"m.text"},"ts":1191454743000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie, given everything else that's required for the feature it seems low-cost, but fair enough","msgtype":"m.text"},"ts":1191454744000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"notes that was sicking just described is exactly what Hixie described earlier as the problem with sending cookies -- it's the same issue","msgtype":"m.emote"},"ts":1191454745000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: but accessing document.cookies on the returned document fails","msgtype":"m.text"},"ts":1191454746000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: how so?","msgtype":"m.text"},"ts":1191454800000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"annevk: encodings are a near-infinite pit of doom, in my experience","msgtype":"m.text"},"ts":1191454801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sicking: (i was agreeing with you)","msgtype":"m.text"},"ts":1191454802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ah","msgtype":"m.text"},"ts":1191454803000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: i was saying that setRequestHeader() shouldn't allow Set-Cookie because it would enable a distributed brute-force cookie search","msgtype":"m.text"},"ts":1191454804000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: well, iirc i'm agreeing with you. i think the idea came from you at the xxx security review here at moco","msgtype":"m.text"},"ts":1191454805000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1191454806000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"figures :-)","msgtype":"m.text"},"ts":1191454807000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hopes he isn't the only person to have come up with security problems with xhr :-P","msgtype":"m.emote"},"ts":1191454860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cos i'm by far not a security expert!","msgtype":"m.text"},"ts":1191454861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: we basically do this: http://lists.w3.org/Archives/Public/public-webapi/2006Jun/0012","msgtype":"m.text"},"ts":1191454920000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"oh, if you guys implement the XMLHttpRequest-Security-Check header that can simply be renamed to If-Method-Allowed...","msgtype":"m.text"},"ts":1191454980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I think you didn't","msgtype":"m.text"},"ts":1191455040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"where does If-Method-Allowed come from?","msgtype":"m.text"},"ts":1191455041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"generic name for XHR-Security-Check","msgtype":"m.text"},"ts":1191455042000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh it's invented as well?","msgtype":"m.text"},"ts":1191455043000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1191455100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i have tried to clarify this by making up some EBNF in the spec...","msgtype":"m.text"},"ts":1191455101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1191455160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it sounds nice and official","msgtype":"m.text"},"ts":1191455161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"good","msgtype":"m.text"},"ts":1191455162000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that does sound like a good name","msgtype":"m.text"},"ts":1191455220000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it doesn't really follow the semantics of the other If-XXX headers though","msgtype":"m.text"},"ts":1191455280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"If-Allow-Method maybe?","msgtype":"m.text"},"ts":1191455340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or just If-Allow...","msgtype":"m.text"},"ts":1191455341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the If-XXX headers have the semantic \"do what i say if the condition matches, else return 412\"","msgtype":"m.text"},"ts":1191455342000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what would If-Method-Allowed do if the method is not allowed?","msgtype":"m.text"},"ts":1191455400000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it does nothing, it just lets the author of the server inspect what the user agent intends to do","msgtype":"m.text"},"ts":1191455460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the question is more what it would do if the method _was_ allowed","msgtype":"m.text"},"ts":1191455461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1191455462000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the author replies with Allow:GET,HEAD,FOOBAR","msgtype":"m.text"},"ts":1191455463000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right which isn't the same semantic as the other If-XXX headers","msgtype":"m.text"},"ts":1191455520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"afaict it's not implemented so renaming is certainly possible","msgtype":"m.text"},"ts":1191455521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe Is-Method-Allowed?","msgtype":"m.text"},"ts":1191455580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or Query-Is-Method-Allowed?","msgtype":"m.text"},"ts":1191455581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(assuming you don't want XMLHttpRequest-Security-Check, which i think has the advantage of being very clear as to its purpose :-) )","msgtype":"m.text"},"ts":1191455582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"doesn't really mind what it's called","msgtype":"m.emote"},"ts":1191455583000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Method-Security-Check","msgtype":"m.text"},"ts":1191455584000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or just Method-Check","msgtype":"m.text"},"ts":1191455640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Referer-Root doesn't have Security in it either","msgtype":"m.text"},"ts":1191455641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if we do have a more generic name, though, we should define its processing semantics even when not in the context of xhr","msgtype":"m.text"},"ts":1191455642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it was more the \"XMLHttpRequest\" part I was referring to","msgtype":"m.text"},"ts":1191455643000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Referer-Root doesn't have any processing semantics other than letting the server know what's going on, which makes it easy to make generic","msgtype":"m.text"},"ts":1191455700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(and it's only useful when Referer: isn't set anyway)","msgtype":"m.text"},"ts":1191455701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"same goes for Method-Check, no?","msgtype":"m.text"},"ts":1191455702000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no, Method-Check has a very specific set of requirements to do with what the server responds with","msgtype":"m.text"},"ts":1191455703000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"e.g. as you said earlier, the Allow: thing","msgtype":"m.text"},"ts":1191455704000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"seems more like requirements on the Allow:, not on Method-Check","msgtype":"m.text"},"ts":1191455760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1191455761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Allow or absense thereof*","msgtype":"m.text"},"ts":1191455762000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Allow: is what it sends in response to Method-Check","msgtype":"m.text"},"ts":1191455763000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thus the requirement is on Method-Check","msgtype":"m.text"},"ts":1191455820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you mean it follows from the request that includes Method-Check?","msgtype":"m.text"},"ts":1191455821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1191455880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(btw, what do you think of jonas proposal about defaulting to the referer-root URI scheme default port?)","msgtype":"m.text"},"ts":1191455881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i think it's an excellent suggestion","msgtype":"m.text"},"ts":1191455882000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"cookies to whoever suggested that!","msgtype":"m.text"},"ts":1191455883000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":":p","msgtype":"m.text"},"ts":1191455940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, hmm, yeah, the current text in access-control is rather vague on Allow","msgtype":"m.text"},"ts":1191455941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: for example, should it be case sensitive or not?","msgtype":"m.text"},"ts":1191455942000,"senderName":"sicking","senderId":"sicking@irc"}
]