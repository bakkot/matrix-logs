[
{"content":{"body":"annevk: I’m working on implementing a document-headings builder based on the spec text in the PR #3499 patch, and one difference I’ve noticed is that unlike the old outline algorithm, it doesn’t seem to take into account whether any ancestors of a heading have a `hidden` attribute","msgtype":"m.text"},"ts":1522649959000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"(nor whether the heading itself does)","msgtype":"m.text"},"ts":1522649991000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: should that affect whether it’s a heading, basically?","msgtype":"m.text"},"ts":1522654513000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: that would add some complexity","msgtype":"m.text"},"ts":1522654541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah I know ー it’s part of what made the old outline algorithm more complex","msgtype":"m.text"},"ts":1522654586000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but to answer your question, of course it doesn’t affect whether it’s intrinsically a heading","msgtype":"m.text"},"ts":1522654624000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but in practice, I’m not sure that’s what’s important","msgtype":"m.text"},"ts":1522654648000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: so what does it affect?","msgtype":"m.text"},"ts":1522654672000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, does a screen reader announce a heading if it’s hidden?","msgtype":"m.text"},"ts":1522654717000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I thought a big part of the goal of this was to expose heading levels to AT in the right way","msgtype":"m.text"},"ts":1522654751000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: in that case it affects whether it’s a heading, right? Though AT also respects display:none so hmm","msgtype":"m.text"},"ts":1522654774000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Anyway, we could make this work and impl presumably do it already","msgtype":"m.text"},"ts":1522654807000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for h2-h6 yeah I guess implementations do","msgtype":"m.text"},"ts":1522654868000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, offscreen headings do get announced unless aria-hidden or role=presentation, generally, iirc","msgtype":"m.text"},"ts":1522654872000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"is no expert","msgtype":"m.emote"},"ts":1522654913000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"yeah?","msgtype":"m.text"},"ts":1522654916000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"...but i've studied some","msgtype":"m.text"},"ts":1522654933000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"OK well anyway right now I’m just trying to consider it in terms of what I need to do in order to replace the backend for the current Show Outline feature in the HTML checker with one based on the PR #3499 patch","msgtype":"m.text"},"ts":1522655094000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"url?","msgtype":"m.text"},"ts":1522655160000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"and with the current backend of this, which is based on the old outline algorithm, headings in subtrees with `hidden` attributes don’t get included/shown","msgtype":"m.text"},"ts":1522655166000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"a-ja: URL for what?","msgtype":"m.text"},"ts":1522655186000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the PR","msgtype":"m.text"},"ts":1522655195000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1522655210000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://github.com/whatwg/html/pull/3499","msgtype":"m.text"},"ts":1522655211000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"tks","msgtype":"m.text"},"ts":1522655216000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"annevk: thinking about it more, maybe the broader issue/difference is the patch doesn’t define anything about how to build an outline","msgtype":"m.text"},"ts":1522655314000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or a set of heading levels or whatever we would want to call it","msgtype":"m.text"},"ts":1522655333000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it defines the term \"document headings\" but doesn’t say anything about doing something with it","msgtype":"m.text"},"ts":1522655364000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"doesn’t say anything about exposing \"document headings\" as such, as a set","msgtype":"m.text"},"ts":1522655423000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or rather, as a list I guess","msgtype":"m.text"},"ts":1522655431000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"i dunno how screen reader users prefer to nav around a site these dats...whether by headings or landmarks (which may have aria-label)","msgtype":"m.text"},"ts":1522655511000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"*days","msgtype":"m.text"},"ts":1522655523000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"a-ja: both, I htink","msgtype":"m.text"},"ts":1522655544000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"since it’s not an either-or","msgtype":"m.text"},"ts":1522655552000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I guess it probably depends a lot on the site and how it’s marked up","msgtype":"m.text"},"ts":1522655580000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but one thing I do know is that in the years of discussion we’ve had about this, there have been lots of comments from SR users saying they do often navigate by headings","msgtype":"m.text"},"ts":1522655641000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not saying that they do exclusively, but saying that it’s comment","msgtype":"m.text"},"ts":1522655666000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"*common","msgtype":"m.text"},"ts":1522655672000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"lately i've been going by whether it's a heading i'd put in a toc...real content, whereas nav's get aria-labels instead of heading","msgtype":"m.text"},"ts":1522655726000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"annevk: so this point, as far as I what I need for my purposes, I guess I just have to assume that `hidden` headings should not be including in the “document headings” view/outline that the checker exposes","msgtype":"m.text"},"ts":1522655775000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it keeps the a11y checker tools happy, but i've really no idea of any surveys which ways screen-reader users prefer","msgtype":"m.text"},"ts":1522655818000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"annevk: I mean, since the the spec doesn’t explicitly say what should happen for `hidden` headings ー nor no longer say anything explicitly about how to build an outline","msgtype":"m.text"},"ts":1522655895000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"a-ja: for us I’m not sure it’s so relevant which they prefer, since we need to support both","msgtype":"m.text"},"ts":1522655961000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I mean as far as having the spec define how UAs expose heading levels","msgtype":"m.text"},"ts":1522656003000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"gonna create an <h> element, too, while you're at it? :)","msgtype":"m.text"},"ts":1522656078000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"nope","msgtype":"m.text"},"ts":1522656086000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1522656091000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"definitely not going to do that","msgtype":"m.text"},"ts":1522656099000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in hindsight, we never should have created <section> or <article>","msgtype":"m.text"},"ts":1522656135000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"especially <section>","msgtype":"m.text"},"ts":1522656162000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not so sure about that...certainly nudged a lot of folks (myself included) into more semantic structure","msgtype":"m.text"},"ts":1522656298000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"MikeSmith: we ahould figure out what to do with hidden I think","msgtype":"m.text"},"ts":1522666635000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: we did for main","msgtype":"m.text"},"ts":1522666643000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: I guess we can be more explicit on doc headings too somehow","msgtype":"m.text"},"ts":1522666671000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: dunno maybe it’s not actually important ー I mostly just noticed it as a difference compared to the previous requirements","msgtype":"m.text"},"ts":1522668620000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: but anyway, speaking of differences, if I read the patch text correctly, <hgroup> never takes it heading level from the level-ness of its child h1-h6 but instead takes it only from its nesting depth?","msgtype":"m.text"},"ts":1522668714000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if so, that strikes me a very suboptimal","msgtype":"m.text"},"ts":1522668738000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think <hgroup> was never really anything more than a hack to suppress sub-section creation in the old outline algorithm","msgtype":"m.text"},"ts":1522668844000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so given that we’re discaring the old outline algorithm, I think we should consider just essentially ignoring <hgroup> altogether","msgtype":"m.text"},"ts":1522668890000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"what I mean is, the spec should say that <hgroup> should not be treated as a heading, but instead its child heading elements should take whatever level they otherwise would if they had not <hgroup> parent","msgtype":"m.text"},"ts":1522668980000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that’s just as easy for UAs to implement (doesn’t require keeping any more state than what the current patch says, doesn’t require looking down/ahead)","msgtype":"m.text"},"ts":1522669076000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in other words, if we’re dispensing with the idea that headings create sections (as they did in the old outline algorithm), then we no longer have any useful function/behavior to associate with <hgroup>","msgtype":"m.text"},"ts":1522669178000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it can instead become purely just some extra markup wrapper that’s effect-less/harmless but just there for legacy reasons","msgtype":"m.text"},"ts":1522669363000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or alternatively, we can deprecate or obsolete it","msgtype":"m.text"},"ts":1522669384000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the use-counter stats from the HTML checker showed <hgroup> being used in only ~0.2% of documents, if I recall correctly","msgtype":"m.text"},"ts":1522669676000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: how would we do subheadings then?","msgtype":"m.text"},"ts":1522671284000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: the current idea is that hgroup is the heading in such cases and UAs can represent the multiple headings nested therein as of being increasingly less important","msgtype":"m.text"},"ts":1522671314000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm, would be really useful to have a highWaterMark in `fetch`","msgtype":"m.text"},"ts":1522680594000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"benjamingr_: file a bug? Seems pretty easy to add in theory.","msgtype":"m.text"},"ts":1522683394000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: cheers https://github.com/whatwg/fetch/issues/689","msgtype":"m.text"},"ts":1522684482000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"Quick question. In 14.3.1 (https://html.spec.whatwg.org/#hidden-elements) what does the `i` in `input[type=hidden i]` mean?","msgtype":"m.text"},"ts":1522695491000,"senderName":"Zegnat","senderId":"Zegnat@irc"},
{"content":{"body":"Zegnat: case-insensitive","msgtype":"m.text"},"ts":1522695503000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Quick question gets a quick question. thanks Domenic!","msgtype":"m.text"},"ts":1522695521000,"senderName":"Zegnat","senderId":"Zegnat@irc"},
{"content":{"body":"quick answer ... ugh","msgtype":"m.text"},"ts":1522695531000,"senderName":"Zegnat","senderId":"Zegnat@irc"},
{"content":{"body":"Hi, is there a way to ask the browser not to share same-origin XHR with withCredentials set to true?","msgtype":"m.text"},"ts":1522698277000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"Access-Control-Allow-Credentials:false does not do it.","msgtype":"m.text"},"ts":1522698304000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"espadrine: What do you mean by \"not to share\"","msgtype":"m.text"},"ts":1522700470000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: as in, either not send the credentials with the request, or not yield the response body to the xhr / fetch","msgtype":"m.text"},"ts":1522700772000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"espadrine: Only on same-origin requests?","msgtype":"m.text"},"ts":1522701479000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"with fetch() you can set a Request's mode to `no-cors` (and credentials = `same-origin`/`include`) which will give an opaque response if that makes sense.","msgtype":"m.text"},"ts":1522701596000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: In a situation where I don't trust nor control what a specific page contains, and that page comes from my origin. I can't expect the page to simply not do the harmful thing and set credentials as I want. I don't want it to be able to make a request to my server with the credentials (which it can't read since they are secure cookies).","msgtype":"m.text"},"ts":1522702305000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"Hmm, I tried to submit the Participant Agreement (for PR whatwg/html#3606) but it gave me an Error 400 “Invalid 'scope-workstreams' field”. Known error?","msgtype":"m.text"},"ts":1522702624000,"senderName":"Zegnat","senderId":"Zegnat@irc"}
]