[
{"content":{"body":"annevk: about https://bugzilla.mozilla.org/show_bug.cgi?id=1309358 (Add wildcard to Access-Control-Expose-Headers, Access-Control-Allow-Methods, and Access-Control-Allow-Headers), it seems like Florian is on top it? But I will review the changes","msgtype":"m.text"},"ts":1565322012000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yeah think so too, just wanted to let you know as CORS interests you ðŸ˜Š","msgtype":"m.text"},"ts":1565322448000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yup, thanks, I appreciate it ðŸ˜€","msgtype":"m.text"},"ts":1565322481000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: https://stackoverflow.com/questions/57412098/does-fetchs-response-body-chunks-correspond-to-http-chunks","msgtype":"m.text"},"ts":1565322489000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: no such guarantee","msgtype":"m.text"},"ts":1565322568000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: e.g., if thereâ€™s a delay  after half of an HTTP chunk Iâ€™d expect two or so","msgtype":"m.text"},"ts":1565322640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: there's something weird with Shepherd I think","msgtype":"m.text"},"ts":1565360000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: no IDL ref found for {{Window}}: https://travis-ci.org/whatwg/xhr/builds/569858947","msgtype":"m.text"},"ts":1565360015000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: this was working fine a couple hours ago","msgtype":"m.text"},"ts":1565360023000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hm, will check","msgtype":"m.text"},"ts":1565360040000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk: Looks like Window interface isn't in the spec anymore. I don't see it in the window-object.html page?","msgtype":"m.text"},"ts":1565367070000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"We broke all the spec's IDL https://github.com/whatwg/html/issues/4832#issuecomment-519979077","msgtype":"m.text"},"ts":1565367632000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'm curious if highlighter is failing to return any data, or if something in wattsi is failing on what it was returning.","msgtype":"m.text"},"ts":1565368427000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Score one for Bikeshed's test suite, thank you @foolip https://github.com/whatwg/xhr/issues/251","msgtype":"m.text"},"ts":1565370397000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(Only breakage I can find.)","msgtype":"m.text"},"ts":1565370408000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk or Domenic: ^^^","msgtype":"m.text"},"ts":1565370485000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(I'm on vacation and shouldn't be doing work, but oh well.)","msgtype":"m.text"},"ts":1565370504000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"In that case thank you very much for updating the highlighter, TabAtkins.","msgtype":"m.text"},"ts":1565371136000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'm just watching She-Ra this morning, no big interruption.","msgtype":"m.text"},"ts":1565371159000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"HTML is now missing HTMLScriptElement for the same reason (readonly attribute DOMString async)","msgtype":"m.text"},"ts":1565371276000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Hm, can you instrument to see what exactly highlighter's failure is?","msgtype":"m.text"},"ts":1565371320000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Like, is it returning the IDL block, or erroring somehow?","msgtype":"m.text"},"ts":1565371336000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Ah, looks like it is a highlighter error, the IDL syntax error is coming out as an Exception. That's a problem on my side, will fix.","msgtype":"m.text"},"ts":1565371614000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Domenic: Okay, highlighter just updated again, it'll now just print IDL errors to stdout instead of dying on them, so HTML should get its HTMLScriptElement back. (Just with the async line not highlighted until it's fixed.)","msgtype":"m.text"},"ts":1565372030000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Oh sweet, OK","msgtype":"m.text"},"ts":1565372052000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Well but actually we kind of want to have something in our tooling to detect invalid IDL","msgtype":"m.text"},"ts":1565372069000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"So I kind of preferred the old version? We just need to fix Wattsi/html-build to not give exit code 0 if the highlighter fails","msgtype":"m.text"},"ts":1565372092000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Tracked as https://github.com/whatwg/html-build/issues/201","msgtype":"m.text"},"ts":1565372121000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"This should be the only thing highlighter outputs to stdout, so presumably you should be able to listen for that.","msgtype":"m.text"},"ts":1565372168000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"The problem is that highlighter exited entirely on error; an IDL error anywhere would turn off highlighting for the rest of the spec, since wattsi uses highlighter as a daemon.","msgtype":"m.text"},"ts":1565372251000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Ah OK","msgtype":"m.text"},"ts":1565372480000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Thanks for fixing that!","msgtype":"m.text"},"ts":1565377305000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Does wpt have something like assert_equals_with_fuzz(some_variable, number, fuzz_value)","msgtype":"m.text"},"ts":1565378819000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"perhaps assert_approx_equals","msgtype":"m.text"},"ts":1565378891000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"TabAtkins: finally, I knew it'd spot something eventually :)","msgtype":"m.text"},"ts":1565393651000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Heh, it's spotted stuff before.","msgtype":"m.text"},"ts":1565394489000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"And always gives me peace of mind when making any involved change.","msgtype":"m.text"},"ts":1565394515000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]