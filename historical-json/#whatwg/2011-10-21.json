[
{"content":{"body":"Hixie: +partial interface <a href=#document>Document</a> {","msgtype":"m.text"},"ts":1319156100000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"+  readonly attribute <code><a href=#document>Document</a></code> <a href=#htmldocument title=HTMLDocument>HTMLDocument</a>;","msgtype":"m.text"},"ts":1319156101000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: that doesn't make sense","msgtype":"m.text"},"ts":1319156102000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"nonetheless it is what i intended, I believe","msgtype":"m.text"},"ts":1319156103000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"see the bug in question for more details","msgtype":"m.text"},"ts":1319156104000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: don't you want that on Window ?","msgtype":"m.text"},"ts":1319156105000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh, right","msgtype":"m.text"},"ts":1319156106000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oops","msgtype":"m.text"},"ts":1319156160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"good point","msgtype":"m.text"},"ts":1319156161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"now sleep","msgtype":"m.text"},"ts":1319156162000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"also i made it return the document instead of the interface!","msgtype":"m.text"},"ts":1319156163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"man i suck","msgtype":"m.text"},"ts":1319156164000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1319156220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"abarth: http://www.w3.org/Bugs/Public/show_bug.cgi?id=13776 makes my head hurt","msgtype":"m.text"},"ts":1319157420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1319157421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"s/abarth: //","msgtype":"m.text"},"ts":1319157422000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"OH MY GOD BROWSERS MAKE NO SENSE","msgtype":"m.text"},"ts":1319157780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<form> <img name=y><img name=y> </form>   form.y == HTMLCollection with length 2, containing two images","msgtype":"m.text"},"ts":1319157781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<form> <img name=y><img name=y><input name=y> </form>   form.y == the <input> element.","msgtype":"m.text"},"ts":1319157840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"WHAT IS THIS I DON'T EVEN","msgtype":"m.text"},"ts":1319157841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: do they all do the same thing?","msgtype":"m.text"},"ts":1319158500000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: with a lot of edge cases around this I wouldn't expect them to","msgtype":"m.text"},"ts":1319158560000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: yeah, more or less","msgtype":"m.text"},"ts":1319158860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's awesome","msgtype":"m.text"},"ts":1319158920000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1319159400000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"the {url} is defined in CSS as follows:","msgtype":"m.text"},"ts":1319159401000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"([!#$%&*-~]|{nonascii}|{escape})*","msgtype":"m.text"},"ts":1319159402000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"what does exactly [!#$%&*-~] sequence mean? One char from !,#,$,%,&,*,-,~ ?","msgtype":"m.text"},"ts":1319159460000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"is so, it doesn't make sense to me","msgtype":"m.text"},"ts":1319159461000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"sicking: for extra amusement, <form> <img name=y><img name=y><input name=y type=image> </form>   form.y == HTMLCollection with length 2, containing the two <img>s","msgtype":"m.text"},"ts":1319160360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jarek__: it means one char from ,#,$,%,& or any char from * to ~","msgtype":"m.text"},"ts":1319160361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yeah, the old type=image bug that we inherited from ancient netscape days is hilarious","msgtype":"m.text"},"ts":1319160362000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1319160363000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i suspect it annoys websites as much as it annoys us","msgtype":"m.text"},"ts":1319160420000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"also, <form><input name=x></form> form.x == the input; now change form.x.name to 'y' and form.x STILL returns the input","msgtype":"m.text"},"ts":1319160421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but there's just too much old content depending on it to change it","msgtype":"m.text"},"ts":1319160422000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1319160423000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: the latter might have just changed in Firefox","msgtype":"m.text"},"ts":1319160424000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: try nigtlies","msgtype":"m.text"},"ts":1319160425000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: <3 proxies","msgtype":"m.text"},"ts":1319160480000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: i suspect the web doesn't depend on that","msgtype":"m.text"},"ts":1319160481000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"seems to me it still does it","msgtype":"m.text"},"ts":1319160482000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: in general, behavior around mutations is much less depended on since old content didn't do it","msgtype":"m.text"},"ts":1319160483000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"so do all the other browsers","msgtype":"m.text"},"ts":1319160540000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"my understanding is that this one is required by compat","msgtype":"m.text"},"ts":1319160541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ooh, form.x, not form.elements.x","msgtype":"m.text"},"ts":1319160542000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"the html spec has required it for some time and that's not the kind of craziness i put in without good reason ;-)","msgtype":"m.text"},"ts":1319160543000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, none of this is .elements.","msgtype":"m.text"},"ts":1319160544000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":".elements is somewhat better behaved","msgtype":"m.text"},"ts":1319160545000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"at least in non-webkit","msgtype":"m.text"},"ts":1319160546000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: thanks","msgtype":"m.text"},"ts":1319160547000,"senderName":"jarek__","senderId":"jarek__@irc"},
{"content":{"body":"Hixie, pong","msgtype":"m.text"},"ts":1319165340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heycam|away, I meant exceptions \"thrown by\" Web IDL","msgtype":"m.text"},"ts":1319165640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: XMLDocument thing, see bugmail","msgtype":"m.text"},"ts":1319167200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm, http://validator.nu/?doc=https%3A%2F%2Fdvcs.w3.org%2Fhg%2Fwebperf%2Fraw-file%2Ftip%2Fspecs%2FPageVisibility%2FOverview.html&showsource=yes","msgtype":"m.text"},"ts":1319167320000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I see, we've been trying to avoid such a dependency","msgtype":"m.text"},"ts":1319167380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"«The encoding \"utf-8\" is not the preferred name of the character encoding in use. The preferred name is utf-8.»","msgtype":"m.text"},"ts":1319167381000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Maybe HTML should simply define createDocument() as well then","msgtype":"m.text"},"ts":1319167560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if it's for creating XMLDocument","msgtype":"m.text"},"ts":1319167561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sighs","msgtype":"m.emote"},"ts":1319167620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Content-Type: text/html; charset=\"UTF-8\"","msgtype":"m.text"},"ts":1319167621000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: you should be fine","msgtype":"m.text"},"ts":1319167680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: no dependency","msgtype":"m.text"},"ts":1319167681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: just put  interface XMLDocument : Document { }  after you define Document","msgtype":"m.text"},"ts":1319167682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: and made createDocument() return an XMLDocument","msgtype":"m.text"},"ts":1319167683000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: that's all","msgtype":"m.text"},"ts":1319167740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aah","msgtype":"m.text"},"ts":1319167741000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you made it partial","msgtype":"m.text"},"ts":1319167742000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sweet","msgtype":"m.text"},"ts":1319167743000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1319167744000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thanks Hixie","msgtype":"m.text"},"ts":1319167745000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1319167746000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html#dom-domimplementation-createdocument","msgtype":"m.text"},"ts":1319169180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: i have yet to respond to the e4x thread, but just fyi, i disagree with alex that quasi's are the right solution to this","msgtype":"m.text"},"ts":1319169480000,"senderName":"ojan","senderId":"ojan@irc"},
{"content":{"body":"annevk: we should either move forward with an html-ified e4x variant or with your earlier array based proposal","msgtype":"m.text"},"ts":1319169540000,"senderName":"ojan","senderId":"ojan@irc"},
{"content":{"body":"i'll try and compose a proper email response tomorrow","msgtype":"m.text"},"ts":1319169541000,"senderName":"ojan","senderId":"ojan@irc"},
{"content":{"body":"too many threads going on at once to get any coding done :(","msgtype":"m.text"},"ts":1319169542000,"senderName":"ojan","senderId":"ojan@irc"},
{"content":{"body":"yay another supporter :)","msgtype":"m.text"},"ts":1319169660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"though qfox might have a point that convincing TC39 is beyond the realm of possibility","msgtype":"m.text"},"ts":1319169720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://stackoverflow.com/questions/6905167/javascript-parser-for-rdf-json-from-webvtt seems like this WebVTT thing is taking off","msgtype":"m.text"},"ts":1319171760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1319174580000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"yeah, just about to go though","msgtype":"m.text"},"ts":1319174640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"back in an hour or so","msgtype":"m.text"},"ts":1319174641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1319174642000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: yt?","msgtype":"m.text"},"ts":1319174700000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa, back","msgtype":"m.text"},"ts":1319175660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is bad with estimates","msgtype":"m.emote"},"ts":1319175661000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hi","msgtype":"m.text"},"ts":1319175720000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: did you see my email about restoring selection?","msgtype":"m.text"},"ts":1319175780000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"hadn't read it yet","msgtype":"m.text"},"ts":1319175781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1319175782000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"so the thing is that there's a slight difference in the way selection is restored on Mac and IE/Firefox","msgtype":"m.text"},"ts":1319175840000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"when undoing deletion","msgtype":"m.text"},"ts":1319175841000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: say you have \"hello world\" and deleted \"world\" from the end by repeatedly pressing the backspace key","msgtype":"m.text"},"ts":1319175900000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"until you get \"hello\"","msgtype":"m.text"},"ts":1319175901000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"then you undo this on IE/Firefox, you'll get \"hello world\" with the caret collapsed at the end of \"world\"","msgtype":"m.text"},"ts":1319175902000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"however on Mac's NSTextView, notepad, and WebKit, you'll see \"world\" being selected.","msgtype":"m.text"},"ts":1319175960000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"also in Opera","msgtype":"m.text"},"ts":1319175961000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: oh you select the deleted contents?","msgtype":"m.text"},"ts":1319175962000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"i just tried and it seems like it","msgtype":"m.text"},"ts":1319176020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I see.","msgtype":"m.text"},"ts":1319176021000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"not sure if we should standardize one way or the other though","msgtype":"m.text"},"ts":1319176022000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hm... but I think we might want to match the platform convetion","msgtype":"m.text"},"ts":1319176023000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"at least for WebKit, we always try to match NSTextView's behavior whenever possible","msgtype":"m.text"},"ts":1319176024000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"given that the feature already works as expected, I'm not sure people would like us to change the behavior.","msgtype":"m.text"},"ts":1319176080000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"on the other hand, this gives us a lot of headache with respect to automatic transactions","msgtype":"m.text"},"ts":1319176081000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"because when an author creates a DOM transaction group with a bunch of automatic transactions","msgtype":"m.text"},"ts":1319176082000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"there's no way for us to delete whether a given DOM transaction is deleting stuff, inserting stuff, or replacing stuff","msgtype":"m.text"},"ts":1319176140000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"since just deleting contents may involve inserting new brs, replacing p's and div's to fix up paragraphs :(","msgtype":"m.text"},"ts":1319176141000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"for user actions, it is almost certainly the right thing to follow platform convention","msgtype":"m.text"},"ts":1319176142000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"for programmatically initiated commands, it is a tradeoff","msgtype":"m.text"},"ts":1319176143000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: hi maciej!","msgtype":"m.text"},"ts":1319176144000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: I think the point of automatic transaction is to replace browser's native editing support","msgtype":"m.text"},"ts":1319176200000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"on the one hand, for a programmatically initiated command, the following JS code may make assumptions about the specific change that was made","msgtype":"m.text"},"ts":1319176201000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: or add a custom editing action","msgtype":"m.text"},"ts":1319176202000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"hey othermaciej, long time!","msgtype":"m.text"},"ts":1319176203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"on the other hand, ideally you want such code to follow platform conventions","msgtype":"m.text"},"ts":1319176204000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hello annevk","msgtype":"m.text"},"ts":1319176205000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm here every day, I just usually don't have much to say","msgtype":"m.text"},"ts":1319176206000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: yeah, it's quite a dillema :(","msgtype":"m.text"},"ts":1319176260000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa, I don't think I really know about this to give useful input, other than that for user initiated actions, we usually don't require much in the spec","msgtype":"m.text"},"ts":1319176261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah... I should probably talk to AryehGregor about this as well","msgtype":"m.text"},"ts":1319176262000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"if you programatically trigger an undo, it really should do the same thing as a user-level undo command would","msgtype":"m.text"},"ts":1319176263000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but then his spec doesn't really deal with undo/redo at the moment","msgtype":"m.text"},"ts":1319176264000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: right. otherwise, it'll be way too confusing","msgtype":"m.text"},"ts":1319176320000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: but it seems like the only way to restore selection properly","msgtype":"m.text"},"ts":1319176321000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: is if author provided us of some information such as whether a DOM transaction deletes contents or not","msgtype":"m.text"},"ts":1319176380000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: or use some heuristics to determine if a given DOM transaction looks like deleting contents","msgtype":"m.text"},"ts":1319176381000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"I'd like to avoid the latter because that'll make things unpredictable","msgtype":"m.text"},"ts":1319176382000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: are there special cases other than a series of backspace actions?","msgtype":"m.text"},"ts":1319176440000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"since selection behavior is quite visible to scripts","msgtype":"m.text"},"ts":1319176441000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: well you can insert text then delete","msgtype":"m.text"},"ts":1319176442000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: cause if so, the only special case is deleting immediately behind the caret","msgtype":"m.text"},"ts":1319176443000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: or you can delete then insert","msgtype":"m.text"},"ts":1319176444000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"does insert then delete collapse into a single undo transaction in normal editing?","msgtype":"m.text"},"ts":1319176445000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: yeah but that's almost impossible to detect if the author was to implement it themselves","msgtype":"m.text"},"ts":1319176446000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: yes","msgtype":"m.text"},"ts":1319176447000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: at least on WebKit & Gecko","msgtype":"m.text"},"ts":1319176500000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"how about paste followed by backspace?","msgtype":"m.text"},"ts":1319176501000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: also on MS Word, WordPad and NSTextView but NOT on notepad","msgtype":"m.text"},"ts":1319176502000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"checks","msgtype":"m.emote"},"ts":1319176503000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: paste is treated a separate action","msgtype":"m.text"},"ts":1319176504000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"well, notepad doesn't even have multi-level undo, and its single-level undo is horrid ... safe to ignore it, i think","msgtype":"m.text"},"ts":1319176505000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"othermaciej: so undoing paste+deletion will only undoes the deletion","msgtype":"m.text"},"ts":1319176560000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: good point","msgtype":"m.text"},"ts":1319176561000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: hmm, so typing a single character is observably different from a one-char paste","msgtype":"m.text"},"ts":1319176562000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: yeah","msgtype":"m.text"},"ts":1319176563000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: copy & paste (including drag & drop) are very special beasts","msgtype":"m.text"},"ts":1319176564000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"i don't think windows really has any strong platform-specific undo conventions, most of the platform core stuff has very weak undo","msgtype":"m.text"},"ts":1319176565000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(eg. win32 text boxes also don't have multi-level undo)","msgtype":"m.text"},"ts":1319176620000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: RichTextEdit has multi-level undo","msgtype":"m.text"},"ts":1319176621000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: it sounds like, to capture this behavior correctly, you need an indication of author intent","msgtype":"m.text"},"ts":1319176622000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"zewt: that's what WordPad uses as far as I know.","msgtype":"m.text"},"ts":1319176623000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: yeah","msgtype":"m.text"},"ts":1319176624000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: specifically, actions in response to \"typing\" are a special case","msgtype":"m.text"},"ts":1319176625000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and you can't tell from the DOM change alone whether it is \"typing\"","msgtype":"m.text"},"ts":1319176680000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(of course, undo particulars are still UA-specific at least, so an undo API should still be able to handle existing browser undo behavior)","msgtype":"m.text"},"ts":1319176681000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"othermaciej: right","msgtype":"m.text"},"ts":1319176682000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"(eg. regardless of whether that behavior comes from the UA or the OS)","msgtype":"m.text"},"ts":1319176683000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: yeah, I think we need to have some granularity on how undo/redo is done","msgtype":"m.text"},"ts":1319176740000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"personally i'd be happy if this fixes undo cursor positions and nothing else, that's the #1 thing that drives me crazy about rich text editors in browsers by a *huge* margin","msgtype":"m.text"},"ts":1319176741000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"othermaciej: so maybe isTyping boolean?","msgtype":"m.text"},"ts":1319176742000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej, annevk: another headache I have is the fact that some automatic transaction may not want to mess with selection at all","msgtype":"m.text"},"ts":1319176800000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: I suppose one implicit way to do it is to look at the event being processed, though key events can sometimes trigger non-typing actions (even for keys that would normally just enter text)","msgtype":"m.text"},"ts":1319176801000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: not sure if that works because authors can do whatever they please to do","msgtype":"m.text"},"ts":1319176802000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: e.g. they can decide to insert stuff when delete key is pressed","msgtype":"m.text"},"ts":1319176860000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"also in theory you could implement a touchscreen keyboard (where mouse events might want to behave like keystrokes)","msgtype":"m.text"},"ts":1319176861000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: yeah","msgtype":"m.text"},"ts":1319176920000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"othermaciej: another thing to consider is that authors may want to emulate typing commands without actually receiving user inputs","msgtype":"m.text"},"ts":1319176921000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"also... another problem is that even if authors hinted us that some DOM transaction is deleting stuff or is a typing command","msgtype":"m.text"},"ts":1319176980000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"it might be still hard for us to detect exactly what has been deleted","msgtype":"m.text"},"ts":1319176981000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"since deleting a line break for example may end up fixing up the entire paragraph by inserting div's, p's, br's :(","msgtype":"m.text"},"ts":1319177040000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Man, the way WebVTT is defined makes for a terrible read","msgtype":"m.text"},"ts":1319177041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"havn't really followed this, but the basic idea is being able to coalesce edit transactions, right?","msgtype":"m.text"},"ts":1319177100000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"three delete-character edits coalescing into a single action, etc","msgtype":"m.text"},"ts":1319177101000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: if author wishes to, yes","msgtype":"m.text"},"ts":1319177102000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: the key issue is that how we restore selection in those cases","msgtype":"m.text"},"ts":1319177103000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: in the case of non-typing commands, it's quite simple","msgtype":"m.text"},"ts":1319177160000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: you just remember what the selection looked like before an automatic transaction","msgtype":"m.text"},"ts":1319177161000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: and restore exactly that","msgtype":"m.text"},"ts":1319177162000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"btw. how can you delete a character when you have a selection? that normally turns backspace actions into delete-the-whole-selection","msgtype":"m.text"},"ts":1319177163000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"when the DOM transaction is undone","msgtype":"m.text"},"ts":1319177220000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: well selection can be either collapsed or uncollapsed","msgtype":"m.text"},"ts":1319177221000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"it doesn't really matter","msgtype":"m.text"},"ts":1319177222000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: the problem is when something is deleted and that deletion is undone","msgtype":"m.text"},"ts":1319177280000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: in that case WebKit and Opera currently select the contents that have been added back to the document","msgtype":"m.text"},"ts":1319177281000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: but when authors implement some automatic transactions, there is no good way for us to tell what has been deleted","msgtype":"m.text"},"ts":1319177340000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: or worse, whether the command was deleting something at all","msgtype":"m.text"},"ts":1319177341000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":" s/something/anything/","msgtype":"m.text"},"ts":1319177342000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"yeah i see what you mean","msgtype":"m.text"},"ts":1319177400000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"is the coalescing of transactions under the browser's control?","msgtype":"m.text"},"ts":1319177401000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: it's under author's control 'til it's added to an UndoManager","msgtype":"m.text"},"ts":1319177402000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"eg. control-backspace two words in firefox is one undo transaction, two in webkit (chrome at least)","msgtype":"m.text"},"ts":1319177403000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"er, two undos","msgtype":"m.text"},"ts":1319177460000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"er no that was right (tired/late)","msgtype":"m.text"},"ts":1319177461000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: really? that's surprising to me","msgtype":"m.text"},"ts":1319177462000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: I thought we treat those as one undo item","msgtype":"m.text"},"ts":1319177463000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"don't know if that's chrome-specific behavior","msgtype":"m.text"},"ts":1319177464000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(would have to load a vm to try in safari)","msgtype":"m.text"},"ts":1319177465000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"interesting...","msgtype":"m.text"},"ts":1319177466000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: it's webkit behavior probably copied from Mac","msgtype":"m.text"},"ts":1319177520000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: here now","msgtype":"m.text"},"ts":1319177521000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: even more fun is multi-selects in firefox, where a single user action might delete noncontiguous text D:","msgtype":"m.text"},"ts":1319177580000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(guess the same thing could happen in other browsers, if there's hidden text about)","msgtype":"m.text"},"ts":1319177581000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: that, i'm not too worried about because only gecko supports multi-range selection at the moment","msgtype":"m.text"},"ts":1319177640000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: so gecko can do whatever it wants to do","msgtype":"m.text"},"ts":1319177641000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"i want to see stats on how many people have ever used that :)","msgtype":"m.text"},"ts":1319177700000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(manual distinct selections with control-click)","msgtype":"m.text"},"ts":1319177701000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: hi Hixie, so now that undomanager & dom transaction stuff are getting some traction, I want to propose more crazy ideas LOL","msgtype":"m.text"},"ts":1319177702000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"probably in the vicinity of: 0","msgtype":"m.text"},"ts":1319177703000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: namely I want to fix the way key binding works on the web","msgtype":"m.text"},"ts":1319177704000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"gooood luck","msgtype":"m.text"},"ts":1319177705000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"rniwa: have browsers implemented the last set of improvements to key bindings yet?","msgtype":"m.text"},"ts":1319177760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zewt: yeah, ehsan told me that there are some gecko users that really love that multi-rage stuff","msgtype":"m.text"},"ts":1319177761000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: which one?","msgtype":"m.text"},"ts":1319177762000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: <command>, the new accesskey=\"\", accessKey, accessKeyLabel, etc","msgtype":"m.text"},"ts":1319177763000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yes, that's exactly what i'm about to tell you","msgtype":"m.text"},"ts":1319177764000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: not sure if we had already talked about it on whatwg and elsewhere","msgtype":"m.text"},"ts":1319177820000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: but we'd like to be able to support ctrl, alt, cmd, and other modifiers","msgtype":"m.text"},"ts":1319177821000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: in accessKey","msgtype":"m.text"},"ts":1319177822000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"i'm surprised that opera *way* stepped back the number of keys it eats ... that was endless headaches trying to implement keyboard shortcuts","msgtype":"m.text"},"ts":1319177823000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"is almost certain there is some bug about this","msgtype":"m.emote"},"ts":1319177824000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: baby steps, we have to get the basics implemented first ;-)","msgtype":"m.text"},"ts":1319177825000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yeah, but it's good to think about modifier keys first so that we don't get stuck with the basic ones","msgtype":"m.text"},"ts":1319177880000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: it's already planned","msgtype":"m.text"},"ts":1319177881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: great.","msgtype":"m.text"},"ts":1319177882000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: anyway, on top of that, I want to die command element to editing commands","msgtype":"m.text"},"ts":1319177883000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: and provide a way to define an editing  command easily using command elements","msgtype":"m.text"},"ts":1319177884000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: so that authors can add new editing command like this: <command name=\"InsertDate\" onapply=\"insertAtSelection(formattedDate())\" isautomatic=\"true\" accessKey=\"accel+d\">","msgtype":"m.text"},"ts":1319177940000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: (namely, http://www.w3.org/Bugs/Public/show_bug.cgi?id=13958 is for modifiers, and http://www.w3.org/Bugs/Public/show_bug.cgi?id=13576 is for specific labeled keys)","msgtype":"m.text"},"ts":1319177941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: right. this is more stuff on top of that","msgtype":"m.text"},"ts":1319177942000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: (i expect to support modifiers via something like accesskey=\"ctrl+a command+a\" or something once we've established whether the multiple key thing works at all","msgtype":"m.text"},"ts":1319178000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: (hence the way it's specced so far, with all the room for expansion)","msgtype":"m.text"},"ts":1319178001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: i don't really understand your proposal for editing commands, but the general idea seems sound","msgtype":"m.text"},"ts":1319178002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: i expect we'll add that once browsers actually support <menu>, <command>, etc","msgtype":"m.text"},"ts":1319178003000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: so basically it lets you register you execCommand","msgtype":"m.text"},"ts":1319178004000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1319178060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"new*","msgtype":"m.text"},"ts":1319178061000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: but I don't quite get what menu does","msgtype":"m.text"},"ts":1319178062000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"given that we don't have any ways to define a toolbar","msgtype":"m.text"},"ts":1319178063000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"why do we just support menu?","msgtype":"m.text"},"ts":1319178064000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"<menu type=toolbar> is how you define a toolbar","msgtype":"m.text"},"ts":1319178065000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and <menu type=context> defines a context menu","msgtype":"m.text"},"ts":1319178120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm...","msgtype":"m.text"},"ts":1319178121000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"see the spec :-)","msgtype":"m.text"},"ts":1319178122000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I must have missed it when I skimmed through the spec","msgtype":"m.text"},"ts":1319178123000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: ok, I might look into implementing that for WebKit then","msgtype":"m.text"},"ts":1319178300000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"that'd be great. i've got a ton of improvements in that area that are just waiting for solid implementations of the stuff there so far","msgtype":"m.text"},"ts":1319178360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"one big open question is styling of the toolbars; i think we should have some sort of pseudo-element or something, but i dunno exactly how that would work","msgtype":"m.text"},"ts":1319178361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(not an issue for menus since those should just match the platform conventions)","msgtype":"m.text"},"ts":1319178362000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: what do we need pseudo-elements for?","msgtype":"m.text"},"ts":1319178420000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"well e.g. for <menu type=toolbar> <a href=\"/\">Home</a> <input type=button value=Save> <command type=checkbox label=\"Enable Spellcheck\"> </menu>","msgtype":"m.text"},"ts":1319178480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how do you style the three buttons to fit your site?","msgtype":"m.text"},"ts":1319178481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the usual :link, <input> and <command> styles obviously don't apply","msgtype":"m.text"},"ts":1319178482000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: can't you just do menu > * {~~} ?","msgtype":"m.text"},"ts":1319178483000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: not really, the elements involved have such different ways of being represented","msgtype":"m.text"},"ts":1319178540000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: e.g. <a> has contents, but <input> has a value","msgtype":"m.text"},"ts":1319178541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: usual CSS doesn't really work here","msgtype":"m.text"},"ts":1319178542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: also, <menu type=toolbar> <hr> <button></button> <hr><hr> <button></button> FOO </menu> only has one separator and shouldn't say \"FOO\", CSS can't really represent that","msgtype":"m.text"},"ts":1319178600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: so you really want to construct the menu, per the spec, and then style the constructed menu, not the DOM directly","msgtype":"m.text"},"ts":1319178601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: hence, pseudo-elements","msgtype":"m.text"},"ts":1319178602000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: but it's not exactly clear how it'd work","msgtype":"m.text"},"ts":1319178603000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm...","msgtype":"m.text"},"ts":1319178660000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: why don't we restrict things that can appear in menu more?","msgtype":"m.text"},"ts":1319178720000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: how do you mean?","msgtype":"m.text"},"ts":1319178721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"e.g. only commands and hr can appear inside menu","msgtype":"m.text"},"ts":1319178722000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: that would be lame","msgtype":"m.text"},"ts":1319178723000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: e.g. how would you do a command that follows a link?","msgtype":"m.text"},"ts":1319178724000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: also, the fallback story is terrible","msgtype":"m.text"},"ts":1319178780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: we have HTML elements with the semantics we want, it seems to make sense to use them","msgtype":"m.text"},"ts":1319178781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: in any case, it still wouldn't really solve our problem","msgtype":"m.text"},"ts":1319178782000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: even with just <command> and <hr>, you still have the separator-collapsing logic to handle, and <command> doesn't render as anything (it's display:none) so styling it isn't helpful","msgtype":"m.text"},"ts":1319178840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: that's one thing I don't like about the current spec","msgtype":"m.text"},"ts":1319178841000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: why can't we just make command element take contents?","msgtype":"m.text"},"ts":1319178900000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: then you can wrap whatever you want inside command elements","msgtype":"m.text"},"ts":1319178901000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: three reasons","msgtype":"m.text"},"ts":1319178902000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: and whatever algorithm we use to generate toolbars and menus can just look at command elements","msgtype":"m.text"},"ts":1319178903000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: 1. on the long term that will make pages really verbose (<command></command>) which is bad for authoring","msgtype":"m.text"},"ts":1319178960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: 2. it doesn't make the algorithms any simpler, really.","msgtype":"m.text"},"ts":1319178961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: 3. it means authors would have to implement everything twice to get fallback (once in <command> and once the old way)","msgtype":"m.text"},"ts":1319178962000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"more reasons: 4. it would mean having to define what happens to the fallback elements for purposes of form submission","msgtype":"m.text"},"ts":1319178963000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"also, the idea long term is to have <command> be able to refer to other elements, e.g. <a href=\"/\" id=home>Home</a> with somewhere else <command ref=home>","msgtype":"m.text"},"ts":1319179020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so that you only have to disable things or update thinsg once (e.g. only have to update the a.href here once) even if the command is in many menus and toolbars and so on","msgtype":"m.text"},"ts":1319179021000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's really the only reason <command> exists at all","msgtype":"m.text"},"ts":1319179080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: if we're adding ref/for to command, it seems more natural to make it wrap the elements that it refers to.","msgtype":"m.text"},"ts":1319179081000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"that and being able to define commands that _don't_ have legacy fallback (which is useful if, e.g., your context menu is completely redundant with some \"real\" buttons)","msgtype":"m.text"},"ts":1319179082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no i mean being able to reference the command from multiple places","msgtype":"m.text"},"ts":1319179140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you can define a fallback-less command by omitting the contents, right?","msgtype":"m.text"},"ts":1319179141000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"yeah but that's way too verbose","msgtype":"m.text"},"ts":1319179142000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm...","msgtype":"m.text"},"ts":1319179143000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"i disagree > way too verbose","msgtype":"m.text"},"ts":1319179144000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"you don't think littering the DOM with </command> end tags is verbose? o_O","msgtype":"m.text"},"ts":1319179200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1319179201000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"I think that's much better than having to add random ref/for attributes","msgtype":"m.text"},"ts":1319179202000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"I hate having to add id's just so that I can refer from elsewhere","msgtype":"m.text"},"ts":1319179203000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"i don't understand how they are related","msgtype":"m.text"},"ts":1319179204000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"okay let's take the example in 4.11.4.1 Introduction","msgtype":"m.text"},"ts":1319179380000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html","msgtype":"m.text"},"ts":1319179381000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: what if I wanted to attach an icon to <button type=\"button\" onclick=\"fnew()\">New...</button> ?","msgtype":"m.text"},"ts":1319179382000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: how do I do that under the current spec?","msgtype":"m.text"},"ts":1319179383000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"you can't, <button> doesn't have icons.","msgtype":"m.text"},"ts":1319179440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: right but I want it to have an icon when it's shown in the menu","msgtype":"m.text"},"ts":1319179441000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: so I'd end up adding a command element anyway to work-around this limiation","msgtype":"m.text"},"ts":1319179442000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"oh actually no","msgtype":"m.text"},"ts":1319179443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the spec does define a way to give an icon","msgtype":"m.text"},"ts":1319179500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you just put an <img> inside the <button>","msgtype":"m.text"},"ts":1319179501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":(","msgtype":"m.text"},"ts":1319179502000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"see http://www.whatwg.org/specs/web-apps/current-work/#using-the-a-element-to-define-a-command","msgtype":"m.text"},"ts":1319179503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(the <button> section basically copies the <a> section)","msgtype":"m.text"},"ts":1319179504000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ok, what if I wanted to disable <li><a href=\"help.html\">Help</a></li> ?","msgtype":"m.text"},"ts":1319179560000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: how would you do that irrespective of menus?","msgtype":"m.text"},"ts":1319179561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: well, if it were a menu item","msgtype":"m.text"},"ts":1319179620000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: then I can always disable it regardless of what it does at least on Windows","msgtype":"m.text"},"ts":1319179621000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"to begin with, a link in a context menu shouldn't show up as a link","msgtype":"m.text"},"ts":1319179622000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"it should look like any other menu item","msgtype":"m.text"},"ts":1319179623000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"exactly","msgtype":"m.text"},"ts":1319179624000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which the spec requires","msgtype":"m.text"},"ts":1319179625000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but I should still be able to disable that","msgtype":"m.text"},"ts":1319179626000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"(whence, for toolbars, the styling issue)","msgtype":"m.text"},"ts":1319179627000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1319179680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what's the use case for disabling a link?","msgtype":"m.text"},"ts":1319179681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"because maybe help doesn't exist for some content","msgtype":"m.text"},"ts":1319179682000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"and I don't want users to click that","msgtype":"m.text"},"ts":1319179683000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"if there's a use case for disabling a link, we should fix that with <a>, it's not menu-specific","msgtype":"m.text"},"ts":1319179684000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I mean these are just examples","msgtype":"m.text"},"ts":1319179685000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"but I feel like the current spec is way too complicated to be adopted","msgtype":"m.text"},"ts":1319179740000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"(if help doesn't exist, the right UI is to remove the item from the menu altogether, which you would do by adding a hidden=\"\" attribute)","msgtype":"m.text"},"ts":1319179741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"due to all the fallback consideration","msgtype":"m.text"},"ts":1319179742000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"i don't understand what is complicated here","msgtype":"m.text"},"ts":1319179743000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's really simple","msgtype":"m.text"},"ts":1319179744000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"certain elements implement this \"command\" concept. menus just collect all their commands and render them.","msgtype":"m.text"},"ts":1319179800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"where's the problem?","msgtype":"m.text"},"ts":1319179801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the fallback just falls out of the design","msgtype":"m.text"},"ts":1319179802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and doesn't get in the way once it's no longer needed","msgtype":"m.text"},"ts":1319179803000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's essentially free","msgtype":"m.text"},"ts":1319179804000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"plus, in the future, we reuse all the infrastructure to get <command ref=\"\"> essentially for free again","msgtype":"m.text"},"ts":1319179805000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"as an author, I don't care about fallbacks","msgtype":"m.text"},"ts":1319179806000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"I just want to be able to do everything using command element","msgtype":"m.text"},"ts":1319179860000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"and you can, if you want to","msgtype":"m.text"},"ts":1319179861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"meanwhile, authors who _do_ care about fallback, can still do it","msgtype":"m.text"},"ts":1319179862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm...","msgtype":"m.text"},"ts":1319179863000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"and authors who have links and buttons in parts of their app that do the same as commands in their menus, in the future, once we add <command ref>, get all the indirection magic for free","msgtype":"m.text"},"ts":1319179864000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so they don't have to disable every last menu item that does the same thing","msgtype":"m.text"},"ts":1319179865000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they just disable it once and boom, all the menus and toolbars update","msgtype":"m.text"},"ts":1319179920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"now I see some command-element-only example in the spec","msgtype":"m.text"},"ts":1319180040000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"I guess this might work","msgtype":"m.text"},"ts":1319180041000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"<command ref> thing definitely sounds useful","msgtype":"m.text"},"ts":1319180042000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"alright, let me look into implementing this thing then","msgtype":"m.text"},"ts":1319180100000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1319180101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"then I'll know whether I like or hate the spec :)","msgtype":"m.text"},"ts":1319180160000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1319180161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: btw, I don't quite get what you're seeing in http://www.w3.org/Bugs/Public/show_bug.cgi?id=14337","msgtype":"m.text"},"ts":1319180220000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: are you referring to DOM changes made by scripts or IE?","msgtype":"m.text"},"ts":1319180221000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"both","msgtype":"m.text"},"ts":1319181540000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"e.g. do changes from a setInterval()","msgtype":"m.text"},"ts":1319181600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they get undone","msgtype":"m.text"},"ts":1319181601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you undo immediately after the drag","msgtype":"m.text"},"ts":1319181602000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm not sure we really want this behaviour; i specced it just cos i was speccing whatever IE did","msgtype":"m.text"},"ts":1319181603000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's probably better to call it a bug","msgtype":"m.text"},"ts":1319181604000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Glenn Adams...","msgtype":"m.text"},"ts":1319184420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: so i think it's still not right. :-)","msgtype":"m.text"},"ts":1319189220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: +  readonly attribute <code><a href=#document>Document</a></code> <a href=#htmldocument title=HTMLDocument>HTMLDocument</a>;","msgtype":"m.text"},"ts":1319189221000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: the Document interface object is not an instance of Document","msgtype":"m.text"},"ts":1319189222000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: so the return type should be something else","msgtype":"m.text"},"ts":1319189223000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"what does interface Document {} expose then?","msgtype":"m.text"},"ts":1319189340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: i don't understand the question","msgtype":"m.text"},"ts":1319189760000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I get what you mean now, I think","msgtype":"m.text"},"ts":1319189820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess it needs to be defined in terms of http://dev.w3.org/2006/webapi/WebIDL/#dfn-relevant-namespace-object and below","msgtype":"m.text"},"ts":1319190000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"Interface objects are always function objects.\" - i guess s/Document/Function/ then","msgtype":"m.text"},"ts":1319190180000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://www.downforeveryone.com/www.whatwg.org/","msgtype":"m.text"},"ts":1319190660000,"senderName":"danbri","senderId":"danbri@irc"},
{"content":{"body":"'Hey, it's not just you! http://www.whatwg.org/ looks down from here. '","msgtype":"m.text"},"ts":1319190720000,"senderName":"danbri","senderId":"danbri@irc"},
{"content":{"body":"why does WebVTT require decimal separators?","msgtype":"m.text"},"ts":1319196600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean milliseconds","msgtype":"m.text"},"ts":1319196720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Huh? Why shouldn't it? Milliseconds give the required precision.","msgtype":"m.text"},"ts":1319196840000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"if they happen to zero","msgtype":"m.text"},"ts":1319197140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess it does not matter much","msgtype":"m.text"},"ts":1319197200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I don't really get these WebVTT settings","msgtype":"m.text"},"ts":1319198820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"e.g. some line ending in \"00:13.000 X A:start\" has that A:start to discarded with the current parsing algorithm","msgtype":"m.text"},"ts":1319198940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"seems wrong","msgtype":"m.text"},"ts":1319198941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: why does it seem wrong? that's the same as css decl, basically","msgtype":"m.text"},"ts":1319202600000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I'm more confused by e.g. D:vertical followed by two spaces","msgtype":"m.text"},"ts":1319202780000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and that followed by A:start or some such","msgtype":"m.text"},"ts":1319202781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"afaict \"setting will be set to the second \"space\"","msgtype":"m.text"},"ts":1319202840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or maybe even the first","msgtype":"m.text"},"ts":1319202841000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which seems highly undesirable","msgtype":"m.text"},"ts":1319202842000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's some skip.spaces step missing after you consumed a setting","msgtype":"m.text"},"ts":1319202900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hasn't looked at settings parsing yet","msgtype":"m.emote"},"ts":1319202901000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"also D: vertical fails to parse","msgtype":"m.text"},"ts":1319203020000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah it does in my validator","msgtype":"m.text"},"ts":1319203080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess I should upload something so people can teach me how to write code","msgtype":"m.text"},"ts":1319203081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"isn't a fan of single-letter settings","msgtype":"m.emote"},"ts":1319203082000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"guess I'll continue tomorrow","msgtype":"m.text"},"ts":1319203140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"will upload something so people can leave comments","msgtype":"m.text"},"ts":1319203200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://quuz.org/webvtt/","msgtype":"m.text"},"ts":1319203320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://quuz.org/webvtt/parser.js","msgtype":"m.text"},"ts":1319203321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, ^^","msgtype":"m.text"},"ts":1319203380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"found a bug :-)","msgtype":"m.text"},"ts":1319203500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"space after signature should be allowed","msgtype":"m.text"},"ts":1319203501000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan knows how to crush dreams","msgtype":"m.text"},"ts":1319203502000,"senderName":"divya","senderId":"divya@irc"},
{"content":{"body":":S","msgtype":"m.text"},"ts":1319203560000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":":))","msgtype":"m.text"},"ts":1319203561000,"senderName":"divya","senderId":"divya@irc"},
{"content":{"body":"I wonder what's wrong with my SIGNATURE code","msgtype":"m.text"},"ts":1319203562000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"00::51.000 and 00:0:51.000 validate","msgtype":"m.text"},"ts":1319203680000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah I noticed that too","msgtype":"m.text"},"ts":1319203681000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fixed that bug","msgtype":"m.text"},"ts":1319203860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the sig check seems bogus","msgtype":"m.text"},"ts":1319203920000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"needs to be &&","msgtype":"m.text"},"ts":1319204100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you could do line.match(/^WEBVTT(( |\\t).*)?/) or some such","msgtype":"m.text"},"ts":1319204101000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"also fixed","msgtype":"m.text"},"ts":1319204102000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"could also replace || with &&","msgtype":"m.text"},"ts":1319204160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's no requirements for anything after that tab or space","msgtype":"m.text"},"ts":1319204161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"although I guess \"WEBVTT TEST\" should maybe not be valid even though it should be processed","msgtype":"m.text"},"ts":1319204220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it's valid","msgtype":"m.text"},"ts":1319204340000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Opera Reader is very cool. however, I'd like to have \"tap edge for page turn\" in addition to swiping","msgtype":"m.text"},"ts":1319204400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan, not per the syntax section","msgtype":"m.text"},"ts":1319204401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"swiping a lot isn't very ergonomic","msgtype":"m.text"},"ts":1319204402000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: yes it is :)","msgtype":"m.text"},"ts":1319204403000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh right","msgtype":"m.text"},"ts":1319204460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"bah","msgtype":"m.text"},"ts":1319204461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: send an email to h&kon :-)","msgtype":"m.text"},"ts":1319204462000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"don't really think it should be valid though","msgtype":"m.text"},"ts":1319204463000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"makes no sense","msgtype":"m.text"},"ts":1319204464000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"doesn't manifest do the same thing?","msgtype":"m.text"},"ts":1319204465000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I'll see if there's a www-style thread I could send email to first","msgtype":"m.text"},"ts":1319204466000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan, dunno, never wrote a validator for that one","msgtype":"m.text"},"ts":1319204520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Also, Opera Reader really needs some kind of easy-to-use way of forcing the paged mode on legacy sites","msgtype":"m.text"},"ts":1319204521000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i suspect that forcing paged mode on legacy sites would often break in more horrible ways than fit-to-width","msgtype":"m.text"},"ts":1319204640000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I guess sites that would break horrible wouldn't be very printer-friendly either","msgtype":"m.text"},"ts":1319206200000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"maybe the Web isn't printer-friendly in general","msgtype":"m.text"},"ts":1319206201000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk5, thanks for fixing XMLDocument in DOMPS","msgtype":"m.text"},"ts":1319207640000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger, hey no worries","msgtype":"m.text"},"ts":1319208000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger, I was wondering though, should that really be XMLDocument?","msgtype":"m.text"},"ts":1319208060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger, in that Document == XMLDocument bug people suggested only createDocument should return XMLDocument","msgtype":"m.text"},"ts":1319208061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I dunno, I just defined what Gecko did","msgtype":"m.text"},"ts":1319208062000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"It probably doesn't matter","msgtype":"m.text"},"ts":1319208063000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"createDocument doesn't always return XMLDocument","msgtype":"m.text"},"ts":1319208180000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"In Gecko","msgtype":"m.text"},"ts":1319208181000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yes, in Gecko","msgtype":"m.text"},"ts":1319208182000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and I think Acid3 even had some tests for that","msgtype":"m.text"},"ts":1319208183000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"at least ACID3 is the reason why Gecko's createDocument behaves the way it does","msgtype":"m.text"},"ts":1319208240000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I doubt Acid3 has the DocumentType nonsense","msgtype":"m.text"},"ts":1319208241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"IIRC it does had","msgtype":"m.text"},"ts":1319208242000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Ms2ger, guess we'll sort it out later then","msgtype":"m.text"},"ts":1319208243000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It had a lot of nonsense, that much is clear","msgtype":"m.text"},"ts":1319208300000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"trololol","msgtype":"m.text"},"ts":1319208301000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is wondering whether E4H is really a good idea at all","msgtype":"m.emote"},"ts":1319208420000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"E4X is too far one way, E4H is too far the other","msgtype":"m.text"},"ts":1319208421000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it's H4E man","msgtype":"m.text"},"ts":1319208422000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"w/e","msgtype":"m.text"},"ts":1319208423000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"for extra confusion","msgtype":"m.text"},"ts":1319208424000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I care about the semantics of the proposal.","msgtype":"m.text"},"ts":1319208480000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"the proposal had virtually no details though","msgtype":"m.text"},"ts":1319208481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: Function is not a function object (possibly confusingly)","msgtype":"m.text"},"ts":1319218560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: Function is just a [Callback=FunctionOnly, NoInterfaceObject] callback interface with one member that takes any any arguments and returns any","msgtype":"m.text"},"ts":1319218620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"does anyone know what the current thinking on the time element is?","msgtype":"m.text"},"ts":1319218740000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"I'm looking at this bug: http://www.w3.org/Bugs/Public/show_bug.cgi?id=13240","msgtype":"m.text"},"ts":1319218741000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"linclark: I expect different people to have different current thinking","msgtype":"m.text"},"ts":1319218860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: right, but are there any discussions that are more current","msgtype":"m.text"},"ts":1319218980000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"I'm asking because we're working on implementing a theme_time function in Drupal","msgtype":"m.text"},"ts":1319218981000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"Hixie: that is...quotable...and it reminds me of the \"a monad is just a monoid in the category of endofunctors, what's the problem?\" joke about Haskell...probably because you said \"is just a\" and then gave a precise and complicated definition. :)","msgtype":"m.text"},"ts":1319220060000,"senderName":"franksalim","senderId":"franksalim@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1319220120000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"linclark: I'm not aware of more current discussions, but my mailing list reading isn't up to date","msgtype":"m.text"},"ts":1319220121000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"dglazkov: good evening","msgtype":"m.text"},"ts":1319220122000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: ok, thanks... as long as it ends up being one of the proposed alternatives, it shouldn't take long for us to update","msgtype":"m.text"},"ts":1319220240000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"Hello","msgtype":"m.text"},"ts":1319220420000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"why MEDIA_SYM CSS token is defined like this:","msgtype":"m.text"},"ts":1319220421000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"@{M}{E}{D}{I}{A}","msgtype":"m.text"},"ts":1319220422000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"while CHARSET_SYM token is defined this way:","msgtype":"m.text"},"ts":1319220480000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"\"@charset \"","msgtype":"m.text"},"ts":1319220481000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"does it mean that \"@cha\\rset 'utf-8'\" is not a valid charset declaration?","msgtype":"m.text"},"ts":1319220482000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"while something like \"@med\\ia\" would be valid?","msgtype":"m.text"},"ts":1319220540000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"yup, W3C validator fails on @cha\\rset \"UTF-8\";","msgtype":"m.text"},"ts":1319220660000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"this seems to be rather inconsistent, what is the reason behind not allowing the escapes inside \"@charset\" or \"url(\"? \" or \"~=\"?","msgtype":"m.text"},"ts":1319220960000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"validator marks @med\\ia as error as well, I don't get it","msgtype":"m.text"},"ts":1319221260000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"\"In fact, it's possible to implement ES functionality with better performance then the native implementations.\"","msgtype":"m.text"},"ts":1319221261000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"do people realize how silly they sound when they make claims like that","msgtype":"m.text"},"ts":1319221262000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"ahh... it accepts only hex escapes","msgtype":"m.text"},"ts":1319221320000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"there's no such thing as faster than native, sorry, next","msgtype":"m.text"},"ts":1319221321000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"franksalim: heh","msgtype":"m.text"},"ts":1319221800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jarek: @charset is special","msgtype":"m.text"},"ts":1319221860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jarek: because we don't want people to have to run a complicated css parser just to get the character encoding which they need to know in order to create a css parser :-)","msgtype":"m.text"},"ts":1319221861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbiab","msgtype":"m.text"},"ts":1319221862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yt?","msgtype":"m.text"},"ts":1319235600000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"or anyone else familiar with microdata?","msgtype":"m.text"},"ts":1319235601000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: here","msgtype":"m.text"},"ts":1319236140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I was a bit confused about DOMSettableTokenList","msgtype":"m.text"},"ts":1319236200000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: I just filed a bug saying that section 2.8.1 (http://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#reflect)","msgtype":"m.text"},"ts":1319236201000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: should probably define IDL attributes in terms of content attribute","msgtype":"m.text"},"ts":1319236202000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"instead of defining in terms of types of IDL attributes","msgtype":"m.text"},"ts":1319236203000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1319236260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and what does that have to do with DOMSettableTokenList :-)","msgtype":"m.text"},"ts":1319236261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: e.g. if an idl attribute is reflecting a content attribute of the type \"unordered set of unique space-separated tokens\" then its type will be http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#domsettabletokenlistt or something like","msgtype":"m.text"},"ts":1319236320000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: because I usually look for the type of content type.","msgtype":"m.text"},"ts":1319236321000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: when an IDL attribute reflects a content attribute","msgtype":"m.text"},"ts":1319236380000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"I usually know the type of content attribute","msgtype":"m.text"},"ts":1319236381000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"but not necessarily of the type of idl attribute","msgtype":"m.text"},"ts":1319236382000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"anyway, it's not that important though","msgtype":"m.text"},"ts":1319236383000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"content attributes don't have a type","msgtype":"m.text"},"ts":1319236384000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well, i mean, they're all strings","msgtype":"m.text"},"ts":1319236385000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or am i misunderstanding...?","msgtype":"m.text"},"ts":1319236440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: well but they do have different kinds like space separted tokens, etc...","msgtype":"m.text"},"ts":1319236500000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"separated*","msgtype":"m.text"},"ts":1319236501000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"oh you mean the conformance requirements for what's allowed in them?","msgtype":"m.text"},"ts":1319236502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess","msgtype":"m.text"},"ts":1319236503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not sure how you'd use those to define UA requirements","msgtype":"m.text"},"ts":1319236504000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: sort of","msgtype":"m.text"},"ts":1319236505000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"I want a way to lookup the type of idl attribute given a description of content attribute","msgtype":"m.text"},"ts":1319236560000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"there's not a 1:1 mapping","msgtype":"m.text"},"ts":1319236561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm...","msgtype":"m.text"},"ts":1319236562000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"that explains it but also sucks :(","msgtype":"m.text"},"ts":1319236563000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"welcome to the web","msgtype":"m.text"},"ts":1319236680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what are you looking up that makes it easier for you to look things up based on the content attribute than the idl type?","msgtype":"m.text"},"ts":1319236740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: i was looking at microdata API","msgtype":"m.text"},"ts":1319236741000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: and in particular itemProp idl attribute","msgtype":"m.text"},"ts":1319236742000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zewt: I assume they meant \"faster than C++\", which could be true","msgtype":"m.text"},"ts":1319236920000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Depending on where the bottlenecks are","msgtype":"m.text"},"ts":1319236921000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: talking about some JS engine performance?","msgtype":"m.text"},"ts":1319237100000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: i don't understand why that was easier to do using the content attribute than the idl type","msgtype":"m.text"},"ts":1319237101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"abarth: yt?","msgtype":"m.text"},"ts":1319237102000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hi","msgtype":"m.text"},"ts":1319237103000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"Hixie: yeah, I guess my comment was useless given the definitions aren't bijective","msgtype":"m.text"},"ts":1319237104000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"abarth: the origin spec doesn't have special dispensation for cases where urls with a domain part that are supported by the UA might have per-url origin","msgtype":"m.text"},"ts":1319237105000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: thought they were bijective","msgtype":"m.text"},"ts":1319237106000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"abarth: e.g. an NNTP post","msgtype":"m.text"},"ts":1319237107000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: k","msgtype":"m.text"},"ts":1319237108000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: sorry about the noise","msgtype":"m.text"},"ts":1319237160000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: (one example is that class=\"\" and itemprop=\"\" (className and itemProp) have roughly the same definition, but reflect very differently)","msgtype":"m.text"},"ts":1319237161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: i see","msgtype":"m.text"},"ts":1319237162000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"rniwa: (and indeed className and classList both reflect class=\"\")","msgtype":"m.text"},"ts":1319237163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: (in different ways)","msgtype":"m.text"},"ts":1319237164000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":(","msgtype":"m.text"},"ts":1319237165000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"abarth: third bullet point of http://www.whatwg.org/specs/web-apps/current-work/#origin","msgtype":"m.text"},"ts":1319237220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is annoyed by the complexity","msgtype":"m.emote"},"ts":1319237221000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"abarth: er, third <li> i should say","msgtype":"m.text"},"ts":1319237222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: dude if you think that's bad, wait til you hear about HTMLFormElement's named property access","msgtype":"m.text"},"ts":1319237223000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: (see my public g+ post)","msgtype":"m.text"},"ts":1319237224000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yes, I know the badness in that area","msgtype":"m.text"},"ts":1319237280000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: I've worked on fixing selectionStart/selectionEnd in input/textarea :(","msgtype":"m.text"},"ts":1319237281000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie: i guess it boils down to the notion of \"support\"","msgtype":"m.text"},"ts":1319237282000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"they are the worst properties :(","msgtype":"m.text"},"ts":1319237283000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"        <t>If the implementation doesn't support the protocol given by","msgtype":"m.text"},"ts":1319237284000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"        uri-scheme, then return generate a fresh globally unique identifier","msgtype":"m.text"},"ts":1319237285000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"        and return that value.</t>","msgtype":"m.text"},"ts":1319237286000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"abarth: it has to not be a fresh one, it has to be teh same one each time","msgtype":"m.text"},"ts":1319237287000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"although input.type is pretty bad-ass too","msgtype":"m.text"},"ts":1319237288000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"abarth: so e.g. different documents that are in one multipart/something e-mail all get the same origin, but not the same origin as other e-mails on that same IMAP server","msgtype":"m.text"},"ts":1319237340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: i mean specifically the named property access stuff on <form>","msgtype":"m.text"},"ts":1319237341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: oh, I haven't looked at that one in particular","msgtype":"m.text"},"ts":1319237342000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1319237400000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"rniwa: it makes the reflection stuff look positively mundane","msgtype":"m.text"},"ts":1319237401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rniwa: Yeah","msgtype":"m.text"},"ts":1319237402000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"that's just a question of when you run the algorithm","msgtype":"m.text"},"ts":1319237403000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"abarth: how so?","msgtype":"m.text"},"ts":1319237404000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you just need to run it once for the whole multi-part package","msgtype":"m.text"},"ts":1319237405000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"rather than once for each part of the package","msgtype":"m.text"},"ts":1319237406000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"abarth: each part has a differnet url","msgtype":"m.text"},"ts":1319237460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"abarth: so clearly it has to be run for each part","msgtype":"m.text"},"ts":1319237461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"won't they be different origins if you're treating the whole URL as the origin?","msgtype":"m.text"},"ts":1319237462000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"maybe i misunderstood","msgtype":"m.text"},"ts":1319237463000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"say you have a scheme  foo://example.org/document1/part1","msgtype":"m.text"},"ts":1319237520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and everything in foo://example.org/document1/* has to have the same unique origin","msgtype":"m.text"},"ts":1319237521000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but if you use all of foo://example.org/document1/part1 as the origin, that won't be the case","msgtype":"m.text"},"ts":1319237522000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1319237580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so, you want the ability to do something implementation-defined on a per-scheme basis?","msgtype":"m.text"},"ts":1319237581000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"e.g., be able to return whatever you want as the origin?","msgtype":"m.text"},"ts":1319237582000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"well you have me rapidly wanting to not care about news readers and e-mail clients at this point, but previously, i just wanted something equivalent to the third <li> in the HTML spec","msgtype":"m.text"},"ts":1319237640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: yeah, I think dynamic optimization can beat optimizing compilers in many cases","msgtype":"m.text"},"ts":1319237641000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"\"If url identifies a resource that is its own trust domain (e.g. it identifies an e-mail on an IMAP server or a post on an NNTP server) then return a globally unique identifier specific to the resource identified by url, so that if this algorithm is invoked again for URLs that identify the same resource, the same identifier will be returned.\"","msgtype":"m.text"},"ts":1319237642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"IMHO, we shouldn't worry about these cases","msgtype":"m.text"},"ts":1319237643000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1319237700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think there's code in Gecko that does something like that","msgtype":"m.text"},"ts":1319237701000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"but I don't think other UAs have anything like that","msgtype":"m.text"},"ts":1319237702000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"well yeah, other UAs don't have newsreaders or e-mail clients","msgtype":"m.text"},"ts":1319237703000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(cough)","msgtype":"m.text"},"ts":1319237760000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: how do you handle origins in your newsreaders or e-mail clients?","msgtype":"m.text"},"ts":1319237820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"No idea :)","msgtype":"m.text"},"ts":1319237880000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But I could probably ask if you are interested","msgtype":"m.text"},"ts":1319237881000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: well, i'm stripping the text that made them work like in Firefox from HTML and deferring to [ORIGIN].","msgtype":"m.text"},"ts":1319238300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: so if that affects you, let abarth know :-)","msgtype":"m.text"},"ts":1319238301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"AryehGregor: yt?","msgtype":"m.text"},"ts":1319240820000,"senderName":"rniwa","senderId":"rniwa@irc"}
]