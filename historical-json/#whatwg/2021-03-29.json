[
{"content":{"body":"This confuses me. \"If worker global scope's embedder policy is \"require-corp\" and is shared is true, then set agent's agent cluster's cross-origin isolation mode to \"logical\" or \"concrete\". The one chosen is implementation-defined.\"","msgtype":"m.text"},"ts":1617021171000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/workers.html#run-a-worker","msgtype":"m.text"},"ts":1617021176000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"later step: \"If is shared is false and response's url's scheme is \"data\", then set worker global scope's cross-origin isolated capability to false.\"","msgtype":"m.text"},"ts":1617021195000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"as far as I can tell, nothing changes the cross-origin isolated capability to true for non-shared workers to begin with","msgtype":"m.text"},"ts":1617021250000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"is that intentional? or should the first step say \"and is shared is *false*\"?","msgtype":"m.text"},"ts":1617021293000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Dedicated workers typically do not create their own agent cluster, but data: URL dedicated workers might; thereâ€™s an open issue","msgtype":"m.text"},"ts":1617021606000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess as the capability is per global we should maybe say something though, not sure","msgtype":"m.text"},"ts":1617021676000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: for dedicated workers, nothing in the spec sets cross-origin isolated capability to true, yet it sets it to false for data: url dedicated workers (which seems to be a no-op)","msgtype":"m.text"},"ts":1617027502000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"> Set worker global scope's cross-origin isolated capability to true if agent's agent cluster's cross-origin isolation mode is \"concrete\".","msgtype":"m.text"},"ts":1617028845000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: where does it set the cross-origin isolation mode to \"concrete\" for dedicated workers?","msgtype":"m.text"},"ts":1617029183000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: it's for an entire agent cluster, so it's set in the document","msgtype":"m.text"},"ts":1617029413000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: (or shared worker)","msgtype":"m.text"},"ts":1617029424000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: oooh","msgtype":"m.text"},"ts":1617029469000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: thanks. I guess I don't have the right mental model for agent clusters","msgtype":"m.text"},"ts":1617029547000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: https://docs.google.com/presentation/d/1sadl7jTrBIECCanuqSrNndnDr82NGW1yyuXFT1Dc7SQ/edit#slide=id.g5641ecbac9_0_131 (and also, shared/service workers create them; dedicated workers in principle only join agent clusters except for the unsolved mess with data: URL dedicated workers and potentially sandboxed dedicated workers)","msgtype":"m.text"},"ts":1617029744000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thx","msgtype":"m.text"},"ts":1617029932000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"websockets have backgroundsync?","msgtype":"m.text"},"ts":1617056803000,"senderName":"howdoi","senderId":"howdoi@irc"},
{"content":{"body":"as in they can queue the message and send it over when online again?","msgtype":"m.text"},"ts":1617056817000,"senderName":"howdoi","senderId":"howdoi@irc"}
]