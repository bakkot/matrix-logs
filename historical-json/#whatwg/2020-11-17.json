[
{"content":{"body":"Wow, is this thing still on? :)","msgtype":"m.text"},"ts":1605617510000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"krijn_: nog steeeds ja ðŸ˜Š","msgtype":"m.text"},"ts":1605617769000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think I've found a weird use case for img/srcset/sizes, that hasn't been discussed in https://github.com/whatwg/html/issues/2973 or https://github.com/ResponsiveImagesCG/picture-element/issues/86 yet. But I can't imagine I'm the first to bump into this, so I thought I'd ask the smart people..","msgtype":"m.text"},"ts":1605618699000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"Is work on h descriptors still being done?","msgtype":"m.text"},"ts":1605618730000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"zcorpan: ^","msgtype":"m.text"},"ts":1605618771000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: ^","msgtype":"m.text"},"ts":1605618777000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Like reading my mind :)","msgtype":"m.text"},"ts":1605618793000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"The GitHub issue mentions `object-fit: contain`, but I'm now running into an issue with `object-fit: scale-down` on a `width: 100%; height: [calc/vh];` image, and I can't come up with the correct sizes attribute. Possibly because it doesn't exist, more likely because I'm too dumb.","msgtype":"m.text"},"ts":1605619018000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"(Is it still ok to ask plain old HTML questions? Or should everything be padded with React boilerplate nowadays?)","msgtype":"m.text"},"ts":1605619093000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"Hasn't HTML been replaced by hooks? ;)","msgtype":"m.text"},"ts":1605621686000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hooks, hooks.. Rings a bell","msgtype":"m.text"},"ts":1605621826000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"hey krijn_!","msgtype":"m.text"},"ts":1605621874000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Long time!","msgtype":"m.text"},"ts":1605621890000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"indeed!!","msgtype":"m.text"},"ts":1605621897000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"h descriptors for srcset and height-limited sizes are both things that you'd need for height limited images, but also things we never specified and implemented...","msgtype":"m.text"},"ts":1605621999000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Yeah, that's what I found out ;'(","msgtype":"m.text"},"ts":1605622027000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"So what's best in that case? Just add the largest known image width to the sizes attribute?","msgtype":"m.text"},"ts":1605622109000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"Kind of defeats the point of using srcset in the first place, I guess","msgtype":"m.text"},"ts":1605622136000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"Might be interesting to file an issue against HTML (not React nor Hooks!) to document what you're unable to do, so that we can try to get folks to invest time in solving that","msgtype":"m.text"},"ts":1605622140000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Would https://github.com/whatwg/html/issues/2973 be the right issue?","msgtype":"m.text"},"ts":1605622165000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"I'm not sure if adding h descriptors would be enough in my case","msgtype":"m.text"},"ts":1605622178000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"oh, yeah. That'd indeed be the issue to pile on to","msgtype":"m.text"},"ts":1605622191000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"object-fit: scale-down; makes it a whole lot more complicated","msgtype":"m.text"},"ts":1605622223000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"Is it because your potential display dimensions can be either based on the container or on the image?","msgtype":"m.text"},"ts":1605622381000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Yep","msgtype":"m.text"},"ts":1605622404000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"yeah, I can see how that complicates things","msgtype":"m.text"},"ts":1605622483000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Dm'd you a link, np if you don't have the time to look into it :)","msgtype":"m.text"},"ts":1605622544000,"senderName":"krijn_","senderId":"krijn_@irc"},
{"content":{"body":"littledan: how about no primordials, gotta build your realm up from scratch","msgtype":"m.text"},"ts":1605626123000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: We could do that too; that's the current proposal, but it sounded like Mozilla and Chrome were unhappy about that","msgtype":"m.text"},"ts":1605626157000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: I thought the current proposal did have encodeURI, Array, and friends","msgtype":"m.text"},"ts":1605626180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or do you mean nothing at all, not even JS globals?","msgtype":"m.text"},"ts":1605626182000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"some of the JS globals are pointed to by JS syntax. Array is one of these","msgtype":"m.text"},"ts":1605626209000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"Ah yeah, anyway, going more minimal might be an interesting alternative","msgtype":"m.text"},"ts":1605626329000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And is kinda what we wanted for worklets in the past","msgtype":"m.text"},"ts":1605626336000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"We still do I suppose, but it's too late now","msgtype":"m.text"},"ts":1605626367000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looking at it from the perspective of something like jsdom, how would you even create an Array global in a new realm?","msgtype":"m.text"},"ts":1605626402000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"well, I guess you could implement everything in user-land, at a runtime cost","msgtype":"m.text"},"ts":1605626500000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"The alternate point of view is Web Extensions and WebDriver where we want to allow extensions/test authors to create an isolated realm with access to the DOM but without needing to worry about the behaviour of content script (e.g. changing the prototypes, or adding expandos or global variables or whatever)","msgtype":"m.text"},"ts":1605626521000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So that's a kind of maximalist use case where you want pretty much everything the document realm can access","msgtype":"m.text"},"ts":1605626559000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Array might be over the top, but there's a lot of primordials you don't really need to be there (including all the new library kind of things)","msgtype":"m.text"},"ts":1605626578000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: that's pretty interesting too; I guess what you really want is some kind of control over what gets exposed there, but that will get complicated quickly if you want to go beyond minimal/maximal","msgtype":"m.text"},"ts":1605627092000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if you have a Realm through the Realm API, then you can either do something like `realm.globalThis.Array`, or `(await realm.import(module { export default Array }).default`","msgtype":"m.text"},"ts":1605628251000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"or, `realm.globalThis.eval(\"Array\")`","msgtype":"m.text"},"ts":1605628271000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"those are sort of the three ways to get at things within the context of Realms","msgtype":"m.text"},"ts":1605628279000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"I imagine they'd all be usable from something like jsdom","msgtype":"m.text"},"ts":1605628300000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"I imagine this API would work for extensions as well","msgtype":"m.text"},"ts":1605628338000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"I think the question was in response to my suggestion","msgtype":"m.text"},"ts":1605628364000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oops","msgtype":"m.text"},"ts":1605628375000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"annevk: I could see going this minimalist route, but I don't know if everyone would be convinced that we can exclude Web APIs from the minimal set","msgtype":"m.text"},"ts":1605628410000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"it seemed like there was particular interest in including a separate copy of Web APIs by default; maybe I misunderstood","msgtype":"m.text"},"ts":1605628445000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: I'm not aware of all the sides here, but I think Domenic's point was that it was jarring that TextEncoder would not be there, but i18n APIs would be, for instance","msgtype":"m.text"},"ts":1605628488000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: similar to atob() vs encodeURI()","msgtype":"m.text"},"ts":1605628517000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sure, I can see that point. I think it would also be *slightly* faster to create a Realm if there is less in it","msgtype":"m.text"},"ts":1605628546000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: I imagine if there was something more principled, such as all features needed for parsing, that objection would fade, but who knows","msgtype":"m.text"},"ts":1605628547000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Mark would prolly appreciate not having Date in there","msgtype":"m.text"},"ts":1605628634000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's a lot of APIs to consider. It's an interesting thing to think through, where the line should go","msgtype":"m.text"},"ts":1605628777000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"I can think of a bunch of different reasonable policies","msgtype":"m.text"},"ts":1605628808000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"One possible dividing line would be, \"does this do I/O\", but that is also vague","msgtype":"m.text"},"ts":1605628856000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"either way, having a subset of the web APIs available in a realm would mean creating a new global from the point of view of WebIDL's \"Exposed\" attribute","msgtype":"m.text"},"ts":1605629255000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"Yes, it seems straightforward from that perspective","msgtype":"m.text"},"ts":1605629316000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"TabAtkins: about ::file-selector-button, do you know if thereâ€™s a reason the spec update for it has not been made yet?","msgtype":"m.text"},"ts":1605652755000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://github.com/w3c/csswg-drafts/issues/5049#issuecomment-729255718","msgtype":"m.text"},"ts":1605652760000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"}
]