[
{"content":{"body":"have someone tried to write a test generator that takes random html and sends it through html5lib?","msgtype":"m.text"},"ts":1258970700000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"sounds like it could be able to find some bugs perhaps","msgtype":"m.text"},"ts":1258970701000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"Huvet: Yeah I did that a while ago but not recently","msgtype":"m.text"},"ts":1258970820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Obviously we regressed somewhat since then :)","msgtype":"m.text"},"ts":1258970821000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"heh :)","msgtype":"m.text"},"ts":1258970822000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"Huvet: Thanks for all the bug reports though, they are great","msgtype":"m.text"},"ts":1258970823000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"np, I'm glad to help","msgtype":"m.text"},"ts":1258970880000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"The fact that the table handling has some problems is not so surprising because that is one of the scariest parts of the parser and one that has changed a bit recently","msgtype":"m.text"},"ts":1258970940000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It's easy to get hundreds of thousands of real pages and send them through, and see what happens","msgtype":"m.text"},"ts":1258970941000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"though perhaps a little bit slow","msgtype":"m.text"},"ts":1258970942000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/easy/slow :)","msgtype":"m.text"},"ts":1258970943000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"AH, you beat me","msgtype":"m.text"},"ts":1258970944000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"even better would be a program that makes minimal testcases from a crash","msgtype":"m.text"},"ts":1258971000000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"shouldn't be that much work","msgtype":"m.text"},"ts":1258971001000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"Huvet: Google jesse lithium","msgtype":"m.text"},"ts":1258971002000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It does basically what you want","msgtype":"m.text"},"ts":1258971060000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"well, I'm not thinking about it for my sake, but for html5libs :)","msgtype":"m.text"},"ts":1258971120000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"Huvet: Right, the main problem we have had is that we haven't found the bugs in the first place :)","msgtype":"m.text"},"ts":1258971121000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah, so a major crawl of the web, and then a reduction script that reports minimal bugs as it finds them","msgtype":"m.text"},"ts":1258971180000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"That could work","msgtype":"m.text"},"ts":1258971181000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hmm... I see that at leaste this bug was fixed recently (http://code.google.com/p/html5lib/issues/detail?id=127), but when I do \"hg up\", I don't get any updates","msgtype":"m.text"},"ts":1258971420000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"C:\\Emils\\Nerladdat\\html5lib>hg up","msgtype":"m.text"},"ts":1258971421000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"0 files updated, 0 files merged, 0 files removed, 0 files unresolved","msgtype":"m.text"},"ts":1258971422000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"hg pull","msgtype":"m.text"},"ts":1258971423000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ah, I should read up on hg","msgtype":"m.text"},"ts":1258971480000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"(up updates from the local respository, pull pulls from a different repository)","msgtype":"m.text"},"ts":1258971481000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hmm... should the parser be able to handle strange encodings?","msgtype":"m.text"},"ts":1258974600000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"<meta name=”robots” content=”noodp”>","msgtype":"m.text"},"ts":1258974601000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"seems to crash on that","msgtype":"m.text"},"ts":1258974602000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"(note the strange quotes)","msgtype":"m.text"},"ts":1258974660000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"That seems.. bad","msgtype":"m.text"},"ts":1258974661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"new bug?","msgtype":"m.text"},"ts":1258974662000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"Sure","msgtype":"m.text"},"ts":1258974720000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(btw for simple bugs, the best way to report them is to give the parse.py command line like","msgtype":"m.text"},"ts":1258974780000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"python parse.py '<meta name=”robots” content=”noodp”>' and the error","msgtype":"m.text"},"ts":1258974781000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ah, good idea","msgtype":"m.text"},"ts":1258974782000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"since that is the easiest way to try and reproduce them)","msgtype":"m.text"},"ts":1258974783000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(but things that can be run in a python repl are fine too)","msgtype":"m.text"},"ts":1258974840000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I think I need a separate file for this one... the windows cmd prompt converts the quotes to proper ones when I paste them there :)","msgtype":"m.text"},"ts":1258974900000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"strange feature","msgtype":"m.text"},"ts":1258974960000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"Fair enough","msgtype":"m.text"},"ts":1258975140000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://code.google.com/p/html5lib/issues/detail?id=129","msgtype":"m.text"},"ts":1258975260000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"Huvet: Oops, looks like I checked in part of another patch by mistake","msgtype":"m.text"},"ts":1258981860000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Try deleting the line with finalize on it","msgtype":"m.text"},"ts":1258981861000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Did I break the parser a fair bit?","msgtype":"m.text"},"ts":1258982340000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: I don't know if it's your fault","msgtype":"m.text"},"ts":1258982460000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Probably not :)","msgtype":"m.text"},"ts":1258982461000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: You should blame him anyway","msgtype":"m.text"},"ts":1258982462000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I blame you for not fixing bugs that were obiously mine in ihatexml.py :)","msgtype":"m.text"},"ts":1258982580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"*obviously","msgtype":"m.text"},"ts":1258982581000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: no worries, it doesn't happen when parsning, only halfway through minimizing a testcase","msgtype":"m.text"},"ts":1258982700000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"so I'll keep it broken","msgtype":"m.text"},"ts":1258982760000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"Huvet: since it is a one line deletion I will push the fix in a moment","msgtype":"m.text"},"ts":1258982761000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Huvet: done","msgtype":"m.text"},"ts":1258983060000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"thx","msgtype":"m.text"},"ts":1258983061000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"works perfectly","msgtype":"m.text"},"ts":1258983120000,"senderName":"Huvet","senderId":"Huvet@irc"},
{"content":{"body":"hsivonen, I believe this error from your validator is incorrect: \"Error: When the attribute lang is specified, the element must also have the attribute lang in the XML namespace present with the same value.\"","msgtype":"m.text"},"ts":1258986600000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I can't see anywhere in the spec that says I have to specify xml:lang=\"\" in an XHTML document if I specifiy lang=\"\". It just says that if both are present, then they must have the same value.","msgtype":"m.text"},"ts":1258986660000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: whoa. something has regressed","msgtype":"m.text"},"ts":1258987560000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"is puzzled","msgtype":"m.emote"},"ts":1258987740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"is even more puzzled","msgtype":"m.emote"},"ts":1258987860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the string that I find in the source code makes sense:","msgtype":"m.text"},"ts":1258987861000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Welcome to my world","msgtype":"m.text"},"ts":1258987862000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"When the attribute \\u201Cxml:lang\\u201D in no namespace is specified, the element must also have the attribute \\u201Clang\\u201D present with the same value.","msgtype":"m.text"},"ts":1258987863000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"so you can't find the error I quoted above in the source?","msgtype":"m.text"},"ts":1258987920000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: right","msgtype":"m.text"},"ts":1258987921000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Lachy: I do see it on the site","msgtype":"m.text"},"ts":1258987922000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"huh, weird.","msgtype":"m.text"},"ts":1258987923000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"ok, now I see it","msgtype":"m.text"},"ts":1258988040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"was that error based on an old requirement in the spec, presumably since removed?","msgtype":"m.text"},"ts":1258988100000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I don't recall the spec ever having had such a req","msgtype":"m.text"},"ts":1258988101000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"blame shows I wrote that line","msgtype":"m.text"},"ts":1258988220000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"at one point, it seems lang=\"\" was HTML only and xml:lang was XHTML only, according to this snapshot of the spec. http://www.whatwg.org/specs/web-apps/2007-10-26/#the-lang","msgtype":"m.text"},"ts":1258988280000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"ah. ok","msgtype":"m.text"},"ts":1258988281000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wonders how much would break if lang parsed to xml:lang in HTML","msgtype":"m.emote"},"ts":1258988340000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(or rather, it parsed to namespaceURI \"http://www.w3.org/1998/xml\", prefix null, localName, \"lang\"","msgtype":"m.text"},"ts":1258988341000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: if you really want to know, you could hack the Java to C++ translator not to remove that feature and compile Gecko with that feature enabled","msgtype":"m.text"},"ts":1258988400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"JohnResi1, yt? I have a question about your selectors-api tests","msgtype":"m.text"},"ts":1258988401000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I mean, would that break anything apart from a script that checked the namespaceURI of it?","msgtype":"m.text"},"ts":1258988460000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"actually, there's an easier way to test it","msgtype":"m.text"},"ts":1258988461000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"without hacking the translator","msgtype":"m.text"},"ts":1258988462000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"maybe I should make a batch of builds with that feature one of these days","msgtype":"m.text"},"ts":1258988520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I can't think how it should break anything","msgtype":"m.text"},"ts":1258988521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"And it would make HTML/XHTML DOMs more consistent","msgtype":"m.text"},"ts":1258988522000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: it could break pages that try to change an existing lang attribute using setAttribute","msgtype":"m.text"},"ts":1258988580000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1258988581000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"so that's what would break","msgtype":"m.text"},"ts":1258988582000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"gsnedders, it would break attribute selectors that use [lang], I think","msgtype":"m.text"},"ts":1258988583000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"unless you start hacking special cases into the DOM","msgtype":"m.text"},"ts":1258988640000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"probably not worth the trouble","msgtype":"m.text"},"ts":1258988641000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Yeah, I don't want to add a special case to the DOM","msgtype":"m.text"},"ts":1258988642000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I think it's best to just discourage people from using xml:lang at all in XHTML, and only use lang","msgtype":"m.text"},"ts":1258988700000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"that way, there are no DOM differences to worry about","msgtype":"m.text"},"ts":1258988760000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: I agree","msgtype":"m.text"},"ts":1258988940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Lachy: Fixed. thanks","msgtype":"m.text"},"ts":1258990500000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"returns from vacation and finds he has a LOT of e-mail","msgtype":"m.emote"},"ts":1259010360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"goes to work to read it tall","msgtype":"m.emote"},"ts":1259010420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hello Hixie!","msgtype":"m.text"},"ts":1259010421000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"welcome back","msgtype":"m.text"},"ts":1259010422000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"I was wondering why Hixie wasn't being active in chat lately.  Wb, Hixie.","msgtype":"m.text"},"ts":1259011380000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"imagines google has a server-cluster set aside for hixie's vacation inbox","msgtype":"m.emote"},"ts":1259014200000,"senderName":"danbri","senderId":"danbri@irc"},
{"content":{"body":"Hixie: ping","msgtype":"m.text"},"ts":1259014800000,"senderName":"jlebar","senderId":"jlebar@irc"},
{"content":{"body":"jlebar: pong","msgtype":"m.text"},"ts":1259020200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so, what's been going on while i've been away","msgtype":"m.text"},"ts":1259020201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"any decisions made? :-)","msgtype":"m.text"},"ts":1259020202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I didn't know you were away.  Welcome back!","msgtype":"m.text"},"ts":1259020260000,"senderName":"jlebar","senderId":"jlebar@irc"},
{"content":{"body":"I wanted to ask about the title parameter in push/replaceState.  Can we nix it?","msgtype":"m.text"},"ts":1259020261000,"senderName":"jlebar","senderId":"jlebar@irc"},
{"content":{"body":"why would we nix it?","msgtype":"m.text"},"ts":1259020380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Well, in the last e-mail about it, you said you wanted the title to be separate from document.title, but shown in the drop-down list of history entries (the one that shows up when you click the down button next to the forward button).  But if we're creating the notion of a per-history-entry title separate from document.title, that seems orthogonal from push/replaceState.","msgtype":"m.text"},"ts":1259020440000,"senderName":"jlebar","senderId":"jlebar@irc"},
{"content":{"body":"(Put another way: If I just want to change that title, does it really make sense for me to call replaceState?)","msgtype":"m.text"},"ts":1259020560000,"senderName":"jlebar","senderId":"jlebar@irc"}
]