[
{"content":{"body":"Domenic: Will get that shortly, sorry for the delay. Widlparser did some more edits, and one had an error, so I need to double-check that it's working correctly.","msgtype":"m.text"},"ts":1484978257000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"MikeSmith: I don't suppose you have a Windows machine around?","msgtype":"m.text"},"ts":1484981398000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"XhmikosR: no I don't","msgtype":"m.text"},"ts":1484985283000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I used to have an Azure remote VM thing when Microsoft were providing those, but they stopped doing that last year","msgtype":"m.text"},"ts":1484985345000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I cannot make vnu.jar work from npm script section. Does this work for you? java -jar ./node-modules/vnu-jar/build/dist/vnu.jar --errors-only ./src/index.html","msgtype":"m.text"},"ts":1484985865000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"Error: Unable to access jarfile ./node-modules/vnu-jar/build/dist/vnu.jar","msgtype":"m.text"},"ts":1484985928000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"I tried with backslashes, same thing","msgtype":"m.text"},"ts":1484985946000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"hmm, /me knows only 'node_modules' with underscore","msgtype":"m.text"},"ts":1484986045000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"XhmikosR: lemme try now","msgtype":"m.text"},"ts":1484986154000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"XhmikosR: what ondras said","msgtype":"m.text"},"ts":1484986315000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I have only a ~/node_modules/ dir","msgtype":"m.text"},"ts":1484986339000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"underscore","msgtype":"m.text"},"ts":1484986342000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"java -jar ./node_modules/vnu-jar/build/dist/vnu.jar --errors-only index.html works","msgtype":"m.text"},"ts":1484986400000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: ./node_modules/ is when one depends on the vnu-jar npm package and does `npm i` in that dir.","msgtype":"m.text"},"ts":1484986540000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1484986558000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so there’s somewhere else I should be looking?","msgtype":"m.text"},"ts":1484986613000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the problem as far as I can tell is with vnu.jar reference. If I move the jar to the same folder as package.json and adjust the script this works: java -jar vnu.jar --errors-only ./src/index.html","msgtype":"m.text"},"ts":1484986687000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"dammn it :/","msgtype":"m.text"},"ts":1484986705000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"it's a typo","msgtype":"m.text"},"ts":1484986709000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1484986713000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"node-modules vs node_modules","msgtype":"m.text"},"ts":1484986716000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"hope it’s not my typo","msgtype":"m.text"},"ts":1484986737000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"nope, my type :P","msgtype":"m.text"},"ts":1484986747000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"sorry for the noise","msgtype":"m.text"},"ts":1484986750000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1484986754000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it's almost always the simple things","msgtype":"m.text"},"ts":1484986757000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1484986762000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"XhmikosR: incidentally I guess you noticed by now, but I had to do a 17.1.0 release, because the 17.0.1 vnu.jar doesn’t actually support custom elements","msgtype":"m.text"},"ts":1484986880000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Domenic caught that because the Streams spec HTML source uses custom elements and we now use vnu.jar in our Travis CI setup to test the HTML sources of all specs","msgtype":"m.text"},"ts":1484986980000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yeah, I forgot to release a new grunt-html version :/","msgtype":"m.text"},"ts":1484987652000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"well no rush I guess","msgtype":"m.text"},"ts":1484987699000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if nobody has reported a problem about it","msgtype":"m.text"},"ts":1484987708000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"though I’m kinda surprised nobody has","msgtype":"m.text"},"ts":1484987723000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"feel free to ping me if I miss a release in the future","msgtype":"m.text"},"ts":1484987732000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"testing now and I'll release 8.3.0 or 8.2.1","msgtype":"m.text"},"ts":1484987795000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"well I would have sent you a reminder when I did this one, but I’ve been away traveling and stuck meetings til today","msgtype":"m.text"},"ts":1484987796000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1484987799000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"we really need semver","msgtype":"m.text"},"ts":1484987802000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"not sure we do for vnu.jar","msgtype":"m.text"},"ts":1484987839000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I will do 8.2.1","msgtype":"m.text"},"ts":1484987861000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"just a minor bump","msgtype":"m.text"},"ts":1484987869000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yeah I think that’s appropriate for the npm version","msgtype":"m.text"},"ts":1484987895000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for vnu.jar I did it the way I did because 17.0.1 actually lacked one of the two major features the release notes advertised it as having","msgtype":"m.text"},"ts":1484987958000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"released 8.2.1","msgtype":"m.text"},"ts":1484988002000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"so it seemed to merit more than just a rev to 17.0.2 upstream","msgtype":"m.text"},"ts":1484988003000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1484988005000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"did you sort your build scripts?","msgtype":"m.text"},"ts":1484988052000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"XhmikosR: yeah","msgtype":"m.text"},"ts":1484988222000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"thanks for nudging me about those","msgtype":"m.text"},"ts":1484988243000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"you were right, about the stuff you pointed out","msgtype":"m.text"},"ts":1484988260000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"“that doesn’t seem like a clever way of doing it” or something like that, you said","msgtype":"m.text"},"ts":1484988296000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"which I thought was a nice way of putting it","msgtype":"m.text"},"ts":1484988307000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"btw dunno if you’re interested in Rust I have a grand plan of starting a complete rewrite of the HTML checker in Rust this year","msgtype":"m.text"},"ts":1484988379000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: it was just common sense for me :P You just wanted to replace the version string so what you were doing was too much and could break easily, as it did :)","msgtype":"m.text"},"ts":1484988599000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1484988614000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Which specification uses the \"inherit attribute\" IDL construct?","msgtype":"m.text"},"ts":1484988710000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I find AnimationEffectTiming","msgtype":"m.text"},"ts":1484989152000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://w3c.github.io/web-animations/#the-animationeffecttiming-interface","msgtype":"m.text"},"ts":1484989223000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1484989237000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"glad I got home in time to watch the final two nights of the current sumo tournament. Exciting finishーa guy who’s a really well-liked veteran wrestler but who had never actually won a tournament won just now, a few minutes go. He had to turn has face away from the camera because he was crying and didn’t want the cameras to see it. But when he turned back you could still see the tears coming out.","msgtype":"m.text"},"ts":1484989541000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: so with the latest specs, preloadCSS prolyfill seems to trigger an error?","msgtype":"m.text"},"ts":1484989911000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1484989924000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"what’s the error?","msgtype":"m.text"},"ts":1484989942000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hmm sec, it might have been the old version of vnu-jar","msgtype":"m.text"},"ts":1484989980000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"because I see this is passing https://travis-ci.org/mpc-hc/mpc-hc.org/builds/188114185","msgtype":"m.text"},"ts":1484989989000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1484989990000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"let me double check","msgtype":"m.text"},"ts":1484989998000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yeah maybe it uses some custom elements","msgtype":"m.text"},"ts":1484990023000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://ci.appveyor.com/project/XhmikosR/mpc-hc-org/build/711","msgtype":"m.text"},"ts":1484990051000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1484990059000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"trying with the latest version now","msgtype":"m.text"},"ts":1484990059000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"> A “link” element with an “integrity” attribute must have a “rel” attribute that contains the value “stylesheet”","msgtype":"m.text"},"ts":1484990094000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I don't use that branch inproduction because I've yet to find a nice way to have nonces with apache","msgtype":"m.text"},"ts":1484990101000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"well as far as that specific error I think this release does relax that, because the spec permits more rel values with the integrity attribute","msgtype":"m.text"},"ts":1484990169000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah now it's passing","msgtype":"m.text"},"ts":1484990176000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"checks the git log","msgtype":"m.emote"},"ts":1484990177000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1484990179000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"spoke too soon","msgtype":"m.text"},"ts":1484990189000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"https://ci.appveyor.com/project/XhmikosR/mpc-hc-org/build/714","msgtype":"m.text"},"ts":1484990214000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1484990261000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"looks again","msgtype":"m.emote"},"ts":1484990264000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah it's failing here","msgtype":"m.text"},"ts":1484990277000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"<link rel=\"preload\" href=\"https://cdn.mpc-hc.org/assets/css/pack.131b2455.css\" as=\"style\" onload=\"this.rel='stylesheet'\" integrity=\"sha384-BEMuRBtHBbYZMl3ydzM511MV2l5DmO/MQKV7q+4w3/6hhQeEHW/foGDI8cvgps0X\" crossorigin=\"anonymous\">","msgtype":"m.text"},"ts":1484990277000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"ahhh","msgtype":"m.text"},"ts":1484990310000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"OK yeah so that is actually non-conforming I think","msgtype":"m.text"},"ts":1484990318000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"does it need as=\"stylesheet\"","msgtype":"m.text"},"ts":1484990320000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"per current spec","msgtype":"m.text"},"ts":1484990321000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"no, I think needs rel=\"preload stylesheet\"","msgtype":"m.text"},"ts":1484990349000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"instead of just rel=\"preload\"","msgtype":"m.text"},"ts":1484990370000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the rel preload polyfill had `if( link.rel === \"preload\" && link.getAttribute( \"as\" ) === \"style\" ){`","msgtype":"m.text"},"ts":1484990377000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"let's see if they have a newer version","msgtype":"m.text"},"ts":1484990401000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yeah I think I do not have the checker checking the as= value yet","msgtype":"m.text"},"ts":1484990424000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh, no I do","msgtype":"m.text"},"ts":1484990472000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it is an enumerated value","msgtype":"m.text"},"ts":1484990483000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://github.com/filamentgroup/loadCSS#recommended-usage-pattern","msgtype":"m.text"},"ts":1484990499000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"so they haven't changed anything on their side","msgtype":"m.text"},"ts":1484990510000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"and the permitted values includes \"style\"","msgtype":"m.text"},"ts":1484990512000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah should be \"style\" not \"stylesheet\"","msgtype":"m.text"},"ts":1484990525000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so a bug? :p","msgtype":"m.text"},"ts":1484990537000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"well that doc is non-conforming because it just has rel=\"preload\"","msgtype":"m.text"},"ts":1484990562000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"they need to change that to rel=\"preload stylesheet\"","msgtype":"m.text"},"ts":1484990573000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1484990597000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"ok so they need to change the script","msgtype":"m.text"},"ts":1484990607000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"MikeSmith: do you a link to the specs that say that it needs to be \"preload stylesheet\" and drops the `as` attribute?","msgtype":"m.text"},"ts":1484990678000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"the only related change I made in this release is that I was accidentally before only do exact matches for rel values in some cases, when I needed to be instead checking the string value just with .contains(...) instead of exact match","msgtype":"m.text"},"ts":1484990685000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah hang on","msgtype":"m.text"},"ts":1484990698000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well not sure they need to drop the `as` attribute","msgtype":"m.text"},"ts":1484990719000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but I can get the other reference","msgtype":"m.text"},"ts":1484990726000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if `as` is still required they just need to change the rel value","msgtype":"m.text"},"ts":1484990748000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-integrity","msgtype":"m.text"},"ts":1484990770000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"> The integrity attribute represents the integrity metadata for requests which this element is responsible for. The value is text. The attribute must not be specified on link elements that do not have a rel attribute that contains the stylesheet keyword. [SRI]","msgtype":"m.text"},"ts":1484990775000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok thanks I'll make an issue","msgtype":"m.text"},"ts":1484990844000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"hai","msgtype":"m.text"},"ts":1484990897000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not sure what the new check should be though. If I use `rel=\"stylesheet preload\"` FF and Chrome return `stylesheet` only for `link.rel` value","msgtype":"m.text"},"ts":1484991862000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"although Chrome won't be affected since it supports preload natively","msgtype":"m.text"},"ts":1484991893000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"XhmikosR: hmm not sure what to suggest then","msgtype":"m.text"},"ts":1484992019000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"though I know grunt-html has some way to filter out unwanted errors","msgtype":"m.text"},"ts":1484992045000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I'll CC you there and we'll see what the others have to suggest","msgtype":"m.text"},"ts":1484992050000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1484992055000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I mostly care about the script working not the error :)","msgtype":"m.text"},"ts":1484992063000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"I think the script works though, it's just the error showing up","msgtype":"m.text"},"ts":1484992302000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"because in the HTML the link has `onload=\"this.rel='stylesheet'\"`","msgtype":"m.text"},"ts":1484992322000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"MikeSmith: aww (re sumo)","msgtype":"m.text"},"ts":1484995923000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: see bz comments https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/qS63pYso4P0/7_cMXoKXAwAJ about handling of HTTP/0.9 responses on ports other than 80","msgtype":"m.text"},"ts":1485001409000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"“It really would be a good idea if we (browser vendors) could all coordinated how we handle this stuff instead of each solving it in a different way.”","msgtype":"m.text"},"ts":1485001454000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"dunno where would be the place to specify that","msgtype":"m.text"},"ts":1485001475000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"responses from the legacy Shoutcast server apparently start with “ICY 200 OK” and Blink is going to add some special-case handling to make those work for ports other than port 80 while otherwise disallowing HTTP/0.9 responses from non-80 ports","msgtype":"m.text"},"ts":1485001602000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: HTTP spec in theory","msgtype":"m.text"},"ts":1485001748000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1485001805000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"as entertaining as it might be to bring the discussion up with some of the members of the HTTP WG, seems clear it wouldn’t be productive","msgtype":"m.text"},"ts":1485001896000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so if it is something we want interoperability on instead of browsers hacking in things like what Chrome plans to do, seems like it would be good to spec it somewhere","msgtype":"m.text"},"ts":1485001961000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not volunteering but I don’t even know where to raise it as an issue","msgtype":"m.text"},"ts":1485001982000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: could add a monkey patch in Fetch","msgtype":"m.text"},"ts":1485002229000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: there is also a wiki page listing issues with HTTP","msgtype":"m.text"},"ts":1485002254000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: maybe add it there","msgtype":"m.text"},"ts":1485002265000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks added at https://wiki.whatwg.org/wiki/HTTP#HTTP_0.9_.28and_Legacy_Shoutcast_support.29","msgtype":"m.text"},"ts":1485002716000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Cool","msgtype":"m.text"},"ts":1485002968000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://dom.spec.whatwg.org/#concept-event-dispatch","msgtype":"m.text"},"ts":1485007707000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"\"4. If target is relatedTarget and target is not event’s relatedTarget, then return true.\"","msgtype":"m.text"},"ts":1485007717000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Doesn't that forget to clear the dispatch flag set in step 1?","msgtype":"m.text"},"ts":1485007731000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: yeah I guess so","msgtype":"m.text"},"ts":1485008618000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: could use tests, guess we did not require them yet","msgtype":"m.text"},"ts":1485008642000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: So I had clean all of our event dispatch logic,","msgtype":"m.text"},"ts":1485009701000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: out of curiosity I looked at the spec again, now months later,","msgtype":"m.text"},"ts":1485009713000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"and everything changed. ( ._.)","msgtype":"m.text"},"ts":1485009718000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: shadow trees","msgtype":"m.text"},"ts":1485010180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Yeah I know.","msgtype":"m.text"},"ts":1485010188000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: Activation events stuff is new too, right?","msgtype":"m.text"},"ts":1485010858000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: yes","msgtype":"m.text"},"ts":1485010876000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Does it require new stuff from other parts of the spec, or is that a new legacy thing?","msgtype":"m.text"},"ts":1485010893000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I.e. can I implement that in Servo?","msgtype":"m.text"},"ts":1485010898000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: it's a legacy thing mostly used by HTML","msgtype":"m.text"},"ts":1485010944000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ok.","msgtype":"m.text"},"ts":1485010972000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: there might still be some issues with it, filed against HTML","msgtype":"m.text"},"ts":1485010975000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Looking into it.","msgtype":"m.text"},"ts":1485010975000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: So I'm looking at \"prompt to unload\",","msgtype":"m.text"},"ts":1485010989000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"and suddenly there is a step \"if the previous event dispatch triggered any event listener\",","msgtype":"m.text"},"ts":1485011005000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"and we never had to check that before anywhere in Servo,","msgtype":"m.text"},"ts":1485011013000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"makesmesad.","msgtype":"m.text"},"ts":1485011016000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: I haven't studied lifecycle enough","msgtype":"m.text"},"ts":1485011023000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: I did file an issue on investigating that claim","msgtype":"m.text"},"ts":1485011040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh.","msgtype":"m.text"},"ts":1485011044000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Do you remember where?","msgtype":"m.text"},"ts":1485011048000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: against HTML","msgtype":"m.text"},"ts":1485011058000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: also filed one against IDB which wants to know if a listener threw…","msgtype":"m.text"},"ts":1485011088000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, I remember that.","msgtype":"m.text"},"ts":1485011094000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"IDB makes me anxious.","msgtype":"m.text"},"ts":1485011105000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Did that today so…","msgtype":"m.text"},"ts":1485011118000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But maybe I filed a duplicate","msgtype":"m.text"},"ts":1485011128000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"There is some service worker funny business going on too","msgtype":"m.text"},"ts":1485011145000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Software architecture is not really a thing in the web platform","msgtype":"m.text"},"ts":1485011178000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean I remember seeing that step in IDB.","msgtype":"m.text"},"ts":1485011184000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"And then heavy breathing in a paper bag.","msgtype":"m.text"},"ts":1485011192000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: Does step 9 of https://html.spec.whatwg.org/multipage/browsers.html#prompt-to-unload-a-document means that only one level of descendant browsing contexts is checked?","msgtype":"m.text"},"ts":1485012262000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Or is it just about checking that *this* document shouldn't be prompted to unload while prompting to unload?","msgtype":"m.text"},"ts":1485012514000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"But if that's the reason this step exists, doesn't that mean beforeunloadevent can be fired twice on the same window anyway?","msgtype":"m.text"},"ts":1485012551000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: not sure","msgtype":"m.text"},"ts":1485013114000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Bikeshed now correctly handles XHR's overloads with different signatures.","msgtype":"m.text"},"ts":1485020268000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(It previously worked if your <dfn> was a full signature, with types and such. The widlparser update let it handle signatures with just argnames correctly.)","msgtype":"m.text"},"ts":1485020321000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]