[
{"content":{"body":"Also interesting: Removing the src attribute will reset an img, but won't reset a video.","msgtype":"m.text"},"ts":1494288438000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"currentSrc doesn't change.","msgtype":"m.text"},"ts":1494288529000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"Domenic: \"browsing context environment settings object\" introduced in https://github.com/whatwg/html/commit/cf0355d7e0e229b98f7fbd51b8c7608010c787f5 should really be \"window environment settings object\", right?","msgtype":"m.text"},"ts":1494316391000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: it also seems that at various points we invoke \"set up a browsing context environment settings object\" before we've created a document","msgtype":"m.text"},"ts":1494316468000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: which results in null pointer exceptions","msgtype":"m.text"},"ts":1494316490000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: seems better, but can't really look today I'm afraid; happy to follow up more tomorrow.","msgtype":"m.text"},"ts":1494316533000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: just wanted to quickly check, safe travels","msgtype":"m.text"},"ts":1494316565000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"reggna: for media elements, if you really want to unload it, you should set srcObject to null, remove the src attribute, all <source> children and then call load()","msgtype":"m.text"},"ts":1494317083000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"reggna: actually no, don't need to call load(), setting srcObject will implicitly do that (the other two things won't though)","msgtype":"m.text"},"ts":1494317118000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Domenic: if you're not in the air, can https://www.w3.org/Bugs/Public/show_bug.cgi?id=28920 be closed?","msgtype":"m.text"},"ts":1494319010000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I recall that still needing investigation but happy to trust your judgement","msgtype":"m.text"},"ts":1494319922000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'll leave it then, not a 100% sure","msgtype":"m.text"},"ts":1494319975000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hm, is this supposed to work?","msgtype":"m.text"},"ts":1494332737000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"https://jsfiddle.net/b1hdjzwz/1/","msgtype":"m.text"},"ts":1494332739000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"firefox is not applying the rotation","msgtype":"m.text"},"ts":1494332744000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"calc inside a transform? 45 * 1deg inside of a calc?","msgtype":"m.text"},"ts":1494332759000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"what exactly is incorrect?","msgtype":"m.text"},"ts":1494332763000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"it's not supported by ff yet","msgtype":"m.text"},"ts":1494333129000,"senderName":"topaxi","senderId":"topaxi@irc"},
{"content":{"body":"but it should work (afaik)","msgtype":"m.text"},"ts":1494333149000,"senderName":"topaxi","senderId":"topaxi@irc"},
{"content":{"body":"topaxi: and what exactly is the problematic feature? calc()ing degrees or calc()ing transforms?","msgtype":"m.text"},"ts":1494333179000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"calc in some transforms","msgtype":"m.text"},"ts":1494333190000,"senderName":"topaxi","senderId":"topaxi@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1494333203000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"would an indirection (custom prop) fix this?","msgtype":"m.text"},"ts":1494333213000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"https://jsfiddle.net/b1hdjzwz/2/","msgtype":"m.text"},"ts":1494333239000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"no :/","msgtype":"m.text"},"ts":1494333241000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"oh maybe it is a problem with some units, not the transforms","msgtype":"m.text"},"ts":1494333332000,"senderName":"topaxi","senderId":"topaxi@irc"},
{"content":{"body":"https://bugzilla.mozilla.org/show_bug.cgi?id=956573","msgtype":"m.text"},"ts":1494333332000,"senderName":"topaxi","senderId":"topaxi@irc"},
{"content":{"body":"that looks exactly like my case","msgtype":"m.text"},"ts":1494333484000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"topaxi: okay, thanks for the link","msgtype":"m.text"},"ts":1494333492000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"transforms are affected too, even if the unit doesn't matter: https://bugzilla.mozilla.org/show_bug.cgi?id=1308785","msgtype":"m.text"},"ts":1494333561000,"senderName":"topaxi","senderId":"topaxi@irc"},
{"content":{"body":"so i guess its both","msgtype":"m.text"},"ts":1494333577000,"senderName":"topaxi","senderId":"topaxi@irc"},
{"content":{"body":"Fun times, I just filed https://bugzilla.mozilla.org/show_bug.cgi?id=956573 too.","msgtype":"m.text"},"ts":1494333811000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Err, https://bugzilla.mozilla.org/show_bug.cgi?id=1363350","msgtype":"m.text"},"ts":1494333835000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1494333857000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"10:04:44 < foolip> reggna: for media elements, if you really want to unload it, you should set  srcObject to null, remove the src attribute, all <source> children","msgtype":"m.text"},"ts":1494336038000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"reggna: yes? :)","msgtype":"m.text"},"ts":1494336086000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: The only reason that \"unloads\" it, is because setting srcObject to null will be interpreted as a relative URL so the WebMediaPlayer will actually get a new load call with http(s)://domain/null","msgtype":"m.text"},"ts":1494336131000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"Oh, no.  Hmm.","msgtype":"m.text"},"ts":1494336154000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"Now it actually worked.","msgtype":"m.text"},"ts":1494336169000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"reggna: that sounds weird, srcObject is an object, not a URL","msgtype":"m.text"},"ts":1494336200000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"reggna: did you set video.src = null by any chance?","msgtype":"m.text"},"ts":1494336216000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Last time I did, and then I set srcObject to null as well and that just reloaded the video.","msgtype":"m.text"},"ts":1494336340000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"This time I didn't, and it just reloaded the video with the currentSrc.","msgtype":"m.text"},"ts":1494336375000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"reggna: what resource was loaded before you did the thing? was it from currentSrc, src, or a source element?","msgtype":"m.text"},"ts":1494336387000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"s/currentSrc/srcObject/","msgtype":"m.text"},"ts":1494336402000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: Source element.","msgtype":"m.text"},"ts":1494336402000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"ok, so then you'd have to remove the source elements as well","msgtype":"m.text"},"ts":1494336414000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"or, I dunno, just remove the video element from the DOM and start with a new one :)","msgtype":"m.text"},"ts":1494336427000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Yes, and you have to do that before setting srcObject to null.","msgtype":"m.text"},"ts":1494336437000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"the order shouldn't matter, if it does there's a bug somewhere","msgtype":"m.text"},"ts":1494336452000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"as long as you do all the things before returning back to the event loop, that is","msgtype":"m.text"},"ts":1494336468000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Well, no, the order does matter.","msgtype":"m.text"},"ts":1494336474000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"If you set srcObject to null while it still has source elements, it will just reload one of them.","msgtype":"m.text"},"ts":1494336495000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"So you have to remove the source elements first (and remove src if you have one) and then set srcObject to null.","msgtype":"m.text"},"ts":1494336528000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"even if you remove the source element right after setting srcObject to null?","msgtype":"m.text"},"ts":1494336531000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"that would mean that a new resource is selected synchronously in the srcObject setter, which isn't impossible, but then a bug","msgtype":"m.text"},"ts":1494336556000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"I was just trying in devtools, but no, it shouldn't be synchronous (at least it wasn't a few years ago when I actually knew this code).","msgtype":"m.text"},"ts":1494336605000,"senderName":"reggna","senderId":"reggna@irc"},
{"content":{"body":"ah, well in devtools there will be time between the calls, that would explain it","msgtype":"m.text"},"ts":1494336643000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Sigh, improving navigation and lifetime of objects is such a time sink","msgtype":"m.text"},"ts":1494340079000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So I wanted to make \"create a new browsing context\" a little better by making the creator argument explicit","msgtype":"m.text"},"ts":1494340107000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Not even something ambitious like allocating a unit of related browsing contexts or something like that, just adding a creator argument","msgtype":"m.text"},"ts":1494340130000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Going through the various callers I find myself cleaning up frame/iframe algorithms that really need more consolidation","msgtype":"m.text"},"ts":1494340167000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I encounter the broken state of <embed> and <object>","msgtype":"m.text"},"ts":1494340177000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I remove the bits from \"creator browsing context\" that are no longer needed and look into what it would take to remove the remaining bits, since they don't make much sense","msgtype":"m.text"},"ts":1494340213000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So now I'm writing tests for base URL handling in XMLHttpRequest response Document objects","msgtype":"m.text"},"ts":1494340241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And to do this properly that's only the start. I need to write tests for base URL handling of all kinds of Document objects. Then rewrite how base URLs work in HTML. And maybe then I can get back to \"create a new browsing context\" and get sucked into consolidating frame/iframe again","msgtype":"m.text"},"ts":1494340305000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sounds like you're going depth first :)","msgtype":"m.text"},"ts":1494342669000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"I keep doing that as well, so hard to resist","msgtype":"m.text"},"ts":1494342684000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: seems hard to fix it otherwise","msgtype":"m.text"},"ts":1494346932000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: just DMed you","msgtype":"m.text"},"ts":1494346942000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"foolip: cannot improve the broken higher layer if the fundamentals are all wrong","msgtype":"m.text"},"ts":1494346965000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: I do try to ignore the iframe and embed stuff though","msgtype":"m.text"},"ts":1494346991000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: although it's hard","msgtype":"m.text"},"ts":1494347018000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Just in case anyone is around who can tell me how bad a thing I just did: I came in today to my computer swapping like crazy. top shows an objfs process using up 87% of RAM. Couldn't figure out what's doing it, so I just killed the process.","msgtype":"m.text"},"ts":1494348552000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(The meta question of why my computer was swapping like crazy when it still had half a gig of ram available will be left to the software engineering segment of your syllabus.)","msgtype":"m.text"},"ts":1494348594000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"None of my programs seem to have fallen over yet, so...?","msgtype":"m.text"},"ts":1494348630000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"doesn't even know what objfs is","msgtype":"m.emote"},"ts":1494348779000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Unless you are running Solaris","msgtype":"m.text"},"ts":1494348787000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"wonders if this was the intended channel","msgtype":"m.emote"},"ts":1494348806000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I had no better channel to ask about it.","msgtype":"m.text"},"ts":1494348858000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Ah well since I couldn't work out what objfs was I wondered if it was some Google thing","msgtype":"m.text"},"ts":1494348900000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"If search goes down, we'll blame you :)","msgtype":"m.text"},"ts":1494348920000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"And no, a modded Ubuntu. So The terminology could be reinforced with a new figure in the spec, showing the keyframes, the frames, and the steps as different parts of the timing function graph.","msgtype":"m.text"},"ts":1494348937000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"lolwut","msgtype":"m.text"},"ts":1494348945000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"sorry, copypaste fail","msgtype":"m.text"},"ts":1494348951000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"meant to be a ¯\\_(ツ)_/¯","msgtype":"m.text"},"ts":1494348960000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Just a link to the decision without any further explanation would be enough, I'm just being curious at that point, and I assume this was already bikeshedded to the infinite so I wouldn't mind.","msgtype":"m.text"},"ts":1494354505000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I'd have to hunt down the meeting minutes.","msgtype":"m.text"},"ts":1494354527000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But I can explain the reasoning easily.","msgtype":"m.text"},"ts":1494354537000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"The 3-value syntax makes <position> *way* harder to intermix with other <length>s, but it's very rarely used (and quite weird).","msgtype":"m.text"},"ts":1494354585000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Are there that many <position>s followed by <length>s?","msgtype":"m.text"},"ts":1494354735000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"There's effectively zero today, because you *can't* produce the grammar unambiguously.","msgtype":"m.text"},"ts":1494355523000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"There are places we'd *like* to have such a thing.","msgtype":"m.text"},"ts":1494355531000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"So back at doing some WebIDL work (finally).","msgtype":"m.text"},"ts":1494358296000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"I'm trying to finish the [Default] toJSON() work and struggling with consequential interfaces.","msgtype":"m.text"},"ts":1494358342000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"Anyone familiar with using a limited version of those that would be more similar to mixins?","msgtype":"m.text"},"ts":1494358405000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"That is, B and B's inherited interfaces in `A implements B;`","msgtype":"m.text"},"ts":1494358435000,"senderName":"tobie","senderId":"tobie@irc"}
]