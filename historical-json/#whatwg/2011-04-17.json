[
{"content":{"body":"Is there a way for a browser to grab the contents at a URI fragment identifier? I was hoping to use <object data=\"http://example.org/#foo\"> however, the browser seems to only treat the URI excluding the fragment","msgtype":"m.text"},"ts":1303004700000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"using the canvas API, is there any way to make an arbitrary shape via a bunch of transformations, but then have the stroke transform/scale be relative to pixels?","msgtype":"m.text"},"ts":1303053720000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"e.g. if I want to stroke an oval with a 5px wide outline, it'd be nice if the line could have uniform thickness","msgtype":"m.text"},"ts":1303053780000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"instead of the stroke getting distorted along with the shape","msgtype":"m.text"},"ts":1303053840000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"not afaik. you'd have to scale the line width yourself to compensate. 1/transformScale, I guess","msgtype":"m.text"},"ts":1303053900000,"senderName":"tomasf","senderId":"tomasf@irc"},
{"content":{"body":"You could set up the transform, draw the shape, apply the inverse transform, then stroke it, I think","msgtype":"m.text"},"ts":1303053960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"tomasf: doesn't help if you have a non-1:1 scale on the object you're drawing and then that scale applies to the stroke as well, i think","msgtype":"m.text"},"ts":1303053961000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: yep","msgtype":"m.text"},"ts":1303053962000,"senderName":"tomasf","senderId":"tomasf@irc"},
{"content":{"body":"just resetting the transform to identity seems to work: http://zewt.org/~glenn/stroke.html","msgtype":"m.text"},"ts":1303054500000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"simpler version of what philip said, i think","msgtype":"m.text"},"ts":1303054501000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Philip`: I tried doing setTransform(1, 0, 0, 0, 1, 0) and that seemed to make the whole thing stop working","msgtype":"m.text"},"ts":1303054860000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"zewt: oh, hmm","msgtype":"m.text"},"ts":1303054861000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"maybe I just put a typo in someplace or something","msgtype":"m.text"},"ts":1303054862000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"1,0,0,1,0,0, not 1,0,0,0,1,0","msgtype":"m.text"},"ts":1303054863000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"the argument order for that function is odd","msgtype":"m.text"},"ts":1303054920000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(column-major, rather unintuitive)","msgtype":"m.text"},"ts":1303054921000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"oh, I see","msgtype":"m.text"},"ts":1303054980000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"that is weird","msgtype":"m.text"},"ts":1303054981000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"i take it stroke is really just transforming the line width by the transform to figure out the resulting width and then doing the actual operation in screen coordinates","msgtype":"m.text"},"ts":1303054982000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I'm somewhat annoyed that these don't let people use a 3x3 matrix, but that ship has sailed I guess :)","msgtype":"m.text"},"ts":1303054983000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"it wouldn't have, if it was row-major :)","msgtype":"m.text"},"ts":1303055040000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1303055100000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"two ships that sailed together","msgtype":"m.text"},"ts":1303055101000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"maybe they could just order it M00, M10, M20, M21, M11, M01, M02, M12, M22, for maximal confusion","msgtype":"m.text"},"ts":1303055102000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"\"snake order\"","msgtype":"m.text"},"ts":1303055160000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"great, that seems to work","msgtype":"m.text"},"ts":1303055220000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"zewt: thanks","msgtype":"m.text"},"ts":1303055221000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Philip`, tomasf: thanks to you too :)","msgtype":"m.text"},"ts":1303055222000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"so now I have something like http://pastie.textmate.org/private/wgeqzabrzkghnsphwydsa","msgtype":"m.text"},"ts":1303055340000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"zewt: It's not just multiplying the line width - you can have non-uniform scales or skews that affect the stroke","msgtype":"m.text"},"ts":1303055400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i don't even know what language this is, heh","msgtype":"m.text"},"ts":1303055401000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: coffeescript","msgtype":"m.text"},"ts":1303055402000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1303055403000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"\"obscure fadscript\" :)","msgtype":"m.text"},"ts":1303055404000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: output, http://pastie.textmate.org/private/g09sud4d8ewurqptyialuq","msgtype":"m.text"},"ts":1303055460000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"zewt: less and less obscure all the time, and in my (few weeks) experience, a joy to work with","msgtype":"m.text"},"ts":1303055461000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"that the path shape is set according to the original transformation but the stroke distorted by the stroke-time transformation allows some interesting stuff","msgtype":"m.text"},"ts":1303056120000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"for example, in conjunction with round joins and line ends, can be used to have the stroke shape be an arbitrary ellipse","msgtype":"m.text"},"ts":1303056180000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"\"caligraphic\" style","msgtype":"m.text"},"ts":1303056181000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"er, *calligraphic","msgtype":"m.text"},"ts":1303056240000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"is all the \"focus management' stuff in the canvas 2d context spec implemented widely?","msgtype":"m.text"},"ts":1303056420000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Not at all","msgtype":"m.text"},"ts":1303056421000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"one of those \"someday\" things?","msgtype":"m.text"},"ts":1303056422000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I hear there's an HTMLWG decision upcoming about it","msgtype":"m.text"},"ts":1303056480000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"focus management in canvas?","msgtype":"m.text"},"ts":1303056660000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or a11y?","msgtype":"m.text"},"ts":1303056661000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: http://dev.w3.org/html5/2dcontext/#focus-management","msgtype":"m.text"},"ts":1303056662000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1303056663000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"oh, huh. yet more to review","msgtype":"m.text"},"ts":1303056664000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"trying to draw focus rings in canvas seems like somewhat silly idea to me","msgtype":"m.text"},"ts":1303056720000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"yeah, it's not like native focus styles apply to curves, and many of them aren't simply dotted lines around objects like links","msgtype":"m.text"},"ts":1303056780000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"giving UA some control over it isn't a bad idea, but i doubt there's much it could actually do other than pick a stroke style","msgtype":"m.text"},"ts":1303056840000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"drawFocusRing looks pretty useless to me","msgtype":"m.text"},"ts":1303056900000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"heard something about that being simplified, but i havn't been following canvas stuff","msgtype":"m.text"},"ts":1303056901000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: by the way, CIECAM02 implementation https://github.com/jrus/chromatist","msgtype":"m.text"},"ts":1303056960000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"There is a link on a page to a PDF I want to read, but it goes to http://10.58.170.5/.","msgtype":"m.text"},"ts":1303061100000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I mean, seriously?","msgtype":"m.text"},"ts":1303061101000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"This is a public website: http://www1.cbs.gov.il/reader/?MIval=cw_usr_view_SHTML&ID=576","msgtype":"m.text"},"ts":1303061160000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"guesses the correct URL from nearby URLs","msgtype":"m.emote"},"ts":1303061220000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"the \"worksforme\" testing methodology","msgtype":"m.text"},"ts":1303062120000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I like how pressing shift+down several times in Opera on a Google search results page causes it to select the Google logo image, and then to begin scrolling down within the image so you see a load of random icons in its place","msgtype":"m.text"},"ts":1303062300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders if there will ever be non-hacky ways to do spriting","msgtype":"m.emote"},"ts":1303062360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"\"no hacks to see here, folks\"","msgtype":"m.text"},"ts":1303062361000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"is there a good way to clear a <canvas> without altering its context?","msgtype":"m.text"},"ts":1303082760000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I guess I can do something like save context, zero out transform, clearRect the whole width/height, restore context","msgtype":"m.text"},"ts":1303082880000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"canvas.width =  canvas.width","msgtype":"m.text"},"ts":1303083000000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"bga_: that kills my context","msgtype":"m.text"},"ts":1303083060000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"dirty hack by @kangax","msgtype":"m.text"},"ts":1303083061000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"bga_: I don't think I can do a save/restore around that can I?","msgtype":"m.text"},"ts":1303083062000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I guess I can try and see","msgtype":"m.text"},"ts":1303083063000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"also, no longer too much a \"dirty hack\" when it's widely documented as the right way to do it :)","msgtype":"m.text"},"ts":1303083120000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus gc do not kills your context => you will not lost it","msgtype":"m.text"},"ts":1303083180000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"i guess","msgtype":"m.text"},"ts":1303083181000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"I'm not sure what you mean","msgtype":"m.text"},"ts":1303083182000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"gc ==  garbage collector","msgtype":"m.text"},"ts":1303083240000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"if I do canvas.width = canvas.width, at least in Safari, my transform matrix is reset to the identity","msgtype":"m.text"},"ts":1303083241000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1303083242000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"I can't save/restore around it either","msgtype":"m.text"},"ts":1303083300000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"so I'm going to try my way","msgtype":"m.text"},"ts":1303083301000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1303083302000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"but you can get second clear context :)","msgtype":"m.text"},"ts":1303083360000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"may be its faster way","msgtype":"m.text"},"ts":1303083361000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"hm?","msgtype":"m.text"},"ts":1303083362000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"not sure what you mean","msgtype":"m.text"},"ts":1303083363000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I have a context stack that I don't want to destroy, I just want to clear the whole canvas image","msgtype":"m.text"},"ts":1303083420000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"one canvas can have multi contexes","msgtype":"m.text"},"ts":1303083421000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"with different states","msgtype":"m.text"},"ts":1303083422000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"and types(2в/3d)","msgtype":"m.text"},"ts":1303083480000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"I can have multiple 2d contexts on a canvas?","msgtype":"m.text"},"ts":1303083481000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"*2d","msgtype":"m.text"},"ts":1303083482000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1303083483000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"how does that work?","msgtype":"m.text"},"ts":1303083484000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"I don't see any mechanism in the spec for switching contexts","msgtype":"m.text"},"ts":1303083540000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"sec","msgtype":"m.text"},"ts":1303083541000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1303083660000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"fail in chome","msgtype":"m.text"},"ts":1303083661000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"context is singleton :(","msgtype":"m.text"},"ts":1303083662000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"soкry","msgtype":"m.text"},"ts":1303083720000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"*sorry","msgtype":"m.text"},"ts":1303083721000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"jacobolus another way to avoid save/restore state is do `clearRect` with infinite bounds %)","msgtype":"m.text"},"ts":1303083900000,"senderName":"bga_","senderId":"bga_@irc"}
]