[
{"content":{"body":"Seems infra does not describe an \"array\"; so what is our idiomatic of removing a single element in an array in spec prose. Do we pop? Do we \"remove the last-inserted element\"? If I can guarantee there is only one element, can I \"empty\" it?","msgtype":"m.text"},"ts":1549328496000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"littledan: is https://github.com/WebAssembly/threads build on top of JavaScript's model or actual threads?","msgtype":"m.text"},"ts":1549353935000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: are we talking about a list or an actual JavaScript object?","msgtype":"m.text"},"ts":1549353965000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think it's supposed to kind of correspond to JS's model, but in WebAssembly's core specification, they would like to avoid referencing JS or web specs, to ensure it works for other environments as well","msgtype":"m.text"},"ts":1549354036000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"Correspondingly, JS doesn't layer on top of Wasm either ...","msgtype":"m.text"},"ts":1549354067000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"A long-term hope among many who work on Wasm is to create a shared, GC'd heap, even if that's not suitable for JS","msgtype":"m.text"},"ts":1549354145000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: as I understood it from Luke, Wasm Threads effectively use workers and postMessage() under the hood, so yeah, they'd be affected in the sense that this is how they'd end up working","msgtype":"m.text"},"ts":1549354146000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: right, okay, so these Wasm Threads are the worker things then","msgtype":"m.text"},"ts":1549354162000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Right... The idea is to encode this correspondence in the JS and Web APIs","msgtype":"m.text"},"ts":1549354171000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: then yeah, feel free to also post there or move it?","msgtype":"m.text"},"ts":1549354173000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: I keep wondering when we'll do host integration for Wasm btw","msgtype":"m.text"},"ts":1549354186000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: do you know anything about that?","msgtype":"m.text"},"ts":1549354193000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"What's missing?","msgtype":"m.text"},"ts":1549354199000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: shouldn't module fetching branch on the Wasm MIME type somehow?","msgtype":"m.text"},"ts":1549354219000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean, I should know, since I'm the editor of the host integration spec","msgtype":"m.text"},"ts":1549354224000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: or can you not import Wasm from JS?","msgtype":"m.text"},"ts":1549354229000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Well, it does, in the web spec","msgtype":"m.text"},"ts":1549354232000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: but module fetching is defined in HTML","msgtype":"m.text"},"ts":1549354243000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I hope to make more progress on the module integration this week","msgtype":"m.text"},"ts":1549354252000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"We should have a PR against HTML for proper layering, I agree","msgtype":"m.text"},"ts":1549354268000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"Some of the HTML modules refactoring will be in common","msgtype":"m.text"},"ts":1549354284000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: okay, I'm wondering about the HTML bits in particular","msgtype":"m.text"},"ts":1549354284000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: HTML also has a bunch of JavaScript integration stuff, hopefully less of that is needed for Wasm since it only does modules, but it seems at least some would be needed","msgtype":"m.text"},"ts":1549354311000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://github.com/WebAssembly/esm-integration/pull/21","msgtype":"m.text"},"ts":1549354337000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"Specifically https://littledan.github.io/esm-integration/#html-modifications","msgtype":"m.text"},"ts":1549354381000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"We discussed this at TPAC and folks there seemed onboard, but I have had trouble convincing people in the tooling ecosystem","msgtype":"m.text"},"ts":1549354474000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"So I wanted to improve docs and talk more with them first","msgtype":"m.text"},"ts":1549354495000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"But if you are interested in an HTML PR, I am happy to do that","msgtype":"m.text"},"ts":1549354511000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: ah great","msgtype":"m.text"},"ts":1549354550000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: so I like that kind of thing, as it makes extensions more visible","msgtype":"m.text"},"ts":1549354617000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"OK, good to know","msgtype":"m.text"},"ts":1549354635000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: it also paves the path for adding other types, such as JSON","msgtype":"m.text"},"ts":1549354641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JSON would be nice and easy!","msgtype":"m.text"},"ts":1549354680000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"Everyone loves JSON","msgtype":"m.text"},"ts":1549354696000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"üòÉ","msgtype":"m.text"},"ts":1549354723000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So what module types do we want to support soon? JS, Wasm, HTML, CSS, JSON, any more?","msgtype":"m.text"},"ts":1549354764000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"CSV :)","msgtype":"m.text"},"ts":1549354773000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"CBOR? Spec people love CBOR","msgtype":"m.text"},"ts":1549354786000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"Re: we could allow importing images and videos, to be abstract assets, to be put in src","msgtype":"m.text"},"ts":1549354869000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"Re: asset imports https://github.com/sebmarkbage/ecmascript-asset-references","msgtype":"m.text"},"ts":1549354926000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"annevk: ^","msgtype":"m.text"},"ts":1549355202000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: a lot of those are discussed in various issues","msgtype":"m.text"},"ts":1549355248000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: I'm assuming CBOR is trolling","msgtype":"m.text"},"ts":1549355259000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: and I'm not sure CSV has a good enough parser specification","msgtype":"m.text"},"ts":1549355274000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, half","msgtype":"m.text"},"ts":1549355276000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"If I said YAML it'd be trolling","msgtype":"m.text"},"ts":1549355292000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"I guess if the packaging thing ends up happening there might really be CBOR","msgtype":"m.text"},"ts":1549355296000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"OK, I will check issues","msgtype":"m.text"},"ts":1549355297000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: https://github.com/w3c/webcomponents/issues/759","msgtype":"m.text"},"ts":1549355313000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: https://github.com/whatwg/html/issues/4315","msgtype":"m.text"},"ts":1549355331000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"littledan: w3c/webcomponents also has a JSON issue and various HTML issues","msgtype":"m.text"},"ts":1549355343000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh thanks, I missed the JSON issue","msgtype":"m.text"},"ts":1549355354000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"littledan: haven't seen anything for CSV, but it did cross my mind","msgtype":"m.text"},"ts":1549355360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I have seen another custom JS module system that exposes JSON modules","msgtype":"m.text"},"ts":1549355392000,"senderName":"littledan","senderId":"littledan@irc"},
{"content":{"body":"Talking about a list, i.e., whatever we have ‚ÄúLet x be an array‚Äù","msgtype":"m.text"},"ts":1549361732000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1549362069000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"domfarolino, avoid saying that, I suppose? Infra defines lists, not arrays: https://infra.spec.whatwg.org/#lists","msgtype":"m.text"},"ts":1549362123000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Yeah, please don't use the word array for something that's a list","msgtype":"m.text"},"ts":1549363430000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(Note that IDL will eventually be such that it converts a list into an array depending on what the getter/method does.)","msgtype":"m.text"},"ts":1549363487000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"s/does/returns/","msgtype":"m.text"},"ts":1549363503000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: left a comment on the PR for the worklet event loop issue; I still don't see it working as the tasks aren't really associated with anything and elsewhere we blindly copy particular state of a task if it's in a window event loop","msgtype":"m.text"},"ts":1549382777000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: For context, was mostly referring to step 2 in https://html.spec.whatwg.org/multipage/images.html#updating-the-source-set, as I'm refactoring it a bit","msgtype":"m.text"},"ts":1549387770000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Not sure if I should keep it as \"array\", or \"list\".","msgtype":"m.text"},"ts":1549387802000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: changing that to https://infra.spec.whatwg.org/#lists would be great","msgtype":"m.text"},"ts":1549387827000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1549387833000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: a lot in HTML predates Infra","msgtype":"m.text"},"ts":1549387847000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I figured haha","msgtype":"m.text"},"ts":1549387852000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: before Infra everyone made up data structures as they went","msgtype":"m.text"},"ts":1549387859000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: without defining them...","msgtype":"m.text"},"ts":1549387863000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"perfect :(","msgtype":"m.text"},"ts":1549387869000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Yeah Infra i really nice","msgtype":"m.text"},"ts":1549387880000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"is*","msgtype":"m.text"},"ts":1549387882000,"senderName":"domfarolino","senderId":"domfarolino@irc"}
]