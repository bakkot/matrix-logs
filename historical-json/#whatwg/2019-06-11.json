[
{"content":{"body":"If an argument is specified as a `unsigned long`, and a negative number is passed, should it throw?","msgtype":"m.text"},"ts":1560257341000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I'm looking at https://heycam.github.io/webidl/#es-unsigned-long, but I'm not really familiar with how the ES spec does things, so I don't know what happens if there's an abrupt completion","msgtype":"m.text"},"ts":1560257397000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Ah, I missed the [EnforceRange] bit. Ignore me.","msgtype":"m.text"},"ts":1560257644000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"When should we [EnforceRange] / [Clamp] / neither? For method arguments, it seems right to [EnforceRange], but it doesn't seem like many APIs do that","msgtype":"m.text"},"ts":1560257846000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Is it considered bad practice?","msgtype":"m.text"},"ts":1560257854000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1560258219000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: yes","msgtype":"m.text"},"ts":1560258315000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"regarding https://github.com/whatwg/html/issues/4175","msgtype":"m.text"},"ts":1560258343000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: I didn't immediately reply there was I wasn't sure I quite understood your question","msgtype":"m.text"},"ts":1560258403000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, i want to make sure if I understand the situation correctly","msgtype":"m.text"},"ts":1560258462000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: okay, I guess I can ask some questions about your comment, what is \"none\" sameness?","msgtype":"m.text"},"ts":1560258530000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: do we need to create a new browsing context group when CORP-P of navigation source and destination are different each other?","msgtype":"m.text"},"ts":1560258539000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: only if COOP mismatches","msgtype":"m.text"},"ts":1560258564000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: CORP-P by itself cannot provide total isolation","msgtype":"m.text"},"ts":1560258580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hmm... I don't understand then.","msgtype":"m.text"},"ts":1560258609000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: okay","msgtype":"m.text"},"ts":1560258616000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Assume a frame A opens a popup B, and they belong to the same origin and have the same COOP","msgtype":"m.text"},"ts":1560258673000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: okay","msgtype":"m.text"},"ts":1560258690000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: if A opts into CORP-P and B doesn't, we want to isolate them each other, right?","msgtype":"m.text"},"ts":1560258711000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: B won't load in that case (note also that A would have to specify unsafe-allow-origin for this, iirc)","msgtype":"m.text"},"ts":1560258764000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"allow-outgoing ugh","msgtype":"m.text"},"ts":1560258773000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: so COOP can allow something, but CORP-P could prevent the fetching if it were to end up in the same browsing context group","msgtype":"m.text"},"ts":1560258854000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hm, then, what happens when both A and B opt into CORP-P? Both frame cannot navigate to a CORP-P disabled resource, even if it is same-origin?","msgtype":"m.text"},"ts":1560258869000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"(well not the fetching, but block the response from entering)","msgtype":"m.text"},"ts":1560258875000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: hmm so if A defines COOP and CORP-P, can it navigate to COOP but no CORP-P","msgtype":"m.text"},"ts":1560258980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sorry, you meant A can navigate to another frame, say C, which has a matching COOP but no CORP-P, right?","msgtype":"m.text"},"ts":1560259119000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: I meant to add a ? at the end there","msgtype":"m.text"},"ts":1560259139000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: i see","msgtype":"m.text"},"ts":1560259146000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: I'm not sure we considered that case well enough","msgtype":"m.text"},"ts":1560259152000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: for popups it'd fail, but for a non-popup that doesn't seem great","msgtype":"m.text"},"ts":1560259173000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks I think we should think about the case... I will try to post a comment on the thread.","msgtype":"m.text"},"ts":1560259266000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"annevk: I agree that limiting navigation from the opener would be confusing to users","msgtype":"m.text"},"ts":1560259302000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: I suspect in that case the combination of COOP and CORP-P should result in replacing behavior","msgtype":"m.text"},"ts":1560259319000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: it seems better to let the navigation succeed","msgtype":"m.text"},"ts":1560259375000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sorry i don't understand the replacing bahavior","msgtype":"m.text"},"ts":1560259385000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: this is also something we could still tweak for popups","msgtype":"m.text"},"ts":1560259389000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: if you navigate A and A' doesn't have CORP-P (but does have matching COOP)","msgtype":"m.text"},"ts":1560259411000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: (the replacing behavior is what COOP defines, closing the current browsing context and creating a new one in a new browsing context group)","msgtype":"m.text"},"ts":1560259457000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks!","msgtype":"m.text"},"ts":1560259491000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: I have limited bandwidth for 2 weeks, but hope to get back to this after that","msgtype":"m.text"},"ts":1560259537000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: thanks for highlighting this scenario some more though, it's important","msgtype":"m.text"},"ts":1560259561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: what would happen when we do that whenever we see CORP-P unmatch?","msgtype":"m.text"},"ts":1560259619000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"annevk: thank you, too!","msgtype":"m.text"},"ts":1560259637000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: it wouldn't work for frames, but it would work for all top-level navigations, including popups, I think","msgtype":"m.text"},"ts":1560259677000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yhirano: the question is to what extent popups should work like frames","msgtype":"m.text"},"ts":1560259696000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: i see, thanks again.","msgtype":"m.text"},"ts":1560259897000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"https://github.com/dotnet/corefx/issues/38421 someone asking .NET to implement the URL Standard.","msgtype":"m.text"},"ts":1560260516000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"JakeA: https://w3ctag.github.io/design-principles/#numeric-types","msgtype":"m.text"},"ts":1560260545000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I did not know about this doc. Perfect. So why is [EnforceRange] used so rarely? Looking in Chromium, it only seems to be used by IDB, RTC, and a couple of canvas methods. Is it just new (guidance)?","msgtype":"m.text"},"ts":1560260693000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: yeah that's my take.","msgtype":"m.text"},"ts":1560260706000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Not too many new APIs accepting integer types, from what I can tell?","msgtype":"m.text"},"ts":1560260718000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Interesting. Cheers!","msgtype":"m.text"},"ts":1560260866000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Domenic: Could you give https://github.com/w3ctag/design-principles/issues/130 an approving nod if you agree. Heard from a couple of teams trying to require empty option objects.","msgtype":"m.text"},"ts":1560263102000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: it's optional but also provided","msgtype":"m.text"},"ts":1560263177000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: In this case I'm seeing folks suggest that `foo()` should throw, and developers must use `foo({})`","msgtype":"m.text"},"ts":1560263263000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: for that particular case that'd be in violation of IDL as is now pointed out on the issue","msgtype":"m.text"},"ts":1560263349000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: https://github.com/heycam/webidl/issues/76 might be somewhat interesting","msgtype":"m.text"},"ts":1560263354000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: for more involved cases","msgtype":"m.text"},"ts":1560263360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ohh cheers!","msgtype":"m.text"},"ts":1560263432000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Domenic: on https://github.com/tkent-google/std-switch/pull/17 - I feel like I have a question that a) feels like it requires a bit to articulate b) probably doesn't belong there - I simply asked there because the text in that made me think of it...","msgtype":"m.text"},"ts":1560293419000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"do you think maybe I could send you some text and you could possibly direct me to a productive/appropriate place to ask it?","msgtype":"m.text"},"ts":1560293458000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"bkardell: sure, happy to email.","msgtype":"m.text"},"ts":1560294753000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: re https://github.com/whatwg/html/issues/3989, I'm having some trouble understanding how about:srcdoc fits into the override URL issue. does adding back override URL fix the srcdoc issue, or are they relatively independent but just got inadvertently merged into the same bug?","msgtype":"m.text"},"ts":1560294912000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"TimothyGu: it does seem to have gotten pretty off-topic. But the origin of the merger was https://github.com/whatwg/html/issues/3989#issuecomment-419470921 where bz was mentioning that javascript: URLs executed in srcdoc documents might inherit the about:srcdoc URL.","msgtype":"m.text"},"ts":1560294982000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ah okay. The recent Chrome navigation cleanups are pretty exciting though","msgtype":"m.text"},"ts":1560295074000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"Domenic: excellent - sent to your domain email.  Very much appreciate it. I am keen to discuss/understand but also not keen to make unhelpful q's in the wrong place","msgtype":"m.text"},"ts":1560295303000,"senderName":"bkardell","senderId":"bkardell@irc"}
]