[
{"content":{"body":"Is the dom manipulation task source guaranteed to only be used in window scopes?","msgtype":"m.text"},"ts":1467877414000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: I'm very skeptical that task sources are actually well organized and used","msgtype":"m.text"},"ts":1467878080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://hsivonen.fi/rs/encoding_rs/ in case you have comments on the API","msgtype":"m.text"},"ts":1467889095000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: looks pretty good","msgtype":"m.text"},"ts":1467889379000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: I have a large backlog of standard issues so still need to solve layering between HTML and Encoding","msgtype":"m.text"},"ts":1467889435000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: but from your feedback that should not change much API-wise","msgtype":"m.text"},"ts":1467889467000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, that wouldn't change this API in practice","msgtype":"m.text"},"ts":1467889882000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I like the introduction too","msgtype":"m.text"},"ts":1467889970000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: the one thing that is a little weird is that you stress UTF-16 is important for Gecko, but you also don't want to invest in perf there","msgtype":"m.text"},"ts":1467890129000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: it seems for integration with Gecko and the OS, UTF-16 perf is important, even though it's ASCII-incompatible and Web-wise uninteresting","msgtype":"m.text"},"ts":1467890177000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"are there any articles on Custom Elements v1 that provide some guidance/interpretation/... on top of the spec? all I can find are v0 write-ups","msgtype":"m.text"},"ts":1467891585000,"senderName":"FND","senderId":"FND@irc"},
{"content":{"body":"(e.g. I seem to recall there was a flag to activate v1 in Chrome, but can't seem to find it)","msgtype":"m.text"},"ts":1467891629000,"senderName":"FND","senderId":"FND@irc"},
{"content":{"body":"FND: http://hayato.io/2016/shadowdomv1/","msgtype":"m.text"},"ts":1467892049000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks - but that doesn't seem to cover Custom Elements?","msgtype":"m.text"},"ts":1467892185000,"senderName":"FND","senderId":"FND@irc"},
{"content":{"body":"Doh, not sure there's an equivalent","msgtype":"m.text"},"ts":1467892433000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"bummer - it seems a bit tricky to get started if you're not privy to the face-to-face discussions","msgtype":"m.text"},"ts":1467892561000,"senderName":"FND","senderId":"FND@irc"},
{"content":{"body":"FND: HTML Standard has examples","msgtype":"m.text"},"ts":1467893005000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"FND: most discussion is on GitHub, but no summery yet","msgtype":"m.text"},"ts":1467893046000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"FND: also don't think anyone is shipping yet","msgtype":"m.text"},"ts":1467893068000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, that's fair - I wasn't really complaining, just pointing out that it feels a bit weird at the moment","msgtype":"m.text"},"ts":1467893097000,"senderName":"FND","senderId":"FND@irc"},
{"content":{"body":"so I'll probably stick with v0 for now and port when the v1 ecosystem is a bit more advanced","msgtype":"m.text"},"ts":1467893114000,"senderName":"FND","senderId":"FND@irc"},
{"content":{"body":"The IndexedDB spec makes me sad.","msgtype":"m.text"},"ts":1467893252000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"It seems quite hand-wavy on the task queuing front.","msgtype":"m.text"},"ts":1467893261000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I mean I don't want to invest in the perf of UTF-16 as a network-facing encoding","msgtype":"m.text"},"ts":1467903477000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: I do want to invest in the perf of UTF-16 as the in-RAM encoding","msgtype":"m.text"},"ts":1467903492000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: I guess I will need to clarify that","msgtype":"m.text"},"ts":1467903501000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: that makes sense, just adding \"unless it helps the browser case\" is probably sufficient","msgtype":"m.text"},"ts":1467903552000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"UTF-16 as a sequence of u16 needs perf. UTF-16 as a sequence of u8 doesn't","msgtype":"m.text"},"ts":1467903595000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: in practice, I mean that I'm not going to write an SSE2 fast path for ASCII for UTF-16BE, UTF-16LE or ISO-2022-JP","msgtype":"m.text"},"ts":1467903700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I do intend to write SSE2 acceleration from ASCII to in-RAM UTF-16 Basic Latin","msgtype":"m.text"},"ts":1467903735000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"which will be reusable across the ASCII-compatible encodings","msgtype":"m.text"},"ts":1467903777000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: do we use SIMD today?","msgtype":"m.text"},"ts":1467903778000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: only to accelerate ASCII to Basic Latin when decoding UTF-8","msgtype":"m.text"},"ts":1467903798000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but not for the other ASCII-compatible encodings","msgtype":"m.text"},"ts":1467903809000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the old decoders aren't well-designed enough for the acceleration to generalize","msgtype":"m.text"},"ts":1467903858000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"which is one reason to do a full rewrite","msgtype":"m.text"},"ts":1467903901000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: SIMD doesn't make sense for variable-width?","msgtype":"m.text"},"ts":1467903977000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess the simultaneous processing doesn't really work anymore at that point","msgtype":"m.text"},"ts":1467904009000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it might, but let's start with parity with the old UTF-8 decoder, which accelerates ASCII only","msgtype":"m.text"},"ts":1467904030000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"there exist UTF-8 decoders that use SIMD for more, but they aren't suitably licensed, so I haven't looked at the details","msgtype":"m.text"},"ts":1467904069000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: https://woboq.com/blog/utf-8-processing-using-simd.html has some analysis on different strategies","msgtype":"m.text"},"ts":1467904480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Am I reading it right- https://notifications.spec.whatwg.org/#constructors step #2 means Notifications can not be launched from a ServiceWorker?","msgtype":"m.text"},"ts":1467905233000,"senderName":"rektide","senderId":"rektide@irc"},
{"content":{"body":"I was intending to make a small app to set a \"look away from screen\" reminder for myself, and was hoping I could implement the app chiefly as a service worker that pops up a notification","msgtype":"m.text"},"ts":1467905287000,"senderName":"rektide","senderId":"rektide@irc"},
{"content":{"body":"rektide: just use showNotification","msgtype":"m.text"},"ts":1467907125000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: IIRC that one is LGPL","msgtype":"m.text"},"ts":1467912948000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: also, it uses more than just SSE2 and Rust is currently bad at using intruction set extensions conditionally depending on the run-time-detected capabilities of the CPU","msgtype":"m.text"},"ts":1467913261000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: you can depend on 2 being available but not 4, or some such?","msgtype":"m.text"},"ts":1467913419000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Anyway, the wins relative to iconv are pretty cool","msgtype":"m.text"},"ts":1467913855000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: i'm pondering if it's possible to display passed assertions in testharness.js in the results table (maybe a new column), but i don't know if it's possible to associate an assertion with a test (other then when it throws)... other than when file_is_test is true","msgtype":"m.text"},"ts":1467926262000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"still could be useful for file_is_test tests","msgtype":"m.text"},"ts":1467927683000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: what's the use of that?","msgtype":"m.text"},"ts":1467929338000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zcorpan: and assertions are always kinda linked to tests insofar as if they fail the test fails","msgtype":"m.text"},"ts":1467929373000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: give some confidence that the assertions have run at all (with async tests it's not obvious)","msgtype":"m.text"},"ts":1467929426000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and see the order the assertions ran in, seems useful for debugging or when writing tests","msgtype":"m.text"},"ts":1467929500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"also https://groups.google.com/a/chromium.org/d/msg/blink-dev/rDKsRjVYsZM/71w4_y6HBQAJ","msgtype":"m.text"},"ts":1467929587000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Does Edge support data: urls?","msgtype":"m.text"},"ts":1467929976000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____,  yep I think so","msgtype":"m.text"},"ts":1467930066000,"senderName":"Jayflux","senderId":"Jayflux@irc"},
{"content":{"body":"anyone with Edge then :)","msgtype":"m.text"},"ts":1467930080000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"want to test something simple","msgtype":"m.text"},"ts":1467930087000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"data:text/html,<input type=\"range\" multiple min=0 max=24 value=0,24 step=1.0>","msgtype":"m.text"},"ts":1467930092000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"does that multiple do anything special","msgtype":"m.text"},"ts":1467930102000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"lol can't paste data URLs in Edge","msgtype":"m.text"},"ts":1467930435000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It does not","msgtype":"m.text"},"ts":1467930450000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think Hixie just added that one day without implementer commitment :-/","msgtype":"m.text"},"ts":1467930472000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"are \"https://foobar.com\" and \"https://foobar.com:443\" supposed to be same-origin or not? Blink thinks they are not same-origin, while chromium outside of blink thinks they are...","msgtype":"m.text"},"ts":1467931408000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"actually, never mind, they both think they are not same-origin, my bug was somewhere else","msgtype":"m.text"},"ts":1467931454000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"no, scratch that, it does have that inconsistency...","msgtype":"m.text"},"ts":1467931578000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"or maybe it doesn't matter because in practice you'll never get an explicit port in a url when the port is the default port for the scheme...","msgtype":"m.text"},"ts":1467931913000,"senderName":"Mek","senderId":"Mek@irc"},
{"content":{"body":"I haven't checked against our URL spec reference implementation, but I believe per https://url.spec.whatwg.org/#default-port and its one reference, once parsed those two URLs are supposed to be indistinguishable, which would mean the origin check would call them equal","msgtype":"m.text"},"ts":1467932026000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah, that indeed seems to be the case, thanks","msgtype":"m.text"},"ts":1467932240000,"senderName":"Mek","senderId":"Mek@irc"}
]