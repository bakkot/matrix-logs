[
{"content":{"body":"TabAtkins: if I were to write a piece of software that took (propName, value) pairs and parsed value according to the grammar for the CSS propName (e.g. given propName = \"margin\", parsed value according to `<margin-width>{1,4} | inherit`), where would I find an index of propName => grammar productions?","msgtype":"m.text"},"ts":1462926889000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Nowhere yet. It's something we plan to add to Shepherd.","msgtype":"m.text"},"ts":1462926915000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"dang, ok","msgtype":"m.text"},"ts":1462926940000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://url.spec.whatwg.org/","msgtype":"m.text"},"ts":1462927883000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Specifically, \"The URL Standard defines URLs, domains, IP addresses, the application/x-www-form-urlencoded format, and their API.\"","msgtype":"m.text"},"ts":1462927892000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"What does the URL Standard have to do with domains or IP addresses?","msgtype":"m.text"},"ts":1462927907000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I understand that these are possible inputs for the host field of a URL, but what do they have to do with a URL itself?","msgtype":"m.text"},"ts":1462927941000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"JohnMH: https://url.spec.whatwg.org/#hosts-%28domains-and-ip-addresses%29","msgtype":"m.text"},"ts":1462928530000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: That's not defining domains and IPs, that's using them","msgtype":"m.text"},"ts":1462929791000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Sure look like definitions to me.","msgtype":"m.text"},"ts":1462933479000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: You're referencing RFCs, not defining what a domain or IP is.","msgtype":"m.text"},"ts":1462933627000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It does both.","msgtype":"m.text"},"ts":1462933683000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: If you were to define a domain or IP, you would need to talk about what is and is not valid, why, and best practices.","msgtype":"m.text"},"ts":1462933770000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"And, where it says domains, I assume it means hosts?","msgtype":"m.text"},"ts":1462933784000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"No a host is a distinct definition; scroll down a bit.","msgtype":"m.text"},"ts":1462935632000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(In general it seems like a lot of the things you're asking about are answered after scrolling down.)","msgtype":"m.text"},"ts":1462935706000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: Are you referring to Section 3?","msgtype":"m.text"},"ts":1462940125000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"That doesn't define a host, it incorrectly references RFCs and reiterates information one would find in those RFCs. A host isn't \"a domain, an IPv4 address, or an IPv6 address.\"","msgtype":"m.text"},"ts":1462940209000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"A host is any hostname or address, not specifically a domain or IP address","msgtype":"m.text"},"ts":1462940230000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"protocol://myhost/ is a valid URL","msgtype":"m.text"},"ts":1462940255000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"protocol:///myhost/ is not, for example","msgtype":"m.text"},"ts":1462940280000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"You keep stating what things \"are\". It's very curious to me why you think your definitions of these terms are more interesting than the definitions in the URL standard.","msgtype":"m.text"},"ts":1462940434000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"These aren't my definitions.","msgtype":"m.text"},"ts":1462940469000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Domenic: Hostnames are first defined here: https://tools.ietf.org/html/rfc952","msgtype":"m.text"},"ts":1462940531000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"You may follow from there to other RFCs","msgtype":"m.text"},"ts":1462940550000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"But why would I want to?","msgtype":"m.text"},"ts":1462940563000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"To have a proper definition of a hostname, which the \"URL Standard\" shouldn't include in the first place","msgtype":"m.text"},"ts":1462940588000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"You keep making statements about how the world \"should\" be, and what is \"proper\". Can you perhaps envision other people might disagree with you on those \"should\"s and \"proper\"s?","msgtype":"m.text"},"ts":1462940621000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"RFCs which everyone has based their definitions on for more than 30 years","msgtype":"m.text"},"ts":1462940667000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Well, clearly not everyone, including some of the most widely-used software on the planet.","msgtype":"m.text"},"ts":1462940684000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That's not true, and you're simply ignoring that fact","msgtype":"m.text"},"ts":1462940730000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I guess I can't do much more to argue against such assertions than say \"no, you're the one saying untrue things and ignoring facts\"","msgtype":"m.text"},"ts":1462940770000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"For example, wget, curl, WinHTTP","msgtype":"m.text"},"ts":1462940772000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"For example, Netscape, IE, Firefox, Edge, Chrome, Safari","msgtype":"m.text"},"ts":1462940783000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(Opera!)","msgtype":"m.text"},"ts":1462940794000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Opera is just based on Chromium, why should it even be considered its' own browser?","msgtype":"m.text"},"ts":1462940812000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I meant Presto Opera","msgtype":"m.text"},"ts":1462940817000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Anyway, bedtime for me; night-night. Can discuss more tomorrow, but hopefully you can see how people might have different perspectives than yours.","msgtype":"m.text"},"ts":1462940845000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I don't see how supporting malformatted URLs is actually something you'd want in any document.","msgtype":"m.text"},"ts":1462940867000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Instead of supporting malformatted URLs, it'd be best to either throw an error at the user or just transparently rewrite it","msgtype":"m.text"},"ts":1462940902000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I don't know why you're only using browsers for these examples, though.","msgtype":"m.text"},"ts":1462940915000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Browsers are far from the only software which use URLs.","msgtype":"m.text"},"ts":1462940924000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"tranparently rewriting it is exactly what is done!","msgtype":"m.text"},"ts":1462941290000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"that is what the process of parsing does","msgtype":"m.text"},"ts":1462941294000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"For example! http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=4182","msgtype":"m.text"},"ts":1462941308000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(look at the \"log:\" output)","msgtype":"m.text"},"ts":1462941325000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"As for why I am using browsers, well, we are in the channel of an organization focused on making browsers better. But it's true that if you had software that did not want to interoperate with browsers at all, then it could use different algorithms for URL processing","msgtype":"m.text"},"ts":1462941377000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I would assume you would not discuss that algorithm in this channel though","msgtype":"m.text"},"ts":1462941389000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I am excited to discover that we may be more in alignment than previously thought, though, with your \"transparent rewrite\" idea.","msgtype":"m.text"},"ts":1462941493000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But I really should sleep.","msgtype":"m.text"},"ts":1462941497000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: But it shouldn't be in any spec to do so","msgtype":"m.text"},"ts":1462941565000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It shouldn't be done, in all honesty","msgtype":"m.text"},"ts":1462941574000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It's only even seen as a good idea for UX","msgtype":"m.text"},"ts":1462941579000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Which is a horrible reason, to do anything.","msgtype":"m.text"},"ts":1462941590000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Ah, now, again, hopefully you can see how there are people in the world---some of them working on very popular software---who disagree with the idea that UX is a horrible reason to do things","msgtype":"m.text"},"ts":1462941611000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"And it might be a good idea for those people to all agree on the details of how to do things, while valuing UX","msgtype":"m.text"},"ts":1462941634000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Those people are, more than likely, working in UX fields","msgtype":"m.text"},"ts":1462941640000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Thus, those people might start writing a standard","msgtype":"m.text"},"ts":1462941643000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"No, sorry, those people are browser engineers!","msgtype":"m.text"},"ts":1462941651000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yes, browser UX?","msgtype":"m.text"},"ts":1462941662000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"No, browser code","msgtype":"m.text"},"ts":1462941667000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That can easily be the same thing.","msgtype":"m.text"},"ts":1462941677000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Everyone on a browser values UX. The browser is the user's agent, after all","msgtype":"m.text"},"ts":1462941679000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"In any case, browsers need to follow the already defined standards for URLs, it's already well done.","msgtype":"m.text"},"ts":1462941691000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Hmm, well, that would have been a good argument to make in 1985 when timbl was working on Mosaic","msgtype":"m.text"},"ts":1462941716000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(1985 = probably not accurate)","msgtype":"m.text"},"ts":1462941725000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"If any changes need to be made to the actual URL standard, which I'm absolutely agreeing to, then that's entirely different","msgtype":"m.text"},"ts":1462941743000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"but having two different standards for URLs is ridiculous","msgtype":"m.text"},"ts":1462941757000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"But he chose a different path, as did all the others following him. And so it turns out that the former \"standards\" became obsolete, as real-world software was not interested in following them.","msgtype":"m.text"},"ts":1462941767000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Why should browsers follow a different definition of a URL than any other software?","msgtype":"m.text"},"ts":1462941770000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Yeah, that's why the URL standard obsoletes the many (U/I)R(I/N/L) RFCs","msgtype":"m.text"},"ts":1462941787000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"They don't!","msgtype":"m.text"},"ts":1462941790000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Much other software also follows the URL standard, as other software often wants to interoperate with browsers.","msgtype":"m.text"},"ts":1462941810000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But you're using only browsers for examples, and you're saying that other software should just use a \"different algorithm for URL processing\"?","msgtype":"m.text"},"ts":1462941824000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I'm not saying that. I'm saying that, maybe software you write, that doesn't want to interoperate with browsers, could do that","msgtype":"m.text"},"ts":1462941841000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But in general, the software most people write wants to interoperate with browsers, so it follows the URL standard","msgtype":"m.text"},"ts":1462941851000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"We have some pretty extensive test results on this from a while back (URL parsing libraries in various languages stdlibs), let me dig them up for you...","msgtype":"m.text"},"ts":1462941870000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I don't see how the ability to use git://user@host/repo.git as a URL has to do with that software wanting to interoperate with browsers.","msgtype":"m.text"},"ts":1462941870000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It's just another URL.","msgtype":"m.text"},"ts":1462941873000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Right, I think most people want to be able to say \"it's just another URL\" when writing their software, and use a generic URL processing library that works the same in all scenarios. That will be one following the URL standard.","msgtype":"m.text"},"ts":1462941919000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It's the same with ssh://user@host or sftp://user@host, or any other protocol.","msgtype":"m.text"},"ts":1462941933000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Exactly!","msgtype":"m.text"},"ts":1462941936000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"So it's important not to prioritize browsers in this case, as all software should definitely be using the same standard.","msgtype":"m.text"},"ts":1462941954000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Browsers aren't different than any other software, in this regard","msgtype":"m.text"},"ts":1462941968000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Well, we want to prioritize interoperability with browsers, as they are some of the most widely-used URL-consuming software on the planet.","msgtype":"m.text"},"ts":1462942014000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But let me phrase it another way for you:","msgtype":"m.text"},"ts":1462942030000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"We want all software to agree on a single URL definition","msgtype":"m.text"},"ts":1462942038000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"All software is afraid of losing users by making things that used to work, stop working","msgtype":"m.text"},"ts":1462942054000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(Some software might be written by people who think that this is not a big problem.)","msgtype":"m.text"},"ts":1462942069000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"How are we going to get to this world, while still accounting for the fact that nobody wants to lose users?","msgtype":"m.text"},"ts":1462942081000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Probably, by converging on union semantics.","msgtype":"m.text"},"ts":1462942088000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Browsers may be 50% of all URL usage, but that's not important.","msgtype":"m.text"},"ts":1462942090000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I'd guess 95%","msgtype":"m.text"},"ts":1462942097000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'd definitely say less than 60%.","msgtype":"m.text"},"ts":1462942107000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"But that's not the point,","msgtype":"m.text"},"ts":1462942119000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Well, it kind of is","msgtype":"m.text"},"ts":1462942124000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Browsers definitely aren't special here.","msgtype":"m.text"},"ts":1462942132000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"How are we going to reach interop? What is the shortest path? Changing 95% or changing 5%?","msgtype":"m.text"},"ts":1462942133000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Neither","msgtype":"m.text"},"ts":1462942144000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Define a standard. Everyone should follow that standard. Those who don't will either define their own standard, or will fade away.","msgtype":"m.text"},"ts":1462942168000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"(Remember the prevalence of mobile devices, usage of which heavily outweighs that of computers. There it may be more obvious that most URL-processing software is a browser or web view.)","msgtype":"m.text"},"ts":1462942174000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ah, see, no, that does not work.","msgtype":"m.text"},"ts":1462942182000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Nothing \"fades away\"","msgtype":"m.text"},"ts":1462942187000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Standards are not in and of themselves a good thing","msgtype":"m.text"},"ts":1462942192000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"URL processing on Android devices is usually intent-based, not used by the browser at all","msgtype":"m.text"},"ts":1462942199000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"They are good to the extent they *add value for users*","msgtype":"m.text"},"ts":1462942203000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"For example, the Facebook application abuses \"internal\" protocols","msgtype":"m.text"},"ts":1462942220000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"If you define a standard that does not add value for users (for example, by increasing interop) it will not be followed.","msgtype":"m.text"},"ts":1462942254000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Increasing interoperability isn't an issue anymore. URLs have already been defined.","msgtype":"m.text"},"ts":1462942319000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Those two statements are entirely unrelated","msgtype":"m.text"},"ts":1462942333000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"And the first is just not true","msgtype":"m.text"},"ts":1462942335000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"There is no reason not to follow the existing definition of a URL, as we have been for quite a while.","msgtype":"m.text"},"ts":1462942336000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Ah, but there is","msgtype":"m.text"},"ts":1462942341000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Because doing so does not increase value for users","msgtype":"m.text"},"ts":1462942347000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It in fact decreases value in many cases, by making their websites stop working","msgtype":"m.text"},"ts":1462942358000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"No, but you aren't adding anything useful to URLs in the first place.","msgtype":"m.text"},"ts":1462942370000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Sure we are. We're \"adding\" the ability to process URLs that occur in the wild.","msgtype":"m.text"},"ts":1462942388000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That's an implementation issue, not an issue of standardization.","msgtype":"m.text"},"ts":1462942411000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It should return an error, when the URL is erroneous.","msgtype":"m.text"},"ts":1462942425000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"There is no useful data on websites which use multiple forward slashes after protocols, for example.","msgtype":"m.text"},"ts":1462942435000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Hmm, another fundamental disconnect.","msgtype":"m.text"},"ts":1462942452000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That is an invalid URL at that point, so a browser should tell the user that it is invalid.","msgtype":"m.text"},"ts":1462942456000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Implementations need to be interoperable, thus we write standards.","msgtype":"m.text"},"ts":1462942460000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Whereas you seem to think we write standards to define how things \"should\" be.","msgtype":"m.text"},"ts":1462942467000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Telling the user \"this web page is invalid\" does not add value.","msgtype":"m.text"},"ts":1462942479000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Do you remember the 90s when you would get a popup for every JavaScript error?","msgtype":"m.text"},"ts":1462942488000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I miss those","msgtype":"m.text"},"ts":1462942497000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"They told me what sites were trash","msgtype":"m.text"},"ts":1462942502000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"But hopefully you can see how people don't generally think they add user value","msgtype":"m.text"},"ts":1462942519000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Maybe they would to you","msgtype":"m.text"},"ts":1462942524000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That is what a standard is. See: https://www.ietf.org/rfc/rfc1738.txt","msgtype":"m.text"},"ts":1462942534000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"In which case I suggest writing a browser extension that enforces your personal standards on all the websites you visit, so you can find \"trash\"","msgtype":"m.text"},"ts":1462942542000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah, as I said, a fundamental disconnect.","msgtype":"m.text"},"ts":1462942549000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Why write a browser extension? My browser of choice doesn't run JavaScript to begin with.","msgtype":"m.text"},"ts":1462942561000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"So that you can detect URLs that you don't like","msgtype":"m.text"},"ts":1462942575000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Those pages are presumably trash too","msgtype":"m.text"},"ts":1462942580000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I can already see the URLs","msgtype":"m.text"},"ts":1462942582000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"fair enough","msgtype":"m.text"},"ts":1462942591000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Anyway, I think we've discovered our fundamental disconnects here: adding user value and increasing interoperability, versus defining how the world should be.","msgtype":"m.text"},"ts":1462942617000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Hopefully you can see that a lot of software values the former, and thus standards organizations work to accomodate that software in some cases.","msgtype":"m.text"},"ts":1462942639000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"And I suppose this is the difference between this spec and a real standard definition?","msgtype":"m.text"},"ts":1462942660000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I can understand if you value the latter more.","msgtype":"m.text"},"ts":1462942662000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Well, between the URL Standard and a JohnMH \"real standard\", sure.","msgtype":"m.text"},"ts":1462942678000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"No, I'm talking about RFC 1738","msgtype":"m.text"},"ts":1462942709000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"As I said.","msgtype":"m.text"},"ts":1462942716000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I definitely didn't write it","msgtype":"m.text"},"ts":1462942724000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I definitely didn't write iti","msgtype":"m.text"},"ts":1462942729000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Yeah, but you're the one making up categories","msgtype":"m.text"},"ts":1462942745000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"* It's not my definition, it's the generally accepted definition of a URL.","msgtype":"m.text"},"ts":1462942745000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"That's just false","msgtype":"m.text"},"ts":1462942753000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Not at all, Firefox followed it pretty closely until recently","msgtype":"m.text"},"ts":1462942769000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Lynx still does","msgtype":"m.text"},"ts":1462942776000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"EWW does as well, w3m too","msgtype":"m.text"},"ts":1462942784000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"None of those examples has convinced me that it is \"generally accepted\"","msgtype":"m.text"},"ts":1462942797000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It's definitely accepted by JohnMH and software he likes, though. That I'll grant.","msgtype":"m.text"},"ts":1462942820000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Firefox is one of the most popular browsers, easily comparable to Chrome or other Chromium based things.","msgtype":"m.text"},"ts":1462942823000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Yes, and Firefox follows the URL Standard (and is in fact getting closer and closer to a 100% implementation based on Rust!)","msgtype":"m.text"},"ts":1462942839000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yes, Servo..","msgtype":"m.text"},"ts":1462942865000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Right, but they're going to be porting the Servo URL parser into Firefox; very exciting!","msgtype":"m.text"},"ts":1462942891000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That's silly","msgtype":"m.text"},"ts":1462942898000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"In any case","msgtype":"m.text"},"ts":1462942906000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Domenic: You also have popular software such as cURL, wget and even browsers such as w3m, eww and lynx which don't follow this \"standard\", but follow RFC 1738 instead","msgtype":"m.text"},"ts":1462942952000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It's true! Some software doesn't follow the URL Standard, especially software JohnMH likes to cite in his arguments on the internet! I do not contest this!","msgtype":"m.text"},"ts":1462943004000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"No, instead this software follows the defined standard since 1994, RFC 1738","msgtype":"m.text"},"ts":1462943035000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"That RFC has been obsoleted several times over","msgtype":"m.text"},"ts":1462947132000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It didn't seen like JohnMH had any actual problem he was trying to solve","msgtype":"m.text"},"ts":1462948014000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"He was just doing some 386'ing to pass the time I guess","msgtype":"m.text"},"ts":1462948130000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I started writing a reply to some of the URL stuff going on on Twitter but it reads very much like https://annevankesteren.nl/2016/04/network-effects so far","msgtype":"m.text"},"ts":1462967641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"finally found a good reference for when folks say something is \"(in)sane\": http://whatprivilege.com/replacing-crazy-for-ableism-and-preciseness-of-language/","msgtype":"m.emote"},"ts":1462967924000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I haven't read twitter, but I read Daniel's blog post and it seemed like the whole HTML parsing thing again with s/HTML/URL/","msgtype":"m.text"},"ts":1462967938000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It's always a variant on that","msgtype":"m.text"},"ts":1462968019000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Perhaps \"obsoleted\", but every revision was based on 1738, and didn't change much. It definitely didn't change to allow https:///google.com/ to be valid","msgtype":"m.text"},"ts":1462970803000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"JohnMH: I agree with you that it's not important to care about what browsers do and other tools should strictly follow 20-year old RFCs and pretend that browsers don't exist","msgtype":"m.text"},"ts":1462972498000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"because that's clearly better for users","msgtype":"m.text"},"ts":1462972517000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, why would you care about interoperating with browsers?","msgtype":"m.text"},"ts":1462972624000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"MikeSmith, the future is in the Semantic Web anyway","msgtype":"m.text"},"ts":1462972633000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"MikeSmith: What you describe is a UX issue, which shouldn't have anything to do with what a URL is.","msgtype":"m.text"},"ts":1462972775000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"which spec does insertAdjacentHTML live in these days?","msgtype":"m.text"},"ts":1462972948000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"URLs go far beyond the context of browsers, and while I understand that WHATWG is solely browsers, you're presenting a specification which many tools and programs other than browsers have to follow.","msgtype":"m.text"},"ts":1462972975000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"ooh. domparsing.spec.whatwg.org redirects but is not listed on spec.whatwg.org","msgtype":"m.text"},"ts":1462973075000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"confusing","msgtype":"m.text"},"ts":1462973081000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"JohnMH, I don't think this discussion is going to go anywherew","msgtype":"m.text"},"ts":1462973153000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Looks like I've never replied to say whether I was OK with https://bitbucket.org/ms2ger/dom-parsing-and-serialization/commits/a5d7da5a4f86 . I think I am.","msgtype":"m.text"},"ts":1462973425000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"That's good, I suppose :)","msgtype":"m.text"},"ts":1462973473000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Why not? There is definitely a good reason to discuss this, and change would definitely be for the better.","msgtype":"m.text"},"ts":1462973483000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I think that people are going to have a hard time believing that \"change would definitely be for the better\" if you don't consider interoperability amongst implementations, including browsers, to be the goal","msgtype":"m.text"},"ts":1462974198000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Interoperability is definitely a goal; that's the point of standardizing something.","msgtype":"m.text"},"ts":1462974372000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"OK, so the URL spec describes, to the best of our knowledge, what browsers must implement to interoperate with existing content, and with each other","msgtype":"m.text"},"ts":1462974481000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Changes to the URL spec therefore have to meet the bar of \"this change does not reduce the ability to interoperate with existing content or reduce the chance for browsers to interoperate with each other\"","msgtype":"m.text"},"ts":1462974542000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Why might moving Gecko's mapped attributes to show up after non-mapped attributes in the iteration order make the iteration order closer to WebKit/Blink/spec?","msgtype":"m.text"},"ts":1462975173000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I reviewed a patch that changed that but now I can't articulate why that bit of the patch was an improvement","msgtype":"m.text"},"ts":1462975211000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, I don't know why that part was in there either","msgtype":"m.text"},"ts":1462975837000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"jgraham: If it refers only to browsers, perhaps the name shouldn't be URL, but BRL","msgtype":"m.text"},"ts":1462975917000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"And HTML should be BTML?","msgtype":"m.text"},"ts":1462975955000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: lol","msgtype":"m.text"},"ts":1462975975000,"senderName":"halindrome","senderId":"halindrome@irc"},
{"content":{"body":"No, seriously","msgtype":"m.text"},"ts":1462975992000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"No, as HTML is rendered primarily by browsers","msgtype":"m.text"},"ts":1462975995000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"URLs are used primarily by browsers too","msgtype":"m.text"},"ts":1462976006000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"No, and that seems to be a common misconception here.","msgtype":"m.text"},"ts":1462976016000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Ms2ger: well... no.","msgtype":"m.text"},"ts":1462976017000,"senderName":"halindrome","senderId":"halindrome@irc"},
{"content":{"body":"I guess that's where the discussion ends, then","msgtype":"m.text"},"ts":1462976070000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I don't understand why other tools wouldn't want to interoperate with browsers here. For example any kind of web scraper will need to have the same handling of URLs as a browser. If such a scraper wanted to be cURL based it would therefore benefit from cURL and browsers having compatible URL handling.","msgtype":"m.text"},"ts":1462976460000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Ms2ger: thanks. Maybe I should revert the reordering of mapped and non-mapped, then.","msgtype":"m.text"},"ts":1462976683000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: insertion order, pretty please","msgtype":"m.text"},"ts":1462977394000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: I tried to have that discussion with bagder in Mozilla's #necko","msgtype":"m.text"},"ts":1462977516000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: not entirely sure I convinced him, but close enough","msgtype":"m.text"},"ts":1462977587000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: we aren't getting rid of mapped attributes in this iteration","msgtype":"m.text"},"ts":1462978080000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: non-mapped attributes changed to insertion order","msgtype":"m.text"},"ts":1462978092000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: and the mapped ones","msgtype":"m.text"},"ts":1462978108000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: but all mapped ones have to come before all the non-mapped ones or all the non-mapped ones have to come before all the mapped ones","msgtype":"m.text"},"ts":1462978136000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: we used to have mapped before non-mapped. Now we have non-mapped before mapped, and a bug report that this broke at least one JS program.","msgtype":"m.text"},"ts":1462978184000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"It's kinda disappointing that there's still another round of complaining about how the WHATWG does specs.","msgtype":"m.text"},"ts":1462978260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"After all, the track record should be pretty good by now.","msgtype":"m.text"},"ts":1462978286000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: complaining will continue until morale improves","msgtype":"m.text"},"ts":1462978315000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: Yes, but you're saying that as if browsers are the only things that use URLs, and as if browsers are authoritative over other software.","msgtype":"m.text"},"ts":1462978611000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"No I'm not","msgtype":"m.text"},"ts":1462978656000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'm saying that browsers have hard compat requirements dictated by two decades of legacy web content","msgtype":"m.text"},"ts":1462978685000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Those contraints tend to be more stringent than for other pieces of software, so naturally browsers have to have more say in standards that apply to both them and other application classes without the same constraints","msgtype":"m.text"},"ts":1462978798000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Plus, as I pointed out, it's often necessary for applications in other classes to directly interop with web content, so they actually have the same compat constraints","msgtype":"m.text"},"ts":1462978835000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"JohnMH: curl is an example of a non-browser piece of software that tries to be compatible with the Web as written for browsers","msgtype":"m.text"},"ts":1462979231000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it seems to me that it would make sense to implement an URL Standard-conforming URL parser in curl instead of patching things piecemeal","msgtype":"m.text"},"ts":1462979262000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: curl doesn't try to be compatible with the \"Web as written for browsers\", curl reluctantly changes to these non-standard implementations","msgtype":"m.text"},"ts":1462982196000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"curl is not just for HTTP, curl also supports GOPHER, FTP, SFTP and more","msgtype":"m.text"},"ts":1462982214000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I am guenuinely bemused by idea that you would prefer to have a URL implement a weird nonstandard behaviour to get compatibility because the compatible standard wasn't the standard that you had to break to make your implementation useful","msgtype":"m.text"},"ts":1462982811000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The implementation is useful without nonstandard parsing, which should be done by a pre-formatting library, not part of the URL itself","msgtype":"m.text"},"ts":1462983815000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I think the difference between a \"preformatting library + a url parser\" and a \"url parser\" where the aggregate behaviour of both is identical, is one made entirely of self delusion","msgtype":"m.text"},"ts":1462984130000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"this looks like a productive topic","msgtype":"m.text"},"ts":1462984217000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Well, no. It's silly to say that it can't be done properly in practice. It's not hard to just create a function for formatting which is defined separately from something which is meant to define a URL, not the handling of malformed URLs and guessing what the user wants.","msgtype":"m.text"},"ts":1462984274000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"There's no guessing, it's all deterministic","msgtype":"m.text"},"ts":1462984306000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JohnMH: Your problem is that you have a broken definition of what it means to do something properly","msgtype":"m.text"},"ts":1462984316000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: To do something properly is to follow the defined standards, not to change the standards based on implementations.","msgtype":"m.text"},"ts":1462984347000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Nope","msgtype":"m.text"},"ts":1462984359000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Because an implementation decides to do something silly doesn't mean that the standards should be changed to accommodate.","msgtype":"m.text"},"ts":1462984369000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"This isn't *an implementation*. We have been through this. It's what's required to work with two decades of legacy content.","msgtype":"m.text"},"ts":1462984401000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That's literally the opposite of a standard, and it's more like something Microsoft would try to do. (See Microsoft Office \"standards\" and the history behind that for why it doesn't work, even for Microsoft)","msgtype":"m.text"},"ts":1462984410000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It's not \"an implementation\", it's the clients making up 90% of the web","msgtype":"m.text"},"ts":1462984432000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Now I feel we reached the unproductive part of the conversation","msgtype":"m.text"},"ts":1462984435000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"90% of the web isn't HTTP","msgtype":"m.text"},"ts":1462984443000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Wut?","msgtype":"m.text"},"ts":1462984451000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I suppose it won't help if I mention that we went through this exact discussion in 2007 with the HTML parser and the result doesn't look good for your position","msgtype":"m.text"},"ts":1462984473000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Accepting any number of forward slashes isn't going to fix any anything, it's just going to mean that now clients can \"acceptably\" add any given number of forward slashes.","msgtype":"m.text"},"ts":1462984476000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"HTML is different, only browsers use HTML for the most part.","msgtype":"m.text"},"ts":1462984492000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I don't think it means that at all","msgtype":"m.text"},"ts":1462984494000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"99% of HTML use is in browsers","msgtype":"m.text"},"ts":1462984500000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"With URLs, less than 20% of usage is browser based","msgtype":"m.text"},"ts":1462984521000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"[citation needed]","msgtype":"m.text"},"ts":1462984530000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Android, and other platforms, internally use URLs to communicate between applications or processes","msgtype":"m.text"},"ts":1462984550000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"But if it helps we had exactly the same arguments put forward that we weren't considering non-browser implementations for HTML parsing","msgtype":"m.text"},"ts":1462984564000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Yeah, but those are edge cases","msgtype":"m.text"},"ts":1462984578000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"When it comes to URLs, less than 60% (and that's a very liberal guess) of usage is from browsers","msgtype":"m.text"},"ts":1462984600000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"There's even an operating system where literally everything is a URL.","msgtype":"m.text"},"ts":1462984618000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Redox?","msgtype":"m.text"},"ts":1462984625000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I would be interested to know what it uses to parse urls","msgtype":"m.text"},"ts":1462984641000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Yes, Redox","msgtype":"m.text"},"ts":1462984647000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Because it seems totally reasonable that e.g. Android should be able to use the same url parsing library for the browser component and for other components","msgtype":"m.text"},"ts":1462984740000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I died on the inside a bit.","msgtype":"m.text"},"ts":1462984760000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"jgraham: https://github.com/redox-os/redox/blob/master/kernel/fs/url.rs#L31-L43","msgtype":"m.text"},"ts":1462984764000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: haha","msgtype":"m.text"},"ts":1462984784000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Fair to say it uses something that looks almost, but not quite entirely, unlike urls","msgtype":"m.text"},"ts":1462984824000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: A URL is universal, it isn't specific to browsers.","msgtype":"m.text"},"ts":1462984937000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Anyway, a scheme where you have to have multiple URL libraries just so that some applications can reject a subset of inputs for not corresponding to some standard written before we understood the process for achieving compatibility is more complex for everyone","msgtype":"m.text"},"ts":1462984949000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It's hard to understand how you would advocate it from an engineering point of view rather than a \"religious\" point of view (\"RFCs MUST be followed\")","msgtype":"m.text"},"ts":1462985035000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The processing of achieving compatibility is not hard, you just have to agree on a standard and have everyone follow it. From a development standpoint, that's simple. If any party believes anything should be added, write an RFC and see what people think of it","msgtype":"m.text"},"ts":1462985047000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"If people approve of it, sweet! You've got a new standard.","msgtype":"m.text"},"ts":1462985059000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"So what's the problem, given there is the URL standard?","msgtype":"m.text"},"ts":1462985086000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"The URL standard doesn't define a URL, it defines something specific to browsers.","msgtype":"m.text"},"ts":1462985105000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"annevk: I'm trying to understand the process here. Perhaps there isn't any process. But why are we discussing about rootnode issue (https://github.com/whatwg/dom/issues/241) in https://github.com/whatwg/dom/pull/248 ?","msgtype":"m.text"},"ts":1462985118000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"It should either not claim to be about URLs, or should include more broad input than just browsers.","msgtype":"m.text"},"ts":1462985121000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"The RFCs don't define a URL, they define something that nobody uses.","msgtype":"m.text"},"ts":1462985128000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"smaug____: the discussion seemed concluded, so I just want a final okay for the change","msgtype":"m.text"},"ts":1462985156000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: and why that final ok should happen in that pull ?","msgtype":"m.text"},"ts":1462985175000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"How did you quantify that \"with URLs, less than 20% of usage is browser based\", btw?","msgtype":"m.text"},"ts":1462985178000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"and not in the issue","msgtype":"m.text"},"ts":1462985182000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it is really confusing to have the same conversation happening in multiple places","msgtype":"m.text"},"ts":1462985194000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: generally that is how it works when reviewing changes","msgtype":"m.text"},"ts":1462985197000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, I'm not reviewing anything here","msgtype":"m.text"},"ts":1462985274000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"anyhow comments somewhere","msgtype":"m.text"},"ts":1462985283000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"getRootNode() is ok to me","msgtype":"m.text"},"ts":1462985288000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"s/comments/commented/","msgtype":"m.text"},"ts":1462985294000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Starting with RFC 1738 and ending with RFC 3986, we have the definition of a URL as followed by Java SE, and other platforms.","msgtype":"m.text"},"ts":1462985297000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Like... there are over a trillion web pages in existence.","msgtype":"m.text"},"ts":1462985309000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"smaug____: sorry for the confusion","msgtype":"m.text"},"ts":1462985321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So there are presumably 5 trillion, what, RDF databases?","msgtype":"m.text"},"ts":1462985325000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk: I blame github :)","msgtype":"m.text"},"ts":1462985335000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it is a confusing tool","msgtype":"m.text"},"ts":1462985342000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"JohnMH: Where is protocol:///myhost/ valid in the URL standard?","msgtype":"m.text"},"ts":1462985347000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"smaug____: shout it from the rooftops","msgtype":"m.text"},"ts":1462985356000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: Anywhere, but the third / would be part of the host","msgtype":"m.text"},"ts":1462985369000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Which is correct, by the way","msgtype":"m.text"},"ts":1462985376000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"lolwat","msgtype":"m.text"},"ts":1462985381000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"See the file protocol for the only example where you'd want that, though","msgtype":"m.text"},"ts":1462985386000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"In which RFC?","msgtype":"m.text"},"ts":1462985388000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: It says, nowhere, that multiple forward slashes are valid, which is fine because they shouldn't be in the sense you're bringing up.","msgtype":"m.text"},"ts":1462985428000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"has cabanier been here recently","msgtype":"m.text"},"ts":1462985435000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I don't parse that sentence.","msgtype":"m.text"},"ts":1462985454000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"smaug____: haven't seen him","msgtype":"m.text"},"ts":1462985466000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: he's been somewhat active though on GitHub and I think there was an email too some days ago","msgtype":"m.text"},"ts":1462985485000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: Multiple forward slashes = not valid, if parsed everything past the first or second forward slash, depending on the protocol, should be part of the next field in the URL","msgtype":"m.text"},"ts":1462985502000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Where is that stated?","msgtype":"m.text"},"ts":1462985512000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: yeah, would be better to chat here about the hit region stuff than in github","msgtype":"m.text"},"ts":1462985519000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"nox: It's only stated that it's not valid","msgtype":"m.text"},"ts":1462985531000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"yawns.","msgtype":"m.emote"},"ts":1462985548000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"smaug____: guess you'll have to email him","msgtype":"m.text"},"ts":1462985559000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If you have https://googol///t?b#s","msgtype":"m.text"},"ts":1462985560000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"what do you expect that to be parsed as?","msgtype":"m.text"},"ts":1462985566000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"That's not the same at all as what you said before.","msgtype":"m.text"},"ts":1462985575000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"smaug____: I told Domenic I'm willing to work on it, but not this month, too many things going on","msgtype":"m.text"},"ts":1462985579000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's not, but I'm proving the point","msgtype":"m.text"},"ts":1462985581000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"No you are not.","msgtype":"m.text"},"ts":1462985585000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I'd expect the server at googol to receive a request with the path ///t","msgtype":"m.text"},"ts":1462985594000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"You are just talking of something else which is completely unrelated.","msgtype":"m.text"},"ts":1462985599000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"which can be a real path, but it isn't likely","msgtype":"m.text"},"ts":1462985602000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"So, that considered, what's keeping the same from being true of the host field","msgtype":"m.text"},"ts":1462985612000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"annevk: totally understand. I'm somewhat worried that most of hit region stuff in the spec will need to be rewritten, though hopefully simplified significantly","msgtype":"m.text"},"ts":1462985640000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"nox: For example, under similar circumstances let's say we have the url https:////googol/t","msgtype":"m.text"},"ts":1462985686000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"but I could be wrong here. Which is why I'm still trying to figure out why we current design is what it is.","msgtype":"m.text"},"ts":1462985699000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"s/we/the/","msgtype":"m.text"},"ts":1462985708000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I would expect the server at \"/googol\" to receive a request on the path \"t\"","msgtype":"m.text"},"ts":1462985711000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"or \"/t\"","msgtype":"m.text"},"ts":1462985715000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"That's an empty host as per the rules of the HTTPS scheme. So even if you want to use RFC 1738 you are just wrong.","msgtype":"m.text"},"ts":1462985719000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Exactly","msgtype":"m.text"},"ts":1462985738000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"smaug____: you saw https://lists.w3.org/Archives/Public/www-archive/2016Apr/0001.html, right?","msgtype":"m.text"},"ts":1462985745000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So if that's not valid, why do you want to make it valid?","msgtype":"m.text"},"ts":1462985745000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Where is it valid?","msgtype":"m.text"},"ts":1462985759000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"That's exactly what this spec is trying to do, make parsing of /// become valid","msgtype":"m.text"},"ts":1462985775000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"annevk: I did","msgtype":"m.text"},"ts":1462985780000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Where?","msgtype":"m.text"},"ts":1462985784000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: but still wondering why someone ended up as complicated setup as it is now. I hope if the ID stuff is just removed, it all becomes good enough.","msgtype":"m.text"},"ts":1462985877000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"nox: https://url.spec.whatwg.org/#special-authority-ignore-slashes-state","msgtype":"m.text"},"ts":1462986035000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"This is suggesting that any given number of slashes should be accepted, or that a backslash is even a possible character","msgtype":"m.text"},"ts":1462986070000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"\"syntax violation\"","msgtype":"m.text"},"ts":1462986102000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"\"06:28 <JohnMH> Instead of supporting malformatted URLs, it'd be best to either throw an error at the user or just transparently rewrite it\"","msgtype":"m.text"},"ts":1462986137000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"That is a UX issue, though","msgtype":"m.text"},"ts":1462986145000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1462986148000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"not an issue of the definition of a URL","msgtype":"m.text"},"ts":1462986150000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"is out of that discussion.","msgtype":"m.emote"},"ts":1462986153000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"The definition of a URL has nothing to do with how address bars parse input","msgtype":"m.text"},"ts":1462986177000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"correct","msgtype":"m.text"},"ts":1462986185000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Anyone who states otherwise is wrong","msgtype":"m.text"},"ts":1462986205000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So, perhaps, the entire malformed URL parsing section of this spec should be dropped.","msgtype":"m.text"},"ts":1462986248000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"If it was about address bars, certainly","msgtype":"m.text"},"ts":1462986273000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You do realise that it does exactly what you said in my quote, right?","msgtype":"m.text"},"ts":1462986278000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Fortunately however we know not to define UX","msgtype":"m.text"},"ts":1462986293000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Right, but UX has nothing to do with URLs.","msgtype":"m.text"},"ts":1462986314000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"As I said","msgtype":"m.text"},"ts":1462986324000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Parsing malformed URLs is entirely UX,","msgtype":"m.text"},"ts":1462986349000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I sense agreement, yay, time to eat some soup","msgtype":"m.text"},"ts":1462986349000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ah no, that's where you're wrong, but still, gotta eat soup","msgtype":"m.text"},"ts":1462986369000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JohnMH: How so?","msgtype":"m.text"},"ts":1462986375000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"And as I said, the URL standard says that \"https:///\" is a syntax violation, btw.","msgtype":"m.text"},"ts":1462986437000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: Yes, but it also specifies that it is parsed","msgtype":"m.text"},"ts":1462987321000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"JohnMH: The users are the people writing web pages, and the spec describes how to give them a consistent UX.","msgtype":"m.text"},"ts":1462987339000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"URLs have absolutely nothing to do with UX","msgtype":"m.text"},"ts":1462987354000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"You are free to report an error.","msgtype":"m.text"},"ts":1462987359000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JohnMH: If a website author writes <a href=\"https:///my-server.com/\">, that's parsed according to the URL spec, which defines how to give them and the people browsing their site a consistent experience.","msgtype":"m.text"},"ts":1462987459000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"has been reading https://twitter.com/sarahjeong/status/730407790112464897 over dinner, wtf","msgtype":"m.emote"},"ts":1462987507000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That consistent experience should include an error message for malformed URLs?","msgtype":"m.text"},"ts":1462987514000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"(the whole thread)","msgtype":"m.text"},"ts":1462987523000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JohnMH: but that isn't what browsers do today or what browsers did a decade ago, and any change would likely break sites","msgtype":"m.text"},"ts":1462987713000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: It's not an issue if that breaks sites, it will bring better development to the table and websites which don't fix it will just have errors, like NetScape and IE7 would show for them.","msgtype":"m.text"},"ts":1462988013000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"ding ding, we have a loser","msgtype":"m.text"},"ts":1462988038000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"\"compatibility doesn't matter\" in a didscussion about web browsers immediately shows that your ideas aren't based on the real world","msgtype":"m.text"},"ts":1462988080000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"it's an issue if it breaks sites because users simply move to a browser where the site still works, therefore changing behaviour doesn't help","msgtype":"m.text"},"ts":1462988158000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"JohnMH: what's your objective? I wonder if there's some meaningful progress we can make or whether we're just wasting each other's time","msgtype":"m.text"},"ts":1462988177000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Btw it's not like cURL reject https:///google.com/","msgtype":"m.text"},"ts":1462988242000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"It just misparses it in a silly way: curl: (6) Could not resolve host: https","msgtype":"m.text"},"ts":1462988252000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"So cURL's argument isn't really an URL either, it's like a fancy address bar with its own idiosyncrasies.","msgtype":"m.text"},"ts":1462988282000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"curl accepts a valid URL, nothing more","msgtype":"m.text"},"ts":1462988333000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"jgraham: I didn't say \"compatibility doesn't matter\"","msgtype":"m.text"},"ts":1462988359000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It considered https:///google.com/ to be a valid URL then.","msgtype":"m.text"},"ts":1462988367000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"In fact, I said they should all give an error when they run into.. an error.","msgtype":"m.text"},"ts":1462988369000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"nox: No, it expects it to be a valid URL and attempts to process it","msgtype":"m.text"},"ts":1462988383000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"\"curl accepts a valid URL\"","msgtype":"m.text"},"ts":1462988398000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"It accepted https:///google.com/","msgtype":"m.text"},"ts":1462988404000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"If I had https as a valid host on my computer, it would have fetched who knows what.","msgtype":"m.text"},"ts":1462988416000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"http://webcache.googleusercontent.com/search?q=cache:https://daniel.haxx.se/blog/2016/05/11/my-url-isnt-your-url/&num=1&strip=1&vwsrc=0 says curl accepts non-RFC things in nonstandard ways","msgtype":"m.text"},"ts":1462988422000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It was a DNS error, not cURL yelling about it not being an URL.","msgtype":"m.text"},"ts":1462988428000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"It expects a valid URL, it only does extremely basic URL validation","msgtype":"m.text"},"ts":1462988437000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"So it doesn't actually meet any standard","msgtype":"m.text"},"ts":1462988437000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1462988467000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JohnMH: Compatability in this case being compatibility with content","msgtype":"m.text"},"ts":1462988479000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Yes, unfortunately curl has been following browsers in the past few years, that's another issue and I do have an open issue on the curl project","msgtype":"m.text"},"ts":1462988479000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"JohnMH: you're not going to state your objective?","msgtype":"m.text"},"ts":1462988520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: Compatibility is not an excuse to accept extremely malformed URLs, in fact, those people should be punished in the best way we can punish them: Simply not parsing their malformed URLs.","msgtype":"m.text"},"ts":1462988521000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"JohnMH: I'm interested in annevk's question. Do you have a concrete objective here? Complaining about a lack of purity in WHATWG's specifications really is a waste of time.","msgtype":"m.text"},"ts":1462988543000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"See topic.","msgtype":"m.text"},"ts":1462988567000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I'm complaining that WHATWG's URL specification isn't a URL specification at all, but that it is describing what browsers incorrectly call a URL. Either this form should not be dealt with at all, or should be dealt with separately from URLs as I have suggested.","msgtype":"m.text"},"ts":1462988608000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"That \"objective\" is pure theoretical purity","msgtype":"m.text"},"ts":1462988631000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I see, I think I can safely say that neither of those two things will happen","msgtype":"m.text"},"ts":1462988633000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It holds little weight here","msgtype":"m.text"},"ts":1462988639000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"For as long as I remember, URLs have always been a wild wild west.","msgtype":"m.text"},"ts":1462988648000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"jgraham: There is no theoretical purity to it. You define it, you follow it. Any changes go through an acceptance process, and then other people can follow them","msgtype":"m.text"},"ts":1462988680000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"If software doesn't follow the standards, that's an issue","msgtype":"m.text"},"ts":1462988692000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"If they don't for decades, you just change the standard.","msgtype":"m.text"},"ts":1462988705000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JohnMH: Thought experiment. You are a release manager for a browser. An engineer comes to you and proposes changing your URL parser to match the RFCs exactly. After doing some research you find this will break 10% of sites, which will continue to work in competing implementations. What do you do>","msgtype":"m.text"},"ts":1462988730000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/>/?/","msgtype":"m.text"},"ts":1462988736000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That isn't necessarily true. There is nothing that needs changing since RFC 3986","msgtype":"m.text"},"ts":1462988745000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"How do you know that?","msgtype":"m.text"},"ts":1462988777000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"jgraham: I would accept the properly done URL parser, and suggest that the address bar handle weird input you expect from users.","msgtype":"m.text"},"ts":1462988787000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It's not just about the address bar, but about href attributes and whatnot too.","msgtype":"m.text"},"ts":1462988817000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JohnMH: Congratulations, your browser just lost most of its users. You went out of business.","msgtype":"m.text"},"ts":1462988818000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"nox: It may surprise you, but the curl project fetches content from URLs. No, I don't mean https:// and http://, I mean protocol://scheme","msgtype":"m.text"},"ts":1462988822000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"jgraham: Business?","msgtype":"m.text"},"ts":1462988825000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Why was I trying to start a business for a browser?","msgtype":"m.text"},"ts":1462988831000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Sure, browser vendors are businesses","msgtype":"m.text"},"ts":1462988839000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"JohnMH: It parsed https://google.com/ as https being a host.","msgtype":"m.text"},"ts":1462988840000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Err, sorry,","msgtype":"m.text"},"ts":1462988858000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Why wasn't it a free software project, which properly respects users' freedoms and accepts changes from users?","msgtype":"m.text"},"ts":1462988859000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"https:///google.com/","msgtype":"m.text"},"ts":1462988866000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Free software projects can also be businesses and certainly don't accept arbitary changes from users","msgtype":"m.text"},"ts":1462988883000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"There is also the issue that the URL specification says that it defines \"domains, IPv4 addresses and IPv6 addresses\" when in reality it simply references RFCs and says \"That's what X is\"","msgtype":"m.text"},"ts":1462988885000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"jgraham: Not arbitrary, sure. But that's another discussion entirely, and not relevant to this.","msgtype":"m.text"},"ts":1462988908000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Anyway, you have clarly demonstrated that you are working from such a different worldview from the other people here that this conversation is never going to be productive.","msgtype":"m.text"},"ts":1462988943000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I don't know why you even brought up browsers, the majority of software which uses URLs aren't browsers, it's misc software from operating systems to application IPC.","msgtype":"m.text"},"ts":1462988948000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"the majority of software that processes URLs in web pages is web browsers.","msgtype":"m.text"},"ts":1462988970000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"s/is/are/","msgtype":"m.text"},"ts":1462988975000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"In web pages, yes","msgtype":"m.text"},"ts":1462988978000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Sure","msgtype":"m.text"},"ts":1462988978000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"\"If you specify URL without protocol:// prefix, curl will attempt to guess what protocol  you  might want.  It will then default to HTTP but try other protocols based on often-used host name prefixes. For example, for host names starting with \"ftp.\" curl will assume you want to speak FTP.\"","msgtype":"m.text"},"ts":1462988985000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"But URLs are definitely not only used in web pages","msgtype":"m.text"},"ts":1462988988000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"JohnMH: How did you see that most URLs aren't used in browsers?","msgtype":"m.text"},"ts":1462989000000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: The Android operating system, among other pieces of software, use URLs in IPC","msgtype":"m.text"},"ts":1462989020000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"*uses","msgtype":"m.text"},"ts":1462989028000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Given the set of whatever URLs are used in any Android version is fixed,","msgtype":"m.text"},"ts":1462989062000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"and given users can waste their time as long as they want to on their phone browsing the Web,","msgtype":"m.text"},"ts":1462989078000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"aren't they mostly using URLs from the Web even on their Android phone?","msgtype":"m.text"},"ts":1462989089000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"No, definitely not","msgtype":"m.text"},"ts":1462989150000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"every time an application is launched, a URL has been passed to that application","msgtype":"m.text"},"ts":1462989163000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Every time there's a notification or other event, there's a URL attached to that, which contains the package name and payload","msgtype":"m.text"},"ts":1462989185000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"I'm not saying that's a good idea, but it's one of the largest uses of URLs.","msgtype":"m.text"},"ts":1462989199000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Still smaller than users browsing the Web, UAs doing some AJAX crap, and whatever else.","msgtype":"m.text"},"ts":1462989230000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"To avoid confusion, it *might* make sense to clarify that url.spec.whatwg.org covers URLs used on the web, and not URLs used for other purposes. That said, it doesn't seem like Android folks are actually getting confused by this.","msgtype":"m.text"},"ts":1462989294000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"jyasskin: Android uses a different URL library from Chrome?","msgtype":"m.text"},"ts":1462989326000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jyasskin: I thought Google had a Google-wide URL library","msgtype":"m.text"},"ts":1462989342000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I'm not an authority on this, but I suspect that Intent parsing uses a different library from Chrome. I could be totally wrong though.","msgtype":"m.text"},"ts":1462989372000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"I do still wonder if we want to add a strict flag to fail hard on a parse error as with HTML","msgtype":"m.text"},"ts":1462989385000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: yeah, me too, but I haven't really seen it deployed for HTML and I'm not sure what good it does","msgtype":"m.text"},"ts":1462989416000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jyasskin: it'd also surprise me if switching to a Chrome-like library would be incompatible with what they do today","msgtype":"m.text"},"ts":1462989437000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is double-checking my assumption that Intent parsing uses its own library.","msgtype":"m.emote"},"ts":1462989487000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"annevk: IMO it makes more sense for URL given things like IPC which use it, where you probably do want to require validity and fail hard","msgtype":"m.text"},"ts":1462989524000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I suspect that intents use something java based and chrome for android uses something different","msgtype":"m.text"},"ts":1462989530000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"gsnedders: as with markup, it makes more sense to me that any checks are at the model-level, not syntax","msgtype":"m.text"},"ts":1462989556000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jyasskin: If that were the case, the name should be changed from URL to a more fitting name, such as BRL","msgtype":"m.text"},"ts":1462989600000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"annevk: IMO in the IPC case you really want to fail hard than end up with the security consequences of a message going somehwere you weren't expecting","msgtype":"m.text"},"ts":1462989615000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/content/Intent.java#4690 has the intent parsing code. It calls to android.net.Uri to actually parse the URL, which is in https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/net/Uri.java.","msgtype":"m.text"},"ts":1462989969000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"jyasskin: ah right, should have realized since I was reading about the case in court earlier","msgtype":"m.text"},"ts":1462995224000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"lovely Java","msgtype":"m.text"},"ts":1462995242000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jyasskin: Android might want to look into http://galimatias.mola.io/","msgtype":"m.text"},"ts":1462995291000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: But that uses the \"URL Standard\", which is not an actual standard but a set of references and instructions for formatting malformed URLs?","msgtype":"m.text"},"ts":1462997179000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"In fact, there is an obvious issue with the software, one the developer admits to..","msgtype":"m.text"},"ts":1462997259000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Even if one wanted to use the \"URL Standard\", it doesn't parse any scheme other than HTTP and HTTPS","msgtype":"m.text"},"ts":1462997277000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"With everything else, it's just \"scheme data\"","msgtype":"m.text"},"ts":1462997291000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"annevk: Chrome reimplements most things that also exist in \"Google-wide\" code, because we can't have dependencies into the google3 system if we want it to be independently buildable.","msgtype":"m.text"},"ts":1462997345000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk: I don't have much leverage with the Android folks, but also I think gsnedders' point is right, that Intents don't intend or need to parse arbitrary URLs from the web, and should prefer to fail fast because they have security implications. That said, I'm not sure the existing implementation ever fails...","msgtype":"m.text"},"ts":1462999136000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"jyasskin: at that point it might be better to pass around URL records directly","msgtype":"m.text"},"ts":1462999218000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jyasskin: oh well, doesn't really matter","msgtype":"m.text"},"ts":1462999250000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"They have their own legacy problem, in that `new Intent(\"string\")` has worked, and they can't break compatibility with old apps using it, but it's a different legacy problem from the web. :-/","msgtype":"m.text"},"ts":1462999315000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"annevk: the IPC might not allow arbitrary objects","msgtype":"m.text"},"ts":1462999326000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"why are we putting the url standard in scare quotes now","msgtype":"m.text"},"ts":1463000159000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"\"URL\" \"Standard\"","msgtype":"m.text"},"ts":1463001241000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"\"U\" RL","msgtype":"m.text"},"ts":1463001307000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hober: Because the so-called \"URL Standard\" isn't actually a URL standard, it's a standard which claims to define URLs, but only defines browser usage of URLs.","msgtype":"m.text"},"ts":1463001647000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"puts \"hober\" in scare quotes","msgtype":"m.emote"},"ts":1463003200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Father \"Ted\".","msgtype":"m.text"},"ts":1463003231000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"JohnMH: \"With everything else, it's just \"scheme data\"\" the spec changed on that point a few months ago","msgtype":"m.text"},"ts":1463003334000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"SimonSapin: I was talking about the library, not the spec itself.","msgtype":"m.text"},"ts":1463003421000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"SimonSapin: To suggest that library, with such a serious issue, is definitely not the right thing to do, unless an issue has been opened on the project's tracker.","msgtype":"m.text"},"ts":1463003459000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"JohnMH: sorry, I haven’t followed all the discussion. Which library?","msgtype":"m.text"},"ts":1463003595000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"hmm.","msgtype":"m.text"},"ts":1463003602000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"SimonSapin: http://galimatias.mola.io/","msgtype":"m.text"},"ts":1463003688000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"TabAtkins: http://specs.xanthir.com/css-font-display/ doesn't load","msgtype":"m.text"},"ts":1463004872000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"TabAtkins: which https://tabatkins.github.io/specs/css-font-display/ redirects too","msgtype":"m.text"},"ts":1463004889000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: lolwut","msgtype":"m.text"},"ts":1463005561000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: am I being stupid?","msgtype":"m.text"},"ts":1463005641000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"no, i dont' remember why this is happening, is all","msgtype":"m.text"},"ts":1463005652000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Address doesn't resolve","msgtype":"m.text"},"ts":1463005865000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"It's just the subdomain","msgtype":"m.text"},"ts":1463005887000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"yes, i know that the link is broken","msgtype":"m.text"},"ts":1463006010000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"dunno why i have things redirecting","msgtype":"m.text"},"ts":1463006015000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"...huh, because I have a cname file and github pays attention to that now","msgtype":"m.text"},"ts":1463006044000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"don't even remember why i have that","msgtype":"m.text"},"ts":1463006059000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"anyway, deleted","msgtype":"m.text"},"ts":1463006175000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"GitHub has always \"paid attention\" to that","msgtype":"m.text"},"ts":1463006271000,"senderName":"JohnMH","senderId":"JohnMH@irc"},
{"content":{"body":"Exception marked using <span> rather than <code>:","msgtype":"m.text"},"ts":1463009822000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"7344:  throw an <span>\"<code>IndexSizeError</code>\"</span> <code>DOMException</code>. Otherwise, first,","msgtype":"m.text"},"ts":1463009823000,"senderName":"zcorpan","senderId":"zcorpan@irc"}
]