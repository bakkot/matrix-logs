[
{"content":{"body":"MikeSmith: hi","msgtype":"m.text"},"ts":1382666157000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie_: yt?","msgtype":"m.text"},"ts":1382666165000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: vaguely","msgtype":"m.text"},"ts":1382666804000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: did you see my thread about async iframe load?","msgtype":"m.text"},"ts":1382666825000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie_: I'd appreciate your help if could either clarify the currently spec'ed behavior","msgtype":"m.text"},"ts":1382666844000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie_: or if you can change the spec to either one of existing behaviors (except sync behavior webkit/blink browsers exhibit)","msgtype":"m.text"},"ts":1382666867000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"i.e. either IE or FF behavior","msgtype":"m.text"},"ts":1382666877000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"cool, youtube managed to break scrolling in chrome on macs","msgtype":"m.text"},"ts":1382671048000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"on the trackpad, anyway","msgtype":"m.text"},"ts":1382671057000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"rniwa: in whatwg@?","msgtype":"m.text"},"ts":1382671954000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"rniwa: i haven't looked in detail, but as far as i can tell, the last e-mail describes what the spec does?","msgtype":"m.text"},"ts":1382672036000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"rniwa: i'll try to look tomorrow","msgtype":"m.text"},"ts":1382672054000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"rniwa: (remind me when you get online tomorrow so i don't forget!)","msgtype":"m.text"},"ts":1382672095000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: okay, thanks","msgtype":"m.text"},"ts":1382674762000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"was there tests for reflecting attributes somewhere?","msgtype":"m.text"},"ts":1382686202000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"finds https://github.com/w3c/web-platform-tests/blob/master/html/dom/elements-metadata.js","msgtype":"m.emote"},"ts":1382686394000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Right, Aryeh's","msgtype":"m.text"},"ts":1382686445000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"there is no standard for document.charset, right?","msgtype":"m.text"},"ts":1382687193000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"should be document.charsetSet per the Encoding spec?","msgtype":"m.text"},"ts":1382687250000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think the standard is \"drop it\"","msgtype":"m.text"},"ts":1382687288000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"http://w3c-test.org/web-platform-tests/master/dom/historical.html agrees","msgtype":"m.text"},"ts":1382687376000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: ok","msgtype":"m.text"},"ts":1382687438000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but document.charsetSet isn't historical though","msgtype":"m.text"},"ts":1382687467000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it's current per the Encoding spec","msgtype":"m.text"},"ts":1382687480000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"right?","msgtype":"m.text"},"ts":1382687482000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"That's specced in DOM","msgtype":"m.text"},"ts":1382687486000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1382687510000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1382687526000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Np","msgtype":"m.text"},"ts":1382687543000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"any opinions about https://www.w3.org/Bugs/Public/show_bug.cgi?id=23627 Move offsetParent et al from HTMLElement to Element?","msgtype":"m.text"},"ts":1382687750000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: why?","msgtype":"m.text"},"ts":1382688590000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"blink does it","msgtype":"m.text"},"ts":1382688609000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"why does Blink implement them that way?","msgtype":"m.text"},"ts":1382688610000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh, dunno","msgtype":"m.text"},"ts":1382688614000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I wonder if it'd prudent to assume they have good reason..","msgtype":"m.text"},"ts":1382688645000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"maybe someone thought they'd be useful on <svg> elements?","msgtype":"m.text"},"ts":1382688651000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or maybe it was just the way it was implemented way back when","msgtype":"m.text"},"ts":1382688678000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wonder what ie does","msgtype":"m.text"},"ts":1382688695000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it seems like there's probably no downside to moving them","msgtype":"m.text"},"ts":1382688721000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"presto has them on Element too","msgtype":"m.text"},"ts":1382688789000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oops, forgot the doctype when testing ie","msgtype":"m.text"},"ts":1382689014000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"only HTMLElement in ie9/10","msgtype":"m.text"},"ts":1382689206000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk-cloud: ping https://critic.hoppipolla.co.uk/r/300","msgtype":"m.text"},"ts":1382689438000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"what if anything does testharness.js actually use meta@assert for?","msgtype":"m.text"},"ts":1382689769000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"meta@name=assert","msgtype":"m.text"},"ts":1382689882000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"testharness.js itself doesn't use it i think","msgtype":"m.text"},"ts":1382690565000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: ok","msgtype":"m.text"},"ts":1382691106000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so after re-trying to use github for test-review comments I don't think I'll do that any more because it makes me remember why critic is better","msgtype":"m.text"},"ts":1382691395000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"sorry tobie","msgtype":"m.text"},"ts":1382691423000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"critic is better both for the reviewers and for the people submitting tests for review","msgtype":"m.text"},"ts":1382691609000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the built-in github stuff is not a review system, it's a commenting system","msgtype":"m.text"},"ts":1382691633000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: offset* is quite a terrible API, that's why it's defined on HTMLElement","msgtype":"m.text"},"ts":1382695387000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: sorry about the URL tests :/","msgtype":"m.text"},"ts":1382695408000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok","msgtype":"m.text"},"ts":1382695762000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: yeah, I just wish the frontend code for Critic were separated from the backend so that it would be easier to tweak and improve it","msgtype":"m.text"},"ts":1382697536000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: I wish the critic UI sucked less so there'd be no need to spend much time improving it :)","msgtype":"m.text"},"ts":1382697736000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"after a while you stop noticing the UI","msgtype":"m.text"},"ts":1382697875000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Like the matrix","msgtype":"m.text"},"ts":1382697880000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"MikeSmith: heh, yeah","msgtype":"m.text"},"ts":1382697902000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Except that in this case you mostly see \"issue\", \"bug\", \"bad whitespace\"","msgtype":"m.text"},"ts":1382697902000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I'm not quite there yet...","msgtype":"m.text"},"ts":1382697911000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Which is quite a bit less exciting ;)","msgtype":"m.text"},"ts":1382697923000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Issue Smith","msgtype":"m.text"},"ts":1382697933000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"(I agree that the UI could be improved, and that the particular nature of the code makes this less easy to achieve than it could be)","msgtype":"m.text"},"ts":1382697995000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: yeah, I poked through the code to see if I could do something, but all the HTML is pretty much hardcoded","msgtype":"m.text"},"ts":1382698080000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"(but the flip side is that it went from \"doesn't exist\" to \"better than any other code review system we tried at Opera\" in a few months)","msgtype":"m.text"},"ts":1382698092000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah, I'm not dissing it","msgtype":"m.text"},"ts":1382698101000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"just a bit annoyed that I can't tweak it without starting from a major refactoring","msgtype":"m.text"},"ts":1382698131000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Well the HTML is hardcoded in the sense that it uses a kind of code-based HTML generation system that goes in a python file rather than in an external template","msgtype":"m.text"},"ts":1382698204000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"darobin: I think I'm not there yet either. It's like the scene in the Blues Brothers where Jake finds out a noisy train runs just a few feet away right outside to the window of the bed where he needs to sleep, and he says, How often does the train come by? and then Elwood says, So often you won't even notice it.","msgtype":"m.text"},"ts":1382698217000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: lol","msgtype":"m.text"},"ts":1382698247000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"jgraham: that's pretty hardcoded :)","msgtype":"m.text"},"ts":1382698262000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I will grant you that it doesn't have a clear template/controller seperation","msgtype":"m.text"},"ts":1382698427000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ideally, for things that are really apps like this, I prefer to have a backend that does nothing more than provide a JSON interface, and let the frontend handle all of the UI on the client","msgtype":"m.text"},"ts":1382698647000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"basically move everything from PAGES into OPERATIONS","msgtype":"m.text"},"ts":1382698708000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"the one thing it makes harder is extensions","msgtype":"m.text"},"ts":1382698715000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"So someone made a backend that exposed the data as JSON","msgtype":"m.text"},"ts":1382698822000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"*extension","msgtype":"m.text"},"ts":1382698829000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Anyway, I guess if you are serious about working on this you should talk to jl","msgtype":"m.text"},"ts":1382698873000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"oh, you mean that exposes all the things currently done as pages using an API? that's pretty cool","msgtype":"m.text"},"ts":1382698876000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"well, I'm half-serious","msgtype":"m.text"},"ts":1382698890000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I would be serious if I had more bandwidth","msgtype":"m.text"},"ts":1382698896000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I certainly don't have the bandwidth to do a full refactor","msgtype":"m.text"},"ts":1382698910000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"but if there's an extension that at least exposes everything as JSON, I could possibly find the time to hack a UI","msgtype":"m.text"},"ts":1382698937000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Well, like I say you should talk to jl","msgtype":"m.text"},"ts":1382698953000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"where's jl?","msgtype":"m.text"},"ts":1382699004000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"@opera.com","msgtype":"m.text"},"ts":1382699036000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ah, gotcha","msgtype":"m.text"},"ts":1382699040000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"do you know where that extension is?","msgtype":"m.text"},"ts":1382699046000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I don't know if it was ever released anywhere. I don't remember who made it","msgtype":"m.text"},"ts":1382699073000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I think it was Alexey Feldgendler that did the JSON extension","msgtype":"m.text"},"ts":1382699153000,"senderName":"molsson","senderId":"molsson@irc"},
{"content":{"body":"so if the Notification API does end up being exposed to workers, I guess that'd actually make Notification.permission useful for something","msgtype":"m.text"},"ts":1382701888000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for the normal case I still don't see when it's actually ever necessary to directly check .permission rather than just calling requestPermission and having it automatically check the permission state","msgtype":"m.text"},"ts":1382702018000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: about https://www.w3.org/Bugs/Public/show_bug.cgi?id=23627 is there a precedent for moving members from HTMLElement to Element?","msgtype":"m.text"},"ts":1382702909000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yeah, e.g. id","msgtype":"m.text"},"ts":1382702935000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"innerHTML","msgtype":"m.text"},"ts":1382702944000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1382702952000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anybody here build chromium from sources in the last couple days?","msgtype":"m.text"},"ts":1382703782000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I asked this on #chromium but didn't get any response","msgtype":"m.text"},"ts":1382703789000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"gclient sync is failing for me with \"Fetching origin... error: index-pack died of signal 10... fatal: index-pack failed\"","msgtype":"m.text"},"ts":1382703822000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://twitter.com/antimattur/status/393714996951011328 <3","msgtype":"m.text"},"ts":1382704031000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so that explains those glasses that HT wears","msgtype":"m.text"},"ts":1382704304000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"TabAtkins: a comment above the h1 makes bikeshed not read the h1","msgtype":"m.text"},"ts":1382704616000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie_: fffuuu","msgtype":"m.text"},"ts":1382705935000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie_: it's not classList.has; it's classList.contains()","msgtype":"m.text"},"ts":1382705947000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wow, I had no idea that someone had reused the Horse JS engine on mattur","msgtype":"m.text"},"ts":1382708141000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Pretty sure animattur and mattur are authored by the same person.","msgtype":"m.text"},"ts":1382708279000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: are you able to fiddle with repo permissions? i want push access to the FXTF repo","msgtype":"m.text"},"ts":1382708527000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan:","msgtype":"m.text"},"ts":1382708567000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"","msgtype":"m.text"},"ts":1382708584000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"nods","msgtype":"m.emote"},"ts":1382708613000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: yeah I can but away from PC now","msgtype":"m.text"},"ts":1382708621000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok, no rush :-)","msgtype":"m.text"},"ts":1382708637000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"will be beck in about 90 minutes","msgtype":"m.text"},"ts":1382708648000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"bah, clicked a link by mistake, lost my critic review :(","msgtype":"m.text"},"ts":1382709845000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"ah, no, it only half lost the review...","msgtype":"m.text"},"ts":1382710014000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: Which review?","msgtype":"m.text"},"ts":1382710649000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"your big python change","msgtype":"m.text"},"ts":1382710718000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"and mostly sputtering at critic :)","msgtype":"m.text"},"ts":1382710793000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"jumping between the list of files and the code view is driving me positively insane","msgtype":"m.text"},"ts":1382710849000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"jgraham: there seem to be quite a few changes in there that aren't related to the functionality","msgtype":"m.text"},"ts":1382710882000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: try now","msgtype":"m.text"},"ts":1382711082000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"darobin: Yeah, for reviews that have a lot of changes that does get pretty annoying","msgtype":"m.text"},"ts":1382711087000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well a lot of files changed","msgtype":"m.text"},"ts":1382711096000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which changes are unrelated?","msgtype":"m.text"},"ts":1382711155000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I made some fixes to tests that were brokwn","msgtype":"m.text"},"ts":1382711155000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I don't know, right now I'm just going through the bits that seem obvious to get them out of the way","msgtype":"m.text"},"ts":1382711277000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I saw some fixes that are indeed good fixes, but don't touch PHP->PY in any way","msgtype":"m.text"},"ts":1382711292000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I mean, it's great that you're fixing tests too, but it would make a large review like that easier if you did so separately :)","msgtype":"m.text"},"ts":1382711333000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"also, some files seem to have seen only white space change","msgtype":"m.text"},"ts":1382711348000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: Yeah, but it would also have been a nightmare to actually make the changes :)","msgtype":"m.text"},"ts":1382711378000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"fair enough, I'm not complaining, just bitching because I'm getting seasick from all the scrolling critic is putting me through","msgtype":"m.text"},"ts":1382711412000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I wish the code view just opened under the file, or at least that there were a link back to the position in the list","msgtype":"m.text"},"ts":1382711437000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"The errors I fixed were spotted because I was running the tests which required the changes needed to run the tests","msgtype":"m.text"},"ts":1382711441000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Yes, I totally agree","msgtype":"m.text"},"ts":1382711455000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ffff i need FileSaver","msgtype":"m.text"},"ts":1382711516000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"jgraham: what is utils.js's token() used for?","msgtype":"m.text"},"ts":1382711517000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"oh, it's a uuid generator","msgtype":"m.text"},"ts":1382711532000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: Yes","msgtype":"m.text"},"ts":1382711536000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It's needed for the stash stuff","msgtype":"m.text"},"ts":1382711543000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"You have to pass in a uuid","msgtype":"m.text"},"ts":1382711550000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(as they key)","msgtype":"m.text"},"ts":1382711557000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"darobin: Checking things are per-spec isn't really in the spirit of testing :)","msgtype":"m.text"},"ts":1382711846000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"heh, aw snap'd chrome with a data: url","msgtype":"m.text"},"ts":1382711905000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"jgraham, eh?","msgtype":"m.text"},"ts":1382711914000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"jgraham: wait, what?","msgtype":"m.text"},"ts":1382712123000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Oh, I see that sentence didn't make sense outside my head","msgtype":"m.text"},"ts":1382712154000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It did make sense there?","msgtype":"m.text"},"ts":1382712170000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I mean only allowing spec-conformant input as part of tets isn't really in the spirit of testing","msgtype":"m.text"},"ts":1382712186000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Yes, but that's not what you said ;)","msgtype":"m.text"},"ts":1382712236000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"c.f. http://critic.hoppipolla.co.uk/showcomment?chain=653","msgtype":"m.text"},"ts":1382712237000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well it is if you assume that \"things\" are \"inputs\"","msgtype":"m.text"},"ts":1382712261000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Maybe","msgtype":"m.text"},"ts":1382712283000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Anyway, to distract you from my inability to form a coherent sentence http://hoppipolla.co.uk/410/coverage/","msgtype":"m.text"},"ts":1382712388000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Might be the coverage from running all the web-platform-tests","msgtype":"m.text"},"ts":1382712404000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: oh, that","msgtype":"m.text"},"ts":1382712439000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"jgraham: that's why I phrased it as a question (admittedly, that could have been clearer outside my head, too)","msgtype":"m.text"},"ts":1382712463000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"jgraham, that sucks :)","msgtype":"m.text"},"ts":1382712479000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(obviously most of this data is not useful. Would be good to figure out what the right set of files/modules to include would be)","msgtype":"m.text"},"ts":1382712485000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"if it's meant to be a friendly helper that gives you a redirect when you need one, then it should test that you're asking for something sensible","msgtype":"m.text"},"ts":1382712499000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"but if it's meant to be a nasty thing that checks you're not doing stupid stuff on redirects, then indeed it should just do whatever :)","msgtype":"m.text"},"ts":1382712522000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I just couldn't figure out which just from looking at it","msgtype":"m.text"},"ts":1382712534000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I think it's OK for it to have sharp edges","msgtype":"m.text"},"ts":1382712551000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Also implausible","msgtype":"m.text"},"ts":1382712562000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"jgraham: rofl, I love what you did with the red there","msgtype":"m.text"},"ts":1382712566000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"No tests that get htmlelement.title?","msgtype":"m.text"},"ts":1382712580000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"jgraham, does that include the reflection tests?","msgtype":"m.text"},"ts":1382712611000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Hmm. did I mention that I only just generated this data","msgtype":"m.text"},"ts":1382712620000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"And haven't looked at it yet :)","msgtype":"m.text"},"ts":1382712629000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham, well, I don't believe what I see ;)","msgtype":"m.text"},"ts":1382712642000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"And might well have some it wrong :)","msgtype":"m.text"},"ts":1382712651000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It should in theory have included everything. But maybe gcov gets upset with multiple processes writing the files at the same time?","msgtype":"m.text"},"ts":1382712823000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie_: works, ta!","msgtype":"m.text"},"ts":1382712901000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That seems plausible","msgtype":"m.text"},"ts":1382712902000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"It does. Sadly it takes an hour to run all the tests one at a time","msgtype":"m.text"},"ts":1382712945000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But I guess I'm not going anywhere for the next hour!","msgtype":"m.text"},"ts":1382712945000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"darobin: https://critic.hoppipolla.co.uk/showcomment?chain=653 you don't wanna do that","msgtype":"m.text"},"ts":1382713064000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: e.g. you want to test 702 with a Location header and observe it not following the redirect","msgtype":"m.text"},"ts":1382713248000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, so I think that the issue about needing a docstring is fair","msgtype":"m.text"},"ts":1382713352000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'm pretty sure it won't be too taxing for your coding ability","msgtype":"m.text"},"ts":1382713385000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"heh, according to Critic 32% done, 67% remaining — gotta love computers","msgtype":"m.text"},"ts":1382713417000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"It may be philosophical. Nothing is ever _done_.","msgtype":"m.text"},"ts":1382713468000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"It's quite fun when it decides something is 99.999% done","msgtype":"m.text"},"ts":1382713489000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"In my experience, those reviews never are :)","msgtype":"m.text"},"ts":1382713503000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"darobin: Thanks for all your review btw","msgtype":"m.text"},"ts":1382714123000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: no worries, thanks for coding it up in the first place","msgtype":"m.text"},"ts":1382714678000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I can tell you had a blast updating the websockets tests","msgtype":"m.text"},"ts":1382714686000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"If you say, return all of list X with each of X separated by Y. Does that imply you return nothing if X is empty?","msgtype":"m.text"},"ts":1382715234000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Sure","msgtype":"m.text"},"ts":1382715301000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Well I guess that's what it said today, so I'll go with that for now.","msgtype":"m.text"},"ts":1382715308000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looks around for zcorpan","msgtype":"m.emote"},"ts":1382715818000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://dvcs.w3.org/hg/xhr looks kinda scary","msgtype":"m.text"},"ts":1382715861000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: any chance the description field for XHR can also mention xhr.spec.whatwg.org?","msgtype":"m.text"},"ts":1382715916000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"Initial commit for Level 1.\"","msgtype":"m.text"},"ts":1382715925000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: sure","msgtype":"m.text"},"ts":1382715995000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: seems you might also want to fix the owner of that dvcs.w3.org component if you care","msgtype":"m.text"},"ts":1382716122000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"will do","msgtype":"m.text"},"ts":1382716133000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: check the description now","msgtype":"m.text"},"ts":1382716361000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that probably won't get me in any trouble","msgtype":"m.text"},"ts":1382716376000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"good thing we didn't have this conversation on a public channel where somebody could point plh to the logs when they complain","msgtype":"m.text"},"ts":1382716421000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will change the owner part now","msgtype":"m.emote"},"ts":1382716456000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Interesting","msgtype":"m.text"},"ts":1382716478000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"\"an all-sing, all-dance script of amazingness\" https://groups.google.com/a/chromium.org/d/msg/blink-dev/fnWX8n6JrTg/iCwZ8mmOBdUJ","msgtype":"m.text"},"ts":1382717525000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"So in particular https://dvcs.w3.org/hg/xhr seems to now have descended into monkey patching hell where they take some fixes and not others and don't even discuss that on the list","msgtype":"m.text"},"ts":1382717657000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Woah","msgtype":"m.text"},"ts":1382717736000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Is Dirke not on public-test-infra?","msgtype":"m.text"},"ts":1382717749000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: he is","msgtype":"m.text"},"ts":1382718031000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"at least his e-mail address is","msgtype":"m.text"},"ts":1382718048000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"@chromium.org","msgtype":"m.text"},"ts":1382718054000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Interesting","msgtype":"m.text"},"ts":1382718219000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: oh I guess you're reading the blink-dev thread","msgtype":"m.text"},"ts":1382718219000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: Yes","msgtype":"m.text"},"ts":1382718225000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"mention of PHO","msgtype":"m.text"},"ts":1382718228000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Although I now have a read/write relationship with it","msgtype":"m.text"},"ts":1382718238000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"aka PHP","msgtype":"m.text"},"ts":1382718240000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"jgraham: time to use the write function :-)","msgtype":"m.text"},"ts":1382718269000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh you did","msgtype":"m.text"},"ts":1382718293000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Yes","msgtype":"m.text"},"ts":1382718320000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But it's nice to know that you got it","msgtype":"m.text"},"ts":1382718329000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I don't really trust Google Groups","msgtype":"m.text"},"ts":1382718339000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/ Groups/","msgtype":"m.text"},"ts":1382718350000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I got it, via email","msgtype":"m.text"},"ts":1382718356000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"speaking of mailing lists, for following Web-platform-related work in Gecko, what lists might should I be on along with dev-platform⊙lmo?","msgtype":"m.text"},"ts":1382718489000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"There's some smaller ones... m.d.t.layout, perhaps","msgtype":"m.text"},"ts":1382718529000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Maybe m.d.servo","msgtype":"m.text"},"ts":1382718573000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: ok","msgtype":"m.text"},"ts":1382718726000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I wish dev.platform was a bit more focused","msgtype":"m.text"},"ts":1382718835000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it does seem to cover a lot more ground than other browser-engine -dev lists","msgtype":"m.text"},"ts":1382718965000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not that it's uninteresting","msgtype":"m.text"},"ts":1382719003000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Here's the spec:","msgtype":"m.text"},"ts":1382719464000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"http://www.w3.org/TR/xhtml-modularization/abstract_modules.html#s_targetmodule","msgtype":"m.text"},"ts":1382719464000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"With quote marks around it, of course","msgtype":"m.text"},"ts":1382719483000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/public-html-media/2013Mar/0067.html \"W3C web platform\" oh god","msgtype":"m.text"},"ts":1382720283000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think it's time to go home","msgtype":"m.text"},"ts":1382720286000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i really hate that encrypted content is called premium content","msgtype":"m.text"},"ts":1382720455000,"senderName":"Jasper","senderId":"Jasper@irc"},
{"content":{"body":"like, I don't really care about EME that much. it's a necessary evil imo. but \"premium content\" just pushes my buttons","msgtype":"m.text"},"ts":1382720470000,"senderName":"Jasper","senderId":"Jasper@irc"},
{"content":{"body":"i think every single term that people have come up with press someone's buttons","msgtype":"m.text"},"ts":1382720514000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"so it's best not to bikeshed it too much","msgtype":"m.text"},"ts":1382720522000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"yeah, that's true","msgtype":"m.text"},"ts":1382720543000,"senderName":"Jasper","senderId":"Jasper@irc"},
{"content":{"body":"Well, in this case \"Premium Content\" is basically advertising from netflix","msgtype":"m.text"},"ts":1382720549000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"not trying to change anything, just sort of ranting off-topic","msgtype":"m.text"},"ts":1382720558000,"senderName":"Jasper","senderId":"Jasper@irc"},
{"content":{"body":"Giving web platform gets qualifiers seems way worse... Anyway...","msgtype":"m.text"},"ts":1382720614000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"s/gets//","msgtype":"m.text"},"ts":1382720619000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think that was intended to have the opposite effect :)","msgtype":"m.text"},"ts":1382720676000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"the VSOP Web Platform","msgtype":"m.text"},"ts":1382720682000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"aged 20 years","msgtype":"m.text"},"ts":1382720690000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"enterprise web-scale platforce","msgtype":"m.text"},"ts":1382720714000,"senderName":"Jasper","senderId":"Jasper@irc"},
{"content":{"body":"XO is where it's at MikeSmith","msgtype":"m.text"},"ts":1382720718000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well I drink Old Crow and like it","msgtype":"m.text"},"ts":1382720742000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Nothing to do with the Vienna Symphonic Orchestra Project then?","msgtype":"m.text"},"ts":1382720757000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"brandy confuses me","msgtype":"m.text"},"ts":1382720785000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it has everything to do with Vienna Symphonic Orchestra Project, jgraham","msgtype":"m.text"},"ts":1382720820000,"senderName":"Jasper","senderId":"Jasper@irc"},
{"content":{"body":"long earthquake here","msgtype":"m.text"},"ts":1382721147000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"seems to be getting stronger, oddly","msgtype":"m.text"},"ts":1382721162000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: :(","msgtype":"m.text"},"ts":1382721162000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"http://quake.twiple.jp/quake/view/20131026021102","msgtype":"m.text"},"ts":1382721218000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"7.3 it seems","msgtype":"m.text"},"ts":1382721227000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"up in Fukushima","msgtype":"m.text"},"ts":1382721239000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Hixie_: ping","msgtype":"m.text"},"ts":1382722853000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"jgraham: ping","msgtype":"m.text"},"ts":1382722913000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"hides","msgtype":"m.emote"},"ts":1382722948000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: ping :-)","msgtype":"m.text"},"ts":1382722973000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Not here!","msgtype":"m.text"},"ts":1382722981000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: do you know if any spec defines where we should cut off stack traces?","msgtype":"m.text"},"ts":1382723002000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Ms2ger: like, when we spin the event loop, for example","msgtype":"m.text"},"ts":1382723015000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"No idea","msgtype":"m.text"},"ts":1382723024000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"we obviously don't want stack traces to go all the way up","msgtype":"m.text"},"ts":1382723033000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"TC39 wanted to maybe spec stacks, I think","msgtype":"m.text"},"ts":1382723049000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, ^","msgtype":"m.text"},"ts":1382723051000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"bholley: here","msgtype":"m.text"},"ts":1382723063000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: see my question above","msgtype":"m.text"},"ts":1382723069000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: I'd thought that this was specced in terms of the script entry point, but I don't see anything of the sort in the spec","msgtype":"m.text"},"ts":1382723086000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: i don't even know of a spec that requires stack traces in the first place","msgtype":"m.text"},"ts":1382723090000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: (new Error()).stack?","msgtype":"m.text"},"ts":1382723104000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"that's probably specced in JS land","msgtype":"m.text"},"ts":1382723121000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"If it's specced at all by now","msgtype":"m.text"},"ts":1382723128000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hixie_: well, it's our problem now in HTML5","msgtype":"m.text"},"ts":1382723137000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: because we specced an event loop","msgtype":"m.text"},"ts":1382723141000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"how does the event loop affect this?","msgtype":"m.text"},"ts":1382723155000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: well, if you spin an event loop","msgtype":"m.text"},"ts":1382723162000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: does your stack trace see through that?","msgtype":"m.text"},"ts":1382723174000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"yes please!","msgtype":"m.text"},"ts":1382723189000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"long stack traces would be a killer dev tools feature","msgtype":"m.text"},"ts":1382723195000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"bholley: that's defined in the spec","msgtype":"m.text"},"ts":1382723201000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"user-land libraries are emulating that right now using V8 stack trace API and duck-punching every async method to record the stack at call time then stitch it together with subsequent ones.","msgtype":"m.text"},"ts":1382723218000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Hixie_: where?","msgtype":"m.text"},"ts":1382723239000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: spin the event loop actually doesn't do a nested event loop, per the spec. it ends the previous task entirely, saves off its current state in a continuation, and returns back to the original event loop.","msgtype":"m.text"},"ts":1382723248000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: then it queues a task when it's ready to resume, and the task resumes the previous state","msgtype":"m.text"},"ts":1382723265000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: so there's nothing unusual on the stack","msgtype":"m.text"},"ts":1382723272000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/#spin-the-event-loop","msgtype":"m.text"},"ts":1382723276000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: so, per spec, stack traces don't see through nested event loops","msgtype":"m.text"},"ts":1382723286000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1382723290000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"cos there aren't any","msgtype":"m.text"},"ts":1382723293000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"\"spin the event loop\" is really \"queue a continuation\"","msgtype":"m.text"},"ts":1382723315000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: ok. And as far as the spec is concerned, there's no reason stack traces wouldn't see through event dispatches and whatnot?","msgtype":"m.text"},"ts":1382723347000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1382723365000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"i don't see anything in HTML that would say one way or the other","msgtype":"m.text"},"ts":1382723383000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"or DOM (which specs dispatches)","msgtype":"m.text"},"ts":1382723389000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"but","msgtype":"m.text"},"ts":1382723389000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"the real question","msgtype":"m.text"},"ts":1382723392000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"is what the spec for Error.stack is","msgtype":"m.text"},"ts":1382723398000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"and i can't find out","msgtype":"m.text"},"ts":1382723400000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"can't find one, even","msgtype":"m.text"},"ts":1382723405000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"there's a ES strawman","msgtype":"m.text"},"ts":1382723412000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"nothing in http://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-error-prototype-object or anywhere near it","msgtype":"m.text"},"ts":1382723419000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"didn't make the ES6 cutoff, too much edge-case debate IIRC","msgtype":"m.text"},"ts":1382723431000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"http://wiki.ecmascript.org/doku.php?id=strawman:error_stack","msgtype":"m.text"},"ts":1382723437000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: ok. So currently this stuff is unspecced, and we're still working it out?","msgtype":"m.text"},"ts":1382723450000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Ah, good old strawmen","msgtype":"m.text"},"ts":1382723454000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"waves a \"please join the living standard movement\" flag near the ES spec's office","msgtype":"m.emote"},"ts":1382723472000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: yeah, i mean, i don't know what the HTML spec says about it, but I know the ES spec says nothing about error.stack","msgtype":"m.text"},"ts":1382723477000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"bholley: personally i would define it as being only the stack trace from the point where JS thinks it was invoked","msgtype":"m.text"},"ts":1382723502000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: so dispatching an event would reset the stack for the \"child\" \"program\"","msgtype":"m.text"},"ts":1382723517000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: but authors may prefer something else","msgtype":"m.text"},"ts":1382723548000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: i guess if dispatchEvent() can never go cross-origin, it's probably more useful to include it","msgtype":"m.text"},"ts":1382723561000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: as for spinning the event loop... maybe have something hanging off the stack object that says \"and btw, here's the stacks for the various things currently waiting in a \"spin the event loop\" algorithm\"","msgtype":"m.text"},"ts":1382723592000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: though that _can_ be cross-origin","msgtype":"m.text"},"ts":1382723602000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"in user space we've preferred to have separators where the \"async\" boundaries live, e.g. https://github.com/kriskowal/q#long-stack-traces or https://github.com/tlrobinson/long-stack-traces/#usage","msgtype":"m.text"},"ts":1382723607000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Hixie_: that seems logical to me. But doesn't appear to jive with the current behavior of Gecko and Blink. http://bit.ly/16ylHO2","msgtype":"m.text"},"ts":1382723609000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"ah well if there's implementations and they're interoperable, i'd just go with that","msgtype":"m.text"},"ts":1382723628000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"(unless it's crazy)","msgtype":"m.text"},"ts":1382723633000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: well, I'm still trying to sort that part out","msgtype":"m.text"},"ts":1382723644000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Domenic_: as in, formatting separators","msgtype":"m.text"},"ts":1382723703000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Domenic_: I don't think we can cross async boundaries very easily in the platform","msgtype":"m.text"},"ts":1382723718000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: our long-term thinking was that we would just have one single stack","msgtype":"m.text"},"ts":1382723780000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: and filter out cross-origin stuff","msgtype":"m.text"},"ts":1382723785000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"which is probably what Domenic_ wants","msgtype":"m.text"},"ts":1382723806000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Domenic_: would Blink be interested in implementing something like that?","msgtype":"m.text"},"ts":1382723841000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: Part of the problem with Error.stack is some things (Closure used to, maybe still does?) rely on subtly different formats based on UA strings.","msgtype":"m.text"},"ts":1382723994000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ew","msgtype":"m.text"},"ts":1382724006000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"shouldn't it be a structured array of tuples","msgtype":"m.text"},"ts":1382724022000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hah","msgtype":"m.text"},"ts":1382724029000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hixie_: And seem very hard to get changed (i.e., the Opera code still relies on Futhark behaviour, never having gotten changed for Carakan despite having had patches made for it)","msgtype":"m.text"},"ts":1382724039000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"isn't that codebase dead","msgtype":"m.text"},"ts":1382724059000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Closure?","msgtype":"m.text"},"ts":1382724065000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Haha. No.","msgtype":"m.text"},"ts":1382724068000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Still really actively developed.","msgtype":"m.text"},"ts":1382724110000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Not used by so many things internally to Google, AFAIK, though","msgtype":"m.text"},"ts":1382724122000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"\" At Google, it's used in Web Search, Maps, YouTube, Google Plus, Gmail, Docs, Sites, Books, Blogger, Calendar, Picasa Web Albums, and more. \"","msgtype":"m.text"},"ts":1382724132000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"no, opera","msgtype":"m.text"},"ts":1382724161000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Oh, yeah. Now.","msgtype":"m.text"},"ts":1382724177000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: yuck","msgtype":"m.text"},"ts":1382724191000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"gsnedders: would Closure get confused if we started including more stack frames?","msgtype":"m.text"},"ts":1382724206000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"But Carakan shipped in 2010, so three years of that bug being current and unfixed","msgtype":"m.text"},"ts":1382724213000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"bholley: In what UA's codepath?","msgtype":"m.text"},"ts":1382724235000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: well, I'm mostly interested in Gecko","msgtype":"m.text"},"ts":1382724271000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"(Yes, it's horrible that that's even a relevant question.)","msgtype":"m.text"},"ts":1382724281000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"IIRC, Gecko would be fine.","msgtype":"m.text"},"ts":1382724290000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: who _wouldn't_ be fine, if I dare ask?","msgtype":"m.text"},"ts":1382724303000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"The WebKit codepath, I think.","msgtype":"m.text"},"ts":1382724313000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: why?","msgtype":"m.text"},"ts":1382724320000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: Because it does things like length checks.","msgtype":"m.text"},"ts":1382724354000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"In quite bizarre ways.","msgtype":"m.text"},"ts":1382724364000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Disclaimer: I haven't looked at this in about a year, so it could've changed. I wouldn't have much hope, though)","msgtype":"m.text"},"ts":1382724382000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"AFAICT, what practically need be done is standardize SpiderMonkey's Error.stack, as that's what is most relied on.","msgtype":"m.text"},"ts":1382724417000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"However much it sucks. :(","msgtype":"m.text"},"ts":1382724427000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: ok. I'd really like to try including more stack frames","msgtype":"m.text"},"ts":1382724450000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"gsnedders: I guess we'll see","msgtype":"m.text"},"ts":1382724463000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: I'd like to try that too. Not overly hopeful, though. :(","msgtype":"m.text"},"ts":1382724474000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Carakan, FWIW, has both Error.stack (~SpiderMonkey behaviour), and Error.stacktrace (human readable, with more detail)","msgtype":"m.text"},"ts":1382724503000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"bholley: I don't work for Blink, but I hope so. I have heard the Firefox dev tools guys might want to make long stack traces work, and then that could cause competitive pressure like it did for dev tools file blacklisting.","msgtype":"m.text"},"ts":1382725308000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: aren't you doing Web Components at Google?","msgtype":"m.text"},"ts":1382725353000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"One solution generally might be to give up on standardizing error.stack and try standardizing a more-useful array of tuples (error.stackFames or similar).","msgtype":"m.text"},"ts":1382725363000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: or are  you purely at the spec level?","msgtype":"m.text"},"ts":1382725368000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: nope, haha. i work for a consultancy.","msgtype":"m.text"},"ts":1382725375000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"i happen to be doing the es6 promises spec, but just in my spare time.","msgtype":"m.text"},"ts":1382725385000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"oh, you're a different Dominic","msgtype":"m.text"},"ts":1382725403000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1382725404000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1382725406000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"you are not Dominic","msgtype":"m.text"},"ts":1382725408000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"(Cooney)","msgtype":"m.text"},"ts":1382725417000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"ah right","msgtype":"m.text"},"ts":1382725423000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: On the other hand Error.stack isn't going away","msgtype":"m.text"},"ts":1382725641000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: yeah. but if there are compat constraints that *prevent* convergence, e.g. ua-sniffing dependent codepaths, can't imagine what to do to fix that...","msgtype":"m.text"},"ts":1382725707000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Evangelism","msgtype":"m.text"},"ts":1382726015000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i hope rniwa is happy with my e-mail","msgtype":"m.text"},"ts":1382726560000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: We should really avoid mested event loops in servo. No good ever came of them","msgtype":"m.text"},"ts":1382736026000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: you mean, design it like the spec does it?","msgtype":"m.text"},"ts":1382736055000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"For example","msgtype":"m.text"},"ts":1382736081000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: that requires a lot of help from the JS engine","msgtype":"m.text"},"ts":1382736090000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"in particualr, being able to pause execution","msgtype":"m.text"},"ts":1382736105000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1382736108000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"the spec makes it sound easy, but it's not","msgtype":"m.text"},"ts":1382736117000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"especially because JS and C++/Rust interleave","msgtype":"m.text"},"ts":1382736135000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"how do you save all of that state without leaving it on the stack?","msgtype":"m.text"},"ts":1382736151000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Everything not-carakan sucks","msgtype":"m.text"},"ts":1382736153000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: how does carakan do it?","msgtype":"m.text"},"ts":1382736165000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"can't type fast enoihh to have a real conversation; using a phone","msgtype":"m.emote"},"ts":1382736218000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"would be impressed if carakan could avoid this problem","msgtype":"m.emote"},"ts":1382736272000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"well opera, even pre carakan could pause the script engine","msgtype":"m.text"},"ts":1382736273000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ah, to process events and be responsive, right?","msgtype":"m.text"},"ts":1382736323000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"I don't remember if it could run different script whilst pausing one","msgtype":"m.text"},"ts":1382736367000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1382736377000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: so how does that work with C++ and JS interleaving?","msgtype":"m.text"},"ts":1382736455000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"but I thought other browsers were at least different to gecko here and msybe simpler","msgtype":"m.text"},"ts":1382736475000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"bholley: I am the wrong person to ask about the exact implementation","msgtype":"m.text"},"ts":1382736573000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"rniwa: did you see my mail?","msgtype":"m.text"},"ts":1382740010000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: i don't know how opera did it exactly, but you can envisage a mode where js execution operates entirely separate from the C++ stack, much like how parsing HTML doesn't use the C++ stack, and where any API that might involve spinning the event loop is implemented as two halves, one of which just queues the other.","msgtype":"m.text"},"ts":1382740108000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: i doubt it would be particularly efficient","msgtype":"m.text"},"ts":1382740122000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: but it's certainly implementable in theory","msgtype":"m.text"},"ts":1382740132000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: but how does JS operate separately from the C++ stack? What happens when the calls interleave?","msgtype":"m.text"},"ts":1382740152000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: you mean like event dispatch?","msgtype":"m.text"},"ts":1382740180000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: or callbacks","msgtype":"m.text"},"ts":1382740208000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: you'd just treat that the same as spinning the event loop, essentially. have the C++ API implemented in a completely interruptible way, so that at the point where it would call the JS, it starts that off, queues itself again (with its internal state) as the thing to run once the script is done, then actually returns.","msgtype":"m.text"},"ts":1382740249000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: (i'm not saying this is a sane way to actually implement a performant UA)","msgtype":"m.text"},"ts":1382740264000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"(or a maintainable one)","msgtype":"m.text"},"ts":1382740272000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"the better way to implement what the spec does would be to use real continuations, in a language that supports those natively.","msgtype":"m.text"},"ts":1382740294000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1382740307000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"so that you could shunt the entire stack, C++ and JS together, into a continuation.","msgtype":"m.text"},"ts":1382740312000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"I don't think rust does","msgtype":"m.text"},"ts":1382740334000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1382740336000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"in practice, i assume most UAs just actually nest the event loop, though that has a whole suit of issues.","msgtype":"m.text"},"ts":1382740337000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: which issues does the spec's approach avoid?","msgtype":"m.text"},"ts":1382740365000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"you never have to worry about whether you have more than one event loop going","msgtype":"m.text"},"ts":1382740381000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"makes it much easier to reason about when things actually run","msgtype":"m.text"},"ts":1382740388000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"also, should it ever be possible for \"spin the event loop\" conditions to return out of order, you don't end up unable to return to the right caller","msgtype":"m.text"},"ts":1382740425000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"also, you avoid your stack getting out of hand","msgtype":"m.text"},"ts":1382740433000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"and you can never return without it costing anything","msgtype":"m.text"},"ts":1382740452000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"just throw the continuation away","msgtype":"m.text"},"ts":1382740463000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"no need to be able to handle \"this is irrelevant, just unwind please\" cases","msgtype":"m.text"},"ts":1382740474000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: I also wanted to talk to you about session history, though maybe this isn't the time","msgtype":"m.text"},"ts":1382740563000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: there's never a good time for talking about session history :-P","msgtype":"m.text"},"ts":1382740613000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: might as well try now :-P","msgtype":"m.text"},"ts":1382740619000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"(unless it's not a good time for you)","msgtype":"m.text"},"ts":1382740626000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: well, I'm concerned that I'm too tired","msgtype":"m.text"},"ts":1382740634000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: but maybe I'll just try a high-level","msgtype":"m.text"},"ts":1382740642000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"you want to be very awake to talk about session history stuff","msgtype":"m.text"},"ts":1382740647000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"it's part of the whole navigation subsystem, which is probably the most complicated part of the spec","msgtype":"m.text"},"ts":1382740659000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: that or Location ;-)","msgtype":"m.text"},"ts":1382740665000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"(but don't worry! we've proven it's interoperable, so we're good! just as the HTMLWG!)","msgtype":"m.text"},"ts":1382740672000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: yes","msgtype":"m.text"},"ts":1382740691000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie_: thanks!","msgtype":"m.text"},"ts":1382740698000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"bholley: well, the nav parts of Location are part of the same thing, and the security parts of Location are definitely not as complicated, they're far more localised","msgtype":"m.text"},"ts":1382740700000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: haven't had a chance to read through hit","msgtype":"m.text"},"ts":1382740707000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: right-o","msgtype":"m.text"},"ts":1382740712000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: but I think your response makes sense","msgtype":"m.text"},"ts":1382740713000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: let me know if i can help further","msgtype":"m.text"},"ts":1382740715000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: will read & respond as needed","msgtype":"m.text"},"ts":1382740719000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Hixie_: yeah, thanks!","msgtype":"m.text"},"ts":1382740721000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: i did find a couple of errors in the spec walking through it, so thanks for asking, even though my answer was basically just \"the spec already says that\" :-)","msgtype":"m.text"},"ts":1382740747000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: so anyway. In Gecko, session history is stored at the top of the BC tree, and is represented as a tree of session history entries, each of which represents a given BC in the tree as it is currently navigated","msgtype":"m.text"},"ts":1382740813000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: whenever anything navigates, we snapshot/clone the entire tree and add that as an entry","msgtype":"m.text"},"ts":1382740845000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: IIUC, the spec's model is quite different. Am I correct?","msgtype":"m.text"},"ts":1382740877000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: i think the spec's model is isomorphic, but it's certainly described very differently","msgtype":"m.text"},"ts":1382740952000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: in the spec, is a browsing context parented to a document, or parented to another browsing context?","msgtype":"m.text"},"ts":1382740992000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: neither, precisely","msgtype":"m.text"},"ts":1382741027000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: nested browsing contexts are, in most cases, parented to an element (<iframe>, <frame>, <object>, and in some edge cases involving SVG, <embed> or <img>), which themselves belong to documents, which belong to browsing contexts.","msgtype":"m.text"},"ts":1382741085000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"sprinkles \"in most cases\" and \"roughly speaking\" througout that sentence","msgtype":"m.emote"},"ts":1382741138000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"throughout","msgtype":"m.text"},"ts":1382741142000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: do session history entries live on the browsing context?","msgtype":"m.text"},"ts":1382741250000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: \"The sequence of Documents in a browsing context is its session history\"","msgtype":"m.text"},"ts":1382741275000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: so this means that, when the UA decides to GC a document, the relevant session history goes away too?","msgtype":"m.text"},"ts":1382741319000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: insufficient detail, please elaborate","msgtype":"m.text"},"ts":1382741347000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: when a document is GC'ed, session history entries relating to frames within that document go away","msgtype":"m.text"},"ts":1382741369000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: session history entries involving that document itself do not","msgtype":"m.text"},"ts":1382741374000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: If the session history is just the list of documents, how does that last part work?","msgtype":"m.text"},"ts":1382741413000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: if the document is GCed, then it's nulled out, right?","msgtype":"m.text"},"ts":1382741435000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: the entries include more information than just the reference to the Document","msgtype":"m.text"},"ts":1382741526000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"bholley: but yeah, the sentence i pasted does make that unclear","msgtype":"m.text"},"ts":1382741536000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"a few sentences later it says \"Each session history entry consists of a URL and optionally a state object, and may in addition have a title, a Document object, form data, a scroll position, and other information associated with it.\"","msgtype":"m.text"},"ts":1382741564000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: ok. So a browsing context has a list of entries, which include both URIs and direct document references","msgtype":"m.text"},"ts":1382741565000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"yeah. traversing the history checks if the document is still alive, and if not, brings a new one up","msgtype":"m.text"},"ts":1382741620000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"(filed a bug on making that contradiction less blatent)","msgtype":"m.text"},"ts":1382741650000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: so, consider  this: http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2569","msgtype":"m.text"},"ts":1382741769000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: (you want rendered view for this one)","msgtype":"m.text"},"ts":1382741787000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"yeah, i was gonna say, live dom viewer with session history, you're a brave man","msgtype":"m.text"},"ts":1382741840000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: basically, we have an outer frame, P. P begins with an inner frame, C, which gets navigated to C'","msgtype":"m.text"},"ts":1382741844000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: then, P gets navigated to P'","msgtype":"m.text"},"ts":1382741851000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1382741860000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"lgtm so far","msgtype":"m.text"},"ts":1382741864000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: in Gecko, hitting back after the P' navigation gives you a C' subframe","msgtype":"m.text"},"ts":1382741876000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"chrome also","msgtype":"m.text"},"ts":1382741881000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"which we explain via the bfcache","msgtype":"m.text"},"ts":1382741889000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: but in the spec, it depends on GC","msgtype":"m.text"},"ts":1382741890000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"yeah, it's true that if we assume the doc got GC'ed (which i guess it did in chrome), the spec doesn't explain this","msgtype":"m.text"},"ts":1382741924000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"having said that, i'd argue this behaviour if the doc _did_ get GC'ed is rather dubious","msgtype":"m.text"},"ts":1382741938000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"because you don't really have a sane way to know how to reconstruct the right state","msgtype":"m.text"},"ts":1382741962000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: well, Gecko does a whole lot of work to do so","msgtype":"m.text"},"ts":1382741974000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"i mean, how do you know which iframe to use?","msgtype":"m.text"},"ts":1382741980000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"it's all one big heuristic","msgtype":"m.text"},"ts":1382741984000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: yep","msgtype":"m.text"},"ts":1382741987000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"votes to kill the heuristic","msgtype":"m.emote"},"ts":1382741994000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: me too, but doing so is not necessarily web compatible","msgtype":"m.text"},"ts":1382742009000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: I mean, implementing the spec is like, 10 times easier than implementing it Gecko-style","msgtype":"m.text"},"ts":1382742025000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"well, the heuristic isn't either, especially in the case of web apps","msgtype":"m.text"},"ts":1382742028000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"web compatible, that is","msgtype":"m.text"},"ts":1382742038000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: the heuristic is totally web-compatible","msgtype":"m.text"},"ts":1382742050000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"i think it's reasonable to do it in the case of the page being static","msgtype":"m.text"},"ts":1382742056000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: Gecko does it. Chrome mostly kinda sorta tries to copy it","msgtype":"m.text"},"ts":1382742061000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"that heuristic has actually broken my pages","msgtype":"m.text"},"ts":1382742067000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"i've had to do all kinds of workarounds to stop it","msgtype":"m.text"},"ts":1382742073000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: sure. But that's your problem as a web author","msgtype":"m.text"},"ts":1382742080000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"i care about web authors :-)","msgtype":"m.text"},"ts":1382742088000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: I know. But I'm saying that you're conflating \"developer-friendly\" with \"web-compatible\"","msgtype":"m.text"},"ts":1382742111000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"well fair enough","msgtype":"m.text"},"ts":1382742118000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: they're two very different concepts","msgtype":"m.text"},"ts":1382742118000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"though i'm sure this breaks web apps that use iframes internally but haven't been tested with the back button","msgtype":"m.text"},"ts":1382742133000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"anyway","msgtype":"m.text"},"ts":1382742136000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: yeah, sure","msgtype":"m.text"},"ts":1382742140000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"i'm happy to spec this if that's where we're going with this","msgtype":"m.text"},"ts":1382742145000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: so, I'm all in favor of the spec","msgtype":"m.text"},"ts":1382742150000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"but i need a detailed precise description of the heuristic","msgtype":"m.text"},"ts":1382742152000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: and I want to try to implement the spec in servo","msgtype":"m.text"},"ts":1382742159000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: but smaug is adamant that Gecko's model is necessary to avoid breaking the web","msgtype":"m.text"},"ts":1382742171000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"bholley: in the case of non-static pages?","msgtype":"m.text"},"ts":1382742185000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: he didn't go into detail. But it sounds like this whole situation is very touchy","msgtype":"m.text"},"ts":1382742207000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"this is certainly a third rail issue","msgtype":"m.text"},"ts":1382742219000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: so anyway. Implementing the spec is very straightforward, so that's what I'm going to do in servo","msgtype":"m.text"},"ts":1382742266000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"basically my view is that in all the cases where you can't tell from script that the docs got GC'ed, i'm all in favour of the browsers pretending the docs weren't GC'ed and bringing everything back. but in the case where there's a way to tell whether or not the doc got GC'ed, e.g. going back is going to rerun some script that creates iframes or whatnot, then the spec model is the only sane option. imho.","msgtype":"m.text"},"ts":1382742297000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"(also, onpageshow)","msgtype":"m.text"},"ts":1382742337000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"oh pretty much any script","msgtype":"m.text"},"ts":1382742373000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"so anyway. The spec might need to change, but at the moment it's the simplest option to implement, and I only want to implement the Gecko setup if it becomes clear that the spec model breaks the web and that servo is going to be shippable modulo this issue","msgtype":"m.text"},"ts":1382742477000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1382742511000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"sounds good","msgtype":"m.text"},"ts":1382742513000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"if you do decide the spec needs to change, i need a description of what it should say","msgtype":"m.text"},"ts":1382742524000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"because i'm at a loss as to how to spec that heuristic","msgtype":"m.text"},"ts":1382742530000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"doesn't look forward to it","msgtype":"m.emote"},"ts":1382742535000,"senderName":"bholley","senderId":"bholley@irc"}
]