[
{"content":{"body":"Lachy: 21:54 < dfltr> Sort of a random question: http://www.whatwg.org/specs/web-apps/current-work/multipage/selectors.html#selector-enabled states that inputs with type=\"hidden\" should be omitted from  :enabled, but currently no browsers support this in their qSA implementations. Is this an in-progress feature or a known issue?","msgtype":"m.text"},"ts":1345191352000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"odinho, I mailed whatwg about that issue 2 months ago. Hixie hasn't addressed it yet.","msgtype":"m.text"},"ts":1345191469000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: Oookay :D","msgtype":"m.text"},"ts":1345191608000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"zcorpan: Did you say you had a tool for minimising SVG?","msgtype":"m.text"},"ts":1345193056000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://simon.html5.org/tools/js/svg-optimizer/","msgtype":"m.text"},"ts":1345193074000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Thanks","msgtype":"m.text"},"ts":1345193090000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"it doesn't perform some obvious optimization like removing useless namespace declarations, metadata, etc, but that's usually simple to do manually","msgtype":"m.text"},"ts":1345193305000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Yeah, it would be nice if it removed inkscape-induced cruft","msgtype":"m.text"},"ts":1345193378000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham, you can try SVG Scour, which I think had removing inkscape cruft in mind","msgtype":"m.text"},"ts":1345193595000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"http://codedread.com/scour/","msgtype":"m.text"},"ts":1345193610000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"heycam: Thanks","msgtype":"m.text"},"ts":1345193677000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I would like to propose the onlick content attribute","msgtype":"m.text"},"ts":1345201370000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Because I seem to be unable to type \"click\"","msgtype":"m.text"},"ts":1345201393000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: propose it on the list","msgtype":"m.text"},"ts":1345201529000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Alternatvely I want a device with a humidity sensor","msgtype":"m.text"},"ts":1345201571000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"*fingers crossed*","msgtype":"m.text"},"ts":1345202108000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1345202276000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"krijnh: hmm?","msgtype":"m.text"},"ts":1345202540000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Almost up!","msgtype":"m.text"},"ts":1345202617000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1345202632000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"nice","msgtype":"m.text"},"ts":1345202642000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://twitter.com/krijnhoetmer/status/236415363259183104","msgtype":"m.text"},"ts":1345202665000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"looks like a case from 1995","msgtype":"m.text"},"ts":1345202787000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Nice wall","msgtype":"m.text"},"ts":1345202800000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"furiously refreshes","msgtype":"m.emote"},"ts":1345202824000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1345202827000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hey, you're working on some bullshit HTML standard from last century, I'm working on a crappy desktop server!","msgtype":"m.text"},"ts":1345202836000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"Stop ignoring the fact XHTML will take over some day!","msgtype":"m.text"},"ts":1345202879000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"ignores krijn instead","msgtype":"m.emote"},"ts":1345202946000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1345202952000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"Me too!","msgtype":"m.text"},"ts":1345202954000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"Ohnoes!","msgtype":"m.text"},"ts":1345202957000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"http://krijnhoetmer.nl/irc-logs/ up again?","msgtype":"m.text"},"ts":1345202987000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"It is","msgtype":"m.text"},"ts":1345203039000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"waves at the peanut gallery","msgtype":"m.emote"},"ts":1345203061000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Is irc.w3.org still relevant?","msgtype":"m.text"},"ts":1345203099000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"Is this topic already old?","msgtype":"m.text"},"ts":1345203136000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"Should I stfu again?","msgtype":"m.text"},"ts":1345203142000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"All that smart stuff I wrote in the down time, noone will ever see it...","msgtype":"m.text"},"ts":1345203178000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"krijnh: you mean #html-wg?","msgtype":"m.text"},"ts":1345203212000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Unless you take donations of logs? :P","msgtype":"m.text"},"ts":1345203212000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"Although I guess i should s/smart/stupid/ and not donate any logs so people see the reality :P","msgtype":"m.text"},"ts":1345203212000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"zcorpan: yeah","msgtype":"m.text"},"ts":1345203233000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"odinho: I could fill up the gaps, yes","msgtype":"m.text"},"ts":1345203257000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"Stevef: there, you can power up my PageRank again via Twitter ;)","msgtype":"m.text"},"ts":1345203451000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"krijn: You realise that you could buy a Raspberry Pi for like 25 USD and it would be better than that thing, right? :p","msgtype":"m.text"},"ts":1345204003000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"No","msgtype":"m.text"},"ts":1345204035000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"It would be smaller and use less electricity. That's better along some axis. I admit that it wouldn't allow you to use floppy disks.","msgtype":"m.text"},"ts":1345204183000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Nor my awesome mIRC logger","msgtype":"m.text"},"ts":1345204258000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"Didn't rniwa implement testharness.js support for webkit?","msgtype":"m.text"},"ts":1345204338000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I thought he did something at least","msgtype":"m.text"},"ts":1345204408000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Oh, did he?","msgtype":"m.text"},"ts":1345204905000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Awesome!","msgtype":"m.text"},"ts":1345204907000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"lol Stevef","msgtype":"m.text"},"ts":1345204989000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"krijn: i like to be obliging","msgtype":"m.text"},"ts":1345205029000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"Some background, for those caring: we had a little second hand clothes shop, an office and a house (where my mother, brother and sister lived), but they had to throw away all of that (high server costs! ;) and start over again somewhere else. Server now is in a new (much smaller) clothes shop, but office and family is gone there. Result: a much slower internet connection in the new place (less usa","msgtype":"m.text"},"ts":1345205334000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"ge). If anyone thinks it's too slow, I'm open for donations :]","msgtype":"m.text"},"ts":1345205334000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"likes http://testsuite.org/","msgtype":"m.emote"},"ts":1345206043000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"krijn, what are the requirements for a host?","msgtype":"m.text"},"ts":1345207827000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Did you say this thing actually runs in mIRC?","msgtype":"m.text"},"ts":1345208708000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"He appears to have said that","msgtype":"m.text"},"ts":1345208780000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":":/","msgtype":"m.text"},"ts":1345208806000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"No wonder.","msgtype":"m.text"},"ts":1345208808000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"krijn is just very, very good at paving cowpaths","msgtype":"m.text"},"ts":1345208914000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"Actually logging IRC doesn't seem to be that hard. krijn's main value proposition is the little yellow markers people can use to stoke up flamewars","msgtype":"m.text"},"ts":1345208923000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"or at least at placing the occasional cobblestone on them","msgtype":"m.text"},"ts":1345208928000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"jgraham: http://krijnhoetmer.nl/irc-logs/whatwg/20120817#l-81 thats BS!","msgtype":"m.text"},"ts":1345209230000,"senderName":"Stevef","senderId":"Stevef@irc"},
{"content":{"body":"jgraham, we currently detect unreliable tests by hand, file bugs on them by hand, add comments to the bugs by hand every time a known-flaky test fails using a special web interface, and then if a test starts failing far too much we disable it indefinitely by editing our test manifests by hand.  And when too many tests fail on a platform, we just completely silence reporting of tests for that platform until someone goes through all the failure","msgtype":"m.text"},"ts":1345211357000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"s and alters all the test manifests to skip the platform.  By hand.","msgtype":"m.text"},"ts":1345211357000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Oh, and our Android test devices like to randomly die during tests, so that on any given test run a few Android runs will usually fail with no explanation.","msgtype":"m.text"},"ts":1345211387000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1345211416000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"When we add a testit is first run 200 times to check that it produces consistent results. If it doesn't it is marked as unstable and the results are ignored for the purposes of regression detection.","msgtype":"m.text"},"ts":1345211501000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Then we can also mark failures in stable tests as non reproducable and query to see which tests are producing too many non reproducable fails","msgtype":"m.text"},"ts":1345211597000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1345216845000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1345217963000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"what's the official stance on presentational attributes in SVG? Are they considered to be good or bad practice now?","msgtype":"m.text"},"ts":1345218017000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"presentational attributes in HTML were deprecated long time ago, will this also happen with SVG for the sake of consistency?","msgtype":"m.text"},"ts":1345218074000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"SVG is an image format, it's inherently presentational","msgtype":"m.text"},"ts":1345218104000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: but it shares a lot of CSS rules with HTML","msgtype":"m.text"},"ts":1345218138000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"that doesn't make it any less an image format","msgtype":"m.text"},"ts":1345218164000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(gotta go)","msgtype":"m.text"},"ts":1345218254000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"jarek: they are still supported, and will be for the foreseeable future. There's nothing wrong with presentational attributes, but if you don't like them, don't use them","msgtype":"m.text"},"ts":1345218299000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"I'm not really convinced that having two ways for doing the same thing is good for the standard","msgtype":"m.text"},"ts":1345218365000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"presentational attributes made sense back when XSLT and SMIL were alive","msgtype":"m.text"},"ts":1345218388000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: you think that deprecating all content using presetanational attributes is better for the standard?","msgtype":"m.text"},"ts":1345218434000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"shepazu: in the longer run, yes","msgtype":"m.text"},"ts":1345218466000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"shepazu: there are many SVG documents that are mixing both types (e.g. files coded by hand and then tweaked in Inkscape)","msgtype":"m.text"},"ts":1345218522000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: this is a pretty philosophical point, and I'm not convinced that it's a problem in practice, nor that the simplistic \"style vs. content\" argument is relevant to SVG","msgtype":"m.text"},"ts":1345218564000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"is this theoretically possible that HTML5+CSS4will eventually support all the features of SVG?","msgtype":"m.text"},"ts":1345219008000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"gradients, transforms and filters are already there","msgtype":"m.text"},"ts":1345219024000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"the biggest missing feature is <path> element","msgtype":"m.text"},"ts":1345219139000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: it's not theoretical… HTML5 already supports all the features of SVG… it's called SVG","msgtype":"m.text"},"ts":1345219141000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"shepazu: all HTML5 does is support for inline SVG element, you still have to work with awkward SVG DOM and use SVG namespaces","msgtype":"m.text"},"ts":1345219255000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"well, SVG2 will solve some of that","msgtype":"m.text"},"ts":1345219281000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"will it be still XML-based?","msgtype":"m.text"},"ts":1345219305000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"anyway, HTML5 is feature-frozen, so it would be some future HTML spec, and I don't think it's likely","msgtype":"m.text"},"ts":1345219323000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"it's markup-based","msgtype":"m.text"},"ts":1345219331000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"later, I have a meeting now","msgtype":"m.text"},"ts":1345219363000,"senderName":"shepazu","senderId":"shepazu@irc"},
{"content":{"body":"shepazu: luckily this channel is about HTML spec which isn't frozen ;)","msgtype":"m.text"},"ts":1345219429000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"What is this \"frozen\" of which you speak?","msgtype":"m.text"},"ts":1345219511000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug____: Your history tests scare me. I look at them, go \"oh, surely everyone's interoperable on that\" and then get 3 different behaviours in three browsers","msgtype":"m.text"},"ts":1345219951000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham, could have got 5","msgtype":"m.text"},"ts":1345220279000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Lachy, odinho re: that input hidden and :enabled issue - was that logged in bugzilla? can we add this testcase/example to it? Test here: http://jsfiddle.net/duHdp/ (from dfltr)","msgtype":"m.text"},"ts":1345221099000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"Hmm, so if I understand the spec correctly, the behaviour of history.go(-1); history.go(1) depends on whether the previous page is in the fast back cache","msgtype":"m.text"},"ts":1345221167000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Um, not quite","msgtype":"m.text"},"ts":1345221221000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But something like that","msgtype":"m.text"},"ts":1345221232000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Oh, no that is an example","msgtype":"m.text"},"ts":1345221247000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Or, maybe I am wrong","msgtype":"m.text"},"ts":1345221289000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Maybe?","msgtype":"m.text"},"ts":1345221300000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Well I am clearly wrong about some things","msgtype":"m.text"},"ts":1345221313000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I think this is one of them","msgtype":"m.text"},"ts":1345221318000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"For some reason I thought that the navigate algorithm cleared out any other history traversal tasks","msgtype":"m.text"},"ts":1345221357000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hmm, maybe it does","msgtype":"m.text"},"ts":1345221398000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Depends what calls \"update the session history with the new page\"","msgtype":"m.text"},"ts":1345221418000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Ah, but this is \"entry update\"","msgtype":"m.text"},"ts":1345221495000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Should probably think somewhere other than IRC","msgtype":"m.text"},"ts":1345221510000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"sicking: do you have a link to the e-mail where you asked for popstate to not fire during load? I thought the spec used to prevent that, and the Mozilla proposal was to switch to firing it always because it was considered really bad to stop links from working while the page was loading some huge image, or something.","msgtype":"m.text"},"ts":1345225643000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: i don't have a link no. Define \"during load\"","msgtype":"m.text"},"ts":1345225718000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: we requested multiple change","msgtype":"m.text"},"ts":1345225730000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"s","msgtype":"m.text"},"ts":1345225732000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: one was to remove the behavior of \"always fire a popstate event when firing a load event\"","msgtype":"m.text"},"ts":1345225753000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: another was to \"allow popstate to fire while the page is loading, I.e. before the load event has fired, when a history traversal happens\"","msgtype":"m.text"},"ts":1345225793000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: the blog post explains it pretty well, no?","msgtype":"m.text"},"ts":1345225962000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: i thought your e-mail just now was requesting that we not fire it while page was loading?","msgtype":"m.text"},"ts":1345226534000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sicking: maybe i misread your e-mail","msgtype":"m.text"},"ts":1345226539000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: i might have been unclear","msgtype":"m.text"},"ts":1345226562000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"\"it's unfortunate if the spec still calls for popstate to be fired during pageload\"","msgtype":"m.text"},"ts":1345226592000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess that can eb read both ways","msgtype":"m.text"},"ts":1345226614000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyway as far as i know the spec exactly matches the requests you (mozilla) made","msgtype":"m.text"},"ts":1345226632000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yeah, i think i read it the other way","msgtype":"m.text"},"ts":1345227127000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: lemme recheck the thread and clarify","msgtype":"m.text"},"ts":1345227135000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: i think he's saying that the spec calls for popstate to automatically fire when the initial \"load\" event fires for a page load. So no state transitions happening other than loading the page","msgtype":"m.text"},"ts":1345227262000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: in fact, i'm quite certain that is what he says given the provided examples","msgtype":"m.text"},"ts":1345227322000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i'll check if his spec quotes are accurate, but if they are the spec doesn't follow the mozilla proposal","msgtype":"m.text"},"ts":1345227365000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i'm not aware of 'popstate' being mentioned anywhere near the 'load' event","msgtype":"m.text"},"ts":1345227392000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they're in different chapters","msgtype":"m.text"},"ts":1345227398000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the only place in the spec that fires popstate is the \"traverse the history\" algorithm, and then only if /state changed/ is true","msgtype":"m.text"},"ts":1345227441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's true when the page is first navigated to, but that's _long_ before 'load' fires","msgtype":"m.text"},"ts":1345227480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(in fact in most UAs I'd expect that to happen before you have any chance of hooking an event handler for it)","msgtype":"m.text"},"ts":1345227556000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(it is guaranteed to be before any script execution, though i guess not before the <body onpopstate> is parsed, so it could theoretically be detected)","msgtype":"m.text"},"ts":1345227610000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: define \"when the page is first navigated to\"","msgtype":"m.text"},"ts":1345227691000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: the mozilla proposal was that popstate only fires when transitioning sessionhistory entries by the current Document doesn't change","msgtype":"m.text"},"ts":1345227722000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"well you definitely have to fire it if you go from doc A at state 1 to doc B and back to doc A at state 2","msgtype":"m.text"},"ts":1345227756000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess we could not fire it when you're going to the document for the first time","msgtype":"m.text"},"ts":1345227769000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how could you go back to doc A at state 2?","msgtype":"m.text"},"ts":1345227790000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"(first navigated = when the Document has no session history entry that it has ever been traversed to)","msgtype":"m.text"},"ts":1345227804000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you left doc A at state 1 to doc B, and then go back, wouldn't you end back at state 1 in doc A?","msgtype":"m.text"},"ts":1345227811000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"not if you go forward or back in the session history by more than one step at a time","msgtype":"m.text"},"ts":1345227826000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, yes","msgtype":"m.text"},"ts":1345227862000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"so if you have three entries in SH: <A, 1> <A, 2> <B, 1>. And then go from first to third, no popstate fires. but if you then go from third to second, popstate does need to fire","msgtype":"m.text"},"ts":1345227907000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1345227929000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"currently, if you click on a link to <C, 1>, it also fires, as soon as the page is shown","msgtype":"m.text"},"ts":1345227946000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we can change that though","msgtype":"m.text"},"ts":1345227951000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but if you have <A, 1> <A, 2> and the user is at the second state and clicks a link to document B then no popstate should fire at any time","msgtype":"m.text"},"ts":1345227958000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"(there's no risk of compat issues since you can barely ever detect it anyway)","msgtype":"m.text"},"ts":1345227963000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, i think we should change that","msgtype":"m.text"},"ts":1345227982000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"currently the spec treats that as if you are going from <B, null> to <B, 1>, which is why it fires the event, fwiw","msgtype":"m.text"},"ts":1345227994000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's unclear what the compat risk is since i don't know how much of the page can be parsed at that time. But gecko already does this, so i'm not too worried about compat risk","msgtype":"m.text"},"ts":1345228037000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"especially for Gecko since we wouldn't change :-)","msgtype":"m.text"},"ts":1345228045000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"and the other browsers ahven't updated to the new model anyway, right?","msgtype":"m.text"},"ts":1345228058000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't think Webkit does what the spec currently or Gecko does though","msgtype":"m.text"},"ts":1345228067000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i thought webkit had implemented the gecko model a long time ago, but apparently they have bugs","msgtype":"m.text"},"ts":1345228081000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"this stuff really really needs a test suite","msgtype":"m.text"},"ts":1345228089000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i'm quite worried that IE gets it totally wrong","msgtype":"m.text"},"ts":1345228100000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=18605","msgtype":"m.text"},"ts":1345228109000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1345228221000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":".","msgtype":"m.text"},"ts":1345230003000,"senderName":"nvartolomei","senderId":"nvartolomei@irc"},
{"content":{"body":"Just posted this: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-August/036933.html","msgtype":"m.text"},"ts":1345232277000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"sicking: Hmm we have tests for the history state stuff. Did we not release them?","msgtype":"m.text"},"ts":1345236745000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Oh we did","msgtype":"m.text"},"ts":1345236767000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://w3c-test.org/html/tests/submission/Opera/historyinterface/","msgtype":"m.text"},"ts":1345236769000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: They apparently missed this case though, since I believe Gecko passes them","msgtype":"m.text"},"ts":1345236800000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: Not the gecko I have here at least","msgtype":"m.text"},"ts":1345236831000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"They might have missed this case of course, we don't claim to write perfect tests :)","msgtype":"m.text"},"ts":1345236855000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hmm.. yeah, you're right. I seem to recall being told we pass, but i'm clearly wrong","msgtype":"m.text"},"ts":1345236859000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Patches welcome of course","msgtype":"m.text"},"ts":1345236876000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(opera history api seemed pretty broken when I was testing recently; clicking <a href=#foo> didn't fire onpopstate)","msgtype":"m.text"},"ts":1345239180000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: Write a test and we will fix it","msgtype":"m.text"},"ts":1345239382000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"i really wish there was a web app I could just write, run and submit tests from","msgtype":"m.text"},"ts":1345239690000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Yes, several people have suggested that","msgtype":"m.text"},"ts":1345239854000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But really, even a live DOM viewer page that demonstrates the problem and can be turned into a real test would be fine","msgtype":"m.text"},"ts":1345239878000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"well, it's pretty straightforward, eg. https://zewt.org/~glenn/test-same-hash.html clicking the links does nothing","msgtype":"m.text"},"ts":1345239953000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"fortunately I can polyfill it pretty easily","msgtype":"m.text"},"ts":1345239995000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"hmm, is it intentional that when postMessage(stuff, [transfer map]) throws DataCloneError, sometimes the objects are neutered and sometimes they're not (depending on when the exception is thrown)?","msgtype":"m.text"},"ts":1345240395000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"how do I write a nullable method using WebIDL?","msgtype":"m.text"},"ts":1345243695000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"nullable method?","msgtype":"m.text"},"ts":1345243773000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1345243777000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"that may or may not exist.","msgtype":"m.text"},"ts":1345243783000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Don't think you can.","msgtype":"m.text"},"ts":1345244343000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"},
{"content":{"body":"doesn't really mesh with prototype chains","msgtype":"m.text"},"ts":1345244435000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Yeah, you'd have to override the method on the instance to be undefined.","msgtype":"m.text"},"ts":1345244483000,"senderName":"TabAtkins_","senderId":"TabAtkins_@irc"}
]