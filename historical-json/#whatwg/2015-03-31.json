[
{"content":{"body":"JakeA: which change?  lost context","msgtype":"m.text"},"ts":1427760040000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: oh, if you mean the VARY:* thing... our network stack treats VARY:* as never match, but our Cache implements whats currently in the SW spec","msgtype":"m.text"},"ts":1427760423000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I think we should just reject cache.put() if the response has VARY:*","msgtype":"m.text"},"ts":1427760522000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"and add/addAll","msgtype":"m.text"},"ts":1427760545000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wait, does the CSSOM spec still not define element.style.background = \"green\"?","msgtype":"m.text"},"ts":1427761618000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"i.e., the named property setter (if I'm recalling my WebIDL terminology) on CSSStyleDeclaration?","msgtype":"m.text"},"ts":1427761650000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: this reminds me of","msgtype":"m.text"},"ts":1427762316000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"> The CSSOM spec isn't crystal clear on which behavior is correct, so they might both be considered valid.","msgtype":"m.text"},"ts":1427762321000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"https://miketaylr.com/posts/2014/01/when-should-a-stylesheetlist-update.html","msgtype":"m.text"},"ts":1427762327000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"not related. :) but CSSOM seems to forget a couple of things","msgtype":"m.text"},"ts":1427762360000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"karlcow: tbf the CSSOM spec was totally unmaintained for such a long while it's not entirely surprising it isn't perfect","msgtype":"m.text"},"ts":1427762421000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"https://miketaylr.com/posts/2014/01/yui-set-style-differences.html","msgtype":"m.text"},"ts":1427762436000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1427762439000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"gsnedders: yup yup.","msgtype":"m.text"},"ts":1427762449000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"part of the funny things.","msgtype":"m.text"},"ts":1427762455000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"that involves YUI, I ain't touching that link :)","msgtype":"m.text"},"ts":1427762588000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"In fact, it's about different implementations of setProperty method of CSSStyleDeclaration in different browsers :)","msgtype":"m.text"},"ts":1427762830000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"but yeah","msgtype":"m.text"},"ts":1427762833000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"I just have had enough of YUI for my lifetime.","msgtype":"m.text"},"ts":1427762853000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zcorpan: if you could go through http://goo.gl/sJ34Xj and resolve any really old/stale bugs you don't care about keeping open, I'd appreciate it. Anything you would actually still like to see fixed, please do keep it open.","msgtype":"m.text"},"ts":1427765562000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: for open bugs that we would really like to see fixed, I think eventually we might want to migrate them all to https://github.com/validator/validator/issues But I don't want to do that just yet","msgtype":"m.text"},"ts":1427765624000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Ms2ger: ping","msgtype":"m.text"},"ts":1427793788000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"Here","msgtype":"m.text"},"ts":1427793801000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: is moving from Foo(DOMString) to Foo(sequence<DOMString>) forward compatible per webidl?","msgtype":"m.text"},"ts":1427793832000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"No","msgtype":"m.text"},"ts":1427793879000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1427793903000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"would you care to elaborate?","msgtype":"m.text"},"ts":1427793907000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"Passing a string to a method that takes sequence<DOMString> would throw, I think","msgtype":"m.text"},"ts":1427793995000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Oh, no","msgtype":"m.text"},"ts":1427794036000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"It would be interpreted as a sequence of characters, it seems","msgtype":"m.text"},"ts":1427794107000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"you'd need to accept either","msgtype":"m.text"},"ts":1427794131000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: Foo(DOMString) extended to accept DOMString _or_ sequence<DOMString> would work then?","msgtype":"m.text"},"ts":1427794144000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"Sure","msgtype":"m.text"},"ts":1427794226000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"GPHemsley: you around?","msgtype":"m.text"},"ts":1427794972000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"GPHemsley: I want to outline some stuff that compliments https://mimesniff.spec.whatwg.org/","msgtype":"m.text"},"ts":1427794995000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"GPHemsley: in particular, we need a place to define how the no-sniff header influences various contexts, such as <script>, <link rel=stylesheet>, etc.","msgtype":"m.text"},"ts":1427795020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"GPHemsley: I was thinking of jotting notes down on a wiki page, then getting that implemented, and then filing bugs to standardize it","msgtype":"m.text"},"ts":1427795041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: can web-platform-tests handle the case where I issue a HEAD and it responds with something that includes a body?","msgtype":"m.text"},"ts":1427798808000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Yes","msgtype":"m.text"},"ts":1427800339000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: I'm here now, for a moment. But if you want to write stuff on the wiki, I can look at it when I have more time.","msgtype":"m.text"},"ts":1427804567000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Is there a way to reset a git repo?","msgtype":"m.text"},"ts":1427805440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"E.g. currently web-platform-tests suggests I've made some change to \"tools\" but I've no idea how to undo that","msgtype":"m.text"},"ts":1427805465000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"git reset --hard","msgtype":"m.text"},"ts":1427805491000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Ah, well tools is a submodule (if you pulled recently)","msgtype":"m.text"},"ts":1427805492000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So it's a bit more compilcated","msgtype":"m.text"},"ts":1427805502000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"\"fatal: Not a git repository: tools/../.git/modules/tools\"","msgtype":"m.text"},"ts":1427805503000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, please rm -r that folder","msgtype":"m.text"},"ts":1427805517000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"i.e. .git/modules/tools","msgtype":"m.text"},"ts":1427805531000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Then git submodule update --init --recursive","msgtype":"m.text"},"ts":1427805552000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"fatal: Not a git repository: ../.git/modules/tools","msgtype":"m.text"},"ts":1427805643000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Unable to find current revision in submodule path 'tools'","msgtype":"m.text"},"ts":1427805644000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"after those instructions","msgtype":"m.text"},"ts":1427805651000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1427805651000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"same","msgtype":"m.text"},"ts":1427805655000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm","msgtype":"m.text"},"ts":1427805725000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"git is really properly terrible at deleing subrepos","msgtype":"m.text"},"ts":1427805734000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So does .git/modules/tools exist at all?","msgtype":"m.text"},"ts":1427805753000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1427805762000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"html5lib and resources exist in .git/modules/","msgtype":"m.text"},"ts":1427805804000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"same","msgtype":"m.text"},"ts":1427805855000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"now `git fetch upstream` also results in fatal: Not a git repository: tools/../.git/modules/tools :-)","msgtype":"m.text"},"ts":1427805871000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so I would kind of expect git submodule init to fix this","msgtype":"m.text"},"ts":1427805934000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Maybe delete the tools/ directory and everything under .git/modules and git submodule update --init --recursive again?","msgtype":"m.text"},"ts":1427805979000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"\"fatal: Not a git repository: ../.git/modules/resources\"","msgtype":"m.text"},"ts":1427806029000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"Unable to find current revision in submodule path 'resources'\"","msgtype":"m.text"},"ts":1427806038000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Make sure .git/config is in the proper state","msgtype":"m.text"},"ts":1427806040000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"blargh","msgtype":"m.text"},"ts":1427806041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah remove resources/ too","msgtype":"m.text"},"ts":1427806049000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I did","msgtype":"m.text"},"ts":1427806064000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"same result here","msgtype":"m.text"},"ts":1427806075000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"So you have no $WPT_ROOT/resources directory and no $WPT_ROOT/tools directory?","msgtype":"m.text"},"ts":1427806102000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and $WPT_ROOT/.git/modules is an empty directory?","msgtype":"m.text"},"ts":1427806116000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yep. i tried removing the modules directory itself also but no difference","msgtype":"m.text"},"ts":1427806147000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hmm, well I just did exactly that and it wfm","msgtype":"m.text"},"ts":1427806161000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: yeah works","msgtype":"m.text"},"ts":1427806168000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: didn't realize what you meant by resources/ thought you meant .git/modules/resources","msgtype":"m.text"},"ts":1427806185000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: one final question, how do I start the server again?","msgtype":"m.text"},"ts":1427806197000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"[submodule \"tools\"]","msgtype":"m.text"},"ts":1427806201000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"\turl = https://github.com/w3c/wpt-tools.git","msgtype":"m.text"},"ts":1427806202000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"GPHemsley: ^","msgtype":"m.text"},"ts":1427806204000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"https://pastebin.mozilla.org/8827681","msgtype":"m.text"},"ts":1427806211000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: ./serve","msgtype":"m.text"},"ts":1427806230000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"in the root directory","msgtype":"m.text"},"ts":1427806238000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"zcorpan: If things are in a hybrid state of deletion, you may want to remove that section of the file and reinit the submodules","msgtype":"m.text"},"ts":1427806244000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"ah. ok now it seems to work","msgtype":"m.text"},"ts":1427806245000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"excellento. thx","msgtype":"m.text"},"ts":1427806287000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: Any pressing questions you have for me before I leave?","msgtype":"m.text"},"ts":1427806321000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"GPHemsley: no, thanks","msgtype":"m.text"},"ts":1427806332000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"OK, then I'll just leave you with the reminder of the existence of https://wiki.whatwg.org/wiki/Contexts","msgtype":"m.text"},"ts":1427806358000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Let me know where you need me to look later","msgtype":"m.text"},"ts":1427806369000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"jgraham: see https://github.com/w3c/web-platform-tests/pull/1697 for my test","msgtype":"m.text"},"ts":1427807260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: given that fetch/XHR are HTTP APIs, and a response inc. body from a HEAD request is a violation, is it fair or not that the browsers try and do something to error correct?","msgtype":"m.text"},"ts":1427809028000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I can argue it both ways","msgtype":"m.text"},"ts":1427809037000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Yes :-)","msgtype":"m.text"},"ts":1427809107000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: since even Content-Length means something different arguably throwing away the body is sane","msgtype":"m.text"},"ts":1427809250000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: what IE does makes no sense btw","msgtype":"m.text"},"ts":1427809323000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: is this a general problem or does it sound chrome specific to you?  https://code.google.com/p/chromium/issues/detail?id=448427","msgtype":"m.text"},"ts":1427810158000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"its unclear to me if \"cross origin favicon tainting\" is a consequence of the way chrome does content process caching or a general web attack","msgtype":"m.text"},"ts":1427810224000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I'm not sure what that means","msgtype":"m.text"},"ts":1427810328000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: not sure why a favicon is different","msgtype":"m.text"},"ts":1427810370000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm going to assume its a chrome-specific issue","msgtype":"m.text"},"ts":1427810385000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"who wants to spec how resize event works","msgtype":"m.text"},"ts":1427810454000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: zcorpan","msgtype":"m.text"},"ts":1427810510000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"good","msgtype":"m.text"},"ts":1427810551000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"what's the best way for a normal person to collect usage data on a particular API?","msgtype":"m.text"},"ts":1427810696000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"other than by browser-project telemetry I mean","msgtype":"m.text"},"ts":1427810712000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: there's not really any other reliable way","msgtype":"m.text"},"ts":1427810745000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: how will the fetch issue solve the HEAD method thing for Cache?","msgtype":"m.text"},"ts":1427810779000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: it won't, that was the point","msgtype":"m.text"},"ts":1427810794000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It won't","msgtype":"m.text"},"ts":1427810794000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"oh... \"this issue\" means the SW issue, not the fetch issue you linked in the first sentence","msgtype":"m.text"},"ts":1427810817000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"its morning in america","msgtype":"m.text"},"ts":1427810825000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"typical wanderview coffee excuse :p","msgtype":"m.text"},"ts":1427810842000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: if only I could use that in the afternoon too...","msgtype":"m.text"},"ts":1427810856000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"feels slightly dirty for quoting Ronald Reagan.","msgtype":"m.emote"},"ts":1427810879000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"That was all good fun, been a while since I did some low-level HTTP testing","msgtype":"m.text"},"ts":1427810914000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: speaking of which... I remember you did some of that to see what browsers do when the body is truncated by a network error, right?","msgtype":"m.text"},"ts":1427811412000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"guess I'm still wondering what to do here:  https://github.com/slightlyoff/ServiceWorker/issues/665","msgtype":"m.text"},"ts":1427811491000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"smaug____: http://dev.w3.org/csswg/cssom-view/#resizing-viewports","msgtype":"m.text"},"ts":1427811499000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: https://html.spec.whatwg.org/multipage/webappapis.html#run-the-resize-steps","msgtype":"m.text"},"ts":1427811527000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wanderview: yeah https://github.com/slightlyoff/ServiceWorker/issues/362#issuecomment-48612616","msgtype":"m.text"},"ts":1427812213000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: yea... it just seems a bit scary to me to potentially have truncated values in Cache","msgtype":"m.text"},"ts":1427812703000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: I wonder if we should have some kind of strict mode in Cache that rejects if content-length is wrong","msgtype":"m.text"},"ts":1427812725000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"rather than make all script authors deal with this condition themslves","msgtype":"m.text"},"ts":1427812739000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"zcorpan: that is surprising","msgtype":"m.text"},"ts":1427812893000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: what? that it's specced?","msgtype":"m.text"},"ts":1427812926000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the behavior is a bit surprising","msgtype":"m.text"},"ts":1427812943000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I would have expected we spec resize to fire around animation frame callbacks","msgtype":"m.text"},"ts":1427812960000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but ok, perhaps this is fine too","msgtype":"m.text"},"ts":1427812970000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"why isn't it just using a task?","msgtype":"m.text"},"ts":1427813006000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"to fire the event","msgtype":"m.text"},"ts":1427813011000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hasn't looked at 8.1.4.2 Processing model for ages","msgtype":"m.emote"},"ts":1427813051000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"very different to how Gecko works :/","msgtype":"m.text"},"ts":1427813062000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"wait, I'm misreading it or what.. \"An event loop must continually run through the following steps for as long as it exists:\" ...  \"For each fully active Document in docs, run the animation frame callbacks for that Document, passing in now as the timestamp.\"","msgtype":"m.text"},"ts":1427813203000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I see, that mixes animation frame handling into the event loop","msgtype":"m.text"},"ts":1427813218000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"wanderview: If we need a strict mode, shouldn't it go on fetch()?","msgtype":"m.text"},"ts":1427813306000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"so fine (just differently modeled comparing to what I have in mind for animation frame handling and such)","msgtype":"m.text"},"ts":1427813338000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"JakeA: well, its Cache that has to decide what to do if the body stream is truncated, no?","msgtype":"m.text"},"ts":1427813343000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"smaug____: it's intended to fire just before animation frame callbacks","msgtype":"m.text"},"ts":1427813348000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but end result should be the same","msgtype":"m.text"},"ts":1427813349000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: it was using a task before but we changed it to sync with animation frames since impls do that or want to do that","msgtype":"m.text"},"ts":1427813387000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"JakeA: I mean... content uses fetch() can decide what to do if the Response.body stream gives them an error","msgtype":"m.text"},"ts":1427813400000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: hmm yeah, good point","msgtype":"m.text"},"ts":1427813418000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: but if there is no way for Cache to surface an error after resolving Cache.put() promise... then it needs some strategy for handling it","msgtype":"m.text"},"ts":1427813431000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"zcorpan: some impls do that","msgtype":"m.text"},"ts":1427813445000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but ok","msgtype":"m.text"},"ts":1427813459000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I think this is fine","msgtype":"m.text"},"ts":1427813462000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: it's possible that the event loop spec is wrong and should be changed in some way. i think bz had vague concerns about it not matching impls (or at least gecko)","msgtype":"m.text"},"ts":1427813509000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: ok","msgtype":"m.text"},"ts":1427813510000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it means that resize is occasionally pending while layout has changed its state already","msgtype":"m.text"},"ts":1427813513000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"another issue here is that the concept of flushing layout is not specced yet","msgtype":"m.text"},"ts":1427813535000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wanderview: wondering if .text() etc should also reject","msgtype":"m.text"},"ts":1427813606000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I think it should, yea","msgtype":"m.text"},"ts":1427813647000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: can it provide the partial body if it rejects?  or just say \"use the stream version\" if you want that behavior","msgtype":"m.text"},"ts":1427813673000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"zcorpan: shoud resize fire if an iframe is first resized to size foo,bar, then foo+1, bar+1, and then back to foo,bar, before animation frame callbacks are run?","msgtype":"m.text"},"ts":1427814018000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"GPHemsley: FWIW, the Contexts wiki page is hopelessly out of date with respect to the number of contexts","msgtype":"m.text"},"ts":1427814076000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: it should reject with an error, it's possible but weird to have the partial as a property of the error. I think that might be too weird though","msgtype":"m.text"},"ts":1427814324000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"yea... especially with promise propagation","msgtype":"m.text"},"ts":1427814344000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"why does fetch/cache care about the content-length header at all?","msgtype":"m.text"},"ts":1427814631000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"smaug____: how do you interpret the spec for that case? \"If doc’s viewport has had its width or height changed ... since the last time these steps were run\"","msgtype":"m.text"},"ts":1427814705000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"maybe it should say if the width and height are different, rather than have changed","msgtype":"m.text"},"ts":1427814745000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wanderview: I guess the cache should take the whole body stream, and it's down to stream consumers to decide if they carry on reading or not","msgtype":"m.text"},"ts":1427814788000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: not sure I understand... what does \"take the whole body stream\" mean if there is an error while reading Response.body and streaming it to disk?","msgtype":"m.text"},"ts":1427814840000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: if a request has a content-length, should the stream stop at that content length even if there's more content?","msgtype":"m.text"},"ts":1427814865000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"wanderview: I mean if the body stream is > content-length. If there's an error reading response.body it shouldn't go into the cache","msgtype":"m.text"},"ts":1427814900000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I would just treat content-length as incidental metadata that in some authors' minds might have some relation to the body length in bytes, or might not","msgtype":"m.text"},"ts":1427814901000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"not sure how that squares with XHR though","msgtype":"m.text"},"ts":1427814922000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"JakeA: yea... I don't think we can make content-length strict by default... too many broken servers out there","msgtype":"m.text"},"ts":1427814929000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"at least, we can never seem to get away with it in FF for other network requests","msgtype":"m.text"},"ts":1427814947000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: that's fair. Although .text etc may truncate at content-length, that's how browsers seem to behave today","msgtype":"m.text"},"ts":1427814952000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: hmm I mean that seems OK but unnecessary","msgtype":"m.text"},"ts":1427814976000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I know what you mean, but it's something all browsers do so I guess there's a good reason. Maybe it's ok to break that tradition with fetch()","msgtype":"m.text"},"ts":1427815039000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I dunno, I feel like we need an expert :)","msgtype":"m.text"},"ts":1427815059000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Can't we just make shit up outselves?","msgtype":"m.text"},"ts":1427815070000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Can't we just make up words like \"outselves\"?","msgtype":"m.text"},"ts":1427815088000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"aka \"all the web platform\"","msgtype":"m.text"},"ts":1427815088000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: @fetchstandard should tweet this question and we'll all RT","msgtype":"m.text"},"ts":1427815184000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"What? \"Can't we just make shit up ourselves?\"","msgtype":"m.text"},"ts":1427815226000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1427815243000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"i meant, should content-length have any impact on .json(), but that works too","msgtype":"m.text"},"ts":1427815262000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1427815268000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"JakeA: pretty sure gecko is going to ignore content-length for the short term...","msgtype":"m.text"},"ts":1427815274000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"what if the stream ends early before content-length is reached","msgtype":"m.text"},"ts":1427815284000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"too many servers send the wrong value when gzip content-encoding is applied","msgtype":"m.text"},"ts":1427815286000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"do we error or ignore content-length or...?","msgtype":"m.text"},"ts":1427815293000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: that tends to be an error","msgtype":"m.text"},"ts":1427815317000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1427815331000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"given the gzip thing i'm not sure i believe you?","msgtype":"m.text"},"ts":1427815351000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think some browsers with less legacy just return error there","msgtype":"m.text"},"ts":1427815379000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: https://github.com/slightlyoff/ServiceWorker/issues/362#issuecomment-48612616 - although this research was done by past-Jake and I don't trust that guy","msgtype":"m.text"},"ts":1427815380000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"ah that's very nice","msgtype":"m.text"},"ts":1427815399000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Maybe I'd have seen different results with gzipping","msgtype":"m.text"},"ts":1427815404000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I didn't test that","msgtype":"m.text"},"ts":1427815407000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"its harder for us because \"Firefox used to work, but doesn't in this new release!\" when we try to treat content-length strictly","msgtype":"m.text"},"ts":1427815425000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: In my tests, content-length > content caused Firefox to wait until timeout","msgtype":"m.text"},"ts":1427815460000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Maybe that was keep-alive","msgtype":"m.text"},"ts":1427815480000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: maybe we check in one direction and not the other... probably depends on exactly what server bugs we have to bend to","msgtype":"m.text"},"ts":1427815509000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"can we just spec the network to be infallible","msgtype":"m.text"},"ts":1427815726000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"and no aborting fetches","msgtype":"m.text"},"ts":1427815730000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"yes please","msgtype":"m.text"},"ts":1427815979000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"wanderview: we do use Content-Length to some extent","msgtype":"m.text"},"ts":1427819020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I doubt it matters much in an HTTP/2 world","msgtype":"m.text"},"ts":1427819069000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: your responses to https://github.com/slightlyoff/ServiceWorker/issues/651 don't really seem to take into account OP","msgtype":"m.text"},"ts":1427819627000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: if I stream the body from a response, the SW shutting down once the promise resolves kills the body","msgtype":"m.text"},"ts":1427819653000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"doesn't*","msgtype":"m.text"},"ts":1427819669000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ah yes, I got lost in the replies","msgtype":"m.text"},"ts":1427819775000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"jsbell: hi, were you looking for me yesterday?","msgtype":"m.text"},"ts":1427820829000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"zcorpan: back. So I interpret it so that if there was a change after last resize, fire a new resize, even if the current size is the same.","msgtype":"m.text"},"ts":1427821906000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"zcorpan: do you happen to know what blink does currently?","msgtype":"m.text"},"ts":1427821996000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"wanderview: yeah, sorry. Wanted to see if your CacheStorage was exposed to windows yet or just for SW contexts","msgtype":"m.text"},"ts":1427824649000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"ah... I think I ended up answer on list","msgtype":"m.text"},"ts":1427824669000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: but you replied on blink-dev :)","msgtype":"m.text"},"ts":1427824670000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"yep :-)","msgtype":"m.text"},"ts":1427824674000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1427824675000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"jsbell: Thanks for the heads up","msgtype":"m.text"},"ts":1427824730000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1427824853000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"wanderview: also, I just told jgraham (via email), but I revamped the blink tests for cache storage (yesterday) so if you were pulling those, now's a good time to re-grab them","msgtype":"m.text"},"ts":1427824919000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1427824987000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I don't think we're quite running those yet","msgtype":"m.text"},"ts":1427825000000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I did some temporary hacks in our tree to run them before... but have not tried again in the last few months","msgtype":"m.text"},"ts":1427825116000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"So is TabAtkins going to do the geocities look again?","msgtype":"m.text"},"ts":1427825180000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I was sort of hoping that the upstream tests would be revamped a bit to make dealing with the origin issues a bit easier before I had another go at importing them into wpt","msgtype":"m.text"},"ts":1427825248000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: once this is out the door I'm hoping to tackle that. the cache ones don't have any actual server references except one php file, at least","msgtype":"m.text"},"ts":1427825464000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: Oooh, that seems like something I could import rather quickly then :)","msgtype":"m.text"},"ts":1427826161000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug____: in http://software.hixie.ch/utilities/js/live-dom-viewer/saved/3477 i get one resize event in blink, two events in gecko. remove the clientWidth and i get no events in either.","msgtype":"m.text"},"ts":1427833260000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: in my test case blink fired event, gecko didn't","msgtype":"m.text"},"ts":1427833289000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"zcorpan: https://pastebin.mozilla.org/8827770","msgtype":"m.text"},"ts":1427833334000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/3478 webkit 2 events","msgtype":"m.text"},"ts":1427833336000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ah, you have layout flush","msgtype":"m.text"},"ts":1427833387000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"yeah. different case from what you asked about i suppose :-)","msgtype":"m.text"},"ts":1427833446000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh, wait, blink fires resize even without any actual resize","msgtype":"m.text"},"ts":1427833447000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"zcorpan: so current Gecko fires resize if there is one pending and one does layout flush","msgtype":"m.text"},"ts":1427833540000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"otherwise resize is fired async","msgtype":"m.text"},"ts":1427833561000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"blink seems to fire resize sometimes (?) when loading an iframe","msgtype":"m.text"},"ts":1427833571000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: ok","msgtype":"m.text"},"ts":1427833599000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"my testcase runs after the iframe has been loaded","msgtype":"m.text"},"ts":1427833625000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and resize should fire before animation frame callbacks","msgtype":"m.text"},"ts":1427833667000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so gecko nor blink follows the current spec","msgtype":"m.text"},"ts":1427833682000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"s/so/so not/","msgtype":"m.text"},"ts":1427833718000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1427833734000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"blink fires an event here which is pretty weird http://software.hixie.ch/utilities/js/live-dom-viewer/saved/3479","msgtype":"m.text"},"ts":1427833777000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"does it perhaps just fire pending resize after animation frame callbacks have run?","msgtype":"m.text"},"ts":1427833839000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"TabAtkins: I am a bit confused by Bikeshed's \"Terms defined by this specification\" vs. exported dfns. Is there anywhere in the output that lists exported dfns?","msgtype":"m.text"},"ts":1427834089000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"maybe. but there shouldn't be any resize at all in this case (unless it considers a page load to be a resize)","msgtype":"m.text"},"ts":1427834099000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"TabAtkins: also how should I mark up ES-style \"abstract operations\" that I want other specs to be able to call? Just <dfn>s? But they are already <h4>s... what's the suggested markup?","msgtype":"m.text"},"ts":1427834200000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"zcorpan: sure. But does blink perhaps fire resize always after animation frame callbacks?","msgtype":"m.text"},"ts":1427834230000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I'm just about to upload a patch to change gecko's behavior to fire resize around animation frames, but would be good to know whether event should fire before or after the callbacks","msgtype":"m.text"},"ts":1427834307000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: i'm not sure how to test the order","msgtype":"m.text"},"ts":1427834534000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: i think the html spec's order has some reasoning behind it, that animation frames happen last","msgtype":"m.text"},"ts":1427834611000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"animation frame callbacks","msgtype":"m.text"},"ts":1427834628000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"not sure the order matters much","msgtype":"m.text"},"ts":1427834697000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"except for interoperability","msgtype":"m.text"},"ts":1427834711000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"tries to find where blink dispatches resize","msgtype":"m.emote"},"ts":1427834800000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: https://code.google.com/p/chromium/codesearch#chromium/src/third_party/WebKit/Source/core/frame/FrameView.cpp&q=enqueueresizeevent&sq=package:chromium&type=cs&l=2102","msgtype":"m.text"},"ts":1427835161000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that doesn't dispatch it, right?","msgtype":"m.text"},"ts":1427835278000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":" ensureScriptedAnimationController().enqueuePerFrameEvent","msgtype":"m.text"},"ts":1427835302000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"no idea what that might do","msgtype":"m.text"},"ts":1427835308000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"sounds like something not what the spec says","msgtype":"m.text"},"ts":1427835328000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it predates the spec changes, so entirely possible it is not at all what the spec says","msgtype":"m.text"},"ts":1427835372000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i'd try to match the spec unless you find the spec insane","msgtype":"m.text"},"ts":1427835396000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1427835404000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1427835406000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I don't find it insane","msgtype":"m.text"},"ts":1427835412000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it is just not what anyone is doing","msgtype":"m.text"},"ts":1427835418000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"yeah. i'll file a bug on blink to investigate getting closer to the spec","msgtype":"m.text"},"ts":1427835447000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"do you have a mozilla bug for your change?","msgtype":"m.text"},"ts":1427835516000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: https://bugzilla.mozilla.org/show_bug.cgi?id=1149555","msgtype":"m.text"},"ts":1427835569000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"thx","msgtype":"m.text"},"ts":1427835622000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: https://code.google.com/p/chromium/issues/detail?id=472247","msgtype":"m.text"},"ts":1427836582000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"someone on blink-dev just noticed that idl attributes are found on prototypes now, rather than own properties of instances","msgtype":"m.text"},"ts":1427836672000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"is it here to stay this time? :O","msgtype":"m.text"},"ts":1427836723000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"caitp-: blink is late getting idl attributes to behave per spec","msgtype":"m.text"},"ts":1427837049000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"yeah I know","msgtype":"m.text"},"ts":1427837088000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"and ++blink getting this stuff fixed finally :)","msgtype":"m.text"},"ts":1427837143000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"i think it's been attempted before","msgtype":"m.text"},"ts":1427837156000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"before it was reverted because perf","msgtype":"m.text"},"ts":1427837239000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"this time the only thing that can stop it is another MS Exchange/Array.prototype.contains-style debacle once it reaches stable channel","msgtype":"m.text"},"ts":1427837261000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"And even then they might just be able to turn it off for one or two properties...","msgtype":"m.text"},"ts":1427837272000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Array.prototype.values, rather","msgtype":"m.text"},"ts":1427837291000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"well, won't have to worry about A.p.values until it's actually implemented in v8","msgtype":"m.text"},"ts":1427837329000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"Domenic: curious, which properties?","msgtype":"m.text"},"ts":1427837329000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: I meant, hypothetical ones that cause compat problems. So far none have done so on a large scale...","msgtype":"m.text"},"ts":1427837365000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"caitp-: pretty sure it was implemented but had to be backed out because it broke MS Exchange Online? Was that something else?","msgtype":"m.text"},"ts":1427837390000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"w00t! let's hope it sticks this time","msgtype":"m.text"},"ts":1427837395000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Domenic I believe that's what it was","msgtype":"m.text"},"ts":1427837429000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"@@iterator is there, but the values alias isn't exposed","msgtype":"m.text"},"ts":1427837439000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1427837448000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"wonder when we're going to feel brave enough to try that again","msgtype":"m.text"},"ts":1427837469000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"while fixing this all Gecko had some issues. onmouseenter/leave required special handling","msgtype":"m.text"},"ts":1427837473000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"spartan is shipping it i believe","msgtype":"m.text"},"ts":1427837475000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but I guess that ended up to some spec","msgtype":"m.text"},"ts":1427837480000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"http://mxr.mozilla.org/mozilla-central/source/dom/webidl/EventHandler.webidl#65","msgtype":"m.text"},"ts":1427837490000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(and of course all the issues related to global )","msgtype":"m.text"},"ts":1427837575000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/webappapis.html#idl-definitions:handler-onmouseenter","msgtype":"m.text"},"ts":1427837607000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"good","msgtype":"m.text"},"ts":1427837616000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"idl attributes on globals is on the instance per spec","msgtype":"m.text"},"ts":1427837637000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"right, and it took quite some time to find something compatible-enough-with-the-web","msgtype":"m.text"},"ts":1427837701000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so how was the perf issue solved?","msgtype":"m.text"},"ts":1427837834000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"i don't remember seeing any bugmail about it, so I missed something :>","msgtype":"m.text"},"ts":1427837858000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"zcorpan: https://code.google.com/p/chromium/codesearch#chromium/src/third_party/WebKit/Source/core/dom/GlobalEventHandlers.idl&q=onmouseenter file:idl&sq=package:chromium&l=73","msgtype":"m.text"},"ts":1427837893000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: thx. will file","msgtype":"m.text"},"ts":1427838001000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmmm, fixme comment in that file does not have a name on it :>","msgtype":"m.text"},"ts":1427838068000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"https://code.google.com/p/chromium/issues/detail?id=472260","msgtype":"m.text"},"ts":1427838722000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it's probably philipj","msgtype":"m.text"},"ts":1427838730000,"senderName":"zcorpan","senderId":"zcorpan@irc"}
]