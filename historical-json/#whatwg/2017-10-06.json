[
{"content":{"body":"annevk, ping re wpt #7574","msgtype":"m.text"},"ts":1507281753000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: yeah?","msgtype":"m.text"},"ts":1507281814000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You think it makes sense to land with my edit? I'm not sure how well-specified stuff is with the window after removing the iframe?","msgtype":"m.text"},"ts":1507281885000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Or should I just land the document parts and leave the new test until we figured out the right behaviour","msgtype":"m.text"},"ts":1507281910000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: I think for window.location it is defined, but I also think it's already tested per that issue I pointed to","msgtype":"m.text"},"ts":1507281936000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: it's just that only Firefox implements it so far and other browsers haven't really investigated whether they can align","msgtype":"m.text"},"ts":1507281957000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: so I'm not sure we need that new test, the other parts look okay","msgtype":"m.text"},"ts":1507282014000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Even better","msgtype":"m.text"},"ts":1507282100000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"So many MIME type parser bugs","msgtype":"m.text"},"ts":1507286602000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So very unsurprised","msgtype":"m.text"},"ts":1507286620000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"In other news, Scotland is overcast.","msgtype":"m.text"},"ts":1507288905000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hsivonen: is there a canonical document for the UTF-16 being superior to UTF-8 due to size argument?","msgtype":"m.text"},"ts":1507292914000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So, I've written a MIME type parser: https://github.com/whatwg/mimesniff/pull/36","msgtype":"m.text"},"ts":1507295721000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I also have some ideas about how to refine how we define MIME types (basically copy what we do for URLs)","msgtype":"m.text"},"ts":1507295736000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Input appreciated, including \"fine, please proceed\", \"no, you should do X\", etc.","msgtype":"m.text"},"ts":1507295761000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"files bug because annevk's parser isn't written in Rust.","msgtype":"m.emote"},"ts":1507295775000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: I'd love to see the one written for Servo","msgtype":"m.text"},"ts":1507295866000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: There is one, which had massive breaking changes in its last major version so Servo still lags behind. :(","msgtype":"m.text"},"ts":1507295897000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"https://docs.rs/mime","msgtype":"m.text"},"ts":1507295932000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: that library looks too strict for the web","msgtype":"m.text"},"ts":1507296295000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: On which part?","msgtype":"m.text"},"ts":1507296307000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: throwing parse errors when there's something wrong with a parameter","msgtype":"m.text"},"ts":1507296427000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I've heard at least once that we weren't too sure whether that is supposed to be an error or not.","msgtype":"m.text"},"ts":1507296496000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: not sure if you all keep track of such a list, but I would expect any dependency that doesn't have reverse engineering of other browsers involved in it somehow to probably not be suitable","msgtype":"m.text"},"ts":1507297425000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: in particular any IETF RFC tends to not reflect implementation reality","msgtype":"m.text"},"ts":1507297484000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah I know that.","msgtype":"m.text"},"ts":1507297503000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"TabAtkins: for my own edification, why are UA stylesheets better \"when a particular value isn't good globally\"? I don't really understand the functional difference between initial value and UA stylesheet.","msgtype":"m.text"},"ts":1507311506000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: e.g., when you want <b> to be blue, but normally you want things to be black","msgtype":"m.text"},"ts":1507311630000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: if we actually want it for *|*:root in this case though and the thing inherits, I'm not sure what the difference is","msgtype":"m.text"},"ts":1507311653000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: well, I guess *|*:root would not apply to shadow trees, but not sure if that's a feature or not","msgtype":"m.text"},"ts":1507311686000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think UA stylesheets apply to shadow trees, but maybe :root doesn't apply to shadow roots?","msgtype":"m.text"},"ts":1507311750000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: the main question is whether things inherit into a shadow trees, maybe they actually do","msgtype":"m.text"},"ts":1507311804000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I really don't know enough about this anymore by heart ðŸ˜Ÿ","msgtype":"m.text"},"ts":1507311827000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk got it. Also yes, UA stylesheets apply in shadow trees, and inheritance crosses shadows by default.","msgtype":"m.text"},"ts":1507312839000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"So yeah, UA stylesheet is for when a value is a good default for some elements only, or only for SVG vs HTML, etc.","msgtype":"m.text"},"ts":1507312873000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Also :root applies to all the top-level elements in a shadow tree.","msgtype":"m.text"},"ts":1507312918000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Oh wait, that's not true.","msgtype":"m.text"},"ts":1507312939000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But anyway, yeah, the only reason to ever run a *|*:root selector in the UA stylesheet is if, for some reason, you want it not to apply when people use \"all\" to block inheritance.","msgtype":"m.text"},"ts":1507313120000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Oh, I see, UA stylesheet is for when you need a more specific selector; you can't say \"initial value for X elements\". That makes sense.","msgtype":"m.text"},"ts":1507313278000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yup, exactly.","msgtype":"m.text"},"ts":1507314658000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]