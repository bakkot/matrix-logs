[
{"content":{"body":"ecobos, don't reply to all@","msgtype":"m.text"},"ts":1516353550000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: yeah... Should've known it :). Still don't regret it this time","msgtype":"m.text"},"ts":1516353779000,"senderName":"ecobos","senderId":"ecobos@irc"},
{"content":{"body":"khuey's ghost will haunt you","msgtype":"m.text"},"ts":1516353830000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hah","msgtype":"m.text"},"ts":1516353854000,"senderName":"ecobos","senderId":"ecobos@irc"},
{"content":{"body":"Ms2ger: turns out khuey is pleased: https://twitter.com/khuey_/status/954138271692410880","msgtype":"m.text"},"ts":1516354405000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hell froze over, huh","msgtype":"m.text"},"ts":1516354495000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"foolip: I think we need to go back to the \"flow content excluding main\" construct","msgtype":"m.text"},"ts":1516356295000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: the current setup doesn't work","msgtype":"m.text"},"ts":1516356300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: since now <body><article><div><main> ends up being conforming","msgtype":"m.text"},"ts":1516356314000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: as <main> can be a child of <div>","msgtype":"m.text"},"ts":1516356334000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hmm, right, the difference between allowed children and disallowed descendants in those contructs...","msgtype":"m.text"},"ts":1516357113000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: yup, kinda glad we're taking our time so I managed to catch this","msgtype":"m.text"},"ts":1516357171000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: so what I want from you is either saying \"an abstraction is fine\" or saying I need to list it explicitly everywhere for each element with a flow content content model","msgtype":"m.text"},"ts":1516357200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I would still be quite content with just disallowing <main> in a few specific cases, but something that has the effect of just allowing it in body and and body div+ WFM","msgtype":"m.text"},"ts":1516357211000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: I want to allow it with only html/body/div/form as ancestors, basically","msgtype":"m.text"},"ts":1516357246000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: my \"flow content excluding main\" construct works for that, if consistently applied","msgtype":"m.text"},"ts":1516357269000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: expanding that construct works too","msgtype":"m.text"},"ts":1516357279000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: I don't see what else can work","msgtype":"m.text"},"ts":1516357286000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I can't either, but give me a sec to see how flow content is defined again","msgtype":"m.text"},"ts":1516357345000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: one alternative might be that we define it in prose in the <main> element section, but that kinda goes against precedent I think","msgtype":"m.text"},"ts":1516357405000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I was just thinking that, could we just say something about the ancestor elements?","msgtype":"m.text"},"ts":1516357437000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"you're right that it's backwards compared to the way that content models flow only \"downwards\" though","msgtype":"m.text"},"ts":1516357456000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: maybe it's okay, I found some precedent","msgtype":"m.text"},"ts":1516357469000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: \"An area element with a parent node must have a map element ancestor.\"","msgtype":"m.text"},"ts":1516357472000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: this would be that, except some kind of negation","msgtype":"m.text"},"ts":1516357488000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: \"A main element must only have html, body, div, and form element ancestors.\"","msgtype":"m.text"},"ts":1516357508000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, that'd work for me.","msgtype":"m.text"},"ts":1516357539000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"what about custom elements?","msgtype":"m.text"},"ts":1516357546000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"how do they work with validity generally?","msgtype":"m.text"},"ts":1516357573000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"MikeSmith: ^","msgtype":"m.text"},"ts":1516357578000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: currently they can only be used where phrasing content is expected","msgtype":"m.text"},"ts":1516357622000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: that kinda seems like a bug though, maybe?","msgtype":"m.text"},"ts":1516357630000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, seems like they should be transparent, rather?","msgtype":"m.text"},"ts":1516357671000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Hmm, I'm probably misunderstanding how that works, since one of the categories is \"flow content\" and the content model is \"transparent\"","msgtype":"m.text"},"ts":1516357710000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ah, so the definition of flow content actually includes autonomous custom elements","msgtype":"m.text"},"ts":1516357791000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"and they're transparent, so it all seems fine","msgtype":"m.text"},"ts":1516357809000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: For custom elements, as far as the checker behavior goes, the custom elements and their subtrees are ignored","msgtype":"m.text"},"ts":1516357899000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"skipped","msgtype":"m.text"},"ts":1516357903000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: wow, that goes a little bit against the spec","msgtype":"m.text"},"ts":1516357922000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: if you use <a> inside <whatever-yo> you'd still want it checked I think","msgtype":"m.text"},"ts":1516357963000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess I overrated things. the actual behavior conforms to whatever the spec says","msgtype":"m.text"},"ts":1516358004000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Ah no","msgtype":"m.text"},"ts":1516358017000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"as far as the case you mention there","msgtype":"m.text"},"ts":1516358044000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I'm not sure that <a> will get checked","msgtype":"m.text"},"ts":1516358085000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not sure from memory","msgtype":"m.text"},"ts":1516358104000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"would need to look back at the code","msgtype":"m.text"},"ts":1516358129000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well, or just test it","msgtype":"m.text"},"ts":1516358140000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"maybe I made the behavior be that it's transparent","msgtype":"m.text"},"ts":1516358201000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Transparent would be correct per the content model of the spec","msgtype":"m.text"},"ts":1516363421000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: OK yeah I misspoke before. Just tested and found that it does check the <a>","msgtype":"m.text"},"ts":1516364128000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so I think weâ€™re all good there","msgtype":"m.text"},"ts":1516364136000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"tobie: in https://whatpr.org/html/3354/dom.html#kinds-of-content an image doesn't work because of the URL. a problem for all pr preview stuff?","msgtype":"m.text"},"ts":1516364389000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1516364407000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"annevk: before https://github.com/whatwg/html/pull/3354 is merged, do you think we should write down somewhere why it's changing?","msgtype":"m.text"},"ts":1516365005000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: at least the commit body should","msgtype":"m.text"},"ts":1516365956000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: right. so what would we say has changed here, except that we spent some time on it?","msgtype":"m.text"},"ts":1516365982000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: the way I would go about that is to have all assets on the gh-branch if that's how you're setup, and just change the src attribute to point to the new asset.","msgtype":"m.text"},"ts":1516366000000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"for me, the main thing is that at least Chromium treats <header> and <footer> like generic containers in some contexts, but <main> always maps to main","msgtype":"m.text"},"ts":1516366019000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"and the (unverified) claim that this is true elsewhere too","msgtype":"m.text"},"ts":1516366033000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: what has changed is that we finally made an effort to close the issue","msgtype":"m.text"},"ts":1516366111000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: and as I said elsewhere I regret not doing so much sooner","msgtype":"m.text"},"ts":1516366144000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think that's true, yeah","msgtype":"m.text"},"ts":1516366148000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"annevk: but at least the last time around it was not salient to me that <header>, <footer> and <main> had different mappings in implementations, or maybe I ignored it","msgtype":"m.text"},"ts":1516366185000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"(or it wasn't true then)","msgtype":"m.text"},"ts":1516366195000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip: if we do a blog post it should contain an apology of sorts since plenty of folks have let us know it was important to them","msgtype":"m.text"},"ts":1516366228000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"FWIW, it seems like these mappings should be pretty easy to test with wpt using the computedRole API here: https://groups.google.com/a/chromium.org/d/msg/blink-dev/WToTEn4lveY/0DDozNNQqE8J","msgtype":"m.text"},"ts":1516366249000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"annevk: maybe, I think I'd want to nitpick the wording there, but a blog post would be nice","msgtype":"m.text"},"ts":1516366502000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"on to the bloody data: URL thing","msgtype":"m.text"},"ts":1516366524000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Getting close though on data: URLs","msgtype":"m.text"},"ts":1516387670000,"senderName":"annevk","senderId":"annevk@irc"}
]