[
{"content":{"body":"so... determining if headers=\"\" is correctly-used or not","msgtype":"m.text"},"ts":1183077000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.brera.unimi.it/old/CAELUM/MUSEO/Schede/rif32.html","msgtype":"m.text"},"ts":1183077480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i know it says \"old\" in the URL, but uh, were there even _computers_ in 1939?!","msgtype":"m.text"},"ts":1183077481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"do ENIGMA-cracking machines count?","msgtype":"m.text"},"ts":1183077540000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"only if the data on those machines was written in HTML","msgtype":"m.text"},"ts":1183077541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(that HTML file has a \"last modified\" date of 1939)","msgtype":"m.text"},"ts":1183077542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"typo of 1993?","msgtype":"m.text"},"ts":1183078740000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"why would you type the last modified date?","msgtype":"m.text"},"ts":1183078800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"dunno","msgtype":"m.text"},"ts":1183078801000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"ImproperlyConfigured: Error loading MySQLdb module: No module named MySQLdb","msgtype":"m.text"},"ts":1183080360000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"whoops, sorry for the noise.","msgtype":"m.text"},"ts":1183080361000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"hmm, i think firefox has funny handling of -- in doctypes","msgtype":"m.text"},"ts":1183080480000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"not \"funny\"","msgtype":"m.text"},"ts":1183080540000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"compliant to SGML\"","msgtype":"m.text"},"ts":1183080541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i opted to drop that in the spec's version, you'll be glad to notice","msgtype":"m.text"},"ts":1183080542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not quite compliant to sgml... <!doctype html --> foo -- system>","msgtype":"m.text"},"ts":1183080600000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1183080660000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fair enough","msgtype":"m.text"},"ts":1183080661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan_: are comments allowed in DOCTYPEs like that?  I don't think so","msgtype":"m.text"},"ts":1183080662000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: per sgml, yes","msgtype":"m.text"},"ts":1183080663000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I thought only within the internal subset, not before the sys ident like that","msgtype":"m.text"},"ts":1183080720000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"in any sgml declaration","msgtype":"m.text"},"ts":1183080721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the doctype is an sgml declaration","msgtype":"m.text"},"ts":1183080722000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what Hixie said","msgtype":"m.text"},"ts":1183080723000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"at least that's my understanding","msgtype":"m.text"},"ts":1183080724000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's mostly academic in practice","msgtype":"m.text"},"ts":1183080725000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh, right.  anyway, doesn't matter","msgtype":"m.text"},"ts":1183080726000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1183080780000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"ok so for my study of longdesc=\"\", i'm looking for these things:","msgtype":"m.text"},"ts":1183080900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"* does the <img> not have a longdesc at all?","msgtype":"m.text"},"ts":1183080901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"* is its longdesc blank?","msgtype":"m.text"},"ts":1183080902000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"* does its longdesc have a spec character in it?","msgtype":"m.text"},"ts":1183080903000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"* does its longdesc value match the href=\"\" of an ancestor <a> element?","msgtype":"m.text"},"ts":1183080904000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anything else i should look for?","msgtype":"m.text"},"ts":1183080905000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"* does it's longdesc point to the same page or a fragment on the same page?","msgtype":"m.text"},"ts":1183080960000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"could you also check if it matches an href anywhere in the document, if there isn't an ancestor link?","msgtype":"m.text"},"ts":1183080961000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"or at least nearby\\","msgtype":"m.text"},"ts":1183080962000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"given jaws implementation, same-page fragments with longdesc aren't usable at all","msgtype":"m.text"},"ts":1183081020000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the idea is to see if most people are willing to put [D] links, or equivalent in, despite having fairly wide AT support now","msgtype":"m.text"},"ts":1183081021000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"ok i added a check to see if the attribute's value matches the page's url","msgtype":"m.text"},"ts":1183081080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and a check to see if the value doesn't have a space in it but starts with a #","msgtype":"m.text"},"ts":1183081081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"do i need a check for whether the value is url+# ?","msgtype":"m.text"},"ts":1183081082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"probably not","msgtype":"m.text"},"ts":1183081140000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"what could you conclude from url+#?","msgtype":"m.text"},"ts":1183081141000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"i mean, the page's url + #","msgtype":"m.text"},"ts":1183081142000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1183081143000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"now headers=\"\"","msgtype":"m.text"},"ts":1183081144000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lordy","msgtype":"m.text"},"ts":1183081145000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh, ok, I thought you meant just any URL.  But that would tell you longdescs to the same page","msgtype":"m.text"},"ts":1183081146000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"occording to this http://www.w3.org/TR/2006/REC-xml-20060816/#NT-EmptyElemTag the trailing space on empty/null elements is optional. i can't remember correctly but was there anything about IE not interpreting the empty elements if there were no trailing spaces?","msgtype":"m.text"},"ts":1183081440000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"s/occording/according","msgtype":"m.text"},"ts":1183081500000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"in XHTML? or in raw XML?","msgtype":"m.text"},"ts":1183081501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"IE doesn't support XHTML.","msgtype":"m.text"},"ts":1183081502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but it handles raw XML pretty much per spec.","msgtype":"m.text"},"ts":1183081503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well XHTML is useless for IE so it doesn't make a difference either way right","msgtype":"m.text"},"ts":1183081560000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"im probably mistaken about this","msgtype":"m.text"},"ts":1183081561000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"the trailing space mentioned in xhtml 1.0 appendix c is for NN4","msgtype":"m.text"},"ts":1183081562000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"does NN4 really choke on it?","msgtype":"m.text"},"ts":1183081620000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"for some reason i thought that the trailing space that developers were putting on XHTML documents (served with text/html for IE) contained the trailing spaces.. i thought it was because IE didn't treat them properly when there was no trailing space","msgtype":"m.text"},"ts":1183081621000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"I thought it was pre-NN4 browsers","msgtype":"m.text"},"ts":1183081622000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it treats it as part of the tag name","msgtype":"m.text"},"ts":1183081623000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"they do because of the appendix c guideline, not because of IE","msgtype":"m.text"},"ts":1183081624000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"there are no known widely used browsers that need the space these days","msgtype":"m.text"},"ts":1183081680000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"<br foo=\"\"/> probably works fine in nn4 though (it would just treat it as an attribute)","msgtype":"m.text"},"ts":1183081681000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"interesting. http://www.w3.org/TR/2006/REC-xml-20060816/#NT-EmptyElemTag states its optional but appendix C suggests to use the trailing space","msgtype":"m.text"},"ts":1183081800000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"There are, unfortunately, still some people in the world who use NN4. There was a question on the WSG list recently by someone with a project that had to support Windows 3.1 and NN4 :-/","msgtype":"m.text"},"ts":1183081860000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I think it was some intranet project","msgtype":"m.text"},"ts":1183081861000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"csarven: i highly recommend using text/html and forgetting about XML for the purposes of XHTML :-)","msgtype":"m.text"},"ts":1183081862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"csarven: keep in mind that appendix c is non-normative and is based upon unknown research on ancient browsers.","msgtype":"m.text"},"ts":1183081920000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"...and has conflicting guidelines","msgtype":"m.text"},"ts":1183081980000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"perhaps this is the unclear part for me.. is XHTML not entirely XML? :S","msgtype":"m.text"},"ts":1183081981000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"(don't use PIs, use PIs)","msgtype":"m.text"},"ts":1183081982000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"it is, but it just has guidlines for authors wanting to make it compatible with legacy UAs as text/html","msgtype":"m.text"},"ts":1183081983000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hixie oh this is just for curiosity :)","msgtype":"m.text"},"ts":1183081984000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"ah :-)","msgtype":"m.text"},"ts":1183081985000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"good point Lachy","msgtype":"m.text"},"ts":1183082040000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"zcorpan_ :)","msgtype":"m.text"},"ts":1183082041000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"the guidlines can be mostly ignored, though","msgtype":"m.text"},"ts":1183082042000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"zcorpan_: the conflict is that it says to use <?xml?> decl, but don't use PIs because of the <?foo?> syntax","msgtype":"m.text"},"ts":1183082043000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: C.1 vs C.14","msgtype":"m.text"},"ts":1183082160000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"yeah, I think so","msgtype":"m.text"},"ts":1183082161000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"though C.14 is about when serving as xml, not text/html","msgtype":"m.text"},"ts":1183082162000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"oh, I see, I got it backwards.","msgtype":"m.text"},"ts":1183082220000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"It says don't use <?xml?>, but use <?xml-stylesheet?>","msgtype":"m.text"},"ts":1183082221000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"then there's also the issue that <?xml-stylesheet?> doesn't define how to process stylesheets identified with a fragment ident.","msgtype":"m.text"},"ts":1183082280000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"we need an Associating Style Sheets with XML documents 5","msgtype":"m.text"},"ts":1183082340000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"or perhaps annevk will define that as part of xml5","msgtype":"m.text"},"ts":1183082400000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"<?xml-stylesheet href=\"&#x41;\"?>","msgtype":"m.text"},"ts":1183082700000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_ ASS?","msgtype":"m.text"},"ts":1183082701000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1183082702000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"has a nice ring to it","msgtype":"m.text"},"ts":1183082703000,"senderName":"csarven","senderId":"csarven@irc"},
{"content":{"body":"ASS5","msgtype":"m.text"},"ts":1183082704000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"obviously you should name it Canonical ASS instead","msgtype":"m.text"},"ts":1183083060000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"well there you go: opera expands NCRs in the pseudo-attributes, firefox doesn't","msgtype":"m.text"},"ts":1183083180000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"not that the spec doesn't define that case though","msgtype":"m.text"},"ts":1183083181000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: which way does XML define it?","msgtype":"m.text"},"ts":1183083540000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"sigh","msgtype":"m.text"},"ts":1183083541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm gonna have to implement the Forming a Table algorithm aren't i","msgtype":"m.text"},"ts":1183083600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, yeah","msgtype":"m.text"},"ts":1183083601000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"so","msgtype":"m.text"},"ts":1183083660000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"once i have these two tables constructed (one with headers and one without)","msgtype":"m.text"},"ts":1183083720000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how do i quantitatively compare them?","msgtype":"m.text"},"ts":1183083721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just 1 for different and 0 for the same?","msgtype":"m.text"},"ts":1183083722000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"perhaps -1 for cases where the uses of headers is illegal and so might just confuse AT","msgtype":"m.text"},"ts":1183084320000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ah yes","msgtype":"m.text"},"ts":1183084321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so i can count \"incorrect\", \"redundant\" and \"interesting\"","msgtype":"m.text"},"ts":1183084380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, that low quality and high quality conformance idea you had gives a possible solution to the requirement of alt=\"\".  Make it required in high quality, optional, but recommended, in low quality","msgtype":"m.text"},"ts":1183085340000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"and probably call them Strict and Loose conformance","msgtype":"m.text"},"ts":1183085460000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: the names were carefuly chosen (and a big part of the proposal)","msgtype":"m.text"},"ts":1183087740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1183087741000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I just realised that selectors api doesn't define a feature string for hasFeature(), while most (if not all) other DOM related specs do.  I'm not sure if it matters though.","msgtype":"m.text"},"ts":1183095000000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: see the whatwg spec for commentary on how useless that feature is :-)","msgtype":"m.text"},"ts":1183097940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I know it's useless in JS, that's why I'm not rushing to add it.","msgtype":"m.text"},"ts":1183098000000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"but I notice you include it for HTML5 and also XBL","msgtype":"m.text"},"ts":1183098001000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"hasFeature sucks","msgtype":"m.text"},"ts":1183098120000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Selectors API is best tested for by property testing, at least in JS","msgtype":"m.text"},"ts":1183098121000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but maybe less dynamic languages like Java don't have that luxury","msgtype":"m.text"},"ts":1183098180000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: yeah, that's what I was wondering in #webapi","msgtype":"m.text"},"ts":1183098181000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"for those of you who don't know yet, http://lachy.id.au/log/2007/06/opera :-)","msgtype":"m.text"},"ts":1183101300000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy, onya","msgtype":"m.text"},"ts":1183101480000,"senderName":"fishkandy","senderId":"fishkandy@irc"},
{"content":{"body":"Lachy: what percentage of opera's new hires for the oslo office have to move from another country?","msgtype":"m.text"},"ts":1183104300000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"jruderman: I have no idea","msgtype":"m.text"},"ts":1183104660000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: just wondering since i keep hearing about people moving to norway to work for opera","msgtype":"m.text"},"ts":1183104720000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"well, it's not like the world's top web experts already live in norway","msgtype":"m.text"},"ts":1183104721000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I've been told there's people from 41 different nationalities working there","msgtype":"m.text"},"ts":1183104780000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"haha both apple and opera love The New York Times as an example site to show on a mobile phone","msgtype":"m.text"},"ts":1183104781000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"you should see how most phone browsers render it :-)","msgtype":"m.text"},"ts":1183104840000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1183104960000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"what do opera and safari do with simple fixed-width pages? do you have to scroll left and right as you read each line of a paragraph?","msgtype":"m.text"},"ts":1183105020000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"(on phones)","msgtype":"m.text"},"ts":1183105021000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"in Mobile Safari you can pinch-zoom, pan, and double-tap to zeem a block of text to fit","msgtype":"m.text"},"ts":1183105022000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"*zoom","msgtype":"m.text"},"ts":1183105023000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"dunno what Opera does","msgtype":"m.text"},"ts":1183105024000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I hate fixed-width pages","msgtype":"m.text"},"ts":1183105025000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"even on the desktop","msgtype":"m.text"},"ts":1183105080000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Opera has small screen rendering, which you can simulate in the desktop browser","msgtype":"m.text"},"ts":1183105081000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"i don't want to zoom to fit the width of the block if that means each letter is 4px..","msgtype":"m.text"},"ts":1183105082000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"I thinkthere's a video that demonstrates the web browser somewhere on the apple site","msgtype":"m.text"},"ts":1183105140000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"they always demo with the new york times","msgtype":"m.text"},"ts":1183105141000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"or google","msgtype":"m.text"},"ts":1183105142000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"jruderman: you'll have to try one or get someone to demo if you want to see","msgtype":"m.text"},"ts":1183105200000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"jruderman: could probably expense it for \"competitive analysis\"","msgtype":"m.text"},"ts":1183105260000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hmm. the apple site says the video is 175MB to download. It's actually 318MB http://www.apple.com/iphone/usingiphone/guidedtour.html","msgtype":"m.text"},"ts":1183105320000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: only the five entities are expanded in xml-stylesheet pseudo-attributes per ASS","msgtype":"m.text"},"ts":1183109160000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"yeah, I only expected the 5 predefined entities to be expanded","msgtype":"m.text"},"ts":1183109220000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"but is that true even if there's a doctype with an internal subset?","msgtype":"m.text"},"ts":1183109221000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: Congratulations on your new job :)","msgtype":"m.text"},"ts":1183109280000,"senderName":"Fuzzy76","senderId":"Fuzzy76@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1183109281000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: yes","msgtype":"m.text"},"ts":1183109282000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"is that a browser limitation, or per spec?","msgtype":"m.text"},"ts":1183109283000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"spec","msgtype":"m.text"},"ts":1183109284000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1183109285000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"haven't tested throughly what browsers do, just did one basic test (with the NCR) and found that firefox and opera did different things","msgtype":"m.text"},"ts":1183109340000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"i might try to get the spec updated too... it's not sane and leaves things undefined","msgtype":"m.text"},"ts":1183109400000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I have to write a 40 minute presentation on HTML5 before the 20th, and I'll be away from the 7th to the 15th.","msgtype":"m.text"},"ts":1183109760000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: congrats on the job","msgtype":"m.text"},"ts":1183109761000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1183109762000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"... and I'll be working on the XBL primer on the 4th and 5th.  I am really going to struggle to find the time :-/","msgtype":"m.text"},"ts":1183109880000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hixie: Re: survey on longdesc: you should probably dereference the URI and check the content type of what is found","msgtype":"m.text"},"ts":1183110060000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: considering the bogosity of longdesc pointing to an image","msgtype":"m.text"},"ts":1183110061000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: could perhaps be checked by checking if it's the same as src=\"\"? (there already is a check for same as parent <a href>)","msgtype":"m.text"},"ts":1183110180000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hmm. <!doctype html public \">\">","msgtype":"m.text"},"ts":1183110240000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"all browsers terminate the doctype at the first >","msgtype":"m.text"},"ts":1183110241000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"that'd be easy to fix in the spec","msgtype":"m.text"},"ts":1183110540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183110541000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"\"Clarify who is in charge of dropping BOMs. Hint: it's not the air force.\" :)","msgtype":"m.text"},"ts":1183110840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"are 512 byte boundary charset meta tests available as individual files somewhere?","msgtype":"m.text"},"ts":1183110960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"extra points if there are tests where a broken UTF-8 bytes requence lies across the 512 byte boundary","msgtype":"m.text"},"ts":1183111020000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"byte sequence even","msgtype":"m.text"},"ts":1183111021000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: i think Hixie has some tests on that","msgtype":"m.text"},"ts":1183111080000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hsivonen: i can't, i have no network in this environment","msgtype":"m.text"},"ts":1183111081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ok. not even metadata from Google cache?","msgtype":"m.text"},"ts":1183111082000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://hixie.ch/tests/adhoc/html/parsing/encoding/ has some tests","msgtype":"m.text"},"ts":1183111140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok. I'll see if some of those are what I'm looking for","msgtype":"m.text"},"ts":1183111200000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: not with the way i'm doing it","msgtype":"m.text"},"ts":1183111320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ok","msgtype":"m.text"},"ts":1183111321000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"when you start trying to do scans of billions of documents, things like looking up information in a database becoomes unscalable","msgtype":"m.text"},"ts":1183111380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I wonder if ia_archiver searches the Web depth first, breadth first or something else","msgtype":"m.text"},"ts":1183111500000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"for surveys you want to do breadth first, right, to diversify results given finite time?","msgtype":"m.text"},"ts":1183111501000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"almost certainly (c), since when you run a spider of that scale you have to take into account rate of retrieval per-server","msgtype":"m.text"},"ts":1183111560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how about collecting the set of referenced docs and checking those later?","msgtype":"m.text"},"ts":1183111620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: re Jirka's \"Parse errors are allowed to be corrected by parser:","msgtype":"m.text"},"ts":1183111621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it would be interesting to hook up my Java parser (once ready) to the IA crawler so that people outside google with reasonable CPU and network could do smallish surveys","msgtype":"m.text"},"ts":1183111622000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"","msgtype":"m.text"},"ts":1183111623000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: HTML4 allowed it too","msgtype":"m.text"},"ts":1183111624000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<!doctypehtmlpublic\"x\">","msgtype":"m.text"},"ts":1183111625000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Hixie, yeah, I don't think I'm going to bother though","msgtype":"m.text"},"ts":1183111680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"...has the name \"HTML\" and the FPI \"x\" in firefox","msgtype":"m.text"},"ts":1183111681000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: has the name \"htmlpublic\"a\"\" in the spec","msgtype":"m.text"},"ts":1183111682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183111683000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I wonder if any of the people who volunteered to survey the top sites are interested if getting the framework ready if I give an API spec for using the conformance checker development version","msgtype":"m.text"},"ts":1183111740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"bed time","msgtype":"m.text"},"ts":1183111741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1183111742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"night","msgtype":"m.text"},"ts":1183111743000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1183111744000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"ok. Hixie's tests 044, 045 and 046 are what I wanted","msgtype":"m.text"},"ts":1183112160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ha! <!doctype html public \"x>\"> triggers standards mode in firefox (yet renders the \"> characters in body), but <!doctype html public \"x> triggers quirks mode","msgtype":"m.text"},"ts":1183112280000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"that shows the preparsing I guess","msgtype":"m.text"},"ts":1183112281000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183112282000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"w00t! Passed the tests on the first try after implementing something as complex as doing the buffering trickery around the 512 byte boundary","msgtype":"m.text"},"ts":1183112520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: nice :)","msgtype":"m.text"},"ts":1183112521000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hsivonen: why would you drop them on the floor?","msgtype":"m.text"},"ts":1183112760000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: depends on whether you want to report null or a string that has prematurely ended","msgtype":"m.text"},"ts":1183112820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan_: on the face of it, reporting null makes sense if the string wasn't properly terminated","msgtype":"m.text"},"ts":1183112821000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I now got the IBM UTF-8 decoder loaded instead of the Sun version. and now my code crashes","msgtype":"m.text"},"ts":1183112880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder why","msgtype":"m.text"},"ts":1183112881000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: well, the doctype's correctness flag is set to incorrect anyway...","msgtype":"m.text"},"ts":1183112940000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Aargh. the IBM decoder does really wrong things when reporting UTF-8 errors","msgtype":"m.text"},"ts":1183113000000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oops","msgtype":"m.text"},"ts":1183113480000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"ie doesn't terminate at > in FPI","msgtype":"m.text"},"ts":1183113540000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"or in quotes anywhere","msgtype":"m.text"},"ts":1183113541000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"anywhere?","msgtype":"m.text"},"ts":1183113542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<! \">\"?","msgtype":"m.text"},"ts":1183113543000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<!-- \"-->\" --> ?","msgtype":"m.text"},"ts":1183113544000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"those are not doctypes","msgtype":"m.text"},"ts":1183113545000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"no kididng","msgtype":"m.text"},"ts":1183113600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but seems to apply to <! \">\" > ","msgtype":"m.text"},"ts":1183113601000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"not <!-- \"-->\" -->","msgtype":"m.text"},"ts":1183113602000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"applies to <? \">\" > and </ \">\" > too","msgtype":"m.text"},"ts":1183113660000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"<^_^>","msgtype":"m.text"},"ts":1183113720000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"fancy","msgtype":"m.text"},"ts":1183113721000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"seems like IE has the same handling for all of those","msgtype":"m.text"},"ts":1183113722000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"as it doesn't really support DOCTYPEs","msgtype":"m.text"},"ts":1183113723000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1183113780000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I wonder if Java 6 fixes the UTF-8 decoder holes","msgtype":"m.text"},"ts":1183114260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"anyway, as of Java 5, both the JDK and ICU4J are b0rked","msgtype":"m.text"},"ts":1183114261000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder if the new encoding sniffer works for <meta> 512 bytes <meta> 512 bytes <meta> ...","msgtype":"m.text"},"ts":1183117680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: \"the new\"?","msgtype":"m.text"},"ts":1183117920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the one that works together with the parser","msgtype":"m.text"},"ts":1183118040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and has this confident flag","msgtype":"m.text"},"ts":1183118041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: is there a spec change?","msgtype":"m.text"},"ts":1183118042000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: or is this about html5lib?","msgtype":"m.text"},"ts":1183118043000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"there was a spec change","msgtype":"m.text"},"ts":1183118044000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"r955","msgtype":"m.text"},"ts":1183118100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what? did Hixie remove the magic 512 boundary?","msgtype":"m.text"},"ts":1183118280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"just when I got it working","msgtype":"m.text"},"ts":1183118281000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I think that boundary is still there for authors","msgtype":"m.text"},"ts":1183118340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"actually","msgtype":"m.text"},"ts":1183118400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i think he did","msgtype":"m.text"},"ts":1183118520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is rather miffed","msgtype":"m.emote"},"ts":1183118521000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: you can perhaps use the code to emit a warning, suggesting that encoding declarations should be as early as possible in the source to improve perf (and interop?)","msgtype":"m.text"},"ts":1183118820000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"perhaps","msgtype":"m.text"},"ts":1183118880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm going to stop chasing encoding and tokenization spec changes for a while","msgtype":"m.text"},"ts":1183118881000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'd love to see a realistic spec on how much data to feed to chardet","msgtype":"m.text"},"ts":1183118940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that is, should I buffer the entire stream or n first bytes","msgtype":"m.text"},"ts":1183119000000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i think guessing 512 bytes is reasonable","msgtype":"m.text"},"ts":1183119060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if you then later encounter a different encoding you'd have to switch","msgtype":"m.text"},"ts":1183119061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Gecko seems to run chardet on the first buffer the html parser gets from the channel but I have no idea how big that buffer is","msgtype":"m.text"},"ts":1183119120000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hopes someone else finds out so that I don't need to find out using a debugger","msgtype":"m.emote"},"ts":1183119180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"what does IE do?","msgtype":"m.text"},"ts":1183119181000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"will a future WebKit use the ICU detector once it is ported to C?","msgtype":"m.text"},"ts":1183119182000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"so the spec allows first a preparse, then a real parse, and then a real parse again if the first real parse found conflicting encoding information?","msgtype":"m.text"},"ts":1183119900000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"e.g. <style><meta charset=utf-8></style><meta charset=windows-1252>","msgtype":"m.text"},"ts":1183120020000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"it seems to allow only a single preparse (optional) and only a single reparse","msgtype":"m.text"},"ts":1183120080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan_: but is the first \"real\" parse running scripts?","msgtype":"m.text"},"ts":1183120081000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I don't trust that the current spec is the last word on this topic","msgtype":"m.text"},"ts":1183120260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"why is the preparse specced at all, if it yealds the same result as not preparsing (modulo perf)?","msgtype":"m.text"},"ts":1183120320000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"It would be nice if the people in charge of the relevant code in Trident, Gecko, WebKit and Presto just disclosed what exactly it is they do and what they want to do","msgtype":"m.text"},"ts":1183120321000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"or wait, it doesn't yeald the same result. not preparsing doesn't catch encoding declarations in cdata elements","msgtype":"m.text"},"ts":1183120440000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"so if it's optional and different how can we achieve interop?","msgtype":"m.text"},"ts":1183120441000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"would be interested in learning Hixie's thinking here","msgtype":"m.emote"},"ts":1183120500000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"where does svn keep passwords? does the working copy have any private data?","msgtype":"m.text"},"ts":1183120560000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"If you checked out from a http://name:password⊙. then it'll store that in .svn/entries, which (I've found) becomes annoying when you don't notice","msgtype":"m.text"},"ts":1183120680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If you don't do that, I think it's up to the SVN client how it asks you for passwords or remembers the previous entries, and it shouldn't store that in the working copy anywhere","msgtype":"m.text"},"ts":1183120740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(No idea where it does store it, though)","msgtype":"m.text"},"ts":1183120800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"can you make it store it?","msgtype":"m.text"},"ts":1183120801000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Philip`: thanks","msgtype":"m.text"},"ts":1183120802000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I guess I'll sanitize the svn-specific directories then","msgtype":"m.text"},"ts":1183120860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I guess it also depends if it's http:// vs svn+ssh://, since the SVN client will log in in different ways and would differ on whether/how it saves passwords","msgtype":"m.text"},"ts":1183120861000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the Java http://java.sun.com/j2se/1.4.2/docs/api/java/io/InputStream.html#mark(int) contract doesn't allow saying that the mark should never become invalid...","msgtype":"m.text"},"ts":1183120920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"which totally sucks considering arbitrary rewinding","msgtype":"m.text"},"ts":1183120921000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"'svn export' seems to be a convenient way of removing the .svn directories","msgtype":"m.text"},"ts":1183120922000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"OTOH, if the underlying stream *does* support arbitrary rewinding, implementing my own is bad for perf","msgtype":"m.text"},"ts":1183120980000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"do browsers act on a meta charset even if there's a <body> first?","msgtype":"m.text"},"ts":1183121040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan_: one thing you could test is putting upper or lower case Turkish i in various places where the spec requires a literal string that contains an i","msgtype":"m.text"},"ts":1183125480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan_: Opera has a history of making comparisons where the Turkish i equals an ASCII i","msgtype":"m.text"},"ts":1183125540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: ok. thanks","msgtype":"m.text"},"ts":1183126080000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"U+0130 (İ) and U+0131 (ı)","msgtype":"m.text"},"ts":1183126260000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"why is Node.localName uppercased?","msgtype":"m.text"},"ts":1183132440000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"because there are people relying on it I guess?","msgtype":"m.text"},"ts":1183132560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm... wouldn't think so","msgtype":"m.text"},"ts":1183132561000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"because it returns undefined in IE?","msgtype":"m.text"},"ts":1183132620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah. and if you use .localName you probably also check .namespaceURI or so. and i wouldn't expect it to be uppercased","msgtype":"m.text"},"ts":1183132680000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"it would be nice if there was a canonical property available","msgtype":"m.text"},"ts":1183132800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you might do something like if ((elm.tagName == \"A\" && !elm.namespaceURI) || (elm.localName == \"a\" && elm.namespaceURI == \"http://www.w3.org/1999/xhtml\"))","msgtype":"m.text"},"ts":1183132801000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"where the former is for legacy HTML UA and the second is for HTML5 UA and for XHTML","msgtype":"m.text"},"ts":1183132860000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hmm, document.createElementNS(\"A\", xhtmlNS) is interesting","msgtype":"m.text"},"ts":1183133460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it will claim \"a\" yet not implement HTMLAnchorElement","msgtype":"m.text"},"ts":1183133461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"createElementNS is case-changing? in what impl?","msgtype":"m.text"},"ts":1183133520000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the English prose of HTML5?","msgtype":"m.text"},"ts":1183133521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for HTML Elements (elements in the XHTML namespace) in HTML documents .tagName etc. will return lowercase","msgtype":"m.text"},"ts":1183133522000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"however, document.createElementNS will not have its first argument lowercased","msgtype":"m.text"},"ts":1183133580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which gives you the aforementioned edge case","msgtype":"m.text"},"ts":1183133581000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah. ok. then createElementNS isn't case-changing (and html5 doesn't say it is)","msgtype":"m.text"},"ts":1183133582000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":".tagName will return uppercase btw","msgtype":"m.text"},"ts":1183133700000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: +1 on localName returning lower case in text/html DOM","msgtype":"m.text"},"ts":1183134420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"isn't drawWindow part of the HTML5 specs?","msgtype":"m.text"},"ts":1183135800000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"(canvas)","msgtype":"m.text"},"ts":1183135801000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1183135802000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so is it supported only by mozilla firefox?","msgtype":"m.text"},"ts":1183136100000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"or by opera/safari ?","msgtype":"m.text"},"ts":1183136101000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I believe only by Firefox","msgtype":"m.text"},"ts":1183136160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and only for priveleged JavaScript","msgtype":"m.text"},"ts":1183136161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"duryodhan: Yep, it's Firefox-only (so it really should be in a getContext('moz-2d') or something, though it isn't, which is perhaps annoying if the spec added something like drawWindow (e.g. to handle the text-drawing issue) with different semantics)","msgtype":"m.text"},"ts":1183136820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"text-drawing issue?","msgtype":"m.text"},"ts":1183136880000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"You can't (currently) draw text onto the canvas easily, and I think one proposed solution was to have something like drawWindow so you could set up an HTML element with CSS formatting and everything, and stick text into that and then draw it onto the canvas","msgtype":"m.text"},"ts":1183136940000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hmm ... then might as well implement the moz drawWindow ...","msgtype":"m.text"},"ts":1183137060000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Hmm, I guess it would have to be more like drawElement rather than drawWindow","msgtype":"m.text"},"ts":1183137180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(or just another drawImage overload)","msgtype":"m.text"},"ts":1183137240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"since drawing whole windows is a fairly limited functionality (unless you're very careful and cut out precisely the section surrounding the element you want), so maybe it doesn't matter that they stole the drawWindow name already","msgtype":"m.text"},"ts":1183137300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the problem with drawElement would be ... it is painful to know where the element is exactly ...","msgtype":"m.text"},"ts":1183137420000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"mean to say a form ...","msgtype":"m.text"},"ts":1183137421000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"one could start off a form anywhere and end it anywhere ... ","msgtype":"m.text"},"ts":1183137422000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"the code for some buttons might be in between the <form > and </form>","msgtype":"m.text"},"ts":1183137480000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"but the button may be in some god forsaken place ...","msgtype":"m.text"},"ts":1183137481000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"The form element is always defining a subtree in the DOM, so you can just do drawElement(getElementById('some-form'), 200, 100, 0, 0) and the browser can work out how to render that piece of the document (with all its contained elements, and affected by stylesheets) in a 200x100 container with a transparent background, then paint it onto the canvas at posiion 0,0, perhaps","msgtype":"m.text"},"ts":1183137600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/ii/iti/","msgtype":"m.text"},"ts":1183137660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so it will basically draw so that everything in between <form> </form> is rendered?","msgtype":"m.text"},"ts":1183137840000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Yep - kind of like extracting the whole <form>...</form> into a new clean document and rendering that, ignoring all the extra stuff from the original page (except probably keeping all the stylesheets that applied to that element (and its contents) from the original page). But maybe that's totally impossible to implement - I have no idea really :-)","msgtype":"m.text"},"ts":1183138020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah...","msgtype":"m.text"},"ts":1183138080000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I was trying to do something like that in scripts ...","msgtype":"m.text"},"ts":1183138081000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"offsetLeft etc....","msgtype":"m.text"},"ts":1183138082000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"but I am pretty sure that the co-ords would be wrong for a weird form","msgtype":"m.text"},"ts":1183138140000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"It does sound hard (/impossible) in general to work out what rectangle on the page corresponds to a certain element, particularly if there's stylesheets moving everything around","msgtype":"m.text"},"ts":1183138320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and perhaps that would be simplified by just defining the rectangle first, and then telling the content to draw itself inside there (the same as what happens when drawing stuff into the screen rectangle, except directly onto the canvas rather than the screen)","msgtype":"m.text"},"ts":1183138380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I don't think I understand ... if the content is drawn into the canvas .. user can","msgtype":"m.text"},"ts":1183138560000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"'t interface with it ","msgtype":"m.text"},"ts":1183138561000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Why would you want an interactive form in the canvas, rather than just drawn as normal HTML?","msgtype":"m.text"},"ts":1183138740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I mean to ask .... why would you directly write to canvas?","msgtype":"m.text"},"ts":1183139100000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"instead of writing to HTML ?","msgtype":"m.text"},"ts":1183139101000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"I dont know what I am talking","msgtype":"m.text"},"ts":1183139102000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1183139103000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"Oh, as in why would you draw the element as a new separate thingy onto the canvas, rather than cutting out an existing part of the rendered HTML page?","msgtype":"m.text"},"ts":1183139340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Probably the main reason is that you'd want to draw things without them being part of the HTML page","msgtype":"m.text"},"ts":1183139341000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"like drawElement(document.createTextNode('Hello world')) or something","msgtype":"m.text"},"ts":1183139400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"else you'd end up with loads of rubbish stuck all over your page, when you only ever wanted to draw it into the canvas","msgtype":"m.text"},"ts":1183139401000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah.. I am still stuck with the notion of drawing stuff already existing on the page ....i.e clicking a snap ...","msgtype":"m.text"},"ts":1183139880000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"is a little confused and talking through his hat","msgtype":"m.emote"},"ts":1183139881000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"doesn't really know about the actual technical details about how any of this could work","msgtype":"m.emote"},"ts":1183139882000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1183139940000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"two ppl who don't know anything ... discussing stuff ...","msgtype":"m.text"},"ts":1183139941000,"senderName":"duryodhan","senderId":"duryodhan@irc"},
{"content":{"body":"hsivonen: the current spec on encoding was what it is now before you asked me if i was going to make any more changes, and the changes were made in response to your e-mail","msgtype":"m.text"},"ts":1183140000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: there are people discussing XHR in the whatwg list","msgtype":"m.text"},"ts":1183141740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.0x000000.com/?i=365","msgtype":"m.text"},"ts":1183143600000,"senderName":"met_","senderId":"met_@irc"},
{"content":{"body":"how do browsers deal with LF separated HTTP headers?","msgtype":"m.text"},"ts":1183145340000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: yeah, that email was from the time when I thought that a single pass over the document and changing decoders on the fly was feasible. :-(","msgtype":"m.text"},"ts":1183146720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: i think what the spec does now is pretty much what is required for web compat. note that the 512 byte thing isn't wasted, it's actually still there it's just that you get to pick the number (and it can be zero or the whole file)","msgtype":"m.text"},"ts":1183147740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(or anywhere in between, including 512)","msgtype":"m.text"},"ts":1183147741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ok. I'll cool down a bit and implement the tree builder spec","msgtype":"m.text"},"ts":1183147800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1183147801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(obviously, I should have paid closer attention to the sniffing section. I was tracking the changes to tokenization)","msgtype":"m.text"},"ts":1183147802000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"well my point is there weren't really any changes","msgtype":"m.text"},"ts":1183147860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just additions","msgtype":"m.text"},"ts":1183147861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't think it should have made any code you wrote obsolete","msgtype":"m.text"},"ts":1183147862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I think the main issue is if we can get browsers to agree how many bytes to examine. if not, everyone will have to scan the entire file or risk incompatibility with someone else","msgtype":"m.text"},"ts":1183147920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"no the current system is that you scan as many bytes as you like, and then do the real parser, and if the real parser finds a conflicting encoding, you start over using that instead.","msgtype":"m.text"},"ts":1183147921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which is what browsers do, basically","msgtype":"m.text"},"ts":1183147922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it makes the prescan optional for interop, effectively","msgtype":"m.text"},"ts":1183147923000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gotta go, lunch, brt","msgtype":"m.text"},"ts":1183147980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbl, rather","msgtype":"m.text"},"ts":1183147981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: another thing: since the sniffing can now proceed past the first 512 bytes, the perf penalty for not declaring the encoding is potentially serious. ","msgtype":"m.text"},"ts":1183147982000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: so it would make sense to encourage even the ASCII-only folk to declare","msgtype":"m.text"},"ts":1183147983000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: also, always making the undeclared case non-conforming helps sanity checking CMSs even if it is a tad drastic for individual docs","msgtype":"m.text"},"ts":1183148040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"this is cool http://iphonetester.com/","msgtype":"m.text"},"ts":1183149000000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"are head and body the only node that get attributes appended to them after the initial insertion to the document?","msgtype":"m.text"},"ts":1183150320000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk, \"misnormers\" is a misnomer","msgtype":"m.text"},"ts":1183150860000,"senderName":"mpt","senderId":"mpt@irc"},
{"content":{"body":"hmmm... now that i test again, ie seems to skip past CDATA and RCDATA elements when looking for encoding declarations","msgtype":"m.text"},"ts":1183151160000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"or it uses its real parser, with the content model flags","msgtype":"m.text"},"ts":1183151220000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the problem with the current spec is that the preparser can find things that the real parser doesn't","msgtype":"m.text"},"ts":1183151700000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"also, safari, firefox and opera don't change their mind after they've found an encoding decl with the preparser","msgtype":"m.text"},"ts":1183151760000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"afaict","msgtype":"m.text"},"ts":1183151820000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"i.e., ie does what the spec says but preparses 0 bytes. the others do what the spec says but preparses the whole thing and sets the confidence flag to certain when it has found a meta charset","msgtype":"m.text"},"ts":1183152000000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"mpt: misspelled or wrongly used?","msgtype":"m.text"},"ts":1183152420000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"(or both)","msgtype":"m.text"},"ts":1183152480000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"possibly both","msgtype":"m.text"},"ts":1183152481000,"senderName":"mpt","senderId":"mpt@irc"},
{"content":{"body":"The passive voice makes the statement unexplained, so it's difficult to tell","msgtype":"m.text"},"ts":1183152482000,"senderName":"mpt","senderId":"mpt@irc"},
{"content":{"body":"iirc, the earlier draft said that results=\"\" assumed a particular UI or something like that","msgtype":"m.text"},"ts":1183152660000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hsivonen: well, UAs are gonna have to work out what the right tradeoff is for the encoding detection (how long to prescan before just doing the heavy duty parse)","msgtype":"m.text"},"ts":1183152960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: what about interop?","msgtype":"m.text"},"ts":1183153020000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: the preparse never sets a confident encoding","msgtype":"m.text"},"ts":1183153021000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: you always verify the encoding with the real parser","msgtype":"m.text"},"ts":1183153022000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1183153023000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: does the real parser undo tentative encoding information if it doesn't find any?","msgtype":"m.text"},"ts":1183153080000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Hixie: <style><meta charset=utf-8></style>","msgtype":"m.text"},"ts":1183153081000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"ah, good point","msgtype":"m.text"},"ts":1183153140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"then again, it's already non-compliant to not have an encoding declaration if you're not using pure ascii","msgtype":"m.text"},"ts":1183153141000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"being non-compliant doesn't make implementations interoperate ;)","msgtype":"m.text"},"ts":1183153200000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Hixie: why isn't to not have an encoding declaration. Period.?","msgtype":"m.text"},"ts":1183153201000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"s/isn't to/isn't non-compliant to/","msgtype":"m.text"},"ts":1183153260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Should html5 drag&drop model work across domains or only in the same domain? cannot find it in the spec","msgtype":"m.text"},"ts":1183153261000,"senderName":"met_","senderId":"met_@irc"},
{"content":{"body":"hsivonen: because I don't want \"<!DOCTYPE HTML><title>Hello</title><p>Hello\" to be invalid.","msgtype":"m.text"},"ts":1183153380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: if we want encoding detection to be interoperable, then i think we either should go the ie route (use the real parser for the whole file to find encoding information) or the firefox/opera/safari route (use the pre-parser for the whole file to find encoding information)","msgtype":"m.text"},"ts":1183153440000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"i do not believe that firefox uses the pre-parser over the whole file","msgtype":"m.text"},"ts":1183153500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that would imply they don't do incremental parsing, which is demonstrably false.","msgtype":"m.text"},"ts":1183153501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it finds encoding declarations inside <style>, and it doesn't change its mind later on with encoding declarations that the real parser would find","msgtype":"m.text"},"ts":1183153560000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"yeah, i think they should fix that","msgtype":"m.text"},"ts":1183153561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you could make it valid by adding the UTF-8 BOM","msgtype":"m.text"},"ts":1183153800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i can't easily type the UTF-8 BOM","msgtype":"m.text"},"ts":1183153801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: do I understand correctly that \"reconstruct the active formatting elements\" is a no-op if only character tokens have been processed since the last \"reconstruct the active formatting elements\"?","msgtype":"m.text"},"ts":1183153860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i believe that to be the case, yes","msgtype":"m.text"},"ts":1183153861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: thanks","msgtype":"m.text"},"ts":1183153862000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ok. so the ie route then. with an optional preparse. but then the real parser needs to undo tentative encoding information when it doesn't find any. no?","msgtype":"m.text"},"ts":1183153863000,"senderName":"zcorpan__","senderId":"zcorpan__@irc"},
{"content":{"body":"hsivonen: in fact you can always treat runs of non-whitespace character tokens and runs of whitespace character tokens as single tokens.","msgtype":"m.text"},"ts":1183153920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(the same is not true for runs of whitespace and non-whitespace)","msgtype":"m.text"},"ts":1183153921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan_: well, what would it \"undo\" it to?","msgtype":"m.text"},"ts":1183153922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: that's what I'm asking, yes. And \"in body\" I can treat them both as a single token, right?","msgtype":"m.text"},"ts":1183153923000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i believe that's what i do in my parser, yes","msgtype":"m.text"},"ts":1183153980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok. I'll optimize the \"in body\" case","msgtype":"m.text"},"ts":1183153981000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: whatever it would have used if it didn't preparse","msgtype":"m.text"},"ts":1183154100000,"senderName":"zcorpan__","senderId":"zcorpan__@irc"},
{"content":{"body":"it would have used some random guess","msgtype":"m.text"},"ts":1183154160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah. fair enough","msgtype":"m.text"},"ts":1183154220000,"senderName":"zcorpan__","senderId":"zcorpan__@irc"},
{"content":{"body":"i mean i see what you're saying, but i don't really see how you could check to see if a UA did \"undo\" it or not","msgtype":"m.text"},"ts":1183154280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't really have a good solution to this","msgtype":"m.text"},"ts":1183154281000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we can't really limit how much you preparse, or require it to be a certain minimum, because that has big perf implications","msgtype":"m.text"},"ts":1183154340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and browsers would just ignore us","msgtype":"m.text"},"ts":1183154341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you can check by comparing with a test that doesn't have any encoding declaration","msgtype":"m.text"},"ts":1183154342000,"senderName":"zcorpan__","senderId":"zcorpan__@irc"},
{"content":{"body":"however, i don't think there is content that relies on encoding declarations in (r)cdata elements applying, since ie doesn't see them","msgtype":"m.text"},"ts":1183154400000,"senderName":"zcorpan__","senderId":"zcorpan__@irc"},
{"content":{"body":"well, the problem is you are allowed to pick a different default each time","msgtype":"m.text"},"ts":1183154401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"as you \"learn\"","msgtype":"m.text"},"ts":1183154402000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah. yeah that's true","msgtype":"m.text"},"ts":1183154460000,"senderName":"zcorpan__","senderId":"zcorpan__@irc"},
{"content":{"body":"Hixie: under \"in table\" anything else you say \"If the current node is a table, tbody, tfoot, thead, or tr element, then, whenever a node would be inserted into the current node, it must instead be inserted into the foster parent element.\" How can the current node be anything other than a table element?","msgtype":"m.text"},"ts":1183154580000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"<table><i>","msgtype":"m.text"},"ts":1183154640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"at this point, the current element is an <i>","msgtype":"m.text"},"ts":1183154641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but you're \"in table\"","msgtype":"m.text"},"ts":1183154642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1183154700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but I don't see the consequences","msgtype":"m.text"},"ts":1183154701000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"consider <table><i>X</i>Y","msgtype":"m.text"},"ts":1183154760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the <i> goes into the foster parent","msgtype":"m.text"},"ts":1183154761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"then the X goes into the <i>, because the <i> is the current node","msgtype":"m.text"},"ts":1183154762000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"then you close the <i> with the </i>, so the current node is the <table> again","msgtype":"m.text"},"ts":1183154763000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so the Y goes into the foster parent","msgtype":"m.text"},"ts":1183154764000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: but the foster parent is the table itself, right?","msgtype":"m.text"},"ts":1183154765000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"no, the foster parent is the element the table is in","msgtype":"m.text"},"ts":1183154820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ooh","msgtype":"m.text"},"ts":1183154821000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"assuming no dom mutations are going on","msgtype":"m.text"},"ts":1183154822000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so <div><br 1><table><p><br 2></table><br 3> results in  <div><br 1><p><br 2><table></table><br 3></div>","msgtype":"m.text"},"ts":1183154823000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1183154880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"basically, insertToFosterParent will throw in the streaming mode","msgtype":"m.text"},"ts":1183154940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"fwiw what i did was use a function pointer as my \"append to tree\" function, and most of the time it's just the straight forward add to tree, but when \"in table\" in points to a function that does the check","msgtype":"m.text"},"ts":1183155000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that way you don't pay for the cost all the time","msgtype":"m.text"},"ts":1183155001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes, in streaming mode i don't have a solution for tables","msgtype":"m.text"},"ts":1183155060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what i recommend is actually to buffer up all the content that would be appended before the table","msgtype":"m.text"},"ts":1183155061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and then when you leave the table, fire a non-SAX event of everything you collected","msgtype":"m.text"},"ts":1183155062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or just delay all those events til after the table","msgtype":"m.text"},"ts":1183155120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so the content that normally would go before the table goes after it instead","msgtype":"m.text"},"ts":1183155121000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I didn't follow: what saving did the function pointer give?","msgtype":"m.text"},"ts":1183155122000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wherever i would have called appendChild(), instead dereferenced the function and called that instead","msgtype":"m.text"},"ts":1183155180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so it's just a pointer dereference each time","msgtype":"m.text"},"ts":1183155181000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"instead of being a comparison to the current node each time","msgtype":"m.text"},"ts":1183155182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe it's not cheap to do that in java","msgtype":"m.text"},"ts":1183155183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in the language i was using a function pointer is exactly as cheap as a function call","msgtype":"m.text"},"ts":1183155184000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since all functions are actually function pointers","msgtype":"m.text"},"ts":1183155240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't see why the pointer thing wouldn't be masked by other branches anyway","msgtype":"m.text"},"ts":1183155241000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"how do you mean?","msgtype":"m.text"},"ts":1183155242000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"If I check for \"in table\", doesn't that mask the pointer issue","msgtype":"m.text"},"ts":1183155300000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"where?","msgtype":"m.text"},"ts":1183155301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or did you implement each phase as a set of function pointers that you plug in?","msgtype":"m.text"},"ts":1183155302000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"like html5lib has a class for each phase","msgtype":"m.text"},"ts":1183155303000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i just have a massive set of nested switch() statements","msgtype":"m.text"},"ts":1183155304000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"me too","msgtype":"m.text"},"ts":1183155360000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"my implementation is basically a literal implementation of the spec","msgtype":"m.text"},"ts":1183155361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"are your tokens objects or callbacks?","msgtype":"m.text"},"ts":1183155362000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"they're tuples, which is basically a struct (object)","msgtype":"m.text"},"ts":1183155363000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"my tokens are callbacks, so the code order of the tree builder goes against the grain of the spec, which sucks","msgtype":"m.text"},"ts":1183155420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"my tokeniser is a function that runs until it returns a token","msgtype":"m.text"},"ts":1183155421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1183155422000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why did you do it that way?","msgtype":"m.text"},"ts":1183155423000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think the ideal way of implementing the tokeniser is a generator function a la python's yield","msgtype":"m.text"},"ts":1183155424000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: because the \"emit a token\" model mentally matched SAX","msgtype":"m.text"},"ts":1183155480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: does yield store the current continuation?","msgtype":"m.text"},"ts":1183155481000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1183155482000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i've never used it but it seems perfect for the input stream and the tokeniser","msgtype":"m.text"},"ts":1183155483000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no luck with storing continuations in Java without doing it by blocking a thread","msgtype":"m.text"},"ts":1183155540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah, same in sawzall","msgtype":"m.text"},"ts":1183155541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"except you have no threads :-)","msgtype":"m.text"},"ts":1183155542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: anyway, doing the tokenizer the way I've seen SAX parsers written was a perfect match for the spec","msgtype":"m.text"},"ts":1183155600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1183155601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sounds less than perfect for the tree part :-(","msgtype":"m.text"},"ts":1183155602000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: but now I need to group tree building by token instead of by phase/mode","msgtype":"m.text"},"ts":1183155603000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1183155604000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"makes sense","msgtype":"m.text"},"ts":1183155605000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183155606000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i've seen other implementations of the tree part that work that way","msgtype":"m.text"},"ts":1183155607000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so it's certainly possible","msgtype":"m.text"},"ts":1183155660000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I haven't seen anything impossible yet. the random access to the spec just sucks","msgtype":"m.text"},"ts":1183155661000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"random access to the spec?","msgtype":"m.text"},"ts":1183155662000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh you mean the way the spec doesn't match it?","msgtype":"m.text"},"ts":1183155663000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183155664000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: having to seek the right piece of spec when I go over my code stubs instead of making a sequential pass over the spec","msgtype":"m.text"},"ts":1183155720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183155721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Do I understand correctly that <div>foo<table>bar baz</table></div> parses to <div>foobarbaz<table> </table></div>","msgtype":"m.text"},"ts":1183156080000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yes but that's a bug in the spec","msgtype":"m.text"},"ts":1183156081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not sure what it should do yet","msgtype":"m.text"},"ts":1183156082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in particular, <div>foo<table> bar</table></div> vs <div>foo<table> <tr><td></table></div> is a tough one","msgtype":"m.text"},"ts":1183156083000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm. perhaps I make that part horrendously inefficient then","msgtype":"m.text"},"ts":1183156140000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"no point in optimizing something that will be discarded","msgtype":"m.text"},"ts":1183156141000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: hmm. afaict, ie, opera and safari all put the text inside the table. firefox handles that case as equivalent to <div>foobar<table> </table></div>","msgtype":"m.text"},"ts":1183156620000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"which case?","msgtype":"m.text"},"ts":1183156680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<div>foo<table> bar</table></div>","msgtype":"m.text"},"ts":1183156681000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0D%0A%3Cdiv%3Efoo%3Ctable%3E%20bar%3C/table%3E%3C/div%3E","msgtype":"m.text"},"ts":1183156800000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"anything that results in the text appearing but while inside the <table> is wrong","msgtype":"m.text"},"ts":1183156860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since it isn't compatible with the css model","msgtype":"m.text"},"ts":1183156861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"looks like we might be able to get away with just setting a flag that saves whitespace","msgtype":"m.text"},"ts":1183156980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and reset the flag when you hit a table-related element","msgtype":"m.text"},"ts":1183156981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i.e. when you \"clear the stack...\"","msgtype":"m.text"},"ts":1183156982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1183157040000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"safari treats <div>foo<table> <tr></tr>bar</table></div> as <div>foobar<table> <tr></tr></table></div>","msgtype":"m.text"},"ts":1183157041000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"opera and ie seem to put the text inside the table somehow. in ie, text inside table is inside an element with the tag name \"\"","msgtype":"m.text"},"ts":1183157100000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"IE creates \"fake caption\" elements","msgtype":"m.text"},"ts":1183157160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i spoke to the ie guys about it","msgtype":"m.text"},"ts":1183157161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1183157162000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"they're having all kinds of trouble implementing the css table model on top of their parsing model","msgtype":"m.text"},"ts":1183157163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: the CSS table model has to handle crazy XML and DOM modifications anyway, right?","msgtype":"m.text"},"ts":1183157220000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wonder how opera deals with it, since it has text nodes as child of table in the dom afaict","msgtype":"m.text"},"ts":1183157221000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: the problem is that css wraps cells around unexpected elements in the table","msgtype":"m.text"},"ts":1183157222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: whereas we want to move all the content to before the table","msgtype":"m.text"},"ts":1183157223000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Ok. I'm not well aware of the legacy requirements here","msgtype":"m.text"},"ts":1183157700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: I don't understand why space characters cause \"Reconstruct the active formatting elements\" in \"after body\".","msgtype":"m.text"},"ts":1183160760000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: when you go from trailing end to main phase, what's the insertion mode gonna be? in body?","msgtype":"m.text"},"ts":1183161480000,"senderName":"hsivonen","senderId":"hsivonen@irc"}
]