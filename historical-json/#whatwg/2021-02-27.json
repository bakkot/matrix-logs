[
{"content":{"body":"andreubotella: oh sorry, I don't know why I keep getting so confused about this","msgtype":"m.text"},"ts":1614413491000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(https://github.com/whatwg/html/pull/6287 that is)","msgtype":"m.text"},"ts":1614413515000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it's fine, it's a lot of details to keep track of","msgtype":"m.text"},"ts":1614413541000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: yeah, I guess my main concern was the double normalization, first during form submission and then during serialization","msgtype":"m.text"},"ts":1614413768000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, but newline conversion to CRLF is idempotent, so it's just an optimization issue","msgtype":"m.text"},"ts":1614413805000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"I added a few notes about that in the PR","msgtype":"m.text"},"ts":1614413812000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: I'll add the last two comments as resolved","msgtype":"m.text"},"ts":1614414090000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: new draft response","msgtype":"m.text"},"ts":1614414540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"> I am mainly bothered by the inelegance of normalizing twice. Also, if you use `FormData` with `fetch()` today there is no normalization so it seems somewhat reasonable that if you use `FormData` here there is none either. I could see always normalizing when serializing too, but then ideally form submission itself would not do it (as it would happen later). In the end though, if we want to normalize in during form","msgtype":"m.text"},"ts":1614414542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"submission and normalization, that is fine with me as well.","msgtype":"m.text"},"ts":1614414542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"s/in//","msgtype":"m.text"},"ts":1614414587000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: the intention was to normalize also FormData with fetch","msgtype":"m.text"},"ts":1614415673000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"but let me check if the PR actually does that","msgtype":"m.text"},"ts":1614415691000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"right, the urlencoded and text/plain serializations aren't touched other than to make them work on name-value pairs","msgtype":"m.text"},"ts":1614416004000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"the normalization happens earlier in the form submission algorithm when it calls \"convert an entry list to a list of name-value pairs\"","msgtype":"m.text"},"ts":1614416028000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"for multipart/form-data, the conversion happens in the algorithm itself, and so it'll work when passing a FormData object to fetch","msgtype":"m.text"},"ts":1614416064000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"s/conversion/normalization/","msgtype":"m.text"},"ts":1614416233000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"annevk: would a PR to url to remove file handling in the urlencoded serializer be editorial?","msgtype":"m.text"},"ts":1614427530000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: yeah I guess so, if no entry point would ever hand it files","msgtype":"m.text"},"ts":1614429016000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: understood that it also affects FormData with fetch, I guess I should clarify that point","msgtype":"m.text"},"ts":1614429061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, Domenic: either of you around, perchance?","msgtype":"m.text"},"ts":1614456331000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"GPHemsley: I can reply tomorrow if you leave something in a DM or equivalent","msgtype":"m.text"},"ts":1614458631000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1614458646000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"}
]