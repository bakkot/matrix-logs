[
{"content":{"body":"There was another weird deploy failure, rsync exiting with 255, which is apparently some kind of SSH error, retry worked","msgtype":"m.text"},"ts":1614579741000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Okay, so progress events are as dumb as I expected, which is nice, if the service worker lies about Content-Length we'll just use the lie and call it a day","msgtype":"m.text"},"ts":1614594058000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: so I noticed something odd","msgtype":"m.text"},"ts":1614600313000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: event.respondWith(new Response(\"meeeeh\", { headers: [[\"Content-Length\", \"10000\"], [\"Content-Length\", \"10000\"]] }));","msgtype":"m.text"},"ts":1614600318000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: what does xhr.getResponseHeader() return?","msgtype":"m.text"},"ts":1614600334000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(when you pass Content-Length)","msgtype":"m.text"},"ts":1614600343000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hi annevk! I'm starting to work on resource-timing/fetch integration with yoav. One choice I need to make is for all the 12 different timestamps - between having a struct that predefines them, or a string-to-Timestamp map where we set different entries. The second one might make it easier to add new ones and reduce some duplication. WDYT? Is there a general guideline for this?","msgtype":"m.text"},"ts":1614601959000,"senderName":"noamr","senderId":"noamr@irc"},
{"content":{"body":"Hi. Literally any Javascript on the loaded website can read the localStorage and cookies?","msgtype":"m.text"},"ts":1614603373000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"(localStorage and cookies stored for that website)","msgtype":"m.text"},"ts":1614603526000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"noamr: I prefer a struct so the times have names","msgtype":"m.text"},"ts":1614604172000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"noamr: and dfns","msgtype":"m.text"},"ts":1614604179000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cool, thanks annevk.","msgtype":"m.text"},"ts":1614604214000,"senderName":"noamr","senderId":"noamr@irc"},
{"content":{"body":"noamr: whenever you add you’ll have to touch Fetch anyway","msgtype":"m.text"},"ts":1614604240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes of course","msgtype":"m.text"},"ts":1614604251000,"senderName":"noamr","senderId":"noamr@irc"},
{"content":{"body":"croraf: yes","msgtype":"m.text"},"ts":1614604269000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"croraf: don’t execute scripts you don’t trust","msgtype":"m.text"},"ts":1614604307000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also, only those cookies that do not have the HttpOnly flag","msgtype":"m.text"},"ts":1614604922000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"If https://github.com/whatwg/fetch/pull/1183 is actually correct than parsing Content-Length is not too silly, one might even say elegant","msgtype":"m.text"},"ts":1614620265000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Still a lot more than what you'd want to do for obtaining an integer of course","msgtype":"m.text"},"ts":1614620345000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, ondras I cannot really execute only scripts I trust. I use 3rd party libraries, etc.. I need to make sure to hide sensitive data behind the HttpOnly I guess","msgtype":"m.text"},"ts":1614642130000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"And also regarding localstorage, all the scripts on the site, no matter where their origin is can access localStorage also. So both localStorage and cookies (non-http-only) are the same with that regards?","msgtype":"m.text"},"ts":1614642180000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"Like some script from 3rd party can read the localStorage (cookie) data (for example authentication token) send it to the internet and use this token in malicious requests.","msgtype":"m.text"},"ts":1614642249000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"use it from anywhere.","msgtype":"m.text"},"ts":1614642273000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"You should not use 3rd party libraries that you don't trust. That is how the web's security model works.","msgtype":"m.text"},"ts":1614642362000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"A third party library could do much worse than read storage. It could redirect the page (e.g. location.href = \"https://scam-site.com\"), it could listen for all keystrokes and send them to a remote server, it could extract any sensitive information you write to the DOM (e.g. account balance, private messages, etc.)","msgtype":"m.text"},"ts":1614642408000,"senderName":"Domenic","senderId":"Domenic@irc"}
]