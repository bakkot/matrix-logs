[
{"content":{"body":"Domenic: So if the full response is not available at this point (https://github.com/whatwg/html/pull/4031#discussion_r245259907), is it unnecessary to Fetch in parallel? Also, is it possible that we might not be able to determine if response is a network error until later on (since response isn't done yet)?","msgtype":"m.text"},"ts":1547521411000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"You have to fetch in parallel; it does network I/O which you can't do on the main thread","msgtype":"m.text"},"ts":1547521442000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Otherwise it's similar to JS. The `response` variable does not have a full body, but it has headers, you'll know if it's a network error, etc.","msgtype":"m.text"},"ts":1547521469000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ah ok gotcha","msgtype":"m.text"},"ts":1547521520000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Uh, is https://drafts.csswg.org/ down for anyone else?","msgtype":"m.text"},"ts":1547523306000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Works for me","msgtype":"m.text"},"ts":1547523605000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":":(","msgtype":"m.text"},"ts":1547523752000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: I don't really understand your proposal at https://github.com/whatwg/html/pull/4031/files#r247760518","msgtype":"m.text"},"ts":1547579393000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: My impression was you wanted all of the steps from \"Let <var>success</var> be true\" and down, moved to the process response task, which in the current state, seems analogous to the process the linked resource steps","msgtype":"m.text"},"ts":1547579558000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Oh, no, I gave the wrong impression then","msgtype":"m.text"},"ts":1547579607000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I was thinking of moving said steps into that algorithm, but moving the \"fetch/wait for critical subresources\" into link stylesheet's override of process the linked resource","msgtype":"m.text"},"ts":1547579625000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Ah ok","msgtype":"m.text"},"ts":1547579628000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"I think it's fine as-is, it's just worth noting that you don't get the response body unless you explicitly use the phrase \"process response body\" or something like that. And we need the response body for the critical subresources.","msgtype":"m.text"},"ts":1547579636000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But I think that's all details we don't need to fix right now.","msgtype":"m.text"},"ts":1547579643000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Although, hmm, this might all be simpler if you just set the synchronous flag","msgtype":"m.text"},"ts":1547579686000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Was wondering if that would be reasonable since we're in parallel","msgtype":"m.text"},"ts":1547579712000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Yeah let's do that","msgtype":"m.text"},"ts":1547579719000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ok, I'll do that and add a warning about critical subresource fetching being underdefined, and maybe mention how it should be taken care of by another spec (CSS for example I guess).","msgtype":"m.text"},"ts":1547579803000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Although, that seems to imply that load/error events won't be fired until the entire response is available right?","msgtype":"m.text"},"ts":1547579864000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Oh, I guess that's how it is defined currently too \"Once the attempts .... are complete\"","msgtype":"m.text"},"ts":1547579930000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Using process response would be nice eventually though I think","msgtype":"m.text"},"ts":1547580002000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"I'm not sure there's a difference between async + process response vs. sync flag + just do the steps, besides a level of indentation","msgtype":"m.text"},"ts":1547580303000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Right, I do like the idea of using process response though mostly just because it exists","msgtype":"m.text"},"ts":1547580692000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Domenic: OK I'd say 4031 is ready for re-review now","msgtype":"m.text"},"ts":1547586226000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"mfw the html spec is almost 6mb","msgtype":"m.text"},"ts":1547596426000,"senderName":"devsnek","senderId":"devsnek@irc"}
]