[
{"content":{"body":"I see that the microdata dom api is being considered for removal?","msgtype":"m.text"},"ts":1322968620000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"is there a link with the reasoning?","msgtype":"m.text"},"ts":1322968621000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"huh? never heard of this info...","msgtype":"m.text"},"ts":1322968740000,"senderName":"kennyluck","senderId":"kennyluck@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/multipage/microdata.html#microdata-dom-api","msgtype":"m.text"},"ts":1322968800000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"linclark: not being considered for removal by me, but no idea if anyone else is considering arguing to remove it","msgtype":"m.text"},"ts":1322968980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ah, ok, good to know... thanks!","msgtype":"m.text"},"ts":1322968981000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"linclark: at this point there's little chance it'll be removed from the whatwg html standard unless someone has a really good argument, e.g. \"we tried implementing it in a browser and nobody used it\"","msgtype":"m.text"},"ts":1322968982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, it seemed strange that the rest of microdata was still yellow but that the API for doing anything with it was red","msgtype":"m.text"},"ts":1322969040000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"Hey, quick note: in the latest complete WHATWG editors draft, in the references section, the WebVTT reference has a heading that reads \"[WEBWORKERS]\". That looks like a copy and paste issue.","msgtype":"m.text"},"ts":1322969160000,"senderName":"xylron","senderId":"xylron@irc"},
{"content":{"body":"linclark: oh is it marked as such in the spec?","msgtype":"m.text"},"ts":1322969161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so it is","msgtype":"m.text"},"ts":1322969220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"apparently \"lpeng564\" changed it","msgtype":"m.text"},"ts":1322969221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wonder who that is","msgtype":"m.text"},"ts":1322969222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"looks like that's the only change that account made","msgtype":"m.text"},"ts":1322969340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"weird","msgtype":"m.text"},"ts":1322969341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hacked by microdata haters","msgtype":"m.text"},"ts":1322969400000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"the way the database is set up makes it pretty trivial for vandalism to be fixed on the backend","msgtype":"m.text"},"ts":1322969460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(i never implemented the frontend since it's never been an issue)","msgtype":"m.text"},"ts":1322969461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"literally every change ever made is logged, i don't just change the state","msgtype":"m.text"},"ts":1322969462000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and to get the current state i just ask for the last change","msgtype":"m.text"},"ts":1322969463000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yeah, after I saw that it wasn't your email address, I thought it might be something like that","msgtype":"m.text"},"ts":1322969700000,"senderName":"linclark","senderId":"linclark@irc"},
{"content":{"body":"i fixed it","msgtype":"m.text"},"ts":1322969760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.youtube.com/watch?v=YXh9RQCvxmg#t=6m30s is so awesome","msgtype":"m.text"},"ts":1323007920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I should extract some part to use as an example somewhere","msgtype":"m.text"},"ts":1323007921000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<biesi> why is it that way?","msgtype":"m.text"},"ts":1323013140000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"<Hixie> i don't understand the question","msgtype":"m.text"},"ts":1323013141000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"<Hixie> it almost sounded like you were trying to obtain some sort of logical explanation for browser behaviour","msgtype":"m.text"},"ts":1323013142000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"that's an old one; still funny :)","msgtype":"m.text"},"ts":1323013143000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, 2006 :)","msgtype":"m.text"},"ts":1323013200000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: do you think it would be fine to define the new methods as if they passed a DocumentFragment to our existing methods?","msgtype":"m.text"},"ts":1323015060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Sure","msgtype":"m.text"},"ts":1323015061000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: e.g. append(\"test\", node) passes a DocumentFragment consisting of a Text node \"test\" and a node to concept-node-append","msgtype":"m.text"},"ts":1323015062000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The alternative would be to rewrite cocnept-node-append and friends to deal with lists, but this model seems somewhat clearer","msgtype":"m.text"},"ts":1323015120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"At least, to the extent I managed to think about it","msgtype":"m.text"},"ts":1323015121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, DocumentFragments are little more than lists anyway","msgtype":"m.text"},"ts":1323015122000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"never mind, it does not work for DocumentType and such :(","msgtype":"m.text"},"ts":1323015180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Sounds like a positive effect :)","msgtype":"m.text"},"ts":1323015181000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I'm not sure why we should support document.append(DocumentType), but some people think we should","msgtype":"m.text"},"ts":1323015240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"of course it also means document.append(DocumentType, Element) should work (if document does not have them), but that requires changes to the existing algorithm","msgtype":"m.text"},"ts":1323015241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe it should be like","msgtype":"m.text"},"ts":1323015480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"* one argument: pass it on","msgtype":"m.text"},"ts":1323015481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"* more than one argument: DocumentFragment it or throw \"HierarchyRequestError\" if it does not fit in a DocumentFragment","msgtype":"m.text"},"ts":1323015540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(and then if it did not throw, pass it on)","msgtype":"m.text"},"ts":1323015541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so you have the same limitations, just a cooler API","msgtype":"m.text"},"ts":1323015542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"making algorithms more complex to support ancient legacy bestowed upon us by SGML seems overkill","msgtype":"m.text"},"ts":1323015660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so given that","msgtype":"m.text"},"ts":1323016440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"node.prepend(x) -> concept-node-pre-insert x into node before node's first child","msgtype":"m.text"},"ts":1323016500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"node.append(x) -> concept-node-append","msgtype":"m.text"},"ts":1323016501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"node.before(x) -> concept-node-pre-insert x into node's parent before node","msgtype":"m.text"},"ts":1323016560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"node.after(x) -> concept-node-pre-insert x into node's parent before node's next sibling","msgtype":"m.text"},"ts":1323016620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"node.replace(x) -> concept-node-replace node with x within node's parent","msgtype":"m.text"},"ts":1323016680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"node.remove() -> concept-node-remove node from node's parent","msgtype":"m.text"},"ts":1323016681000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"plus the appropriate null checks for parent","msgtype":"m.text"},"ts":1323016740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, SELECT user_name FROM user WHERE user_edit_count < 2 or similar.","msgtype":"m.text"},"ts":1323027360000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Hixie, BTW, \"if [ ( !\" is wrong because ( initiates a subshell.  You probably want \"if [ \\( !\" (if the [ command even allows grouping, never tried).","msgtype":"m.text"},"ts":1323027480000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"aaah","msgtype":"m.text"},"ts":1323027481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1323027482000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hmm, maybe not.","msgtype":"m.text"},"ts":1323027483000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"[ in bash is a builtin.","msgtype":"m.text"},"ts":1323027484000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"But I think it follows the same escaping rules as real commands.","msgtype":"m.text"},"ts":1323027540000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Yeah, seems to.","msgtype":"m.text"},"ts":1323027660000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"is the client required to send a UserAgent string when establishing a websocket connection?","msgtype":"m.text"},"ts":1323034680000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"when i was writing the spec, it was required not to","msgtype":"m.text"},"ts":1323034681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no idea what the spec says now though","msgtype":"m.text"},"ts":1323034740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why not to?","msgtype":"m.text"},"ts":1323034741000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"if you only send it once, why not send it?","msgtype":"m.text"},"ts":1323034742000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"because it hurts small browsers","msgtype":"m.text"},"ts":1323034743000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"firefox sends the UseAgent while chrome doesn't","msgtype":"m.text"},"ts":1323034800000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"so if I need the user agent, I should send it myself after the connection?","msgtype":"m.text"},"ts":1323034801000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"you should not need the user agent","msgtype":"m.text"},"ts":1323034802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if there is a bug, I want to know what browser cause it","msgtype":"m.text"},"ts":1323034860000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"is there a bug?","msgtype":"m.text"},"ts":1323034861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there are always bugs","msgtype":"m.text"},"ts":1323034862000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"not with the websocket implementation but anything","msgtype":"m.text"},"ts":1323034920000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"then file the bug with the browser vendor and have them fix it","msgtype":"m.text"},"ts":1323034921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1323034922000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"working around the bug will just make matters worse","msgtype":"m.text"},"ts":1323034923000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"on the long run","msgtype":"m.text"},"ts":1323034924000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's not what I meant","msgtype":"m.text"},"ts":1323034925000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"but it's what i meant :-)","msgtype":"m.text"},"ts":1323034980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I want to have statistics about my users, to know what browsers they use","msgtype":"m.text"},"ts":1323034981000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1323034982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it shouldn't make any difference to you","msgtype":"m.text"},"ts":1323034983000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"are you serious?","msgtype":"m.text"},"ts":1323034984000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1323034985000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"all browsers work 100% ?","msgtype":"m.text"},"ts":1323034986000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"no bugs? no missing features?","msgtype":"m.text"},"ts":1323034987000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"missing features you can feature-test for, you don't need to know which browser it is","msgtype":"m.text"},"ts":1323035040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bugs, you should ignore, and let the browser vendors fix it, instead of hacking around them","msgtype":"m.text"},"ts":1323035041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"certainly shouldn't sniff for the browser to work around them","msgtype":"m.text"},"ts":1323035042000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you do that you will make it harder for them to fix the bug","msgtype":"m.text"},"ts":1323035043000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not to mention that it means you are prioritising certain browsers over others","msgtype":"m.text"},"ts":1323035044000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which gives smaller browsers a competitive disadvantage","msgtype":"m.text"},"ts":1323035100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't care about politics","msgtype":"m.text"},"ts":1323035101000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"I want my app to work","msgtype":"m.text"},"ts":1323035102000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"this isn't politics, it's the good of the human race","msgtype":"m.text"},"ts":1323035160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyway, we're talking about hypotheticals here","msgtype":"m.text"},"ts":1323035161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's easier to discuss concrete cases","msgtype":"m.text"},"ts":1323035162000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hence my question:","msgtype":"m.text"},"ts":1323035220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is there a bug?","msgtype":"m.text"},"ts":1323035221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so if a plane crash, the model is not important","msgtype":"m.text"},"ts":1323035222000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"just let the company fix it","msgtype":"m.text"},"ts":1323035223000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"they should guess it happened","msgtype":"m.text"},"ts":1323035224000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"if you're building a plane on WebSocket then you need your head examined :-)","msgtype":"m.text"},"ts":1323035225000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1323035226000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"no, I'm building a web app and I put most of my time making it compatible with opera","msgtype":"m.text"},"ts":1323035280000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"Which of our many bugs are causing you trouble?","msgtype":"m.text"},"ts":1323035281000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"because most of the users in the world use it","msgtype":"m.text"},"ts":1323035282000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"bencc: you shouldn't put your time into making your web app compatible with _any_ browser","msgtype":"m.text"},"ts":1323035283000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bencc: write to the spec, and if the browsers are buggy, file bugs with the browsers","msgtype":"m.text"},"ts":1323035284000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's exactly how gmail work","msgtype":"m.text"},"ts":1323035400000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"i would definitely not recommend taking gmail as an example for how to build a web app","msgtype":"m.text"},"ts":1323035401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they implemented the chat and video with html5 5 years ago","msgtype":"m.text"},"ts":1323035402000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"should the browser show a warning when using secure websocket with self signed certificate?","msgtype":"m.text"},"ts":1323035700000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"no, it should just disallow it from connecting","msgtype":"m.text"},"ts":1323035701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but browsers allow pages of self signed certificates with a warning","msgtype":"m.text"},"ts":1323035760000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"yeah, that's dubious too. but at least they can put up an interstitial to explain to the user that they're about to have their identity stolen.","msgtype":"m.text"},"ts":1323035820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"about feature detection, can I detect the websocket version on the client?","msgtype":"m.text"},"ts":1323035880000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"I know I can see the version on the server","msgtype":"m.text"},"ts":1323035881000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"aw man, did they add a version to the protocol?","msgtype":"m.text"},"ts":1323035940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1323035941000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"back when i was editing the spec, the protocol was not versioned","msgtype":"m.text"},"ts":1323035942000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why not?","msgtype":"m.text"},"ts":1323035943000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"because versioning on the web is even worse than user agent sniffing","msgtype":"m.text"},"ts":1323035944000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wow.","msgtype":"m.text"},"ts":1323036000000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"this is a lost cause :)","msgtype":"m.text"},"ts":1323036001000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"versioning is unnecessary on the web","msgtype":"m.text"},"ts":1323036002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"html, css, js... they all work fine without versioning","msgtype":"m.text"},"ts":1323036003000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Why did we implement the stupid version of websockets again?","msgtype":"m.text"},"ts":1323036120000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Version numbers are useful when you spend two years tweaking fundamental aspects of the protocol and make everyone end up implementing different revisions of the specification","msgtype":"m.text"},"ts":1323036121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: yeah, don't do that :-P","msgtype":"m.text"},"ts":1323036240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: thank you","msgtype":"m.text"},"ts":1323036300000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"Not everyone has enough self-control to avoid doing that :-)","msgtype":"m.text"},"ts":1323036301000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I believe websokets tells you the version number in the header, doesn't it?","msgtype":"m.text"},"ts":1323036960000,"senderName":"jgraham_","senderId":"jgraham_@irc"},
{"content":{"body":"yes but the client doesn't know its version","msgtype":"m.text"},"ts":1323037020000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1323037080000,"senderName":"jgraham_","senderId":"jgraham_@irc"},
{"content":{"body":"Anyway ignore all versions that aren't -17","msgtype":"m.text"},"ts":1323037140000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I imagine everyone will fix their implementations to the RFC soon enough","msgtype":"m.text"},"ts":1323037141000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(I think -17 is indicated by 13 in the version field or something stupid)","msgtype":"m.text"},"ts":1323037200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(yeah it is)","msgtype":"m.text"},"ts":1323037201000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Anyway, I can't work out why you care about the protocol version on the client","msgtype":"m.text"},"ts":1323037260000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I mean obviously if you *do* care it is trivial to find out, assuming you control oth ends of the wire; just send it as part of your subprotocol e.g. in the first message","msgtype":"m.text"},"ts":1323037320000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: but if the client doesn't support the required version, why send the first request anyway?","msgtype":"m.text"},"ts":1323037440000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"than you should use long-polling or something else instead","msgtype":"m.text"},"ts":1323037441000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"I don't understand what situation you are worried about","msgtype":"m.text"},"ts":1323037500000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"a situation where the client has websockets but not the required version","msgtype":"m.text"},"ts":1323037501000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"how come Philip` understood me and you and Hixie don't?","msgtype":"m.text"},"ts":1323037560000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"What case is there where you are able to establish a websocket connection, but you can't actually use that connection?","msgtype":"m.text"},"ts":1323037561000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"why should you try to establish a connection if it's won't work?","msgtype":"m.text"},"ts":1323037562000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"I forgot","msgtype":"m.text"},"ts":1323037620000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"It seems like a reasonably good way of telling that it won't work","msgtype":"m.text"},"ts":1323037621000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1323037622000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"do I have air bag in this car?","msgtype":"m.text"},"ts":1323037623000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"wait, just crash against the wall","msgtype":"m.text"},"ts":1323037624000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"no, I don't","msgtype":"m.text"},"ts":1323037625000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"are you serious?","msgtype":"m.text"},"ts":1323037626000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"are you the guys that writing the specs?","msgtype":"m.text"},"ts":1323037680000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"that's scary :)","msgtype":"m.text"},"ts":1323037681000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"I am rally trying to be helpful here...","msgtype":"m.text"},"ts":1323037740000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"*really","msgtype":"m.text"},"ts":1323037741000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"What is the concrete problem you are trying to solve?","msgtype":"m.text"},"ts":1323037742000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Is it \"I need to work with outdated versions of chrome\"?","msgtype":"m.text"},"ts":1323037800000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(and safari, maybe? I don't know if they shipped the insecure stuff too)","msgtype":"m.text"},"ts":1323037801000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I shouldn't try to connect with the client if the websocket on it are \"broken\"","msgtype":"m.text"},"ts":1323037802000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"or with an old version","msgtype":"m.text"},"ts":1323037803000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"what's complicated about it?","msgtype":"m.text"},"ts":1323037804000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"No, that's not a problem","msgtype":"m.text"},"ts":1323037805000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"how come it's not a problem?","msgtype":"m.text"},"ts":1323037860000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"That's a statement of something you want, but you didn't explain why you want that beyond some irrelevent metaphor about safety critical systems like airbags","msgtype":"m.text"},"ts":1323037861000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"because it's stupid to first try to use websocket and than if it fails use long-polling","msgtype":"m.text"},"ts":1323037862000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"you are wasting requests","msgtype":"m.text"},"ts":1323037863000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"and the connection takes more time","msgtype":"m.text"},"ts":1323037920000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"so the user experience your client have is bad","msgtype":"m.text"},"ts":1323037921000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"do you understand this?","msgtype":"m.text"},"ts":1323037922000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"or maybe not?","msgtype":"m.text"},"ts":1323037923000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"Yes, but on the other hand it will also cover situations where websockets fail for some other reason e.g. due o special proxies or firewalls or wahtever","msgtype":"m.text"},"ts":1323037924000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"those are two different cases","msgtype":"m.text"},"ts":1323037980000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"I agree that the latency could be a problem for some aplications. Is your application hihly sensitive to the initial latency?","msgtype":"m.text"},"ts":1323037981000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"not it's not","msgtype":"m.text"},"ts":1323037982000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"my users like to wait","msgtype":"m.text"},"ts":1323037983000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"it's a website for s&m so they like to suffer","msgtype":"m.text"},"ts":1323038040000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"bencc: I wasn't trying to agree with you, I was just trying to be unhelpfully snarky about the IETF","msgtype":"m.text"},"ts":1323038041000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1323038042000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"Well with my approach you can cover them with one codepath for the short-term need (old versions of frequently updated browsers) and the long term case (intermediaries that block websockets)","msgtype":"m.text"},"ts":1323038043000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"bencc: It is entirely non-obvious that your particular use of websockets depends on being able to establish a connection wih minimum latency","msgtype":"m.text"},"ts":1323038100000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"forget it","msgtype":"m.text"},"ts":1323038160000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"this idiotic discussion is a waste of time","msgtype":"m.text"},"ts":1323038161000,"senderName":"bencc","senderId":"bencc@irc"},
{"content":{"body":"Consider something where the page loads and then one has to have user interaction before establishing the real conenction","msgtype":"m.text"},"ts":1323038162000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The time for the user to interact with the page is going to be way longer than the time to set up a connection, so you can create a trial connection during page load","msgtype":"m.text"},"ts":1323038220000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and then already know if it will work when the actual connection is needed","msgtype":"m.text"},"ts":1323038221000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"OTOH if you are trying to build a search engine that pulls the results over websokets than that delay might be undesirable (although I note that you will get it in the \"broken intermediary\" case anyway, and that in the other case it will only persist until browsers fix their implemenations to the latest spec)","msgtype":"m.text"},"ts":1323038340000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(for that example I assume that the search engine tries to pull the results on page load)","msgtype":"m.text"},"ts":1323038400000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(oh it seems that gecko haven't updated to -17 yet but chrome has. Still I guess the server should support both)","msgtype":"m.text"},"ts":1323038580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(bth -10 and -17 that is)","msgtype":"m.text"},"ts":1323038581000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"bencc: I am sorry you think it has been a waste of time. I have really tried to help you solve your problem. I'm sorry if my suggestions didn't match the solution you had in mind.","msgtype":"m.text"},"ts":1323038582000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham, I think what bencc would like is something JS-visible that says what version of WebSockets the client implements.","msgtype":"m.text"},"ts":1323040920000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So you can do if (WebSocket.version < 17) { fallback() }","msgtype":"m.text"},"ts":1323040921000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"This seems reasonable when the protocol is undergoing so many iterations.","msgtype":"m.text"},"ts":1323040922000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I guess no one thought it would be this many, though.","msgtype":"m.text"},"ts":1323040923000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"And we'd have to keep it around forever as a meaningless legacy constant.","msgtype":"m.text"},"ts":1323040980000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"bencc, so basically I think we're just saying we're okay with annoying people in the short term because a) anything else would make the APIs or protocol more complicated in the long term, even though it will eventually serve no purpose; and b) nobody thought the protocol would take this long to stabilize, so it didn't seem necessary.","msgtype":"m.text"},"ts":1323041040000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"And now, of course, we've *definitely* arrived at the final protocol version, right?","msgtype":"m.text"},"ts":1323041041000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So it's still not necessary.","msgtype":"m.text"},"ts":1323041042000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"*cough*","msgtype":"m.text"},"ts":1323041400000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1323041580000,"senderName":"bencc","senderId":"bencc@irc"}
]