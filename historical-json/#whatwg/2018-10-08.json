[
{"content":{"body":"devsnek: just a bug in our @@asyncIterator implementation right? If so, that's why we write the tests :)","msgtype":"m.text"},"ts":1538973254000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yep","msgtype":"m.text"},"ts":1538973280000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I saw your comment about Object.prototype somewhere, that's more of an issue with the test runner/jsdom stuff :-/","msgtype":"m.text"},"ts":1538973302000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: what is it doing to my prototypes :-/","msgtype":"m.text"},"ts":1538973418000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"We run the reference implementation in Node.js and the tests inside a jsdom (vm) realm","msgtype":"m.text"},"ts":1538973458000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"We should run them both in the vm realm I guess but then we'd need to browserify the reference implementation","msgtype":"m.text"},"ts":1538973472000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"See https://github.com/whatwg/streams/blob/cf76fa899a142a6e834049b6ce6c37859bdb5f68/reference-implementation/run-web-platform-tests.js#L55-L64 basically","msgtype":"m.text"},"ts":1538973496000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oof","msgtype":"m.text"},"ts":1538973514000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"More yaks to shave","msgtype":"m.text"},"ts":1538973539000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"what if you just inject require into the vm","msgtype":"m.text"},"ts":1538973626000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Hmm yeah that might work too","msgtype":"m.text"},"ts":1538973756000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Although I'm not sure, I guess it might depend on whether the require cache contains them or not","msgtype":"m.text"},"ts":1538973799000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'm not really familiar with Blink, but https://chromium-review.googlesource.com/c/chromium/src/+/1264536/2/third_party/blink/renderer/core/frame/csp/content_security_policy.cc seems indicative of some API problem","msgtype":"m.text"},"ts":1538999190000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You should never be able to encode something to UTF-8 without the replacement policy...","msgtype":"m.text"},"ts":1538999206000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess I'll comment on the PR","msgtype":"m.text"},"ts":1538999225000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm PR, changeset","msgtype":"m.text"},"ts":1538999374000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is there any way to distinguish an auxiliary browsing context which has been disowned from any other non-auxiliary top-level browsing context?","msgtype":"m.text"},"ts":1539001292000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"a) That part of the specification is broken b) Yes","msgtype":"m.text"},"ts":1539001334000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You can basically not become non-auxiliary","msgtype":"m.text"},"ts":1539001361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"b) how?","msgtype":"m.text"},"ts":1539001409000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: it depends a bit on how we end up defining window name searching, but it's still in the same name group after you set opener to null","msgtype":"m.text"},"ts":1539001700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: if we're instead talking rel=noopener then note that would imply creating a new top-level browsing context, not an auxiliary browsing context","msgtype":"m.text"},"ts":1539001720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(and likely also a new \"browsing context unit\", which is also poorly defined)","msgtype":"m.text"},"ts":1539001753000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"bah, noopener isn't supported in Edge still :/","msgtype":"m.text"},"ts":1539001813000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: https://html.spec.whatwg.org/#following-hyperlinks-2 makes it seem like rel=noopener with target=_blank creates an auxiliary browsing context and then immediately disowns it, so should be the same, no?","msgtype":"m.text"},"ts":1539002591000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: again, that's broken ðŸ˜ƒ","msgtype":"m.text"},"ts":1539002864000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so what does noopener actually do in impls? :P","msgtype":"m.text"},"ts":1539002961000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"do we have a bug for this? I can't see any searching quickly?","msgtype":"m.text"},"ts":1539003054000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: hmm, there's multiple","msgtype":"m.text"},"ts":1539003236000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: https://github.com/whatwg/html/issues/1509 https://github.com/whatwg/html/issues/1826 etc.","msgtype":"m.text"},"ts":1539003260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: none of those cover noopener creating a non-auxiliary?","msgtype":"m.text"},"ts":1539003440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The second one doesâ€¦","msgtype":"m.text"},"ts":1539003588000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, that isn't at all clear :/","msgtype":"m.text"},"ts":1539003666000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Anyway, there are many related issues","msgtype":"m.text"},"ts":1539003960000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So once all of these are fixed, will you still be able to distinguish disowned auxiliaries? maybe, depending on what exactly named targets do, and what group they look in?","msgtype":"m.text"},"ts":1539004006000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: what do you mean by disowned?","msgtype":"m.text"},"ts":1539004063000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://html.spec.whatwg.org/#disowned-its-opener","msgtype":"m.text"},"ts":1539004117000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: that doesn't really help, what matters is what endpoint you are using","msgtype":"m.text"},"ts":1539004156000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: as I tried to point out before, the spec is broken, so whatever concepts it has are not useful for communication","msgtype":"m.text"},"ts":1539004170000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"doesn't know how to express the concepts *except* as the spec defines them :(","msgtype":"m.emote"},"ts":1539004205000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: eg, is this about rel=noopener behavior or setting opener? Something else?","msgtype":"m.text"},"ts":1539013528000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: this is \"how using WebDriver can we get something that appears to be the same as a new window/tab opened by a user?\"","msgtype":"m.text"},"ts":1539014003000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: noopener should do that","msgtype":"m.text"},"ts":1539014035000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: s/\"none\"/\"omit\" in the second line of the commit msg in https://github.com/whatwg/html/pull/3656#issuecomment-427898470 perhaps?","msgtype":"m.text"},"ts":1539036112000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: thanks yeah, will edit","msgtype":"m.text"},"ts":1539036137000,"senderName":"Domenic","senderId":"Domenic@irc"}
]