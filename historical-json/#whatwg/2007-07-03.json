[
{"content":{"body":"jgraham: ping?","msgtype":"m.text"},"ts":1183422240000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"if you have what you think is a tree, in the form of a list A of mappings from one node to a list of nodes all of which are in list A","msgtype":"m.text"},"ts":1183422420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is there a way short of walking the entire tree to verify that the list is indeed a tree and that there are thus no loops?","msgtype":"m.text"},"ts":1183422421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there probably is, based on what graph properties make the graph a tree","msgtype":"m.text"},"ts":1183422540000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"to be a tree you need to be not just cycle-free but also have exactly one directed edge pointing to each node (except the root)","msgtype":"m.text"},"ts":1183422541000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"i guess i don't mean a tree, i mean a directed graph","msgtype":"m.text"},"ts":1183422542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"directed acyclic graph?","msgtype":"m.text"},"ts":1183422600000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1183422601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"basically a have a list of table cells, each of which can be the header (through headers=\"\") for zero or more other cells, and each of which can have zero or more header cells for itself","msgtype":"m.text"},"ts":1183422602000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but there mustn't be any loops","msgtype":"m.text"},"ts":1183422603000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let me look it up in my CLR","msgtype":"m.text"},"ts":1183422660000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"i mean i'll do the full walk if there's no quicker way","msgtype":"m.text"},"ts":1183422661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(memory is no object)","msgtype":"m.text"},"ts":1183422662000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thinks that's the only way","msgtype":"m.emote"},"ts":1183422663000,"senderName":"kingryan","senderId":"kingryan@irc"},
{"content":{"body":"you might be able to cache some of it, though","msgtype":"m.text"},"ts":1183422720000,"senderName":"kingryan","senderId":"kingryan@irc"},
{"content":{"body":"I don't even know what you mean by \"full walk\"","msgtype":"m.text"},"ts":1183422721000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"you'd have to walk every possible path, not just visit every node once","msgtype":"m.text"},"ts":1183422722000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"if you are really brute forcing it","msgtype":"m.text"},"ts":1183422723000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183422724000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you'd have to show all paths through the graph terminate","msgtype":"m.text"},"ts":1183422725000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"Hixie: iteratively removing nodes with no outgoing edges is one way","msgtype":"m.text"},"ts":1183422840000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"ok screw this. i don't HAVE to check that headers=\"\" don't form loops","msgtype":"m.text"},"ts":1183422900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you'd want a hashtable from node to nodes it points to, and one the other way","msgtype":"m.text"},"ts":1183422901000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"at least not in the first pass","msgtype":"m.text"},"ts":1183422902000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you only need to check them if you're going to be walking them (check to avoid inf. loops)","msgtype":"m.text"},"ts":1183422960000,"senderName":"kingryan","senderId":"kingryan@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183422961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think you could do a topological sort","msgtype":"m.text"},"ts":1183422962000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"which i don't","msgtype":"m.text"},"ts":1183422963000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which'll tell you if it's got any cycles","msgtype":"m.text"},"ts":1183422964000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but i was hoping to be able to see how many pages had that problem","msgtype":"m.text"},"ts":1183422965000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: I'm not sure the obvious topological sort algorithms will terminate in finite time","msgtype":"m.text"},"ts":1183422966000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"on a graph with cycles","msgtype":"m.text"},"ts":1183423020000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"since topological sorts are desgined to work on a DAG","msgtype":"m.text"},"ts":1183423021000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"You can just do a depth-first search - start with each node being white, mark each one as grey when you recurse into it, mark it as grey when you recurse back out, and if you ever follow an edge into a grey node then there's a cycle","msgtype":"m.text"},"ts":1183423022000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Uh","msgtype":"m.text"},"ts":1183423080000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"*mark it as black when you recurse back out","msgtype":"m.text"},"ts":1183423081000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that works","msgtype":"m.text"},"ts":1183423082000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"hmm wait","msgtype":"m.text"},"ts":1183423083000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"(You can do some thingy with numbering nodes as you turn them black, to get a topological sort, I think)","msgtype":"m.text"},"ts":1183423084000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I'm not sure it works","msgtype":"m.text"},"ts":1183423085000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"not obvious to me that a cycle couldn't be observable only by visiting a black node","msgtype":"m.text"},"ts":1183423140000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"DFS can detect cycles by identifying back-edges","msgtype":"m.text"},"ts":1183423320000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"your algorithm is right","msgtype":"m.text"},"ts":1183423380000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"I guess that would run in O(E) where E is the number of edges","msgtype":"m.text"},"ts":1183423440000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"which seems like the best you could do","msgtype":"m.text"},"ts":1183423441000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"and it'll work whatever order i do the nodes in, as far as i can tell","msgtype":"m.text"},"ts":1183423620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which is useful","msgtype":"m.text"},"ts":1183423621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in my case","msgtype":"m.text"},"ts":1183423622000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think I can convince myself it's right by saying that if there is a cycle, then when the DFS reaches some node N in that cycle, it will not mark the node as black until either it has reached another grey node (and found a cycle) or has searched the whole cycle and got back to N (which is grey, so it finds the cycle) or has reached a black node in the cycle; and there can never be a black node in the cycle, because the cycle will be detected before an","msgtype":"m.text"},"ts":1183423800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"...before any node in the cycle is marked as black","msgtype":"m.text"},"ts":1183423801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I guess you have to do something to make sure the DFS covers all the nodes (by repeatedly DFSing from some arbitrary remaining white node, until there are none)","msgtype":"m.text"},"ts":1183423920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah i'm just going to go through every node with at least one outgoing edge (since i have to visit them anyway for unrelated reasons) and if it's white, i do the search","msgtype":"m.text"},"ts":1183423980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It should be O(V) rather than O(E) because it'll never visit one node more than once","msgtype":"m.text"},"ts":1183423981000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"except I'm probably confused and it's O(E) too, so it's more like O(min(V, E)), not that anybody actually cares, since V =~ E anyway for non-crazy graphs","msgtype":"m.text"},"ts":1183424040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"this is where i find out there's only 5 tables on the whole web with a headers=\"\" attribute and therefore it could be O(N^4) and still complete in finite time","msgtype":"m.text"},"ts":1183424100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: it has to traverse every edge at least once to see the color of the node at the other end","msgtype":"m.text"},"ts":1183424340000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"Philip`: but I guess it's O(V+E) since you need to visit disconnected nodes too","msgtype":"m.text"},"ts":1183424400000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Got to be careful in case you stumble across some gigantic table with hundreds of rows and columns that's been made accessible with (buggy) headers, since that might cause an O(N^4) algorithm to take a second or two","msgtype":"m.text"},"ts":1183424401000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"actually I guess you don't since Hixie's data structure only represents edges","msgtype":"m.text"},"ts":1183424460000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hundreds could be worse than a second or two with an O(N^4) algorithm","msgtype":"m.text"},"ts":1183424461000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"N^4 gets bad pretty quickly","msgtype":"m.text"},"ts":1183424462000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Oh, whoops, I forgot it'd still have to look along all the edges to already-black nodes","msgtype":"m.text"},"ts":1183424463000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah N^4 is insanely bad if you've got anything of any kind of size","msgtype":"m.text"},"ts":1183424520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"100^4 = 10^8 which isn't all that bad if you're just following a few pointers :-)","msgtype":"m.text"},"ts":1183424521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"sadly i have to do a string lookup on every single one of these edges :-)","msgtype":"m.text"},"ts":1183424580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(of course if it's bad, i'll optimise it more. we'll see)","msgtype":"m.text"},"ts":1183424581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"You could do an O(E) preprocessing step to do all the string lookups per edge, before doing the horribly inefficient but highly optimised O(N^4) cycle-finding algorithm on it :-)","msgtype":"m.text"},"ts":1183424640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1183424641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"DFS isn't that hard to code, doesn't seem like a big deal","msgtype":"m.text"},"ts":1183424880000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1183424881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and you'll be glad to know it works","msgtype":"m.text"},"ts":1183424882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sweet","msgtype":"m.text"},"ts":1183424883000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nice","msgtype":"m.text"},"ts":1183424884000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it tested my three test tables in 0.244s including compiling the program and parsing the html","msgtype":"m.text"},"ts":1183424940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and given that it took 0.245s to do the same program with only one empty test file...","msgtype":"m.text"},"ts":1183425000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it runs in negative time!","msgtype":"m.text"},"ts":1183425001000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and y'all were worried about it being slow!","msgtype":"m.text"},"ts":1183425060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"O(-N^4) ?","msgtype":"m.text"},"ts":1183425061000,"senderName":"kingryan","senderId":"kingryan@irc"},
{"content":{"body":"Give it a really big table to test, and see if it returns the answer before you've even started the program","msgtype":"m.text"},"ts":1183425300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hmm, just remembered a slower but simpler way to find cycles: use a kind of negated variant of Bellman-Ford, by initialising every node's 'distance' value to 0, then setting v.distance=max(v.distance, 1+u.distance) for each edge (u,v), then repeating num_nodes+1 times, and if any has distance=num_nodes+1 then there's a cycle","msgtype":"m.text"},"ts":1183426620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"...or is that totally rubbish and wrong? I'm not quite sure now","msgtype":"m.text"},"ts":1183426800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: please confirm that since the last time i checked about your parsing e-mails, you have sent only one further message (about <select>)","msgtype":"m.text"},"ts":1183428120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"holy crap, according to this nearly half of all tables with headers=\"\" have a cycle","msgtype":"m.text"},"ts":1183429260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that seems unlikely","msgtype":"m.text"},"ts":1183429261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in fact of 60,000 tables with headers=\"\" that i just parsed, only 194 came out without some sort of error","msgtype":"m.text"},"ts":1183429320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and of those, 177 didn't need headers=\"\" at all because scope=\"\" got the same effect","msgtype":"m.text"},"ts":1183429321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"leaving 17 tables out of 60,000 with headers=\"\" (in just over 100,000,000 documents total) that used headers=\"\" in a non-trivial yet correct way","msgtype":"m.text"},"ts":1183429380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"looks at those 17 tables","msgtype":"m.emote"},"ts":1183429381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"one of them was the table on http://cgi.ebay.ie/Nokia-6210-unlocked-battery-charger-WARRANTY_W0QQitemZ200124682259QQihZ010QQcategoryZ3312QQcmdZViewItem","msgtype":"m.text"},"ts":1183429440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and it only uses headers with the empty string as its value","msgtype":"m.text"},"ts":1183429441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe i should exclude those, huh","msgtype":"m.text"},"ts":1183429442000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in fact 9 of these were variants on that ebay page","msgtype":"m.text"},"ts":1183429443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"would that require assuming no header is a header for that call?","msgtype":"m.text"},"ts":1183429500000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"my headers=\"\" algorithm used nothing but headers=\"\" to assign headers to cells","msgtype":"m.text"},"ts":1183429501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so <th> elements have no effect when headers=\"\" is specified","msgtype":"m.text"},"ts":1183429502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what I'm wondering is, whether that is the specified behavior for headers=\"\"","msgtype":"m.text"},"ts":1183429560000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"in html4?","msgtype":"m.text"},"ts":1183429561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183429620000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ok i clearly need to look for tables with only blank headers=\"\", since all but one of these uses of headers=\"\" that different from scope=\"\" are blank headers=\"\" only.","msgtype":"m.text"},"ts":1183429680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I guess HTML4 is not very clear on it","msgtype":"m.text"},"ts":1183429681000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(http://www.bls.gov/oco/cg/cgs041.htm being that page)","msgtype":"m.text"},"ts":1183429682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and that page only uses headers=\"\" to associate <th>s with parent <th>S","msgtype":"m.text"},"ts":1183429800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it doesn't actually do anything to make the table accessible as far as i can tell","msgtype":"m.text"},"ts":1183429801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's a pretty poor record","msgtype":"m.text"},"ts":1183429920000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i'm skeptical of the large number of loops","msgtype":"m.text"},"ts":1183429921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that seems unlikely","msgtype":"m.text"},"ts":1183429922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":".3% of usage being error-free seems pretty damn low, even by the already low standards of most HTML features","msgtype":"m.text"},"ts":1183429923000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that does sound suspicious (the number of loops)","msgtype":"m.text"},"ts":1183429980000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i also scanned longdesc=\"\" in the same survey. i had my script throw out obviously invalid uses of longdesc=\"\", like pointing to a file that the parent <a href=\"\"> points to.","msgtype":"m.text"},"ts":1183429981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"doing a spot check of the pages that came up as \"good\" uses, one was pointing to the same file, and another was pointing to a file that was the destination of a 301 redirect of a parent <a href=\"\">","msgtype":"m.text"},"ts":1183430040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wow, longdesc is a disaster zone far worse than i had imagined","msgtype":"m.text"},"ts":1183431240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"many of these are just pointing to the root of the site!","msgtype":"m.text"},"ts":1183431420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"adds another heuristic to look for that","msgtype":"m.emote"},"ts":1183431421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lol, the longdesc=\"\" on http://www.felicieditore.it/ points to http://www.felicieditore.com/, which doesn't exist","msgtype":"m.text"},"ts":1183431422000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://7mobile.de/shop/select?id=101787&v=010000 is a longdesc disaster in so many ways","msgtype":"m.text"},"ts":1183431600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: is it looking so bad for headers and longdesc that you're going to consider leaving them out?","msgtype":"m.text"},"ts":1183431960000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"i'm going to _consider_ leaving them out just like i'm going to consider leaving them in","msgtype":"m.text"},"ts":1183432080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right now it's looking kind of bad for headers even on just a \"degrade gracefully in current versions of the #2 screen reader\" basis","msgtype":"m.text"},"ts":1183432140000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ok.  Maybe you could put them in, and include some algorithm to determine when it should be ignored due to it containing an illogical value","msgtype":"m.text"},"ts":1183432141000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"which I think was the best argument in its favor","msgtype":"m.text"},"ts":1183432142000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if Hixie's data about how many uses are invalid holds up, anyway","msgtype":"m.text"},"ts":1183432200000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah i'm getting a sample of those with cycles to check that","msgtype":"m.text"},"ts":1183432201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think it's fair to say that no valid longdesc will ever point to the root of a domain, right?","msgtype":"m.text"},"ts":1183432500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh crap, missed dinner. bbl.","msgtype":"m.text"},"ts":1183432620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok there's definitely something wrong with the cycle detection","msgtype":"m.text"},"ts":1183435380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think I found a mistake in CSS 2.1 (at least in the November 2006 WD)","msgtype":"m.text"},"ts":1183436040000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"is there any way to see a newer editor's draft so I can check if it is fixed before I report it?","msgtype":"m.text"},"ts":1183436100000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"http://www.w3.org/Style/Group/css2-src/cover.html","msgtype":"m.text"},"ts":1183436101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fixes the bug","msgtype":"m.emote"},"ts":1183436102000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i was indexing using the wrong variable. duh.","msgtype":"m.text"},"ts":1183436160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"can you check for me if this is really a mistake before I make an ass of myself","msgtype":"m.text"},"ts":1183436161000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"http://www.w3.org/Style/Group/css2-src/visufx.html says, about overflow, \"It affects the clipping of all of the element's content except any descendant elements (and their respective content and descendants) whose containing block is the viewport or an ancestor of the element.\"","msgtype":"m.text"},"ts":1183436162000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but obviously that is not supposed to apply to overflow on the viewport itself","msgtype":"m.text"},"ts":1183436163000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"what's the error?","msgtype":"m.text"},"ts":1183436164000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right?","msgtype":"m.text"},"ts":1183436220000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"right, the viewport is not an element","msgtype":"m.text"},"ts":1183436221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, maybe just a lack of clarity, not an error","msgtype":"m.text"},"ts":1183436280000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"since if you interpret it that way, it doesn't say anything about how to clip for overflow on the viewport","msgtype":"m.text"},"ts":1183436281000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that sentence doesn't really say anything about anything","msgtype":"m.text"},"ts":1183436282000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"later examples seem to assume it is saying something","msgtype":"m.text"},"ts":1183436400000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah, css2.1 is only marginally better than html4 in terms of spec quality","msgtype":"m.text"},"ts":1183436401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok maybe I won't bother with this, even though it was confusing to me, the actual behavior seems to be interoperable","msgtype":"m.text"},"ts":1183436820000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Lachy: yt?","msgtype":"m.text"},"ts":1183438920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"every page i've checked so far that has non-redundant headers=\"\" actually uses them incorrectly.","msgtype":"m.text"},"ts":1183443960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"although maybe we need a heuristic for the top-left cell","msgtype":"m.text"},"ts":1183444020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok i finally found a page with a real longdesc=\"\"","msgtype":"m.text"},"ts":1183445100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.britanniarescue.com/about/strategy/","msgtype":"m.text"},"ts":1183445101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.britanniarescue.com/online/longdesc/index.php#BRlogo","msgtype":"m.text"},"ts":1183445102000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the longdesc is inaccurate, and it would be more useful for the information in that file to be in alt=\"\" text anyway","msgtype":"m.text"},"ts":1183445160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"longdesc=\"mailto:trustee⊙nc\"","msgtype":"m.text"},"ts":1183445940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wtf","msgtype":"m.text"},"ts":1183445941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: confirmed only one additional email","msgtype":"m.text"},"ts":1183447500000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1183447680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just making sure none of your mails fall through the cracks when i speed-read the html list...","msgtype":"m.text"},"ts":1183447681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: should I CC you next time?","msgtype":"m.text"},"ts":1183449300000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"no, it's ok","msgtype":"m.text"},"ts":1183449360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just making sure","msgtype":"m.text"},"ts":1183449361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1183449362000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"on the face of it, http://www.britanniarescue.com/about/strategy/ seems to have decorative images. why do they bother with longdesc?","msgtype":"m.text"},"ts":1183449420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i just select all mail to html and read it, then select all mail to the next list and read it, etc","msgtype":"m.text"},"ts":1183449421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i have no idea why they use it","msgtype":"m.text"},"ts":1183449422000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"probably because It's The Law","msgtype":"m.text"},"ts":1183449423000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"after looking at all this in more detail, i'm starting to suspect that the accessibility advocacy has maybe done more damage than help, sadly","msgtype":"m.text"},"ts":1183449480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah. in some twisted way it seems to me that by speccing accessibility features we might actually create lawyerbombs :-(","msgtype":"m.text"},"ts":1183449540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hey Hixie, I'm here now","msgtype":"m.text"},"ts":1183450800000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"hey","msgtype":"m.text"},"ts":1183450860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i found a workaround around whatever it was i was going to ask you","msgtype":"m.text"},"ts":1183450920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which i've forgotten now","msgtype":"m.text"},"ts":1183450921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, no worries","msgtype":"m.text"},"ts":1183450922000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"is off to see the Transforms movie now","msgtype":"m.emote"},"ts":1183450980000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"aha, the next wave of data is in","msgtype":"m.text"},"ts":1183450981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"*Transformers","msgtype":"m.text"},"ts":1183450982000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"examines","msgtype":"m.emote"},"ts":1183450983000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1183451100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"one of the longdesc=\"\"s points to a file called spacer.txt","msgtype":"m.text"},"ts":1183451101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i have my doubts about the usefulness of THAT longdesc","msgtype":"m.text"},"ts":1183451102000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"How excellent, an accessible spacer gif","msgtype":"m.text"},"ts":1183451340000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"there are 8 times more longdesc=\"\"s that point to the same page as an ancestor <a href=\"\"> than there are longdesc=\"\"s that didn't get caught on any of my \"likely to suck\" heuristics","msgtype":"m.text"},"ts":1183451341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and out of 8 million <table>s with a cell with a headers=\"\" attribute, twenty thousand had a cycle in the headers=\"\"","msgtype":"m.text"},"ts":1183451400000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jesus","msgtype":"m.text"},"ts":1183451401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and over a million had IDs that pointed to elements that weren't cells!","msgtype":"m.text"},"ts":1183451402000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ten thousand had overlapping cells","msgtype":"m.text"},"ts":1183451460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in about four million cases, the headers=\"\" attribute were redundant given the algorithm in the spec for mapping <th>s to <td>s","msgtype":"m.text"},"ts":1183451520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in about 80,000 cases the headers=\"\" attribute _would_ have been redundant if all the headers used <th> elements instead of <td>","msgtype":"m.text"},"ts":1183451521000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"leaving about 2 million cases that might be valid which i'll have to look at","msgtype":"m.text"},"ts":1183451522000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"2 for 2 on broken uses so far","msgtype":"m.text"},"ts":1183451700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://tools.ietf.org/html/draft-walsh-tobin-hrri-00","msgtype":"m.text"},"ts":1183454340000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that's been up for a while now, not?","msgtype":"m.text"},"ts":1183454400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"although I don't think they are actually fixing anything","msgtype":"m.text"},"ts":1183454460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"they are just widening the range of allowed characters","msgtype":"m.text"},"ts":1183454461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: may have been. I dunno. found out today","msgtype":"m.text"},"ts":1183454700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"a superset of IRI?","msgtype":"m.text"},"ts":1183454701000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: so it seems","msgtype":"m.text"},"ts":1183454760000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"URL5","msgtype":"m.text"},"ts":1183454761000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183454762000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that's what we need, yes","msgtype":"m.text"},"ts":1183454820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's not what it is :(","msgtype":"m.text"},"ts":1183454821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"URL, URI, IRI, HRRI, URL5","msgtype":"m.text"},"ts":1183454880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"were there not more names somewhere in between?","msgtype":"m.text"},"ts":1183455000000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"learns about ephemeral","msgtype":"m.emote"},"ts":1183455001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's XRI -> HRRI","msgtype":"m.text"},"ts":1183455002000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"iirc","msgtype":"m.text"},"ts":1183455003000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"IRIs are not done yet fwiw","msgtype":"m.text"},"ts":1183455060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"dropped / not included / omitted / ...?","msgtype":"m.text"},"ts":1183455480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"suggestions?","msgtype":"m.text"},"ts":1183455481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"excluded?","msgtype":"m.text"},"ts":1183455600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"2007-07-01 17:35   Ben 'Cerbera' Millard   \"absent\" might be even better?","msgtype":"m.text"},"ts":1183455660000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"2007-07-01 17:35   Ben 'Cerbera' Millard   \"not included\" can still imply \"we decided not to include these\"","msgtype":"m.text"},"ts":1183455661000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"2007-07-01 17:35   Ben 'Cerbera' Millard   \"absent\" just means \"not present\"","msgtype":"m.text"},"ts":1183455662000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1183455720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"people really think that new features will suffer less from interop problems than existing features","msgtype":"m.text"},"ts":1183457040000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it's mostly an academic exercise it seems","msgtype":"m.text"},"ts":1183457100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"although not a real interesting one at that","msgtype":"m.text"},"ts":1183457101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"Is XHTML 5 the successor of XHTML 2? Of course not.\" seems to beg the question with tr/52/21/","msgtype":"m.text"},"ts":1183459320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"didn't someone already ask him that?","msgtype":"m.text"},"ts":1183459321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh i see henri basically said that already","msgtype":"m.text"},"ts":1183459440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe we should have \"HTML 5\" (language) and HTML and XHTML (syntax)","msgtype":"m.text"},"ts":1183459441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the XHTML syntax for HTML 5 shorthand would be XHTML5 but that would be unofficial","msgtype":"m.text"},"ts":1183459442000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"s/beg the question/invite the question/","msgtype":"m.text"},"ts":1183459443000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hopes that here at least he can still be gently pedantic","msgtype":"m.emote"},"ts":1183459500000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hasn't seen the tr/// constructor before","msgtype":"m.emote"},"ts":1183459501000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it's sed syntax","msgtype":"m.text"},"ts":1183459502000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(also perl I think)","msgtype":"m.text"},"ts":1183459503000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"same source as s/foo/bar/","msgtype":"m.text"},"ts":1183459560000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"seems useful :)","msgtype":"m.text"},"ts":1183459800000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"also learns that other puncation and parantheses can be used instead of slashes","msgtype":"m.emote"},"ts":1183459920000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the WHATWG sniffing algorithm doesn't seem to deal with .ico formats, bitmaps, etc.","msgtype":"m.text"},"ts":1183460160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://del.icio.us/url/99931bd7993088a7dc60da0a031732e1 -- \"(X)HTML4\"","msgtype":"m.text"},"ts":1183460340000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: seems easiest to just ignore the whole issue, frankly. it's not like the spec is called \"xhtml5\"","msgtype":"m.text"},"ts":1183460341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: does the spec allow for extra rows to sniff such types?","msgtype":"m.text"},"ts":1183460342000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: vpieters? :|","msgtype":"m.text"},"ts":1183460400000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"Hixie, no it says \"User agents must ignore any rows for image types that they do not support.\"","msgtype":"m.text"},"ts":1183460401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which seems to conflict with the warning earlier on","msgtype":"m.text"},"ts":1183460402000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I might have mentioned that on the mailing list already","msgtype":"m.text"},"ts":1183460403000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"krijnh: and condor87","msgtype":"m.text"},"ts":1183460404000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: ah well we'll have to add rows then","msgtype":"m.text"},"ts":1183460460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ponders about <picture>","msgtype":"m.emote"},"ts":1183460940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it seems such an obvious failure, how can they not see it?","msgtype":"m.text"},"ts":1183461000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: indeed","msgtype":"m.text"},"ts":1183461180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: Sander Tekelenburg's attempt at making it backwards compatible should show that the nice idea gets out of control quickly when you scratch the surface","msgtype":"m.text"},"ts":1183461240000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"neither proposal even works in IE7","msgtype":"m.text"},"ts":1183461241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I try to focus on tree building instead spending the whole day replying to the list","msgtype":"m.text"},"ts":1183461300000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I think I'll work on some tests for getBoundingClientRect and getClientRects or something","msgtype":"m.text"},"ts":1183461360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"lunch first!","msgtype":"m.text"},"ts":1183461361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm getting more and more convinced that grouping by insertion mode first and by element second makes sense","msgtype":"m.text"},"ts":1183461362000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"you're keeping insertion modes?","msgtype":"m.text"},"ts":1183461363000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"with fall through for IN_TABLE etc. to IN_BODY and from IN_BODY to IN_HEAD_NOSCRIPT to IN_HEAD","msgtype":"m.text"},"ts":1183461420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: no. I have just phases","msgtype":"m.text"},"ts":1183461421000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oh ok","msgtype":"m.text"},"ts":1183461422000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i like your code for the tokenizer quite a bit","msgtype":"m.text"},"ts":1183461423000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"although the comments are quite verbose","msgtype":"m.text"},"ts":1183461480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it's the spec :-)","msgtype":"m.text"},"ts":1183461481000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah :)","msgtype":"m.text"},"ts":1183461482000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"too bad that doing the same for tree building is too much work","msgtype":"m.text"},"ts":1183461483000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"we just need lots of testcases","msgtype":"m.text"},"ts":1183461540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if zcorpan gets a proper browser framework to work for html5lib tests I assume we'll get even more testcases there","msgtype":"m.text"},"ts":1183461541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I intend to print my tree builder and the spec and go over them with a highlighter pen to check that everything is there","msgtype":"m.text"},"ts":1183461600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"especially since the testformat is quite easy and the output can be generated using tools (assuming html5lib is compliant)","msgtype":"m.text"},"ts":1183461601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not sure yet how to test the formpointer stuff","msgtype":"m.text"},"ts":1183461660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that may require some extension","msgtype":"m.text"},"ts":1183461661000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I have been thinking of a sanitizer tree that puts an UUID ID on <form> and form='' on out-of-subtree associated inputs","msgtype":"m.text"},"ts":1183461720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"so has anyone actually defined the problem that <picture> is intended to solve?","msgtype":"m.text"},"ts":1183462140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: implicitly, the problem is that <img> doesn't allow structured fallback--only a plain string","msgtype":"m.text"},"ts":1183462260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"aah","msgtype":"m.text"},"ts":1183462261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"does he elaborate on why <object> and longdesc=\"\" don't handle this well enough?","msgtype":"m.text"},"ts":1183462320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.grupodignidade.org.br/projetos.php - <img src=\"img/logo.gif\" alt=\"logo\" width=\"160\" height=\"80\" longdesc=\"http://www.grupodignidade.org.br/img/logo.gif\" />","msgtype":"m.text"},"ts":1183462321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sigh","msgtype":"m.text"},"ts":1183462322000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: for <object>, yes. for longdecs, I no longer remember","msgtype":"m.text"},"ts":1183462323000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1183462324000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bed time","msgtype":"m.text"},"ts":1183462380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1183462381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1183462382000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the table and longdesc study is interesting","msgtype":"m.text"},"ts":1183462740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm, it's not possible to check what case elements are in the dom in html, is it? except perhaps trying getElementsByTagNameNS or something","msgtype":"m.text"},"ts":1183463940000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"don't think so","msgtype":"m.text"},"ts":1183464240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"unless localName is somehow secured","msgtype":"m.text"},"ts":1183464241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"given webkit's implementation experience with my suggestion about localName, even that seems to be a dead end","msgtype":"m.text"},"ts":1183464300000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i'll just have to use toLowerCase()","msgtype":"m.text"},"ts":1183464420000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://simon.html5.org/temp/html5lib-tests/wrapper.html -- got something working at least. now i just need to figure out how to parse and test the real files. or perhaps i'll just use another wrapper with some php. that may be simpler, dunno","msgtype":"m.text"},"ts":1183464660000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the function fails in ie if there's a short bogus comment like <!foo>","msgtype":"m.text"},"ts":1183464840000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"</> results in a \"/\" element in ie","msgtype":"m.text"},"ts":1183465860000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"same as </foo> really","msgtype":"m.text"},"ts":1183466280000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"stray </x:y> gets dropped","msgtype":"m.text"},"ts":1183466340000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"dropping </> works just as well","msgtype":"m.text"},"ts":1183467120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh sure. i was surprised that ie didn't drop it","msgtype":"m.text"},"ts":1183467420000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1183470360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tr > tbody > td","msgtype":"m.text"},"ts":1183470361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tbody is not implied!","msgtype":"m.text"},"ts":1183470362000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Shouldn't that be \"tbody > tr > td\"?","msgtype":"m.text"},"ts":1183471140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183471141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1183471260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"making progress...: http://simon.html5.org/temp/html5lib-tests/wrapper.html","msgtype":"m.text"},"ts":1183473780000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"now i just need to make the text file into two arrays","msgtype":"m.text"},"ts":1183473840000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wonders in what kind of fantasyland some people live","msgtype":"m.emote"},"ts":1183473900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"I was thinking exactly the opposite, and wondering whether Microsoft might be persuaded to migrate their horrific ?Active-X? strings from the opening <object> tag to an nested <param>.\"","msgtype":"m.text"},"ts":1183473901000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: \"Security error: attempted to read protected variable\" - why doesn't Opera like that?","msgtype":"m.text"},"ts":1183473960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: dunno, works in Kestrel","msgtype":"m.text"},"ts":1183474020000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Oh, okay, maybe it's only a problem with 9.2","msgtype":"m.text"},"ts":1183474080000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"evil data: URIs","msgtype":"m.text"},"ts":1183474140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: in a world where the value of π is a legislative decision","msgtype":"m.text"},"ts":1183474141000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"any suggestions on how to read the text file with js?","msgtype":"m.text"},"ts":1183474500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: XHR?","msgtype":"m.text"},"ts":1183474560000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: yeah. although in firefox i got a \"syntax error\" when trying to read .responseText","msgtype":"m.text"},"ts":1183474561000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but let's assume that doesn't happen in firefox and i can read the file... how do i then parse it into two arrays?","msgtype":"m.text"},"ts":1183474740000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"my previous attempt with split() was too naïve and didn't really work","msgtype":"m.text"},"ts":1183474741000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Regular expressions?","msgtype":"m.text"},"ts":1183474800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Whatever the problem, they are always the solution","msgtype":"m.text"},"ts":1183474801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":":p","msgtype":"m.text"},"ts":1183474802000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"now you have two problems\" :-)","msgtype":"m.text"},"ts":1183474803000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"why doesn't split(\"\\n\\n\") work?","msgtype":"m.text"},"ts":1183474804000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does that work with multiple lines?","msgtype":"m.text"},"ts":1183474920000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"also, what if a test has e.g. \\n\\n as data","msgtype":"m.text"},"ts":1183474921000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or doesn't the syntax allow for that?","msgtype":"m.text"},"ts":1183474922000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh right, yes","msgtype":"m.text"},"ts":1183474923000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i think it does, so long as no test has \\n\\n as data","msgtype":"m.text"},"ts":1183474924000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"no \\n\\n can occur","msgtype":"m.text"},"ts":1183474980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1183474981000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"just split on \\n\\n#data or something and remove #data from the first line too","msgtype":"m.text"},"ts":1183474982000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"splitting removes automatically","msgtype":"m.text"},"ts":1183474983000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://wiki.whatwg.org/wiki/Parser_tests#Tree_Construction_Tests doesn't seem to say it has to have blank lines between tests - the only delimiter is \"\\n#data\\n\"","msgtype":"m.text"},"ts":1183475160000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"sure, but the first test doesn't start with \\n\\n","msgtype":"m.text"},"ts":1183475161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Philip`, except for the first test...","msgtype":"m.text"},"ts":1183475162000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also, two newlines is sort of accepted","msgtype":"m.text"},"ts":1183475163000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"/^#data$/","msgtype":"m.text"},"ts":1183475164000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":" /^#data$/","msgtype":"m.text"},"ts":1183475165000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Uh","msgtype":"m.text"},"ts":1183475280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":" /^#data$/m","msgtype":"m.text"},"ts":1183475281000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(or something like /\\n*^#data\\n/m if you want to strip newlines, assuming the last test doesn't end with a newline)","msgtype":"m.text"},"ts":1183475400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders if anyone has written test cases for test case parsers","msgtype":"m.emote"},"ts":1183475460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"though I'm not entirely sure how you'd parse the tests for the test parser","msgtype":"m.text"},"ts":1183475520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"we need a parsing spec for the test case format","msgtype":"m.text"},"ts":1183475521000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"-_-","msgtype":"m.text"},"ts":1183475522000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I tweaked http://wiki.whatwg.org/wiki/Parser_tests#Tree_Construction_Tests a bit to make it more clear what the actual format is","msgtype":"m.text"},"ts":1183477200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The link at the bottom to the tests should probably be updated","msgtype":"m.text"},"ts":1183477260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"'a line that says \"#errors:\"' - probably shouldn't have the colon","msgtype":"m.text"},"ts":1183477320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"at some point the format used by http://html5lib.googlecode.com/svn/trunk/testdata/tree-construction/tests4.dat should be added too and the description could use some more whitespace...","msgtype":"m.text"},"ts":1183477380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yay","msgtype":"m.text"},"ts":1183478160000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"works in Kestrel now","msgtype":"m.text"},"ts":1183478220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, sweet","msgtype":"m.text"},"ts":1183478280000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"firefox boils at...: Error: unexpected end of XML source","msgtype":"m.text"},"ts":1183478281000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Source File: data:text/html,<script><div></script></div><title><p></title><p><p>","msgtype":"m.text"},"ts":1183478282000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Line: 1, Column: 4","msgtype":"m.text"},"ts":1183478283000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Source Code:","msgtype":"m.text"},"ts":1183478284000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"<div>","msgtype":"m.text"},"ts":1183478285000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1183478286000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is that e4x or something?","msgtype":"m.text"},"ts":1183478340000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"It works in precisely none of the five browsers I have access to :-(","msgtype":"m.text"},"ts":1183478341000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"put encodeURIComponent around it","msgtype":"m.text"},"ts":1183478342000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe that will make it work better (it's also theoretically more correct)","msgtype":"m.text"},"ts":1183478343000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"don't think that's the problem","msgtype":"m.text"},"ts":1183478344000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it's <script><div></script> in the actual test","msgtype":"m.text"},"ts":1183478345000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"maybe catch all error events and silence them?","msgtype":"m.text"},"ts":1183478400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"iframe.onerror = function ...","msgtype":"m.text"},"ts":1183478460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That would be parsed as E4X, I believe - it's only in the cases of <!--...--> and <![CDATA[...]]> where you have to use type=\"text/javascript;e4x=1\"","msgtype":"m.text"},"ts":1183478461000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"iframe.onerror = null","msgtype":"m.text"},"ts":1183478520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or something","msgtype":"m.text"},"ts":1183478521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(http://developer.mozilla.org/en/docs/E4X)","msgtype":"m.text"},"ts":1183478522000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"annevk: doesn't help","msgtype":"m.text"},"ts":1183478523000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: don't think JS errors bubble up to the parent document","msgtype":"m.text"},"ts":1183478524000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, iframe.contentWindow.onerror = null","msgtype":"m.text"},"ts":1183478580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: nope","msgtype":"m.text"},"ts":1183478581000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"does it actually work if you remove that test?","msgtype":"m.text"},"ts":1183478640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm. no.","msgtype":"m.text"},"ts":1183478700000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"btw, it would be nice if you showed the input data in the result tree as well","msgtype":"m.text"},"ts":1183478701000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"makes it easier to analyze potential errors","msgtype":"m.text"},"ts":1183478760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Could change the tests to do <script type=\"unsupported\"> so browsers won't try running them","msgtype":"m.text"},"ts":1183478761000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that may work","msgtype":"m.text"},"ts":1183478820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or use //<div> instead of <div>","msgtype":"m.text"},"ts":1183478880000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: done","msgtype":"m.text"},"ts":1183478881000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"done what?","msgtype":"m.text"},"ts":1183478882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":" showed the input data ","msgtype":"m.text"},"ts":1183478940000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1183478941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does it matter though that browsers run them?","msgtype":"m.text"},"ts":1183478942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no, don't think so","msgtype":"m.text"},"ts":1183479000000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, btw iframe.contentWindow.onerror = function(foo,bar,baz) { return false }","msgtype":"m.text"},"ts":1183479001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"might prevent the error from appearing","msgtype":"m.text"},"ts":1183479002000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it's some other reason why it doesn't work in firefox","msgtype":"m.text"},"ts":1183479003000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1183479004000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"xhr only works on the same domain, right","msgtype":"m.text"},"ts":1183479120000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"might need a server side script to include external tests","msgtype":"m.text"},"ts":1183479121000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah, same-origin","msgtype":"m.text"},"ts":1183479122000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If the external tests were in a format that was valid JS, you could include them with <script src>","msgtype":"m.text"},"ts":1183479300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"well, they're not. :)","msgtype":"m.text"},"ts":1183479360000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Or if you could change the external tests to be in a format that was valid JS :-)","msgtype":"m.text"},"ts":1183479361000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"seems simpler to write a server-side wrapper for this","msgtype":"m.text"},"ts":1183479420000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but I guess the point of it being external is that it's external and out of your control","msgtype":"m.text"},"ts":1183479421000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"zcorpan, how about a document.write() version?","msgtype":"m.text"},"ts":1183479422000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ?","msgtype":"m.text"},"ts":1183479480000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, instead of iframe.src = do iframe.contentDocument.open(); iframe.contentDocument.write(testdata); etc.","msgtype":"m.text"},"ts":1183479481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's how the live-dom-viewer works","msgtype":"m.text"},"ts":1183479482000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1183479540000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1183479541000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it doesn't fire a load even then. but i guess i could make it work. what's the benefit?","msgtype":"m.text"},"ts":1183479660000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"works in IE","msgtype":"m.text"},"ts":1183479661000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just copy some of the live-dom-ivewer logic","msgtype":"m.text"},"ts":1183479662000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"should be doable","msgtype":"m.text"},"ts":1183479663000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"works in firefox with that change","msgtype":"m.text"},"ts":1183479840000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and opera 9.2","msgtype":"m.text"},"ts":1183479900000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ie only wants to load the first test","msgtype":"m.text"},"ts":1183480020000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that's an improvement","msgtype":"m.text"},"ts":1183480200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"childNodes is null or not an object\"","msgtype":"m.text"},"ts":1183480320000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"    for (var i = 0; i < node.childNodes.length; i += 1) {","msgtype":"m.text"},"ts":1183480321000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1183480440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1183480441000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"contentDocument -> contentWindow.document","msgtype":"m.text"},"ts":1183480442000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"whoa","msgtype":"m.text"},"ts":1183480443000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's supposed to be equivalent","msgtype":"m.text"},"ts":1183480500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's kind of irritating when you're trying to write tests to help interoperability between browsers, but then you can't even write a script to run the tests without hitting non-interoperability issues between every browser...","msgtype":"m.text"},"ts":1183480501000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"now it works in ie","msgtype":"m.text"},"ts":1183480502000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Philip`: yeah","msgtype":"m.text"},"ts":1183480503000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but it outputs everything on one line","msgtype":"m.text"},"ts":1183480504000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"\\n -> \\r\\n ?","msgtype":"m.text"},"ts":1183480560000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183480561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"YAY!","msgtype":"m.text"},"ts":1183480620000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1183480621000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"doesn't work in safari though","msgtype":"m.text"},"ts":1183480622000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1183480680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"blame mjs :p","msgtype":"m.text"},"ts":1183480681000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"othermaciej: yt? :)","msgtype":"m.text"},"ts":1183480682000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"IE fails everything because of its fixed <title>","msgtype":"m.text"},"ts":1183480740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, the test output numbers don't match the test input numbers","msgtype":"m.text"},"ts":1183480860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, it seems that way","msgtype":"m.text"},"ts":1183480861000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the output numbers is 1 greater right?","msgtype":"m.text"},"ts":1183480862000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmm, IE and Opera seem to be one off","msgtype":"m.text"},"ts":1183480920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183480921000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it's correct","msgtype":"m.text"},"ts":1183480922000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the first test is empty","msgtype":"m.text"},"ts":1183480923000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":".split(/\\n*#data\\n/m)","msgtype":"m.text"},"ts":1183480924000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so why are they one off?","msgtype":"m.text"},"ts":1183480925000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"IE saying it's 24 and Opera claiming it's 25...","msgtype":"m.text"},"ts":1183480980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"foobar\".split(\"foo\") // [\"\", \"bar\"]","msgtype":"m.text"},"ts":1183480981000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i guess i could remove the first entry from the array but it seemed simpler to ignore it","msgtype":"m.text"},"ts":1183481040000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"they might do different things with split()","msgtype":"m.text"},"ts":1183481100000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1183481220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"javascript:(function(){var arr = \"#data\\nfoo\".split(/\\n*#data\\n/m); alert(arr.length); })()","msgtype":"m.text"},"ts":1183481221000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(Is it intentional that that will match strings like \"foo#data\\n\"?)","msgtype":"m.text"},"ts":1183481340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"not really","msgtype":"m.text"},"ts":1183481341000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(That was what the ^ in /\\n*^#data\\n/m was for :-) )","msgtype":"m.text"},"ts":1183481400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(fixed)","msgtype":"m.text"},"ts":1183481460000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok, fixed the number of tests issue","msgtype":"m.text"},"ts":1183481580000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ie passes test 101","msgtype":"m.text"},"ts":1183481760000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"<html><head><title></title><body></body></html> ...","msgtype":"m.text"},"ts":1183481820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"amazing that i got the format right on the first try. i didn't even look at the documentation","msgtype":"m.text"},"ts":1183481880000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hixie designed it","msgtype":"m.text"},"ts":1183481881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: if you could get people use html right on the first try... ;)","msgtype":"m.text"},"ts":1183481940000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I'm quite disappointed by the large number of fails","msgtype":"m.text"},"ts":1183481941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hopefully that will improve in due course by either updating the tests or the spec","msgtype":"m.text"},"ts":1183481942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: in which browser?","msgtype":"m.text"},"ts":1183482000000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"all?","msgtype":"m.text"},"ts":1183482001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Could you make a table of the results for all browsers, to see which tests don't match any browser's reality?","msgtype":"m.text"},"ts":1183482002000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i guess","msgtype":"m.text"},"ts":1183482060000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but there are more tests","msgtype":"m.text"},"ts":1183482061000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i want to figure out how to run those","msgtype":"m.text"},"ts":1183482062000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"first food","msgtype":"m.text"},"ts":1183482063000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"another for loop around the xhr","msgtype":"m.text"},"ts":1183482064000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or just merge everything on the server","msgtype":"m.text"},"ts":1183482065000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1183482066000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it would be good if you at some point comitted this back to html5lib","msgtype":"m.text"},"ts":1183482120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"then we can make the acid-parser test","msgtype":"m.text"},"ts":1183482180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"perhaps i don't need to do server side magic","msgtype":"m.text"},"ts":1183482181000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"other things that might be nice: 1) some colors on the result page to make it easier to scan 2) collapsable items on the result page","msgtype":"m.text"},"ts":1183482182000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"especially the second is useful given the large number of tests that fail :)","msgtype":"m.text"},"ts":1183482240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"makes notes","msgtype":"m.emote"},"ts":1183482241000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, did you \"fix\" the difference in counting with IE?","msgtype":"m.text"},"ts":1183482300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm thinking that it might be useful to include a bunch of <title></title> in a lot of testcases to make the IE results more usable","msgtype":"m.text"},"ts":1183482420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Could you post-process the results to ignore ones where the only difference is the \"|      <title>\" line?","msgtype":"m.text"},"ts":1183482480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(or mark as uninteresting, rather than entirely ignore them)","msgtype":"m.text"},"ts":1183482540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that'd be another option","msgtype":"m.text"},"ts":1183482600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"prolly better","msgtype":"m.text"},"ts":1183482601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"any html5lib developers awake here?  :-)","msgtype":"m.text"},"ts":1183483920000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"is","msgtype":"m.emote"},"ts":1183484160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan ported html5lib tests to browsers","msgtype":"m.text"},"ts":1183484220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"see http://simon.html5.org/temp/html5lib-tests/wrapper.html  for tree-construction/tests1","msgtype":"m.text"},"ts":1183484221000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Anne, can you do me a favor and svn update and then run:","msgtype":"m.text"},"ts":1183484280000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"python parse.py --tree \"<p><b><i><u></p><p>X\"","msgtype":"m.text"},"ts":1183484281000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"get two <p> siblings the second containing the same as the first plus \"X\" as deepest child","msgtype":"m.text"},"ts":1183484460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nevermind, I found my problem (the actual test2 #45 actually has a new line in the middle)","msgtype":"m.text"},"ts":1183484580000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"sorry to bother you","msgtype":"m.text"},"ts":1183484581000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"no worries","msgtype":"m.text"},"ts":1183484582000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen, how would this UUID stuff work?","msgtype":"m.text"},"ts":1183485660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen, what I'm interested in is annotating the test results for tree construction with that information","msgtype":"m.text"},"ts":1183485720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://ydnar.vox.com/library/post/webkit-team-adds-audio-video-support.html","msgtype":"m.text"},"ts":1183487280000,"senderName":"met_","senderId":"met_@irc"},
{"content":{"body":"annevk: i did","msgtype":"m.text"},"ts":1183487700000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: what's the problem?","msgtype":"m.text"},"ts":1183488000000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: http://simon.html5.org/temp/html5lib-tests/wrapper.html doesn't work in safari (for windows). don't know why","msgtype":"m.text"},"ts":1183492260000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I was hoping it would be obvious but there's a whole lot of script there","msgtype":"m.text"},"ts":1183492320000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"would the web inspector help me debug? how do i activate it on windows?","msgtype":"m.text"},"ts":1183492380000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: it's got a \"parse error\" and a \"maximum call stack size exceeded\"","msgtype":"m.text"},"ts":1183492381000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the JavaScript error console (in the debug menu) would tell you that","msgtype":"m.text"},"ts":1183492382000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"don't see a debug menu","msgtype":"m.text"},"ts":1183492383000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah, you have to turn it on with a command-line switch","msgtype":"m.text"},"ts":1183492440000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"google for \"safari windows debug menu\"","msgtype":"m.text"},"ts":1183492441000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I don't remember the details at the moment","msgtype":"m.text"},"ts":1183492442000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"http://rakaz.nl/item/enabling_the_debug_menu_on_safari_for_windows","msgtype":"m.text"},"ts":1183492443000,"senderName":"billmason","senderId":"billmason@irc"},
{"content":{"body":"ok, will do","msgtype":"m.text"},"ts":1183492444000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"is dom2string going to recurse to a depth of more than 99?","msgtype":"m.text"},"ts":1183492445000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"billmason: cheers","msgtype":"m.text"},"ts":1183492446000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"if so, that's probably the problem","msgtype":"m.text"},"ts":1183492447000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we should probably relax that stack limit","msgtype":"m.text"},"ts":1183492500000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it might","msgtype":"m.text"},"ts":1183492501000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but i don't think that's the problem, it didn't work with one test with the input \"Test\" either","msgtype":"m.text"},"ts":1183492620000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"is \"run\" a preserved word?","msgtype":"m.text"},"ts":1183492980000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: no","msgtype":"m.text"},"ts":1183493100000,"senderName":"hasather","senderId":"hasather@irc"},
{"content":{"body":"what is the SyntaxError: Parse Error on line 1 in http://simon.html5.org/temp/html5lib-tests/wrapper.html ?","msgtype":"m.text"},"ts":1183493101000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"works when i have only 1 test in the file","msgtype":"m.text"},"ts":1183493760000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"2 tests as well","msgtype":"m.text"},"ts":1183493761000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"seems to be a problem with the test that looks like this: \"<script><div></script></div><title><p></title><p><p>\"","msgtype":"m.text"},"ts":1183493820000,"senderName":"hasather","senderId":"hasather@irc"},
{"content":{"body":"zcorpan: that seems to be the only test that has unallowed content in a script element","msgtype":"m.text"},"ts":1183494000000,"senderName":"hasather","senderId":"hasather@irc"},
{"content":{"body":"zcorpan_: TestData in http://html5lib.googlecode.com/svn/trunk/python/tests/support.py contains the testcase parser that html5lib uses (you have to pass it a list of the section headings e.g. (\"data\", \"errors\", \"document\"))","msgtype":"m.text"},"ts":1183494120000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(that was a FYI if you have any more issues with the test format)","msgtype":"m.text"},"ts":1183494121000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hasather: ah. yes of course","msgtype":"m.text"},"ts":1183494480000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"jgraham: thanks","msgtype":"m.text"},"ts":1183494540000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"othermaciej: seems like the problem is the number of recursions indeed. not sure if i can/will work around that","msgtype":"m.text"},"ts":1183494660000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: I'm sure your function could easily be rewritten not to be recursive","msgtype":"m.text"},"ts":1183494840000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: can you do it for me? :)","msgtype":"m.text"},"ts":1183494841000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: don't have time to actually test, but I can tell you roughly how to do it","msgtype":"m.text"},"ts":1183494960000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"you're effectively doing a preorder tree traversal","msgtype":"m.text"},"ts":1183495020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"you can do that with a stack, or since you have parent pointers just with a simple loop","msgtype":"m.text"},"ts":1183495021000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"when entering a node, you do the entry processing (print node itself, increment indent)","msgtype":"m.text"},"ts":1183495080000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"then you check if it has children - if so, enter the first child","msgtype":"m.text"},"ts":1183495140000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(the live dom viewer has the same problem btw)","msgtype":"m.text"},"ts":1183495141000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"if no children, check for a next sibling - if present, do exit processing for current node and enter the next sibling","msgtype":"m.text"},"ts":1183495142000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if no next sibling, do exit processing for this node, then continue from the parent as if it had no children (i.e. exit to the parent's next sibling or parent's parent and so forth)","msgtype":"m.text"},"ts":1183495200000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ok. thanks","msgtype":"m.text"},"ts":1183495201000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"we use this style of tree traversal internal to webcore all the time","msgtype":"m.text"},"ts":1183495260000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"in fact, we have an internal traverseNextNode function that does it","msgtype":"m.text"},"ts":1183495261000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(although that doesn't visit a node again when exiting, which I think you want)","msgtype":"m.text"},"ts":1183495262000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah, i want to catch misnested nodes in ie","msgtype":"m.text"},"ts":1183495320000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"or perhaps that's just a check before you process the children","msgtype":"m.text"},"ts":1183495380000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"hmm. the question is how to handle misnested nodes.","msgtype":"m.text"},"ts":1183500360000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: Output \"FAIL\" and then stop?","msgtype":"m.text"},"ts":1183501020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"facepalms at continuing mail from Rob Burns","msgtype":"m.emote"},"ts":1183502160000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Philip`: yeah... but the recursive algorithm could output the entire tree anyway, which is nicer for debugging","msgtype":"m.text"},"ts":1183502280000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I don't quite see how trying to publish one document after four months counts as \"rushing\"","msgtype":"m.text"},"ts":1183502281000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"<td id=\"m1\" axis=\"mainMenu\" headers=\"m1\" valign=\"top\">","msgtype":"m.text"},"ts":1183502340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sigh","msgtype":"m.text"},"ts":1183502341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: hah","msgtype":"m.text"},"ts":1183502342000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"now that's some compact information","msgtype":"m.text"},"ts":1183502400000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: is that the sort of thing causing all the cycles?","msgtype":"m.text"},"ts":1183502401000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it's at least one cause","msgtype":"m.text"},"ts":1183502640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm going to rerun the survey with a special hack to count those sperately","msgtype":"m.text"},"ts":1183502641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i really have to stop e-mailing public-html","msgtype":"m.text"},"ts":1183502820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: are there tests on things like </p>, <html></p>, <head></p>, etc, in the html5lib tests?","msgtype":"m.text"},"ts":1183503840000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"public-html starts to get pretty high traffic again","msgtype":"m.text"},"ts":1183503900000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"typical longdesc: http://130.83.47.128/masterfiles/descriptions/logo.txt","msgtype":"m.text"},"ts":1183504560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"typical of what?","msgtype":"m.text"},"ts":1183504561000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"typical of the longdescs that are actually not completely bogus","msgtype":"m.text"},"ts":1183504620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(that's from http://130.83.47.128/vv/ss/comments/13.205.en.tud)","msgtype":"m.text"},"ts":1183504621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(the first one on my list of \"interesting\" uses)","msgtype":"m.text"},"ts":1183504622000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not a terrible longdesc I suppose","msgtype":"m.text"},"ts":1183504680000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"distinguishing between alternate text and explaining what the image is","msgtype":"m.text"},"ts":1183504681000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"<a href=\"http://www.google.co.jp/\">","msgtype":"m.text"},"ts":1183504682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<img src=\"http://blog2.fc2.com/2/20century/file/Logo_20s.gif\"  alt=\"Google\" height=\"75\" width=\"143\" longdesc=\"http://www.google.co.jp/logos.html\" /></a>","msgtype":"m.text"},"ts":1183504683000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"shame they didn't explain what the logo actually depicts","msgtype":"m.text"},"ts":1183504684000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"bangs head against table","msgtype":"m.emote"},"ts":1183504740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan_: I can't see any tests for those cases (htough I thought anne had checked some in...). If you want to add some I can add you to the html5lib members list","msgtype":"m.text"},"ts":1183504741000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie: maybe the text is helpful for that one","msgtype":"m.text"},"ts":1183504800000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"can't read Japanese","msgtype":"m.emote"},"ts":1183504801000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"oh wait, Google can read Japanese","msgtype":"m.text"},"ts":1183504802000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"But that logo.txt longdesc is in the wrong language for that page (which I guess could be because the site's developers had no way to actually test longdesc so it fell out of sync with the page contents)...","msgtype":"m.text"},"ts":1183504803000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"from that en.tud page, lower down:","msgtype":"m.text"},"ts":1183504804000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<img src=\"/masterfiles/images/blue10x1.gif\" alt=\"[Abstandhalter]\" title=\"[Abstandhalter]\" longdesc=\"/masterfiles/descriptions/abstandhalter.txt\">","msgtype":"m.text"},"ts":1183504805000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"guess what the \"/masterfiles/descriptions/abstandhalter.txt\" file contains","msgtype":"m.text"},"ts":1183504806000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: good point","msgtype":"m.text"},"ts":1183504807000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"i think i've yet to see an actual useful, value use of longdesc=\"\" in this study","msgtype":"m.text"},"ts":1183504980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbl","msgtype":"m.text"},"ts":1183505040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you should include uses of D-links","msgtype":"m.text"},"ts":1183505041000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"since for a long time D-link was used as a longdesc alternative based on poor support for longdesc","msgtype":"m.text"},"ts":1183505042000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"see also: http://www.w3.org/TR/WCAG10-HTML-TECHS/#long-descriptions","msgtype":"m.text"},"ts":1183505160000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"it would be interesting to know how many links in the wild have a value of D or [D] or similar","msgtype":"m.text"},"ts":1183505161000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"s/value/text content/","msgtype":"m.text"},"ts":1183505162000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"wants to rewrite his own rubbish survey tool to be slightly less rubbish, so he can get vaguely interesting numbers about common features","msgtype":"m.emote"},"ts":1183505280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"how many links ... and what they point to, of course","msgtype":"m.text"},"ts":1183505340000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"wants a google-scale cluster to run a survey on","msgtype":"m.emote"},"ts":1183505341000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and a pony, of course","msgtype":"m.text"},"ts":1183505400000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But seriously, Philip`, it would be nice if your survey tool was more widely available. It would be even better if the parser was fast. I wonder if any of the HTML5-parser-in-C projects are going to produce something soon?","msgtype":"m.text"},"ts":1183505460000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"At least my initial version taught me that SQLite is completely rubbish when you have concurrency - it kept throwing exceptions because the whole database was locked","msgtype":"m.text"},"ts":1183505520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so I need to rewrite it with MySQL or something","msgtype":"m.text"},"ts":1183505521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and I think it should do some simple crawling, rather than only looking at a fixed list of URLs, so it can find more stuff to look at","msgtype":"m.text"},"ts":1183505640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and a faster parser would definitely be useful :-) )","msgtype":"m.text"},"ts":1183505700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(A Java one would probably be as good as a C one)","msgtype":"m.text"},"ts":1183505820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"sounds like a bunch of people are interested in some kind of survey tool available to the community","msgtype":"m.text"},"ts":1183505940000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"Here's a good example of longdesc-as-long-alternative: http://www.fhwa.dot.gov/hfl/framework/04.cfm referring to http://www.fhwa.dot.gov/hfl/framework/longdesc.cfm#fig1","msgtype":"m.text"},"ts":1183506000000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"purpose would be 2-fold, correct? 1.) survey useage of authoring techniques on the web. 2.) test parsers?","msgtype":"m.text"},"ts":1183506001000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"3.) Confirm whether Hixie's stats are reasonable, or if he's just making up all the numbers :-)","msgtype":"m.text"},"ts":1183506060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I've thought about doing this with ec2 and Alexa's web services","msgtype":"m.text"},"ts":1183506120000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"eg greptheweb, and MSR","msgtype":"m.text"},"ts":1183506121000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"alexa has crawled documents in s3","msgtype":"m.text"},"ts":1183506122000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"but that costs money","msgtype":"m.text"},"ts":1183506180000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"jgraham: sure. i might check in this browser port too","msgtype":"m.text"},"ts":1183506240000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"othermaciej: rewrote the function to not be recursive but still get the same error in safari","msgtype":"m.text"},"ts":1183506300000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Philip`: so you already have some kind of survey tool? how does it work?","msgtype":"m.text"},"ts":1183506301000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"bewest: Ah, I wasn't aware of those things, though I tend to never consider anything that requires money :-)","msgtype":"m.text"},"ts":1183506360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah...","msgtype":"m.text"},"ts":1183506420000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"usually I don't either","msgtype":"m.text"},"ts":1183506421000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"except that I work at the company that makes those services","msgtype":"m.text"},"ts":1183506422000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"It was just something simple for things like http://canvex.lazyilluminati.com/misc/copyright.html and http://canvex.lazyilluminati.com/misc/summary.html","msgtype":"m.text"},"ts":1183506423000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and a few other things which I can't remember where I put)","msgtype":"m.text"},"ts":1183506480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"where I give it a list of a few thousand URLs (from Yahoo search results for arbitrary terms), and it just downloads them then parses them (with html5lib) and looks for certain stuff","msgtype":"m.text"},"ts":1183506481000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and sort of does those things in parallel, if you run lots of copies of the program, except most of the processes keep dying because SQLite gets unhappy)","msgtype":"m.text"},"ts":1183506540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and then some pages cause quadratic behaviour in html5lib and you have to manually delete them from the database)","msgtype":"m.text"},"ts":1183506600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(so it's all just horribly hacked together :-p )","msgtype":"m.text"},"ts":1183506601000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1183506660000,"senderName":"bewest","senderId":"bewest@irc"},
{"content":{"body":"zcorpan_: that's odd","msgtype":"m.text"},"ts":1183506720000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"zcorpan_: pointer?","msgtype":"m.text"},"ts":1183506721000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: http://simon.html5.org/temp/html5lib-tests/wrapper.html","msgtype":"m.text"},"ts":1183506780000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"webben: studying text contents is much harder for various reasons","msgtype":"m.text"},"ts":1183506781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"of course it's harder","msgtype":"m.text"},"ts":1183506840000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"but given we're talking about what's basically a language for marking up text, such study is pretty critical","msgtype":"m.text"},"ts":1183506841000,"senderName":"webben","senderId":"webben@irc"},
{"content":{"body":"be my guest :-)","msgtype":"m.text"},"ts":1183506900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan_: very confusing","msgtype":"m.text"},"ts":1183507020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"zcorpan_: I'll try debugging it in a while - need to get coffee first","msgtype":"m.text"},"ts":1183507021000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: ok","msgtype":"m.text"},"ts":1183507022000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"man, i've really spent all day on this thing","msgtype":"m.text"},"ts":1183507080000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"how does it feel to be paid to do this nonsense? :-)","msgtype":"m.text"},"ts":1183507140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan_: You should now be able to commit to html5lib svn If you're committing tests that html5lib doesn't pass, it's really good to email html5lib-discuss⊙gc so people know there hasn't been a regression","msgtype":"m.text"},"ts":1183507141000,"senderName":"jgraham","senderId":"jgraham@irc"}
]