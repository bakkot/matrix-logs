[
{"content":{"body":"alt=\"<%plugin_first_title>\" and things like that are sadly common","msgtype":"m.text"},"ts":1212392460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"also things like alt=\"<b>Sabit</b>\"","msgtype":"m.text"},"ts":1212392520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"this page contains an alt=\"\" whose value itself contains two <img> elements, both with alt=...","msgtype":"m.text"},"ts":1212392640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.modifiyem.com/forum/f51/lastik-basinclari-41393/","msgtype":"m.text"},"ts":1212392641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Someone please tell me my computing exam will be all right because they'll be technically right, so me not having learnt the wrong answers doesn't matter.","msgtype":"m.text"},"ts":1212393720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"\"An ASCII-compatible character encoding is one that is a superset of US-ASCII (specifically, ANSI_X3.4-1968) for bytes in the range 0x09 - 0x0D, 0x20, 0x21, 0x22, 0x26, 0x27, 0x2C - 0x3F, 0x41 - 0x5A, and 0x61 - 0x7A.\"","msgtype":"m.text"},"ts":1212393780000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Hixie: shouldn't that be s/a superset/identical/ ?","msgtype":"m.text"},"ts":1212393840000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"and s/of/to/","msgtype":"m.text"},"ts":1212393841000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"are there <video> tests anywhere? i've found http://hsivonen.iki.fi/test/moz/video-selection/","msgtype":"m.text"},"ts":1212398340000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, I have http://lachy.id.au/dev/markup/tests/html5/video/","msgtype":"m.text"},"ts":1212398580000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"doesn't webkit have any tests?","msgtype":"m.text"},"ts":1212398640000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"othermaciej: ^","msgtype":"m.text"},"ts":1212398700000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: http://trac.webkit.org/browser/trunk/LayoutTests/media","msgtype":"m.text"},"ts":1212398820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: cheers","msgtype":"m.text"},"ts":1212398821000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"FWIW, Opera is removing UTF-7 support from the Web side of the product. It will remain to work in e-mail of course.","msgtype":"m.text"},"ts":1212401040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(We're are also in process of removing UTF-32 support altogether.)","msgtype":"m.text"},"ts":1212401041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: since even IE and Safari don't expose EBCDIC encodings in the UI, EBCDIC could only be used by declaring it on the HTTP level, so discovering usage in content should be possible from a Web crawl","msgtype":"m.text"},"ts":1212401340000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: You can declare it in <meta charset> too","msgtype":"m.text"},"ts":1212401520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: how does that work?","msgtype":"m.text"},"ts":1212401580000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Like http://philip.html5.org/demos/charset/ebcdic/meta.html","msgtype":"m.text"},"ts":1212401581000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"IE seems to detect the ASCII <meta charset> then reparses the document","msgtype":"m.text"},"ts":1212401640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hmm, if innerHTML in xml needs to take into account doms that are parsed from text/html, the cases that throw are not complete. e.g. <foo 123>","msgtype":"m.text"},"ts":1212401641000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Philip`: seems more like a bug in IE and Safari than a working feature","msgtype":"m.text"},"ts":1212401642000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"should get started with dom5core soon","msgtype":"m.emote"},"ts":1212401700000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: Bugs are working features, and people often rely on them :-)","msgtype":"m.text"},"ts":1212401701000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I wonder if there's an exploitable security hole here","msgtype":"m.text"},"ts":1212401702000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: There probably is if e.g. you have a blog that uses EBCDIC, and you allow comments and escape all '<' characters to make them safe","msgtype":"m.text"},"ts":1212401760000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"because someone can write something that gets encoded to <meta charset=us-ascii><script>...</script>","msgtype":"m.text"},"ts":1212401820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but you'd have to be incredibly dumb to run your blog in EBCDIC, so that doesn't seem like a real problem","msgtype":"m.text"},"ts":1212401821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it seems dumb to publish any Web content in EBCDIC as it doesn't work in Gecko and Opera","msgtype":"m.text"},"ts":1212401880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"maybe it's real enough for them to stop supporting ebcdic","msgtype":"m.text"},"ts":1212401881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Unfortunately people are dumb","msgtype":"m.text"},"ts":1212401882000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I suppose it'll be worse if browsers ever autodetect EBCDIC)","msgtype":"m.text"},"ts":1212402000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it would sure be nice though if we can limit the Web to a finite set of character encodings","msgtype":"m.text"},"ts":1212402180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(http://philip.html5.org/demos/charset/ebcdic/meta-autodetect.html - ah, good, looks like they don't autodetect)","msgtype":"m.text"},"ts":1212402300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(from internal IRC: http://kitenet.net/~joey/blog/entry/thread_patterns/ )","msgtype":"m.text"},"ts":1212402540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"should probably bring the computing exam paper up here so we can laugh at it","msgtype":"m.emote"},"ts":1212410700000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hsivonen: Validator.nu says \"Warning: Using x-ibm-1252_p100-2000 instead of the declared encoding iso-8859-1.\" which seems unnecessarily more confusing than \"windows-1252\"","msgtype":"m.text"},"ts":1212410880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"found a bug in webkit.. https://bugs.webkit.org/show_bug.cgi?id=19355","msgtype":"m.emote"},"ts":1212411000000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Philip`: Yeah, I just noticed myself. deploying a supposed fix now. will take a while as the validator rebuilds itself","msgtype":"m.text"},"ts":1212411060000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: thanks","msgtype":"m.text"},"ts":1212411061000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the wonders of HashMaps that harmless-looking key changes make precedence in duplicate cases change","msgtype":"m.text"},"ts":1212411180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"aaargh. now I don't know what caused the encoding weirdness or why my fix isn't working","msgtype":"m.text"},"ts":1212411300000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I also managed to break my instant rollback ability","msgtype":"m.text"},"ts":1212411420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I suppose that means you can't instantly rollback to a version in which instant rollback worked, which sounds like a pain","msgtype":"m.text"},"ts":1212411480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: fixed","msgtype":"m.text"},"ts":1212411780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Thanks!","msgtype":"m.text"},"ts":1212411840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the TAG concedes on ARIA but not distributed extensibility","msgtype":"m.text"},"ts":1212413280000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I disagree with \"short-term\" and all but I guess it's better to leave it alone","msgtype":"m.text"},"ts":1212413340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"see also http://lists.w3.org/Archives/Public/public-html/2008Jun/0044.html if you haven't been following along","msgtype":"m.text"},"ts":1212413341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'd be interested in seeing scenarios where Distributed Extensibility would be used *and* the W3C wouldn't accuse the extender of bad unilateral action","msgtype":"m.text"},"ts":1212413400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Who said they wanted it to be used? :P","msgtype":"m.text"},"ts":1212413460000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"hsivonen, it seems to me they'd be fine with people using it for their own internal purposes. Or their own vocabulary they want to include in HTML to mark up details of various video game consoles or something like that...","msgtype":"m.text"},"ts":1212413580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: why does the *World-Wide* *Web* Consortium put effort into catering for such private off-the-Web use cases?","msgtype":"m.text"},"ts":1212413640000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, money? I've no idea why certain Working Groups exist","msgtype":"m.text"},"ts":1212413760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: this reminds me of http://dbaron.org/log/2006-08#e20060818a","msgtype":"m.text"},"ts":1212413820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm, in other news, today is the deadline of XHR1 Last Call comments","msgtype":"m.text"},"ts":1212414720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"last call deadline for comments doesn't really mean all that much. It's not as if you're going to ignore comments that come afterwards.","msgtype":"m.text"},"ts":1212414840000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it means that if we addressed all comments and didn't change too much we can move to CR","msgtype":"m.text"},"ts":1212414960000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which would be nice","msgtype":"m.text"},"ts":1212414961000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess that means I should really look over it closely","msgtype":"m.text"},"ts":1212415020000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"And there's lots of recent precendent that you don't need to adress comments at all, right ;)","msgtype":"m.text"},"ts":1212415021000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Hmm. It's still odd.","msgtype":"m.text"},"ts":1212415080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Dashiva, you're getting confused by the way the old HTMLWG used to work.","msgtype":"m.text"},"ts":1212415200000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"good editors don't ignore comments, they just find clever ways to reject them ;-0","msgtype":"m.text"},"ts":1212415201000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":";-)","msgtype":"m.text"},"ts":1212415202000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"not just the HTML WG, SVG WG too, just see the link from hsivonen","msgtype":"m.text"},"ts":1212415260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I seem to recall some noise about the css wg too, back in the day","msgtype":"m.text"},"ts":1212415860000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"\"O! For the love of! We're going to be constrained by the broken DOM APIs?\"","msgtype":"m.text"},"ts":1212416100000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva, where is that quote from?","msgtype":"m.text"},"ts":1212416101000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"TAG minutes","msgtype":"m.text"},"ts":1212416220000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"\"I cannot even stomach even abstaining on something that makes - the namespace separator\"","msgtype":"m.text"},"ts":1212416221000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"when you are on the server side, you get to write your own XML tree API that sucks less than the DOM.","msgtype":"m.text"},"ts":1212416280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I did","msgtype":"m.text"},"ts":1212416281000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"\"Why have aria-, why not just pick names that don't clash?\"","msgtype":"m.text"},"ts":1212416340000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"boggles","msgtype":"m.emote"},"ts":1212416341000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: the answer is that HTML5 and ARIA developments met too late","msgtype":"m.text"},"ts":1212416342000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Dashiva: if the ARIA folks had indicated integration interest to the WHATWG a couple of years ago, it might have been different","msgtype":"m.text"},"ts":1212416400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: The answer is also \"aria-x _is_ a name that doesn't clash\"","msgtype":"m.text"},"ts":1212416401000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: that too","msgtype":"m.text"},"ts":1212416402000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"It goes back to the previous comment, they seem to think aria- is a namespace","msgtype":"m.text"},"ts":1212416460000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I can't really see how ARIA would've been designed differently than what we ended up with now (other than aria-role as opposed to role)","msgtype":"m.text"},"ts":1212416461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"There may be a small chance we can get them to do something reasonable\"","msgtype":"m.text"},"ts":1212416462000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"\"I want to try and maintain what credibility we can\" :)","msgtype":"m.text"},"ts":1212416520000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Well, maybe a different prefix name and such, but that's details...","msgtype":"m.text"},"ts":1212416521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"a11y-role","msgtype":"m.text"},"ts":1212416760000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"annevk: aria could have failed and interested parties could have pushed for html5 features instead","msgtype":"m.text"},"ts":1212416761000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, that wouldn't have affected the design so much (apart from it not being adopted)","msgtype":"m.text"},"ts":1212416820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it could have affected html5","msgtype":"m.text"},"ts":1212416880000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"fair enough, oh well, enough \"what if\" talk","msgtype":"m.text"},"ts":1212417060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"goes to buy a printer and such","msgtype":"m.emote"},"ts":1212417061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i should really get my expense reports done today","msgtype":"m.text"},"ts":1212417120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"otherwise accounting will hunt me down","msgtype":"m.text"},"ts":1212417121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: did you happen to take a closer look at the XRI stuff? what is it about?","msgtype":"m.text"},"ts":1212417900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://meyerweb.com/eric/thoughts/2008/06/02/the-missing-link/","msgtype":"m.text"},"ts":1212419160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, I don't know anything apart from that it's an URI scheme and the people who give out parts of the scheme space monotize on that somehow","msgtype":"m.text"},"ts":1212419161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(is it really monotize? google doesn't give clues)","msgtype":"m.text"},"ts":1212419162000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(Monetize)","msgtype":"m.text"},"ts":1212419220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"you mean someone other than TLD registrars want to monetize URI space?","msgtype":"m.text"},"ts":1212419221000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(monetise)","msgtype":"m.text"},"ts":1212419222000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"that doesn't sound good","msgtype":"m.text"},"ts":1212419223000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, http://en.wikipedia.org/wiki/Extensible_Resource_Identifier","msgtype":"m.text"},"ts":1212419280000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"how does one make a browser dereference an XRI?","msgtype":"m.text"},"ts":1212419340000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"seems to be that OASIS is practising distributed extensibility of the URI system by minting a new scheme :-)","msgtype":"m.text"},"ts":1212419460000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"s/be/me/","msgtype":"m.text"},"ts":1212419461000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"HTML vs XML / URIs vs XRIs","msgtype":"m.text"},"ts":1212419462000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen, http://www.pacificspirit.com/blog/2008/05/30/detailed_technical_reasons_why_im_against_xris has rationale on why TAG members are against this","msgtype":"m.text"},"ts":1212419580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"on the face of it, this XRI stuff seems to break key goodness of OpenID 1.0","msgtype":"m.text"},"ts":1212419581000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, they're using this in OpenID 2.0 I believe","msgtype":"m.text"},"ts":1212419760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen, OpenID 2.0 is not backwards compatible :(","msgtype":"m.text"},"ts":1212419761000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(there's also various ways to point to OpenID 2.0, including using this new stuff)","msgtype":"m.text"},"ts":1212419762000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that seems like a bad idea when they should be making OpenID 1.0 look stable and something that people can adopt","msgtype":"m.text"},"ts":1212419820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Is OpenID 2.0 still OpenPhishing as well?","msgtype":"m.text"},"ts":1212419821000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: do you mean 1.0 is OpenPhishing?","msgtype":"m.text"},"ts":1212419880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Yes","msgtype":"m.text"},"ts":1212419881000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"i've no idea why it's so complex","msgtype":"m.text"},"ts":1212420000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i'm not sure i want to take the time to investigate","msgtype":"m.text"},"ts":1212420001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The only non-monetizing aspect of XRI I've seen is the reassignable-name/permanent-number connection, and I don't know enough to say if that's a valid point","msgtype":"m.text"},"ts":1212420120000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"zcorpan: video tests? yes","msgtype":"m.text"},"ts":1212422220000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"grmbl","msgtype":"m.text"},"ts":1212422820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"driver support strikes again","msgtype":"m.text"},"ts":1212422821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"finds http://www.stchman.com/foo2zjs.html","msgtype":"m.emote"},"ts":1212422880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"othermaciej: philip had a pointer","msgtype":"m.text"},"ts":1212423420000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hmm, getting this printer to actually work (rather than being recognized and not printing anything when asked) required running some obscure script on a third party site and rebooting my computer...","msgtype":"m.text"},"ts":1212423960000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen, so reading http://meyerweb.com/eric/thoughts/2008/06/02/the-missing-link/ it seems to fail bringing up any other use case than <tr>...","msgtype":"m.text"},"ts":1212429600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not quite sure whether the linking stuff is a presentational concern or a semantic one.","msgtype":"m.text"},"ts":1212429660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"do browser implementers really want a global href not to happen?","msgtype":"m.text"},"ts":1212430200000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"I think the extremely bit is an overstatement, but as can be seen by <object> overloading is not a good idea","msgtype":"m.text"},"ts":1212430260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Also, people keep forgetting it's not just href; hreflang, ping, type, etc. would also be affected","msgtype":"m.text"},"ts":1212430380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<base style=\"display:block; border:2px magenta solid\" href=\"foo\" target=\"_blank\">","msgtype":"m.text"},"ts":1212433140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If one uses onclick to simulate a link on todays <tr>, would a screen reader know it and can it be made usable for a blind user?","msgtype":"m.text"},"ts":1212433380000,"senderName":"itpastorn","senderId":"itpastorn@irc"},
{"content":{"body":"My question was not rethorical","msgtype":"m.text"},"ts":1212433620000,"senderName":"itpastorn","senderId":"itpastorn@irc"},
{"content":{"body":"Screen readers should be able to deal with that...","msgtype":"m.text"},"ts":1212433621000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"With or without aria?","msgtype":"m.text"},"ts":1212433680000,"senderName":"itpastorn","senderId":"itpastorn@irc"},
{"content":{"body":"Opera Mini even deals with most such situations as well and it doesn't even have access to a DOM / JS execution context","msgtype":"m.text"},"ts":1212433681000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"without","msgtype":"m.text"},"ts":1212433682000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1212433740000,"senderName":"itpastorn","senderId":"itpastorn@irc"},
{"content":{"body":"(FWIW, I don't actually if screen readers deal with it, I'm just saying it's feasible.)","msgtype":"m.text"},"ts":1212434580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Now, can I have a drop roll?","msgtype":"m.text"},"ts":1212441660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"spec-gen is executing for the first ever time!","msgtype":"m.text"},"ts":1212441720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"It seems to be taking a year, though","msgtype":"m.text"},"ts":1212441780000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://hg.gsnedders.com/spec-gen/file/9f0ed82d3f20/src/specGen/utils.py#l66 — I need something cheaper than that, badly.","msgtype":"m.text"},"ts":1212443040000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"A cheaper way to gEBI?","msgtype":"m.text"},"ts":1212443220000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"gsnedders: Perform a single initial pass over the document, finding all elements with id and putting them in a dict?","msgtype":"m.text"},"ts":1212443280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Dashiva: yeah","msgtype":"m.text"},"ts":1212443281000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: That would mean also updating it at times, when I add it to more elements","msgtype":"m.text"},"ts":1212443282000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The cheapest way to implement a method is to never call it","msgtype":"m.text"},"ts":1212443283000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: Do you do forward gEBIs, e.g. for elements you haven't seen yet?","msgtype":"m.text"},"ts":1212443340000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: :)","msgtype":"m.text"},"ts":1212443341000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: You should definitely, definitely cache the ids you generate yourself","msgtype":"m.text"},"ts":1212443400000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: Well, the entire document is stored in memory at once, so I do look at @id anywhere in it","msgtype":"m.text"},"ts":1212443401000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Do you need to update it continuously, or could you do a series of stages like find_and_cache_all_ids(); do_some_processing_that_might_change_elements(); find_and_cache_all_ids(); do_more_processing() ?","msgtype":"m.text"},"ts":1212443402000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: So cache the ones you produce, as well as any you look up, that way you'll only lookup each element at most once","msgtype":"m.text"},"ts":1212443403000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"wonders when it will stop running on HTML 5","msgtype":"m.emote"},"ts":1212443404000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(I'm assuming you're calling gEBI many more times than once per element-with-an-id, since otherwise it shouldn't be a bottleneck at all)","msgtype":"m.text"},"ts":1212443460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: You should do some stats on how many gEBIs fail","msgtype":"m.text"},"ts":1212443461000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I'd expect close to zero, otherwise there's trouble at work :)","msgtype":"m.text"},"ts":1212443462000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: The only call is in the method above","msgtype":"m.text"},"ts":1212443463000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: And it's a loop to boot","msgtype":"m.text"},"ts":1212443520000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: Yeah, but it should rarely run more than once","msgtype":"m.text"},"ts":1212443521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Well, do some profiling. Check how many gEBIs fail, and how many times the loop runs more than once (and how many for those)","msgtype":"m.text"},"ts":1212443522000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I assume the XPath has to traverse the entire tree looking for an element with that id, so it's going to be pretty expensive each time you call it, so just memoising the function might not help much","msgtype":"m.text"},"ts":1212443580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders whether using an .iter would be cheaper","msgtype":"m.emote"},"ts":1212443640000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'm actually a bit surprised htmllib doesn't keep an id lookup","msgtype":"m.text"},"ts":1212443641000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: The loop never actually runs at all","msgtype":"m.text"},"ts":1212443642000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"or at least I don't think so…","msgtype":"m.text"},"ts":1212443700000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: In that case, your bottleneck is the xpath.","msgtype":"m.text"},"ts":1212443701000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I'd try what Philip` suggested. Run the whole tree once, collect a dict of all ids. Every time you make an id, add to dict. Never use xpath.","msgtype":"m.text"},"ts":1212443702000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"If the loop never executes, you could prefix the lines with \"#\" which makes Python apply super optimisations that make code really really fast and don't change the behaviour if it wouldn't have had any effect anyway","msgtype":"m.text"},"ts":1212443703000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: :D","msgtype":"m.text"},"ts":1212443760000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You could (should?) still use XPath once, to find all the elements with ids in the initial traversal bit","msgtype":"m.text"},"ts":1212443761000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but doing it for every id lookup doesn't seem like a good idea","msgtype":"m.text"},"ts":1212443820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gEBI costs 0.016s per call","msgtype":"m.text"},"ts":1212443821000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh yeah, he could use xpath for the initial colletion, yeah","msgtype":"m.text"},"ts":1212443822000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"And on (my old copy of) WF2 it is called 80 times","msgtype":"m.text"},"ts":1212443880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Forty million clock cycles? That's not good :-p","msgtype":"m.text"},"ts":1212443881000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"HTML 5 has currently been taking around 10 minutes to process","msgtype":"m.text"},"ts":1212443882000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I don't think this is the sort of speed Hixie wanted me to get :)","msgtype":"m.text"},"ts":1212443940000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"First you make it work, then you make it fast. One at a time :)","msgtype":"m.text"},"ts":1212443941000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"(The textContent function above is called far more times (almost 2000) yet costs almost nothing)","msgtype":"m.text"},"ts":1212444000000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(0.000s per call)","msgtype":"m.text"},"ts":1212444001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: How long is gEBI taking in total on HTML5?","msgtype":"m.text"},"ts":1212444002000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I'm assuming that's rounded down)","msgtype":"m.text"},"ts":1212444003000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: Dunno. It hasn't finished running yet.","msgtype":"m.text"},"ts":1212444004000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Oh. Then why did you say you needed something faster that it, before you knew it was slow?","msgtype":"m.text"},"ts":1212444005000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Web Forms 2.0 made is obvious it was slow.","msgtype":"m.text"},"ts":1212444006000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I think he figured after 5 minutes of waiting :)","msgtype":"m.text"},"ts":1212444060000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: Don't need anything of HTML 5's size to prove that :)","msgtype":"m.text"},"ts":1212444061000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Or, what Dashiva said, then I got wondering why, and ran it on WF2 :P","msgtype":"m.text"},"ts":1212444062000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'd expect it to take O(size^2) time, and HTML5 is only five times larger than WF2, so it should only take ~30 seconds","msgtype":"m.text"},"ts":1212444063000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"which is still too slow and worth optimising, but isn't five minutes :-)","msgtype":"m.text"},"ts":1212444120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think we can conclude it isn't that good :)","msgtype":"m.text"},"ts":1212444121000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh, we're over ten minutes now :)","msgtype":"m.text"},"ts":1212444122000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"throws KeyboardInterrupt","msgtype":"m.emote"},"ts":1212444123000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You ought to make it print its incremental process, in case it's got stuck in an infinite loop","msgtype":"m.text"},"ts":1212444124000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Guess what function it was in when I threw it!","msgtype":"m.text"},"ts":1212444125000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gEBI!","msgtype":"m.text"},"ts":1212444126000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"sleep?","msgtype":"m.text"},"ts":1212444127000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"No, gEBI :P","msgtype":"m.text"},"ts":1212444180000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"doesn't understand how it could be that much slower on HTML5 than on WF2","msgtype":"m.emote"},"ts":1212444240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"O(n^2) probably has something to do with it","msgtype":"m.text"},"ts":1212444360000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: But n=5 and 80*0.016s = 1.3s so it shouldn't be nearly that bad, unless I'm horribly mistaken somewhere","msgtype":"m.text"},"ts":1212444420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"tries html5.src with his really naïve cache","msgtype":"m.emote"},"ts":1212444421000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: On line 48, did you intend to remove all space characters from anywhere in source? (.strip only strips leading/trailing characters, so that wouldn't quite work)","msgtype":"m.text"},"ts":1212444480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, maybe I'm missing the bit a few lines later","msgtype":"m.text"},"ts":1212444481000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: :)","msgtype":"m.text"},"ts":1212444482000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"naïve caching gets HTML 5 down to 17.859s","msgtype":"m.text"},"ts":1212444483000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"By the way, your loop should probably increment i","msgtype":"m.text"},"ts":1212444540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"LOL","msgtype":"m.text"},"ts":1212444541000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"else it'll loop forever","msgtype":"m.text"},"ts":1212444542000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"True.","msgtype":"m.text"},"ts":1212444543000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"oh snap!","msgtype":"m.text"},"ts":1212444544000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"and if your cache fixes that, then your cache is broken :-p","msgtype":"m.text"},"ts":1212444545000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"That'll be the ten minutes of running, I bet :P","msgtype":"m.text"},"ts":1212444546000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"No wonder it was in gEBI","msgtype":"m.text"},"ts":1212444547000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: Yeah, my cache is broken","msgtype":"m.text"},"ts":1212444548000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: It just takes the initial state and never updates it","msgtype":"m.text"},"ts":1212444549000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(You quite possibly want the cache anyway, even without the infinite loop)","msgtype":"m.text"},"ts":1212444600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"tries running HTML 5 without the cache but with a working loop","msgtype":"m.emote"},"ts":1212444660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"predicts 25 seconds","msgtype":"m.emote"},"ts":1212444720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hint: It's all ready more than that","msgtype":"m.text"},"ts":1212444721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"26?","msgtype":"m.text"},"ts":1212444722000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders if there's another loop","msgtype":"m.emote"},"ts":1212444723000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"adds print i","msgtype":"m.emote"},"ts":1212444780000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"watches scrollback disappear into infinity","msgtype":"m.emote"},"ts":1212444781000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"That's not even getting called","msgtype":"m.text"},"ts":1212444840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Instead of printing i, you could add a \"if i == 3 break\". That way you won't get the previous problem :)","msgtype":"m.text"},"ts":1212444841000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"we get as far as Document.xpath(), then it takes an hour there","msgtype":"m.text"},"ts":1212444842000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"realises","msgtype":"m.emote"},"ts":1212444900000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"actually running the copy you just edited helps","msgtype":"m.text"},"ts":1212444901000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Is your document cyclic?","msgtype":"m.text"},"ts":1212444902000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Who needs bugs with coding practices like these? :P","msgtype":"m.text"},"ts":1212444903000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: Me! :P","msgtype":"m.text"},"ts":1212444960000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Clearly you need to make this program multithreaded to get optimum performance on modern processors","msgtype":"m.text"},"ts":1212444961000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Dashiva: OK, my scrollback is now vanishing","msgtype":"m.text"},"ts":1212444962000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Dashiva: Albeit slowly","msgtype":"m.text"},"ts":1212444963000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The most times the loop body is getting executed is twice","msgtype":"m.text"},"ts":1212445020000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"1440 dfn elements in my copy of HTML 5.","msgtype":"m.text"},"ts":1212445021000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"No wonder it's bad :)","msgtype":"m.text"},"ts":1212445022000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Running time now?","msgtype":"m.text"},"ts":1212445023000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dunno, didn't look when I started it","msgtype":"m.text"},"ts":1212445080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"140.484s","msgtype":"m.text"},"ts":1212445081000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"     6958  122.344    0.018  122.344    0.018 {method 'xpath' of 'lxml.etree._Element' objects}","msgtype":"m.text"},"ts":1212445082000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Heh. That's lovely :P","msgtype":"m.text"},"ts":1212445083000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"_Element?","msgtype":"m.text"},"ts":1212445140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gEBI was calling it on a Document...","msgtype":"m.text"},"ts":1212445141000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: Need a legend for those numbers","msgtype":"m.text"},"ts":1212445142000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Is much (cumulative) time spent in textContent?","msgtype":"m.text"},"ts":1212445143000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Dashiva:    ncalls  tottime  percall  cumtime  percall filename:lineno(function)","msgtype":"m.text"},"ts":1212445144000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: the root element is still an _Element :P","msgtype":"m.text"},"ts":1212445200000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: 0.285s","msgtype":"m.text"},"ts":1212445201000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh, right, you just have broken naming conventions and use uppercase letters for variables","msgtype":"m.text"},"ts":1212445202000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: And with caching?","msgtype":"m.text"},"ts":1212445203000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"so I thought it was a class name instead","msgtype":"m.text"},"ts":1212445204000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Peh. I just copied that from DOM :P","msgtype":"m.text"},"ts":1212445205000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: (there was a reason why I did originally use DOM)","msgtype":"m.text"},"ts":1212445260000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: It'd be saner to copy the Python conventions :-)","msgtype":"m.text"},"ts":1212445261000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: textContent is cheap, and I doubt I could rewrite it to be quicker. If you iterate over everything you need to check if you have an element or a comment before you take _Element.text, while always taking .tail","msgtype":"m.text"},"ts":1212445320000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: It would, but I currently want to get something that takes less than 2 minutes to create cross-references on HTML 5 :)","msgtype":"m.text"},"ts":1212445321000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: You could call textContent half as many times","msgtype":"m.text"},"ts":1212445322000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but if it's only 0.3s then there's no point","msgtype":"m.text"},"ts":1212445380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Are you including the time taken to parse the document?","msgtype":"m.text"},"ts":1212445381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Let's stop distracting him from implementing an improvement with talk :)","msgtype":"m.text"},"ts":1212445382000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: I know I've thought of doing that before","msgtype":"m.text"},"ts":1212445383000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Dashiva: I need to sleep, anyway","msgtype":"m.text"},"ts":1212445384000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"And is this two minutes in a profiler that makes everything really slow?","msgtype":"m.text"},"ts":1212445385000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: No","msgtype":"m.text"},"ts":1212445440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: This is cProfile, which has next to no overhead. It really does take that long.","msgtype":"m.text"},"ts":1212445441000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://stuff.gsnedders.com/html5.html — find broken xrefs!","msgtype":"m.text"},"ts":1212445442000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: That's only true if you consider 2.5x speed decrease to be next to no overhead","msgtype":"m.text"},"ts":1212445560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(At least that's what I get when running html5lib with cProfile)","msgtype":"m.text"},"ts":1212445561000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I've never found it that slow, compared with other profilers :P","msgtype":"m.text"},"ts":1212445562000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That's just because other profilers are even more slow","msgtype":"m.text"},"ts":1212445620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"uses time","msgtype":"m.emote"},"ts":1212445621000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"let us see how long this takes :P","msgtype":"m.text"},"ts":1212445622000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wonders why gsnedders is timing an implementation he knows is inefficient :)","msgtype":"m.emote"},"ts":1212445680000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: To see how slow cProfile really is here :P","msgtype":"m.text"},"ts":1212445681000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, on that page various <dfn> elements don't have an id= assigned","msgtype":"m.text"},"ts":1212445740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: I found 64 broken references","msgtype":"m.text"},"ts":1212445741000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"#refsWF2, #refsXHTML2, #refsRFC2119, #refsHALTINGPROBLEM, ...","msgtype":"m.text"},"ts":1212445742000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(i also think that HTML-elements would be better as html-elements","msgtype":"m.text"},"ts":1212445743000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":")","msgtype":"m.text"},"ts":1212445744000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Philip`: Those are Hixie's missing refs, aren't they?","msgtype":"m.text"},"ts":1212445800000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"annevk: like what?","msgtype":"m.text"},"ts":1212445801000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Dashiva: Yes, but nobody said I had to find broken links introduced by gsnedders","msgtype":"m.text"},"ts":1212445802000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Smartass.","msgtype":"m.text"},"ts":1212445803000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: You've done something that breaks the spec-splitter","msgtype":"m.text"},"ts":1212445860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(It splits the spec into five chunks, one of which is 1.4MB)","msgtype":"m.text"},"ts":1212445861000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: 131.631s without cProfile","msgtype":"m.text"},"ts":1212445862000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: No, it just doesn't do something that the spec-splitter needs yet, realistically :)","msgtype":"m.text"},"ts":1212445920000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Do you know what that something is?","msgtype":"m.text"},"ts":1212445921000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders, search for <dfn>","msgtype":"m.text"},"ts":1212445980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"likes the date of 1901","msgtype":"m.emote"},"ts":1212445981000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: hmm, odd","msgtype":"m.text"},"ts":1212446040000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jgraham: That's Hixie, not me :)","msgtype":"m.text"},"ts":1212446041000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, so I'd suggest fixing that and lowercasing id values","msgtype":"m.text"},"ts":1212446042000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders, except when id is explicitly set of course","msgtype":"m.text"},"ts":1212446043000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no need to change what the author meant","msgtype":"m.text"},"ts":1212446044000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, sure","msgtype":"m.text"},"ts":1212446045000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"1901?","msgtype":"m.text"},"ts":1212446046000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: [DATE: 01 Jan 1901]","msgtype":"m.text"},"ts":1212446100000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1212446101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: [DATE] has the exact same affect, FWIW","msgtype":"m.text"},"ts":1212446102000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, looks quite nice already btw","msgtype":"m.text"},"ts":1212446103000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i just use it to remind myself of what the format has to be","msgtype":"m.text"},"ts":1212446104000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Ah","msgtype":"m.text"},"ts":1212446105000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hmm, \"Cue ranges\" is missing a </dl>","msgtype":"m.text"},"ts":1212446106000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"which breaks everything","msgtype":"m.text"},"ts":1212446107000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Well, I didn't write html5lib's serialiser","msgtype":"m.text"},"ts":1212446160000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, hopefully it's not slow on sanely-sized specs :)","msgtype":"m.text"},"ts":1212446161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"*nudge*","msgtype":"m.text"},"ts":1212446162000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: Currently around 5s on WF2 :(","msgtype":"m.text"},"ts":1212446163000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: html5lib's serialiser works perfectly well for me","msgtype":"m.text"},"ts":1212446164000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Well, I ain't doing nothin' :P","msgtype":"m.text"},"ts":1212446165000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(The </dl> is there in the spec-splitter's normal output)","msgtype":"m.text"},"ts":1212446166000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders: I recommend using the serializer with optional tags on","msgtype":"m.text"},"ts":1212446167000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(since I guess that's what the problem is)","msgtype":"m.text"},"ts":1212446220000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I use it with optional tags off, and it works fine","msgtype":"m.text"},"ts":1212446221000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(quote_attr_values=True, inject_meta_charset=False)","msgtype":"m.text"},"ts":1212446222000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh well, it's gsnedders fault then :)","msgtype":"m.text"},"ts":1212446223000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: Once done, it should be the case that html5lib is the slowest part","msgtype":"m.text"},"ts":1212446224000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(at least with the latest html5lib, and latest version of the spec)","msgtype":"m.text"},"ts":1212446225000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders, 5s seems sort of acceptable","msgtype":"m.text"},"ts":1212446226000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"This is a version of the spec from Feb 13th :P","msgtype":"m.text"},"ts":1212446280000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"and almost latest html5lib","msgtype":"m.text"},"ts":1212446281000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, yeah yeah, I and everyone else on the planet know about html5lib perf :p","msgtype":"m.text"},"ts":1212446282000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: That's kind of odd, then","msgtype":"m.text"},"ts":1212446340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I don't touch the actual raw data, and I don't do much that's crazy","msgtype":"m.text"},"ts":1212446400000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://hg.gsnedders.com/hgwebdir.cgi/spec-gen/file/1909801197f0/specGen/processes/xref.py#l86 — that's as crazy as it gets","msgtype":"m.text"},"ts":1212446401000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(This is line 12218)","msgtype":"m.text"},"ts":1212446402000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh well. I'll look at this all tomorrow.","msgtype":"m.text"},"ts":1212446520000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"And try and work out the bizarre bug of it not having any @id","msgtype":"m.text"},"ts":1212446521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://hg.gsnedders.com/hgwebdir.cgi/spec-gen/file/1909801197f0/specGen/processes/xref.py#l39 — it's hardly complex","msgtype":"m.text"},"ts":1212446522000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"By the way, it'd be nice if the output of this script was well-formed XML, so later tools (like the spec splitter) could use a nice fast standard XML parser","msgtype":"m.text"},"ts":1212446760000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"What about the spec author's wishes? :)","msgtype":"m.text"},"ts":1212446940000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"What wishes are those?","msgtype":"m.text"},"ts":1212447000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Maybe he likes using optional end tags","msgtype":"m.text"},"ts":1212447060000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"The spec can be written in HTML, and the final published version could be converted to HTML, but it's much easier and faster if the intermediate stages are all XML","msgtype":"m.text"},"ts":1212447061000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"But once you add that end tag, the information is lost. There's no way to remove it later :)","msgtype":"m.text"},"ts":1212447120000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"There's plenty of ways to remove it later - that's what html5lib's serialiser does","msgtype":"m.text"},"ts":1212447121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"See e.g. http://canvex.lazyilluminati.com/wa1/multipage/video.html - lots of non-present end tags there, in all the sensible places","msgtype":"m.text"},"ts":1212447180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Well, lots of non-present end tags *not* there)","msgtype":"m.text"},"ts":1212447240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"But that could remove end tags that were present in the original :)","msgtype":"m.text"},"ts":1212447300000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"and you'll get the same information loss regardless of whether you use HTML or XML in the toolchain, since it's always going to get parsed into a tree that loses that information and then get serialised","msgtype":"m.text"},"ts":1212447301000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ponders whether to keep going","msgtype":"m.emote"},"ts":1212447360000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"sighs at yet another W3C mailing list","msgtype":"m.emote"},"ts":1212447480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Mailing lists are old fashioned","msgtype":"m.text"},"ts":1212447540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah, use IRC!","msgtype":"m.text"},"ts":1212447600000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"The W3C should get with the times, and move all WG business to Twitter","msgtype":"m.text"},"ts":1212447601000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Mike was talking about setting up a slashcode installation for htmlwg. :)","msgtype":"m.text"},"ts":1212447602000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: I have been tempted to suggest that to the people who complain that the W3C uses mailing lists","msgtype":"m.text"},"ts":1212447603000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"since they never seem to have a good reason for disliking thm","msgtype":"m.text"},"ts":1212447660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Dashiva: Does that mean we could mod people Troll?","msgtype":"m.text"},"ts":1212447661000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"or at least one that I agree with :)","msgtype":"m.text"},"ts":1212447662000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Philip`: That was the idea, I believe","msgtype":"m.text"},"ts":1212447720000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Getting the WG to sort out noise collectively, instead of everyone doing it individually","msgtype":"m.text"},"ts":1212447721000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I think modding people troll would be much worse than the current situation","msgtype":"m.text"},"ts":1212447780000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Because people would react badly","msgtype":"m.text"},"ts":1212447781000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and start making a fuss about how they were being oppressed or whatever","msgtype":"m.text"},"ts":1212447840000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Make it so that when you mod someone Troll, they seem themselves as being modded Insightful instead","msgtype":"m.text"},"ts":1212447841000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"then they'll never notice the oppression","msgtype":"m.text"},"ts":1212447842000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"there are plenty of ways to foster good communities without modding or permanent banning","msgtype":"m.text"},"ts":1212447843000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: Could always prevent negative modding, and just set a high positive treshold for viewing instead :)","msgtype":"m.text"},"ts":1212447844000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"the reason the w3c lists have problems is that they aren't maintained like a proper community","msgtype":"m.text"},"ts":1212447900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Yeah, if the people in charge are willing to..","msgtype":"m.text"},"ts":1212447901000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: Only if they only have a single account and anonymous viewing is disallowed","msgtype":"m.text"},"ts":1212447902000,"senderName":"jgraham","senderId":"jgraham@irc"}
]