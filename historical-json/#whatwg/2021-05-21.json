[
{"content":{"body":"https://gist.github.com/cbiesinger/f2378dbcd215495c3a1daf9696a8e91f seems potentially promising in that regard, with https://infrequently.org/2020/12/resize-resilient-deferred-rendering/ being the thing we could try in the meantime","msgtype":"m.text"},"ts":1621558159000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"shu: the multipage version of the ES spec is great","msgtype":"m.text"},"ts":1621564276000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I have no idea when y’all added that, but I somehow didn’t realize it until quite recently","msgtype":"m.text"},"ts":1621564304000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for MDN/BCD, I have been thinking about changing all the spec URLs for the JavaScript docs to use the multipage spec URLS","msgtype":"m.text"},"ts":1621564372000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MDN spec links (which are now actually maintained in the BCD repo) currently reference the full spec — but I think it would be better user experience for readers if switched them all to the corresponding multipage URLs","msgtype":"m.text"},"ts":1621564469000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for the HTML spec, all the spec URLs (now also in BCD) consistently now reference the multipage URLs","msgtype":"m.text"},"ts":1621564521000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"shu: but if we were the switch to the multipage URLs for the ES spec, we’d ideally want to have a guarantee that the filenames won’t change","msgtype":"m.text"},"ts":1621564645000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but it seems like they are not likely to change, given that from what I have seen, the splits seem to all be done at the top-level section/chapter, with no further finer-grained splitting any lower than at that level","msgtype":"m.text"},"ts":1621564778000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: it looks like the ES spec supports HTML-style filling in the filename from the hash. E.g., https://tc39.es/ecma262/multipage/#prod-IdentifierReference gets redirected to https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#prod-IdentifierReference","msgtype":"m.text"},"ts":1621565209000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"so as long as the hash stays the same (which is more likely than filenames staying the same), the link should be stable","msgtype":"m.text"},"ts":1621565243000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"ah excellent","msgtype":"m.text"},"ts":1621565248000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah for BCD, when considering whether to use those file-less HTML URLs, the issue any consumers of that data would need to have JavaScript support to be able to get the actual document content","msgtype":"m.text"},"ts":1621565380000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I don’t know what existing use cases there actually are for anybody doing anything with BCD that would include processing of the document content at the spec URLs","msgtype":"m.text"},"ts":1621565444000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but it seemed better to try to accommodate/anticipate use cases that might need to do that — scraping just from a normal python or whatever script — rather than needing puppeteer or such just to be able to get the document conten","msgtype":"m.text"},"ts":1621565584000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Bakkot: poking around in the ES spec repo now, I see maybe you’re the one who put the machinery together for generating the multipage version","msgtype":"m.text"},"ts":1621565667000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1621565679000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"well then, thanks much","msgtype":"m.text"},"ts":1621565689000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Bakkot: so are the file splits in fact consistently at the top-level sections/chapters?","msgtype":"m.text"},"ts":1621565770000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yup, that's how they're determined","msgtype":"m.text"},"ts":1621565780000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"OK cool","msgtype":"m.text"},"ts":1621565785000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"(if we ever rename a top-level section I'll need to add a mechanism to generate a page at the previous url, so as to not break links, but I haven't bothered yet)","msgtype":"m.text"},"ts":1621565821000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1621565833000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"can cross that bridge when we come to it","msgtype":"m.text"},"ts":1621565857000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for BCD I anyway have a script that checks for spec-URL breakage — including if the fragment IDs/anchors break","msgtype":"m.text"},"ts":1621565900000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"sorry, what is BCD?","msgtype":"m.text"},"ts":1621565964000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"anyway, yeah, we try not to break links, though occasionally there's not a good place to put an old anchor and it just gets dropped","msgtype":"m.text"},"ts":1621565972000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"BCD is https://github.com/mdn/browser-compat-data","msgtype":"m.text"},"ts":1621565986000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"aha","msgtype":"m.text"},"ts":1621565992000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"yeah that is what the Browser Compatibility tables in MDN is generated from","msgtype":"m.text"},"ts":1621566019000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and now also all the Specifications tables (at least so far all the ones for the JavaScript docs)","msgtype":"m.text"},"ts":1621566054000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyway, I am now convinced I should put together a patch for BCD that switches all the JavaScript spec URLs to use the multipage spec","msgtype":"m.text"},"ts":1621566102000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"all 785 of them","msgtype":"m.text"},"ts":1621566118000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"should be pretty straightforward, I think","msgtype":"m.text"},"ts":1621566221000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1621566239000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if you want to link to the right subsections instead of the top-level `multipage/` (and so avoid a redirect) you can read the map out of the `multipageMap` defined in https://tc39.es/ecma262/multipage/multipage.js","msgtype":"m.text"},"ts":1621566256000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1621566275000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the map is inverted from what you need but it's easy enough to invert","msgtype":"m.text"},"ts":1621566310000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"excellent","msgtype":"m.text"},"ts":1621566321000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah that makes it easy","msgtype":"m.text"},"ts":1621566330000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"`Object.fromEntries(Object.entries(multipageMap).flatMap(([k, v]) => v.map(s => [s, k])))`","msgtype":"m.text"},"ts":1621566361000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(how did we live without Object.fromEntries for so long)","msgtype":"m.text"},"ts":1621566383000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"well I was gonna write it python anyway :p","msgtype":"m.text"},"ts":1621566399000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"just kidding — all the BCD scripting is JavaScript anyway","msgtype":"m.text"},"ts":1621566421000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"although anyway the script for this would just be a one-time need, I guess — no need to add the script to repo, maybe","msgtype":"m.text"},"ts":1621566481000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah, I think you can probably assume future contributors can get the multipage link themselves","msgtype":"m.text"},"ts":1621566509000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"soon I will add a keyboard shortcut for that to the spec","msgtype":"m.text"},"ts":1621566517000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"you mean a keyboard shortcut to switch between the full spec and multipage?","msgtype":"m.text"},"ts":1621566563000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1621566568000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"(the shortcut is `m`)","msgtype":"m.text"},"ts":1621566579000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"Bakkot: wait es spec has keyboard shortcuts","msgtype":"m.text"},"ts":1621571967000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1621572000000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"TimothyGu technically, yes, `/` brings you to the search box","msgtype":"m.text"},"ts":1621577038000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"but that is the only one until I land and upstream my pr adding `m`","msgtype":"m.text"},"ts":1621577047000,"senderName":"Bakkot","senderId":"Bakkot@irc"},
{"content":{"body":"ah I see","msgtype":"m.text"},"ts":1621577060000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"shout-out to the creator of this image https://gc.gy/f126133f-1e66-404e-b360-53928d7f8edd.png","msgtype":"m.text"},"ts":1621617594000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"it's beautiful","msgtype":"m.text"},"ts":1621618468000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"I have minor complaints about the contrast of the red digits against their gray backgrounds, but otherwise yes, the image is perfect and must never be replaced.","msgtype":"m.text"},"ts":1621619382000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hi. Is there an IRC channel for CBOR-LD, and if so, what is it? Thanks","msgtype":"m.text"},"ts":1621632992000,"senderName":"philipp64_","senderId":"philipp64_@irc"}
]