[
{"content":{"body":"i'll let y'all handle that one :-)","msgtype":"m.text"},"ts":1209081720000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It seems to me that MoinMoin can't generate <th> in tables","msgtype":"m.text"},"ts":1209081721000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"How's that for accessibility...","msgtype":"m.text"},"ts":1209081722000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"<td colspan=\"3\" style=\"text-align: center\"><p class=\"line891\"><strong>Heading</strong></td>","msgtype":"m.text"},"ts":1209081840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(via http://moinmoin.wikiwikiweb.de/HelpOnTables )","msgtype":"m.text"},"ts":1209081841000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Ayup","msgtype":"m.text"},"ts":1209081842000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"The wiki-code for tables looks fairly ugly - does anybody have a nice way of marking up tables?","msgtype":"m.text"},"ts":1209081960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"kind of likes the LaTeX syntax, since you normally only need a single line of setup code and then every row is like \"cell1 & cell2 & cell3 \\\\\" which is about as minimal as possible","msgtype":"m.emote"},"ts":1209082140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Mediawiki's way is bad because it clashes with template syntax, but just markup-wise it covers most of it","msgtype":"m.text"},"ts":1209082141000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"(http://en.wikibooks.org/wiki/LaTeX/Tables etc)","msgtype":"m.text"},"ts":1209082142000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(You can't do the fancy stuff like col/colgroup/thead etc, but they allow plain html for the complex stuff)","msgtype":"m.text"},"ts":1209082200000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"(Does that mean you can write a simple table with the wiki syntax, then add a few more complex features, but once you get to a certain point and want another feature you have to rewrite the entire thing into HTML?)","msgtype":"m.text"},"ts":1209082260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"No, you can just copypaste the output of the old code :)","msgtype":"m.text"},"ts":1209082320000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Hixie, you might be able to answer this more better than I can. http://blogs.msdn.com/ie/archive/2008/04/23/what-happened-to-operation-aborted.aspx#8422881","msgtype":"m.text"},"ts":1209082321000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Dashiva: What if you want to remove that final feature and convert it back to the wiki syntax? :-)","msgtype":"m.text"},"ts":1209082322000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Run a regexp on it :)","msgtype":"m.text"},"ts":1209082323000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"s/more better/better/","msgtype":"m.text"},"ts":1209082324000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"You could even write a wikicode serializer and link it to html5lib!","msgtype":"m.text"},"ts":1209082380000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Lachy: commented","msgtype":"m.text"},"ts":1209082500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wonders if it's possible/sensible for a script to override document.write and intercept all the written strings","msgtype":"m.emote"},"ts":1209082860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I'd like to let pages get proper HTML5 parsing by adding a line <!doctype html><script src=html5parser.js></script> to the top, but that seems like it'd be a bit messier if the page tries doing fancy scripting stuff itself)","msgtype":"m.text"},"ts":1209082920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie, there's a few more exceptions you forgot to mention, like always appending link and meta elements to the head, even if it's not open.","msgtype":"m.text"},"ts":1209083040000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"though, I suppose that doesn't insepct the DOM to do that, it just maintains a separate head pointer","msgtype":"m.text"},"ts":1209083041000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"hello","msgtype":"m.text"},"ts":1209084480000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, I'm curious what your proposal is for an http based protocol for TCPConnection?","msgtype":"m.text"},"ts":1209084540000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, Hixie mentioned that the protocol was your main objection","msgtype":"m.text"},"ts":1209084541000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: I don't have a full proposal for how to satisfy the TCPConnection use cases","msgtype":"m.text"},"ts":1209084542000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, Ok, I'm at least interested in the reasons for it","msgtype":"m.text"},"ts":1209084600000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"my two problems with it are: (1) it uses port/host addressing instead of URI addressing, which is a poor fit for the Web model","msgtype":"m.text"},"ts":1209084601000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, I'm putting together a document about the pros and cons of http for TCPConnection","msgtype":"m.text"},"ts":1209084602000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"(2) it's bad to send non-http over the assigned ports for http and https","msgtype":"m.text"},"ts":1209084603000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(3) I am worried that connection to arbitrary ports could lead to security issues, although Hixie tried hard to avoid them","msgtype":"m.text"},"ts":1209084660000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(basically the only security mechanism though is assuming that no other protocol will happen to emulate the TCPConnection handshake, which seems pretty weak)","msgtype":"m.text"},"ts":1209084661000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(given that other protocols have been found to have multiple interpretation vulnerabilities)","msgtype":"m.text"},"ts":1209084720000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I guess that is three problems","msgtype":"m.text"},"ts":1209084721000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1209084722000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"i had a couple of other concerns","msgtype":"m.text"},"ts":1209084723000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"With SSL there is no way to do virtual hosting -- you have to route on ip address... HTTP/1.1 upgrade with TLS solves this problem","msgtype":"m.text"},"ts":1209084724000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: I think a custom http method that begins a two-way session might be a promising solution, but I think that would require a proof of concept that it is viable on client and server side","msgtype":"m.text"},"ts":1209084780000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Http provides the Host header to avoid dns rebinding attacks","msgtype":"m.text"},"ts":1209084781000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, it seems to me the way to do it is send an OPTIONS with an Upgrade: tcp/1.0 header as the client->server tcp handshake","msgtype":"m.text"},"ts":1209084782000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: those are also good points","msgtype":"m.text"},"ts":1209084783000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"also, HTTP based connections include query parameters and cookies, allowing for normal auth mechanisms","msgtype":"m.text"},"ts":1209084840000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, i'll add your three points to my document","msgtype":"m.text"},"ts":1209084900000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"the big hurdle is keeping it simple enough for Hixie's requirements, particularly that it be possible to implement in just a few lines of perl","msgtype":"m.text"},"ts":1209084960000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"use Net::HTML5::Connection;","msgtype":"m.text"},"ts":1209084961000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"run_server();","msgtype":"m.text"},"ts":1209084962000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Should it be a few lines of Perl that a normal Perl programmer would write, or a few lines that a Perl golfer could write?","msgtype":"m.text"},"ts":1209085020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, he wants it to be 3 lines with no support libraries","msgtype":"m.text"},"ts":1209085021000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"i dunno about 3","msgtype":"m.text"},"ts":1209085140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think i said a few dozen","msgtype":"m.text"},"ts":1209085200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but the point is it has to be a fully compliant implementation","msgtype":"m.text"},"ts":1209085201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Is there any problem that can't be solved in a few dozen lines of Perl?","msgtype":"m.text"},"ts":1209085202000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the travelling salesman problem?","msgtype":"m.text"},"ts":1209085260000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"takkaria: That's a trivial problem to solve - just enumerate all possibilities and pick the best","msgtype":"m.text"},"ts":1209085320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"quickly, then. :)","msgtype":"m.text"},"ts":1209085380000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"It's trivial to do it quickly, at least for certain input sizes :-)","msgtype":"m.text"},"ts":1209085381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"OK, I'll stop defending my quick and ill-thought-out reponse now","msgtype":"m.text"},"ts":1209085500000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"anyone else want a go? :)","msgtype":"m.text"},"ts":1209085501000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"perl -lpe'@==sort@p=map$_.shift@=,@@for@@=/,|\\pL/g;$_=@p[$`]'","msgtype":"m.text"},"ts":1209085920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Apparently that does the Burrows-Wheeler transform, but I don't quite see how :-/","msgtype":"m.text"},"ts":1209085921000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: in 6.4.1, you can't check the origin of the target document while postMessage is running -- what happens if the target window is navigated to another location before the event is dispatched?","msgtype":"m.text"},"ts":1209086040000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"as far as I can tell, the only thing you can/must do at postMessage time is determine the origin of the caller; everything else must happen immediately before the event is dispatched","msgtype":"m.text"},"ts":1209086280000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Hixie, oh, i think we could get it done in just a few lines of code even if it was http-based","msgtype":"m.text"},"ts":1209086340000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, i don't think saying \"it should be implementable in 3-10 lines of perl\" is unreasonable whatsoever","msgtype":"m.text"},"ts":1209086460000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: my vague idea was to repurpose the CONNECT method, since that is likely to already work through proxies","msgtype":"m.text"},"ts":1209086760000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: but developing the proper server-side support would be tricky","msgtype":"m.text"},"ts":1209086820000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so I feel like it is not worth suggesting without proof-of-concept client and server impls","msgtype":"m.text"},"ts":1209086821000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I think the two-way persistent connection problem may just have to get solved after HTML5","msgtype":"m.text"},"ts":1209086822000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, well, I'm working on a proof of concept so feel free to suggest to me any ideas you have","msgtype":"m.text"},"ts":1209086940000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, i lost connectivity there, but i had try to say that you should give me any ideas/suggestions you have for bi-directional communication protocols because I'm making a proof of concept client and server","msgtype":"m.text"},"ts":1209087540000,"senderName":"mcarter_","senderId":"mcarter_@irc"},
{"content":{"body":"mcarter: ok, so my idea was to overload CONNECT, have an apache module that lets a CGI script or similar handle this, and have it establish a two-way TCP connection","msgtype":"m.text"},"ts":1209089460000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: using \"upgrade\" also seems like an interesting idea though may be less proxy-compatible","msgtype":"m.text"},"ts":1209089461000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Apache module sounds scary","msgtype":"m.text"},"ts":1209089462000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I have no idea how hard or easy it is to write an Apache module but I assume it is easier than an IIS plugin","msgtype":"m.text"},"ts":1209089520000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Apache modules don't work too well in lighttpd either :-(","msgtype":"m.text"},"ts":1209089521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I'm not sure there is a viable solution that will work with every existing httpd","msgtype":"m.text"},"ts":1209089580000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(Hixie's approach was basically to run services that don't hook into httpd at all on totally separate ports)","msgtype":"m.text"},"ts":1209089581000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm not sure what problem this is trying to solve, so I suppose I should find that out first","msgtype":"m.text"},"ts":1209089700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the problem is enabling full duplex messaging between a client and a server over a single established TCP connection (to avoid overhead of constantly creating and destroying connections)","msgtype":"m.text"},"ts":1209089760000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Server-sent events + XHR with HTTP pipelining?","msgtype":"m.text"},"ts":1209089761000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the closest thing to it over http is http pipelining combined with a multipart (or otherwise incremental) http response","msgtype":"m.text"},"ts":1209089762000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(or just keepalive)","msgtype":"m.text"},"ts":1209089820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"my main use case was on a machine that didn't even have a web server","msgtype":"m.text"},"ts":1209089821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that's another story","msgtype":"m.text"},"ts":1209089822000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jwalden: woops, good point","msgtype":"m.text"},"ts":1209089823000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jwalden: fix on the way","msgtype":"m.text"},"ts":1209089824000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"XHR with pipelining might be viable, but there's no solution on the server side (afaik) to bind a pipeline to a single process which handles all requests on it","msgtype":"m.text"},"ts":1209089880000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so if you have a front-end server that farms out requests to individual process/threads to serve them, you have not really solved the use case","msgtype":"m.text"},"ts":1209089881000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"also http pipelining is currently not viable on the client side","msgtype":"m.text"},"ts":1209089940000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm pretty sure Opera did XHR pipelining when I last tested it","msgtype":"m.text"},"ts":1209089941000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Opera tries to use super clever heuristics to figure out when it can avoid any of the servers or proxies that create problems","msgtype":"m.text"},"ts":1209089942000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1209089943000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"That sounds interoperable","msgtype":"m.text"},"ts":1209090000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but I don't think anyone else has enough faith in their ability to come up with sufficiently clever heuristics","msgtype":"m.text"},"ts":1209090001000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Aren't the servers and proxies likely to cause just as many problems for a brand new persistent-two-way-connection-over-HTTP thing than for pipelining?","msgtype":"m.text"},"ts":1209090060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"an http pipeline does also impose quite a bit of protocol-level overhead if your messages are small, though maybe that doesn't matter in practice","msgtype":"m.text"},"ts":1209090061000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, i don't think the Uprade header has anything to do with proxies. We'll still need to put send a CONNECT to the proxy no matter what protocol we choose","msgtype":"m.text"},"ts":1209090062000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Philip`: the problem with pipelining is that some servers (and proxies) will scramble multiple responses when you give them pipelined requests","msgtype":"m.text"},"ts":1209090063000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"also, I don't like http pipe-lining at all -- the only way to restart a stream is to close the actual tcp connection, or send http responses back to all the \"acks\" that have built up","msgtype":"m.text"},"ts":1209090064000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Philip`: however, CONNECT does give you a way to tunnel a connection over the proxy at least for SSL that seems to work","msgtype":"m.text"},"ts":1209090120000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, with the apache stuff, i don't think the topic is how someone should implement tcp connection, rather what protocol should be used","msgtype":"m.text"},"ts":1209090121000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, later on, apache or anyone else can go ahead and implement whatever api/interaction with their current stuff that they want","msgtype":"m.text"},"ts":1209090180000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Philip`, server sent events + XHR, without pipelining provides a pretty workable duplex stream, but its really hard to implement","msgtype":"m.text"},"ts":1209090240000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Is this feature meant to work for people with very restricted networks that allow nothing except HTTP (maybe HTTPS) connections and only to their proxy server?","msgtype":"m.text"},"ts":1209090241000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"mcarter: Ah, I suppose the pipelining doesn't actually matter except for latency","msgtype":"m.text"},"ts":1209090300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(but I was looking at this in the context of a multiplayer FPS, where latency is pretty important)","msgtype":"m.text"},"ts":1209090301000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, yeah, for upstream latency you'd have to do somethign with multipart to make it reasonable","msgtype":"m.text"},"ts":1209090360000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"wonders which direction is upstream","msgtype":"m.emote"},"ts":1209090420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"good point. From a client/server point of view, upstream counts as towards the server, at least thats how I use the term","msgtype":"m.text"},"ts":1209090421000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Okay","msgtype":"m.text"},"ts":1209090422000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, a full duplex mechanism for the browser should work over restricted networks where traffic must pass through firewalls and/or http forward proxies","msgtype":"m.text"},"ts":1209090423000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Philip`, so we'll definitely need to send a CONNECT to the forward proxy either way","msgtype":"m.text"},"ts":1209090480000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Are there proxies that block everything except GET and POST?","msgtype":"m.text"},"ts":1209090481000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"doesn't know how much effort people put into making their networks useless","msgtype":"m.emote"},"ts":1209090482000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"possibly, but they still support CONNECT for https","msgtype":"m.text"},"ts":1209090540000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"CONNECT to a proxy basically means, \"now ignore any more bytes that go up or down this connection\"","msgtype":"m.text"},"ts":1209090541000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"That sounds like a good feature to lock down when all your annoying users are trying to Skype through your network","msgtype":"m.text"},"ts":1209090600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"mcarter: one requirement that Hixie (rightly) states is that this new approach must be reasonably easy to deploy on the server side","msgtype":"m.text"},"ts":1209090601000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: I haven't proposed a protocol in part because I feel like I would need to prove it is viable with code","msgtype":"m.text"},"ts":1209090660000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"just making a protocol proposal isn't very helpful in itself","msgtype":"m.text"},"ts":1209090661000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, this is precisely what i'm working on","msgtype":"m.text"},"ts":1209090662000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, i'm making an implementation of the TCPConnection api in the browser that speaks to a special server that understands sse and xhrs as being upstream and downstream","msgtype":"m.text"},"ts":1209090663000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, then that server opens a raw socket connection to the destination, and speaks the appropriate protocol","msgtype":"m.text"},"ts":1209090720000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, so any browser code can use the javascript api, and the server code can just be a socket server that implements whatever the protocol is supposed to be","msgtype":"m.text"},"ts":1209090721000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, so I'm interested in feedback as I put together a few example server implementations of that protocol","msgtype":"m.text"},"ts":1209090722000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: I don't see the point of that","msgtype":"m.text"},"ts":1209090780000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: it doesn't do anything to show viability of directly integrating support for the protocol into an existing server infrastructure","msgtype":"m.text"},"ts":1209090781000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"one of the demos could easily be an apache module, if thats what you think it would take to prove anything","msgtype":"m.text"},"ts":1209090782000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"personally, i'm more with hixie that it should be a few lines of perl","msgtype":"m.text"},"ts":1209090840000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"well, it's certainly not the only way","msgtype":"m.text"},"ts":1209090841000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"a few lines of perl almost certainly can't be a specific URI on the same host and port your document came from","msgtype":"m.text"},"ts":1209090842000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"anything where you have to pick a custom host and port can't work purely within the same-origin security model","msgtype":"m.text"},"ts":1209090843000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, i believe the plan is to allow at least cross-sub-domain and probably fully cross-domain tcp connections","msgtype":"m.text"},"ts":1209090900000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1209090901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes, that is what TCPConnection allows, and one of the things I dislike about it","msgtype":"m.text"},"ts":1209090902000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"oh?","msgtype":"m.text"},"ts":1209090903000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm, this making the argument thing isn't so non-trivial if you actually decide to be principled and determine what the argument *should* be if it's provided and not \"*\"","msgtype":"m.text"},"ts":1209090960000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"the only security measure is assuming no other current or future network service can emulate the handshake","msgtype":"m.text"},"ts":1209090961000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, it doesn't really make sense to just come up with some special protocol to speak to http servers. As I see it, TCPConnection to *other* services/daemons will enable a whole class of applications","msgtype":"m.text"},"ts":1209090962000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"s/thing/non-optional thing/","msgtype":"m.text"},"ts":1209090963000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"(or can be tricked into emulating the handhsake)","msgtype":"m.text"},"ts":1209090964000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but TCPConnection can't talk to an arbitrary existing service","msgtype":"m.text"},"ts":1209090965000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it has to talk to a custom service written for TCPConnection","msgtype":"m.text"},"ts":1209090966000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"jwalden: you only need to include it in the reply, really, right? in which case just pass event.origin","msgtype":"m.text"},"ts":1209091020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej, of course. but custom socket services are trivial to write, and give you the power of full duplex communication without banging your head against a wall or using flash","msgtype":"m.text"},"ts":1209091021000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie: I have so many convolutions in most of these tests that it isn't always that simple","msgtype":"m.text"},"ts":1209091022000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: heh","msgtype":"m.text"},"ts":1209091023000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: further, providing the literal value is good defense anyway","msgtype":"m.text"},"ts":1209091024000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"it's like combining the worst parts of something http-based (can't talk to existing services) and something socket-based (no URI addressing, no same-origin security, no ability to leverage common http-based infrastrucutre)","msgtype":"m.text"},"ts":1209091025000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that is the core of what is wrong with TCPConnection, in my mind","msgtype":"m.text"},"ts":1209091080000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"jwalden: oh i agree","msgtype":"m.text"},"ts":1209091081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jwalden: i expect there are two major use-cases","msgtype":"m.text"},"ts":1209091082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I want the full duplex functionality on a URI on my server","msgtype":"m.text"},"ts":1209091083000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so except in one or two cases where I'm using a single file generically, I have to determine what the exact value is","msgtype":"m.text"},"ts":1209091084000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"not a separate port on some other host","msgtype":"m.text"},"ts":1209091085000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"jwalden: talking to a specific page on a specific host (in which case, it's known), and talking to anyone (in which case, it doesn't matter)","msgtype":"m.text"},"ts":1209091086000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"with no addressing of resources below host granularity","msgtype":"m.text"},"ts":1209091087000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, I agree that the tcpconnection should be able to talk to your standard server. an integration with apache for instance","msgtype":"m.text"},"ts":1209091088000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"jwalden: though i agree that often test cases end up being complicated for this kind of thing!","msgtype":"m.text"},"ts":1209091089000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej, but why not also let it talk to a custom service?","msgtype":"m.text"},"ts":1209091140000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"imagine I am logged into www.mychatservice.com","msgtype":"m.text"},"ts":1209091141000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and the site wants to send my messages back and forth over a full duplex connection","msgtype":"m.text"},"ts":1209091142000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if it's not over http to the same server, it can't rely on my cookies as the auth credential","msgtype":"m.text"},"ts":1209091143000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"on the plus side, I've discovered a test I'd written earlier doesn't meaningfully test what it was testing any more since the domain/uri->origin change","msgtype":"m.text"},"ts":1209091144000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"othermaciej: hm, we could send host and path information in the request","msgtype":"m.text"},"ts":1209091200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think I can use document.domain and some hacks to make it meaningful again","msgtype":"m.text"},"ts":1209091201000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"othermaciej, thats exactly my earlier reason for why it should support cookies","msgtype":"m.text"},"ts":1209091202000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej: which would get us uri addressibility","msgtype":"m.text"},"ts":1209091203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what I'd like to do is open http://www.mychatservice.com/messagestream/othermaciej","msgtype":"m.text"},"ts":1209091204000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: (in the same way that web servers do)","msgtype":"m.text"},"ts":1209091205000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and have that be a two-way full duplex connection","msgtype":"m.text"},"ts":1209091206000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I see it like this, you should make a standard http request with a URL and headers, include an Upgrade: tcp/1.0 header","msgtype":"m.text"},"ts":1209091207000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"that follows the same-origin security model","msgtype":"m.text"},"ts":1209091208000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: http is not a full-duplex protocol. we can never get this for an http://... uri","msgtype":"m.text"},"ts":1209091209000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the server can repond acknowledging the upgrade or not","msgtype":"m.text"},"ts":1209091210000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"and sends my cookies","msgtype":"m.text"},"ts":1209091260000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: http supports on-the-fly conversion to other protocols (TLS upgrade) and custom methods that do whatever you want (which can tunnel through a proxy via CONNECT)","msgtype":"m.text"},"ts":1209091261000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: in theory, sure","msgtype":"m.text"},"ts":1209091320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, you can get this for an http:// uri though. just have an http handhsake with an upgrade header","msgtype":"m.text"},"ts":1209091321000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej: but i'm not writing an http server just so i can send messages back and forth","msgtype":"m.text"},"ts":1209091322000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't know whether it is viable to do this in practice","msgtype":"m.text"},"ts":1209091323000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that is why I think a proof of concept that integrates with a real server would be informative","msgtype":"m.text"},"ts":1209091324000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: neither should you have to write an http server just so you can publish hypertext documents, but fortunately that problem has been solved for you","msgtype":"m.text"},"ts":1209091325000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the original use case i had for this -- my train server -- was a perl script about 50 lines long, most of which was infrastructure to talk to the machine's serial port to control my trains","msgtype":"m.text"},"ts":1209091380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"adding a compliant http server to this would be many more than 50 lines","msgtype":"m.text"},"ts":1209091381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"1000 maybe","msgtype":"m.text"},"ts":1209091382000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, don't think of it like that. Choose a subset of http that an existing server would understand as http","msgtype":"m.text"},"ts":1209091383000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"I don't think a train server is a very interesting use case compared to things like chat or other notification streams","msgtype":"m.text"},"ts":1209091384000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: then it's not conforming","msgtype":"m.text"},"ts":1209091385000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: or it's not http","msgtype":"m.text"},"ts":1209091440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, but thats okay","msgtype":"m.text"},"ts":1209091441000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, i'm saying, our protocol should NOT be http","msgtype":"m.text"},"ts":1209091442000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: what's the point of pretending to use http if it's not http?","msgtype":"m.text"},"ts":1209091443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'd still have to support http if you handshake on http first","msgtype":"m.text"},"ts":1209091444000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"writing an auth mechanism that works securely without leveraging the http-related infrastructure would take more than 50 lines too","msgtype":"m.text"},"ts":1209091445000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie, so existing servers give back reasonable responses, and you can still do load balancing and authentication with existing methods","msgtype":"m.text"},"ts":1209091446000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, we handshake on a *subset* of http","msgtype":"m.text"},"ts":1209091447000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"most interesting two-way notification streams would require authentication and would be offered by web services that are already doing auth via http cookies","msgtype":"m.text"},"ts":1209091500000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: and what happens if someone steps outside that subset? it's still conforming http, so i still have to handle it somehow.","msgtype":"m.text"},"ts":1209091501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, if the server steps out of our http-subset, then consider it an invalid tcp connection response and fire an onclose back","msgtype":"m.text"},"ts":1209091502000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: i don't consider that acceptable","msgtype":"m.text"},"ts":1209091560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, the client won't step out because thats what we are trying to standardize. If it does, the server can just give back a 400 or something","msgtype":"m.text"},"ts":1209091561000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: either it's http or it isn't","msgtype":"m.text"},"ts":1209091562000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, why should it be one or the other though?","msgtype":"m.text"},"ts":1209091563000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: what if i connect to the server and do a HEAD request? or have a Host header that's wrong? or whatever","msgtype":"m.text"},"ts":1209091564000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: because profiling specifications because they're \"too hard\" isn't how you get interoperability","msgtype":"m.text"},"ts":1209091620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"our tcpconnection spec can say that you can't use a HEAD request. If you do, the server can respond however it wants because its not a tcpconnection handshake","msgtype":"m.text"},"ts":1209091621000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"I think replying with a 501 would be valid","msgtype":"m.text"},"ts":1209091622000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(are there any methods that HTTP requires be supported on any resource?)","msgtype":"m.text"},"ts":1209091623000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so now i have to actually check the method","msgtype":"m.text"},"ts":1209091680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which is imho ridiculous given that what i want to do is just open a socket","msgtype":"m.text"},"ts":1209091681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, let me put together an example of this before you pass judgement on how hard it would be","msgtype":"m.text"},"ts":1209091682000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"people are going to just skip the steps that aren't required, and you'll end up with servers that open tcp connections for HEAD requests with no UPGRADE or whatever","msgtype":"m.text"},"ts":1209091740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't think \"model train controller\" is the common use case","msgtype":"m.text"},"ts":1209091741000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"many interesting use cases require authentication","msgtype":"m.text"},"ts":1209091800000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the train controller required authentication too, actually","msgtype":"m.text"},"ts":1209091801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"chat, calendar event notification stream, notification stream of twitter messages posted by my contacts","msgtype":"m.text"},"ts":1209091802000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"just send the cookie down the pipe","msgtype":"m.text"},"ts":1209091803000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what's the problem with that?","msgtype":"m.text"},"ts":1209091804000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"prevents use of httpOnly cookies to mitigate cookie stealing attacks","msgtype":"m.text"},"ts":1209091860000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(assuming you are sending the cookie for a different site)","msgtype":"m.text"},"ts":1209091861000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie, also you couldn't have an auth reverse proxy that checks the cookie on the way in to perform authentication","msgtype":"m.text"},"ts":1209091862000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"and then the server and the site vending the cookie have to communicate out of band","msgtype":"m.text"},"ts":1209091863000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"to figure out if the cookie is valid","msgtype":"m.text"},"ts":1209091864000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"actually sending third-party cookies to identify the user to a host that's not from the same origin would be an interesting problem","msgtype":"m.text"},"ts":1209091920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"same problem we have with XXX","msgtype":"m.text"},"ts":1209091921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe whatever solution we come up with for XXX can apply here","msgtype":"m.text"},"ts":1209091922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we could certainly define the api in such a way that cookies and http auth credentials are also sent down the pipe in the handshake","msgtype":"m.text"},"ts":1209091980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"without leveraging the six ton http server","msgtype":"m.text"},"ts":1209091981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Is there any point to using the type attribute of the script element?","msgtype":"m.text"},"ts":1209092040000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"Facedown: not really","msgtype":"m.text"},"ts":1209092041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I know language is deprecated and type=\"text/javascript\" doesnt really have any effect","msgtype":"m.text"},"ts":1209092042000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"Hixie, is there a reason not to arrange that data in a way that looks as close to http as possible, so as to avoid confusing intermediaries?","msgtype":"m.text"},"ts":1209092043000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"I guess people just put it there so there's at least one attribute, heh","msgtype":"m.text"},"ts":1209092044000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"mcarter: i don't mind it looking like HTTP so long as it isn't HTTP","msgtype":"m.text"},"ts":1209092100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Oh yeah, the validator and spec do say its required in strict though","msgtype":"m.text"},"ts":1209092101000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"Facedown: in html5 it's optional","msgtype":"m.text"},"ts":1209092102000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but isnt there a more correct value? like text/ecmascript?","msgtype":"m.text"},"ts":1209092103000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"Facedown: text/javascript is the right value","msgtype":"m.text"},"ts":1209092104000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since javascript isnt the real name","msgtype":"m.text"},"ts":1209092105000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"hm","msgtype":"m.text"},"ts":1209092106000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"err, application/javascript","msgtype":"m.text"},"ts":1209092107000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"http://www.ietf.org/rfc/rfc4329.txt","msgtype":"m.text"},"ts":1209092108000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"someone told me about this.. not even sure about it","msgtype":"m.text"},"ts":1209092160000,"senderName":"Facedown","senderId":"Facedown@irc"},
{"content":{"body":"So what information have we identified so far that we need in the handshake?","msgtype":"m.text"},"ts":1209092220000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"1) Host header, 2) URI, 3) Cookies, 4) referrer","msgtype":"m.text"},"ts":1209092221000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Facedown: you can just leave it off","msgtype":"m.text"},"ts":1209092340000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Facedown: all the browsers will know it's javascript","msgtype":"m.text"},"ts":1209092400000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"in html5, it is optional","msgtype":"m.text"},"ts":1209092401000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"so if you use an html5 conformance checker, it will be fine","msgtype":"m.text"},"ts":1209092402000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Facedown: there's no compelling reason to include it, and it just adds extra characters to your file","msgtype":"m.text"},"ts":1209092460000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Hixie: why are you so afraid of browsers sending bizarre parts of HTTP as part of this handshake?","msgtype":"m.text"},"ts":1209092760000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Hixie: aren't there plenty of obscure HTTP features ignored by existing web servers?","msgtype":"m.text"},"ts":1209092761000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: i'm worried about someone browsing to that URL and getting back something that is an infinite connection, yes","msgtype":"m.text"},"ts":1209092820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jacobolus: There are plenty of web servers that break on non-obscure features like HEAD, and it might be nice to not encourage that","msgtype":"m.text"},"ts":1209092821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"anyway, bbiab","msgtype":"m.text"},"ts":1209092822000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I see.  it seems like that could be avoided","msgtype":"m.text"},"ts":1209092880000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Hixie, we could use something like OPTIONS as our handshake method... something that a user will never cause to be sent just by browsing","msgtype":"m.text"},"ts":1209092940000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: What would the server do when the user just sends a GET?","msgtype":"m.text"},"ts":1209093000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, send back either a 404, 400, or some status code as indicated in our tcp handshake spec","msgtype":"m.text"},"ts":1209093060000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"(while '\\r\\n\\r\\n' not in self.buffer) { self.buffer += sock.recv() };  try { assert buffer.startswith('OPTIONS') } catch { sock.send('HTTP/1.x 400 Invalid Handshake\\r\\n\\r\\n') }","msgtype":"m.text"},"ts":1209093120000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"or something like that","msgtype":"m.text"},"ts":1209093121000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"(That try/assert/catch thing looks like an awkward way of writing 'if' :-) )","msgtype":"m.text"},"ts":1209093180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, heh, my only point is that you can just assume the request looks a certain way and just catch any errors if the assumption is wrong","msgtype":"m.text"},"ts":1209093660000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: why would people not just do (while '\\r\\n\\r\\n' not in self.buffer) { self.buffer += sock.recv() }; without the other checks?","msgtype":"m.text"},"ts":1209101700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, I see, you're worried about server implementors sending back the wrong thing thus making it possible for a browser to directly connect to a tcp handshake server and get an infinite response","msgtype":"m.text"},"ts":1209101880000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, in which case, the proper response for a tcp handshake should be to send back a content-length: 0 as part of the headers","msgtype":"m.text"},"ts":1209101940000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"i'm worried about any protocol that relies on the author having to do something which they don't get any direct benefit from","msgtype":"m.text"},"ts":1209101941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"because the web shows that authors will not bother","msgtype":"m.text"},"ts":1209101942000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: how can you possibly prevent that?","msgtype":"m.text"},"ts":1209102000000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"its not clear to me that its a real problem for them to actually ignore the handshake's exact protocol","msgtype":"m.text"},"ts":1209102001000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"jacobolus: by not requiring them to do anything other than what they need","msgtype":"m.text"},"ts":1209102002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if they ignore the protocol, and if someone manages to point an http browser at the tcp server, then shouldn't they get an erroneous response?","msgtype":"m.text"},"ts":1209102003000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: i'm not writing a spec that says \"you must do x\" if not doing x will work just as well","msgtype":"m.text"},"ts":1209102004000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you're basically afraid of web servers implementing things such that web browsers could hang.  but it seems like that becomes a browser bug, no?","msgtype":"m.text"},"ts":1209102060000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(hang or use up resources or whatever)","msgtype":"m.text"},"ts":1209102061000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"my concern isn't a specific concern, it's a generic one of not wanting to require things that the author gets no benefit from","msgtype":"m.text"},"ts":1209102062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, so i say we require a single thing from server implementors","msgtype":"m.text"},"ts":1209102120000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, and that is, that they send back a specific http response as their half of the handshake","msgtype":"m.text"},"ts":1209102180000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"the author's benefit is that he'll know the browser is actually speaking the proper protocol.  is that not enough benefit to properly implementing the handshake?","msgtype":"m.text"},"ts":1209102181000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Hixie, and if they don't send back that response, then the browser rejects the handshake","msgtype":"m.text"},"ts":1209102182000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"jacobolus: obviously not, just look at what authors do with html","msgtype":"m.text"},"ts":1209102183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: yup, we can do that. but that means what you described above won't happen","msgtype":"m.text"},"ts":1209102240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, that was an example to othermaciej how we can prevent random web pages from appearing to hang when users mistakenly navigate to them. the better solution is to require a Content-Length: 0 header, or even a couple dozen bytes in the body which are an error message \"You shouldn't be seeing htis page... Go somewhere else.\"","msgtype":"m.text"},"ts":1209102300000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, but i see where you're coming from","msgtype":"m.text"},"ts":1209102301000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: already now if you navigate your browser to a persistent XHR stream it may appear to hang","msgtype":"m.text"},"ts":1209102360000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so I do not see solving this problem as essential","msgtype":"m.text"},"ts":1209102361000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if you browse to reasources not meant to be browsed to directly, weird shit may happen, tough cookies","msgtype":"m.text"},"ts":1209102420000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, oh, that wasn't an example for you. it was for Hixie. sorry for the mixup","msgtype":"m.text"},"ts":1209102421000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"perhaps Hixie will agree with my comments as well, since they reduce the burden of what is required on server implementors","msgtype":"m.text"},"ts":1209102480000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i could see an argument for making the handshake look much more like http","msgtype":"m.text"},"ts":1209102600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that would not work with proxies","msgtype":"m.text"},"ts":1209102660000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and would not be http-over-port-80","msgtype":"m.text"},"ts":1209102661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you'd have to use CONNECT to tunnel through proxies on the client side","msgtype":"m.text"},"ts":1209102662000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and would in fact not seem to solve any of the purported problems with the current proposal","msgtype":"m.text"},"ts":1209102663000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh but it would. just make sure you send the CONNECT for the proxy","msgtype":"m.text"},"ts":1209102664000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"sure, but we can do CONNECT regardless of what else we do","msgtype":"m.text"},"ts":1209102665000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and it would solve the URI addressing, lack of cookies, and unable-to-use-web-security-model issues","msgtype":"m.text"},"ts":1209102720000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm not clear what the purported problems are with the current proposal. I saw at least one problem, like the dns rebinding attack, and this solves it","msgtype":"m.text"},"ts":1209102721000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, so CONNECT should happen in any case, and its not really an issue in the non/http discussion","msgtype":"m.text"},"ts":1209102722000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1209102780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it wouldn't solve the uri addressing really","msgtype":"m.text"},"ts":1209102781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"unless we invent a new uri scheme","msgtype":"m.text"},"ts":1209102782000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm not sure I follow","msgtype":"m.text"},"ts":1209102783000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"ok let me rephrase taht","msgtype":"m.text"},"ts":1209102784000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it isn't necessary to solve the uri addressing issue, or the cookie issue, etc","msgtype":"m.text"},"ts":1209102785000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"waits for Hixie to expand on that","msgtype":"m.emote"},"ts":1209102840000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we can add Host:, Cookie:, etc, to any protocol","msgtype":"m.text"},"ts":1209102900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"doesn't have to look like http","msgtype":"m.text"},"ts":1209102901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"while they aren't absolutely critical issues to have full duplex communication, i think you can spend a little and get a lot by having the client provide the extra information, and format it like http.","msgtype":"m.text"},"ts":1209102902000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"i'm all for having that information","msgtype":"m.text"},"ts":1209102903000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm just saying that has nothing to do with it being http or not","msgtype":"m.text"},"ts":1209102904000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or http-like, rather","msgtype":"m.text"},"ts":1209102905000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1209102906000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"cookie depends on a host-port-scheme origin though","msgtype":"m.text"},"ts":1209102960000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I think it would be good to look like http because then http parsing libraries would, out of the box, be able to parse it and extract that information. Furthermore, load balancers and authentication reverse proxies could be used AS IS","msgtype":"m.text"},"ts":1209102961000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"so to share cookies with a web server you have to be on the same scheme and port","msgtype":"m.text"},"ts":1209102962000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie, furthermore, you avoid the HTTPS virtual hosting issue that was solved with TLS","msgtype":"m.text"},"ts":1209102963000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, I'm not sure what the downside of making it look like http is","msgtype":"m.text"},"ts":1209103020000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"I agree you can add Host:, URI-based addressing, and a version of Cookie: that is separate from http cookies to any protocol","msgtype":"m.text"},"ts":1209103021000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"at some level of http-like feature additions it starts to look a lot like http though","msgtype":"m.text"},"ts":1209103022000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: yes, the cookies wouldn't get shared if you connected to another server (another port)","msgtype":"m.text"},"ts":1209103023000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: but how am i gonna get apache to give me the socket anyway?","msgtype":"m.text"},"ts":1209103080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: the only downside is that it's a lie and the httpwg will come and stone us","msgtype":"m.text"},"ts":1209103081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, I am suggesting that we make it VERY clear that we aren't HTTP, rather a subset used for TCP handshakes","msgtype":"m.text"},"ts":1209103140000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie: with a custom method or similar mechanism one could presumably make an apache module (which is why I think making one would be an interesting proof-of-concept excercise)","msgtype":"m.text"},"ts":1209103141000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie, they can't be seriously upset if another protocol borrows some formatting from http","msgtype":"m.text"},"ts":1209103142000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: hahaha","msgtype":"m.text"},"ts":1209103143000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: i see you haven't spent much time working with standards committees","msgtype":"m.text"},"ts":1209103144000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: making an apache module is more than 10 lines of perl","msgtype":"m.text"},"ts":1209103200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: though i agree that in this case it would be ok","msgtype":"m.text"},"ts":1209103201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: sure, but if you don't want to share the port the apache server has bound, you would not need the module","msgtype":"m.text"},"ts":1209103202000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: as it would allow it for the big players or people using server extensions","msgtype":"m.text"},"ts":1209103203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: right","msgtype":"m.text"},"ts":1209103204000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if the http subset for the handhsake is simple enough","msgtype":"m.text"},"ts":1209103205000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: yeah that makes sense","msgtype":"m.text"},"ts":1209103206000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm ok with that","msgtype":"m.text"},"ts":1209103207000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, couldn't we call this TCP over HTTP? The server isn't required to go support all of http, though its welcome to","msgtype":"m.text"},"ts":1209103320000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: optional features are bad for interop","msgtype":"m.text"},"ts":1209103321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, as far as I can tell, this is almost the  EXACT use case for which they added the upgrade header","msgtype":"m.text"},"ts":1209103322000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: I think it would be well advised to define what a server should do when it only supports the handshake subset of TCP","msgtype":"m.text"},"ts":1209103323000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1209103380000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"handshake subset of HTTP","msgtype":"m.text"},"ts":1209103381000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: i agree that this is why upgrade exists","msgtype":"m.text"},"ts":1209103382000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: but since we can't guarentee that people will test for it","msgtype":"m.text"},"ts":1209103383000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: it doesn't really help us","msgtype":"m.text"},"ts":1209103384000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"such as return a 501 error for any other request","msgtype":"m.text"},"ts":1209103385000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we can't define what a \"server should do\"","msgtype":"m.text"},"ts":1209103386000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"when the server is written by random authors","msgtype":"m.text"},"ts":1209103440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's akin to defining how you should use a dom api","msgtype":"m.text"},"ts":1209103441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, if someone writes a non-compliant http server that likes to always assume a connection is going to be upgraded, then how is that our problem, OR httpwg's problem?","msgtype":"m.text"},"ts":1209103442000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie, the same argument can be made against doing TLS with the upgrade header. Server implementors might just go an upgrade on their own without testing for it.","msgtype":"m.text"},"ts":1209103443000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: sure","msgtype":"m.text"},"ts":1209103444000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: i","msgtype":"m.text"},"ts":1209103445000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1209103446000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think Hixie assumes writing this kind of server from scratch will be more common than writing full-fledged http servers","msgtype":"m.text"},"ts":1209103500000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: i'm just saying it doesn't matter that upgrade exists :-)","msgtype":"m.text"},"ts":1209103501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"although there are quite a few http server implementations out there","msgtype":"m.text"},"ts":1209103502000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and usually their level of non-compliance is within tolerable limits for UAs","msgtype":"m.text"},"ts":1209103503000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(I wonder if there is a protocol-level HTTP Validator tool available)","msgtype":"m.text"},"ts":1209103560000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"let's just say http isn't how it would have been if i'd been writing the spec either :-)","msgtype":"m.text"},"ts":1209103561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, I'm still missing some of the logic. That is, the TLS spec went and used the upgrade header, even though server implementors of TLS might not have actually enforced that header and instead treated all requests like they were part of a TLS handshake. Now we're saying, lets follow suit and do exactly that with our tcp protocol. Which part of this will make the httpwg mad?","msgtype":"m.text"},"ts":1209103680000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"the part where you can connect to something that isn't an http server, send it something that looks exactly like an http response, and be compliant, despite the fact that the server doesn't know the first thing about http","msgtype":"m.text"},"ts":1209103740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i should clarify","msgtype":"m.text"},"ts":1209103741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that annoying the httpwg isn't necessarily a blocking problem","msgtype":"m.text"},"ts":1209103742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"especially if there are compelling reasons to go this route, as there appear to be","msgtype":"m.text"},"ts":1209103743000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I think you should go rewrite the HTTP spec, and get rid of all the confusing shit in it ;)","msgtype":"m.text"},"ts":1209103860000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"http5 is gsnedders' baby","msgtype":"m.text"},"ts":1209103861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I am amazed at how technically obscure the http spec is, while at the same time being incredibly unclear on the most basic things","msgtype":"m.text"},"ts":1209103862000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter has learned to love the http spec these last several months, right?","msgtype":"m.text"},"ts":1209103920000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"he's been having fun writing things like proxies :)","msgtype":"m.text"},"ts":1209103921000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Hixie, ok. in terms of explaining it in way that won't make anyone mad is this: HTTP Servers can also be HTTP/TCP servers if they support Upgrade: tcp. Similarly, anyone who wants to can go write an http or http/tcp server even if it isn't fully compliant (which http server is FULLY compliant anyway?)","msgtype":"m.text"},"ts":1209103922000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej: like svg? :-D","msgtype":"m.text"},"ts":1209103980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"at any rate, like I said before, I'll draw some documents up that outline some of this stuff","msgtype":"m.text"},"ts":1209103981000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"that'd be great","msgtype":"m.text"},"ts":1209103982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think we've made major progress here","msgtype":"m.text"},"ts":1209103983000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I sent an api change proposal in for TCPConnnection today, whenever you see it","msgtype":"m.text"},"ts":1209103984000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"it just suggests adding a connect() method, and an extra readyState","msgtype":"m.text"},"ts":1209103985000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"yep.  and then just make sure that HTTP/TCP is as minimal as possible. :)","msgtype":"m.text"},"ts":1209103986000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"mcarter: I don't like explicit connect","msgtype":"m.text"},"ts":1209104040000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so that the 10-lines-of-perl constituency stays happy :)","msgtype":"m.text"},"ts":1209104041000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"othermaciej, the api change is mostly for the reason of re-using the TCPConnection objects much like we re-use XHR connections","msgtype":"m.text"},"ts":1209104100000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: because, first of all, reusing a connection is more confusing than helpful","msgtype":"m.text"},"ts":1209104101000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: do you have docs about your train set thing?","msgtype":"m.text"},"ts":1209104102000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"mcarter: and second, because it adds an additional opportunity to use the API wrong, since you can accidentally make calls before connecting","msgtype":"m.text"},"ts":1209104103000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the current API does not have the possibility of making that mistake","msgtype":"m.text"},"ts":1209104104000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, Also, I don't fully feel comfortable with the idea that I must possess deep understanding of javascript concurrency to know when I need to attach the callbacks","msgtype":"m.text"},"ts":1209104160000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: ain't no such thing as javascript concurrency","msgtype":"m.text"},"ts":1209104161000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, if i create a TCPConnection object, at what point does it *Actually* initiate the connection? when my function that created it returns? when the function that called it returns?","msgtype":"m.text"},"ts":1209104162000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"jacobolus: i don't believe so","msgtype":"m.text"},"ts":1209104163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej, indeed, but it doesn't seem wise to tie your apis to the idea that there is no concurrency in javascript","msgtype":"m.text"},"ts":1209104220000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"othermaciej, at least not where its easy to avoid doing so","msgtype":"m.text"},"ts":1209104221000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: as with XHR, you will not in fact get callbacks for network activity until the current script execution (whether <script>, event or timer initiated) finishes","msgtype":"m.text"},"ts":1209104222000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(well, as with async XHR)","msgtype":"m.text"},"ts":1209104223000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I don't think it is possible to safely change this rule about callbacks for network activity in any case","msgtype":"m.text"},"ts":1209104224000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, so, I suppose we aren't allowing for synchronous tcp connection, ever?","msgtype":"m.text"},"ts":1209104225000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"but yes, programming in the browser there is an implicit \"event loop\"","msgtype":"m.text"},"ts":1209104226000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: no way","msgtype":"m.text"},"ts":1209104280000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"good lord no","msgtype":"m.text"},"ts":1209104281000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or at least, over my dead body","msgtype":"m.text"},"ts":1209104282000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"no synchronous anything over the network","msgtype":"m.text"},"ts":1209104283000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes, that sounds like a bad idea","msgtype":"m.text"},"ts":1209104284000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"i don't know if i'd defend against that with my life, per se","msgtype":"m.text"},"ts":1209104285000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but still","msgtype":"m.text"},"ts":1209104286000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I certainly wouldn't want such a thing, but aren't there being arrangements made for threading in some future javascript?","msgtype":"m.text"},"ts":1209104287000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: even with threads, I am not sure synchronous networking is particularly valuable","msgtype":"m.text"},"ts":1209104340000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, I certainly don't want to argue that point","msgtype":"m.text"},"ts":1209104341000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"for exaple, Gears has its workers and they are adding async networking only, I believe (their HTTPRequest thing)","msgtype":"m.text"},"ts":1209104342000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"mcarter: is there any other particular reason to not connect immediately?","msgtype":"m.text"},"ts":1209104460000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"mcarter: why does someone need to add a bunch of callbacks at indeterminate times, then sometime way later actually connect?","msgtype":"m.text"},"ts":1209104461000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"besides re-use of the connection object, as a programmer it just seems strange to me to have something where the constructor hits the network. particularly in the context of this javascript event loop -- I can see someone making a mistake about when they should attach the callback","msgtype":"m.text"},"ts":1209104462000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: you can't reuse a socket","msgtype":"m.text"},"ts":1209104520000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or a file descriptor","msgtype":"m.text"},"ts":1209104521000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or a C stdio FILE*","msgtype":"m.text"},"ts":1209104522000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or a perl file handle","msgtype":"m.text"},"ts":1209104523000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i get your point","msgtype":"m.text"},"ts":1209104524000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"if anything thats an argument against re-using the XHR request object, imo","msgtype":"m.text"},"ts":1209104525000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"xhr is badly designed","msgtype":"m.text"},"ts":1209104580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes, but we have to support that for legacy compatibility","msgtype":"m.text"},"ts":1209104581000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"XHR is not what I would have designed","msgtype":"m.text"},"ts":1209104582000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"basically anything i didn't invent is badly designed, it's really very simple","msgtype":"m.text"},"ts":1209104583000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ducks","msgtype":"m.emote"},"ts":1209104584000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"haha!","msgtype":"m.text"},"ts":1209104585000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"plus anything you did invent","msgtype":"m.text"},"ts":1209104586000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but some things are more badly designed than others","msgtype":"m.text"},"ts":1209104640000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie, how did this happen, exactly?","msgtype":"m.text"},"ts":1209104700000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie: you need to speed up your pace of invention then","msgtype":"m.text"},"ts":1209104701000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"mcarter: which?","msgtype":"m.text"},"ts":1209104760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, i mean, you seem to be in a position of some power over the browsers. I mean, i see the IE8 team emailing you about postMessage and such","msgtype":"m.text"},"ts":1209104761000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"it seems so unprecedented","msgtype":"m.text"},"ts":1209104762000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"(I think its great... a vast improvement)","msgtype":"m.text"},"ts":1209104763000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"mcarter: i've only got as much power as they give me","msgtype":"m.text"},"ts":1209104880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: my secret is giving them mostly what they want","msgtype":"m.text"},"ts":1209104881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh and doing a lot of work","msgtype":"m.text"},"ts":1209104882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Is this your day job?","msgtype":"m.text"},"ts":1209104883000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"people tend to defer to whoever is actually doing the work","msgtype":"m.text"},"ts":1209104884000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's easier than doing it themselves","msgtype":"m.text"},"ts":1209104940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: yes, google pays me to edit html5 full time","msgtype":"m.text"},"ts":1209104941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"html5 has turned out to be an area where doing things through standards is less painful than just inventing proprietary features","msgtype":"m.text"},"ts":1209104942000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"this is not always the case with web standards","msgtype":"m.text"},"ts":1209105000000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1209105001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"css being the prime example these days","msgtype":"m.text"},"ts":1209105002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I predict everything hyatt announced css-wise for the past 6 months will still be in committee 5 years from now","msgtype":"m.text"},"ts":1209105003000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"unless someone writes a spec yes","msgtype":"m.text"},"ts":1209105060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I gotta head home","msgtype":"m.text"},"ts":1209105061000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"later folks","msgtype":"m.text"},"ts":1209105062000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"whats the timeframe with html5? will it continue to be continuously updated?","msgtype":"m.text"},"ts":1209105063000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"later","msgtype":"m.text"},"ts":1209105064000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"mcarter: http://www.whatwg.org/specs/web-apps/current-work/TIMETABLE","msgtype":"m.text"},"ts":1209105065000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh wow","msgtype":"m.text"},"ts":1209105120000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"thats a long time line","msgtype":"m.text"},"ts":1209105121000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"Hixie: so will there be something beyond html5 by halfway through that process?","msgtype":"m.text"},"ts":1209105180000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"maybe","msgtype":"m.text"},"ts":1209105181000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't expect to do html6","msgtype":"m.text"},"ts":1209105182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i mostly started working on html5 because at the time, html was the spec in most dire need of work","msgtype":"m.text"},"ts":1209105183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1209105184000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"so do you think all of the recent webkit css changes will actually be picked up by other browsers?","msgtype":"m.text"},"ts":1209105240000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"or will they remain limited to dashboard widgets, etc.","msgtype":"m.text"},"ts":1209105241000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"some of them I want to implement in Gecko","msgtype":"m.text"},"ts":1209105242000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"others I don't","msgtype":"m.text"},"ts":1209105243000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"Hixie: what is in next-most-dire need?","msgtype":"m.text"},"ts":1209105244000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: probably DOM Core, CSS, and HTTP. And SVG.","msgtype":"m.text"},"ts":1209105300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fortunately the ones I want are the ones Apple is producing draft specs for","msgtype":"m.text"},"ts":1209105301000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"svg isn't a lost cause? :p","msgtype":"m.text"},"ts":1209105302000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"css would be tough to fix because it has a large political quagmire around it","msgtype":"m.text"},"ts":1209105303000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"svg too","msgtype":"m.text"},"ts":1209105304000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http could probably be fixed by ignoring the httpwg without too much fallout","msgtype":"m.text"},"ts":1209105360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how would anyone possibly fix http?","msgtype":"m.text"},"ts":1209105361000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"what could be done?","msgtype":"m.text"},"ts":1209105362000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"dom core would be the easiest to fix","msgtype":"m.text"},"ts":1209105363000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1209105364000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"well, by \"fix\" i mean \"write a real spec\"","msgtype":"m.text"},"ts":1209105365000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that defines error handling, actual behaviour, etc","msgtype":"m.text"},"ts":1209105366000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what's broken about DOM core now?","msgtype":"m.text"},"ts":1209105367000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"and strips all the crap","msgtype":"m.text"},"ts":1209105368000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jacobolus: the DOM Core spec is far too vague","msgtype":"m.text"},"ts":1209105369000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in fact, all the DOM specs are too vague","msgtype":"m.text"},"ts":1209105370000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"are the implementations vastly inconsistent then?","msgtype":"m.text"},"ts":1209105420000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"while still meeting the spec?","msgtype":"m.text"},"ts":1209105421000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"a lot of HTTP implementations are just plain broken","msgtype":"m.text"},"ts":1209105600000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"especially proxies","msgtype":"m.text"},"ts":1209105601000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"not much anyone can do about that","msgtype":"m.text"},"ts":1209105602000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"jacobolus: not especially more than html4 implementations were, but a vague spec means it's hard to write a new browser","msgtype":"m.text"},"ts":1209105660000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and we need it to be possible to write new UAs so that we can have competition","msgtype":"m.text"},"ts":1209105661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"roc: yes, I was talking about DOM.  I know http is nasty :)","msgtype":"m.text"},"ts":1209105662000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"cradles his baby","msgtype":"m.emote"},"ts":1209107880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(seeming Hixie called it my baby)","msgtype":"m.text"},"ts":1209107881000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ian, please lean on the GMail team to implement HTML5 link handler stuff","msgtype":"m.text"},"ts":1209110460000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"for mailto:","msgtype":"m.text"},"ts":1209110461000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I really need it!","msgtype":"m.text"},"ts":1209110520000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"wants mid: support in Mail.app","msgtype":"m.emote"},"ts":1209110521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"roc: i expect they'll do it shortly after ff3 sips","msgtype":"m.text"},"ts":1209110580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ships","msgtype":"m.text"},"ts":1209110581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Yahoo's already done it :-(","msgtype":"m.text"},"ts":1209110582000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"FF3 has UI to select the handler and Yahoo's on it and Gmail isn't","msgtype":"m.text"},"ts":1209110640000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"we don't, as a rule, pay much attention to what the competition does, or at least, we don't let it dictate policy :-)","msgtype":"m.text"},"ts":1209110940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Peh! You should! :P","msgtype":"m.text"},"ts":1209111000000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Actually, I don't eat my own dogfood. I don't really pay attention to the httpbis wg","msgtype":"m.text"},"ts":1209111001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I found http://www.htmlfive.net/ which just seems to be a rip of the WHATWG blog with the intention to make money out of it","msgtype":"m.text"},"ts":1209112920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I found it through: http://www.whathuhstudios.com/press/2008/04/24/html5/","msgtype":"m.text"},"ts":1209112980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"terrible","msgtype":"m.text"},"ts":1209112981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I have the feeling you're being sarcastig :)","msgtype":"m.text"},"ts":1209112982000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, they've violated the copyright license","msgtype":"m.text"},"ts":1209113040000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"there's no mention of the MIT license anywhere and no attribution","msgtype":"m.text"},"ts":1209113041000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"attribution is not required","msgtype":"m.text"},"ts":1209113100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"actually, yes it is.  At least in Australia it is because attribution is considered a basic moral right","msgtype":"m.text"},"ts":1209113160000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"our goal with the whatwg blog is to get more people to know about stuff right?","msgtype":"m.text"},"ts":1209113161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"unless otherwise stated by the creator, attribution is always required otherwise it's plagiarism","msgtype":"m.text"},"ts":1209113220000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Yeah, guess I was just upset it wasn't a genuine fansite :)","msgtype":"m.text"},"ts":1209113221000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh there's no doubt that this is immoral","msgtype":"m.text"},"ts":1209113222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i recommend not worrying about it","msgtype":"m.text"},"ts":1209113223000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't have a problem with them syndicating the posts. That's why we put a free license on it.","msgtype":"m.text"},"ts":1209113280000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"yeah but just copying them with no attribution or anything is just nasty","msgtype":"m.text"},"ts":1209113281000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I will see if I can find contact information and ask them to give attribution","msgtype":"m.text"},"ts":1209113340000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"ask them to buy us video games with some of the money they make, too","msgtype":"m.text"},"ts":1209113580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I can't seem to find contact info. Though, there is only one site listed in the blog roll, I'm not certain that he's the owner of the site.","msgtype":"m.text"},"ts":1209113700000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"WHOIS info for the domain only shows dreamhost contact info.","msgtype":"m.text"},"ts":1209113701000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"wow, that's a useless contact form! http://blog.nprignano.com/contact/message Not even a text box :-(","msgtype":"m.text"},"ts":1209113940000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it seems to me that the foremost practical concern is getting Google and Technorati consider it a splog","msgtype":"m.text"},"ts":1209113941000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"perhaps they both already do, because it isn't showing up on my vanity feeds","msgtype":"m.text"},"ts":1209113942000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, the domain was only just registered 2 days ago","msgtype":"m.text"},"ts":1209114000000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"so it will take a few weeks before it shows up in google","msgtype":"m.text"},"ts":1209114001000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"annevk: what's the chance of getting an XML5 tokenizer spec as a delta spec over the HTML5 tokenization spec?","msgtype":"m.text"},"ts":1209114002000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"delta specs suck","msgtype":"m.text"},"ts":1209114060000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: they do, but it seems to me that XML5 and HTML5 will share so much tokenization code that I don't want to write another tokenizer from scratch","msgtype":"m.text"},"ts":1209114061000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: well I don't know what to expect from XML5 so I can't predict if that will be sensible","msgtype":"m.text"},"ts":1209114120000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"would it, for example, accept unquoted attribute values?","msgtype":"m.text"},"ts":1209114180000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: it seems to me that ideally, the only new states would be for the internal subset and PIs","msgtype":"m.text"},"ts":1209114300000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and otherwise the delta would be where errors fire","msgtype":"m.text"},"ts":1209114301000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"of course, ideally ideally, the internal subset would be swallowed by a black hole","msgtype":"m.text"},"ts":1209114360000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"well <foo/> would have to do something different, as well","msgtype":"m.text"},"ts":1209114361000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and it has to recognize <![CDATA[","msgtype":"m.text"},"ts":1209114362000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: but we already have those in the HTML5 tokenizer now","msgtype":"m.text"},"ts":1209114420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"finishes rewriting postMessage for the third time","msgtype":"m.emote"},"ts":1209114421000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"\"rewriting\", that is","msgtype":"m.text"},"ts":1209114422000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"bloody spec changes :-)","msgtype":"m.text"},"ts":1209114480000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1209114481000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I still hate delta specs though","msgtype":"m.text"},"ts":1209114540000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah we have to fix WebKit's postMessage now","msgtype":"m.text"},"ts":1209114541000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: well if you can get Hixie to integrate XML5 tokenization into the HTML5 tokenizer spec...","msgtype":"m.text"},"ts":1209114542000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"actually, fixing the implementation's comparatively easy, it's all those stupid tests I've written that are taking the lion's share of the time to change","msgtype":"m.text"},"ts":1209114600000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"and all the tests others have written that use postMessage since it was introduced","msgtype":"m.text"},"ts":1209114601000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":";-)","msgtype":"m.text"},"ts":1209114602000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"makes note never to write tests ever again","msgtype":"m.emote"},"ts":1209114603000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"all they cause is more work","msgtype":"m.text"},"ts":1209114660000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":":-/","msgtype":"m.text"},"ts":1209114661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I kid, I kid!","msgtype":"m.text"},"ts":1209114662000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"channels the Dread Pirate Roberts","msgtype":"m.emote"},"ts":1209114663000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"never go in against a Swissilian when specs are on the line","msgtype":"m.text"},"ts":1209114720000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"haha, haha, ha-","msgtype":"m.text"},"ts":1209114721000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Hixie: so far, the YSTEM and UBLIC cases have translated into states very nicely","msgtype":"m.text"},"ts":1209114900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: I expect breaking up the entity stuff into states to be a tad ugliers","msgtype":"m.text"},"ts":1209114901000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"uglier","msgtype":"m.text"},"ts":1209114902000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder if there are Java to C++ source level translators","msgtype":"m.text"},"ts":1209115320000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"does anyone know how IBM maintains their dual Java/C++ libraries?","msgtype":"m.text"},"ts":1209115740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"3 levels of committee review for every checkin?","msgtype":"m.text"},"ts":1209115800000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: could be :-/","msgtype":"m.text"},"ts":1209115860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"krijn, is your IRC logging software publicly available?","msgtype":"m.text"},"ts":1209116340000,"senderName":"mpt","senderId":"mpt@irc"},
{"content":{"body":"mpt: nope, sorry","msgtype":"m.text"},"ts":1209116341000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"mpt: I'm too ashamed about the source code :)","msgtype":"m.text"},"ts":1209116400000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"And it's not really logging software, the logging is done by mIRC","msgtype":"m.text"},"ts":1209116401000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"I only parse the logfiles with some PHP","msgtype":"m.text"},"ts":1209116402000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"Hence the shame ;)","msgtype":"m.text"},"ts":1209116403000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1209116404000,"senderName":"mpt","senderId":"mpt@irc"},
{"content":{"body":"http://blog.facebook.com/atom.php - feeds are always more fun when you stick random binary garbage in them","msgtype":"m.text"},"ts":1209117480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"rn","msgtype":"m.text"},"ts":1209118800000,"senderName":"sverrej","senderId":"sverrej@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/www-validator/2008Apr/0136.html","msgtype":"m.text"},"ts":1209130800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"aside: Typinator is awasome for refactoring code","msgtype":"m.text"},"ts":1209131160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"awesome","msgtype":"m.text"},"ts":1209131161000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"aargh. I regressed &noti;","msgtype":"m.text"},"ts":1209138000000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"doesn't like &noti;","msgtype":"m.emote"},"ts":1209138001000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie, it would help if the spec had links from each section in the single-page version of the spec to same section in the multipage version.","msgtype":"m.text"},"ts":1209138002000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"that way, when I want to give a link to someone, I don't need to send them to the full size spec, or take the time to manually find the section in the multipage version","msgtype":"m.text"},"ts":1209138060000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"hsivonen, there is no &noti; listed in the spec. Did you mean &notin;?","msgtype":"m.text"},"ts":1209138480000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: no, I meant &noti;","msgtype":"m.text"},"ts":1209138540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie, &not; is listed twice in the table of entities","msgtype":"m.text"},"ts":1209138541000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: I've fixed it now","msgtype":"m.text"},"ts":1209138542000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Lachy: &noti; is a tricky error cases","msgtype":"m.text"},"ts":1209138543000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"s/cases/case/","msgtype":"m.text"},"ts":1209138544000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1209138600000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Do the new entities introduce any more cases where one entity is a prefix of another?","msgtype":"m.text"},"ts":1209138660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I don't know. I'm keeping my head in sand and hoping they go away.","msgtype":"m.text"},"ts":1209138661000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`, do you mean like &not; &notin; &notinva; &notinvb; &notinvc; &notni; etc...?","msgtype":"m.text"},"ts":1209139380000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"looks like there are several, and I only looked in one small section of the table","msgtype":"m.text"},"ts":1209139440000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: &not and &not; are not the same entity","msgtype":"m.text"},"ts":1209139500000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"well, they are, but the duplication is intentional","msgtype":"m.text"},"ts":1209139501000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"really?","msgtype":"m.text"},"ts":1209139502000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: http://www.whatwg.org/specs/web-apps/current-work/multipage/section-tokenisation.html , the \"anything else\" section at the end","msgtype":"m.text"},"ts":1209139503000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1209139504000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"oh, crap. maybe it would help if I actually read the spec one day","msgtype":"m.text"},"ts":1209139505000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"takkaria, which \"anything else\" section are you referring to?","msgtype":"m.text"},"ts":1209139680000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: very end of that page","msgtype":"m.text"},"ts":1209139920000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"ok. I think the duplication is annoying. Surely there's a way to write the spec such that you don't need to have the same entity listed twice with and without the semi-colon","msgtype":"m.text"},"ts":1209140100000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"there would be if every entity was allowed to leave out the semicolon","msgtype":"m.text"},"ts":1209140101000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"but afaik, that's not the case","msgtype":"m.text"},"ts":1209140160000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"couldn't we add a 3rd column to the table that indicated whether or not a semi-colon was required","msgtype":"m.text"},"ts":1209140220000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"for the purpose of parsing","msgtype":"m.text"},"ts":1209140221000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"not for conformance","msgtype":"m.text"},"ts":1209140222000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I'm not in favour of that because it makes it harder to build a list of entities for implementations","msgtype":"m.text"},"ts":1209140280000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"automatically, that is","msgtype":"m.text"},"ts":1209140340000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"agrees with takkaria","msgtype":"m.emote"},"ts":1209140341000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"It's nice and easy to just use a regexp to convert the table into a list of entity strings, and it'd need an extra line of code if the semicolonity was a separate column","msgtype":"m.text"},"ts":1209140342000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"oh, you use a regex?  I use xslt. :)","msgtype":"m.text"},"ts":1209140400000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"Yuck :-p","msgtype":"m.text"},"ts":1209140401000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"only 11 lines of it, mind","msgtype":"m.text"},"ts":1209140460000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"I'm guessing mine was only a single line, because I can't see that I saved the code in a file anywhere","msgtype":"m.text"},"ts":1209140520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ok, fine. I'll put a table targetted at authors in the HTML5 author guide which lists them only once","msgtype":"m.text"},"ts":1209140640000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"A table for authors should show what the character looks like, too","msgtype":"m.text"},"ts":1209140700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yep, it will list everthing about the character","msgtype":"m.text"},"ts":1209140701000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"wonders if the characters could be categorised into usefulness, rather than having the standard unreadable big list","msgtype":"m.emote"},"ts":1209140702000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"code point, character name, link to further info about the character, numeric (hex and decimal) character refs, etc.","msgtype":"m.text"},"ts":1209140760000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"they were grouped into categories in HTML4","msgtype":"m.text"},"ts":1209140820000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Might be nice to not scare authors by having a really wide table, too :-)","msgtype":"m.text"},"ts":1209140821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Lachy: how about including the character the entity represents too?","msgtype":"m.text"},"ts":1209140880000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"I could make it interactive and let authors show and hide columns they want to see","msgtype":"m.text"},"ts":1209140881000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"takkaria, yeah, Philip` already mentioned that","msgtype":"m.text"},"ts":1209140940000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"oh, I missed that. :)","msgtype":"m.text"},"ts":1209140941000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"see, I'm not the only one who doesn't read around here :-P","msgtype":"m.text"},"ts":1209140942000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I only remember that because it was around the time I got interested in html5 parsing and it was the only bit of the conversation I understood","msgtype":"m.text"},"ts":1209141240000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"Lachy: the entity table is fine as is","msgtype":"m.text"},"ts":1209141900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that is, with duplication","msgtype":"m.text"},"ts":1209141960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Lachy: making the table neater in spec would only cause more opportunity for implementation error","msgtype":"m.text"},"ts":1209141961000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, Philip` and takkaria already told me that.","msgtype":"m.text"},"ts":1209142020000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"there seems to be a \"no-one is reading what anyone else has said\" bug going round today","msgtype":"m.text"},"ts":1209142440000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"let's just hope Hixie doesn't get it","msgtype":"m.text"},"ts":1209142441000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"Hey, has anyone noticed the entity table lists \"not\" twice?","msgtype":"m.text"},"ts":1209142560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"You know, if a TCPConnection constructor causes a network access, then prototype-based subclassing becomes impossible","msgtype":"m.text"},"ts":1209152040000,"senderName":"mcarter","senderId":"mcarter@irc"},
{"content":{"body":"discovers that http://www.aaronsw.com/2002/diff/ quite badly fails to work","msgtype":"m.emote"},"ts":1209159480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"since it totally ignores element nesting, and just sticks <ins> and </ins> at pretty much arbitrary points in the document, which makes browsers cry","msgtype":"m.text"},"ts":1209159540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but http://htmlwg.mn.aptest.com/viewcvs/viewcvs.cgi/htmldiff/ actually works properly (and it doesn't make XHTML become ill-formed), which is nice, though the code's use of regexps for parsing looks a little dodgy","msgtype":"m.text"},"ts":1209159600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Is there a \"proper\" way to <ins> the transition Apple <em>pie</em> -> Apple banana <em>pan pie</em>?","msgtype":"m.text"},"ts":1209159660000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Is anything wrong with Apple <ins>banana </ins><em><ins>pan </ins>pie</em>?","msgtype":"m.text"},"ts":1209159780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"You lose the information that both insertions were simultaneous, but I'm not sure what you'd want that information for","msgtype":"m.text"},"ts":1209159781000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"There's also Apple <ins>banana <em>pan </em></ins><em>pie</em>","msgtype":"m.text"},"ts":1209159840000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"That's bad because you can't recover the new piece of markup (Apple banana <em>etc) from the annotated-with-ins markup","msgtype":"m.text"},"ts":1209159960000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"You should be able to strip the <del> tags and delete the <ins> content to recover the first diffed document, and vice versa to recover the second","msgtype":"m.text"},"ts":1209160020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(or at least I'm asserting that you ought to be able to, because that seems like a useful property)","msgtype":"m.text"},"ts":1209160080000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"if you need to know the inserts were simultaneous for some reason, use <ins datetime=\"...\">","msgtype":"m.text"},"ts":1209160081000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hixie: Has anyone already told you that http://www.whatwg.org/specs/web-apps/current-work/#attributes says \"The cite DOM attribute must reflect the element's >cite content attribute.\" with a stray \">\"?","msgtype":"m.text"},"ts":1209160140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Lachy: That doesn't really tell you they're simultaneous, since it can only have a precision of one second, and it's quite plausible that a heavily-edited document (e.g. the concatenation of all pages on Wikipedia) can have multiple edits per second","msgtype":"m.text"},"ts":1209160200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"oh crap","msgtype":"m.text"},"ts":1209160201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"did i break that recently","msgtype":"m.text"},"ts":1209160202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sigh","msgtype":"m.text"},"ts":1209160203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hey Hixie, if you didn't read the earlier discussion in here about the entity table, just ignore my email about it. It was due to my failure to read the spec properly","msgtype":"m.text"},"ts":1209160320000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"already ignored :-D","msgtype":"m.text"},"ts":1209160321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1209160322000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"silly Lachy. Can't even read a specification how it says to be read :P","msgtype":"m.text"},"ts":1209160440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"To be fair, if you didn't know how to read the specification then you wouldn't be able to read the part of the specification that says how to read it, so you can be excused","msgtype":"m.text"},"ts":1209160620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: Can you fix that issue?","msgtype":"m.text"},"ts":1209160621000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Within the spec, obviously)","msgtype":"m.text"},"ts":1209160622000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, if people actually read the spec and knew what they were talking about all the time, joining in on bikeshed discussions wouldn't be nearly as fun!","msgtype":"m.text"},"ts":1209160680000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"gsnedders: We'll fix it the same way we fix content-type detection, maybe?","msgtype":"m.text"},"ts":1209160681000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Lachy: My. bikeshed. is. green. and. counts. in. micro-seconds.","msgtype":"m.text"},"ts":1209160682000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"LOL","msgtype":"m.text"},"ts":1209160800000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"grumbles about midairs","msgtype":"m.emote"},"ts":1209160801000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"(see, I know what the thread that made bikeshedding famous was about :P)","msgtype":"m.text"},"ts":1209160860000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Mine doesn't count, it integrates","msgtype":"m.text"},"ts":1209160920000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"so regarding that datetime discussion, since they've still failed to describe valid use cases for BCE or Y10K+ dates in markup, it seems the only possibly valid argument for it is to allow DOMDateTime objects and datetime attributes able to express the same range of values","msgtype":"m.text"},"ts":1209161280000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: I'm wondering how they plan to get accurate dates, much less times, for anything that old","msgtype":"m.text"},"ts":1209161880000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"anything before the gregorian calendar starts is a non-starter anyway","msgtype":"m.text"},"ts":1209162000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Dashiva, all of history is recorded in google calendar. :-)","msgtype":"m.text"},"ts":1209162060000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"the universe was created in 1970. Anything before then is an epoch fail.","msgtype":"m.text"},"ts":1209162180000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"In Y10K we'll all live in space and time won't have a fixed meaning any more, so we'll have already solved all the time problems","msgtype":"m.text"},"ts":1209162540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Imagine all the awesome compatability layers we'll get for supporting earth-based dates and times","msgtype":"m.text"},"ts":1209163260000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Maybe we'll just have clocks that compensate for time dialation and maintain earth-time, no matter where we are or how fast we're going.","msgtype":"m.text"},"ts":1209163560000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"If you get put in a spaceship in suspended animation, and it's sent at 0.9c to a star a couple of light years away, what time would you say it was when you arrived?","msgtype":"m.text"},"ts":1209163860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`:  \"12:00\"","msgtype":"m.text"},"ts":1209164040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`, the question is flawed because you didn't give a start time","msgtype":"m.text"},"ts":1209164041000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"(blinking)","msgtype":"m.text"},"ts":1209164042000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Lachy: It's flawed for far more reasons than that :-p","msgtype":"m.text"},"ts":1209164100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but there are still lots of factors in it that all affect the perception of time, and people probably want to be able to perceive time kind of like how they do now","msgtype":"m.text"},"ts":1209164160000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it also depends if I was taken out of suspended animation when I arrived","msgtype":"m.text"},"ts":1209164161000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"It's not very good if their clocks compensate for time dilation so that the space travellers put some food in the oven for 30 seconds and find that it explodes because their clock had automatically slowed down by a factor of ten","msgtype":"m.text"},"ts":1209164220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Uh","msgtype":"m.text"},"ts":1209164340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/oven/microwave/","msgtype":"m.text"},"ts":1209164341000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"some clocks will be relative to the users time frame, others will be relative to earth's","msgtype":"m.text"},"ts":1209164342000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"and it will be just aweful if someone set their video timer to record, but forgot to set it by the earth clock.","msgtype":"m.text"},"ts":1209164460000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"If the user is suspendedly animated for a year, should their clock stop for that time?","msgtype":"m.text"},"ts":1209164461000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Lachy: That's not going to be a real problem - the broadcasters can just archive all their material, and provide anything on-demand whenever you want it","msgtype":"m.text"},"ts":1209164520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"dude i have to reset my clock after just a few hours of air travel","msgtype":"m.text"},"ts":1209164521000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"The person will remain physically the same age, though time will continue to pass around them","msgtype":"m.text"},"ts":1209164580000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"so it depends if their clock is in the suspended animation chamber with them","msgtype":"m.text"},"ts":1209164581000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"(The only problem is DRM - if it's like the BBC iPlayer where you're only allowed to watch stuff from the past 7 days, that'll be a pain when \"7 days\" becomes highly relative)","msgtype":"m.text"},"ts":1209164640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the only really \"new\" think will be that timezones will differ in relative rate of time as well as offsets","msgtype":"m.text"},"ts":1209164641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no biggie","msgtype":"m.text"},"ts":1209164642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I already have enough problems trying to synchronise cron jobs on two machines in different continents, even before worrying about DST, so I'd prefer a better solution for the future","msgtype":"m.text"},"ts":1209164820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"just use UTC","msgtype":"m.text"},"ts":1209164880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"timezones are purely a ui thing","msgtype":"m.text"},"ts":1209164881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or should be purely a ui thing","msgtype":"m.text"},"ts":1209164882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Can I make cron use UTC?","msgtype":"m.text"},"ts":1209164883000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Many satellites already compensate for relativistic effects.","msgtype":"m.text"},"ts":1209164940000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Philip`, why can't you juse sent the computer clocks to UTC?","msgtype":"m.text"},"ts":1209164941000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"*just","msgtype":"m.text"},"ts":1209164942000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"GPS compensates for relativistic effects","msgtype":"m.text"},"ts":1209164943000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"(preferably only for some of the jobs - I want certain things to always happen after I've gone to bed, which is in sync with the local timezone)","msgtype":"m.text"},"ts":1209165000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"when i go to bed really isn't in sync with anything","msgtype":"m.text"},"ts":1209165060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"about the only hour i can guarentee i'm not up 90% of the time is 6:30am - 7:30am local time","msgtype":"m.text"},"ts":1209165061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and even that is relatively new","msgtype":"m.text"},"ts":1209165062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"showModalDialog()","msgtype":"m.text"},"ts":1209165120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"The only hour of day when I have never searched Google is 3–4am local time.","msgtype":"m.text"},"ts":1209165121000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"any opinions?","msgtype":"m.text"},"ts":1209165122000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"That's a decent indication of when I'm awake.","msgtype":"m.text"},"ts":1209165123000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"i'm awake 3am-4am most nights","msgtype":"m.text"},"ts":1209165124000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Lachy: The hardware clocks are set to UTC, but my cron seems to use the system-wide timezone settings (probably so it can schedule things for 3:10am and it won't interrupt any in the middle of their day)","msgtype":"m.text"},"ts":1209165125000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"notes his sleeping pills are obviously having less affect on him now, as he took one an hour ago","msgtype":"m.emote"},"ts":1209165126000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie, I haven't read the spec for showModalDialog().","msgtype":"m.text"},"ts":1209165127000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"s/any/anyone/","msgtype":"m.text"},"ts":1209165128000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I'm sure I have lots of opinions on it though","msgtype":"m.text"},"ts":1209165129000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"there's a spec for it?","msgtype":"m.text"},"ts":1209165180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"s/spec/documentation/","msgtype":"m.text"},"ts":1209165181000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"that's a kind word","msgtype":"m.text"},"ts":1209165182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"holy crap this is an annoying feature","msgtype":"m.text"},"ts":1209165240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how has it not been abused for ads yet","msgtype":"m.text"},"ts":1209165241000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it blocks all the other tabs!","msgtype":"m.text"},"ts":1209165242000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fine then. s/documentation/breif summary of what it's supposed to do and how it's supposed to be used/","msgtype":"m.text"},"ts":1209165243000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"gsnedders: Hmm, my lowest is 7am (2 searches) and 6am (3 searches), and highest is 10pm (1610 searches)","msgtype":"m.text"},"ts":1209165244000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Over what time period?","msgtype":"m.text"},"ts":1209165300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: All time","msgtype":"m.text"},"ts":1209165301000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Actually, I tell a lie. Over all time I've made three searches at 3am.","msgtype":"m.text"},"ts":1209165360000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That is the lowest, though.","msgtype":"m.text"},"ts":1209165361000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Don't ask me what \"all time\" means","msgtype":"m.text"},"ts":1209165362000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"6pm is highest at 2007.","msgtype":"m.text"},"ts":1209165363000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"my lowest is 5am and 6am, 41 searches each","msgtype":"m.text"},"ts":1209165364000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Over the quantifiable \"last year\", I've made no searches 4–6am, about 993 searches at 6pm (the most)","msgtype":"m.text"},"ts":1209165365000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(although if you did ask me, I'd estimate it's about 1.5 years, given the numbers)","msgtype":"m.text"},"ts":1209165366000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and highest is 4pm, 1895 searches","msgtype":"m.text"},"ts":1209165367000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Saturday has the most searches, and Friday the least","msgtype":"m.text"},"ts":1209165420000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Feb the most, Jun the least.","msgtype":"m.text"},"ts":1209165421000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(which is odd seeming it wasn't June when I was away over the summer)","msgtype":"m.text"},"ts":1209165422000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"It would be nice if Google Web History wasn't quite so buggy in Opera","msgtype":"m.text"},"ts":1209165480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"where are you all getting stats on how many searches you do?","msgtype":"m.text"},"ts":1209165481000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hixie: \"live dom viewer\" is the fourth most common search for me :)","msgtype":"m.text"},"ts":1209165482000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Lachy: http://www.google.com/history/","msgtype":"m.text"},"ts":1209165483000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Lachy: There's an SQL injection vulnerability in google.com so you can just query their whole database directly","msgtype":"m.text"},"ts":1209165540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Lachy: http://www.google.com/history/trends?hl=en","msgtype":"m.text"},"ts":1209165541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"prefers Philip`'s explanation, though","msgtype":"m.emote"},"ts":1209165542000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I get no results because I'd never enabled that before now","msgtype":"m.text"},"ts":1209165600000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"doesn't use bookmarks. ","msgtype":"m.emote"},"ts":1209165660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"uses Google.","msgtype":"m.emote"},"ts":1209165661000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"My bookmark folders are write-only","msgtype":"m.text"},"ts":1209165662000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"actually, I use Saf's bookmark bar","msgtype":"m.text"},"ts":1209165720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But that's it.","msgtype":"m.text"},"ts":1209165721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"my bookmarks are http://☺.damowmow.com/","msgtype":"m.text"},"ts":1209165722000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Eight items there, and that's it.","msgtype":"m.text"},"ts":1209165723000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'm pretty sure I've bookmarked lots of useful things, but I never bother looking at them again","msgtype":"m.text"},"ts":1209165724000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"because i use too many browsers to maintain a set offline","msgtype":"m.text"},"ts":1209165725000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I have a bookmarks folder filled with links to things like specs and other types of documentation and utilities. But mostly I just start typing the URI into the address bar and select from the list","msgtype":"m.text"},"ts":1209165726000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"history search is awesome","msgtype":"m.text"},"ts":1209165780000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"html5 is third on my list since depending on browser history it's the easiest way to get the spec :-)","msgtype":"m.text"},"ts":1209165781000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"rfc 2616 is fifth","msgtype":"m.text"},"ts":1209165782000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Lachy: agreed. That and Google is all I need :P","msgtype":"m.text"},"ts":1209165783000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: Hey! My blog isn't on your blogroll! :P","msgtype":"m.text"},"ts":1209165784000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"a search URL on Google that redirects probably infinitely which I haven't gotten around to reporting to Google is the top result, because I've not removed it from the saved set of tabs every time I open Firefox","msgtype":"m.text"},"ts":1209165840000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"(Is it intentional that blogroll sounds like bogroll?)","msgtype":"m.text"},"ts":1209165841000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I don't know if that's just a British term or something)","msgtype":"m.text"},"ts":1209165900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jwalden: uri?","msgtype":"m.text"},"ts":1209165901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sec","msgtype":"m.text"},"ts":1209165902000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"for rfcs, I have have a special keyword set up so I just type \"rfc ####\" and it takes me to it","msgtype":"m.text"},"ts":1209165903000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"has to ssh into a machine with the sessionstore.js file","msgtype":"m.emote"},"ts":1209165904000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"just uses spotlight and has all the RFCs stored locally","msgtype":"m.emote"},"ts":1209165905000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hixie, do you have a key for ☺ on your keyboard?","msgtype":"m.text"},"ts":1209166020000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: no","msgtype":"m.text"},"ts":1209166021000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok. cause that's basically the only URI in my history that I can't get by typing the first few letters","msgtype":"m.text"},"ts":1209166080000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it's my home page","msgtype":"m.text"},"ts":1209166081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you can also get to it by going to damowmow.com/portal and clicking the link at the top","msgtype":"m.text"},"ts":1209166082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I normally just type http://damowmow.com/portal/ instead","msgtype":"m.text"},"ts":1209166083000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hixie: so a mispaste suggests that the original URL I was hitting is part of a class of such URLs; <http://www.google.com/url?sa=t> seems to be a minimal testcase for me","msgtype":"m.text"},"ts":1209166140000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Hixie: original URL was <http://www.google.com/url?sa=t&ct=res&cd=1&url=http%3A%2F%2Fwiki.mozilla.org%2FJavaScript%3ASpiderMonkey%3ACoding_Style&ei=jf9kR6C_EZKcerz80Us&usg=AFQjCNHvvFthlkDqpEGRurEs1FdnfpHWrw&sig2=vZBmzjP3UMGLgIr75kh4vQ>","msgtype":"m.text"},"ts":1209166141000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Lachy: Opera 9.5 makes \"xn\" autocomplete to the smiley-face page","msgtype":"m.text"},"ts":1209166142000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(after having only ever entered the ☺ form into the address bar)","msgtype":"m.text"},"ts":1209166200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"maybe I should try using Opera one day","msgtype":"m.text"},"ts":1209166201000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"so you shouldn't need a smiley key in order to get it from your history","msgtype":"m.text"},"ts":1209166202000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Firefox does that too","msgtype":"m.text"},"ts":1209166260000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"but it doesn't show the smiley","msgtype":"m.text"},"ts":1209166261000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hmm, Opera autocompletes from xn but not from ☺","msgtype":"m.text"},"ts":1209166320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jwalden: oh yeah, /url changed behaviour recently, and probably broke any bookmarks to it","msgtype":"m.text"},"ts":1209166321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no smiley for com TLD, they don't do enough to prevent lookalike domain names","msgtype":"m.text"},"ts":1209166322000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Konqueror 4 autocompletes from both","msgtype":"m.text"},"ts":1209166323000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jwalden: that won't get fixed i don't think","msgtype":"m.text"},"ts":1209166324000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"okay","msgtype":"m.text"},"ts":1209166325000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"though i don't see why it's doing an infinite loop","msgtype":"m.text"},"ts":1209166326000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I got that from a search results page, let's see if I can still find it, tho","msgtype":"m.text"},"ts":1209166327000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"i'll file a bug anyway","msgtype":"m.text"},"ts":1209166380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"when i get to work","msgtype":"m.text"},"ts":1209166381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"speaking of which","msgtype":"m.text"},"ts":1209166382000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i should go","msgtype":"m.text"},"ts":1209166383000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbl","msgtype":"m.text"},"ts":1209166384000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jwalden, the smiley doesn't stay in the address bar for http://☺.lachy.id.au/ either","msgtype":"m.text"},"ts":1209166440000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Hixie: so visiting <http://www.google.com/search?q=non+sequitur+else+return&hl=en&safe=off&client=firefox-a&rls=org.mozilla:en-US:official&pwst=1&start=60&sa=N>, I have \"JavaScript:SpiderMonkey:Coding Style - MozillaWiki\" several down the results list","msgtype":"m.text"},"ts":1209166441000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Hixie: and the link location for that is <http://www.google.com/url?sa=t&ct=res&cd=66&url=http%3A%2F%2Fwiki.mozilla.org%2FJavaScript%3ASpiderMonkey%3ACoding_Style&ei=ll0SSMOFNJPWerXhpJkC&usg=AFQjCNHvvFthlkDqpEGRurEs1FdnfpHWrw&sig2=07FhJu9UeXFs5cSCXO29Yw>, which redirects infinitely","msgtype":"m.text"},"ts":1209166442000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"so something's still generating the old format, I guess","msgtype":"m.text"},"ts":1209166500000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Lachy: .au isn't on the whitelist either","msgtype":"m.text"},"ts":1209166560000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1209166561000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"yeah, what he said","msgtype":"m.text"},"ts":1209166562000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"dunno why","msgtype":"m.text"},"ts":1209166563000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"the auDA has very strict rules about registering domains. I'm sure they wouldn't let lookalikes through too easily","msgtype":"m.text"},"ts":1209166564000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"because no one has added it :)","msgtype":"m.text"},"ts":1209166620000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"you can file a bug and point to the policy","msgtype":"m.text"},"ts":1209166621000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"see e.g. https://bugzilla.mozilla.org/show_bug.cgi?id=423974","msgtype":"m.text"},"ts":1209166622000,"senderName":"gavin_","senderId":"gavin_@irc"},
{"content":{"body":"http://www.mozilla.org/projects/security/tld-idn-policy-list.html","msgtype":"m.text"},"ts":1209166680000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Can't certain characters be whitelisted? ☺ isn't likely to be a look-alike for any serious domain","msgtype":"m.text"},"ts":1209166681000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, some users might confuse it with http://:-).lachy.id.au","msgtype":"m.text"},"ts":1209166682000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"gavin_, jwalden, auda has lots of policies. I'm not sure what exactly to look for http://www.auda.org.au/policies/current-policies/","msgtype":"m.text"},"ts":1209166860000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I tend not to worry about the whitelisting; that's a UI thing","msgtype":"m.text"},"ts":1209166920000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"wonders if you can use the smiley face plus combining characters to make a series of smiley faces with funny hats","msgtype":"m.emote"},"ts":1209166921000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"except when it comes to things like <https://bugzilla.mozilla.org/show_bug.cgi?id=414090> :-(","msgtype":"m.text"},"ts":1209166922000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"the nearest I can find is a prohibition on misspellings of names. http://www.auda.org.au/policies/auda-2006-05/","msgtype":"m.text"},"ts":1209167640000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it doesn't explicitly mention IDNs, but it's general enough that it would cover any characters used","msgtype":"m.text"},"ts":1209167641000,"senderName":"Lachy","senderId":"Lachy@irc"}
]