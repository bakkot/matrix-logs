[
{"content":{"body":"http://mxr.mozilla.org/mozilla/source/dom/tests/mochitest/dom-level0/idn_child.html?force=1","msgtype":"m.text"},"ts":1209427200000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"we allow IDN","msgtype":"m.text"},"ts":1209427201000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"ok will change that too","msgtype":"m.text"},"ts":1209427202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1209427260000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"it just returns punycode though","msgtype":"m.text"},"ts":1209427261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which was really my question","msgtype":"m.text"},"ts":1209427262000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think I'd prefer returning Unicode, but I don't know what we do now","msgtype":"m.text"},"ts":1209427263000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"I think what we return depends on whether the TLD in question is whitelisted :-(","msgtype":"m.text"},"ts":1209427320000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"well i'll let y'all work it out while i actually get my ass to work","msgtype":"m.text"},"ts":1209427321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since i just noticed it's past 4pm","msgtype":"m.text"},"ts":1209427322000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Why is it not currently working?","msgtype":"m.text"},"ts":1209427323000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and I very much prefer Unicode to an unpredictable value","msgtype":"m.text"},"ts":1209427324000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"and Unicode seems the most consistent choice here","msgtype":"m.text"},"ts":1209427380000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"just need a tool so that authors can convert between the two easily","msgtype":"m.text"},"ts":1209427381000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and at runtime as well, then; requiring authors in the long term to have to think about punycode doesn't seem very nice","msgtype":"m.text"},"ts":1209427440000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1209427500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"unicode it shall be","msgtype":"m.text"},"ts":1209429180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hello","msgtype":"m.text"},"ts":1209457920000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"is either of adam barth or collin jackson here?","msgtype":"m.text"},"ts":1209458040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i have some thoughts on the frame navigation policy","msgtype":"m.text"},"ts":1209458100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in particular, i just noticed that while window.open() in html5 currently implements the child-restriction policy, the window.frames[] API is completely origin-blocked, so you can't navigate frames anyway","msgtype":"m.text"},"ts":1209458101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hello hixie i am new","msgtype":"m.text"},"ts":1209458160000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"hello","msgtype":"m.text"},"ts":1209458161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"welcome :-)","msgtype":"m.text"},"ts":1209458162000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Don't fully understand wot you are saying though","msgtype":"m.text"},"ts":1209458163000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"came here to make some suggestions though doesnt seem to be anyone here","msgtype":"m.text"},"ts":1209458220000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"apart from you that is :D","msgtype":"m.text"},"ts":1209458221000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"zokka: if you want to suggest something, it's good that Hixie is here","msgtype":"m.text"},"ts":1209458280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"does anyone bother to use <ins> and <del>","msgtype":"m.text"},"ts":1209458281000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"a few","msgtype":"m.text"},"ts":1209458282000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not many","msgtype":"m.text"},"ts":1209458283000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<ins> slightly more than <del> iirc","msgtype":"m.text"},"ts":1209458284000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<del> is nasty","msgtype":"m.text"},"ts":1209458285000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"and even then mostly inline","msgtype":"m.text"},"ts":1209458286000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i was thinking","msgtype":"m.text"},"ts":1209458287000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"why not have a new attribute for things like <p>","msgtype":"m.text"},"ts":1209458340000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"called datetime","msgtype":"m.text"},"ts":1209458341000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"yeah, we considered that","msgtype":"m.text"},"ts":1209458342000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but since people use <ins> and <del> so rarely it seemed pointless to work on making them mildly better :-)","msgtype":"m.text"},"ts":1209458343000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i thought they may use it more if it was on <p> most ppl use that and you can use browser features to highlight changes","msgtype":"m.text"},"ts":1209458400000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"it seems nasty to add changes using <ins>","msgtype":"m.text"},"ts":1209458401000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"maybe for a few words","msgtype":"m.text"},"ts":1209458402000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"well i am just an amateur :D","msgtype":"m.text"},"ts":1209458460000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"i think if people wanted the feature, they'd use <ins> and complain","msgtype":"m.text"},"ts":1209458461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"instead of just not using <ins>","msgtype":"m.text"},"ts":1209458462000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that seems to be the way web authors work :-)","msgtype":"m.text"},"ts":1209458463000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1209458520000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"some ppl just use <div> most the time :D","msgtype":"m.text"},"ts":1209458521000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"i hate the <object> tag i hear they are replacing it with <video>, <audio> etc","msgtype":"m.text"},"ts":1209458580000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"Hixie: they are more likely to be around at more normal-person times in PST","msgtype":"m.text"},"ts":1209458581000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i'll just bring it up when i have lunch with collin on wednesday i guess","msgtype":"m.text"},"ts":1209458640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zokka: they is us :-)","msgtype":"m.text"},"ts":1209458641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"liek i say i am an amateur but i've had real trouble using object to insert video it's just so complicated plus firefox crashes alot","msgtype":"m.text"},"ts":1209458700000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"for instance there are like 2-3 ways to link to the same video arnt there","msgtype":"m.text"},"ts":1209458760000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"stop me if i am wrong :D","msgtype":"m.text"},"ts":1209458880000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"Hixie: can't window.open() bypass the origin-blockedness of window.frames[] by targetting a deep subframe by name?","msgtype":"m.text"},"ts":1209459000000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or is that just an issue for a generic frame name lookup algorithm which avoids this?","msgtype":"m.text"},"ts":1209459001000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(not up to speed on relevant parts of the spec)","msgtype":"m.text"},"ts":1209459002000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: btw I'm not sure it's good for document.domain changes not to propagate to about:blank children (I am guessing that is the only upshot of copying instead of referencing the parent/opener's origin)","msgtype":"m.text"},"ts":1209459060000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or at least, I don't think propagating it is a security risk, and it avoids the chance that you will accidentally make your own about:blank subframes inaccessible","msgtype":"m.text"},"ts":1209459120000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(I guess technically you can change their document.domain first, then your own)","msgtype":"m.text"},"ts":1209459121000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"zokka: markup up the kind of edits that ins/del don't cover gets complex fast for little gain","msgtype":"m.text"},"ts":1209459122000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"othermaciej: yes, window.open() right now is subject to the child-navigation policy (i'm changing it to ancestor as we speak)","msgtype":"m.text"},"ts":1209459123000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: but .frames[] right now (which is what they use in all their examples) is completely blocked in the spec (which is an oversight(","msgtype":"m.text"},"ts":1209459124000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"))","msgtype":"m.text"},"ts":1209459180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes hsivonen i agree with that i was wondering why do you use <object data=\"video.avi\" instead of src?","msgtype":"m.text"},"ts":1209459181000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"i guess .frames[]-type access needs to be limited to the descendant-navigation policy too","msgtype":"m.text"},"ts":1209459182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which is subtly different from same-origin","msgtype":"m.text"},"ts":1209459183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and will be quite exciting","msgtype":"m.text"},"ts":1209459184000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I hate subtle security policies","msgtype":"m.text"},"ts":1209459240000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1209459300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess the other option is to make .frames[] always accessible and limit .location","msgtype":"m.text"},"ts":1209459301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"em could you guys link to wot you are saying so i can go over it at a later date please?","msgtype":"m.text"},"ts":1209459302000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/","msgtype":"m.text"},"ts":1209459360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"kk thxs:|","msgtype":"m.text"},"ts":1209459420000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"zokka: data on object is a weird thing from a decade ago. my guess is that whoever wrote the proposal for <object> back then wasn't too concerned about consistency with the rest of HTML","msgtype":"m.text"},"ts":1209459540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: why can't frames just be subject to the same-origin check?","msgtype":"m.text"},"ts":1209459720000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i thought that broke the web","msgtype":"m.text"},"ts":1209459840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"am i wrong?","msgtype":"m.text"},"ts":1209459841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'd love to leave it if that's an option","msgtype":"m.text"},"ts":1209459900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh, I don't actually know, I thought you knew a specific reason it broke the web","msgtype":"m.text"},"ts":1209460020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"lemme see what we do for it","msgtype":"m.text"},"ts":1209460021000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we just make frames a self-reference, not checked for security","msgtype":"m.text"},"ts":1209460080000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"not sure if we check access to the contents for same-origin","msgtype":"m.text"},"ts":1209460081000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah when i say frames[] i mean the window [[Get]]-by-index behaviour","msgtype":"m.text"},"ts":1209460082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah index access is done without security check, not sure why, but I assume there is a reason","msgtype":"m.text"},"ts":1209460260000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(if only copying other browsers)","msgtype":"m.text"},"ts":1209460261000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that sucks","msgtype":"m.text"},"ts":1209460262000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"no check at all?","msgtype":"m.text"},"ts":1209460320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how about .location.href ?","msgtype":"m.text"},"ts":1209460321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"read access to that is checked (probably not write access since you can assign to location without same-origin priveleges)","msgtype":"m.text"},"ts":1209460380000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"sounds like you're vulnerable to the 1999 Georgi Guninski citibank attack then","msgtype":"m.text"},"ts":1209460381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well I am just reading the code here, not testing","msgtype":"m.text"},"ts":1209460440000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"whereby a site can just walk the frame hierarchy and set a subframe to point to another site and spoof a password form","msgtype":"m.text"},"ts":1209460441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but I will check that out","msgtype":"m.text"},"ts":1209460442000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: ah, I am wrong","msgtype":"m.text"},"ts":1209460443000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we do our usual cross-frame navigation check (different from same-origin check) on assigning location.href","msgtype":"m.text"},"ts":1209460500000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ah interesting","msgtype":"m.text"},"ts":1209460560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so you can walk the hierarchy","msgtype":"m.text"},"ts":1209460561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but not assign","msgtype":"m.text"},"ts":1209460562000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so you could postMessage() to any frame","msgtype":"m.text"},"ts":1209460563000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that appears to be the case (again not tested)","msgtype":"m.text"},"ts":1209460800000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1209460860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's easier to specify i think","msgtype":"m.text"},"ts":1209460920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so good","msgtype":"m.text"},"ts":1209460921000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i wont bother you guys too much but how come on http://www.w3schools.com/tags/html5_embed.asp it says the embed tag is new?","msgtype":"m.text"},"ts":1209460922000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"i thought it was a old netscape tag","msgtype":"m.text"},"ts":1209460923000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"they probably mean new to the standards","msgtype":"m.text"},"ts":1209460980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"html4 didn't have it","msgtype":"m.text"},"ts":1209460981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"even though browsers supported it","msgtype":"m.text"},"ts":1209460982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i thought they where getting rid of it ","msgtype":"m.text"},"ts":1209460983000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"browsers getting rid of it? no","msgtype":"m.text"},"ts":1209461040000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"just that there are all these ppl trying to use complicated work around for <object?","msgtype":"m.text"},"ts":1209461100000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"so they didnt have to use <embed> because it wasnt standards compliated","msgtype":"m.text"},"ts":1209461101000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"zokka: yeah","msgtype":"m.text"},"ts":1209461220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zokka: we figured we should just make it standards compliant :-)","msgtype":"m.text"},"ts":1209461221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cool :D","msgtype":"m.text"},"ts":1209461222000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"because i hate it when the workarounds are so complicated or use aload of javascript","msgtype":"m.text"},"ts":1209461223000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"anyway the <video> tag should be nice i recon this time around the browser makers will get it right","msgtype":"m.text"},"ts":1209461280000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"i recon ie will have perfect implatation next time round :D","msgtype":"m.text"},"ts":1209461340000,"senderName":"zokka","senderId":"zokka@irc"},
{"content":{"body":"othermaciej: what else do you allow cross-origin access to? .top? .parent?","msgtype":"m.text"},"ts":1209462240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: this gives a first-order approximation: http://trac.webkit.org/browser/trunk/WebCore/page/DOMWindow.idl?format=txt","msgtype":"m.text"},"ts":1209462300000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"thx","msgtype":"m.text"},"ts":1209462301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(methods and attribtues marked DoNotCheckDomainSecurity)","msgtype":"m.text"},"ts":1209462302000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but magical lookup rules (indexed or named lookup) are handled in custom code","msgtype":"m.text"},"ts":1209462360000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and some objects that are accessible restrict all of their own methods and properties","msgtype":"m.text"},"ts":1209462361000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and some things have custom implementations that do their own security checks","msgtype":"m.text"},"ts":1209462362000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"what's [CheckNodeSecurity]?","msgtype":"m.text"},"ts":1209462363000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wow, you allow a lot more than html5 does","msgtype":"m.text"},"ts":1209462364000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I am not sure those are all essential to allow","msgtype":"m.text"},"ts":1209462420000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"CheckNodeSecurity does a security check based on the containing frame elemet's window's origin instead of this window's origin","msgtype":"m.text"},"ts":1209462421000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"lordy","msgtype":"m.text"},"ts":1209462422000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(I think there might be other similar uses, like contentDocument on frames)","msgtype":"m.text"},"ts":1209462480000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"annevk: I'm going to make an XTech slide about Validator.nu server side being ready for AC","msgtype":"m.text"},"ts":1209464280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: are there any experimental browser builds I should mention?","msgtype":"m.text"},"ts":1209464281000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i'm having issues with the spec gen script not handling the size of the spec","msgtype":"m.text"},"ts":1209470040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sigh","msgtype":"m.text"},"ts":1209470041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: drop the mathml entities :P","msgtype":"m.text"},"ts":1209470220000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1209470221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm not sure they're in the spec as the spec gen sees it","msgtype":"m.text"},"ts":1209470222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, are the problems just performance issues, or is it breaking in other ways?","msgtype":"m.text"},"ts":1209470223000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it's sometimes dying half way","msgtype":"m.text"},"ts":1209470280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Sounds like a compelling reason to split HTML5 into multiple specifications","msgtype":"m.text"},"ts":1209470340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"sounds like a compelling reason to roll your own spec gen","msgtype":"m.text"},"ts":1209470400000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Hixie, just pull out the sections you're planning to drop, like data templates","msgtype":"m.text"},"ts":1209470401000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: They're not in the HTML5 spec","msgtype":"m.text"},"ts":1209470460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"were the already removed?","msgtype":"m.text"},"ts":1209470461000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Oh wait","msgtype":"m.text"},"ts":1209470462000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I'm confused and wrong","msgtype":"m.text"},"ts":1209470463000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and thinking of repetition templates instead","msgtype":"m.text"},"ts":1209470520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so please choose to ignore me","msgtype":"m.text"},"ts":1209470521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I already ignore you :-P","msgtype":"m.text"},"ts":1209470522000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"yeah i should drop the data templates stuff","msgtype":"m.text"},"ts":1209470523000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"was gonna wait until i dropped repetition, though","msgtype":"m.text"},"ts":1209470524000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: \"The owner is URI that redirected to the javascript: URI.\" - s//the /","msgtype":"m.text"},"ts":1209470640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"fixed","msgtype":"m.text"},"ts":1209470700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"woot","msgtype":"m.text"},"ts":1209470760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i have dealt with all the feedback i know of on origin","msgtype":"m.text"},"ts":1209470761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"awesome. what's next?","msgtype":"m.text"},"ts":1209470820000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"dunno. any requests?","msgtype":"m.text"},"ts":1209470880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i was thinking of adding text to canvas","msgtype":"m.text"},"ts":1209470881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Fix <font> and style? :-)","msgtype":"m.text"},"ts":1209470882000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: how good are canvas implementations at the moment? good enough to handle more new features, or are they still quite buggy?","msgtype":"m.text"},"ts":1209470940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh yeah, drop the font element already","msgtype":"m.text"},"ts":1209470941000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"yeah i could do font and style=\"\"","msgtype":"m.text"},"ts":1209470942000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"was probably gonna wait til i got to the rendering section though","msgtype":"m.text"},"ts":1209470943000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which is like the last priority other than references","msgtype":"m.text"},"ts":1209470944000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<font> seems to cause a number of people to think badly of HTML5","msgtype":"m.text"},"ts":1209470945000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"they'll live","msgtype":"m.text"},"ts":1209471000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so it seems kind of sensible to try fixing it now, rather than leaving people with an incorrect impression of how HTML5 is likely to end up","msgtype":"m.text"},"ts":1209471001000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i guess","msgtype":"m.text"},"ts":1209471002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the problem with the style=\"\" attribute is that i don't have a solution","msgtype":"m.text"},"ts":1209471180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"other than the concept of a less good conformance level, which as hsivonen points out, is a bad idea for oh so many reasons","msgtype":"m.text"},"ts":1209471240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Now that everyone's doing getImageData/putImageData, I think they've all got pretty much all the features implemented, and I'm not currently aware of any particular major bugs (except that ImageData probably varies quite a bit, and I don't know how large the compatible intersection is, since I haven't really looked at any of this since last year)","msgtype":"m.text"},"ts":1209471300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"oh, really","msgtype":"m.text"},"ts":1209471301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1209471302000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so do you think we could add text without compromising existing bug fixing efforts?","msgtype":"m.text"},"ts":1209471360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: just allow style='' everywhere but say that the document must still be usable when all style=''s are ignored","msgtype":"m.text"},"ts":1209471361000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: i guess we could do that","msgtype":"m.text"},"ts":1209471362000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(There's loads of tiny bugs, like handling Infinity/NaN inconsistently, but I'm guessing they don't affect interoperability urgently)","msgtype":"m.text"},"ts":1209471363000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie, what's the reasons for not making style=\"\" conforming?","msgtype":"m.text"},"ts":1209471364000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: same reasons for not making <Font> conforming","msgtype":"m.text"},"ts":1209471420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is it just because it's non-semantic?","msgtype":"m.text"},"ts":1209471421000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"and presentational","msgtype":"m.text"},"ts":1209471422000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"it being non-semantic isn't the actual reason, but it's the proxy for the reason that people can rally behind, yes","msgtype":"m.text"},"ts":1209471423000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's the same reason <font size=3 color=blue> is bad","msgtype":"m.text"},"ts":1209471480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it can't be repurposed, it's not maintainable, it is media-specific, etc","msgtype":"m.text"},"ts":1209471481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1209471482000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"i think <font color> isn't technically bad as <b>/<i>-like annotations, although people hate <font> so i guess it makes sense to not allow it","msgtype":"m.text"},"ts":1209471600000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"as far as i can tell, i have no <font> element feedback","msgtype":"m.text"},"ts":1209471601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: That probably depends on how much time implementors will have before their next releases - it seems like most will have around a year or so, which sounds like it wouldn't be rushing much, so I'd expect it wouldn't impact much on bug-fixing of old features","msgtype":"m.text"},"ts":1209471602000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and only 4 e-mails on style=\"\", one of which i just wrote (containing zcorpan_'s suggestion above)","msgtype":"m.text"},"ts":1209471603000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"But I know very little about browser development cycles, so I could be totally wrong :-)","msgtype":"m.text"},"ts":1209471660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: k","msgtype":"m.text"},"ts":1209471661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess i should sleep now anyway","msgtype":"m.text"},"ts":1209471720000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thinks style=\"\" makes things easier to maintain rather than harder, because he can look at the element he wants to change and then change it and then it works, instead of having to follow invisible back-references into stylesheets and then hoping it won't have side-effects on anything else in the site","msgtype":"m.emote"},"ts":1209471780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(...assuming the alternative to style=\"\" is using selectors in stylesheets to associate styles and elements)","msgtype":"m.text"},"ts":1209471840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: http://xhtml.com/en/future/x-html-5-versus-xhtml-2/#x5-uncool-font has <font> element feedback - it's just not cool","msgtype":"m.text"},"ts":1209472080000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1209472081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the maintenance thing is fine if that's the only element with that style","msgtype":"m.text"},"ts":1209472082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that's only going to be the case on small pages that aren't part of big sites, etc","msgtype":"m.text"},"ts":1209472140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"news-like announcements often have use-once style","msgtype":"m.text"},"ts":1209472380000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"that's where i've used style='' before","msgtype":"m.text"},"ts":1209472381000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"<input size> is used when people want one-off presentational attributes","msgtype":"m.text"},"ts":1209472500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(though HTML5 says they can't write that, so they'd have to do it pointlessly verbosely like <input style=\"width:10em\">)","msgtype":"m.text"},"ts":1209472560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(css also doesn't have a proper alternative to size='')","msgtype":"m.text"},"ts":1209472561000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"and it doesn't make sense to extract that into an external stylesheet since it's different for every form you make (depending on how much text you expect people to enter into the form)","msgtype":"m.text"},"ts":1209472620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Big sites aren't all homogeneous, and they're still going to have lots of one-off bits of code","msgtype":"m.text"},"ts":1209472800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so it's nice to have some way to handle that, and just put up with people who abuse it and cause maintenace pain to themselves :-)","msgtype":"m.text"},"ts":1209472801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s//n/","msgtype":"m.text"},"ts":1209472860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: yeah","msgtype":"m.text"},"ts":1209472920000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I need to write an example script using .querySelector(). Does anyone have any suggestions for a trivial, yet somewhat practical example I could write?","msgtype":"m.text"},"ts":1209473220000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: document.querySelector('img[src$=\".png\"]').forEach(function (img) { img.style.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src='+img.src+')' });","msgtype":"m.text"},"ts":1209473400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Maybe not quite trivial enough...","msgtype":"m.text"},"ts":1209473401000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Do you want something that's not just getElementById or getElementsByClassName?","msgtype":"m.text"},"ts":1209473460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah, and preferably something that would be relevant to Opera's implementation","msgtype":"m.text"},"ts":1209473461000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"an IE hack unfortnately isn't","msgtype":"m.text"},"ts":1209473520000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Philip`: that would be pointless since only ie6 needs the filter and ie6 doesn't support querySelector","msgtype":"m.text"},"ts":1209473521000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: Yeah, I guess that's a minor problem with that example","msgtype":"m.text"},"ts":1209473522000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I suppose document.querySelector('input[required][value=\"\"]) isn't that useful in Opera either :-(","msgtype":"m.text"},"ts":1209473640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it would help if the editor of the selectors api spec hadn't filled it with such contrived examples!","msgtype":"m.text"},"ts":1209473641000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"The spec must have been written for certain use cases, so why not just use those? :-)","msgtype":"m.text"},"ts":1209473700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i try to base the examples in html5 on what people mention as their use cases","msgtype":"m.text"},"ts":1209473701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I have one using input elements for checkboxes: \"input:checked\"","msgtype":"m.text"},"ts":1209473702000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"perhaps querySelector can be used for aria stuff","msgtype":"m.text"},"ts":1209473703000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"although most authors don't know about aria so it would likely just be a distraction","msgtype":"m.text"},"ts":1209473820000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"yeah, I guess I could take a look at previous mailing list discussions about it to see what came up.","msgtype":"m.text"},"ts":1209473821000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"var tds = document.getElementById('graphdata').querySelector('td:last-of-type'); tds.forEach(function (td) { var value = td.textContent; td.innerHTML = '<img src=\"bar.png\" style=\"width:'+value+'px\" alt=\"'+value+'\">' });","msgtype":"m.text"},"ts":1209473822000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(for converting a numerical table into a graphicalised version)","msgtype":"m.text"},"ts":1209473880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"or look at what people are using the equivalent JQuery APIs for, but it's kind of hard to ask google \"Show me all pages that use the JQuery API script\"","msgtype":"m.text"},"ts":1209473881000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"(Maybe Opera is too rubbish to have forEach, though)","msgtype":"m.text"},"ts":1209473882000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Lachy: It would be convenient if you had a collection of loads of web pages that you could grep","msgtype":"m.text"},"ts":1209473940000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, that wouldn't work anyway, since the .forEach method isn't implemented on NodeLists. It would need to be converted to an array first.","msgtype":"m.text"},"ts":1209474060000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: http://philip.html5.org/misc/jquery-pages.txt has some that match /<script[^>]*jquery/","msgtype":"m.text"},"ts":1209474120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Lachy: Oh, maybe Array.forEach(tds, function ...) then","msgtype":"m.text"},"ts":1209474121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, thanks. That's a useful list.","msgtype":"m.text"},"ts":1209474360000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I have another four hundred if that list is too short :-)","msgtype":"m.text"},"ts":1209474420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"also has some jQuery examples, if needed :)","msgtype":"m.emote"},"ts":1209474421000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"jQuery: More popular than <cite>!","msgtype":"m.text"},"ts":1209474480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"That'd be a great marketing slogan","msgtype":"m.text"},"ts":1209474540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Woah, it's even more popular than <csobj>","msgtype":"m.text"},"ts":1209474541000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"waits for webgrep to finish making the list grow","msgtype":"m.emote"},"ts":1209474542000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"krijnh, I'm sure they'll be useful for me in the future","msgtype":"m.text"},"ts":1209474600000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"what's <csobj>?","msgtype":"m.text"},"ts":1209474601000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Some GoLive component thing","msgtype":"m.text"},"ts":1209474602000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"<font> is gone","msgtype":"m.text"},"ts":1209475020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"style=\"\" is global","msgtype":"m.text"},"ts":1209475021000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: there should be <fond> feedback from me asking for <font color> to become conforming","msgtype":"m.text"},"ts":1209475620000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1209475680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"might have gotten filed elsewhere","msgtype":"m.text"},"ts":1209475681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Fond feedback?","msgtype":"m.text"},"ts":1209475860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"font","msgtype":"m.text"},"ts":1209475920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Is the empty string a valid CSS declaration?","msgtype":"m.text"},"ts":1209476040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1209476041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Ah, good","msgtype":"m.text"},"ts":1209476042000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Lachy: http://philip.html5.org/misc/jquery-pages.txt has a load more now","msgtype":"m.text"},"ts":1209476100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, thanks. But I've got a good example now","msgtype":"m.text"},"ts":1209476160000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1209476280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jQuery: More popular than <caption>!","msgtype":"m.text"},"ts":1209476281000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: makes sense, <caption> is pretty boring","msgtype":"m.text"},"ts":1209476400000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"More popular than <blink> too, and that isn't pretty boring","msgtype":"m.text"},"ts":1209476460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"perhaps we should make <blink> animate so that it looks just as cool as jquery animations, to get some competition","msgtype":"m.text"},"ts":1209476520000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"It'll have to go a long way to catch up with <marquee>","msgtype":"m.text"},"ts":1209476640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"<marquee>: More popular than jQuery!","msgtype":"m.text"},"ts":1209477000000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"html5-elements r28: -<font>, +style, +onstorage, +data-*","msgtype":"m.text"},"ts":1209479520000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"HTML5: Infinitely more attributes than HTML4!","msgtype":"m.text"},"ts":1209479521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: that was already true with <embed>","msgtype":"m.text"},"ts":1209481260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"twice infinitely more attributes than HTML4!","msgtype":"m.text"},"ts":1209481261000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: But <embed> wasn't in HTML4","msgtype":"m.text"},"ts":1209481440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: that's why it was already true with <embed>...","msgtype":"m.text"},"ts":1209481500000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Huh?","msgtype":"m.text"},"ts":1209481501000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh","msgtype":"m.text"},"ts":1209481502000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I thought you meant <embed> in HTML4","msgtype":"m.text"},"ts":1209481503000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: To avoid causing me confusion and suffering, I think you should have said \"twice infinitely more attributes than the previous revision of HTML5!\"","msgtype":"m.text"},"ts":1209481560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh wait","msgtype":"m.text"},"ts":1209481620000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Now I'm just totally wrong","msgtype":"m.text"},"ts":1209481621000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: You were right all along","msgtype":"m.text"},"ts":1209481622000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"misread \"twice infinitely more than\" as \"twice as many as the infinity that were in\"","msgtype":"m.emote"},"ts":1209481680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: the spec says \"The declarations specified must be parsed\", not \"The attribute's value must be parsed\", which might imply that there is some preprocessing (like, splitting on ;) to get the declarations","msgtype":"m.text"},"ts":1209481860000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"s/;)/';')/","msgtype":"m.text"},"ts":1209481920000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"ooh. only one failure in the html5lib now. is that what you guys are all getting? I can't wait to play around with it","msgtype":"m.text"},"ts":1209482280000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"Hixie: how about the icons used at http://html5.org/tools/web-apps-tracker ?","msgtype":"m.text"},"ts":1209482520000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: What licensing do they have?","msgtype":"m.text"},"ts":1209482580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: dunno","msgtype":"m.text"},"ts":1209482581000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Hixie: how does the PDF version of the spec get generated?","msgtype":"m.text"},"ts":1209483480000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"takkaria: Probably a bit like http://hsivonen.iki.fi/printing-wa10/","msgtype":"m.text"},"ts":1209483600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hmm. interesting. although methods beat switch on the PPC client VM, switch does indeed beat methods on the x86 client VM!","msgtype":"m.text"},"ts":1209486600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: wider pipelines to process more at once for the ppc (all methods), whereas the x86 barrels through the narrow switches at full megahertz speed","msgtype":"m.text"},"ts":1209487200000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"i bet that compiled in 64 bit, the x86 would be right in line on methods","msgtype":"m.text"},"ts":1209487260000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"hsivonen: I have Java on x86_64 in case it'd help to test that too","msgtype":"m.text"},"ts":1209488040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(It seems to say I only have the server VM and not client, though...)","msgtype":"m.text"},"ts":1209488100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: http://about.validator.nu/htmlparser/perf2.zip","msgtype":"m.text"},"ts":1209488160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: the client VM is not available for x86_64","msgtype":"m.text"},"ts":1209488161000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Ah, that would explain it","msgtype":"m.text"},"ts":1209488280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: I think making PCDATA-data and non-PCDATA-data states different states is likely to be a big perf win","msgtype":"m.text"},"ts":1209488281000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hmm, my results might be a little suspect since three quarters of my CPU is running theorem provers","msgtype":"m.text"},"ts":1209488340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think I'm going to break the data state into four states: PCDATA, RCDATA, CDATA and escape flag","msgtype":"m.text"},"ts":1209488341000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I also think I should break the escape flag state further to avoid a look-back buffer","msgtype":"m.text"},"ts":1209488400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: you are cheating whenever you spec lookahead or lookback :-)","msgtype":"m.text"},"ts":1209488401000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: He's optimising for readability, and trusting implementors to optimise for performance :-)","msgtype":"m.text"},"ts":1209488460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: does your OCaml parser generator generate 6 states for the data state?","msgtype":"m.text"},"ts":1209488520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: No","msgtype":"m.text"},"ts":1209489360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: I do have code that approximately splits each state up into lots of (state, content-model-flag) stats, like in http://canvex.lazyilluminati.com/misc/states2.png","msgtype":"m.text"},"ts":1209489361000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but haven't put that into the code generation part, because it gets a little messier when the tree constructor can change content-model-flag without the tokeniser's knowledge","msgtype":"m.text"},"ts":1209489420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: Running for 1 minute on Wikipedia's Main_Page from a few days ago, on Java HotSpot(TM) 64-Bit Server VM (build 1.6.0-b105, mixed mode), for XML/methods/switch I get 53280/27395/27294","msgtype":"m.text"},"ts":1209489480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so there's no real different between methods and switch","msgtype":"m.text"},"ts":1209489540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"*difference","msgtype":"m.text"},"ts":1209489541000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/stats/states/ five minutes ago","msgtype":"m.text"},"ts":1209489660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, also I haven't put it into the code generation part because I'd need to write a better optimiser for the conditions (e.g. \"contentModelFlag == PCDATA\" is trivially false in the DataState-RCDATA state)","msgtype":"m.text"},"ts":1209489720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(but some things are less trivial)","msgtype":"m.text"},"ts":1209489721000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: Also, 5 minute runs on the same machine/page give pretty much the same results (XML=269592, methods=137637, switch=132836)","msgtype":"m.text"},"ts":1209491280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I think the content model flag should become a return value from the tree builder","msgtype":"m.text"},"ts":1209496440000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: thanks for the x86_64 results","msgtype":"m.text"},"ts":1209496500000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"x86 server: http://pastebin.ca/1002005","msgtype":"m.text"},"ts":1209496501000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"MikeSmith: are there still lightning talk spots open?","msgtype":"m.text"},"ts":1209498120000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"virtuelv, yeah","msgtype":"m.text"},"ts":1209498240000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I certainly hope the talks don't have to be on topic and serious?","msgtype":"m.text"},"ts":1209498420000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"the more fun, the better","msgtype":"m.text"},"ts":1209498480000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Yeah, I'm struggling between \"The political importance of lolcats\" and \"My name's relevance to «A boy named Sue»\"","msgtype":"m.text"},"ts":1209498540000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"virtuelv: but lolcats are seriously important for political dissenters","msgtype":"m.text"},"ts":1209498960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: yes, and so are their internet siblings, the motivational posters","msgtype":"m.text"},"ts":1209499020000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"MikeSmith: key point is, I'm interested, but I have no topic yet","msgtype":"m.text"},"ts":1209499080000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"Hixie: are JS engines now required to track the origin or string objects for data URIs?","msgtype":"m.text"},"ts":1209500160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"do they do that already or is this something new?","msgtype":"m.text"},"ts":1209500161000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: right now Gecko and the latest WebKit give frames loaded from data: URIs no security authority","msgtype":"m.text"},"ts":1209500220000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"not sure what IE does","msgtype":"m.text"},"ts":1209500280000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"did Hixie invent something more complicated?","msgtype":"m.text"},"ts":1209500281000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: if I understood correctly, Hixie made data URIs inherit origin from the document/script where the string was minted","msgtype":"m.text"},"ts":1209500400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it's possible that I didn't understand correctly","msgtype":"m.text"},"ts":1209500460000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oh that's not gonna fly","msgtype":"m.text"},"ts":1209500461000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"inheriting origin from the document/script that initiated the location change might do","msgtype":"m.text"},"ts":1209500462000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but is somewhat complicated and unlike the handling for javascript: URIs for instance","msgtype":"m.text"},"ts":1209500520000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(sadly I don't think data: can safely use either the javascript: or the about:blank security policy)","msgtype":"m.text"},"ts":1209500521000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Philip`: it appears that your state analysis doesn't know that content model is always PCDATA when endTag returns","msgtype":"m.text"},"ts":1209500700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: That's the part that's impossible to determine when you've only got the tokeniser algorithm","msgtype":"m.text"},"ts":1209500820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"since it's the tree constructor that sets it back to PCDATA, if I remember correctly","msgtype":"m.text"},"ts":1209500880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I should just hard-code that fact into the state-expander algorithm, and then it'd probably work alright","msgtype":"m.text"},"ts":1209500881000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think the various flavors of the data state should be individual states and startTag should be allowed to return the next state it wants","msgtype":"m.text"},"ts":1209500940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"That sounds like a sensible way to model it","msgtype":"m.text"},"ts":1209501000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I've kind of ignored the whole tokeniser / tree constructor interaction for now, and treated them as isolated algorithms)","msgtype":"m.text"},"ts":1209501120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I could just convert them into a single state machine)","msgtype":"m.text"},"ts":1209501121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(37 tokeniser states * 19 tree constructor states isn't really that many)","msgtype":"m.text"},"ts":1209501240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(* ~4 for the content model flag)","msgtype":"m.text"},"ts":1209501300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(* 2 for the escape flag)","msgtype":"m.text"},"ts":1209501360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Okay, maybe I don't actually want to end up with five thousand functions in my parser)","msgtype":"m.text"},"ts":1209501361000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: at first I thought that it would be smart to inline tree contructor into tokenizer, but it really isn't","msgtype":"m.text"},"ts":1209501960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Why isn't it?","msgtype":"m.text"},"ts":1209502080000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: the tree constructor methods are large and have more than one call site","msgtype":"m.text"},"ts":1209502081000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(I'm guessing it'd just be a huge amount of code duplication)","msgtype":"m.text"},"ts":1209502082000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hmm. I already have a concept of return state for entity consumption","msgtype":"m.text"},"ts":1209502260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I could use the same mechanism for rememberig CDATA vs. RCDATA when in escape","msgtype":"m.text"},"ts":1209502261000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: How do you deal with gathering all the tokens till the next non character token when parsing (R)CData? Do you have a special loop just for doing that or does it all go through the main loop somehow?","msgtype":"m.text"},"ts":1209503880000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"has to fix html5lib's liberal xml parser for cases like <script /><head> but really doesn't want to","msgtype":"m.emote"},"ts":1209503940000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"(I want to not have a liberal xml parser based on html5lib. Unfortunately it is actually used in the wild)","msgtype":"m.text"},"ts":1209503941000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"s/?$/? or something else?/","msgtype":"m.text"},"ts":1209504000000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"jgraham__: I have a variable that holds the position of the first character in a run of text and when a text run ends, I call a flushing method","msgtype":"m.text"},"ts":1209504360000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham__: when I skip over data that may turn out to be text, I either store it in a buffer just in case or have static buffers with certain magic strings","msgtype":"m.text"},"ts":1209504420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1209504480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"goodnight","msgtype":"m.text"},"ts":1209504540000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"takkaria: by a script that often gets killed by the kernel, running every day around 6am","msgtype":"m.text"},"ts":1209505860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: no, there shouldn't be any tracking of origin for data: URIs beyond the point at which it is used... did I make it more complicated by accident?","msgtype":"m.text"},"ts":1209505920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if a WimLeers guy comes by when i'm not around, someone help him out :-)","msgtype":"m.text"},"ts":1209508080000,"senderName":"Hixie","senderId":"Hixie@irc"}
]