[
{"content":{"body":"Hixie: about the input type change algorithm (for value management)","msgtype":"m.text"},"ts":1283559960000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"it looks like we loose the value with type='file'","msgtype":"m.text"},"ts":1283560020000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"if input.type='text', .value='foo', .type='file', .value would be \"\"","msgtype":"m.text"},"ts":1283560021000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"because we don't save the value to the content attribute when switching to a file type","msgtype":"m.text"},"ts":1283560022000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"why not doing that?","msgtype":"m.text"},"ts":1283560080000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"volkmar: Because you could just script-fill the value of the type=text with a filepath, then change it to type=file.  If the input is visually hidden, it can be smuggled inside another form, so the user ends up accidentally submitting files from their hard drive they didn't know about.","msgtype":"m.text"},"ts":1283560140000,"senderName":"tabatkins","senderId":"tabatkins@irc"},
{"content":{"body":"the <input type=file> always ignored the /value/","msgtype":"m.text"},"ts":1283560141000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"TabAtkins: hmmm, not what i meant","msgtype":"m.text"},"ts":1283560200000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"volkmar: .value would still be \"\" even if we saved the /value/ to the value=\"\" content attribute","msgtype":"m.text"},"ts":1283560201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"volkmar: because .value for type=file has nothing to do with either the /value/ concept or the value=\"\" attribute","msgtype":"m.text"},"ts":1283560202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yes, the problem is if i go back to <input type='text'> i loose the previous value","msgtype":"m.text"},"ts":1283560203000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"so?","msgtype":"m.text"},"ts":1283560204000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why not saving the value to the content attribute when we change teh type to 'file' considering 'file' shouldn't use it but it will be re-used if the type is changed to something else","msgtype":"m.text"},"ts":1283560260000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"why bother?","msgtype":"m.text"},"ts":1283560261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what's the use case?","msgtype":"m.text"},"ts":1283560320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why does it matter?","msgtype":"m.text"},"ts":1283560321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: it doesn't really matter, just sound weird than it's required for default and default_on and not filename","msgtype":"m.text"},"ts":1283560322000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"points to the topic","msgtype":"m.emote"},"ts":1283560380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if that's the only thing that sounds weird about the forms model in HTML, you haven't looked closely :-P","msgtype":"m.text"},"ts":1283560381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"personally I think what's weird is that we have to change things at all","msgtype":"m.text"},"ts":1283560382000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not that it gets reset to \"\"","msgtype":"m.text"},"ts":1283560383000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"unfortunately if we don't reset things, it breaks backcompat","msgtype":"m.text"},"ts":1283560440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah...","msgtype":"m.text"},"ts":1283560441000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"anyway if you think it should change, file a bug explaining why","msgtype":"m.text"},"ts":1283560442000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't make changes based on irc discussions :-)","msgtype":"m.text"},"ts":1283560443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"at least not while i'm making other changes :-)","msgtype":"m.text"},"ts":1283560444000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: i don't think it _should_ be changed, just wondering if there were a reason","msgtype":"m.text"},"ts":1283560500000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"i don't really care actually","msgtype":"m.text"},"ts":1283560501000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"no reason particularly","msgtype":"m.text"},"ts":1283560502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it just didn't seem to matter for compat","msgtype":"m.text"},"ts":1283560503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bz and i looked at what seemed to matter and just changed that","msgtype":"m.text"},"ts":1283560504000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fine then","msgtype":"m.text"},"ts":1283560505000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"really: http://html5.org/tools/web-apps-tracker?from=5413&to=5414 :/","msgtype":"m.text"},"ts":1283591700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"charset overrides is one of the worst ideas anyone ever came up with","msgtype":"m.text"},"ts":1283591701000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and has given us security issues (and is still giving them to anyone with UTF-7 support)","msgtype":"m.text"},"ts":1283591702000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If someone wants to argue about completeness of rel registries, maybe they should look at which of the common values in http://philip.html5.org/data/rel-rev-200904.txt are in each registry","msgtype":"m.text"},"ts":1283595420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I expect someone who's using the registry to either understand a random web document or avoid collisions when choosing their own names will care much more about rel=\"edituri\" than about rel=\"child\"","msgtype":"m.text"},"ts":1283595480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"What are those french 'rel's at the end of the page?","msgtype":"m.text"},"ts":1283595660000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"espadrine: People mixing up rel with src, I expect","msgtype":"m.text"},"ts":1283596020000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"espadrine: http://www.tourdumonde.over-blog.com/photo-257570-saopaulo-placadese-cathedrale_jpg.html","msgtype":"m.text"},"ts":1283596260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"<img src=\"http://img.over-blog.com/630x470-000000/0/44/26/71//09-bresil/saopaulo-placadese-cathedrale.jpg\" alt=\"saopaulo-placadese-cathedrale.jpg\" class=\"played\" rel=\"0/44/26/71//09-bresil/saopaulo-placadese-cathedrale.jpg\" height=\"470\" width=\"630\" />","msgtype":"m.text"},"ts":1283596261000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"annevk: i'm open to better ideas","msgtype":"m.text"},"ts":1283598000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"allow the HTTP charset parameter?","msgtype":"m.text"},"ts":1283598060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess that is not very author friendly","msgtype":"m.text"},"ts":1283598061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"though how about marking this as a v2 feature?","msgtype":"m.text"},"ts":1283598120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"we'll deploy <track>, see how it works out in the first year and if enough problems occur we go for it","msgtype":"m.text"},"ts":1283598121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cause people will likely need to move SRT files around anyway and maybe making the adjustments is easy enough for them","msgtype":"m.text"},"ts":1283598180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if the idea is to be compatible with legacy SRT, MIME types and UTF-8 only are both failures","msgtype":"m.text"},"ts":1283598181000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if it's not, we don't need the override, indeed","msgtype":"m.text"},"ts":1283598182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"people seemed pretty much in favour of the former though (haven't yet sent my reply to that thread, working on it still)","msgtype":"m.text"},"ts":1283598240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well yeah, it's tricky -- i want to be compatible too but I also do not want to introduce more features such as charset","msgtype":"m.text"},"ts":1283598300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if you can think of an attack vector, mail the list and i'll remove it","msgtype":"m.text"},"ts":1283598360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"security trumps compatibility","msgtype":"m.text"},"ts":1283598361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bed time now","msgtype":"m.text"},"ts":1283598362000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1283598363000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Ms2ger, yo, where is PARSE_ERR from?","msgtype":"m.text"},"ts":1283605080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is that DOM L&S? if so, isn't that obsolete?","msgtype":"m.text"},"ts":1283605081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yes/Dunno","msgtype":"m.text"},"ts":1283605140000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"k, I think it should be","msgtype":"m.text"},"ts":1283605141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but maybe something else uses PARSE_ERR too... hmm","msgtype":"m.text"},"ts":1283605142000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"My google only finds L&S, and the reference in HTML5","msgtype":"m.text"},"ts":1283605260000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"HTML5 mentions them?","msgtype":"m.text"},"ts":1283605261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"figures","msgtype":"m.text"},"ts":1283605320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I believe the WHATWG wiki does too","msgtype":"m.text"},"ts":1283605321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"guess we just tried to be complete","msgtype":"m.text"},"ts":1283605322000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm blaming you, annevk ","msgtype":"m.text"},"ts":1283605323000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger, what is this \"tempTests\" in DOMImpl...createDocument..exceptions? rewriting that test now","msgtype":"m.text"},"ts":1283605324000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://wiki.whatwg.org/index.php?title=Exception_Codes&diff=next&oldid=2625","msgtype":"m.text"},"ts":1283605325000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger, win","msgtype":"m.text"},"ts":1283605326000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i'll annotate the wiki with \"should be obsolete\"","msgtype":"m.text"},"ts":1283605380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Does any ua have them?","msgtype":"m.text"},"ts":1283605440000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"opera might","msgtype":"m.text"},"ts":1283605441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but i'm campaigning for nuking our (i believe somewhat broken) dom ls support","msgtype":"m.text"},"ts":1283605442000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, breakfast time o_O","msgtype":"m.text"},"ts":1283605443000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"back later","msgtype":"m.text"},"ts":1283605444000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, ask gsnedders :)","msgtype":"m.text"},"ts":1283605500000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger, guess i should use hg log more often","msgtype":"m.text"},"ts":1283607120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1283607121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, and all my tests have link rel=author :)","msgtype":"m.text"},"ts":1283607240000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"aah so i'm adding the wrong credits here","msgtype":"m.text"},"ts":1283607420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Though I think I added a few cases recently","msgtype":"m.text"},"ts":1283607540000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"if a page has a .manifest file, shouldn't the UA check for a new version of each content file?","msgtype":"m.text"},"ts":1283609160000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"(just see if it's changed, not reload the whole file unless it hasn't changed)","msgtype":"m.text"},"ts":1283609760000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"amirite?","msgtype":"m.text"},"ts":1283609761000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"hello?","msgtype":"m.text"},"ts":1283618520000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"llrcombs: Better to just say or ask what you came for right away. People will get back to you :)","msgtype":"m.text"},"ts":1283619840000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"It looks like he did ask, 3 hours ago, and nobody got back yet :-p","msgtype":"m.text"},"ts":1283619900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I just did","msgtype":"m.text"},"ts":1283620020000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"if a page has a .manifest file, should the UA check for a new version of each content file on load?","msgtype":"m.text"},"ts":1283620380000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"Dashiva; getting back?","msgtype":"m.text"},"ts":1283621040000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"I'm not well versed in offline, but my understanding is that content files are only checked when the manifest changes (and not necessarily then either)","msgtype":"m.text"},"ts":1283621220000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"You shouldn't take my word for it, though","msgtype":"m.text"},"ts":1283621280000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"hmmm","msgtype":"m.text"},"ts":1283623560000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"not much provision for when there's a new version of the file then, eh?","msgtype":"m.text"},"ts":1283623620000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"hmm, I screwed up all the help links in tests","msgtype":"m.text"},"ts":1283625480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I don't really believe in those anyway","msgtype":"m.text"},"ts":1283625481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or in author for that matter...","msgtype":"m.text"},"ts":1283625540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger, any particular reason we are using those fields?","msgtype":"m.text"},"ts":1283625541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Blame the CSSWG","msgtype":"m.text"},"ts":1283625600000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"You can get rid of them if you want","msgtype":"m.text"},"ts":1283625601000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1283625660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not quite sure if rewriting the tests is the most efficient approach rather than just starting over but I guess overall it's not too much work","msgtype":"m.text"},"ts":1283625780000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and it's almost done","msgtype":"m.text"},"ts":1283625781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham, you around? how do you test for ECMAScript errors using your framework?","msgtype":"m.text"},"ts":1283626020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"e.g. error instanceof TypeError","msgtype":"m.text"},"ts":1283626021000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i.e. how to rewrite this code to use assert_throws:","msgtype":"m.text"},"ts":1283626080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"  try {","msgtype":"m.text"},"ts":1283626081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"    document.body.removeChild({'a':'b'})","msgtype":"m.text"},"ts":1283626082000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"    assert_unreached()","msgtype":"m.text"},"ts":1283626083000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"  } catch (e) {","msgtype":"m.text"},"ts":1283626084000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"    assert_true(e instancof TypeError)","msgtype":"m.text"},"ts":1283626140000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"  }","msgtype":"m.text"},"ts":1283626141000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1283626320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it's instanceof afaict","msgtype":"m.text"},"ts":1283626321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It is","msgtype":"m.text"},"ts":1283626380000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1283626920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"document.body.removeChild(null) makes the framework collapse?","msgtype":"m.text"},"ts":1283626921000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i wonder if i do something wrong","msgtype":"m.text"},"ts":1283626922000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ooh, I guess it's a bug in the framework","msgtype":"m.text"},"ts":1283626980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"assert_throws is continuously buggy","msgtype":"m.text"},"ts":1283626981000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yay","msgtype":"m.text"},"ts":1283630400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"all existing stuff is fixored","msgtype":"m.text"},"ts":1283630401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"now all the new stuff needs doing","msgtype":"m.text"},"ts":1283630402000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if a page has a .manifest file, should the UA check for a new version of each content file on load? If not, when should it?","msgtype":"m.text"},"ts":1283630520000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"only when the manifest changes","msgtype":"m.text"},"ts":1283630580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so how would I designate that a file had been updated?","msgtype":"m.text"},"ts":1283630640000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"(i.e. a .js file with a new version)","msgtype":"m.text"},"ts":1283630641000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"you change the manifest","msgtype":"m.text"},"ts":1283630642000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"e.g. change a comment or do something like foo.js?v=2","msgtype":"m.text"},"ts":1283630643000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or add whitespace?","msgtype":"m.text"},"ts":1283630644000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"could work","msgtype":"m.text"},"ts":1283630700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"seems flawed","msgtype":"m.text"},"ts":1283630701000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"we can make it more complicated later","msgtype":"m.text"},"ts":1283630702000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"suggestion: allow a .manifest to include last-modified datetimes for each file","msgtype":"m.text"},"ts":1283630703000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"that would be complicated","msgtype":"m.text"},"ts":1283630704000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so the UA can figure out if it should grab a new rev","msgtype":"m.text"},"ts":1283630705000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"until then, I can't use manifests for my webapps/widgets/etc","msgtype":"m.text"},"ts":1283630760000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1283630761000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you can just print the timestamp as comment, no?","msgtype":"m.text"},"ts":1283630762000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, but then it'd grab a new version of every file for every load","msgtype":"m.text"},"ts":1283630820000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"the server can return 304 like it can normally","msgtype":"m.text"},"ts":1283630821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"defeats the purpose","msgtype":"m.text"},"ts":1283630822000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"if your file changes all the time you should prolly not put it in the manifest","msgtype":"m.text"},"ts":1283630823000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no, I'm debugging","msgtype":"m.text"},"ts":1283630880000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"and I'll end up updating it to make new versions","msgtype":"m.text"},"ts":1283630881000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"you know, mantinence, new features...","msgtype":"m.text"},"ts":1283631060000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"bugfixes","msgtype":"m.text"},"ts":1283631061000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1283631120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so add manifest when most of the other stuff is done","msgtype":"m.text"},"ts":1283631121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I don't really see the problem here","msgtype":"m.text"},"ts":1283631122000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"here's my idea:","msgtype":"m.text"},"ts":1283631180000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"the manifest file could be generated by a script, or just manually edited, so it include last-modified dates for each file in it","msgtype":"m.text"},"ts":1283631240000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"so when offline, the UA uses its cached versions of everything","msgtype":"m.text"},"ts":1283631241000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"and when online, it just checks the manifest against its stored manifest","msgtype":"m.text"},"ts":1283631242000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"to see if there's a new version of anything","msgtype":"m.text"},"ts":1283631243000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"yeah, I just told you you can do that","msgtype":"m.text"},"ts":1283631244000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if there is, it just downloads THAT file","msgtype":"m.text"},"ts":1283631245000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"otherwise, it keeps using its cached version","msgtype":"m.text"},"ts":1283631300000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"it doesn't download the whole file anyway","msgtype":"m.text"},"ts":1283631301000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the whole cached entity, or the whole .manifest?","msgtype":"m.text"},"ts":1283631302000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"the former","msgtype":"m.text"},"ts":1283631303000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it just does a request and the server can say 304","msgtype":"m.text"},"ts":1283631360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"For all those people nagging me about Anolis while I've been away, the following statement is true: 10:40 #whatwg: < jgraham> annevk: gsnedders has explicitly lost interest in anolis","msgtype":"m.text"},"ts":1283631361000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"SPDY will prolly optimize away the remaining bits","msgtype":"m.text"},"ts":1283631362000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":D @ SPDY","msgtype":"m.text"},"ts":1283631363000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"but no one is implementing...","msgtype":"m.text"},"ts":1283631364000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"so it makes a request for every file, even those in the cache manifest?","msgtype":"m.text"},"ts":1283631420000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"yawn","msgtype":"m.text"},"ts":1283631421000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders, are you still going to put anolis2 somewhere?","msgtype":"m.text"},"ts":1283631422000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"sorry","msgtype":"m.text"},"ts":1283631423000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"I guess I'm not a caching expert","msgtype":"m.text"},"ts":1283631424000,"senderName":"llrcombs","senderId":"llrcombs@irc"},
{"content":{"body":"Ms2ger: Let me do that riht now","msgtype":"m.text"},"ts":1283631425000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ms2ger: http://hg.gsnedders.com/anolis2/","msgtype":"m.text"},"ts":1283631600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"has no idea whether it even works at the moment","msgtype":"m.emote"},"ts":1283631601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wonders what prompted \"I <3 namespaces.\"","msgtype":"m.emote"},"ts":1283631720000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: See the diff","msgtype":"m.text"},"ts":1283631721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh anne left","msgtype":"m.text"},"ts":1283633700000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"dammit","msgtype":"m.text"},"ts":1283633701000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"for the record assert_throws(new TypeError(), document.body.removeChild({'a':'b'}))","msgtype":"m.text"},"ts":1283633760000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"should work","msgtype":"m.text"},"ts":1283633761000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"wonders what the bug is","msgtype":"m.emote"},"ts":1283633880000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I guess I could investigate","msgtype":"m.text"},"ts":1283633940000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But I should probably do the thing that Sam wanted first","msgtype":"m.text"},"ts":1283633941000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Surely that won't work since it'll call removeChild before calling assert_throws?","msgtype":"m.text"},"ts":1283634000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"assumes function() { document.body.removeChild({'a':'b'}) }","msgtype":"m.emote"},"ts":1283634060000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ah, that would seem more sensible and less like magic","msgtype":"m.text"},"ts":1283634120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Er, yeah right","msgtype":"m.text"},"ts":1283634121000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Lots of function() {} wrappers needed everywhere","msgtype":"m.text"},"ts":1283634122000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"wishes javascript had a Haskell-like syntax for anonymous functions","msgtype":"m.emote"},"ts":1283634180000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It would make this kind of thing much less visually noisy","msgtype":"m.text"},"ts":1283634240000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Are you starting to admit Haskell is a good language? :P","msgtype":"m.text"},"ts":1283634540000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: WTF?","msgtype":"m.text"},"ts":1283635680000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I have *nver* said Haskell was a bad language","msgtype":"m.text"},"ts":1283635681000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"**never*","msgtype":"m.text"},"ts":1283635682000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I sai it has a steep learning curve","msgtype":"m.text"},"ts":1283635683000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"+d","msgtype":"m.text"},"ts":1283635684000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"You've said it in such a way as to imply it is bad as a result","msgtype":"m.text"},"ts":1283636100000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Only if I was being severely misunderstood","msgtype":"m.text"},"ts":1283636880000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which is possible if I wasn't being clear","msgtype":"m.text"},"ts":1283636881000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(being hard to learn is a bad property. It is not necessarily enough to create a bad whole)","msgtype":"m.text"},"ts":1283636882000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: what happened about the t-shirt, btw?","msgtype":"m.text"},"ts":1283637120000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Not sure","msgtype":"m.text"},"ts":1283637360000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Feel free to just keep it till New Year, fwiw","msgtype":"m.text"},"ts":1283637420000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: It wouldn't fit","msgtype":"m.text"},"ts":1283637421000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1283637422000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":";P","msgtype":"m.text"},"ts":1283637480000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jgraham, thanks, will try","msgtype":"m.text"},"ts":1283644260000,"senderName":"annevk","senderId":"annevk@irc"}
]