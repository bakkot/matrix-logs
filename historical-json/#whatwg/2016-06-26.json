[
{"content":{"body":"JakeA: btw, I finally figured out <embed> / <object>","msgtype":"m.text"},"ts":1466958542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: the way they work is that they have an internal fetch algorithm, which is sometimes used, and then sometimes they pass the response resulting from that to navigate","msgtype":"m.text"},"ts":1466958578000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: apparently app cache had some weird model where that required loading it again rather than just using that response","msgtype":"m.text"},"ts":1466958599000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: we should not copy that model","msgtype":"m.text"},"ts":1466958604000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: we deliberately didnt","msgtype":"m.text"},"ts":1466958611000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: right","msgtype":"m.text"},"ts":1466958616000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that's why we excluded embed/object","msgtype":"m.text"},"ts":1466958629000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: but we can expose \"onnavigate\" perhaps at some point and hand that the response/request","msgtype":"m.text"},"ts":1466958635000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think we can bring it back with typemustmatch btw","msgtype":"m.text"},"ts":1466958642000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: even without I don't think there's a big problem","msgtype":"m.text"},"ts":1466958662000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: as long as we acknowledge that if it uses a nested browsing context, it works like <iframe>","msgtype":"m.text"},"ts":1466958690000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: but object isn't always a nested context is it?","msgtype":"m.text"},"ts":1466958715000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: correct","msgtype":"m.text"},"ts":1466958730000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I thought that was why appcache jumped through hoops","msgtype":"m.text"},"ts":1466958730000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: oh so you're saying we should always treat it as a client if SW is there?","msgtype":"m.text"},"ts":1466958755000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: as I said, the <object data> algorithm might result in creation of a browsing context and navigation to a response (rather than a request)","msgtype":"m.text"},"ts":1466958757000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: no, I'm saying we shouldn't try to work around the way it works","msgtype":"m.text"},"ts":1466958776000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: there's already several others ways in which navigate can be invoked with a response rather than a request","msgtype":"m.text"},"ts":1466958817000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: so not all navigations go through fetch, which is fine","msgtype":"m.text"},"ts":1466958839000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: but AppCache didn't consider that to be fine I guess, which is why it had the hack","msgtype":"m.text"},"ts":1466958859000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: interesting. We'll need to ensure a cross-origin object that becomes a navigation can't receive a response from a url other than its request url","msgtype":"m.text"},"ts":1466958887000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Maybe even a cached resource could be a security issue","msgtype":"m.text"},"ts":1466958912000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: yeah, the main problem is where the response originates I guess","msgtype":"m.text"},"ts":1466958952000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: kinda wish we had sorted out navigation before service workers, but I guess we can retrofit it all somehow","msgtype":"m.text"},"ts":1466959017000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Saying that because I think it might be hard to add this now due to the concern you mention. Though maybe there's a way... Probably best to figure out first exactly how things work","msgtype":"m.text"},"ts":1466959553000,"senderName":"annevk","senderId":"annevk@irc"}
]