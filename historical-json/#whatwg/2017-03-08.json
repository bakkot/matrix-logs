[
{"content":{"body":"this step of the ipv6 serializer is nutso \"If compress pointer points to piece, append \"::\" to output if piece is address’s first piece and append \":\" otherwise, and then run these substeps again with all subsequent pieces in address’s pieces that are 0 skipped or go the next step in the overall set of steps if that leaves no pieces.\"","msgtype":"m.text"},"ts":1488942308000,"senderName":"noah","senderId":"noah@irc"},
{"content":{"body":"ugh, I just stumbled into IDN","msgtype":"m.text"},"ts":1488942350000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"i have a headache now, sorry URL project for my ramblings ;)","msgtype":"m.text"},"ts":1488946341000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"terinjokes: IDNA is the good stuff","msgtype":"m.text"},"ts":1488952376000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"botie: tell smaug that WHATWG pull requests should have a link to a readable diff these days","msgtype":"m.text"},"ts":1488952480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"will do","msgtype":"m.text"},"ts":1488952481000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"botie: tell noah we can reword the IPv6 serializer to make it clearer","msgtype":"m.text"},"ts":1488952519000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"will do","msgtype":"m.text"},"ts":1488952519000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"annevk: asking with my work hat one: is it recommended at this point that we start moving systems to IDA2008+non-transitional?","msgtype":"m.text"},"ts":1488956068000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"i discovered today that in different parts of the stack we're handling IDNs a couple of different ways","msgtype":"m.text"},"ts":1488956192000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"(i guess having one recommendation, even if that's IDA2003, is better than the random mix we seem to be doing right now)","msgtype":"m.text"},"ts":1488956630000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"terinjokes: my recommendation is UTS46 non-transitional","msgtype":"m.text"},"ts":1488959527000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"terinjokes: even UTS46 transitional uses a dataset that is modified-IDNA2008","msgtype":"m.text"},"ts":1488959549000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"terinjokes: I'm hoping that Chrome and Edge will come around now Firefox and Safari have proven the way","msgtype":"m.text"},"ts":1488959587000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"terinjokes: there's definitely still pitfalls even if they all agree, but that's mostly to do with UTS46","msgtype":"m.text"},"ts":1488959616000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: mnot just found out that CORS cache issue Chrome has: https://github.com/whatwg/fetch/issues/307","msgtype":"m.text"},"ts":1488960871000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: seems surprising that it's still not fixed","msgtype":"m.text"},"ts":1488960880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: for all the security issues Googlers tweet about I sure find Chrome is rather lacking when it comes to its own same-origin policy breakage","msgtype":"m.text"},"ts":1488960914000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: on holiday right now, but will chase this","msgtype":"m.text"},"ts":1488964478000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: oh right, when are you back?","msgtype":"m.text"},"ts":1488964498000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: anyway enjoy and please try to forget I pinged you about this","msgtype":"m.text"},"ts":1488964544000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://github.com/whatwg/html/pull/2421 is very exciting","msgtype":"m.text"},"ts":1488965445000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm. the lint check for may in example doesn't work unless the class=\"example\" and the may are on the same line.","msgtype":"m.text"},"ts":1488967154000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"unsubscribes from www-dom","msgtype":"m.emote"},"ts":1488967760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"www-dom used to be a great list for technical discussions about the DOM and then somehow it got turned into a process mess and now GitHub digests?!","msgtype":"m.text"},"ts":1488967991000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"unsubscribes too","msgtype":"m.emote"},"ts":1488969254000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"How long have default arguments worked in JavaScript function declarations?","msgtype":"m.text"},"ts":1488969858000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Default argument values","msgtype":"m.text"},"ts":1488969868000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://kangax.github.io/compat-table/es6/#test-default_function_parameters ?","msgtype":"m.text"},"ts":1488970169000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"Thanks","msgtype":"m.text"},"ts":1488970246000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It seems this very old looking XHR test was recently modified","msgtype":"m.text"},"ts":1488970256000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I was thinking we had this feature for ages and I didn't know about it","msgtype":"m.text"},"ts":1488970276000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1488970640000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"it is rather new, yes","msgtype":"m.text"},"ts":1488970643000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"smaug, at 2017-03-08 05:54 UTC, annevk said: WHATWG pull requests should have a link to a readable diff these days","msgtype":"m.text"},"ts":1488971911000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"ah. This was pointerevers","msgtype":"m.text"},"ts":1488972062000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"events","msgtype":"m.text"},"ts":1488972064000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1488979652000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: yeah","msgtype":"m.text"},"ts":1488979658000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<<<<<<< cee5ae75919c5f22318f2e02d9b8a1dfd9fb66c5","msgtype":"m.text"},"ts":1488979659000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"var referrerOrigin = (new URL(\"/\", location.href)).href;","msgtype":"m.text"},"ts":1488979659000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"=======","msgtype":"m.text"},"ts":1488979659000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"var referrerOrigin = self.location.origin + '/';","msgtype":"m.text"},"ts":1488979659000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":">>>>>>> P3 Test referrer-policy in service workers.","msgtype":"m.text"},"ts":1488979660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which one is better?","msgtype":"m.text"},"ts":1488979667000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"in fetch/api/policies/referrer-origin.js","msgtype":"m.text"},"ts":1488979677000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: the second can emit non-ASCII in theory","msgtype":"m.text"},"ts":1488979760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: otherwise equivalent","msgtype":"m.text"},"ts":1488979763000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: but I'd prefer no change I think since this is probably something where it was already fixed on WPT and Gecko also tried to fix it locally?","msgtype":"m.text"},"ts":1488979791000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: if you're merging, any chance you can tell me about all fetch/xhr/cors/url/encoding/dom changes?","msgtype":"m.text"},"ts":1488979953000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe not dom/ I haven't really investigated that much yet","msgtype":"m.text"},"ts":1488979966000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: So the top one?","msgtype":"m.text"},"ts":1488980662000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Not sure what you want me to tell you?","msgtype":"m.text"},"ts":1488980677000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: yeah don't change it (I hadn't actually looked at the resource to see what it was last changed to)","msgtype":"m.text"},"ts":1488980720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think the only changes are in fetch/","msgtype":"m.text"},"ts":1488981064000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"https://pastebin.mozilla.org/8981400","msgtype":"m.text"},"ts":1488981066000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1488981143000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it looks like transitional UTF46 still converts ß to ss, which is how i fell down this rabbit hole","msgtype":"m.text"},"ts":1488990165000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"i agree though, it what i'll recommend internally","msgtype":"m.text"},"ts":1488990188000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"terinjokes: yeah, it ain't pretty","msgtype":"m.text"},"ts":1488992263000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: terinjokes: I'm still wondering if we should spec the rule that implementations seem to have where short origins don't do validation or something...","msgtype":"m.text"},"ts":1488993691000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I can't find a tracking issue for that actually hmm","msgtype":"m.text"},"ts":1488993750000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: short origin?","msgtype":"m.text"},"ts":1488993811000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Trying to find it...","msgtype":"m.text"},"ts":1488993818000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Like under 63 characters or something??","msgtype":"m.text"},"ts":1488993823000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: ASCII origins?","msgtype":"m.text"},"ts":1488993834000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh, that was it","msgtype":"m.text"},"ts":1488993839000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I am not having luck in talking to implementers and the UTS46 folks","msgtype":"m.text"},"ts":1488993867000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: it's logged as an issue with them, still waiting for replies","msgtype":"m.text"},"ts":1488993896000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It'd be good to have a URL tracking issue","msgtype":"m.text"},"ts":1488993918000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Since one fix is on the URL side","msgtype":"m.text"},"ts":1488993923000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: IDNA and file parsing are the main outstanding URL issues","msgtype":"m.text"},"ts":1488993923000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Just don't run ToASCII if it's already ASCII","msgtype":"m.text"},"ts":1488993937000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"At this point I am pretty sure the discussion is not in whatwg/url... maybe it was in web-platform-tests","msgtype":"m.text"},"ts":1488993983000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: sure, just waiting to hear back","msgtype":"m.text"},"ts":1488993995000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: I wrote a post, there's also the Google doc linked from the IDNA issue","msgtype":"m.text"},"ts":1488994030000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: anyway, feel free to open a dedicated issue, but without dialogue it's gonna be hard to do something","msgtype":"m.text"},"ts":1488994099000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, I just want something to track the issue, since this comes up in whatwg-url vs. browser conversations. I wrote https://github.com/whatwg/url/issues/267 .","msgtype":"m.text"},"ts":1488994169000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ta","msgtype":"m.text"},"ts":1488994261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wish the IDNA folks were not mostly absent","msgtype":"m.text"},"ts":1488994288000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Am I hallucinating: https://html.spec.whatwg.org/#event-loop-processing-model ends up creating /now/ using top level window.performance.now() and passing that value to also fAF callbacks in nested documents","msgtype":"m.text"},"ts":1488994780000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"the top level performance.now() may have nothing to do with child documents","msgtype":"m.text"},"ts":1488994794000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"zcorpan: you might have something to say about ^","msgtype":"m.text"},"ts":1488994909000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"Domenic: is there a problem applying ToASCII on ASCII-only imput?","msgtype":"m.text"},"ts":1488995211000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"as someone who's currently doing that across multiple environments, i thought it was mostly safe","msgtype":"m.text"},"ts":1488995241000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"terinjokes: it does extra validations like a length limit or disallowing leading hyphens. Apparently browsers don't do that unless the input contains unicode.","msgtype":"m.text"},"ts":1488995242000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://github.com/whatwg/html/issues/2423","msgtype":"m.text"},"ts":1488995412000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"terinjokes: https://annevankesteren.nl/2017/02/idna-toascii-differences","msgtype":"m.text"},"ts":1488995415000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: I'm still interested in filing incumbent settings object bugs","msgtype":"m.text"},"ts":1488995431000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: for much the same reasons as you're interested in having that IDNA issue filed","msgtype":"m.text"},"ts":1488995487000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sure, if you want, but I don't know what they would say... \"the spec currently says something, but we're not sure about it, so please don't change anything yet until we figure out our story?\"","msgtype":"m.text"},"ts":1488997357000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: hmm, so bz seems confident","msgtype":"m.text"},"ts":1488997403000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: but I guess if you're not done yet, we can wait","msgtype":"m.text"},"ts":1488997421000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: but it seems like you've been putting in a lot of effort without much guidance from non-Fx","msgtype":"m.text"},"ts":1488997439000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean I think we are reasonably confident about the definition of incumbent. Just not its usage sites.","msgtype":"m.text"},"ts":1488997443000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"And there's also the possibility that if we get the number of usage sites down low enough, having a high-fidelity incumbent doesn't matter much, so we could simplify the definition to what non-FF UAs do.","msgtype":"m.text"},"ts":1488997472000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Okay, guess I'll try to be more patient","msgtype":"m.text"},"ts":1488997777000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean, I will be more patient and thank you for sorting this out, I'm not jealous","msgtype":"m.text"},"ts":1488998338000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1488998699000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: transfering a stream or anything that spans multiple tasks is best done by associating a private MessageChannel with the object I think","msgtype":"m.text"},"ts":1488999350000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: so you have a ReadableStream on both sides, each with their own MessagePort and MessagePort handling logic","msgtype":"m.text"},"ts":1488999379000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: and then you transfer the objects through that MessageChannel","msgtype":"m.text"},"ts":1488999399000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: the initial clone would set up the MessagePort logic","msgtype":"m.text"},"ts":1488999439000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: I can't really think of another primitive that would make something like that work","msgtype":"m.text"},"ts":1488999468000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm, alshamiri1 is listed as reviewer on all HTML PRs despite not having a GitHub account","msgtype":"m.text"},"ts":1488999537000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess I'll complain to GitHub","msgtype":"m.text"},"ts":1488999808000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"A private MessageChannel, wow, I never thought of that","msgtype":"m.text"},"ts":1489000033000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It's strange but nice that both Gecko and Chrome seem to suddenly be working on making the text selection APIs interoperable","msgtype":"m.text"},"ts":1489005610000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"argh... why does the service worker spec link to TR for this? https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate","msgtype":"m.text"},"ts":1489011872000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I guess there is no draft version?","msgtype":"m.text"},"ts":1489011908000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: there is, https://w3c.github.io/page-visibility/","msgtype":"m.text"},"ts":1489012471000,"senderName":"Domenic","senderId":"Domenic@irc"}
]