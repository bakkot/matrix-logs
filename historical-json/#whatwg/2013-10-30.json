[
{"content":{"body":"Hixie: I believe you wrote tests proving the opposite in 2005 :)","msgtype":"m.text"},"ts":1383091865000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"Hixie: http://www.w3.org/Style/CSS/Test/CSS3/Selectors/current/html/tests/css3-modsel-27a.html","msgtype":"m.text"},"ts":1383091939000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"Hixie: Window object that's not a global scope?","msgtype":"m.text"},"ts":1383095925000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"fyi dvcs.w3.org is down and I can't do anything to fix it right now because I can't even ssh into it a the moment","msgtype":"m.text"},"ts":1383106935000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"likely will not be back til Europe comes online","msgtype":"m.text"},"ts":1383106964000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the lesson is, move your spec sources to github","msgtype":"m.text"},"ts":1383107005000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"when did writing technical documents in HTML become such a challenge for Web developers? https://github.com/whatwg/serial/issues/3","msgtype":"m.text"},"ts":1383107285000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"losing hope at the future of the web when even github does that \"don't link to the real file, link to a page that does an html refresh to the file\" crap","msgtype":"m.text"},"ts":1383107864000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"re: no, really, copying a download link on my desktop and wgetting it in a terminal doesn't mean i want to download a 15k html file","msgtype":"m.text"},"ts":1383107901000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"kinetik: dunno if you're on the dashjs mailing list but https://groups.google.com/d/msg/dashjs/4UfYEYZ_Zno/5lMubhuqxfcJ","msgtype":"m.text"},"ts":1383114665000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thanks, i wasn't aware of it!","msgtype":"m.text"},"ts":1383117881000,"senderName":"kinetik","senderId":"kinetik@irc"},
{"content":{"body":"kinetik: cheers","msgtype":"m.text"},"ts":1383118811000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk, ping","msgtype":"m.text"},"ts":1383125313000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"zewt: I am starting to wonder if you are turning into RMS and mainly browsing the web async through command line tools :)","msgtype":"m.text"},"ts":1383125632000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Javascript is the devil's work!","msgtype":"m.text"},"ts":1383125695000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yay https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/t0XiZuMey7M (\"Intent to Implement and Ship: Moving DOM attributes to prototype chains\")","msgtype":"m.text"},"ts":1383125973000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Woo","msgtype":"m.text"},"ts":1383126015000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"- The new behavior makes it easy to port Blink�s C++ implementation into JavaScript and reduce complexity of Blink. For example, we are planning to move editing implementation (e.g., execCommand) from C++ to JavaScript. With the new behavior, we just need to hook DOM attribute getters/setters and implement the logic all in JavaScript.","msgtype":"m.text"},"ts":1383126059000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"though still \"This change will regress several micro benchmarks by 10% or so. We have been working on this project for two years and are concluding that it would be hard to decrease the regression any more without crankshafting binding callbacks to V8.\"","msgtype":"m.text"},"ts":1383126069000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Ms2ger: yeah part that sounds pretty coold","msgtype":"m.text"},"ts":1383126090000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"We'll see :)","msgtype":"m.text"},"ts":1383126111000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"V8 sure seems to introduce a lot of quirky limitations","msgtype":"m.text"},"ts":1383126158000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Well, they've had a speed advantage because their setup meant they didn't have to do some checks","msgtype":"m.text"},"ts":1383126227000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1383126249000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"\"we just need to implement all the logic in javascript\" - that's a usage of the word \"just\" that I haven't previously encountered","msgtype":"m.text"},"ts":1383127599000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I read \"we just need to hook DOM attribute getters/setters, and then we can implement the logic all in JavaScript.\"","msgtype":"m.text"},"ts":1383127770000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I think what they meant to write was \"we just need to hook COM attribute getters/setters, and then arghhh execCommand my eyes, my eyes, they burn, make it go away, please Mummy, please…\"","msgtype":"m.text"},"ts":1383127885000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"COM?","msgtype":"m.text"},"ts":1383128069000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"er, DOM","msgtype":"m.text"},"ts":1383128259000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Although freudian slip really","msgtype":"m.text"},"ts":1383128266000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"nice. i didn't know that was a two-year project already","msgtype":"m.text"},"ts":1383130977000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(or i didn't know it was a project at all)","msgtype":"m.text"},"ts":1383130995000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"That's quite long","msgtype":"m.text"},"ts":1383131819000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"We haven't even been working on webidl bindings for two years","msgtype":"m.text"},"ts":1383131838000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: yo","msgtype":"m.text"},"ts":1383132936000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, I think I figured it out... Wasn't sure if http://dom.spec.whatwg.org/#node-is-inserted would be called on all nodes in the inserted tree or just the roots of the subtrees","msgtype":"m.text"},"ts":1383133053000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"\"We cannot observe any regression in Robohornet.\"","msgtype":"m.text"},"ts":1383135773000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"robohornet is still a thing?","msgtype":"m.text"},"ts":1383135779000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I thought it died immediately after it was announced","msgtype":"m.text"},"ts":1383135829000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: I don't remember hearing about it all","msgtype":"m.text"},"ts":1383136712000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://github.com/robohornet/robohornet doesn't look too active","msgtype":"m.text"},"ts":1383136842000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"robohornet was just mentioned in the google doc about getter/setters","msgtype":"m.text"},"ts":1383136871000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and that doc was dated 2013 Oct 30","msgtype":"m.text"},"ts":1383136936000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"xhr-1 is back?","msgtype":"m.text"},"ts":1383137832000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"\"Initially, we'd planned to put together a draft with only the parts that are *already compatibly* supported across the major implementations, but it turned out that most of the major features are showing *subtle differences* in behavior.\"","msgtype":"m.text"},"ts":1383137858000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"... and that's surprising?","msgtype":"m.text"},"ts":1383137863000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"odinho, so RESO INVALID?","msgtype":"m.text"},"ts":1383138464000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: it's only invoked for the inserted node","msgtype":"m.text"},"ts":1383139311000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: if that node has descendants, they're not notified","msgtype":"m.text"},"ts":1383139330000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Why does Ms2ger keep leaving the channel?","msgtype":"m.text"},"ts":1383139339000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"As for \"xhr-1\", sounds like everything old is new again.","msgtype":"m.text"},"ts":1383139428000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Blink finally getting major IDL compliance boost: https://groups.google.com/a/chromium.org/d/msg/blink-dev/t0XiZuMey7M/j9PnVUUzBuUJ","msgtype":"m.text"},"ts":1383139631000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i see 201 cases of <link charset> that's different from the document's content-type charset in webdevdata june","msgtype":"m.text"},"ts":1383140381000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and 2359 <link charset>s in total","msgtype":"m.text"},"ts":1383140436000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk, because my class isn't in the restaurant","msgtype":"m.text"},"ts":1383140436000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, and yeah, that's what I ended up with, but I was a little confused by things like... \"for each node in nodes, in tree order, run node is inserted.\"","msgtype":"m.text"},"ts":1383140539000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: DocumentFragment man","msgtype":"m.text"},"ts":1383140564000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1383140568000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"808 if i also log files with no content-type charset","msgtype":"m.text"},"ts":1383140580000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Maybe it'd make more sense to use \"in order\", or so","msgtype":"m.text"},"ts":1383140585000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Soon we're gonna define ShadowRoot...","msgtype":"m.text"},"ts":1383140589000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Since nodes is a list, not a tree","msgtype":"m.text"},"ts":1383140594000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hmm, are they not still in a tree?","msgtype":"m.text"},"ts":1383140619000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Not anymore, at that point","msgtype":"m.text"},"ts":1383140639000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Oh, for inserted, they're in the new tree","msgtype":"m.text"},"ts":1383140671000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"322 if i take <meta charset> into account","msgtype":"m.text"},"ts":1383140921000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: Hixie: SimonSapin: I don't see the point in dropping <link charset> / <?xml-stylesheet charset?> as long as you still inherit from the document","msgtype":"m.text"},"ts":1383141024000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: Hixie: SimonSapin: both are in control of a potential attacker","msgtype":"m.text"},"ts":1383141036000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: Hixie: SimonSapin: so given that, the compatibility risk does not seem worth it","msgtype":"m.text"},"ts":1383141058000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"agreed","msgtype":"m.text"},"ts":1383141074000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1383141075000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the motivation would probably be to simplify things if nobody uses it","msgtype":"m.text"},"ts":1383141100000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I kept it in http://dev.w3.org/csswg/css-syntax/#environment-encoding","msgtype":"m.text"},"ts":1383141105000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"but people seem to use it","msgtype":"m.text"},"ts":1383141117000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: do we have data on that?","msgtype":"m.text"},"ts":1383141132000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"SimonSapin: see above","msgtype":"m.text"},"ts":1383141141000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"next step would be to check if the style sheet actually contains non-ascii, but i'm not sure it's worth the trouble","msgtype":"m.text"},"ts":1383141173000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"SimonSapin: i can dump the data somewhere suitable. was there a bug about specifying <link charset> in html?","msgtype":"m.text"},"ts":1383141212000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"z","msgtype":"m.text"},"ts":1383141267000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"zcorpan: https://www.w3.org/Bugs/Public/show_bug.cgi?id=14703#c20","msgtype":"m.text"},"ts":1383141271000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"not a clean bug :-) i can file a new one though","msgtype":"m.text"},"ts":1383141314000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: told me to post it there, but I can make a new one if it helps","msgtype":"m.text"},"ts":1383141347000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"s/://","msgtype":"m.text"},"ts":1383141354000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"oh, ok then i'll just use that bug","msgtype":"m.text"},"ts":1383141390000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: also http://lists.w3.org/Archives/Public/www-style/2013Oct/0690.html","msgtype":"m.text"},"ts":1383141698000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"SimonSapin: yep","msgtype":"m.text"},"ts":1383141728000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"jgraham: D:","msgtype":"m.text"},"ts":1383141928000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"smaug____: your comment in https://www.w3.org/Bugs/Public/show_bug.cgi?id=23565 makes it seem as if you have not read the bug","msgtype":"m.text"},"ts":1383141995000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: what am I missing?","msgtype":"m.text"},"ts":1383142017000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"commented in the bug","msgtype":"m.text"},"ts":1383142285000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk, I think the argument about undefined==omitted really isn't as strong as some people make it out to be","msgtype":"m.text"},"ts":1383142326000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk: I have read the bug. And undefined !== omitted","msgtype":"m.text"},"ts":1383142390000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Ms2ger: it's now core of the language","msgtype":"m.text"},"ts":1383142396000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, it's not, it's core of what TC39 thinks the language should be","msgtype":"m.text"},"ts":1383142436000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, in practice, it isn't true right now","msgtype":"m.text"},"ts":1383142451000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1383142455000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Ms2ger: unless you change ES6, that's nonsense","msgtype":"m.text"},"ts":1383142459000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, and making it true has costs that may well be bigger than the benefit","msgtype":"m.text"},"ts":1383142495000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: again, unless you change the direction of the language, this is not an argument we need to have here","msgtype":"m.text"},"ts":1383142515000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, changing the direction of the language is fine with me","msgtype":"m.text"},"ts":1383142550000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: so make it so","msgtype":"m.text"},"ts":1383142557000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: meanwhile I'll skate to where the puck is going to be","msgtype":"m.text"},"ts":1383142574000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, but people in TC39 seem to be so stubborn about it that it's not worth my time","msgtype":"m.text"},"ts":1383142598000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, and backcompat in the DOM seems to be ignored","msgtype":"m.text"},"ts":1383142625000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: have you ever engaged with them?","msgtype":"m.text"},"ts":1383142629000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: just arguing with me on the sidelines is not going to do you much good and kind of feels like a waste of time for both of us","msgtype":"m.text"},"ts":1383142652000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, you introduced a bug in dom","msgtype":"m.text"},"ts":1383142686000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, who else should I argue with?","msgtype":"m.text"},"ts":1383142692000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: you're an editor too. Fix the bug :p","msgtype":"m.text"},"ts":1383142736000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"annevk, and do you think that arguing with tc39 about this is not a waste of time?","msgtype":"m.text"},"ts":1383142738000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: well, I think you're wrong and I think it makes sense to strive towards undefined and omitted being equal","msgtype":"m.text"},"ts":1383142764000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, perhaps in general","msgtype":"m.text"},"ts":1383142801000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, but in actual APIs, it seems to turn out to be developer-hostile or not web compatible","msgtype":"m.text"},"ts":1383142827000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, case in point, classList.toggle","msgtype":"m.text"},"ts":1383142846000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: that bug is not about classList.toggle","msgtype":"m.text"},"ts":1383142861000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, sure, so that makes two cases where undefined==omitted leads to a dev-hostile API","msgtype":"m.text"},"ts":1383142892000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"What exactly is dev-hostile?","msgtype":"m.text"},"ts":1383142904000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cloneNode() not doing a deep clone is dev-hostile","msgtype":"m.text"},"ts":1383142926000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"toggle(\"foo\", bar) working right iff bar is not undefined is dev-hostile","msgtype":"m.text"},"ts":1383142941000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"cloneNode() not being equal to cloneNode(undefined) is more dev-hostile imo, especially longer term.","msgtype":"m.text"},"ts":1383142953000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1383142969000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Because it would be inconsistent with all other APIs","msgtype":"m.text"},"ts":1383142985000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not convinced it's *more* dev-hostile","msgtype":"m.text"},"ts":1383142986000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"So you cannot simply pass arguments through to a cloneNode() invocation. You have to special case undefined.","msgtype":"m.text"},"ts":1383143012000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The simply \"pass through arguments\" point is, to use one of the words you seem to like a lot, nonsense","msgtype":"m.text"},"ts":1383143042000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"That's what ... is for","msgtype":"m.text"},"ts":1383143048000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I don't see how ... would work in an API that takes an object as argument and you just want to pass one of that object's properties to cloneNode()","msgtype":"m.text"},"ts":1383143103000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That's not \"simply pass through arguments\", though","msgtype":"m.text"},"ts":1383143132000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Yes it is","msgtype":"m.text"},"ts":1383143137000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Anyway, s/arguments/parameters/ if that makes it easier","msgtype":"m.text"},"ts":1383143167000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I fully agree that cloneNode(something that happens to be undefined) should do a deep clone","msgtype":"m.text"},"ts":1383143188000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"But we can't do that","msgtype":"m.text"},"ts":1383143194000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Yay webcompat","msgtype":"m.text"},"ts":1383143205000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"But making cloneNode() not do a deep clone is throwing the baby out with the bathwater, IMO","msgtype":"m.text"},"ts":1383143226000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"As bz said, it's the tail wagging the dog","msgtype":"m.text"},"ts":1383143263000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"oh, cloneNode(undefined) should definitely not do deep clone","msgtype":"m.text"},"ts":1383143270000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I'm going back to doing something useful","msgtype":"m.text"},"ts":1383143297000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1383143302000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"lunch time","msgtype":"m.text"},"ts":1383143318000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Agreed to fix it as Gecko is going to implement it, then?","msgtype":"m.text"},"ts":1383143325000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Interestingly, the only hits on Google for sobbenbunker are brucel's","msgtype":"m.text"},"ts":1383144383000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"This is so fucked: https://rniwa.com/2013-10-29/web-compatibility-story-of-scrolltop-and-scrollleft/","msgtype":"m.text"},"ts":1383145361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Where did zcorpan go?","msgtype":"m.text"},"ts":1383145493000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder how https://www.w3.org/Bugs/Public/show_bug.cgi?id=20976#c11 is relevant.","msgtype":"m.text"},"ts":1383145497000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Never mind.","msgtype":"m.text"},"ts":1383145548000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic_: should there be some kind of convenience callback for promises when they complete? E.g. rather than .then(a,a) have .complete(a) or some such?","msgtype":"m.text"},"ts":1383147002000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: you mean like .then(a)?","msgtype":"m.text"},"ts":1383147020000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: so if you have cleanup code you don't do the mistaken thing of .then(a)","msgtype":"m.text"},"ts":1383147020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh you mean .finally(a)","msgtype":"m.text"},"ts":1383147033000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: that's invoked for the failure case too?","msgtype":"m.text"},"ts":1383147033000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic_: ah right, finally","msgtype":"m.text"},"ts":1383147039000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes i really want .finally","msgtype":"m.text"},"ts":1383147041000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"not sure if there's political will for it, we tried earlier and decided not to rock the boat too much","msgtype":"m.text"},"ts":1383147056000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"might be worth trying again?","msgtype":"m.text"},"ts":1383147061000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: let's wait until we have two stable browsers shipping promises","msgtype":"m.text"},"ts":1383147075000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic_: and maybe some tests?","msgtype":"m.text"},"ts":1383147079000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah seems good.","msgtype":"m.text"},"ts":1383147082000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Tests are good","msgtype":"m.text"},"ts":1383147098000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"we have lots of tests for the hardest part of the API, but only for one of the sugar methods.","msgtype":"m.text"},"ts":1383147166000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"also want to convert to test-262 form","msgtype":"m.text"},"ts":1383147172000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: for streams; is there an issue of notifying the reader of the writer having stopped writing to the stream because an error of sorts occurred?","msgtype":"m.text"},"ts":1383147910000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic_: for connection dropping, timeout, etc.","msgtype":"m.text"},"ts":1383147952000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: re https://www.w3.org/Bugs/Public/show_bug.cgi?id=20976#c8 the components work seems to be creating some unwelcome side effects","msgtype":"m.text"},"ts":1383148546000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the xml:base-under-another-name things","msgtype":"m.text"},"ts":1383148555000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in that specific case","msgtype":"m.text"},"ts":1383148572000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: if Chrome implements it correctly it might be okay, but xml:base has always been fraught with bugs","msgtype":"m.text"},"ts":1383148606000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no opinions on how ports should work, huh","msgtype":"m.text"},"ts":1383149756000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1383150083000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"Hixie: I'm having a hard time with GC vs memory","msgtype":"m.text"},"ts":1383152900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hm?","msgtype":"m.text"},"ts":1383153539000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: yeah that's generally handled by pipe, but, yeah, error notification is tricky, worth opening an issue for tracking.","msgtype":"m.text"},"ts":1383157072000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Is anyone planning to (or already) implement this quota API?  https://dvcs.w3.org/hg/quota/raw-file/tip/Overview.html","msgtype":"m.text"},"ts":1383158227000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"Hixie: yt? I've got a MessageChannel/MessagePort question","msgtype":"m.text"},"ts":1383158454000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"shoot","msgtype":"m.text"},"ts":1383158460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is actually deeply in MessagePort right now","msgtype":"m.emote"},"ts":1383158470000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: see the attachment on https://code.google.com/p/chromium/issues/detail?id=312962","msgtype":"m.text"},"ts":1383158490000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"marcosc: i don't understand why it's necessary, fwiw","msgtype":"m.text"},"ts":1383158497000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"basically I clone a port via postMessage","msgtype":"m.text"},"ts":1383158505000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"then transfer it again","msgtype":"m.text"},"ts":1383158510000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"neither Chrome nor Safari throw, even though I'm transferring the \"target\" port","msgtype":"m.text"},"ts":1383158522000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"I expect what ends up happening is the message (and the transferred port) end up in limbo, since the cloning process neuters the MessagePort that was expected to receive the message","msgtype":"m.text"},"ts":1383158558000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"uh yeah, shouldn't that throw?","msgtype":"m.text"},"ts":1383158588000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, I'm thinking the same thing... but was not sure if maybe someone was implementing it.","msgtype":"m.text"},"ts":1383158598000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"aklein: nobody could ever _want_ to write that though right?","msgtype":"m.text"},"ts":1383158605000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the trick is that in a multi-thread, multi-process architecture it's hard to synchronously answer the question \"what's the remote end of this port\"","msgtype":"m.text"},"ts":1383158608000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"Hixie: right, it's a stupid thing to do","msgtype":"m.text"},"ts":1383158616000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"yeah, i could see it'd be hard to tell","msgtype":"m.text"},"ts":1383158624000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm wondering if we can relax the spec to not throw there","msgtype":"m.text"},"ts":1383158640000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"but I can admit that it seems nice to tell the author they've done something stupid","msgtype":"m.text"},"ts":1383158666000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"aklein: so you're saying \"If any of the objects in transfer are either the source port or the target port (if any), then throw a DataCloneError exception and abort these steps\" should be changed?","msgtype":"m.text"},"ts":1383158696000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or rather, it should only check for source port","msgtype":"m.text"},"ts":1383158709000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: that's the line I'm asking about, yeah. source port (should) be easy enough to check","msgtype":"m.text"},"ts":1383158719000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"we can have an async requirement later that says \"if it's the target port, abort, and optinally notify the author in the console\"","msgtype":"m.text"},"ts":1383158729000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Chrome can check the target port only in a really simple case","msgtype":"m.text"},"ts":1383158729000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"Hixie: that sounds much more implementable","msgtype":"m.text"},"ts":1383158741000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"Domenic_: done","msgtype":"m.text"},"ts":1383158759000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"haven't tried IE yet to see what it does","msgtype":"m.text"},"ts":1383158759000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"aklein: can you file a bug on me to do that? http://whatwg.org/newbug","msgtype":"m.text"},"ts":1383158774000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aklein: while i have you here and thinking about ports, any opinion on http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Oct/0362.html ?","msgtype":"m.text"},"ts":1383158802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: heh, I'll take a look, but I only ended up here due to a memory leak","msgtype":"m.text"},"ts":1383158823000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"will file a spec bug","msgtype":"m.text"},"ts":1383158826000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"aklein: heh","msgtype":"m.text"},"ts":1383158836000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(after lunch, apparently)","msgtype":"m.text"},"ts":1383158839000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"aklein: i only ended up here due to trying to define how scripts execute","msgtype":"m.text"},"ts":1383158849000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ha","msgtype":"m.text"},"ts":1383158853000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"funny how many things end up at message ports :-P","msgtype":"m.text"},"ts":1383158856000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wtf, does firefox not support MessageChannel?","msgtype":"m.text"},"ts":1383159137000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"even IE supports MessageChannel","msgtype":"m.text"},"ts":1383159166000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"speaking of which... any IE10 or IE11 people able to get me the results of running http://www.hixie.ch/tests/adhoc/dom/web-apps/postMessage/ports/001.html and http://www.hixie.ch/tests/adhoc/dom/web-apps/postMessage/ports/002.html ?","msgtype":"m.text"},"ts":1383159187000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: https://bugzilla.mozilla.org/show_bug.cgi?id=911972","msgtype":"m.text"},"ts":1383159337000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: will run in IE10 in a bit","msgtype":"m.text"},"ts":1383161039000,"senderName":"annevk_","senderId":"annevk_@irc"},
{"content":{"body":"Hixie: 001: did not receive, 002: received","msgtype":"m.text"},"ts":1383161117000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=23685, reading that thread now","msgtype":"m.text"},"ts":1383161306000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"Hixie: I probably don't know enough about history in Chromium to answer that thread well, but (C) sounds the best to me.","msgtype":"m.text"},"ts":1383161433000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"rafaelw: have you discussed with wycats what needs to happen for microtasks btw?","msgtype":"m.text"},"ts":1383161535000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rafaelw: Hixie is apparently blocking on you guys","msgtype":"m.text"},"ts":1383161546000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think the discuss needs input from others.","msgtype":"m.text"},"ts":1383161935000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"I don't see Yehuda or I convincing each other.","msgtype":"m.text"},"ts":1383161955000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"s/discuss/discussion","msgtype":"m.text"},"ts":1383161971000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"Although this reminds me that Polymer hit an issue that was apropos. I'll go add info about that to the bug.","msgtype":"m.text"},"ts":1383162018000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"annevk: thanks.","msgtype":"m.text"},"ts":1383162752000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: indeed!","msgtype":"m.text"},"ts":1383162784000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"aklein: looks like chrome and IE make the port get owned by the Window that received it, and so don't deliver if that frame gets navigated away","msgtype":"m.text"},"ts":1383162809000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which isn't intuitive to me as an author, but i understand why it happens","msgtype":"m.text"},"ts":1383162823000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i wonder if mpeg la will just remove the upper cap in the future to avoid the loop hole","msgtype":"m.text"},"ts":1383164758000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the blockage on microtasks is about what to do when a microtask spins the event loop, right?","msgtype":"m.text"},"ts":1383165220000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"i tried to remove the HTML tokenizer dependency","msgtype":"m.text"},"ts":1383165233000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"no it's about different microtasks sources being interleaved or separate","msgtype":"m.text"},"ts":1383165239000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1383165244000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"just FIFO","msgtype":"m.text"},"ts":1383165246000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"everything else is insane","msgtype":"m.text"},"ts":1383165248000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"yes, microtasks should be fifo","msgtype":"m.text"},"ts":1383167332000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"make that FIFO, make the parser not spin the event loop, make sync XHR + window.showModalDialog() throw an exception when called from a microtask. done","msgtype":"m.text"},"ts":1383167612000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"\"make the parser not spin the event loop\"?","msgtype":"m.text"},"ts":1383167758000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: right now 12.2.5.4.8 The \"text\" insertion mode has a step that invokes the spin the event loop algorithm","msgtype":"m.text"},"ts":1383167844000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"if you managed to call that from within a microtask, you'd have a bad time","msgtype":"m.text"},"ts":1383167851000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"i know, there's a bug about it","msgtype":"m.text"},"ts":1383167866000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you can't just not spin the event loop though","msgtype":"m.text"},"ts":1383167879000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i don't think the behavior of that algorithm is observably different from an algorithm that doesn't invoke the spin the event loop","msgtype":"m.text"},"ts":1383167881000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"i mean, the alternative is to hang...","msgtype":"m.text"},"ts":1383167882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think you can","msgtype":"m.text"},"ts":1383167884000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"nah","msgtype":"m.text"},"ts":1383167885000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"you can just refactor it. i send a proposal to whatwg a month ago, you replied, and i haven't had a chance to respond yet","msgtype":"m.text"},"ts":1383167901000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"we don't actually spin the event loop in blink","msgtype":"m.text"},"ts":1383167907000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"i doubt any browser really does","msgtype":"m.text"},"ts":1383167917000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"if you don't return to the event loop, the event loop doesn't pump, so you can't do anything that requires the event loop","msgtype":"m.text"},"ts":1383167919000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since the parser is waiting for hte event loop to pump something...","msgtype":"m.text"},"ts":1383167935000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you just return","msgtype":"m.text"},"ts":1383167951000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"(https://www.w3.org/Bugs/Public/show_bug.cgi?id=20821)","msgtype":"m.text"},"ts":1383167954000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"returning is what spinning the event loop is","msgtype":"m.text"},"ts":1383167960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"spin the event loop\" is just \"remember where you are, return, and then when the condition is met, queue a task to resume\"","msgtype":"m.text"},"ts":1383167991000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm, well couldn't you just return to running microtasks?","msgtype":"m.text"},"ts":1383168219000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"sure, the parser isn't a problem here","msgtype":"m.text"},"ts":1383168278000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's showModalDialog() that's the probelm","msgtype":"m.text"},"ts":1383168286000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"problem","msgtype":"m.text"},"ts":1383168287000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and document.close()","msgtype":"m.text"},"ts":1383168292000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well, actually, i guess the parser is too","msgtype":"m.text"},"ts":1383168320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the problem is that the spec says to suspend the current task","msgtype":"m.text"},"ts":1383168327000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and there's no task running in a micortask","msgtype":"m.text"},"ts":1383168334000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"microtask","msgtype":"m.text"},"ts":1383168335000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, but you don't need to suspend the current task","msgtype":"m.text"},"ts":1383168354000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"since there's nothing to keep track of. once you hit the step in the algorithm that would spin the event loop you can just run the rest of the steps asynchronously","msgtype":"m.text"},"ts":1383168379000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"there's no context to return to","msgtype":"m.text"},"ts":1383168381000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"there is in showModalDialog()","msgtype":"m.text"},"ts":1383168390000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right. that should throw if called in a microtask","msgtype":"m.text"},"ts":1383168398000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"i proposed that, people didn't like it","msgtype":"m.text"},"ts":1383168424000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"see e.g. https://www.w3.org/Bugs/Public/show_bug.cgi?id=20821#c3 #c4 and #c5","msgtype":"m.text"},"ts":1383168452000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hrm","msgtype":"m.text"},"ts":1383168506000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"well, i suppose if folks feel that having showModalDialog work in microtasks is important they can propose a way to make it work","msgtype":"m.text"},"ts":1383168541000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"i proposed a way to do that too (see the end of that bug)","msgtype":"m.text"},"ts":1383168581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's just waiting on dom to be edited, but anne wants something else to be resolved first","msgtype":"m.text"},"ts":1383168596000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not sure what that is exactly, but it's in https://www.w3.org/Bugs/Public/show_bug.cgi?id=22296","msgtype":"m.text"},"ts":1383168615000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wishes showModalDialog would just die a painful death","msgtype":"m.emote"},"ts":1383169427000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"we could make it die quicker by making it throw here","msgtype":"m.text"},"ts":1383169450000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"does anyone know how much it's used? Event-loop spinning is terrible for both authors and implementors","msgtype":"m.text"},"ts":1383169451000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i don't think it's used much on the open web","msgtype":"m.text"},"ts":1383169478000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"more so probably in intranets and obscure web apps","msgtype":"m.text"},"ts":1383169488000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(in https://www.w3.org/Bugs/Public/show_bug.cgi?id=20821#c3 you argued it shouldn't throw, fwiw)","msgtype":"m.text"},"ts":1383169495000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think we implemented it because it was used on some yahoo property","msgtype":"m.text"},"ts":1383169508000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i know the chrome guys keep trying to kill it","msgtype":"m.text"},"ts":1383169531000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so if you want some support, you can definitely find it there :-)","msgtype":"m.text"},"ts":1383169545000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"support in a quest to kill it, i mean","msgtype":"m.text"},"ts":1383169554000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: got any names?","msgtype":"m.text"},"ts":1383169650000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"jamesr__ (see above), aklein, abarth...","msgtype":"m.text"},"ts":1383169663000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"SHOW MODAL DIALOG","msgtype":"m.text"},"ts":1383169714000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"that thing is a disaster","msgtype":"m.text"},"ts":1383169725000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"abarth: does chrome do warnings for deprecated APIs?","msgtype":"m.text"},"ts":1383169769000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"abarth: i.e. would you guys be willing to add a warning anytime its used and gather stats on how often that is?","msgtype":"m.text"},"ts":1383169793000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1383169802000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"great, i bet we could do that too. I'll email","msgtype":"m.text"},"ts":1383169813000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"I'll add it right now","msgtype":"m.text"},"ts":1383169841000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"yay!","msgtype":"m.text"},"ts":1383169857000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"abarth: will happily lgtm such a usecounter","msgtype":"m.text"},"ts":1383169869000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"Hixie: does the new <dialog> still support modal (as in sync and event-loop-spinning) APIs?","msgtype":"m.text"},"ts":1383169902000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: see how eager they are? i'm telling you, they hate it ;-)","msgtype":"m.text"},"ts":1383169905000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sicking: no","msgtype":"m.text"},"ts":1383169912000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: great","msgtype":"m.text"},"ts":1383169917000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: you call showModal() and it returns right away","msgtype":"m.text"},"ts":1383169936000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sicking: I thought the issue with showModalDialog was OutlookWebAccess uses it.","msgtype":"m.text"},"ts":1383169941000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"nice","msgtype":"m.text"},"ts":1383169943000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: if it takes long enough for <dialog> to get figured out, it might get updated to return a promise","msgtype":"m.text"},"ts":1383169954000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sicking: for now it fires an event on the <dialog> when closed","msgtype":"m.text"},"ts":1383169960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"every now and then we try to kill it and find another page that depends on it that we can't break","msgtype":"m.text"},"ts":1383170050000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"but it's worth trying again","msgtype":"m.text"},"ts":1383170054000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"adding warnings first tends to be a good way to give it a declining usage rate","msgtype":"m.text"},"ts":1383170116000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"rather than an increasing one \"because it's there\"","msgtype":"m.text"},"ts":1383170129000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"killing it at this point is likely too early, but it's not too early to start driving down adoption","msgtype":"m.text"},"ts":1383170148000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"we only barely support it","msgtype":"m.text"},"ts":1383170185000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"it was a pretty late addition for us. I'm sad that we didn't resist harder.","msgtype":"m.text"},"ts":1383170328000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i see 65 showModalDialogs in http://webdevdata.org june data set (no external scripts)","msgtype":"m.text"},"ts":1383170465000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"sicking: does warnings work for decreasing usage?","msgtype":"m.text"},"ts":1383170660000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"sicking: absolute usage, that is?","msgtype":"m.text"},"ts":1383170732000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: i don't actually have hard data. But I don't know if we're measuring it anywhere. What I do know is that we've received relatively little complaints about removing APIs once we've been warning about them for a while. Much more complaints when we remove APIs without warning first. But that could be a conicidence.","msgtype":"m.text"},"ts":1383170749000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: is there a list of things you are warning about or have warned about, with start-end dates?","msgtype":"m.text"},"ts":1383171040000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: see this file and its history: http://mxr.mozilla.org/mozilla-central/source/content/base/public/nsDeprecatedOperationList.h","msgtype":"m.text"},"ts":1383171165000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: thx","msgtype":"m.text"},"ts":1383171205000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: warning text here: http://mxr.mozilla.org/mozilla-central/source/dom/locales/en-US/chrome/dom/dom.properties#47","msgtype":"m.text"},"ts":1383171290000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"mutation events seems like a suitable thing to check for","msgtype":"m.text"},"ts":1383171796000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"although that sort of thing is likely to be in external scripts maybe","msgtype":"m.text"},"ts":1383171908000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"seems like we're already warning, no?","msgtype":"m.text"},"ts":1383171982000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"yes. i mean check the usage of it and see if it has changed over time","msgtype":"m.text"},"ts":1383172089000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"97 showModalDialogs in webdevdata's september data set (102,000 pages). so ~0.1% use showModalDialog in inline scripts","msgtype":"m.text"},"ts":1383172356000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"I ... I may have used showModalDialog ... don't hurt me ... https://github.com/NobleJS/setImmediate/blob/master/qUnitTest/tests.js#L80-L96","msgtype":"m.text"},"ts":1383172555000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"that's a silly test","msgtype":"m.text"},"ts":1383173528000,"senderName":"jamesr__","senderId":"jamesr__@irc"},
{"content":{"body":"nah, it failed before i added some interesting code","msgtype":"m.text"},"ts":1383173556000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"sicking: march 2012, 0 instances of mutation events (small dataset though, i'm downloading the bigger december 2012 dataset now). september 2013, 86 instances out of 102,000 pages","msgtype":"m.text"},"ts":1383174011000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: what dataset are you looking at? some set of urls? Or usage statistics from some browser?","msgtype":"m.text"},"ts":1383174054000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: http://webdevdata.org","msgtype":"m.text"},"ts":1383174063000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"that's cool","msgtype":"m.text"},"ts":1383174118000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i don't know if that's an approach that would make me feel comfortable with removing an API implementation though...","msgtype":"m.text"},"ts":1383174158000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i agree","msgtype":"m.text"},"ts":1383174268000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"the bias towards home pages in these public data sets is the biggest problem i've seen with them","msgtype":"m.text"},"ts":1383174314000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"home pages are a different kettle of fish entirely to the majority of web content, in my experience","msgtype":"m.text"},"ts":1383174341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, and lack of external scripts and styles is also a problem","msgtype":"m.text"},"ts":1383174344000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1383174369000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(still, better than nothing)","msgtype":"m.text"},"ts":1383174374000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lack of external scripts and styles was the biggest problem i had doing research at google","msgtype":"m.text"},"ts":1383174393000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i've filed bugs about that but i haven't done any work to fix it, and it appears no one else has either","msgtype":"m.text"},"ts":1383174396000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"(what does \"home pages\" mean, exactly)","msgtype":"m.text"},"ts":1383174470000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"How does CommonCrawl stand up, BTW?","msgtype":"m.text"},"ts":1383174476000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zewt: GET /","msgtype":"m.text"},"ts":1383174487000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"\"home pages\" to me means \"my personal website\" (which seem not that common these days, overall)","msgtype":"m.text"},"ts":1383174537000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"\"the facebook home page\" clearly means www.facebook.com, on the other hadn.","msgtype":"m.text"},"ts":1383174559000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"that's pretty meaningless to me","msgtype":"m.text"},"ts":1383174583000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Shrug, ok.","msgtype":"m.text"},"ts":1383174592000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"most people would probably interpret that as the page you see when logged in (not the login page), which incidentally are both served as \"www.facebook.com\"","msgtype":"m.text"},"ts":1383174628000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"\"home page\" is pretty much industry standard speak for \"/\"","msgtype":"m.text"},"ts":1383174629000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders: how do i use it?","msgtype":"m.text"},"ts":1383174663000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: Practically, you use Elastic MapReduce. The dataset, uncompressed, is over 100TB, so one can't really download it.","msgtype":"m.text"},"ts":1383174727000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"\"XMLHttpRequest Level 1\" :|","msgtype":"m.text"},"ts":1383174914000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"gsnedders: is it free to run searches? i don't even see where to start. i tried creating an account but don't like to continue when it requires my credit card details :-|","msgtype":"m.text"},"ts":1383174958000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"also, amazon account registration fails at handling non-ascii input","msgtype":"m.text"},"ts":1383175009000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: No, you need to have credit for AWS server time","msgtype":"m.text"},"ts":1383175032000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"realizes why he can't ssh into his desktop","msgtype":"m.emote"},"ts":1383175069000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"It's not turned on.","msgtype":"m.text"},"ts":1383175072000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"classic fault with modern computers.","msgtype":"m.text"},"ts":1383175211000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"gsnedders: can i do this sort of thing with Elastic MapReduce? http://www.w3.org/Bugs/Public/show_bug.cgi?id=14703#c21","msgtype":"m.text"},"ts":1383175405000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: You can do anything! Typically with Java, but anything!","msgtype":"m.text"},"ts":1383175512000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zcorpan_: Also doing stuff on the entire dataset is kinda expensive.","msgtype":"m.text"},"ts":1383175527000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: ok, so on the plus side it has deep pages. it doesn't seem to have external styles or scripts. and i'm totally unfamiliar with how to run the searches, and i have to pay for it","msgtype":"m.text"},"ts":1383175830000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"oh bummer, something broke in my bug updating code","msgtype":"m.text"},"ts":1383176067000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"who's going to say it","msgtype":"m.text"},"ts":1383176090000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I tried to report a bug about ti, but...","msgtype":"m.text"},"ts":1383176361000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"i don't understand what's wrong","msgtype":"m.text"},"ts":1383176390000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's complaining about a bad token","msgtype":"m.text"},"ts":1383176415000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but the token is right...","msgtype":"m.text"},"ts":1383176418000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the hell","msgtype":"m.text"},"ts":1383176491000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"TabAtkins: the bug _reporting_ code is actually fine :-P","msgtype":"m.text"},"ts":1383176503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's only the script that updates the bug with the diff that's broken","msgtype":"m.text"},"ts":1383176512000,"senderName":"Hixie","senderId":"Hixie@irc"}
]