[
{"content":{"body":"is Service Worker importScripts(urls) still needed or can the same thing be accomplished with ES6 modules/imports","msgtype":"m.text"},"ts":1499235401000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JakeA: ⬆️","msgtype":"m.text"},"ts":1499235451000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I'm hoping we can replace it with imports. There's some spec work to be done here so we can cache the resulting module tree","msgtype":"m.text"},"ts":1499240389000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"super","msgtype":"m.text"},"ts":1499240414000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Moz folks: https://twitter.com/jaffathecake/status/879626556544618496 — I've asked for evidence here a few times, is there something I'm missing?","msgtype":"m.text"},"ts":1499240467000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Given some of the blog posts etc I've seem from Mozilla I'm worried it's a new strategy","msgtype":"m.text"},"ts":1499240493000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I kinda doubt it's related to that, but I've also got no special insights","msgtype":"m.text"},"ts":1499240992000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: and as far as the new marketing strategy thing, I mostly understood that to be about pushing back a bit since Google advertising Chrome all over Google properties is obviously not helping Firefox","msgtype":"m.text"},"ts":1499241136000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: I hope it takes a constructive form and that that blogpost was just a fluke (it was deleted from the official @firefox account after all), but time will tell","msgtype":"m.text"},"ts":1499241185000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: the negative campaigning makes me sad, but I get it. I'm more worried about the hate-fiction \"here's what Google people are saying…\" stuff","msgtype":"m.text"},"ts":1499241255000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I guess I should just continue to ask for evidence and hope others do the same","msgtype":"m.text"},"ts":1499241304000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: it seems a little disingenuous to go from \"not that I don't believe you\" to \"hate-fiction\"","msgtype":"m.text"},"ts":1499241455000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: time was a factor there. I ask multiple times over multiple days. I assumed it either truthful or a misunderstanding at first, but now (plus other things) I'm worried it's deliberate","msgtype":"m.text"},"ts":1499241570000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"smaug: do you support https://github.com/whatwg/dom/pull/467?","msgtype":"m.text"},"ts":1499248819000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: giving EventTarget a constructor that is","msgtype":"m.text"},"ts":1499248835000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sure, but how do I see the actual proposal","msgtype":"m.text"},"ts":1499248884000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"I guess some pr, but don't know which one","msgtype":"m.text"},"ts":1499248899000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: that's a link to the PR","msgtype":"m.text"},"ts":1499248907000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: each PR in whatwg/dom has Preview and Diff links in the first message","msgtype":"m.text"},"ts":1499248930000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is there some way to see that in more readable  form","msgtype":"m.text"},"ts":1499248931000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"ahaa","msgtype":"m.text"},"ts":1499248941000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"now I need to find the Preview link :)","msgtype":"m.text"},"ts":1499248949000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: bottom of the first message","msgtype":"m.text"},"ts":1499248958000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so there is no parent links here?","msgtype":"m.text"},"ts":1499249031000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"do we think EventTarget will be used without parent links?","msgtype":"m.text"},"ts":1499249040000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: folks could use it for XMLHttpRequest or WebSocket-like classes","msgtype":"m.text"},"ts":1499249074000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is that something people need?","msgtype":"m.text"},"ts":1499249084000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: given that Node.js ended up inventing its own eventing system, I'd think so","msgtype":"m.text"},"ts":1499249116000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and they don't have event target chain?","msgtype":"m.text"},"ts":1499249133000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: I don't think so, given https://nodejs.org/api/events.html","msgtype":"m.text"},"ts":1499249199000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: note that we could add a parent chain feature later","msgtype":"m.text"},"ts":1499249209000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: this is just the most minimal thing we can do","msgtype":"m.text"},"ts":1499249232000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just wondering if we are adding something no one will use","msgtype":"m.text"},"ts":1499249255000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"(we have too many such features in the platform)","msgtype":"m.text"},"ts":1499249268000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"That event libraries exist make me somewhat hopeful, but it's always a risk of course","msgtype":"m.text"},"ts":1499249503000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: there is also the thing that if script libraries implement their own event target object, they can keep all processing in JS and possibly performance is better","msgtype":"m.text"},"ts":1499249653000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: that's something we should really try to solve over time, performance cliffs when you touch browser-implemented libraries is a problem","msgtype":"m.text"},"ts":1499249711000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: but it seems similar to suggesting folks should use JavaScript to animate because CSS animation isn't optimized, or some such","msgtype":"m.text"},"ts":1499249748000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: not great long term advice","msgtype":"m.text"},"ts":1499249760000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not really similar","msgtype":"m.text"},"ts":1499249764000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"native side and JS side really both have their advantages","msgtype":"m.text"},"ts":1499249777000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"say, doing anything which touches lots of nodes in JS is slow, since it guarantees the wrappers must be created","msgtype":"m.text"},"ts":1499249827000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"so native helper methods are good for that kind of case","msgtype":"m.text"},"ts":1499249841000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"(my current guess is that servo will need to change their DOM implementation to be more like in other browsers to not create wrappers since beginning)","msgtype":"m.text"},"ts":1499249891000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"hmm, in general, should we think of how to make the platform faster","msgtype":"m.text"},"ts":1499251073000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"like create such APIs that if script libraries were using those, it would more likely that web pages would be less janky or load faster","msgtype":"m.text"},"ts":1499251127000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"so far it has been more like ad-hoc approach","msgtype":"m.text"},"ts":1499251150000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"isn’t that what the webperf group is supposed to be focused on","msgtype":"m.text"},"ts":1499251176000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"smaug: could you comment in https://github.com/whatwg/dom/issues/414 about event creation?","msgtype":"m.text"},"ts":1499251225000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: they seem to focus on measurements","msgtype":"m.text"},"ts":1499251262000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"yeah I guess so","msgtype":"m.text"},"ts":1499251304000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"HTML no longer links to legacy bugs?","msgtype":"m.text"},"ts":1499257494000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: fwiw I've wanted to have an extendable EventTarget in my own projects, and have used libraries since I couldn't use the browser's.","msgtype":"m.text"},"ts":1499258228000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I haven't needed bubbling","msgtype":"m.text"},"ts":1499258239000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I might not need it as much in a web components world, since I get it for free","msgtype":"m.text"},"ts":1499258279000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: have you had parent chain with these event target like objects?","msgtype":"m.text"},"ts":1499258337000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: if you mean capturing/bubbling, no, I haven't needed it","msgtype":"m.text"},"ts":1499258377000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"aha, I thought you just didn't need bubble phase","msgtype":"m.text"},"ts":1499258394000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"but ok, no propagation","msgtype":"m.text"},"ts":1499258401000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"yeah, sorry. I mean I haven't needed the chain","msgtype":"m.text"},"ts":1499258419000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: to your question to \"moz folks\" above... i think we've had these concerns for a while... its not google saying \"ignore best practices\", but instead signal boosting anything related to PWA with other web best practices relegated to a footnote or ignored completely... classic example I can think of is flipkart (which obviously I was concerned about long before we had a billboard)","msgtype":"m.text"},"ts":1499262479000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"flipkart worked out in the end... but it easily could have gone sideways","msgtype":"m.text"},"ts":1499262506000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: in terms of it being Chrome only?","msgtype":"m.text"},"ts":1499262566000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"(my memory is foggy here, was it Chrome only?)","msgtype":"m.text"},"ts":1499262601000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I took an animated gif of what it did at the time here: https://blog.wanderview.com/blog/2016/06/10/flipkart-google-and-the-web/","msgtype":"m.text"},"ts":1499262675000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I don't really want to re-litigate that","msgtype":"m.text"},"ts":1499262684000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I only mention it in response to the question \"is this a new sinister messaging plot from mozilla\"","msgtype":"m.text"},"ts":1499262700000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"if anything, mozilla is a cacophony of voices and coherent messaging is one of the things we don't know how to do at all","msgtype":"m.text"},"ts":1499262765000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: that's fair. I agree that Flipkart at the time was a poor example of the P in PWA, but I hope we never suggested that their initial shrugging of Firefox was a good (or ok) thing","msgtype":"m.text"},"ts":1499262828000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I guess that might have seemed implicit by singing Flipkart's praises.","msgtype":"m.text"},"ts":1499262863000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: google boosted it as a good example... never said that practice was bad in a public place... what is the implication to random people reading about it?","msgtype":"m.text"},"ts":1499262867000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"yea","msgtype":"m.text"},"ts":1499262875000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Back then, PWA examples were thin on the ground, but I take your point","msgtype":"m.text"},"ts":1499262898000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: anyway, I don't see that happening as much lately... but I'm not keyed into other web practices that might be getting less coverage like accessibility","msgtype":"m.text"},"ts":1499262903000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I do recall accessibility being on topic at PWA Summit last year, though","msgtype":"m.text"},"ts":1499262920000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I think I publicly said it wasn't progressive (and complained about the lack of server rendering)","msgtype":"m.text"},"ts":1499262925000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: but I think its more from this kind of thing that people are concerned","msgtype":"m.text"},"ts":1499262932000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: sure, and that was appreciated... but a tweet is poorly balanced against glossy copy on a google.com domain","msgtype":"m.text"},"ts":1499263002000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"That's fair","msgtype":"m.text"},"ts":1499263085000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: obviously google can't always be saying \"PWA's are awesome, but let me talk for an hour about all the other web stuff you should also be doing\"... so I see why things have been done the way they have and I don't think it was sinister in any way... but I also just understand why some people are concerned","msgtype":"m.text"},"ts":1499263283000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"sees both sides and has no solutions.","msgtype":"m.emote"},"ts":1499263305000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"is useless.","msgtype":"m.emote"},"ts":1499263309000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I think things like you the slide you linked above in your tweet are good","msgtype":"m.text"},"ts":1499263343000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"including accessibility topics in summits is good","msgtype":"m.text"},"ts":1499263355000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"and on balance \"PWA\" has been good","msgtype":"m.text"},"ts":1499263378000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I'm also concerned about the lack of P in many PWAs. But yeah, we need to increase the volume on PWA != SPA","msgtype":"m.text"},"ts":1499263388000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I agreed with a lot of Jeremy's post: https://adactio.com/journal/12461","msgtype":"m.text"},"ts":1499263487000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Same","msgtype":"m.text"},"ts":1499263691000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: Given you are a Googler, what is your opinion on the Houdini stuff?","msgtype":"m.text"},"ts":1499264480000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"If you have any, that is.","msgtype":"m.text"},"ts":1499264651000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: It's sometimes difficult to figure out what's part of it and what isn't. The typed OM for CSS is much needed, especially now we have things like DOMMatrix. I'm not hugely excited about a paint worklet, but I might be lacking imagination. I'm very excited about an animation worklet, for running animations on the compositor thread and linking them to things like scrolling. I'm fascinated about what custom layout will allow.","msgtype":"m.text"},"ts":1499264661000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: What I had in mind was custom paint etc,","msgtype":"m.text"},"ts":1499264677000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"things that pcwalton doesn't like, based on knowledge I don't possess.","msgtype":"m.text"},"ts":1499264688000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"But I haven't read any of the specs in detail, so I'm only commenting on vague details","msgtype":"m.text"},"ts":1499264699000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Ok.","msgtype":"m.text"},"ts":1499264705000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Didn't pcwalton mention compositor could maybe be merged with some other layer, maybe paint?","msgtype":"m.text"},"ts":1499264787000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: I didn't know that pcwalton wasn't keen on it. I imagine him having more to say about the compositor & layout stuff than paint","msgtype":"m.text"},"ts":1499264789000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Oh yes.","msgtype":"m.text"},"ts":1499264805000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JakeA: My knowledge is so limited I still have troubles distinguishing all these parts from each other. :D","msgtype":"m.text"},"ts":1499264821000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Same!","msgtype":"m.text"},"ts":1499264826000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"\"The solutions that the Chrome team keeps proposing—Custom Layout, Custom Paint, CSS Compositing, etc. are all targeted toward rendering (and they're essentially short-term band-aids at that). If rendering really weren't a problem, then we wouldn't be spending all this time on Google's Houdini proposals! If layout were fast, we wouldn't see people","msgtype":"m.text"},"ts":1499264860000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"implementing layouts in JS, and therefore we wouldn't need Custom Layout. If painting were fast, then we could use SVG and CSS and not feel like Custom Paint is necessary. If the main thread weren't so bogged down all the time, then people wouldn't see the need to move a random subset of the Web platform to the compositor thread.\"","msgtype":"m.text"},"ts":1499264861000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"is the piece I had in mind.","msgtype":"m.text"},"ts":1499264865000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"https://news.ycombinator.com/item?id=14427494","msgtype":"m.text"},"ts":1499264883000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I disagree in regards to layout. In an ideal world we should have been able to polyfill grid before browser support landed.","msgtype":"m.text"},"ts":1499264999000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"For me, it's about being able to add features in a fast way, rather than taking an existing feature and making it faster.","msgtype":"m.text"},"ts":1499265043000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: Isn't his point that if things were fast enough, they could be polyfilled without custom layout?","msgtype":"m.text"},"ts":1499265065000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: Wouldn't that involve implementing layouts in JS? Whereas he suggested it was performance (not features) that caused people to do that","msgtype":"m.text"},"ts":1499265117000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"AFAIU his comment, he is saying people are pushing for custom layout because implementing layout in JS is too slow, because of architectural issues in general in the major browsers.","msgtype":"m.text"},"ts":1499265160000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Oh I misread that indeed.","msgtype":"m.text"},"ts":1499265177000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JakeA: Later he agrees with you I think. \"That's fair. I don't have an issue with Houdini if it's actually used to create custom layouts that you can't reasonably do in CSS.\"","msgtype":"m.text"},"ts":1499265213000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Houdini is mostly JS APIs, though. So surely it would involve implementing layouts in JS whatever you do?","msgtype":"m.text"},"ts":1499265263000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ahh, fair enough. I agree with that bit. I'm interested in a world were layout performance isn't an issue, but I'd need to see it to believe it :D","msgtype":"m.text"},"ts":1499265267000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"gsnedders: I think the plan is to spin up light weight worklets in multiple threads","msgtype":"m.text"},"ts":1499265295000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I take pcwalton's comment as \"SERVO GOT 99 ISSUES, BUT FAST LAYOUT AIN'T NONE\"","msgtype":"m.text"},"ts":1499265320000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1499265322000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"haha","msgtype":"m.text"},"ts":1499265337000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I guess I should try and get a build working on a phone and throw some width/height animations at it","msgtype":"m.text"},"ts":1499265354000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"2,169 (known) issues, to be correct.","msgtype":"m.text"},"ts":1499265360000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I doubt it'll be a non-issue (especially now there's the 120 Hz push from Apple and the eventual 240 Hz push for VR), but I do believe Servo shows we can do much better","msgtype":"m.text"},"ts":1499265361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in fairness, servo's parallel layout is incomplete and more of a proof-of-concept","msgtype":"m.text"},"ts":1499265365000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: It's not *that* incomplete.","msgtype":"m.text"},"ts":1499265377000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I'm fighting for moving clip-path to the compositor, as \"reveal\" animations seem to be our sticking point right now","msgtype":"m.text"},"ts":1499265390000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"nox: pcwalton said it basically needed to be redone","msgtype":"m.text"},"ts":1499265394000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: WR 42 could exist that Patrick would say it needs to be redone, IMHO. :P","msgtype":"m.text"},"ts":1499265414000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: current architecture doesn't scale well or some such","msgtype":"m.text"},"ts":1499265432000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: not sure what WR 42 is","msgtype":"m.text"},"ts":1499265438000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh ok.","msgtype":"m.text"},"ts":1499265439000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: WebRender 42.","msgtype":"m.text"},"ts":1499265444000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I'm just saying Patrick and Glenn seems to be rewriting it every 6 months. :)","msgtype":"m.text"},"ts":1499265457000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: WebRender isn't parallel layout though","msgtype":"m.text"},"ts":1499265459000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: WR is post-layout","msgtype":"m.text"},"ts":1499265475000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Cf. what I said earlier about not distinguishing them parts.","msgtype":"m.text"},"ts":1499265478000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: You are right.","msgtype":"m.text"},"ts":1499265480000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: parallel layout is box creation and such","msgtype":"m.text"},"ts":1499265485000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Layout is the crate that scares me just as much as WR so I can't distinguish them in my mind. ( ._.)","msgtype":"m.text"},"ts":1499265500000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"hah","msgtype":"m.text"},"ts":1499265508000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: tbf, AIUI some of the objections to it are the fact that some of the perf bottlenecks used to justify Houdini are essentially \"this isn't in the compositor\" when Servo shows you can do them in the compositor","msgtype":"m.text"},"ts":1499265786000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: The HTML spec is complaining at me using <code> (because there's no dfn), but I'm using it for things like byte-sequences. What's the workaround?","msgtype":"m.text"},"ts":1499265851000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: <code data-x=\"\">...</code>","msgtype":"m.text"},"ts":1499265869000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\\o/ cheers","msgtype":"m.text"},"ts":1499265878000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"When I tried Servo it was super-slow, so I was not impressed by the claims of servo showing we can do better... Planning to re-judge when someone shouts from the Twitters that there has been progress, but I think at least the narrative that if you just do everything right from scratch it will be fast is falsified. You still need a lot of optimization effort to get something reasonable for the web.","msgtype":"m.text"},"ts":1499265958000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"From Twitter, update on Streams: https://blog.whatwg.org/progressing-streams","msgtype":"m.text"},"ts":1499265963000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: \"HTML no longer links to legacy bugs?\" I haven't noticed that, but it's plausible we broke it somewhere :-/","msgtype":"m.text"},"ts":1499265978000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: afaict the top just has \"Open Issues\"","msgtype":"m.text"},"ts":1499266003000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: oh, the top, not the margins","msgtype":"m.text"},"ts":1499266013000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah I removed that to make room for the dev edition because an odd number of things looks really bad on mobile","msgtype":"m.text"},"ts":1499266029000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: super-slow perceptively?","msgtype":"m.text"},"ts":1499266048000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: yeah, just trying to browse some websites and scroll and click things","msgtype":"m.text"},"ts":1499266073000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: AFAIK a lot of that is simply the fact that things that make a big perceptive difference are quite bad, though the traditionally slow stuff like layout is super-fast","msgtype":"m.text"},"ts":1499266102000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Sounds plausible I guess.","msgtype":"m.text"},"ts":1499266134000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Cf. the demo by a googler with the animated shapes.","msgtype":"m.text"},"ts":1499266151000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Domenic: I don't do any graphics or layout or whatever, but I do some DOM in Servo,","msgtype":"m.text"},"ts":1499266190000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Domenic: animations and whatnot can hit 60 fps with no issues, and aside from that then you have HTMLCollection that is extremely naive,","msgtype":"m.text"},"ts":1499266222000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"and for example in the past if you did for elem in collection,","msgtype":"m.text"},"ts":1499266238000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"it would just internally call collection.item(i) for all i from 0 to the length of the collection,","msgtype":"m.text"},"ts":1499266255000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"and the traversal to retrieve the ith element would always start from the root of the document.","msgtype":"m.text"},"ts":1499266268000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: that might have been me https://www.youtube.com/watch?v=u0hYIRQRiws - but it didn't involve layout","msgtype":"m.text"},"ts":1499266319000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"So yeah, some things are extremely slow.","msgtype":"m.text"},"ts":1499266325000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JakeA: Ugh, yes and yes.","msgtype":"m.text"},"ts":1499266331000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"I'll just assume that layout is never what I have in mind. ;)","msgtype":"m.text"},"ts":1499266340000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JakeA: Oh right, animations obviously are post-layout, is that right?","msgtype":"m.text"},"ts":1499266384000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: it was only changing transform, background & border-radius, none change layout","msgtype":"m.text"},"ts":1499266429000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: Right. Hence why you mentioned animating width and height earlier, right?","msgtype":"m.text"},"ts":1499266450000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Yeah, those would change layout inside and probably outside the element","msgtype":"m.text"},"ts":1499266546000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"http://output.jsbin.com/surane/quiet runs very well in Safari these days (in the tech preview at least)","msgtype":"m.text"},"ts":1499266571000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"wanderview: there's tests for AbortController and AbortSignal","msgtype":"m.text"},"ts":1499272869000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: not sure about fetch() + AbortSignal, JakeA might know","msgtype":"m.text"},"ts":1499272881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: I guess if we had tests for fetch() + AbortSignal that would be enough to proceed with the impl, perhaps we should focus on that first rather than figuring out how to refactor Fetch","msgtype":"m.text"},"ts":1499272926000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I can pick that up","msgtype":"m.text"},"ts":1499273294000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: cool, I guess if we can put all the edge cases in tests, it'll make it easier to figure out the spec (or at least we know what it should say)","msgtype":"m.text"},"ts":1499273420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: the tests shouldn't include signals in a service worker right? That's v2?","msgtype":"m.text"},"ts":1499273823000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: yeah, though passing a signal to fetch() in a service worker should work","msgtype":"m.text"},"ts":1499274848000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, I'll test in worker contexts too. What's the purpose of t.step_func? Does the test fail if one of the step_funcs isn't called?","msgtype":"m.text"},"ts":1499275052000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: it makes sure that exceptions in callbacks get routed to the test as well","msgtype":"m.text"},"ts":1499275097000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: basically makes callbacks part of the test","msgtype":"m.text"},"ts":1499275109000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ahhhh yeah of course","msgtype":"m.text"},"ts":1499275153000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"(I've only written promise tests so far)","msgtype":"m.text"},"ts":1499275167000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: keeping everything in promises kind of does the same, though","msgtype":"m.text"},"ts":1499275173000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"and you don't have to pass t around","msgtype":"m.text"},"ts":1499275190000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: yeah, it makes less sense to use for promise APIs I suppose, though you'll need it here for the callback maybe?","msgtype":"m.text"},"ts":1499275221000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: that is, the abort event","msgtype":"m.text"},"ts":1499275231000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1499275238000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I have mostly avoid t.step_func() because I didn't understand it","msgtype":"m.text"},"ts":1499275254000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"It makes sense in https://github.com/w3c/web-platform-tests/pull/5960/files as it needs to ensure the event fires synchronously","msgtype":"m.text"},"ts":1499275266000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"just presses keys till the thing works...","msgtype":"m.emote"},"ts":1499275268000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Same :D","msgtype":"m.text"},"ts":1499275274000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Basically if you don't use it and the browser fails something you get a global failure and otherwise you just get a test failure","msgtype":"m.text"},"ts":1499275320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But it's a little tricky indeed, especially with all the t.step_func_done() variants and such","msgtype":"m.text"},"ts":1499275359000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: pcwalton's opining on Houdini is missing the entire point; you *absolutely cannot* implement layout in JS today in a way that faithfully interacts with the built-in layout system properly (for example, providing proper min-content and max-content contributions, which Flex and Grid layout use extensively).","msgtype":"m.text"},"ts":1499293536000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"The point of Houdini isn't to magically make anything faster, but to provide the correct hooks into the existing systems.","msgtype":"m.text"},"ts":1499293559000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I think that's the part of Houdini he conceded was useful, no?","msgtype":"m.text"},"ts":1499293589000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"(It will in many cases make things faster, as we can provide you the right information and only ask you to do work when it's needed, but that's a benefit on top.)","msgtype":"m.text"},"ts":1499293594000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Or did you mention layout just as an example?","msgtype":"m.text"},"ts":1499293600000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Just as an example.","msgtype":"m.text"},"ts":1499293609000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Same applies to, for example, Paint - Houdini gives you the right lifecycle hooks (draw only when we need a new image) and the right information (here's the size the image will be rendered at) to let you do correct, efficient painting. Without Houdini, you can draw to a canvas and render to a data url, but your image won't be at the proper resolution (matching up canvas pixels to screen pixels) unless you manually coordinate","msgtype":"m.text"},"ts":1499293704000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"things, and you'll probably draw too early, and/or too often.","msgtype":"m.text"},"ts":1499293704000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"would be useful to add some kind of syntax highlighting for code snippets?","msgtype":"m.text"},"ts":1499296957000,"senderName":"jolvera","senderId":"jolvera@irc"},
{"content":{"body":"e.g. https://dsh.re/5918b","msgtype":"m.text"},"ts":1499296978000,"senderName":"jolvera","senderId":"jolvera@irc"}
]