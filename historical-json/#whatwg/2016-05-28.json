[
{"content":{"body":"empty xml documents are valid, but it seems that every vendor misread the whatwg domparser spec","msgtype":"m.text"},"ts":1464397309000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"for some reason all browsers give you a <parsererror> when you do (new DOMParser).parseFromString(\"\", \"application/xhtml+xml\")","msgtype":"m.text"},"ts":1464397338000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"but no errors when you do document.implementation.createDocument('','',null) (equivalent empty document)","msgtype":"m.text"},"ts":1464397365000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"eligrey: what makes you say they are well-formed?","msgtype":"m.text"},"ts":1464408671000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"eligrey: pretty sure they're not","msgtype":"m.text"},"ts":1464408682000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: go to an empty xml file in chrome firefox ie or edge","msgtype":"m.text"},"ts":1464409230000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"eligrey: yeah, give a parse error","msgtype":"m.text"},"ts":1464409250000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"eligrey: e.g., data:text/xml,","msgtype":"m.text"},"ts":1464409254000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what browser?","msgtype":"m.text"},"ts":1464409262000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"Firefox Nightly","msgtype":"m.text"},"ts":1464409268000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I thought the XML spec says every XML document must have a root element","msgtype":"m.text"},"ts":1464409289000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"eligrey: https://www.w3.org/TR/xml/#sec-well-formed also pretty clearly requires an element","msgtype":"m.text"},"ts":1464409316000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, weird then","msgtype":"m.text"},"ts":1464409318000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"eligrey: it does seem that Chrome and Safari are buggy","msgtype":"m.text"},"ts":1464409326000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that the dom allows xml without an element","msgtype":"m.text"},"ts":1464409327000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"document.implementation.createDocument('','',null) works in ff/ie/edge/chrome","msgtype":"m.text"},"ts":1464409341000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"eligrey: the DOM allows many things XML doesn't","msgtype":"m.text"},"ts":1464409342000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"eligrey: it's a model, not a syntax","msgtype":"m.text"},"ts":1464409357000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"those are often distinct in capabilities","msgtype":"m.text"},"ts":1464409372000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"alright","msgtype":"m.text"},"ts":1464409390000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"makes sense though that 2 dom methods should behave similarly","msgtype":"m.text"},"ts":1464409401000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"since its domparser, not xmlparser","msgtype":"m.text"},"ts":1464409407000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"please do file a bug on Chrome/Safari though","msgtype":"m.text"},"ts":1464409408000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"eligrey: those APIs have bad names, arguably","msgtype":"m.text"},"ts":1464409428000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: speaking of other irregularities, innerHTML=[invalid xml] throws an error and domparser makes an error element thingy","msgtype":"m.text"},"ts":1464409784000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"so weird","msgtype":"m.text"},"ts":1464409785000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"would be so much easier to handle if domparser just threw an error as well","msgtype":"m.text"},"ts":1464409800000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"eligrey: I suggest reading the topic of this channel","msgtype":"m.text"},"ts":1464409818000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"alright, yeah i was just discussing stuff","msgtype":"m.text"},"ts":1464409851000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"not asking for change","msgtype":"m.text"},"ts":1464409856000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"Yeah, I mean, I don't disagree, but compatibility is a real thing","msgtype":"m.text"},"ts":1464409873000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"pretty sure domparser used to throw errors in all browsers except chrome","msgtype":"m.text"},"ts":1464409891000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"and this parsererror thing is only a very recent addition","msgtype":"m.text"},"ts":1464409898000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"We hope of course that our generation designs better APIs and the folks five-fifteen years from now won't scream about the same irregularities","msgtype":"m.text"},"ts":1464409913000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But they'll probably find lots to be upset about","msgtype":"m.text"},"ts":1464409926000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heh yeah","msgtype":"m.text"},"ts":1464409926000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"eligrey: given that <parseerror> has to be in some Mozilla-namespace I suspect it's pretty ancient at least for Firefox","msgtype":"m.text"},"ts":1464409961000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And I also think the API might have originated there and then slowly copied by others","msgtype":"m.text"},"ts":1464409983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm i remember back in 2009 implementing a text/html domparser shim","msgtype":"m.text"},"ts":1464409985000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"and back then it was just chrome with <html:parsererrror> iirfc","msgtype":"m.text"},"ts":1464410001000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"iirc*","msgtype":"m.text"},"ts":1464410003000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"could be wrong though","msgtype":"m.text"},"ts":1464410028000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"its a pretty cool feature outside of domparser though","msgtype":"m.text"},"ts":1464410050000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"if you give parsererror a background image in css you can globally log xml well formedness errors on your site!","msgtype":"m.text"},"ts":1464410067000,"senderName":"eligrey","senderId":"eligrey@irc"},
{"content":{"body":"(i did that on mine years ago)","msgtype":"m.text"},"ts":1464410073000,"senderName":"eligrey","senderId":"eligrey@irc"}
]