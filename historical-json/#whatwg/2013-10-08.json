[
{"content":{"body":"scheib: adding to the list later is cheap, in this brave new world of living standards","msgtype":"m.text"},"ts":1381194359000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"http://www.nngroup.com/articles/stagnating-expertise/","msgtype":"m.text"},"ts":1381201141000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"(i assume this applies to programming languages too, in which case, it's an argument against us adding features)","msgtype":"m.text"},"ts":1381201166000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_, TabAtkins, I'd like to double-check my understanding of srcset wrt pixel densities. If I have a 100x100 png, what is the width and height of <img srcset=\"100x100.png 2x\">? My reading is it would be 100x100 in css pixels, but it's being implemented in Blink differently.","msgtype":"m.text"},"ts":1381205812000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"50x50. (I forgot to specify that in my spec, but it's specified thusly in whatwg.)","msgtype":"m.text"},"ts":1381205850000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, got it. Would the intrinsic size be (100 x 100) and the natural size (50 x 50)?","msgtype":"m.text"},"ts":1381205999000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"dunno what the difference is, but the intrinsic size (per CSS) would be 50x50","msgtype":"m.text"},"ts":1381206023000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, http://www.w3.org/TR/css3-images/#intrinsic-dimensions says intrinsic dimensions are not a factor of the context the image is used in","msgtype":"m.text"},"ts":1381206138000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"Correct.  But this isn't quite the same thing.","msgtype":"m.text"},"ts":1381206160000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Can you expand a bit? I'm trying to nail down how srcset interacts with svg and the intrinsic size wording is tricky","msgtype":"m.text"},"ts":1381206416000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"The intrinsic size is just the input for the CSS algorithms.  srcset/srcN happen at a level before that, and set the intrinsic size.","msgtype":"m.text"},"ts":1381206459000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"This should be pretty natural if you don't run yourself in circles - an image with 100 pixels, at 2x density, naturally covers 50 CSS pixels.  That's its intrinsic size, given that density.","msgtype":"m.text"},"ts":1381206495000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, what happens if this image is drawn into a canvas with drawImage(...), without specifying a width and height? Would it be drawn with size 50x50 or 100x100?","msgtype":"m.text"},"ts":1381206687000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"It sounds like 50x50, just want to verify","msgtype":"m.text"},"ts":1381206769000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1381206833000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"thanks for the clarification, off to make this real :)","msgtype":"m.text"},"ts":1381206864000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"Dude, it's 9:30. Stop coding. ^_^","msgtype":"m.text"},"ts":1381206886000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"but.. cats.. the people demand images of cats","msgtype":"m.text"},"ts":1381206910000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"Oh, I suppose your'e right.","msgtype":"m.text"},"ts":1381206964000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"pdr: does canvas know about any of this?","msgtype":"m.text"},"ts":1381207145000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"pdr: it seems that the canvasImageSource should always use the default","msgtype":"m.text"},"ts":1381207346000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"cabanier1, yeah the spec is pretty clear about using the intrinsic size","msgtype":"m.text"},"ts":1381207395000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"for drawImage","msgtype":"m.text"},"ts":1381207418000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"pdr: since the image doesn't need to be in the dom, you can't do the selection except maybe by pixel density","msgtype":"m.text"},"ts":1381207503000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"pdr: but that would be weird if it happens","msgtype":"m.text"},"ts":1381207513000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"cabanier1, do we even load the image if it isn't in the dom? /me checks","msgtype":"m.text"},"ts":1381207569000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"For <img>s, we do (I think).","msgtype":"m.text"},"ts":1381207626000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"yeah, we do","msgtype":"m.text"},"ts":1381207651000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"http://www.html5canvastutorials.com/tutorials/html5-canvas-images/","msgtype":"m.text"},"ts":1381207667000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"that's not html image though","msgtype":"m.text"},"ts":1381207708000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"I guess you're right, we should only use the resolution for selection in that case. srcset already has to deal with dynamic srcset changes so it's not too difficult. I guess image.onload would fire twice?","msgtype":"m.text"},"ts":1381207771000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"pdr: but that would be weird","msgtype":"m.text"},"ts":1381207798000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"pdr: If you zoom in (not pinch zoom), the image might switch to having more pixels","msgtype":"m.text"},"ts":1381207830000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"cabanier1, actually, the width comes from the viewport. I think that's known w/o putting the image in the document","msgtype":"m.text"},"ts":1381208064000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"cabanier1, does the viewport change during pinch zoom? I don't think so (or, not the one srcset uses)","msgtype":"m.text"},"ts":1381208127000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"pdr: but dpr changes","msgtype":"m.text"},"ts":1381208153000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"pdr: no, not pinch zoom.","msgtype":"m.text"},"ts":1381208168000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"pdr: regular zoom (command + )","msgtype":"m.text"},"ts":1381208179000,"senderName":"cabanier1","senderId":"cabanier1@irc"},
{"content":{"body":"Does browser zoom change the viewport? I don't think it does","msgtype":"m.text"},"ts":1381208275000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"Ctrl-+ style zoom does indeed change the viewport.","msgtype":"m.text"},"ts":1381208490000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hopefully nobody promises onload","msgtype":"m.text"},"ts":1381208701000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1381208708000,"senderName":"cabanier","senderId":"cabanier@irc"},
{"content":{"body":"does that mean \"hopefully nobody turns onload into a promise?\"","msgtype":"m.text"},"ts":1381208750000,"senderName":"cabanier","senderId":"cabanier@irc"},
{"content":{"body":"nm, I think promises can return twice","msgtype":"m.text"},"ts":1381208784000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"wait, what?","msgtype":"m.text"},"ts":1381208836000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I misread http://www.html5rocks.com/en/tutorials/async/deferred. I don't know how promises and onload would work","msgtype":"m.text"},"ts":1381209232000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"what would be the problem?","msgtype":"m.text"},"ts":1381209471000,"senderName":"cabanier","senderId":"cabanier@irc"},
{"content":{"body":"I'm looking for a word to describe benefits of Web Components","msgtype":"m.text"},"ts":1381210267000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"what't the opposite of \"bolt on\"?","msgtype":"m.text"},"ts":1381210284000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in the sense that Web Components give you a way to create custom UI controls that aren't just bolted on","msgtype":"m.text"},"ts":1381210327000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but instead are.. whatever the opposite of bolted on is","msgtype":"m.text"},"ts":1381210363000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"\"baked in\"?","msgtype":"m.text"},"ts":1381210373000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"intergrated","msgtype":"m.text"},"ts":1381210679000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"but i don't know if i'd agree that web components aren't bolt-on :-)","msgtype":"m.text"},"ts":1381210717000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"i thought that was the whole point, a way to give you bolt-on components :-)","msgtype":"m.text"},"ts":1381210728000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: except that \"bolt on\" often has a pejorative connotations","msgtype":"m.text"},"ts":1381210816000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and you can already do \"bolt on\" components today without needing Web Components","msgtype":"m.text"},"ts":1381210939000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so it seems not unreasonable to say that compared to the current mechanisms we have, Web Components gives you a way to bake in components rather than just bolting them on","msgtype":"m.text"},"ts":1381211014000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"(I'm trying to figure out how to word it for a reporter with a short attention span.)","msgtype":"m.text"},"ts":1381211066000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well, they are bolt-on. i mean, as opposed to the built-in/baked-in ones like <select>.","msgtype":"m.text"},"ts":1381211146000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"the advantage of web components is more that they are self-contained","msgtype":"m.text"},"ts":1381211158000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"modular","msgtype":"m.text"},"ts":1381211160000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"pdr: the page's onload event fires once.  It's appropriate for promises - you just have one promise for the page load, which fulfills when the page loads.","msgtype":"m.text"},"ts":1381211364000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"pdr: Images can load multiple times, which suggests a different strategy - instead, return a new promise each time, which is either already fulfilled (if the image is currently loaded) or will be fulfilled when the image finishes loading (if it's currently loading something, or hasn't yet started loading).","msgtype":"m.text"},"ts":1381211413000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"pdr: Both of these approaches are exemplified in the FontFace and FontFaceSet ready() promises: <http://dev.w3.org/csswg/css-font-load-events/>","msgtype":"m.text"},"ts":1381211463000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"JS doesn't have a WeakArray thing yet, right?","msgtype":"m.text"},"ts":1381223988000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"maybe that wouldn't make sense","msgtype":"m.text"},"ts":1381224012000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"doesn't WeakMap expose GC if you hold the keys in an array and check the values in an interval?","msgtype":"m.text"},"ts":1381224493000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"It seems that way to me as well","msgtype":"m.text"},"ts":1381224779000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"how can I subscribe to whatwg mailing list?","msgtype":"m.text"},"ts":1381224833000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"rtc, http://lists.whatwg.org/listinfo.cgi/whatwg-whatwg.org","msgtype":"m.text"},"ts":1381224891000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"zcorpan, wasn't WeakMap weak in the keys?","msgtype":"m.text"},"ts":1381225010000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: yes, but you can't enumerate the keys so if you want to check all the values you've set you need to maintain the keys out of band, afaict","msgtype":"m.text"},"ts":1381225069000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: if you hold the keys in an array they won't be GC'd","msgtype":"m.text"},"ts":1381225113000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Right","msgtype":"m.text"},"ts":1381225117000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"but the values can be GC'ed","msgtype":"m.text"},"ts":1381225127000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: no","msgtype":"m.text"},"ts":1381225135000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no? how does that make sense?","msgtype":"m.text"},"ts":1381225157000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: they have a strong whatever that was called to the key","msgtype":"m.text"},"ts":1381225159000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"var keys = [0]; var wm = new WeakMap(); wm.set[0, {}];","msgtype":"m.text"},"ts":1381225226000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: e.g. you could associate some information about nodes in a WeakMap and you don't have to worry about removing that extra data when the node is removed","msgtype":"m.text"},"ts":1381225230000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Keys need to be objects, no?","msgtype":"m.text"},"ts":1381225240000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"If the key is a node, then the weakmap will change when GC occurs","msgtype":"m.text"},"ts":1381225299000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"If that node was deleted","msgtype":"m.text"},"ts":1381225307000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So you can tell whether GC occurred","msgtype":"m.text"},"ts":1381225315000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"What am I missing?","msgtype":"m.text"},"ts":1381225319000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Ms2ger: correct http://people.mozilla.org/~jorendorff/es6-draft.html#sec-weakmap.prototype.set","msgtype":"m.text"},"ts":1381225320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"How can you tell if the weakmap changed?","msgtype":"m.text"},"ts":1381225331000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"jgraham: how would you tell?","msgtype":"m.text"},"ts":1381225332000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: you no longer have the node, so you no longer can look up its value","msgtype":"m.text"},"ts":1381225352000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, ok. i thought they key could be anything","msgtype":"m.text"},"ts":1381225369000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"It's basically improved expandos","msgtype":"m.text"},"ts":1381225465000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"If there isn't any way to tell how big the set is","msgtype":"m.text"},"ts":1381225495000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I guess that is probably OK","msgtype":"m.text"},"ts":1381225502000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"what i'm pondering is if WeakMap + some API that sends a message to all ports in a WeakMap would be a plausible replacement for PortCollection","msgtype":"m.text"},"ts":1381225519000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I think I suggested the smae thing a few days ago","msgtype":"m.text"},"ts":1381225536000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It does seem better","msgtype":"m.text"},"ts":1381225542000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(of course you could try a timing attack ;)","msgtype":"m.text"},"ts":1381225575000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"would you use the port as the key and a dummy value as value?","msgtype":"m.text"},"ts":1381225576000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"would need to think if that makes gc observable somehow","msgtype":"m.emote"},"ts":1381225579000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"zcorpan: no that doesn't work","msgtype":"m.text"},"ts":1381225594000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Surely it's a WeakSet","msgtype":"m.text"},"ts":1381225615000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"zcorpan: e.g. you create this portcollection, set up listeners for the ports, keep sending to the portcollection, you can observe via timing when the ports get collected as the messages are no longer delivered","msgtype":"m.text"},"ts":1381225640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, I think messaging + weak refs fundamentally make GC observable","msgtype":"m.text"},"ts":1381225691000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug____ and I went through this exercise last weekend","msgtype":"m.text"},"ts":1381225789000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: i didn't know WeakSet was a thing :-)","msgtype":"m.text"},"ts":1381225920000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Doesn't seem to be implemented in SM","msgtype":"m.text"},"ts":1381226014000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i thought the use case was for sending messages, not for listening","msgtype":"m.text"},"ts":1381226135000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"you can't tell if a message was sent or not, unless that's communicated back in some way","msgtype":"m.text"},"ts":1381226192000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: you can do the whole setup in one global","msgtype":"m.text"},"ts":1381226314000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: var c = new MessageChannel(); portCollection.add(c.port1); port2.addEventListener(\"message\", function() {alert(\"boo\")});  Then start iterating portCollection send messages","msgtype":"m.text"},"ts":1381226390000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"at some point port1 won't be there","msgtype":"m.text"},"ts":1381226397000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: yes, i know","msgtype":"m.text"},"ts":1381226508000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: i was talking about WeakSet + API to send a message to all ports in the WeakSet","msgtype":"m.text"},"ts":1381226625000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and since PortCollection exposes GC this way, it could be used to implement \"close\" event in  hacky way","msgtype":"m.text"},"ts":1381226636000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1381226641000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but that can still expose GC, but requires the other end to cooperate, at least for the only-sending case","msgtype":"m.text"},"ts":1381226690000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"afaict","msgtype":"m.text"},"ts":1381226708000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"-> lunch","msgtype":"m.emote"},"ts":1381226726000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"why when I place h1 h2 h3 tags one after another the h1 has smaller font size than h2?","msgtype":"m.text"},"ts":1381229430000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"http://jsfiddle.net/HARj2/ this happens only when they are in section why?","msgtype":"m.text"},"ts":1381229632000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"rtc: the default styling shrinks h1 in sections, but doesn't affect h2-h6 (except in hgroup, per spec anyway)","msgtype":"m.text"},"ts":1381230193000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wwhy?","msgtype":"m.text"},"ts":1381230215000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"rtc: if you only use h1 you get the right styling","msgtype":"m.text"},"ts":1381230219000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but why this happens?","msgtype":"m.text"},"ts":1381230229000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"no h1 alone is with same font size as if there are h2 h3","msgtype":"m.text"},"ts":1381230253000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"because it should be possible to only use h1 + sections and get smaller headings for subheadings","msgtype":"m.text"},"ts":1381230259000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://jsfiddle.net/HARj2/1/","msgtype":"m.text"},"ts":1381230260000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"http://jsfiddle.net/HARj2/","msgtype":"m.text"},"ts":1381230270000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"compare, they are same","msgtype":"m.text"},"ts":1381230274000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"yes? that's the point. did you understand what i wrote?","msgtype":"m.text"},"ts":1381230336000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"<h1>foo</h1> <section><h1>bar</h1></section> should have the same rendering as <h1>foo</h1> <h2>bar</h2>","msgtype":"m.text"},"ts":1381230374000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1381230415000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":":S","msgtype":"m.text"},"ts":1381230416000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"but why","msgtype":"m.text"},"ts":1381230427000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"h1 has smaller font size than h2?","msgtype":"m.text"},"ts":1381230433000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"<h1>foo</h1> <section><h1>bar</h1></section> means the same thing as <h1>foo</h1> <h2>bar</h2>, and similarly a nested section makes h1 be a third-level heading","msgtype":"m.text"},"ts":1381230500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan,","msgtype":"m.text"},"ts":1381230528000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"zcorpan,  I am confused man :S","msgtype":"m.text"},"ts":1381230888000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"please explain thanks","msgtype":"m.text"},"ts":1381230954000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"rtc: ok. so let's back up. the purpose of headings is to give some structure to the document, which can be represented in a \"table of contents\"","msgtype":"m.text"},"ts":1381230961000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"rtc: the table of contents will have nested sections so that e.g. \"bar\" is a child of \"foo\"","msgtype":"m.text"},"ts":1381230990000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"rtc: in html, this can be marked up in two ways: the old way with only <h1>foo</h1> <h2>bar</h2> and the new way with <h1>foo</h1> <section><h1>bar</h1></section>","msgtype":"m.text"},"ts":1381231029000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"does that help?","msgtype":"m.text"},"ts":1381231049000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"sec","msgtype":"m.text"},"ts":1381231099000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"sorry some server problems :D","msgtype":"m.text"},"ts":1381231105000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"let me read thanks man!","msgtype":"m.text"},"ts":1381231109000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"hmmmmmmm","msgtype":"m.text"},"ts":1381231135000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"yess","msgtype":"m.text"},"ts":1381231136000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"so basically in section I should not use h1 and h2 ?","msgtype":"m.text"},"ts":1381231143000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"together?","msgtype":"m.text"},"ts":1381231145000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"headings h1 h2 h3 are not intended for titles - headings in separate parts of a document?","msgtype":"m.text"},"ts":1381231175000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"and subsections?","msgtype":"m.text"},"ts":1381231178000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"only for table of contents?","msgtype":"m.text"},"ts":1381231182000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"if you want correct default styling, only use h1 together with sections","msgtype":"m.text"},"ts":1381231312000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1381231359000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"so withing one seciton I should avoid h1 together with h2 h3 right? :)","msgtype":"m.text"},"ts":1381231375000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"can you give an example? i don't follow","msgtype":"m.text"},"ts":1381231426000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"do one of these: http://jsfiddle.net/HARj2/","msgtype":"m.text"},"ts":1381231624000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"doing something else is allowed but gets more confusing and the default style will probably be wrong","msgtype":"m.text"},"ts":1381231660000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"note that the top-level heading should not be in a <section>","msgtype":"m.text"},"ts":1381231795000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the <body> is the top-level section","msgtype":"m.text"},"ts":1381231804000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, sorry one server got problems","msgtype":"m.text"},"ts":1381232262000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1381232268000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"h1 h2 h3 are intended for tables of contents or for headings too?","msgtype":"m.text"},"ts":1381232303000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"rtc: They are only intended for headings","msgtype":"m.text"},"ts":1381232468000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Headings are loosely defined as \"things that would appear in a table of contents\"","msgtype":"m.text"},"ts":1381232491000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But aren't the actual text of the TOC itself (that would probably be a set of nested <ol>s and <li>s)","msgtype":"m.text"},"ts":1381232532000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"right, you would *generate* the table of contents by looking at the headings in the document","msgtype":"m.text"},"ts":1381232729000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"not mark up the ToC itself using headings","msgtype":"m.text"},"ts":1381232744000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so how to make table of contents","msgtype":"m.text"},"ts":1381233158000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"using which elements?","msgtype":"m.text"},"ts":1381233161000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"ok so I guess ol li","msgtype":"m.text"},"ts":1381233183000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1381233186000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"but stil I am confused","msgtype":"m.text"},"ts":1381233190000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":":S","msgtype":"m.text"},"ts":1381233192000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"why h1 is bigger than h2 in a section","msgtype":"m.text"},"ts":1381233199000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1381233199000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"so I guess I should not use h1 together with h2 in same section right?","msgtype":"m.text"},"ts":1381233212000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"because I need to use h1 lonely or h2 h3 h4 withouth 1?","msgtype":"m.text"},"ts":1381233225000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"h1*","msgtype":"m.text"},"ts":1381233227000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"hmm, which spec defines XML fragment serialization algorithm","msgtype":"m.text"},"ts":1381233308000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"maybe Ms2ger's","msgtype":"m.text"},"ts":1381233314000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"oh, silly me","msgtype":"m.text"},"ts":1381233344000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"HTML?","msgtype":"m.text"},"ts":1381233348000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1381233394000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"rtc: no, you either use only h1+section or h1+h2+h3+h4+h5+h6 without section","msgtype":"m.text"},"ts":1381233404000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"rtc: not h2-h6 without h1, that doesn't make sense","msgtype":"m.text"},"ts":1381233414000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I should probably move those bits into my spec","msgtype":"m.text"},"ts":1381233428000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hm ok","msgtype":"m.text"},"ts":1381233448000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"so no h2 h3 h4 with a section","msgtype":"m.text"},"ts":1381233454000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"well it makes sense","msgtype":"m.text"},"ts":1381233458000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"what if I need heading with subheadings in a section","msgtype":"m.text"},"ts":1381233466000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"oh well I guess I use section with h1 for subheading","msgtype":"m.text"},"ts":1381233480000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"you nest another <section>","msgtype":"m.text"},"ts":1381233481000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":":S","msgtype":"m.text"},"ts":1381233481000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"yeah then aanother sub sub heading will be another section in that one right?","msgtype":"m.text"},"ts":1381233495000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1381233500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://jsfiddle.net/HARj2/3/","msgtype":"m.text"},"ts":1381233557000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"HAHA I GOT IT I GOT IT","msgtype":"m.text"},"ts":1381233561000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"is this ok???? ^^","msgtype":"m.text"},"ts":1381233566000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1381233568000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1381233574000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"thanks man zcorpan  !!!!!!!! thanks","msgtype":"m.text"},"ts":1381233575000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1381233582000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"finally headings are solved :)","msgtype":"m.text"},"ts":1381233583000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"going webgl now :) hehe","msgtype":"m.text"},"ts":1381233590000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"that will not end up so easy though :))","msgtype":"m.text"},"ts":1381233597000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"maybe you can teach me webgl when you've figured it out :-)","msgtype":"m.text"},"ts":1381233619000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, sure !!!!","msgtype":"m.text"},"ts":1381233655000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"I had nice travel, html css javascript php mysql postregsql python c now webgl :D","msgtype":"m.text"},"ts":1381233696000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"I want opengl first than webgl because opengl is superset of webgl","msgtype":"m.text"},"ts":1381233709000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"I think right way for learning is to learn the superset first","msgtype":"m.text"},"ts":1381233724000,"senderName":"rtc","senderId":"rtc@irc"},
{"content":{"body":"Ms2ger: so there are no tests for serialization?","msgtype":"m.text"},"ts":1381237050000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____, there's some at https://github.com/whatwg/domparsing/tree/master/tests","msgtype":"m.text"},"ts":1381237531000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: nothing is testing failing serialization?","msgtype":"m.text"},"ts":1381237689000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(or how do I run those tests )","msgtype":"m.text"},"ts":1381237700000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Just https://github.com/whatwg/domparsing/blob/master/tests/innerhtml-01.xhtml","msgtype":"m.text"},"ts":1381237762000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"that gives me the source code","msgtype":"m.text"},"ts":1381237788000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"oh, that is such test","msgtype":"m.text"},"ts":1381237798000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Yeah, you need to clone to run them","msgtype":"m.text"},"ts":1381237803000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"uh","msgtype":"m.text"},"ts":1381237836000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"copy paste if faster","msgtype":"m.text"},"ts":1381237849000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"s/if/is/","msgtype":"m.text"},"ts":1381237852000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"except that I'd need few scripts too","msgtype":"m.text"},"ts":1381237869000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"oh, it should have to be cloned to certain place where testharness is available :(","msgtype":"m.text"},"ts":1381238026000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Or add w3c-test.org/ before the URLs","msgtype":"m.text"},"ts":1381238059000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Maybe MikeSmith wants to also set up a clone there :)","msgtype":"m.text"},"ts":1381238207000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I can set up clones as easily as boy scouts setting up pup tents at a jamboree","msgtype":"m.text"},"ts":1381238429000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"With a lot of things falling over?","msgtype":"m.text"},"ts":1381238471000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yeah, like that","msgtype":"m.text"},"ts":1381238531000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and taking smoke breaks","msgtype":"m.text"},"ts":1381238547000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyone with a recent IE?","msgtype":"m.text"},"ts":1381239322000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: I use this: http://browserstack.com","msgtype":"m.text"},"ts":1381239377000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"ugh, yet another thing which requires registration","msgtype":"m.text"},"ts":1381239438000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and it needs Flash :(","msgtype":"m.text"},"ts":1381239511000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"And monies. But you get a browser in a browser.","msgtype":"m.text"},"ts":1381239515000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"\"I have read the other emails.\" hmm, mid-aired with darobin!","msgtype":"m.text"},"ts":1381239897000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"triggers emergency landing","msgtype":"m.emote"},"ts":1381239920000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: I don't see your side of the mid-air","msgtype":"m.text"},"ts":1381239976000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I think the way I have my email address set up at the moment is suboptimal and causes random delays :/","msgtype":"m.text"},"ts":1381240005000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, I'll wait then","msgtype":"m.text"},"ts":1381240018000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"It basically routes through my @gmail.com account","msgtype":"m.text"},"ts":1381240023000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, yeah, hops tend to really pile up for email latency","msgtype":"m.text"},"ts":1381240052000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'd give Google direct access to the domain, but only if they keep the damn accounts merged","msgtype":"m.text"},"ts":1381240085000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: if you want RF, why don't you publish a REC?","msgtype":"m.text"},"ts":1381240141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: also, are the relevant parties member of the i18n WG?","msgtype":"m.text"},"ts":1381240156000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: you mean of Encoding?","msgtype":"m.text"},"ts":1381240156000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"the point is certainly to get to Rec; if you're asking me why it can't be done faster that's another question","msgtype":"m.text"},"ts":1381240203000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"my point is about hypocrisy or not â€” and having reviewed the various moving parts I find none","msgtype":"m.text"},"ts":1381240223000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"can *other* parts be fixed, like shipping Recs faster to get RF faster, then yeah, you're preaching to the choir bro","msgtype":"m.text"},"ts":1381240250000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"sings like an angel in latin about living standards... ","msgtype":"m.emote"},"ts":1381240290000,"senderName":"marcosc_","senderId":"marcosc_@irc"},
{"content":{"body":"darobin: oh also, my email went to a different list","msgtype":"m.text"},"ts":1381240329000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: because the chairs forked the thread","msgtype":"m.text"},"ts":1381240338000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"marcosc_: it's pretty hard to get IP commitments on living standards; but it would certainly be sweet if we could have LS and then just get commitments on snapshots say once a year","msgtype":"m.text"},"ts":1381240349000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: that's mid-airing at a distance","msgtype":"m.text"},"ts":1381240362000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: well, Gmail didn't care :)","msgtype":"m.text"},"ts":1381240374000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, the many, many lists of I18N","msgtype":"m.text"},"ts":1381240380000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"one for each language, oh wait, that's not i18n","msgtype":"m.text"},"ts":1381240399000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you have to use a different encoding for each","msgtype":"m.text"},"ts":1381240416000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"which group was yours to annevk?","msgtype":"m.text"},"ts":1381240473000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: public-i18n-core","msgtype":"m.text"},"ts":1381240499000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/public-i18n-core/2013OctDec/0005.html","msgtype":"m.text"},"ts":1381240503000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"found it, ta","msgtype":"m.text"},"ts":1381240553000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"(the context is that nobody brought up RF thus far)","msgtype":"m.text"},"ts":1381240556000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so it doesn't change anything, my response is still right and the final sane word on the topic :)","msgtype":"m.text"},"ts":1381240573000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"so I didn't reply to that, and I kinda gotta go now, so maybe tonight","msgtype":"m.text"},"ts":1381240574000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: it depends if what you said is the motivation","msgtype":"m.text"},"ts":1381240592000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the motivation for what?","msgtype":"m.text"},"ts":1381240611000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"for forking","msgtype":"m.text"},"ts":1381240634000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well what other reason would there be?","msgtype":"m.text"},"ts":1381240643000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"it seems for HTML it's about more","msgtype":"m.text"},"ts":1381240663000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"because the text is actually different in quite a few cases","msgtype":"m.text"},"ts":1381240682000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think we both know that the HTML situation is overall way more complicated","msgtype":"m.text"},"ts":1381240686000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"but you may have noted that I've strained as hard as can be to keep things in line and remove the complications there","msgtype":"m.text"},"ts":1381240711000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"for Encoding however (and a lot of other specs) the situation is a lot simpler","msgtype":"m.text"},"ts":1381240725000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"given how Art deals with me there doesn't seem to be much respect for people doing the actual editing","msgtype":"m.text"},"ts":1381240781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so for me it's not quite that simple","msgtype":"m.text"},"ts":1381240789000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, take your problem up with Art (or with Nokia)","msgtype":"m.text"},"ts":1381240797000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I would be surprised if Richard and Addison gave you anything other than respect","msgtype":"m.text"},"ts":1381240818000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Art hasn't replied to my latest email about that","msgtype":"m.text"},"ts":1381240823000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is that related to Encoding?","msgtype":"m.text"},"ts":1381240835000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"no, about XHR, Fullscreen, etc.","msgtype":"m.text"},"ts":1381240847000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, if there is a way in which we could make things work better in good faith, but you're having problems with Art, don't hesitate to ask for intercession","msgtype":"m.text"},"ts":1381240882000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"zcorpan: about the parser hacks, I've not committed the changes and don't have them online anywhere. But I can post the TreeBuilder.java file and diff somewhere","msgtype":"m.text"},"ts":1381241111000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: ok","msgtype":"m.text"},"ts":1381241130000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"all right I'll ping you when I've got it posted","msgtype":"m.text"},"ts":1381241148000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1381241156000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"darobin: noted","msgtype":"m.text"},"ts":1381241410000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: happy to have a in-person discussion with a few people at TPAC","msgtype":"m.text"},"ts":1381241448000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: what does [Pure] mean?","msgtype":"m.text"},"ts":1381242016000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, \"doesn't change as long as you don't do anything side-effecty\"","msgtype":"m.text"},"ts":1381242521000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i don't understand how making the innerHTML getter not throw makes it [Pure], then","msgtype":"m.text"},"ts":1381243133000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Well","msgtype":"m.text"},"ts":1381243206000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"If it can throw, it can't be pure","msgtype":"m.text"},"ts":1381243215000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(why not? doesn't follow any meaning of a pure function that I know of)","msgtype":"m.text"},"ts":1381243236000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Maybe pure is a bad name... It's used to move the getter call out of loops","msgtype":"m.text"},"ts":1381243262000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"And you don't want to throw before the loop when the access is inside the loop","msgtype":"m.text"},"ts":1381243283000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i guess that does follow gcc's definition (\"no effects except the return value\"--changing code flow is an effect)","msgtype":"m.text"},"ts":1381243330000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Isn't that \"referentially transparent\"?","msgtype":"m.text"},"ts":1381243347000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so the motivation is better perf?","msgtype":"m.text"},"ts":1381243374000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"is it common to call innerHTML in a loop in XML?","msgtype":"m.text"},"ts":1381243431000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"s/call/get/","msgtype":"m.text"},"ts":1381243437000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Actually it seems to be \"pure\" per wikipedia","msgtype":"m.text"},"ts":1381243594000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"zcorpan, can't make it pure in html and not in xml","msgtype":"m.text"},"ts":1381243663000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"And yes, the goal is perf","msgtype":"m.text"},"ts":1381243697000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: yeah i figured that could be problematic","msgtype":"m.text"},"ts":1381243734000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so is it common to get innerHTML in a loop in HTML?","msgtype":"m.text"},"ts":1381243761000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: you mean as in for (...getElementsByTagName...) if (el.innerHTML.indexOf(foo))... ?","msgtype":"m.text"},"ts":1381243832000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"if so, not uncommon yeah","msgtype":"m.text"},"ts":1381243847000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"IME at least","msgtype":"m.text"},"ts":1381243852000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"greps for \"].innerHTML.\"","msgtype":"m.emote"},"ts":1381244437000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"some matches are like document.getElementsByTagName(\"TITLE\")[0].innerHTML.substring(0,100)) but others are indeed in a loop like if(tags[x].innerHTML.indexOf(\"href\")> -1)","msgtype":"m.text"},"ts":1381244830000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(sadface to both)","msgtype":"m.text"},"ts":1381244949000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Not sure why that's a sadface","msgtype":"m.text"},"ts":1381244973000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well the first one is a bit silly","msgtype":"m.text"},"ts":1381244989000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"175 matches","msgtype":"m.text"},"ts":1381245023000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"And the second one is probably not super-fast, but pulling the innerHTML out of the loop in that case might be a microoptimisation","msgtype":"m.text"},"ts":1381245027000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That isn't worth it","msgtype":"m.text"},"ts":1381245035000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"indexOf(\"href\") seems pretty sadface","msgtype":"m.text"},"ts":1381245052000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Oh, that part","msgtype":"m.text"},"ts":1381245063000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well yeah","msgtype":"m.text"},"ts":1381245066000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'll agree with that","msgtype":"m.text"},"ts":1381245073000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"if that's a loop over [x] then it's calling it on a separate thing on each call, so it wouldn't be able to pull it out anyway","msgtype":"m.text"},"ts":1381245077000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I was about to say","msgtype":"m.text"},"ts":1381245085000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I should apparently stop talking because I keep being wrong","msgtype":"m.text"},"ts":1381245100000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"this is the june data set (53,000 pages)","msgtype":"m.text"},"ts":1381245102000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zewt: good point","msgtype":"m.text"},"ts":1381245197000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie_: ping","msgtype":"m.text"},"ts":1381245708000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"so just \"\\.innerHTML\\.\" is 291 matches. looking through them i don't see anything that is calling innerHTML on a single element in a loop","msgtype":"m.text"},"ts":1381246383000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so it's not clear to me that it's actually common","msgtype":"m.text"},"ts":1381246467000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that said, i don't really object to changing innerHTML to not throw, if the argument is shorter path to interop and better perf in an uncommon case","msgtype":"m.text"},"ts":1381246550000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"next stop: Ã¶rebro","msgtype":"m.text"},"ts":1381246581000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Not sure if it is true in this case, but it could be in a benchmark","msgtype":"m.text"},"ts":1381246595000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and oh, he got off the train","msgtype":"m.text"},"ts":1381246604000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(the point being that if there is a dumb benchmark there is significant pressure to keep the fast behaviour even if it is not a common case in the real world)","msgtype":"m.text"},"ts":1381246645000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Utrecht here","msgtype":"m.text"},"ts":1381246742000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what would you do in XML though?","msgtype":"m.text"},"ts":1381246837000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"return null?","msgtype":"m.text"},"ts":1381246837000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"should we start annotating exceptions in IDL?","msgtype":"m.text"},"ts":1381246837000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I need to ask bz again what the benefit is","msgtype":"m.text"},"ts":1381246837000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also, we should prolly first sort out exceptions","msgtype":"m.text"},"ts":1381246844000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":/","msgtype":"m.text"},"ts":1381246844000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"returning null seems like it makes it harder to debug the error","msgtype":"m.text"},"ts":1381248285000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: https://github.com/validator/htmlparser/commit/888fba3fe33c9b0fb0df76189b9d549eae176833","msgtype":"m.text"},"ts":1381248443000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: full Treebuilder.java source is at https://github.com/validator/htmlparser/blob/888fba3fe33c9b0fb0df76189b9d549eae176833/src/nu/validator/htmlparser/impl/TreeBuilder.java","msgtype":"m.text"},"ts":1381248460000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thanks!","msgtype":"m.text"},"ts":1381248474000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: after after body already did the \"right\" thing","msgtype":"m.text"},"ts":1381248561000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1381248570000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not in the spec but in the impl","msgtype":"m.text"},"ts":1381248584000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1381248589000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"i don't know how but the /parsetree/ result obviously put the comment in body","msgtype":"m.text"},"ts":1381248720000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"must be some other magic in there","msgtype":"m.text"},"ts":1381248966000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: do you need to flush before pop?","msgtype":"m.text"},"ts":1381249256000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: traditionally it's done in the other order","msgtype":"m.text"},"ts":1381249276000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"MikeSmith: or do them together","msgtype":"m.text"},"ts":1381249278000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"really, really sorry","msgtype":"m.emote"},"ts":1381249280000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: ?","msgtype":"m.text"},"ts":1381249309000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"really, nevermind","msgtype":"m.text"},"ts":1381249319000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"k :-)","msgtype":"m.text"},"ts":1381249336000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: https://github.com/validator/htmlparser/commit/888fba3fe33c9b0fb0df76189b9d549eae176833#diff-82f1ed4c3b29018e8cae550a4c376b5eR1165","msgtype":"m.text"},"ts":1381249372000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I can try and see if it makes any different","msgtype":"m.text"},"ts":1381249378000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: so yeah it makes no difference as far as the runtime failure","msgtype":"m.text"},"ts":1381249716000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1381249729000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it's still failing at https://github.com/validator/htmlparser/commit/888fba3fe33c9b0fb0df76189b9d549eae176833#diff-82f1ed4c3b29018e8cae550a4c376b5eR1165","msgtype":"m.text"},"ts":1381249732000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"um no not there","msgtype":"m.text"},"ts":1381249792000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://github.com/validator/htmlparser/commit/888fba3fe33c9b0fb0df76189b9d549eae176833#diff-82f1ed4c3b29018e8cae550a4c376b5eL2889","msgtype":"m.text"},"ts":1381249906000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1381250660000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"How could we make sure that people don't look at a TR/ spec when there is a newer editor's draft","msgtype":"m.text"},"ts":1381250690000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"asking w3c to change TR/ to Trash/ might not be quite nice","msgtype":"m.text"},"ts":1381250718000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"zcorpan, Ms2ger: I don't think WeakSet exists in ES yet, but it's one of those things that everyone assumes will happen soon, since it's just a nice convenience API over WeakMap with dummy values.","msgtype":"m.text"},"ts":1381251043000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hmm, what is the usecase for WeakSet?","msgtype":"m.text"},"ts":1381251067000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"TabAtkins, http://people.mozilla.org/~jorendorff/es6-draft.html#sec-weakset-objects","msgtype":"m.text"},"ts":1381251075000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"\"An implementation may impose an arbitrarily determined latency\" ... very strangely written text","msgtype":"m.text"},"ts":1381251226000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"making me squint reading it to figure out that they're talking about GC, instead of just saying so","msgtype":"m.text"},"ts":1381251334000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"smaug____: not sure that there are ever strictly use cases for sets in addition to maps, typically it's just convenience","msgtype":"m.text"},"ts":1381251373000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Ms2ger: Welp, I'm wrong. They're totally specced.","msgtype":"m.text"},"ts":1381251447000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"well, there are plenty of use cases for normal sets, but weakset is very different beast","msgtype":"m.text"},"ts":1381251448000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: Same use-case as Set over Map.  A Set is nothing more than a Map with a dummy value and a more convenient API.","msgtype":"m.text"},"ts":1381251465000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"It's for \"I want to make a set of things for some reason, but don't want this to cause memory-leaks\".","msgtype":"m.text"},"ts":1381251494000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"sure, but WeakSet is very different from a Set","msgtype":"m.text"},"ts":1381251495000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"you need to still keep reference to the key","msgtype":"m.text"},"ts":1381251514000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"WeakSet is basically a branding mechanism.","msgtype":"m.text"},"ts":1381251521000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"no iteration or anything","msgtype":"m.text"},"ts":1381251528000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"You can throw things into a WeakSet to indicate that they have some hidden, unforgeable property.","msgtype":"m.text"},"ts":1381251546000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Doing so with a Set, obviously, would leak like a sieve.","msgtype":"m.text"},"ts":1381251600000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1381251606000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"But yeah, the only thing you can do with a WeakSet is put things in it, and check if something is in it.","msgtype":"m.text"},"ts":1381251628000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Those are still useful operations.","msgtype":"m.text"},"ts":1381251633000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"WeakMap is just so close...","msgtype":"m.text"},"ts":1381251762000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but ok, that is a use case","msgtype":"m.text"},"ts":1381251770000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Ms2ger: so, what do you think of W3C Bug 23460","msgtype":"m.text"},"ts":1381251864000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____, I'm fine either way","msgtype":"m.text"},"ts":1381251932000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"smaug____: And Map is so close to Set. ^_^  But having the ability to union/intersect/etc is worth the pain of essentially just having syntax sugar over a Map.","msgtype":"m.text"},"ts":1381251949000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, oh, and here I thought you always wore ties to csswg meetings","msgtype":"m.text"},"ts":1381252051000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Nope, just on Fridays.","msgtype":"m.text"},"ts":1381252073000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Ms2ger: well, the question is should we spec the reality, or something that we hope browsers to do","msgtype":"m.text"},"ts":1381252082000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"By the way, still disappointed I only got to see you through a window in a door. :/","msgtype":"m.text"},"ts":1381252095000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, not like I was hiding during the break...","msgtype":"m.text"},"ts":1381252123000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"smaug____, has anyone tested IE already?","msgtype":"m.text"},"ts":1381252136000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Sure you were! By the time I was done talking about colors, you'd run away.","msgtype":"m.text"},"ts":1381252147000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Ms2ger: I did, using that browserstack thing","msgtype":"m.text"},"ts":1381252180000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hmm, but, we need to define the algorithm somewhere","msgtype":"m.text"},"ts":1381252206000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____, I'll go with not throwing, then","msgtype":"m.text"},"ts":1381252211000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hixie_, ping","msgtype":"m.text"},"ts":1381252219000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"HTML spec's XML serialization is used elsewhere too, I think","msgtype":"m.text"},"ts":1381252230000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I think xhr used to use it directly?","msgtype":"m.text"},"ts":1381252399000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: http://domparsing.spec.whatwg.org/#innerhtml points to HTML spec's XML serialization, http://xhr.spec.whatwg.org/#dom-xmlhttprequest-send points to http://domparsing.spec.whatwg.org/#concept-serialize which points to http://domparsing.spec.whatwg.org/#concept-serialize-xml","msgtype":"m.text"},"ts":1381252594000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Right","msgtype":"m.text"},"ts":1381252621000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"which is somewhat odd","msgtype":"m.text"},"ts":1381252659000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but anyhow, this change could all be done in the domparsing spec","msgtype":"m.text"},"ts":1381252685000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"But then we should remove the bit from HTML, if nobody else uses it","msgtype":"m.text"},"ts":1381252758000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: we use it for Document, I think","msgtype":"m.text"},"ts":1381252829000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Hmm?","msgtype":"m.text"},"ts":1381252839000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"http://domparsing.spec.whatwg.org/#concept-serialize-xml Document part links to HTML spec","msgtype":"m.text"},"ts":1381252853000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"MikeSmith: https://github.com/validator/htmlparser/blob/888fba3fe33c9b0fb0df76189b9d549eae176833/src/nu/validator/htmlparser/impl/TreeBuilder.java#L2534","msgtype":"m.text"},"ts":1381260139000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"also https://github.com/validator/htmlparser/blob/888fba3fe33c9b0fb0df76189b9d549eae176833/src/nu/validator/htmlparser/impl/TreeBuilder.java#L2478","msgtype":"m.text"},"ts":1381260429000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"https://github.com/validator/htmlparser/blob/888fba3fe33c9b0fb0df76189b9d549eae176833/src/nu/validator/htmlparser/impl/TreeBuilder.java#L2886","msgtype":"m.text"},"ts":1381260507000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: the spec has \"act as if in body\" language for e.g. <html> in head that v.nu parser has inline","msgtype":"m.text"},"ts":1381260612000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: https://github.com/validator/htmlparser/blob/888fba3fe33c9b0fb0df76189b9d549eae176833/src/nu/validator/htmlparser/impl/TreeBuilder.java#L4019 also looks wrong (for </head><style></style>...)","msgtype":"m.text"},"ts":1381260893000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or rather https://github.com/validator/htmlparser/blob/888fba3fe33c9b0fb0df76189b9d549eae176833/src/nu/validator/htmlparser/impl/TreeBuilder.java#L4021","msgtype":"m.text"},"ts":1381260946000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"need pop() here? https://github.com/validator/htmlparser/blob/888fba3fe33c9b0fb0df76189b9d549eae176833/src/nu/validator/htmlparser/impl/TreeBuilder.java#L2981","msgtype":"m.text"},"ts":1381261189000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"function add2(a, b) {","msgtype":"m.text"},"ts":1381262661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"  return Task.spawn(function () {","msgtype":"m.text"},"ts":1381262661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"    let sum = yield a + b;","msgtype":"m.text"},"ts":1381262662000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"    throw new Task.Result(sum);","msgtype":"m.text"},"ts":1381262662000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"  });","msgtype":"m.text"},"ts":1381262662000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"} I for one welcome our new ES6 overlords","msgtype":"m.text"},"ts":1381262678000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(hopefully that's just some perversion in that library)","msgtype":"m.text"},"ts":1381262724000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(but oh boy is it ugly)","msgtype":"m.text"},"ts":1381262733000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Never look at the implementation details of coroutines. *shudder*","msgtype":"m.text"},"ts":1381262952000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"But this is supposed to be user-level code!","msgtype":"m.text"},"ts":1381263027000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I think it's proof that while generators enable you to implement such things, without syntax to support it no mere mortal should be expected to do it.","msgtype":"m.text"},"ts":1381263206000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"http://www.ietf.org/mail-archive/web/json/current/msg01783.html lol, also :/","msgtype":"m.text"},"ts":1381264233000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: only yield is in ES6","msgtype":"m.text"},"ts":1381264296000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: throw? that looks weird...","msgtype":"m.text"},"ts":1381265032000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"jgraham: Where's that example from? \"yield a+b\" in Task is completely worthless, because \"a+b\" doesn't return a Task.","msgtype":"m.text"},"ts":1381265362000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"That's just inserting useless asynchrony.","msgtype":"m.text"},"ts":1381265369000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But yeah, I suspect in ES7 we'll get sugar for this stuff, since fully async functions are just generators + a CPS transform.","msgtype":"m.text"},"ts":1381265418000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"function^ add2(a,b) { let sum = await a+b; return sum; }, or something like that.  Automatically returns a promise for the return value.","msgtype":"m.text"},"ts":1381265470000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"slightlyoff: is there any API for https://github.com/slightlyoff/ServiceWorker/blob/master/explainer.md stuff?","msgtype":"m.text"},"ts":1381265570000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"really hard to understand that all without seeing interfaces","msgtype":"m.text"},"ts":1381265583000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"TabAtkins: It's from mozilla.dev.platform","msgtype":"m.text"},"ts":1381265635000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I think that is Mozilla generator stuff, that is the only way it makes sense","msgtype":"m.text"},"ts":1381265640000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"not ES6 generators","msgtype":"m.text"},"ts":1381265644000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"smaug____ (give or take a _): look at https://github.com/slightlyoff/ServiceWorker/blob/master/service_worker.ts","msgtype":"m.text"},"ts":1381265654000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"Per the guy sitting next to me who's implementing ServiceWorker that's the closest thing to an API doc at the moment","msgtype":"m.text"},"ts":1381265678000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"ahaa","msgtype":"m.text"},"ts":1381265698000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"using some odd form of idl","msgtype":"m.text"},"ts":1381265724000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ts = TypeScript apparently","msgtype":"m.text"},"ts":1381265736000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"or perhaps that is some es thing","msgtype":"m.text"},"ts":1381265738000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ah, hm, right","msgtype":"m.text"},"ts":1381265743000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"zcorpan: http://simon.html5.org/specs/quirks-mode -> https://dvcs.w3.org/hg/quirks-mode/raw-file/tip/Overview.html -> \"error: Overview.html@936eae1aa829: not found in manifest\"","msgtype":"m.text"},"ts":1381266859000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"miketaylr: http://quirks.spec.whatwg.org","msgtype":"m.text"},"ts":1381266907000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: thanks. possible to update the link on the \"This document has been superseded. See http://dvcs.w3.org/hg/quirks-mode/raw-file/tip/Overview.html. \" message?","msgtype":"m.text"},"ts":1381266936000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"Domenic_: Ah, I assumed they were compatible","msgtype":"m.text"},"ts":1381266938000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"generally Mozilla's stuff is pretty far off from ES6... :-/","msgtype":"m.text"},"ts":1381267003000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"miketaylr: maybe","msgtype":"m.text"},"ts":1381267022000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or just 301 to quirks.spec.whatwg.org","msgtype":"m.text"},"ts":1381267053000,"senderName":"matjas","senderId":"matjas@irc"},
{"content":{"body":"yeah or meta refresh :P","msgtype":"m.text"},"ts":1381267064000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"i'll just <marquee> the message","msgtype":"m.text"},"ts":1381267082000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wfm.","msgtype":"m.text"},"ts":1381267126000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"ah, the good olâ€™ special miketaylr treatment","msgtype":"m.text"},"ts":1381267133000,"senderName":"matjas","senderId":"matjas@irc"},
{"content":{"body":"TabAtkins: You around?","msgtype":"m.text"},"ts":1381267255000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: pong","msgtype":"m.text"},"ts":1381267261000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, more srcset questions :)","msgtype":"m.text"},"ts":1381267295000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"Hey! I've got a question regarding srcset/srcN, intrinsic size and natural dimensions.","msgtype":"m.text"},"ts":1381267301000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Do naturalWidth/naturalHeight return the real natural dimensions, or the corrected intrinsic dimensions?","msgtype":"m.text"},"ts":1381267334000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Where are those defined?  I know those properties exist, but I'm not familiar with them.","msgtype":"m.text"},"ts":1381267360000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(See: http://www.whatwg.org/specs/web-apps/current-work/multipage/embedded-content-1.html#dom-img-naturalwidth)","msgtype":"m.text"},"ts":1381267361000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"Thanks, pdr. ^_^","msgtype":"m.text"},"ts":1381267367000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"The intrinsic width and height of <img>s are corrected by the chosen resolution multiplier.  Pretty sure this is specified for srcset in HTML, and it's an oversight I haven't yet corrected in srcN.","msgtype":"m.text"},"ts":1381267403000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Just to be extra concrete, <img srcset=\"100x100.png 2x\"> would have an intrinsic size of 50x50, a natural size of 50x50, and an actual size of 50x50. There is no way to access the original 100x100 dimensions via javascript","msgtype":"m.text"},"ts":1381267477000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"bholley: poing","msgtype":"m.text"},"ts":1381267505000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Is that correct?","msgtype":"m.text"},"ts":1381267514000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"Yes.","msgtype":"m.text"},"ts":1381267517000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hixie_: too late at this point in the French evening ;-)","msgtype":"m.text"},"ts":1381267520000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"Hixie_: but tomorrow, if that works for you","msgtype":"m.text"},"ts":1381267527000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"pdr: what do you mean by natural and actual?","msgtype":"m.text"},"ts":1381267527000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"bholley: sure thing","msgtype":"m.text"},"ts":1381267531000,"senderName":"Hixie_","senderId":"Hixie_@irc"},
{"content":{"body":"Hixie_: cool","msgtype":"m.text"},"ts":1381267538000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"zcorpan, nautral is defined in the link above. Actual is the dimensions that the image gets in the dom","msgtype":"m.text"},"ts":1381267550000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"pdr: naturalWidth returns the intrinsic width, so yeah","msgtype":"m.text"},"ts":1381267648000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"pdr: i don't follow \"gets in the dom\"","msgtype":"m.text"},"ts":1381267660000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah, we were just making extra sure as we implement this in Blink. By \"gets in the dom\" I just mean what image.width returns","msgtype":"m.text"},"ts":1381267689000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"yoav: Okay, it's now specified in the spec.","msgtype":"m.text"},"ts":1381267697000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Awesome!","msgtype":"m.text"},"ts":1381267718000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"pdr: ...assuming that the author doesn't specify width='', etc.","msgtype":"m.text"},"ts":1381267721000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"pdf: ok. then img.width can return something else, because it returns the rendered width, which can be set by CSS","msgtype":"m.text"},"ts":1381267736000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: No, img.width doesn't care about CSS, iirc.","msgtype":"m.text"},"ts":1381267753000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/multipage/embedded-content-1.html#dom-img-width","msgtype":"m.text"},"ts":1381267758000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yes it does :-P","msgtype":"m.text"},"ts":1381267769000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Whoops, never mind.","msgtype":"m.text"},"ts":1381267772000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Yeah, that's right, that's why .naturalWidth/Height exist.","msgtype":"m.text"},"ts":1381267782000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Lets walk through that example. <img srcset=\"100x100.png 2x\" width=\"5\" height=\"5\">. This will have an intrinsic size of 50x50, a natural size of 50x50, and an image size of 5x5, if I understand correctly","msgtype":"m.text"},"ts":1381267801000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"Yup.","msgtype":"m.text"},"ts":1381267811000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"naturalWidth/Height is just the name of the properties.  It's defined as returning the intrinsic width/height.","msgtype":"m.text"},"ts":1381267835000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"well, it would be reasonable for width/height to reflect the width/height attributes, like all other HTML elements with width/height attributes, but <img> is special","msgtype":"m.text"},"ts":1381267835000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"There's no separate notion of \"natural width/height\".","msgtype":"m.text"},"ts":1381267842000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: OK. So intrinsic==natural.","msgtype":"m.text"},"ts":1381267876000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"naturalWidth just has a stupid name because it was implemented before it was specced :-)","msgtype":"m.text"},"ts":1381267929000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(<video> has videoWidth, btw)","msgtype":"m.text"},"ts":1381267967000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(which might also be a stupid name, but for a different reason. iirc videoWidth predated naturalWidth in the spec.)","msgtype":"m.text"},"ts":1381268005000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"pdr: also, for completeness, <img srcset=\"100x100.png 2x\" width=\"5\" height=\"5\" style=\"width:10px; height:10px\"> would have an image size of 10x10","msgtype":"m.text"},"ts":1381268086000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, that's a great point, thank you","msgtype":"m.text"},"ts":1381268124000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/multipage/embedded-content-1.html#dom-img-width also has different rules for when the image isn't actually rendered","msgtype":"m.text"},"ts":1381268149000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"miketaylr: fixed","msgtype":"m.text"},"ts":1381268772000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: gracias","msgtype":"m.text"},"ts":1381268796000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"so speaking of json, i recall when we implemented json support in carakan, everyone did their own thing and we tried to follow the spec to the letter but had to derivate for some things because of web compat","msgtype":"m.text"},"ts":1381270391000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i wonder what the situation is today","msgtype":"m.text"},"ts":1381270402000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i guess the spec hasn't changed because it MUST NOT CHANGE","msgtype":"m.text"},"ts":1381270416000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"All this fuss about JSON and it still doesn't support comments.","msgtype":"m.text"},"ts":1381270527000,"senderName":"annevk_","senderId":"annevk_@irc"},
{"content":{"body":"(or maybe it was before carakan)","msgtype":"m.text"},"ts":1381270556000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: yeah, that argument seems to be repeated a lot.","msgtype":"m.text"},"ts":1381270570000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"JSON can't change since it's not versioned.\", no, it can't change because people believe that it can't change","msgtype":"m.text"},"ts":1381271607000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that's a pretty funny thing to say since we stopped versioning HTML precisely to make it easier to change :-P","msgtype":"m.text"},"ts":1381272183000,"senderName":"Hixie_","senderId":"Hixie_@irc"}
]