[
{"content":{"body":"<xmp> 4evah","msgtype":"m.text"},"ts":1416355404000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"\"Blending of HTML and SVG elements\" << is that part of what you were saying before about moving svg into the html namespace?","msgtype":"m.text"},"ts":1416355666000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp, no, this is about blend modes","msgtype":"m.text"},"ts":1416355682000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"mm","msgtype":"m.text"},"ts":1416355692000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"if google groups notifications would link to the actual thread it would be easier to read the whole thing :>","msgtype":"m.text"},"ts":1416355715000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp, https://groups.google.com/a/chromium.org/d/msg/blink-dev/WoLwgoPB-GE/KqAftxiogKMJ","msgtype":"m.text"},"ts":1416355759000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"caitp, agreed, google groups... ( ._.)","msgtype":"m.text"},"ts":1416355777000,"senderName":"pdr","senderId":"pdr@irc"},
{"content":{"body":"so it's basically a feature, that's cool","msgtype":"m.text"},"ts":1416355802000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Hixie: CSSOM added now (and CSSOM Views)","msgtype":"m.text"},"ts":1416360196000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"A few of us are starting work on Element Queries. Your thoughts, concerns, questions, and feedback are most desired. https://github.com/ResponsiveImagesCG/eq-demos","msgtype":"m.text"},"ts":1416360253000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"hey JonathanNeal can you give me a use case? I'm trying to understand better","msgtype":"m.text"},"ts":1416360509000,"senderName":"Una","senderId":"Una@irc"},
{"content":{"body":"Una: yes. You have a widget running in a web page that you do not control. The widget may be in a narrow column or a wide column. When the column is narrow, even though the screen is large, things go poorly for the widget.","msgtype":"m.text"},"ts":1416360745000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Una: there is also an effort in progress to formalize use cases @ http://responsiveimagescg.github.io/eq-usecases/","msgtype":"m.text"},"ts":1416360790000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal but if you don't control the widget, how are you going to style it with element queries?","msgtype":"m.text"},"ts":1416360794000,"senderName":"Una","senderId":"Una@irc"},
{"content":{"body":"The widget deploys its own HTML and CSS, but does not control where it lives on the page.","msgtype":"m.text"},"ts":1416360825000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"The admin who controls the page has the power to “deploy the widget here”, here being any kind of column.","msgtype":"m.text"},"ts":1416360888000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"This is the same need we have in media queries, but in context of the layout vs in context of the screen size.","msgtype":"m.text"},"ts":1416360915000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"For Element Queries, I think the simpliest use case is: “I have a widget that needs to look good in any column of our layout, whether that column is small, medium, or large.”","msgtype":"m.text"},"ts":1416362285000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"MikeSmith: cool, thanks","msgtype":"m.text"},"ts":1416362764000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"JonathanNeal: how do you avoid creating cycles?","msgtype":"m.text"},"ts":1416371024000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Can anyone recommend any alternatives to Filezilla for OSX? Want to try something different.","msgtype":"m.text"},"ts":1416381096000,"senderName":"jamesheston","senderId":"jamesheston@irc"},
{"content":{"body":"TabAtkins: is bikeshed responsible for this URL? https://github.com/whatwg/url/blob/bd3f0ce38f61db5cfa2c485fef7aec2e4bdb0182/url.html#L26","msgtype":"m.text"},"ts":1416384162000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: https://github.com/whatwg/platform.html5.org/pull/7","msgtype":"m.text"},"ts":1416384321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys1: \"If the @ flag is set, parse error, prepend \"%40\" to buffer.\" does not cause reordering...","msgtype":"m.text"},"ts":1416392309000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: can you explain?  If buffer has characters, and you put another character in front of those characters, doesn't that re-order?","msgtype":"m.text"},"ts":1416392416000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: it only puts it in front if the flag was set, meaning it has to be in front","msgtype":"m.text"},"ts":1416392441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://url.spec.whatwg.org/#authority-state","msgtype":"m.text"},"ts":1416392507000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"step 1.1; prepend.  step 1.2, sets the flag.  Next time through the loop, the flag is still set?","msgtype":"m.text"},"ts":1416392545000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"by the way, testing with chrome and firefox shows that re-ordering does occur.","msgtype":"m.text"},"ts":1416392577000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"(it also shows that browsers don't implement this interoperably)","msgtype":"m.text"},"ts":1416392697000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"hmm, yeah, there's a bug there, I can't reproduce reordering in Firefox","msgtype":"m.text"},"ts":1416392955000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, cool!.  I'll change mine to simply string.replace('@', '%40')","msgtype":"m.text"},"ts":1416392998000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"er, /@/g","msgtype":"m.text"},"ts":1416393016000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: btw, we say that diagrams are non-normative, yet you want to introduce normative ones...","msgtype":"m.text"},"ts":1416393026000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: and that spec is still lacking normative statements, and has some normative statements in notes, doesn't really seem ready","msgtype":"m.text"},"ts":1416393057000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ack","msgtype":"m.text"},"ts":1416393058000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I still have that on the todo list. I also don't really understand the comment, so some concrete suggestions would be helpful.","msgtype":"m.text"},"ts":1416393095000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Also, a concern was raised that these productions are not accessible and that therefore it's hard to treat them as normative","msgtype":"m.text"},"ts":1416393527000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"s/productions/diagrams/","msgtype":"m.text"},"ts":1416393536000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: what is unclear about the comment?","msgtype":"m.text"},"ts":1416393552000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"valid concern.  I can provide BNF-like notation as an alternate.  Might need to work with TabAtkins to make that so.","msgtype":"m.text"},"ts":1416393592000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"yeah seems like the CSS spec has the same issue if so","msgtype":"m.text"},"ts":1416393627000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"specs","msgtype":"m.text"},"ts":1416393640000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"First, I don't understand how you have normative statements that say that you MUST do x, and then follow up with a statement that you don't need to do x, you just need to produce the same results as x.","msgtype":"m.text"},"ts":1416393654000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"or are the railroad diagrams in the CSS specs never normative?","msgtype":"m.text"},"ts":1416393656000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in CSS, they are not normative","msgtype":"m.text"},"ts":1416393666000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1416393676000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: even so, it probably would be good if they were accessible.","msgtype":"m.text"},"ts":1416393737000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"trueーunless it's clear from the context that they're simply illustrating some normative part of the spec","msgtype":"m.text"},"ts":1416393828000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: my understanding is that the normative part describes the full grammar (with error correction), and the non-normative diagrams are a simplified form explaining correct usage.","msgtype":"m.text"},"ts":1416393898000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1416393916000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"makes sense","msgtype":"m.text"},"ts":1416393923000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"In the URL space, the grammar is much smaller","msgtype":"m.text"},"ts":1416393943000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1416394054000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: you MUST do x or equivalent and for brevity \"or equivalent\" is omitted and expanded upon elsewhere; that's pretty normal","msgtype":"m.text"},"ts":1416394210000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: can you identify a case where a MUST is missing?  I work best from examples.","msgtype":"m.text"},"ts":1416394284000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: I thought you wanted to do the heavy lifting","msgtype":"m.text"},"ts":1416394331000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: if I still have to shift through everything and explain how to write a specification, I'm not sure it's going to be much quicker than just doing it myself","msgtype":"m.text"},"ts":1416394358000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I didn't think asking for a single example was asking too much.","msgtype":"m.text"},"ts":1416394383000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: well currently the only places the spec uses MUST is in the conformance section and parse exceptions","msgtype":"m.text"},"ts":1416394417000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: it seems pretty self-evident that requirements are missing in that case","msgtype":"m.text"},"ts":1416394441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: it's not entirely clear to me currently what the entry point is","msgtype":"m.text"},"ts":1416394497000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok.  It is still on the todo list (as listed in the spec).  I fear that I'm playing \"fetch me a rock\", but I'll try.","msgtype":"m.text"},"ts":1416394498000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: I have the same feeling, whenever I point out something that's wrong, I get asked for examples, tests, and demonstrations","msgtype":"m.text"},"ts":1416394545000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"incidentally, looking back at the CSS Syntax spec now, I wonder if I'm the only only who doesn't find it so useful that following a hyperlink for, e.g., \"<string-token>\" doesn't actually take me to any kind of definition of what a <string-token> isーnot even to an (informative) railroad diagram; instead it takes to me to... I don't know what http://dev.w3.org/csswg/css-syntax/#typedef-string-token And i","msgtype":"m.text"},"ts":1416394576000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"f I want the actual normative definition of what a <string-token> is, there's nothing directly hyperlinked toーI just have to somehow know I need to read \"Consume a string token\" http://dev.w3.org/csswg/css-syntax/#consume-string-token","msgtype":"m.text"},"ts":1416394582000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: that is pretty confusing","msgtype":"m.text"},"ts":1416394616000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah I am recalling now just how confusing I really find it when I was trying to understand the formalism for the \"sizes\" attribute value (which normatively refers to the CSS specs)","msgtype":"m.text"},"ts":1416394686000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"*found it","msgtype":"m.text"},"ts":1416394697000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: I guess I should also say that I'm not okay with encouraging the W3C to fork whatwg/url","msgtype":"m.text"},"ts":1416394964000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: that happening just after I accepted working with you is rather surprising and discomforting, I'm not entirely sure if I want to proceed","msgtype":"m.text"},"ts":1416394995000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: two things.  (1) I intend to work with everybody and anybody; and (2) I am entirely unimpressed with the lack of response by the webapps (in particular, the webapps chairs).","msgtype":"m.text"},"ts":1416395102000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"If Mike cares to, he can confirm that I have expressed my displeasure on this matter to all levels of W3C management.","msgtype":"m.text"},"ts":1416395178000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"regarding the timing, I had published my plan to do exactly what I am doing three weeks ago","msgtype":"m.text"},"ts":1416395357000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/public-webapps/2014OctDec/0315.html","msgtype":"m.text"},"ts":1416395427000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"My experience is that when I ask questions in the WHATWG, I get answers.  When I ask questions in WebApps, I get... silence.","msgtype":"m.text"},"ts":1416395480000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: You may have noticed that I've stayed completely out of that conversation. Also I can imagine that Anne probably couldn't care less about the lack of response from the the webapps chairs or the WG on this because I can imagine he doesn't see what problem needs to be solved here, and he clearly doesn't think the solution is for the webapps WG to publish a copy of the URL spec","msgtype":"m.text"},"ts":1416395511000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: ack","msgtype":"m.text"},"ts":1416395544000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I do think that's a discussion we ought to have.  Meanwhile, I plan to make my work available to everybody who might be interested.","msgtype":"m.text"},"ts":1416395566000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"My making it available to the WHATWG is not meant to be an exclusive arrangement.","msgtype":"m.text"},"ts":1416395590000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: you're making to available to everybody simply by it being published at url.spec.whatwg.org under cc0","msgtype":"m.text"},"ts":1416395630000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: actually, I'm making it available to everybody simply by publishing it at intertwingly.net under cc0.","msgtype":"m.text"},"ts":1416395679000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"that works too","msgtype":"m.text"},"ts":1416395688000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: euhm, whatwg/url is not your work","msgtype":"m.text"},"ts":1416395689000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm going back to working on code.  I will arrange to have the proper people in this discussion, including the Director.","msgtype":"m.text"},"ts":1416395750000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: W3C's the Director has not written whatwg/url either","msgtype":"m.text"},"ts":1416395805000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: the discussion you seemed to be having here seemed to be a useful one for you and anne to have as co-editors and seems like it could be had separately from any other people or from the W3C Director","msgtype":"m.text"},"ts":1416395853000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"wonders if MikeSmith has \"W3C Director\" as an irc keyword ;)","msgtype":"m.emote"},"ts":1416395984000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: an example of my confusion: I don't see a single \"MUST\" here: https://url.spec.whatwg.org/#percent-decode","msgtype":"m.text"},"ts":1416396223000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: as I said, it depends on the entry point","msgtype":"m.text"},"ts":1416396271000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"entry point?  The only other mention to this is in the index.","msgtype":"m.text"},"ts":1416396355000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: that's not true","msgtype":"m.text"},"ts":1416396400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: click on it","msgtype":"m.text"},"ts":1416396407000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"weird.  firefox couldn't find that.","msgtype":"m.text"},"ts":1416396425000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"ah, \"percent decoding\"","msgtype":"m.text"},"ts":1416396434000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"\"Let domain be the result of  utf-8 decode without BOM on the  percent decoding of  utf-8 encode on input.     \"","msgtype":"m.text"},"ts":1416396457000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Still no must","msgtype":"m.text"},"ts":1416396460000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: still no entry point :-) it's mostly the API that requires things","msgtype":"m.text"},"ts":1416396480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: and other specs that reference these algorithms","msgtype":"m.text"},"ts":1416396490000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what I have is a spec fragment, rewriting the parsing logic.  Logic that doesn't have musts in either the current url standard or in my proposed replacement.","msgtype":"m.text"},"ts":1416396525000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"annevk: I can't see any text in url that explicitly says that when you are asked to run an algorithm only black-box indistinguishability matters","msgtype":"m.text"},"ts":1416396535000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: \"Conformance requirements phrased as algorithms or specific steps may be implemented in any manner, so long as the end result is equivalent. (In particular, the algorithms defined in this specification are intended to be easy to follow, and not intended to be performant.)\"","msgtype":"m.text"},"ts":1416396557000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: https://url.spec.whatwg.org/#conformance","msgtype":"m.text"},"ts":1416396558000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Oh, that's at the bottom now? How very confusing","msgtype":"m.text"},"ts":1416396599000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"rubys: it might be okay, though then that lone MUST is confusing","msgtype":"m.text"},"ts":1416396628000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: bikeshed templates do that, not sure why.","msgtype":"m.text"},"ts":1416396673000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"jgraham: blame TabAtkins","msgtype":"m.text"},"ts":1416396704000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"perhaps we need to add \"This specification should be read like all other specifications. First, it should be read   cover-to-cover, multiple times. Then, it should be read backwards at least once. Then it should be   read by picking random sections from the contents list and following all the cross-references.\"","msgtype":"m.text"},"ts":1416396729000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I guess someone thought that getting to the actual spec without the boilerplate stuff was a good idea. But having the \"important stuff you need to know to understand the spec\" at the top of the spec rather than at the bottom does seem to make more sense","msgtype":"m.text"},"ts":1416396741000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Or there could be a meta-specification and the top of the spec could just say \"this spec must be read according to the WHATWG specification specification\"","msgtype":"m.text"},"ts":1416396836000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(that is essentially what RFC 2119 is ofc)","msgtype":"m.text"},"ts":1416396876000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I have at times wanted to write the \"Boilerplate Standard\" that also includes common terminology","msgtype":"m.text"},"ts":1416396879000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith, annevk: since you are both here, I appear to have update access to web-platform-tests; should I still do pull requests for changes to url/urltestdata.txt?","msgtype":"m.text"},"ts":1416397208000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: Yes, see my message to whatwg","msgtype":"m.text"},"ts":1416397225000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: ok, I can work with that.","msgtype":"m.text"},"ts":1416397268000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"jgraham: should I do one pull request or three?","msgtype":"m.text"},"ts":1416397278000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: That's up to you","msgtype":"m.text"},"ts":1416397677000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hsivonen: https://news.ycombinator.com/item?id=8624160 is terrible","msgtype":"m.text"},"ts":1416402771000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: trying very hard to not 386 the entire thread","msgtype":"m.text"},"ts":1416402791000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: it has everything, praising EV, dissing DV, suggestions to replace the entire crypto stack because it's too complicated, ...","msgtype":"m.text"},"ts":1416402918000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: I was going to tweet HN jumped the shark, but then I found https://news.ycombinator.com/item?id=1339857","msgtype":"m.text"},"ts":1416403077000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The other possible response is to assume that this represents the real opinions of a subset of the relatively-tech-literate population and work out how to fix that, if necessary","msgtype":"m.text"},"ts":1416403667000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'm guessing a post suggesting that forum jumped the shark isn't going to help (c.f. the fact that post got modded into grey). I'm guessing a more informative post written there would help more, but not that much, since it comes across as no more authoratative than any other post","msgtype":"m.text"},"ts":1416403783000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"MikeSmith, thanks again :)","msgtype":"m.text"},"ts":1416404093000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: happy to help","msgtype":"m.text"},"ts":1416404153000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: OK, I've had my coffee.  If you want to talk about copying, let me know if you are available.","msgtype":"m.text"},"ts":1416404839000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: see critic for comments on the urltestdata.txt PR","msgtype":"m.text"},"ts":1416405076000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: wierd.  I copy and pasted from working code.  Odd that I lost spaces in that process.  Good catch!","msgtype":"m.text"},"ts":1416405177000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: and btw thanks extremely much for providing the relevant citations/links for the changes. I wish everybody would do that, and I hope you keep doing it. It saves a lot of reviewing time.","msgtype":"m.text"},"ts":1416405183000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yw.  It is second nature to me to do so, and I plan to continue.","msgtype":"m.text"},"ts":1416405214000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1416405242000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: btw I notice also that there's some unrelated borkedness in the expected behavior of the harness in Chrome at least. Compare the results for the last test (Parsing: <x> against <test:test>) in Chrome and Firefox","msgtype":"m.text"},"ts":1416405382000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: in my Chromium build at least, it says 'assert_equals: href expected \"x\" but got \"\"' but that's clearly not what the test is actually saying","msgtype":"m.text"},"ts":1416405435000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"re-checks it in stable Chrome","msgtype":"m.emote"},"ts":1416405463000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah, same thing in stable Chrome","msgtype":"m.text"},"ts":1416405489000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: try it here: https://url.spec.whatwg.org/reference-implementation/liveview2.html (it isn't just the harness)","msgtype":"m.text"},"ts":1416405551000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: also, in all UAs, the \"assert_unreached: Expected URL to fail parsing Reached unreachable code\" fails are all wrong. They should all be passes.","msgtype":"m.text"},"ts":1416405566000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: looking now","msgtype":"m.text"},"ts":1416405579000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: FYI, I haven't actually looked at test harness.  Ever.  I've only \"adopted\" the test data.","msgtype":"m.text"},"ts":1416405711000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"MikeSmith: OK, I've updated the pull request.  What do I need to do with the critic comments?","msgtype":"m.text"},"ts":1416405757000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: OK. and yeah of course I didn't mean to suggest that the harness problems were something for you to fix","msgtype":"m.text"},"ts":1416405758000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: they should be resolved automatically","msgtype":"m.text"},"ts":1416405771000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that's one of the nice features of critic","msgtype":"m.text"},"ts":1416405784000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: it seems possible that there isn't a harness problem; as a \"black box\", Chrome behaves a bit unpredictably when dealing with unknown url schemes.","msgtype":"m.text"},"ts":1416405822000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1416405842000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah that makes sense","msgtype":"m.text"},"ts":1416405846000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: I can't tell from https://url.spec.whatwg.org/reference-implementation/liveview2.html whether I'm seeing the expected result for the \"Parsing: <x> against <test:test>\" case","msgtype":"m.text"},"ts":1416406076000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"do you see any red?","msgtype":"m.text"},"ts":1416406094000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: no but I guess I expect it would clearly say \"Parsing failed as expected\" or something","msgtype":"m.text"},"ts":1416406113000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"instead it says \"href https://url.spec.whatwg.org/reference-implementation/liveview2.html\" and \"hostname url.spec.whatwg.org\" etc.","msgtype":"m.text"},"ts":1416406150000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"which to mean implies that it's successfully parsing a URL, though not the URL I asked it to parse","msgtype":"m.text"},"ts":1416406180000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: you are using chrome?","msgtype":"m.text"},"ts":1416406181000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I see the same thing in both Firefox and Chrome for this","msgtype":"m.text"},"ts":1416406203000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: In Chrome do exactly what I say, in this order:","msgtype":"m.text"},"ts":1416406211000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"nods","msgtype":"m.emote"},"ts":1416406235000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"1) refresh.  2) enter test:test in base, 3) enter x in the first input field","msgtype":"m.text"},"ts":1416406248000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"my conclusion: order matters, and this \"black box\" is unpredictable.","msgtype":"m.text"},"ts":1416406292000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"when parsing fails, you shouldn't see https://url.spec.whatwg.org/reference-implementation/liveview2.html, you should see \":\" for protocol, what you specified in href, and nothing else different.","msgtype":"m.text"},"ts":1416406338000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"s/else different/else/","msgtype":"m.text"},"ts":1416406352000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"For example, try http://foo:x/ as the input, which fails predictably.","msgtype":"m.text"},"ts":1416406382000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Chrome gives a port number of 0 in that case, which is out of spec, but at least sane.","msgtype":"m.text"},"ts":1416406421000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: OK yeah I see different results now when I fill in the base URL field first, then the URL field","msgtype":"m.text"},"ts":1416406443000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rubys: but I see different results in Firefox also, when I change the order","msgtype":"m.text"},"ts":1416406470000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"frameworks don't always do well when the function they are testing behave unpredictably :-)","msgtype":"m.text"},"ts":1416406510000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1416406525000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: see pm","msgtype":"m.text"},"ts":1416406548000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"MikeSmith: the test format is very peculiar, I can take a look later","msgtype":"m.text"},"ts":1416406781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: I'm mostly available now, is there anything more to say?","msgtype":"m.text"},"ts":1416407435000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I have plenty to say.  How would you like to have the discussion?  PM, here, email, ... ?","msgtype":"m.text"},"ts":1416407465000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: www-archive or here would be fine","msgtype":"m.text"},"ts":1416408544000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: give me a sec, I'll post to www-archive, and then we can discuss here (it is a half-dozen paragraphs+ of material at this point)","msgtype":"m.text"},"ts":1416408645000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/www-archive/2014Nov/0023.html","msgtype":"m.text"},"ts":1416408920000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: I don't really see it addresses the point, other than you disagreeing with my position","msgtype":"m.text"},"ts":1416411789000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I would be sad if the only solution I had available to fixing the problems I see in the URL spec is to rewrite everything myself.","msgtype":"m.text"},"ts":1416412022000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: that seems like a non-sequitur given that I gave you commit access","msgtype":"m.text"},"ts":1416412078000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: It seems that commit access was given with a string that I wasn't aware of.  And that you are reconsidering that.  I'd like to discuss.","msgtype":"m.text"},"ts":1416412122000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"we clearly have philosophical differences; but I'm convinced that operationally they don't matter.","msgtype":"m.text"},"ts":1416412175000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"you'd prefer an approach which actively denies WebApps the ability to work on the URL spec; I'd prefer an approach which gives them the opportunity to do so, with the expectation that they won't.","msgtype":"m.text"},"ts":1416412221000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys, nobody denies anyone any ability","msgtype":"m.text"},"ts":1416412243000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"rubys, that doesn't mean it's a good idea","msgtype":"m.text"},"ts":1416412250000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"rubys: you offered to be editor","msgtype":"m.text"},"ts":1416412258000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: and I don't think that is what I prefer as \"approach\"","msgtype":"m.text"},"ts":1416412274000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I made that offer to both the W3C and the WHATWG","msgtype":"m.text"},"ts":1416412285000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: what I prefer is that we have a single version of the specification, available under CC0; and I want that idea to be shared by any active collaborators (e.g. those that commit)","msgtype":"m.text"},"ts":1416412427000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rubys: it was not clear to me what upon getting commit access you would ship the repository around to other standards bodies","msgtype":"m.text"},"ts":1416412456000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I agree with that goal.  The proposal to update the WebApps version predated my contributions and eventual acceptance as editor.","msgtype":"m.text"},"ts":1416412494000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: that is in your right of course, but then I would prefer that we go back to the PR-style way of working together","msgtype":"m.text"},"ts":1416412495000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"reminds everyone to assume good intent...","msgtype":"m.emote"},"ts":1416412502000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I will state that I agree with \"a single version of the specification, available under CC0; and I want that idea to be shared by any active collaborators (e.g. those that commit)\"","msgtype":"m.text"},"ts":1416412533000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I will also state that I don't think it quite is there yet, but I am hopeful that it will be.","msgtype":"m.text"},"ts":1416412568000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: given point bad-3 in your email that seems untrue","msgtype":"m.text"},"ts":1416412591000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok, then let me explain","msgtype":"m.text"},"ts":1416412608000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: unless my sentence was not specific enough...","msgtype":"m.text"},"ts":1416412610000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I didn't interpret bad-3 that way.)","msgtype":"m.text"},"ts":1416412617000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: how did you interpret it?","msgtype":"m.text"},"ts":1416412639000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I believe that the barrier to entry for participation is too high on some specs at the WHATWG.  Dominic's spec work is an example that others should follow.","msgtype":"m.text"},"ts":1416412646000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"What I see in streams is a signs of a true meritocracy, much like I see at the Apache Software Foundation.","msgtype":"m.text"},"ts":1416412689000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"annevk: I interpreted bad-3 as he does not agree with the general WHATWG stance on copying in principle, but in combination with good-3, rubys seems fine going along with that stance in practice.","msgtype":"m.text"},"ts":1416412693000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"The fact that I am able to scale that barrier to entry isn't evidence that the barrier to entry is too high.","msgtype":"m.text"},"ts":1416412726000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"If the barrier remains too high, I'll eventually decide to work elsewhere and accept a suboptimal license.","msgtype":"m.text"},"ts":1416412788000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"And that would make me sad.","msgtype":"m.text"},"ts":1416412799000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: how is Streams different?","msgtype":"m.text"},"ts":1416412819000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://github.com/whatwg/streams - 8 contributors.  https://github.com/whatwg/url - 2 contributors.","msgtype":"m.text"},"ts":1416412856000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"I will state this: if you allow me to continue to co-edit, I WILL build a community.  I WILL have the meeting with the W3C Director and actively challenge the need for a copy.","msgtype":"m.text"},"ts":1416412961000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"And I will do that based on evidence, not philosophy.","msgtype":"m.text"},"ts":1416412973000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: okay, sounds good, make it happen","msgtype":"m.text"},"ts":1416413074000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sweet!","msgtype":"m.text"},"ts":1416413088000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Looking at https://github.com/whatwg/streams/graphs/contributors though it's not that diverse, but at least the number is higher :-)","msgtype":"m.text"},"ts":1416413105000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Note: this conversation is publicly archived.  If I don't follow through, feel free to call me on it.","msgtype":"m.text"},"ts":1416413117000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"streams has good diversity in the issue tracker. the actual contributions are mostly takeshi and I, plus a few editorial corrections.","msgtype":"m.text"},"ts":1416413157000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"also lol how you can see when i joined google from that graph :P","msgtype":"m.text"},"ts":1416413175000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"jgraham: do you have ideas how to make the relatively tech literate crowd see that certifying the binding between a public key and a host name has value?","msgtype":"m.text"},"ts":1416413629000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Which additional attack vectors are possible without that certification?","msgtype":"m.text"},"ts":1416413815000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"wilhelm: a MITM establishing an encrypted connection with the browser and another with the origin server and either reading or modifying the traffic as the MITM moves it from one pipe into the other","msgtype":"m.text"},"ts":1416413880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wilhelm: (or the MITM establishing an encrypted connection with the browser and not even bothering with taking any data from the real server)","msgtype":"m.text"},"ts":1416413931000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wilhelm: so without authenticity, a MITM can compromise both integrity and confidentiality","msgtype":"m.text"},"ts":1416413971000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"on the topic of https, an https-enabled validator.nu exist but DNS doesn't point to it yet, because I want to avoid breaking legacy API clients","msgtype":"m.text"},"ts":1416414013000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"so I want a redirect from http to https that only happens if the method is GET and there is no query string","msgtype":"m.text"},"ts":1416414040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"can someone teach me how to do that in nginx?","msgtype":"m.text"},"ts":1416414050000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I can do a redirect conditional on the method being GET","msgtype":"m.text"},"ts":1416414065000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and I can do a redirect conditional on the query string being empty","msgtype":"m.text"},"ts":1416414080000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but I don't know how to check for both conditions at the same time","msgtype":"m.text"},"ts":1416414097000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: That's the attack vector I assumed. Wouldn't merely pointing to that convince the audience?","msgtype":"m.text"},"ts":1416414214000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"wilhelm: apparently not. people seem to assume that the set of MITMs that can only read and not write is significant","msgtype":"m.text"},"ts":1416414412000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: it seems to me so much that's like flipping a switch, maybe not quite right now, but definitely down the line","msgtype":"m.text"},"ts":1416414515000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: the notion that backbone MITMs can't write *as much* data at a given time as they can read seems believable","msgtype":"m.text"},"ts":1416415097000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: so it's probably not a flip of the switch for equal amounts of MITMing in all cases","msgtype":"m.text"},"ts":1416415129000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: but it does seem naive to assume that a MITM who can read can't write at all","msgtype":"m.text"},"ts":1416415149000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: and then you don't know when the MITM is writing","msgtype":"m.text"},"ts":1416415162000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: was it claimed that you could detect MITM?","msgtype":"m.text"},"ts":1416415220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: with TOFU, you can detect if your first connection happened to be clean","msgtype":"m.text"},"ts":1416415247000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"of course, with TOFU, people just assume that the key changed for benign reasons","msgtype":"m.text"},"ts":1416415320000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"nginx is usually awesome, but the redirect stuff is remarkably inflexible (likely to be very fast)","msgtype":"m.text"},"ts":1416415562000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: publicise a tool that makes MITMing a site served using a self-signed cert trivial (c.f. firesheep)?","msgtype":"m.text"},"ts":1416415965000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Don't blame me, it's a result of the boilerplate that Domenic wrote for WHATWG specs. (Which he partially based on the CSSWG boilerplate, probably.)","msgtype":"m.text"},"ts":1416416733000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"zcorpan: grattis!","msgtype":"m.text"},"ts":1416418824000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: tack!","msgtype":"m.text"},"ts":1416418832000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"jgraham: But it's also a good idea, in general, to move that crap out of the top of the spec. You read it once, you internalize it, you're done.  Requiring people to scroll past it every time is a bit reader-hostile.  (At least, that was our reasoning in the CSSWG when we rejiggered our boilerplate.)","msgtype":"m.text"},"ts":1416418856000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"zcorpan: That url comes from WHATWG's boilerplate files in Bikeshed.  If something's wrong with it, it can be corrected.","msgtype":"m.text"},"ts":1416419115000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: it should be https://whatwg.org/","msgtype":"m.text"},"ts":1416419169000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: Setting up a rogue access point just to MITM people is trivial.","msgtype":"m.text"},"ts":1416419208000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"zcorpan: Fixed.","msgtype":"m.text"},"ts":1416419260000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"rubys: What's this about BNF-like notation?","msgtype":"m.text"},"ts":1416419287000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: thx","msgtype":"m.text"},"ts":1416419295000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"TabAtkins: there needs to be an accessible alternative to the railroad diagrams","msgtype":"m.text"},"ts":1416419316000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: If I'm understanding correctly, it's about you wanting to define some things in terms of a normative railroad diagram?","msgtype":"m.text"},"ts":1416419316000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"whether it is normative or not, if it is useful, it should be accessible","msgtype":"m.text"},"ts":1416419338000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Ah, kk.  I'd like to have such a thing, so I can add a <title> to the SVG.","msgtype":"m.text"},"ts":1416419342000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I'll bet I could auto-generate BNF from the diagram code.","msgtype":"m.text"},"ts":1416419376000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I also can meet you half way if you like.  I generate the Railroad diagrams from peg.js input, so if you provide me a means to provide extra input, I can likely do so in a few lines of code.","msgtype":"m.text"},"ts":1416419408000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"i recall a proposal at tpac about an svg <connector> or something, to connect things in a way that can be communicated to AT","msgtype":"m.text"},"ts":1416419449000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"TabAtkins: very low on the priority list, but I've seen a few cases where the vertical alignment is off.  I've rejiggered some to avoid the problem, but a few remain.","msgtype":"m.text"},"ts":1416419459000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Yes.","msgtype":"m.text"},"ts":1416419462000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"rubys: Ooh, point out when you find them.","msgtype":"m.text"},"ts":1416419476000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"http://intertwingly.net/projects/pegurl/url.html#host","msgtype":"m.text"},"ts":1416419492000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"File had a vertical gap (extra whitespace) and overlap.  By reordering, I made that go away.","msgtype":"m.text"},"ts":1416419529000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"rubys: Hmm, I see.","msgtype":"m.text"},"ts":1416419748000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I'll open two issues to track this?  Make railroad diagrams accessible, and fix vertical alignment?  Or is that unnecessary/unhelpful?","msgtype":"m.text"},"ts":1416419830000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Go for it!","msgtype":"m.text"},"ts":1416419840000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Issues are always good.","msgtype":"m.text"},"ts":1416419845000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"done","msgtype":"m.text"},"ts":1416420109000,"senderName":"rubys","senderId":"rubys@irc"},
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1416420493000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"What is the difference between node.prototype.querySelector() and node.prototype.query() ?","msgtype":"m.text"},"ts":1416420520000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: query() isn't implemented yet, but when it is, it'll be better in a few ways:","msgtype":"m.text"},"ts":1416420535000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"1) it'll work with selector strings like \"> div\", which QS fails on","msgtype":"m.text"},"ts":1416420546000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oh wait I think that's most of it because you asked about query vs. querySelector not queryAll vs. querySelectorAll","msgtype":"m.text"},"ts":1416420566000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: what about queryAll? How is it better than querySelectorAll?","msgtype":"m.text"},"ts":1416420591000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: it returns an instance of Elements, which is a proper Array subclass, which is awesome.","msgtype":"m.text"},"ts":1416420607000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: you mean qS(A) doesn't support the exact string of \"> div\"?","msgtype":"m.text"},"ts":1416420643000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"terinjokes: yeah it uses \"selector\" instead of \"relative selector\"","msgtype":"m.text"},"ts":1416420661000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: is it safe to shim query()/queryAll() by just aliasing it to querySelector()/querySelectorAll()?","msgtype":"m.text"},"ts":1416420666000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: no, definitely not.","msgtype":"m.text"},"ts":1416420677000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"jarek: use https://github.com/barberboy/dom-elements, it's pretty OK","msgtype":"m.text"},"ts":1416420690000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"there was another collection class introduced in DOM? Why not just make NodeList inherit from Array?","msgtype":"m.text"},"ts":1416420765000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: there's no \"just\"","msgtype":"m.text"},"ts":1416420836000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jarek: that breaks the web... lemme find the bug","msgtype":"m.text"},"ts":1416420841000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"wow all of these answers are wrong http://stackoverflow.com/questions/13433799/why-doesnt-nodelist-have-foreach","msgtype":"m.text"},"ts":1416420879000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"ah here we go https://esdiscuss.org/topic/why-does-legacy-content-break-when-making-array-likes-real-arrays","msgtype":"m.text"},"ts":1416420896000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it's hard not to be wrong when talking about js","msgtype":"m.text"},"ts":1416421047000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"is there also some alternative to node.children that would give Elements instance instead of NodeList?","msgtype":"m.text"},"ts":1416421061000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"node.queryAll(\"> *\")","msgtype":"m.text"},"ts":1416421077000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: uhm... for (let child of this.queryAll(\"> *\")) doesn't look very readable","msgtype":"m.text"},"ts":1416421126000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"seems fine to me","msgtype":"m.text"},"ts":1416421132000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think I'm sticking with NodeList, with ES6 it will be very easy to convert NodeList to Array, e.g. let childrenArray = [...element.children]","msgtype":"m.text"},"ts":1416421197000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"*shrug*","msgtype":"m.text"},"ts":1416421229000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"[...this.children].forEach( (child) => console.log(child))","msgtype":"m.text"},"ts":1416421230000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"You can't convert children to an array unless we make children iterable","msgtype":"m.text"},"ts":1416421254000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"s/children iterable/NodeList iterable/","msgtype":"m.text"},"ts":1416421261000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"which would probably be a good idea, I mean","msgtype":"m.text"},"ts":1416421271000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1416421279000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: Which I assume we'd do, since it's a symbol property and so won't be problematic int he same way.","msgtype":"m.text"},"ts":1416421282000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Domenic: I can make NodeList iterable myself :P","msgtype":"m.text"},"ts":1416421284000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"in which case it's just for (const child of this.children) { ... }","msgtype":"m.text"},"ts":1416421287000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it would kind of suck to have to manually polyfill NodeList / HTMLCollection / etc to be iterable","msgtype":"m.text"},"ts":1416421359000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"jgraham: specification authors not maintaining their specification is also bad, though ;-)","msgtype":"m.text"},"ts":1416421749000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"NodeList is already iterable","msgtype":"m.text"},"ts":1416421788000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not that my opinion matters on this, but fwiw, i prefer conformance at the top, and for the bottom to be indices, references, acks, in that order.","msgtype":"m.text"},"ts":1416421853000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"conformance at the bottom in particular is quite confusing to me at first :-)","msgtype":"m.text"},"ts":1416421866000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I can definitely say I'm happy that our conformance moved to the bottom, because it means less PgDn necessary to get to the spec text.","msgtype":"m.text"},"ts":1416421900000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk: Right, but most bugs in implementations aren't bugs in specifications","msgtype":"m.text"},"ts":1416421929000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"tab: yeah, i guess it depends on the spec. when you have the table of contents and then a multipage intro before anything else, the issue of whether the conformance section is before or after the rest of the spec text is pretty moot.","msgtype":"m.text"},"ts":1416421958000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: do we have data on that? Often a clearer specification would help","msgtype":"m.text"},"ts":1416421967000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tab: (and HTML's conformance section is pretty big in practice, it's not really just boilerplate)","msgtype":"m.text"},"ts":1416421978000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: oops, I don't have data either, so I should not have said that second thing :-)","msgtype":"m.text"},"ts":1416421992000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I have a hard time believing that most platform bugs in Gecko (for example) were actually spec bugs","msgtype":"m.text"},"ts":1416422006000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It's certainly *sometimes* true, but you have a huge observer bias since you almost only see bugs where it is true","msgtype":"m.text"},"ts":1416422043000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"must be missing context","msgtype":"m.emote"},"ts":1416422061000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"But yeah I can't prove it","msgtype":"m.text"},"ts":1416422068000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Ms2ger: whatwg@","msgtype":"m.text"},"ts":1416422074000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well I assume, either that or I have no idea waht annevk is on about :)","msgtype":"m.text"},"ts":1416422092000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"isn't sure what jgraham is on about either","msgtype":"m.emote"},"ts":1416422109000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ha","msgtype":"m.text"},"ts":1416422114000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hixie: it certainly seems that in practice \"Conformance\" being boilerplate would help implementers, as they are unlikely to read the whole document","msgtype":"m.text"},"ts":1416422213000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: not that I'm particularly happy about the new section ordering, but I haven't really put time into appreciating it either","msgtype":"m.text"},"ts":1416422260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I recall there were some plans to introduce document.createElement(\"svg:rect\") in place of document.createElement(\"http://www.w3.org/2000/svg\", \"rect\")","msgtype":"m.text"},"ts":1416422275000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"my \"conformance\" section includes pages and pages of terminology definitions that other specs rely on, as well as references to other specs that i rely on, a long description of all the conformance classes which is pretty html-specific, etc.","msgtype":"m.text"},"ts":1416422276000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"^ is this standarized anywhere already?","msgtype":"m.text"},"ts":1416422284000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: No.","msgtype":"m.text"},"ts":1416422296000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"No","msgtype":"m.text"},"ts":1416422299000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"the actual boilerplate is only a few paragraphs but having that specifically moved elsewhere would be really weird and wouldn't really help tab's page-down-count issue.","msgtype":"m.text"},"ts":1416422301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it should be document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\")","msgtype":"m.text"},"ts":1416422303000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"qnames lol","msgtype":"m.text"},"ts":1416422304000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"TabAtkins: how likely is this proposal to get accepted? Would it be reasonable to shim it already?","msgtype":"m.text"},"ts":1416422342000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"createElementNS feels out of place in HTML5, there has to be better API introduced","msgtype":"m.text"},"ts":1416422367000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"Quite unlikely","msgtype":"m.text"},"ts":1416422385000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Nobody's really picked it up after the initial thread wound down, so no clue what it'll eventually look like.  Do whatever you want for your own APIs, though.  No need to shim document.createElement(), that's a terrible long name anyway.","msgtype":"m.text"},"ts":1416422395000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"you had me at NS feels out of place in HTML5","msgtype":"m.text"},"ts":1416422404000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"document.createElementNetscape() ? :-)","msgtype":"m.text"},"ts":1416422426000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"In my Python code I have an E class, so I can write `E.div({\"class\":\"foo\"}, \"some text\")`","msgtype":"m.text"},"ts":1416422436000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Making your own element-creation helper in that vein would be better.","msgtype":"m.text"},"ts":1416422462000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"uses an E function, as in E('div', {class:'foo'}, 'some text', ...)","msgtype":"m.emote"},"ts":1416422465000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"where \"some text\" is any child elements","msgtype":"m.text"},"ts":1416422475000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"including further nested E()s","msgtype":"m.text"},"ts":1416422478000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"better than DOM, but still worse than E4H","msgtype":"m.text"},"ts":1416422490000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: did you mean E4X?","msgtype":"m.text"},"ts":1416422571000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"Hixie: with ES6 E4X-like element creation is already possible","msgtype":"m.text"},"ts":1416422619000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"i meant http://hixie.ch/specs/e4h/strawman","msgtype":"m.text"},"ts":1416422621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"as far as i can tell, that is incorrect. es6 lacks the key feature that i need, compile-time syntax checking.","msgtype":"m.text"},"ts":1416422655000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I see, I hope this was proposed before work on ES6 started?","msgtype":"m.text"},"ts":1416422666000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"it was proposed in 2012ish","msgtype":"m.text"},"ts":1416422680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but based on e4x which long predates es6","msgtype":"m.text"},"ts":1416422691000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jarek: Hixie also proposed Element.create()","msgtype":"m.text"},"ts":1416422900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jarek: there's also some push for new HTMLDivElement() and friends","msgtype":"m.text"},"ts":1416422925000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, that would make a lot of sense since custom elements can be already \"newed\"","msgtype":"m.text"},"ts":1416422963000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: none have made it far enough so far","msgtype":"m.text"},"ts":1416422974000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what's the browser interest in sendBeacon?","msgtype":"m.text"},"ts":1416423095000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"let element = new SVGComponentTransferFunctionElement();","msgtype":"m.text"},"ts":1416423101000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"feels very semantic and obvious, but verbose","msgtype":"m.text"},"ts":1416423136000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek, new HTMLHeadingElement()?","msgtype":"m.text"},"ts":1416423178000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: I believe both verbose semantic syntax and shorthand concise E4X-like syntax are needed","msgtype":"m.text"},"ts":1416423338000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"depending on context in which elements are created","msgtype":"m.text"},"ts":1416423365000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"I would expect abstract interfaces like HTMLHeadingElement to just throw an error when used with \"new\"","msgtype":"m.text"},"ts":1416423536000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"terinjokes: landed in CHrome 39","msgtype":"m.text"},"ts":1416424082000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"terinjokes: I think Mozilla is on track to ship too?","msgtype":"m.text"},"ts":1416424091000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: terinjokes: looks like it shipped if FF30:  https://bugzilla.mozilla.org/show_bug.cgi?id=936340","msgtype":"m.text"},"ts":1416424512000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"ah, not enabled until FF31","msgtype":"m.text"},"ts":1416424551000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: Chrome/40 seems non-compliant","msgtype":"m.text"},"ts":1416426450000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"at least w/r/t Blob","msgtype":"m.text"},"ts":1416426463000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"jarek: i think changing document.createElement(\"svg:rect\") might not be possible but we could use a space or so instead of colon","msgtype":"m.text"},"ts":1416428799000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh hey, a zcorpan","msgtype":"m.text"},"ts":1416428880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sup Hixie","msgtype":"m.text"},"ts":1416428892000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: one sec, loading conversation","msgtype":"m.text"},"ts":1416428895000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: https://html.spec.whatwg.org/#processing-model-9","msgtype":"m.text"},"ts":1416428927000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: note step 8's new steps (work in progress, not yet checked in)","msgtype":"m.text"},"ts":1416428940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: i'm interested in your input on how you'd like to integrate this into cssom-view","msgtype":"m.text"},"ts":1416428953000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: basically, this provides a specific place for scroll and resize events","msgtype":"m.text"},"ts":1416428962000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: (and many other things)","msgtype":"m.text"},"ts":1416428967000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: multipage is up to date?","msgtype":"m.text"},"ts":1416428973000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: so that we don't have to use tasks for things that are rendering-specific","msgtype":"m.text"},"ts":1416428979000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1416428982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"multipage updates with single page now","msgtype":"m.text"},"ts":1416428983000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"same tool outputs both at once","msgtype":"m.text"},"ts":1416428992000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: this looks great","msgtype":"m.text"},"ts":1416429171000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1416429223000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: let me know if you think anything should change, i'm completely open to doing this however you want","msgtype":"m.text"},"ts":1416429248000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: i guess \"Evaluate media queries and report changes\" is something that HTML in turn hooks into for <link media>, <source media> etc?","msgtype":"m.text"},"ts":1416429315000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: did you base the order on something or is it arbitrary?","msgtype":"m.text"},"ts":1416429362000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: mostly that was intended for MediaQueryList's events, but I hadn't thought of <link> and <source> etc","msgtype":"m.text"},"ts":1416429371000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: it's more or less the superset of the orders that people seemed to give in various e-mails and specs I found","msgtype":"m.text"},"ts":1416429408000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: mostly the order is arbitrary except that: resize is before scroll, animation frame callbacks are the last script thing in the list","msgtype":"m.text"},"ts":1416429456000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok. might be interesting to check what order e.g. Blink uses. i think blink syncs some of these things with rAF these days","msgtype":"m.text"},"ts":1416429462000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"step 6 is rAF","msgtype":"m.text"},"ts":1416429476000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i spoke to one of the blink guys about this, and to dbaron","msgtype":"m.text"},"ts":1416429495000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1416429512000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i believe it's consistent with what they said","msgtype":"m.text"},"ts":1416429520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"though mistakes are always possible!","msgtype":"m.text"},"ts":1416429529000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ok so let me think out loud about how to spec the resize event...","msgtype":"m.text"},"ts":1416429729000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"shoot","msgtype":"m.text"},"ts":1416429742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Run the resize steps are as follows: for each browsing context associated with the given event loop, if it has a viewport and it has had its width or height changed since the last time these steps were run, fire an event named resize at the Window object associated with that viewport.","msgtype":"m.text"},"ts":1416430063000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"except maybe resize events need to be throttled","msgtype":"m.text"},"ts":1416430082000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"seems reasonable","msgtype":"m.text"},"ts":1416430246000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no need for throttling; this only happens at 60Hz anyway","msgtype":"m.text"},"ts":1416430257000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or rather, the throttling is taken care of on my side","msgtype":"m.text"},"ts":1416430282000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if we want 60Hz for resize, sure","msgtype":"m.text"},"ts":1416430337000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but if there are sites doing expensive things in onresize, might want to throttle more than that","msgtype":"m.text"},"ts":1416430378000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i'll have to check what browsers do","msgtype":"m.text"},"ts":1416430394000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"well you want it to be possible to resize at 60Hz, otherwise it'll be impossible for a web app to have clean resize behaviour","msgtype":"m.text"},"ts":1416430476000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but sure","msgtype":"m.text"},"ts":1416430479000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's why browsers are allowed to throttle the whole rendering loop further","msgtype":"m.text"},"ts":1416430496000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"...if it has a viewport and that viewport has had...\"","msgtype":"m.text"},"ts":1416430503000,"senderName":"astearns_","senderId":"astearns_@irc"},
{"content":{"body":"zcorpan: happy b-day","msgtype":"m.text"},"ts":1416430807000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"anyone know if https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/HighResolutionTime/Overview.html is the latest version of that spec?","msgtype":"m.text"},"ts":1416430896000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.w3.org/TR/hr-time/ is dated later, but presumably if an error was found that's not hte spec that would be updated..","msgtype":"m.text"},"ts":1416430929000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gah, w3c doc policy grr","msgtype":"m.text"},"ts":1416430942000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I recommend emailing the WG","msgtype":"m.text"},"ts":1416430968000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks!","msgtype":"m.text"},"ts":1416431020000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: i've never had any luck mailing that wg","msgtype":"m.text"},"ts":1416431037000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: actually i'd like the \"for each browsing context\" to be on your side, so that these things get consistent order across browsing contexts","msgtype":"m.text"},"ts":1416431072000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: email plh directly?","msgtype":"m.text"},"ts":1416431076000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: fair enough","msgtype":"m.text"},"ts":1416431080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Web Performance is not particularly great indeed :/","msgtype":"m.text"},"ts":1416431092000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: and maybe say what the order should be (creation order?)","msgtype":"m.text"},"ts":1416431097000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: what do you want to be called for? Documents? browsing contexts? does it differ based on which hook we're talking about?","msgtype":"m.text"},"ts":1416431117000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"for rAF i want to be called for documents","msgtype":"m.text"},"ts":1416431128000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: i think document works for scroll/resize/matchMedia. i can always get the viewport or browsing context from a document if i need it, right?","msgtype":"m.text"},"ts":1416431287000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1416431299000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"do you want to be called with a list, or called once for each doc? (if you're doing anything per top-level-b-c, you'll have to track which you've done)","msgtype":"m.text"},"ts":1416431323000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think for rAF i'm going to have the event loop loop over docs, and the rAF handling be per-doc","msgtype":"m.text"},"ts":1416431344000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"per-doc is OK","msgtype":"m.text"},"ts":1416431441000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"xhr.send(blob) is supposed to send the contents of the blob, correct?","msgtype":"m.text"},"ts":1416432059000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"terinjokes: yes","msgtype":"m.text"},"ts":1416432227000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"any ideas why I might be doing wrong if instead Chrome/40 serializes/stringifies the blob instance?","msgtype":"m.text"},"ts":1416432262000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"terinjokes: Chrome might not support it","msgtype":"m.text"},"ts":1416432333000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"terinjokes: we still haven't really clarified what happens if someone closed the blob I think","msgtype":"m.text"},"ts":1416432456000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"terinjokes: could be that by not addressing that quickly enough I delayed implementation, I was trying to get answers elsewhere, but no luck thus far, I should probably just decide on something","msgtype":"m.text"},"ts":1416432497000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smashes head against desk","msgtype":"m.emote"},"ts":1416432546000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"i found the error was between the chair and the keyboard","msgtype":"m.text"},"ts":1416432556000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"ah phew i was scared","msgtype":"m.text"},"ts":1416432614000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"i was as well","msgtype":"m.text"},"ts":1416432635000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"hmm okay","msgtype":"m.text"},"ts":1416432642000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"forgot that there was stupid serialization code happening elsewhere","msgtype":"m.text"},"ts":1416432653000,"senderName":"terinjokes","senderId":"terinjokes@irc"},
{"content":{"body":"if you find out how the dealt with that case I'd be interested in specifying it :-)","msgtype":"m.text"},"ts":1416432655000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"they*","msgtype":"m.text"},"ts":1416432664000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: reload html spec for new hooks","msgtype":"m.text"},"ts":1416433021000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: looks good","msgtype":"m.text"},"ts":1416433367000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok rAF is specced in HTML now","msgtype":"m.text"},"ts":1416434238000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: see the event loop section for stuff you probably want to use for fullscreen","msgtype":"m.text"},"ts":1416434252000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: oh cool","msgtype":"m.text"},"ts":1416434285000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie++","msgtype":"m.text"},"ts":1416434295000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: the storage mutex text is all dead code, but you know that","msgtype":"m.text"},"ts":1416434968000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"jamesr_: one day browsers will realise that data corruption is bad :-P","msgtype":"m.text"},"ts":1416434990000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's a guess on your part :)","msgtype":"m.text"},"ts":1416435007000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: the \"update the rendering\" step will in practice happen independently of any explicitly queued \"task\" running","msgtype":"m.text"},"ts":1416435036000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"it's a nice guess :)","msgtype":"m.text"},"ts":1416435049000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jamesr_: not sure what you mean by your last comment, can you elaborate?","msgtype":"m.text"},"ts":1416435064000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i.e. if the only thing on your page is a rAF() loop, it never puts a 'task' into any queue","msgtype":"m.text"},"ts":1416435088000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"it adds things to the raf list","msgtype":"m.text"},"ts":1416435094000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"so you basically want to run step 8 of the event loop processing model","msgtype":"m.text"},"ts":1416435103000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"without having anything in 1","msgtype":"m.text"},"ts":1416435105000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: your spec for requestAnimationFrame() simply adds an entry to the list (which is correct, it doesn't really queue a task) but there's nothing that explicitly says \"the browser then has to go and run through the processing model\"","msgtype":"m.text"},"ts":1416435155000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"and i don't see a way to get to step 8 in that algorithm without a task around to run step 3","msgtype":"m.text"},"ts":1416435177000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"jamesr_: oh, right, that's the long-standing issue that step 1 should happen even if it's got no tasks to run","msgtype":"m.text"},"ts":1416435259000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jamesr_: yeah, i should fix that","msgtype":"m.text"},"ts":1416435263000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"step 6 already admits that no task might be run","msgtype":"m.text"},"ts":1416435297000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1416435306000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"just need to teach steps 2-4 about that factoid","msgtype":"m.text"},"ts":1416435311000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"each of the \"For each Document in docs\" should go in the same order, right?","msgtype":"m.text"},"ts":1416435341000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1416435349000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"see the last paragraph of 8.2","msgtype":"m.text"},"ts":1416435355000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what happens if you add or remove a new document in one of the step 8 substeps?","msgtype":"m.text"},"ts":1416435357000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"that doc is ignored","msgtype":"m.text"},"ts":1416435366000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"for that rendering loop","msgtype":"m.text"},"ts":1416435369000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and if you remove one?","msgtype":"m.text"},"ts":1416435385000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"i guess it's pretty clearly not run","msgtype":"m.text"},"ts":1416435395000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"less obvious is what happens if you rejigger the tree such that the invariants in step 8.1 no longer hold for the list you generated","msgtype":"m.text"},"ts":1416435417000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"i guess removing it would still run the steps, hmm","msgtype":"m.text"},"ts":1416435433000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the order is maintained for all the steps regardless of what you do","msgtype":"m.text"},"ts":1416435444000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"like the event chain?","msgtype":"m.text"},"ts":1416435455000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1416435458000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"makes sense","msgtype":"m.text"},"ts":1416435459000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"i didn't add in any of the \"hidden\" logic from your draft btw","msgtype":"m.text"},"ts":1416435475000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i suppose i should have that too","msgtype":"m.text"},"ts":1416435485000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"does that handle \"the document is removed from the dom\"?","msgtype":"m.text"},"ts":1416435497000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm, not sure if that is covered","msgtype":"m.text"},"ts":1416435518000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"but it should","msgtype":"m.text"},"ts":1416435524000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"a document that isn't in the dom isn't visible","msgtype":"m.text"},"ts":1416435528000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: i think it'd be reasonable for a UA to handle \"hidden\" under the \"run these steps if necessary\" clause","msgtype":"m.text"},"ts":1416435563000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"and choose not to run step 8 at all if it decided that the things it cared about were not visible","msgtype":"m.text"},"ts":1416435576000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"that determination can be tricky sometimes","msgtype":"m.text"},"ts":1416435592000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"for instance we have a feature in chrome where we can \"cast\" a tab to a remote screen","msgtype":"m.text"},"ts":1416435601000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"and that works even if you \"background\" the tab","msgtype":"m.text"},"ts":1416435606000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"instead of \"For each document\" i'll say \"For each visible document\", which will handle removing documents. Need to define \"visible\" somehow.","msgtype":"m.text"},"ts":1416435614000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so if you're looking at the computer screen it appears to be not visible, but it is","msgtype":"m.text"},"ts":1416435625000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"somewhere else","msgtype":"m.text"},"ts":1416435626000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: that's not what you want actually","msgtype":"m.text"},"ts":1416435631000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"raf runs in frames that are not \"visible\" by a reasonable definition if the parent frame is","msgtype":"m.text"},"ts":1416435652000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"s/visible/relevant/","msgtype":"m.text"},"ts":1416435659000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the defiintion of \"hidden\" that the w3c RAF spec used defers to the top-level document or some such","msgtype":"m.text"},"ts":1416435675000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"i think boris disagrees with me here on the desirable behavior here","msgtype":"m.text"},"ts":1416435684000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"but there are common cases like \"you load all your JS code in a same-origin 0x0 iframe and drive the parent frame from it\" where you want the behavior the w3c spec specifies","msgtype":"m.text"},"ts":1416435713000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"how about: a document is \"relevant\" if it is a fully active document that the user agent believes would benefit from having its rendering updated?","msgtype":"m.text"},"ts":1416435801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think you do want to specify the set of documents exactly, since at least in the same origin case it's very easy to detect whether things happened in different documents in the same context","msgtype":"m.text"},"ts":1416435953000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: timers should also be slower in background tabs iirc","msgtype":"m.text"},"ts":1416436035000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"tries a different approach","msgtype":"m.emote"},"ts":1416436226000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: they are. the timer spec allows the UA to add whatever delay they want, which allows the slower in background tabs behavior","msgtype":"m.text"},"ts":1416436432000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"but i think browsers have roughly stabilized","msgtype":"m.text"},"ts":1416436442000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"jamesr_, zcorpan: ok look now. https://html.spec.whatwg.org/multipage/#processing-model-9","msgtype":"m.text"},"ts":1416436460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hah - why does #processing-model-9 go to step 8.1.4.2?","msgtype":"m.text"},"ts":1416436504000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"cos there's 8 earlier sections titled \"processing model\" :-)","msgtype":"m.text"},"ts":1416436530000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hm, so you null out the docs list as a way to skip the rest of the steps?","msgtype":"m.text"},"ts":1416436565000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"not null out necessarily","msgtype":"m.text"},"ts":1416436634000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: doesn't rAF drop to 0Hz for background tabs? while timers are 1Hz. and i don't know about scroll/resize/etc","msgtype":"m.text"},"ts":1416436645000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"if there's two tabs, and one is to be updated and the other not, then only the background tab's docs get removed","msgtype":"m.text"},"ts":1416436650000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: the spec leaves this open to the browser","msgtype":"m.text"},"ts":1416436659000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: (i hate how chrome doesn't update background tabs, it means that when i switch to a tab, i get the old picture for a frame and then i see the new frame, it's ugly)","msgtype":"m.text"},"ts":1416436723000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the timers spec says \"take the |timeout| value from script. if you feel like it, add an arbitrary amount to |timeout|\"","msgtype":"m.text"},"ts":1416436731000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: that's a slightly different issue","msgtype":"m.text"},"ts":1416436745000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"you wouldn't want the background tab to be continuously rendering as if it was visible","msgtype":"m.text"},"ts":1416436760000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"but when you do decide to switch to the tab, there's a choice a browser can make between janking the tab switch until the tab's new contents is ready or showing you whatever it has","msgtype":"m.text"},"ts":1416436781000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: the spec seems to require the same interval for resize/scroll/MQ/fullscreen/rAF","msgtype":"m.text"},"ts":1416436785000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"no, but you might want to update all the tabs once as soon as the user hits command, in case the user then hits tab to switch to the other tabs, or something","msgtype":"m.text"},"ts":1416436802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyway the point is the browser just allows it","msgtype":"m.text"},"ts":1416436809000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: right.","msgtype":"m.text"},"ts":1416436812000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: that's what we want, no?","msgtype":"m.text"},"ts":1416436817000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in practice we've been moving to that in blink and been pretty happy","msgtype":"m.text"},"ts":1416436845000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: yeah or start rendering the new tab on the mouse/touch-down even though the switch doesn't happen until the -up","msgtype":"m.text"},"ts":1416436866000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: or start rendering when you over or whatever","msgtype":"m.text"},"ts":1416436873000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1416436876000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there's a lot we could do predictively","msgtype":"m.text"},"ts":1416436879000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: i don't know. maybe","msgtype":"m.text"},"ts":1416436882000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but #lifeishard","msgtype":"m.text"},"ts":1416436882000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"jamesr_: i just want to make sure we don't prevent those. especially since there's no obvious interop need for a particular speed here.","msgtype":"m.text"},"ts":1416436901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: seems like it's a much better authoring experience if you can rely on all of these happening in order together every time","msgtype":"m.text"},"ts":1416436925000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm amused at https://www.w3.org/Bugs/Public/show_bug.cgi?id=27347, which says a majority of browsers (browser a, browser b) do one thing and a minority of browsers (browser c, browser d) do another","msgtype":"m.text"},"ts":1416436981000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1416436982000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1416436994000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"browser counting","msgtype":"m.text"},"ts":1416436998000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"hard to do","msgtype":"m.text"},"ts":1416436999000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"i think they meant majority by usage share","msgtype":"m.text"},"ts":1416437019000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but still, it reads funny","msgtype":"m.text"},"ts":1416437023000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, event loop updates are committed","msgtype":"m.text"},"ts":1416437041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i've no idea what https://www.w3.org/Bugs/Public/show_bug.cgi?id=27367 means","msgtype":"m.text"},"ts":1416437096000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: looks like chrome and firefox don't fire resize until the tab is activated again, so that one seems OK","msgtype":"m.text"},"ts":1416437154000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"do they fire anything else?","msgtype":"m.text"},"ts":1416437209000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i can try testing the other things tomorrow","msgtype":"m.text"},"ts":1416437258000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"right now i need to get some sleep :-)","msgtype":"m.text"},"ts":1416437267000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"nn!","msgtype":"m.text"},"ts":1416437277000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"thanks for fixing this btw","msgtype":"m.text"},"ts":1416437288000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1416437305000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i've sent an email to www-style about this btw for cssom-view and animations","msgtype":"m.text"},"ts":1416437443000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: cool","msgtype":"m.text"},"ts":1416438379000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"was rAF specced elsewhere before?","msgtype":"m.text"},"ts":1416439803000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"wow, firefox actually scrolls the document when you call drawFocusIfNeeded()","msgtype":"m.text"},"ts":1416441491000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's crazy","msgtype":"m.text"},"ts":1416441493000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"try making the window small and then scrolling http://goo.gl/QAfAoy","msgtype":"m.text"},"ts":1416441511000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, looks like they only do it if the element was just focused?","msgtype":"m.text"},"ts":1416441566000,"senderName":"Hixie","senderId":"Hixie@irc"}
]