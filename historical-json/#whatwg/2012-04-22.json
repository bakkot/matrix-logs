[
{"content":{"body":"Challenge: come up with as many web APIs as possible that accept a string to identify a particular desired feature, and do nothing (either throw or silently fail or whatnot) if the specific feature is unsupported.  Examples: getContext(), setProperty(), execCommand().","msgtype":"m.text"},"ts":1335084228000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"How many others?","msgtype":"m.text"},"ts":1335084230000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"responseType","msgtype":"m.text"},"ts":1335084357000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hasFeature","msgtype":"m.text"},"ts":1335084385000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"createElement ...","msgtype":"m.text"},"ts":1335084412000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Context: https://bugs.webkit.org/show_bug.cgi?id=83993","msgtype":"m.text"},"ts":1335084418000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"The question at had is, is it more consistent for execCommand() to throw or return false if a command is unrecognized?","msgtype":"m.text"},"ts":1335084440000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Ehsan and I argue it should throw (IE/Opera behavior), Alexey thinks it should not (Gecko/WebKit behavior).","msgtype":"m.text"},"ts":1335084461000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"createElement() works fine if the element is unrecognized.","msgtype":"m.text"},"ts":1335084474000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"What about execCommand(\"stop\")?","msgtype":"m.text"},"ts":1335084500000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"the object you get back might not have the properties you expect","msgtype":"m.text"},"ts":1335084502000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger, what?","msgtype":"m.text"},"ts":1335084509000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"typically non-throwing is preferred when there's a choice","msgtype":"m.text"},"ts":1335084518000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"e.g.  I think if you ask sicking he'd argue to not throw too","msgtype":"m.text"},"ts":1335084537000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If we did throw, we'd have to whitelist various IE-specific commands as no-ops for compat.","msgtype":"m.text"},"ts":1335084540000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"What happens if you set .responseType to an unsupported value?","msgtype":"m.text"},"ts":1335084682000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"doesn't know what this \"enum\" stuff means","msgtype":"m.emote"},"ts":1335084715000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Throw when passing to a method, silently ignore when setting an attribute","msgtype":"m.text"},"ts":1335084735000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Any other opinions on whether we should throw or not?","msgtype":"m.text"},"ts":1335084862000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Trying to use most unsupported features will throw, e.g., if they're new methods.","msgtype":"m.text"},"ts":1335084877000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: not throwing seems better","msgtype":"m.text"},"ts":1335084947000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in particular https://bugs.webkit.org/show_bug.cgi?id=83993#c7 is the argument we've made throwing/non-throwing decisions by time and again and I don't really see how this case is different","msgtype":"m.text"},"ts":1335085007000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Okay.  Any other opinions?","msgtype":"m.text"},"ts":1335085153000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"But how do you detect if a browser supports the string passed to it?","msgtype":"m.text"},"ts":1335086784000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"is in favour of throwing, as these are edge-cases that nobody should be hitting","msgtype":"m.emote"},"ts":1335086814000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, document.queryCommandSupported(\"mystring\").","msgtype":"m.text"},"ts":1335086855000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Also: they're not edge-cases, because different browsers support totally different command sets and we're introducing new ones over time.","msgtype":"m.text"},"ts":1335086875000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So it's not an unlikely occurrence.","msgtype":"m.text"},"ts":1335086882000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Ah. And given Gecko/WebKit don't throw, probably people passing bogus strings in today.","msgtype":"m.text"},"ts":1335086925000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"In particular, throwing for all unsupported commands would almost surely break the web for non-IE browsers, because there are many IE-specific commands like ClearAuthenticationCache that no one else supports.  These would have to be special-cased as no-ops.","msgtype":"m.text"},"ts":1335086930000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Bogus strings, or just IE-specific ones.","msgtype":"m.text"},"ts":1335086940000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"But Gecko and WebKit have a decent selection of commands that only they support, too.","msgtype":"m.text"},"ts":1335086958000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"What do we do for the IE-specific commands?","msgtype":"m.text"},"ts":1335086989000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"\"we\" as in Opera?  I don't know.  Maybe you just throw and pages break.","msgtype":"m.text"},"ts":1335087059000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I don't know how many pages it is.","msgtype":"m.text"},"ts":1335087074000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Does Opera throw at all for unrecognized commands?  I thought it did, but it seems not.","msgtype":"m.text"},"ts":1335087138000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So that seems to answer the question.","msgtype":"m.text"},"ts":1335087164000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Then if only IE throws, then I think we have interop and it's obvious what to do.","msgtype":"m.text"},"ts":1335087224000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Namely not throw, yes.","msgtype":"m.text"},"ts":1335087235000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"sdf","msgtype":"m.text"},"ts":1335102324000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Exciting -- there's a box that somehow broke off from Chrome and is now sitting on top of all other windows, and I can't get rid of it.","msgtype":"m.text"},"ts":1335107601000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It stays put when I switch programs or workspaces, and doesn't respond to xkill.","msgtype":"m.text"},"ts":1335107617000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Isn't Linux fun?","msgtype":"m.text"},"ts":1335107634000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"tries to figure out how to get rid of it without restarting X","msgtype":"m.emote"},"ts":1335107640000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So xwininfo let me know that it was 0x3c37323, and then xkill -i 0x3c37323 killed it.","msgtype":"m.text"},"ts":1335107899000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Along with Chrome.","msgtype":"m.text"},"ts":1335107901000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Oh well.","msgtype":"m.text"},"ts":1335107903000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I should have restarted Chrome long ago anyway, it updated itself like a million times.","msgtype":"m.text"},"ts":1335107935000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham: Why does test_serializer.py give errors?","msgtype":"m.text"},"ts":1335119600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"And what's http://hg.csswg.org/dev/w3ctestlib/file/tip/Utils.py#l145 trying to do?","msgtype":"m.text"},"ts":1335119651000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: What's confusing about that?","msgtype":"m.text"},"ts":1335119705000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The exception it throws at me","msgtype":"m.text"},"ts":1335119739000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"    text = text.replace(c, \"&%s;\" % entityify[c.encode('Latin-1', 'xmlcharrefreplace')])","msgtype":"m.text"},"ts":1335119751000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"KeyError: '&#258;'","msgtype":"m.text"},"ts":1335119751000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Good question what that's doing looking at it again.","msgtype":"m.text"},"ts":1335120065000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ms2ger: well it's not that surprising it throws","msgtype":"m.text"},"ts":1335129808000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Presumably entityify doesn't have '&#258;' as a member","msgtype":"m.text"},"ts":1335129840000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Indeed it doesn't","msgtype":"m.text"},"ts":1335129939000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Seems pretty broken to me","msgtype":"m.text"},"ts":1335129962000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"gsnedders: I don't know. What errors does it give?","msgtype":"m.text"},"ts":1335129982000,"senderName":"jgraham","senderId":"jgraham@irc"}
]