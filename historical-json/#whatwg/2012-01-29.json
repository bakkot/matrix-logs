[
{"content":{"body":"it seems that if I create an indexedDB on a page that is https","msgtype":"m.text"},"ts":1327806720000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"i cannot access it from a page that is http","msgtype":"m.text"},"ts":1327806721000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"is that expected, and if so - is there a workaround?","msgtype":"m.text"},"ts":1327806722000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"https://developer.mozilla.org/en/IndexedDB/Basic_Concepts_Behind_IndexedDB \"IndexedDB adheres to a same-origin policy\"","msgtype":"m.text"},"ts":1327806780000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"bah","msgtype":"m.text"},"ts":1327806781000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"so i'm trying to download data (json) over SSL since it's somewhat sensitive, and store it in idexedDB to be used by the application cache","msgtype":"m.text"},"ts":1327806900000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"so... is there a spec anywhere that actually describes the precise steps for parsing http or websocket requests? or am i supposed to guess at things like error handling","msgtype":"m.text"},"ts":1327806901000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"my application cache needs to be HTTP since the homepage is HTTP.  nobody will visit https to reach my homepage","msgtype":"m.text"},"ts":1327806902000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"so redirect to https and stop using http","msgtype":"m.text"},"ts":1327806903000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"crankharder: if your app is server over http, then it doesn't matter what you encrypt, since someone can just inject some arbitrary JS and take over your site.","msgtype":"m.text"},"ts":1327806960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"served, rather","msgtype":"m.text"},"ts":1327806961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zewt: that redirect won't happen when offline","msgtype":"m.text"},"ts":1327806962000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"sure it will, if it always happens first thing so the url they bookmark is https","msgtype":"m.text"},"ts":1327806963000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"if they bookmark it","msgtype":"m.text"},"ts":1327807020000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"what if they just type in \"domain.com\"","msgtype":"m.text"},"ts":1327807021000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"the app cache needs to be nonsecure","msgtype":"m.text"},"ts":1327807022000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"their browser will autocomplete to wherever they had gone","msgtype":"m.text"},"ts":1327807023000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"then their browser should autocomplete the url","msgtype":"m.text"},"ts":1327807024000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"nah, too error prone for dumb users","msgtype":"m.text"},"ts":1327807080000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"shrug, you'll have the same problem with people typing url.com vs www.url.com","msgtype":"m.text"},"ts":1327807140000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"hrm, maybe i can subdomain this whole feature at offline.domain.com or some such, then all of that can be https, instead of the entire website","msgtype":"m.text"},"ts":1327807320000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"sounds like it's bypassing the whole design of appcache (use the same url)","msgtype":"m.text"},"ts":1327807321000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"bah, yea :/","msgtype":"m.text"},"ts":1327807380000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"and if people are inconsistently entering urls by hand, that's hardly going to decrease the error rate","msgtype":"m.text"},"ts":1327807381000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"note that browsers *may* cache permanent redirects, so loading foo.com with a cached redirect to https://www.foo.com may still work even offline (don't know how consistent that is and you need to get the cache headers right)","msgtype":"m.text"},"ts":1327807560000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"maybe i could make a second http app cache that simply javascript redirects to https","msgtype":"m.text"},"ts":1327807561000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"that creates all kinds of problems though... can't cache the homepage since it's dynamic","msgtype":"m.text"},"ts":1327807620000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"my /offline has <html manifest='/cache.manifest'>.  my / does not.  How is it that when I visit / while offline my fallback clause still invoked?","msgtype":"m.text"},"ts":1327813740000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"manifest file: http://pastie.org/3273979","msgtype":"m.text"},"ts":1327813741000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"is it because the same original has a saved cached?","msgtype":"m.text"},"ts":1327813742000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"*origin","msgtype":"m.text"},"ts":1327813743000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"crankharder: if you're offline, then it'll fail to get /, and will then look in all its caches, and will find the fallback.","msgtype":"m.text"},"ts":1327824900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"The spec isn't being updated?","msgtype":"m.text"},"ts":1327834860000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Philip`, thanks for your tests :)","msgtype":"m.text"},"ts":1327845960000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Is that a precursor to asking \"but when you are going to stop being so lazy and get around to responding to all the bugs?\" :-)","msgtype":"m.text"},"ts":1327846560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"needs to stop putting that off...","msgtype":"m.emote"},"ts":1327846561000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"You do","msgtype":"m.text"},"ts":1327846562000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"But it was just because I found a bug in my code with them :)","msgtype":"m.text"},"ts":1327846620000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: which spec?","msgtype":"m.text"},"ts":1327867080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"HTML","msgtype":"m.text"},"ts":1327867200000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"modulo a problem at dreamhost as we speak, i'm not aware of any non-updating going on (or rather, not going on)","msgtype":"m.text"},"ts":1327867260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so if something isn't updating, it's a bug somewhere","msgtype":"m.text"},"ts":1327867261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It claimed to be last updated on the 24th earlier","msgtype":"m.text"},"ts":1327867380000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"\"it\" being which copy, exactly?","msgtype":"m.text"},"ts":1327867381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/multipage/","msgtype":"m.text"},"ts":1327867382000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"ah, multipage","msgtype":"m.text"},"ts":1327867383000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah that might be broken","msgtype":"m.text"},"ts":1327867384000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hmm, didn't check singlepage","msgtype":"m.text"},"ts":1327867385000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i'll investigate when i get access to the server again","msgtype":"m.text"},"ts":1327867440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I've got a page w/ this:  <html manifest='/offline_app.manifest'> --- when I visit it I'm getting a cache error event: \"resource fetch failed\"","msgtype":"m.text"},"ts":1327869720000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"I can access the file directly just fine though.  thoughts?","msgtype":"m.text"},"ts":1327869721000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"just curled it, Content-Type: text/cache-manifest","msgtype":"m.text"},"ts":1327869840000,"senderName":"crankharder","senderId":"crankharder@irc"},
{"content":{"body":"It's always nice to be reminded how many Gmail accounts I have when Google sends an e-mail to each and every one without noticing that they're set up to forward everything.","msgtype":"m.text"},"ts":1327870800000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Apparently: nine.","msgtype":"m.text"},"ts":1327870801000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"At least.","msgtype":"m.text"},"ts":1327870802000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"}
]