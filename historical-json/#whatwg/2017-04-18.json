[
{"content":{"body":"Well, I manage to crash chrome when pushState()/replaceState()ing shared array buffers :D","msgtype":"m.text"},"ts":1492474589000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"üëç","msgtype":"m.text"},"ts":1492488100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Servo is implementing MathML? O_O","msgtype":"m.text"},"ts":1492488326000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I suspect it's not Mozilla driving that","msgtype":"m.text"},"ts":1492490218000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"s/suspect/speculate/","msgtype":"m.text"},"ts":1492490250000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Manishearth is doing the work","msgtype":"m.text"},"ts":1492490256000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Hmm, it's for Stylo, I guess the idea is to not regress if switching Gecko to use Servo components.","msgtype":"m.text"},"ts":1492490277000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ooh, that makes sense","msgtype":"m.text"},"ts":1492490327000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I still like that MathML became a thing of sorts; kinda sad it's still lingering","msgtype":"m.text"},"ts":1492490380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"r? https://github.com/whatwg/wattsi/pull/43","msgtype":"m.text"},"ts":1492490810000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Domenic: I'm implementing mathml in stylo, yeah :)","msgtype":"m.text"},"ts":1492490992000,"senderName":"Manishearth","senderId":"Manishearth@irc"},
{"content":{"body":"we don't want to unship things alongside stylo","msgtype":"m.text"},"ts":1492491040000,"senderName":"Manishearth","senderId":"Manishearth@irc"},
{"content":{"body":"Ugh, I finally found a justification for \"record<> as return value\".","msgtype":"m.text"},"ts":1492492759000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hmm, I'm curious what its advantage would be over object. I guess if you already have a record<>.","msgtype":"m.text"},"ts":1492492848000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I mean, same as `object`, whatever. `record<>` is just an `object` that advertises its types better.","msgtype":"m.text"},"ts":1492493019000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But I mean vs returning an interface object, which I previously always recommended.","msgtype":"m.text"},"ts":1492493036000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Context here is that some of the TypedOM stuff we decided today will let you reduce a calc() expression into a simple sum of values; we'll return this as an object with units for keys and doubles for values.","msgtype":"m.text"},"ts":1492493088000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: gentle reminder to please nudge plinss about the <{link/rel/serviceworker}> thing (if he‚Äôs there yet)","msgtype":"m.text"},"ts":1492493466000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Yeah, he's in. We're all in the Houdini meeting right now.","msgtype":"m.text"},"ts":1492493561000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1492493659000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Domenic: given our discussion yesterday, should we really use Data Block in serialize?","msgtype":"m.text"},"ts":1492493794000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: it seems we should serialize that too, otherwise storage becomes kinda weird, keeping the ECMAScript environment alive to support that structure","msgtype":"m.text"},"ts":1492493819000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: r? https://github.com/whatwg/wattsi/pull/44","msgtype":"m.text"},"ts":1492495707000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: I don't see the problem with Data Block. It's bytes in memory; it isn't associated with the ECMAScript environment as far as I can tell.","msgtype":"m.text"},"ts":1492525229000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yeah, I guess it's just Shared Data Block","msgtype":"m.text"},"ts":1492525322000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Is a SDB associated with an ECMAScript environment?","msgtype":"m.text"},"ts":1492525337000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: with an agent","msgtype":"m.text"},"ts":1492525355000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: or agent cluster rather","msgtype":"m.text"},"ts":1492525373000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Right OK","msgtype":"m.text"},"ts":1492525383000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I don't think it keeps the agent cluster alive though","msgtype":"m.text"},"ts":1492525388000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(although I think this is currently not explicit awb-style)","msgtype":"m.text"},"ts":1492525394000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think of it as more having access checks that if the wrong process tries to access its bytes, the browser crashes","msgtype":"m.text"},"ts":1492525406000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Not a pointer to an agent cluster","msgtype":"m.text"},"ts":1492525412000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Maybe a GUID identifying the agent cluster","msgtype":"m.text"},"ts":1492525419000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: will probably fix foolip's comments in https://github.com/whatwg/html/pull/2521 tomorrow; did the US have a holiday yesterday too or is it likely that getting further comments on that PR is going to be hard without more pushing?","msgtype":"m.text"},"ts":1492525686000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: or maybe I should reset my expectations and wait a week?","msgtype":"m.text"},"ts":1492525711000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no public holiday; it does seem people are slow. My take is we can wait until we've lined up all the other PRs, including tests, one for service worker, and if we're ambitious the StructuredSerializeForStorage switch-over PRs. If nobody's commented by then we should go ahead.","msgtype":"m.text"},"ts":1492525828000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I guess we could also wait and see if your doom scenario of dropping agent clusters happens","msgtype":"m.text"},"ts":1492525876000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think they're still useful as a memory boundary even if they don't have all the properties lth wants","msgtype":"m.text"},"ts":1492525908000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: okay, so I'll fix up the comments and then once all PRs are reviewed again I'll rebase and clean up commit messages (there's some rebasing trouble due to other smaller changes I think)","msgtype":"m.text"},"ts":1492526087000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Sounds good. I'll keep working on tests and maybe work on a service worker PR.","msgtype":"m.text"},"ts":1492526105000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I'm happy to do the PR for Notifications and I was also think of switching DOM to using an agent rather than a unit of browsing contexts","msgtype":"m.text"},"ts":1492526111000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah interesting","msgtype":"m.text"},"ts":1492526120000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"The other thing I plan on working on is Location/Navigator, probably with proper slots","msgtype":"m.text"},"ts":1492526172000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But I need to write some tests first to make sure they're actually associated with the global and not the document","msgtype":"m.text"},"ts":1492526187000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: did Apple participate in the WebAssembly call?","msgtype":"m.text"},"ts":1492534360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yep","msgtype":"m.text"},"ts":1492534365000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: did you bring up the concurrency issue?","msgtype":"m.text"},"ts":1492534375000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: well, independent worker shutdown","msgtype":"m.text"},"ts":1492534392000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I did; apparently there's internal debate and it's on their radar, which I didn't know before the call","msgtype":"m.text"},"ts":1492534417000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: great!","msgtype":"m.text"},"ts":1492534430000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: as a small aside, there will always be fixup comments","msgtype":"m.text"},"ts":1492534444000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: and in fact, I've already planned a complete rewrite of how we do agents once we figure out where exactly we want to create agent clusters and agents","msgtype":"m.text"},"ts":1492534473000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"haha, fair","msgtype":"m.text"},"ts":1492534509000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: so I run git blame and wait for a long time (old MacBook Air) to find out about these worker algorithms and I get https://github.com/whatwg/html/commit/cece923873b2947a00d542082f0b50af2c85b0bb","msgtype":"m.text"},"ts":1492543919000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: so now I'm waiting again","msgtype":"m.text"},"ts":1492543939000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I usually search commit messages but it might not work in this case","msgtype":"m.text"},"ts":1492544053000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: from https://github.com/whatwg/html/commit/a2cf6570bab4e42fcac0d576d786b7ce389d117a it seems that specific line predates integration into HTML","msgtype":"m.text"},"ts":1492544183000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I usually use git log --grep=, but that doesn't work for specific steps really","msgtype":"m.text"},"ts":1492544219000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Though blame is pretty useless too it turns out due to refactoring","msgtype":"m.text"},"ts":1492544238000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think the internet has some recursive blame helper scripts","msgtype":"m.text"},"ts":1492544426000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I found https://lists.w3.org/Archives/Public/public-html-diffs/2008Dec/0048.html","msgtype":"m.text"},"ts":1492544438000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: by running svn log https://svn.whatwg.org/webworkers/","msgtype":"m.text"},"ts":1492544461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: and then a Google search","msgtype":"m.text"},"ts":1492544466000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: it very much looks like the divergence is not necessarily intentional","msgtype":"m.text"},"ts":1492544492000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"who were you ap? what did you see!?!?\" https://xkcd.com/979/","msgtype":"m.text"},"ts":1492544497000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(Wow IRCCloud has built-in xkcd inlineing O_o)","msgtype":"m.text"},"ts":1492544513000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Oh, not corporate IRCCloud","msgtype":"m.text"},"ts":1492544542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I know who ap is","msgtype":"m.text"},"ts":1492544561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Well, not intentional sounds believable. Let's merge.","msgtype":"m.text"},"ts":1492544590000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Nick of an Apple WebKit engineer","msgtype":"m.text"},"ts":1492544595000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Gave lots of XMLHttpRequest feedback in the early days","msgtype":"m.text"},"ts":1492544621000,"senderName":"annevk","senderId":"annevk@irc"}
]