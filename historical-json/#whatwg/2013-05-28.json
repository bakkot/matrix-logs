[
{"content":{"body":"How close is WebKit-gtk to WebKit-Mac? should I test in Midori/Epiphany or really move to my Mac Mini to test?","msgtype":"m.text"},"ts":1369725243000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I suppose it depends on what you’re testing","msgtype":"m.text"},"ts":1369725484000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"SimonSapin: DOMContentLoaded, <script defer>, readyState","msgtype":"m.text"},"ts":1369725600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"all supposed to live in WebKit","msgtype":"m.text"},"ts":1369725607000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"itself","msgtype":"m.text"},"ts":1369725610000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"rather than port code","msgtype":"m.text"},"ts":1369725616000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yes, that’s my limited understanding of webkit ports","msgtype":"m.text"},"ts":1369725627000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"findings so far: Gecko is wrong for <script defer> per spec","msgtype":"m.text"},"ts":1369725644000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Presto and Blink don't interop on when readyState changes relative to <script defer>","msgtype":"m.text"},"ts":1369725662000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"unsurprisingly, Safari is like Chrome, still","msgtype":"m.text"},"ts":1369725831000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"waiting for Windows Update to give me a fully-patched IE...","msgtype":"m.text"},"ts":1369725845000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder how Hixie came up with the rules for <script defer> relative to DOMContentLoaded.","msgtype":"m.text"},"ts":1369726002000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: i think presto doesn't support defer","msgtype":"m.text"},"ts":1369726005000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: ah ok","msgtype":"m.text"},"ts":1369726013000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"at the time, IE didn't support DOMContentLoaded","msgtype":"m.text"},"ts":1369726027000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Does Chrome OS run xorg still?","msgtype":"m.text"},"ts":1369726269000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Yeah, don't worry too much about presto for anything related to script scheduling or document loading","msgtype":"m.text"},"ts":1369727552000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It was all scheduled for a rewrite","msgtype":"m.text"},"ts":1369727552000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So it looks like it was indeed I who broke <script defer> in Gecko","msgtype":"m.text"},"ts":1369728374000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and someone noticed already in 2010","msgtype":"m.text"},"ts":1369728381000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but it took until now to someone complain enough for it to actually register","msgtype":"m.text"},"ts":1369728401000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"makes one wonder about the utility of <script defer>, though, that this didn't become a big deal back in 2010","msgtype":"m.text"},"ts":1369728429000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm. I wonder if <script defer> has ever worked right in XSLT in Gecko, though","msgtype":"m.text"},"ts":1369728534000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"OK, script defer + XSLT is pretty much the definition of niche case","msgtype":"m.text"},"ts":1369728555000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/case/feature/","msgtype":"m.text"},"ts":1369728566000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Thanks to the wonders of XSLT, there's always a 3rd case after HTML and XML","msgtype":"m.text"},"ts":1369728570000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"can we disable defer in the xslt case?","msgtype":"m.text"},"ts":1369728615000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: it would be more work in the Trident/WebKit/Blink XSLT architecture, so probably won't fly","msgtype":"m.text"},"ts":1369728659000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah yeah","msgtype":"m.text"},"ts":1369728671000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I have a feeling that in presto XSLT support was implemented to not create a third case, I think the output just got fed back into the parser or something.","msgtype":"m.text"},"ts":1369728675000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But I really don't remember","msgtype":"m.text"},"ts":1369728685000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so many things need a rewrite","msgtype":"m.text"},"ts":1369728691000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Gecko's XSLT output is one of those","msgtype":"m.text"},"ts":1369728702000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but first I should rewrite how XML is loaded in Gecko","msgtype":"m.text"},"ts":1369728711000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yes we reparsed the output with the html parser","msgtype":"m.text"},"ts":1369728720000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that project never got beyond careful planning","msgtype":"m.text"},"ts":1369728724000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"We need a few clones of hsivonen, clearly","msgtype":"m.text"},"ts":1369728734000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"is there a reason gecko doesn't reparse?","msgtype":"m.text"},"ts":1369728772000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: Gecko does XSLT the Right Way","msgtype":"m.text"},"ts":1369728817000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: my question still stands :-P","msgtype":"m.text"},"ts":1369728835000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: sicking/peterv/Pike wrote it the Right Way?","msgtype":"m.text"},"ts":1369728859000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"The Right Way does also seem to be The Hard To Maintain Way","msgtype":"m.text"},"ts":1369728920000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1369728928000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah, so i actually meant, is there a reason not to change gecko to implement the Wrong Way like everyone else and not have a third mode to worry about?","msgtype":"m.text"},"ts":1369728936000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and with scripts, the Right Way isn't actually quite right","msgtype":"m.text"},"ts":1369728946000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"So given such a marginal feature, it seems that worse is better","msgtype":"m.text"},"ts":1369728947000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Anyone have old IEs around?","msgtype":"m.text"},"ts":1369737811000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: I do","msgtype":"m.text"},"ts":1369737893000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Let me write you a test, then :)","msgtype":"m.text"},"ts":1369737924000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: OK","msgtype":"m.text"},"ts":1369737931000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2259","msgtype":"m.text"},"ts":1369738013000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: HTMLInputElement, HTMLImageElement, HTMLImageElement","msgtype":"m.text"},"ts":1369738154000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Ms2ger: in IE8 on XP","msgtype":"m.text"},"ts":1369738158000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":":(","msgtype":"m.text"},"ts":1369738167000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Yeah. :-(","msgtype":"m.text"},"ts":1369738177000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"why is that :-( ?","msgtype":"m.text"},"ts":1369738354000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"img needs the form element pointer?","msgtype":"m.text"},"ts":1369738407000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: right","msgtype":"m.text"},"ts":1369738414000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"It seems to, at least","msgtype":"m.text"},"ts":1369738428000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"so why didn't WebKit devs feed their delta from the spec into the spec?","msgtype":"m.text"},"ts":1369738475000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"seems everyone implements that already?","msgtype":"m.text"},"ts":1369738485000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: Gecko and IE10 follow the spec and don't","msgtype":"m.text"},"ts":1369738505000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"or maybe I should test before I say anything","msgtype":"m.text"},"ts":1369738539000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"my copy of firefox gives the same result","msgtype":"m.text"},"ts":1369738555000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Ms2ger: is this test case really testing what it is supposed to be testing?","msgtype":"m.text"},"ts":1369738579000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I don't know","msgtype":"m.text"},"ts":1369738593000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"boots Windows 8","msgtype":"m.emote"},"ts":1369738610000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan, Gecko does weird stuff, with <form></form><img> matching, for example","msgtype":"m.text"},"ts":1369738646000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: same result in IE10","msgtype":"m.text"},"ts":1369738680000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hrm","msgtype":"m.text"},"ts":1369738744000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: webkit and presto don't do that","msgtype":"m.text"},"ts":1369738751000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I'd hope not!","msgtype":"m.text"},"ts":1369738762000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: maybe you should have </form> somewhere","msgtype":"m.text"},"ts":1369738763000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Gah, sounds like my IE10 is too old, then","msgtype":"m.text"},"ts":1369738847000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"How about http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2260 ?","msgtype":"m.text"},"ts":1369738932000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Indeed Gecko tries to support <script defer> with XSLT","msgtype":"m.text"},"ts":1369739080000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Ms2ger: IE10/Windows 8: HTMLInputElement, HTMLImageElement, undefined","msgtype":"m.text"},"ts":1369739128000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Okay","msgtype":"m.text"},"ts":1369739153000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: IE8/XP: HTMLInputElement, HTMLImageElement, script terminated with error","msgtype":"m.text"},"ts":1369739207000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Lovely","msgtype":"m.text"},"ts":1369739223000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"what does ie do for http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2261 ?","msgtype":"m.text"},"ts":1369739257000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"bets IE6 crashes","msgtype":"m.emote"},"ts":1369739290000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Ms2ger: script error in IE8","msgtype":"m.text"},"ts":1369739302000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(for 2260)","msgtype":"m.text"},"ts":1369739323000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Ms2ger: undefined in IE10","msgtype":"m.text"},"ts":1369739328000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oops. those were 2261 for zcorpan","msgtype":"m.text"},"ts":1369739350000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"That was for zcorpan?","msgtype":"m.text"},"ts":1369739350000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"undefined in ie10/win7 (tested in browserstack)","msgtype":"m.text"},"ts":1369739474000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"does the spec intend to forbid async scripts from running after a defer script has run but before DOMContentLoaded has fired?","msgtype":"m.text"},"ts":1369739989000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"why does cssom have CSSCharsetRule again?","msgtype":"m.text"},"ts":1369743493000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"again as in, it was obsolete in the anne-era","msgtype":"m.text"},"ts":1369743535000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":":/","msgtype":"m.text"},"ts":1369749232000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thanks annevk","msgtype":"m.text"},"ts":1369749800000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"Nice to have someone working on cssom again","msgtype":"m.text"},"ts":1369755927000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"well, I guess I won't fix the PHP configuration on the test server today","msgtype":"m.text"},"ts":1369756125000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"looks for something to break very rudely","msgtype":"m.emote"},"ts":1369756133000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"jgraham, Ms2ger: if I were to start writing that magic python server, where would I start looking?","msgtype":"m.text"},"ts":1369756905000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I need something that's bare bones and doesn't handle any HTTP that I don't want it to, no magic, etc.","msgtype":"m.text"},"ts":1369756926000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I reckon it may just be less painful than trying to set Apache+PHP up so that they work correctly","msgtype":"m.text"},"ts":1369756953000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: Heh","msgtype":"m.text"},"ts":1369756964000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well","msgtype":"m.text"},"ts":1369756966000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"https://bitbucket.org/annevk/simpleserver ?","msgtype":"m.text"},"ts":1369756978000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: interesting, thanks","msgtype":"m.text"},"ts":1369757009000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Yeah, using asyncore as the basis could work","msgtype":"m.text"},"ts":1369757013000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I guess I need to think about how this needs to work, actually","msgtype":"m.text"},"ts":1369757022000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Right","msgtype":"m.text"},"ts":1369757033000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So, the thing is","msgtype":"m.text"},"ts":1369757036000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"because it needs to send regular files, well, regularly, and form the same origin","msgtype":"m.text"},"ts":1369757036000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"There are kind of competing requirements","msgtype":"m.text"},"ts":1369757048000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"For running on local test machines there is no need to service > 1 user","msgtype":"m.text"},"ts":1369757075000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and there is an advantage to handling statefulness in a simple way","msgtype":"m.text"},"ts":1369757090000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ah, statefulness too","msgtype":"m.text"},"ts":1369757101000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"For running on w3c-test.org is will be exposed to the whole internet","msgtype":"m.text"},"ts":1369757106000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"right, and we probably want to be able to run something public","msgtype":"m.text"},"ts":1369757116000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"if nothing else, it makes it easier to talk about stuff","msgtype":"m.text"},"ts":1369757130000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"glad we got rid of those people, they were annoying","msgtype":"m.text"},"ts":1369757165000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Most of the Google people seem to use irccloud","msgtype":"m.text"},"ts":1369757187000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Anyway, so in the past","msgtype":"m.text"},"ts":1369757267000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I got to the list of requirements","msgtype":"m.text"},"ts":1369757276000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Realised that they conflict","msgtype":"m.text"},"ts":1369757284000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and gave up","msgtype":"m.text"},"ts":1369757288000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1369757291000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I think we can get to something if we work on it based on which HTTP behaviours we need for specific cases","msgtype":"m.text"},"ts":1369757356000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"in general, we need something that can serve files correctly — that's easy","msgtype":"m.text"},"ts":1369757396000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Well at a high level","msgtype":"m.text"},"ts":1369757417000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"then we need specific endpoints to be configurable with specific behaviour such as setting headers, giving raw responses with specific status, being slow","msgtype":"m.text"},"ts":1369757434000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"We need the ability for a test to send arbitary bytes over the wire","msgtype":"m.text"},"ts":1369757436000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"With specific timing","msgtype":"m.text"},"ts":1369757449000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so could we get away with something that just imports python and runs it if it has a given extension?","msgtype":"m.text"},"ts":1369757467000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"But yes, there are specific things that are common cases","msgtype":"m.text"},"ts":1369757469000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and we can prebuild some common cases","msgtype":"m.text"},"ts":1369757480000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Well we could do that","msgtype":"m.text"},"ts":1369757499000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It mgith be quite hard if the choices are \"common case\" or \"no infrastructure\"","msgtype":"m.text"},"ts":1369757516000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"if .tpy in filename: load it, give it the data and a raw socket; else: send the file","msgtype":"m.text"},"ts":1369757533000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1369757534000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"with that scheme we can start with zero infrastructure","msgtype":"m.text"},"ts":1369757547000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"and pieces that are common, we progressively move them into the core as available services","msgtype":"m.text"},"ts":1369757565000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Well sure, it might make sense to start with something very minimal","msgtype":"m.text"},"ts":1369757587000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"if we build it such that it can proxy some paths to another server, we can have a smooth transition","msgtype":"m.text"},"ts":1369757623000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'm guessing there's something in Python that can do proxies easily?","msgtype":"m.text"},"ts":1369757637000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"looking at the stuff out there, I find it hard to tell what's fresh and what's dead","msgtype":"m.text"},"ts":1369757772000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'm guessing this might be beyond my python, or at least it'll take me longer than reasonable","msgtype":"m.text"},"ts":1369757789000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'll sleep on it","msgtype":"m.text"},"ts":1369757794000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"import time, random","msgtype":"m.text"},"ts":1369757821000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"time.sleep(random.randint())","msgtype":"m.text"},"ts":1369757827000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Would be nice to have something like ^headers^ too","msgtype":"m.text"},"ts":1369757837000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: you mean just a file that sets the headers for a directory?","msgtype":"m.text"},"ts":1369757877000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"For a file","msgtype":"m.text"},"ts":1369757888000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"But yes","msgtype":"m.text"},"ts":1369757892000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Turns out that everyone always thinks that the sugar they are used to is really important :)","msgtype":"m.text"},"ts":1369757895000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well, really important","msgtype":"m.text"},"ts":1369757906000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: so foo.html.^headers^ or some such?","msgtype":"m.text"},"ts":1369757921000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I think it's a reasonably common case, and that foo.html^headers^ solves it quite simply","msgtype":"m.text"},"ts":1369757933000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"darobin, right","msgtype":"m.text"},"ts":1369757939000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Yeah, that could be true","msgtype":"m.text"},"ts":1369757948000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yes that makes sense","msgtype":"m.text"},"ts":1369757950000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"it's not inherently hard and it's certainly part of the stuff that I'd suggest we add as we progress","msgtype":"m.text"},"ts":1369757978000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"-> afk","msgtype":"m.emote"},"ts":1369758089000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah, I'm off to 1) drown my attempt at configuring PHP right in beer, and 2) mull over a replacement","msgtype":"m.text"},"ts":1369758126000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"3) Implement <blink>?","msgtype":"m.text"},"ts":1369758150000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"maybe if we wait long enough then having Node as a dependency won't be an issue, and I can code it in a day, two tops :)","msgtype":"m.text"},"ts":1369758154000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"is back","msgtype":"m.emote"},"ts":1369758587000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"Microsoft has been following the discussion on Futures closely both through the W3C and the discussions at TC39 (ECMAScript), and while we don't comment on plans for implementation, I can say that we are generally supportive of the idea.\"","msgtype":"m.text"},"ts":1369758596000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Congratulations!","msgtype":"m.text"},"ts":1369758598000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Hixie: I'm gonna assume next is \"brb, reading email\" and we won't see you for another couple of weeks :p","msgtype":"m.text"},"ts":1369758649000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"bholley!","msgtype":"m.text"},"ts":1369758668000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"knew he shouldn't have logged on IRC this morning","msgtype":"m.emote"},"ts":1369758682000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1369758683000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"I've been trying to catch you since Sunday or so :)","msgtype":"m.text"},"ts":1369758703000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"has been away from internet","msgtype":"m.emote"},"ts":1369758722000,"senderName":"bholley","senderId":"bholley@irc"},
{"content":{"body":"moves servers","msgtype":"m.emote"},"ts":1369758739000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk: reading e-mail? nah, mark all as read, no?","msgtype":"m.text"},"ts":1369758945000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyone send me anything important?","msgtype":"m.text"},"ts":1369758957000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Your spec for the named getter on form is bogus","msgtype":"m.text"},"ts":1369758990000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: file a bug","msgtype":"m.text"},"ts":1369759277000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1369759279000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(or whatwg@ e-mail, i won't mark those as read)","msgtype":"m.text"},"ts":1369759294000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"GPHemsley: we should probably encourage people to use their names as usernames rather than companies","msgtype":"m.text"},"ts":1369759311000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I already filed one","msgtype":"m.text"},"ts":1369759313000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"More on their way","msgtype":"m.text"},"ts":1369759323000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"probably","msgtype":"m.text"},"ts":1369759329000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"For non-Mozillians: IE and Opera use the first occurrence of a parameter, Firefox and Chrome use the last occurrence","msgtype":"m.text"},"ts":1369759450000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"no one does what the RFC says, which is to treat the whole MIME type as invalid","msgtype":"m.text"},"ts":1369759463000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"i wonder what we should do about <meta name>","msgtype":"m.text"},"ts":1369760380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"on the one hand, everyone under the sun seems to invent their own value to use","msgtype":"m.text"},"ts":1369760388000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"on the other, 99% of these values (at a guess) are never actually consumed by any software and are therefore just wasting author's time","msgtype":"m.text"},"ts":1369760427000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"If it makes authors happy, can you really say that's a waste of their time?","msgtype":"m.text"},"ts":1369760466000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"not clear that it makes them happy","msgtype":"m.text"},"ts":1369760482000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: for your doc, you could name it \"How HTML has evolved since 1998\"","msgtype":"m.text"},"ts":1369760647000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: You mean you don't like fielding a hundred requests for accounts just to add spec-less meta extensions?","msgtype":"m.text"},"ts":1369761747000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"no, we could solve that problem orthogonally","msgtype":"m.text"},"ts":1369761802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(e.g. providing a web form)","msgtype":"m.text"},"ts":1369761806000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1369761823000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1369761824000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"we're fielding requests intentionally, as a way to see whether people actually do have so many crazy values intentionally","msgtype":"m.text"},"ts":1369761839000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it seems the answer  is yes","msgtype":"m.text"},"ts":1369761843000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1369761865000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"you could go the MIME type route and have multiple types of values","msgtype":"m.text"},"ts":1369761890000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"those with specs, those for private use or whatever","msgtype":"m.text"},"ts":1369761897000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"well clearly we could have more specced values and less specced values","msgtype":"m.text"},"ts":1369761926000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but the question is really what to do about the latter","msgtype":"m.text"},"ts":1369761935000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"shrugs","msgtype":"m.emote"},"ts":1369761979000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Hixie: ping","msgtype":"m.text"},"ts":1369762346000,"senderName":"bradeeoh","senderId":"bradeeoh@irc"},
{"content":{"body":"bradee-oh: pong","msgtype":"m.text"},"ts":1369762442000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: hi - I'm crafting an email to whatwg, but as I was, I noticed the plot was thicker than I originally noticed...","msgtype":"m.text"},"ts":1369762764000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"Hixie: re: pagehide events and page visibility.","msgtype":"m.text"},"ts":1369762773000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"Hixie: I guess I have two issues:","msgtype":"m.text"},"ts":1369762781000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"1 - The original issue I was going to email about.  \"unload a document\" used to go \"pagehide, then unload event, then no more events\"","msgtype":"m.text"},"ts":1369762810000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"Now it goes \"pagehide, visibilitychanged, unload, then no more events\"","msgtype":"m.text"},"ts":1369762826000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"Hixie: this breaks an original goal of pagehide to be a drop-in replacement for the unload event (i.e., it's the last event you'll get)","msgtype":"m.text"},"ts":1369762863000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"Hixie: It also doesn't make sense in the standalone world of pagehide/pageshow.  \"If I get a pagehide event with persisted == true, then I expect no more events until I get pageshow\"","msgtype":"m.text"},"ts":1369762901000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"Hixie: but that leads to my second question...  apparently the spec never allows for \"pagehide with persisted set to true\".  I could swear that it did at one time, and WebKit certainly dispatches such events.","msgtype":"m.text"},"ts":1369762956000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"bradee-oh: huh","msgtype":"m.text"},"ts":1369762973000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: and such an event is necessary for scripts to play with page caching.","msgtype":"m.text"},"ts":1369762973000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"bradee-oh: i forget why we added visibilitychanged","msgtype":"m.text"},"ts":1369762990000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bradee-oh: does anyone implement it yet? If not, we could move it to before pagehide","msgtype":"m.text"},"ts":1369763002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bradee-oh: in general, please do send the e-mail, i don't have any of this paged in and so i don't have anything useful to contribute right now :-(","msgtype":"m.text"},"ts":1369763023000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: We added it for tab visibility - background tabs, minimized windows, etc etc","msgtype":"m.text"},"ts":1369763033000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"Hixie: okay - Should I put all of this in one, or start two threads?","msgtype":"m.text"},"ts":1369763051000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"Hixie: I don't know about pagevis implementors yet, but I don't think we'll implement it as-is because of this holdup (https://bugs.webkit.org/show_bug.cgi?id=116769)","msgtype":"m.text"},"ts":1369763094000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"bradee-oh: one mail is fine by me","msgtype":"m.text"},"ts":1369763138000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: okay.  Thanks!","msgtype":"m.text"},"ts":1369763147000,"senderName":"bradee-oh","senderId":"bradee-oh@irc"},
{"content":{"body":"(e-mails i can split easily, bugs i can't. so i prefer e-mails to have lots of issues, and bugs to have one.)","msgtype":"m.text"},"ts":1369763159000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"quick poll (no cheating!): what would the charset be for a document tagged with this MIME type:","msgtype":"m.text"},"ts":1369763320000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"text/xml;test=ISO-8859-2 test te\"st ; charset=ISO-8859-3; testing=asd\"asd; charset=ISO-8859-4","msgtype":"m.text"},"ts":1369763320000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"-3 probably","msgtype":"m.text"},"ts":1369763348000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: What made you come to that conclusion?","msgtype":"m.text"},"ts":1369763386000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"[text/xml] [;] [test] = [ISO-8859-2 test te\"st] [;] [charset] = [ISO-8859-3] [;] <abort>","msgtype":"m.text"},"ts":1369763456000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"isn't that a parse error theoretically?","msgtype":"m.text"},"ts":1369763458000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"theoretically, but not in practice","msgtype":"m.text"},"ts":1369763466000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"am i right? :-)","msgtype":"m.text"},"ts":1369763492000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Depends on who you ask ;)","msgtype":"m.text"},"ts":1369763502000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Hixie: on http://ln.hixie.ch/?start=1115899732&count=1, this crash was later discovered again in http://blogs.norman.com/2011/security-research/drag-and-drop-vulnerability-in-ms11-050 and turned out to be exploitable and fixed in MS11-050.","msgtype":"m.text"},"ts":1369763504000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"GPHemsley: figures","msgtype":"m.text"},"ts":1369763512000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"preliminary question, what about this:","msgtype":"m.text"},"ts":1369763515000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"text/xml;charset=ISO-8859-3;charset=ISO-8859-4","msgtype":"m.text"},"ts":1369763516000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Yuhong: good times","msgtype":"m.text"},"ts":1369763527000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"GPHemsley: -3, i hope, but it depends on whether you abort early or not","msgtype":"m.text"},"ts":1369763542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"presume you are reading the entire MIME type at once (not just looking for the charset specifically)","msgtype":"m.text"},"ts":1369763567000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"though you raise a good point","msgtype":"m.text"},"ts":1369763586000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"most of the time when you want a charset you are only looking for the charset","msgtype":"m.text"},"ts":1369763639000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not parsing the type","msgtype":"m.text"},"ts":1369763641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in my experience","msgtype":"m.text"},"ts":1369763643000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"see also the text/html charset sniffer in the html parser","msgtype":"m.text"},"ts":1369763653000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"presume you are parsing the MIME type in general, and getting the charset is only a side effect","msgtype":"m.text"},"ts":1369763660000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(these examples are only using the charset as an easily testable proxy)","msgtype":"m.text"},"ts":1369763699000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(though I suppose if there are parsers that are looking for that parameter specifically, that'd be a problem)","msgtype":"m.text"},"ts":1369763714000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Hixie: Hej :) I hope you enjoyed your time away from angle brackets :)","msgtype":"m.text"},"ts":1369763743000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie: Do you have a link to the text/html charset sniffer for me?","msgtype":"m.text"},"ts":1369763747000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"jgraham: it was nice :-)","msgtype":"m.text"},"ts":1369763754000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"GPHemsley: one sec","msgtype":"m.text"},"ts":1369763759000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"OK, that was one smilie more than I needed","msgtype":"m.text"},"ts":1369763760000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":":):)","msgtype":"m.text"},"ts":1369763766000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Now I am worried I am turning into a lunatic","msgtype":"m.text"},"ts":1369763771000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Turning?","msgtype":"m.text"},"ts":1369763785000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"GPHemsley: oh i guess it's just for <meta> http://www.whatwg.org/specs/web-apps/current-work/#algorithm-for-extracting-a-character-encoding-from-a-meta-element","msgtype":"m.text"},"ts":1369763808000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wishes people used the multipage version more often","msgtype":"m.emote"},"ts":1369763839000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"but you'll love that algorithm","msgtype":"m.text"},"ts":1369763839000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just keep the single page one open, then paste the url into that tab and it'll jump without reloading","msgtype":"m.text"},"ts":1369763861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I suppose I could do that","msgtype":"m.text"},"ts":1369763917000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"but anyway","msgtype":"m.text"},"ts":1369763919000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"take my tests again pretending you are not just looking for charset specifically","msgtype":"m.text"},"ts":1369763945000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1369763960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"dunno then","msgtype":"m.text"},"ts":1369763961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"don't we generally ignore parameters? :-)","msgtype":"m.text"},"ts":1369763979000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gah, you're no fun :P","msgtype":"m.text"},"ts":1369764097000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Tested and on IE10 it deletes the text from the original location, while on Firefox it doesn't.","msgtype":"m.text"},"ts":1369764104000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"On Chrome it don't work.","msgtype":"m.text"},"ts":1369764160000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"Hixie: Anyway, the way things are, if you have a parameter with an unquoted value, you ignore anything that comes after the first whitespace character.","msgtype":"m.text"},"ts":1369764179000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"so charset=ISO-8859-1 this is ignored;test=bla","msgtype":"m.text"},"ts":1369764198000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"the question is what to do about quotation marks","msgtype":"m.text"},"ts":1369764209000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"some implementations will treat the quotation mark as a quotation mark and look for its match before deciding what to ignore","msgtype":"m.text"},"ts":1369764234000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"weird","msgtype":"m.text"},"ts":1369764246000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"others will ignore all characters that aren't semicolon","msgtype":"m.text"},"ts":1369764248000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"so the question is, what do I put in the algorithm? :P","msgtype":"m.text"},"ts":1369764264000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"it seems to be leaning towards not matching quotes in this case","msgtype":"m.text"},"ts":1369764284000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"which IE, Opera, and Safari appear to agree with","msgtype":"m.text"},"ts":1369764295000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Firefox and Chrome, on the other hand, will each up that whole chunk between the two quotation marks and ignore that","msgtype":"m.text"},"ts":1369764313000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"s/each/eat/","msgtype":"m.text"},"ts":1369764318000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"meaning if you happen to have an unmatched quotation mark, the whole rest of the MIME type is ignored","msgtype":"m.text"},"ts":1369764338000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"is there any way to test this other than charset?","msgtype":"m.text"},"ts":1369764349000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not that I'm aware of","msgtype":"m.text"},"ts":1369764362000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"but I'm not aware of much :P","msgtype":"m.text"},"ts":1369764369000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"what is the XML format parameter? anything visible?","msgtype":"m.text"},"ts":1369764407000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"never heard of it","msgtype":"m.text"},"ts":1369764434000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"then I have no idea","msgtype":"m.text"},"ts":1369764441000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"I'm inclined to not match quotes","msgtype":"m.text"},"ts":1369764465000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"but it has been suggested that tokenizing might be done before parsing","msgtype":"m.text"},"ts":1369764479000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"though that would probably be in violation of the spec, as written","msgtype":"m.text"},"ts":1369764492000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"shrugs","msgtype":"m.emote"},"ts":1369764496000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"!@#$%^&*( https://www.w3.org/Bugs/Public/show_bug.cgi?id=22106 wtf","msgtype":"m.text"},"ts":1369764581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"GPHemsley: if there's no way to test it, you may be trying to solve a non-problem. :-)","msgtype":"m.text"},"ts":1369764599000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Well, yes and no","msgtype":"m.text"},"ts":1369764955000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Hixie: There are some browsers that will use the last charset value and some that will use the first","msgtype":"m.text"},"ts":1369764979000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"So I think there's something in play here","msgtype":"m.text"},"ts":1369764988000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"but seeing as how I would prefer the simpler solution, and a majority of browsers agree with me, I think I'll go with that","msgtype":"m.text"},"ts":1369765060000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(majority out of 5, that is)","msgtype":"m.text"},"ts":1369765076000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"wonders if he should allow single quotes for quoted parameter values, too","msgtype":"m.emote"},"ts":1369765265000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(probably not)","msgtype":"m.text"},"ts":1369765285000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"ugh","msgtype":"m.text"},"ts":1369766065000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"the browsers that do charset-first are also the ones that do non-quote-matching, and the same for charset-last and quote-matching","msgtype":"m.text"},"ts":1369766185000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"except Safari","msgtype":"m.text"},"ts":1369766188000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"because now I have to figure out whether to allow backslash to escape a semicolon in order to be ignored","msgtype":"m.text"},"ts":1369766246000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"as in:","msgtype":"m.text"},"ts":1369766265000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"text/xml;charset=ISO-8859-2 test te\\;charset=ISO-8859-5 test; testing=asd\\;asd","msgtype":"m.text"},"ts":1369766266000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"allow backslash to escape in an ignorable element, and that declares no charset","msgtype":"m.text"},"ts":1369766290000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"don't allow it to, and it does","msgtype":"m.text"},"ts":1369766320000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"ok, mailbox is dealt with","msgtype":"m.text"},"ts":1369766870000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"now lunch","msgtype":"m.text"},"ts":1369766871000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I assume \"dealt with\" doesn't imply \"read\"","msgtype":"m.text"},"ts":1369766955000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"i read most of them","msgtype":"m.text"},"ts":1369767113000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"How many were there, I wonder?","msgtype":"m.text"},"ts":1369767161000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hsivonen: You there?","msgtype":"m.text"},"ts":1369767262000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Anyone have IE handy?","msgtype":"m.text"},"ts":1369767288000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Here's a fun one:","msgtype":"m.text"},"ts":1369767476000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"text/xml;test=asdf\\;charset=ISO-8859-3 test;charset=ISO-8859-2 te\\\"st;testing=te\"st;charset=ISO-8859-5","msgtype":"m.text"},"ts":1369767483000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Four possible encodings","msgtype":"m.text"},"ts":1369767502000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(utf-8 is the default for XML)","msgtype":"m.text"},"ts":1369767509000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"and at least one browser does each one","msgtype":"m.text"},"ts":1369767521000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Firefox and Chrome do the same thing, but that's because they both match quotes","msgtype":"m.text"},"ts":1369767641000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"I'm curious what IE does","msgtype":"m.text"},"ts":1369767650000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(IE has so far been patterning mostly with Opera)","msgtype":"m.text"},"ts":1369767664000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Other way around, probably","msgtype":"m.text"},"ts":1369767786000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"well, yeah, but from my point of view :)","msgtype":"m.text"},"ts":1369767802000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"what is the best channel to ask questions about html5 and css3?","msgtype":"m.text"},"ts":1369767883000,"senderName":"qwebirc364527","senderId":"qwebirc364527@irc"},
{"content":{"body":"Hixie: yt? I've got some questions about the 'calling scripts' algorithm, especially as it regards microtask checkpoints","msgtype":"m.text"},"ts":1369767954000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"regarding that last example: Firefox and Chrome choose -5, Opera chooses -3, Safari chooses utf-8","msgtype":"m.text"},"ts":1369768350000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"so I guess no one actually chooses -2","msgtype":"m.text"},"ts":1369768358000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"unless IE does","msgtype":"m.text"},"ts":1369768369000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"a UA that allowed semicolon escaping would choose -2","msgtype":"m.text"},"ts":1369768431000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"err, rather, a UA that allowed semicolon escaping AND used the first occurrence of a valid charset parameter","msgtype":"m.text"},"ts":1369768475000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(this is all very complicated)","msgtype":"m.text"},"ts":1369768486000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"it's not clear what made Safari just reject everything and default to utf-8","msgtype":"m.text"},"ts":1369768533000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"oh, unless...","msgtype":"m.text"},"ts":1369768591000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"perhaps Sarfari is sniffing for HTML","msgtype":"m.text"},"ts":1369768649000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"which would mean it treats the whole thing as invalid","msgtype":"m.text"},"ts":1369768693000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"if that's true, it makes everything else even more complicated...","msgtype":"m.text"},"ts":1369768770000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Anyone with IE, what's the encoding on this page? http://whatwg.gphemsley.org/tests/mimesniff/sniffing.php?ct=text/xml;test=asdf\\;charset=ISO-8859-3%20test;charset=ISO-8859-2%20te\\%22st;testing=te%22st;charset=ISO-8859-5","msgtype":"m.text"},"ts":1369769651000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(at least Safari isn't treating it as invalid... I guess)","msgtype":"m.text"},"ts":1369769880000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Is it possible to determine the MIME type of an iframe using JavaScript?","msgtype":"m.text"},"ts":1369771039000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Hixie: i think i'll not change the title again :-)","msgtype":"m.text"},"ts":1369771267000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"B-b-b-b-but","msgtype":"m.text"},"ts":1369771283000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"apparently only in Firefox and IE...?","msgtype":"m.text"},"ts":1369771392000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"GPHemsley: if everyone is doing different things, just spec the simplest sane thing you can come up with :-)","msgtype":"m.text"},"ts":1369772410000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"aklein: here","msgtype":"m.text"},"ts":1369773347000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: i figured :-)","msgtype":"m.text"},"ts":1369773357000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: hi there. the algorithm at http://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#calling-scripts looks to me like it might be \"perfoming a microtask checkpoint\" too often","msgtype":"m.text"},"ts":1369773466000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"Hixie: the \"microtask\" is meant to end only when the outermost script invocation returns","msgtype":"m.text"},"ts":1369773494000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"but my reading of that section is that causing one script to be invoked from another (say, by synchronously dispatching an event via a call to HTMLElement.focus() inside an onclick handler) causes a checkpoint to be performed in the \"middle\" of the click handler (and then again at the end)","msgtype":"m.text"},"ts":1369773597000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"Gecko, WebKit, and Blink all do the right thing, but I think the spec likely needs a fix (this was noticed by someone unfamiliar with microtasks trying to understand them by reading the spec)","msgtype":"m.text"},"ts":1369773695000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"aklein: i think that was done intentionally, but let me check the history...","msgtype":"m.text"},"ts":1369773738000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aklein: see https://www.w3.org/Bugs/Public/show_bug.cgi?id=19554","msgtype":"m.text"},"ts":1369773811000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aklein: it's intentional (and it is hoped that the browsers will change accordingly)","msgtype":"m.text"},"ts":1369773824000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aklein: however, if the browsers won't change, then obviously we should change the spec","msgtype":"m.text"},"ts":1369773834000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: hmm, interesting, reading...","msgtype":"m.text"},"ts":1369773872000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"Hixie: more generally, I'm interested in the problem of specs not referencing this \"jump to a code-entry point\" algorithm. e.g., DOM core doesn't use that algorithm when describing how events are dispatched. is that just a bug?","msgtype":"m.text"},"ts":1369774189000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"it seems like the layering is tricky, though","msgtype":"m.text"},"ts":1369774246000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"since DOM isn't supposed to refer to HTML","msgtype":"m.text"},"ts":1369774251000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"doublec: yt?","msgtype":"m.text"},"ts":1369774315000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aklein: yeah i think i need to rework it to be in terms of the JS spec","msgtype":"m.text"},"ts":1369774338000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aklein: there's a bug on that too, hold on","msgtype":"m.text"},"ts":1369774344000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aklein: https://www.w3.org/Bugs/Public/show_bug.cgi?id=18242","msgtype":"m.text"},"ts":1369774471000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: my read of 19554: it looks you went with sicking's suggestion to do \"outermost script exits\" for blob url autorevoking, but left \"perform microtask checkpoint\" as running every time through the script-calling algorithm. and I don't see discussion about that issue on that bug.","msgtype":"m.text"},"ts":1369774610000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"aklein: ah, maybe it was an error then. can you file a new bug?","msgtype":"m.text"},"ts":1369774730000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: will do","msgtype":"m.text"},"ts":1369774756000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"https://www.w3.org/Bugs/Public/show_bug.cgi?id=21851 makes no sense to me. can someone explain this? (the issue of putting .text on the abstract cue interface)","msgtype":"m.text"},"ts":1369774760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aklein: thanks","msgtype":"m.text"},"ts":1369774763000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Can we abstract all uses of end-of-microtask into some kind of microtask work queue","msgtype":"m.text"},"ts":1369774938000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"and mutation observers, table sort, blob urls, etc... will all be microtask work queue types.","msgtype":"m.text"},"ts":1369774956000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"it looks like we now have at least four types of work happening without consistent semantics.","msgtype":"m.text"},"ts":1369774975000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"(mutation observers, table sorting, blob url revokation, custom element callbacks).","msgtype":"m.text"},"ts":1369774997000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: this seems to already be partially done, there's a list of \"global script clean-up jobs\"","msgtype":"m.text"},"ts":1369774999000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"rafaelw: don't they all have slightly different needs?","msgtype":"m.text"},"ts":1369775092000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I really hope not.","msgtype":"m.text"},"ts":1369775101000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"That would be unfortunate.","msgtype":"m.text"},"ts":1369775105000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"Adam is right, the closest thing here is the script cleanup steps.","msgtype":"m.text"},"ts":1369775123000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"I think maybe the global script cleanup jobs list needs a more general name: like global microtask work item","msgtype":"m.text"},"ts":1369775181000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"sicking & smaug____ might be interested in ^^^ as well","msgtype":"m.text"},"ts":1369775182000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"(and arun if he's nearby)","msgtype":"m.text"},"ts":1369775195000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"the way that mark miller proposed modeling it is that the \"end of microtask\" list is like a special task source","msgtype":"m.text"},"ts":1369775268000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"which has higher prioirty than all other task sources","msgtype":"m.text"},"ts":1369775277000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i kind'a like that","msgtype":"m.text"},"ts":1369775281000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"presumably the current implementations fit that description?","msgtype":"m.text"},"ts":1369775304000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"i'm not sure that that's compatible with how mutation observers are defined right now, but I bet it could be made compatible with that","msgtype":"m.text"},"ts":1369775307000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i've suggested doing that","msgtype":"m.text"},"ts":1369775309000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but iirc there's problems with it","msgtype":"m.text"},"ts":1369775315000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rafaelw: it's not how gecko does it","msgtype":"m.text"},"ts":1369775316000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"what's the semantic difference?","msgtype":"m.text"},"ts":1369775327000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: does mutation observers do anything differently once all mutation observers have been notified?","msgtype":"m.text"},"ts":1369775359000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"specifically, say that I have 3 observers","msgtype":"m.text"},"ts":1369775387000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"A B and C","msgtype":"m.text"},"ts":1369775389000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"if I do something that ends up wanting to notify all 3","msgtype":"m.text"},"ts":1369775406000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"zcorpan: That's the plan :)","msgtype":"m.text"},"ts":1369775409000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"and then I return to the event loop, which means that we start notifying them","msgtype":"m.text"},"ts":1369775433000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"we start with notifying A","msgtype":"m.text"},"ts":1369775442000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"and then we notify B, but B does something that wants to notify A and C","msgtype":"m.text"},"ts":1369775461000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"which one is notified after that? A or C?","msgtype":"m.text"},"ts":1369775479000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"C","msgtype":"m.text"},"ts":1369775482000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"(microtask doesn't necessarily mean returning to event loop)","msgtype":"m.text"},"ts":1369775483000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"then A","msgtype":"m.text"},"ts":1369775493000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"conceptually, you can think about the delivery steps like this:","msgtype":"m.text"},"ts":1369775506000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: ok, so we just add to C's list, and then add to A's list which adds A to the end of the queue?","msgtype":"m.text"},"ts":1369775519000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"let currentRecipients be currentRecipients","msgtype":"m.text"},"ts":1369775526000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"clear currentRecipients","msgtype":"m.text"},"ts":1369775530000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"while (currentRecipients.length)","msgtype":"m.text"},"ts":1369775540000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"  next  = currentRecipients.shift();","msgtype":"m.text"},"ts":1369775550000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":" if (next.stillNeedsDelivery) next.deliver()","msgtype":"m.text"},"ts":1369775563000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: you're already describing a different model than a task source","msgtype":"m.text"},"ts":1369775565000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"rafaelw: having it be a task source would require there not being a \"currentReciptients\" concept","msgtype":"m.text"},"ts":1369775613000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"is there any advantage to the task source scheduling that you're thinking of?","msgtype":"m.text"},"ts":1369775679000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"since \"currentReciptients\" require going through the contents of the task source and picking out things that are specifically MO tasks","msgtype":"m.text"},"ts":1369775685000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"no. it wouldn't","msgtype":"m.text"},"ts":1369775712000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: Not sure. There might be the advantage that we can put more things in the task source while having a defined interaction and order","msgtype":"m.text"},"ts":1369775736000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i'm not sure how we can define more things happning at \"end of microtask\" right now","msgtype":"m.text"},"ts":1369775753000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"see https://www.w3.org/Bugs/Public/show_bug.cgi?id=20821 for more discussion on this btw","msgtype":"m.text"},"ts":1369775780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it seems like there are two (somewhat orthogonal issues)","msgtype":"m.text"},"ts":1369775829000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"a) when delivery happens","msgtype":"m.text"},"ts":1369775833000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"b) how delivery happens.","msgtype":"m.text"},"ts":1369775837000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1369775844000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1369775850000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"what do you mean by the \"how\"?","msgtype":"m.text"},"ts":1369775859000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"(and I suppose) whether all clients can live with the same semantics of a single a & b.","msgtype":"m.text"},"ts":1369775861000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"delivery scheduling","msgtype":"m.text"},"ts":1369775867000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"(i.e. m.o vs task source)","msgtype":"m.text"},"ts":1369775881000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"so a == \"when do we run 'end of microtask' stuff\", and b == \"in what order does 'end of microtask' stuff run\"?","msgtype":"m.text"},"ts":1369775907000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"yes.","msgtype":"m.text"},"ts":1369775917000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"then yes, i agree","msgtype":"m.text"},"ts":1369775923000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"isn't a) clear","msgtype":"m.text"},"ts":1369775927000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"i thought so","msgtype":"m.text"},"ts":1369775938000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"that's what i'm hoping, the current spec language is clearly wrong.","msgtype":"m.text"},"ts":1369775941000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"there are two problems with the current wording (wrt a)","msgtype":"m.text"},"ts":1369776020000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"1) http://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#calling-scripts will Perform a microtask checkpoint, when there is a running script","msgtype":"m.text"},"ts":1369776162000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"2) there are multiple kinds of work which are happening here, and it seems like they should all be clients of the same mechanism.","msgtype":"m.text"},"ts":1369776191000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: doesn't step 5 in that algorithm only do the microtask checkpoint if it's the outermost running script?","msgtype":"m.text"},"ts":1369776302000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"oh, no","msgtype":"m.text"},"ts":1369776309000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"step 6 is what does the checkpoint","msgtype":"m.text"},"ts":1369776321000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"right. that's why adam was suggesting that step 5 is closest to what we need here.","msgtype":"m.text"},"ts":1369776368000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"although, we need think thing to also be invoked at the end of the current Task, so it makes somewhat less sense to call it (global script clean-up jobs)","msgtype":"m.text"},"ts":1369776420000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"the cleanup jobs stuff isn't even agreed upon being a workable idea. I think Google is wary so far","msgtype":"m.text"},"ts":1369776431000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"weary even","msgtype":"m.text"},"ts":1369776460000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"well, i think we can treat that as a separate issue.","msgtype":"m.text"},"ts":1369776470000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"(presumably that's about File stuff).","msgtype":"m.text"},"ts":1369776477000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"yes, definitely separate, sorry","msgtype":"m.text"},"ts":1369776488000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"at very least, there are m.o., custom element callbacks and table sorting.","msgtype":"m.text"},"ts":1369776501000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"that are all \"end of microtask\"","msgtype":"m.text"},"ts":1369776507000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"(and if their needs are different, i'm not aware of it).","msgtype":"m.text"},"ts":1369776529000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"can anyone figure out what https://www.w3.org/Bugs/Public/show_bug.cgi?id=22049 means?","msgtype":"m.text"},"ts":1369776911000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is this a reasonable way to clean this up: I'll write-up a proposal for cleaning up the language, attach it to a whatwg bug, and start cc'd folks -- and the folks i ad can make sure the right stake holders are added (that i missed)?","msgtype":"m.text"},"ts":1369776925000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"The way I'd like to define things is that there's an \"end of microtask\" queue of work items. These items are always added to the end of the queue and always run in queue order. Only once the queue is empty do we continue with doing whatever else we had planned to do (like calling the next event handler for example). M.o. would, when they detect that a MO gets its first entry, queue a work item at the end of the microtask queue which notifies ","msgtype":"m.text"},"ts":1369776952000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"MO. When a MO gets additional entries, nothings needed to be done.","msgtype":"m.text"},"ts":1369776952000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"s/ad/add","msgtype":"m.text"},"ts":1369776953000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: that soudns good","msgtype":"m.text"},"ts":1369776964000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"ok, well now you've opened issue b","msgtype":"m.text"},"ts":1369776998000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"so let's talk about it briefly.","msgtype":"m.text"},"ts":1369777006000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: ah, yes, definitely","msgtype":"m.text"},"ts":1369777007000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"rafaelw: sorry, my mind has been more occupied with b","msgtype":"m.text"},"ts":1369777028000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"rafaelw: i guess it would be nice if the table sorting happened before notifying any MO. Since otherwise we'd might notify it twice rather than once. But that requires tricky knowledge about different end-of-microtask-work-items","msgtype":"m.text"},"ts":1369777159000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"so adam and I were just talking about this and we think it's probably ok to use a regular Task queue.","msgtype":"m.text"},"ts":1369777411000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"M.O. will need to schedule a single task for all observers and make sure its pending every time a new record gets enqueue to an observer","msgtype":"m.text"},"ts":1369777440000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: won't that cause these things to run after an event has fully run? Rather than after each event handler","msgtype":"m.text"},"ts":1369777447000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sorry. have you jumped back to talking about (a)?","msgtype":"m.text"},"ts":1369777473000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: or do you mean \"task queue that runs at the end of microtask\"","msgtype":"m.text"},"ts":1369777476000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"yes.","msgtype":"m.text"},"ts":1369777480000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: ok, i'm with you","msgtype":"m.text"},"ts":1369777485000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"why do you need a single task for all observers?","msgtype":"m.text"},"ts":1369777501000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"the issue with scheduling for m.o is that delivery is ordered by observer *creation time*.","msgtype":"m.text"},"ts":1369777505000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"so each delivery cycle needs to sort the observers which are about to be delivered to.","msgtype":"m.text"},"ts":1369777524000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"oooh :(","msgtype":"m.text"},"ts":1369777557000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"why do we use observer creation time?","msgtype":"m.text"},"ts":1369777564000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"well, first it was a useful construct because pages can control order of delivery by creating their observers in the right sequence.","msgtype":"m.text"},"ts":1369777601000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"but the real reason is that ordering by *mutation* order would have risked exposing implementation details.","msgtype":"m.text"},"ts":1369777636000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"and being non-compat.","msgtype":"m.text"},"ts":1369777642000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"(or very hard to spec)","msgtype":"m.text"},"ts":1369777655000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"mm.. good point","msgtype":"m.text"},"ts":1369777669000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"so i think it makes sense to use a FIFO queue (avoid Task queue for clarity).","msgtype":"m.text"},"ts":1369777710000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"the wording for m.o. gets more complex, but i think that's ok.","msgtype":"m.text"},"ts":1369777723000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1369777737000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"and i think we're all agreed on the timing, but the spec is just in need to a fix-up.","msgtype":"m.text"},"ts":1369777749000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"any other problems you can think of? otherwise I'll go write it up and open the bug.","msgtype":"m.text"},"ts":1369777788000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"we'd have to define things like, what happens if a MO does something that both cause additional MOs needing to be called, and also cause tables to need to be re-sorted. Does those MOs get called before or after the table is sorted?","msgtype":"m.text"},"ts":1369777808000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"I.e. say that you have observers A and B created","msgtype":"m.text"},"ts":1369777838000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"and you do a mutation that requires A to fire","msgtype":"m.text"},"ts":1369777847000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"so then A fires, and it does a mutation which requires B to get fired and also mutates a table.","msgtype":"m.text"},"ts":1369777868000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"does B run before or after table is resorted?","msgtype":"m.text"},"ts":1369777876000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"and would the answer be different if the initial mutation had required both A and B to get notified?","msgtype":"m.text"},"ts":1369777897000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"so i have an opinion...","msgtype":"m.text"},"ts":1369777939000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"i don't think i have a strong opinion. Though it seems iffy if the answer depends on if B was originally scheduled or not","msgtype":"m.text"},"ts":1369778010000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i think when m.o. runs, it *has* to deliver to all observers that are \"activated\" before it calls the first one.","msgtype":"m.text"},"ts":1369778062000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"i think the question is where it continues delivering until there are no \"active\" observers, or if it yields to other types of work.","msgtype":"m.text"},"ts":1369778088000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"s/where/whether","msgtype":"m.text"},"ts":1369778122000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"makes sense","msgtype":"m.text"},"ts":1369778206000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"so presumably mark wants ecma end-of-turn stuff to be enqueued to this new microtask FIFO queue?","msgtype":"m.text"},"ts":1369778386000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"(promises, weakrefs, Object.observe, etc...)","msgtype":"m.text"},"ts":1369778407000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"s/ecma/ecmascript/","msgtype":"m.text"},"ts":1369778474000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"ok. i guess this horse is dead","msgtype":"m.text"},"ts":1369778747000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"i'll open a bug that puts a stake in the ground and we can iterate from there.","msgtype":"m.text"},"ts":1369778770000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: sorry, yes","msgtype":"m.text"},"ts":1369779375000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"rafaelw: say my name and my irc client will start blinking and stuff. It's really annoying but it works :)","msgtype":"m.text"},"ts":1369779392000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: ok.","msgtype":"m.text"},"ts":1369779629000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"here's the bug: https://www.w3.org/Bugs/Public/show_bug.cgi?id=22185","msgtype":"m.text"},"ts":1369779635000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"Please add anyone I've missed.","msgtype":"m.text"},"ts":1369779644000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"I'll try to write-up the proposal today or tomorrow.","msgtype":"m.text"},"ts":1369779669000,"senderName":"rafaelw","senderId":"rafaelw@irc"},
{"content":{"body":"rafaelw: thanks for writing this all down","msgtype":"m.text"},"ts":1369779743000,"senderName":"aklein","senderId":"aklein@irc"},
{"content":{"body":"So, in April http://html5doctor.com/the-hgroup-element/ mentioned they were \"working on an article to help guide authors on which markup patterns they should use instead [of hgroup]\" What has come of that? What would you folks recommend?","msgtype":"m.text"},"ts":1369781642000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"And related, any developments on <subline> or something similar?","msgtype":"m.text"},"ts":1369781655000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"<hgroup> is the element to use.","msgtype":"m.text"},"ts":1369781686000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you have subheadings","msgtype":"m.text"},"ts":1369781691000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen, MikeSmith, gsnedders: woops, sorry, just checked in a parser fix without marking it for conformance checkers and tools","msgtype":"m.text"},"ts":1369781739000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Huh, has it been undeprecated or something, Hixie?","msgtype":"m.text"},"ts":1369781810000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: it was never deprecated, at the whatwg","msgtype":"m.text"},"ts":1369781882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"JonathanNeal: why now use the appropriate h-level then use the \"next sibling\" CSS selector","msgtype":"m.text"},"ts":1369781906000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"not*","msgtype":"m.text"},"ts":1369781909000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"JonathanNeal: all that happened with <hgroup> is that the w3c is trying to assert its independence, as far as i can tell, by making dumb changes to their fork of the spec.","msgtype":"m.text"},"ts":1369781910000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(note: the above may be overly cynical)","msgtype":"m.text"},"ts":1369781930000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: thanksfor theheads-up","msgtype":"m.text"},"ts":1369781960000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: (specifically, for <menuitem>; without the fix you'll have an infinite loop)","msgtype":"m.text"},"ts":1369781999000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"man, i'm totally screwing up this rtl bug","msgtype":"m.text"},"ts":1369782095000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah yeah, I saw the bug report I think","msgtype":"m.text"},"ts":1369782096000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"every time i fix it i make it worse","msgtype":"m.text"},"ts":1369782102000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Is there an IRC room for bugging W3C folks about this, and figuring out what they plan to push in its stead?","msgtype":"m.text"},"ts":1369782108000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"i18n people must think i'm a loon","msgtype":"m.text"},"ts":1369782114000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(menuitem)","msgtype":"m.text"},"ts":1369782115000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JonathanNeal: #htmlwg on irc.w3.org, if you care about the html spec, but i recommend living the easy life with the whatwg spec instead :-)","msgtype":"m.text"},"ts":1369782135000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"#html-wg, I think","msgtype":"m.text"},"ts":1369782184000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The inability to add so much as a <div> or <span> in <hgroup> was what keeps me tracking this.","msgtype":"m.text"},"ts":1369782194000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"^ if you're a UA implementer. If he's a consumer, then he should look at which version of the spec is being used for UA's","msgtype":"m.text"},"ts":1369782209000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"Unless I'm incorrect in that preposition?","msgtype":"m.text"},"ts":1369782211000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: why do you need a <div> in <hgroup>?","msgtype":"m.text"},"ts":1369782294000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"JonathanNeal: I don't think hgroup is ever essential. The only reason to use it is if you care about how applications the implement the outline algoritm are going to show your headings in the outline","msgtype":"m.text"},"ts":1369782301000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JonathanNeal: (you can have a <Span> around the <h1> or <h2> contents in <hgroup>)","msgtype":"m.text"},"ts":1369782303000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I was always hoping an element like <hgroup> or <subline> would normalize some of the odd implementations I catch across the web.","msgtype":"m.text"},"ts":1369782405000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Like here http://twitter.github.io/bootstrap/ they have a kind of sub heading or abstract that they place in a paragraph.","msgtype":"m.text"},"ts":1369782429000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"that's hte idea of <hgroup>, right","msgtype":"m.text"},"ts":1369782434000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"But here http://purecss.io/ they have it in a heading.","msgtype":"m.text"},"ts":1369782436000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"abstracts are more <header> material","msgtype":"m.text"},"ts":1369782446000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"JonathanNeal: the W3C HTML spec has http://www.w3.org/html/wg/drafts/html/master/common-idioms.html#sub-head (if you've not seen it already)","msgtype":"m.text"},"ts":1369782495000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JonathanNeal: the bootstrap case is <header> <hgroup> <h1> Bootstrap </h1> <h2> Sleek [...] </h2> </hgroup> <p> ...download... </p> <nav> <p> ...github...examples... </p> </nav> </header>","msgtype":"m.text"},"ts":1369782507000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or similar","msgtype":"m.text"},"ts":1369782513000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"The Boostrap team occasionally labeling it a \"byline\", although it is not being used to attribute credit, it's being used as a subheading.","msgtype":"m.text"},"ts":1369782516000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"<div class=\"marketing\">…<h1>Built with Bootstrap.</h1><p class=\"marketing-byline\">For even more sites built with Bootstrap…</div>","msgtype":"m.text"},"ts":1369782627000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Those are interesting recommendations, MikeSmith.","msgtype":"m.text"},"ts":1369782736000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: secondary to this conversation, but I believe a hyphen is an illegal character to use in an id/class attribute value","msgtype":"m.text"},"ts":1369782784000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"Hixie: I see. Thanks. Yet Boostrap almost kind of avoids HTML5 elements.","msgtype":"m.text"},"ts":1369782799000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"boogyman: not sure I follow. there is no sub-head element, that's just an article describing (meh) techniques to mark up subheadings.","msgtype":"m.text"},"ts":1369782858000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: yeah i just meant that's what it would look like if you used modern HTML","msgtype":"m.text"},"ts":1369782872000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Maybe the paradigm shift was just really high to think of using <h1-6> for longer, even mulit-part text.","msgtype":"m.text"},"ts":1369782985000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"<h2-6> rather, within an <hgroup>","msgtype":"m.text"},"ts":1369782997000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: I happen to agree with those recommendations, and disagree with Hixie. I think hgroup is a solution in search of a problem.","msgtype":"m.text"},"ts":1369783001000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the problem is right there: how do you mark up subheadings","msgtype":"m.text"},"ts":1369783025000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"every w3c spec has it","msgtype":"m.text"},"ts":1369783028000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"how is it not a real problem?","msgtype":"m.text"},"ts":1369783033000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: you can obviously mark up subheadings without <hgroup>","msgtype":"m.text"},"ts":1369783066000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Hixie, you mean it's not <br><b><font size> ?","msgtype":"m.text"},"ts":1369783071000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":";)","msgtype":"m.text"},"ts":1369783073000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"It's certainly a situation in the projects I've worked on, and I see differing opinions on how it should be marked up, between Twitter and Yahoo.","msgtype":"m.text"},"ts":1369783081000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"everybody was marking up subheadings in whatever ways before hgroup came along","msgtype":"m.text"},"ts":1369783102000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: well sure, you can mark up paragraphs with <p>. I'm not disagreeing that there are multiple solutions, just saying that there is a problem","msgtype":"m.text"},"ts":1369783112000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"UAs do nothing with hgroup","msgtype":"m.text"},"ts":1369783113000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: er, without <p>","msgtype":"m.text"},"ts":1369783126000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1369783130000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I agree it'd be a bigger problem if browsers actually exposed the document outline","msgtype":"m.text"},"ts":1369783160000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JonathanNeal: right, the fact that there were multiple people disagreeing on how to mark it up is why we introduced <hgroup>","msgtype":"m.text"},"ts":1369783163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's similar to <section> and <aside> and so on","msgtype":"m.text"},"ts":1369783177000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"MikeSmith: some do, my iPhone has started recommending alternate views of web pages.","msgtype":"m.text"},"ts":1369783199000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"I'm sure you all know what it is better than I do, but has anyone else seen this?","msgtype":"m.text"},"ts":1369783211000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Hixie: but so far you're the one who's not wanting to have browsers provide a way to Web content to expose a document outline","msgtype":"m.text"},"ts":1369783216000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"It kind of strips the page of styling and presents you with a book view of a web page?","msgtype":"m.text"},"ts":1369783220000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: have not see that","msgtype":"m.text"},"ts":1369783233000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Yea, it's called \"Reader\"","msgtype":"m.text"},"ts":1369783388000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"http://photos.appleinsider.com/safari-110607-3.png","msgtype":"m.text"},"ts":1369783403000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"ah yeah","msgtype":"m.text"},"ts":1369783451000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: i think the outline thing is kind of an orthogonal thing. even without the outline issue, we still need something like <aside> and <nav> and <hgroup>.","msgtype":"m.text"},"ts":1369783451000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"JonathanNeal: that thing seems pretty half-assed","msgtype":"m.text"},"ts":1369783482000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"its a \"low-fi\" render","msgtype":"m.text"},"ts":1369783529000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"Hixie: I think there's way more of need for <aside> and <nav> then for <hgroup> but yeah I agree people certainly want something","msgtype":"m.text"},"ts":1369783531000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: it's a start, and definitely the most outline-ish thing I've seen for non-developers.","msgtype":"m.text"},"ts":1369783551000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"MikeSmith: sure, subheadings are rarer than sidebars, but that's just a question of degrees, not a question of whether there's a problem or not.","msgtype":"m.text"},"ts":1369783568000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"JonathanNeal: well, it doesn't seem like an outline at all to me. And it's not clear to me that it's doing anything with <hgroup>","msgtype":"m.text"},"ts":1369783595000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Hixie: true","msgtype":"m.text"},"ts":1369783603000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I meant, it's using (atleast the elements of) the outline to create a book view of the page.","msgtype":"m.text"},"ts":1369783735000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Hixie: I guess to me it just seems like not a high enough priority to merit a new element. But then I could also say that about <article> and some others.","msgtype":"m.text"},"ts":1369783788000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Long live <main>","msgtype":"m.text"},"ts":1369783817000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"I think some people get way way to wrapped up in discussions about how to properly use the semantic elements -- <article> etc.","msgtype":"m.text"},"ts":1369783894000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"splitting hairs","msgtype":"m.text"},"ts":1369783919000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"talmudic","msgtype":"m.text"},"ts":1369783924000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"pick your metaphor","msgtype":"m.text"},"ts":1369783932000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think in the end Web authors should care fuck all what somebody else thinks of their markup, as long as it's accessible and i18n-friendly, etc.","msgtype":"m.text"},"ts":1369784002000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it's like looking at the source of somebody's PDF and complaining about how they used PostScript","msgtype":"m.text"},"ts":1369784082000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Do you agree that there's a difference between appearing accessible, and being accessible?","msgtype":"m.text"},"ts":1369784088000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"boogyman: is that question a trap of some kind?","msgtype":"m.text"},"ts":1369784156000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that wasn't my intent. I have seen poorly authored code that is \"accessible\" in the sense that it had tags and wai-aria roles, but that if someone was more miopic, it's really a pos that doesn't make sense.","msgtype":"m.text"},"ts":1369784266000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1369784304000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"boogyman: I would imagine that anybody who was taking the time to add wai-aria roles to a document would be doing it in good faith to try to actually make it accessible","msgtype":"m.text"},"ts":1369784373000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: well sure, but we have it now, so it's kind of a moot point. There's lots of elements that are even less useful.","msgtype":"m.text"},"ts":1369784413000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: no disagreement there","msgtype":"m.text"},"ts":1369784433000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok :-)","msgtype":"m.text"},"ts":1369784443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so in related news, I see http://www.apple.com/safari/features.html mentions hgroup","msgtype":"m.text"},"ts":1369784512000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"\"Support for article, aside, footer, header, hgroup, nav, and section elements allows developers to create advanced web designs with semantic markup.\"","msgtype":"m.text"},"ts":1369784517000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JonathanNeal: do you have an example of Reader doing something with hgroup?","msgtype":"m.text"},"ts":1369784541000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"maybe hober knows","msgtype":"m.text"},"ts":1369784684000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh, btw -- Hixie stop being a loon","msgtype":"m.text"},"ts":1369784689000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"MikeSmith: i did a search at google and found literally over 100,000,000 pages with <hgroup> (vs about five times as many with <aside>). It's pretty widely used.","msgtype":"m.text"},"ts":1369784788000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(this is on a subset of the web that we use for this kind of thing internally, i don't recall the sample size but it's in the single-digit billions, iirc)","msgtype":"m.text"},"ts":1369784836000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: OK","msgtype":"m.text"},"ts":1369785114000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that suggests to me we probably don't really need <aside) either then :)","msgtype":"m.text"},"ts":1369785134000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"100m isn't an insignificant amount","msgtype":"m.text"},"ts":1369785206000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"MikeSmith: well, see https://www.w3.org/Bugs/Public/show_bug.cgi?id=17812 -- from the same sample, i got about 50k pages mentioning :read-only and friends","msgtype":"m.text"},"ts":1369785502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"MikeSmith: i'd guess 100m here is about 1%-10%. We were forced to have the <image> hack in the HTML parser for something used on 0.2% of pages. FWIW.","msgtype":"m.text"},"ts":1369785559000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Good ol' <image>.","msgtype":"m.text"},"ts":1369785584000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"How's <picture> doing these days?","msgtype":"m.text"},"ts":1369785591000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"}
]