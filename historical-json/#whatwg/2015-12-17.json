[
{"content":{"body":"caitp: would be good to have your perspective as an implementor on https://github.com/whatwg/html/pull/401 which is still open and welcoming comments","msgtype":"m.text"},"ts":1450315382000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"caitp: also https://github.com/whatwg/html/pull/373 which has already been merged but seems like you might want to be aware of","msgtype":"m.text"},"ts":1450315417000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not sure if you care so much about stuff at this level, so just FYI","msgtype":"m.text"},"ts":1450315451000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"of course I care! thanks for the info","msgtype":"m.text"},"ts":1450315512000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"I'll have to have a look at them at a time when I haven't recently had a glass of wine","msgtype":"m.text"},"ts":1450315545000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1450317315000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: Domenic: I need some spec reading help","msgtype":"m.text"},"ts":1450317812000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/embedded-content.html#img-environment-changes","msgtype":"m.text"},"ts":1450317814000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"step 2","msgtype":"m.text"},"ts":1450317818000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"how is one supposed to interpret that","msgtype":"m.text"},"ts":1450317833000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"especially, can one read it like \"if the img element ....is not in a Document ..., then abort this algorithm\"","msgtype":"m.text"},"ts":1450317922000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or does \"it is not in a Document\" refer to img's parent?","msgtype":"m.text"},"ts":1450318200000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it looks to me like that step enumerates reasons to stop doing anything, and that part in particular refers to the <img> node","msgtype":"m.text"},"ts":1450318600000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"but what do I know, someone else can have a go at interpretting it","msgtype":"m.text"},"ts":1450318620000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"if it's ambiguous then it's a bug and merits smaug____ or somebody taking time to raise an issue for it, IMHO","msgtype":"m.text"},"ts":1450318724000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"because if it's not clear to the both of you then it's not going to be any more clear to other implementors","msgtype":"m.text"},"ts":1450318768000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"caitp: but does that \"it is not in a Document\" refer only to <img> elements which don't have srcset?","msgtype":"m.text"},"ts":1450318781000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"files a bug","msgtype":"m.emote"},"ts":1450318805000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it's a run-on sentence, probably written in a hurry, can't be sure","msgtype":"m.text"},"ts":1450318825000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"you can never tell in those cases whether someone is intentionally referring to the original subject, or if they had meant to split it into multiple sentences, or maybe use semicolons instead of commas --- all you can do is ask the author","msgtype":"m.text"},"ts":1450318932000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"https://github.com/whatwg/html/issues/414 it is","msgtype":"m.text"},"ts":1450319126000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"can we rename data-x=\"\" to lt=\"\"? bikeshed habit","msgtype":"m.text"},"ts":1450343138000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: possibly, if you hack the toolchain and stuff","msgtype":"m.text"},"ts":1450343278000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and also switch from <span> to <a> at the same time","msgtype":"m.text"},"ts":1450343523000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: yeah, seems trickier since we use <a> too, but who knows, I haven't looked at wattsi much","msgtype":"m.text"},"ts":1450343605000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not particularly tricky, just leave those with href alone","msgtype":"m.text"},"ts":1450343638000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"maybe as a first step i can make wattsi fatal error when it sees href-less <a> or an lt=\"\" attribute, which can catch mistakes now and make sure people upgrade wattsi later when we do switch to <a> and lt=\"\"","msgtype":"m.text"},"ts":1450344162000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: hmm i get an error when trying to build wattsi, even without any changes","msgtype":"m.text"},"ts":1450349866000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Linking ../bin/wattsi","msgtype":"m.text"},"ts":1450349871000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ld: file not found: /usr/lib/crt1.o","msgtype":"m.text"},"ts":1450349871000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"An error occurred while linking","msgtype":"m.text"},"ts":1450349871000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wattsi.pas(2283) Error: Error while linking","msgtype":"m.text"},"ts":1450349873000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wattsi.pas(2283) Fatal: There were 1 errors compiling module, stopping","msgtype":"m.text"},"ts":1450349875000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"PRed anyway https://github.com/whatwg/wattsi/pull/5","msgtype":"m.text"},"ts":1450350804000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: \"use srcset\"","msgtype":"m.text"},"ts":1450352051000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"wonders what that means","msgtype":"m.emote"},"ts":1450352056000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"perhaps 415 will explain that","msgtype":"m.text"},"ts":1450352086000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: it's <dfn>ed","msgtype":"m.text"},"ts":1450352087000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: https://github.com/whatwg/html/pull/406 requires your review","msgtype":"m.text"},"ts":1450352149000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: https://github.com/whatwg/html/pull/415/files#diff-36cd38f49b9afa08222c0dc9ebfe35ebR24258","msgtype":"m.text"},"ts":1450352159000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"has no idea how to see review queue in github easily","msgtype":"m.emote"},"ts":1450352191000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"zcorpan: ok, I see","msgtype":"m.text"},"ts":1450352197000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: https://github.com/pulls/assigned","msgtype":"m.text"},"ts":1450352240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: so your interpretation is that if img isn't in document, return early, right?","msgtype":"m.text"},"ts":1450352300000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"good","msgtype":"m.text"},"ts":1450352315000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"since that is what I was hoping to see","msgtype":"m.text"},"ts":1450352323000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(since it makes fixing a bug easier in Gecko)","msgtype":"m.text"},"ts":1450352338000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: yes. the in a document check was there before picture existed, i believe","msgtype":"m.text"},"ts":1450352338000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but I don't actually understand why in-document affects to srcset handling","msgtype":"m.text"},"ts":1450352359000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"one can't do something like: var im = new Image(); im.srcset = \"...\"; canvas.getContext(\"2d\").drawImage(...)","msgtype":"m.text"},"ts":1450352482000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but with src it works","msgtype":"m.text"},"ts":1450352486000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: no you can do that. it just won't load new images when the environment changes","msgtype":"m.text"},"ts":1450352511000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"well, that is what I meant. You need to manually load each time","msgtype":"m.text"},"ts":1450352562000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"is there some reason why is-in-document matters for srcset?","msgtype":"m.text"},"ts":1450352606000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ok. i'm not sure why the in-document check is there. if there are use cases maybe we should drop that","msgtype":"m.text"},"ts":1450352646000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: so, how do I r+ in github","msgtype":"m.text"},"ts":1450352686000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: just write a comment saying LGTM or r+","msgtype":"m.text"},"ts":1450352699000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"huh","msgtype":"m.text"},"ts":1450352718000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"can I do that comment in the view where I'm looking at the patch?","msgtype":"m.text"},"ts":1450352850000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I guess I can do that...","msgtype":"m.text"},"ts":1450352996000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"comment in the \"Conversation\". if you comment on a commit the comment disappears if the PR is rebased and force-pushed","msgtype":"m.text"},"ts":1450353000000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"odd tool","msgtype":"m.text"},"ts":1450353000000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or i suppose it doesn't disappear, but it is no longer visible in the PR","msgtype":"m.text"},"ts":1450353022000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"reviews in github isn't awesome...","msgtype":"m.text"},"ts":1450353113000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or there isn't reviews","msgtype":"m.text"},"ts":1450353131000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"there are just some random comments","msgtype":"m.text"},"ts":1450353136000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"you can leave feedback on individual lines","msgtype":"m.text"},"ts":1450353178000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but there isn't really a r+ thing and such","msgtype":"m.text"},"ts":1450353188000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll merge that PR","msgtype":"m.text"},"ts":1450353193000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does github issue tool have some kind of dependency tracker?","msgtype":"m.text"},"ts":1450355270000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____, no, but you can mention #1234 and that will show up in #1234","msgtype":"m.text"},"ts":1450355880000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: but if you close then the bug which had #1234 in a comment, #1234 isn't notified about it, right?","msgtype":"m.text"},"ts":1450357036000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Nope","msgtype":"m.text"},"ts":1450357097000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"smaug____: so is https://github.com/whatwg/html/pull/415 clear enough?","msgtype":"m.text"},"ts":1450357315000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I think so","msgtype":"m.text"},"ts":1450357514000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(I still don't know why srcset handling depends on is-in-document, when normal image loading doesn't.)","msgtype":"m.text"},"ts":1450357550000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but I can live with it depending in is-in-document","msgtype":"m.text"},"ts":1450357567000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"just a minor inconsistency","msgtype":"m.text"},"ts":1450357571000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: can you file a new issue about that?","msgtype":"m.text"},"ts":1450357596000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I have never seen that ld: file not found: /usr/lib/crt1.o error before","msgtype":"m.text"},"ts":1450357652000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: https://github.com/whatwg/html/issues/416","msgtype":"m.text"},"ts":1450358336000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: thx","msgtype":"m.text"},"ts":1450358393000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: about that error, if you're on OSX, but you don't have XCode installed, maybe that's why","msgtype":"m.text"},"ts":1450358619000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh right, XCode always stops working whenever it updates, i think","msgtype":"m.text"},"ts":1450358901000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"You need to accept a license agreement after every update","msgtype":"m.text"},"ts":1450359196000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"In another example of","msgtype":"m.text"},"ts":1450359201000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"\"apple hate you:","msgtype":"m.text"},"ts":1450359207000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"plus xcode-select --install every time to redownload and install command line tools","msgtype":"m.text"},"ts":1450359321000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok it builds now. but Fail() isn't fatal","msgtype":"m.text"},"ts":1450362173000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: why doesn't html-build show wattsi error messages?","msgtype":"m.text"},"ts":1450362610000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: is wattsi in your PATH?","msgtype":"m.text"},"ts":1450363524000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: it runs fine (now), it just doesn't log error messages from Fail() when using html-build/build.sh","msgtype":"m.text"},"ts":1450363573000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Domenic: but it does when i run wattsi directly","msgtype":"m.text"},"ts":1450363587000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Domenic: and we have a bunch of errors that i suppose nobody notices","msgtype":"m.text"},"ts":1450363600000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: that seems bad, we should fix that asap :(","msgtype":"m.text"},"ts":1450364942000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"zcorpan: I just thought maybe it was going to the web service which didn't have your local changes","msgtype":"m.text"},"ts":1450364959000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I wonder why Simon is running wattsi directly rather than using build.sh","msgtype":"m.text"},"ts":1450368241000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"as far as I understand it, wattsi is not intended to be run directly on the raw source file","msgtype":"m.text"},"ts":1450368275000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if that's what he means by \"directly\"","msgtype":"m.text"},"ts":1450368327000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if he's running it without the pre-processing that the build.sh script is doing, then I think it's expected that there would be errors","msgtype":"m.text"},"ts":1450368467000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyway I'l wait til he's back around","msgtype":"m.text"},"ts":1450368477000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"botie, inform zcorpan here now if you have time to chat about the build script","msgtype":"m.text"},"ts":1450368510000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will do","msgtype":"m.text"},"ts":1450368510000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"time for me to get back to ironing out the build wrinkles I guess","msgtype":"m.text"},"ts":1450370215000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"digs his Builder cap out of the toy box and puts it back on","msgtype":"m.emote"},"ts":1450370237000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"two months is too long to be away from it I guess","msgtype":"m.text"},"ts":1450370376000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it has missed me","msgtype":"m.text"},"ts":1450370390000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"nice to feel wanted","msgtype":"m.text"},"ts":1450370394000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yaaaa <3","msgtype":"m.text"},"ts":1450370597000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: can you get from a Realm to a settings object?","msgtype":"m.text"},"ts":1450371387000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: after my changes yes!","msgtype":"m.text"},"ts":1450371401000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: the settings object has an origin","msgtype":"m.text"},"ts":1450371401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: don't think we want to use incumbent","msgtype":"m.text"},"ts":1450371412000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wasn't sure","msgtype":"m.text"},"ts":1450371418000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"\"the settings object whose realm execution context's Realm component is _realm_\".","msgtype":"m.text"},"ts":1450371432000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"We could shorten that by defining \"a settings object's Realm\" like I did for \"a settings object's global object\"","msgtype":"m.text"},"ts":1450371452000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"the wording of these things makes the checks look bizarro","msgtype":"m.text"},"ts":1450371456000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, I guess I'll wait until bz gets back from vacation","msgtype":"m.text"},"ts":1450371474000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and myself","msgtype":"m.text"},"ts":1450371483000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and then tweak things a bit and start writing a patch for HTML","msgtype":"m.text"},"ts":1450371499000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Very exciting to get these kind of long-term confusion issues straightened out","msgtype":"m.text"},"ts":1450371595000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: when i made the wrap_width changed to 100, now it is showing the changes in the whole paragraph","msgtype":"m.text"},"ts":1450372257000,"senderName":"rits","senderId":"rits@irc"},
{"content":{"body":"rbyers: as a heads up, I'll be away until January 1, seems like this is mostly done, but not done enough to wrap up before the holidays","msgtype":"m.text"},"ts":1450372679000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rits: if it's the paragraph you're making changes too anyway, that's fine","msgtype":"m.text"},"ts":1450372720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Ok, no worries.  As long as the fundamental approach (which we're actively implementing now) isn't in question then there's no rush...","msgtype":"m.text"},"ts":1450372764000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: I don't think so, though as you can tell I forgot some of the background :/","msgtype":"m.text"},"ts":1450372803000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(but not the bit where we decided this was the way forward)","msgtype":"m.text"},"ts":1450372828000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: actually i have changed a line from a paragraph, i have tried to make the spaces right without changing other one's, i think it will be fine now","msgtype":"m.text"},"ts":1450372842000,"senderName":"rits","senderId":"rits@irc"},
{"content":{"body":"annevk: Yeah, that's my fault for dragging the review out <grin>.  But it does seem like we keep coming back to the observibility issue though.  It's good to hash it out because even once it's in the spec, you won't be the last one to be concerned about it ;-)","msgtype":"m.text"},"ts":1450372861000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"annevk: I think it's a legitimate viewpoint that passive listeners make the observability problem worse in some ways, but also better in other ways (in particular it gives us an incremental path to potentially solving the problem entirely).","msgtype":"m.text"},"ts":1450372937000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"... and IMHO the ways in which it makes the problem worse are subtle and unlikely to be an issue for developers in practice, and the ways it makes it better are fundamental and can lead to dramatic improvements in the developer experience :-)","msgtype":"m.text"},"ts":1450373000000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"I guess they mostly serve as a reminder that you don't want to design any new event system in a way that would require them","msgtype":"m.text"},"ts":1450373010000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And by \"new event system\" I mean a new set of events to expose some functionality not exposed now","msgtype":"m.text"},"ts":1450373065000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"... Right.  The real problem IMHO is that we've avoided the complexity in the spec by not discussing this in the past (even though it's been the reality since the iPhone release).  In order to fix the problem, we have to describe / expose it, which adds complexity to the spec (in order to document reality)  :-(","msgtype":"m.text"},"ts":1450373094000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"annevk: Not sure how to best capture all this subtlety in the spec, but happy to keep iterating on it with you until you're happy :-)","msgtype":"m.text"},"ts":1450373134000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"Thanks, I'll see if I can help when I get back. Pretty sure it'll land in (early) January","msgtype":"m.text"},"ts":1450373273000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rbyers: so technically dictionary members are present or not present per https://heycam.github.io/webidl/#dfn-dictionary","msgtype":"m.text"},"ts":1450375689000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rbyers: \"has\" is not really a thing","msgtype":"m.text"},"ts":1450375693000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rbyers: it perhaps should be though","msgtype":"m.text"},"ts":1450375704000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rbyers: there's a ton of stuff that could make this easier...","msgtype":"m.text"},"ts":1450375715000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rbyers: anyway, for January I guess","msgtype":"m.text"},"ts":1450375723000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rbyers: doesn't seem worth spending too much time on, I might tweak it a bit while merging","msgtype":"m.text"},"ts":1450375755000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does the pass-by-value thing work in any implementations?","msgtype":"m.text"},"ts":1450375787000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"annevk: ok, sounds good - thanks!","msgtype":"m.text"},"ts":1450375861000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"annevk: I could change \"If <var>options</var> is a dictionary and has member <code>{{EventListenerOptions/capture}}</code> with value true\" to \"If <var>options</var> is a dictionary and <code>{{EventListenerOptions/capture}}</code> is present in <var>options</var> with value true\"","msgtype":"m.text"},"ts":1450376010000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: r+","msgtype":"m.text"},"ts":1450376142000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"goes to make some dinner","msgtype":"m.emote"},"ts":1450376194000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: done","msgtype":"m.text"},"ts":1450376731000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"botie, inform zcorpan when you say you're running wattsi directly, you mean you're manually running \"wattsi /opt/workspace/html-build/.temp/source-whatwg-complete /opt/workspace/html-build/.temp/wattsi-output /opt/workspace/html-build/.cache/caniuse.json /opt/workspace/html-build/.cache/w3cbugs.csv\" where the stuff is the .temp and .cache dirs is what wattsi expects?","msgtype":"m.text"},"ts":1450377046000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will do","msgtype":"m.text"},"ts":1450377046000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"smaug____: about https://github.com/w3c/push-api/issues/177 if a \"URL-safe base64 encoding\" were defined, I wonder what spec would define it","msgtype":"m.text"},"ts":1450381304000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or really, what it would say","msgtype":"m.text"},"ts":1450381316000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the Push API editors must have some idea in mind of what it actually is supposed to mean","msgtype":"m.text"},"ts":1450381347000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I was reviewing implementation for that code and couldn't know what should happen there, so I filed that bug","msgtype":"m.text"},"ts":1450381379000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"maybe referring to ... let me find the link","msgtype":"m.text"},"ts":1450381401000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1450381406000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I would think they must be assuming that implementors would understand what it means","msgtype":"m.text"},"ts":1450381429000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"maybe referring to https://tools.ietf.org/html/rfc4648#page-7 or something would be the right thing to do","msgtype":"m.text"},"ts":1450381447000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1450381455000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"aha","msgtype":"m.text"},"ts":1450381468000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah, \"Base 64 Encoding with URL and Filename Safe Alphabet\"","msgtype":"m.text"},"ts":1450381506000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"is just being a pain-in-the-ass-reviewer and complaining about stuff ;)","msgtype":"m.emote"},"ts":1450381534000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"The \"URL and Filename safe\" Base 64 Alphabet","msgtype":"m.text"},"ts":1450381536000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well it should be clear it and should use exact precise terms and not synonymns for them","msgtype":"m.text"},"ts":1450381585000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if you look at the wikipedia article, it mentions couple of variants of base64url","msgtype":"m.text"},"ts":1450381625000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1450381636000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"「Standard 'base64url' with URL and Filename Safe Alphabet」vs 「Unpadded 'base64url' for \"named information\" URI's」","msgtype":"m.text"},"ts":1450381707000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and = handling","msgtype":"m.text"},"ts":1450381724000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"\" Some libraries ... will encode '=' to '.'.\"","msgtype":"m.text"},"ts":1450381734000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1450381756000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"smaug____: That's def not a pain-in-the-ass nitpick.  I had no idea what that was, people need to link to things more obscure than ASCII. ^_^","msgtype":"m.text"},"ts":1450381795000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Domenic: OK finally made the fixes to https://github.com/whatwg/html-build/pull/29","msgtype":"m.text"},"ts":1450383354000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yay! will review today","msgtype":"m.text"},"ts":1450383374000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"only took me 80 days!","msgtype":"m.text"},"ts":1450383376000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Domenic: super, thanks","msgtype":"m.text"},"ts":1450383383000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan, at 2015-12-17 16:08 UTC, MikeSmith said: here now if you have time to chat about the build script and at 2015-12-17 18:30 UTC, MikeSmith said: when you say you're running wattsi directly, you mean you're manually running \"wattsi /opt/workspace/html-build/.temp/source-whatwg-complete","msgtype":"m.text"},"ts":1450384510000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"/opt/workspace/html-build/.temp/wattsi-output /opt/workspace/html-build/.cache/caniuse.json /opt/workspace/html-build/.cache/w3cbugs.csv\" where the stuff is the .temp and .cache dirs is what wattsi expects?","msgtype":"m.text"},"ts":1450384511000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"MikeSmith: manually typing such yes","msgtype":"m.text"},"ts":1450384580000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: ok will try that","msgtype":"m.text"},"ts":1450384611000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for example i get Error: Multiple secondary definitions (subdfn) for term \"dom-context-2d-settransform\" Parent of first says: \"context . setTransform(a, b, c, d, e, f)\", parent of second says: \"context . setTransform(matrix)\" plus 40-something similar errors","msgtype":"m.text"},"ts":1450384741000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"though i ran it on source directly, maybe that's why there were errors?","msgtype":"m.text"},"ts":1450385246000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: no, when I can reproduce it when running it manually on the pre-processed source as well","msgtype":"m.text"},"ts":1450385380000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"have to go now","msgtype":"m.text"},"ts":1450385396000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1450385505000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so the errors are getting written to .temp/wattsi-output.txt but not echoed after that","msgtype":"m.text"},"ts":1450385759000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"maybe we should just be using tee there to begin with but I think the reason I did it that way was so that we just do that same thing we do for the remote-wattsi case, where the errors are written to a file an the server side (and then we download that file and cat it after the build completes)","msgtype":"m.text"},"ts":1450385875000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will fix it now","msgtype":"m.emote"},"ts":1450385899000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so it seems that wattsi doesn't actually exit non-zero when it hits those errors, and all we're doing it checking for non-zero exit status, and since we don't find it, the script assumes everything's fine and there's nothing to report","msgtype":"m.text"},"ts":1450386339000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"fix would seem to be to make wattsi actually exit non-zero","msgtype":"m.text"},"ts":1450386377000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"+1","msgtype":"m.text"},"ts":1450386535000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Although I guess maybe unix programs are supposed to only exit nonzero when they fail to produce any output?","msgtype":"m.text"},"ts":1450386550000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I don't think that's the case...","msgtype":"m.text"},"ts":1450386938000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"or I have never heard of that rule before","msgtype":"m.text"},"ts":1450386947000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I want someone to teach the reason for Dimension attributes being not a floating point but integer.","msgtype":"m.text"},"ts":1450387378000,"senderName":"stakagi","senderId":"stakagi@irc"},
{"content":{"body":"html spec. has said that the widthheight attribute of iframe is non negative integer.","msgtype":"m.text"},"ts":1450387388000,"senderName":"stakagi","senderId":"stakagi@irc"},
{"content":{"body":"Firefox and IE actually parse it as integer,  on the contrary, chrome and safari parse it as floating point.","msgtype":"m.text"},"ts":1450387440000,"senderName":"stakagi","senderId":"stakagi@irc"},
{"content":{"body":"On the corresponding property on CSS, these are floating points.","msgtype":"m.text"},"ts":1450387449000,"senderName":"stakagi","senderId":"stakagi@irc"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-dim-width","msgtype":"m.text"},"ts":1450387468000,"senderName":"stakagi","senderId":"stakagi@irc"},
{"content":{"body":"Presumably because they were invented back in the days when nobody could have dreamed of a 2x display, so supporting floating point was pointless. (sorry)","msgtype":"m.text"},"ts":1450388235000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I am verifying the embedded content chapter of svg2 and noticed this.","msgtype":"m.text"},"ts":1450388430000,"senderName":"stakagi","senderId":"stakagi@irc"},
{"content":{"body":"I am putting that note into svg2 wd.","msgtype":"m.text"},"ts":1450388460000,"senderName":"stakagi","senderId":"stakagi@irc"},
{"content":{"body":"i I had to guess, i'd say it's probably just because webkit's parseSimpleLengthValue() always results in a double","msgtype":"m.text"},"ts":1450388579000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"and blink probably still inherits that property","msgtype":"m.text"},"ts":1450388587000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"but, just guessing, more css-savvy igalians would know more","msgtype":"m.text"},"ts":1450388608000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"mozilla/msft might just cut corners and avoid going to all that trouble","msgtype":"m.text"},"ts":1450388667000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Moz/IE aren't cutting corners, they're following the spec. ^^_","msgtype":"m.text"},"ts":1450389981000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"MikeSmith: i tried to make wattsi's Fail() write to stderr with Writeln(StdErr, ...) but it seems it didn't make any difference when doing e.g. wattsi ... 2>test.txt","msgtype":"m.text"},"ts":1450390193000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: changing the return value still doesn't print the errors, right?","msgtype":"m.text"},"ts":1450390240000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"maybe there's something obvious i don't know about in bash where you can print what wattsi prints here https://github.com/whatwg/html-build/blob/master/build.sh#L182","msgtype":"m.text"},"ts":1450390358000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh, it's just stdout that's written to that file?","msgtype":"m.text"},"ts":1450390603000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: yeah just stdout","msgtype":"m.text"},"ts":1450390744000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not stderr","msgtype":"m.text"},"ts":1450390765000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not sure wattsi ever writes anything to stderr","msgtype":"m.text"},"ts":1450390779000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"probably not, i was just experimenting with changing how Fail() writes","msgtype":"m.text"},"ts":1450390891000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so what does https://github.com/whatwg/wattsi/blob/master/src/wattsi.pas#L1556 do?","msgtype":"m.text"},"ts":1450390901000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"MikeSmith: is there a problem with not redirecting stdout to a file, and just let it print its stuff?","msgtype":"m.text"},"ts":1450391221000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: the problem is that we can't do that for the remote build","msgtype":"m.text"},"ts":1450392904000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"we need to write it to a file on the server side for the remote case","msgtype":"m.text"},"ts":1450392924000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and the same code shared for the final error reporting is used after the build is run locally or remotely","msgtype":"m.text"},"ts":1450392993000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and it's agnostic to where the build ran","msgtype":"m.text"},"ts":1450393006000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it just cats that file","msgtype":"m.text"},"ts":1450393012000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and the reason for sharing it is that we have to actually run the build twice","msgtype":"m.text"},"ts":1450393030000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"to get the right line numbers","msgtype":"m.text"},"ts":1450393040000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if/when there are line numbers to repot","msgtype":"m.text"},"ts":1450393058000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"which is not actually the case always because for some errors wattsi reports no line numbers","msgtype":"m.text"},"ts":1450393087000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but anyway, that's why we need to delay the error reporting","msgtype":"m.text"},"ts":1450393102000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"we could have it report the errors in real time when it finds them in the local case but then if there are line numbers, the numbers are off by hundreds of lines","msgtype":"m.text"},"ts":1450393145000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"because it;s reporting them against the pre-processed source","msgtype":"m.text"},"ts":1450393161000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"obviously it's an ugly hack the only alernative is that we need to teach wattsi how to calculate the offset so that it reports the correct line numbers even when run just once against the pre-processed source (instead of the original raw source)","msgtype":"m.text"},"ts":1450393275000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and we should probably do that eventually but it would require substantially more work  laboring in Pascal code","msgtype":"m.text"},"ts":1450393337000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"given all that if you have a better idea of how to handle the error reporting that doesn't require caching it like this is doing, then that would be great","msgtype":"m.text"},"ts":1450393443000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: ok. but can it print the content of that file even on success?","msgtype":"m.text"},"ts":1450395382000,"senderName":"zcorpan","senderId":"zcorpan@irc"}
]