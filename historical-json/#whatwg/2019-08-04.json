[
{"content":{"body":"devsnek: what do you mean by \"deferred navigation\"?","msgtype":"m.text"},"ts":1564883088000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: tell the UA you *might* navigate somewhere","msgtype":"m.text"},"ts":1564883127000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Who tells the UA that?","msgtype":"m.text"},"ts":1564883135000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"the website","msgtype":"m.text"},"ts":1564883139000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"like how amp preloads stuff","msgtype":"m.text"},"ts":1564883144000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"it would let the UA preload the sites","msgtype":"m.text"},"ts":1564883152000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"The problem with preloading in general is that the website then gets all your data","msgtype":"m.text"},"ts":1564883161000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"well the browser is in a position to not run the js and etc","msgtype":"m.text"},"ts":1564883179000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Not running the JS isn't enough","msgtype":"m.text"},"ts":1564883189000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Simply making a HTTP request gives you a lot","msgtype":"m.text"},"ts":1564883199000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1564883210000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"maybe it just shouldn't exist then","msgtype":"m.text"},"ts":1564883217000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Thus, SXG","msgtype":"m.text"},"ts":1564883220000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"cuz signed exchanges are kinda sketchy","msgtype":"m.text"},"ts":1564883253000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Can you explain what you mean?","msgtype":"m.text"},"ts":1564883258000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"In particular, how they are more or less sketchy than CDNs?","msgtype":"m.text"},"ts":1564883268000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"You may find https://developers.google.com/web/updates/2018/11/signed-exchanges helpful in how it explains both privacy-preserving prefetching and how SXGs are generally better than giving your signing keys to a CDN.","msgtype":"m.text"},"ts":1564883324000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"they remove control from the origin and potentially bypass stuff like pi-hole","msgtype":"m.text"},"ts":1564883337000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I'd be very surprised if companies that serve amp don't take advantage of that","msgtype":"m.text"},"ts":1564883364000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Can you explain how they remove control from the origin? They do not bypass pi-hole as far as I know, assuming pi-hole looks at URLs.","msgtype":"m.text"},"ts":1564883367000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"pi-hole blocks dns of advertisers and trackers and stuff","msgtype":"m.text"},"ts":1564883386000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"My understanding is it also applied URL-based filtering.","msgtype":"m.text"},"ts":1564883396000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Otherwise it would be trivial to bypass by putting your ads on a different CDN.","msgtype":"m.text"},"ts":1564883406000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it can, but they always change URLs and stuff","msgtype":"m.text"},"ts":1564883424000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"blocking IP ranges is more effective","msgtype":"m.text"},"ts":1564883431000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Well, there's nothing new in SXGs that makes that harder","msgtype":"m.text"},"ts":1564883457000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"you'd have to block the person who serves the sxg","msgtype":"m.text"},"ts":1564883488000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Yes, similar to blocking the person that serves the ad.","msgtype":"m.text"},"ts":1564883497000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"If your argument is that pi-hole is vulnerable to people locating ads on servers that people might not want to block, that applies regardless of SXG.","msgtype":"m.text"},"ts":1564883517000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But my understanding is pi-hole is not that dumb.","msgtype":"m.text"},"ts":1564883532000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'm not saying it changes the game substantially","msgtype":"m.text"},"ts":1564883565000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"its just another point","msgtype":"m.text"},"ts":1564883572000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I don't think it is.","msgtype":"m.text"},"ts":1564883577000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"i also dislike that I'll still be on Google even though the URL bar might say something else","msgtype":"m.text"},"ts":1564883674000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Do you dislike it that currently the sites are on Cloudflare despite the URL bar saying something else?","msgtype":"m.text"},"ts":1564883694000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"that's just using cloudflare as your host","msgtype":"m.text"},"ts":1564883723000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"As your CDN","msgtype":"m.text"},"ts":1564883736000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1564883739000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Alternate question, would you not-dislike it if people gave their private keys to Google, like they do to Cloudflare, in order to allow Google to sign their HTTPS certs and host their content like Cloudflare does?","msgtype":"m.text"},"ts":1564883756000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but with signed exchanges isn't Google still loaded on my client","msgtype":"m.text"},"ts":1564883763000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"What do you mean by \"Google still loaded\". THe content you loaded is created entirely by the publisher. (And cryptographically signed to attest that.)","msgtype":"m.text"},"ts":1564883791000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"The bytes physically come from Google (or wherever). But they are signed as created by the URL-bar URL. It's CDNs but using extra fancy crypto stuff instead of just giving the host/CDN your private key.","msgtype":"m.text"},"ts":1564883859000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I.e. with the current CDN setup you just give all control to your host/CDN, including the ability to sign HTTPS certs as example.com, so that the browser displays example.com in the address bar even though the content is ultimately from the CDN servers.","msgtype":"m.text"},"ts":1564883912000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"isn't the site that loads a sxg still in control","msgtype":"m.text"},"ts":1564883917000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Nope","msgtype":"m.text"},"ts":1564883921000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1564883925000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"It would break the S part of SXG","msgtype":"m.text"},"ts":1564883926000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"If you change the content","msgtype":"m.text"},"ts":1564883929000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I don't mean change the content","msgtype":"m.text"},"ts":1564883946000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"What type of control are you thinking of, then?","msgtype":"m.text"},"ts":1564883957000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Google doesn't modify amp pages","msgtype":"m.text"},"ts":1564883961000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"but it surrounds them in a frame","msgtype":"m.text"},"ts":1564883969000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"that kind of thing","msgtype":"m.text"},"ts":1564883973000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"SXG is a network protocol. It doesn't have some carvout where you can modify the content by surrounding it in an iframe.","msgtype":"m.text"},"ts":1564883995000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"so if Google used signed exchanges they wouldn't be able to do that anymore","msgtype":"m.text"},"ts":1564884018000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I mean they can still load content in an iframe. (But, it will show the Google URL in the URL bar.)","msgtype":"m.text"},"ts":1564884052000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"so they'd have to actually navigate away from google","msgtype":"m.text"},"ts":1564884065000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"That's what they currently do with AMP","msgtype":"m.text"},"ts":1564884073000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Well, not really","msgtype":"m.text"},"ts":1564884079000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"no, they wrap it in a frame","msgtype":"m.text"},"ts":1564884082000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"They navigate to the publisher's content, hosted on Google","msgtype":"m.text"},"ts":1564884085000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"and override input gestures","msgtype":"m.text"},"ts":1564884088000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"it's horribly annoying","msgtype":"m.text"},"ts":1564884094000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I mean there might still be iframes","msgtype":"m.text"},"ts":1564884109000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but then it won't show the url","msgtype":"m.text"},"ts":1564884117000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"The difference is that now we have a cryptographic guarantee that the content of the iframes is from the publisher, not just the promise that Google won't modify the contents of the iframes despite them being hosted on Google servers.","msgtype":"m.text"},"ts":1564884138000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"so the thing I brought up before was trying to prevent Google's thing where navigating to a site is hijacked and I still remain on Google's property","msgtype":"m.text"},"ts":1564884186000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"but now I understand that the interests are different","msgtype":"m.text"},"ts":1564884197000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Happy to help.","msgtype":"m.text"},"ts":1564884219000,"senderName":"Domenic","senderId":"Domenic@irc"}
]