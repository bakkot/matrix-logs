[
{"content":{"body":"Hixie: do you know offhand which Web Apps WG specs were factored out of WHATWG's HTML spec?","msgtype":"m.text"},"ts":1347501149000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: should be a list of them in the whatwg faq, but i can never recall the exact list","msgtype":"m.text"},"ts":1347501735000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: is your \"should be\" meant to say \"is\" or \"ought to be but is not\"","msgtype":"m.text"},"ts":1347501792000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or that you are uncertain?","msgtype":"m.text"},"ts":1347501803000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ah, I found the list","msgtype":"m.text"},"ts":1347501824000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: ought to, not sure if it's up to date","msgtype":"m.text"},"ts":1347502180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"some stuff migrated back recently","msgtype":"m.text"},"ts":1347516600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what stuff?","msgtype":"m.text"},"ts":1347516671000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: http://www.whatwg.org/specs/","msgtype":"m.text"},"ts":1347518698000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"neat to see those things, I was specifically wondering about factored out pieces of the WHATWG's \"HTML Living Standard\" spec, and it seems like the things on that page are separate items","msgtype":"m.text"},"ts":1347518802000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or are they intended to be folded into HTML LS?","msgtype":"m.text"},"ts":1347518818000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ah no","msgtype":"m.text"},"ts":1347518872000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it's just that XHR once was split out and moved to the W3C and now it's back","msgtype":"m.text"},"ts":1347518885000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but yeah, not in the same place","msgtype":"m.text"},"ts":1347518896000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"was XHR once one of the big monolithic thing formerly known as Web Apps 1.0?","msgtype":"m.text"},"ts":1347518935000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1347518948000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'd forgotten that","msgtype":"m.text"},"ts":1347518961000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"do you remember when it got split?","msgtype":"m.text"},"ts":1347518976000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"2006","msgtype":"m.text"},"ts":1347518983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1347519009000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"wonders which ancient bugzilla version w3 uses","msgtype":"m.emote"},"ts":1347522667000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Bugzilla 3.6.2","msgtype":"m.text"},"ts":1347522837000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"why are Safari's password dialogs synchronous?","msgtype":"m.text"},"ts":1347522888000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so annoying","msgtype":"m.text"},"ts":1347522891000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You mean modal?","msgtype":"m.text"},"ts":1347522911000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I suppose","msgtype":"m.text"},"ts":1347522930000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"deane: http://www.whatwg.org/specs/web-apps/current-work/multipage/iana.html#text/html","msgtype":"m.text"},"ts":1347523150000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"if John Daggett comes back around, please ask him to re-ping me","msgtype":"m.text"},"ts":1347523524000,"senderName":"[tm]","senderId":"[tm]@irc"},
{"content":{"body":"aka nattokirai","msgtype":"m.text"},"ts":1347523532000,"senderName":"[tm]","senderId":"[tm]@irc"},
{"content":{"body":"I'm in Budapest and don't have IRC access from my PC","msgtype":"m.text"},"ts":1347523557000,"senderName":"[tm]","senderId":"[tm]@irc"},
{"content":{"body":"Hixie: the quirks mode spec is part of WHATCG. should it be listed under specs/ as well?","msgtype":"m.text"},"ts":1347524385000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"DOM Parsing should maybe be listed too","msgtype":"m.text"},"ts":1347524882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: you want to put it on github and get quirks.spec.whatwg.org ?","msgtype":"m.text"},"ts":1347524895000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: so we don't want to support dropping directories at all because it's a can of worms of security problems and various complexities","msgtype":"m.text"},"ts":1347524916000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: maybe, yeah. what's the procedure assuming i want to keep the CLA in sync?","msgtype":"m.text"},"ts":1347524975000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"dunno, I guess then you'd have to push to both","msgtype":"m.text"},"ts":1347525061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"do you only maintain the *.spec.whatwg.org specs now?","msgtype":"m.text"},"ts":1347525096000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1347525100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1347525112000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I can't join the W3C as I don't agree with the Agreement","msgtype":"m.text"},"ts":1347525135000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I still like editing","msgtype":"m.text"},"ts":1347525142000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1347525143000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"you should have a license for your specs such that forking is allowed but only for a fee going straight to your pocket :-)","msgtype":"m.text"},"ts":1347525191000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"If the forking entity is a big standards organization that starts with W and ends with 3C.","msgtype":"m.text"},"ts":1347525218000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"I was actually thinking of something like that, to get some money, but I didn't really like that model","msgtype":"m.text"},"ts":1347525225000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll stick to Public Domain and find some other source of income in due course","msgtype":"m.text"},"ts":1347525255000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so what's your business plan?","msgtype":"m.text"},"ts":1347525256000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1347525268000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"flipping burgers?","msgtype":"m.text"},"ts":1347525271000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"vacation :)","msgtype":"m.text"},"ts":1347525292000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: what part of the Agreement don’t you agree with?","msgtype":"m.text"},"ts":1347525308000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"the part that basically gives the W3C exclusive right to my creative work","msgtype":"m.text"},"ts":1347525329000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, hmm, need to get AryehGregor and Ms2ger (where is he btw) actively merge Anne's whatwg DOM to W3 DOM","msgtype":"m.text"},"ts":1347525339000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: vacation","msgtype":"m.text"},"ts":1347525352000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, vacation","msgtype":"m.text"},"ts":1347525481000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"odd","msgtype":"m.text"},"ts":1347525482000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"that is at least 2nd time this year","msgtype":"m.text"},"ts":1347525502000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"he is getting old","msgtype":"m.text"},"ts":1347525511000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"annevk: so do you have a list of non-w3c specs you're editing now?","msgtype":"m.text"},"ts":1347525633000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: whatwg.org/specs","msgtype":"m.text"},"ts":1347525652000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: have you discussed with Art or perhaps AryehGregor/Ms2ger how to coordinate spec editing","msgtype":"m.text"},"ts":1347525741000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"just Ms2ger","msgtype":"m.text"},"ts":1347525758000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and what did he say?","msgtype":"m.text"},"ts":1347525771000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"talked with Art too","msgtype":"m.text"},"ts":1347525773000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: nothing much","msgtype":"m.text"},"ts":1347525787000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"would like to just know which spec to follow","msgtype":"m.emote"},"ts":1347525795000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: this setup works for him too","msgtype":"m.text"},"ts":1347525798000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So, does anyone know what the rules are for sharing resources in a document?","msgtype":"m.text"},"ts":1347527076000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"e.g. if I have <img src=a><img src=a><img src=a> it seems like a should be loaded only once","msgtype":"m.text"},"ts":1347527101000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"but <script src=a></script><script src=a></script><script src=a></script> might be 3 loads?","msgtype":"m.text"},"ts":1347527150000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"they can all be shared","msgtype":"m.text"},"ts":1347527317000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: fetch describes those \"rules\" fwiw","msgtype":"m.text"},"ts":1347527496000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Apparently (and I quote) \"we know that scripts aren't shared\"","msgtype":"m.text"},"ts":1347527793000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I haven't done the experiment, but if I trust bratell it seems like the rules are more complicated than \"share everything\"","msgtype":"m.text"},"ts":1347527839000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: you mean they always force a new HTTP request somehow?","msgtype":"m.text"},"ts":1347527849000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Well I don't know about \"always\"","msgtype":"m.text"},"ts":1347527864000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But at least in some circumstances, yes","msgtype":"m.text"},"ts":1347527872000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(speculative theories included \"cache until the load event\", \"never cache scripts\", \"only cache images\" and \"only cache resources that are referenced by an element currently in the document\")","msgtype":"m.text"},"ts":1347527979000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But since this is observable with e.g. cookies (not to mention race conditions), it is a compat issue","msgtype":"m.text"},"ts":1347528006000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"well of course","msgtype":"m.text"},"ts":1347528113000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sounds like fetch needs another flag","msgtype":"m.text"},"ts":1347528143000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"unless scripts is already special cased","msgtype":"m.text"},"ts":1347528148000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: I think I fixed the Referer stuff now, review would be appreciated","msgtype":"m.text"},"ts":1347530090000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sicking: ^^","msgtype":"m.text"},"ts":1347530105000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm, when did workers lose close event","msgtype":"m.text"},"ts":1347533753000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"close event?","msgtype":"m.text"},"ts":1347534018000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"sometime between http://www.w3.org/TR/2009/WD-workers-20090423/ and http://www.w3.org/TR/2009/WD-workers-20091029/","msgtype":"m.text"},"ts":1347534335000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: http://lists.w3.org/Archives/Public/public-whatwg-archive/2009May/0406.html","msgtype":"m.text"},"ts":1347534636000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I wonder how many implementations still have it","msgtype":"m.text"},"ts":1347534645000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"at least one","msgtype":"m.text"},"ts":1347534646000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hasn't really followed all the worker discussions","msgtype":"m.emote"},"ts":1347534675000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"at least not at that time","msgtype":"m.text"},"ts":1347534709000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"zcorpan: thanks!","msgtype":"m.text"},"ts":1347534715000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"http://html5.org/r/3143","msgtype":"m.text"},"ts":1347534736000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"opera doesn't have it","msgtype":"m.text"},"ts":1347534749000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i think it was removed before we started implementing","msgtype":"m.text"},"ts":1347534763000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"what's the status for shared workers in gecko?","msgtype":"m.text"},"ts":1347534854000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I guess someone is starting to implement them","msgtype":"m.text"},"ts":1347535487000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1347535572000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Why is there no possibility to communicate between all open tabs of my domain in HTML5?","msgtype":"m.text"},"ts":1347537383000,"senderName":"cheron","senderId":"cheron@irc"},
{"content":{"body":"you can via localStorage I think","msgtype":"m.text"},"ts":1347537409000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes, badoo.com does it like this, but there are no efforts to provide a seperate API for that?","msgtype":"m.text"},"ts":1347537499000,"senderName":"cheron","senderId":"cheron@irc"},
{"content":{"body":"come to think of it, I guess SharedWorker allows for it too","msgtype":"m.text"},"ts":1347537527000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://www.w3.org/Bugs/Public/show_bug.cgi?id=14689#c27 spam?","msgtype":"m.text"},"ts":1347537599000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so there is no need for an explicit api?","msgtype":"m.text"},"ts":1347537719000,"senderName":"cheron","senderId":"cheron@irc"},
{"content":{"body":"I have a dim memory of using postMessage for that, but I'm not sure it ever became true","msgtype":"m.text"},"ts":1347537807000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"cheron: depends on whether there are a) use cases and b) nothing to address a","msgtype":"m.text"},"ts":1347537836000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I recall one of the use cases being on YouTube having only the tab with page visibility play the music, and automatically tell the others to mute","msgtype":"m.text"},"ts":1347537888000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"zcorpan: http://xhr.spec.whatwg.org/#same-origin-request-steps and scroll up a notch; that makes data URLs work the way you want right?","msgtype":"m.text"},"ts":1347538208000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: do you remember if there was a thread or bug report for that?","msgtype":"m.text"},"ts":1347538217000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: you can do that via sharedWorkers and localStorage","msgtype":"m.text"},"ts":1347538244000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I think)","msgtype":"m.text"},"ts":1347538264000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, as far as I know that's how most people do it — it's not something I've had a reason to try so far","msgtype":"m.text"},"ts":1347538292000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"hsivonen: http://wiki.whatwg.org/wiki/Talk:Main_Page third box might be for you?","msgtype":"m.text"},"ts":1347539736000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: how does that deal with redirects to not-same-origin?","msgtype":"m.text"},"ts":1347539762000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: this is before redirects","msgtype":"m.text"},"ts":1347539787000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: I attempted to support it the same way as is done for workers","msgtype":"m.text"},"ts":1347539857000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: by checking the moment you supply the URL, rather than checking throughout the request","msgtype":"m.text"},"ts":1347539880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(well not actually when you supply the URL, but close to it)","msgtype":"m.text"},"ts":1347539895000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"workers don't support cross-origin at all, right?","msgtype":"m.text"},"ts":1347539916000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1347539934000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but data URLs go together with the initial same origin check","msgtype":"m.text"},"ts":1347539948000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so if it's same-origin and then a redirect to a data URL, it will fail","msgtype":"m.text"},"ts":1347539968000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<img> and <track> support first requesting a same-origin url and then redirecting to a not-same-origin url and have it switch to the cross-origin branch","msgtype":"m.text"},"ts":1347539997000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmm, i haven't thought much about redirects to data:","msgtype":"m.text"},"ts":1347540036000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"well sure, XHR does too","msgtype":"m.text"},"ts":1347540039000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but that has nothing to do with data URL support","msgtype":"m.text"},"ts":1347540050000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"are you not commenting on the data URL part?","msgtype":"m.text"},"ts":1347540061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right, sorry, i was commenting about non-data-URL same-origin redirecting to not-same-origin","msgtype":"m.text"},"ts":1347540217000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"does \"and the rules listed at the end of this section.\" take care of that?","msgtype":"m.text"},"ts":1347540345000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://xhr.spec.whatwg.org/#same-origin-request-event-rules does","msgtype":"m.text"},"ts":1347540361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just updated to take 308 into account","msgtype":"m.text"},"ts":1347540381000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, ok","msgtype":"m.text"},"ts":1347540465000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"then it's good, assuming it doesn't have the same bugs i reported on \"potentially cors-enabled fetch\" in html :-)","msgtype":"m.text"},"ts":1347540525000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"would have to read those bugs to be sure","msgtype":"m.text"},"ts":1347540605000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but if this still has major holes, I'd worry about user security","msgtype":"m.text"},"ts":1347540625000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what do browsers do when redirecting to data: ?","msgtype":"m.text"},"ts":1347540654000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I don't think all browsers support data: to begin with","msgtype":"m.text"},"ts":1347540676000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you know what's an interesting edge case","msgtype":"m.text"},"ts":1347540711000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"a redirect to a blob URL","msgtype":"m.text"},"ts":1347540715000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah. i hope that shouldn't work :-)","msgtype":"m.text"},"ts":1347540853000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I think it should given the current definitions","msgtype":"m.text"},"ts":1347541085000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"unless maybe its oneTimeOnly or whatever it's called flag is set","msgtype":"m.text"},"ts":1347541104000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's no reason a redirect to a blob uri shouldn't work","msgtype":"m.text"},"ts":1347541256000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"though how useful exactly that's another question :)","msgtype":"m.text"},"ts":1347541269000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"anyone familiar with the domain-related code of URLs?","msgtype":"m.text"},"ts":1347543022000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in particular what I'm wondering about is how much happens during parsing","msgtype":"m.text"},"ts":1347543048000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and when (and if) invalid characters turn the URL invalid","msgtype":"m.text"},"ts":1347543069000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TIL domain names use NFKC","msgtype":"m.text"},"ts":1347544172000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I hope you found the heritic and pushed them off a bridge","msgtype":"m.text"},"ts":1347544306000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"good memory!","msgtype":"m.text"},"ts":1347544413000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://code.google.com/p/plainrss/source/browse/trunk/Atom.NET/tests/feeds/pilgrim.xml","msgtype":"m.text"},"ts":1347544414000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder if he was looking at domain names too at the time","msgtype":"m.text"},"ts":1347544453000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I guess I should just say \"this is how you find the host name, now apply ToASCII to it\"","msgtype":"m.text"},"ts":1347544599000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"implementing IDNA ToASCII in JavaScript might be a bridge too far","msgtype":"m.text"},"ts":1347544877000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"setting .protocol is highly illogical","msgtype":"m.text"},"ts":1347547564000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"e.g. you have http://test/","msgtype":"m.text"},"ts":1347547571000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"now you set protocol to https","msgtype":"m.text"},"ts":1347547580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"my URL library makes that https://test:80/","msgtype":"m.text"},"ts":1347547595000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"most browsers have https://test/","msgtype":"m.text"},"ts":1347547609000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"completely ignoring that they now also changed the port","msgtype":"m.text"},"ts":1347547622000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But I would totally expect the browser behaviour to work and yours to break","msgtype":"m.text"},"ts":1347547676000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"or if you change away from https the // is kept","msgtype":"m.text"},"ts":1347547676000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but if you change from data to https, the // is added","msgtype":"m.text"},"ts":1347547689000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean if you have a specified port then it should be constant, but if you are using the default it should be the default on the new scheme too, I guess","msgtype":"m.text"},"ts":1347547719000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"it seems Chrome just sets port to the empty string if you give it the default port","msgtype":"m.text"},"ts":1347547928000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that certainly explains the serialization","msgtype":"m.text"},"ts":1347547936000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Gecko does the same","msgtype":"m.text"},"ts":1347547993000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"HTML of course does not define this","msgtype":"m.text"},"ts":1347547998000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well \"of course\"","msgtype":"m.text"},"ts":1347548004000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sorry Hixie but the URL decomposition attributes are poorly done","msgtype":"m.text"},"ts":1347548024000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm, webidl parser claims that void observe(Node target, MutationObserverInit options); isn't right","msgtype":"m.text"},"ts":1347548110000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"that the latter parameter should be optional","msgtype":"m.text"},"ts":1347548116000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"you don't have to mark it optional for it to be optional I think","msgtype":"m.text"},"ts":1347548177000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heycam|away: ?","msgtype":"m.text"},"ts":1347548186000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: happy to add anything you want to the specs list","msgtype":"m.text"},"ts":1347548515000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: <img> is especially magical regarding duplicate resource loads; beyond that there's just HTTP caching and coalescing of multiple simultaneous requests. If there's a compat reason not to coalesce, file a bug.","msgtype":"m.text"},"ts":1347548614000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: link to xhr/cors updates?","msgtype":"m.text"},"ts":1347548630000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: \"especially magical\" doesn't sound terribly well defined. Nor does \"coalescing of multiple simultaneous requests\", really","msgtype":"m.text"},"ts":1347548695000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: url decomposition is a bit of a mess, but is it normatively ok?","msgtype":"m.text"},"ts":1347548723000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: https://github.com/whatwg/xhr/commit/69f790f185aaf611a138742362dda55c1a3f7da7 and https://github.com/whatwg/fetch/commit/8d8fbd9e36b725e11afd679c9c0d8fe8ffced8bd","msgtype":"m.text"},"ts":1347548735000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: they're both quite well defined","msgtype":"m.text"},"ts":1347548737000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: insofar as they can be. <img> in particular.","msgtype":"m.text"},"ts":1347548752000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: no, e.g. setting .port to 80 for \"http://test/\" should make it the empty string","msgtype":"m.text"},"ts":1347548761000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: file bugs","msgtype":"m.text"},"ts":1347548781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: In HTML?","msgtype":"m.text"},"ts":1347548792000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie: my plan is to obsolete you in the next few months","msgtype":"m.text"},"ts":1347548837000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: yes","msgtype":"m.text"},"ts":1347548847000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: that wfm","msgtype":"m.text"},"ts":1347548849000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: maybe that's optimistic, but in due course","msgtype":"m.text"},"ts":1347548851000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: Interesting","msgtype":"m.text"},"ts":1347548901000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: xhr doesn't look like it has a <dfn> for XMLHttpRequest referrer source in that diff","msgtype":"m.text"},"ts":1347548935000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: otherwise seems ok, i'll have to update my cors calls","msgtype":"m.text"},"ts":1347548954000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ah sorry, https://github.com/whatwg/xhr/commit/91670112d639e3f5f1899efd188d9e0425963036","msgtype":"m.text"},"ts":1347548970000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"made two changes to XHR","msgtype":"m.text"},"ts":1347548979000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"lgtm","msgtype":"m.text"},"ts":1347549045000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok updated html","msgtype":"m.text"},"ts":1347549199000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: at some point you should prolly update the reference section to point to xhr.spec.whatwg.org etc.","msgtype":"m.text"},"ts":1347549627000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"file a bug","msgtype":"m.text"},"ts":1347549650000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fair enough","msgtype":"m.text"},"ts":1347549785000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"darobin: while merging the last few checkins you've made, i've ended up using different prose (for different reasons each time; i tried to document them in detail in the checkin comments). Is this something silvia will end up tracking automatically or should I be bringing this up to someone's attention or is it something where we don't care?","msgtype":"m.text"},"ts":1347550287000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I think that ideally the prose should be the same unless there's an overwhelming reason not to do so","msgtype":"m.text"},"ts":1347550379000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"normally I think Silvia will track it (or whoever looks at deltas later), but pointers to the differences are appreciated (especially if they can avoid further difference in future)","msgtype":"m.text"},"ts":1347550433000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1347550451000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"darobin: r7344, r7337, r7336, and r7334 are the main ones that map to things you've changed recently, i think","msgtype":"m.text"},"ts":1347550514000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"darobin: (i've been trying to make sure i fix the bugs you fix around the same time)","msgtype":"m.text"},"ts":1347550537000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: heh, for r7344 you have the exact text I had before I decided I preferred reordering the list differently :)","msgtype":"m.text"},"ts":1347550785000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1347550840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"your current text reads like getting and setting always throws, and methods throw when they don't apply","msgtype":"m.text"},"ts":1347550852000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(and starts with \"On\" while the next paragraph uses \"For\", which reads weird)","msgtype":"m.text"},"ts":1347550868000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we don't parse commas in the same way :)","msgtype":"m.text"},"ts":1347550904000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"but noted","msgtype":"m.text"},"ts":1347550906000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"the problem isn't whether you or i parse commas in the same way, it's how will a hostile reader read it :-)","msgtype":"m.text"},"ts":1347550924000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's why the paragraph was being rewritten in the first place, after all :-)","msgtype":"m.text"},"ts":1347550935000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sure, it just looks like my hostile reader came from Oxford","msgtype":"m.text"},"ts":1347550962000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"that would explain the smell of tweed on my right shoulder","msgtype":"m.text"},"ts":1347550977000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"thanks for the heads up, I won't copy those change directly but will rather cherry pick them downstream","msgtype":"m.text"},"ts":1347551017000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"(oh, also r7331)","msgtype":"m.text"},"ts":1347551095000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1347551095000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: oh yeah, I need to return to that oen","msgtype":"m.text"},"ts":1347551293000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"it raises a red flag for me that the new supposedly better constructor would require a helper function in simple spec example code","msgtype":"m.text"},"ts":1347551326000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"which is why I assumed the original example must have been wrong :)","msgtype":"m.text"},"ts":1347551358000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"there's a reason i had originally designed it the way i had...","msgtype":"m.text"},"ts":1347551364000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":-P","msgtype":"m.text"},"ts":1347551378000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1347551381000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"depends what the most common use case is going to be: adding subtitles, or adding metadata","msgtype":"m.text"},"ts":1347551414000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I can't disagree that having too many positional parameters is painful though","msgtype":"m.text"},"ts":1347551415000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"this strikes me as a case for a dictionary...","msgtype":"m.text"},"ts":1347551425000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'll scare up a proposal in the bug","msgtype":"m.text"},"ts":1347551484000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"(which was REOP)","msgtype":"m.text"},"ts":1347551489000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"darobin: i dunno that a dictionary makes much sense here. all the values are mutable now, and if the common case is subtitles, you'll rarely need to change them anyway.","msgtype":"m.text"},"ts":1347552355000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"darobin: (fwiw, i usually try to have the examples in the spec show both the easy ways to use the APIs and the more esoteric ways, so making the API support the examples in the spec specifically is probably not a winning strategy :-) )","msgtype":"m.text"},"ts":1347552442000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, I was just wondering whether the various uses would justify a dictionary, versus changing the example to use subtitles","msgtype":"m.text"},"ts":1347552448000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"we can certainly add more examples","msgtype":"m.text"},"ts":1347552478000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that's a different issue entirely","msgtype":"m.text"},"ts":1347552483000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, I'm definitely not trying to design against the example, but I think it makes sense to exemplify the common case","msgtype":"m.text"},"ts":1347552492000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I know that's the first thing I look at when coding","msgtype":"m.text"},"ts":1347552508000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"heh fun","msgtype":"m.text"},"ts":1347552689000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Gecko's URL thing is quite broken","msgtype":"m.text"},"ts":1347552700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if you set hostname to \"x#\"","msgtype":"m.text"},"ts":1347552708000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well host","msgtype":"m.text"},"ts":1347552716000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you get http://x/#/","msgtype":"m.text"},"ts":1347552724000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or if you set it to \"\\n\" it puts part of the path as the host","msgtype":"m.text"},"ts":1347552742000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Heh, good thing people don't do that then :]","msgtype":"m.text"},"ts":1347552774000,"senderName":"odinho_","senderId":"odinho_@irc"},
{"content":{"body":"i love how the url parsing stuff is so complicated that each time someone tries to spec it, they learn more quirks than the previous person","msgtype":"m.text"},"ts":1347552819000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and then the next person comes along, sees all the quirks so far, tests all of those again, then tests a few more things, finds more quirks, and lather rinse repeat","msgtype":"m.text"},"ts":1347552841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"for something fundamental to the platform, it's quite complicated","msgtype":"m.text"},"ts":1347552883000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"my library is now 350 lines (also handles the decomposition attributes)","msgtype":"m.text"},"ts":1347552918000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"once it's a bit more polished I'll put it online for review and then turn it into a proper spec","msgtype":"m.text"},"ts":1347552952000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: With a small eye towards some potential simplification I hope? :P","msgtype":"m.text"},"ts":1347553043000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"single-pass parsing was my goal","msgtype":"m.text"},"ts":1347553373000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"some stuff is simplified too I think","msgtype":"m.text"},"ts":1347553388000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"because they're no longer constrained by silly syntax constructs from the IETF","msgtype":"m.text"},"ts":1347553405000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1347553416000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just realized that apart from the IDNA ToASCII thing, there's also figuring out whether it's a host or IP address","msgtype":"m.text"},"ts":1347553444000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"browsers do weird things with normalizing IP addresses too I noticed","msgtype":"m.text"},"ts":1347553465000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"good morning #whatwg. perhaps a bit of a reach, but any others here in Portland this weekend for XOXO festival?","msgtype":"m.text"},"ts":1347554604000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"oh heh","msgtype":"m.text"},"ts":1347555961000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"IP address syntax notation has a versioning strategy","msgtype":"m.text"},"ts":1347555974000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hopefully that's never going to be used","msgtype":"m.text"},"ts":1347556020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: what? for ipv7?","msgtype":"m.text"},"ts":1347556088000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"read and weep http://tools.ietf.org/html/rfc3986#section-3.2.2","msgtype":"m.text"},"ts":1347556111000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wow, that's hard core","msgtype":"m.text"},"ts":1347556170000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: do browsers support the versioning syntax?","msgtype":"m.text"},"ts":1347556733000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh i see they aren't expected to","msgtype":"m.text"},"ts":1347556788000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"well then it doesn't need to be specced, it can wait until ipv7 comes along and see if it needs a flag","msgtype":"m.text"},"ts":1347556906000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: ok. can you add it? :-) url is http://dvcs.w3.org/hg/quirks-mode/raw-file/tip/Overview.html","msgtype":"m.text"},"ts":1347557048000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i'm running out the door, drop me a mail?","msgtype":"m.text"},"ts":1347557144000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sorry","msgtype":"m.text"},"ts":1347557146000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1347557164000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hi","msgtype":"m.text"},"ts":1347558972000,"senderName":"Famic","senderId":"Famic@irc"},
{"content":{"body":"Famic: hi","msgtype":"m.text"},"ts":1347560098000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"sicking: we think we fixed your referrer issue","msgtype":"m.text"},"ts":1347563202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sicking: re dnd of directories, opera (zcorpan, i think) says they don't want to support directories at all. you said mozilla does want to do directories, right? in addition to handling thousands of files in one directory?","msgtype":"m.text"},"ts":1347563268000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"here's why opera doesn't want to support it (longish paste, sorry):","msgtype":"m.text"},"ts":1347563330000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"What happens when the directory structure has a loop? on unix you can have hard links that are undetectable, and can create infinite loops of various kinds.","msgtype":"m.text"},"ts":1347563337000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":" ","msgtype":"m.text"},"ts":1347563338000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"What happens when the user drops / (root directory) or c:\\ ?","msgtype":"m.text"},"ts":1347563338000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":" ","msgtype":"m.text"},"ts":1347563339000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"What happens when the directories contain \"..\" links to the parent - what permission was granted (eg. read the parent folder contents)?","msgtype":"m.text"},"ts":1347563341000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":" ","msgtype":"m.text"},"ts":1347563343000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"What should happen with path names if the user drops /home/ or c:\\users\\ - should the Web site be given a directory structure which then exposes the usernames and profile paths (which the user would *never* want to expose, but wouldn't realise they are exposing)?","msgtype":"m.text"},"ts":1347563345000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":" ","msgtype":"m.text"},"ts":1347563347000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"What happens if two folders contain the same file name (assuming that you expose just the files instead of letting the script browse folder structure)?","msgtype":"m.text"},"ts":1347563349000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":" ","msgtype":"m.text"},"ts":1347563351000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"This is hell, and I just don't want to go there.","msgtype":"m.text"},"ts":1347563353000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(gotta go)","msgtype":"m.text"},"ts":1347563374000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: yes, we want to do directories with thousands of files in them","msgtype":"m.text"},"ts":1347570319000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: i mean, you want to expose a hierarchy, in addition to supporting the user dragging a ton of files flat","msgtype":"m.text"},"ts":1347570380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yes, i want to expose the heirarcy, but it doesn't have to be throught the ability to traverse a directory tree. Though it's an advantage if that can be done as well, though much lower priority","msgtype":"m.text"},"ts":1347570445000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: i.e. exposing a list of files with names like \"foo/bar/baz.doc\" is enough to expose hierarchy","msgtype":"m.text"},"ts":1347570479000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"by \"hierarchy\", i mean specifically not giving everything in one flat synchronous list","msgtype":"m.text"},"ts":1347570501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1347570832000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"a flat list could be ok","msgtype":"m.text"},"ts":1347570837000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"as long as we can provide some sort of useful progress events as we are \"loading\" that list (which is hard since we can't give a percentage since we don't know how many files total)","msgtype":"m.text"},"ts":1347570872000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"oh, but i guess that if you mean \"synchronous\" you mean synchronously from the \"drop\" event, then that's not good, yes","msgtype":"m.text"},"ts":1347570912000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"What are your solutions for the security/privacy issues that zcorpan mentioned?","msgtype":"m.text"},"ts":1347571025000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"i have no solution","msgtype":"m.text"},"ts":1347571049000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fwiw","msgtype":"m.text"},"ts":1347571061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"neither do I","msgtype":"m.text"},"ts":1347571088000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"That seems like a problem :(","msgtype":"m.text"},"ts":1347571098000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"problems, that i have","msgtype":"m.text"},"ts":1347571106000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i don't know what the security/privacy issue that zcorpan mentioned is","msgtype":"m.text"},"ts":1347571107000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: You just assume you don't have a solution to any security / privacy issues? :)","msgtype":"m.text"},"ts":1347571158000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: it's a pretty good starting assumption :-)","msgtype":"m.text"},"ts":1347571179000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sicking: http://krijnhoetmer.nl/irc-logs/whatwg/20120913#l-1154","msgtype":"m.text"},"ts":1347571186000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"\"<sicking> *neither* do I\" (emphasis added by me)","msgtype":"m.text"},"ts":1347571195000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1347571209000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"you said \"don't\" :)","msgtype":"m.text"},"ts":1347571213000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"jgraham: good questions indeed","msgtype":"m.text"},"ts":1347571283000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"the loop one is particularly bad and pretty much means we can't do a flattening solution","msgtype":"m.text"},"ts":1347571306000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that's really just pushing the problem into the script","msgtype":"m.text"},"ts":1347571313000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Yeah, I should find out who came up with the list :)","msgtype":"m.text"},"ts":1347571318000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: i'd be inclined to simply not follow links","msgtype":"m.text"},"ts":1347571341000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"jgraham: seems like that would still retain the majority of use cases","msgtype":"m.text"},"ts":1347571354000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: Does that work for hard links?","msgtype":"m.text"},"ts":1347571376000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: you keep having all these good questions :)","msgtype":"m.text"},"ts":1347571396000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"you can't not follow links","msgtype":"m.text"},"ts":1347571507000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they're indistingushable from directories :-)","msgtype":"m.text"},"ts":1347571519000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think I ought to sleep now","msgtype":"m.text"},"ts":1347571562000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"sicking: can you elaborate on why you don't want to use the filesystem api for this? do you just not think we should have that api at all?","msgtype":"m.text"},"ts":1347572370000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"https://www.w3.org/Bugs/Public/show_bug.cgi?id=14689#c27 o-O","msgtype":"m.text"},"ts":1347574165000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"darobin: you're fixing appcache?","msgtype":"m.text"},"ts":1347574211000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: the discussion is open, no decision has been made yet","msgtype":"m.text"},"ts":1347574313000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"right now I'm mostly listening to the Fixing AppCache people","msgtype":"m.text"},"ts":1347574364000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"there are Fixing AppCache people?","msgtype":"m.text"},"ts":1347574380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah there were two meetings, one in London, another in Mountain View with several implementers and die-hard users of appcache","msgtype":"m.text"},"ts":1347574423000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"ah yes, i have heard of those","msgtype":"m.text"},"ts":1347574440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"none of the feedback from those meetings seems to ever make it to the bug database","msgtype":"m.text"},"ts":1347574454000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"by that I mean folks like Facebook, Pearson, Web Outlook, etc.","msgtype":"m.text"},"ts":1347574459000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"at least not in actionable form (use cases)","msgtype":"m.text"},"ts":1347574462000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no, the design is too much up in the air for that at this point","msgtype":"m.text"},"ts":1347574502000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"what i have heard is mostly going to result in incremental changes, though, so i doubt it'll affect https://www.w3.org/Bugs/Public/show_bug.cgi?id=18272","msgtype":"m.text"},"ts":1347574514000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or https://www.w3.org/Bugs/Public/show_bug.cgi?id=18280","msgtype":"m.text"},"ts":1347574532000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe, maybe not","msgtype":"m.text"},"ts":1347574553000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"pretty sure not :-)","msgtype":"m.text"},"ts":1347574564000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I've heard both","msgtype":"m.text"},"ts":1347574595000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"I'm essentially moving those bugs to the later bucket until I hear something more concrete","msgtype":"m.text"},"ts":1347574612000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"http://goo.gl/VrQNF is the concrete list of what is going to change","msgtype":"m.text"},"ts":1347574642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if it turns out to be incremental, I can look at them then, if not, then I'll be glad I didn't dig any deeper","msgtype":"m.text"},"ts":1347574648000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Hixie: last I heard there was still disagreement between implementers, so I just want to make sure all the Ts are crossed","msgtype":"m.text"},"ts":1347574794000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"if they don't participate in the discussions, their disagreements aren't going to have much effect on the spec :-)","msgtype":"m.text"},"ts":1347574821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think they plan to :)","msgtype":"m.text"},"ts":1347574876000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"anyway, it's bedtime in this TZ :) nn!","msgtype":"m.text"},"ts":1347574887000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Hixie, darobin: is there any written down and publicly viewable form of all this feedback?","msgtype":"m.text"},"ts":1347574961000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"as an implementor of AppCache that I think has not been party to these discussions, I am interested","msgtype":"m.text"},"ts":1347574986000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"darobin: you should really move deferred bugs to another component instead of RESOLVED LATER btw","msgtype":"m.text"},"ts":1347575009000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"huh, ringmark is a buggy test","msgtype":"m.text"},"ts":1347577111000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it is sad that people rely on such tests","msgtype":"m.text"},"ts":1347577140000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and also things like html5test","msgtype":"m.text"},"ts":1347577157000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: what is buggy about ring mark?","msgtype":"m.text"},"ts":1347577180000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"smaug____: html5test is unfortunately becoming a big deal in mobile browser marketing, I wonder if it would be useful to give feedback to the test creators","msgtype":"m.text"},"ts":1347577212000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it is testing stuff which explicitly should not be there","msgtype":"m.text"},"ts":1347577222000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"like touch events","msgtype":"m.text"},"ts":1347577225000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: and for ring mark in particular, I have the ability to contact the people at Facebook who made it directly","msgtype":"m.text"},"ts":1347577232000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"they should not be there on non-touch platforms","msgtype":"m.text"},"ts":1347577239000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so you think its testing for touch events should be conditional?","msgtype":"m.text"},"ts":1347577261000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I've filed bugs on html5test to remove invalid tests","msgtype":"m.text"},"ts":1347577262000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or it should not test that at all?","msgtype":"m.text"},"ts":1347577267000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and add some possibly useful tests","msgtype":"m.text"},"ts":1347577268000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"how does one file bugs on html5test?","msgtype":"m.text"},"ts":1347577283000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"github","msgtype":"m.text"},"ts":1347577289000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I'd like to suggest that they move FileSystem API to bonus points","msgtype":"m.text"},"ts":1347577293000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"there is a link somewhere in html5test to github","msgtype":"m.text"},"ts":1347577309000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"since there exist popular platforms today with no user-visible filesystem","msgtype":"m.text"},"ts":1347577317000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: there are already couple of bugs open about Filesystem api","msgtype":"m.text"},"ts":1347577326000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(btw, I think it should be discussed during TPAC what to do with filesystem api. I'd like to drop it)","msgtype":"m.text"},"ts":1347577364000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"othermaciej: https://github.com/NielsLeenheer/html5test/issues/","msgtype":"m.text"},"ts":1347577382000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"perhaps it should be moved to the new WG proposed for system app APIs","msgtype":"m.text"},"ts":1347577392000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"well, I think we shouldn't have the proposed filesystem api at all ;)","msgtype":"m.text"},"ts":1347577414000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but something better","msgtype":"m.text"},"ts":1347577420000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"how?","msgtype":"m.text"},"ts":1347577481000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"what how?","msgtype":"m.text"},"ts":1347577488000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I would be in favor of dropping it","msgtype":"m.text"},"ts":1347577490000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"better how?","msgtype":"m.text"},"ts":1347577492000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"the spec needs a lot of reworking, but the API is generally fine","msgtype":"m.text"},"ts":1347577504000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"see comment in webapps wg mailing list","msgtype":"m.text"},"ts":1347577509000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"comments","msgtype":"m.text"},"ts":1347577513000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"could you be more specific? heh","msgtype":"m.text"},"ts":1347577530000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"othermaciej: I think everybody else but google is favor of dropping it","msgtype":"m.text"},"ts":1347577535000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hasn't been anything about fsapi in quite a while","msgtype":"m.text"},"ts":1347577539000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: because no one really cares about it :)","msgtype":"m.text"},"ts":1347577554000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it's a pretty important API to bridge the current gulf between web apps and native anything","msgtype":"m.text"},"ts":1347577557000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"if only Google wants to implement it, then it probably should not be a standards-track document","msgtype":"m.text"},"ts":1347577565000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"WebSQL got dropped for less...","msgtype":"m.text"},"ts":1347577573000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"tries to figure out where performance.memory is defined","msgtype":"m.emote"},"ts":1347577581000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"well, WebSQL was odd case, but rather obvious that it should be dropped","msgtype":"m.text"},"ts":1347577606000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(debatable)","msgtype":"m.text"},"ts":1347577616000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(but not really comparable)","msgtype":"m.text"},"ts":1347577626000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"othermaciej: do you know if I can file bugs on ringmark somewhere?","msgtype":"m.text"},"ts":1347577646000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or just send emails to fb?","msgtype":"m.text"},"ts":1347577653000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: I do not know, but I can personally send email to fb","msgtype":"m.text"},"ts":1347577678000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"smaug____: so if you mail me bugs I can pass them along, or I can ask about a way to file bugs","msgtype":"m.text"},"ts":1347577705000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm on a plane right now so my mail and web are super slow","msgtype":"m.text"},"ts":1347577705000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"could send emails to schrep but that is probably not the right level of management to send emails to","msgtype":"m.emote"},"ts":1347577731000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"is toby ever here","msgtype":"m.text"},"ts":1347577767000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"from fb","msgtype":"m.text"},"ts":1347577775000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"http://rng.io/about/","msgtype":"m.text"},"ts":1347577786000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"gives info that might be relevant to sending feedback","msgtype":"m.text"},"ts":1347577793000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"chasing links, it looks like the only bug tracker is the Core Mobile Web Platform CG's issue tracker","msgtype":"m.text"},"ts":1347578030000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"what is this performance.memory...","msgtype":"m.text"},"ts":1347578268000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Hixie: i definitely think using *a* filesystem API for this might be a good solution","msgtype":"m.text"},"ts":1347578456000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: i think the current google filesystem API is way more complex than what's needed for a filesystem API","msgtype":"m.text"},"ts":1347578486000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: what that for Hixie or for zewt","msgtype":"m.text"},"ts":1347578511000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: for hixie","msgtype":"m.text"},"ts":1347578521000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"I agree *a* filesystem API is needed","msgtype":"m.text"},"ts":1347578525000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"<Hixie>\tsicking: can you elaborate on why you don't want to use the filesystem api for this? do you just not think we should have that api at all?","msgtype":"m.text"},"ts":1347578537000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"I'm not sure I agree that *a* filesystem API is necessarily needed, at least for all platforms","msgtype":"m.text"},"ts":1347578563000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: that is possible","msgtype":"m.text"},"ts":1347578582000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"for platforms that don't expose a hierarchical filesystem to the user, it doesn't really make sense to have an API that works like that","msgtype":"m.text"},"ts":1347578587000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: in general, or for dragndrop?","msgtype":"m.text"},"ts":1347578590000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1347578592000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"still wonders what on earth is performance.memory","msgtype":"m.emote"},"ts":1347578621000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"othermaciej: if they don't have any concept of that, then they wouldn't have any concept of \"dragging in a directory\" either","msgtype":"m.text"},"ts":1347578641000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"sicking: we had another conversation about filesystem API just now, I missed the original one with Hixie that I guess involved DnD","msgtype":"m.text"},"ts":1347578642000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"sicking: but I also don't think Drag & Drop makes sense on all platforms","msgtype":"m.text"},"ts":1347578656000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: i missed the later one :)","msgtype":"m.text"},"ts":1347578657000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"for instance, iOS has no drag * drop","msgtype":"m.text"},"ts":1347578662000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and I do not think it even makes sense on a touch platform","msgtype":"m.text"},"ts":1347578681000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: agreed. I think that would simply result in not ever firing dragndrop events on iOS. Just like we'd never fire them in OSX if noone drops something","msgtype":"m.text"},"ts":1347578706000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"there are probably a bunch of things that I'd clean up in FS-API, and possibly some trimming, but it seems like the right direction","msgtype":"m.text"},"ts":1347578757000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"sicking: do you think it's appropriate to have all the interfaces relevant to DnD but just never invoke them on a platform with no DnD?","msgtype":"m.text"},"ts":1347578758000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"sicking: or would it be better to not expose the interfaces?","msgtype":"m.text"},"ts":1347578760000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"for FS API, I think it would be nutty to have all the interface objects but never let them be used in any way","msgtype":"m.text"},"ts":1347578781000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: oh. I suspect it makes sense that whatever interfaces exist for DND wouldn't exist on platforms that don't have DnD","msgtype":"m.text"},"ts":1347578817000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: we're mostly talking interface objects? Or is there more DnD API?","msgtype":"m.text"},"ts":1347578837000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"(eg. getMetadata seems unnecessary--it's redundant with simply creating a File)","msgtype":"m.text"},"ts":1347578839000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"smaug____: rwaldron (who isn't here right now) develops ringmark, you could email him rick⊙bc","msgtype":"m.text"},"ts":1347578849000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"miketaylr: thanks","msgtype":"m.text"},"ts":1347578892000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"sicking: perhaps I should file a bug, because the spec is not very clear about what interfaces should be present or what the behavior should be on platforms with no DnD","msgtype":"m.text"},"ts":1347578908000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1347578913000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"othermaciej: On filesystems, I suspect what we need to do is to expose sandboxed filesystems to webapps. Similar to what chrome does. But it wouldn't be exposing a user-visible directory structure. It might not even be a real filesystem (chrome's FS API isn't actually backed by a filesystem)","msgtype":"m.text"},"ts":1347578930000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: but I don't like chromes FS API. I think we should propose a *much* simpler one","msgtype":"m.text"},"ts":1347578956000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: what's the benefit of making it look like a filesystem if it is not even backed by a filesystem?","msgtype":"m.text"},"ts":1347578961000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: the storage policy would be the same as what's used for WebSQL/IndexedDB","msgtype":"m.text"},"ts":1347578968000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: Mostly there are two advantages: 1. Many developers are very used to filesystems. Even for games that want to simply download and cache resources, saving them in a filesystem-like API is very natural for them","msgtype":"m.text"},"ts":1347579030000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"WebSQL and IndexedDB can store binary blobs just fine...","msgtype":"m.text"},"ts":1347579038000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"is it too complicated or confusing to use IndexedDB (let's say) for such a use case?","msgtype":"m.text"},"ts":1347579070000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"do IDB implementations store blobs out-of-line, eg. as their own file and not as a blob in the middle of a db file?","msgtype":"m.text"},"ts":1347579114000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"othermaciej: 2. URLs are hierarchical. Storing the files in a heirarchical storage area allows reading from that area directly using URLs","msgtype":"m.text"},"ts":1347579117000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: *anything* more complex than \"just a filesystem\" is \"too complicated\"","msgtype":"m.text"},"ts":1347579160000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"so blob urls don't cut it?","msgtype":"m.text"},"ts":1347579164000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: blob urls have to be generated on each run","msgtype":"m.text"},"ts":1347579183000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"filesystems are pretty complicated","msgtype":"m.text"},"ts":1347579195000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"zewt: Chrome doesn't handle Blobs in IDB yet. :(","msgtype":"m.text"},"ts":1347579197000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"othermaciej: the nice thing about a filesystem url is that you can just read from the database directly","msgtype":"m.text"},"ts":1347579199000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: they don't need to be","msgtype":"m.text"},"ts":1347579203000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"hierarchical by-name read-write store for opaque binary objects seems like an ok concept","msgtype":"m.text"},"ts":1347579252000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but I am sad at how many storage APIs the platform has already","msgtype":"m.text"},"ts":1347579252000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i'm wary of database-backed systems for storing large data (eg. gigabytes of dynamically-patched game data); multiple layers of fragmentation, etc (but if IDB implementations mature and it's proven to \"just work\" then I'd probably get over that)","msgtype":"m.text"},"ts":1347579270000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"othermaciej: i haven't worried too much about filesystem because i feel the same way, \"it's just syntax sugar on top of a database. use a library over IDB/websql\"","msgtype":"m.text"},"ts":1347579271000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"does filesystem API give you URLs that persist from run to run?","msgtype":"m.text"},"ts":1347579274000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: i still think that's mostly true. But I think a filesystem is generally worth it","msgtype":"m.text"},"ts":1347579285000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: it does","msgtype":"m.text"},"ts":1347579289000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: filesystem://http://mysite.com/path/in/filesystem/to/file.jpg","msgtype":"m.text"},"ts":1347579315000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"is IndexedDB incapable of providing persistent URLs or a hierarchical namespace?","msgtype":"m.text"},"ts":1347579323000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i don't think persistent URLs are very important, though, since it's easy to go path -> blob -> createObjectURL (for a nonpersistent blob)","msgtype":"m.text"},"ts":1347579331000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I am not very familiar with it","msgtype":"m.text"},"ts":1347579331000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: incapable is a strong word","msgtype":"m.text"},"ts":1347579335000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"I guess it's a two-level question:","msgtype":"m.text"},"ts":1347579351000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: but keys can be anything, not just strings","msgtype":"m.text"},"ts":1347579352000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"(1) is it unable to do it in the current drafts?","msgtype":"m.text"},"ts":1347579359000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(2) is it conceptually/technologically hard to add such features?","msgtype":"m.text"},"ts":1347579372000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"The transaction overhead might scare off some developers. On the other hand, the transaction overhead is what you really need for multiple tabs from the same origin that are partying on the same data, so...","msgtype":"m.text"},"ts":1347579373000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"I don't really see how you can sanely offer read-write stream access w/o some form of transactional layer","msgtype":"m.text"},"ts":1347579411000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: (1) it's not possible currently (2) it's possible, but it won't be terribly clean","msgtype":"m.text"},"ts":1347579414000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: each \"add this file to the filesystem\" would be a transaction. Which makes it mostly invisible","msgtype":"m.text"},"ts":1347579452000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"\"Proof by example\": http://ericbidelman.tumblr.com/post/21649963613/idb-filesystem-js-bringing-the-html5-filesystem-api","msgtype":"m.text"},"ts":1347579468000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: transactions and efficient, native files (ideal for large or growing files) are sort of mutually exclusive, though, since filesystem-level, cross-file transaction support is hit and miss (ntfs has transactional file access but I don't know much about that)","msgtype":"m.text"},"ts":1347579488000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I might feel bad about \"yet another storage api\" if it did not have 22 new interfaces (adding on top of already existing reader and writer interfaces)","msgtype":"m.text"},"ts":1347579501000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"zewt: +1, I share that concern.","msgtype":"m.text"},"ts":1347579519000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"sicking: filesystem API lets you write an existing file, no?","msgtype":"m.text"},"ts":1347579522000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"sicking: or read an existing file, by name","msgtype":"m.text"},"ts":1347579527000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: you mean, \"not feel bad about ...\"?","msgtype":"m.text"},"ts":1347579531000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"what if two tabs touch the same file at once?","msgtype":"m.text"},"ts":1347579533000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"sicking: \"feel less bad about\"","msgtype":"m.text"},"ts":1347579547000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: ah","msgtype":"m.text"},"ts":1347579553000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: you should look at my DeviceStorage proposal :)","msgtype":"m.text"},"ts":1347579563000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: everything i know about the appcache stuff is http://goo.gl/VrQNF","msgtype":"m.text"},"ts":1347579571000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"pointer?","msgtype":"m.text"},"ts":1347579575000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: it's 3 interfaces currently. Probably will be 5 once it's fully capable","msgtype":"m.text"},"ts":1347579587000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: https://wiki.mozilla.org/WebAPI/DeviceStorageAPI","msgtype":"m.text"},"ts":1347579595000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: currently it's a filesystemAPI + \"API for getting access to a filesystem rooted in users pictures folder\"","msgtype":"m.text"},"ts":1347579621000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"othermaciej: but the filesystem part can easily be broken out","msgtype":"m.text"},"ts":1347579630000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"smaug____: websql got dropped because the editor of that spec wouldn't spec something without wide adoption, dunno if the editor of the other specs you mentioned fall into that category ;-)","msgtype":"m.text"},"ts":1347579670000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: 22? looking through the TOC I see 19 (still a lot), but 8 of those are Callback=FunctionOnly callback interfaces (which while I don't know where that's defined--it's not in webidl--it sounds like \"you can only pass in a function and this doesn't actually expose an interface\")","msgtype":"m.text"},"ts":1347579681000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"which would be 11","msgtype":"m.text"},"ts":1347579689000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"not to say that's not still a lot :)","msgtype":"m.text"},"ts":1347579710000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"see, combining filesystem-as-virtual-local-hierarchical-storage and filesystem-as-way-to-access-directories-in-the-user's-filesystem is what makes it something that I'm not keen on","msgtype":"m.text"},"ts":1347579724000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"zewt: I am imagining that for the \"I need to store some blobs in a hierarchy and access by name\" use case, 1-2 interfaces are sufficient (building on top of File, FileReader, FileWriter and friends)","msgtype":"m.text"},"ts":1347579761000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(but there are also sync and async interfaces; I don't think it's fair to count an API as double-the-interfaces just because it has sync worker support; though the sync-getMessage proposal might in principle mean we don't need any more sync APIs at all)","msgtype":"m.text"},"ts":1347579783000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"ignore those and you're at 7","msgtype":"m.text"},"ts":1347579803000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"so even if we exclude the callback interfaces, we're still off by an order of magnitude","msgtype":"m.text"},"ts":1347579806000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: i do agree it can and should be simplified, though I'm not sure I'd go that far","msgtype":"m.text"},"ts":1347579834000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"yes, if you ignore 2/3 of the interfaces you get 1/3 as many","msgtype":"m.text"},"ts":1347579836000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: in what sense? You would prefer to have two separate APIs as to avoid author confusion about what they are working with? Or you want two separate APIs so that you can optimize for different usecases? Or something else?","msgtype":"m.text"},"ts":1347579837000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"yes, if I ignore interfaces that may not be needed and could be dropped, indeed I get less :)","msgtype":"m.text"},"ts":1347579861000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"the latter API is (a) not one that I'm sure we want to offer in Safari on any platform; and (b) more more complex than needed for the private-blob-store use case","msgtype":"m.text"},"ts":1347579883000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(i suspect the FileSystem and Metadata interfaces could be dropped, too)","msgtype":"m.text"},"ts":1347579918000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: nope, they indeed don't fall into same category, which is why I said  \"WebSQL was [an] odd case\"","msgtype":"m.text"},"ts":1347579920000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"othermaciej: i absolutely agree that if we add a filesystem API to be used for a sandboxed storage area, then it needs to be possible to implement *just* that. And not worry about access to pictures folder etc","msgtype":"m.text"},"ts":1347579942000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"smaug____: i would hope that having an editor who cares about multiple vendor interop wasn't odd :-)","msgtype":"m.text"},"ts":1347579944000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(FileSystem just stores a name, which doesn't seem needed, and Metadata is redundant with File)","msgtype":"m.text"},"ts":1347579951000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: well, Filesystem API is such case atm ;)","msgtype":"m.text"},"ts":1347579973000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"othermaciej: i also agree that the API shouldn't need to be meaningfully more complex out of desire to handle both cases","msgtype":"m.text"},"ts":1347579979000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: I'm on a plane using the in-flight wifi so your proposal is tragically slow to load","msgtype":"m.text"},"ts":1347580007000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: ah :)","msgtype":"m.text"},"ts":1347580019000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: otherwise I would be commenting on it instead of just hypothetically","msgtype":"m.text"},"ts":1347580022000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(url? missed that)","msgtype":"m.text"},"ts":1347580044000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"othermaciej: i think we can solve all designed constraints here. But I agree we need a specific proposal before we can know for sure. I think the DeviceStorage API is close, but not quite there","msgtype":"m.text"},"ts":1347580070000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"zewt: https://wiki.mozilla.org/WebAPI/DeviceStorageAPI","msgtype":"m.text"},"ts":1347580074000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Hixie: er, I guess I mean, FSAPI is opposite of what you did","msgtype":"m.text"},"ts":1347580077000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"my theoretical minimum set of interfaces: Directory, some placeholder interface to get the root local storage Directory, callback interface for enumerating a Directory","msgtype":"m.text"},"ts":1347580085000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: i think you can do it without a Directory object","msgtype":"m.text"},"ts":1347580100000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"smaug____: oh, i agree, i'm just hoping that the odd case is fsapi, not websql :-)","msgtype":"m.text"},"ts":1347580105000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I would also question whether a hierarchical namespace is truly needed","msgtype":"m.text"},"ts":1347580107000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"\"hierarchical namespace\"?","msgtype":"m.text"},"ts":1347580123000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"nested Directory objects","msgtype":"m.text"},"ts":1347580130000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i say we don't need that","msgtype":"m.text"},"ts":1347580141000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"DeviceStorage doesn't have it","msgtype":"m.text"},"ts":1347580158000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"if you don't have nested Directory objects, it's not clear that you need Directory objects at all -- just stick the Files in a database","msgtype":"m.text"},"ts":1347580166000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"then you only need a FileStore interface, a callback interface to enumerate the Files in FileStore, and a hook to get the FileStore","msgtype":"m.text"},"ts":1347580185000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(maybe you just new FileStore())","msgtype":"m.text"},"ts":1347580191000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"why isn't IndexDB that store?","msgtype":"m.text"},"ts":1347580196000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"does it not handle Files?","msgtype":"m.text"},"ts":1347580203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well, you definitely need to be able to enumerate the files in a particular directory, but you don't necessarily need a Directory object to do that","msgtype":"m.text"},"ts":1347580213000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(Web Storage was that store for a while, but then we reverted to just text)","msgtype":"m.text"},"ts":1347580220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"IndexedDB does not offer a persistent URL to refer to an entry","msgtype":"m.text"},"ts":1347580224000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"sicking says adding that would be awkward","msgtype":"m.text"},"ts":1347580229000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"you just need to get a File out, no? then File can give you the url","msgtype":"m.text"},"ts":1347580245000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(i don't understand the desire for persistent URLs either)","msgtype":"m.text"},"ts":1347580261000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"IndexedDB can in theory offer up blob: URLs but you have to make a new one each time","msgtype":"m.text"},"ts":1347580273000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it would be nice to be able to store some markup referring to your stored resource items","msgtype":"m.text"},"ts":1347580295000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"without having to reconstitute the markup from a template each time","msgtype":"m.text"},"ts":1347580298000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"aah","msgtype":"m.text"},"ts":1347580370000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i see","msgtype":"m.text"},"ts":1347580371000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess that makes sense","msgtype":"m.text"},"ts":1347580373000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that'd be useful for appcache too","msgtype":"m.text"},"ts":1347580383000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It seems to me IndexedDB could offer than in principle, but I'm willing to believe it would be awkward to fit into the API","msgtype":"m.text"},"ts":1347580408000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(indexeddb://http://mydomain.com/key/path","msgtype":"m.text"},"ts":1347580429000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Is the desire to mint URLs like that and be able to pass them around to other parts of the platform that consume URLs?","msgtype":"m.text"},"ts":1347580487000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"i think that's always the goal with URLs","msgtype":"m.text"},"ts":1347580501000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"jsbell: images are a classic example","msgtype":"m.text"},"ts":1347580515000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in particular it's hard to make relative URLs work","msgtype":"m.text"},"ts":1347580522000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"that's what I presume","msgtype":"m.text"},"ts":1347580527000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if so... yeah, figuring out how to reconcile that with the transaction model would require thought","msgtype":"m.text"},"ts":1347580529000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"i.e. you'd want \"foo/bar/baz.html\" to be able to link to a file","msgtype":"m.text"},"ts":1347580540000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"and \"foo/bar/bizzle/hello.jpg\" to link to another file","msgtype":"m.text"},"ts":1347580565000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"jsbell: not sure it's that complicated - http: has an asynchronous request/response model, indexeddb: or filesystem: could too","msgtype":"m.text"},"ts":1347580589000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"can't recall--is there a way for URLs to specify a protocol and a path, but no host?","msgtype":"m.text"},"ts":1347580590000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"which seems like what you'd want here","msgtype":"m.text"},"ts":1347580598000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"jsbell: it just has to give you one consistent state, asynchronously","msgtype":"m.text"},"ts":1347580602000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"while URLs into IDB probably would be something like \"databasename/objectstore/key/objectproperty\"","msgtype":"m.text"},"ts":1347580606000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"yeah, i think the transaction part is solvable. Though possibly higher overhead than the transactions that govern a filesystem","msgtype":"m.text"},"ts":1347580652000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"but that might not even be true","msgtype":"m.text"},"ts":1347580662000,"senderName":"sicking","senderId":"sicking@irc"}
]