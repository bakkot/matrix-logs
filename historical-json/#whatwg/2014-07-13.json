[
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1405235534000,"senderName":"yanni","senderId":"yanni@irc"},
{"content":{"body":"zcorpan: ping","msgtype":"m.text"},"ts":1405271509000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: pong","msgtype":"m.text"},"ts":1405274642000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"The accessKeyLabel specification does not explicitly state that the node needs to be attached in the document root for the property to resolve.","msgtype":"m.text"},"ts":1405276337000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"It seems in Firefox it remains an empty string until attached.","msgtype":"m.text"},"ts":1405276339000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"http://jsfiddle.net/R3fNY/","msgtype":"m.text"},"ts":1405276341000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Does that seem sensible? I'd like to have it changed.","msgtype":"m.text"},"ts":1405276343000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"So that e.g. a library using this doesn't have to special-case anything that uses this to after insertion of the widget.","msgtype":"m.text"},"ts":1405276347000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Wikipedia software embeds this (when available) in the title attribute like \"caption [ctrl-e]\"","msgtype":"m.text"},"ts":1405276360000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"We're hoping to phase out the ugly logic that currently infers the keyboard shortcut for accesskeys on all browsers using essentially UA sniffing.","msgtype":"m.text"},"ts":1405276392000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Down stream : https://bugzilla.wikimedia.org/show_bug.cgi?id=67946 ; Mozilla: https://bugzilla.mozilla.org/show_bug.cgi?id=583533","msgtype":"m.text"},"ts":1405276568000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I can file a proper bug but would be nice to know whether It'll be backed up by whatwg.","msgtype":"m.text"},"ts":1405276588000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"CC me on the Mozilla bug, please. Ms2ger⊙gc","msgtype":"m.text"},"ts":1405276809000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Krinkle: looking...","msgtype":"m.text"},"ts":1405276882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Krinkle: yeah, it does indeed appear that accesskey=\"\" is defined to be assigned regardless of the element being in the doc","msgtype":"m.text"},"ts":1405276975000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Krinkle: i could go either way on this, fwiw, if the browsers disagree","msgtype":"m.text"},"ts":1405276986000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Firefox is the first one to have implemented it","msgtype":"m.text"},"ts":1405276998000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I've been waiting for WebKit  for years","msgtype":"m.text"},"ts":1405277009000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I filed a Chromium ticket today","msgtype":"m.text"},"ts":1405277013000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I'm checking Aurora just in case, and will file a mozilla bug after with you two on CC?","msgtype":"m.text"},"ts":1405277038000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Hixie: https://bugzilla.mozilla.org/show_bug.cgi?id=1037990","msgtype":"m.text"},"ts":1405277318000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Krinkle: k","msgtype":"m.text"},"ts":1405277465000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Krinkle: keep me posted, especially if the browser vendors have a reason for not wanting to pre-assign the access keys before the element is in the document","msgtype":"m.text"},"ts":1405277483000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1405277493000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"Seems to be going really slow though.","msgtype":"m.text"},"ts":1405277512000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I mean, Wikipedia editors use accesskeys so much and while you tend to know them once you're used to them, I really want to get rid of this code","msgtype":"m.text"},"ts":1405277566000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"https://github.com/wikimedia/mediawiki-core/blob/bc725806ac301baa92b7ff61d958be577e514a0b/resources/src/jquery/jquery.accessKeyLabel.js#L27-L74","msgtype":"m.text"},"ts":1405277567000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"When a test https://github.com/w3c/web-platform-tests does not seem to match the spec, should I file a bug on that repo or on the spec? (The bug could be in the spec as well as in the test)","msgtype":"m.text"},"ts":1405283803000,"senderName":"SimonSapin_","senderId":"SimonSapin_@irc"},
{"content":{"body":"jgraham: ^","msgtype":"m.text"},"ts":1405283819000,"senderName":"SimonSapin_","senderId":"SimonSapin_@irc"},
{"content":{"body":"depends","msgtype":"m.text"},"ts":1405284125000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"sometimes the test is wrong, sometimes the spec isn't clear, sometimes both","msgtype":"m.text"},"ts":1405284138000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"probably quite often both","msgtype":"m.text"},"ts":1405284152000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"SimonSapin: I'd file a bug on the test first","msgtype":"m.text"},"ts":1405284361000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"and see if anyone claims the test is right :P","msgtype":"m.text"},"ts":1405284370000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"There are test for IPv4 normalization (from octal or hex, with less than four pieces) but the spec does not mention that. https://github.com/w3c/web-platform-tests/issues/1104","msgtype":"m.text"},"ts":1405284506000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"… in URL parsing","msgtype":"m.text"},"ts":1405284515000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"SimonSapin: Ask zcorpan I guess","msgtype":"m.text"},"ts":1405284851000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But file a bug on the test","msgtype":"m.text"},"ts":1405284860000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: that’s on https://github.com/w3c/web-platform-tests/issues/ , right?","msgtype":"m.text"},"ts":1405284919000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"from what I've seen, a lot of the tests (for older specs in particular) seem to have either been ported directly from browser tests, or have been heavily influenced by a particular browser's implementation, and don't necessarily assert anything specified anywhere normative","msgtype":"m.text"},"ts":1405285150000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"maybe \"a lot\" is too strong, but a few","msgtype":"m.text"},"ts":1405285253000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"SimonSapin: Yeah","msgtype":"m.text"},"ts":1405286066000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"caitp: Examples?","msgtype":"m.text"},"ts":1405286070000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: https://github.com/w3c/web-platform-tests/pull/771/files comes from webkit","msgtype":"m.text"},"ts":1405286153000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"and tests behavior that’s not in the spec","msgtype":"m.text"},"ts":1405286194000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"jgraham, some of the xhr tests, I raised an issue about one of them which I'm not sure has been resolved yet","msgtype":"m.text"},"ts":1405286732000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"basically asserting something which isn't said anywhere in the IETF or WHATWG, far as I can tell","msgtype":"m.text"},"ts":1405286762000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"i'm sure there are other examples, but i've only spent any time poking through the XHR tests so far","msgtype":"m.text"},"ts":1405286819000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Well you mainly need to talk to hallvors about that","msgtype":"m.text"},"ts":1405287452000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But actually XHR has an unusually large number of tests that were written especially for the testsuite","msgtype":"m.text"},"ts":1405287487000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"https://github.com/w3c/web-platform-tests/issues/980 is interesting, because Chromium (along with webkit/safari and IE) will send a content-length of 0 for HEAD requests, for a reason which is explained in a comment in chrome's source, so I think Firefox is the only mainstream browser that actually passes that test","msgtype":"m.text"},"ts":1405287612000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"but none of the HTTP rfcs or anything from the XHR spec say anything about this whatsoever, I spent a good while looking =P","msgtype":"m.text"},"ts":1405287650000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"and, it's only the only such case, there are a few others I ran into a while ago","msgtype":"m.text"},"ts":1405287668000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"so from my perspective it seems like someone either copy/pasted a test from gecko, or was just looking at the gecko implementation and writing tests based on that, rather than based on the spec itself","msgtype":"m.text"},"ts":1405287727000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"SimonSapin: yeah I think all those PR #771 tests came from webkit. I guess I wrongly assumed they were actually testing requirements in a spec.","msgtype":"m.text"},"ts":1405288302000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"SimonSapin: Santiago Mola uses them as part of the test suite for galimatias, so I assume galimatias pass those tests. But I don't know whether that's because he implemented something according a particular spec, or whether he implemented something in order to pass those tests.","msgtype":"m.text"},"ts":1405288406000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"caitp: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13 seems pretty specific. I haven't checked the updates.","msgtype":"m.text"},"ts":1405289100000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"there's nothing in any of those RFCs which says anything like \"a client MUST not send an entity body if the request method is HEAD or GET\"","msgtype":"m.text"},"ts":1405289174000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"at best there's a \"should not\", or \"probably not a good idea\"","msgtype":"m.text"},"ts":1405289200000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"I thought one the httpbis things changed that?","msgtype":"m.text"},"ts":1405289202000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"but if it weren't a good idea, the big 3 browsers would probably be thoroughly broken any time anyone ever wanted to send a HEAD request","msgtype":"m.text"},"ts":1405289234000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"basically http just doesn't care if there's a payload or not","msgtype":"m.text"},"ts":1405289361000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"http doesn't care, and xhr doesn't care, so it's not clear why we're making any assertion in the first place","msgtype":"m.text"},"ts":1405289377000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp: Anyway what zcorpan says in that bug is right","msgtype":"m.text"},"ts":1405289436000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The goal is to get interop","msgtype":"m.text"},"ts":1405289446000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yes, I agree with that","msgtype":"m.text"},"ts":1405289455000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"but my position is still that we should be testing compliance with the spec","msgtype":"m.text"},"ts":1405289467000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"not with a particular implementation","msgtype":"m.text"},"ts":1405289478000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"In this case it seems like specs are half-assing things and we should just agree what the right behaviour is and get everyone to implement it","msgtype":"m.text"},"ts":1405289479000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"caitp: We're not","msgtype":"m.text"},"ts":1405289504000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"You are assuming some sort of malice here when there is none","msgtype":"m.text"},"ts":1405289521000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"oh no no no","msgtype":"m.text"},"ts":1405289528000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"i'm not assuming malice","msgtype":"m.text"},"ts":1405289534000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"it's not \"malice\", it seems like an honest mistake, like maybe it's testing something that _should_ be specified but isn't","msgtype":"m.text"},"ts":1405289556000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"but regardless, no implementation that I've seen (not tested netsurf, does netsurf even have XHR yet?) passes that test, apart from gecko","msgtype":"m.text"},"ts":1405289577000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"the comment which explains this reasoning for this behaviour in chromium is interesting, I linked to it in either the issue or PR","msgtype":"m.text"},"ts":1405289646000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"http://mxr.mozilla.org/chromium/source/src/net/http/http_network_transaction.cc#866","msgtype":"m.text"},"ts":1405289674000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"when you word the reasoning like that, it's almost a \"feature\" to send the header","msgtype":"m.text"},"ts":1405289719000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Presto passes","msgtype":"m.text"},"ts":1405289721000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"okay, opera might still pass without opera, since it's not blink which breaks this","msgtype":"m.text"},"ts":1405289739000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1405289742000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"opera might still pass without presto*","msgtype":"m.text"},"ts":1405289746000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"not sure if modern opera shares more of the chromium tree or if it's just blink","msgtype":"m.text"},"ts":1405289777000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"it's the chromium content api","msgtype":"m.text"},"ts":1405289787000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1405289796000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"(which was why when Blink happened there was no practical choice)","msgtype":"m.text"},"ts":1405289819000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"interesting =)","msgtype":"m.text"},"ts":1405289863000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Anyway, I don't think it's reasonable to assume that Blink behaviour is somehow more authorative than Gecko. The only relevant question is \"what will everyone agree to implement\". If you think gecko should change, file a bug. Or if you think that Blink+etc. should, file bugs there. It seems like there can't be a strong compat. argument either way, so there ought not to be too much resistance to changing. Reality might not be so straightforward.","msgtype":"m.text"},"ts":1405290060000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Also yell at the IETF for not specifying anything clear and unambiguous here","msgtype":"m.text"},"ts":1405290084000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"that's not it, per se, i am just not sure it's right to assert things which aren't specified anywhere","msgtype":"m.text"},"ts":1405290103000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"i agree that changing the test to assert for just a falsy content-length request header isn't right","msgtype":"m.text"},"ts":1405290123000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"hmm webkit nightly and ie11 still fail that test, so I guess it's still true","msgtype":"m.text"},"ts":1405290164000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"I think it's better to have tests and argue about what the result should be than weaken the test just because people have failed to achieve interop","msgtype":"m.text"},"ts":1405290200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"caitp: webkit doesn't have a single network layer, FWIW, depends on port","msgtype":"m.text"},"ts":1405290243000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"if one line of code was changed in a fork of chromium, \"chromium would pass\", too :p","msgtype":"m.text"},"ts":1405290314000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"but yeah you're right","msgtype":"m.text"},"ts":1405290332000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"primarily referring to http://nightly.webkit.org/, which is basically safari afaict","msgtype":"m.text"},"ts":1405290363000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"IIRC it uses the system Safari with a bit of magic","msgtype":"m.text"},"ts":1405290415000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"so yeah, that uses NSURL","msgtype":"m.text"},"ts":1405290422000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"MikeSmith: Galimatias does have code for parsing IPv4, but seems to handle none of the funny cases I mentioned in the bug","msgtype":"m.text"},"ts":1405290508000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"anyhow, in the case of that particular issue, I'm not sure it matters a whole lot if browsers behave identically or not. like, the web doesn't care","msgtype":"m.text"},"ts":1405290536000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"so it's just a weird assertion to make","msgtype":"m.text"},"ts":1405290546000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"anyways, time to drop it and make dinner, fun chat \\o","msgtype":"m.text"},"ts":1405290565000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Every time we decide that poor interop is OK, the web gets a little bit harder to author content for, and other platforms get a little more compelling","msgtype":"m.text"},"ts":1405290648000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So it's not a great position to take","msgtype":"m.text"},"ts":1405290665000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"SimonSapin: ok, so yeah, would be good to hear back from smola","msgtype":"m.text"},"ts":1405290783000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"}
]