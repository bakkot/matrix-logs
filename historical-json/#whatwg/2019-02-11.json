[
{"content":{"body":"nox: thanks for writing all the patches, I guess later today I should make some time to review all the tests to make sure coverage and browsers matches intuition","msgtype":"m.text"},"ts":1549879338000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I need to patch my steps to make them follow the new spec","msgtype":"m.text"},"ts":1549879454000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"My tests* sorry","msgtype":"m.text"},"ts":1549879466000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: I'm a little sceptical about script not doing its work in two parts, but we'll see","msgtype":"m.text"},"ts":1549879744000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: I left a comment on that in the PR","msgtype":"m.text"},"ts":1549879752000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: I guess maybe with style there's also that condition to consider, that what is queued might have gotten invalidated by something else that runs first","msgtype":"m.text"},"ts":1549879791000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I don’t think scripts should do their job in two parts yeah","msgtype":"m.text"},"ts":1549879851000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"There is a step for “if it’s not connected then return” IIRC during preparation","msgtype":"m.text"},"ts":1549879903000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I'm not sure what you mean about style.","msgtype":"m.text"},"ts":1549880382000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: Step 6 of prepare a script is \"If the element is not connected, then return. The script is not executed.\"","msgtype":"m.text"},"ts":1549880421000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: if all the things in \"update a style block\" indeed happen at this later time","msgtype":"m.text"},"ts":1549880619000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: e.g., that means .sheet points to the old style sheet, if any","msgtype":"m.text"},"ts":1549880650000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Ah I see what you mean, if a previous script recreated the stylesheet, it should probably not get invalidated again?","msgtype":"m.text"},"ts":1549880658000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: I'm not sure I follow that example, but basically ensuring it's robust against tempering that can happen between the operation being appended to the queue and it being run","msgtype":"m.text"},"ts":1549880754000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tampering*","msgtype":"m.text"},"ts":1549880773000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: You insert a script followed by a style,","msgtype":"m.text"},"ts":1549880801000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"that queues \"prepare a script\" followed by \"update a style\",","msgtype":"m.text"},"ts":1549880811000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"\"prepare a script\" executes the script, which modifies the style block, which runs \"update a style\" on its own,","msgtype":"m.text"},"ts":1549880827000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"should the previously-queued \"update a style\" recreate the stylesheet again?","msgtype":"m.text"},"ts":1549880842000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: [insert Palpatine meme]","msgtype":"m.text"},"ts":1549880891000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"This is not a problem for scripts thanks to the \"already-started\" flags and whatnot, so I wonder if I should add a \"soon-to-be-updated\" flag to styles.","msgtype":"m.text"},"ts":1549880898000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I amended my existing tests according to the spec changes I made,","msgtype":"m.text"},"ts":1549881975000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I'll write one for the thing I just described today.","msgtype":"m.text"},"ts":1549881984000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"https://github.com/servo/rust-url/issues/483 Is that really an invalid URL?","msgtype":"m.text"},"ts":1549886072000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"https://github.com/servo/rust-url/issues/483#issuecomment-462303299 Oh","msgtype":"m.text"},"ts":1549886340000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: Fixed the service worker spec build issue. No idea why it was seg faulting. Switched to the HTTP API.","msgtype":"m.text"},"ts":1549890327000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk, did you check html for CreateBuiltinFunction callers, btw?","msgtype":"m.text"},"ts":1549890339000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: lol I didn't","msgtype":"m.text"},"ts":1549890375000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: there are none","msgtype":"m.text"},"ts":1549890384000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ok, thanks for checking :)","msgtype":"m.text"},"ts":1549890404000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk, webidl pr is good to merge?","msgtype":"m.text"},"ts":1549890427000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: yeah","msgtype":"m.text"},"ts":1549890491000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: left a couple more comments; this might require a few rounds until I fully grasp all the things again; feel free to leave nits unfixed as I can also push some fixup commits once we're close","msgtype":"m.text"},"ts":1549892802000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: once we're more or less \"ready\" might also be good to let bz do a quick check","msgtype":"m.text"},"ts":1549892836000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: No worries.","msgtype":"m.text"},"ts":1549893387000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I had a sudden spurge of motivation today, will do all the nits.","msgtype":"m.text"},"ts":1549893420000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I need to write the couple of tests you suggested and the one about stylé invalidation anyway.","msgtype":"m.text"},"ts":1549893957000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: Is there a Fetch definition for what is \"cross-origin\"?","msgtype":"m.text"},"ts":1549897711000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"RT has https://w3c.github.io/resource-timing/#dfn-cross-origin which points at RFC 6454, which we agreed is not great","msgtype":"m.text"},"ts":1549897749000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: https://html.spec.whatwg.org/#same-origin is the source of truth","msgtype":"m.text"},"ts":1549897797000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I can define origin comaprison in RT, but seems like it should go in a more generic place (like Fetch)","msgtype":"m.text"},"ts":1549897798000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"ok, cool","msgtype":"m.text"},"ts":1549897817000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I'll just point there","msgtype":"m.text"},"ts":1549897821000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"sg","msgtype":"m.text"},"ts":1549897828000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I read \"French definition\" instead of \"Fetch definition\", that was confusing.","msgtype":"m.text"},"ts":1549903216000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: maybe that explains why CORS is so confusing","msgtype":"m.text"},"ts":1549907534000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ah ah ah ah ah ah","msgtype":"m.text"},"ts":1549907544000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Domenic: so GitHub actions would make tweeting easy?","msgtype":"m.text"},"ts":1549907850000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that is my understanding back when I looked at them first, but I should re-confirm. No progress on getting in the beta so maybe we should just write a script...","msgtype":"m.text"},"ts":1549907907000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: it seems we could somewhat easily add it to the deploy script too perhaps? Would take some time though","msgtype":"m.text"},"ts":1549907915000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Credentials management seems like the tricky part","msgtype":"m.text"},"ts":1549907945000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: we could also fix the URL bug and maybe suppress Meta: things","msgtype":"m.text"},"ts":1549907951000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Also we may want to write it in not-bash...","msgtype":"m.text"},"ts":1549907957000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1549907958000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(which might require updating all the travis.yml)","msgtype":"m.text"},"ts":1549907991000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Would be nice to reuse the ssh auth somehow","msgtype":"m.text"},"ts":1549908087000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"We could also do a webhook and use credentials stored on the server","msgtype":"m.text"},"ts":1549908181000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"That'd probably be easier for me to do at least since it'd reuse a lot of the participate.whatwg.org arch","msgtype":"m.text"},"ts":1549908216000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: oh yeah if those still exist, seems reasonable","msgtype":"m.text"},"ts":1549909363000,"senderName":"annevk","senderId":"annevk@irc"}
]