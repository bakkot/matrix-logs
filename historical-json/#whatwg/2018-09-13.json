[
{"content":{"body":"Yeah, it's a good point that the prototype mechanism is not in use for Window and a couple other things (e.g. Location's properties)","msgtype":"m.text"},"ts":1536797009000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"You could still do something like \"Window's close() method\" or \"Window: close() method\"","msgtype":"m.text"},"ts":1536797028000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But it would indeed be a bit different, as its every instance of Window having its own individual close() method, not Window.prototype sharing it between all of them","msgtype":"m.text"},"ts":1536797054000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yeah as far as documenting it, it doesn’t fit neatly with other documentation","msgtype":"m.text"},"ts":1536803033000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but maybe the difference is not something that matters in practice to developers, so not worth bending over backwards in the documentation to be very precise about it","msgtype":"m.text"},"ts":1536803105000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I guess writing good documentation for web-platform features can be as difficult as writing good specs for them","msgtype":"m.text"},"ts":1536803182000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Not possible to get multiple instances though","msgtype":"m.text"},"ts":1536810501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1536810894000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"You can get multiple instances... e.g. iframe.contentWindow","msgtype":"m.text"},"ts":1536811012000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"(Yes, it's a WindowProxy, but it transparently passes through Window properties in the same-origin case.)","msgtype":"m.text"},"ts":1536811029000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"so that’s a nice concrete case to look at the MDN docs for","msgtype":"m.text"},"ts":1536811372000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/contentWindow","msgtype":"m.text"},"ts":1536811388000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"> This attribute is read-only, but its properties can be manipulated like the global Window object.","msgtype":"m.text"},"ts":1536811426000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that seems to kind of assume the reader already knows that iframe elements have a separate Window instance","msgtype":"m.text"},"ts":1536811610000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"which is not really clearly stated even in https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe","msgtype":"m.text"},"ts":1536811659000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but I guess you learn that quickly if you ever try to actually do anything with an iframe from code","msgtype":"m.text"},"ts":1536811708000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rniwa: if capture listeners, then bubble listeners is not web-compatible, I think if we want to avoid detection of shadow trees, we'd need to keep the current spec","msgtype":"m.text"},"ts":1536825931000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rniwa: really appreciate that detailed write-up on your composedPath() patch btw","msgtype":"m.text"},"ts":1536825953000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, we'd see.","msgtype":"m.text"},"ts":1536826027000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: haha, the algorithm is so clever i would have filed a patent if it weren't for a spec'ed text.","msgtype":"m.text"},"ts":1536826120000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: but once you see it, you can't unsee it. it's so simple!","msgtype":"m.text"},"ts":1536826134000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: yeah, just need to translate it to spec text now","msgtype":"m.text"},"ts":1536826178000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I do have a webkit patch for the event listener now: https://bugs.webkit.org/show_bug.cgi?id=174288","msgtype":"m.text"},"ts":1536826613000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: so we'll see how it goes.","msgtype":"m.text"},"ts":1536826617000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"thanks, hoping for the best","msgtype":"m.text"},"ts":1536826647000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rniwa: did you consider combining the composedPath() thing with the bit you need to hide window.event from shadow trees?","msgtype":"m.text"},"ts":1536826685000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rniwa: e.g., depth +2 for closed and +1 for open shadow trees","msgtype":"m.text"},"ts":1536826697000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"anyway, prolly keeping them as separate bits in the spec","msgtype":"m.text"},"ts":1536826739000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: oh, we could do that but it's probably cleaner as two separate things","msgtype":"m.text"},"ts":1536826762000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Yeah, I got too excited there","msgtype":"m.text"},"ts":1536826855000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Making a patch for that was still rather involved","msgtype":"m.text"},"ts":1536843045000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Any idea who should I talk to at Moz about interest in https://wicg.github.io/background-fetch/?","msgtype":"m.text"},"ts":1536854631000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"MikeSmith: annevk: did we have a plan for the \"impacts documentation\" label? E.g. are we supposed to ping some MDN folks, or are they watching the label, or...?","msgtype":"m.text"},"ts":1536855756000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"About to merge https://github.com/whatwg/html/pull/3829","msgtype":"m.text"},"ts":1536855762000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"JakeA: I'm gonna nominate mdaly and asuth (both @mozilla.com)","msgtype":"m.text"},"ts":1536855852000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: you can copy me I suppose","msgtype":"m.text"},"ts":1536855860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: https://github.com/whatwg/meta/pull/89","msgtype":"m.text"},"ts":1536855879000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ta!","msgtype":"m.text"},"ts":1536855879000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: OK, so nothing for us to do necessarily","msgtype":"m.text"},"ts":1536855912000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: no, I guess it remains to be seen if it's helping","msgtype":"m.text"},"ts":1536855932000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: I watch that label at least, and I can let other people on #mdn know about specific PRs like https://github.com/whatwg/html/pull/3829","msgtype":"m.text"},"ts":1536856516000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Awesome, ok.","msgtype":"m.text"},"ts":1536856715000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"MikeSmith: should we have a bot to report issues for mdn when the label is added?","msgtype":"m.text"},"ts":1536856983000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: that would be good yeah","msgtype":"m.text"},"ts":1536857007000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"devsnek: what are your plans for the async iterable streams PR?","msgtype":"m.text"},"ts":1536861549000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: do whatever those comments say","msgtype":"m.text"},"ts":1536861566000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1536861574000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Thoughts on implementation/tests?","msgtype":"m.text"},"ts":1536861578000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oh yeah that too lol","msgtype":"m.text"},"ts":1536861592000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"i can bang out an impl but i'm absolutely terrible at tests","msgtype":"m.text"},"ts":1536861605000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"They're not too bad I promise","msgtype":"m.text"},"ts":1536861615000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"And they help a lot with all these edge cases people are pointing out","msgtype":"m.text"},"ts":1536861627000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"wakes up","msgtype":"m.emote"},"ts":1536861634000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"anyone want help with tests?","msgtype":"m.text"},"ts":1536861639000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Haha. This would be for https://github.com/whatwg/streams/pull/954","msgtype":"m.text"},"ts":1536861665000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"i'm gonna get to it again this weekend so eh you can go back to sleep :P","msgtype":"m.text"},"ts":1536861687000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Domenic: should i add Streams for 2019?","msgtype":"m.text"},"ts":1536861733000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: probably not, I think we've got a decent handle on things, just sussing out whether devsnek's up for extending his first-time contribution past the spec into tests as well, or whether the editors should help :)","msgtype":"m.text"},"ts":1536861776000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"okie","msgtype":"m.text"},"ts":1536861791000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i can write some basic tests, i'm just really bad at imagining how people will misuse things","msgtype":"m.text"},"ts":1536861814000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"I think I'm not terrible at that, would be happy to help whip up a list of interesting cases to test","msgtype":"m.text"},"ts":1536861868000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Maybe we can work out a test plan together on the issue","msgtype":"m.text"},"ts":1536861869000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1536861871000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"what if people just never made bugs","msgtype":"m.text"},"ts":1536861891000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"https://i.imgflip.com/wu987.jpg","msgtype":"m.text"},"ts":1536861999000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I'm not too familiar with testing JS stuff, but https://github.com/tc39/test262/search?q=asynciterator&unscoped_q=asynciterator might be a good start to look at. I've also asked my colleagues who have written tests for async iterators to chime in","msgtype":"m.text"},"ts":1536862416000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"thx","msgtype":"m.text"},"ts":1536862447000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Alrighty, I made https://github.com/whatwg/streams/pull/954#issuecomment-421107013 , we'll see what people say","msgtype":"m.text"},"ts":1536863604000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: you're too pro","msgtype":"m.text"},"ts":1536863770000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Domenic: why isn't streams a tc39 spec btw?","msgtype":"m.text"},"ts":1536866159000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: tc39's working mode is not very compatible with streams. Ask me more offline :)","msgtype":"m.text"},"ts":1536866301000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: about the “impacts documentation” label, sheppy points out there’s no way to subscribe to github labels (so can’t get notifications that are filtered to just that label)","msgtype":"m.text"},"ts":1536874273000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I guess that’s part of the reaason we have teams for some other cases where we want to make sure specific set of people get notified","msgtype":"m.text"},"ts":1536874330000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so maybe we should add a “documentation” team?","msgtype":"m.text"},"ts":1536874366000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"+1, sounds good to me","msgtype":"m.text"},"ts":1536875586000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: thanks","msgtype":"m.text"},"ts":1536876019000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"}
]