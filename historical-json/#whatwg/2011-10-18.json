[
{"content":{"body":"btw","msgtype":"m.text"},"ts":1318896060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fullscreendeny, would that fire async too?","msgtype":"m.text"},"ts":1318896061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think it should match fullscreenchange, so yes.","msgtype":"m.text"},"ts":1318896120000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"do we use \"deny\" elsewhere in the platform?","msgtype":"m.text"},"ts":1318896180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"could make it fullscreenerror I suppose... meh","msgtype":"m.text"},"ts":1318896181000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fullscreendenied matches tense with fullscreenchanged, and matches tense with the events fired in the video spec, many of which are past tense. I don't really know the other HTML specs.","msgtype":"m.text"},"ts":1318896300000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"well \"changed\" is going to become \"change\"","msgtype":"m.text"},"ts":1318896360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"we have hashchange for instance","msgtype":"m.text"},"ts":1318896420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think it makes sense for it to be past tense if it's dispatched async.","msgtype":"m.text"},"ts":1318896480000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"hashchange is surely dispatched async.","msgtype":"m.text"},"ts":1318896600000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"generally events do not use past tense","msgtype":"m.text"},"ts":1318896660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there's a couple for which it was a mistake","msgtype":"m.text"},"ts":1318896661000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but we have volumechange, durationchange, ratechange","msgtype":"m.text"},"ts":1318896720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hashchange is fired synchronously from within a task that is itself async","msgtype":"m.text"},"ts":1318896721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"argh, what am I saying, our implementation already dispatches mozfullscreenchange, not *changed. :P","msgtype":"m.text"},"ts":1318896840000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"Hixie, can you dispatch events on documents that are not the active document?","msgtype":"m.text"},"ts":1318896841000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I do think it sounds funny having a fullscreendeny event though.","msgtype":"m.text"},"ts":1318896842000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"annevk: well","msgtype":"m.text"},"ts":1318896900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fullscreenerror might be somewhat better","msgtype":"m.text"},"ts":1318896901000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, it's not really an error though.","msgtype":"m.text"},"ts":1318896902000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"annevk: you mean using that document as the context? you can, but the task would just sit in the queue until it became active","msgtype":"m.text"},"ts":1318896903000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"okay","msgtype":"m.text"},"ts":1318896904000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i would avoid it where possible though","msgtype":"m.text"},"ts":1318896905000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since the doc could get discarded any minute anyway","msgtype":"m.text"},"ts":1318896960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, if you remove an <iframe> from a document does that <iframe>'s document become inactive?","msgtype":"m.text"},"ts":1318896961000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"this part of the spec is a little controversial, but:","msgtype":"m.text"},"ts":1318897020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cpearce, if you navigate a child browsing context that has a fullscreen element in it, and then navigate back, is it still the fullscreen element?","msgtype":"m.text"},"ts":1318897021000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it is \"active\" but not \"fully active\"","msgtype":"m.text"},"ts":1318897022000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"okay","msgtype":"m.text"},"ts":1318897080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it stops getting events and stuff though, iirc","msgtype":"m.text"},"ts":1318897081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: We should exit full-screen mode when a full-screen document navigates.","msgtype":"m.text"},"ts":1318897082000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"annevk: (because the event loop only takes tasks for docs that are fully active)","msgtype":"m.text"},"ts":1318897140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cpearce, the top-level browsing context?","msgtype":"m.text"},"ts":1318897200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, thanks","msgtype":"m.text"},"ts":1318897201000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: If we navigate a non-full-screen child iframe and the parent is full-screen, there's no need to break out of full-screen.","msgtype":"m.text"},"ts":1318897260000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"cpearce, right","msgtype":"m.text"},"ts":1318897261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cpearce, but what if you navigate a child frame that contains a fullscreen element?","msgtype":"m.text"},"ts":1318897320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean the top-level browsing context will still have a fullscreen element in that case too","msgtype":"m.text"},"ts":1318897321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: It seems that if a document has a full-screen element, it must be full-screen? So since it's full-screen we should exit full-screen mode?","msgtype":"m.text"},"ts":1318897380000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"annevk: how does \"fullscreendeny\"/\"...error\" solve the problem that it may take arbitrary amount time for user to decide whether to allow the fullscreen mode","msgtype":"m.text"},"ts":1318897440000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"your use of fullscreen confuses me, do you mean exit it for that document only or the whole top-level-browsing context?","msgtype":"m.text"},"ts":1318897441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: we use a ask forgiveness model now, so the decision to deny can be made synchronously.","msgtype":"m.text"},"ts":1318897500000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1318897501000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"annevk: If we exit for one, we exit for all.","msgtype":"m.text"},"ts":1318897502000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"user many not allow or deny","msgtype":"m.text"},"ts":1318897503000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"user may just be slow to say anything","msgtype":"m.text"},"ts":1318897504000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"i notify in advance that i will not forgive any browser vendor that lets pages show fullscreen ads at me","msgtype":"m.text"},"ts":1318897560000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"cpearce, okay","msgtype":"m.text"},"ts":1318897561000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: I mean, *we* don't have UI which requires the user to approve requests for full-screen, we just go full-screen and give them the option to exit. I guess though you're concerned about vendors which do want to implement an approval UI...","msgtype":"m.text"},"ts":1318897562000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"that is no-go","msgtype":"m.text"},"ts":1318897620000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I'm pretty sure vendors don't want to implement such thing","msgtype":"m.text"},"ts":1318897621000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(pretty disconcerting that it seems nobody but me seems to care if pages are allowed to show fullscreen ads)","msgtype":"m.text"},"ts":1318897622000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"going to fullscreen *must* ask permission","msgtype":"m.text"},"ts":1318897680000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(or the permission can be given beforehand)","msgtype":"m.text"},"ts":1318897681000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"if you put ads in an iframe they won't be able to go full-screen unless there's a fullscreenallowed attribute on the iframe.","msgtype":"m.text"},"ts":1318897682000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"smaug____: but from what i've heard, both FF and Chrome intend to go fullscreen without asking (and then asking after it's too late) ...","msgtype":"m.text"},"ts":1318897683000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"uh","msgtype":"m.text"},"ts":1318897684000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"that sure hasn't been security reviewed","msgtype":"m.text"},"ts":1318897740000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"which i find horrifying","msgtype":"m.text"},"ts":1318897741000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"it sounds absolute horrifying","msgtype":"m.text"},"ts":1318897742000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"That has. We show a bug warning to make it obvious you've gone fullscreen.","msgtype":"m.text"},"ts":1318897743000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"i don't want a big, obnoxious warning every time i go fullscreen (like Flash does), that's also bad","msgtype":"m.text"},"ts":1318897744000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"IMO Flash's behaviour is fine.","msgtype":"m.text"},"ts":1318897745000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"and ... again, that doesn't solve the problem that it's letting pages go fullscreen to show ads (asking after is *too late* then)","msgtype":"m.text"},"ts":1318897800000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(it's already shoved a gigantic ad in my face)","msgtype":"m.text"},"ts":1318897801000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"To go full-screen, the change must either happen as a result of a user initiated action, or must be confirmed by the user, IMO.","msgtype":"m.text"},"ts":1318897802000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"cpearce: what is the reason to allow web page to do such a major change to the UI without asking user's permission?","msgtype":"m.text"},"ts":1318897803000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Which addresses all the major uses of Flash full-screen I can think of.","msgtype":"m.text"},"ts":1318897860000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"right, the fullscreen request is only granted in user initiated action.","msgtype":"m.text"},"ts":1318897861000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"gsnedders: both of those are still intending to require it to be within a click/keypress, but that doesn't solve these problems","msgtype":"m.text"},"ts":1318897862000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"So permission is implicit.","msgtype":"m.text"},"ts":1318897863000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"uh","msgtype":"m.text"},"ts":1318897864000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"is rather out-of-touch of all of this stuff, though","msgtype":"m.emote"},"ts":1318897865000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"sorry, \"implicit permission\" doesn't make sense, heh","msgtype":"m.text"},"ts":1318897866000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: If it's harder to do than in Flash, people will keep using Flash for stuff like full-screen video.","msgtype":"m.text"},"ts":1318897920000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"clicking something on the page is not the same as giving permission","msgtype":"m.text"},"ts":1318897921000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"So we can't make it considerably harder than with Flash, IMO.","msgtype":"m.text"},"ts":1318897922000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Like, a site moving to HTML for video shouldn't regress the UX.","msgtype":"m.text"},"ts":1318897923000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"By asking permission extra times.","msgtype":"m.text"},"ts":1318897924000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: importing major problems of Flash into HTML because people will continue to use Flash is a very poor rationale--there's a *reason* i use flashblock!","msgtype":"m.text"},"ts":1318897980000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(of course, any sane UI would have the major response be \"allow this, and don't ask in the future\", so you usually only have to agree to it the first time)","msgtype":"m.text"},"ts":1318897981000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"If I press a button on YouTube to go full screen, I damn well want it to go full screen. I don't want to then have to confirm it. Even the first time.","msgtype":"m.text"},"ts":1318898040000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(there is a reason why I don't have Flash installed in this browser profile)","msgtype":"m.text"},"ts":1318898041000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"gsnedders: that implies pages being able to smear gigantic ads in my face without permission; so I say, too bad, live with it","msgtype":"m.text"},"ts":1318898042000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"no way that I can see of allowing one without the other","msgtype":"m.text"},"ts":1318898043000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"it's bad enough that I'm afraid to click anywhere in the window on things like image hosts, for fear that a page will use it to open a popup; this would be so much worse","msgtype":"m.text"},"ts":1318898160000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"not \"too bad\", if we're not competitive with the usability of Flash people will just use that","msgtype":"m.text"},"ts":1318898161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah. If it's too restrictive people simply won't use it.","msgtype":"m.text"},"ts":1318898162000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zewt: with Chrome you can fear also that clicking anywhere in the window starts recording and sending your audio to google ;)","msgtype":"m.text"},"ts":1318898220000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"if flash lets people format the user's hard drive, we'd have to let them do that too, or they'll just keep using flash? heh","msgtype":"m.text"},"ts":1318898221000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: There's a rather large difference.","msgtype":"m.text"},"ts":1318898280000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"smaug____: sounds like a massive security hole","msgtype":"m.text"},"ts":1318898281000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"non-rational arguments ftw","msgtype":"m.text"},"ts":1318898282000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: difference of magnitude only","msgtype":"m.text"},"ts":1318898283000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"o_O","msgtype":"m.text"},"ts":1318898284000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the idea that html has to let people do everything flash does, regardless of if that causes serious, obnoxious problems on the web, is a bad one","msgtype":"m.text"},"ts":1318898285000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: that is Google's \"clicking gives permission\" -permission model","msgtype":"m.text"},"ts":1318898286000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but that's not the idea","msgtype":"m.text"},"ts":1318898287000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sure seems like it","msgtype":"m.text"},"ts":1318898340000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"then you haven't really been paying attention","msgtype":"m.text"},"ts":1318898400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"non-rational arguments ftw","msgtype":"m.text"},"ts":1318898401000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"disagreeing with me doesn't mean i havn't been paying attention","msgtype":"m.text"},"ts":1318898460000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"e.g. we didn't copy the crossdomain.xml disaster","msgtype":"m.text"},"ts":1318898461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no, you designed something better for its use cases; you're not doing that here","msgtype":"m.text"},"ts":1318898462000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I don't really see a better way here to be honest","msgtype":"m.text"},"ts":1318898520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I also hardly see the popup abuse you talk about","msgtype":"m.text"},"ts":1318898521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"making the popular use case impossibly annoying is just not going to work","msgtype":"m.text"},"ts":1318898580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"plenty of random sites open popups during the first click event they see, to work around the user-interaction restriction","msgtype":"m.text"},"ts":1318898581000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(don't have one off-hand)","msgtype":"m.text"},"ts":1318898582000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"how is it \"impossibly annoying\"? it's the model used by geolocation","msgtype":"m.text"},"ts":1318898640000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"geolocation is infrequent, fullscreen is frequent","msgtype":"m.text"},"ts":1318898820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hardly infrequent if you're searching on mobile","msgtype":"m.text"},"ts":1318898821000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"how often do you use fullscreen, I mean from different domains?","msgtype":"m.text"},"ts":1318898822000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I find it annoying in the geolocation case, but I think that's partly a UI issue.","msgtype":"m.text"},"ts":1318898880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"smaug____, pretty often I think, mostly for video, sometimes slideshows","msgtype":"m.text"},"ts":1318898940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and they are really from different domains?","msgtype":"m.text"},"ts":1318898941000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: FF6's geoloc confirmation box is sort of annoying, because you have to open a dropdown to get to the most common answer for most people (always)","msgtype":"m.text"},"ts":1318899000000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"is more than happy to try full-screen with explicit user confirmation first, but will need to watch for user feedback","msgtype":"m.emote"},"ts":1318899001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I would have guessed most of the fullscreen usage comes from youtube","msgtype":"m.text"},"ts":1318899002000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"three \"yes\"/\"no\"/\"just this once\" buttons would be nicer","msgtype":"m.text"},"ts":1318899003000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"smaug____, there's quite a bit of self-hosted video out there as well","msgtype":"m.text"},"ts":1318899004000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i suppose also because the confirmation is \"out-of-line\"; at least for mouse-initiated events, it'd be nicer (at least for fullscreen buttons) if the box appeared over the button you clicked","msgtype":"m.text"},"ts":1318899120000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: I don't recall what FF6 did. Nightly has IMO quite good UI for geolocation permission","msgtype":"m.text"},"ts":1318899121000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"cpearce, can you reply to Darin Fisher on the mailing list with Mozilla's use cases for not ignoring calls to requestFullscreen while fullscreen?","msgtype":"m.text"},"ts":1318899122000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sure.","msgtype":"m.text"},"ts":1318899180000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"smaug____: http://zewt.org/~glenn/ff6%20doorhanger.png","msgtype":"m.text"},"ts":1318899181000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: seems like Nightly has that","msgtype":"m.text"},"ts":1318899182000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and it is IMO ok API","msgtype":"m.text"},"ts":1318899183000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"s/API/UI/","msgtype":"m.text"},"ts":1318899240000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"it's not bad, but could be streamlined as I said ^","msgtype":"m.text"},"ts":1318899241000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"you can click share, or just ignore the whole thing","msgtype":"m.text"},"ts":1318899242000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"better than a modal dialog, obviously","msgtype":"m.text"},"ts":1318899243000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"the point is that if you don't want to share, you don't need to do anything","msgtype":"m.text"},"ts":1318899300000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and if you explicitly want to share always, you need to click once more","msgtype":"m.text"},"ts":1318899301000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"yeah, but again, my most common answer (always) is a clumsier two-step UI, and if that was used for confirming fullscreen, it's inconveniently way in the corner instead of near whatever fullscreen button I clicked (putting aside keyboard events)","msgtype":"m.text"},"ts":1318899360000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"is always the most common answer?","msgtype":"m.text"},"ts":1318899420000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"i can't speak for everyone :)","msgtype":"m.text"},"ts":1318899421000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"to me the most common answer is \"I don't care\", so I don't click anything","msgtype":"m.text"},"ts":1318899422000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and next most common answer is, \"ok, allow this time\"","msgtype":"m.text"},"ts":1318899423000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"for me in the fullscreen case, i'm pretty sure the only two i'd use are \"always\" and \"no\"","msgtype":"m.text"},"ts":1318899480000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(\"always\" if it's a fullscreen I actually requested; \"never\" if it's a mysterious attempt to go fullscreen that I didn't ask for)","msgtype":"m.text"},"ts":1318899540000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"why does opera not work on http://www.hixie.ch/tests/adhoc/dom/css/StyleSheet/002.html ?","msgtype":"m.text"},"ts":1318900020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wait, IE doesn't either now","msgtype":"m.text"},"ts":1318900080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"aw man, what have i done now","msgtype":"m.text"},"ts":1318900081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: the tried and true \"paste on irc\" debugging technique","msgtype":"m.text"},"ts":1318900082000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"ok IE's problem is it misteriously only finds 2 links","msgtype":"m.text"},"ts":1318900200000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but what's opera doing","msgtype":"m.text"},"ts":1318900201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"o_O","msgtype":"m.text"},"ts":1318900202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"opera's not running the timeout? o_O","msgtype":"m.text"},"ts":1318900203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I wonder if the setTimeout is running not when you think it is","msgtype":"m.text"},"ts":1318900204000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"maybe","msgtype":"m.text"},"ts":1318900260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: It's running it. After it has run the second script.","msgtype":"m.text"},"ts":1318900261000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"how can that be","msgtype":"m.text"},"ts":1318900262000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's a 100ms timeout and the third link takes 2 seconds to load","msgtype":"m.text"},"ts":1318900263000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: DSE enabled?","msgtype":"m.text"},"ts":1318900320000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"DSE?","msgtype":"m.text"},"ts":1318900321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Delayed Script Execution","msgtype":"m.text"},"ts":1318900322000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"what is that?","msgtype":"m.text"},"ts":1318900323000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"opera:config#Extensions|DelayedScriptExecution","msgtype":"m.text"},"ts":1318900324000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hmm, has no effect.","msgtype":"m.text"},"ts":1318900380000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: speculative parsing + some more complexity","msgtype":"m.text"},"ts":1318900381000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: Are you sure Opera blocks on link elements?","msgtype":"m.text"},"ts":1318900560000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: Note that behaviour is likely different between Op12 and Op11.50","msgtype":"m.text"},"ts":1318900620000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"yes, opera is blocking (for more than 150ms) on the link elements.","msgtype":"m.text"},"ts":1318900680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but it's blocking less than 1000ms","msgtype":"m.text"},"ts":1318900681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or something","msgtype":"m.text"},"ts":1318900682000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i can't say i understand what opera is doing","msgtype":"m.text"},"ts":1318900683000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh no","msgtype":"m.text"},"ts":1318900740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.youtube.com/watch?v=Ws6AAhTw7RA","msgtype":"m.text"},"ts":1318900741000,"senderName":"_bga","senderId":"_bga@irc"},
{"content":{"body":"i was timing it wrong","msgtype":"m.text"},"ts":1318900742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, opera isn't blocking at all","msgtype":"m.text"},"ts":1318900743000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok that's another bug then :-)","msgtype":"m.text"},"ts":1318900744000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it acts like it's blocking","msgtype":"m.text"},"ts":1318900800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i mean, the page takes 2 seconds to load and all","msgtype":"m.text"},"ts":1318900801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that you can detect it is prolly a bug","msgtype":"m.text"},"ts":1318900802000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i don't understand what opera's doing at all. it has all the disadvantages of blocking and none of the advantages.","msgtype":"m.text"},"ts":1318900803000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1318900804000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that does sound wrong","msgtype":"m.text"},"ts":1318900805000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"AFAIK it only blocks on a CSSOM call while there is a stylesheet yet to load","msgtype":"m.text"},"ts":1318900920000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Or at least that's the theory","msgtype":"m.text"},"ts":1318900980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"So, on the whole, I think the .sheet accesses block","msgtype":"m.text"},"ts":1318900981000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: so why doesn't the script run until after parsing has finished?","msgtype":"m.text"},"ts":1318901580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders: note how parsed gets set to true","msgtype":"m.text"},"ts":1318901581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh wait, i see what you're saying","msgtype":"m.text"},"ts":1318901582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1318901640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so opera blocks the script itself","msgtype":"m.text"},"ts":1318901641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"huh","msgtype":"m.text"},"ts":1318901642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, we just stop script executing until loading and parsing is done","msgtype":"m.text"},"ts":1318901700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"execution*","msgtype":"m.text"},"ts":1318901701000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"when is Chrome going to return \"\" for canPlayType(\"video/mp4\")?","msgtype":"m.text"},"ts":1318903440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"next couple months\" in http://blog.chromium.org/2011/01/html-video-codec-support-in-chrome.html for a reasonable definition of \"next couple\" has not really happened it seems","msgtype":"m.text"},"ts":1318903500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or am I missing something?","msgtype":"m.text"},"ts":1318903501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cpearce, so given what Hixie said earlier about inactive documents it seems not dispatching fullscreenchange on removed documents or documents navigated away from is the way to go","msgtype":"m.text"},"ts":1318904160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no. we should still dispatch, so that if the document is re-added or navigated back to, it gets a notification. otherwise if we navigate back, it will still think it's in fullscreen mode. we'd need to rely on the event not being dispatched until the doc is reactivated though (if I understood that correctly that should happen?)","msgtype":"m.text"},"ts":1318904280000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"does that make sense?","msgtype":"m.text"},"ts":1318904340000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"I guess we could do that too, but Hixie said he rather avoids it","msgtype":"m.text"},"ts":1318904341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cpearce, btw, for requestFullscreen if you are already fullscreen, exitFullscreen is going to do the wrong thing","msgtype":"m.text"},"ts":1318904400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"how so?","msgtype":"m.text"},"ts":1318904401000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"I'm on site A that embeds site B","msgtype":"m.text"},"ts":1318904460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"site A does requestFullscreen","msgtype":"m.text"},"ts":1318904461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"then site B does requestFullscreen","msgtype":"m.text"},"ts":1318904462000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"then site B does exitFullscreen","msgtype":"m.text"},"ts":1318904463000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"A is no longer fullscreen","msgtype":"m.text"},"ts":1318904464000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmmm. true.","msgtype":"m.text"},"ts":1318904520000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"so either the entire design needs a revamp to allow for a single browsing context go in and out of fullscreen rather than a whole set or we should give up on this use case","msgtype":"m.text"},"ts":1318904580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think","msgtype":"m.text"},"ts":1318904640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"how annoying.","msgtype":"m.text"},"ts":1318905060000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"is it easy to display a single browsing context (including descendants of course) fullscreen?","msgtype":"m.text"},"ts":1318905061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"basically displaying fullscreen on a per-Document basis","msgtype":"m.text"},"ts":1318905120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that way you can have a nested stack if so desired","msgtype":"m.text"},"ts":1318905121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and it would definitely make the whole dispatch \"fullscreenchange\" everywhere stuff easier","msgtype":"m.text"},"ts":1318905180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"since that will only affect a single document","msgtype":"m.text"},"ts":1318905181000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also solves the potential cross-process issue","msgtype":"m.text"},"ts":1318905240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Not really. then you need to pop the rendering of documents out of their rendering targets, which greatly complicates things. With the nested full-screen approach, all you need is to apply css rules, and you're there.","msgtype":"m.text"},"ts":1318905241000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"sigh","msgtype":"m.text"},"ts":1318905420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the other way is pretty silly too though","msgtype":"m.text"},"ts":1318905480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not being able to fullscreen a video while fullscreen","msgtype":"m.text"},"ts":1318905481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think we should just have exitFullScreen() exit fullscreen state on the document and all descendent documents. Then in my powerpoint/video use case, users can use the video controls to exit fullscreen on the video element but remain in fullscreen in the slide deck. The UA can and should break out of all fullscreen on ESC keypress though, where they'll call exitFullScreen() on the...","msgtype":"m.text"},"ts":1318905900000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"...root doc.","msgtype":"m.text"},"ts":1318905901000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"where the UA will call exitFullScreen() on the root doc that is. Users should be absolutely sure that when they press ESC, they've exited fullscreen.","msgtype":"m.text"},"ts":1318905960000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"it should probably also set the frame element of the parent document to null or some such","msgtype":"m.text"},"ts":1318906020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"otherwise B is still fullscreen","msgtype":"m.text"},"ts":1318906080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just not its embedded video (maybe)","msgtype":"m.text"},"ts":1318906081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right, exitFullScreen() on the root document should reset fullscreen state (Document.fullscreenElement, Document.fullscreen) on the root document and all its descendents. So it would exit fullscreen in all documents completely.","msgtype":"m.text"},"ts":1318906200000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"I wonder if that's going to confuse people...","msgtype":"m.text"},"ts":1318906201000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"I'm not talking about the root document","msgtype":"m.text"},"ts":1318906260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"A embeds B","msgtype":"m.text"},"ts":1318906261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"through <iframe> A1","msgtype":"m.text"},"ts":1318906262000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if B goes fullscreen A1 will become the fullscreen element of A","msgtype":"m.text"},"ts":1318906263000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if B then invokes exitFullscreen that should be reset somehow","msgtype":"m.text"},"ts":1318906320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right, I get you. I guess that should become null as you suggest, which is equivalent to making A's document fullscreen without a specific fullscreen element.","msgtype":"m.text"},"ts":1318906440000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"I think it would also make sense that requestFullscreen can only be invoked for a descendant of the current fullscreen document","msgtype":"m.text"},"ts":1318906560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so you only traverse in one direction","msgtype":"m.text"},"ts":1318906620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cpearce, should we add document.requestFullscreen?","msgtype":"m.text"},"ts":1318906621000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I don't think we really need document.requestFullscreen, you can just use document.body.requestFullscreen(). When I said \"making A's document fullscreen...\" the result is its body is displayed fullscreen, though it's not reported as the fullscreen element in Document.fullscreenElement.","msgtype":"m.text"},"ts":1318906800000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"given the current styling rules the result is most definitely not the same","msgtype":"m.text"},"ts":1318906920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"we could of course have exitFullscreen on a descendant of the top-level browsing context make it set the fullscreen element of its parent to its parent root element","msgtype":"m.text"},"ts":1318906980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"how is document.body.requestFullScreen() not the same as document.requestFullScreen()?","msgtype":"m.text"},"ts":1318907100000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"I guess document.body != root?","msgtype":"m.text"},"ts":1318907101000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"depends on how you define things","msgtype":"m.text"},"ts":1318907102000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm just saying that setting A's fullscreen element to null is probably not the correct way here","msgtype":"m.text"},"ts":1318907160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If we dispatch a fullscreenchange event when we change A's fullscreen element (to whatever) then A will have the opportunity to request the fullscreen element to what it meant it to be.","msgtype":"m.text"},"ts":1318907280000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"And yeah, only granting requests for fullscreen in a descendant of the fullscreen document (if there is one) simplifies implementation. I can't really think of a case were it would be useful to grant requests from sibling/cousin documents.","msgtype":"m.text"},"ts":1318907340000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"that'll give you flickering, but I guess that's somewhat acceptable","msgtype":"m.text"},"ts":1318907341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for this use case you want the root element to be the fullscreen element anyway I think","msgtype":"m.text"},"ts":1318907342000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cpearce, about the styling rules, should we have transform:none for :fullscreen-ancestor and probably disable transitions/animations?","msgtype":"m.text"},"ts":1318907400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cpearce, also seems like background:black needs to be complemented by color:#fff or some such","msgtype":"m.text"},"ts":1318907401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: not sure about transfoms etc. That's outside of my expertise. Probably worth suggesting.","msgtype":"m.text"},"ts":1318907520000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"they create stacking contexts afaik, so...","msgtype":"m.text"},"ts":1318907640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"will discuss with roc at some point I guess","msgtype":"m.text"},"ts":1318907641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"better sort the API side out first","msgtype":"m.text"},"ts":1318907642000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah we should have transform:none","msgtype":"m.text"},"ts":1318907820000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"whether cancelling fullscreen on a subdocument also cancels fullscreen on the parent document is a tricky one","msgtype":"m.text"},"ts":1318907940000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"we may need some per-document flag to indicate whether the document requested fullscreen","msgtype":"m.text"},"ts":1318908000000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1318908060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"because now in the A B case above","msgtype":"m.text"},"ts":1318908061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if B calls requestFullscreen and then exitFullscreen","msgtype":"m.text"},"ts":1318908062000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"A would still be fullscreen","msgtype":"m.text"},"ts":1318908063000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which is obviously wrong","msgtype":"m.text"},"ts":1318908064000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"there are use-cases where it should cancel fullscreen on the parent, and use-cases where it shouldn't","msgtype":"m.text"},"ts":1318908065000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"cpearce, ^^","msgtype":"m.text"},"ts":1318908066000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe if we have a per-doc flag to indicate whether it wants to be fullscreen","msgtype":"m.text"},"ts":1318908067000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I guess we need to track which documents went fullscreen","msgtype":"m.text"},"ts":1318908068000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which is set on requestFullScreen, and cleared on exitFullScreen","msgtype":"m.text"},"ts":1318908120000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"and then exitFullscreen would remove fullscreen status from all the ancestors up to and excluding the first one that has the want-fullscreen flag set","msgtype":"m.text"},"ts":1318908121000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"exitFullscreen also needs to clear all descendants","msgtype":"m.text"},"ts":1318908180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes ok","msgtype":"m.text"},"ts":1318908181000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"yeah that additional state is needed otherwise you get sad behavior","msgtype":"m.text"},"ts":1318908182000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: re earlier, i'd rather avoid sending events to inactive documents if we can by arranging the api so it's not needed, but if it's needed, sobeit","msgtype":"m.text"},"ts":1318908183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, is it better to state \"do animation async\" or \"spin the event loop until the animation is finished\"","msgtype":"m.text"},"ts":1318908240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and what is the difference?","msgtype":"m.text"},"ts":1318908241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"roc: what element would become fullscreen when then want-fullscreen doc returns to being fullscreen? its root element? what was formerly its fullscreen eleent?","msgtype":"m.text"},"ts":1318908242000,"senderName":"cpearce","senderId":"cpearce@irc"},
{"content":{"body":"former fullscreen element is prolly best","msgtype":"m.text"},"ts":1318908300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so you have a stack of fullscreen elements to pop out of?","msgtype":"m.text"},"ts":1318908301000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1318908360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: not much different. \"spin the event loop\" is defined as just queuing a task to continue running the algorithm :-)","msgtype":"m.text"},"ts":1318908361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: so it depends on whether you want stuff happening in the background or whether you want it in a task","msgtype":"m.text"},"ts":1318908420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: (\"stuff\" being anything in your algorithm other than the animation)","msgtype":"m.text"},"ts":1318908421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"method -> state change -> non blocking animation -> events","msgtype":"m.text"},"ts":1318908480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is prolly the order we should have","msgtype":"m.text"},"ts":1318908481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not sure what should happen if requestFullscreen or exitFullscreen is invoked during the non-blocking animation","msgtype":"m.text"},"ts":1318908540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i guess you would get some additional events","msgtype":"m.text"},"ts":1318908541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ugh, the idea of a stack kinda sucks","msgtype":"m.text"},"ts":1318908960000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"dislikes stack","msgtype":"m.emote"},"ts":1318909020000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"what if we let each document have it's own fullscreen element, and define the concept of an effective fullscreen element, which is either the document's own fullscreen element, or the element for a fullscreen subdocument","msgtype":"m.text"},"ts":1318909080000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"alternatives: 1) not make this work 2) make it possible for a single document to go fullscreen","msgtype":"m.text"},"ts":1318909081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jamesr_: it would be helpful if we had more feedback from Webkit people; I met two different Chrome people working on fullscreen last week yet it's Mozilla and Opera working on the spec","msgtype":"m.text"},"ts":1318909140000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc, darin fisher asked questions on list","msgtype":"m.text"},"ts":1318909141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"good, I'm behind","msgtype":"m.text"},"ts":1318909142000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"ah, only three hours ago, I don't feel bad about that :-)","msgtype":"m.text"},"ts":1318909200000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1318909201000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"how does the effective fullscreen element concept help?","msgtype":"m.text"},"ts":1318909202000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"define styling in terms of it","msgtype":"m.text"},"ts":1318909260000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"oh I read it wrong","msgtype":"m.text"},"ts":1318909320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"they could be the same right?","msgtype":"m.text"},"ts":1318909321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"they could be","msgtype":"m.text"},"ts":1318909322000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"it means that if a subdocument exits fullscreen then the fullscreen element reverts to whatever the document requested","msgtype":"m.text"},"ts":1318909380000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"without needing a stack","msgtype":"m.text"},"ts":1318909381000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"if a subdocument goes fullscreen does the document get a notification change?","msgtype":"m.text"},"ts":1318909382000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1318909383000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"it's sort of the same as a stack I guess, it's just an implementation detail","msgtype":"m.text"},"ts":1318909500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"roc, the apple guys rambo'd an implementation into 5.1 as i understand it","msgtype":"m.text"},"ts":1318909501000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"roc, including such wonderful things like overriding offsetWidth/offsetHeight for some crazy compat hack in some scenario","msgtype":"m.text"},"ts":1318909502000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"should prolly go with \"fullscreen element\" and \"original fullscreen element\" so it's clear what fullscreenElement and :fullscreen refer to","msgtype":"m.text"},"ts":1318909560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jamesr_: sweet","msgtype":"m.text"},"ts":1318909561000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"so now we're mostly trying to play catch-up. i'll try to prod the googlers involved with the chromium implementation to participate more as the opportunity arises","msgtype":"m.text"},"ts":1318909562000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"\"fullscreen element\", \"original fullscreen element\", \"requestfullscreen invoked\", and \"fullscreen allowed\"","msgtype":"m.text"},"ts":1318909800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is the state required I guess","msgtype":"m.text"},"ts":1318909801000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1318909860000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"lunch and stuff, I'll redo my sketches from yesterday to work out this new model","msgtype":"m.text"},"ts":1318910280000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I haven't committed anything thus far","msgtype":"m.text"},"ts":1318910281000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"on the plus side this does seem easier than the call requestFullscreen method anywhere model","msgtype":"m.text"},"ts":1318910282000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1318910460000,"senderName":"jarek-","senderId":"jarek-@irc"},
{"content":{"body":"CSS2 spec defines {nonascii} as [\\240-\\377]","msgtype":"m.text"},"ts":1318910461000,"senderName":"jarek-","senderId":"jarek-@irc"},
{"content":{"body":"but I'm not sure what actually 240-377 range refer too","msgtype":"m.text"},"ts":1318910462000,"senderName":"jarek-","senderId":"jarek-@irc"},
{"content":{"body":"this is obviously not range from ASCII table","msgtype":"m.text"},"ts":1318910520000,"senderName":"jarek-","senderId":"jarek-@irc"},
{"content":{"body":"it also doesn't look like UTF","msgtype":"m.text"},"ts":1318910521000,"senderName":"jarek-","senderId":"jarek-@irc"},
{"content":{"body":"s/refer/refers","msgtype":"m.text"},"ts":1318910522000,"senderName":"jarek-","senderId":"jarek-@irc"},
{"content":{"body":"jarek, isn't there some note explaining it?","msgtype":"m.text"},"ts":1318911000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jarek, so there is, which says the octal codes are Unicode","msgtype":"m.text"},"ts":1318911001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I see, thanks","msgtype":"m.text"},"ts":1318911120000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"so it is allowed to have signs such as  or  inside css ID names?","msgtype":"m.text"},"ts":1318911600000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"that's interesting","msgtype":"m.text"},"ts":1318911601000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"what's a \"css ID name\"?","msgtype":"m.text"},"ts":1318911660000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"do you mean the #foo syntax or id=\"foo\"?","msgtype":"m.text"},"ts":1318911661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: e.g. #headyer > h1","msgtype":"m.text"},"ts":1318911662000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"ah. well you can have anything in that, even spaces, if you escape it","msgtype":"m.text"},"ts":1318911663000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"e.g. #\\  { ... }","msgtype":"m.text"},"ts":1318911664000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"matches elements whose id is a space","msgtype":"m.text"},"ts":1318911720000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but id=\"foo\" is not allowed, right?","msgtype":"m.text"},"ts":1318911721000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"not that that's a legal ID in HTML","msgtype":"m.text"},"ts":1318911722000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so what's the point in allowing it in CSS idents?","msgtype":"m.text"},"ts":1318911723000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"in HTML, id=\"\" can take any value except one containing spaces, and except the empty string","msgtype":"m.text"},"ts":1318911724000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well, nothing stops someone from applying CSS to a language that uses spaces in IDs","msgtype":"m.text"},"ts":1318911780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"once we tie CSS closer to the DOM there will be","msgtype":"m.text"},"ts":1318911781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but then it will still have to work","msgtype":"m.text"},"ts":1318911840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"really going now","msgtype":"m.text"},"ts":1318911841000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"even then someone could define a mapping","msgtype":"m.text"},"ts":1318911842000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lunch breaks these days take a while","msgtype":"m.text"},"ts":1318924380000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I do know a whole lot more about the component model so that's nice","msgtype":"m.text"},"ts":1318924381000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"every time i end up in a discussion with semantic web people, i end up questioning why we even do microdata at all","msgtype":"m.text"},"ts":1318924440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(then i remember there's some interesting use cases with drag and drop)","msgtype":"m.text"},"ts":1318924500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(but those are never the ones they mention, and the ones they mention almost always seem to be either unrealistic or theoretical)","msgtype":"m.text"},"ts":1318924501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's such a time sink","msgtype":"m.text"},"ts":1318924680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and HTML is really somewhat unique in that","msgtype":"m.text"},"ts":1318924740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1318926600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so I think the fullscreen model still does not work cpearce :(","msgtype":"m.text"},"ts":1318926601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cpearce, Document is fullscreen, same document hosts a couple of videos by means of <video> elements","msgtype":"m.text"},"ts":1318926660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cpearce, document.exitFullscreen is going to do the wrong thing","msgtype":"m.text"},"ts":1318926661000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: small patch review when you have time","msgtype":"m.text"},"ts":1318927440000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://gist.github.com/1294834","msgtype":"m.text"},"ts":1318927441000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for http://bugzilla.validator.nu/show_bug.cgi?id=865","msgtype":"m.text"},"ts":1318927442000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"cpearce, I wrote an email","msgtype":"m.text"},"ts":1318928400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"guess I'll write the WHATWG Weekly if there's anything to report on","msgtype":"m.text"},"ts":1318928401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: This concept of nested fullscreen seems like it will make for a confusing user experience","msgtype":"m.text"},"ts":1318928402000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I could be wrong","msgtype":"m.text"},"ts":1318928403000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"your site is displayed fullscreen, you have a video in it","msgtype":"m.text"},"ts":1318928460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the user hits the fullscreen button on the video, then exits","msgtype":"m.text"},"ts":1318928461000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what is the expected user experience?","msgtype":"m.text"},"ts":1318928520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"to me it seems pretty obvious you want the site to remain fullscreen","msgtype":"m.text"},"ts":1318928521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I could be wrong","msgtype":"m.text"},"ts":1318928522000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not sure","msgtype":"m.text"},"ts":1318928523000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It seems like you could get into a situation where you think \"exit fullscreen\" will actually cause you to exit fullscreen when it won't","msgtype":"m.text"},"ts":1318928580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"the alternative is to not support nesting and if you want nesting you need to implement your own concept of fullscreen","msgtype":"m.text"},"ts":1318928640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which is kind of sucky given all the benefits of using fullscreen","msgtype":"m.text"},"ts":1318928641000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder if it is a problem if a site takes you two levels of fullscreen deep, gives you an \"exit fullscreen\" button and meanwhile draws something that looks like maximised browser chrome on the inner fullscreen","msgtype":"m.text"},"ts":1318928700000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"won't calling requestFullscreen when already in fullscreen cause the fullscreen'd element to change?","msgtype":"m.text"},"ts":1318928701000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"if so, they could just have the \"exit fullscreen\" button call fullscreen on another element in this situation","msgtype":"m.text"},"ts":1318928702000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"although the native UI won't do the same thing","msgtype":"m.text"},"ts":1318928703000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Maybe it's not, since you could do that even without the concept of nested fullscreen","msgtype":"m.text"},"ts":1318928704000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(but if there is a browser escape hatch that only works one level deep, it could be more confusing)","msgtype":"m.text"},"ts":1318928760000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"still, if I ever actually wanted to really exit fullscreen, I'd be pretty annoyed if I found myself in n levels of fullscren","msgtype":"m.text"},"ts":1318928761000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip, yeah, then you get a disparity between <video controls> and <video> with site-supplied controls","msgtype":"m.text"},"ts":1318928762000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"to exit fullscreen you press \"Esc\"","msgtype":"m.text"},"ts":1318928763000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"we'll clearly advertise that in the UI and it will go through everything","msgtype":"m.text"},"ts":1318928820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess as long as browsers implement a method that blows away all fullscreen there's no problem","msgtype":"m.text"},"ts":1318928880000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"anyway, the user putting a page into fullscreen with F11 isn't the same as requestFullscreen right?","msgtype":"m.text"},"ts":1318928881000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Is it possible for sites to bind to the esc key? Or is that forbidden?","msgtype":"m.text"},"ts":1318928882000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so the case where a site just happens to be in fullscreen without knowing it can be handled","msgtype":"m.text"},"ts":1318928883000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"foolip, I would sort of like it to be the same","msgtype":"m.text"},"ts":1318928940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham, the site would never get hold of this key basically","msgtype":"m.text"},"ts":1318928941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham, while in fullscreen","msgtype":"m.text"},"ts":1318928942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip, i.e. have the API and UI work together","msgtype":"m.text"},"ts":1318928943000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm, that does sound nice I agree","msgtype":"m.text"},"ts":1318929000000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"So that is equivalent to requestFullscreen on the root element?","msgtype":"m.text"},"ts":1318929060000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"or on a video element","msgtype":"m.text"},"ts":1318929061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"kind of depends","msgtype":"m.text"},"ts":1318929062000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"What? Why would video be special?","msgtype":"m.text"},"ts":1318929063000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"A fullscreen button in native controls and option in the context menu of <video> would make sense, but not so much for <input>","msgtype":"m.text"},"ts":1318929420000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"we should definitely have it on the native controls","msgtype":"m.text"},"ts":1318929480000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But also for <canvas> or <svg> or <div> with a video and some other stuff in","msgtype":"m.text"},"ts":1318929481000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"dunno about those","msgtype":"m.text"},"ts":1318929540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Well I don't necessarily think we should","msgtype":"m.text"},"ts":1318929541000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But video isn't really that special","msgtype":"m.text"},"ts":1318929542000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yes it is","msgtype":"m.text"},"ts":1318929543000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the spec could allow it, but I doubt anyone will implement it","msgtype":"m.text"},"ts":1318929544000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"for <video>?","msgtype":"m.text"},"ts":1318929545000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for <input> :)","msgtype":"m.text"},"ts":1318929546000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1318929547000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Only in the case it has native controls. Even then it could be using other stuff synced to the video","msgtype":"m.text"},"ts":1318929548000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That would mean that taking it fullscreen alone didn't make sense","msgtype":"m.text"},"ts":1318929600000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"sounds like an edge case","msgtype":"m.text"},"ts":1318929601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham, then the page author will have to provide fullscreen controls","msgtype":"m.text"},"ts":1318929602000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"UI for picking a random element to fullscreen would have to look something like dragonfly's focus rectangles, i.e. intolerable","msgtype":"m.text"},"ts":1318929603000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Right, I'm not saying that will work","msgtype":"m.text"},"ts":1318929660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'm saying that the converse will break sometimes","msgtype":"m.text"},"ts":1318929661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"absolutely","msgtype":"m.text"},"ts":1318929662000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"I don't know how often that will be","msgtype":"m.text"},"ts":1318929663000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"all of my <track> demos so far will break","msgtype":"m.text"},"ts":1318929664000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"but that's fine I think","msgtype":"m.text"},"ts":1318929665000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"An end user that doesn't understand the implementation may disagree ofc","msgtype":"m.text"},"ts":1318929720000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Anyway, I don't know","msgtype":"m.text"},"ts":1318929721000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"uh, yeah, users...","msgtype":"m.text"},"ts":1318929722000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"I do look forward for bug reports that the captions don't show in fullscreen because the page author did it using scripts","msgtype":"m.text"},"ts":1318929780000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"Possibly people only use video with native controls in testcases so this is irrelevant","msgtype":"m.text"},"ts":1318929781000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/for/to/","msgtype":"m.text"},"ts":1318929782000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"yeah, you don't see them a lot","msgtype":"m.text"},"ts":1318929840000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"annevk: video with custom controls isn't an edge case","msgtype":"m.text"},"ts":1318929900000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"custom controls for video and fullscreen is kind of a problem. you might want to allow the user to enter fullscreen from the context menu of the video, but you still want to show the custom controls in fullscreen","msgtype":"m.text"},"ts":1318929960000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"There could be some mechanism for changing the element that will go fullscreen. That could be evil though","msgtype":"m.text"},"ts":1318930080000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"zcorpan, presumably not without some involvement from the script managing the controls?","msgtype":"m.text"},"ts":1318930081000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"zcorpan, we were not talking about custom controls","msgtype":"m.text"},"ts":1318930082000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what were you talking about? custom captions?","msgtype":"m.text"},"ts":1318930500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"seems like you'd want those in fullscreen too","msgtype":"m.text"},"ts":1318930501000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"foolip: what can the script do if the user fullscreened from the video's context menu?","msgtype":"m.text"},"ts":1318930502000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan, if there is an event when fullscreen happens and some kind of container element then presumably it can make the controls visible in fullscreen as well","msgtype":"m.text"},"ts":1318930560000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"yeah, the site could check fullscreenchange events and retarget accordingly","msgtype":"m.text"},"ts":1318930620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I doubt anyone would, scripts will mostly assume that the context menu and native controls do not exist","msgtype":"m.text"},"ts":1318930621000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"and break if they do","msgtype":"m.text"},"ts":1318930622000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"it seems reasonable for browsers to provide native controls if the fullscreen element is the video element itself","msgtype":"m.text"},"ts":1318930680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what problem are you guys talking about?","msgtype":"m.text"},"ts":1318930681000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"UI and API-based fullscreen interaction","msgtype":"m.text"},"ts":1318930682000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1318930740000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc, could you look at my most recent email to the WHATWG list?","msgtype":"m.text"},"ts":1318930741000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1318930800000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I would not allow cancelFullScreen to leave full-screen state if the user initiated it","msgtype":"m.text"},"ts":1318930860000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"is that in reply to my email?","msgtype":"m.text"},"ts":1318930920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"foolip: you mean you would change the 'fullscreen element' after the user fullscreened the video?","msgtype":"m.text"},"ts":1318931160000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"fwiw, if there are custom controls I very much doubt the user will right-click","msgtype":"m.text"},"ts":1318931220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes","msgtype":"m.text"},"ts":1318931280000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"because it doesn't address my email","msgtype":"m.text"},"ts":1318931340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"site goes fullscreen (either API or UI-wise, I don't really care) then you want to view some video in it that's in the same document","msgtype":"m.text"},"ts":1318931400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and you want to continue using the site","msgtype":"m.text"},"ts":1318931401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"after viewing the video, or maybe halfway","msgtype":"m.text"},"ts":1318931402000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, either that or if there is always a container into which more elements can be stuffed","msgtype":"m.text"},"ts":1318932240000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"but that seems a bit magical","msgtype":"m.text"},"ts":1318932241000,"senderName":"foolip","senderId":"foolip@irc"},
{"content":{"body":"roc, did you see http://krijnhoetmer.nl/irc-logs/whatwg/20111018#l-783 ?","msgtype":"m.text"},"ts":1318932840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1318933140000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"well, I just read your link","msgtype":"m.text"},"ts":1318933141000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I haven't really figured out a simple way to make the single document case work yet :(","msgtype":"m.text"},"ts":1318933200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess authors can hack around it using <iframe srcdoc=\"\"> but that seems like a really ugly workaround","msgtype":"m.text"},"ts":1318933260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"one option is that the video fullscreen controls could explicitly save the previous fullscreen element, if any, and then when un-full-screening the element you either requestFullScreen on the old element or else cancelFullScreen if there wasn't one","msgtype":"m.text"},"ts":1318933440000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"does that assume custom controls?","msgtype":"m.text"},"ts":1318933500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it doesn't seem nice if the API and UI have wildly different implementations","msgtype":"m.text"},"ts":1318933560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I suppose you could also make this work UI-wise somehow, but it's not pretty","msgtype":"m.text"},"ts":1318933620000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://www.identityblog.com/?p=1201","msgtype":"m.text"},"ts":1318943460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ttp://www.identityblog.com/?p=1201 is interesting","msgtype":"m.text"},"ts":1318946700000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"annevk: http://www.identityblog.com/?p=1201 is interesting","msgtype":"m.text"},"ts":1318946701000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"thanks for the link","msgtype":"m.text"},"ts":1318946760000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1318956060000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1318957200000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"which specification introduces the \"@supports\" atrule?","msgtype":"m.text"},"ts":1318957201000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"I have stumbled upon it in one example in http://www.w3.org/TR/css3-fonts","msgtype":"m.text"},"ts":1318957260000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek: http://www.w3.org/TR/css3-conditional/#at-supports","msgtype":"m.text"},"ts":1318957320000,"senderName":"hasather","senderId":"hasather@irc"},
{"content":{"body":"hasather: thanks","msgtype":"m.text"},"ts":1318957380000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"btw, do you know if any browser supports @supports?","msgtype":"m.text"},"ts":1318957440000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"@supports (@supports)","msgtype":"m.text"},"ts":1318957740000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"http://www.w3.org/TR/css3-fonts/ uses following code in one example:","msgtype":"m.text"},"ts":1318958280000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"font-family: Mercury Serif, serif;","msgtype":"m.text"},"ts":1318958281000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"is this really valid? Shouldn't Mercury Serif be put between quotes?","msgtype":"m.text"},"ts":1318958282000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"\"Font family names must either be given quoted as strings, or unquoted as a sequence of one or more identifiers. This means most punctuation characters and digits at the start of each token must be escaped in unquoted font family names.\"","msgtype":"m.text"},"ts":1318958460000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"i would quote mercury serif, yes","msgtype":"m.text"},"ts":1318958520000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"so Mercury Serif is a valid name, but 9Mercury Serif would fail :/","msgtype":"m.text"},"ts":1318958700000,"senderName":"jarek","senderId":"jarek@irc"},
{"content":{"body":"jarek, yes","msgtype":"m.text"},"ts":1318960140000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Fun, isn't it?","msgtype":"m.text"},"ts":1318960141000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"So is David Flanagan writing a html parser in js?","msgtype":"m.text"},"ts":1318971660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Along with his dom implementation, yes","msgtype":"m.text"},"ts":1318971960000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"https://github.com/andreasgal/dom.js","msgtype":"m.text"},"ts":1318971961000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"\"all HTML parser tests pass!\"","msgtype":"m.text"},"ts":1318971962000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"So is that actually a necessary part of dom.js?","msgtype":"m.text"},"ts":1318972200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"And what's next, the network layer?","msgtype":"m.text"},"ts":1318972260000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That'll be in rust, more likely","msgtype":"m.text"},"ts":1318972620000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"So what I don't understand is where script scheduling fits is","msgtype":"m.text"},"ts":1318972680000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"*in","msgtype":"m.text"},"ts":1318972681000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That is tightly coupled to the parser","msgtype":"m.text"},"ts":1318972682000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So it seems weird to have those in different languages","msgtype":"m.text"},"ts":1318972740000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But writing the scheduler in javascript seems... unlikely","msgtype":"m.text"},"ts":1318972741000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But maybe I am wrong about one of those things","msgtype":"m.text"},"ts":1318972742000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Dunno, haven't been following closely","msgtype":"m.text"},"ts":1318972800000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"What I know is from http://dl.dropbox.com/u/4186469/rust-all-hands-w2011/assets/fallback/index.html around slide 38","msgtype":"m.text"},"ts":1318972801000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Though that claims the HTML parser would be in rust","msgtype":"m.text"},"ts":1318972860000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"TabAtkins: now this is some flippin https://twitter.com/#!/wilto/status/126342267337318400","msgtype":"m.text"},"ts":1318973520000,"senderName":"zcorpan","senderId":"zcorpan@irc"}
]