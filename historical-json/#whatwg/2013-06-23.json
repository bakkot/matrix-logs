[
{"content":{"body":"abarth: RemoteDocumentMessaging can be done through localStorage","msgtype":"m.text"},"ts":1371957670000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes, but that has bad performance","msgtype":"m.text"},"ts":1371957694000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"abarth: not exactly ideal because of synchronous IO, but might be worth studying how people use that today","msgtype":"m.text"},"ts":1371957702000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"abarth: I added a pointer to the wiki which has further pointers","msgtype":"m.text"},"ts":1371957722000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1371957730000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"hahaha: http://www.google.com/patents/US7730419","msgtype":"m.text"},"ts":1371957827000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://www.google.com/patents/US7426699 if you can patent that kind of stuff... geez","msgtype":"m.text"},"ts":1371957852000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: do you other thoughts on the proposal?","msgtype":"m.text"},"ts":1371958219000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"abarth: I'm a bit worried that we made workers so costly and not good enough API-wise that we're instead inventing things like event pages and such (for which I imagine this is meant as well) that do not exactly lead us towards a better parallel world","msgtype":"m.text"},"ts":1371958298000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"abarth: it's kinda orthogonal in a way I suppose, but we should really start figuring something out there","msgtype":"m.text"},"ts":1371958385000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i'm not sure I understand.  i guess you're saying that you'd prefer if we found a way for workers to use less resources?","msgtype":"m.text"},"ts":1371958392000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"event pages seem somewhat unrelated to me","msgtype":"m.text"},"ts":1371958419000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"we could make shared workers have a \"wake me up when needed\" semantic","msgtype":"m.text"},"ts":1371958435000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"Well, event pages need a way to communicate with other windows... I was kinda hoping event pages for the web could just be workers, but it seems like workers are not ready yet for that :/","msgtype":"m.text"},"ts":1371958478000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"why can't event pages just use message ports, like workers?","msgtype":"m.text"},"ts":1371958513000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"i guess it depends on how they're created","msgtype":"m.text"},"ts":1371958528000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"because the worker is created by a page, the page has a JS interface that has a message port hanging off of it","msgtype":"m.text"},"ts":1371958564000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"so, it's more about the creation mechanism than about unicast versus multicast","msgtype":"m.text"},"ts":1371958583000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"fair enough, but I thought workers was our solution for things not running on the main thread","msgtype":"m.text"},"ts":1371958609000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in Chrome, we have many main threads, one per process","msgtype":"m.text"},"ts":1371958638000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1371958650000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"BroadcastChannel lets them communicate","msgtype":"m.text"},"ts":1371958668000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"iirespective of event pages","msgtype":"m.text"},"ts":1371958682000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"I understand all that. As I said, my concern is kinda orthogonal","msgtype":"m.text"},"ts":1371958705000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Something like broadcastchannel makes sense to have.","msgtype":"m.text"},"ts":1371958720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah ok","msgtype":"m.text"},"ts":1371958720000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"my understanding is that reason the extension folks chose event/background pages rather than workers","msgtype":"m.text"},"ts":1371958771000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"is because they wanted them to be able to build DOM","msgtype":"m.text"},"ts":1371958787000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"and present that DOM in UI surfaces, like balloons","msgtype":"m.text"},"ts":1371958797000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"I'm not sure how many extensions actually do that","msgtype":"m.text"},"ts":1371958815000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"in that sense, they're on the main thread","msgtype":"m.text"},"ts":1371958833000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"What I heard was 1) more APIs available 2) workers require too much resources","msgtype":"m.text"},"ts":1371958846000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"workers require fewer resources than HTML documents","msgtype":"m.text"},"ts":1371958867000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"more API -> the ability to build DOM","msgtype":"m.text"},"ts":1371958876000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"I think the way workers are implemented they're more costly than running another thing on the main thread.","msgtype":"m.text"},"ts":1371958900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Which is rather sucky :(","msgtype":"m.text"},"ts":1371958914000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in chrome or in other browsers?","msgtype":"m.text"},"ts":1371958915000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"that was true in the original implementation in chrome","msgtype":"m.text"},"ts":1371958923000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"Both Chrome and Firefox?","msgtype":"m.text"},"ts":1371958927000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh","msgtype":"m.text"},"ts":1371958929000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but we've fixed that :)","msgtype":"m.text"},"ts":1371958929000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"I think we might have regressed","msgtype":"m.text"},"ts":1371958944000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"we didn't use to be able to run multiple JS threads in the same process","msgtype":"m.text"},"ts":1371958952000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"but we can now","msgtype":"m.text"},"ts":1371958959000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"cool cool","msgtype":"m.text"},"ts":1371958971000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"dedicated workers, however, are very rarely used","msgtype":"m.text"},"ts":1371958990000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"essentially all workers are shared workers","msgtype":"m.text"},"ts":1371958999000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"at least according to usage stats","msgtype":"m.text"},"ts":1371959010000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"interesting, I think we might have just landed support for shared workers","msgtype":"m.text"},"ts":1371959024000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm I need to go, I think it's boarding time","msgtype":"m.text"},"ts":1371959067000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thanks for the chat","msgtype":"m.text"},"ts":1371959071000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"have a good flight","msgtype":"m.text"},"ts":1371959075000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"thanks for the feedback","msgtype":"m.text"},"ts":1371959081000,"senderName":"abarth","senderId":"abarth@irc"},
{"content":{"body":"Hixie: should this be marked as FINGERPRINT?:","msgtype":"m.text"},"ts":1372008581000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"+   <li><p>Let <var title=\"\">message</var> be a user-agent-defined","msgtype":"m.text"},"ts":1372008584000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"+   string describing the error in a helpful manner.</p></li>","msgtype":"m.text"},"ts":1372008584000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(maybe that should be fleshed out so we get interop on the message?)","msgtype":"m.text"},"ts":1372008655000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: Please review: http://wiki.whatwg.org/index.php?title=Contexts&oldid=9195","msgtype":"m.text"},"ts":1372011411000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"annevk: Actually, better link: http://wiki.whatwg.org/index.php?title=Contexts&diff=9195&oldid=9180","msgtype":"m.text"},"ts":1372011583000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Hixie: Can you elaborate on how javascript: URLs are used in <img> elements? http://www.whatwg.org/specs/web-apps/current-work/#javascript-protocol","msgtype":"m.text"},"ts":1372012429000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"jgraham: I suspect r/103 is just you having missed comments on a issue you raised","msgtype":"m.text"},"ts":1372014519000,"senderName":"gsnedders","senderId":"gsnedders@irc"}
]