[
{"content":{"body":"the WebGL working group actually has a chair?","msgtype":"m.text"},"ts":1413768214000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"i would expect ever khronos working group has a chair","msgtype":"m.text"},"ts":1413780619000,"senderName":"jamesr___","senderId":"jamesr___@irc"},
{"content":{"body":"jamesr___: yeah it's just that they don't have any kind of public information page for the group, so I guess nobody except that people in the group actually know who the chair is","msgtype":"m.text"},"ts":1413781744000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zewt: it's a certificate with three name entries, *.spec.whatwg.org, *.whatwg.org, and whatwg.org","msgtype":"m.text"},"ts":1413795872000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#installation-algorithm 5.5 resolves a promise, 5.7 triggers an event. Would the event trigger before I add a listener in my promise callback?","msgtype":"m.text"},"ts":1413800627000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Trying to work out how promise resolving works in spec land","msgtype":"m.text"},"ts":1413800637000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: the promise's callbacks are run during a microtask, that's guaranteed to happen before a task","msgtype":"m.text"},"ts":1413800701000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: however, encouraging that kind of flow seems counter to the point of promises","msgtype":"m.text"},"ts":1413800732000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: e.g. if I ask for a promise's value at a later stage, you sort of expect the same set of guarantees, but perhaps I'm wrong about this","msgtype":"m.text"},"ts":1413800758000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yah, it's more interop detail than usecase. Will make a ticket.","msgtype":"m.text"},"ts":1413800959000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: Domenic and I have been thinking of language that would let the event dispatch as part of the first callback of the promise","msgtype":"m.text"},"ts":1413801011000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: as if you had written promise.then(x => obj.dispatchEvent(...)) or some such","msgtype":"m.text"},"ts":1413801049000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: in the algorithm","msgtype":"m.text"},"ts":1413801055000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: interesting. Although I don't think that's what we want in this case, since it's observable from other windows","msgtype":"m.text"},"ts":1413801088000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: ah yeah, that text is wrong","msgtype":"m.text"},"ts":1413801141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: you need to list the event loops on which you want to dispatch the event","msgtype":"m.text"},"ts":1413801152000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: otherwise you queue tasks to the event loop of the service worker on objects that don't exist...","msgtype":"m.text"},"ts":1413801184000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so it would be \"for each service worker client using registration, queue a task to fire a simple event named updatefound on all ServiceWorkerRegistration objects\"?","msgtype":"m.text"},"ts":1413801437000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"(I'm looking at https://html.spec.whatwg.org/multipage/browsers.html#downloading-or-updating-an-application-cache:event-appcache-updateready as a guide","msgtype":"m.text"},"ts":1413801460000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: that's not specific enough","msgtype":"m.text"},"ts":1413801572000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: is appcache's specific enough?","msgtype":"m.text"},"ts":1413801590000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: for each ServiceWorkerRegistration object you need to figure out its corresponding event loop","msgtype":"m.text"},"ts":1413801597000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: appcache runs in the same event loop as the document","msgtype":"m.text"},"ts":1413801610000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: so unlikely","msgtype":"m.text"},"ts":1413801622000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(although at some point appcache was also made available from workers, so maybe? hmm)","msgtype":"m.text"},"ts":1413801670000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: but appcache's updateready event happens across multiple documents, so different event loops right? Or do all documents share the same event loops in spec land?","msgtype":"m.text"},"ts":1413801735000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"\"same event loop\" even","msgtype":"m.text"},"ts":1413801746000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: same-origin documents most likely do as doing anything else is likely to be observable","msgtype":"m.text"},"ts":1413801820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: even cross-origin documents often have to be same event loop","msgtype":"m.text"},"ts":1413801836000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: however, it's not a given that existing text is actually accurate or vetted unfortunately","msgtype":"m.text"},"ts":1413801855000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: since we're still figuring out much of the architecture ourselves, in order to write specs you have to understand what you're writing down","msgtype":"m.text"},"ts":1413801887000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: and be able to verify it's correct","msgtype":"m.text"},"ts":1413801898000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I haven't always done that, and typically it comes back to bite me hard)","msgtype":"m.text"},"ts":1413801919000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: it is somewhat amusing that you are using AppCache as an inspiration for the language in the specification after becoming famous for the \"appcache is a douchebag\" meme","msgtype":"m.text"},"ts":1413802333000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: :D doesn't mean the spec language is bad","msgtype":"m.text"},"ts":1413802383000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: lots of edge case we've ran into, we've dug into the spec and found \"appcache woz here\" scrawled in blood","msgtype":"m.text"},"ts":1413802431000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"eg, what to do when <object> can be a navigation or subresource depending on the response","msgtype":"m.text"},"ts":1413802452000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"also <embed>, so shitty","msgtype":"m.text"},"ts":1413802623000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeeep","msgtype":"m.text"},"ts":1413802645000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I wouldn't mind that if you use service workers they become subresource-only contexts","msgtype":"m.text"},"ts":1413802680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think we went the other way & declared them all navigations (else SVG would fail, right?)","msgtype":"m.text"},"ts":1413802894000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I would have picked dominant usage (plugins) over SVG I think","msgtype":"m.text"},"ts":1413803019000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: SVG can use <iframe> and <img>","msgtype":"m.text"},"ts":1413803050000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ohh, actually I think we bypass SW for <object> because of plugins, until we get a better idea of how to handle security there","msgtype":"m.text"},"ts":1413803122000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: we should spec that until we have a good way to protect against it. Things like cross-domain.xml are scary, since they're per-plugin.","msgtype":"m.text"},"ts":1413803180000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: and <embed> too?","msgtype":"m.text"},"ts":1413803328000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: they have request contexts so you can branch on that","msgtype":"m.text"},"ts":1413803341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yes, embed too","msgtype":"m.text"},"ts":1413803347000,"senderName":"slightlyoff_","senderId":"slightlyoff_@irc"},
{"content":{"body":"Did Mozilla sign off on this?","msgtype":"m.text"},"ts":1413803397000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"doesn't remember any discussion","msgtype":"m.emote"},"ts":1413803405000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it was an area of \"not supported\" we were going to have in Chrome, but I'm thinking we should spec it until we find a way to spec it securely","msgtype":"m.text"},"ts":1413803537000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"(not even sure how we do that without having per-plugin instructions and whitelist particular plugins)","msgtype":"m.text"},"ts":1413803571000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Well there's an open issue on object/embed too","msgtype":"m.text"},"ts":1413803575000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll jump on that now","msgtype":"m.text"},"ts":1413803592000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: Ok so, with the event dispatching thing, I'm thinking a Service Worker Client needs a reference to the client's incumbent settings object. Then, when it comes to dispatching updatefound, we can sort clients by identical responsible event loop, get the registration objects from the clients, dispatch events","msgtype":"m.text"},"ts":1413803593000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Service Worker Client -> ServiceWorkerRegistration?","msgtype":"m.text"},"ts":1413803628000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: client already has an associated registration","msgtype":"m.text"},"ts":1413803656000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#service-worker-client-concept","msgtype":"m.text"},"ts":1413803662000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Ah yeah, I still think we should include dedicated workers there too","msgtype":"m.text"},"ts":1413803718000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: how about we make service worker client match request's client and make it an extension of the environment settings object instead?","msgtype":"m.text"},"ts":1413803774000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: that way a) you have access to the event loop (stored on that object) and b) we actually get some consistency","msgtype":"m.text"},"ts":1413803801000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah that makes sense, I hadn't realised client had 'forked' between the two specs","msgtype":"m.text"},"ts":1413803907000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I don't think there's even a reason to call it \"service worker client\"","msgtype":"m.text"},"ts":1413803938000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"We can just define an extension to the \"environment settings object\"","msgtype":"m.text"},"ts":1413803951000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so what gets its own \"environment settings object\"?","msgtype":"m.text"},"ts":1413803971000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: workers, and document/window","msgtype":"m.text"},"ts":1413804000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: we've had this discussion before, but I can't remember the reasons, why can't we treat dedicated workers as a subresource?","msgtype":"m.text"},"ts":1413804090000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: CSP doesn't treat it as a subresource, from the perspective of Referer it's not a subresource","msgtype":"m.text"},"ts":1413804136000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, that settles it really. Cool.","msgtype":"m.text"},"ts":1413804162000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"although CSS isn't a subresource in terms of Referer either","msgtype":"m.text"},"ts":1413804250000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: yeah, but is for CSP","msgtype":"m.text"},"ts":1413804309000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, consistency with CSP is good","msgtype":"m.text"},"ts":1413804327000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: CSS is a bit weird I guess; I wonder how HTML Imports handle Referer","msgtype":"m.text"},"ts":1413804335000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Although I like how CSS handles Referer, it makes a lot of sense and has less leakage","msgtype":"m.text"},"ts":1413804376000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I'm sure font foundries would prefer the referrer to be the page","msgtype":"m.text"},"ts":1413804426000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"CSP can change if the pun is too weak","msgtype":"m.text"},"ts":1413804465000,"senderName":"slightlyoff","senderId":"slightlyoff@irc"},
{"content":{"body":"I think handling this at the level of JS globals makes an awful lot of sense, irrespective of CSP","msgtype":"m.text"},"ts":1413804553000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Otherwise effectively what you're saying is that a DedicatedWorker cannot initiate its own Fetch instance, it has to negotiate it through a Document/Window","msgtype":"m.text"},"ts":1413804686000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That seems odd to me","msgtype":"m.text"},"ts":1413804696000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And expensive as they're all different event loops that now have to coordinate","msgtype":"m.text"},"ts":1413804718000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That's always going to be true. Accommodating multi-process browsers demands it","msgtype":"m.text"},"ts":1413805924000,"senderName":"slightlyoff","senderId":"slightlyoff@irc"},
{"content":{"body":"We're not going to sync tics for spec convenience","msgtype":"m.text"},"ts":1413805943000,"senderName":"slightlyoff","senderId":"slightlyoff@irc"},
{"content":{"body":"(sorry)","msgtype":"m.text"},"ts":1413805966000,"senderName":"slightlyoff","senderId":"slightlyoff@irc"},
{"content":{"body":"Yes, I'm saying you're doing the opposite here","msgtype":"m.text"},"ts":1413805992000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1413806001000,"senderName":"slightlyoff","senderId":"slightlyoff@irc"},
{"content":{"body":"annevk: can I get to a windows visibility/focus state from a request client? (client -> document -> hidden/hasFocus)","msgtype":"m.text"},"ts":1413807962000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: if the environment settings object's global object is a Window object you can inspect that object's associated Document","msgtype":"m.text"},"ts":1413808017000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I guess \"A responsible document\" is null for workers?","msgtype":"m.text"},"ts":1413808073000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: (theoretically such cross-process interactions of properties would require queuing a task of sorts)","msgtype":"m.text"},"ts":1413808082000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: it's not, which is why I adviced the above","msgtype":"m.text"},"ts":1413808089000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, our ServiceWorkerClient is a snapshot and getting these snapshots is always async","msgtype":"m.text"},"ts":1413808130000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: so, what is the \"responsible document\" of an \"environment settings object\" of a worker?","msgtype":"m.text"},"ts":1413808188000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I have to go for about an hour and a half, after that I'm ready to help with this refactoring","msgtype":"m.text"},"ts":1413808195000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: it's the first document that created the worker I think; I think we should probably drop that concept and just store the desired state directly on the settings object","msgtype":"m.text"},"ts":1413808240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no worries, going through emails, but might start before you get back","msgtype":"m.text"},"ts":1413808242000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"please do start :-)","msgtype":"m.text"},"ts":1413808250000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hrm, Fx claims mixed content on html.s.w.o","msgtype":"m.text"},"ts":1413808399000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Anyone checked what that's about?","msgtype":"m.text"},"ts":1413808406000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"USVString is the new name for ScalarValueString ?","msgtype":"m.text"},"ts":1413812889000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"greetings!","msgtype":"m.text"},"ts":1413812953000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"Is there an API for determining CPU clock speed of the host from the browser?","msgtype":"m.text"},"ts":1413812985000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"No","msgtype":"m.text"},"ts":1413813139000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"And there likely won't be","msgtype":"m.text"},"ts":1413813147000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"What's the use case","msgtype":"m.text"},"ts":1413813152000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1413813153000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"developing html5 games","msgtype":"m.text"},"ts":1413813193000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"and screen size / resolution is not a great gage of what the client is capable of","msgtype":"m.text"},"ts":1413813216000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"Nor is clock speed","msgtype":"m.text"},"ts":1413813235000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"youre probably right","msgtype":"m.text"},"ts":1413813252000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"Processors can have vastly different performance at the same clock, machines can have multiple CPUs with different speeds, users can be running other tasks in the background that use up CPU time, power saving measures can affect things","msgtype":"m.text"},"ts":1413813305000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"etc.","msgtype":"m.text"},"ts":1413813309000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"its very true","msgtype":"m.text"},"ts":1413813336000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"The best solution to this is probably to adaptively adjust the settings to preserve a desired framerate, or something","msgtype":"m.text"},"ts":1413813348000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"how would you get a rough estimate of client perf?","msgtype":"m.text"},"ts":1413813351000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"I think it would help to know the current frame rate and maximum frame rate","msgtype":"m.text"},"ts":1413813354000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Which isn't too easy","msgtype":"m.text"},"ts":1413813354000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"requestAnimationFrame should provide that kind of data","msgtype":"m.text"},"ts":1413813373000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I don't think max frame rate (basically refresh rate) is exposed at the moment","msgtype":"m.text"},"ts":1413813399000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Yeah, that seems reasonable","msgtype":"m.text"},"ts":1413813417000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Working out actual framerate doesn't obviously need any platform changes","msgtype":"m.text"},"ts":1413813438000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1413813513000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"yes i should be able to get what i need from requestanimationframe and window.performance","msgtype":"m.text"},"ts":1413813558000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"thanks for the input ;)","msgtype":"m.text"},"ts":1413813568000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"OneLove: you may be interested in https://github.com/w3c/smoothness","msgtype":"m.text"},"ts":1413813617000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"(just a proposal at the moment)","msgtype":"m.text"},"ts":1413813624000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"thats a nice name for an api","msgtype":"m.text"},"ts":1413813747000,"senderName":"OneLove","senderId":"OneLove@irc"},
{"content":{"body":"smaug____: yes","msgtype":"m.text"},"ts":1413814046000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: open the console and check?","msgtype":"m.text"},"ts":1413814059000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hrm","msgtype":"m.text"},"ts":1413814147000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Now it's no longer mixed content","msgtype":"m.text"},"ts":1413814154000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"is confused","msgtype":"m.emote"},"ts":1413814158000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: perhaps one of the scripts is conditionally loading something","msgtype":"m.text"},"ts":1413814340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's pretty sad that the University of Glasgow senate feels a need to send out an email pointing out \"custom writing sites\" still constitute plagerism.","msgtype":"m.text"},"ts":1413814499000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: ServiceWorkerClient is a snapshot of state, are you happy with Client working the same?","msgtype":"m.text"},"ts":1413815071000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: there's an open issue on this","msgtype":"m.text"},"ts":1413815105000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: I feel like we should take some steps back, there's a difference between an underlying concept (request's client) and an actual object","msgtype":"m.text"},"ts":1413815174000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: 1) what SW describes as \"service worker client\" can be the same as (request's client), an environment settings object","msgtype":"m.text"},"ts":1413815207000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: you mean, as a first pass keep ServiceWorkerClient the API, but use the concept from fetch?","msgtype":"m.text"},"ts":1413815213000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1413815226000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: 2) ServiceWorkerClient as object, building on top of some environment settings object, seems reasonable, however, as I pointed out elsewhere the mismatch with workers means we should probably call this BrowsingContext or some such","msgtype":"m.text"},"ts":1413815245000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: since \"Worker\" and \"SharedWorker\" are objects representing an external environment settings object already, there's no need to introduce ServiceWorkerClient for them I think","msgtype":"m.text"},"ts":1413815282000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: now whether BrowsingContext contains snapshotted state or has a method that returns a promise that gives you its state, seems like a distinct question","msgtype":"m.text"},"ts":1413815337000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: though if we go with snapshotted state we need to define timing of course","msgtype":"m.text"},"ts":1413815351000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I thought snapshotting was agreed upon","msgtype":"m.text"},"ts":1413815478000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: there's an open issue where a Googler suggests something else","msgtype":"m.text"},"ts":1413815503000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://github.com/slightlyoff/ServiceWorker/issues/500 (reading now)","msgtype":"m.text"},"ts":1413815564000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: see also https://github.com/slightlyoff/ServiceWorker/issues/511 and https://github.com/slightlyoff/ServiceWorker/issues/512","msgtype":"m.text"},"ts":1413815946000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: +1 environments = development vs. production. You seem to have edited that out though :P","msgtype":"m.text"},"ts":1413818776000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I'M BEING SILENCED (nah, I moved it to https://github.com/slightlyoff/ServiceWorker/issues/512)","msgtype":"m.text"},"ts":1413818811000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: we could probably also reuse the term Window in SW to mean \"external Window\"","msgtype":"m.text"},"ts":1413822118000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: would have to check with Hixie if it's better as BrowsingContext or Window, not sure if they have a 1:1 relationship","msgtype":"m.text"},"ts":1413822195000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: either works for me","msgtype":"m.text"},"ts":1413822232000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: reading the HTML spec Window seems like a safer choice","msgtype":"m.text"},"ts":1413822270000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: the only bit of incompatibility I see so far is with associating clients with SW registrations. They currently sit on service worker clients. Can we add that to the env settings object? Or should that go on the document?","msgtype":"m.text"},"ts":1413822273000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: one browsing context can have a whole sequence of documents/windows due to history and such","msgtype":"m.text"},"ts":1413822294000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: SWR can come from an environment settings object, yes","msgtype":"m.text"},"ts":1413822456000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1413822466000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: you can't put it on document because then workers wouldn't have access to it","msgtype":"m.text"},"ts":1413822469000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"of course, oops","msgtype":"m.text"},"ts":1413822485000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Hmm the favicons aren't showing up in Chrome or Firefox for either Streams or DOM","msgtype":"m.text"},"ts":1413822544000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"is the problem SVG?","msgtype":"m.text"},"ts":1413822550000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yes","msgtype":"m.text"},"ts":1413822555000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":(","msgtype":"m.text"},"ts":1413822561000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://annevankesteren.nl/2011/02/browser-spitting","msgtype":"m.text"},"ts":1413822586000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"should we switch to png?","msgtype":"m.text"},"ts":1413822587000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"anticipated that question","msgtype":"m.emote"},"ts":1413822596000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1413822598000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"which spec defines template element","msgtype":"m.text"},"ts":1413824576000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/templates/index.html is missing content","msgtype":"m.text"},"ts":1413824609000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ah, html spec","msgtype":"m.text"},"ts":1413824630000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Hixie: http://noncombatant.org/2014/10/12/brainstorming-security-for-the-internet-of-things/ discusses the issue about CAs and local devices","msgtype":"m.text"},"ts":1413826257000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: looks like public-webappsec⊙wo might also look into it (there's a handful of emails)","msgtype":"m.text"},"ts":1413826279000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1413827932000,"senderName":"TALNET","senderId":"TALNET@irc"},
{"content":{"body":"New to here.","msgtype":"m.text"},"ts":1413827935000,"senderName":"TALNET","senderId":"TALNET@irc"},
{"content":{"body":"Interesting web technology and community.","msgtype":"m.text"},"ts":1413827946000,"senderName":"TALNET","senderId":"TALNET@irc"},
{"content":{"body":"...shame if anything were to HAPPEN to it","msgtype":"m.text"},"ts":1413828125000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"gives TabAtkins some fishes to swim with","msgtype":"m.emote"},"ts":1413828152000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1413828207000,"senderName":"TALNET","senderId":"TALNET@irc"},
{"content":{"body":"Just saw this for the first time and thought of you guys http://xkcd.com/927/","msgtype":"m.text"},"ts":1413835999000,"senderName":"Sample","senderId":"Sample@irc"},
{"content":{"body":"I'm sure half of you already have that printed on your wall at the moment =P","msgtype":"m.text"},"ts":1413836059000,"senderName":"Sample","senderId":"Sample@irc"},
{"content":{"body":"Printing? What's that? :)","msgtype":"m.text"},"ts":1413836089000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I should reference it from https://encoding.spec.whatwg.org/ perhaps","msgtype":"m.text"},"ts":1413836100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hadn't noticed it called out encodings specifically before","msgtype":"m.text"},"ts":1413836110000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: isn't that that thing that Opera was created for?","msgtype":"m.text"},"ts":1413836141000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"where's code search but for gecko?","msgtype":"m.text"},"ts":1413840142000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic, https://mxr.mozilla.org/mozilla-central/","msgtype":"m.text"},"ts":1413840194000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"dxr has a cool ui though","msgtype":"m.text"},"ts":1413840412000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"i was going to say, i thought there was a fancier one","msgtype":"m.text"},"ts":1413840455000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"dxr.mozilla.org?","msgtype":"m.text"},"ts":1413840499000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yepyep","msgtype":"m.text"},"ts":1413840520000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Weird stuff surfaces sometimes: http://lists.w3.org/Archives/Public/www-math/2014Oct/0006.html","msgtype":"m.text"},"ts":1413840925000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"...huh","msgtype":"m.text"},"ts":1413841072000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk: Do you alphabetize your name under V or K?","msgtype":"m.text"},"ts":1413844326000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk: van Kesteren","msgtype":"m.text"},"ts":1413844352000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"bah","msgtype":"m.text"},"ts":1413844375000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"TabAtkins: you ignore the van if you're Dutch, but it depends on referencing style whether you follow the Dutch habit or not","msgtype":"m.text"},"ts":1413844399000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"TabAtkins: so it would be \"Kesteren, A. van\"","msgtype":"m.text"},"ts":1413844459000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"kk","msgtype":"m.text"},"ts":1413844465000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(even though, yes, his surname is Van Kestern, and that \"V\" is capitalized when his forename doesn't preceed it)","msgtype":"m.text"},"ts":1413844508000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Cool, thanks.","msgtype":"m.text"},"ts":1413844623000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(Question from one of my Twitter followers about an unrelated person with a \"van Foo\" name.)","msgtype":"m.text"},"ts":1413844647000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: personally, I just want to know why the fuck I know this.","msgtype":"m.text"},"ts":1413844842000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I presume at some point I've had reason to.","msgtype":"m.text"},"ts":1413844847000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Acking annevk?","msgtype":"m.text"},"ts":1413844860000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I'm guessing something linguisticsy","msgtype":"m.text"},"ts":1413844891000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Maybe one of r12a's name rants. ^^_","msgtype":"m.text"},"ts":1413844943000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"s/^_/_^/","msgtype":"m.text"},"ts":1413844950000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"^ I'm seeing that as a cubist face showing two sides and a left ear","msgtype":"m.text"},"ts":1413845730000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"so, weird question, but, why are promises on microtasks and not tasks?","msgtype":"m.text"},"ts":1413847114000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Makes them faster.","msgtype":"m.text"},"ts":1413847132000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"how so?","msgtype":"m.text"},"ts":1413847343000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Less things capable of intervening between the promise setup and its resolution.  (\"Faster\" meaning \"time to completion of callbacks\".)","msgtype":"m.text"},"ts":1413847378000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]