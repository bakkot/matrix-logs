[
{"content":{"body":"The inability to moderate review spam on GitHub is rather annoying","msgtype":"m.text"},"ts":1605080673000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: https://github.com/whatwg/html/issues/3223","msgtype":"m.text"},"ts":1605081640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I see there'","msgtype":"m.text"},"ts":1605081767000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"I see there's a PR with missing tests, and the linked wpt PR was merged","msgtype":"m.text"},"ts":1605081784000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"I'll take a look later to see if the tests are enough","msgtype":"m.text"},"ts":1605081803000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: from https://github.com/whatwg/html/pull/3276/files I wonder if we need to invoke the percent-encoding algorithm in the URL Standard for some stuff","msgtype":"m.text"},"ts":1605081877000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: although at some point I guess we'd be getting really close to replacing the RFC completely","msgtype":"m.text"},"ts":1605081902000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which maybe we should just do, it's not a very complicated format","msgtype":"m.text"},"ts":1605081920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I was thinking this would probably need its own percent-encode set, but it's quite an odd one, what with not including \\x1B or the non-ASCII bytes","msgtype":"m.text"},"ts":1605082197000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"well, we couldn't use percent-encode after encoding anyway because the entity references wouldn't have to be percent-encoded","msgtype":"m.text"},"ts":1605082271000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"I'll think about it","msgtype":"m.text"},"ts":1605082280000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: well, that's what percent-encode after encoding does, it doesn't percent-encode when the encode or fail returns fail","msgtype":"m.text"},"ts":1605082341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or fail algorithm*","msgtype":"m.text"},"ts":1605082355000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Those other bits are indeed weird though, so maybe it needs its own thing","msgtype":"m.text"},"ts":1605082391000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm checking this example: https://streams.spec.whatwg.org/#example-rs-push-backpressure . There is a note in the code snippet","msgtype":"m.text"},"ts":1605110097000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"\"This is called if the internal queue has been emptied, but the streamâ€™s consumer still wants more data.\"","msgtype":"m.text"},"ts":1605110108000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"I don't understand why this part after the comma (,) is present. Seems like it is irrelevant.","msgtype":"m.text"},"ts":1605110132000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"What would it mean \"the stream's consumer still wants more data\" technically?","msgtype":"m.text"},"ts":1605110153000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"if the queue is empty and the consumer isn't gonna read anymore, you don't need to push more data into the queue","msgtype":"m.text"},"ts":1605110189000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"How you know that the consumer isn't gonna read anymore?","msgtype":"m.text"},"ts":1605111716000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"The pull is gonna be called as soon as the queue has been emptied below the highWaterMark, without any other condition.","msgtype":"m.text"},"ts":1605111794000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"andreubotella,","msgtype":"m.text"},"ts":1605111796000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"If the consumer doesn't call read(), then they don't want more data","msgtype":"m.text"},"ts":1605111839000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I.e. if the consumer doesn't call read(), then the queue is higher than the highWaterMark, so pull() won't be called.","msgtype":"m.text"},"ts":1605111879000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Let's assume the hwm is 100 and the queue is at 50. The pull() won't be called if reader.read() is not called?","msgtype":"m.text"},"ts":1605111957000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"If the queue is at 50, then the consumer wants more data","msgtype":"m.text"},"ts":1605112053000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It's only when the queue is above the HWM that the consumer doesn't want more data","msgtype":"m.text"},"ts":1605112074000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"The \"consumer wants more data\" is kind of ambiguous.","msgtype":"m.text"},"ts":1605112103000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"Yes, it's a comment in an example; it's not an algorithm in a spec.","msgtype":"m.text"},"ts":1605112116000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think this comment is just confusing the matter. As far as I see it now.","msgtype":"m.text"},"ts":1605112165000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"As soon as queue is bellow hwm the pull is going to be called repeatedly. This is the only thing that is relevant, I think.","msgtype":"m.text"},"ts":1605112198000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"You're probably best off ignoring it then :)","msgtype":"m.text"},"ts":1605112200000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"What does it mean that the pull() is called repeatedly.","msgtype":"m.text"},"ts":1605112274000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"Ultimately, I think you're best off reading the algorithms to answer these questions.","msgtype":"m.text"},"ts":1605112300000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://streams.spec.whatwg.org/#queuing-strategies read how queuing works","msgtype":"m.text"},"ts":1605112375000,"senderName":"benjamingr__","senderId":"benjamingr__@irc"},
{"content":{"body":"Thanks benjamingr__ I read it, I don't think it answers my question.","msgtype":"m.text"},"ts":1605112555000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"then I recommend you do what domenic suggested and go through the algorithm carefully","msgtype":"m.text"},"ts":1605112579000,"senderName":"benjamingr__","senderId":"benjamingr__@irc"},
{"content":{"body":"Thanks benjamingr__ , can you point me to which algorithm to consult for clarifying what it means \"be called repeatedly\" from https://streams.spec.whatwg.org/#dom-underlyingsource-pull","msgtype":"m.text"},"ts":1605113037000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"I think I had a somewhat wrong impression of how the hwm and pull worked","msgtype":"m.text"},"ts":1605113617000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"Why isn't in here https://streams.spec.whatwg.org/#rs-class-definition the underlyingSource of the constructor, defined as being of type UnderylingSource?","msgtype":"m.text"},"ts":1605119965000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"OK, I just ran into a Note explaining why.","msgtype":"m.text"},"ts":1605120193000,"senderName":"croraf","senderId":"croraf@irc"}
]