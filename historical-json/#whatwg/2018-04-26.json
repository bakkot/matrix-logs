[
{"content":{"body":"wanderview: good question. I don't think there is polished documentation. https://bugs.chromium.org/p/chromium/issues/detail?id=501569 was the main bug which links to a design doc.","msgtype":"m.text"},"ts":1524703476000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"falken: says the design doc is internal?","msgtype":"m.text"},"ts":1524707863000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"oh, I see it now","msgtype":"m.text"},"ts":1524707883000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"falken: does it let an extension intercept a page's network requests like a script blocker addon would want to do?","msgtype":"m.text"},"ts":1524708007000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: i'm actually still wading through the tests so I'm learning as I go, but I don't think it does. It's like if there were a page at blah://example/page with a service worker from blah://example/sw.js  and the SW intercepts requests from the page.","msgtype":"m.text"},"ts":1524708115000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"wanderview: except in this case \"blah://\" is \"chrome-extension://\"","msgtype":"m.text"},"ts":1524708133000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"falken: oh... I think our addon team is very confused then... they keep asking for this as a way for an addon to provide alternate responses to web content","msgtype":"m.text"},"ts":1524708158000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"falken: fwiw, I've been opposed to trying to do that because I don't want any kind of cross-origin capability in the service worker code... its too dangerous IMO","msgtype":"m.text"},"ts":1524708213000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: yea... i don't think they can do that. and agreed about cross-origin concern.","msgtype":"m.text"},"ts":1524708240000,"senderName":"falken","senderId":"falken@irc"},
{"content":{"body":"falken: I guess I can go suggest doing it through WebRequest extension API again","msgtype":"m.text"},"ts":1524708261000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"falken: thankjs","msgtype":"m.text"},"ts":1524708537000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: Hmm what is the original IRCCloud view? Is there a new/optional UI update?","msgtype":"m.text"},"ts":1524718326000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"annevk: https://github.com/servo/servo/pull/20693/files#diff-43ef31cdf6bd590d4201c07f57a9cd9b :(","msgtype":"m.text"},"ts":1524731008000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"You using await/async in there.","msgtype":"m.text"},"ts":1524731017000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: it already used that, I just made it apply to more globals","msgtype":"m.text"},"ts":1524731151000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: but also, async/await is great; Servo should really update","msgtype":"m.text"},"ts":1524731163000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Really? It used to not fail to parse.","msgtype":"m.text"},"ts":1524731165000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: https://github.com/w3c/web-platform-tests/commit/5adab93dc7ec658c1f3ced37c9934d3fe90f6251 is all I changed","msgtype":"m.text"},"ts":1524731180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Disregard me then.","msgtype":"m.text"},"ts":1524731202000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: seems you're concerned with something that happened a month ago: https://github.com/w3c/web-platform-tests/commit/b202bbb5aa0d235b22bac11fe902eab1094ef9d2","msgtype":"m.text"},"ts":1524731231000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: https://github.com/whatwg/fetch/issues/717","msgtype":"m.text"},"ts":1524740144000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: https://github.com/whatwg/fetch/pull/702","msgtype":"m.text"},"ts":1524740159000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ta. Don't suppose you could nudge the script so the diff is updated with linked terms?","msgtype":"m.text"},"ts":1524740238000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: can do","msgtype":"m.text"},"ts":1524740311000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: should be done within a minute or so","msgtype":"m.text"},"ts":1524740375000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ta! It's updated already","msgtype":"m.text"},"ts":1524740466000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: one more look at https://github.com/whatwg/fetch/pull/702?","msgtype":"m.text"},"ts":1524747113000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: I think I got the indenting right, but still","msgtype":"m.text"},"ts":1524747120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Done","msgtype":"m.text"},"ts":1524748813000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"wanderview: last sentence of https://github.com/whatwg/fetch/issues/717#issuecomment-384653109 ; do you mean \"would not\"?","msgtype":"m.text"},"ts":1524753441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yea, I'll fix... thanks","msgtype":"m.text"},"ts":1524753463000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: so the main use case is to avoid having to rewrite your CSP?","msgtype":"m.text"},"ts":1524753577000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no...","msgtype":"m.text"},"ts":1524753588000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"annevk: the use case is restricting what the service worker can do","msgtype":"m.text"},"ts":1524753597000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"But it doesn't really restrict it with this, right?","msgtype":"m.text"},"ts":1524753609000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sure it does... connect-src: * is *a lot* more permissive in that you can stick any URL in there with zero effort... requiring someone to XSS the main page through an image element is harder","msgtype":"m.text"},"ts":1524753646000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: well, the service worker is often in charge of the main page, so...","msgtype":"m.text"},"ts":1524753683000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(and also in charge of its CSP policy, iirc)","msgtype":"m.text"},"ts":1524753720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so CSP is pretty pointless on service worker sites?","msgtype":"m.text"},"ts":1524753779000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"if you want to do anything like the common use case you have to open it up pretty wide","msgtype":"m.text"},"ts":1524753801000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Yeah, it is somewhat, but not entirely","msgtype":"m.text"},"ts":1524753891000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The CSP folks didn't really care much about this when I raised it","msgtype":"m.text"},"ts":1524753909000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Maybe once it becomes an actual problem they'll get back to me...","msgtype":"m.text"},"ts":1524753918000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Mike West is hard to find these days","msgtype":"m.text"},"ts":1524753951000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: do the content type sniffing things make this any better? to block sending non-image data back for an image destination request?","msgtype":"m.text"},"ts":1524753957000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I'm not entirely sure what you're talking about, but I suspect not","msgtype":"m.text"},"ts":1524754042000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think for CORB and things we were doing more validation that responses were actually the correct type","msgtype":"m.text"},"ts":1524754064000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"or there was a desire to","msgtype":"m.text"},"ts":1524754073000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"^I think^I thought","msgtype":"m.text"},"ts":1524754086000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: CORB could not be read anyway, unless you count Spectre, then maybe","msgtype":"m.text"},"ts":1524754946000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Kinda dislike the name therefore","msgtype":"m.text"},"ts":1524755120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it always makes me think of CORBA","msgtype":"m.text"},"ts":1524755975000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"\"The Common Object Request Broker Architecture (CORBA) is a standard defined by the Object Management Group (OMG)...\"","msgtype":"m.text"},"ts":1524762125000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wow","msgtype":"m.text"},"ts":1524762128000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes, its quite exciting","msgtype":"m.text"},"ts":1524762666000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"annevk: I used it a lot in my past life in the early 2000's","msgtype":"m.text"},"ts":1524762679000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"falken: then chrome-extension:// service worker thing sounds a bit like foreign fetch... is that correct?","msgtype":"m.text"},"ts":1524765882000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"it seems the addon team here also wants this for moz-extension://","msgtype":"m.text"},"ts":1524765895000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"TabAtkins: is there a tool for bikeshed where I can feed it a spec#anchor url and have it spit out how you'd reference that in bikeshed source?","msgtype":"m.text"},"ts":1524768204000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"TabAtkins: ideally with what i need to put in link-defaults, if anything","msgtype":"m.text"},"ts":1524768222000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"hober: Not yet, but I could probably produce something...","msgtype":"m.text"},"ts":1524768653000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"If I actually tell you what's needed for a link, you wouldn't ever need link-defaults; that just lets you write shorter things.","msgtype":"m.text"},"ts":1524768725000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"the thing I always want when linking to a spec is being able to reference a specific step","msgtype":"m.text"},"ts":1524769535000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"yo","msgtype":"m.text"},"ts":1524772384000,"senderName":"md1","senderId":"md1@irc"},
{"content":{"body":"is this where websockets was born","msgtype":"m.text"},"ts":1524772389000,"senderName":"md1","senderId":"md1@irc"},
{"content":{"body":"wanderview: Yeah, making that work automatically is on my roadmap.","msgtype":"m.text"},"ts":1524772735000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: that would be awesome","msgtype":"m.text"},"ts":1524772750000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"basically i want to paste/input something like html#attr-meta-http-equiv-refresh (or the full url) and have it spit out [=something=] or <{something}> or whatever","msgtype":"m.text"},"ts":1524772979000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"hi","msgtype":"m.text"},"ts":1524773240000,"senderName":"md1","senderId":"md1@irc"},
{"content":{"body":"yo tantek","msgtype":"m.text"},"ts":1524773856000,"senderName":"md1","senderId":"md1@irc"},
{"content":{"body":"wat u doin","msgtype":"m.text"},"ts":1524773865000,"senderName":"md1","senderId":"md1@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1524773952000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"Sigh, randos.","msgtype":"m.text"},"ts":1524774217000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: do section links work for rfcs?","msgtype":"m.text"},"ts":1524774620000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"cross-spec ones","msgtype":"m.text"},"ts":1524774627000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"Section links \"work\" for everything, but if they're not a spec that Shepherd's watching, I can't verify the anchor is right or sub in the actual section heading. Instead you get the hash displayed.","msgtype":"m.text"},"ts":1524774688000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I should do something about that, but it depends on me finally having per-spec persistent data.","msgtype":"m.text"},"ts":1524774723000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"right. is there a <pre class='foo'> block i can put in my file with section to pretty section name mappings?","msgtype":"m.text"},"ts":1524774811000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"Not yet, but that's particularly easy to add. I can put that together this afternoon for you, if you want.","msgtype":"m.text"},"ts":1524774832000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Also, your previous request is lucky bug #1234 https://github.com/tabatkins/bikeshed/issues/1234","msgtype":"m.text"},"ts":1524774851000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"oh, it's super not urgent. but it'd be nice.","msgtype":"m.text"},"ts":1524774860000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"k, well https://github.com/tabatkins/bikeshed/issues/1235 for ya","msgtype":"m.text"},"ts":1524775353000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"thanks :)","msgtype":"m.text"},"ts":1524775630000,"senderName":"hober","senderId":"hober@irc"}
]