[
{"content":{"body":"musgravejw: the contents of the cell that are really steps, but are written as an algorithm","msgtype":"m.text"},"ts":1556064952000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tobie: üéâ","msgtype":"m.text"},"ts":1556064977000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: gotcha.","msgtype":"m.text"},"ts":1556065175000,"senderName":"musgravejw","senderId":"musgravejw@irc"},
{"content":{"body":"annevk: FYI - it was decided yesterday (on the webperfwg call) to align TAO with CORS and avoid exposing entries on tainted redirection chains without explicit opt-in from all following hosts, including same-origin","msgtype":"m.text"},"ts":1556088991000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: üéâ","msgtype":"m.text"},"ts":1556095877000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: related, there are questions around what TAO should do in the context of navigation timing. I'd appreciate your opinion on https://github.com/w3c/navigation-timing/issues/104#issuecomment-485765088","msgtype":"m.text"},"ts":1556096017000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"that is slightly different from CORS AFAIU, as CORS doesn't allow exposing information about a) the previous document b) redirect responses","msgtype":"m.text"},"ts":1556096076000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: yeah exposing redirect count seems like a SOP violation","msgtype":"m.text"},"ts":1556096322000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: is this new?","msgtype":"m.text"},"ts":1556096332000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not at all","msgtype":"m.text"},"ts":1556096337000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":":/","msgtype":"m.text"},"ts":1556096344000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Weird","msgtype":"m.text"},"ts":1556096348000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"just trying to define what's currently out there, and realized the current/previous TAO definitions don't make much sense","msgtype":"m.text"},"ts":1556096392000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"and not sure what implementations are currently doing, as I don't think this is covered by tests :(","msgtype":"m.text"},"ts":1556096469000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Yeah, I guess you do the checks relative to the origin of the final document so you need to preserve some amount of data while navigating?","msgtype":"m.text"},"ts":1556096478000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"As you do not know what the final document might be","msgtype":"m.text"},"ts":1556096514000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, need to preserve the previous document's TAO headers (as well as those of the redirect chain)","msgtype":"m.text"},"ts":1556096522000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I don‚Äôt immediately see many exploit angles since controlling the navigated to doc is required","msgtype":"m.text"},"ts":1556096702000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But this is very different from CORS and the normal setup","msgtype":"m.text"},"ts":1556096754000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1556097028000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: not sure what bz‚Äôs concerns are though, perhaps a redirect to a data URL or the initial doc being a data URL","msgtype":"m.text"},"ts":1556097386000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I understand bz's original concerns as related to the fact that the current TAO definition takes in a resource, and nav timing is providing it with a document","msgtype":"m.text"},"ts":1556097720000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"For those edge cases, I'm fine with saying TAO doesn't pass and that's it","msgtype":"m.text"},"ts":1556097773000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: I left a comment with a strategy I'd try out to solve this, hopefully bz will say something if he disagrees","msgtype":"m.text"},"ts":1556098093000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"üëç","msgtype":"m.text"},"ts":1556098115000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: it kinda makes me wonder if the TAO header is the header we're looking for to expose more about redirects","msgtype":"m.text"},"ts":1556098116000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's potentially already exposed. I need to write some tests to see how it currently works, which will give us a better idea of compat impact if we want to change","msgtype":"m.text"},"ts":1556098203000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"MikeSmith: I take it that the validator/validator GitHub ssh key additions for TravisCI and CircleCI are legitimate?","msgtype":"m.text"},"ts":1556099688000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"The 1024-byte <meta> scanning limit was based on WebKit behavior. Has WebKit changed its limit since? What mechanism makes http://www.thsrc.com.tw/index.html decode as UTF-8 in Safari?","msgtype":"m.text"},"ts":1556101547000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(The charset meta is not within the first 1024 bytes)","msgtype":"m.text"},"ts":1556101561000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oh, if it figures that </head> hasn't ended yet, it can parse past 1024 bytes","msgtype":"m.text"},"ts":1556101801000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"does this predate the spec or did WebKit just make stuff up here?","msgtype":"m.text"},"ts":1556101825000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: the spec allows reloading past 1024 bytes, no?","msgtype":"m.text"},"ts":1556104112000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes, but this isn't a reload","msgtype":"m.text"},"ts":1556104126000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(not a reload in Safari, that is. It is a reload in Firefox)","msgtype":"m.text"},"ts":1556104163000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: and impls are not allowed to optimize those away?","msgtype":"m.text"},"ts":1556104167000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(note that I don't think any of this is great)","msgtype":"m.text"},"ts":1556104185000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"possibly they are, but it's not like WebKit is optimizing all <meta> reloads away","msgtype":"m.text"},"ts":1556104200000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: it seems HTML also allows scanning more than 1024 bytes, it's not an enforced limit by any means","msgtype":"m.text"},"ts":1556104313000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"From what I recall it was always mostly a hope we could tighten that up, not something we had codified and reached impl agreement on","msgtype":"m.text"},"ts":1556104357000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok","msgtype":"m.text"},"ts":1556104378000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: yes those ssh keys are legitimate","msgtype":"m.text"},"ts":1556105266000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: ok","msgtype":"m.text"},"ts":1556105433000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"context is that somebody raised an issue asking for Java9+ runtime images of the checker","msgtype":"m.text"},"ts":1556105490000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so, battling with TravisCI esoterica to automate building of those and to make them available once built","msgtype":"m.text"},"ts":1556105553000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the images are ~48MB, compressed","msgtype":"m.text"},"ts":1556105804000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: FWIW, it appears that our Cyrillic detector is a C++ port of https://www.neystadt.org/cyrillic/","msgtype":"m.text"},"ts":1556108413000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: https://github.com/whatwg/fetch/pull/853  not sure what needs to be done to progress this again. There were questions of what Gecko does","msgtype":"m.text"},"ts":1556113486000,"senderName":"dtapuska","senderId":"dtapuska@irc"},
{"content":{"body":"dtapuska: if those questions need answers it'd be best to ask mayhemer","msgtype":"m.text"},"ts":1556113926000,"senderName":"annevk","senderId":"annevk@irc"}
]