[
{"content":{"body":"(can't tell if joking)","msgtype":"m.text"},"ts":1362355492000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(Depends if he meant IE8 was being a boat anchor, or XHTML was being a boat anchor)","msgtype":"m.text"},"ts":1362355589000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I suggest throwing them both off a boat and seeing which sinks fastest)","msgtype":"m.text"},"ts":1362355609000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(can't tell if joking about lack of XHTML actually being a problem that needed to be solved)","msgtype":"m.text"},"ts":1362356974000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"IE8 being a boat anchor. It for example also do not support much of DOM level 2, which is why jQuery 2.0 won't support it.","msgtype":"m.text"},"ts":1362360938000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"on the same day WaSP declares \"our work here is done\", we have a Chrome ad from Disney saying \"a Web experience built for Chrome\"","msgtype":"m.text"},"ts":1362378634000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc: Wasp has been fairly inactive for a while","msgtype":"m.text"},"ts":1362378789000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"Declaring a boom does not deny the fact that you went out with a whimper.","msgtype":"m.text"},"ts":1362378809000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"annevk: is there value other than encoding table and test case savings in dropping single-byte encodings whose lower half is ASCII and upper half has no overlap with ASCII?","msgtype":"m.text"},"ts":1362393533000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: very limited value","msgtype":"m.text"},"ts":1362393598000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm. Warner now allows HD movies in iTunes on Mac.","msgtype":"m.text"},"ts":1362393658000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: we can add ibm850 back I suppose","msgtype":"m.text"},"ts":1362393668000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: what other single-byte encodings did we drop? random Mac stuff?","msgtype":"m.text"},"ts":1362393730000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://www.voddler.com/en/movie/info/2798385737197326461/skyfall/","msgtype":"m.text"},"ts":1362393744000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I haven't kept track","msgtype":"m.text"},"ts":1362393753000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Voddler advertises Skyfall available for HTML5 streaming","msgtype":"m.text"},"ts":1362393757000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: or was not cc'd, either way","msgtype":"m.text"},"ts":1362393764000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder what HTML5 streaming means","msgtype":"m.text"},"ts":1362393779000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"can't be EME at this point in time","msgtype":"m.text"},"ts":1362393787000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I called what I did HTML5 streaming, that was Ogg Theora + Vorbis. :-)","msgtype":"m.text"},"ts":1362393804000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"their payment service is down, so I couldn't pay 3.70 euros to check","msgtype":"m.text"},"ts":1362393817000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: does IE support IBM850? (I'm guessing yes, but didn't launch a VM to check)","msgtype":"m.text"},"ts":1362393897000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"That's like 3/4rds the cost of it in Norway. :(","msgtype":"m.text"},"ts":1362393907000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hsivonen: http://wiki.whatwg.org/wiki/Web_Encodings suggests it does","msgtype":"m.text"},"ts":1362394005000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: I'm not really sure what the right approach here is. Should we add an encoding per report we get?","msgtype":"m.text"},"ts":1362394300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: given one report it's prolly likely other pages are affected and definitely other users.","msgtype":"m.text"},"ts":1362394325000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: then the next question is what set of labels we add. The same as IE or what we had before?","msgtype":"m.text"},"ts":1362394368000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does not like encodings","msgtype":"m.emote"},"ts":1362394379000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You chose to work on it!","msgtype":"m.text"},"ts":1362394441000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: yes, to make it a solved problem","msgtype":"m.text"},"ts":1362394456000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: you don't like encodings but you have two huge books on that subject on your desk... ;)","msgtype":"m.text"},"ts":1362394633000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"Yeah, they'll be moving to the public bookshelf soon. I haven't opened them in a while now...","msgtype":"m.text"},"ts":1362394870000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Although I guess I should ask MikeSmith about the CJKV one as technically it's from Keio...","msgtype":"m.text"},"ts":1362394900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: the stuff we only supported with uninteroperable labels might not be worth putting back","msgtype":"m.text"},"ts":1362395228000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: single-byte encodings that IE supports with sane labels *might* be worth putting back","msgtype":"m.text"},"ts":1362395264000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm really quite surprised that someone uses the old DOS Western European encoding on the Web","msgtype":"m.text"},"ts":1362395349000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: on a site with login, no less","msgtype":"m.text"},"ts":1362395361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: with a copyright statement amended for 2012","msgtype":"m.text"},"ts":1362395376000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not","msgtype":"m.text"},"ts":1362395382000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"good for you","msgtype":"m.text"},"ts":1362395396000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"plenty of people have really old legacy systems, and those tend to spill over","msgtype":"m.text"},"ts":1362395402000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"\"we have this really old machine that handles our inventory, we've managed to put an FTP server in front of its daily exports, can you take that and put it on the web\" is a relatively common request","msgtype":"m.text"},"ts":1362395458000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"what happens with the encodings there then really depends on the developer... which means you see horrors","msgtype":"m.text"},"ts":1362395515000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"still remembers \"it does strange things when our Chinese customers add new entries imported into our system\" bug reports","msgtype":"m.emote"},"ts":1362395570000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: that CJKV book didn't belong to Keio, I don't think. It think it belonged personally to Felix Sasaki, and he gave it to me when he left W3C and moved back to Germany. So feel free to do whatever you want with it.","msgtype":"m.text"},"ts":1362395682000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: my idea was to put it in Mozilla's community area","msgtype":"m.text"},"ts":1362395710000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Not to set fire to it?","msgtype":"m.text"},"ts":1362395731000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"MikeSmith: we have a public bookshelf there, but since there's no security someone might take it (but then hopefully they'll read it)","msgtype":"m.text"},"ts":1362395735000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Using the medieval adage \"a problem enflamed is a problem solved\"?","msgtype":"m.text"},"ts":1362395755000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"darobin: apparently wind energy is so old that it's old enough to have a DOS-era legacy system","msgtype":"m.text"},"ts":1362395792000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: there's electronic copies :-(","msgtype":"m.text"},"ts":1362395807000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah if you're not needing it yourself any more, seems like it'd be good to put it out there for others to if. If somebody's so keen on it to take it home, that wouldn't be a tragedy","msgtype":"m.text"},"ts":1362396006000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: another person entangled in legacy encodings not a tragedy?","msgtype":"m.text"},"ts":1362396040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1362396060000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I just had to throw away at least 50 books at Keio becausethe office is going to be remodeled and we don't have room for them. I wish somebody had cared enough about any of them to already have walked off with them.","msgtype":"m.text"},"ts":1362396131000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"some of them were pretty old, though. Like, a guide to the Korn shell.","msgtype":"m.text"},"ts":1362396167000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"next time mail them to this office, seems we have some space left","msgtype":"m.text"},"ts":1362396229000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what's the negation of the first two bullet points under 1. in http://www.w3.org/TR/2013/CR-cors-20130129/#cross-origin-request-with-preflight-0","msgtype":"m.text"},"ts":1362398351000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"boolean logic :(","msgtype":"m.text"},"ts":1362398362000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"NOT(true OR true) == false AND false","msgtype":"m.text"},"ts":1362398514000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Can't really tell where the brackets are in those sentences anyway","msgtype":"m.text"},"ts":1362398523000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"but this is NOT(true OR true AND true) so false AND false OR false","msgtype":"m.text"},"ts":1362398552000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: More brackets, please","msgtype":"m.text"},"ts":1362398586000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: why not?","msgtype":"m.text"},"ts":1362398588000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Is it X OR (Y AND Z) or (X OR Y) AND Z","msgtype":"m.text"},"ts":1362398622000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"AND has precedence no?","msgtype":"m.text"},"ts":1362398635000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Not if you want to be clear :)","msgtype":"m.text"},"ts":1362398661000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I'm open to rewriting this even more though","msgtype":"m.text"},"ts":1362398667000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wonders how","msgtype":"m.emote"},"ts":1362398677000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"In English? It's unclear. In other cases there might be rules","msgtype":"m.text"},"ts":1362398682000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"If ...","msgtype":"m.text"},"ts":1362398697000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"* there's no method cache match","msgtype":"m.text"},"ts":1362398704000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"* it's no simple method or the force preflight flag is set","msgtype":"m.text"},"ts":1362398720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"!(X OR (Y AND Z)) = !X & !(Y AND Z) = !X & (!Y OR !Z)","msgtype":"m.text"},"ts":1362398745000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which is what you said","msgtype":"m.text"},"ts":1362398765000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"* for every header in request headers there is no cache match and the field name is not a simple header","msgtype":"m.text"},"ts":1362398781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Then ... preflight time","msgtype":"m.text"},"ts":1362398787000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: does what I just wrote work?","msgtype":"m.text"},"ts":1362398804000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(but it's wrong :-(, it only has to fail for one header)","msgtype":"m.text"},"ts":1362398836000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll go with no then :)","msgtype":"m.text"},"ts":1362398861000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"There's at least one header in request headers for which there is no cache match and which is not a simple header","msgtype":"m.text"},"ts":1362398861000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But the style is better","msgtype":"m.text"},"ts":1362398866000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: try again","msgtype":"m.text"},"ts":1362398868000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(lunch)","msgtype":"m.text"},"ts":1362398877000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so lame","msgtype":"m.text"},"ts":1362398882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and late for Sweden","msgtype":"m.text"},"ts":1362398887000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's jgraham.","msgtype":"m.text"},"ts":1362398937000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"It's early for him.","msgtype":"m.text"},"ts":1362398940000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Great success: http://www.iwanttouse.com/#apng,download","msgtype":"m.text"},"ts":1362399331000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Using no specific features","msgtype":"m.text"},"ts":1362401746000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"reaches 95.43% of web users","msgtype":"m.text"},"ts":1362401748000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"wonders what the other 4.57% are doing","msgtype":"m.emote"},"ts":1362401766000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Amaya","msgtype":"m.text"},"ts":1362401819000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"darobin is almost 5% of web traffic?","msgtype":"m.text"},"ts":1362401846000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: did you figure out what that meant?","msgtype":"m.text"},"ts":1362402741000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"some \"other\" browser unspecific matter?","msgtype":"m.text"},"ts":1362402762000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I suspect it means that 4.57% of users are using browsers that aren't covered by caniuse.com data","msgtype":"m.text"},"ts":1362402792000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Although that seems *very* high","msgtype":"m.text"},"ts":1362402802000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"maybe their UA data includes bots","msgtype":"m.text"},"ts":1362403814000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"(by mistake)","msgtype":"m.text"},"ts":1362403818000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Seems to be from statcounter","msgtype":"m.text"},"ts":1362403829000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Can't really tell how one would get anything useful out of that","msgtype":"m.text"},"ts":1362403839000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: oh it says that now? I had it at 0","msgtype":"m.text"},"ts":1362404198000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Is that not ~% of \"other\" on statcounter?","msgtype":"m.text"},"ts":1362404240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://caniuse.com/usage_table.php","msgtype":"m.text"},"ts":1362404260000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Still doesn't add up to 100%","msgtype":"m.text"},"ts":1362404307000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: did you count \"Browsers not included on site\" ?","msgtype":"m.text"},"ts":1362405017000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"Yes","msgtype":"m.text"},"ts":1362405107000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I get 99.925, could be rounding errors","msgtype":"m.text"},"ts":1362405131000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"0.865 + 3.38 + 95.68 = 99.925","msgtype":"m.text"},"ts":1362405131000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Could be if the top number is only accurate to +- 0.005, I suppose","msgtype":"m.text"},"ts":1362405199000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"or if each of these three values is a sum of rounded values, errors accumulate","msgtype":"m.text"},"ts":1362405250000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"Yay floats!","msgtype":"m.text"},"ts":1362405278000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Not floats at all","msgtype":"m.text"},"ts":1362405429000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Just propogation of errors","msgtype":"m.text"},"ts":1362405440000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"There are 65 values that are +/- 0.0005 and 12 values that are apparently +/- 0.05","msgtype":"m.text"},"ts":1362405478000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"er 0.005","msgtype":"m.text"},"ts":1362405485000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(and iirc you can just add in quadrature)","msgtype":"m.text"},"ts":1362405603000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Which task source does WebSocket use? The protocol that is?","msgtype":"m.text"},"ts":1362406199000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"The task source for all tasks queued in this section is the WebSocket task source.\"","msgtype":"m.text"},"ts":1362406348000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1362406559000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So is the networking task source the exclusive domain of \"fetch\"?","msgtype":"m.text"},"ts":1362406575000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Sounds like we should have named it the fetch task source...","msgtype":"m.text"},"ts":1362406587000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does it even do anything, except to say \"you don't have to guarantee task ordering with anything else\"?","msgtype":"m.text"},"ts":1362406634000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I think that's the main purpose. Which may mean XMLHttpRequest has a bug as it does not use the networking task source but should probably piggyback on that somehow...","msgtype":"m.text"},"ts":1362406705000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"My main problem at the moment is that I don't really have a good interface for return this asynchronously... HTML has this text about queuing tasks, but that does not work for a number of cases...","msgtype":"m.text"},"ts":1362407086000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder if Google has done browser stats internally across all sites that use Google Analytics","msgtype":"m.text"},"ts":1362407088000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Namely: upload progress events, preflight request done. Maybe something else?","msgtype":"m.text"},"ts":1362407115000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Did we decide on when upload progress events are done? Is it when you get an ACK from the server?","msgtype":"m.text"},"ts":1362407153000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Is that even how TCP/IP works?","msgtype":"m.text"},"ts":1362407168000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: are you basically looking for a way to write callbacks in a spec?","msgtype":"m.text"},"ts":1362407181000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"annevk: It's a violation of layering, but yes, it's the only way to do it.","msgtype":"m.text"},"ts":1362407202000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zewt: kind of","msgtype":"m.text"},"ts":1362407212000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: no, there are different approaches","msgtype":"m.text"},"ts":1362407217000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1362407222000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: except that if some flag is set there are no callbacks and it becomes a return value","msgtype":"m.text"},"ts":1362407228000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i guess that's basically what it amounts to either way i'm thinking of","msgtype":"m.text"},"ts":1362407233000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"typically i look at the available buffer space on the socket, and figure out when it's emptied past what I want (but that's basically going to follow ACKs too)","msgtype":"m.text"},"ts":1362407267000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"gsnedders: we can also wait for a full HTTP response which may be what Gecko is doing","msgtype":"m.text"},"ts":1362407267000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gsnedders: and depending on the status code dispatch either load or error or some such","msgtype":"m.text"},"ts":1362407281000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that sounds like it breaks the point of upload progress events entirely","msgtype":"m.text"},"ts":1362407286000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"i mean, if you wait for the response, you're not firing upload progress *during the upload* at all, and that's the whole point ... right?","msgtype":"m.text"},"ts":1362407313000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"annevk: I think we shouldn't define it. Not really that nice to depend on things the TCP layer in the OS does…","msgtype":"m.text"},"ts":1362407325000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zewt: mainly worrying about the final set of events","msgtype":"m.text"},"ts":1362407342000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: It would be astonishing if they didn't","msgtype":"m.text"},"ts":1362407368000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: Like, I think when you dispatch them during upload cannot be practically defined in such a way it can be implemented on all OSes.","msgtype":"m.text"},"ts":1362407370000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: we tried that, didn't work","msgtype":"m.text"},"ts":1362407372000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i don't think it makes sense to wait any longer than the 200 OK, and maybe not even that long","msgtype":"m.text"},"ts":1362407381000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: in practice there's not going to be much difference between that and the full set of headers as I understand it, but sure","msgtype":"m.text"},"ts":1362407417000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(if the server has a long delay while it figures out the answer to your upload, seems like upload should still be considered finished right away)","msgtype":"m.text"},"ts":1362407425000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"None of this is really helping me unfortunately :-(","msgtype":"m.text"},"ts":1362407436000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Right, I think we have to have a minimum set of number to send (like at completion), but can send more?","msgtype":"m.text"},"ts":1362407441000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Or annevk, that not work?","msgtype":"m.text"},"ts":1362407447000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"but \"wait for a full HTTP response\" sounds very wrong (then you're waiting for the response body, too)","msgtype":"m.text"},"ts":1362407466000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: oh sorry, not for the body, just long enough to see if you're gonna redirect","msgtype":"m.text"},"ts":1362407489000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: lacking more specific questions I can only throw darts :P","msgtype":"m.text"},"ts":1362407494000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Maybe I should put my sketch up somewhere","msgtype":"m.text"},"ts":1362407524000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://html5.org/temp/fetch.html","msgtype":"m.text"},"ts":1362407574000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"also it might help to know what the \"becomes a return value\" case is about (sounds like sync/async, but my first impression would be to do both with callbacks)","msgtype":"m.text"},"ts":1362407591000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"It hasn't run through Anolis yet so it's quite ugly","msgtype":"m.text"},"ts":1362407595000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Basically \"fetch\" is the entry point, which might invoke some other algorithms asynchronously (or synchronously if the synchronous flag is set)","msgtype":"m.text"},"ts":1362407638000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i mean, if you want a synchronous caller to fetch to be able to get the same info about what's happening (callbacks) as an async one","msgtype":"m.text"},"ts":1362407640000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I guess I can keep the model where the other algorithms simply return the response to \"fetch\" which returns it in the end. And they also all queue tasks on the networking task source...","msgtype":"m.text"},"ts":1362407719000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"The latter model would be used by asynchronous invokers, the other model by synchronous...","msgtype":"m.text"},"ts":1362407745000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so, \"notify caller that preflight succeeded...\" is a callbacky case","msgtype":"m.text"},"ts":1362407855000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"It still leaves some questions. E.g. how to queue tasks if we don't know yet it'll be a redirect.","msgtype":"m.text"},"ts":1362407876000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"could that be simply \"invoke *preflight succeeded callback*, if set\", make that an optional parameter to set, then let the caller sort out what to do with it (eg. queueing a task if it's async)","msgtype":"m.text"},"ts":1362407957000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"er, optional parameter to fetch (propagated down to this algorithm)","msgtype":"m.text"},"ts":1362407977000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Actually, if we do this right we don't need that callback I think.","msgtype":"m.text"},"ts":1362408113000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"then since it's the caller queueing any tasks, fetch doesn't have to care (eg. if websocket or XHR use a different task source)","msgtype":"m.text"},"ts":1362408118000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"are you thinking of having progress events be fired by fetch?","msgtype":"m.text"},"ts":1362408155000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"XHR checks for \"preflight complete\" but \"fetch\" can handle that logic perfectly as it knows what is a preflight and what is not","msgtype":"m.text"},"ts":1362408158000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(iirc they're not very uniform across apis...)","msgtype":"m.text"},"ts":1362408164000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: not the actual firing, but queueing tasks that make them possible","msgtype":"m.text"},"ts":1362408192000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's what this callback is, right?","msgtype":"m.text"},"ts":1362408215000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(i don't care particularly about this callback, it's just the first callback i saw)","msgtype":"m.text"},"ts":1362408237000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"This callback is kinda pointless. It just indicates that the upload events start when the body is being transmitted, which will always be after the preflight anyway...","msgtype":"m.text"},"ts":1362408262000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So I think I could remove that from XHR entirely and it would in effect say the same thing...","msgtype":"m.text"},"ts":1362408291000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"afk a bit","msgtype":"m.text"},"ts":1362408353000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"HTML has these callbacks for fetch today: tasks queued while receiving the entity body for incremental display of images. The final task at the end of fetch.","msgtype":"m.text"},"ts":1362408358000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"For XHR I need upload. I also want to clarify somehow that networking tasks should start when we know it's not a redirect. So basically when the entity body is being transferred...","msgtype":"m.text"},"ts":1362408484000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But maybe we need more granularity for certain APIs...","msgtype":"m.text"},"ts":1362408527000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I need Hixie","msgtype":"m.text"},"ts":1362408609000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"marcosc: you're missing \"HTTP\" in hosted app","msgtype":"m.text"},"ts":1362410497000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: true","msgtype":"m.text"},"ts":1362410513000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"Added, thanks!","msgtype":"m.text"},"ts":1362410523000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"marcosc: though calilng a packaged app \"web\" seems like a stretch","msgtype":"m.text"},"ts":1362410524000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1362410533000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"also true","msgtype":"m.text"},"ts":1362410536000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"changed it to packaged app","msgtype":"m.text"},"ts":1362410549000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"hosted web app is ok","msgtype":"m.text"},"ts":1362410572000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"it still runs off http","msgtype":"m.text"},"ts":1362410578000,"senderName":"marcosc","senderId":"marcosc@irc"},
{"content":{"body":"Hixie: do you mind sharing the preprocessor for the stuff that's showing up under http://www.w3.org/html/wg/drafts/html/master/tabular-data.html#parsing-the-sort-key step 5.2?","msgtype":"m.text"},"ts":1362411606000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Heh, neat","msgtype":"m.text"},"ts":1362411731000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yeah, it's pretty neat","msgtype":"m.text"},"ts":1362411756000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"And if it breaks you, all the better ;)","msgtype":"m.text"},"ts":1362411777000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"my sweet, sweet and belovèd Ms2ger. :-*","msgtype":"m.text"},"ts":1362411822000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"gaaah","msgtype":"m.text"},"ts":1362411890000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"i click the order search box on amazon, start typing, and I end up with my search text randomly inserted in the middle of \"Title, Department, Recipient\"","msgtype":"m.text"},"ts":1362411916000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"dear amazon: use @placeholder, you idiots","msgtype":"m.text"},"ts":1362411928000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"I get the impression that adding more powerful form stuff has only encouraged developers to be more stupid in how they handle forms","msgtype":"m.text"},"ts":1362412035000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"seems like a few people use @placeholder, and everyone else goes \"good idea!! i can do that in javascript!\"","msgtype":"m.text"},"ts":1362412100000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1362412379000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"the Twitter search form helpfully voids itself on load","msgtype":"m.text"},"ts":1362412392000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"it's always great when you type faster than it loads","msgtype":"m.text"},"ts":1362412400000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"which is, well, rather easy","msgtype":"m.text"},"ts":1362412404000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"symptoms of people testing on local networks","msgtype":"m.text"},"ts":1362412544000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"ooh, I was already wondering what that was when reading the diff","msgtype":"m.text"},"ts":1362414720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so that's post-processed","msgtype":"m.text"},"ts":1362414726000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1362414923000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"seems like something that could be re-purposed in other specs","msgtype":"m.text"},"ts":1362415031000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"fetch?","msgtype":"m.text"},"ts":1362415034000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the tool I mean","msgtype":"m.text"},"ts":1362415046000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I was talking about Hixie's case-switch thingie","msgtype":"m.text"},"ts":1362415144000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for once, although I'd love to talk about Fetch more :p","msgtype":"m.text"},"ts":1362415153000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I meant since you've just started writing up Fetch, if you have state-machine algorithms in there, you could write them using this case-switch shorthand, then have the tool make it into words for you","msgtype":"m.text"},"ts":1362415256000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh sorry, not that much case-switch going on right now","msgtype":"m.text"},"ts":1362415291000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1362415338000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"pipes a Mark Watson message from his mutt into lynx -stdin so that you can tell which parts are his words and which parts are stuff he's quoting","msgtype":"m.emote"},"ts":1362415344000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"wishes Mark would write all his messages from his iPhone instead because those are a lot easier to read","msgtype":"m.emote"},"ts":1362415376000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"So XHR dispatches loadstart, then readystatechange readystatechange and then progress events start?","msgtype":"m.text"},"ts":1362416034000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's prolly roughly what should be happening","msgtype":"m.text"},"ts":1362416055000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zewt: gsnedders: it seems for upload progress events we resolved to fire loadend when the outgoing buffer is empty","msgtype":"m.text"},"ts":1362416170000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zewt: gsnedders: and not wait for ACK or some kind of HTTP response","msgtype":"m.text"},"ts":1362416180000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zewt: gsnedders: http://lists.w3.org/Archives/Public/public-webapps/2012JanMar/0749.html","msgtype":"m.text"},"ts":1362416214000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: reply to http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Mar/0024.html would be great, ta","msgtype":"m.text"},"ts":1362421223000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: Actually, I've pushed back on single-line comments in CSS until someone can demonstrate a low chance of breakage, particularly in minified stylesheets.","msgtype":"m.text"},"ts":1362421516000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"only allow them when a line starts with whitespace followed by // ?","msgtype":"m.text"},"ts":1362421590000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but maybe that's not good enough for people","msgtype":"m.text"},"ts":1362421600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Nah, people want them at the end of a line, after a property.","msgtype":"m.text"},"ts":1362421712000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I want the ability to comment properties out without having to go to the beginning and end of a file.","msgtype":"m.text"},"ts":1362422297000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"s/file/line/","msgtype":"m.text"},"ts":1362422307000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"That's easy - just put any invalid property-name char at the beginning of the line.","msgtype":"m.text"},"ts":1362422324000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"If you want, use //","msgtype":"m.text"},"ts":1362422330000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Yeah, I was thinking that might work","msgtype":"m.text"},"ts":1362422375000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"That \"comments it out\" by invalidating the declaration, which causes the parser to swallow and ignore the entire declaration but no more.","msgtype":"m.text"},"ts":1362422393000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hmm... that could even work for inline styles, huh?","msgtype":"m.text"},"ts":1362422417000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Yup.","msgtype":"m.text"},"ts":1362422422000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1362422427000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"I wonder if that should be documented/reminded somewhere?","msgtype":"m.text"},"ts":1362422436000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"The annoying part is that if you want to put a comment *after* a declaration, using // will eat the *next* declaration instead.","msgtype":"m.text"},"ts":1362422456000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1362422483000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"what if you end your comment in a semicolon?","msgtype":"m.text"},"ts":1362422508000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"That'll work.","msgtype":"m.text"},"ts":1362422515000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1362422521000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"That doesn't help with comments between blocks, though.  There you'd need to end the comment with a {}, I think.","msgtype":"m.text"},"ts":1362422546000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Though... maybe not.  Let me test.","msgtype":"m.text"},"ts":1362422551000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"No, you definitely need a {}, because the parser thinks it's in the selector for a style rule.","msgtype":"m.text"},"ts":1362422617000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"So, as long as you're commenting inside of a block, you can do \"// <comment here>;\" and it'll work.","msgtype":"m.text"},"ts":1362422667000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Outside of a block, just use block comments.","msgtype":"m.text"},"ts":1362422676000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"that sounds fair","msgtype":"m.text"},"ts":1362422704000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"That might actually be useful to document.","msgtype":"m.text"},"ts":1362422704000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"There's a thread waiting on some conclusions about this - I'll bring it up there.","msgtype":"m.text"},"ts":1362422719000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Blocks require block comments. That's easy to rememeber.","msgtype":"m.text"},"ts":1362422734000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Perhaps even explicitly reserve the '//' property for comments?","msgtype":"m.text"},"ts":1362422781000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"(IDK how that works.)","msgtype":"m.text"},"ts":1362422789000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Properties already can't be named // anyway - they're restricted to idents.","msgtype":"m.text"},"ts":1362422801000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hmm... by that logic, then, you could also use #, right?","msgtype":"m.text"},"ts":1362422826000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Yup.","msgtype":"m.text"},"ts":1362422830000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Anything and everything that's not a valid property name.","msgtype":"m.text"},"ts":1362422838000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1362422842000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"any blog admins around?","msgtype":"m.text"},"ts":1362427781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i have a blog","msgtype":"m.text"},"ts":1362428061000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"i meant the whatwg blog","msgtype":"m.text"},"ts":1362428090000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sorry :-)","msgtype":"m.text"},"ts":1362428092000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I have an admin (but not for the WHATWG blog)","msgtype":"m.text"},"ts":1362428551000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(I think)","msgtype":"m.text"},"ts":1362428553000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"a wiki could be used as a blog... does that count? ;)","msgtype":"m.text"},"ts":1362429421000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"line comments that don't actually work anywhere sound unpleasant","msgtype":"m.text"},"ts":1362430977000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"MikeSmith: Hej, at some point when you have a moment it would be awesome if you could look and see if there are any serverside errors that look like they correspond to what Ken's seeing?","msgtype":"m.text"},"ts":1362434479000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hmm, that wasn't actually a question","msgtype":"m.text"},"ts":1362434497000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/\\?/./ perhaps","msgtype":"m.text"},"ts":1362434517000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It is pretty non-obvious to me why it would work for me and for you (most of the time) but never for him, unless it is something on his local network","msgtype":"m.text"},"ts":1362434580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But still","msgtype":"m.text"},"ts":1362434583000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie: you around?","msgtype":"m.text"},"ts":1362435866000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: my first question was about <img> does fetch, then another <img> does a fetch, both queue network tasks, how do you know which task is for which image?","msgtype":"m.text"},"ts":1362435906000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"why would you not know?","msgtype":"m.text"},"ts":1362435938000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's like saying you put a ball on the ground, i put a ball on the ground, how do you know which ball was put down by whom","msgtype":"m.text"},"ts":1362435959000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: there's nothing in the task queue design that tells you these things","msgtype":"m.text"},"ts":1362436349000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: \"the buffer is empty\" implies the ACK is received, by definition","msgtype":"m.text"},"ts":1362436395000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hixie: as for tasks for uploading, don't you need to signify from the network layer that something is happening and then have the API layer expose that?","msgtype":"m.text"},"ts":1362436456000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zewt: k","msgtype":"m.text"},"ts":1362436879000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ah, the WaSP.","msgtype":"m.text"},"ts":1362437559000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"That is the one that petitioned Netscape to cancel Mariner, leaving Netscape nothing to compete in time for IE5.","msgtype":"m.text"},"ts":1362437611000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"Which ended up increasing the use of document.all.","msgtype":"m.text"},"ts":1362437628000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"To the point other browsers had to implement it!","msgtype":"m.text"},"ts":1362437648000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"And yea, Mariner was going to implement getElementById too.","msgtype":"m.text"},"ts":1362437740000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"but not CSS","msgtype":"m.text"},"ts":1362437750000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"which was just a wee bit more important than getElementById","msgtype":"m.text"},"ts":1362437761000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"Netscape 4 implemented CSS but poorly, Netscape 5 was going to implement CSS better.","msgtype":"m.text"},"ts":1362437791000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"\"poorly\" is being generous","msgtype":"m.text"},"ts":1362437812000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"\"better\" than \"poorly\" was nowhere near good enough","msgtype":"m.text"},"ts":1362437826000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"(in comparison to what everybody else was coding support for)","msgtype":"m.text"},"ts":1362437842000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"If I was going to fix CSS support in NS4, I'd consider instead of depending on the JS parser, to have the CSS parser directly call the JSSS functions.","msgtype":"m.text"},"ts":1362437945000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1362437962000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"except for that whole CSS suddenly disappearing when JS was turned off problem ;)","msgtype":"m.text"},"ts":1362437986000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"Hixie: I think those are basically my questions","msgtype":"m.text"},"ts":1362438001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: and maybe how to queue tasks on the networking task force specifically for cases such as \"transmitting entity body\", \"headers are processed\", \"receiving entity body\", ... and then how the API hooks into those","msgtype":"m.text"},"ts":1362438059000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: it all feels a bit handwavy at the moment and in fact XHR has somewhat differing requirements as to when to dispatch progress events :-(","msgtype":"m.text"},"ts":1362438094000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: if the fetching model was perfectly clear, none of that would be problematic","msgtype":"m.text"},"ts":1362438117000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"To be honest, the CSS spec wasn't all that good either.","msgtype":"m.text"},"ts":1362438243000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"a few of us managed to make it work ;)","msgtype":"m.text"},"ts":1362438264000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"hsivonen mentioned in retrospect the CSS spec should have been changed to match browsers instead of quirks and standards mode.","msgtype":"m.text"},"ts":1362438295000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"annevk: re upload, nothing i've done does anything on upload as far as i know, so i haven't done anything with that","msgtype":"m.text"},"ts":1362438348000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"browsers didn't agree - so there was no such thing as \"changed to match browsers\"","msgtype":"m.text"},"ts":1362438374000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"annevk: but sure, if you want to do something that depends on network buffers emptying or something, then sure, tasks for that makes sense","msgtype":"m.text"},"ts":1362438391000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"tantek: the table quirk is pretty much agreed upon now","msgtype":"m.text"},"ts":1362438396000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: i don't really understand the other question though. do you have a concrete example of what's ambiguous?","msgtype":"m.text"},"ts":1362438413000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes, now.","msgtype":"m.text"},"ts":1362438414000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"Yes, but they did agree on one thing that deviated from the CSS standards (box model).","msgtype":"m.text"},"ts":1362438418000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"but not in 1999/2000","msgtype":"m.text"},"ts":1362438421000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"yuhong - nah - depended on which element","msgtype":"m.text"},"ts":1362438429000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"browsers themselves (especially NS) were inconsistent","msgtype":"m.text"},"ts":1362438441000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"Hixie: e.g. how many tasks does XHR use to change from OPENED to HEADERS_RECEIVED to LOADING to DONE assuming there's no response entity body?","msgtype":"m.text"},"ts":1362438473000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: I think the browser networking model uses three tasks for that, but there's nothing really currently that requires that in fetch","msgtype":"m.text"},"ts":1362438549000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: you could have a single task for the entire response","msgtype":"m.text"},"ts":1362438566000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is there a web observable behavior difference?","msgtype":"m.text"},"ts":1362438590000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"annevk: does it matter? ^","msgtype":"m.text"},"ts":1362438594000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"could you ever tell if a browser was using 1 task or using 3 separate tasks and just choosing to service the tasks from the networking task source back to back?","msgtype":"m.text"},"ts":1362438631000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"i suppose if they're in separate tasks, then it's not guaranteed that nothing can happen between them, where if (in that case) they always use one task, it is","msgtype":"m.text"},"ts":1362438642000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"it could, but since it's a separate task source it's up to the browser whether anything else happens in between or not","msgtype":"m.text"},"ts":1362438665000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"since the browser can pick which task source to service at any point in time","msgtype":"m.text"},"ts":1362438672000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"Now I realize that even versioning as a buzzword don't make sense.","msgtype":"m.text"},"ts":1362438689000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"jamesr: I'm not sure if there's an observable difference","msgtype":"m.text"},"ts":1362438694000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, then why do you care?","msgtype":"m.text"},"ts":1362438698000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"jamesr: right, but if they're in a single task, then they're *required* to ensure nothing else happens in between; in separate tasks, they can choose to do so or not to","msgtype":"m.text"},"ts":1362438701000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"annevk: well yeah. you could be receiving one byte per TCP packet, or you could get the whole GB all at once with the OS only telling you once it's buffered the whole thing, there's no way to say which is going to happen","msgtype":"m.text"},"ts":1362438715000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zewt, very true. so the difference is if you want to require them be back-to-back or not","msgtype":"m.text"},"ts":1362438724000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"i can't imagine why you would want to","msgtype":"m.text"},"ts":1362438729000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"annevk: so the number of tasks is entirely arbitrary","msgtype":"m.text"},"ts":1362438732000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"MozillaZine's article on this: http://www.mozillazine.org/talkback.html?article=1708","msgtype":"m.text"},"ts":1362438798000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"jamesr: well, if in common cases you can never sit blocked in some of those states on network activity (which I think is the case), then you might be able to get more deterministic behavior","msgtype":"m.text"},"ts":1362438818000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"eg. annevk: weren't you noting that it's impossible to actually sit in HEADERS_RECEIVED, since you always go right to LOADING (or something along those lines)?","msgtype":"m.text"},"ts":1362438841000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"jamesr: I care because a) I don't know and b) XHR is currently somewhat unclear as to whether you could skip certain states because of this","msgtype":"m.text"},"ts":1362438860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zewt: I was, but I might have been incorrect if the fetching layer actually does distinguish that case and queues a separate task for it (as XHR expects)","msgtype":"m.text"},"ts":1362438899000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right, but if in reality browsers do run those states atomically, then it might make sense to require it be in a single task","msgtype":"m.text"},"ts":1362438959000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(no clue if they do or not)","msgtype":"m.text"},"ts":1362438967000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"probably a tough thing to test, too...","msgtype":"m.text"},"ts":1362438988000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"could depend on buffer sizes, etc","msgtype":"m.text"},"ts":1362439002000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"so you suspect there are cases where the spec could be more exact, but you aren't sure if that matches implementation's behavior?","msgtype":"m.text"},"ts":1362439005000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"jamesr: no, I think the spec might be incorrect in certain cases because it expects an order that's not necessarily given","msgtype":"m.text"},"ts":1362439047000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"have an example?","msgtype":"m.text"},"ts":1362439083000,"senderName":"jamesr","senderId":"jamesr@irc"},
{"content":{"body":"sorry, lost you a bit--what ordering isn't given?","msgtype":"m.text"},"ts":1362439085000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"jamesr: http://xhr.spec.whatwg.org/#same-origin-request-event-rules will be used exactly once if there was only ever one networking task","msgtype":"m.text"},"ts":1362439115000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jamesr: which basically falls flat","msgtype":"m.text"},"ts":1362439131000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"actually i don't really know what this section means","msgtype":"m.text"},"ts":1362439181000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"what does \"While making the request also follow the same-origin request event rules.\"? when are these \"rules\" triggered?","msgtype":"m.text"},"ts":1362439218000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"maybe this is tied to language in fetch that I'm just not familiar with","msgtype":"m.text"},"ts":1362439251000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"From http://blogs.msdn.com/b/ieinternals/archive/2011/03/23/understanding-local-machine-zone-lockdown-restricted-this-webpage-from-running-scripts-or-activex-controls.aspx","msgtype":"m.text"},"ts":1362439277000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"no it's vague and I want to fix it","msgtype":"m.text"},"ts":1362439277000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in part by getting the answer as to whether fetch should give explicit callbacks for these situations or not","msgtype":"m.text"},"ts":1362439315000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"while i'm not the one you want an answer from, i expect the answer is yes :)","msgtype":"m.text"},"ts":1362439344000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"About the IE team citra early 2004 when no real work was done on the rendering engine itself: \"But it's understandable, at the time, I believe the IE team was under a dozen brave souls, and boy were they busy.]\"","msgtype":"m.text"},"ts":1362439347000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"Hixie: would it work to queue tasks on the networking task source with certain hints associated with them?","msgtype":"m.text"},"ts":1362439399000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie: e.g. \"upload task\", \"headers in the bag task\", \"receiving some entity task\", ...","msgtype":"m.text"},"ts":1362439438000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"As I mentioned before, even later on it took until XHTML and DOM Level 2 was more than *10* years old for IE to finally implement them.","msgtype":"m.text"},"ts":1362439466000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"annevk: personally I wouldn't queue tasks, just take algorithm-callbacks by name and invoke them","msgtype":"m.text"},"ts":1362439496000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"if the user (eg. xhr) wants them to happen in some task, then queue a task from there","msgtype":"m.text"},"ts":1362439510000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"And by then, XP was in extended support, and thus MS did not release IE9 for them, making IE8 the new Netscape 4.","msgtype":"m.text"},"ts":1362439520000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"Hixie doesn't want to change the model and HTML uses tasks for this all over","msgtype":"m.text"},"ts":1362439531000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(for XHR, it might want them in the XHR's personal task source, rather than networking)","msgtype":"m.text"},"ts":1362439539000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"We can make the task source configurable, sure","msgtype":"m.text"},"ts":1362439578000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: don't need to change the model from HTTP's point of view; just wrap the algorithm if needed and you'll get the same result","msgtype":"m.text"},"ts":1362439583000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Why does jQuery 2.0 not support IE8?","msgtype":"m.text"},"ts":1362439593000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"zewt: that sounds hacky","msgtype":"m.text"},"ts":1362439642000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"In fact, what changed in IE7 and IE8 is pretty small compared to what changed in IE9.","msgtype":"m.text"},"ts":1362439643000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"not sure","msgtype":"m.text"},"ts":1362439646000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"anyway, bedtime","msgtype":"m.text"},"ts":1362439713000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"don't think it's hacky (it's just like any compatibility shim in an API), but dunno if it's right, either","msgtype":"m.text"},"ts":1362439733000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"And BTW mutation events reminds me of win32k user mode callbacks.","msgtype":"m.text"},"ts":1362439945000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"http://www.mista.nu/research/mandt-win32k-paper.pdf","msgtype":"m.text"},"ts":1362439988000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"With IE10 not implementing mutation observers, I wonder if browsers will ever be able to remove it.","msgtype":"m.text"},"ts":1362440107000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"*mutation events.","msgtype":"m.text"},"ts":1362440114000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"BTW, the quirks vs standards mode is mentioned in http://www.w3.org/wiki/Evolution/Versions","msgtype":"m.text"},"ts":1362440386000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"I am thinking of using CSS box model as an example.","msgtype":"m.text"},"ts":1362440405000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"When I finally begin to edit the wiki.","msgtype":"m.text"},"ts":1362440429000,"senderName":"Yuhong","senderId":"Yuhong@irc"},
{"content":{"body":"anne: don't understand what this is for","msgtype":"m.text"},"ts":1362440822000,"senderName":"Hixie","senderId":"Hixie@irc"}
]