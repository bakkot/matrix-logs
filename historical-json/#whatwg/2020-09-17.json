[
{"content":{"body":"Domenic: https://twitter.com/zcorpan/status/1202958734949060608","msgtype":"m.text"},"ts":1600327641000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: hi","msgtype":"m.text"},"ts":1600341449000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: heya","msgtype":"m.text"},"ts":1600341748000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: do we have a wpt for document.domain mutation and cross-origin isolated?","msgtype":"m.text"},"ts":1600341800000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"annevk: https://github.com/whatwg/html/pull/4734","msgtype":"m.text"},"ts":1600341805000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: I don't recall; Tim Tung had that on his list, but maybe he didn't get to it","msgtype":"m.text"},"ts":1600341840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Tom Tung*","msgtype":"m.text"},"ts":1600341857000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok then i'm going to add one.","msgtype":"m.text"},"ts":1600341894000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"yhirano: I think Domenic might have written some for Origin Isolation too","msgtype":"m.text"},"ts":1600341930000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe that can be reused","msgtype":"m.text"},"ts":1600341941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks","msgtype":"m.text"},"ts":1600342236000,"senderName":"yhirano","senderId":"yhirano@irc"},
{"content":{"body":"hm, looks like bikeshed builds are failing because TabAtkins added support for dark mode and v.Nu doesn't like the \"color-scheme\" CSS property","msgtype":"m.text"},"ts":1600346841000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: leave a comment on https://github.com/whatwg/meta/issues/188?","msgtype":"m.text"},"ts":1600347010000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess we should figure out where this remaining CSS is added and try to get Bikeshed to not do that for WHATWG","msgtype":"m.text"},"ts":1600347051000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: that sounds like something that should be fixed in v.Nu, though","msgtype":"m.text"},"ts":1600347520000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"Bikeshed really should not be injecting CSS into WHATWG specs...","msgtype":"m.text"},"ts":1600350065000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I filed an issue for y'all","msgtype":"m.text"},"ts":1600351448000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"croraf: https://github.com/heycam/webidl/issues/921","msgtype":"m.text"},"ts":1600360471000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"likes","msgtype":"m.emote"},"ts":1600360494000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"JakeA: are there no tests for openWindow()?","msgtype":"m.text"},"ts":1600361805000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hi. When I encounter something like this: https://heycam.github.io/webidl/#a-promise-rejected-with in WebIDL should I consider this as a \"macro\" or as a \"function\"?","msgtype":"m.text"},"ts":1600377569000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"The difference is, do I just replace the caller with this code, or do I actually call this code?","msgtype":"m.text"},"ts":1600377605000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"Function","msgtype":"m.text"},"ts":1600377663000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Macros are very few and called out explicitly as such","msgtype":"m.text"},"ts":1600377671000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Example of a macro: https://html.spec.whatwg.org/#spin-the-event-loop","msgtype":"m.text"},"ts":1600377690000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Another example is the \"1. React to promise\" here https://heycam.github.io/webidl/#upon-fulfillment Do I call react, or I just imagine this bullet is replaced with the list bullets.","msgtype":"m.text"},"ts":1600377703000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"Domenic, ok, thx","msgtype":"m.text"},"ts":1600377707000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"This basically means, (and I think andreubotella noted that ) that there is another bug in here, because \"upon fulfillment\" https://heycam.github.io/webidl/#upon-fulfillment returns nothing, while it should return a promise generally.","msgtype":"m.text"},"ts":1600377848000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"Same with \"upon rejection\"","msgtype":"m.text"},"ts":1600377866000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"I looked into the different specs that used react, upon fulfillment and upon rejection","msgtype":"m.text"},"ts":1600377891000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"most don't use the returned promise, but some do","msgtype":"m.text"},"ts":1600377916000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"so either each of those callers have to be changed, or the WebIDL definition","msgtype":"m.text"},"ts":1600377963000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"it makes more sense to do the latter","msgtype":"m.text"},"ts":1600377969000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"What do you mean by changing the callers? The caller in fetch requires the returned promise.","msgtype":"m.text"},"ts":1600378062000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"Only if you meant that it should call \"react\" directly, passing the steps?","msgtype":"m.text"},"ts":1600378094000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"andreubotella, but this not make much sense to me, so only the latter option is possible, I think","msgtype":"m.text"},"ts":1600378144000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"The intention at the time we wrote the Web IDL algorithms was to change the callers; upon fulfillment should be used when you have no plans to use the returned promise, and react should be used if you do want to use the returned promise.","msgtype":"m.text"},"ts":1600378176000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it's not the only option, but sure, I mispoke there","msgtype":"m.text"},"ts":1600378177000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"Maybe in the meantime a bunch of specs have started assuming \"upon fulfillment\" returns a promise, so we should just have it do so.","msgtype":"m.text"},"ts":1600378195000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'll check again, but I believe there were just a few cases","msgtype":"m.text"},"ts":1600378227000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"Domenic: could you review https://github.com/heycam/webidl/pull/922 and point that out?","msgtype":"m.text"},"ts":1600378273000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: on my list for tomorrow morning :)","msgtype":"m.text"},"ts":1600378290000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"To think again, I actually dont see the reason of having \"upon fulfillment\" and \"upon rejection\" at all.","msgtype":"m.text"},"ts":1600378291000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"They are even more erroneous. Check this, what I found with andreubotella :","msgtype":"m.text"},"ts":1600378331000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"(let me think a bit more actually :) )","msgtype":"m.text"},"ts":1600378449000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"croraf: most of the things we talked about weren't bugs per se, they were either misunderstandings or editorial nitpicks","msgtype":"m.text"},"ts":1600378548000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"Actually I'm again not clear about this.","msgtype":"m.text"},"ts":1600378570000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"It says that \"react accepts one or two sets of steps\". But below it says:","msgtype":"m.text"},"ts":1600378639000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"React to promise:","msgtype":"m.text"},"ts":1600378650000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":" - If promise was fulfilled with value v, then:","msgtype":"m.text"},"ts":1600378658000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"           1. Perform steps with v.","msgtype":"m.text"},"ts":1600378662000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"I might not have made that clear, but \"if promise was fulfilled with value v, then\" isn't really part of the algorithm","msgtype":"m.text"},"ts":1600378699000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"it's a bit of an odd way to specify a callback parameter","msgtype":"m.text"},"ts":1600378721000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"If \"React to promise\" is similar to promise.then() so when promise is fulfilled with value \"v\" I guess \"onFulfilled\" is called with \"v\". And here it says that the steps are performed with \"v\".","msgtype":"m.text"},"ts":1600378938000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"Something must be wrong here.","msgtype":"m.text"},"ts":1600378961000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"haven't we already gone through that?","msgtype":"m.text"},"ts":1600379068000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"I guess that here it should only say \"upon fulfillment\" =  \"React to promise with *steps* provided as steps to do when fulfilled\"","msgtype":"m.text"},"ts":1600379106000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"And if this is true the \"upon fulfillment\" seems completely unnecessary!","msgtype":"m.text"},"ts":1600379165000,"senderName":"croraf","senderId":"croraf@irc"},
{"content":{"body":"( we have andreubotella )","msgtype":"m.text"},"ts":1600379226000,"senderName":"croraf","senderId":"croraf@irc"}
]