[
{"content":{"body":"(sorry for downtime)","msgtype":"m.text"},"ts":1223886660000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"I assume you worked on adding a hundred new cool features? :p","msgtype":"m.text"},"ts":1223886720000,"senderName":"annevk2","senderId":"annevk2@irc"},
{"content":{"body":"good morning guys","msgtype":"m.text"},"ts":1223887260000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"'Morning. (c:","msgtype":"m.text"},"ts":1223887440000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"hmm. <h1><p><span><h1>","msgtype":"m.text"},"ts":1223891160000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"should the h1 be nested or not","msgtype":"m.text"},"ts":1223891161000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"webkit now nests <p><font><h1>x","msgtype":"m.text"},"ts":1223891340000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: seen this? https://bugzilla.mozilla.org/show_bug.cgi?id=459395","msgtype":"m.text"},"ts":1223899020000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://twitter.com/redwall_hp/statuses/957115107","msgtype":"m.text"},"ts":1223899320000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"LOL. I wonder what made him thing XFrames is part of the HTML5 work","msgtype":"m.text"},"ts":1223899740000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"yay. a new standards suck episode","msgtype":"m.text"},"ts":1223905800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://tech.slashdot.org/comments.pl?sid=993341&cid=25353353","msgtype":"m.text"},"ts":1223910900000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: That's slightly ridiculous.","msgtype":"m.text"},"ts":1223911200000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"Just about -nothing- supports <video> presently.","msgtype":"m.text"},"ts":1223911201000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"(Also, google have a vested interest in adding petty, easily-breakable barriers to downloading: because the big megacorps want to feel safe.)","msgtype":"m.text"},"ts":1223911202000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"ehird, yeah, right now, the suggestion isn't realistic. But give it a few years, when browsers have actually shipped with support for <video> and the codec issue has settled a bit, they could begin migrating to it","msgtype":"m.text"},"ts":1223911440000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: You're forgetting about IE.","msgtype":"m.text"},"ts":1223911441000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"(Which I commend you for - I wish I could.)","msgtype":"m.text"},"ts":1223911500000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"Lachy: Even so, see my last line.","msgtype":"m.text"},"ts":1223911501000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"It's interesting to see the lengths the BBC iPlayer has gone to to prevent people downloading the iPhone-compatible MPEG4 versions of programmes on anything other than an iPhone, with strict checks on the exact sequence of HTTP requests made","msgtype":"m.text"},"ts":1223911680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ehird, which \"last line\" are you referring to?","msgtype":"m.text"},"ts":1223911681000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"but then they seem to have given up months ago","msgtype":"m.text"},"ts":1223911740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"<ehird> (Also, google have a vested interest in adding petty, easily-breakable barriers to downloading: because the big megacorps want to feel safe.)","msgtype":"m.text"},"ts":1223911741000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"and you can find plenty of simple scripts that you can give a URL and it'll download the MPEG4 onto your PC","msgtype":"m.text"},"ts":1223911742000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Of course.","msgtype":"m.text"},"ts":1223911743000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"I wonder what the YouTube attitude towards old versions of Flash Player is","msgtype":"m.text"},"ts":1223911744000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"so their protection has totally failed","msgtype":"m.text"},"ts":1223911745000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"But as long as they have stupid checks that mean nothing, the feeling of safety is given to those who request it.","msgtype":"m.text"},"ts":1223911746000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"If you see what I mean.","msgtype":"m.text"},"ts":1223911747000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"ehird, since the megacorps don't own most of the content on YouTube, despite what some of them might like to claim, I find that difficult to believe","msgtype":"m.text"},"ts":1223911748000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"that is, do they feel that they need to support old versions that have security holes","msgtype":"m.text"},"ts":1223911800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Lachy: I'm talking about the recent collaborations with them.","msgtype":"m.text"},"ts":1223911801000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"is <br/> underestimated?","msgtype":"m.text"},"ts":1223911802000,"senderName":"gpy","senderId":"gpy@irc"},
{"content":{"body":"I wonder where I can find those CBS videos on YouTube, and if they're available outside the USA?","msgtype":"m.text"},"ts":1223911920000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: As for the latter half: unlikely.","msgtype":"m.text"},"ts":1223911980000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"http://www.youtube.com/blog?entry=F1xABdzKby4","msgtype":"m.text"},"ts":1223911981000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"nope, they're not available in Norway at least","msgtype":"m.text"},"ts":1223911982000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"*shrug* Media sucks. I'm sure we all know this...","msgtype":"m.text"},"ts":1223911983000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"which sucks, especially given that the shows they've started with are really old","msgtype":"m.text"},"ts":1223912040000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Not accessible in the UK, either.","msgtype":"m.text"},"ts":1223912041000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"it's not like they're shows which have yet to air in other countries","msgtype":"m.text"},"ts":1223912042000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: YouTube probably couldn't afford the extra cash for extra country licenses or whatever other rubbish CBS forced on them","msgtype":"m.text"},"ts":1223912043000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"[[You may see in-stream video ads (including pre-, mid- and post-rolls) embedded in some of these episodes; this advertising format will only appear on premium content where you are most comfortable seeing such ads. In order to make this clear to you, we've labeled all full-length videos with a Film Strip symbol (  ) so you'll know exactly what kind of content you're choosing to watch and what ads you might see. (To see an example of the badge on search results,","msgtype":"m.text"},"ts":1223912100000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"I'll see if I can bypass the regional lockout...","msgtype":"m.text"},"ts":1223912101000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Ha. Ha. Ads! Wonderful!","msgtype":"m.text"},"ts":1223912102000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"Lachy: Hulu is easily bypassable, iirc, so I imagine this is too.","msgtype":"m.text"},"ts":1223912103000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"CBS might have exclusive distribution licences with people in other countries, and be unable to let YouTube distribute things worldwide","msgtype":"m.text"},"ts":1223912160000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Ahhh. That seems most likely.","msgtype":"m.text"},"ts":1223912161000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"noticed a while ago that Comedy Central seems to block access from the UK specifically, rather than permitting specific countries, which seems slightly odd","msgtype":"m.emote"},"ts":1223912220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Ah, right, that's just because Channel 4 now shows their shows in the UK","msgtype":"m.text"},"ts":1223912340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"territory-scoped media distribution deals are so last century","msgtype":"m.text"},"ts":1223912341000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"sweet, I've successfully bypassed the regional restrictions","msgtype":"m.text"},"ts":1223912400000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1223912401000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"using ssh tunnelling through a server in the US","msgtype":"m.text"},"ts":1223912402000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"hsivonen, pretty much all deals made by large media companies these days are using last centuries business models","msgtype":"m.text"},"ts":1223912520000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"is still wondering if the iTunes Movie Rental \"international later this year\" ends up meaning a couple of English-language countries","msgtype":"m.emote"},"ts":1223912521000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"<Lachy> hsivonen, pretty much all deals made by large media companies these days are using last centuries business models","msgtype":"m.text"},"ts":1223912580000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"Truth!","msgtype":"m.text"},"ts":1223912581000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"Lachy: Doesn't that mean they're this century's business models too?","msgtype":"m.text"},"ts":1223912582000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: No, because people are starting to get a clue and evolving them. ","msgtype":"m.text"},"ts":1223912583000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"no, I mean they're business models designed for last century's technology and distribution networks, being brutally applied to this century's","msgtype":"m.text"},"ts":1223912700000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"hsivonen, the Wii has Flash Player 7","msgtype":"m.text"},"ts":1223912760000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"annevk3: that's unfortunate","msgtype":"m.text"},"ts":1223912820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"YouTube works fine on the Wii","msgtype":"m.text"},"ts":1223912821000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"greetings from France!","msgtype":"m.text"},"ts":1223912822000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: starting TPAC early? :-)","msgtype":"m.text"},"ts":1223912823000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: With my uncle for the week before","msgtype":"m.text"},"ts":1223912880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Proposal: HTML5 is said to be productionready along with a new standard of \"Media Business Practices 21\" :D","msgtype":"m.text"},"ts":1223912881000,"senderName":"ehird","senderId":"ehird@irc"},
{"content":{"body":"Philip`: oh, I wasn't aware it was so trivially easy to get around the iplayer stuff.  useful, that","msgtype":"m.text"},"ts":1223913600000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"wonders why one or two phone numbers won't sync on to his phone","msgtype":"m.emote"},"ts":1223913601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ergh. Need to write a second personal statement for Cambridge.","msgtype":"m.text"},"ts":1223914980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"updates <http://stuff.gsnedders.com/http-parsing.html> for the first time in ages","msgtype":"m.emote"},"ts":1223915700000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Only section 3 and the to-do list has been touched)","msgtype":"m.text"},"ts":1223915760000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Interestingly, behaviour varies a lot for one or two things","msgtype":"m.text"},"ts":1223915880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"HTTP/1.1 12 Foobar","msgtype":"m.text"},"ts":1223915940000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"How should that be treated?","msgtype":"m.text"},"ts":1223915941000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Saf/Leopard treats it as an invalid HTTP/1.1 response, and treats it as HTTP/0.9 (i.e., it is all data, no headers)","msgtype":"m.text"},"ts":1223916000000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Firefox treats it as 12","msgtype":"m.text"},"ts":1223916060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"So does Opera","msgtype":"m.text"},"ts":1223916120000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Even more varied over HTTP/1.1 1234 Foobar","msgtype":"m.text"},"ts":1223916121000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Saf/Leopard again invalid","msgtype":"m.text"},"ts":1223916122000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Firefox status-code: 1234 reason-phrase: \"Foobar\"","msgtype":"m.text"},"ts":1223916180000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Op: status-code: \"123\", reason-phrase: \"4 Foobar\"","msgtype":"m.text"},"ts":1223916181000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"IE follows Fx","msgtype":"m.text"},"ts":1223916240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(or, more likely, Fx follows IE)","msgtype":"m.text"},"ts":1223916241000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(and both probably follow NN)","msgtype":"m.text"},"ts":1223916300000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"IE, Op and Fx all use null-terminated strings for header values","msgtype":"m.text"},"ts":1223916301000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"With no reason-phrase given, IE defaults to \"Close\"","msgtype":"m.text"},"ts":1223916360000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Which I guess it uses as the next thing after any *LWS","msgtype":"m.text"},"ts":1223916361000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"IE uses a list of headers that can be concatenated with \", \", everything else uses a list of headers to only use the first of","msgtype":"m.text"},"ts":1223916480000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Anyone in France with a Freebox around?","msgtype":"m.text"},"ts":1223921400000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"needs to get the wifi password somehow","msgtype":"m.emote"},"ts":1223921460000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yay! Got password! It works!","msgtype":"m.text"},"ts":1223922060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ah, so Dion did leave Google... somehow that was not entirely clear to me after watching the video on ajaxian.com","msgtype":"m.text"},"ts":1223925120000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"Ergh:","msgtype":"m.text"},"ts":1223928660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The photograph should:","msgtype":"m.text"},"ts":1223928661000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"be in portrait orientation (with a height to width ratio of 6:5)","msgtype":"m.text"},"ts":1223928662000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"be in colour","msgtype":"m.text"},"ts":1223928663000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"have a plain light coloured background","msgtype":"m.text"},"ts":1223928664000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"show your head and the top of your shoulders only, with your face central on the picture","msgtype":"m.text"},"ts":1223928665000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"be of good colour definition, not too dark or light","msgtype":"m.text"},"ts":1223928666000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"be in focus","msgtype":"m.text"},"ts":1223928667000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"show your face un-obscured (no sunglasses, hat or scarf) unless you wear glasses or cover your hair for religious reasons","msgtype":"m.text"},"ts":1223928720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"show you acting naturally, not smoking, not with other people or in a 'holiday snap'","msgtype":"m.text"},"ts":1223928721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I don't think I have any that meet that description","msgtype":"m.text"},"ts":1223928722000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Or at least, any with me with long-ish hair","msgtype":"m.text"},"ts":1223928723000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk3: sorry, not really :)","msgtype":"m.text"},"ts":1223930160000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"Lachy: I'm going to have a book we were talking about a few months back at TPAC :)","msgtype":"m.text"},"ts":1223930340000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Is it just me or will the video on <http://standardssuck.org/w3c-standardization-process> not load?","msgtype":"m.text"},"ts":1223932080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I need to get a real macro lens","msgtype":"m.text"},"ts":1223932680000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: It's not just you, since it says \"Plug-in content\" to me, but that's not surprising since I don't have any working plugins","msgtype":"m.text"},"ts":1223933520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":":P","msgtype":"m.text"},"ts":1223933521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"had they used <video>","msgtype":"m.text"},"ts":1223934480000,"senderName":"erlehmann","senderId":"erlehmann@irc"},
{"content":{"body":"My browser wouldn't support it at all :)","msgtype":"m.text"},"ts":1223934540000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Just link to an MPEG4 download - it's really not that hard :-p","msgtype":"m.text"},"ts":1223934600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so tell me what you need","msgtype":"m.text"},"ts":1223935680000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"http://developer.apple.com/documentation/Carbon/Conceptual/CoreText_Programming/Overview/chapter_2_section_5.html#//apple_ref/doc/uid/TP40005533-CH3-DontLinkElementID_14","msgtype":"m.text"},"ts":1223935740000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that's basically the API I'm using on the desktop","msgtype":"m.text"},"ts":1223935741000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'm building an in-browser IDE with SproutCore","msgtype":"m.text"},"ts":1223935742000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but I have to do all of the text manipulation on the server, because the client-side APIs aren't there yet","msgtype":"m.text"},"ts":1223935743000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I basically have a grip of span tags with one character each","msgtype":"m.text"},"ts":1223935800000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that fill up the visible area in a scrollable div","msgtype":"m.text"},"ts":1223935801000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: are you sure this is really a task that is suitable to canvas?","msgtype":"m.text"},"ts":1223935802000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"and as the user scrolls, I update the innerText and span classes to syntax highlight correctly","msgtype":"m.text"},"ts":1223935803000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"to handle text selection, I have a <canvas> tag overlayed and I forward the mouse down to the server, get the results back, and update drawing","msgtype":"m.text"},"ts":1223935860000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if you're building a text editor, we probably want to find a way to make contenteditable do what you need","msgtype":"m.text"},"ts":1223935861000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"sorry, this is not HTML","msgtype":"m.text"},"ts":1223935862000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that whole API sucks","msgtype":"m.text"},"ts":1223935863000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's like FrontPage for the browser","msgtype":"m.text"},"ts":1223935864000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":":P","msgtype":"m.text"},"ts":1223935865000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"which is the real problem","msgtype":"m.text"},"ts":1223935866000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you guys are writing for HTML people","msgtype":"m.text"},"ts":1223935920000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I just want to display text","msgtype":"m.text"},"ts":1223935921000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: so your solution is to complain about a bitmap api rather than make suggestions for improving contenteditable?","msgtype":"m.text"},"ts":1223935922000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"and basically, I'm working around the browser to get it to do that","msgtype":"m.text"},"ts":1223935923000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you really want the browser to understand that you're editing text","msgtype":"m.text"},"ts":1223935924000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"who's complaining?","msgtype":"m.text"},"ts":1223935925000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"otherwise stuff like IMEs won't work","msgtype":"m.text"},"ts":1223935926000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I just think it's incredible that text layout metrics are not available in the browser","msgtype":"m.text"},"ts":1223935980000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I would like to make them available in the browser, but it's complicated because of issues like font selection","msgtype":"m.text"},"ts":1223935981000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"not anyone's fault, and I'm happy to patch <canvas> to add support for the 5 Core Text objects-","msgtype":"m.text"},"ts":1223935982000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"really, this is not a big API","msgtype":"m.text"},"ts":1223935983000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"anyway, I can do what I'm doing now, because I always have a server","msgtype":"m.text"},"ts":1223936040000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Core Text is much more than exposing text layout metrics","msgtype":"m.text"},"ts":1223936041000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"agreed","msgtype":"m.text"},"ts":1223936042000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but it's pretty fundamental","msgtype":"m.text"},"ts":1223936043000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"stuff","msgtype":"m.text"},"ts":1223936044000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I would expect JavaScript library authors to wrap it and provide a higher-level API","msgtype":"m.text"},"ts":1223936100000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but today, we have to wrap even higher-level APIs","msgtype":"m.text"},"ts":1223936101000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"to do things they were never meant to do","msgtype":"m.text"},"ts":1223936102000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and do inefficiently at that","msgtype":"m.text"},"ts":1223936160000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that approach will never work with IMEs so it's simply not the right way to go","msgtype":"m.text"},"ts":1223936161000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"onitunes: your approach will not work with IME's.  It just won't be possible","msgtype":"m.text"},"ts":1223936162000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1223936163000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"roc: :P","msgtype":"m.text"},"ts":1223936164000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"what does IME have to do with this?","msgtype":"m.text"},"ts":1223936165000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: international input","msgtype":"m.text"},"ts":1223936166000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"yes, I know what it is","msgtype":"m.text"},"ts":1223936167000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if you're writing a text editor, you're going to have to use contenteditable or textarea or input type=text, otherwise you won't be accessible to things like voice browsers or other non-graphical user agents","msgtype":"m.text"},"ts":1223936168000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"this has *nothing* to do with text input","msgtype":"m.text"},"ts":1223936169000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you said you were writing an IDE, I assumed this was about text editing","msgtype":"m.text"},"ts":1223936220000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"Hixie: I already do the textarea thing","msgtype":"m.text"},"ts":1223936221000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1223936222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but it's dumb","msgtype":"m.text"},"ts":1223936223000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"just there to grab keystrokes","msgtype":"m.text"},"ts":1223936224000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"maybe you should explain your requirements instead of just telling us what we shoud do","msgtype":"m.text"},"ts":1223936225000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"which I forward on to a server","msgtype":"m.text"},"ts":1223936226000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"so what is it you are trying to do?","msgtype":"m.text"},"ts":1223936227000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"roc: I never said anyone should do aynthing","msgtype":"m.text"},"ts":1223936228000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I asked about submitting a patch","msgtype":"m.text"},"ts":1223936229000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Hixie: I want to be able to render an attributed string inside a <canvas> like tag, with functionality equivalent to that exposed by Core Text on Mac OS X","msgtype":"m.text"},"ts":1223936280000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"would hope browser developers wouldn't accept patches if they didn't know what you were trying to do which needed that patch","msgtype":"m.emote"},"ts":1223936281000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"tell us what you're trying to achieve, not how you think you should do it","msgtype":"m.text"},"ts":1223936282000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"Philip`: we wouldn't","msgtype":"m.text"},"ts":1223936283000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"onitunes: why?","msgtype":"m.text"},"ts":1223936284000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"onitunes: what are you trying to do?","msgtype":"m.text"},"ts":1223936340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":/","msgtype":"m.text"},"ts":1223936341000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"note that even if you wrote a patch for mozilla and webkit, you can't do that for microsoft and opera, so at some level you're asking for the spec to change and for the browsers to implement something, so we need to understand what you want and why :-)","msgtype":"m.text"},"ts":1223936342000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let me turn this around then","msgtype":"m.text"},"ts":1223936343000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"why does Apple provide developers with Core Text?","msgtype":"m.text"},"ts":1223936400000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: just tell us what you want","msgtype":"m.text"},"ts":1223936401000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"to do","msgtype":"m.text"},"ts":1223936402000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"onitunes: why is that so hard","msgtype":"m.text"},"ts":1223936403000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"what am I, some Noob who just needs to learn the API?","msgtype":"m.text"},"ts":1223936404000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I already did that","msgtype":"m.text"},"ts":1223936405000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"\"I want to be able to render an attributed string inside a <canvas> like tag, with functionality equivalent to that exposed by Core Text on Mac OS X\"","msgtype":"m.text"},"ts":1223936406000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1223936407000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why does that matter","msgtype":"m.text"},"ts":1223936408000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"seriously","msgtype":"m.text"},"ts":1223936409000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"even if he wrote a patch for Mozilla, we aren't just going to take it unless we agree it's a necessary and good API. Taking patches is not free","msgtype":"m.text"},"ts":1223936410000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"because we design APIs to address use cases","msgtype":"m.text"},"ts":1223936411000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"onitunes: because there might be a better way to do it","msgtype":"m.text"},"ts":1223936460000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"onitunes: supporting hacks is not the task of a standard -- we want sensible solutions to general problems","msgtype":"m.text"},"ts":1223936461000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"that's exactly what Core Text is","msgtype":"m.text"},"ts":1223936462000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"face palms","msgtype":"m.emote"},"ts":1223936463000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"goes off to do something productive","msgtype":"m.emote"},"ts":1223936520000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"\"The Core Text framework is an advanced, low-level technology for laying out text and handling fonts.\"","msgtype":"m.text"},"ts":1223936521000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"CSS is an advanced, low-level technology for laying out text and handling fonts.","msgtype":"m.text"},"ts":1223936522000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"maybe you should use CSS?","msgtype":"m.text"},"ts":1223936523000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jeez","msgtype":"m.text"},"ts":1223936524000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's hard to know what you actually need if you won't tell us :-)","msgtype":"m.text"},"ts":1223936525000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I do, it sucks","msgtype":"m.text"},"ts":1223936526000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: you've got key people for three different projects all giving you attention, and you've squandered it","msgtype":"m.text"},"ts":1223936527000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I don't understand why you guys get to decide what I \"need\"","msgtype":"m.text"},"ts":1223936528000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I fail to see how","msgtype":"m.text"},"ts":1223936580000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I said *exactly* what I wanted, and why","msgtype":"m.text"},"ts":1223936581000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: We're asking what you need, not telling you what you need","msgtype":"m.text"},"ts":1223936582000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I need to be able to lay out styled text within a <canvas> like tag","msgtype":"m.text"},"ts":1223936583000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1223936584000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"using a programmatic, not DOM-oriented API","msgtype":"m.text"},"ts":1223936585000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"because that's what text layout applications do","msgtype":"m.text"},"ts":1223936640000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and text editors are, in part, text layout applications","msgtype":"m.text"},"ts":1223936641000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"what is a \"text layout application\"?","msgtype":"m.text"},"ts":1223936642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"TextMate","msgtype":"m.text"},"ts":1223936643000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Emacs","msgtype":"m.text"},"ts":1223936644000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"vi","msgtype":"m.text"},"ts":1223936645000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"terminals","msgtype":"m.text"},"ts":1223936646000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Adobe InDesign","msgtype":"m.text"},"ts":1223936647000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"text editors are intended to be addressed by contentEditable and CSS; what is it about contentEditable and CSS that can't replicate the functionality of TextMate, Emacs, vi, terminals, InDesign, etc?","msgtype":"m.text"},"ts":1223936700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they are DOM-oriented","msgtype":"m.text"},"ts":1223936701000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"right, that's a feature","msgtype":"m.text"},"ts":1223936702000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"for me, it's a bug","msgtype":"m.text"},"ts":1223936703000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'm not creating HTML","msgtype":"m.text"},"ts":1223936704000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1223936705000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so I have to extract out the text from the HTML","msgtype":"m.text"},"ts":1223936706000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"what are you creating?","msgtype":"m.text"},"ts":1223936707000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"text","msgtype":"m.text"},"ts":1223936708000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"have you seen the madness people have gone through trying to implement syntax highlighting in the browser?","msgtype":"m.text"},"ts":1223936760000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"so what's wrong with using HTML? It's a text markup languae.","msgtype":"m.text"},"ts":1223936761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"exactly","msgtype":"m.text"},"ts":1223936762000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"MARKUP","msgtype":"m.text"},"ts":1223936763000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'm not creating HTML","msgtype":"m.text"},"ts":1223936764000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"or any other kind of markup","msgtype":"m.text"},"ts":1223936765000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'm creating raw text, and styling it","msgtype":"m.text"},"ts":1223936766000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"eg. marking it up","msgtype":"m.text"},"ts":1223936767000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"palms in hands","msgtype":"m.emote"},"ts":1223936820000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: have you tried node.innerText ?","msgtype":"m.text"},"ts":1223936821000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"seriously?","msgtype":"m.text"},"ts":1223936822000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"of course I have","msgtype":"m.text"},"ts":1223936823000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Daniel Glazman has implemented a general syntax highlighting package that works with the DOM and HTML","msgtype":"m.text"},"ts":1223936824000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"i'm afraid i am not understanding your request. I encourage you to read our FAQ and post your feedback straight to the mailing list where I can give it a longer and more considered response when I have more time available. FAQ: http://wiki.whatwg.org/wiki/FAQ Mailing list: http://whatwg.org/mailing-list#specs","msgtype":"m.text"},"ts":1223936825000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"onitunes: you want to display styled content -- that means markup","msgtype":"m.text"},"ts":1223936880000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"onitunes: you don't have to save markup","msgtype":"m.text"},"ts":1223936881000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"sure, contenteditable etc could be improved, and we'd welcome suggestions on how to do that, but without contenteditable you won't get IME support or accessibility, so your approach of reimplementing text editing from scratch is not the right way to go.","msgtype":"m.text"},"ts":1223936882000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"hmm, styled text != markup","msgtype":"m.text"},"ts":1223936883000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I guess we'll just have to agree to disagree there","msgtype":"m.text"},"ts":1223936940000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: yes it does, NSAttributedString (of which you seem so enamoured) is a string with markup","msgtype":"m.text"},"ts":1223936941000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"(you also won't get the right platform-specific editor UI)","msgtype":"m.text"},"ts":1223936942000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"of course it is","msgtype":"m.text"},"ts":1223936943000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but it's not DOM nodes","msgtype":"m.text"},"ts":1223936944000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"which is what you're suggesting I use","msgtype":"m.text"},"ts":1223936945000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"along with CSS","msgtype":"m.text"},"ts":1223936946000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"do DOM nodes have cooties or something?","msgtype":"m.text"},"ts":1223936947000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"onitunes: yes, because you're in a browser","msgtype":"m.text"},"ts":1223937000000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"then tell me this: why does <canvas> exist?","msgtype":"m.text"},"ts":1223937001000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"why not SVG?","msgtype":"m.text"},"ts":1223937002000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: you're asking for a non browser technology so that you can create an in browser ide -- do you not see the problem with this?","msgtype":"m.text"},"ts":1223937003000,"senderName":"olliej","senderId":"olliej@irc"},
{"content":{"body":"onitunes: mostly to allow people to render platform games and fractals","msgtype":"m.text"},"ts":1223937004000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: then why not SVG?","msgtype":"m.text"},"ts":1223937005000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: or to draw graphs","msgtype":"m.text"},"ts":1223937006000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"onitunes: you can't do fractals with SVG","msgtype":"m.text"},"ts":1223937060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"because retained-mode APIs are high-level","msgtype":"m.text"},"ts":1223937061000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1223937062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sometimes, you just want to paint","msgtype":"m.text"},"ts":1223937063000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"canvas is as high-level as svg","msgtype":"m.text"},"ts":1223937064000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why we can't paint text is beyond me","msgtype":"m.text"},"ts":1223937065000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's just for a different set of use cases","msgtype":"m.text"},"ts":1223937066000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you can paint text","msgtype":"m.text"},"ts":1223937067000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you just can't measure it very well :-)","msgtype":"m.text"},"ts":1223937068000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or paint it along a path or to a path","msgtype":"m.text"},"ts":1223937069000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why is there resistance to this?","msgtype":"m.text"},"ts":1223937120000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"to what?","msgtype":"m.text"},"ts":1223937121000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"low-level text rendering in a canvas tag","msgtype":"m.text"},"ts":1223937122000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"canvas already has low-level text rendering","msgtype":"m.text"},"ts":1223937123000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"without layout, it's not worth much","msgtype":"m.text"},"ts":1223937180000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"has bad memories of having to make a bitmap font for text rendering in canvas back in 2006","msgtype":"m.emote"},"ts":1223937181000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I explained clearly why your approach is not the right direction for text editing.","msgtype":"m.text"},"ts":1223937182000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"it doesn't have metrics because it is as yet still early days and nobody has given a convincing problem they're trying to solve for which we need to expose text metrics","msgtype":"m.text"},"ts":1223937183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"roc: it's not for text editing","msgtype":"m.text"},"ts":1223937184000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"so what is it for?","msgtype":"m.text"},"ts":1223937185000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"text rendering","msgtype":"m.text"},"ts":1223937186000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Core Text has nothing to do with editing","msgtype":"m.text"},"ts":1223937187000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that's what CSS is for","msgtype":"m.text"},"ts":1223937188000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Core Text has nothing to do with the Web either :-)","msgtype":"m.text"},"ts":1223937189000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you have refused to tell us what it actually is for, so we have to guess","msgtype":"m.text"},"ts":1223937240000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"the browser != the web","msgtype":"m.text"},"ts":1223937241000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and it does have something to do with the browser","msgtype":"m.text"},"ts":1223937242000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"i'm not really sure what that means","msgtype":"m.text"},"ts":1223937243000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Core Text is a Mac OS specific technology","msgtype":"m.text"},"ts":1223937244000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it has little to do with browsers in general","msgtype":"m.text"},"ts":1223937245000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you say so","msgtype":"m.text"},"ts":1223937300000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you could say the same about video and audio, but low and behold, there are <video> and <audio> tags","msgtype":"m.text"},"ts":1223937301000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"my original question was: could we make a <text> tag","msgtype":"m.text"},"ts":1223937302000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"video is not a Mac OS specific technology either :-)","msgtype":"m.text"},"ts":1223937303000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we have one","msgtype":"m.text"},"ts":1223937304000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that worked like <canvas>, but let you control layout","msgtype":"m.text"},"ts":1223937305000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"we have two, in fact","msgtype":"m.text"},"ts":1223937360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"why don't you just tell us why HTML and CSS don't satisfy your needs","msgtype":"m.text"},"ts":1223937361000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"if you can't do that, you're just wasting our time","msgtype":"m.text"},"ts":1223937362000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"(namely, one in SVG (<text>), and one in HTML (<span>), both of which are styled with CSS)","msgtype":"m.text"},"ts":1223937363000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"roc: incremental rendering","msgtype":"m.text"},"ts":1223937364000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"with the DOM, you have to include everything in the DOM for it to lay things out for you","msgtype":"m.text"},"ts":1223937420000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"good, be more specific","msgtype":"m.text"},"ts":1223937421000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"a 1MB file cannot have the full DOM created and updated, with correct syntax highlighting, in realtime, on each key press","msgtype":"m.text"},"ts":1223937422000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"to work around that, programmers cheat:","msgtype":"m.text"},"ts":1223937480000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"they take a grid, say 400 characters wide by 400 characters tall","msgtype":"m.text"},"ts":1223937481000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and make each cell in the grid a <span> tag","msgtype":"m.text"},"ts":1223937482000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"then the use node.innerText to update the character","msgtype":"m.text"},"ts":1223937483000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"um, that is patently untrue. load the HTML5 spec in a browser and type javascript:document.body.contentEditable=true into the location bar","msgtype":"m.text"},"ts":1223937484000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and set the correct class on each tag","msgtype":"m.text"},"ts":1223937485000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"pronto, a 2MB+ document editing in realtime","msgtype":"m.text"},"ts":1223937486000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"contentEditible is for HTML","msgtype":"m.text"},"ts":1223937540000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1223937541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm not editing HTMl","msgtype":"m.text"},"ts":1223937542000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'm editing text","msgtype":"m.text"},"ts":1223937543000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"why not?","msgtype":"m.text"},"ts":1223937544000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so mark your text up in HTML","msgtype":"m.text"},"ts":1223937545000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just raw, plain old syntax-highlight texd","msgtype":"m.text"},"ts":1223937546000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"raw, plain old syntax-highlighted text is exactly what HTML is","msgtype":"m.text"},"ts":1223937547000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nonsense","msgtype":"m.text"},"ts":1223937600000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"HTML is semantic","msgtype":"m.text"},"ts":1223937601000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"what do you think syntax highlighting is if not semantics?","msgtype":"m.text"},"ts":1223937602000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and basically, to get interactive performance, I have to completely blow away those semanticns","msgtype":"m.text"},"ts":1223937603000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"its identical to using tables for layout","msgtype":"m.text"},"ts":1223937604000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"what I have to do with the DOM to syntax highlight source code","msgtype":"m.text"},"ts":1223937660000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I can do it, and I *do do it","msgtype":"m.text"},"ts":1223937661000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"as in, it works","msgtype":"m.text"},"ts":1223937662000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if you're not using contenteditable, you're doing it wrong.","msgtype":"m.text"},"ts":1223937663000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"but I would be much better off without the workaround, using DOM nodes for layout, when something like Core Text is what I would use on the desktop","msgtype":"m.text"},"ts":1223937664000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"roc: okay","msgtype":"m.text"},"ts":1223937720000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"contenteditable does not do incremental layout","msgtype":"m.text"},"ts":1223937721000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I need that","msgtype":"m.text"},"ts":1223937722000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"yes it does","msgtype":"m.text"},"ts":1223937723000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"well, it sounds like there's no interest in a low-level text API","msgtype":"m.text"},"ts":1223937724000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"what it doesn't do is incremental recomputation of syntax highlighting","msgtype":"m.text"},"ts":1223937725000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I'll move on, we all have better things to do","msgtype":"m.text"},"ts":1223937726000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"so there's this: http://www.disruptive-innovations.com/zoo/diavolo/diavolo.html","msgtype":"m.text"},"ts":1223937780000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"yeah, it's DOM-centric","msgtype":"m.text"},"ts":1223937781000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes, what do you mean with \"incremental layout\"?","msgtype":"m.text"},"ts":1223937782000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"which does pure-JS syntax highlighting. it's a Firefox extension, but the approach could be ported to regular HTML, I think","msgtype":"m.text"},"ts":1223937783000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"annevk3: not creating DOM nodes for content that is not currently visible","msgtype":"m.text"},"ts":1223937784000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you don't really need that","msgtype":"m.text"},"ts":1223937785000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc: you may be right","msgtype":"m.text"},"ts":1223937786000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you just need contenteditable and the syntax highlighter to be fast","msgtype":"m.text"},"ts":1223937840000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"onitunes, why shouldn't that optimization be up to the browser?","msgtype":"m.text"},"ts":1223937841000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"because they're too slow","msgtype":"m.text"},"ts":1223937842000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"we have lists with 10,000 rows that we can scroll in realtime with incremental rendering","msgtype":"m.text"},"ts":1223937843000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if only 30 rows are visibile, we create 30 DOM nodes and re-use them as the user scrolls, swapping their contents","msgtype":"m.text"},"ts":1223937900000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes, so why not implement the \"incremental layout\" yourself? ah, you're doing that","msgtype":"m.text"},"ts":1223937901000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"right, I do that now","msgtype":"m.text"},"ts":1223937902000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"with <span> cells","msgtype":"m.text"},"ts":1223937903000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"look, I can make this work today","msgtype":"m.text"},"ts":1223937904000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"\"I'm doing this and it's slow\" is much more useful information than \"you must support a Core Text API\"","msgtype":"m.text"},"ts":1223937960000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"but it would be much nicer not to have to trick the browser","msgtype":"m.text"},"ts":1223937961000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and to instead have a nice, low-level text rendering API like Core TExt","msgtype":"m.text"},"ts":1223937962000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"roc: okay, sorry I didn't mention that earlier","msgtype":"m.text"},"ts":1223937963000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if what you want is a fast syntax-highlighted plain text editor, it seems like it would be much better to provide an API for <textarea> that allows that than doing anything with canvas.","msgtype":"m.text"},"ts":1223937964000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: that could be","msgtype":"m.text"},"ts":1223938020000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"as we've repeatedly explained, writing your own text editing throws away a lot of important features, so it's not the right way to go.","msgtype":"m.text"},"ts":1223938021000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"onitunes: that's why we were asking for what you were doing","msgtype":"m.text"},"ts":1223938022000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what Hixie said","msgtype":"m.text"},"ts":1223938023000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"there has been some interest in providing <textarea> syntax-highlighting, maybe backed in a way similar to <datagrid> JS datasource mechanism","msgtype":"m.text"},"ts":1223938024000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm waiting for <datagrid> implementations before going there though","msgtype":"m.text"},"ts":1223938025000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right now I'm not sure whether the problems you have are because you have too much text for the browser to handle efficiently, or whether it's because a pure-JS syntax highlighter isn't fast enough for you","msgtype":"m.text"},"ts":1223938080000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"onitunes: writing a text editor using an API at the level of CoreText would not be a wise idea, even in a native app","msgtype":"m.text"},"ts":1223938081000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(reading some scrollback)","msgtype":"m.text"},"ts":1223938082000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it's not a real problem, I'm just certain it would render faster if I didn't have to do 1600 node.innerText updates to render the text view","msgtype":"m.text"},"ts":1223938140000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"so you're not using contenteditable","msgtype":"m.text"},"ts":1223938141000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1223938142000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"onitunes: nearly all apps developed by Apple that display text use either NSTextView or WebView","msgtype":"m.text"},"ts":1223938143000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: of course they do","msgtype":"m.text"},"ts":1223938144000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"not CoreText directly","msgtype":"m.text"},"ts":1223938145000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"even Xcode","msgtype":"m.text"},"ts":1223938146000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that's what I would build on top of it","msgtype":"m.text"},"ts":1223938147000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1223938148000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and Dashcode","msgtype":"m.text"},"ts":1223938149000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so I do not see why an IDE would specifically want a low-level text drawing API instead of a rich text editing API","msgtype":"m.text"},"ts":1223938200000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but asking browser vendors to implement NSTextView is asking too much","msgtype":"m.text"},"ts":1223938201000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Core Text is much easier to provide, and allows innovation on top of it","msgtype":"m.text"},"ts":1223938202000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I would advise start with contentEditable and point out what is missing that you need","msgtype":"m.text"},"ts":1223938203000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"browser vendors are much more likely to implement NSTextView than CoreText at this point, frankly","msgtype":"m.text"},"ts":1223938204000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I've already said the problem with it: you have to construct the entire DOM tree","msgtype":"m.text"},"ts":1223938205000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Hixie: that's too bad","msgtype":"m.text"},"ts":1223938206000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and is that technologically infeasible?","msgtype":"m.text"},"ts":1223938207000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it's slow","msgtype":"m.text"},"ts":1223938260000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"performance-wise, it's a non-starter","msgtype":"m.text"},"ts":1223938261000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"why? How much text do you have?","msgtype":"m.text"},"ts":1223938262000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"look guys, if this is not critical and patches will be rejected, we should move on","msgtype":"m.text"},"ts":1223938263000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"have you tried it, or is that a guess?","msgtype":"m.text"},"ts":1223938264000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I can already git it to work","msgtype":"m.text"},"ts":1223938265000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"with the approach I have now","msgtype":"m.text"},"ts":1223938266000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I've heard from a similar project that also split up the text and only parsed the displayed bit","msgtype":"m.text"},"ts":1223938267000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"othermaciej: I've tried it","msgtype":"m.text"},"ts":1223938320000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"because of slowness","msgtype":"m.text"},"ts":1223938321000,"senderName":"annevk3","senderId":"annevk3@irc"},
{"content":{"body":"I would like to solve your use case, but drawing manually on a <canvas> is a really poor approach to text editing","msgtype":"m.text"},"ts":1223938322000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"text *rendering*","msgtype":"m.text"},"ts":1223938323000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: we genuinely want to understand your needs and figure out how to meet them","msgtype":"m.text"},"ts":1223938324000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"you guys keep forgetting that","msgtype":"m.text"},"ts":1223938325000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'm not asking about editing","msgtype":"m.text"},"ts":1223938326000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I don't use any of your editing stuff now","msgtype":"m.text"},"ts":1223938327000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if you're not doing editing, then why is performance slow?","msgtype":"m.text"},"ts":1223938328000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and I won't be starting anytime soon","msgtype":"m.text"},"ts":1223938329000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's just a one-off thing if you're not editing","msgtype":"m.text"},"ts":1223938330000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"onitunes: if you post an example of it done that way, I would be glad to profile","msgtype":"m.text"},"ts":1223938331000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ah, I *am* doing editing","msgtype":"m.text"},"ts":1223938332000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if you're doing editing, then you should be doing contentEditable.","msgtype":"m.text"},"ts":1223938380000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: okay, will add todo list","msgtype":"m.text"},"ts":1223938381000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: and figure out whether there are things that can be optimized, or if there is some way to come up with a design that lets you dynamically provide data for only the visible area, or something","msgtype":"m.text"},"ts":1223938382000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"onitunes: we want to solve your whole use case, not just the part you want us to solve, because we think we can solve the problem better than you :-)","msgtype":"m.text"},"ts":1223938383000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I would not expect the DOM approach to be that bad","msgtype":"m.text"},"ts":1223938384000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hixie: *that* much I get","msgtype":"m.text"},"ts":1223938440000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"WebKit's own Web Inspector uses HTML markup for syntax highlighting","msgtype":"m.text"},"ts":1223938441000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"well, this is easily confirmed with tests","msgtype":"m.text"},"ts":1223938442000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and you can see how I \"fix\" the problem","msgtype":"m.text"},"ts":1223938500000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1223938501000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"thanks everyone, it looks like the ball is in my court moving forward","msgtype":"m.text"},"ts":1223938502000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"tests = good","msgtype":"m.text"},"ts":1223938503000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I guess in general, when the normal browser way of doing something is too slow or otherwise unsuitable for some use case, we are generally more interested in enhancing the built-in functinality, than in providing an alternate super low-level way to build it yourself","msgtype":"m.text"},"ts":1223938560000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"not always, but I think that is usually the bias of browser vendors and standards folks","msgtype":"m.text"},"ts":1223938620000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I agree with that approach in general, until programmers start implementing low-level APIs _on top of_ the high-level APIs that are provided, which is what I've done","msgtype":"m.text"},"ts":1223938680000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I would look at such incidents as an opportunity to find out why we did not serve that programmer's use case well with existing API","msgtype":"m.text"},"ts":1223938740000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but I would probably not assume \"add low-level API\" is the solution","msgtype":"m.text"},"ts":1223938741000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I think that drawing one's own text to a bitmap, in particular, is a very bad thing","msgtype":"m.text"},"ts":1223938800000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so I'd like to make sure people don't feel they need to go to such extreme measures","msgtype":"m.text"},"ts":1223938801000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: that's an *amesome* quotable","msgtype":"m.text"},"ts":1223938802000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"awesome","msgtype":"m.text"},"ts":1223938803000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"\"I think that drawing one's own text to a bitmap, in particular, is a very bad thing\"","msgtype":"m.text"},"ts":1223938860000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1223938861000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"fails to see why his remark was remarkable, but ok...","msgtype":"m.emote"},"ts":1223938862000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so, othermaciej, how do you feel about sIFR?","msgtype":"m.text"},"ts":1223938980000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"just kidding...","msgtype":"m.text"},"ts":1223938981000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if I need to explain, then I'll just say that if you draw your own text, you don't get support for the browser features of screen reader integration, copy/paste, find in page, correct bidi layout of text across, line breaks, and history search through text indexing; or the general Web feature of documents being searchable through search engines (granted, some of these don't necessarily apply in the text editing context), and probably m","msgtype":"m.text"},"ts":1223939040000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"even if the right low-level APIs existed to do all these things \"by hand\", it would be very hard to get them right","msgtype":"m.text"},"ts":1223939041000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or IMEs","msgtype":"m.text"},"ts":1223939042000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"so my inclination is to find out why the current rich text editing support of Web browsers is unsuitable, and try to make it suitable","msgtype":"m.text"},"ts":1223939043000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"not to mention selection and drag and drop","msgtype":"m.text"},"ts":1223939100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"rather than assuming people will write their own text editing/display logic by hand","msgtype":"m.text"},"ts":1223939101000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I can already do that stuff with the low-level API I've build on top of your high-level APIs","msgtype":"m.text"},"ts":1223939102000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"including selection and drag and drop","msgtype":"m.text"},"ts":1223939103000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that i'd like to see :-)","msgtype":"m.text"},"ts":1223939104000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm a programmer, just like you guys","msgtype":"m.text"},"ts":1223939105000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"nothings impossible","msgtype":"m.text"},"ts":1223939106000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"just potentially slowv","msgtype":"m.text"},"ts":1223939107000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"since few would even be willing to try the latter, and most who do will fail to get it right","msgtype":"m.text"},"ts":1223939108000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"onitunes: got a demo page up?","msgtype":"m.text"},"ts":1223939160000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"onitunes: you won't get the right per-platform selection behaviour, that's for sure, since you have no way to know what the platform selection behaviour actually is","msgtype":"m.text"},"ts":1223939161000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"it's an IDE","msgtype":"m.text"},"ts":1223939162000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"the selection behavior is IDE-specific","msgtype":"m.text"},"ts":1223939163000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and language specific, for that matter","msgtype":"m.text"},"ts":1223939164000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"what color should the selection be?","msgtype":"m.text"},"ts":1223939165000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"it's an IDE, user configure that stuff","msgtype":"m.text"},"ts":1223939220000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"should the selection extend to the edge of the window or not?","msgtype":"m.text"},"ts":1223939221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"should right-clicking on the selection should a \"Look up in Dictionary\" item, and does it work?","msgtype":"m.text"},"ts":1223939222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"edge of the text areaL","msgtype":"m.text"},"ts":1223939223000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1223939224000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"yes, I draw the selection with a <canvas> overlay","msgtype":"m.text"},"ts":1223939225000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"(i'd love to see your bidi implementation, too)","msgtype":"m.text"},"ts":1223939226000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what should the default color be, for the 99% of users who won't configure the color?","msgtype":"m.text"},"ts":1223939227000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I use the browsers","msgtype":"m.text"},"ts":1223939228000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"we do not want to encourage Web developers in general to ignore platform text editing conventions, even if you think it is the right choice for you","msgtype":"m.text"},"ts":1223939229000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: it's an application","msgtype":"m.text"},"ts":1223939280000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"would love to see a demo of this","msgtype":"m.emote"},"ts":1223939281000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's coming","msgtype":"m.text"},"ts":1223939282000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's an IDE for SproutCore","msgtype":"m.text"},"ts":1223939283000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"none of this is rocket science","msgtype":"m.text"},"ts":1223939284000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and I'm almost certain the feedback I'll get is \"your cheating\"","msgtype":"m.text"},"ts":1223939285000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you're","msgtype":"m.text"},"ts":1223939286000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"because I am","msgtype":"m.text"},"ts":1223939287000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I have full parsers for handling the text","msgtype":"m.text"},"ts":1223939288000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"syntaxt highlighting is trival","msgtype":"m.text"},"ts":1223939340000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"selection handling is done against the AST, again, trivial","msgtype":"m.text"},"ts":1223939341000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"i expect our feedback will be \"this doesn't actually work like it should\", not \"you're cheating\" :-)","msgtype":"m.text"},"ts":1223939342000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: haha, could be","msgtype":"m.text"},"ts":1223939343000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but i'd love to be proved wrong :-)","msgtype":"m.text"},"ts":1223939344000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't really know what \"cheating\" would be, I am more curious whether the features I listed do in fact work correctly","msgtype":"m.text"},"ts":1223939345000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"you guys are tough to convince","msgtype":"m.text"},"ts":1223939346000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I would think getting Safari's \"Find in Page\" to work right with such an editing scheme is probably impossible","msgtype":"m.text"},"ts":1223939347000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but the proof is in the pudding","msgtype":"m.text"},"ts":1223939400000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: of course","msgtype":"m.text"},"ts":1223939401000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I don't support that, but I do have a solid find dialog","msgtype":"m.text"},"ts":1223939402000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"well then","msgtype":"m.text"},"ts":1223939403000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's not a web page, it's a web app","msgtype":"m.text"},"ts":1223939404000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you don't support find in page :-)","msgtype":"m.text"},"ts":1223939405000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"of course","msgtype":"m.text"},"ts":1223939406000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"not","msgtype":"m.text"},"ts":1223939407000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but I do support \"find\"","msgtype":"m.text"},"ts":1223939408000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"then clearly you don't support all the features I listed","msgtype":"m.text"},"ts":1223939409000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and it's much more comprehensive than Safari's \"find in page\" feature","msgtype":"m.text"},"ts":1223939460000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"e.g. Find and Replace :)","msgtype":"m.text"},"ts":1223939461000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"regex find","msgtype":"m.text"},"ts":1223939462000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"(and since the text is backed by git, find in history)","msgtype":"m.text"},"ts":1223939463000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"well, next month will be fun","msgtype":"m.text"},"ts":1223939520000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"the IDE will be released as an alpha in the next few weeks","msgtype":"m.text"},"ts":1223939521000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it sounds like you are sufficiently invested in your idea that you are perhaps past caring whether normal browser text editing could be made to work well enough for your use case","msgtype":"m.text"},"ts":1223939640000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: I bet I could support Find in Page too","msgtype":"m.text"},"ts":1223939641000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"othermaciej: right, I'm not interested at all in browser text editing","msgtype":"m.text"},"ts":1223939642000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I think it's impossible for you guys to implement text editing in a way that makes sense for an IDE","msgtype":"m.text"},"ts":1223939643000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"and it's not your mandate, anyway","msgtype":"m.text"},"ts":1223939644000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I would like the browser's native text editing support to be good enough for a word processor, an IDE, a mail client, or a desktop publishing type app","msgtype":"m.text"},"ts":1223939700000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I think many people involved with browser development would agree","msgtype":"m.text"},"ts":1223939760000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm not sure why you conclude that it's impossible, because people do in fact build IDEs on top of other general-purpose text editing APIs, so all I conclude is that we are missing some essential features of those APIs","msgtype":"m.text"},"ts":1223939761000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"attribute strings, perhaps?","msgtype":"m.text"},"ts":1223939820000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"(or some approach that makes things fast even when style changes are dense, or something like that)","msgtype":"m.text"},"ts":1223939821000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1223939822000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Core Text and you're done","msgtype":"m.text"},"ts":1223939823000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"let us JavaScript guys do the heavy lifting","msgtype":"m.text"},"ts":1223939824000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"why not just provide a low-level bitmap object and let you do the font rasterising too?","msgtype":"m.text"},"ts":1223939880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"surely that would be even more low level","msgtype":"m.text"},"ts":1223939881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you did a <text> node, where the raw source text was in the node, but the drawing was done like <canvas>, that would work","msgtype":"m.text"},"ts":1223939882000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"then you could search for the text, etc.","msgtype":"m.text"},"ts":1223939883000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but still render it programmatically","msgtype":"m.text"},"ts":1223939884000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"like i said, we have <text> already in SVG, and in HTML it's spelt <span>. Both are stylable with CSS.","msgtype":"m.text"},"ts":1223939940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I may go there","msgtype":"m.text"},"ts":1223939941000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: why should we provide a high-level API like CoreText if you're going to ignore it anyway?","msgtype":"m.text"},"ts":1223939942000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm going to build on it","msgtype":"m.text"},"ts":1223939943000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: since you are convinced that you already know the right answer, it is hard to have a productive discussion","msgtype":"m.text"},"ts":1223939944000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"most people do not assume that the right answer to an insufficiently powerful text editing API is to providing an API to do your own text measuring and drawing","msgtype":"m.text"},"ts":1223940000000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"onitunes: why do you want to build on a high-level API like CoreText instead of a low-level API like pixel-level manipulation?","msgtype":"m.text"},"ts":1223940001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I wish JavaScript could manipulate bytes efficiently","msgtype":"m.text"},"ts":1223940060000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"oh well","msgtype":"m.text"},"ts":1223940061000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that we'll be adding","msgtype":"m.text"},"ts":1223940062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'll do whatever I have to do to make my application work properly","msgtype":"m.text"},"ts":1223940063000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"othermaciej: I already pointed out that Daniel Glazman is building an IDE based on browser text editing, but that didn't seem to register","msgtype":"m.text"},"ts":1223940064000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"if it gets down to rendering text on the server and drawing bitmaps with canvas, well, I would be willing to go there","msgtype":"m.text"},"ts":1223940120000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"roc: I looked at it","msgtype":"m.text"},"ts":1223940121000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's XUL based","msgtype":"m.text"},"ts":1223940122000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but may be ported","msgtype":"m.text"},"ts":1223940123000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"XUL doesn't offer anything particularly special here, trust me","msgtype":"m.text"},"ts":1223940124000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"anyway, that's not really my problem space, though it may look similar","msgtype":"m.text"},"ts":1223940125000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"still, I hadn't seen that link, thanks","msgtype":"m.text"},"ts":1223940180000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"you can't even render styled text spans in XUL without dropping into HTML","msgtype":"m.text"},"ts":1223940181000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"onitunes: I think you are proud that you did things in such a hardcore low-level way, and I am tentatively (not having seen the actual demo) impressed","msgtype":"m.text"},"ts":1223940182000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or the equivalent plain-vanilla XML","msgtype":"m.text"},"ts":1223940183000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"onitunes: but I still don't think that is a good design approach in general for text editing in the Web technology stack","msgtype":"m.text"},"ts":1223940240000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: the big thing is I don't like bugs","msgtype":"m.text"},"ts":1223940241000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: based on what you've said, it sounds exactly like your problem space, though certainly it's not the way you solved the problem space","msgtype":"m.text"},"ts":1223940242000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I keep dropping down layers until I hit something solid","msgtype":"m.text"},"ts":1223940243000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"loves bugs, obviously :-P","msgtype":"m.emote"},"ts":1223940244000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's true on every platform I work on","msgtype":"m.text"},"ts":1223940245000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: oh, well I just love bugs, I think they are awesome, so we'll just have to agree to disagree!","msgtype":"m.text"},"ts":1223940246000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i think we should have more bugs!","msgtype":"m.text"},"ts":1223940247000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"You can have some of mine.","msgtype":"m.text"},"ts":1223940300000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"in fact, lemme go check in to the WebKit tree so I can add more bugs","msgtype":"m.text"},"ts":1223940301000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"okay, leaky abstractions","msgtype":"m.text"},"ts":1223940302000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"contenteditable is a leaky abstraction","msgtype":"m.text"},"ts":1223940303000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"(ignoring for a second the performance problems with updating large DOM trees)","msgtype":"m.text"},"ts":1223940304000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's meant for editing \"rich text\"","msgtype":"m.text"},"ts":1223940305000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"so when you want to edit plain text, you get pain","msgtype":"m.text"},"ts":1223940360000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"how can contentEditable be a leaky abstraction? It has multiple different implementations :-)","msgtype":"m.text"},"ts":1223940361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and the pain is different on each browser","msgtype":"m.text"},"ts":1223940362000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"Hixie: see previous line","msgtype":"m.text"},"ts":1223940363000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"whereas <span> + CSS class is basically solid everywhere","msgtype":"m.text"},"ts":1223940364000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"oh well like i said, if you want to edit plain text, we should do that by offering an API on <textarea> for formatting the text on the fly","msgtype":"m.text"},"ts":1223940420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yeah, that'd be cool","msgtype":"m.text"},"ts":1223940421000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"if you've got specific contenteditable bugs that you want fixed, that is also very useful information","msgtype":"m.text"},"ts":1223940422000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"\"if you did a <text> node, where the raw source text was in the node, but the drawing was done like <canvas>, that would work\"","msgtype":"m.text"},"ts":1223940423000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"switch <text> to <textarea> and we agree, essentially, Hixie ","msgtype":"m.text"},"ts":1223940424000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"oh i don't in any way think we should do anything like <canvas>","msgtype":"m.text"},"ts":1223940425000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it would be UA-pull, like <datagrid>","msgtype":"m.text"},"ts":1223940480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I would be inclined to say the browser layout engine still draws the text, but perhaps with dynamic styles","msgtype":"m.text"},"ts":1223940481000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"not author-push like <canvas>","msgtype":"m.text"},"ts":1223940482000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anyway","msgtype":"m.text"},"ts":1223940483000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(that's assuming this can be shown to be meaningfully more efficient than adding <span>s)","msgtype":"m.text"},"ts":1223940484000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that's not something i plan to design today","msgtype":"m.text"},"ts":1223940485000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: I'll do a write-up of the DOM approach on the RedBull wiki","msgtype":"m.text"},"ts":1223940486000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's really simple (probably why its also fast)","msgtype":"m.text"},"ts":1223940540000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"yeah just recreating the DOM nodes on the fly seems like it would probably work about as well","msgtype":"m.text"},"ts":1223940541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"you could do some pretty good optimisations too","msgtype":"m.text"},"ts":1223940542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"keeping track of state so that if you hit a point where you're back in the same state as before you just stop restyling","msgtype":"m.text"},"ts":1223940600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the way I do it, given a character, I can tell you the style (== CSS class) to apply","msgtype":"m.text"},"ts":1223940660000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's pretty hard to screw that up :)","msgtype":"m.text"},"ts":1223940661000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"innerText is also pretty fast on FF","msgtype":"m.text"},"ts":1223940662000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: so you scan back or forward from the character to figure out the style?","msgtype":"m.text"},"ts":1223940663000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: I have a full parse tree","msgtype":"m.text"},"ts":1223940664000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"given a character, I can identify the AST ned","msgtype":"m.text"},"ts":1223940720000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"onitunes: I see","msgtype":"m.text"},"ts":1223940721000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"node","msgtype":"m.text"},"ts":1223940722000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"at the JS level or in native code?","msgtype":"m.text"},"ts":1223940723000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"native","msgtype":"m.text"},"ts":1223940724000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'd like to move it to CSS","msgtype":"m.text"},"ts":1223940725000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but it comes from the server now","msgtype":"m.text"},"ts":1223940726000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"CSS?","msgtype":"m.text"},"ts":1223940727000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I meant JavaScript","msgtype":"m.text"},"ts":1223940728000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"what code is responsible for updating the AST in response to edits?","msgtype":"m.text"},"ts":1223940729000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we talked about this over on #jsc a week or so ago","msgtype":"m.text"},"ts":1223940730000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"othermaciej: the server","msgtype":"m.text"},"ts":1223940780000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I forward key presses and mouse movement to the server","msgtype":"m.text"},"ts":1223940781000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"does it do it in some incremental way or just full reparse?","msgtype":"m.text"},"ts":1223940782000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"incremental","msgtype":"m.text"},"ts":1223940783000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"though the parser is very fast","msgtype":"m.text"},"ts":1223940840000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it's not a bottleneck right now (it's C++)","msgtype":"m.text"},"ts":1223940841000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"it would be cool if even that part could practically be done with JS","msgtype":"m.text"},"ts":1223940900000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"totally agree","msgtype":"m.text"},"ts":1223940901000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I want to move that to JavaScript","msgtype":"m.text"},"ts":1223940902000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"but I'm using libraries from other projects right now, so it'd be a lot of work to do that","msgtype":"m.text"},"ts":1223940903000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"JavaScript also doesn't have mutable strings :(","msgtype":"m.text"},"ts":1223940960000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I would not expect parsing to an AST to need mutable strings","msgtype":"m.text"},"ts":1223941020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"right, but the editing is all server-side now too","msgtype":"m.text"},"ts":1223941080000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'm not sure how to do that efficiently on the client yet","msgtype":"m.text"},"ts":1223941081000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that's what I mean by cheating","msgtype":"m.text"},"ts":1223941082000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I have a really smart server and a really dumb browser client","msgtype":"m.text"},"ts":1223941083000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"props for bucking the trend","msgtype":"m.text"},"ts":1223941140000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I do not think mutable strings are required for editing either; there are some specialized buffer structures for efficiently inserting into or deleting from the middle of a text buffer (like Emacs uses) but I don't think a general-pupose mutable string would help much","msgtype":"m.text"},"ts":1223941200000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I could use arrays, but there's not AFAICT an easy way to go from an integer to a character in a string","msgtype":"m.text"},"ts":1223941260000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"that would be helpful","msgtype":"m.text"},"ts":1223941261000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1223941262000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I've used a switch statement in the past, but it's not fast","msgtype":"m.text"},"ts":1223941263000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"or at least, it wasn't","msgtype":"m.text"},"ts":1223941264000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I think you guys have some improvements there now","msgtype":"m.text"},"ts":1223941265000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"fromCharCode?","msgtype":"m.text"},"ts":1223941320000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"gavin: you're my hero","msgtype":"m.text"},"ts":1223941321000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I'm not sure that using arrays for strings is going to win you anything","msgtype":"m.text"},"ts":1223941380000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"charCodeAt and fromCharCode","msgtype":"m.text"},"ts":1223941381000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"I need a better JavaScript reference :/","msgtype":"m.text"},"ts":1223941382000,"senderName":"onitunes","senderId":"onitunes@irc"},
{"content":{"body":"I have some JS code that does btoa and atob","msgtype":"m.text"},"ts":1223941383000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"why would you do btoa/atob in js?","msgtype":"m.text"},"ts":1223941440000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"modern JS implementations are pretty efficient at handling cases where you split and recombine strings","msgtype":"m.text"},"ts":1223941441000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"ad particularly incremental append","msgtype":"m.text"},"ts":1223941442000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"does IE not have it as a global on the Window?","msgtype":"m.text"},"ts":1223941443000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"gavin: because a) I don't have a window object lying around and b) I'm doing protocol I/O","msgtype":"m.text"},"ts":1223941444000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"jcranmer: what do you have, then?","msgtype":"m.text"},"ts":1223941500000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"gavin: whatever xpcshell has","msgtype":"m.text"},"ts":1223941501000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"jcranmer: atob/btoa were recently added for xpcom components, adding them to xpcshell shouldn't be very hard if it's not already done","msgtype":"m.text"},"ts":1223941502000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"I'd be interested in seeing your version though","msgtype":"m.text"},"ts":1223941560000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"I've written a couple that predate the availability of it in components","msgtype":"m.text"},"ts":1223941561000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"http://hg.mozilla.org/users/Pidgeot18_gmail.com/trunk_mq/file/c05017b8babc/imapfakeserver#l1927","msgtype":"m.text"},"ts":1223941562000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"definitely writtin for JS, though","msgtype":"m.text"},"ts":1223941740000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"ah, mine was http://bonsai.mozilla.org/cvsblame.cgi?file=mozilla/browser/components/search/nsSearchService.js&rev=1.92#269","msgtype":"m.text"},"ts":1223942040000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"took a byte array though","msgtype":"m.text"},"ts":1223942041000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"simon improved it a bit in https://bugzilla.mozilla.org/show_bug.cgi?id=363318#c17","msgtype":"m.text"},"ts":1223942042000,"senderName":"gavin","senderId":"gavin@irc"}
]