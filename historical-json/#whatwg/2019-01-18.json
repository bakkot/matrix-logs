[
{"content":{"body":"is there a first class name for `document.body.parentElement`","msgtype":"m.text"},"ts":1547776459000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: the document element? the root element? document.documentElement?","msgtype":"m.text"},"ts":1547777400000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or otherwise is ‚Äúfirst class name‚Äù some specific term of art?","msgtype":"m.text"},"ts":1547777434000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yeah i meant `document.documentElement`","msgtype":"m.text"},"ts":1547777449000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"thank you","msgtype":"m.text"},"ts":1547777451000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"ah OK","msgtype":"m.text"},"ts":1547777625000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"cheers","msgtype":"m.text"},"ts":1547777632000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: we forgot to pick up the review drafts after the holidays","msgtype":"m.text"},"ts":1547781719000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: ah I can do some today","msgtype":"m.text"},"ts":1547788205000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"big +1 to the new official slogan the nginx project chose for itself","msgtype":"m.text"},"ts":1547808829000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"quoted in https://lists.w3.org/Archives/Public/www-tag/2019Jan/0001.html","msgtype":"m.text"},"ts":1547808848000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"‚ÄúNginx does not comply with HTTP/1.1, let alone TAG findings.‚Äù","msgtype":"m.text"},"ts":1547808878000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"That mail is from 2019? It suddenly feels like 2004 again.","msgtype":"m.text"},"ts":1547812590000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hey y'all! A Bikeshed question. I'm hitting validation issues at https://travis-ci.org/whatwg/fetch/builds/480969414?utm_source=github_status&utm_medium=notification as part of https://github.com/whatwg/fetch/pull/773. I have two <dfn>s with the same name and I'm not sure how to disambiguate them...","msgtype":"m.text"},"ts":1547816652000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: you need to use <a for=/> or <a for=request> explicitly","msgtype":"m.text"},"ts":1547816870000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: <a>s are the problem, not <dfn>s from a quick glance","msgtype":"m.text"},"ts":1547816888000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, so when referring to one of them I need to say which one. Makes perfect sense!","msgtype":"m.text"},"ts":1547816929000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"annevk: thanks! :)","msgtype":"m.text"},"ts":1547816935000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"annevk: note that if by \"fast back\" you mean bfcache, it looks like soon we'll have 3/3 browsers implementing it, so we may want to tighten the spec around that","msgtype":"m.text"},"ts":1547824583000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yeah, I heard in the last meeting around COOP","msgtype":"m.text"},"ts":1547824767000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mainly wonder if making it mandatory will decrease complexity","msgtype":"m.text"},"ts":1547824787000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: nobody was super rushed to make it work for COOP scenarios though, as that would be a lil more involved (though on reflection it's not that complicated from an HTML Standard perspective)","msgtype":"m.text"},"ts":1547824797000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Gotcha","msgtype":"m.text"},"ts":1547824805000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I have never really worked with it myself. I suspect jgraham and zcorpan have some experience writing tests around it, but that's quite a while ago now","msgtype":"m.text"},"ts":1547824850000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"bfcache? Yeah I recall writing some test to make sure that an open websocket caused the doc to be discarded or so","msgtype":"m.text"},"ts":1547824953000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Haven't tested bfcache itself in detail though","msgtype":"m.text"},"ts":1547824977000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"It's so weird how this feature has no real standardized name. At least as far as I know bfcache is a Gecko term","msgtype":"m.text"},"ts":1547824995000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"the way that sometimes history state entries have a Document still and sometimes they don't\"","msgtype":"m.text"},"ts":1547825015000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"üéâ","msgtype":"m.text"},"ts":1547826119000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Gosh the iframe section just has so many random unconnected normative requirements and notes in a row","msgtype":"m.text"},"ts":1547826749000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I see you're very excited to rewrite it all :)","msgtype":"m.text"},"ts":1547827674000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Could really use some nested browsing context container abstraction‚Ä¶","msgtype":"m.text"},"ts":1547827908000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: why is \"Sharing it within an agent cluster is not allowed by JavaScript.\"?","msgtype":"m.text"},"ts":1547834658000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: then a worker/worklet would not have independent forward progress?","msgtype":"m.text"},"ts":1547834930000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: sure, for workers and worklets, but those have their own 1:1 agent/event loop already","msgtype":"m.text"},"ts":1547834946000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It's the window case we're discussing","msgtype":"m.text"},"ts":1547834951000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: you cannot have multiple of those in one cluster","msgtype":"m.text"},"ts":1547834972000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: and that was not clear from your phrasing","msgtype":"m.text"},"ts":1547834991000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ah, right.","msgtype":"m.text"},"ts":1547834997000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I'm still working on this","msgtype":"m.text"},"ts":1547835016000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I asked internally and then learned that agents and threads are not 1:1 (makes sense in retrospect)","msgtype":"m.text"},"ts":1547835038000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"So now I need to think harder about what the spec is communicating, both in the agents section generally and in your proposed change vs. the slight-update-to-the-status quo that I am somewhat advocating for.","msgtype":"m.text"},"ts":1547835083000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah, I guess there is some sharing, but it‚Äôs not required or observable","msgtype":"m.text"},"ts":1547835089000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think it's observable that you can starve other pages","msgtype":"m.text"},"ts":1547835115000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"a.com can busy-loop to stop b.com's tasks from executing, even though they're different agents. So I think that leans toward them sharing an event loop.","msgtype":"m.text"},"ts":1547835156000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I think it's even testable using postMessage","msgtype":"m.text"},"ts":1547835173000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Although not in a very deterministic fashion","msgtype":"m.text"},"ts":1547835184000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Gotta lunch now though, so haven't thought as hard as I need to","msgtype":"m.text"},"ts":1547835198000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"If they are in the same process you have Sectre problems though","msgtype":"m.text"},"ts":1547835213000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So not particularly compelling longer term","msgtype":"m.text"},"ts":1547835235000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Spectre","msgtype":"m.text"},"ts":1547835248000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I don't think anyone is signed up for guaranteeing that every origin gets its own process, no matter how many tabs you have open.","msgtype":"m.text"},"ts":1547835258000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But regardless, consider two same-origin pages that aren't in the same URSOBC.","msgtype":"m.text"},"ts":1547835272000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah, but then how do you proof it? Timers and BroadcastChannel? Shared worker maybe?","msgtype":"m.text"},"ts":1547835386000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Also, separate event loops does not mean much, UA could still interleave them as spec does not put reqs on them","msgtype":"m.text"},"ts":1547835434000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"We want process per site long term, with some guarantee as I understand. Perhaps by paging background tabs to disk or some such","msgtype":"m.text"},"ts":1547835566000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Separate event loops per spec require you to drain them all in parallel","msgtype":"m.text"},"ts":1547835577000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"There's no provision for blocking indefinitely on another event loop","msgtype":"m.text"},"ts":1547835596000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I realize it may be hard to write tests for, especially deterministic ones, but it's still \"observable\", especially to users.","msgtype":"m.text"},"ts":1547835682000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I guess, ok, it prolly does not matter much anyway as tasks already have an owner, but sharing same-site window agents we could do","msgtype":"m.text"},"ts":1547835699000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Allowing that, anyway","msgtype":"m.text"},"ts":1547835723000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I‚Äôd also love to clarify the task record snd how it differs between event loop types","msgtype":"m.text"},"ts":1547835778000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and*","msgtype":"m.text"},"ts":1547835785000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Draining them in parallel is a pretty good point, although UAs could in theory halt on every step of course and all we could claim is that perf is bad, which isn‚Äôt a thing standards care about‚Ä¶","msgtype":"m.text"},"ts":1547835866000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Lol I guess. Just would rather have something more like the implementation","msgtype":"m.text"},"ts":1547835913000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"The task struct definitely could use cleanup","msgtype":"m.text"},"ts":1547835930000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I also will PR something to make it clear agents and threads are not 1:1 (it's more likely event loops and threads will be). I think the current non-normative text is a bit misleading.","msgtype":"m.text"},"ts":1547836323000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"is anyone here experienced with EME","msgtype":"m.text"},"ts":1547848153000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"https://blog.whatwg.org/drm-and-web-security","msgtype":"m.text"},"ts":1547848623000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oh its w3c not whatwg","msgtype":"m.text"},"ts":1547848805000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"(and btw i hate eme, but i'm trying to use a stream that has widevne)","msgtype":"m.text"},"ts":1547848820000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"Basically, probably not a lot of people around here have much expertise in the area, given sentiments like the above ;)","msgtype":"m.text"},"ts":1547848953000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1547848978000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"as far as i can tell no one on the internet has experience with eme","msgtype":"m.text"},"ts":1547848986000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"except the developers at the companies that pushed eme","msgtype":"m.text"},"ts":1547849004000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"This seems plausible","msgtype":"m.text"},"ts":1547849085000,"senderName":"Domenic","senderId":"Domenic@irc"}
]