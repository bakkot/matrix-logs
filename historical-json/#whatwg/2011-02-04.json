[
{"content":{"body":"zcorpan: nobody is suggesting a single API for all types of devices","msgtype":"m.text"},"ts":1296777720000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: <device> doesn't have an API for the devices, it just returns the APIs, which are device-specific","msgtype":"m.text"},"ts":1296777780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, so a bit like NPAPI?","msgtype":"m.text"},"ts":1296777840000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"in what way?","msgtype":"m.text"},"ts":1296777841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"more like a bit like how different events have different interfaces","msgtype":"m.text"},"ts":1296777900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<object> implements a plugin-specific interface","msgtype":"m.text"},"ts":1296777901000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or how createElement() returns different objects based on its input","msgtype":"m.text"},"ts":1296777902000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"except for <device>, the input is from the user (based on a filter given by the author -- like <input type=file> and accept=\"\"), and the output is an object, not a DOM Node","msgtype":"m.text"},"ts":1296777960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<device> doesn't implement the interface","msgtype":"m.text"},"ts":1296777961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it returns an object that implements the interface","msgtype":"m.text"},"ts":1296778020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1296778021000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I agree with maciej, <device> seems too overloaded","msgtype":"m.text"},"ts":1296778560000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"also is skeptical","msgtype":"m.emote"},"ts":1296778561000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"it's totally unclear what it means to \"implement <device>\"","msgtype":"m.text"},"ts":1296778562000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"if a device is going to have its own Web-standard API, why shouldn't it have its own element?","msgtype":"m.text"},"ts":1296778620000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"it' seems pretty similar to canvas in that it's thin markup hook to hang APIs on","msgtype":"m.text"},"ts":1296778621000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"some would say it doesn't need any element/markup at all, can just all be done with script","msgtype":"m.text"},"ts":1296778680000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I'm not too thrilled by the canvas getContext() approach either, but at least 2D and 3D <canvas>es have a lot of properties in common","msgtype":"m.text"},"ts":1296778681000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"aye","msgtype":"m.text"},"ts":1296778682000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1296778683000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I agree about <device> being overloaded","msgtype":"m.text"},"ts":1296778860000,"senderName":"doublec","senderId":"doublec@irc"},
{"content":{"body":"I often see discussions about some wanted feature in HTML and someone saying \"hey, isn't device supposed to do that\"","msgtype":"m.text"},"ts":1296778861000,"senderName":"doublec","senderId":"doublec@irc"},
{"content":{"body":"from video conferencing to serial port communication","msgtype":"m.text"},"ts":1296778862000,"senderName":"doublec","senderId":"doublec@irc"},
{"content":{"body":"MikeSmith: <device> and <canvas> are very similar, yes","msgtype":"m.text"},"ts":1296778980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"doublec: video conferencing and serial port communication are the two things in the spec. :-)","msgtype":"m.text"},"ts":1296779040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<device>: it's a floor wax *and* a desert topping","msgtype":"m.text"},"ts":1296779100000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i really don't understand what is overloaded about it","msgtype":"m.text"},"ts":1296779160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's like <select>","msgtype":"m.text"},"ts":1296779161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is <select> overloaded because it can be used for pizza toppings and airline destinations?","msgtype":"m.text"},"ts":1296779162000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fwiw, https://lists.webkit.org/pipermail/webkit-dev/2011-January/015822.html seems to indicate chromium engineer has already written a device implementation","msgtype":"m.text"},"ts":1296779220000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think that is too high a level of abstraction for users and for typical programmers","msgtype":"m.text"},"ts":1296779221000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"input element is overloaded for sure","msgtype":"m.text"},"ts":1296779222000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"othermaciej: there's no abstraction at all. it's concrete. <device type=media> gives a popup of media sources, user picks one, UA fires an event with an object implementing a media stream API.","msgtype":"m.text"},"ts":1296779280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the input element was a mistake","msgtype":"m.text"},"ts":1296779281000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"and <device> repeates the problems with a mutable type attribute","msgtype":"m.text"},"ts":1296779282000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"othermaciej: <device type=rs232> gives a popup of RS232 devices, user picks one, UA fires an event with an object implement an RS232 API","msgtype":"m.text"},"ts":1296779283000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<input> is overloaded because it does many things","msgtype":"m.text"},"ts":1296779340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<device> does one thing","msgtype":"m.text"},"ts":1296779341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: to the user, the feature is \"use my camera\" or \"use whatever is connected to my serial port\", not \"pick a device\"","msgtype":"m.text"},"ts":1296779342000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"sounds more like <device> does zero things","msgtype":"m.text"},"ts":1296779343000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: that's subjective. <input> does one thing: it accepts user input","msgtype":"m.text"},"ts":1296779344000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc: but it has many different UIs. <device> has one.","msgtype":"m.text"},"ts":1296779345000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"also, it will be very common to have exactly one microphone or exactly one camera","msgtype":"m.text"},"ts":1296779346000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"at which point a popup is a poor UI","msgtype":"m.text"},"ts":1296779400000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"roc: and <input> has many different APIs, <device> has one.","msgtype":"m.text"},"ts":1296779401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't understand how <device> can have one UI","msgtype":"m.text"},"ts":1296779402000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I don't understand how it could have more than one :-)","msgtype":"m.text"},"ts":1296779403000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the browser is going to offer the same UI for picking cameras, microphones, RS232 ports, and connection peers?","msgtype":"m.text"},"ts":1296779404000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"a popup menu that says \"Front-facing camera\" and \"Rear-facing camera\" in a menu would also be terrible UI for the more common devices with two cameras","msgtype":"m.text"},"ts":1296779405000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: what would good secure UI be?","msgtype":"m.text"},"ts":1296779460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or is connection peer totally unrelated? I don't understand \"This section will be moved to a more appropriate location in due course; it is here currently to keep it near the device element to allow reviewers to look at it.\"","msgtype":"m.text"},"ts":1296779461000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I don't know, good secure UI is hard","msgtype":"m.text"},"ts":1296779462000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"connectionpeer is as related to <device> as XHR is to <input type=file>","msgtype":"m.text"},"ts":1296779463000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: well, this is what we have for now. I'm open to improvements if people can suggest any. But \"no\" isn't an improvement.","msgtype":"m.text"},"ts":1296779520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I would probably show previews of what the two cameras are showing and have a record button or something","msgtype":"m.text"},"ts":1296779521000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and probably have a persistent record indicator in the UI","msgtype":"m.text"},"ts":1296779522000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that scales reasonably to either one or two cameras","msgtype":"m.text"},"ts":1296779580000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"but I don't think it scales to serial ports","msgtype":"m.text"},"ts":1296779581000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i'll have to draw up some mockups","msgtype":"m.text"},"ts":1296779582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"tying this to an element is only really helpful if something useful shows up in page by default (actual video output of camera? soundwave of audio input for mic-only?), or if requiring a real user click is somehow part of the security value","msgtype":"m.text"},"ts":1296779700000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"an icon representing the device, and yes, respectively","msgtype":"m.text"},"ts":1296779701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I don't think requiring a real user click has real security value","msgtype":"m.text"},"ts":1296779702000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"given clickjacking type techniques, I'm not even sure an element is a helpful tool to ensure a real user click","msgtype":"m.text"},"ts":1296779703000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"how do we ensure the user confirms which device he wants without popping up a separate window after a user click?","msgtype":"m.text"},"ts":1296779760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if we have better ideas i'm all for it","msgtype":"m.text"},"ts":1296779761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in Firefox we have standard UI for confirming geolocation requests, offline storage, and other things","msgtype":"m.text"},"ts":1296779820000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I think we'd want to hook into that","msgtype":"m.text"},"ts":1296779821000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I think it might be more useful for us to implement a UI we think is good by way of a proposal","msgtype":"m.text"},"ts":1296779822000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"roc: the infobar? i thought it was established that that was a disaster","msgtype":"m.text"},"ts":1296779823000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm not sure an icon representing a camera is a super useful part of video conferencing UI","msgtype":"m.text"},"ts":1296779880000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it's changed in Firefox 4","msgtype":"m.text"},"ts":1296779881000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I don't know if the new design is considered a disaster","msgtype":"m.text"},"ts":1296779882000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"a popup might be useful for choosing purposes, but then you have to think about how it works when there is only one thing to choose, and at that point I am not sure \"real user click\" is a useful security feature","msgtype":"m.text"},"ts":1296779883000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"roc: is there a test page that brings them up? i tried google maps but nothing came up when i got it to ask for the location","msgtype":"m.text"},"ts":1296780180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"which is fine ui but not very secure :-)","msgtype":"m.text"},"ts":1296780181000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"did it use your location or not?","msgtype":"m.text"},"ts":1296780182000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"perhaps you set it to always-allow in the past","msgtype":"m.text"},"ts":1296780183000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"it found where i was, dunno if it was based on IP or something better","msgtype":"m.text"},"ts":1296780184000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bring up page-info and go to the permissions pane","msgtype":"m.text"},"ts":1296780185000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"a web page can often get your location quite accurately without any participation from the browser","msgtype":"m.text"},"ts":1296780240000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"select always-ask","msgtype":"m.text"},"ts":1296780241000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I just tried google maps in a ff 4 nightly and it asked for permission","msgtype":"m.text"},"ts":1296780242000,"senderName":"doublec","senderId":"doublec@irc"},
{"content":{"body":"jamesr_: probably not to within a city block, I'm guessing","msgtype":"m.text"},"ts":1296780243000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"that makes a difference to me","msgtype":"m.text"},"ts":1296780244000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"roc: why not?","msgtype":"m.text"},"ts":1296780245000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"depends on the city, i suppose","msgtype":"m.text"},"ts":1296780300000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"ah, yes, i had granted it permission","msgtype":"m.text"},"ts":1296780301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"roc: is there a page that shows the quota dialog?","msgtype":"m.text"},"ts":1296780302000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"most desktops firefox can get as close as geoip can get","msgtype":"m.text"},"ts":1296780303000,"senderName":"kbrosnan","senderId":"kbrosnan@irc"},
{"content":{"body":"but why couldn't some enterprising web authors know the IP address + location of every starbucks in the world?","msgtype":"m.text"},"ts":1296780304000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"because ISP subnet blocks will be distributed across many city blocks","msgtype":"m.text"},"ts":1296780305000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"maybe you're right about Starbucks","msgtype":"m.text"},"ts":1296780360000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"but you're not right about my house","msgtype":"m.text"},"ts":1296780361000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"sure. depends on the house","msgtype":"m.text"},"ts":1296780362000,"senderName":"jamesr_","senderId":"jamesr_@irc"},
{"content":{"body":"Hixie: dunno","msgtype":"m.text"},"ts":1296780363000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"the geo ui in ff4 is ok. not sure how well it would scale if there were multiple requests at once.","msgtype":"m.text"},"ts":1296780420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we only show one request (of a given type) at a time","msgtype":"m.text"},"ts":1296780840000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"ah interesting","msgtype":"m.text"},"ts":1296780841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well we can certainly do something along these lines with a callback like geolocation","msgtype":"m.text"},"ts":1296780842000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the main in-page element that makes sense for a camera (IMO) is something in-page to show you what's being recorded, without having to route through JavaScript first","msgtype":"m.text"},"ts":1296780900000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we have considered an approach where you give a magic URL to <video src> like \"camera:\"","msgtype":"m.text"},"ts":1296780960000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I am not sure infobar is the right model for camera access","msgtype":"m.text"},"ts":1296780961000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"roc: that's the URL you get from Stream","msgtype":"m.text"},"ts":1296781020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: it may not be, but I would certainly not be happy with in-page clicks serving as confirmation UI","msgtype":"m.text"},"ts":1296781021000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"with <device> the confirmation UI is out-of-page","msgtype":"m.text"},"ts":1296781080000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the in-page click is the one that brings up the confirmation UI","msgtype":"m.text"},"ts":1296781081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"roc: that definitely is not good for the confirmation UI","msgtype":"m.text"},"ts":1296781082000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"roc: that has to be out-of-page","msgtype":"m.text"},"ts":1296781083000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(can't the geolocation thing in ff4 be click-jacked? it always appears in a predictable place, no?)","msgtype":"m.text"},"ts":1296781084000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1296781085000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"(bug 583175)","msgtype":"m.text"},"ts":1296781140000,"senderName":"gavin","senderId":"gavin@irc"},
{"content":{"body":"that's one of the things the <device> design works around","msgtype":"m.text"},"ts":1296781260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i'm certainly open to better suggestions","msgtype":"m.text"},"ts":1296781261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham or gsnedders or other random Opera person: how different is Opera's innerText from textContent?  And how different is its Selection.toString() from Range.toString()?  Do you know of web-compat issues that would prevent them from being made the same, just scrapping all plaintext conversion in favor of concatenating text nodes?","msgtype":"m.text"},"ts":1296781740000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"othermaciej, what do you think of the last five paragraphs of <http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-February/030210.html>?","msgtype":"m.text"},"ts":1296782520000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: innerText is pretty pointless if it does the exact same thing as textContent","msgtype":"m.text"},"ts":1296782700000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"AryehGregor: that will just mislead pages that try to sniff for it","msgtype":"m.text"},"ts":1296782701000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I don't know enough about Selection.toString() to have an opinion","msgtype":"m.text"},"ts":1296782760000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej, the overwhelming majority of pages that use innerText use it as a simple substitute for textContent.","msgtype":"m.text"},"ts":1296782761000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I don't think we'd have a major problem with making innerText more IE-like","msgtype":"m.text"},"ts":1296782762000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"For the rest, textContent isn't a particularly bad substitute.","msgtype":"m.text"},"ts":1296782763000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"well, if they work in Mozilla they can use textContent","msgtype":"m.text"},"ts":1296782764000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Opera and IE9 also have innerText that behaves a lot more like textContent than like WebKit's innerText.","msgtype":"m.text"},"ts":1296782820000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"is IE9 different from older IE?","msgtype":"m.text"},"ts":1296782821000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Yes, totally different.","msgtype":"m.text"},"ts":1296782822000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"At least in my testing.","msgtype":"m.text"},"ts":1296782823000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"weird","msgtype":"m.text"},"ts":1296782824000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I wonder if that's intentional","msgtype":"m.text"},"ts":1296782825000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"anyway","msgtype":"m.text"},"ts":1296782826000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we almost surely have legacy WebKit-specific content that will break if we change here","msgtype":"m.text"},"ts":1296782880000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if there was a lot of interop value to be gained, we might consider breaking it","msgtype":"m.text"},"ts":1296782881000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"WebKit has by far the most complicated innerText implementation of any browser, AFAICT.","msgtype":"m.text"},"ts":1296782882000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"What sort of content would actually break in practice?","msgtype":"m.text"},"ts":1296782883000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"but it seems like the only interop we'd be getting is with Mozilla's refusal to have the feature of plaintext conversion","msgtype":"m.text"},"ts":1296782884000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"no idea","msgtype":"m.text"},"ts":1296782885000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"there's lots of content coded only to WEbKit","msgtype":"m.text"},"ts":1296782886000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Plaintext conversion is a very rare use-case.","msgtype":"m.text"},"ts":1296782940000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"when we adopted the HTML5 parsing algorithm, lots of things broke","msgtype":"m.text"},"ts":1296782941000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"not on the public web","msgtype":"m.text"},"ts":1296782942000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"And when it is used, the result is generally just going to be displayed to the user, so at worst it will look a bit weird.","msgtype":"m.text"},"ts":1296782943000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"but dashboard widgets, Mac native apps (maybe iOS native apps too), Apple intranet sites...","msgtype":"m.text"},"ts":1296782944000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that pain was worth it, I suppose, to gain WEb compatibility and inteop on something major","msgtype":"m.text"},"ts":1296783000000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"That could all break if you change your innerText implementation substantially at all, though, including to a hypothetical plaintext conversion spec.","msgtype":"m.text"},"ts":1296783001000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"doesn't seem worth it for something minor, especially when it's just to satisfy Mozilla's ideological desire for the feature to not exist","msgtype":"m.text"},"ts":1296783002000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that's probably true","msgtype":"m.text"},"ts":1296783003000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we'd have to test it a lot","msgtype":"m.text"},"ts":1296783004000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we have changed it in minor ways over time","msgtype":"m.text"},"ts":1296783005000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I know that if <br> doesn't produce newlines, stuff will break","msgtype":"m.text"},"ts":1296783006000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"past that, hard to say","msgtype":"m.text"},"ts":1296783007000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"So if you're really saying that WebKit is not willing to change its innerText algorithm much at all no matter what, either we have to spec a close match to its algorithm or give up on WebKit interoperating here.","msgtype":"m.text"},"ts":1296783060000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"In the first case, no one will implement the algorithm because it's not worth it.","msgtype":"m.text"},"ts":1296783061000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I'm saying we have to do a lot of testing","msgtype":"m.text"},"ts":1296783062000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"In the second case, at least we have all other engines on the same page.","msgtype":"m.text"},"ts":1296783063000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"so an interoperable specification would have to be worth the cost of testing and of fixing the content that breaks","msgtype":"m.text"},"ts":1296783064000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if the spec neuters the feature and we have to add a prefixed version, that doesn't seem worth it","msgtype":"m.text"},"ts":1296783120000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"better to just have the feature remain nonstandard in that case","msgtype":"m.text"},"ts":1296783121000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"at least IMO","msgtype":"m.text"},"ts":1296783122000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"It doesn't have to be exactly the same as textContent, we can add whatever adjustments are needed for web compat.  E.g., something simple like adding newlines for <br> would probably be fine.","msgtype":"m.text"},"ts":1296783123000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I am sure lots of minor changes are possible","msgtype":"m.text"},"ts":1296783124000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it's hard for me to judge without a specific proposal","msgtype":"m.text"},"ts":1296783125000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm pretty sure \"identical to textContent\" won't fly","msgtype":"m.text"},"ts":1296783180000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"The proposal would be \"identical to textContent except for whatever implementers say is necessary for compat\".","msgtype":"m.text"},"ts":1296783181000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Opera might have useful input here.","msgtype":"m.text"},"ts":1296783182000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"IE probably still gets compat benefit from their old version due to their multiple engines","msgtype":"m.text"},"ts":1296783183000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so they might be more willing to change than us, but only in IE9 standards mode","msgtype":"m.text"},"ts":1296783184000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Yes, IE has devised its own way to evade compat problems.","msgtype":"m.text"},"ts":1296783185000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"If people keep on writing so much WebKit-only code and WebKit has complicated WebKit-only features like this unprefixed, it's going to be forced to do the same someday.","msgtype":"m.text"},"ts":1296783240000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"At least that's my prediction.","msgtype":"m.text"},"ts":1296783300000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"well, we don't add new nonstandard features unprefixed these days","msgtype":"m.text"},"ts":1296783301000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"even in this case, we didn't make it up, we copied it from IE","msgtype":"m.text"},"ts":1296783302000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"This one sort of snuck in as kind of an attempt to copy IE except actually not really because WebKit's implementation is more sophisticated in most ways.","msgtype":"m.text"},"ts":1296783303000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(like IE doesn't even handle display: none)","msgtype":"m.text"},"ts":1296783304000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I suspect IE magically applies formatting based on certain HTML tags, and ours actually looks at the rendering","msgtype":"m.text"},"ts":1296783360000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"isn't there a record of why Webkit added that complexity? There must have been some use-case","msgtype":"m.text"},"ts":1296783361000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"No, I'm pretty sure that's not true.  I think IE8 handles <div style=white-space:pre-line> nicely in my test.","msgtype":"m.text"},"ts":1296783362000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"we inherited innerText from KHTML","msgtype":"m.text"},"ts":1296783420000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Gecko's the one that mostly ignores CSS.","msgtype":"m.text"},"ts":1296783421000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: It's a completely different code-path to textContent, so kinda hard to tell what exactly is different","msgtype":"m.text"},"ts":1296783422000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"then we made it more IE-compatible (original version was dumb)","msgtype":"m.text"},"ts":1296783423000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"well, then they should have a record","msgtype":"m.text"},"ts":1296783424000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"I don't think KHTML has records extending to more than 10 years ago","msgtype":"m.text"},"ts":1296783425000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"gsnedders, textContent is trivial, it just concatenates all the text nodes.  Presumably innerText does that but with some extra processing, yes?","msgtype":"m.text"},"ts":1296783426000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"anyway, at some point I think we merged it with the plaintext conversion code we use for other purposes, e.g. copy","msgtype":"m.text"},"ts":1296783480000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Yeah, WebKit's the only one that does that AFAICT.","msgtype":"m.text"},"ts":1296783481000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: I also don't understand quite how our impl works :)","msgtype":"m.text"},"ts":1296783482000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(didn't test Opera or IE8, I guess)","msgtype":"m.text"},"ts":1296783483000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"gsnedders, well, I can do some black-box testing if necessary.","msgtype":"m.text"},"ts":1296783484000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"we can split it from regular plaintext conversion if some compatible-enough version would work better","msgtype":"m.text"},"ts":1296783485000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I can't commit resources to do interop research on this in the short term though","msgtype":"m.text"},"ts":1296783486000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"AryehGregor: I can ask others if I remember tomorrow","msgtype":"m.text"},"ts":1296783540000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"AryehGregor: My reading of the code when I tried to work out what it did was that it always returned the empty string. This is quite obviously wrong. :)","msgtype":"m.text"},"ts":1296783541000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, surprisingly, that matches what Opera does for Selection.toString() in my test page.  Maybe you're on to something.","msgtype":"m.text"},"ts":1296783600000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(Now you know why I don't get paid to do white-box QA)","msgtype":"m.text"},"ts":1296783601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"AryehGregor: That'll just be ranges stuff, I suspect.","msgtype":"m.text"},"ts":1296783660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yeah, I know, I was kidding.  :P","msgtype":"m.text"},"ts":1296783661000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Unless my eyes deceive me, the only thing Opera does differently here for innerText is that it adds newlines for <br>: http://aryeh.name/spec/innertext/test/innerText.html","msgtype":"m.text"},"ts":1296783720000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(there's a diff at the end)","msgtype":"m.text"},"ts":1296783721000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Damn, I missed the <device> conversation today.","msgtype":"m.text"},"ts":1296787140000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: do you have an opinion on the topics discussed relating to <device>?","msgtype":"m.text"},"ts":1296789900000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I wonder if I should write a change proposal for http://www.w3.org/html/wg/tracker/issues/140","msgtype":"m.text"},"ts":1296816000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Introducing a special term \"conforming HTML5 document\" is bound to lead to pointless arguments","msgtype":"m.text"},"ts":1296816060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"though the lack of it will presumably do too","msgtype":"m.text"},"ts":1296816061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If you don't enjoy pointless arguments, why ever did you get involved with specs work?","msgtype":"m.text"},"ts":1296816120000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham, that sounds like logic","msgtype":"m.text"},"ts":1296816180000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"heh, meta","msgtype":"m.text"},"ts":1296816240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I can't tell, my reference point was left at the door","msgtype":"m.text"},"ts":1296816241000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"thanks volkmar","msgtype":"m.text"},"ts":1296820140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: np","msgtype":"m.text"},"ts":1296820200000,"senderName":"volkmar","senderId":"volkmar@irc"},
{"content":{"body":"stuff I just learned: Gecko doesn't use .xsl as signal of XSLTness but wants a type pseudo-attribute on the <?xml-stylesheet?> PI","msgtype":"m.text"},"ts":1296821700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"when loading from local disk","msgtype":"m.text"},"ts":1296821701000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"sigh. trying to learn XSLT in a hurry. having trouble with template precedence","msgtype":"m.text"},"ts":1296823140000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"simple examples here: http://annevankesteren.nl/test/xml/xslt/","msgtype":"m.text"},"ts":1296823200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"though I guess you can find those anywhere","msgtype":"m.text"},"ts":1296823260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that HTTP status code problem is annoying","msgtype":"m.text"},"ts":1296823500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"similarly with images not existing and such","msgtype":"m.text"},"ts":1296823501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: doesn't gecko want type=\"\" even when loading over HTTP?","msgtype":"m.text"},"ts":1296823920000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I didn't test","msgtype":"m.text"},"ts":1296823921000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: thanks. I think I now have roughly what I want except I have an insane amount of pointless whitespace","msgtype":"m.text"},"ts":1296823980000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wondering what tool is the quickest for zapping the extra space","msgtype":"m.text"},"ts":1296823981000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham, http://tc.labs.opera.com/apis/EventSource/eventsource-constructor-url-bogus.htm why is that again?","msgtype":"m.text"},"ts":1296825540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham, should I update testharness.js?","msgtype":"m.text"},"ts":1296825541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: It is a confusing error that doesn't reflect what is actually going on","msgtype":"m.text"},"ts":1296825600000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But I don't think it is fixed","msgtype":"m.text"},"ts":1296825601000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: Probably it is because e.name !== SYNTAX_ERR","msgtype":"m.text"},"ts":1296825720000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"iirc there is some debate about whether you will require than in web dom vore anyway","msgtype":"m.text"},"ts":1296825721000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"So the check could probably be removed","msgtype":"m.text"},"ts":1296825780000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hmm yeah","msgtype":"m.text"},"ts":1296825781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or at least be made a separate assert","msgtype":"m.text"},"ts":1296825782000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"because that piece of code violates all the nicety the harness provides","msgtype":"m.text"},"ts":1296825783000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(i.e. not needing pass1 && pass2 && pass3","msgtype":"m.text"},"ts":1296825840000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":")","msgtype":"m.text"},"ts":1296825841000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"OK, I will do that. In the meantime you could patch your copy by looking for e.name === code_or_object","msgtype":"m.text"},"ts":1296825842000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and removing it","msgtype":"m.text"},"ts":1296825843000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah, I guess that is best for now","msgtype":"m.text"},"ts":1296825844000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"approves of removing that check","msgtype":"m.emote"},"ts":1296826500000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"is X-Frame-Options discussed on some mailing list?","msgtype":"m.text"},"ts":1296827220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if the font community can be convinced of http://annevankesteren.nl/2011/02/from-origin it would be nice to replace it with that over time","msgtype":"m.text"},"ts":1296827221000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Does from-origin need multiple domains or wildcards or something?","msgtype":"m.text"},"ts":1296827460000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"e.g. From-Origin *.example.com","msgtype":"m.text"},"ts":1296827461000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"or rather http://*.example.com or something","msgtype":"m.text"},"ts":1296827520000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'd prefer not to","msgtype":"m.text"},"ts":1296827521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but it could be extended in such a way","msgtype":"m.text"},"ts":1296827580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or turned into that if that is what is needed","msgtype":"m.text"},"ts":1296827581000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"most of the time you simply want From-Origin: same","msgtype":"m.text"},"ts":1296827582000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh EventSource, I dislike updating your tests so much","msgtype":"m.text"},"ts":1296828360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Could From-Origin be easily worked around for image hotlinking by doing <object data=\"data:text/html,<script>location='http://example.org/image'</script>\"></object> ?","msgtype":"m.text"},"ts":1296828540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1296828600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh, I'm confused and thinking of it like Not-From-Origin or something","msgtype":"m.text"},"ts":1296828660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the name is not that great","msgtype":"m.text"},"ts":1296828720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(where if the origin data has been stripped by redirects/etc then it's allowed)","msgtype":"m.text"},"ts":1296828721000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"no, the check is made relative to the context where the resource ends up in","msgtype":"m.text"},"ts":1296828780000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"redirects are futile","msgtype":"m.text"},"ts":1296828781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm, how is the context determined when you have multiple nested levels of embedding (each perhaps at different origins)?","msgtype":"m.text"},"ts":1296828840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the context is the API issuing the request","msgtype":"m.text"},"ts":1296828900000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh joy","msgtype":"m.text"},"ts":1296829080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"WebKit still has .URL","msgtype":"m.text"},"ts":1296829081000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I heard somewhere you get more follow-up if you file a Chromium bug than a WebKit bug, is that still true?","msgtype":"m.text"},"ts":1296829140000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Peter`, do you know?","msgtype":"m.text"},"ts":1296829200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"In my experience, yes","msgtype":"m.text"},"ts":1296829260000,"senderName":"Peter`","senderId":"Peter`@irc"},
{"content":{"body":"although there's about 10k unconfirmed Chromium issues too","msgtype":"m.text"},"ts":1296829261000,"senderName":"Peter`","senderId":"Peter`@irc"},
{"content":{"body":"joy","msgtype":"m.text"},"ts":1296829262000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"given that WebKit still has not resolved the .URL issue I wonder if it is worth filing issues on resolving URLs and 2xx responses per Hixie's recent change","msgtype":"m.text"},"ts":1296829320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Has it been filed somewhere?","msgtype":"m.text"},"ts":1296829380000,"senderName":"Peter`","senderId":"Peter`@irc"},
{"content":{"body":"https://bugs.webkit.org/show_bug.cgi?id=40899","msgtype":"m.text"},"ts":1296829740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ap apparently wanted to convince people to change the spec yet again but that has not happened and meanwhile Opera shipped with .url","msgtype":"m.text"},"ts":1296829741000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I suspect nobody is using that attribute as it is fairly useless, but still...","msgtype":"m.text"},"ts":1296829800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: updates some issues.","msgtype":"m.text"},"ts":1296829980000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"now, sleep time. *whew","msgtype":"m.text"},"ts":1296829981000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"zcorpan, hey, I 386'd that for you and won","msgtype":"m.text"},"ts":1296829982000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, one Internet in return please","msgtype":"m.text"},"ts":1296830040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: what did you win?","msgtype":"m.text"},"ts":1296830100000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the argument","msgtype":"m.text"},"ts":1296830160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"AryehGregor, you around?","msgtype":"m.text"},"ts":1296830640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hmm. there's a race condition with autoplay=\"\" and events","msgtype":"m.text"},"ts":1296831840000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I wish there was an easy way to check null/undefined handling across a large number of methods/attributes","msgtype":"m.text"},"ts":1296832260000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I guess it's just going to be manual labor of coming up with a large list","msgtype":"m.text"},"ts":1296832261000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"should have a set of summer interns for these things :)","msgtype":"m.text"},"ts":1296832320000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, I can tell you what Gecko does ;)","msgtype":"m.text"},"ts":1296832800000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger, oh really?","msgtype":"m.text"},"ts":1296832860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger, that would be sufficient I think","msgtype":"m.text"},"ts":1296832861000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"null -> \"\", undefined -> \"undefined\"","msgtype":"m.text"},"ts":1296832862000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"right, and the exceptions are?","msgtype":"m.text"},"ts":1296832863000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cause last I heard this is not 100% consistent","msgtype":"m.text"},"ts":1296832920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"DOMTokenList","msgtype":"m.text"},"ts":1296832921000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"querySelector(All)","msgtype":"m.text"},"ts":1296832922000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"createHTMLDocument","msgtype":"m.text"},"ts":1296832980000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"textarea.wrap","msgtype":"m.text"},"ts":1296832981000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"a.text","msgtype":"m.text"},"ts":1296832982000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"And actually, I seem to have caused all of them","msgtype":"m.text"},"ts":1296832983000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I could swear sicking said there was more to it","msgtype":"m.text"},"ts":1296833040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"because those indeed do not sound like they need to be this way","msgtype":"m.text"},"ts":1296833041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hmm","msgtype":"m.text"},"ts":1296833042000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"maybe it is mostly with method calls","msgtype":"m.text"},"ts":1296833100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"e.g. xhr.open() or xhr.send()","msgtype":"m.text"},"ts":1296833101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"as specced xhr.send(null) / xhr.send() is different from xhr.send(\"\")","msgtype":"m.text"},"ts":1296833160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"former has no entity body latter has","msgtype":"m.text"},"ts":1296833161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: send() isn't DOMString in the IDL, though, right?","msgtype":"m.text"},"ts":1296833220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"so null isn't converted at all","msgtype":"m.text"},"ts":1296833221000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"It's a UTF-8 string","msgtype":"m.text"},"ts":1296833222000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"it's void send([AllowAny] DOMString? data); atm","msgtype":"m.text"},"ts":1296833280000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess DOMString? makes it not a DOMString...","msgtype":"m.text"},"ts":1296833281000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or not fully one","msgtype":"m.text"},"ts":1296833282000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what's [AllowAny]?","msgtype":"m.text"},"ts":1296833283000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I guess you'd get undefined -> null, null -> null for DOMString?","msgtype":"m.text"},"ts":1296833340000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"to make sure that Object does not throw a TypeError","msgtype":"m.text"},"ts":1296833341000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, I'm around now.","msgtype":"m.text"},"ts":1296833342000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"just DOMString should do the undefined -> \"undefined\" and null -> \"null\" thing","msgtype":"m.text"},"ts":1296833343000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"AryehGregor, I wondered whether you tested setting string content attributes to null/undefined, but from looking at the source I got the impression you did not","msgtype":"m.text"},"ts":1296833400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"At the time I wrote my reflection tests, I hadn't read WebIDL, so I didn't know what the behavior was supposed to be, so I didn't test it.","msgtype":"m.text"},"ts":1296833460000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"They could easily be updated, though.","msgtype":"m.text"},"ts":1296833461000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"the behavior isn't really defined yet","msgtype":"m.text"},"ts":1296833520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"from what Ms2ger is saying though and looking at http://lists.w3.org/Archives/Public/public-webapi/2008May/0449.html I think maybe Gecko has been consistent here","msgtype":"m.text"},"ts":1296833521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Looks like undefined -> \"\", null -> \"\" for cstrings","msgtype":"m.text"},"ts":1296833522000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"wishes this just follwed ECMAScript","msgtype":"m.emote"},"ts":1296833580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"kind of late now I guess","msgtype":"m.text"},"ts":1296833581000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I know null -> \"\" is needed for compat, so no","msgtype":"m.text"},"ts":1296833700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"can't we specify DOMString? for stuff that need null -> \"\" ?","msgtype":"m.text"},"ts":1296833760000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"doesn't like animations","msgtype":"m.emote"},"ts":1296833761000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"zcorpan, no","msgtype":"m.text"},"ts":1296833820000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, DOMString? means it can be set to null","msgtype":"m.text"},"ts":1296833880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Specifically TCs involving animation that therefore take forever to run","msgtype":"m.text"},"ts":1296833881000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"with null being different from the empty string","msgtype":"m.text"},"ts":1296833882000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah. so then say in prose that null means empty string","msgtype":"m.text"},"ts":1296833883000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"such as xhr.send() and the alternate style sheets API","msgtype":"m.text"},"ts":1296833884000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, there's different semantics between null and empty string so that would not work","msgtype":"m.text"},"ts":1296833940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, oh","msgtype":"m.text"},"ts":1296833941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan, why not just have that be the behavior for \"DOMString\"","msgtype":"m.text"},"ts":1296833942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"then you need not worry about defining that","msgtype":"m.text"},"ts":1296833943000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/public-webapi/2007Jun/0011.html is where othermaciej states different attributes need different things","msgtype":"m.text"},"ts":1296833944000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: if it can be done everywhere, sure","msgtype":"m.text"},"ts":1296833945000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"maybe he was wrong","msgtype":"m.text"},"ts":1296833946000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I have not found examples","msgtype":"m.text"},"ts":1296834000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"apart from what Ms2ger just mentioned, but those are bugs he introduced","msgtype":"m.text"},"ts":1296834060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Looks like document.open has something else too","msgtype":"m.text"},"ts":1296834120000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"seems like foolip should file his CP as a bug","msgtype":"m.text"},"ts":1296834240000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and then hixie should fix it before we get to vote on the other CP","msgtype":"m.text"},"ts":1296834300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and then I'd like to find out what happens","msgtype":"m.text"},"ts":1296834301000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"before or after, who cares","msgtype":"m.text"},"ts":1296834302000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"apparently, I do","msgtype":"m.text"},"ts":1296834303000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1296834304000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but not too much","msgtype":"m.text"},"ts":1296834305000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"time for weekend","msgtype":"m.text"},"ts":1296834360000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"see ya","msgtype":"m.text"},"ts":1296834361000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Opera will prolly change its defaults to do null -> \"\" for bindings as well","msgtype":"m.text"},"ts":1296834720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hopefully then heycam can change the spec and this can be resolved closed :)","msgtype":"m.text"},"ts":1296835020000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"or the other way around","msgtype":"m.text"},"ts":1296835021000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yay on ISSUE-41.","msgtype":"m.text"},"ts":1296835440000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"??heroism","msgtype":"m.text"},"ts":1296835680000,"senderName":"acroyear2","senderId":"acroyear2@irc"},
{"content":{"body":"Philip`: http://morepypy.blogspot.com/2011/02/pypy-faster-than-c-on-carefully-crafted.html","msgtype":"m.text"},"ts":1296835800000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Modern C compilers can inline across compilation units, then they'd dead-code-eliminate so the loop disappears entirely (which it looks like PyPy doesn't), and the shared library thing is mostly irrelevant since you can easily avoid writing performance-critical loops that cross shared library boundaries","msgtype":"m.text"},"ts":1296836100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Also there's loads of decent profiling tools for C so you can easily find bottlenecks and then it's usually clear how to fix them, whereas profiling JITted code seems rare and you can never really tell what source changes will result in the desired machine code improvements","msgtype":"m.text"},"ts":1296836280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"So I think it's a silly comparison, like almost all \"X is faster than C\" comparisons :-p","msgtype":"m.text"},"ts":1296836281000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: They were very clear that it was a well-choden example :)","msgtype":"m.text"},"ts":1296836340000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"*chosen","msgtype":"m.text"},"ts":1296836341000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Yeah, I don't mean they're being misleading about what's being measured, they're just measuring something that seems pretty irrelevant for real code - there's not much value in being faster than poorly-designed C code","msgtype":"m.text"},"ts":1296836640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Well, I don't think people are going to be chosing python over C for speed anytime soon","msgtype":"m.text"},"ts":1296836820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"has forgotten what the context of this discussion was, anyway","msgtype":"m.emote"},"ts":1296836821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"too, I just remember that there was one and the link seemed relevant","msgtype":"m.emote"},"ts":1296836880000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/I/he/ s/ber/bers/","msgtype":"m.text"},"ts":1296836881000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"looks at http://www.momkai.com/ nice done in html/css/js site","msgtype":"m.emote"},"ts":1296837060000,"senderName":"webr3","senderId":"webr3@irc"},
{"content":{"body":"webr3: They should creatively leave my scrollbars alone","msgtype":"m.text"},"ts":1296837120000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I suppose I just get mildly irritated by performance comparisons vs C which always seem to miss the point by doing things that are inefficient C and could be easily worked around","msgtype":"m.text"},"ts":1296837121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"There are some things that are inefficient in C and hard to work around, like pointer aliasing or struct-of-array vs array-of-struct data structures (which can make a huge difference due to cache usage)","msgtype":"m.text"},"ts":1296837240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so it'd be nice if other languages tackled that kind of thing, I think","msgtype":"m.text"},"ts":1296837241000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(C can't fix them because it's constrained by having given programmers access to pointers, so it can't e.g. rearrange a data structure without breaking lots of assumptions)","msgtype":"m.text"},"ts":1296837300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: IIRC you were suggesting that PyPy wasn't giving notable performance improvments given the rate of improvements in javascript","msgtype":"m.text"},"ts":1296837360000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"remembers the context at last","msgtype":"m.emote"},"ts":1296837361000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Oh, that might have been it","msgtype":"m.text"},"ts":1296837420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If they have an exponentially decaying graph of performance on a non-trivial benchmark suite then I'd be happy, I guess :-)","msgtype":"m.text"},"ts":1296837480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://speed.pypy.org/timeline/","msgtype":"m.text"},"ts":1296837600000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The graphs look more linear to me","msgtype":"m.text"},"ts":1296837601000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The changes don't look quite as radical as e.g. in http://ieblog.members.winisp.net/images/Dean_MIX10_2.png","msgtype":"m.text"},"ts":1296837900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"gsnedders, did you remember to ask people about Opera's innerText implementation?  (How it differs from textContent, and whether it has known compat issues.)","msgtype":"m.text"},"ts":1296838080000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Philip`: Well some tests do. And there seems to be a similar amount of progress compared to CPython","msgtype":"m.text"},"ts":1296838140000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"AryehGregor: No, I got to sleep at 7am this morning and slept in","msgtype":"m.text"},"ts":1296838141000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"as between IE8 and IE9","msgtype":"m.text"},"ts":1296838142000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Although I am not actually looking at the numbers, so that \"similar amount\" could be quite different","msgtype":"m.text"},"ts":1296838143000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"lols at these test results http://www.bestresizer.com/2011/01/sunspider-javascript-benchmark-results-in-my-browsers/ fire fox 4, chrome 10, ie... 6!","msgtype":"m.emote"},"ts":1296838200000,"senderName":"webr3","senderId":"webr3@irc"},
{"content":{"body":"thinks somebody is trying to infer ie is a bag o shite to stay away from","msgtype":"m.emote"},"ts":1296838201000,"senderName":"webr3","senderId":"webr3@irc"},
{"content":{"body":"wonders why they used IE 6","msgtype":"m.emote"},"ts":1296838320000,"senderName":"bfrohs","senderId":"bfrohs@irc"},
{"content":{"body":"othermaciej: Yeah, I've got some opinions.  I think that overall, the structure of <device> is sound and useful, in that it's the API for requesting hardware access from the user.  It hands back an object specialized for that hardware/access-mode, which is also good design.","msgtype":"m.text"},"ts":1296839880000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"The only thing I would change in the overall design is making it just a JS constructor, not an HTML element.  I don't see any value in making it an HTML element - it seems to have the same weirdness that <eventsource> did.","msgtype":"m.text"},"ts":1296839940000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: it seems extremely silly to me, compared to having dedicated elements and interfaces for particular kinds of hardware","msgtype":"m.text"},"ts":1296839941000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"\"requesting hardware access from the user\" is not an abstraction that is useful at the UI level","msgtype":"m.text"},"ts":1296840000000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hm, really?  I'd naively think that saying \"hey, the webpage wants to stream from your webcam\" and \"hey, the webpage wants to use your xbox controller\" would be similar.","msgtype":"m.text"},"ts":1296840060000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I imagine the xbox controller, like the mouse and keyboard, is not something that needs permission at all","msgtype":"m.text"},"ts":1296840180000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"for the camera, the UI I would imagine is something like this:","msgtype":"m.text"},"ts":1296840181000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"pops up a window that shows a preview of what the camera is currently seeing, with record and cancel buttons","msgtype":"m.text"},"ts":1296840240000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if you have both front and back cameras, there is an affordance to switch, and the preview updates","msgtype":"m.text"},"ts":1296840241000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if you start recording, there is a persistent \"record light\" type visual indicator in the UI","msgtype":"m.text"},"ts":1296840242000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"That seems like the UI for <input type=file accept=video/*>, not for allowing the script access to the camera to do what it wishes.","msgtype":"m.text"},"ts":1296840243000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"what would you imagine?","msgtype":"m.text"},"ts":1296840300000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that is the best I can think of so far","msgtype":"m.text"},"ts":1296840360000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I'm not completely certain, but I'd think it'd be more like a standard one-time-permission dialog, without an intrusive display or indicator that it is recording.","msgtype":"m.text"},"ts":1296840361000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"agree that it would be better to make more clear that the recording will continue indefinitely, but I am not sure how to do that (other than the record light telling you it hasn't stopped)","msgtype":"m.text"},"ts":1296840362000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: It's like access to your location (or anything else that requires permission). You can have the choice to allow this session, allow permanently, or deny","msgtype":"m.text"},"ts":1296840420000,"senderName":"bfrohs","senderId":"bfrohs@irc"},
{"content":{"body":"why would a permission dialog with text be better than something that shows you a preview of what the camera is showing, and lets you pick which camera to use?","msgtype":"m.text"},"ts":1296840421000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"That can be a part of the permissions dialog, sure.  It makes a lot of sense.  But it shouldn't stay up after permission has been granted.","msgtype":"m.text"},"ts":1296840480000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"permission dialogs are the worst security UI ever designed","msgtype":"m.text"},"ts":1296840481000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I didn't say it should stay up after","msgtype":"m.text"},"ts":1296840482000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"anyway, I don't see how any of this UI could meaningfully be shared with access to an RS232 port","msgtype":"m.text"},"ts":1296840540000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(which I don't exactly see us leaping to do, but never say never, I suppose)","msgtype":"m.text"},"ts":1296840541000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I don't even know what an RS232 port is, so I can't comment.  Right now I'm interested in cam/mic access, and usb HID access.","msgtype":"m.text"},"ts":1296840542000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: http://en.wikipedia.org/wiki/RS-232","msgtype":"m.text"},"ts":1296840543000,"senderName":"bfrohs","senderId":"bfrohs@irc"},
{"content":{"body":"the result of throwing texty permissions dialogs at the user is this: <http://krebsonsecurity.com/2011/01/exploit-packs-run-on-java-juice/>","msgtype":"m.text"},"ts":1296840600000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"The latter is what all video game controllers use.","msgtype":"m.text"},"ts":1296840601000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, http://www.xscables.com/prodimages/CC2045-06_LR.jpg","msgtype":"m.text"},"ts":1296840602000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Ah, kk.","msgtype":"m.text"},"ts":1296840603000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I think Hixie invented <device> so he can piggy back controlling his model trains on camera/microphone access","msgtype":"m.text"},"ts":1296840604000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it is a mostly obsolete thing in modern computers, no one plugs stuff into their serial port","msgtype":"m.text"},"ts":1296840605000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Hehe.","msgtype":"m.text"},"ts":1296840660000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But some USB devices could be more serial-like than camera-like","msgtype":"m.text"},"ts":1296840661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(Game controllers shouldn't be accessed via the USB HID level of abstraction, they should be accessed via the joystick level)","msgtype":"m.text"},"ts":1296840662000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Is that well-defined?","msgtype":"m.text"},"ts":1296840720000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"It's as well-defined as keyboard and mouse input","msgtype":"m.text"},"ts":1296840721000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i.e. everybody makes up their own APIs for the same basic concepts","msgtype":"m.text"},"ts":1296840722000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"That's less useful.","msgtype":"m.text"},"ts":1296840723000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"so the web can make up its own API for joystick-like input devices too","msgtype":"m.text"},"ts":1296840724000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"othermaciej, a permission dialog is all that stops a user from installing arbitrary executables on most platforms, so an attacker who can get a user to click through a scary permission dialog can already run arbitrary code.","msgtype":"m.text"},"ts":1296840780000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(though probably based partially on polling, rather than on events (like mouse/keyboard input))","msgtype":"m.text"},"ts":1296840781000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Except on iOS, Chrome OS, and similar platforms.","msgtype":"m.text"},"ts":1296840782000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Philip`: Eww, you don't want to run a video game on polling.","msgtype":"m.text"},"ts":1296840783000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Sure you do - every frame you look for the current controller stick position","msgtype":"m.text"},"ts":1296840840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"AryehGregor: there is a difference between \"install\" and \"run\", but yes, I would agree that it's pretty terrible regardless","msgtype":"m.text"},"ts":1296840841000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and analogue trigger positions","msgtype":"m.text"},"ts":1296840842000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"though buttons should presumably be done via events","msgtype":"m.text"},"ts":1296840843000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think permission dialogs are about the only sensible thing to do for features that are useful but would infringe privacy if used without permission.","msgtype":"m.text"},"ts":1296840844000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"At least I've never heard of a better way to handle it.","msgtype":"m.text"},"ts":1296840900000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Philip`: Note that buttons tend to be fully analog on modern controllers, too.","msgtype":"m.text"},"ts":1296840901000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"On the 360, everything but Start and Back are analog.","msgtype":"m.text"},"ts":1296840902000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"When it comes to purely technical attacks, you can do a fair amount of stuff on the user's behalf without asking them, because you can automatically judge what they'll want better than they can in many cases.  But privacy issues hinge on consent.","msgtype":"m.text"},"ts":1296840903000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Hard to avoid making the UI hinge on consent.","msgtype":"m.text"},"ts":1296840904000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I wish people wouldn't use permission dialogs for more technical stuff, though, the way (for instance) the Android Market does.","msgtype":"m.text"},"ts":1296840960000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"And apparently the Chrome Web Store too.","msgtype":"m.text"},"ts":1296840961000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"even for privacy related things, permissions dialogs are poor if they don't let the user meaningfully understand the consequences of saying yes","msgtype":"m.text"},"ts":1296841020000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"\"This application will have the right to: [list of coarse-grained privileges that most users won't understand]  Do you want to install?\"","msgtype":"m.text"},"ts":1296841021000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"That's true.","msgtype":"m.text"},"ts":1296841022000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"and even then, something user initiated is better than an app-initiated dialog","msgtype":"m.text"},"ts":1296841023000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Anyway, back to video.  I just don't want to force UI on page designers unless it's obvious and helpful.  If the user is recording a video to submit a form, definitely pop up some UI that stays up while they're recording and is very obvious.  But if the page is wanting to script the video stream (to do motion tracking, for example), I don't want to force the page to contain a confusing panel showing the raw video.","msgtype":"m.text"},"ts":1296841080000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Not sure about that.","msgtype":"m.text"},"ts":1296841081000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Why?","msgtype":"m.text"},"ts":1296841082000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Or really, what do you mean by user-initiated?","msgtype":"m.text"},"ts":1296841083000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Do you think the current standard geolocation UI could have been improved upon?","msgtype":"m.text"},"ts":1296841140000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Sites need some way of telling the user to let them use geolocation.","msgtype":"m.text"},"ts":1296841141000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"One way or another.","msgtype":"m.text"},"ts":1296841142000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"TabAtkins: It's not all analogue on at least more-than-a-few-months-old 360 controllers, as far as I'm aware - on e.g. Windows it's exposed as 6 analogue axes and about 10 digital buttons, I think","msgtype":"m.text"},"ts":1296841143000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Though, it might make sense to run with something smaller - have <device> render as a button that, when pressed, runs the permissions dialog, and then alters its UI to show when the page has the stream open or not.","msgtype":"m.text"},"ts":1296841200000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"The page author can still display:none the thing once they get permission, but they don't need to if it's unintrusive.","msgtype":"m.text"},"ts":1296841201000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"That's awkward.","msgtype":"m.text"},"ts":1296841260000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Philip`: I know for a fact that my 360 controller has two analog sticks, two analog triggers, and four analog face buttons.  Not sure about two of the other buttons, or the dpad, but I suspect they're analog too.","msgtype":"m.text"},"ts":1296841261000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"In a lot of cases, you'd expect users to give permanent camera access to a site.","msgtype":"m.text"},"ts":1296841262000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So it gets the <device> sticking around forever by default?","msgtype":"m.text"},"ts":1296841263000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Dunno what Windows has access to, but my Xbox gets them as analog at least.","msgtype":"m.text"},"ts":1296841264000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"AryehGregor: Sure, yeah.","msgtype":"m.text"},"ts":1296841320000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Blech.","msgtype":"m.text"},"ts":1296841321000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It's either that, or the user doesn't know whether the site is actively recording or not.","msgtype":"m.text"},"ts":1296841322000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: http://en.wikipedia.org/wiki/Gamepad#Xbox_360 - \"The pressure-sensitivity feature on the face buttons was removed\"","msgtype":"m.text"},"ts":1296841323000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think the geolocation API is okay.  Add some discreet in-chrome UI whenever you visit the site that says what permissions it has and lets you change them.","msgtype":"m.text"},"ts":1296841324000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Well, webcams typically have a hardware light that turns on when it's active","msgtype":"m.text"},"ts":1296841380000,"senderName":"bfrohs","senderId":"bfrohs@irc"},
{"content":{"body":"Philip`: wut","msgtype":"m.text"},"ts":1296841381000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"A little icon someplace.","msgtype":"m.text"},"ts":1296841382000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"And the OS also sometimes provides an icon noting it is in use","msgtype":"m.text"},"ts":1296841383000,"senderName":"bfrohs","senderId":"bfrohs@irc"},
{"content":{"body":"I don't think there needs to be an additional indication that the webcam is currently in use (only a dialog requesting permission to use)","msgtype":"m.text"},"ts":1296841440000,"senderName":"bfrohs","senderId":"bfrohs@irc"},
{"content":{"body":"Philip`: I stand corrected.  Wtf.","msgtype":"m.text"},"ts":1296841441000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: See also e.g. http://google.com/codesearch/p?hl=en#PPdD7__6Qbg/src/xboxmsg.hpp&q=xboxmsg.hpp&l=44","msgtype":"m.text"},"ts":1296841500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"which has a load of 1-bit values for all the buttons","msgtype":"m.text"},"ts":1296841501000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(with the d-pad counting as four buttons)","msgtype":"m.text"},"ts":1296841560000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and only the triggers (8-bit) and sticks (16-bit) being analogue","msgtype":"m.text"},"ts":1296841561000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(The non-360 definition below has 8-bit buttons, presumably for the older controllers)","msgtype":"m.text"},"ts":1296841562000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If game controllers were exposed to the web, I wonder if you'd need a permissions check before using the rumble feature","msgtype":"m.text"},"ts":1296841800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"You don't need permission to rumble anything I own.","msgtype":"m.text"},"ts":1296841801000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I suppose a malicious page unexpectedly rumbling is not much worse than them playing loud audio without permission","msgtype":"m.text"},"ts":1296841860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders if the tipping point is when apps have to ask if they ask, then we're screwed","msgtype":"m.emote"},"ts":1296843480000,"senderName":"webr3","senderId":"webr3@irc"},
{"content":{"body":"/s/they/they can","msgtype":"m.emote"},"ts":1296843481000,"senderName":"webr3","senderId":"webr3@irc"},
{"content":{"body":"othermaciej: a number of the issues on http://dev.w3.org/html5/status/issue-status.html that are in state \"Call for Alternate/Counter Proposals\" don't have a deadline","msgtype":"m.text"},"ts":1296846420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"othermaciej: is that intentional?","msgtype":"m.text"},"ts":1296846421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: i highly recommend writing a CCP for http://lists.w3.org/Archives/Public/public-html/2011Jan/0239.html -- i'll help out if you want","msgtype":"m.text"},"ts":1296846480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is utterly swamped dealing with all these CPs and would really welcome the help","msgtype":"m.emote"},"ts":1296846481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, you could assign me to help with some of them if you want, if that's okay with Google.","msgtype":"m.text"},"ts":1296846780000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1296846840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the issue-status file is getting really hard to read, with all the issues pending decisions and so on","msgtype":"m.text"},"ts":1296846841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and weird issues like -31 that I don't understand the status of","msgtype":"m.text"},"ts":1296846842000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham, annevk, or whoever: could you figure out what innerText does in Opera and tell me, and also tell me whether there are known compat issues with it?","msgtype":"m.text"},"ts":1296847380000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It seems like it's the simplest possible behavior that won't have serious compat problems.","msgtype":"m.text"},"ts":1296847440000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Including script elements is the only site compat bug I can find with it","msgtype":"m.text"},"ts":1296847500000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"adds that to his tests","msgtype":"m.emote"},"ts":1296847560000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Oh, wait, it's already there.","msgtype":"m.text"},"ts":1296847561000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"What site is the compat problem with?","msgtype":"m.text"},"ts":1296847562000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: http://dirty.ru","msgtype":"m.text"},"ts":1296847620000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"finds a line of code he'd missed before and has the whole thing start to make sense","msgtype":"m.emote"},"ts":1296847800000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"doesn't see where the compat issue comes from, since it doesn't seem to use innerText in Opera except where it uses textContent in Firefox, so does the issue occur in Firefox too?","msgtype":"m.emote"},"ts":1296847860000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"What were the steps to reproduce?","msgtype":"m.text"},"ts":1296847861000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It's an old bug report, it's entirely possible the site doesn't use it any more","msgtype":"m.text"},"ts":1296847920000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yeah, doesn't appear to reproduce any more","msgtype":"m.text"},"ts":1296847980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'm still shocked that <devide> in being designed on the level on waht kind of harware bus is being used instead of what type of device is being used","msgtype":"m.text"},"ts":1296847981000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"It's not being \"designed\", at least.  It was \"written in a throwaway proposal by Hixie that he put into the spec\".","msgtype":"m.text"},"ts":1296848040000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"AryehGregor: CDATA blocks gets <[!CDATA[]]> put around them, <br> causes \\n, and that's it pretty much. There's some odd code for lastDescendent which may well do broken stuff for innerText.","msgtype":"m.text"},"ts":1296848100000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Weird, why would you need <[!CDATA[...]]> around CDATA blocks?","msgtype":"m.text"},"ts":1296848160000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Actually, how can you even get CDATA blocks in text/html?","msgtype":"m.text"},"ts":1296848220000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I didn't think the concept even existed.","msgtype":"m.text"},"ts":1296848280000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"AryehGregor: I guess it's become it's what the innerHTML stuff does, pretty much","msgtype":"m.text"},"ts":1296848281000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But how can you even get a CDATA node in the DOM?","msgtype":"m.text"},"ts":1296848282000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Is it possible from parsing text/html?","msgtype":"m.text"},"ts":1296848283000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: It's the same code used for both HTML and XML, and {inner,outer}{Text,HTML}.","msgtype":"m.text"},"ts":1296848284000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Ah.","msgtype":"m.text"},"ts":1296848285000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: You can get it from DOM manipulation.","msgtype":"m.text"},"ts":1296848340000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Well, I assume there's no compat risk there, so I won't spec it.","msgtype":"m.text"},"ts":1296848341000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I think we output end tags in a few cases with lastDescendent, but that just seems buggy","msgtype":"m.text"},"ts":1296848342000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hsivonen: there's nothing in <device> designed to be hardware-bus-related. The stuff in the spec other than \"media\" is just throwaway filler for the moment (indeed the spec says so somewhere, iirc)","msgtype":"m.text"},"ts":1296848400000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders, do you know how I can actually set the contents of a Selection in Opera?  I can't figure out any way that works.","msgtype":"m.text"},"ts":1296848880000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Whatever I do seems to produce selection.rangeCount == 0.","msgtype":"m.text"},"ts":1296848940000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"it seems that security experts can't decide which plug-in (Java, Flash Player, Adobe Reader) is the \"top\" avenue for exploits","msgtype":"m.text"},"ts":1296849540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: I'll fix issue-status shortly - setting up new computer at the moment","msgtype":"m.text"},"ts":1296849600000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1296849660000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"finally, I should have build times less than an hour","msgtype":"m.text"},"ts":1296849661000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: thanks for finally deciding issue 41","msgtype":"m.text"},"ts":1296849780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"you're welcome, though Sam deserves the thanks more than me","msgtype":"m.text"},"ts":1296849781000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"http://www.w3.org/2001/tag/2011/02/security-web.html","msgtype":"m.text"},"ts":1296849782000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"I am surprised that posting the 41 decision did not spawn a flamewar","msgtype":"m.text"},"ts":1296849783000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"http://www.w3.org/2001/tag/2010/10/interaction-examples.html","msgtype":"m.text"},"ts":1296849784000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"AryehGregor: Where's your TC?","msgtype":"m.text"},"ts":1296849840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, http://aryeh.name/spec/innertext/innertext.html","msgtype":"m.text"},"ts":1296849841000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Er.","msgtype":"m.text"},"ts":1296849842000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"http://aryeh.name/spec/innertext/test/innerText.html","msgtype":"m.text"},"ts":1296849843000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"karlcow: gotta love URLs thathave two years","msgtype":"m.text"},"ts":1296849900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"a decade apart even","msgtype":"m.text"},"ts":1296849901000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I don't know. I never look at the date as something meaningful. For me there are just identifier.","msgtype":"m.text"},"ts":1296849960000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"AryehGregor: I'm confused what you're trying to do there","msgtype":"m.text"},"ts":1296849961000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, to do where?","msgtype":"m.text"},"ts":1296849962000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: You create a range consisting of #test, select that, then collapse in document.body","msgtype":"m.text"},"ts":1296850080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Um, wait.","msgtype":"m.text"},"ts":1296850081000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Look now.","msgtype":"m.text"},"ts":1296850082000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I was experimenting.  :)","msgtype":"m.text"},"ts":1296850083000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Okay, I don't understand what's going on in that case either.","msgtype":"m.text"},"ts":1296850260000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'm just creating a Range for what I want to be selected, using removeAllRanges() on the Selection, then adding the range.","msgtype":"m.text"},"ts":1296850261000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So that Range should be what's selected.  No?","msgtype":"m.text"},"ts":1296850262000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Yeah.","msgtype":"m.text"},"ts":1296850263000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"In simple TCs, it works fine","msgtype":"m.text"},"ts":1296850264000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh well, I'm outta here.","msgtype":"m.text"},"ts":1296850560000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Argh, IE is changing list bullet behavior between 8 and 9.","msgtype":"m.text"},"ts":1296854700000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I suppose that means that there isn't a significant compat impact in changing the behavior, which is good for me, but still.","msgtype":"m.text"},"ts":1296854760000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Makes it weird to spec.","msgtype":"m.text"},"ts":1296854761000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"here, I be","msgtype":"m.text"},"ts":1296855300000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"zcorpan: so, we should use the embedded-opentype string after all?","msgtype":"m.text"},"ts":1296857220000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"benschwarz: well, dunno - if you want ie9 to use woff instead of eot, then don't use embedded-opentype","msgtype":"m.text"},"ts":1296857460000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"benschwarz: however, using 'eot' or 'ie9-please-use-woff-instead' makes the style sheet invalid","msgtype":"m.text"},"ts":1296857520000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i guess the main benefit with ie9 using woff is that woff is compressed, but you could configure the server to gzip the eot font and get much the same result","msgtype":"m.text"},"ts":1296857580000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"weird bug in chrome (or i guess recent webkit - works as intended in safari 5) http://software.hixie.ch/utilities/js/live-dom-viewer/saved/826","msgtype":"m.text"},"ts":1296859680000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"devtools shows 'clear:left' in inherited styles","msgtype":"m.text"},"ts":1296859740000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Works as intended in Chrome9.","msgtype":"m.text"},"ts":1296859800000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"i'm using up-to-date dev","msgtype":"m.text"},"ts":1296859860000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Ah, I'm not.","msgtype":"m.text"},"ts":1296859920000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(Haven't restarted in a while.)","msgtype":"m.text"},"ts":1296859921000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"filed http://code.google.com/p/chromium/issues/detail?id=72005","msgtype":"m.emote"},"ts":1296860700000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"chooses to not work around the issue on his mom's dog's site and instead wait for the bug to be fixed","msgtype":"m.emote"},"ts":1296860820000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Oh, wow, *that's* the issue?  We broke the adjacent sibling combinator?  Wtf.","msgtype":"m.text"},"ts":1296861000000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(Also, file at bugs.webkit.org, please?  You can crosslink the bugs, if you want.)","msgtype":"m.text"},"ts":1296861001000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"done","msgtype":"m.text"},"ts":1296861120000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Danke.","msgtype":"m.text"},"ts":1296861121000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hey, it's a site compat bug! you better go fix it :)","msgtype":"m.text"},"ts":1296861300000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Actually, it almost certainly *is* a site compat bug.","msgtype":"m.text"},"ts":1296861360000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Breaking combinators is no fun.","msgtype":"m.text"},"ts":1296861361000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"is somewhat surprised you don't have regression tests covering that","msgtype":"m.emote"},"ts":1296861600000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Me too.","msgtype":"m.text"},"ts":1296861601000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Although maybe it is more complex than I think?","msgtype":"m.text"},"ts":1296861660000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: do *we* have regression tests covering that?","msgtype":"m.text"},"ts":1296861720000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I expect that depends how broken it is","msgtype":"m.text"},"ts":1296861721000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I might imagine that the CSS2.1 testsuite covers it","msgtype":"m.text"},"ts":1296861780000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"If not, this is the ideal time for someone to make a test (although I guess it would have to go into the Selectors 3 TS)","msgtype":"m.text"},"ts":1296861781000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":" http://software.hixie.ch/utilities/js/live-dom-viewer/saved/827 shows the bug as well","msgtype":"m.text"},"ts":1296861900000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"If we don't have a test that the adjacent sibling combinator only applies to the adjacent sibling, we should launch an investigation into why not","msgtype":"m.text"},"ts":1296862020000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://test.csswg.org/suites/css2.1/20110111/html4/sibling-selector-001.htm","msgtype":"m.text"},"ts":1296862200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Also, that test is lame","msgtype":"m.text"},"ts":1296862201000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Who uses green as a fail condition?","msgtype":"m.text"},"ts":1296862202000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"regarding atob(), is the compat problem for not throwing for whitespace or for not throwing for other garbage?","msgtype":"m.text"},"ts":1296862203000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"if it's for other garbage, we could allow whitespace but throw for other garbage","msgtype":"m.text"},"ts":1296862260000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"discovers <link rel=\"author\" title=\"Microsoft\" href=\"http://www.microsoft.com/\">","msgtype":"m.emote"},"ts":1296862261000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1296862262000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that test indeed covers the issue","msgtype":"m.text"},"ts":1296862320000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I am quite worried by how strongly I react to tests that offend my sense of aesthetics","msgtype":"m.text"},"ts":1296862440000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Does it count as a work related injury if I can't see the text \"The following line should be green\\nFiller Text\" without thinking \"No, you should never use 'Filler Text' for the pass condition, that should be rewritten 'This text should be green'\"?","msgtype":"m.text"},"ts":1296862500000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1296862501000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"would be worried if you *didn't* think that","msgtype":"m.emote"},"ts":1296862620000,"senderName":"bfrohs","senderId":"bfrohs@irc"},
{"content":{"body":"my work injury is that i have a hard time resisting filing bugs (or equivalent as appropriate) when i find them, even if it's not related to browsers or even the web","msgtype":"m.text"},"ts":1296862680000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the problem usually is finding out who i should report the bug *to*","msgtype":"m.text"},"ts":1296862740000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"What about non-software?","msgtype":"m.text"},"ts":1296862741000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah, non-software too","msgtype":"m.text"},"ts":1296862800000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"It's affecting my private life too. I try to file bugs on my friends. It usually doesn't have the desired effect.","msgtype":"m.text"},"ts":1296862860000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"files a bug on wilhelm to get a PC so he can play BC2 with all his friends instead of having to play on PS3 with wilhelm and PC with everyone else","msgtype":"m.emote"},"ts":1296862920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"e.g. if there's a sign that says that i can pay with mastercard but it only accepts visa, i feel an urge to make someone aware of the problem and fix the sign","msgtype":"m.text"},"ts":1296862921000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: if the @font-face is working, I'm happy for now","msgtype":"m.text"},"ts":1296862922000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"hah","msgtype":"m.text"},"ts":1296862923000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"zcorpan: You will be slowly driven mad","msgtype":"m.text"},"ts":1296862924000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie: few things fixed overnight","msgtype":"m.text"},"ts":1296862925000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"Hixie: :P","msgtype":"m.text"},"ts":1296862926000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"benschwarz: i saw","msgtype":"m.text"},"ts":1296862927000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"tracking pretty well I think","msgtype":"m.text"},"ts":1296862928000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"benschwarz: looks good","msgtype":"m.text"},"ts":1296862980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but it's remarkable that employees of the company that governs the sign are totally uninterested in fixing the sign themselves or passing the information on to another employee who should be fixing the sign","msgtype":"m.text"},"ts":1296862981000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Also, I don't understand how the CSS tests (subset I looked at) turned out so bad. I mean they have http://www.w3.org/Style/CSS/Test/guidelines.html","msgtype":"m.text"},"ts":1296862982000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It's like the people read it but failed to understand important points","msgtype":"m.text"},"ts":1296862983000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"anyone recall if i've invented terminology to mean \"the Window or the WorkerGlobalScope, whichever is appropriate\"?","msgtype":"m.text"},"ts":1296863040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"we have \"cache host\" for appcache, but that's Document or WGS","msgtype":"m.text"},"ts":1296863041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"notes that Hixie's example tests on that document are not uniformly compliant to the document","msgtype":"m.emote"},"ts":1296863160000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Or afaict uniformly demonstrating the thing that they intend","msgtype":"m.text"},"ts":1296863161000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie: you should write a hack so that you can play on the PC on your end and wilhelm can play on the PS3 on his end","msgtype":"m.text"},"ts":1296863220000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that would be quite the hack","msgtype":"m.text"},"ts":1296863221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"zcorpan: have you updated your special element thing to use the correct font now?","msgtype":"m.text"},"ts":1296863222000,"senderName":"benschwarz","senderId":"benschwarz@irc"},
{"content":{"body":"goes to bed before he finds anything else to make him unhappy","msgtype":"m.emote"},"ts":1296863280000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"benschwarz: no. i was going to ask you if you wanted to host a style sheet that i could point to in html5-elements so that the styles are up-to-date when you change stuff","msgtype":"m.text"},"ts":1296863340000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"jesus","msgtype":"m.text"},"ts":1296863400000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"reads the video content-type issue thread","msgtype":"m.emote"},"ts":1296863401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"this bureaucracy is becoming ludicrous","msgtype":"m.text"},"ts":1296863402000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"becoming\"?","msgtype":"m.text"},"ts":1296863580000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"well it used to be that it wasted our time, but at least each time wasting resulting in movement forwards","msgtype":"m.text"},"ts":1296863640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"now apparently we have to waste our time going sideways","msgtype":"m.text"},"ts":1296863641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and we're likely to end up with our furst normative difference between the whatwg and w3c specs, with the w3c one requiring that UAs honour content types, despite only one UA doing it, and the WHATWG one doing what foolip suggests (and using abarth's sniff spec and ignoring content-type for <video>)","msgtype":"m.text"},"ts":1296863700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"though apparently this would then only be a temporary thing because a few months later the wg would do the same thing","msgtype":"m.text"},"ts":1296863760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i mean, that's literally process for process' sake and not for progress' sake","msgtype":"m.text"},"ts":1296863761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"at least until now there was some indication that the process was intended to make progress as well","msgtype":"m.text"},"ts":1296863762000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: that's not how i understand the situation: the bug was about an editorial issue, and foolip's CP is considered out of scope for the original bug and should instead be filed as a separate bug which you can choose to accept regardless of the outcome of the editorial issue","msgtype":"m.text"},"ts":1296863820000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"which julian would then object to","msgtype":"m.text"},"ts":1296863821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and i'd have to revert it","msgtype":"m.text"},"ts":1296863822000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"did he say that he would object to it?","msgtype":"m.text"},"ts":1296863880000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i assume so","msgtype":"m.text"},"ts":1296863881000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"he didn't say it, but i assume he would object","msgtype":"m.text"},"ts":1296863882000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"otherwise why would he object now?","msgtype":"m.text"},"ts":1296863883000,"senderName":"Hixie","senderId":"Hixie@irc"}
]