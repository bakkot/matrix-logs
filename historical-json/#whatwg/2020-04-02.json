[
{"content":{"body":"I see https://bugs.chromium.org/p/chromium/issues/detail?id=571722#c21 “User-Agent isn't currently allowed to be set. Mark the TestExceptations against it.” but I nothing in the current Fetch spec that disallows setting User-Agent in fetch requests","msgtype":"m.text"},"ts":1585787701000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not at https://fetch.spec.whatwg.org/#forbidden-header-name nor anywhere in the spec","msgtype":"m.text"},"ts":1585787734000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, related? https://www.zdnet.com/article/google-to-phase-out-user-agent-strings-in-chrome/","msgtype":"m.text"},"ts":1585789803000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"how about Sec-UA-* ?","msgtype":"m.text"},"ts":1585789880000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"erm.... Sec-CH-UA-*","msgtype":"m.text"},"ts":1585789963000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"https://wicg.github.io/ua-client-hints/#fetch-integration","msgtype":"m.text"},"ts":1585790033000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"shu: kinda here now","msgtype":"m.text"},"ts":1585796718000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: I see I can push to Bikeshed master; if I did that, would api.csswg.org update automatically?","msgtype":"m.text"},"ts":1585807979000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes","msgtype":"m.text"},"ts":1585808381000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: cool, rest assured, I'll make sure CI is passing","msgtype":"m.text"},"ts":1585808601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And I need to wait for Domenic to wake up to align on some other bits","msgtype":"m.text"},"ts":1585808636000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Cross-repo-dependency count is at 16","msgtype":"m.text"},"ts":1585808693000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what does it mean for the _active script_ in https://html.spec.whatwg.org/#hostenqueuepromisejob to be null?","msgtype":"m.text"},"ts":1585846379000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"is it for the case for a web platform feature enqueuing a promise job without running author script?","msgtype":"m.text"},"ts":1585846415000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"shu: sounds likely","msgtype":"m.text"},"ts":1585846513000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"shu: \"active script can be null if the user clicks on the following button:\"","msgtype":"m.text"},"ts":1585846537000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"ooh, doh, there's an example, thanks","msgtype":"m.text"},"ts":1585846559000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"Domenic: am i reading that correctly then it's those other hooks that set up the execution context? i'm not really finding where that's done","msgtype":"m.text"},"ts":1585846594000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"shu: if I understand what you mean, you are looking for https://html.spec.whatwg.org/#prepare-to-run-script ?","msgtype":"m.text"},"ts":1585846641000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: not quite, my confusion is: step 5 creates a new execution context to be pushed inside the microtask itself, to propagate active script forward in time. but if there is no active script, there must still be a JS execution context to run the microtask. where does that execution context come from? is it guaranteed to exist already on the stack due to the other import host hooks?","msgtype":"m.text"},"ts":1585846733000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"prepare-to-run-script says it's propagated via the other settings objects","msgtype":"m.text"},"ts":1585846788000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"shu: Ah. The execution context will then be the one pushed via step 6.2.","msgtype":"m.text"},"ts":1585846798000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"just trying to put the pieces together with the settings objects stacks","msgtype":"m.text"},"ts":1585846798000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"ah, beautiful, ty","msgtype":"m.text"},"ts":1585846823000,"senderName":"shu","senderId":"shu@irc"},
{"content":{"body":"That doesn't seem particularly intentional FWIW...","msgtype":"m.text"},"ts":1585846843000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But I guess it works","msgtype":"m.text"},"ts":1585846865000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: probably won't have time to finish the .pr-preview.json cleanups today","msgtype":"m.text"},"ts":1585846903000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: if you could set up the remaining bits I can do it tomorrow though","msgtype":"m.text"},"ts":1585846915000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: for sure, will do; meant to do it before you signed off but this morning got hit by some surprise issues","msgtype":"m.text"},"ts":1585846962000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: all good","msgtype":"m.text"},"ts":1585847003000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Someone should fix https://developer.mozilla.org/en-US/docs/Glossary/URI","msgtype":"m.text"},"ts":1585864707000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"https://www.ryanpickren.com/webcam-hacking is quite something","msgtype":"m.text"},"ts":1585865244000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Lots of origin/URL-related madness","msgtype":"m.text"},"ts":1585865252000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It's mostly finding terrible corners of specs, and then finding corners of those corners that weren't implemented correctly, in order to create exploits.","msgtype":"m.text"},"ts":1585865333000,"senderName":"Domenic","senderId":"Domenic@irc"}
]