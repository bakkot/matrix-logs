[
{"content":{"body":"annevk: looking at https://github.com/whatwg/fetch/issues/27 it seems like there hasn't been progress or decisions recently. Are you aware of any not currently listed there?","msgtype":"m.text"},"ts":1465438647000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"boogyman: cancelable promises is making progress in TC39","msgtype":"m.text"},"ts":1465446549000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: if it's a security bug, would it have been worth a bounty? ;)","msgtype":"m.text"},"ts":1465457313000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"(I'm not eligible for bounties anymore anyway)","msgtype":"m.text"},"ts":1465457323000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"manishearth: dunno","msgtype":"m.text"},"ts":1465457342000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: how can this be exploited, anyway?","msgtype":"m.text"},"ts":1465457380000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"sounds like a minor detail about the security policy -- not sure what mischief can be done if this leaks","msgtype":"m.text"},"ts":1465457397000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"manishearth: a server might do something weird upon receiving that header","msgtype":"m.text"},"ts":1465457398000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1465457437000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"Do we have any other github.io domains than Loader?","msgtype":"m.text"},"ts":1465459407000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wants to enforce HTTPS for all of them now that's possible","msgtype":"m.emote"},"ts":1465459426000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: does gecko implement the fetch spec yet? or does each thing approximate it?","msgtype":"m.text"},"ts":1465462257000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"as in, is there a hunk of code that more or less looks like the spec","msgtype":"m.text"},"ts":1465462270000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"There is not","msgtype":"m.text"},"ts":1465462289000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"There may well never be","msgtype":"m.text"},"ts":1465462296000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"manishearth: no, this is why service workers took a long time and such","msgtype":"m.text"},"ts":1465462313000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1465462316000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"Ms2ger: interesting, they're not convinced it's better architecture?","msgtype":"m.text"},"ts":1465462322000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: or will Rust just replace all the code?","msgtype":"m.text"},"ts":1465462331000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I don't know about that","msgtype":"m.text"},"ts":1465462357000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yeah when I implemented XHR in servo I realized that we should switch to the fetch spec (at the time it wasn't complete) as soon as possible, since approximating it makes reasoning abut certain things hard","msgtype":"m.text"},"ts":1465462361000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"Ms2ger: so you're speculating?","msgtype":"m.text"},"ts":1465462369000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It's just a lot of code, and large rewrites are always hard","msgtype":"m.text"},"ts":1465462372000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Yes","msgtype":"m.text"},"ts":1465462373000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1465462376000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"we have a pretty small net stack right now so it's not hard to write the fetch thing","msgtype":"m.text"},"ts":1465462397000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"And it's been pretty big for us too","msgtype":"m.text"},"ts":1465462440000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":" + <!-- If you are ever tempted to move this around, carefully consider responses from about URLs,","msgtype":"m.text"},"ts":1465462442000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"+      blob URLs, service workers, HTTP cache, HTTP network, etc. -->","msgtype":"m.text"},"ts":1465462445000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"haha","msgtype":"m.text"},"ts":1465462447000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"Ms2ger: right","msgtype":"m.text"},"ts":1465462450000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"It's nice that there's at least one implementation that is fairly close","msgtype":"m.text"},"ts":1465462471000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"one outreachy intern, plus a week of work for me integrating it + chasing tests (mostly spec bugs and test bugs, yay)","msgtype":"m.text"},"ts":1465462471000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"I never quite wrapped my head around Gecko's stack, but it seems like there's a lot of disjoint pieces that sorta hold the fort together","msgtype":"m.text"},"ts":1465462501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: this is why I've been filing so many spec/wpt bugs lately, we implemented the spec to the letter (modulo stuff we don't support), and it turns out that the spec is wrong in a few places :)","msgtype":"m.text"},"ts":1465462513000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"And Chrome seems to have similar flaky code where it's quite easy for new features to violate the same-origin policy","msgtype":"m.text"},"ts":1465462519000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, I mean it's just as easy to violate the same origin policy by adding a new feature to the fetch spec :)","msgtype":"m.text"},"ts":1465462542000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"Yeah, unfortunately all specs are pretty crappy","msgtype":"m.text"},"ts":1465462543000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Even https://encoding.spec.whatwg.org/ which I keep thinking is done gets some rather annoying bug reports from time to time","msgtype":"m.text"},"ts":1465462570000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"eh, it's okay. these were mostly minor edge cases, which were fortunately caught by wpt","msgtype":"m.text"},"ts":1465462572000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1465462578000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"I saw that some folks will maybe try to turn the ECMAScript specification into something that can be verified","msgtype":"m.text"},"ts":1465462638000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If we reach that level of tooling and can start adopting that elsewhere, that would be quite nice","msgtype":"m.text"},"ts":1465462660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Writing standards and hoping humans will catch all the errors is just so messy","msgtype":"m.text"},"ts":1465462679000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Verifying is fucking hard, though :/","msgtype":"m.text"},"ts":1465462846000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"annevk: > response's url list will be typically empty at this point","msgtype":"m.text"},"ts":1465462895000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"annevk: why?","msgtype":"m.text"},"ts":1465462898000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"that step runs after basic fetch or http fetch","msgtype":"m.text"},"ts":1465462911000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"manishearth: because nothing has set it","msgtype":"m.text"},"ts":1465462922000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh wait","msgtype":"m.text"},"ts":1465462928000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"sorry","msgtype":"m.text"},"ts":1465462929000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"*response*'s url list","msgtype":"m.text"},"ts":1465462934000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"ðŸ˜Š","msgtype":"m.text"},"ts":1465462950000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: the current state of play is too, no?","msgtype":"m.text"},"ts":1465462975000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: happy b-day! ðŸŽ‚","msgtype":"m.text"},"ts":1465465240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: http://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Pencils_hb.jpg/440px-Pencils_hb.jpg","msgtype":"m.text"},"ts":1465465432000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I want privileged frames to be able to bypass CORS checks","msgtype":"m.text"},"ts":1465467237000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"Request mode \"no-cors\" is enough for this?","msgtype":"m.text"},"ts":1465467247000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"nox: ha!","msgtype":"m.text"},"ts":1465467292000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"manishearth: frames use navigate","msgtype":"m.text"},"ts":1465468538000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hm","msgtype":"m.text"},"ts":1465468567000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"annevk: does it affect anything else?","msgtype":"m.text"},"ts":1465468574000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"manishearth: it's not really clear what you want","msgtype":"m.text"},"ts":1465468607000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I want it to work exactly like an XHR fetch from the same origin","msgtype":"m.text"},"ts":1465468630000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"annevk: we have a toplevel privileged frame that is allowed to do some of these things","msgtype":"m.text"},"ts":1465468648000,"senderName":"manishearth","senderId":"manishearth@irc"},
{"content":{"body":"manishearth: I'm not sure","msgtype":"m.text"},"ts":1465468767000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"manishearth: Fetch is defined for the observable web","msgtype":"m.text"},"ts":1465468775000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"manishearth: I don't really want to provide guarantees beyond that","msgtype":"m.text"},"ts":1465468783000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"manishearth: Glad someone liked it. :)","msgtype":"m.text"},"ts":1465471260000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Domenic: there's a lot of technical debt around creating documents, geez","msgtype":"m.text"},"ts":1465477896000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: during navigation? Or in general?","msgtype":"m.text"},"ts":1465477935000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: and these algorithms have become quite big so it's not super easy to refactor, so I'm just doing it very slowly","msgtype":"m.text"},"ts":1465477937000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: navigation in particular","msgtype":"m.text"},"ts":1465477947000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: nox: thanks ðŸ˜€","msgtype":"m.text"},"ts":1465477952000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: there might be a more general document allocation thing lurking in the background, but navigation is the one I'm trying to tackle atm","msgtype":"m.text"},"ts":1465477983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, any particular kind of chocolate you like?","msgtype":"m.text"},"ts":1465478036000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(Don't say \"Swiss\"...)","msgtype":"m.text"},"ts":1465478053000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Do say \"Icelandic\"","msgtype":"m.text"},"ts":1465478093000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Ms2ger: hmm, chocolates with filling from Belgium?","msgtype":"m.text"},"ts":1465478172000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Swiss chocolate with Belgian filling.","msgtype":"m.text"},"ts":1465478189000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"jgraham: have to try those sometime","msgtype":"m.text"},"ts":1465478194000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You could say Icelandic, but then you just wouldn't be getting anything :)","msgtype":"m.text"},"ts":1465478235000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I was trying to bring a present from the airport for someone, but the Zurich airport is somewhat disappointing; however, it has lots of chocolates of which I could bring some next week","msgtype":"m.text"},"ts":1465478267000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Organize a little competition ðŸ˜›","msgtype":"m.text"},"ts":1465478287000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: Not in #servo anymore, is that normal?","msgtype":"m.text"},"ts":1465478299000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"Hrm, I just realized I might not be able to get chocolate before leaving...","msgtype":"m.text"},"ts":1465478329000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"We'll see","msgtype":"m.text"},"ts":1465478332000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: If only London had chocolate shopsâ€¦","msgtype":"m.text"},"ts":1465478415000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham, pah","msgtype":"m.text"},"ts":1465478505000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(oblig. hint: http://sourcedmarket.com/ stocks chocolate from http://cocoarunners.com/. Although not filled chocolates iirc. But for that there's e.g. https://www.rococochocolates.com/ and many others)","msgtype":"m.text"},"ts":1465478550000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(both are in Marylebone)","msgtype":"m.text"},"ts":1465478574000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: ah, you can give us the tour","msgtype":"m.text"},"ts":1465478632000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: is SRI integrity supported on anything other than HTTP?","msgtype":"m.text"},"ts":1465482098000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I think it works for blob URLs and such","msgtype":"m.text"},"ts":1465482673000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: can you get to https://github.com/whatwg/fetch/pull/322 today?","msgtype":"m.text"},"ts":1465482701000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok... yea... in this case I guess the constraining thing is we only intercept http URLs","msgtype":"m.text"},"ts":1465482709000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: well, that's not really needed, but an ETA would be nice","msgtype":"m.text"},"ts":1465482714000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: looking","msgtype":"m.text"},"ts":1465482830000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"annevk: done","msgtype":"m.text"},"ts":1465483352000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1465483481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"What invokes https://html.spec.whatwg.org/multipage/browsers.html#scroll-to-fragid exactly? That first paragraph and its steps seems completely standalone?","msgtype":"m.text"},"ts":1465485654000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Not sure","msgtype":"m.text"},"ts":1465485709000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"looks like it's meant to be invoked by navigation...","msgtype":"m.text"},"ts":1465485733000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"> Fragments: If this is not a reload-triggered navigation, resource's URL equals browsingContext's active document's URL with exclude fragments flag set, and resource's URL's fragment is non-null, then navigate to that fragment and abort these steps.","msgtype":"m.text"},"ts":1465485754000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah, just found that too","msgtype":"m.text"},"ts":1465485769000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Confusing since the <dfn> is inside the heading, not the phrase","msgtype":"m.text"},"ts":1465485772000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1465485969000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So much still to test","msgtype":"m.text"},"ts":1465485987000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://twitter.com/zcorpan/status/740653950899216384 15 mins left","msgtype":"m.text"},"ts":1465506114000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"i am really curious about that one","msgtype":"m.text"},"ts":1465506312000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: why does streams 3.10.5.2 [[Pull]] create a Record with [[ctor]] %Uint8Array% instead of just constructing a Uint8Array?","msgtype":"m.text"},"ts":1465507108000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: oh... I guess that is used to construct the thing later... sorry for my confusion","msgtype":"m.text"},"ts":1465507142000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: answer posted","msgtype":"m.text"},"ts":1465507285000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"is <p><table> not another Acid2 quirk?","msgtype":"m.text"},"ts":1465508924000,"senderName":"gsnedders","senderId":"gsnedders@irc"}
]