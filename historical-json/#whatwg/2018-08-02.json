[
{"content":{"body":"Domenic: interested in the `queueMicrotask` -- what is the expected purpose/usecase for this kind of scheduling?","msgtype":"m.text"},"ts":1533190650000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: https://github.com/w3ctag/design-reviews/issues/294#issuecomment-408258727 might help","msgtype":"m.text"},"ts":1533190837000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: well that mostly explains why the new api is better than resolve.then","msgtype":"m.text"},"ts":1533190951000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"annevk: but I somewhat fail to see the use case for both","msgtype":"m.text"},"ts":1533190959000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: https://github.com/whatwg/html/pull/3873 might also help","msgtype":"m.text"},"ts":1533209587000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(again, might ðŸ˜Š)","msgtype":"m.text"},"ts":1533209600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks! this probably has all I need to educate myself :)","msgtype":"m.text"},"ts":1533209740000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"in particular, the second example is something I can relate to. the first one looks pretty weird to me, but whatevs.","msgtype":"m.text"},"ts":1533209875000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"Hey, has there been talk of a setTimeout variant that returns promises? I'm asking for a JavaScript API and I'd just prefer to implement something with a spec than something without.","msgtype":"m.text"},"ts":1533214025000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"(Also, a setInterval that returns async iterators)","msgtype":"m.text"},"ts":1533214038000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"benjamingr_: just talk afaik","msgtype":"m.text"},"ts":1533214069000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"benjamingr_: don't think there's even an issue for it","msgtype":"m.text"},"ts":1533214086000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Can/should I open one?","msgtype":"m.text"},"ts":1533214108000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"benjamingr_: sure, against whatwg/html","msgtype":"m.text"},"ts":1533214139000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"`new Promise(r => setTimeout(r, 5000))` is a bit annoying, but pretty short already","msgtype":"m.text"},"ts":1533214142000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"that's also true","msgtype":"m.text"},"ts":1533214158000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: one possible con for it is that there is already a way to do it and it wouldn't add a capability, on the other hand you'd be surprised at how wrong people get that simple one liner","msgtype":"m.text"},"ts":1533214184000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"what would be interesting is if a \"modern\" timeout API could not only include promise support, but also maybe remove legacy clamping behavior","msgtype":"m.text"},"ts":1533214204000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"but adding more stuff also makes any proposal more likely to fail","msgtype":"m.text"},"ts":1533214231000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"maybe I should just drink my coffee","msgtype":"m.text"},"ts":1533214238000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"lol, yeah, I don't think that's something we'll be able to do","msgtype":"m.text"},"ts":1533214285000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"no?","msgtype":"m.text"},"ts":1533214311000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"By the way and on a completley unrelated note: is there any eta for streaming fetch in firefox wanderview? I saw there is some interesting work involving it and wanted to offer to be a guinea pig since we are pretty heavy consumers of it on chrome.  (And by all means do feel free to tell me that the current ETA is 'sometime' and it's not a priority)","msgtype":"m.text"},"ts":1533214386000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"Re: timeout without clamping - we've discussed it a bunch in Node - I don't think there was enough interest but maybe I'm remembering it wrong.","msgtype":"m.text"},"ts":1533214425000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"benjamingr_: there's dom.streams.enabled but I'm not sure if that covers fetch()","msgtype":"m.text"},"ts":1533214426000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"benjamingr_: there are prefs you can enable to test today (and for like the last year)","msgtype":"m.text"},"ts":1533214427000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"there's also javascript.options.streams, hmmm","msgtype":"m.text"},"ts":1533214450000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"benjamingr_: a thorny cross global issue has kept it from shipping, but in theory thats finally being reviewed now'ish","msgtype":"m.text"},"ts":1533214475000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"That does cover `fetch` yeah, I've been testing that - I'm sort of the person in my company who cares about firefox users' UX","msgtype":"m.text"},"ts":1533214480000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"annevk: yea, you need both those prefs","msgtype":"m.text"},"ts":1533214488000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"benjamingr_: <3","msgtype":"m.text"},"ts":1533214530000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, it works for us with those perfs - works pretty well too. Firefox WebRTC has more (and better) connections  than Chrome at the moment but it's losing in UX on our infrastructure without streaming fetch and wins with it - it's more of an office bet than anything.","msgtype":"m.text"},"ts":1533214532000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"benjamingr_: posting your expected wins in the stream bug may help folks prioritize it","msgtype":"m.text"},"ts":1533214626000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"or maybe annevk can just relay the information","msgtype":"m.text"},"ts":1533214644000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Seeing it from someone developing an actual product seems potentially useful","msgtype":"m.text"},"ts":1533214685000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Well, we're building a p2p streaming platform on top of WebRTC and hls/mpeg-dash - streaming fetch means we can share segments before we finished downloading them which really improves UX on congested networks - especially in places like southeast Asia and Latin America. We see streaming fetch making the biggest difference there.","msgtype":"m.text"},"ts":1533214770000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"benjamingr_: this is the bug if you want to chime in with some actual data, etc: https://bugzilla.mozilla.org/show_bug.cgi?id=1389628","msgtype":"m.text"},"ts":1533214789000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Thanks, I saw that - I'm usually afraid I'll just be annoying in these bugs - I dislike it when people show up and \"demand\" work on something myself so I usually try not to do it myself. I only bugged you about it now since I saw recent activity and we were already talking.","msgtype":"m.text"},"ts":1533214877000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"I understand, but I would look at it more as sharing real world data the browser vendor is probably lacking...","msgtype":"m.text"},"ts":1533214939000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"https://github.com/whatwg/html/issues/3875 hope this is appropriate, feel free to tell me to edit/fix it in some way","msgtype":"m.text"},"ts":1533215126000,"senderName":"benjamingr_","senderId":"benjamingr_@irc"},
{"content":{"body":"Ugh: https://bugzilla.mozilla.org/show_bug.cgi?id=1477286","msgtype":"m.text"},"ts":1533221306000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I thought we only had synthetic click events and were on track to remove synthetic submit events causing action?","msgtype":"m.text"},"ts":1533221325000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh no :(","msgtype":"m.text"},"ts":1533239614000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yt?","msgtype":"m.text"},"ts":1533251254000,"senderName":"rniwa","senderId":"rniwa@irc"}
]