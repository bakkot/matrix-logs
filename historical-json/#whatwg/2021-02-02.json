[
{"content":{"body":"How do one post a redbale stream using a fetch request ?","msgtype":"m.text"},"ts":1612250676000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"When I try and do that in chrome, the request pyload comes out as : \"[object ReadableStream]\"","msgtype":"m.text"},"ts":1612250677000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"And the content-length is 23","msgtype":"m.text"},"ts":1612250678000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"I am specifcially trying to place multiart related request , and to do that I ave created a stream","msgtype":"m.text"},"ts":1612250730000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"which I post to a database which expec a mutipart/related request","msgtype":"m.text"},"ts":1612250760000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"*readable stream","msgtype":"m.text"},"ts":1612250775000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"Anurag: not supported yet","msgtype":"m.text"},"ts":1612251687000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Anurag: maybe by the end of this year it'll be cross-browser, Chrome is (soon?) running some experiments","msgtype":"m.text"},"ts":1612251717000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ok thank you annevk, I was confused by the Firefox documentation that one can post readablestream","msgtype":"m.text"},"ts":1612253098000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"You mean MDN? I guess they didn't try that code then...","msgtype":"m.text"},"ts":1612253238000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes Mozilla Firefox","msgtype":"m.text"},"ts":1612253755000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch","msgtype":"m.text"},"ts":1612253758000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"The document here says that in fetch body , we can pass redable Stream","msgtype":"m.text"},"ts":1612253778000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"Anurag: MDN is not specific to Firefox, anyway, I'll let the MDN folks know","msgtype":"m.text"},"ts":1612253852000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh great!","msgtype":"m.text"},"ts":1612253905000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"Is there any reference than how do one post multipart/related body content type ?","msgtype":"m.text"},"ts":1612253905000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"I was able to find tons of examples on internet for how to do multipart/form-data","msgtype":"m.text"},"ts":1612253926000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"but for \"multipart/related\" request there are no examples, or the one do not works.","msgtype":"m.text"},"ts":1612253944000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"Anurag:  even with streams that wouldn't work automatically; you'll have to write some serialization code I guess, either to an ArrayBuffer or Blob and then pass that to fetch(","msgtype":"m.text"},"ts":1612254118000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":")","msgtype":"m.text"},"ts":1612254120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah I did exactly that, I created a readable stream and pushed my data into it using the redablestream controller.","msgtype":"m.text"},"ts":1612254195000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"Anurag: okay, well all you have available at the moment is buffer things locally until you have a complete request or use WebSocket","msgtype":"m.text"},"ts":1612254237000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1612254267000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"let me try that.","msgtype":"m.text"},"ts":1612254284000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"Thank you !","msgtype":"m.text"},"ts":1612254284000,"senderName":"Anurag","senderId":"Anurag@irc"},
{"content":{"body":"annevk: hah, sorry for missing that fetch PR. Yeah struggling to divide my time right now üòÄ","msgtype":"m.text"},"ts":1612261268000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: thanks, I'm gonna change \"creating a Request object\" to use Request/create similar to ReadableStream syntax for that","msgtype":"m.text"},"ts":1612262565000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: but otherwise I think that is good now","msgtype":"m.text"},"ts":1612262576000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Makes sense! It isn't always clear to me when something should be 'for' another object. I guess it makes sense here because constructors are owned by a type. Does it have link text that makes sense when using it?","msgtype":"m.text"},"ts":1612262715000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: now pushed","msgtype":"m.text"},"ts":1612263004000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: yeah you can use \"Let _r_ be the result of <a for=Response>creating</a> a {{Response}} object, given ...\"","msgtype":"m.text"},"ts":1612263040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: That seems ok. It seems a little weird to me that the \"a {{Response}} object\" bit isn't in the link text itself, but no biggie","msgtype":"m.text"},"ts":1612263129000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: there are no hard rules for for=\"\" unfortunately; I normally wouldn't use it for something like this, but since there's precedent and it looks kinda nice I think it's okay to endorse this pattern, it is kinda similar to constructors indeed","msgtype":"m.text"},"ts":1612263137000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(the upside of it not being in the link text is that you can use {{ }} around it and not have to use <code>, afaik)","msgtype":"m.text"},"ts":1612263212000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, that's worth it","msgtype":"m.text"},"ts":1612263247000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: maybe at some point you, Domenic, and I can take some time to document some of these spec-writing patterns somewhere","msgtype":"m.text"},"ts":1612263313000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Stuff that's not far enough along for Infra, but would still be useful for people to learn/copy from","msgtype":"m.text"},"ts":1612263331000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I heard Google has some spec writing course that this could complement as well, I'd think","msgtype":"m.text"},"ts":1612263378000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Sounds good. Fwiw, in cases where there's a pattern, I try to provide a usage example https://w3c.github.io/ServiceWorker/#example-cfaebd87","msgtype":"m.text"},"ts":1612263417000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"There's a spec writing course?? I should probably go on it","msgtype":"m.text"},"ts":1612263429000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: FYI https://stackoverflow.com/questions/66007054/why-doesnt-cors-preflight-request-prompt-for-or-reuse-a-connection-where-clie","msgtype":"m.text"},"ts":1612263477000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"dunno what to tell them but see my comment there and if I got anything wrong please post a comment correcting i","msgtype":"m.text"},"ts":1612263536000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"‚ÄúWhy [was something designed a certain way]‚Äù questions like that are only marginally on-topic for SO anyway","msgtype":"m.text"},"ts":1612263605000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JakeA: btw, the one comment I didn't address was your signal question; I'm not sure I understand it","msgtype":"m.text"},"ts":1612263679000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: so reading that I didn't know that the user would be prompted before the request is made, that seems awkward","msgtype":"m.text"},"ts":1612263741000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1612263832000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1612263837000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: but I do wonder why anyone would want to inflict client certificates upon their users","msgtype":"m.text"},"ts":1612263849000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well","msgtype":"m.text"},"ts":1612263858000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Microsoft","msgtype":"m.text"},"ts":1612263861000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I guess","msgtype":"m.text"},"ts":1612263864000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"enterprise","msgtype":"m.text"},"ts":1612263868000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Enterprise does appear to want to inflict terrible UX upon users","msgtype":"m.text"},"ts":1612263917000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ryan Sleevi or Eric Lawrence probably could give the ugly details, since I know they have had to deal with related bugs","msgtype":"m.text"},"ts":1612263927000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I know neither cares for this feature either üôÇ","msgtype":"m.text"},"ts":1612263950000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1612263958000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and yeah, in my personal experience in previous jobs, ‚Äúenterprise‚Äù and ‚Äúintranet‚Äù are pretty synonymous with horrible UX, and apps with really bad UI","msgtype":"m.text"},"ts":1612264066000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: couldn't resist leaving a short reply there, but probably not gonna put more time into it","msgtype":"m.text"},"ts":1612265078000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: I think the signal thing was already handled unless I'm still missing something","msgtype":"m.text"},"ts":1612265121000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://github.com/whatwg/html/pull/6336 is waiting for the Build check. Does it need a rebase, or just close and reopen?","msgtype":"m.text"},"ts":1612269115000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: I don't know","msgtype":"m.text"},"ts":1612269323000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ok i'll try close and reopen first","msgtype":"m.text"},"ts":1612269338000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"annevk: it's green now. ok to merge?","msgtype":"m.text"},"ts":1612269931000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"zcorpan_: I guess I'd ask Domenic to do it just in case","msgtype":"m.text"},"ts":1612270066000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1612270077000,"senderName":"zcorpan_","senderId":"zcorpan_@irc"},
{"content":{"body":"annevk: thanks yeah","msgtype":"m.text"},"ts":1612275581000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that‚Äôs the problem with this kind of question on SO and why it‚Äôs off-topic: there‚Äôs no answer that is going to ‚Äúsolve‚Äù the question (at least not to the satisfaction of the OP)","msgtype":"m.text"},"ts":1612275658000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"SO is supposed to be for questions about a specific programming problem somebody is trying to solve, not something that anybody could show up with an opinion about","msgtype":"m.text"},"ts":1612275724000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yeah whatwg/fetch would actually be a better venue, but I'm not sure it would be super productive","msgtype":"m.text"},"ts":1612275771000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: we might well have to change this though","msgtype":"m.text"},"ts":1612275780000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"IDL uses Travis CI and it's just...","msgtype":"m.text"},"ts":1612292569000,"senderName":"annevk","senderId":"annevk@irc"}
]