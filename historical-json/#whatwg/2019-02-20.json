[
{"content":{"body":"https://stackoverflow.com/questions/54777993/set-cookie-from-a-server-to-an-xhr-client-in-a-different-domain-setting-the-dom","msgtype":"m.text"},"ts":1550630343000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Sorry for it, network problems...","msgtype":"m.text"},"ts":1550648869000,"senderName":"Nepose","senderId":"Nepose@irc"},
{"content":{"body":"Nepose: not sure what youâ€™re asking","msgtype":"m.text"},"ts":1550649438000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: I guess I can answer that","msgtype":"m.text"},"ts":1550649547000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I mean that if you now do some of Web standards like HTML or XMLHttpRequest and still W3C \"do\" (copy-paste your work) the same standards (like now, \"developing\" HTML 5.3), then why they do it and for who?","msgtype":"m.text"},"ts":1550649993000,"senderName":"Nepose","senderId":"Nepose@irc"},
{"content":{"body":"Nepose: I think there was a disagreement over control, but we're pretty close to a partnership of sorts, as some W3C blog posts have reported on","msgtype":"m.text"},"ts":1550650752000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: okay, did you develop together any standard?","msgtype":"m.text"},"ts":1550652918000,"senderName":"Nepose","senderId":"Nepose@irc"},
{"content":{"body":"Nepose: most WHATWG standards are in some sense derived from work earlier done at the W3C and IETF and continue to get feedback from those communities","msgtype":"m.text"},"ts":1550653200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: replied","msgtype":"m.text"},"ts":1550664352000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1550664652000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: thanks!","msgtype":"m.text"},"ts":1550664912000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: Do you have a link to said blog posts?","msgtype":"m.text"},"ts":1550665910000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: https://www.w3.org/blog/2018/06/w3c-strategic-highlights-for-spring-2018-and-advisory-committee-meeting/ and https://www.w3.org/blog/2019/02/w3c-strategic-highlights-strengthening-the-core-of-the-web-html/","msgtype":"m.text"},"ts":1550665999000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(awesome bar is awesome)","msgtype":"m.text"},"ts":1550666022000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so, window.open is limited to calls from a user-interaction event handler?","msgtype":"m.text"},"ts":1550666059000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"Thanks!","msgtype":"m.text"},"ts":1550666066000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"ondras: depends, I suspect","msgtype":"m.text"},"ts":1550666158000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I'd imagine navigating an existing browsing context to always work.)","msgtype":"m.text"},"ts":1550666200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I see. I was about to ask \"what if the user-interaction event handler sends a message to a different context (iframe) and *that* context wants to window.open as a result\"","msgtype":"m.text"},"ts":1550666205000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"so, basically, \"it the user-interaction-based flag propagated far enough?\"","msgtype":"m.text"},"ts":1550666227000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"*is","msgtype":"m.text"},"ts":1550666230000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: see recent HTML issue","msgtype":"m.text"},"ts":1550666232000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ondras: that's all a bit muddy still","msgtype":"m.text"},"ts":1550666258000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, my bad, should've specified that I am explicitly looking for the target=_blank scenario","msgtype":"m.text"},"ts":1550666279000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"which I would guess is more restricted with respect to the origin of the call","msgtype":"m.text"},"ts":1550666319000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: origin doesn't matter much, but that gets \"new window\" protection","msgtype":"m.text"},"ts":1550666714000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ondras: or popup protection, I guess","msgtype":"m.text"},"ts":1550666724000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"origin\" as in \"was it invoked from a user-interaction event handler\", not \"origin\" in the DOM Origin sense","msgtype":"m.text"},"ts":1550666943000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"sorry, wrong terminology","msgtype":"m.text"},"ts":1550666948000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"but yeah, the newwindow/popup protection, that is what I am talking about -- would that work if the open() call came from an onmessage event?","msgtype":"m.text"},"ts":1550666973000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"CSS folks are like why does (0, 0) matter here","msgtype":"m.text"},"ts":1550667011000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ha, *trusted* is apparently the proper name for this","msgtype":"m.text"},"ts":1550667024000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: \"user activation\"","msgtype":"m.text"},"ts":1550667050000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ondras: https://github.com/whatwg/html/issues/4364","msgtype":"m.text"},"ts":1550667052000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(tl;dr: no)","msgtype":"m.text"},"ts":1550667076000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"a-ha! thanks","msgtype":"m.text"},"ts":1550667083000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"that is what I thought.","msgtype":"m.text"},"ts":1550667094000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"annevk: So in the usage of the `as` attribute here (https://html.spec.whatwg.org/multipage/semantics.html#fetching-and-processing-a-resource-from-a-link-element:attr-link-as), we check for \"no state\", (which I think includes missing/invalid value default), but based on your latest review, wouldn'","msgtype":"m.text"},"ts":1550667352000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"wouldn't that sort of break that usage?","msgtype":"m.text"},"ts":1550667366000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"(since missing/invalid value defaults are I guess valid states?)","msgtype":"m.text"},"ts":1550667385000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: I guess that's wrong","msgtype":"m.text"},"ts":1550667386000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: as is an enumerated attribute afaik and per the enumerated attribute definition \"no state\" and \"valid state\" are not things it knows about","msgtype":"m.text"},"ts":1550667417000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Makes more sense now. That usage of `as` is sorta what I was basing mind off of. I guess I can file an issue for that","msgtype":"m.text"},"ts":1550667459000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: sorry, I'm wrong, \"no state\" is a thing","msgtype":"m.text"},"ts":1550667464000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1550667472000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1550667476000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: so instead of valid state, you can assert that it has a state","msgtype":"m.text"},"ts":1550667498000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: or rather, that it represents a state, perhaps?","msgtype":"m.text"},"ts":1550667540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so \"has a state\" excludes missing/invalid value defaults then?","msgtype":"m.text"},"ts":1550667543000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: enumerated attribute could use some refining at some point","msgtype":"m.text"},"ts":1550667553000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: aye, though I think I'd go with \"represents a state\" given that's what the prose uses","msgtype":"m.text"},"ts":1550667588000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Ok I'll do that ('tis what I was going for anyways, but ty for the clarification)","msgtype":"m.text"},"ts":1550667647000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: Domenic is back later this week and I'll let him do a final pass since he had at least one remaining comment too","msgtype":"m.text"},"ts":1550667713000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"SGTM","msgtype":"m.text"},"ts":1550667731000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"annevk: Ok, latest commit should address the comments, will wait for domenic's pass. thanks again","msgtype":"m.text"},"ts":1550668512000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1550668578000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: i believe you said (https://freenode.logbot.info/whatwg/20190216#c1999445) that cross origin IFRAME requests should not emit fetch events to the service worker in the base page. i assume that means that a fetch event *should* be emitted to a service worker installed on the other domain. which makes the offline story of the base page more complicated. i couldn't find anything in the service worker spec about IFRAMEs, do you know","msgtype":"m.text"},"ts":1550685849000,"senderName":"cvazac","senderId":"cvazac@irc"},
{"content":{"body":"if this behavior is specced somewhere else?","msgtype":"m.text"},"ts":1550685849000,"senderName":"cvazac","senderId":"cvazac@irc"},
{"content":{"body":"cvazac: it's specified between HTML, SW, and Fetch","msgtype":"m.text"},"ts":1550687462000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cvazac: but effectively, as with the top-level browsing context, an iframe element's nested browsing context navigates, and interception for navigation (as well as workers) works differently","msgtype":"m.text"},"ts":1550687502000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"cvazac: there's further complications here in browsers that do third-party isolation (Safari) and plan to do more third-party isolation (Firefox)","msgtype":"m.text"},"ts":1550687542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thx!","msgtype":"m.text"},"ts":1550687633000,"senderName":"cvazac","senderId":"cvazac@irc"},
{"content":{"body":"o/ Hello everyone, long time no chat","msgtype":"m.text"},"ts":1550691712000,"senderName":"lgrahl","senderId":"lgrahl@irc"},
{"content":{"body":"Someone asked (regarding RTCDataCHannel but it's the same for WebSocket): If you create a WebSocket and then bind the open event, wouldn't there be a small time period where open could fire before it's being bound?","msgtype":"m.text"},"ts":1550691866000,"senderName":"lgrahl","senderId":"lgrahl@irc"},
{"content":{"body":"My thoughts: The event would have to be enqueued pm the event loop and since the task creating the WebSocket itself is already running, the bind happens before the event can fire. Is that assumption correct?","msgtype":"m.text"},"ts":1550691999000,"senderName":"lgrahl","senderId":"lgrahl@irc"},
{"content":{"body":"*on","msgtype":"m.text"},"ts":1550692006000,"senderName":"lgrahl","senderId":"lgrahl@irc"},
{"content":{"body":"lgrahl: aye","msgtype":"m.text"},"ts":1550692131000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Cheers!","msgtype":"m.text"},"ts":1550692136000,"senderName":"lgrahl","senderId":"lgrahl@irc"}
]