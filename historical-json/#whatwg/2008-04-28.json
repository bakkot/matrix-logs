[
{"content":{"body":"suggests http://www.sun.com/software/vmware/getit.jsp ","msgtype":"m.emote"},"ts":1209340800000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"Philip`: so each instruction number corresponds to one byte op and one byte arg, right?","msgtype":"m.text"},"ts":1209340920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"so the size in roughly number of instructions times two?","msgtype":"m.text"},"ts":1209340921000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"nope. times one","msgtype":"m.text"},"ts":1209341280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: javap shows the byte offset of each instruction, so you should be able to just look at the last one in the method","msgtype":"m.text"},"ts":1209341340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Instructions are variable length; I've got no idea what a sensible average is)","msgtype":"m.text"},"ts":1209341341000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"now I got the big method to compile","msgtype":"m.text"},"ts":1209341400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"much better but still sucks","msgtype":"m.text"},"ts":1209341401000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1209345780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"On Fri, 11 Apr 2008, Anne van Kesteren wrote:","msgtype":"m.text"},"ts":1209345781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"> ","msgtype":"m.text"},"ts":1209345782000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"> Euhm, setItem() takes two strings. Therefore I'd expect null, undefined, ","msgtype":"m.text"},"ts":1209345783000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"> etc. to be stringified.","msgtype":"m.text"},"ts":1209345784000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't understand what that means","msgtype":"m.text"},"ts":1209345785000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"null => 'null' ","msgtype":"m.text"},"ts":1209346020000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"but why?","msgtype":"m.text"},"ts":1209346740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what is setItem?","msgtype":"m.text"},"ts":1209352080000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"DOM APIs are pretty inconsistent about whether null is treated same as empty string, or same as 'null', when they take a string","msgtype":"m.text"},"ts":1209352140000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Storage.setItem()","msgtype":"m.text"},"ts":1209352260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess we'll have to get heycam to decide the default, and then give us a flag thingy for the cases where it's the other way around","msgtype":"m.text"},"ts":1209352261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, currently null gets passed as null to DOMString arguments unless the [NoNull] extended attribute appears on it","msgtype":"m.text"},"ts":1209352380000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"then it'll always get stringified","msgtype":"m.text"},"ts":1209352381000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"to what?","msgtype":"m.text"},"ts":1209352382000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"to 'null'","msgtype":"m.text"},"ts":1209352383000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1209352384000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is that ever what we want?","msgtype":"m.text"},"ts":1209352385000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'd have expect it to be null or ''","msgtype":"m.text"},"ts":1209352386000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think i remember some things actually stringifying the parameter, resulting in 'null'","msgtype":"m.text"},"ts":1209352440000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"was it .textContent?  dunno now.","msgtype":"m.text"},"ts":1209352441000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"hmm. this question had no response in #webkit, so i'll try here.  does anyone know what the proper behavior is for rendering a table where the tbody has a specific height set in css?","msgtype":"m.text"},"ts":1209367020000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"webkit ignores the height, ff2 makes it take up that much space, but leaves rows rendering as they had, ff3 expands rows until they fill up the specified height","msgtype":"m.text"},"ts":1209367021000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"this doesn't seem to really be covered by http://www.w3.org/TR/CSS21/tables.html","msgtype":"m.text"},"ts":1209367022000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"example: http://cs179-spring-2008.seas.harvard.edu/wheatmuffin/prototype/index_2008.04.27-3.html","msgtype":"m.text"},"ts":1209367080000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"here, ff2 does what I want it to, while the other two don't","msgtype":"m.text"},"ts":1209367081000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"if this is unspecified, is there some better way of achieving the same effect?","msgtype":"m.text"},"ts":1209367082000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"opera also seems to ignore it","msgtype":"m.text"},"ts":1209367200000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: see css","msgtype":"m.text"},"ts":1209367260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"iirc 'height' doesn't apply to table sections","msgtype":"m.text"},"ts":1209367261000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":" all elements but non-replaced inline elements, table columns, and column groups","msgtype":"m.text"},"ts":1209367320000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"which would seem to imply it should apply to row groups","msgtype":"m.text"},"ts":1209367321000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"the behavior difference between ff2 and ff3 is also puzzling though","msgtype":"m.text"},"ts":1209367380000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Hixie: in general, what happens to heights in tables seems rather underspecified","msgtype":"m.text"},"ts":1209367560000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1209367620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1209367621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"let the wg know","msgtype":"m.text"},"ts":1209367622000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what's the best way to do that?","msgtype":"m.text"},"ts":1209367680000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"http://landfill.bugzilla.org/complaints/show_bug.cgi?id=22","msgtype":"m.text"},"ts":1209367740000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"jruderman: there are no steps to reproduce there","msgtype":"m.text"},"ts":1209367800000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"jacobolus: if you think of good ones, you should add them","msgtype":"m.text"},"ts":1209367801000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"jruderman: also, no expected behavior vs. actual behavior","msgtype":"m.text"},"ts":1209367860000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"otoh, it's a complaint system, so not everything needs steps to reproduce","msgtype":"m.text"},"ts":1209367861000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":":p","msgtype":"m.text"},"ts":1209367862000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"for example, http://landfill.bugzilla.org/complaints/show_bug.cgi?id=21 does fine without them","msgtype":"m.text"},"ts":1209367863000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"Hixie: wait, is the css 3 tables spec really password protected?","msgtype":"m.text"},"ts":1209367920000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(it's a working draft, according to http://www.w3.org/Style/CSS/current-work)","msgtype":"m.text"},"ts":1209367980000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"or does that just mean they don't have anything yet?","msgtype":"m.text"},"ts":1209367981000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"don't ask me, i gave up on the csswg a year or more ago","msgtype":"m.text"},"ts":1209368160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"heh.  fair enough","msgtype":"m.text"},"ts":1209368161000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"well, any suggestions for how to get a scrollable tbody with a fixed thead, without setting the height of the tbody and setting its overflow-y to scroll?","msgtype":"m.text"},"ts":1209368220000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"(I suppose that's a bit off topic for this channel; not sure where else I'd ask)","msgtype":"m.text"},"ts":1209368221000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"css wg is planning more openess","msgtype":"m.text"},"ts":1209368280000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"that process is moving at a gradual place","msgtype":"m.text"},"ts":1209368281000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"i'd have used another g word","msgtype":"m.text"},"ts":1209368520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"glacial\"","msgtype":"m.text"},"ts":1209368521000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but to each his own","msgtype":"m.text"},"ts":1209368700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, for quite a few things null becomes 'null'","msgtype":"m.text"},"ts":1209369240000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"iirc","msgtype":"m.text"},"ts":1209369241000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for IE compat","msgtype":"m.text"},"ts":1209369242000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1209369243000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"someone should let me know what they are so i can pepper [NoNull]s around the spec","msgtype":"m.text"},"ts":1209369300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1209369301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, \"<span>browsing content</span>\"","msgtype":"m.text"},"ts":1209369780000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"othermaciej: Does refusing IRC logging make up part of that process? ;)","msgtype":"m.text"},"ts":1209369900000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: they just want the logging done in a carefully considered, measured, slow way","msgtype":"m.text"},"ts":1209369901000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"avoids further comment","msgtype":"m.emote"},"ts":1209370200000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: someone might prevent you from running for world leader 20 years from now, if they see what you wrote in some technical IRC channel!","msgtype":"m.text"},"ts":1209370260000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"That reminds me of the conspiracy of light mail when Hyatt became editor","msgtype":"m.text"},"ts":1209370320000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: and you see, because of IRC logs (http://krijnhoetmer.nl/irc-logs/html-wg/20070423#l-55) now zcorpan is implicated too.","msgtype":"m.text"},"ts":1209370500000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"That's okay, he was part of the vast browser wing conspiracy already","msgtype":"m.text"},"ts":1209370501000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"and also proud member of the secret WHATWG cabal","msgtype":"m.text"},"ts":1209370560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"not gonna be secret for long if y'all keep talking about it in public!!!","msgtype":"m.text"},"ts":1209370620000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I thinkt it was top secret that the secret cabal is secret","msgtype":"m.text"},"ts":1209370680000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"how can you just openly admit that it is secret like that?","msgtype":"m.text"},"ts":1209370681000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"is not sure what to say","msgtype":"m.emote"},"ts":1209370740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"One of these days I'm actually going to join #whatwg-secret-treehouse","msgtype":"m.text"},"ts":1209370741000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"blames krijn for logging","msgtype":"m.emote"},"ts":1209370742000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hears nothing","msgtype":"m.emote"},"ts":1209370743000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"Hixie: do people *really* want modal dialogs in html5?  modal dialogs suck :/","msgtype":"m.text"},"ts":1209371280000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"can't you just ignore them and hope they go away? :)","msgtype":"m.text"},"ts":1209371340000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"both mozilla and safari were forced to implement showModalDialog()","msgtype":"m.text"},"ts":1209371341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"If you don't give them modal dialogs, they create them with CSS and ruin your page","msgtype":"m.text"},"ts":1209371342000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"apparently if you don't give them modal dialogs, they don't support our browser","msgtype":"m.text"},"ts":1209371343000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(or that)","msgtype":"m.text"},"ts":1209371344000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"should there be a way to do in page modal dialogs? like limit all interactivity to a given DOM element and descendents","msgtype":"m.text"},"ts":1209371880000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so you can implement your own menus and such in case the native ones are not good enough","msgtype":"m.text"},"ts":1209372000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: you mean instead of dumping a gigantic invisible un-clickable element over the whole page, then putting the new element w/ a higher z-index?","msgtype":"m.text"},"ts":1209372120000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"that seems to work reasonably well in my experience","msgtype":"m.text"},"ts":1209372180000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"but maybe isn't super clean (requires javascript)","msgtype":"m.text"},"ts":1209372181000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"annevk: doesn't seem like enough of a use case to add as a feature though","msgtype":"m.text"},"ts":1209372182000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"also, encouraging people to use modal dialogs is bad :)","msgtype":"m.text"},"ts":1209372240000,"senderName":"jacobolus","senderId":"jacobolus@irc"},
{"content":{"body":"annevk: \"should there be a way [...] to do modal dialogs\" is already \"no but we have to sped the existing method. I don't think we need authors to have more ways to annoy their users :)","msgtype":"m.text"},"ts":1209372300000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"s/sped/spec/","msgtype":"m.text"},"ts":1209372301000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"I was mostly thinking about contextmmenus and normal menus","msgtype":"m.text"},"ts":1209372302000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and similar uses","msgtype":"m.text"},"ts":1209372303000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"which are modal in some way too","msgtype":"m.text"},"ts":1209372304000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"though they're arguably not dialogs so I messed that up","msgtype":"m.text"},"ts":1209372360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Well I guess if you can enforce the \"click anywhere off the menu and normal operations are restored\" behaviour then it wouldn't be so bad","msgtype":"m.text"},"ts":1209372420000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"we have a solution for menus already","msgtype":"m.text"},"ts":1209372421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"-_-","msgtype":"m.text"},"ts":1209372780000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"it's a bit silly that there should be two parse errors in '<!DOCTYPE html SYS'EOF","msgtype":"m.text"},"ts":1209374700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"you only have to report one :-)","msgtype":"m.text"},"ts":1209374820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It's a bit silly that '<!DOCTYPE' has more parse errors than either '<!DOCTYP' or '<!DOCTYPE '","msgtype":"m.text"},"ts":1209374821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: the test cases want two","msgtype":"m.text"},"ts":1209374822000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the test cases are fascist","msgtype":"m.text"},"ts":1209374823000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but then they want only one for '<!DOCTYPE html PUBLIC'EOF","msgtype":"m.text"},"ts":1209374880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that's painful","msgtype":"m.text"},"ts":1209374881000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: I'm back to reasonable perf by keeping the tokenization loop just under 8000 bytes","msgtype":"m.text"},"ts":1209375000000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Hopefully future versions HotSpot (and other people's JVMs) won't have a smaller limit than that - seems a little dodgy but I'm not sure what else you could do :-/","msgtype":"m.text"},"ts":1209375060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: tweaking things for HotSpot are painful and silly enough. I'm not going to worry too much about IBM or BEA or whatever JVMs at this point","msgtype":"m.text"},"ts":1209375180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: anyway, any conclusions yesterday about switch itself are wrong","msgtype":"m.text"},"ts":1209375240000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the thing that makes switch \"death slow\" is that making a huge switch easily makes the method too large","msgtype":"m.text"},"ts":1209375241000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"now I have to add a couple of states for [CDATA[ it'll be interesting to see if doing so breaks the limit again","msgtype":"m.text"},"ts":1209375420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"also, I wonder if object fields and spilled locals make a perf difference","msgtype":"m.text"},"ts":1209375480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and how many locals fit it registers on x86_64?","msgtype":"m.text"},"ts":1209375481000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"you're going to add math support?","msgtype":"m.text"},"ts":1209375720000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"anyone got a pool going on how long it'll take for the svgwg to get back to us, btw?","msgtype":"m.text"},"ts":1209375721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"given that Doug is on holiday I guess it will take a while","msgtype":"m.text"},"ts":1209375780000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i guess we'll wait until after webforms2 is dealt with","msgtype":"m.text"},"ts":1209375960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"eternity+1","msgtype":"m.text"},"ts":1209376080000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Interacting with other WGs is fun","msgtype":"m.text"},"ts":1209376081000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"actually the dealine for wf2 is rapidly approaching","msgtype":"m.text"},"ts":1209376082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"june? july? something like that?","msgtype":"m.text"},"ts":1209376140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1209376141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1209376142000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"July 2008 per http://www.w3.org/2007/10/forms-tf/charter-proposal","msgtype":"m.text"},"ts":1209376143000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(and some e-mail that states the charter has been approved by the TF by implicit consent)","msgtype":"m.text"},"ts":1209376144000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes, I'm going to add math support","msgtype":"m.text"},"ts":1209376200000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but I think I should prepare XTech slides first","msgtype":"m.text"},"ts":1209376201000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm, XTech slides...","msgtype":"m.text"},"ts":1209376500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"finds -XX:-DontCompileHugeMethods","msgtype":"m.emote"},"ts":1209378900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it's particularly Not Nice that the option isn't documented in the usual HotSpot documentation","msgtype":"m.text"},"ts":1209379260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6453531 - \"The VM is tuned for compiling for the common programming paradigm, which includes generally small methods.\" - it would be nice if it was merely tuning, rather than order-of-magnitude differences","msgtype":"m.text"},"ts":1209379500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I'd be interested to know when compiling a > 8000-byte method actually hurts","msgtype":"m.text"},"ts":1209379860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"It would hurt when the compiler is O(n^2)","msgtype":"m.text"},"ts":1209379920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"perhaps, but the 8000 sucks big time for parsers and generated code","msgtype":"m.text"},"ts":1209379980000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it's quite reasonble to compile a program written in a non-Java language into one huge Java method with a lot of goto","msgtype":"m.text"},"ts":1209380040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Maybe it's a problem of trying to optimise the JVM for benchmarks and for common applications, since that's how people try to measure performance, and any code that does something significantly different will lose out","msgtype":"m.text"},"ts":1209380580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"well, yeah, but it's not like tokenizer state machines (generated or hand-written) or dynamic or functional languages compiled to Java are rare and bizarre these days","msgtype":"m.text"},"ts":1209380700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it seems that other people who've hit this problem are doing something as enterprisey as JSP!","msgtype":"m.text"},"ts":1209380880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Enterprisey people can just buy a 16-core CPU to replace their old server, and that'll make up for the loss of performance between Java 1.5 and 1.6","msgtype":"m.text"},"ts":1209381540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hmm, I wonder who's making 16-core CPUs","msgtype":"m.text"},"ts":1209381720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh! Sun is - how convenient","msgtype":"m.text"},"ts":1209381721000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip: Of course they are. And they cost how much? 10K Euros?","msgtype":"m.text"},"ts":1209397740000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: The 16-core CPUs? I have no idea how much they are likely to be, but I'd have to guess they're not cheap :-)","msgtype":"m.text"},"ts":1209398220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Sun aren't making 16-core CPUs. They only make 8-core ones (which can run 64 threads concurrently).","msgtype":"m.text"},"ts":1209398460000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: 8 cores wouldn't be enough to make up for an order of magnitude performance loss, so I was thinking of the not-quite-released Rock processors which Wikipedia says has 16 cores :-p","msgtype":"m.text"},"ts":1209398700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah, Rock. That isn't released! That doesn't count :P","msgtype":"m.text"},"ts":1209398701000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: I never said Sun was actually shipping 16-core processors, only that they were making them","msgtype":"m.text"},"ts":1209398880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and http://blogs.sun.com/jonathan/entry/rock_arrived indicates that they have made at least one","msgtype":"m.text"},"ts":1209398881000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Has anyone else heard here about MS plans to throw CSS3 under the bus?","msgtype":"m.text"},"ts":1209401700000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"oh god. nevermind. please don't listen to me. i just read an april fools joke that spanned across two sites. i hate april 1st.","msgtype":"m.text"},"ts":1209401760000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: They already support some CSS3 modules (such as almost all of selectors) in IE7 :P","msgtype":"m.text"},"ts":1209403080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Yeah. I knew that too. I just woke up, haven't had my coffee, and wasn't thinking straight. Oh well.  ","msgtype":"m.text"},"ts":1209403560000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"I have a question, and please let me know if this isn't a good place to ask, and i'll keep them out of here, but there are pages, like the google cache page, that use frames. With the html5 spec, would the only way to be able to display the page in a similar manner be to use scripting? And if so, doesn't it seem inefficient to remove functionality from the html spec? It seems like the client-side and server-side would have to d","msgtype":"m.text"},"ts":1209403980000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: your comment was cut off at \"would have to d\"","msgtype":"m.text"},"ts":1209404040000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"﻿do more work in a case like this","msgtype":"m.text"},"ts":1209404041000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: Google cache has never used frames, as far as I've seen - it just adds some code into the top of the page to create its ugly box with information","msgtype":"m.text"},"ts":1209404220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Might you be thinking of Google Image search results instead?","msgtype":"m.text"},"ts":1209404221000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yes. i'm sorry, i do mean google image search.","msgtype":"m.text"},"ts":1209404280000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"I suppose that could be implemented using <iframe> instead","msgtype":"m.text"},"ts":1209404281000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Don't know if there would be any problems with that approach","msgtype":"m.text"},"ts":1209404340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"well, there would be the backwards compatibility issue","msgtype":"m.text"},"ts":1209404341000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"<iframe> is backwards-compatible","msgtype":"m.text"},"ts":1209404342000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i know recent browsers don't behave the same with an iframe in all cases, at least as far as setting it to the page width, and positioning (which i guess is a css-issue moreso)","msgtype":"m.text"},"ts":1209404400000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"which is i guess where the major part of the scripting would come in, and window resizing. ","msgtype":"m.text"},"ts":1209404401000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"Ah, okay","msgtype":"m.text"},"ts":1209404460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hmm. Image Report shows that I've written bad alt text in 2003","msgtype":"m.text"},"ts":1209404520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"isn't quite sure of what problems there are","msgtype":"m.emote"},"ts":1209404521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"accessibility is a major one, from what i've heard, as well as search engine crawling: they determine it to be a separate page (which may or may not be the intended result... i'm not sure)","msgtype":"m.text"},"ts":1209404640000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: Perhaps it's reasonable to say that browsers will have improved in the years before everyone should start using HTML 5, and so iframe CSS bugs won't matter much by then","msgtype":"m.text"},"ts":1209404700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and people like Google can still use <frameset> if they want to be more compatible with really old browsers, because they don't care whether their code validates or not","msgtype":"m.text"},"ts":1209404701000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"philip: good point. i guess i don't see the *ahem* \"sense of logic\" in ditching frames, but keeping something that doesn't have any practical use like the \"font\" element... unless its specifically there because wysiwyg editors currently like it","msgtype":"m.text"},"ts":1209404820000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: It seems very likely that <font> will be removed from the spec, since everyone hates it, and Hixie just hasn't got around to editing that section yet","msgtype":"m.text"},"ts":1209404880000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/multipage/section-presentational.html#the-font - \"This entire section will probably be dropped.\"","msgtype":"m.text"},"ts":1209404940000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"philip: Well that sets my mind at ease. Haven't read that part in a while. Just wanted to say my piece, thank you :-)","msgtype":"m.text"},"ts":1209405060000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"notes that WYSIWYG editors will just move over to span/div instead :P","msgtype":"m.emote"},"ts":1209405120000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Is that a bad thing?","msgtype":"m.text"},"ts":1209405121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: It's no better than the status quo.","msgtype":"m.text"},"ts":1209405122000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But there again, due to the very nature of WYSIWYG editors they will always output presentational HTML","msgtype":"m.text"},"ts":1209405180000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie said the <font style> thing was an attempt to attach the stigma of 'font' onto 'style' (to discourage people from using 'style'), but it seems to have just attached the stigma to the HTML5 spec instead,","msgtype":"m.text"},"ts":1209405181000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/,$//","msgtype":"m.text"},"ts":1209405182000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i just assumed that it was to allow legacy WYS editors to have an easier transition to new specs","msgtype":"m.text"},"ts":1209405240000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: In the current spec, the only attribute allowed on font is style, and the style attribute is not allowed on any other element; so I think that makes it harder for existing WYSIWYG editors to transition, since they either use <font face size color> or they use <span style>","msgtype":"m.text"},"ts":1209405360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"*they currently use either ...","msgtype":"m.text"},"ts":1209405361000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah. well, i haven't used one in a long while. well cool. thanks for clearing that up","msgtype":"m.text"},"ts":1209405540000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"gsnedders: Is the status quo a bad thing?","msgtype":"m.text"},"ts":1209405600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: No, it just seems change for no reason.","msgtype":"m.text"},"ts":1209405601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Uh, isn't the point of the status quo that it's *not* a change?","msgtype":"m.text"},"ts":1209405720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I said it's no better than the status quo, not that it is the status quo","msgtype":"m.text"},"ts":1209405721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Oh, then what is the status quo if it's not using span/div?","msgtype":"m.text"},"ts":1209405780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: That is the status quo. I meant font@style is no better.","msgtype":"m.text"},"ts":1209405781000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Ah, I didn't gather that meaning from your statements :-p","msgtype":"m.text"},"ts":1209405840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hopes he's less confusing in real life","msgtype":"m.emote"},"ts":1209405900000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"haha","msgtype":"m.text"},"ts":1209405960000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"gsnedders: When you said \"It's no better than the status quo.\", I didn't realise that the antecedent of \"it\" was from half a dozen lines earlier :-)","msgtype":"m.text"},"ts":1209405961000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"who's on first gsnedders?","msgtype":"m.text"},"ts":1209405962000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: huh?","msgtype":"m.text"},"ts":1209406020000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gnsedders: http://www.phoenix5.org/humor/WhoOnFirst.html","msgtype":"m.text"},"ts":1209406080000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"heh.","msgtype":"m.text"},"ts":1209406140000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hmm, if you believe some of my photos' metadata, I've been taking photos on 6th August 2099.","msgtype":"m.text"},"ts":1209407760000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: That metadata would make an excellent basis for the semantic web","msgtype":"m.text"},"ts":1209407820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think the dates are totally wrong though, I don't think it's even August. I wasn't on Maderia then.","msgtype":"m.text"},"ts":1209407940000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: I think you may be missing a more obvious discrepancy in the dates","msgtype":"m.text"},"ts":1209408060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: I mean discounting the year :)","msgtype":"m.text"},"ts":1209408061000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"So none of it is right whatsoever :)","msgtype":"m.text"},"ts":1209408062000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"What about the time zone? :)","msgtype":"m.text"},"ts":1209408063000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"gsnedders: If that's what you meant then you should have said that :-p","msgtype":"m.text"},"ts":1209408120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Dashiva: That isn't given :P","msgtype":"m.text"},"ts":1209408121000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Lesson learnt from this: don't take photos of the Firth of Forth. It screws with your camera :P","msgtype":"m.text"},"ts":1209408122000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But if it was wrong, you'd have pictures taken at 6 am and stuff","msgtype":"m.text"},"ts":1209408123000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"(or is that the conclusion?)","msgtype":"m.text"},"ts":1209408124000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: You need to do a more extensive investigation","msgtype":"m.text"},"ts":1209408180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The photos were taken sometime between 23 July 2003 and 22 January 2005.","msgtype":"m.text"},"ts":1209408240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I suggest taking photos in the same place with somebody else's camera, and then see whether the ill effects affect you or the camera's owner","msgtype":"m.text"},"ts":1209408241000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"And I don't remember being on Maderia in that time","msgtype":"m.text"},"ts":1209408242000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: I'll try taking a photo from the train on the way to Cambridge :P","msgtype":"m.text"},"ts":1209408243000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Do you mean Madeira, as in Madeira cake?)","msgtype":"m.text"},"ts":1209408300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(I mean Maderia as in the island in the Atlantic Ocean where the Maderia cake originates from)","msgtype":"m.text"},"ts":1209408360000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Okay, so you do mean Madeira, not Maderia)","msgtype":"m.text"},"ts":1209408420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders if Hixie is active right now","msgtype":"m.emote"},"ts":1209408421000,"senderName":"maikmerten","senderId":"maikmerten@irc"},
{"content":{"body":"Philip`: Stop picking on the kid with dyspraxia! :P","msgtype":"m.text"},"ts":1209408422000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(But yes)","msgtype":"m.text"},"ts":1209408423000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(and the cake is spelt the same way)","msgtype":"m.text"},"ts":1209408480000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Actually, I can narrow the date down further. It's after 24 July 2003.","msgtype":"m.text"},"ts":1209408481000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(I was just checking it wasn't some obscure place that I had never heard of and that sounded like somewhere more familiar :-) )","msgtype":"m.text"},"ts":1209408482000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(It's a common spelling mistake, actually)","msgtype":"m.text"},"ts":1209408483000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(Google says only about 1% get it wrong, which is hugely better than the number of people who misspell colour)","msgtype":"m.text"},"ts":1209408540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Moving swiftly on, http://twitter.com/gsnedders/statuses/798868533","msgtype":"m.text"},"ts":1209408600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(There is a story behind that)","msgtype":"m.text"},"ts":1209408720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: color :-P","msgtype":"m.text"},"ts":1209408780000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"</snark>","msgtype":"m.text"},"ts":1209408781000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"othermaciej: you may have noticed from the logs that I refactored the Validator.nu parser to use switch instead of methods","msgtype":"m.text"},"ts":1209410160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I didn't","msgtype":"m.text"},"ts":1209410220000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"hsivonen: use switch instead of methods for what?","msgtype":"m.text"},"ts":1209410221000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: re: our perf speculation last summer, data now shows that I wasn't nuts to use one method per state","msgtype":"m.text"},"ts":1209410222000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"othermaciej: tokenizer states","msgtype":"m.text"},"ts":1209410223000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"switch has other nice qualities, but perf in Java doesn't appear to be one of them","msgtype":"m.text"},"ts":1209410280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: how did you do your method lookup before?","msgtype":"m.text"},"ts":1209410880000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: switching to states was method calls. switching to data state was return. there were additional loops around comments and attributes so it wasn't recursive","msgtype":"m.text"},"ts":1209410940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I see","msgtype":"m.text"},"ts":1209411000000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if I were coding it in C++, I'd probably use an array of function pointers per state, but a switch statement might indeed be faster","msgtype":"m.text"},"ts":1209411060000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(right now our tokenizer is much simpler and more ad-hoc)","msgtype":"m.text"},"ts":1209411061000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"there's a tableswitch JVM instruction that probably sufficiently optimizes things","msgtype":"m.text"},"ts":1209411540000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"'s tokeniser spends all its time copying characters between buffers and allocating memory, and no time on the actual switch :-(","msgtype":"m.emote"},"ts":1209411541000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jwalden: sufficiently, yes, but methods aren't madly worse in Java","msgtype":"m.text"},"ts":1209411600000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1209411660000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"I wouldn't assert substantial differences between the two","msgtype":"m.text"},"ts":1209411661000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"in fact, on the client VM in short runs, methods are a bit better","msgtype":"m.text"},"ts":1209411662000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I have to rerun my long server VM tests","msgtype":"m.text"},"ts":1209411663000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm going to keep switch, though, because it enables other nice things","msgtype":"m.text"},"ts":1209411720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"switch does allow commoning of a case with another case sharing its tail, tho","msgtype":"m.text"},"ts":1209411721000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"without jumping to a different method and having call setup costs","msgtype":"m.text"},"ts":1209411722000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Methods + inlining would work the same","msgtype":"m.text"},"ts":1209411780000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(the other nice things are: 1) full suspendability at any point, 2) app owning the IO loop, 3) document.write() and 4) line-by-line porting to C, C++ or Objective-C)","msgtype":"m.text"},"ts":1209411781000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(I want a port to JavaScript)","msgtype":"m.text"},"ts":1209411840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"sure, if you can do it; that's getting into tricky territory in terms of implementation, tho","msgtype":"m.text"},"ts":1209411841000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"which is what matters, this all being theoretically equal","msgtype":"m.text"},"ts":1209411842000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"Philip`: you should check if GWT can compile the Validator.nu HTML parser into JS","msgtype":"m.text"},"ts":1209411843000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Compiling Java into JS sounds like more evil than I could bear","msgtype":"m.text"},"ts":1209411900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"More evil than Philip`can bear? Isn't that some theoretical upper bound on evilness? :)","msgtype":"m.text"},"ts":1209412440000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"Philip`: re: copying buffers: that's one area where the Validator.nu HTML parser isn't optimized","msgtype":"m.text"},"ts":1209412441000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it always copies element and attribute names, comment contents and attribute values into auxiliary buffers","msgtype":"m.text"},"ts":1209412500000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"this could be changed to happen only when the input buffer can't be used as the backing store of those buffers","msgtype":"m.text"},"ts":1209412560000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wonders if he should make his parser use UTF-8 everywhere, and just blindly pass char* encoded strings through the tokeniser","msgtype":"m.emote"},"ts":1209412561000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Which parser is this?","msgtype":"m.text"},"ts":1209412620000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"well, I use UTF-16 everywhere","msgtype":"m.text"},"ts":1209412621000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham__: The C++ instantiation of my language-independent one","msgtype":"m.text"},"ts":1209412622000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"was planning to make chtml5lib do that but hasn't actually worked on chtml5lib ","msgtype":"m.emote"},"ts":1209412623000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"(where by \"that\" I mean \"use utf-8 everywhere\")","msgtype":"m.text"},"ts":1209412680000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"hsivonen: I imagine you don't have much choice in string representation when you're using Java :-)","msgtype":"m.text"},"ts":1209412681000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham__: is chtml5lib a line-by-line port of the Python code?","msgtype":"m.text"},"ts":1209412682000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: chtml5lib is not even vapourware :)","msgtype":"m.text"},"ts":1209412683000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"But the idea was to follow the python code closely","msgtype":"m.text"},"ts":1209412684000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"Philip`: I mean, whatever comes before the tokenizer is responsible for not passing lone surrogates to the tokenizer","msgtype":"m.text"},"ts":1209412685000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Does the spec still say that <table>errôr</table> ought to give a parse error for each character?","msgtype":"m.text"},"ts":1209412686000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"not necessarily line-by-line","msgtype":"m.text"},"ts":1209412740000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"jgraham__: you might get better perf in other ways","msgtype":"m.text"},"ts":1209412741000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: This is true","msgtype":"m.text"},"ts":1209412742000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"I think both my code and Philip`'s code are likely to lead to more performant C than the html5lib code","msgtype":"m.text"},"ts":1209412743000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: About UTF-16: Ah, right","msgtype":"m.text"},"ts":1209412800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"What would make an html5lib port non-performant?","msgtype":"m.text"},"ts":1209412801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: it has more recursion and polymorphism that you'd expect to see in C code","msgtype":"m.text"},"ts":1209412860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"currently just has a big dumb switch and lots of if statements, since his attempts at optimisation had no measurable effect so he took them out again","msgtype":"m.emote"},"ts":1209412861000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: Ah, makes sense","msgtype":"m.text"},"ts":1209412920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"all my optimizations that make the tokenizer loop over or under 8000 bytes have a very measurable effect :-)","msgtype":"m.text"},"ts":1209412921000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"It may well have more recursion than python code that aims to be performant ","msgtype":"m.text"},"ts":1209412922000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"I solve that by using a language without such arbitrary limits :-)","msgtype":"m.text"},"ts":1209412980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"But optimum performance is not a stated design goal (fortunately)","msgtype":"m.text"},"ts":1209412981000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"(Well, I suppose I've occasionally written C++ methods large enough that the compiler simply rejected my program)","msgtype":"m.text"},"ts":1209412982000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(although it is obviously nice to be faster)","msgtype":"m.text"},"ts":1209412983000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"jgraham__: There's already a correct implementation of html5lib, in Python, so isn't the whole purpose of chtml5lib to be fast?","msgtype":"m.text"},"ts":1209412984000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham__: I thought the goal of chtml5lib was to make Python fast by using C under the hood","msgtype":"m.text"},"ts":1209413040000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I mean the design goal of html5lib-in-python","msgtype":"m.text"},"ts":1209413280000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"Using C is obviously supposed to help perf :)","msgtype":"m.text"},"ts":1209413281000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"Ah, right","msgtype":"m.text"},"ts":1209413282000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Although I'm not even clear that the project is worth doing now (globally, it may be for me personally) since Philip`and takkaria and hsivonen may all produce C based html5 parsers which I could write python bindings for","msgtype":"m.text"},"ts":1209413400000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"\"the project\" being chtml5lib","msgtype":"m.text"},"ts":1209413401000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"My parser is mostly a toy/experiment so hopefully someone will make a good one instead :-)","msgtype":"m.text"},"ts":1209413402000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"is failing 1600 of the 7400 tests a normal behavior, or am i missing libs? (html5lib)","msgtype":"m.text"},"ts":1209413403000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: It's not normal but it shouldn't test libs that you don't have either","msgtype":"m.text"},"ts":1209413460000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"htmlfivedotnet: Which version of html5lib?","msgtype":"m.text"},"ts":1209413520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"trunk","msgtype":"m.text"},"ts":1209413521000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"Ran 7650 tests in 23.214s","msgtype":"m.text"},"ts":1209413522000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"FAILED (failures=46, errors=3)","msgtype":"m.text"},"ts":1209413523000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"is what I get on trunk","msgtype":"m.text"},"ts":1209413524000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"FAILED (failures=4, errors=1630)","msgtype":"m.text"},"ts":1209413580000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"Do you have any/all of lxml, BeautifulSoup, pyxdom, chardet?","msgtype":"m.text"},"ts":1209413581000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"(for Python, not Ruby)","msgtype":"m.text"},"ts":1209413582000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and probaly some others I forget)","msgtype":"m.text"},"ts":1209413583000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"doublechecks lxml","msgtype":"m.emote"},"ts":1209413584000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"﻿jgraham__: i know i don't have the others ","msgtype":"m.text"},"ts":1209413640000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"Can you tell from the error messages what is failing? (or throw some of the output online and I'll have a look)","msgtype":"m.text"},"ts":1209413700000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"FAILED (failures=4)","msgtype":"m.text"},"ts":1209413701000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"is what I get","msgtype":"m.text"},"ts":1209413702000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"tries installing chardet","msgtype":"m.emote"},"ts":1209413703000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"My tree seems to have some patches in though :)","msgtype":"m.text"},"ts":1209413704000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"test_title_body_mismatched_close, test_title_body_named_charref, test_script, test_script_src","msgtype":"m.text"},"ts":1209413760000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"Ran 7651 tests, failures=46, errors=3","msgtype":"m.text"},"ts":1209413761000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"installing lxml gives the same result, but a few different run-time outputs","msgtype":"m.text"},"ts":1209413762000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: Those are sanitizer tests. How hard would it be to dump some of the output to a file and put it online somewhere","msgtype":"m.text"},"ts":1209413763000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1209413820000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"goes home","msgtype":"m.emote"},"ts":1209413821000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"﻿jgraham__: no problem. one sec","msgtype":"m.text"},"ts":1209413822000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"http://pastebin.ca/1000764","msgtype":"m.text"},"ts":1209413823000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"jgraham__: It would be nice to have automated Java to C, C++ and Objective-C translation for the Validator.nu HTML parser tokenizer and abstract tree builder","msgtype":"m.text"},"ts":1209413880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Why not start from an abstract language that avoids the complexities of Java, and convert from that into Java and C and C++ etc?","msgtype":"m.text"},"ts":1209413881000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"htmlfivedotnet: Those are the same failures I get. What are the errors?","msgtype":"m.text"},"ts":1209413940000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"Philip`: because I already have a Java impl and C, C++ and Objective-C are structurally similar","msgtype":"m.text"},"ts":1209413941000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"nn","msgtype":"m.text"},"ts":1209413942000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"all 1630 of them? for some reason python runtests.py > text.txt isn't putting them to a text file, and my console doesn't have 8000 lines of buffer","msgtype":"m.text"},"ts":1209413943000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"﻿jgraham__: you know what... looks like i have json problems. let me try to fix that. ","msgtype":"m.text"},"ts":1209414000000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: python runtests.py 2>&1 >text.txt","msgtype":"m.text"},"ts":1209414001000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"htmlfivedotnet: Nah, I think just a few should be enough to wok out what's going on.","msgtype":"m.text"},"ts":1209414002000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"i keep getting \"AttributeError: class simplejson has no attribute 'loads'\".","msgtype":"m.text"},"ts":1209414060000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"(to redirect stderr onto stdout, then to save both in the .txt file)","msgtype":"m.text"},"ts":1209414061000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so i think my json is broken. ","msgtype":"m.text"},"ts":1209414062000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"htmlfivedotnet: You need to install simplejson","msgtype":"m.text"},"ts":1209414063000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"Philip`: Thanks. I'll remember that","msgtype":"m.text"},"ts":1209414064000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"That would explain a lot :)","msgtype":"m.text"},"ts":1209414065000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"We should make a better error message there :)","msgtype":"m.text"},"ts":1209414120000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"Philip`: I'm also curious what faliures you are getting? ","msgtype":"m.text"},"ts":1209414121000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"jgraham__: Maybe support.py should just die when simplejson is missing, instead of trying (and failing) to implement it itself","msgtype":"m.text"},"ts":1209414180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham__: I'll tell you in ~40 minutes :-)","msgtype":"m.text"},"ts":1209414240000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wishes everybody could just get along and use a single mailing list for spec discussion","msgtype":"m.emote"},"ts":1209414241000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"3 errors, 4 fails (same failures): http://pastebin.ca/1000774","msgtype":"m.text"},"ts":1209414242000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"Philip`: Yes. It should. That was a hack that someone (Sam?) added and I forgot to take out when it stopped working","msgtype":"m.text"},"ts":1209414243000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"htmlfivedotnet: I think I have fixes for those errors in my tree (it's an issue with the test harness iirc)","msgtype":"m.text"},"ts":1209414300000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"So it's working as well for you as for anyone else","msgtype":"m.text"},"ts":1209414301000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"I need to fix the other issues","msgtype":"m.text"},"ts":1209414302000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"will have a look later this evening","msgtype":"m.emote"},"ts":1209414360000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"seems to be. i figured something was wrong on my end... ","msgtype":"m.text"},"ts":1209414361000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"jwalden: Either one of those things seems pretty unlikely on it's own, so them both happening seems very improbable :)","msgtype":"m.text"},"ts":1209414420000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"I know, I'm just feeling grouchy","msgtype":"m.text"},"ts":1209414421000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jgraham__: Oops, those failures existed because I have another file of tree-construction tests in testdata","msgtype":"m.text"},"ts":1209416640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If I remove that file, I only get 4 failures, 3 errors","msgtype":"m.text"},"ts":1209416641000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: That sounds like the expected behaviour","msgtype":"m.text"},"ts":1209416642000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"I don't know which of my uncommitted tests are still legitimate given the changes to the spec, so I'll ignore them until I get around to checking parser things again in the future","msgtype":"m.text"},"ts":1209416700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"man, addressing the needs of bloggers was a stroke of genius","msgtype":"m.text"},"ts":1209416880000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"every time a blogger looks at html5, they're all like \"sweet, this makes blog way better\"","msgtype":"m.text"},"ts":1209416940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and then they like html5","msgtype":"m.text"},"ts":1209416941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: presumably that method of optimisation would lead to specs that mainly address the needs of other specs (since the main people who read specs are people writing other specs)","msgtype":"m.text"},"ts":1209417060000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"well it wasn't intentionally optimised that way","msgtype":"m.text"},"ts":1209417061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm not suggesting it was :) But it provides a model of why some specs end up so divorced from reality","msgtype":"m.text"},"ts":1209417120000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"or at lkeast from the needs of real users","msgtype":"m.text"},"ts":1209417121000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"oh for sure","msgtype":"m.text"},"ts":1209417122000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: i put to you a challenge: get the XHR2 spec agreed to by everyone before the F2F, so i don't have to go :-)","msgtype":"m.text"},"ts":1209417180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Impossible things take longer ","msgtype":"m.text"},"ts":1209417181000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1209417182000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"shouldn't be that impossible","msgtype":"m.text"},"ts":1209417183000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"just need to get sicking to tell us what he wants","msgtype":"m.text"},"ts":1209417184000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"actually has no idea what the status of XHR2 is","msgtype":"m.emote"},"ts":1209417240000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"I thought it was just AC that was an issue for Mozilla? Or is the AC dependency the only remaining XHR2 issue?","msgtype":"m.text"},"ts":1209417300000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"ac/xhr2, same thing","msgtype":"m.text"},"ts":1209417420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Oh OK","msgtype":"m.text"},"ts":1209417480000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"Philip`: If you svn update html5lib it shouldn't have the three test errors now, assuming I checked the right code in","msgtype":"m.text"},"ts":1209417481000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"I think Mozilla's issue was cookies","msgtype":"m.text"},"ts":1209417540000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"I owe some writing on security issues related to cookies","msgtype":"m.text"},"ts":1209417541000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"in particular I am pretty convinced now that *not* sending them is a security risk","msgtype":"m.text"},"ts":1209417542000,"senderName":"othermaciej_","senderId":"othermaciej_@irc"},
{"content":{"body":"jgraham__: \"FAILED (failures=4)\" - looks like success","msgtype":"m.text"},"ts":1209417600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(sadly meetings all day today)","msgtype":"m.text"},"ts":1209417601000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"Philip`: Thanks","msgtype":"m.text"},"ts":1209417602000,"senderName":"jgraham__","senderId":"jgraham__@irc"},
{"content":{"body":"annevk: do you know if you have yet defined same-origin security policies for CSSOM?","msgtype":"m.text"},"ts":1209422460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in particular, that a script shouldn't be able to mutate a StyleSheet object from another origin","msgtype":"m.text"},"ts":1209422520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: note that the Web Forms spec explicitly requires Unicode case-folding.","msgtype":"m.text"},"ts":1209423360000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"yeah wf2 is old and crusty","msgtype":"m.text"},"ts":1209423361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you're not sure you want that (seemed from your message to hsivonen that you didn't) you should probably remove it","msgtype":"m.text"},"ts":1209423362000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"﻿Hixie: Did you just read a blog post about why html5 is great for blogs, thus leading to your comment? I just wonder if it was my recent post out of some strange coincidence","msgtype":"m.text"},"ts":1209424380000,"senderName":"htmlfivedotnet","senderId":"htmlfivedotnet@irc"},
{"content":{"body":"fantasai: wf2 will be merged with html5 in due course, until then it's frozen","msgtype":"m.text"},"ts":1209424440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"htmlfivedotnet: no idea which blog it was","msgtype":"m.text"},"ts":1209424441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"no gta4 for me tonight","msgtype":"m.text"},"ts":1209425340000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"line was just too long","msgtype":"m.text"},"ts":1209425400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"amazon is shipping it to me tomorrow","msgtype":"m.text"},"ts":1209425401000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's already on a truck somewhere","msgtype":"m.text"},"ts":1209425402000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: Was there a midnight release?","msgtype":"m.text"},"ts":1209425403000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1209425404000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but i was too late because i was going to see a movie and since i have to get up early tomorrow waiting until 2AM or something didn't seem like a feasible plan","msgtype":"m.text"},"ts":1209425460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Was that like the PS3 release where everybody was beating each other up to get ahead in the line, or was it like the Wii release where everyone make cookies for each other?","msgtype":"m.text"},"ts":1209425461000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it was a normal line","msgtype":"m.text"},"ts":1209425520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Oh, how unexciting","msgtype":"m.text"},"ts":1209425521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"what's the origin of a Document whose URI is about:blank?","msgtype":"m.text"},"ts":1209425522000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the Access-Control-Origin is \"null\"","msgtype":"m.text"},"ts":1209425640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"unless it's inside some <iframe> I suppose and it gets the origin from somewhere else","msgtype":"m.text"},"ts":1209425700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that's what i mean","msgtype":"m.text"},"ts":1209425701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that doesn't jibe with HTML5's origin for about:blank-spawned windows","msgtype":"m.text"},"ts":1209425702000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"html5 doesn't define about:blank origin at the moment","msgtype":"m.text"},"ts":1209425760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there's a big red box for that case","msgtype":"m.text"},"ts":1209425761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i just added it","msgtype":"m.text"},"ts":1209425762000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I suppose it's kind of hard to get an about:blank and initiate some kind of cross-site request without having it associated with some other origin :)","msgtype":"m.text"},"ts":1209425763000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh, I'm thinking of javascript:","msgtype":"m.text"},"ts":1209425764000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"on another note, i just defined how document.domain works","msgtype":"m.text"},"ts":1209425765000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ooh","msgtype":"m.text"},"ts":1209425766000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1209425767000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"search for \"Effective script origin\" for the juicy bits","msgtype":"m.text"},"ts":1209425820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and if you have a better term than \"effective script origin\", let me know","msgtype":"m.text"},"ts":1209425821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what happened to the multipage version?  the URL seems awol right now","msgtype":"m.text"},"ts":1209425940000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/multipage/","msgtype":"m.text"},"ts":1209425941000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"changelog: http://html5.org/tools/web-apps-tracker?from=1501&to=1502","msgtype":"m.text"},"ts":1209426000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"uh","msgtype":"m.text"},"ts":1209426001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"dunno","msgtype":"m.text"},"ts":1209426002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"will try to fix","msgtype":"m.text"},"ts":1209426003000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think the port part doesn't match what Moz does (it uses the port, but I'm not sure how), but I don't think anyone will care","msgtype":"m.text"},"ts":1209426120000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"we do have a bug against this, tho, in that we allow \"example.org/foo/bar/baz\" I think right now, being equivalent to \"example.org\" :-(","msgtype":"m.text"},"ts":1209426180000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"as far as i can tell, mozilla ignores the port once you set document.domain, no?","msgtype":"m.text"},"ts":1209426181000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"...I'm not sure","msgtype":"m.text"},"ts":1209426240000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"yeah i decided to err on the side of safety with not allowing path components","msgtype":"m.text"},"ts":1209426241000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"since webkit doesn't do it","msgtype":"m.text"},"ts":1209426242000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I can't see a good reason to allow them","msgtype":"m.text"},"ts":1209426243000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"so i'm guessing it's not needed for web compat","msgtype":"m.text"},"ts":1209426244000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'm sort of scared that we do, actually","msgtype":"m.text"},"ts":1209426245000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1209426246000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i know the feeling :-)","msgtype":"m.text"},"ts":1209426247000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"multipage is fixed","msgtype":"m.text"},"ts":1209426248000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the port thing I know we were using the value with a SetHostPort call at one time, until we discovered that method wasn't implemented and reverted to string-buildup","msgtype":"m.text"},"ts":1209426300000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"but how a specified port affects anything, I don't know","msgtype":"m.text"},"ts":1209426301000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"it might not","msgtype":"m.text"},"ts":1209426302000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"oh you mean specifying it in document.domain?","msgtype":"m.text"},"ts":1209426360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1209426361000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"from what i saw of the webkit source, that definitely isn't supported over there","msgtype":"m.text"},"ts":1209426362000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think that for the purposes of XHR, 'origin' is now well-defined in all cases except about:blank iframes","msgtype":"m.text"},"ts":1209426420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and windows","msgtype":"m.text"},"ts":1209426421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I recall we have some dragons around there too. I should probably get Hallvord to review...","msgtype":"m.text"},"ts":1209426422000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is \"manual override\" yet to be defined?","msgtype":"m.text"},"ts":1209426480000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1209426481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's just a value","msgtype":"m.text"},"ts":1209426482000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that isn't a port number","msgtype":"m.text"},"ts":1209426540000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"should define \"same\" then with respect to it","msgtype":"m.text"},"ts":1209426541000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"\"manual override\" is the same as \"manual override\" but not anything else","msgtype":"m.text"},"ts":1209426542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"do i need to say that?","msgtype":"m.text"},"ts":1209426543000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1209426544000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"I'm stupid","msgtype":"m.text"},"ts":1209426545000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"ignore me!","msgtype":"m.text"},"ts":1209426546000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1209426547000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":-/","msgtype":"m.text"},"ts":1209426548000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is forgetting about symmetry","msgtype":"m.emote"},"ts":1209426600000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"jwalden: on another note, you sent feedback saying that document.open() doesn't reset the origin, but as far as i can tell, the spec doesn't let you call .open() unless your origin is the same anyway","msgtype":"m.text"},"ts":1209426601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"although now i guess the origin could be changed by a script that was document.domain'ed the same","msgtype":"m.text"},"ts":1209426602000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"shall have to re-page that in","msgtype":"m.emote"},"ts":1209426660000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"but i don't think it really matters much in that case...","msgtype":"m.text"},"ts":1209426661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i can just reply to the mail if you'd rather","msgtype":"m.text"},"ts":1209426662000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, looking back I'm not sure what I was thinking there","msgtype":"m.text"},"ts":1209426780000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1209426840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'll reply saying i'm ignoring you, and if you or someone else decides i'm wrong, i'm sure you or they will reply :-)","msgtype":"m.text"},"ts":1209426841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there was a funky postMessage test sicking requested that was that situation, and which my initial implementation tickled, but I can't rationalize the question given that and how things should actually work otherwise","msgtype":"m.text"},"ts":1209426900000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"did we decide if MessageEvent.origin should be in punycode (like document.domain) or fully Unicode?","msgtype":"m.text"},"ts":1209426960000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I wanted fully Unicode","msgtype":"m.text"},"ts":1209427020000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1209427021000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but no, no decision","msgtype":"m.text"},"ts":1209427022000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"wait","msgtype":"m.text"},"ts":1209427023000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"looks again","msgtype":"m.emote"},"ts":1209427024000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"punycode is also consistent with Access-Control-Origin (though that's mostly because of HTTP limitations)","msgtype":"m.text"},"ts":1209427025000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"we restrict document.domain to only be settable to puncode?","msgtype":"m.text"},"ts":1209427080000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"I don't really like that","msgtype":"m.text"},"ts":1209427081000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"well, the spec as written now does","msgtype":"m.text"},"ts":1209427082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i guess i haven't checked browsers","msgtype":"m.text"},"ts":1209427083000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"sees what Moz does with IDN","msgtype":"m.emote"},"ts":1209427084000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"I think we accept IDN","msgtype":"m.text"},"ts":1209427140000,"senderName":"jwalden","senderId":"jwalden@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1209427141000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"looks like you do, from testing on ☺.damowmow.com","msgtype":"m.text"},"ts":1209427142000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh actually i was testing safari","msgtype":"m.text"},"ts":1209427143000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so i guess i should change the spec","msgtype":"m.text"},"ts":1209427144000,"senderName":"Hixie","senderId":"Hixie@irc"}
]