[
{"content":{"body":"aleray: if that is in fact a message coming from the html5lib module and not lxml itself, gsnedders might have a clue","msgtype":"m.text"},"ts":1445126743000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"aleray: a code grep indicates that it's an lxml message","msgtype":"m.text"},"ts":1445126832000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"src/lxml/lxml.etree.c","msgtype":"m.text"},"ts":1445126854000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, thanks. I found this solution: `html = ''.join(c for c in html if valid_xml_char_ordinal(c))` on a forum","msgtype":"m.text"},"ts":1445126980000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"ah, that's a generated file","msgtype":"m.text"},"ts":1445126986000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah OK","msgtype":"m.text"},"ts":1445126989000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not sure if it strips any important thing though","msgtype":"m.text"},"ts":1445126997000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"or just junk characters (the HTML is generated with ckeditor from word documents)","msgtype":"m.text"},"ts":1445127023000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"Here is the  link to the forum: http://www.itsprite.com/pythonfiltering-out-certain-bytes-in-python/","msgtype":"m.text"},"ts":1445127052000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1445127059000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"looks like http://stackoverflow.com/questions/8733233/filtering-out-certain-bytes-in-python might also be useful","msgtype":"m.text"},"ts":1445127134000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, same post actually. thanks for pointing ti the source though","msgtype":"m.text"},"ts":1445127177000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"ah ok","msgtype":"m.text"},"ts":1445127184000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"these days I always go to StackOverflow first","msgtype":"m.text"},"ts":1445127221000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, so it seems to work. I have another small issue: I parse an html fragment with no root element. my code fails because of that because it is expecting a root node and I get a list of elements instead","msgtype":"m.text"},"ts":1445127357000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"aleray: yeah I understand that problem there but can't be of much help just at the moment. Will be freed up in about 2 hours if you're still around","msgtype":"m.text"},"ts":1445127417000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith, thanks. i'll be sleeping probably. Any direction to search myself?","msgtype":"m.text"},"ts":1445127465000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"aleray: known bug, but kinda horrible to fix accurately and hence not done yet :\\","msgtype":"m.text"},"ts":1445129000000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"aleray: I'm increasingly leaning towards just hacking together some horrible fix for it that should at least /mostly/ fix it","msgtype":"m.text"},"ts":1445129024000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, Hi; talking about the invalid xml characters?","msgtype":"m.text"},"ts":1445130128000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"I'm glad the solution I found seems working at least","msgtype":"m.text"},"ts":1445130180000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"gsnedders, may be you could help me with the other thig, that is to be able to parse a fragment with lxml and get an tree rather than a list of elements","msgtype":"m.text"},"ts":1445130285000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"the code here: http://dpaste.com/0XQHK9D raises an `AttributeError: 'list' object has no attribute 'xpath'`","msgtype":"m.text"},"ts":1445130365000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"because `tree = parser.parseFragment(html)` returns a list","msgtype":"m.text"},"ts":1445130403000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"because my fragment contains several elements","msgtype":"m.text"},"ts":1445130454000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"etree and lxml behave differently. See http://dpaste.com/3SE8103 and http://dpaste.com/3G7N7JS","msgtype":"m.text"},"ts":1445130787000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"I'd like the etree behaviour with lxml, So I could use xpath on it","msgtype":"m.text"},"ts":1445130818000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"\"filename.zip may harm your browsing experience, so Chrome has blocked it\" nice of Chrome to ask my permission before \"blocking it\" a harmless file that I now have to download again in firefox","msgtype":"m.text"},"ts":1445157547000,"senderName":"zewt_","senderId":"zewt_@irc"},
{"content":{"body":"all browsers have turned to crap","msgtype":"m.text"},"ts":1445157574000,"senderName":"zewt_","senderId":"zewt_@irc"},
{"content":{"body":"when did it become okay for browsers to override the user on his own system, bodes deeply ill for the future of the web","msgtype":"m.text"},"ts":1445158190000,"senderName":"zewt_","senderId":"zewt_@irc"},
{"content":{"body":"https://www.w3.org/community/ DataSheets - need members","msgtype":"m.text"},"ts":1445158425000,"senderName":"JonathanC","senderId":"JonathanC@irc"},
{"content":{"body":"I'm stuck with my problem from yesterday: using lxml the parseFragment methods gives me a list of nodes","msgtype":"m.text"},"ts":1445163571000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"with etree it gives me one single element","msgtype":"m.text"},"ts":1445163581000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"because I have a list, I can't use methods like \"xpath\"","msgtype":"m.text"},"ts":1445163595000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"2016 is close and the Location object is still poorly understood and defined: https://lists.w3.org/Archives/Public/www-archive/2015Oct/0051.html","msgtype":"m.text"},"ts":1445168391000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"aleray: hmmâ€¦ both options seem kinda bad :\\","msgtype":"m.text"},"ts":1445170609000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, hi, what do you meean?","msgtype":"m.text"},"ts":1445178413000,"senderName":"aleray","senderId":"aleray@irc"},
{"content":{"body":"annevk: Should an url object's query become null again when its URLSearchParams becomes empty?","msgtype":"m.text"},"ts":1445196241000,"senderName":"nox","senderId":"nox@irc"}
]