[
{"content":{"body":"Domenic: wow, that is so cool","msgtype":"m.text"},"ts":1471583365000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: I think Chrome might support it outside the parser","msgtype":"m.text"},"ts":1471584005000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"FYI http://csswg-test.org/ exists now","msgtype":"m.text"},"ts":1471590695000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for people who like such things","msgtype":"m.text"},"ts":1471590704000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"serves tests from https://github.com/w3c/csswg-test/ using wptserve in the same manner as https://w3c-test.org/ does for https://github.com/w3c/web-platform-tests/","msgtype":"m.text"},"ts":1471590769000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and going forward PR branches for new https://github.com/w3c/csswg-test PRs  will show up in http://csswg-test.org/submissions/","msgtype":"m.text"},"ts":1471590841000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if you notice any problems tell gsnedders because he is the owner :)","msgtype":"m.text"},"ts":1471590906000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and to be clear as I understand at least this is a temporary thing until such as the grand merge of the CSS tests into WPT finally happens","msgtype":"m.text"},"ts":1471590971000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"mkwst: so Referrer-Policy doesn't use JSON values afaict","msgtype":"m.text"},"ts":1471591242000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Hrm? The header?","msgtype":"m.text"},"ts":1471591257000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: per ABNF accepting something like \"origin\" as value would be broken","msgtype":"m.text"},"ts":1471591259000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: yeah","msgtype":"m.text"},"ts":1471591262000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hrm. That's not what I thought they were doing.","msgtype":"m.text"},"ts":1471591291000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: perhaps folks mistake \"x\" for some kind of quoted string production (which also allows JSON-incompatible values so don't use that either)","msgtype":"m.text"},"ts":1471591316000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: so maybe the impl is correct, but the specification is definitely wrong","msgtype":"m.text"},"ts":1471591337000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I thought they agreed with the notion that quoting things would be forward compatible with a more robust structure in the future.","msgtype":"m.text"},"ts":1471591343000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"The examples in the spec are also unquoted. Hrm.","msgtype":"m.text"},"ts":1471591351000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: and if the impl is correct and the specification is wrong, then the specification for <meta name=referrer> is also wrong","msgtype":"m.text"},"ts":1471591353000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll ping Emily when she wakes up. :)","msgtype":"m.text"},"ts":1471591357000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: since <meta name=referrer> is defined in terms of the header...","msgtype":"m.text"},"ts":1471591369000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I'm not sure why we're doing that)","msgtype":"m.text"},"ts":1471591389000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"No, looks like Chrome's (experimental) implementation doesn't have quotes.","msgtype":"m.text"},"ts":1471591435000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"Filed https://github.com/w3c/webappsec-referrer-policy/issues/65","msgtype":"m.text"},"ts":1471591688000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"Not sure I agree with \"we seem to be going\" but shrug","msgtype":"m.text"},"ts":1471591935000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1471597893000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Domenic: yt?","msgtype":"m.text"},"ts":1471597935000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: yup","msgtype":"m.text"},"ts":1471598022000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hi","msgtype":"m.text"},"ts":1471598026000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: so I was looking at document.open with respect to custom elements","msgtype":"m.text"},"ts":1471598040000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: and I realized that we don't create new window object at all","msgtype":"m.text"},"ts":1471598051000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: neither does Chrome","msgtype":"m.text"},"ts":1471598054000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: so I'm not sure the whole section about Call the JavaScript InitializeHostDefinedRealm()","msgtype":"m.text"},"ts":1471598072000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"and then replacing all singleton objects is needed at all for compat","msgtype":"m.text"},"ts":1471598089000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1471598097000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://trac.webkit.org/browser/trunk/Source/WebCore/dom/Document.cpp#L2557","msgtype":"m.text"},"ts":1471598100000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"so what happens instead?","msgtype":"m.text"},"ts":1471598102000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: we basically only setup the parser","msgtype":"m.text"},"ts":1471598108000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: and don't touch global object at all","msgtype":"m.text"},"ts":1471598117000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: we just go ahead & use the same global object","msgtype":"m.text"},"ts":1471598129000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: that's worth filing a bug on","msgtype":"m.text"},"ts":1471598138000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: in fact, it's possible that some web content outside might be dependent on this behavior","msgtype":"m.text"},"ts":1471598151000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"I don't really recall any discussion about that, but it's mostly been Hixie territory","msgtype":"m.text"},"ts":1471598160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: because all global variables, etc... would go away.","msgtype":"m.text"},"ts":1471598163000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"that looks so much simpler than the spec","msgtype":"m.text"},"ts":1471598264000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it is!","msgtype":"m.text"},"ts":1471598282000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: given that we've been shipping it this way for such a long time, it's hard to believe it's not Web compatible","msgtype":"m.text"},"ts":1471598298000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: why is implicitOpen() its own function?","msgtype":"m.text"},"ts":1471598306000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean... I would be really surprised if it weren't","msgtype":"m.text"},"ts":1471598308000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: compatible enough anyway","msgtype":"m.text"},"ts":1471598321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah","msgtype":"m.text"},"ts":1471598325000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: worse yet, it might be that some content depends on our behavior","msgtype":"m.text"},"ts":1471598337000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"as in... it's easier to depend on your global being the same than it changing after document.open","msgtype":"m.text"},"ts":1471598369000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Yeah, it's such a massive simplification too","msgtype":"m.text"},"ts":1471598431000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"This means that a Document is only ever associated with one Window","msgtype":"m.text"},"ts":1471598467000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: right, which is much saner model to deal with","msgtype":"m.text"},"ts":1471598480000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Uhuh","msgtype":"m.text"},"ts":1471598489000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Please file an issue? I'm curious what bz has to say about it","msgtype":"m.text"},"ts":1471598501000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: there's some interesting comment at: https://trac.webkit.org/browser/trunk/Source/WebCore/bindings/js/JSHTMLDocumentCustom.cpp#L171","msgtype":"m.text"},"ts":1471598663000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"but it's probably still a lot simpler than whatever we're doing in the current spec.","msgtype":"m.text"},"ts":1471598682000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: https://github.com/whatwg/html/issues/1698","msgtype":"m.text"},"ts":1471598829000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"ta","msgtype":"m.text"},"ts":1471598854000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: changing the spec would make my life much easier","msgtype":"m.text"},"ts":1471598866000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"there's no way I'm gonna add this crazy feature just to support an edge case in custom elements LOL","msgtype":"m.text"},"ts":1471598887000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"so it's not like it's gonna make my life any harder","msgtype":"m.text"},"ts":1471598929000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"but...","msgtype":"m.text"},"ts":1471598930000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"not having to worry about this case in the future would be nice.","msgtype":"m.text"},"ts":1471598963000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: yeah, I wonder what that JSHTMLDocument thing is about","msgtype":"m.text"},"ts":1471598980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rniwa: that's a little harder to read","msgtype":"m.text"},"ts":1471598986000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rniwa: does it create a new wrapper around the global?","msgtype":"m.text"},"ts":1471599027000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it was added by https://trac.webkit.org/changeset/34506","msgtype":"m.text"},"ts":1471599060000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: no, I think it's about changing the security origin","msgtype":"m.text"},"ts":1471599086000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: so like... we reset the security origin to that of the script which invoked doucment.open/write","msgtype":"m.text"},"ts":1471599147000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: even if its security origin initially belonged to some other window of the same origin","msgtype":"m.text"},"ts":1471599175000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: ah okay, in the spec that might be a side effect of changing the URL of the document","msgtype":"m.text"},"ts":1471599178000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(spec is not great...)","msgtype":"m.text"},"ts":1471599191000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, I'm not too familiar with this area of the code to confirm that but that sounds right","msgtype":"m.text"},"ts":1471599214000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"anyway, I hope we can change it to WebKit/Blink way","msgtype":"m.text"},"ts":1471599259000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"same","msgtype":"m.text"},"ts":1471599276000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: somewhat relatedly, I found a hilarious bug in WebKit & Blink: https://bugs.webkit.org/show_bug.cgi?id=160952","msgtype":"m.text"},"ts":1471599385000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: because we create wrappers lazily LOL","msgtype":"m.text"},"ts":1471599395000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"should somehow let Blink guys know about this bug","msgtype":"m.emote"},"ts":1471599428000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: see also the discussion in https://www.w3.org/Bugs/Public/show_bug.cgi?id=20567","msgtype":"m.text"},"ts":1471599449000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rniwa: WebKit can change the wrapper from one global to another due to GC","msgtype":"m.text"},"ts":1471599508000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"rniwa: which is rather weird","msgtype":"m.text"},"ts":1471599514000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think we've fixed that","msgtype":"m.text"},"ts":1471599538000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1471599545000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so I think this is one the last ways by which we can screw things up","msgtype":"m.text"},"ts":1471599562000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: although... I was recently checking some stats on how often nodes get adopted","msgtype":"m.text"},"ts":1471599577000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: do you end up just leaking the global or do you do the Gecko thing where you change the [[Prototype]]?","msgtype":"m.text"},"ts":1471599586000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and the answer was basically that almost never","msgtype":"m.text"},"ts":1471599588000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"huh","msgtype":"m.text"},"ts":1471599597000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no, we just keep the original global","msgtype":"m.text"},"ts":1471599601000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Bobby claimed something about 2.5 globals being leaked on average based on his stats","msgtype":"m.text"},"ts":1471599622000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"something is wrong","msgtype":"m.text"},"ts":1471599631000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: in a search I only see it used by HTMLTreeBuilder.cpp and HTMLElement.cpp (by innerText), so i suppose it's fine once innerText is fixed to not throw","msgtype":"m.text"},"ts":1471599635000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"imageTag that is","msgtype":"m.text"},"ts":1471599648000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: that's strange indeed","msgtype":"m.text"},"ts":1471599663000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zcorpan: oh, maybe part of it already got fixed when I noticed the first time","msgtype":"m.text"},"ts":1471599671000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Gmail which had the highest rate of adoption adopted 1299 nodes out of 19200 nodes for example","msgtype":"m.text"},"ts":1471599712000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: the next highest one was CNN, presumably some ads network code, which adopted 40 out of 59200 nodes","msgtype":"m.text"},"ts":1471599732000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: no other websites I looked at adopted any node.","msgtype":"m.text"},"ts":1471599767000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"zcorpan: seems that Edge still returns an HTMLImageElement for document.createElement(\"image\")","msgtype":"m.text"},"ts":1471599778000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: my research wasn't extensive but it seems like adopting node is not a common occurrence these days.","msgtype":"m.text"},"ts":1471599802000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: I guess if Gmail does adoption and CNN and they don't clean up you could have leaks there","msgtype":"m.text"},"ts":1471599816000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: they totally can.","msgtype":"m.text"},"ts":1471599829000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: which would be avoided by swizzling the prototype","msgtype":"m.text"},"ts":1471599832000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: true","msgtype":"m.text"},"ts":1471599841000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Gmail doing it would definitely explain most users seeing leaks","msgtype":"m.text"},"ts":1471599862000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(well, they would see leaks if we didn't swizzle)","msgtype":"m.text"},"ts":1471599874000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, especially it's a pinned tab or something","msgtype":"m.text"},"ts":1471599877000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: although given WebKit/Blink get away with it, I'd be surprised if they were leaking every document","msgtype":"m.text"},"ts":1471599910000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: ok. no test for it in wpt AFAICT. i can make one and file an issue","msgtype":"m.text"},"ts":1471599932000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"rniwa: yeah, WebKit/Blink not bothering is a rather strong argument for not complicating the standard","msgtype":"m.text"},"ts":1471599951000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: \\o/","msgtype":"m.text"},"ts":1471599972000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"goes to drink some tea","msgtype":"m.emote"},"ts":1471599978000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i just had a cup of first cup of tea this year i believe, incidentally","msgtype":"m.text"},"ts":1471600041000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"s/a cup of/my/","msgtype":"m.text"},"ts":1471600063000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or at least first in several months","msgtype":"m.text"},"ts":1471600098000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh it seems to be tested by html/semantics/interfaces.html","msgtype":"m.text"},"ts":1471600982000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(filed https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8545675/ )","msgtype":"m.text"},"ts":1471602778000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"mkwst: would still appreciate a comment on https://www.w3.org/Bugs/Public/show_bug.cgi?id=25529 about the CSP thing","msgtype":"m.text"},"ts":1471606829000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: in particular whether it should maybe run when an element is cloned","msgtype":"m.text"},"ts":1471606849000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: or otherwise if we really want to avoid that, we should figure out a way to make that happen in DOM","msgtype":"m.text"},"ts":1471606867000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"first time since vacation: No new notifications.","msgtype":"m.text"},"ts":1471607677000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"but now i have a few dozen open tabs instead :-)","msgtype":"m.text"},"ts":1471607793000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Now, to move the dozen tabs to a todo list","msgtype":"m.text"},"ts":1471607841000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"And the todo list to the bin?","msgtype":"m.text"},"ts":1471607904000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"one has roundabout ways to mark all as read","msgtype":"m.text"},"ts":1471609427000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug____: https://www.w3.org/Bugs/Public/show_bug.cgi?id=28097 maybe something you can help with? I'm still a bit lost","msgtype":"m.text"},"ts":1471610176000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: that is, range algorithms continue to confuse me at times","msgtype":"m.text"},"ts":1471610189000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(ayg wrote most/all of that)","msgtype":"m.text"},"ts":1471610211000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in middle of something else","msgtype":"m.text"},"ts":1471610369000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"would need to read the old Range spec","msgtype":"m.emote"},"ts":1471610379000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: the old Range spec has no notion of a DocumentFragment potentially having a host","msgtype":"m.text"},"ts":1471610520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, right","msgtype":"m.text"},"ts":1471610557000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"this was about 'host*","msgtype":"m.text"},"ts":1471610562000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"yeah, sorry, my mind is in memory management and trying to add hacks to fix leaks which web pages like twitter cause","msgtype":"m.text"},"ts":1471610623000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1471610678000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I can bother you some other time","msgtype":"m.text"},"ts":1471610686000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"FWIW, iframes in twitter add event listener to the window.parent and then the iframe is removed from dom","msgtype":"m.text"},"ts":1471611143000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and event listener isn't used for anything","msgtype":"m.text"},"ts":1471611150000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but parent keeps the event listener and the global related to it alive","msgtype":"m.text"},"ts":1471611163000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"this is as bad leak as what Google reader had","msgtype":"m.text"},"ts":1471611308000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"though, I think we can optimize this better","msgtype":"m.text"},"ts":1471611338000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"wow","msgtype":"m.text"},"ts":1471611428000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"multiple globals, not even once","msgtype":"m.text"},"ts":1471611444000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: what's the magic incantation to have syntax highlighting of IDL without the auto-linking stuff and without making the code an example?","msgtype":"m.text"},"ts":1471621198000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"TabAtkins: data-no-idl doesn't seem to be what I'm looking for.","msgtype":"m.text"},"ts":1471621223000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"TabAtkins: follow-up question: the WebIDL spec wants to be able to highlight parts of the IDL. The WebIDL parser removes any inline element within the code blocks. What's my option, here?","msgtype":"m.text"},"ts":1471621906000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"Domenic: do you happen to know what kind of memory leak hunting blink devs are doing","msgtype":"m.text"},"ts":1471622949000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I mean cases where pages are leaking","msgtype":"m.text"},"ts":1471622954000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(browser engine leaks are different things. So, not talking about CustomEvent or such which still leak in blink, IIRC)","msgtype":"m.text"},"ts":1471622960000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"TabAtkins: summarized my current issue here: https://github.com/tobie/webidl/issues/27#issuecomment-241064566","msgtype":"m.text"},"ts":1471623947000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"smaug____: I don't really know, sorry.","msgtype":"m.text"},"ts":1471624012000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"mkwst: That's no longer a behavior of Bikeshed, but is still used by Shepherd for non-Bikeshed documents.  To override it, give a data-lt. - that wins over use of title in the spider.","msgtype":"m.text"},"ts":1471628649000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"zcorpan: Given the number of specs still on Anolis (not many), and the amount of non-trivial work to do to make the spec reasonably idiomatic Bikeshed, I'm not really willing to put effort in.  That time would be better spent just converting the remaining specs by hand.","msgtype":"m.text"},"ts":1471628719000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I think we've seen by-hand fail pretty badly so far... I wouldn't be comfortable with it going forward.","msgtype":"m.text"},"ts":1471629100000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I wonder how much of the JS pipeline I wrote could be refurbished to help with a generic Anolis -> Bikeshed conversion tool.","msgtype":"m.text"},"ts":1471630584000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"And I wonder how much XSLT one would have to write to turn Anolis into something that pipeline could handle.","msgtype":"m.text"},"ts":1471630694000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"does anyone have a gut feeling whether using eventtarget.onfoo manually is happening commonly. I mean something like window.onclick(new MouseEvent(\"click\"));","msgtype":"m.text"},"ts":1471642138000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(and not via dispatchEvent)","msgtype":"m.text"},"ts":1471642146000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: I wouldn't be surprised if unit tests relied on it a lot","msgtype":"m.text"},"ts":1471642461000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1471642472000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I'm thinking about the case with another global sets onfoo","msgtype":"m.text"},"ts":1471642487000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and then that global is \"destroyed\"","msgtype":"m.text"},"ts":1471642494000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"like, iframe's contentWindow setting onfoo in parent","msgtype":"m.text"},"ts":1471642512000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"wait what","msgtype":"m.text"},"ts":1471644203000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"you can do that","msgtype":"m.text"},"ts":1471644205000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oh i see","msgtype":"m.text"},"ts":1471644209000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"TabAtkins: any idea why the following would fatal Bikeshed's IDL parser:","msgtype":"m.text"},"ts":1471645762000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"https://www.irccloud.com/pastebin/b1ZenycN/","msgtype":"m.text"},"ts":1471645783000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: It doesn't.","msgtype":"m.text"},"ts":1471645913000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: !?","msgtype":"m.text"},"ts":1471646033000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"https://www.irccloud.com/pastebin/3ZOGt051/","msgtype":"m.text"},"ts":1471646049000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"You've maybe got something else interfering, because that snippet, pasted into my test file, works fine. ^_^","msgtype":"m.text"},"ts":1471646055000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Mind giving the above a run?","msgtype":"m.text"},"ts":1471646074000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"also just fine. What's the error you're getting?","msgtype":"m.text"},"ts":1471646090000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"FATAL ERROR: IDL SYNTAX ERROR LINE: 2 - skipped: \"object createColor(double v1, double v2, double v3, optional double alpha)\"","msgtype":"m.text"},"ts":1471646106000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"that's weird then. definitely works just fine in my local. :/","msgtype":"m.text"},"ts":1471646155000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"try uploading that to the server versions?","msgtype":"m.text"},"ts":1471646163000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: works","msgtype":"m.text"},"ts":1471646337000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"TabAtkins: o_O","msgtype":"m.text"},"ts":1471646344000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"Suggests that your bikeshed version is old?","msgtype":"m.text"},"ts":1471646353000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"`git log` and see what the latest patch's date is?","msgtype":"m.text"},"ts":1471646381000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Must have ran \"cmd + x\" instead of \"cmd + c\" on a bikeshed src file and saved the file at some point.","msgtype":"m.text"},"ts":1471646580000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"facepalms.","msgtype":"m.emote"},"ts":1471646589000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"https://www.irccloud.com/pastebin/NJzEdPsD/","msgtype":"m.text"},"ts":1471646626000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"Glad I only wasted 10 minutes of your time with this and not a whole day of mine.","msgtype":"m.text"},"ts":1471646680000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"TabAtkins: Sorry. :-/","msgtype":"m.text"},"ts":1471646692000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"You didn't waste almost any of my time, no problem. ^_^","msgtype":"m.text"},"ts":1471646712000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Domenic: are we invoking custom element callbacks when it's adopted into a template element's \"inert\" document?","msgtype":"m.text"},"ts":1471647037000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"TabAtkins / Domenic: https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global has a data-dfn-for with a line break in it, which appears to be confusing Shepherd. I'm not sure if that's a bug in HTML or Shepherd.","msgtype":"m.text"},"ts":1471647066000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"Hmm, must be a shepherd bug. What confusion is there? Is it dropping the text after the linebreak or something?","msgtype":"m.text"},"ts":1471647132000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"It's finding two different definitions, one with a 'for' of the text before the linebreak, and one with the text after.","msgtype":"m.text"},"ts":1471647181000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"`bikeshed refs --text 'global object'` shows it.","msgtype":"m.text"},"ts":1471647203000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"Ah yeah, that's def a shepherd bug. I'll go report it.","msgtype":"m.text"},"ts":1471647897000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"jyasskin: Okay, was a Bikeshed bug actually. Both Shepherd and Bikeshed are going to start normalizing whitespace to avoid this problem in the future.","msgtype":"m.text"},"ts":1471648695000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Thanks!","msgtype":"m.text"},"ts":1471648706000,"senderName":"jyasskin","senderId":"jyasskin@irc"}
]