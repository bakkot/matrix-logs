[
{"content":{"body":"http://doc.s3.amazonaws.com/betadesign/Versioning.html versioning on S3","msgtype":"m.text"},"ts":1264464660000,"senderName":"karlcow","senderId":"karlcow@irc"},
{"content":{"body":"I have an easy question.. can you make an entire canvas area scale pretty well?","msgtype":"m.text"},"ts":1264465020000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"I am designing an UI that I would like to have scale from 2560x down to smartphones","msgtype":"m.text"},"ts":1264465080000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"of course content will be added/removed to make things fit but I'd like to have the entire window scale also","msgtype":"m.text"},"ts":1264465081000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"jwm: Yeah, <canvas> scales just fine if you, say, use CSS to resize it.  It depends on whatever the browser's native scaling algorithms are, of course.","msgtype":"m.text"},"ts":1264465200000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Alternately, you can handle the scaling yourself using whatever algorithm you wish.","msgtype":"m.text"},"ts":1264465201000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1264465260000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"that is good news","msgtype":"m.text"},"ts":1264465261000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"I want to mimmic webos kind of hehe","msgtype":"m.text"},"ts":1264465320000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"in my interface","msgtype":"m.text"},"ts":1264465321000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"not sure if canvas or svg or just regular xhtml/css would be good enough","msgtype":"m.text"},"ts":1264465322000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1264465323000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"HTML/CSS with 3d transforms!","msgtype":"m.text"},"ts":1264465324000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1264465325000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"It'll only work in Safari, but it'll be beautiful!","msgtype":"m.text"},"ts":1264465326000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hah","msgtype":"m.text"},"ts":1264465380000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"I guess regular web tech xhtml/css will do what I want to do","msgtype":"m.text"},"ts":1264465560000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"was just trying to figure out what to use for graphics to rescale them","msgtype":"m.text"},"ts":1264465561000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1264465562000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"<canvas> never does nice automatic scaling","msgtype":"m.text"},"ts":1264465860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The size of the bitmap is determined by the width/height attributes on the element (possibly multiplied by a constant), and it does usually-ugly resampling to match whatever size CSS tells it to render at","msgtype":"m.text"},"ts":1264465920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and you'd have to do some manual work if you want the bitmap dimensions to match the rendered size","msgtype":"m.text"},"ts":1264465980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"crap","msgtype":"m.text"},"ts":1264465981000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1264465982000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"SVG is probably much more appropriate for scalable graphics, if you don't need canvas's immediate-mode API","msgtype":"m.text"},"ts":1264466040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"yeah but it seems canvas has a lot more steam behind it","msgtype":"m.text"},"ts":1264466280000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1264466281000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"totally different things I know","msgtype":"m.text"},"ts":1264466282000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"Steam doesn't seem so important, what matters is the functionality they provide","msgtype":"m.text"},"ts":1264466640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(and they're not going to provide functionality much different to what they provide today)","msgtype":"m.text"},"ts":1264466641000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders how his IMAP server ended up with a \"INBOX.INBOX.INBOX.INBOX.INBOX.Apple Mail To Do\" folder","msgtype":"m.emote"},"ts":1264467480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"google hates you","msgtype":"m.text"},"ts":1264467660000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"jcranmer: google?","msgtype":"m.text"},"ts":1264467900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh, you're not using GMail? ;-)","msgtype":"m.text"},"ts":1264467960000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1264468020000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"jcranmer: i am, but this isn't the gmail IMAP server in this particular case :-)","msgtype":"m.text"},"ts":1264468320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"well, it's still fun to poke at gmail","msgtype":"m.text"},"ts":1264468321000,"senderName":"jcranmer","senderId":"jcranmer@irc"},
{"content":{"body":"the lxml getprevious() and getparent() methods seem to cause the state to change","msgtype":"m.text"},"ts":1264472820000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"gsnedders, jgraham - http://pastebin.ca/1766042","msgtype":"m.text"},"ts":1264473180000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"patch to make anolis --filter option work as expected","msgtype":"m.text"},"ts":1264473240000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"summary: use element.drop_tree() instead of element.getparent().remove(element)","msgtype":"m.text"},"ts":1264473300000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"actually, I guess you might as well just do:","msgtype":"m.text"},"ts":1264473480000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":" http://pastebin.ca/1766045","msgtype":"m.text"},"ts":1264473481000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"get rid of the remove(element) function altogether","msgtype":"m.text"},"ts":1264473600000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"wait","msgtype":"m.text"},"ts":1264473601000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hey guys what was that site that shows off html5 sites","msgtype":"m.text"},"ts":1264481040000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"google","msgtype":"m.text"},"ts":1264481041000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"http://html5gallery.com/","msgtype":"m.text"},"ts":1264481100000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1264481101000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1264481102000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"boaz in the ot told me","msgtype":"m.text"},"ts":1264481160000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"if you just type html5 sites","msgtype":"m.text"},"ts":1264481161000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"into google","msgtype":"m.text"},"ts":1264481162000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"it's the first result","msgtype":"m.text"},"ts":1264481163000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1264481164000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"I searched for \"sites running html 5\"","msgtype":"m.text"},"ts":1264481220000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"ohh","msgtype":"m.text"},"ts":1264481221000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"if you searched for html5 sites","msgtype":"m.text"},"ts":1264481222000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"then it'd of pulled it","msgtype":"m.text"},"ts":1264481223000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"just like you typed :)","msgtype":"m.text"},"ts":1264481224000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"jwm, i'm sorry i didn't jfgi right","msgtype":"m.text"},"ts":1264481520000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"haha","msgtype":"m.text"},"ts":1264481521000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"nah I didn't mean that mean","msgtype":"m.text"},"ts":1264481522000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"I seriously didn't know where it was either","msgtype":"m.text"},"ts":1264481523000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"I don't understand what a html5 site would be","msgtype":"m.text"},"ts":1264481580000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"other than for inclusion of canvas and tables","msgtype":"m.text"},"ts":1264481581000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1264481582000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"http://www.liferay.com/","msgtype":"m.text"},"ts":1264481640000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"we're all html'd up, well except that we have no need for canvas yet.","msgtype":"m.text"},"ts":1264481641000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"How is about:blank going?","msgtype":"m.text"},"ts":1264490520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1264490580000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"getting there","msgtype":"m.text"},"ts":1264490581000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"maybe some day","msgtype":"m.text"},"ts":1264490582000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"hsivonen: so do I read mnot's comments correctly, the resolution of the rel-registry license sub-discussion is that it will in fact carry an MIT license?","msgtype":"m.text"},"ts":1264491660000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: so it seemed, but I still have messages on public-html that I need to read and reply to","msgtype":"m.text"},"ts":1264491720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: fwiw, if Mark has gotten agreement from whomever else he talked with off-list, it doesn't seem necessary to respond any further to Roy's messages asserting that no license is necessary","msgtype":"m.text"},"ts":1264491840000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: ok","msgtype":"m.text"},"ts":1264491841000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: well, just imho","msgtype":"m.text"},"ts":1264491900000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: understood","msgtype":"m.text"},"ts":1264491901000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"anyway, if the rel registry will in fact have an explicit license, it seems like a case can been made for adding the same or similar license to the language-subtag and character-encoding-name registries","msgtype":"m.text"},"ts":1264491960000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1264491961000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"can you make bitmaps scale inside of canvas?","msgtype":"m.text"},"ts":1264494900000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"without javascript","msgtype":"m.text"},"ts":1264494901000,"senderName":"jwm","senderId":"jwm@irc"},
{"content":{"body":"jwm: You can't use canvas at all without JS","msgtype":"m.text"},"ts":1264496340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Boo. Prototype uses browser sniffing :-(","msgtype":"m.text"},"ts":1264497480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I thought these canned JS libs were supposed to do things the Right Way","msgtype":"m.text"},"ts":1264497540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(with feature sniffing)","msgtype":"m.text"},"ts":1264497541000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: IIRC MooTools uses browser sniffing too","msgtype":"m.text"},"ts":1264498020000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(or at least it changes the expected results of at least one of its tests based on whether it thinks you are Opera or not)","msgtype":"m.text"},"ts":1264498080000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hsivonen: All the major libraries do","msgtype":"m.text"},"ts":1264500600000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Sometimes with broken codepaths for some browsers, which lead to failing tests that they obviously don't care about.","msgtype":"m.text"},"ts":1264500601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Whoops, somebody changed my IP :/","msgtype":"m.text"},"ts":1264500660000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"blames krijn","msgtype":"m.emote"},"ts":1264500720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"blames his little brother","msgtype":"m.emote"},"ts":1264500780000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"But I think the interwebs are faster now","msgtype":"m.text"},"ts":1264500781000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"The tubes you have now less blocked?","msgtype":"m.text"},"ts":1264500840000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Got a new connection, hope it improves /irc-logs/ speedyness :)","msgtype":"m.text"},"ts":1264500900000,"senderName":"krijnh","senderId":"krijnh@irc"},
{"content":{"body":"hmm. does WebKit save the form element source order for submission order instead of relying on the DOM order?","msgtype":"m.text"},"ts":1264501260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"All right, so, data urls vs @srcdoc.  What are the problems again?  (I'll list the ones I know, see if I missed any before I send this email.)","msgtype":"m.text"},"ts":1264520220000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"1) data urls will work in current UAs that don't understand sandbox, thus \"failing open\".  Will the sandboxed html mime type help with this?","msgtype":"m.text"},"ts":1264520280000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"2) data urls have more difficult escaping requirements.  Possibly not.  PHP escapes things correctly with rawurlencode, python also has a built-in function that will do it properly.","msgtype":"m.text"},"ts":1264520281000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"3) ?","msgtype":"m.text"},"ts":1264520282000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"1) Yes, sandboxed HTML MIME type should solve that problem, I think.","msgtype":"m.text"},"ts":1264520340000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Maybe something with origins?  data urls are automatically unique-origin, right?  Could @sandbox=allow-same-origin just special-case override that?","msgtype":"m.text"},"ts":1264520341000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"3) You can save some annoying boilerplate with srcdoc=\"\".","msgtype":"m.text"},"ts":1264520342000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Just the \"text/html;charset=utf8\" bit, right?","msgtype":"m.text"},"ts":1264520343000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"And the doctype","msgtype":"m.text"},"ts":1264520400000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Ah, right.  And <title>.","msgtype":"m.text"},"ts":1264520401000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: IE < 8 is still normally a consideration, IE8 is limited to 32KB","msgtype":"m.text"},"ts":1264520402000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(or maybe KiB?)","msgtype":"m.text"},"ts":1264520403000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"what's the limit on IE<8?","msgtype":"m.text"},"ts":1264520404000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: they have no data uri impl","msgtype":"m.text"},"ts":1264520405000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh, well then.  That's not a big deal, then, because they don't have a @srcdoc impl either.","msgtype":"m.text"},"ts":1264520460000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I also dispute 2)","msgtype":"m.text"},"ts":1264520461000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"But 32kb.  That may be an issue.","msgtype":"m.text"},"ts":1264520462000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Sure, PHP has _a_ function that does it right","msgtype":"m.text"},"ts":1264520463000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Dashiva: Dispute how?","msgtype":"m.text"},"ts":1264520464000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But it's hardly given that people will choose the right one","msgtype":"m.text"},"ts":1264520465000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"You don't really need to include <title>.","msgtype":"m.text"},"ts":1264520466000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"And one that does it wrong in an immediately obvious (but not security-relevant) way.","msgtype":"m.text"},"ts":1264520467000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I mean, the very first comment I see that looks like \"First+post+LOLOLOL\", I'll know something's wrong.","msgtype":"m.text"},"ts":1264520520000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Yeah, I don't think the existence of urlencode() is a big deal.","msgtype":"m.text"},"ts":1264520521000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Yeah, if you use that one","msgtype":"m.text"},"ts":1264520522000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Are there other url-encoding functions in PHP that we expect authors will use?","msgtype":"m.text"},"ts":1264520523000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"urlencode()?","msgtype":"m.text"},"ts":1264520580000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I wouldn't be surprised if people tried with the html* functions too","msgtype":"m.text"},"ts":1264520581000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"That's the one I just mentioned.","msgtype":"m.text"},"ts":1264520582000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"assumes authors will use my_broken_url_encoder()","msgtype":"m.emote"},"ts":1264520583000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"htmlspecialchars?  Hmm.  I wonder how quickly that would fail.","msgtype":"m.text"},"ts":1264520584000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Dashiva, as long as it fails in an obvious way, it's not a big deal, you can't get much better than that.","msgtype":"m.text"},"ts":1264520585000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Some people will try urlencode() on srcdoc too.","msgtype":"m.text"},"ts":1264520586000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Yes, but then we have to first verify that all the obvious functions do fail in an obvious way","msgtype":"m.text"},"ts":1264520640000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"We can't just assume they will","msgtype":"m.text"},"ts":1264520641000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"The same goes for srcdoc.","msgtype":"m.text"},"ts":1264520642000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"urlencode/rawurlencode are a lot easier to mix up though","msgtype":"m.text"},"ts":1264520643000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But the wrong one fails quickly and obviously, so I don't think we have to worry about it.","msgtype":"m.text"},"ts":1264520644000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"And fails in a way that doesn't compromise security.","msgtype":"m.text"},"ts":1264520645000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Sure, I know that urlencode encodes \\x20 as + and rawurlencode encodes it as %20, but most authors don't.","msgtype":"m.text"},"ts":1264520646000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Most authors will use urlencode, see lots of +s in their page, and google for it.","msgtype":"m.text"},"ts":1264520700000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"They'll figure it out pretty quickly.","msgtype":"m.text"},"ts":1264520701000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Not a big deal.","msgtype":"m.text"},"ts":1264520702000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"wonders why browser release announcements seem to select benchmarks at random to show how much their performance has improved . . . do they just pick the most favorable one?  A recent Chrome announcement gives improvement on \"Mozilla's Dromaeo DOM Core Tests\", previous ones have used SunSpider, V8's crazy tests, . . .","msgtype":"m.emote"},"ts":1264520760000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Oh, neat, Chrome 4 supports STS.","msgtype":"m.text"},"ts":1264520820000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Kind of like how every new car was \"car of the year\" in at least one car magazine","msgtype":"m.text"},"ts":1264520821000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Hmm, can anyone think of something I can put in a data url that will pass through htmlspecialchars unscathed and cause problems?  By default, it escapes <>\"& (not ').","msgtype":"m.text"},"ts":1264520880000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, ' will cause problems, if the attribute uses ' instead of \" for quoting.  :)","msgtype":"m.text"},"ts":1264520940000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Yeah, but it fails even quicker than @srcdoc will if you forget to escape the \".","msgtype":"m.text"},"ts":1264520941000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Because people use ' all the time.","msgtype":"m.text"},"ts":1264520942000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"\"HTML5: Notifications, Web Database, Local Storage, WebSockets, Ruby support\" <-- How many of these are actually part of HTML5?  Maybe Ruby support?  Is Notifications even a vendor-neutral spec?","msgtype":"m.text"},"ts":1264520943000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"But with larger security issues","msgtype":"m.text"},"ts":1264520944000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Yes, but with identical security issues to @srcdoc.","msgtype":"m.text"},"ts":1264520945000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"AryehGregor: Most of them _used_ to be HTML 5","msgtype":"m.text"},"ts":1264520946000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I guess \"HTML5\" just means \"cool new web features anyway\".","msgtype":"m.text"},"ts":1264521000000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"All apart from Ruby were originally HTML 5.","msgtype":"m.text"},"ts":1264521001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"We should rename the HTML5 spec to \"Some Random Subset of HTML5\" to reflect common usage.","msgtype":"m.text"},"ts":1264521002000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I thought IE8 only supports data: for images, not HTML pages","msgtype":"m.text"},"ts":1264521060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so its length limit is irrelevant","msgtype":"m.text"},"ts":1264521120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"TabAtkins: # breaks data: in Opera but not other browsers, I think","msgtype":"m.text"},"ts":1264521180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah, Opera treats stuff after a # as the URL fragment, right?","msgtype":"m.text"},"ts":1264521181000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Really annoying.","msgtype":"m.text"},"ts":1264521182000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Is there a spec that says whether that's right or wrong?","msgtype":"m.text"},"ts":1264521183000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Huh.  Something's breaking my page in IE, and causing it to navigate to one of the data urls.","msgtype":"m.text"},"ts":1264521240000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Does IE8 'do' data urls in iframe @src?","msgtype":"m.text"},"ts":1264521300000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I thought IE8 only supports data: for images, not HTML pages","msgtype":"m.text"},"ts":1264521420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Possibly.  Which means we can ignore the size limits of IE8, which is good.","msgtype":"m.text"},"ts":1264521421000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(It basically does the minimum needed for Acid2)","msgtype":"m.text"},"ts":1264521422000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"IE8 doesn't support sandbox anyway, obviously, so who cares about it in this context?","msgtype":"m.text"},"ts":1264521480000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"We have no backward compatibility here anyway.","msgtype":"m.text"},"ts":1264521481000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Yeah, but we have to be careful about, frex, resource sniffing.","msgtype":"m.text"},"ts":1264521600000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hmm?","msgtype":"m.text"},"ts":1264521601000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Wouldn't want IE to sniff a text/html-sandboxed page as text/html.","msgtype":"m.text"},"ts":1264521602000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Will it","msgtype":"m.text"},"ts":1264521603000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1264521604000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"That seems unrelated.","msgtype":"m.text"},"ts":1264521605000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I know they sniff resources for html-ness normally.  Of course, their complete lack of support for pages in data: urls means we don't have to worry about it.","msgtype":"m.text"},"ts":1264521660000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"IIRC, it's somewhat difficult to serve html as text/plain to IE?","msgtype":"m.text"},"ts":1264521661000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Shelley is planning on filing several thousand change requests?","msgtype":"m.text"},"ts":1264521720000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"TabAtkins, they only sniff for certain MIME types, IIRC.","msgtype":"m.text"},"ts":1264521721000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Okay.","msgtype":"m.text"},"ts":1264521722000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Dashiva: Eventually, probably.","msgtype":"m.text"},"ts":1264521723000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I think someone tested this, no?","msgtype":"m.text"},"ts":1264521724000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I have no idea.  I'm relying on hazy recollections.","msgtype":"m.text"},"ts":1264521725000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Mark Pilgrim's lastest WHATWG blog post says no current browser will execute text/sandboxed-html.","msgtype":"m.text"},"ts":1264521780000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Just doing some calculations based on http://lists.w3.org/Archives/Public/public-html/2010Jan/1308.html","msgtype":"m.text"},"ts":1264521781000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"I'm not aware of anyone testing it thoroughly","msgtype":"m.text"},"ts":1264521782000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wouldn't count unevidenced statements in blog posts as being particularly meaningful","msgtype":"m.emote"},"ts":1264521900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"interesting note from bengee - http://bnode.org/blog/2010/01/26/microdata-semantic-markup-for-both-rdfers-and-non-rdfers","msgtype":"m.text"},"ts":1264521960000,"senderName":"danbri","senderId":"danbri@irc"},
{"content":{"body":"When opera breaks on unescaped #, it's an innocuous break, right?  Just a malformed page, not busting content out into attributes?","msgtype":"m.text"},"ts":1264522200000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Interesting. \"Atom, microformats, OpenID, Portable Contacts, XRDS, Activity Streams, these are all examples where RDFers tried, but failed to promote some of their infrastructure into the respective solutions\"","msgtype":"m.text"},"ts":1264522201000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I just noticed that HTML5 still doesn't me mark up inline lists. <p>I went shopping for <ul><li>lightbulbs,</li> <li>widgets,</li> <li>flozzbots and</li> <li>some milk</li></ul>, but I got distracted and ended up in the pub.</p>","msgtype":"m.text"},"ts":1264522380000,"senderName":"GarethAdams|Work","senderId":"GarethAdams|Work@irc"},
{"content":{"body":"Sure it does.  ul,li{display:inline;}","msgtype":"m.text"},"ts":1264522381000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, it just treats everything after # as the fragment portion of the URL, AFAIK.","msgtype":"m.text"},"ts":1264522382000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"TabAtkins, not in <p>.","msgtype":"m.text"},"ts":1264522440000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Cool, so that's innocuous.","msgtype":"m.text"},"ts":1264522441000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"AryehGregor: Ah, you're right.  Silly me.","msgtype":"m.text"},"ts":1264522442000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"GarethAdams|Work, you can't put <ul> inside <p> in text/html, it's not compatible with legacy browsers.","msgtype":"m.text"},"ts":1264522443000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I always forget about <p>'s silly self-closing rules.","msgtype":"m.text"},"ts":1264522444000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"That causes me problems sometimes.","msgtype":"m.text"},"ts":1264522445000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"GarethAdams|Work: Why not write it like \"<p>I went shopping for lightbulbs, widgets, ...\"?","msgtype":"m.text"},"ts":1264522446000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Also, <li> has a horrible delimiter story","msgtype":"m.text"},"ts":1264522447000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"E.g. if you want a list like apples | bananas | other fruits","msgtype":"m.text"},"ts":1264522500000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"ah, legacy browsers, shoulda guessed","msgtype":"m.text"},"ts":1264522501000,"senderName":"GarethAdams|Work","senderId":"GarethAdams|Work@irc"},
{"content":{"body":"GarethAdams|Work, \"legacy\" meaning \"all\".","msgtype":"m.text"},"ts":1264522502000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"yeh","msgtype":"m.text"},"ts":1264522503000,"senderName":"GarethAdams|Work","senderId":"GarethAdams|Work@irc"},
{"content":{"body":"I forgot about the backward compatibility","msgtype":"m.text"},"ts":1264522504000,"senderName":"GarethAdams|Work","senderId":"GarethAdams|Work@irc"},
{"content":{"body":"I mean, it's part of text/html parsing rules that <p>Foo <ul><li>Bar inserts </p> before the <ul> (effectively).","msgtype":"m.text"},"ts":1264522505000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"schoolboy error","msgtype":"m.text"},"ts":1264522506000,"senderName":"GarethAdams|Work","senderId":"GarethAdams|Work@irc"},
{"content":{"body":"Dashiva: the delimiter problem is down to bad support for `:after` and `content:` in CSS though","msgtype":"m.text"},"ts":1264522560000,"senderName":"GarethAdams|Work","senderId":"GarethAdams|Work@irc"},
{"content":{"body":"GarethAdams|Work: That's still a bad story","msgtype":"m.text"},"ts":1264522620000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"You need special casing for first/last element, etc","msgtype":"m.text"},"ts":1264522621000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"\"There is a great deal of contention about the new srcdoc attribute.\"","msgtype":"m.text"},"ts":1264522680000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"If you count number of emails, there has","msgtype":"m.text"},"ts":1264522740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Maybe not so much if you count people","msgtype":"m.text"},"ts":1264522741000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Maybe ask Sam to revive the frequent poster statistics","msgtype":"m.text"},"ts":1264522800000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"So, the issues are (1) fail open, (2) harder escaping, (3) boilerplate, and (4) unique origins?  Anything else?","msgtype":"m.text"},"ts":1264522860000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"URL size limit, potentially. We won't know until the future browsers are released, though.","msgtype":"m.text"},"ts":1264522920000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"True, I'll bring that up.","msgtype":"m.text"},"ts":1264522921000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Also, there's the dual source thing","msgtype":"m.text"},"ts":1264522980000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"With srcdoc, you can use src you provide fallback for browsers that don't support it","msgtype":"m.text"},"ts":1264522981000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"*use src to","msgtype":"m.text"},"ts":1264522982000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Right.","msgtype":"m.text"},"ts":1264523280000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Maybe we should use the Cooke method in the HTMLWG: http://www.rff.org/News/Features/Pages/The-Cooke-Method-A-Route-to-More-Reliable-Expert-Advice.aspx","msgtype":"m.text"},"ts":1264523281000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Though, you have to manually clean the @src content, which makes it kind of redundant.","msgtype":"m.text"},"ts":1264523340000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"No, you wouldn't clean it at all","msgtype":"m.text"},"ts":1264523341000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"It would say \"Your browser doesn't support secure iframes, please upgrade or something, I don't know\"","msgtype":"m.text"},"ts":1264523342000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Haha.","msgtype":"m.text"},"ts":1264523400000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Dashiva, browsers could just as well have a srcdoc size limit.","msgtype":"m.text"},"ts":1264523401000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Future ones, I mean.","msgtype":"m.text"},"ts":1264523402000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Could, but that hasn't been demonstrated yet.","msgtype":"m.text"},"ts":1264523403000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Nor have limits on data URL length for sandboxed iframes.","msgtype":"m.text"},"ts":1264523404000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: There already are quite real limits on data URLs, though. It's not a matter of possibly breaking, it's a matter of breaking unless it gets fixed.","msgtype":"m.text"},"ts":1264523520000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Introducing a whole new attribute and hoping there won't be comparable length limits seems like a roundabout way to address the problem.  You could just mandate a minimum length for data URLs.","msgtype":"m.text"},"ts":1264523580000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I mean, minimum maximum supported length.","msgtype":"m.text"},"ts":1264523581000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It's not a way to address the problem, it's a way to address lots of different problems","msgtype":"m.text"},"ts":1264523640000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"is unconvinced.","msgtype":"m.emote"},"ts":1264523700000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Has anybody pointed out use cases for srcdoc other than blog comments?","msgtype":"m.text"},"ts":1264523701000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Wiki pages.","msgtype":"m.text"},"ts":1264523702000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Things like 32KB length limits aren't really a concern in those cases","msgtype":"m.text"},"ts":1264523703000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Virtually all cases where untrusted users are uploading something you want to display.","msgtype":"m.text"},"ts":1264523760000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"AryehGregor, any idea how big the largest page on wikipedia is?","msgtype":"m.text"},"ts":1264523761000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"In most cases users aren't uploading HTML, so you just escape all \"<\"s and you're done","msgtype":"m.text"},"ts":1264523762000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"personally, I'm not yet convinced of the use cases for srcdoc either","msgtype":"m.text"},"ts":1264523763000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"I'm composing an email with a lot of discussion about data urls, their problems, and their possible solutions.","msgtype":"m.text"},"ts":1264523820000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"but I think it would suck if pages like wikipedia started putting entire articles into srcdoc","msgtype":"m.text"},"ts":1264523821000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"TabAtkins, in bytes?  Actual articles or also maintenance pages and such?  I wouldn't be surprised if the largest article is 1 MB","msgtype":"m.text"},"ts":1264523822000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":".","msgtype":"m.text"},"ts":1264523823000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"so it's only cases where users are uploading some subset of HTML, but a large enough subset that decent filtering is hard","msgtype":"m.text"},"ts":1264523824000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"AryehGregor: Yeah, in bytes, and any page where you'd show untrusted user content, potentially via a sandboxed iframe.","msgtype":"m.text"},"ts":1264523825000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Philip`: Also, just the fact that you can guarantee that no scripts slip through your genius filtering is nice.","msgtype":"m.text"},"ts":1264523880000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"This is a feature for a use-case that's kind of marginal to begin with, and data: URLs would work okay for it, so I really don't see what the point is.","msgtype":"m.text"},"ts":1264523881000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"TabAtkins: If your filter just allows <b> and <i> and <a href> and nothing else, then you don't really need to worry about that","msgtype":"m.text"},"ts":1264523882000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If your filter is good enough to avoid all the crazy shenanigans hackers get up to.","msgtype":"m.text"},"ts":1264523940000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I just plain distrust filters.","msgtype":"m.text"},"ts":1264523941000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"1) htmlspecialchars() 2) strtr( array( '&lt;b&gt;' => '<b>', '&lt;/b&gt;' => '</b>', ... ) )","msgtype":"m.text"},"ts":1264524000000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Pretty hard for that to go wrong.","msgtype":"m.text"},"ts":1264524001000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Famous last words","msgtype":"m.text"},"ts":1264524002000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"if you use proper HTML parsing, rather than a regex, and a whitelist that checks elements, attributes and attribute values (to e.g. disallow href=\"javascript:...\"), then server side filtering should be sufficient","msgtype":"m.text"},"ts":1264524003000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: And what major blogging package does this?","msgtype":"m.text"},"ts":1264524060000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I don't think I would choose to use srcdoc on my own blog","msgtype":"m.text"},"ts":1264524061000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Nobody uses proper HTML parsing.","msgtype":"m.text"},"ts":1264524062000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"There's no such *thing* as proper HTML parsing prior to HTML5.","msgtype":"m.text"},"ts":1264524063000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I'm hoping that will start to change now that HTML parsing has been defined properly","msgtype":"m.text"},"ts":1264524064000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Yes, true.","msgtype":"m.text"},"ts":1264524065000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Lachy: Parsing html in PHP is prohibitively slow.","msgtype":"m.text"},"ts":1264524066000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"There's been proper HTML parser libraries long before HTML5 existed","msgtype":"m.text"},"ts":1264524120000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Why would people use HTML5 parsers when they haven't used those ones?","msgtype":"m.text"},"ts":1264524121000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(given that for blog comments you don't care about legacy compatibility, which is the only thing HTML5 adds)","msgtype":"m.text"},"ts":1264524122000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"s/HTML/XML/ and you end up with the same conclusion","msgtype":"m.text"},"ts":1264524123000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"PHP5 has access to libxml's HTML parser, and nobody uses it.","msgtype":"m.text"},"ts":1264524124000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, yes, I know. I don't think I would use PHP for a CMS. It's not a well designed language","msgtype":"m.text"},"ts":1264524125000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: Yet the majority of CMSes on the web do.","msgtype":"m.text"},"ts":1264524126000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Argh, I find it ironic that Richard's emails about Canvas accessibility are almost unreadable to me because he uses HTML emails in some crazy size.","msgtype":"m.text"},"ts":1264524127000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"yeah, I know they do","msgtype":"m.text"},"ts":1264524180000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Lachy: What you personally would ues is irrelevant.","msgtype":"m.text"},"ts":1264524181000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Lachy, you would use PHP for a CMS if you wanted it to be as widely used as possible.","msgtype":"m.text"},"ts":1264524182000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(i.e. people don't always use XML parsers when producing XML, to oftentimes hillarious effect)","msgtype":"m.text"},"ts":1264524183000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"AryehGregor, yeah, I understand that's why PHP is so common.","msgtype":"m.text"},"ts":1264524240000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"What about providing a santitation library in C or something","msgtype":"m.text"},"ts":1264524241000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"jgraham: That's understandable, since XML parsers don't produce XML","msgtype":"m.text"},"ts":1264524242000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Also, by the way, there are no PHP libraries that are reliably available on shared hosts, unless they're written in pure PHP.","msgtype":"m.text"},"ts":1264524243000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Philip`: HTML5 parsers don't produce HTML","msgtype":"m.text"},"ts":1264524244000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(in which case you can bundle them)","msgtype":"m.text"},"ts":1264524245000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"what are \"HTML5 notifications\" ?","msgtype":"m.text"},"ts":1264524246000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"Dashiva: Even if you got that into PHP 5.3.3, it'd be years before I could rely upon that.","msgtype":"m.text"},"ts":1264524247000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"jgraham: Indeed, and I've got no idea what relevance producing *ML has to the discussion :-)","msgtype":"m.text"},"ts":1264524300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"No in PHP, separately","msgtype":"m.text"},"ts":1264524301000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"smaug, it seems like they're a Google invention that has nothing to do with any standards body, but I didn't look very hard.","msgtype":"m.text"},"ts":1264524302000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So it could be used for python and perl and whatnot too","msgtype":"m.text"},"ts":1264524303000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"are there CMSs written in C or C++?","msgtype":"m.text"},"ts":1264524304000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Dashiva: As AryehGregor says you can't run arbitary C code from PHP","msgtype":"m.text"},"ts":1264524305000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"AryehGregor: yet they are selling notifications as \"part of HTML5\"","msgtype":"m.text"},"ts":1264524306000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"Not on all shared hosts, anyway.","msgtype":"m.text"},"ts":1264524307000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham: Are you meaning XML serializers rather than parsers, or something?","msgtype":"m.text"},"ts":1264524308000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Heck, you can't even rely upon all default enabled extensions being enabled.","msgtype":"m.text"},"ts":1264524309000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"And there might be random functions disabled.","msgtype":"m.text"},"ts":1264524310000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I <3 PHP.","msgtype":"m.text"},"ts":1264524360000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: No I'm meaning parsers, as a first step in sanitizing user-generated content","msgtype":"m.text"},"ts":1264524361000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug, I think this falls under HTML5 as buzzword for \"cool new technologies that push the boundaries of what the web platform can do\", rather than HTML5 as a name for some boring old spec.","msgtype":"m.text"},"ts":1264524362000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(in the case when the output is XML)","msgtype":"m.text"},"ts":1264524363000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"well, usually whatever falls under HTML5 has been defined in some whatwg or w3c spec","msgtype":"m.text"},"ts":1264524364000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"At least at some point, yeah.","msgtype":"m.text"},"ts":1264524365000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham: Nobody expects users to enter XML (except annevk), so I don't see why you'd use an XML parser for that","msgtype":"m.text"},"ts":1264524366000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Usually implies exceptions","msgtype":"m.text"},"ts":1264524367000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Kind of odd.","msgtype":"m.text"},"ts":1264524368000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I assume the person who wrote it doesn't really know what HTML5 is.","msgtype":"m.text"},"ts":1264524420000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I guess PHP shared hosts don't let you upload and run binary executables?","msgtype":"m.text"},"ts":1264524421000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Don't ascribe to ignorance what can more easily be ascribed to competent marketing personell","msgtype":"m.text"},"ts":1264524480000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Philip`: Nope","msgtype":"m.text"},"ts":1264524481000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Surely you could just find a buffer overflow bug in PHP and use that to run your C extension","msgtype":"m.text"},"ts":1264524540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, some PHP shared hosts let you run binary executables.","msgtype":"m.text"},"ts":1264524541000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"But to do that safely you have to have separate Unix users for each customer.","msgtype":"m.text"},"ts":1264524542000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Yeah, probably, seeming most hosts run massively out of date versions of PHP…","msgtype":"m.text"},"ts":1264524543000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Which typically means you need to use CGI.","msgtype":"m.text"},"ts":1264524544000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Which doesn't perform as well as mod_php or FastCGI.","msgtype":"m.text"},"ts":1264524600000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: But normally only via shell_exec in my experience","msgtype":"m.text"},"ts":1264524601000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders, well, yeah.","msgtype":"m.text"},"ts":1264524602000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Which is fun combined with safe mode","msgtype":"m.text"},"ts":1264524603000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But that works.","msgtype":"m.text"},"ts":1264524604000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Not with safe mode enabled","msgtype":"m.text"},"ts":1264524605000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"If they use safe mode, yes, you're screwed.","msgtype":"m.text"},"ts":1264524606000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"But some hosts don't, like 1and1.com.","msgtype":"m.text"},"ts":1264524607000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"needs to get around to moving stuff over to his VPS","msgtype":"m.emote"},"ts":1264524608000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Then I can run arbitary binaries :P","msgtype":"m.text"},"ts":1264524660000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"is lucky in that his first foray into web hosting was an already-running dedicated server","msgtype":"m.emote"},"ts":1264524661000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"now has a dedicated 16-core machine with 16G of RAM and, soon, 1.6T of raw disk space to play around with however he wants","msgtype":"m.emote"},"ts":1264524662000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: So what's sqrt(pi)?","msgtype":"m.text"},"ts":1264524720000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"To a million digits?","msgtype":"m.text"},"ts":1264524721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Bah, who needs decimal expansions?","msgtype":"m.text"},"ts":1264524722000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"It's a perfectly good transcendental number, don't sully it with your base-10 nonsense.","msgtype":"m.text"},"ts":1264524780000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"gsnedders: The same as 1/10^5*sum(exp(n^2/(10^10)),n=-infinity..infinity)","msgtype":"m.text"},"ts":1264524781000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"apparently","msgtype":"m.text"},"ts":1264524782000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"sum(exp(n^2/(10^10)),n=-infinity..infinity is infinite.","msgtype":"m.text"},"ts":1264524840000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"gsnedders: √π","msgtype":"m.text"},"ts":1264524841000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hmm, apparently it has another root, what's that? :P","msgtype":"m.text"},"ts":1264524900000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Or, if we want more fun, what are all three cube roots?","msgtype":"m.text"},"ts":1264524901000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That's trivial.","msgtype":"m.text"},"ts":1264524902000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Once you've got one, you just multiply by roots of unity.","msgtype":"m.text"},"ts":1264524960000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"gsnedders: √π is the square root of π","msgtype":"m.text"},"ts":1264524961000,"senderName":"workmad3","senderId":"workmad3@irc"},
{"content":{"body":"it's a multi-valued function","msgtype":"m.text"},"ts":1264524962000,"senderName":"workmad3","senderId":"workmad3@irc"},
{"content":{"body":"If you take the principal nth root of x, the other nth roots are just that times e^(2k*i*pi/n), k = 1, ..., n -1.","msgtype":"m.text"},"ts":1264524963000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"The principal square root function is not multi-valued.","msgtype":"m.text"},"ts":1264524964000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Indeed.","msgtype":"m.text"},"ts":1264525020000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That only becomes a real problem with complex numbers.","msgtype":"m.text"},"ts":1264525021000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Where you don't have a continuous single-valued square root function, and there's no obvious candidate for the canonical one.","msgtype":"m.text"},"ts":1264525022000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Hmph, that's what I get for copying from a newsgroup posting","msgtype":"m.text"},"ts":1264525023000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"can't remember e^(2k*i*pi/n), k = 1, ..., n -1 off the top of his head though","msgtype":"m.emote"},"ts":1264525024000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"guesses he must've known it once… like, a year ago.","msgtype":"m.emote"},"ts":1264525025000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it rings bells","msgtype":"m.text"},"ts":1264525026000,"senderName":"workmad3","senderId":"workmad3@irc"},
{"content":{"body":"It's meant to be 1/10^5*sum(exp(-n^2/(10^10)),n=-infinity..infinity)","msgtype":"m.text"},"ts":1264525027000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah, it looks familiar.","msgtype":"m.text"},"ts":1264525080000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"haven't done anything serious along those lines since 1st year uni though... so almost 6 years ago now :(","msgtype":"m.text"},"ts":1264525081000,"senderName":"workmad3","senderId":"workmad3@irc"},
{"content":{"body":"e^(2k*i*pi/n), k = 0, ..., n - 1 are the nth roots of unity (i.e., the nth roots of 1).","msgtype":"m.text"},"ts":1264525082000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Anyway, that equation gives you at least the first 42 billion decimal digits of sqrt(pi)","msgtype":"m.text"},"ts":1264525083000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"If you know any nth root of a number, the others will just be found by multiplying by nth roots of unity.","msgtype":"m.text"},"ts":1264525140000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"though it's not equal to sqrt(pi)","msgtype":"m.text"},"ts":1264525141000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Easily good enough if you just want the first million, anyway","msgtype":"m.text"},"ts":1264525142000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(http://www.cecm.sfu.ca/personal/pborwein/PAPERS/P56.pdf)","msgtype":"m.text"},"ts":1264525200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, dear, it's already past noon.","msgtype":"m.text"},"ts":1264525260000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I have to head off to my PDEs class.","msgtype":"m.text"},"ts":1264525261000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"PDEs?","msgtype":"m.text"},"ts":1264525320000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Partial differential equations.","msgtype":"m.text"},"ts":1264525380000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Particularly difficult equations?","msgtype":"m.text"},"ts":1264525381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh","msgtype":"m.text"},"ts":1264525440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Those too.","msgtype":"m.text"},"ts":1264525441000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"And after that, an introductory cryptography course.","msgtype":"m.text"},"ts":1264525442000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Will a data url default to utf-8 if the charset isn't specified?  Is that defined anywhere?","msgtype":"m.text"},"ts":1264525620000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: AFAIK what is defined is a mix of mapping IRIs to URIs and then just whatever the MIME type is","msgtype":"m.text"},"ts":1264525680000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"the mapping of IRI to URI will leave it in UTF-8, but given something like text/html it'll try to use charset=windows-1252","msgtype":"m.text"},"ts":1264525681000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"So... no?","msgtype":"m.text"},"ts":1264525682000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"No.","msgtype":"m.text"},"ts":1264525683000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Well, for application/xml it will","msgtype":"m.text"},"ts":1264525740000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Any idea on text/html-sandboxed?","msgtype":"m.text"},"ts":1264525741000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hasn't read the spec for that","msgtype":"m.emote"},"ts":1264525742000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"kk","msgtype":"m.text"},"ts":1264525743000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"wow! http://www.romancortes.com/blog/pure-css-coke-can/","msgtype":"m.text"},"ts":1264525800000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Any clue on whether data urls without a doctype will trigger quirks mode?  How can I quickly test this?","msgtype":"m.text"},"ts":1264525860000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins, yes, they will trigger quirks mode","msgtype":"m.text"},"ts":1264525861000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Thanks.","msgtype":"m.text"},"ts":1264525862000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Yes, check parsing of <p><table>","msgtype":"m.text"},"ts":1264525863000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"but you can test it easily by loading data:text/html,<p>some-html-here","msgtype":"m.text"},"ts":1264525864000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"and then typing javascript:alert(document.compatMode); in to your address bar","msgtype":"m.text"},"ts":1264525920000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"Ah, cool.  Thanks.","msgtype":"m.text"},"ts":1264525921000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Ah, I understand how the cokecan works now.  Crazy!","msgtype":"m.text"},"ts":1264526460000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"http://twitter.com/strangefunction/statuses/8235849998","msgtype":"m.text"},"ts":1264526580000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Real Coke cans don't violate the laws of perspective :-(","msgtype":"m.text"},"ts":1264526820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Real beer cans do, if you drink enough first","msgtype":"m.text"},"ts":1264526880000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"real coke cans don't violate using 55 extra divs on a page","msgtype":"m.text"},"ts":1264527300000,"senderName":"GarethAdams|Work","senderId":"GarethAdams|Work@irc"},
{"content":{"body":"He didn't use 55 extra divs.  He used 55 extra *<p>*s.","msgtype":"m.text"},"ts":1264527480000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Which is, of course, the wrong choice.  It should have been <div>s.  ^_^","msgtype":"m.text"},"ts":1264527481000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But also, this is just a cool tech trick, that's all.","msgtype":"m.text"},"ts":1264527482000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I've been talking with some people in #javascript about forms' submit events. Right now, if a user wants to perform validation on a form before submission, or to prevent submission and handle the form asynchronously, the user has to scrape the form to get the value of each element, perform tests for disabled inputs, and special-case inputs like checkboxes to try to replicate the information that the UA has about the form. It's imposs","msgtype":"m.text"},"ts":1264530960000,"senderName":"Sidnicious","senderId":"Sidnicious@irc"},
{"content":{"body":"get information about, say, which button was pressed to submit the form. I'd be much nicer if all that information were provided in the event.","msgtype":"m.text"},"ts":1264530961000,"senderName":"Sidnicious","senderId":"Sidnicious@irc"},
{"content":{"body":"Ack, wall of text. I'm mostly curious about where the right place is to introduce the idea: here, the WHATWG list, or some W3C list. I don't know the politics involved here.","msgtype":"m.text"},"ts":1264531020000,"senderName":"Sidnicious","senderId":"Sidnicious@irc"},
{"content":{"body":"whatwg is fine, or the htmlwg list.  Subscribing to the whatwg list is substantially easier, though.","msgtype":"m.text"},"ts":1264531200000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"What information are you wanting, exactly?  The value of all the form elements, and relevant attributes such as disabled, plus the origin of the submit event?","msgtype":"m.text"},"ts":1264531260000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: Sorry, was afk. I want access to the data goes into creating the query string or post body, including the button that triggered submit, coordinates on image inputs, the works.","msgtype":"m.text"},"ts":1264532820000,"senderName":"Sidnicious","senderId":"Sidnicious@irc"},
{"content":{"body":"The simplest implementation that gets us most of the way there would be an array of nodes that were involved in submission — only enabled inputs, only checked checkboxes, only the clicked button. That does not get us information like image coordinates, but it makes form scraping much more reliable: if I want the value of the to-be-submitted form, I just get the name and value of every element in the array.","msgtype":"m.text"},"ts":1264532821000,"senderName":"Sidnicious","senderId":"Sidnicious@irc"},
{"content":{"body":"There are plenty of other ways this could be implemented. I like the idea of supplying an array of objects, each of which has a key property, a value property, and an node property, so it'd be possible to ignore the elements entirely (and minimize DOM access) and just look at the keys and values from the array.","msgtype":"m.text"},"ts":1264532880000,"senderName":"Sidnicious","senderId":"Sidnicious@irc"},
{"content":{"body":"Hmm, that's interesting.","msgtype":"m.text"},"ts":1264533000000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"And your use-case is validation, right?","msgtype":"m.text"},"ts":1264533001000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"}
]