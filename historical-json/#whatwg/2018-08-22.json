[
{"content":{"body":"I can’t find that the PromiseRejectionEvent() constructor requirements are specified beyond just what follows from the IDL for the interface at https://html.spec.whatwg.org/multipage/webappapis.html#the-promiserejectionevent-interface","msgtype":"m.text"},"ts":1534905569000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: https://dom.spec.whatwg.org/#concept-event-constructor","msgtype":"m.text"},"ts":1534905613000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"loks","msgtype":"m.emote"},"ts":1534905631000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"TimothyGu: thanks","msgtype":"m.text"},"ts":1534905637000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1534905640000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent/PromiseRejectionEvent#Parameters says the type argument to the constructor “must be one of \"rejectionhandled\" or \"unhandledrejection\".","msgtype":"m.text"},"ts":1534905675000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"... but I can’t see where that’s actually specified or what it follows from","msgtype":"m.text"},"ts":1534905721000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I think they mean that the event fired by browsers can only be either of them","msgtype":"m.text"},"ts":1534905830000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"TimothyGu: OK, thanks ー so to be clear, in fact there’s nothing that prevents me from giving that constructor any string I want as the first argument, right?","msgtype":"m.text"},"ts":1534906744000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"there’s nothing specified that says it will throw if the string is something other than \"rejectionhandled\" or \"unhandledrejection\"","msgtype":"m.text"},"ts":1534906751000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: correct","msgtype":"m.text"},"ts":1534906768000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"ok, thanks again","msgtype":"m.text"},"ts":1534906796000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"amazing","msgtype":"m.text"},"ts":1534916110000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"apparently Chrome only fires beforeunload for HTML documents","msgtype":"m.text"},"ts":1534916119000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"not XHTML documents","msgtype":"m.text"},"ts":1534916123000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"Poor XHTML","msgtype":"m.text"},"ts":1534922003000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess in this case it's actually a win for XHTML","msgtype":"m.text"},"ts":1534922014000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But most other things are stacked against it still","msgtype":"m.text"},"ts":1534922035000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: FYI https://github.com/w3c/resource-timing/issues/70#issuecomment-414960153","msgtype":"m.text"},"ts":1534927773000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Sigh","msgtype":"m.text"},"ts":1534932060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Does HTML5 technically have namespaces as a language? Or does it simply define one for use with XML?","msgtype":"m.text"},"ts":1534948855000,"senderName":"DeltaHeavy","senderId":"DeltaHeavy@irc"},
{"content":{"body":"DeltaHeavy: it doesn't provide a means to specify namespace in text/html, but the HTML parser can create elements in the HTML, SVG and MathML namespaces","msgtype":"m.text"},"ts":1534949141000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Thank you!","msgtype":"m.text"},"ts":1534949188000,"senderName":"DeltaHeavy","senderId":"DeltaHeavy@irc"},
{"content":{"body":"… never mind, Chrome does fire beforeunload on XHTML documents","msgtype":"m.text"},"ts":1534958373000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"however, WPT's /common/dummy.xhtml turns out to not be an actual XHTML document","msgtype":"m.text"},"ts":1534958392000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"as it doesn't have xmlns=\"http://www.w3.org/1999/xhtml\" on the html element","msgtype":"m.text"},"ts":1534958434000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"and Chrome tests for the existence of a body element before trying to fire beforeunload","msgtype":"m.text"},"ts":1534958554000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"o_O","msgtype":"m.text"},"ts":1534958565000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"AMAZING","msgtype":"m.text"},"ts":1534960213000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: do you know of any discussion about the trend to define new JavaScript APIs using configurable properties?","msgtype":"m.text"},"ts":1534961457000,"senderName":"jugglinmike","senderId":"jugglinmike@irc"},
{"content":{"body":"jugglinmike: not aware of a trend","msgtype":"m.text"},"ts":1534966953000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jugglinmike: IDL/JS defaults mismatch?","msgtype":"m.text"},"ts":1534966975000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: oh, hm","msgtype":"m.text"},"ts":1534967211000,"senderName":"jugglinmike","senderId":"jugglinmike@irc"},
{"content":{"body":"I thought it was intentional","msgtype":"m.text"},"ts":1534967217000,"senderName":"jugglinmike","senderId":"jugglinmike@irc"},
{"content":{"body":"that as a web developer, I can generally write, e.g. `navigator.permissions = myMockPermissionsAPI`","msgtype":"m.text"},"ts":1534967246000,"senderName":"jugglinmike","senderId":"jugglinmike@irc"},
{"content":{"body":"That's been true since like 1995","msgtype":"m.text"},"ts":1534967331000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Well, I guess you'd have to use Object.defineProperty, since it's a getter","msgtype":"m.text"},"ts":1534967351000,"senderName":"Domenic","senderId":"Domenic@irc"}
]