[
{"content":{"body":"Hi All, looking at example 2.1 http://dev.w3.org/html5/html-author/#html-syntax I am wondering if the <p> should be closed?","msgtype":"m.text"},"ts":1217237280000,"senderName":"melvster","senderId":"melvster@irc"},
{"content":{"body":"melvster: no need to close it there","msgtype":"m.text"},"ts":1217237340000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"is it because it's the last node?","msgtype":"m.text"},"ts":1217237341000,"senderName":"melvster","senderId":"melvster@irc"},
{"content":{"body":"yes, the last p node in a container doesn't need to be closed","msgtype":"m.text"},"ts":1217237400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: OK thanks!","msgtype":"m.text"},"ts":1217237401000,"senderName":"melvster","senderId":"melvster@irc"},
{"content":{"body":"melvster: \"A p element's end tag may be omitted if the p element is immediately followed by an address, article, aside, blockquote, datagrid, dialog, dir, div, dl, fieldset, footer, form, h1, h2, h3, h4, h5, h6, header, hr, menu, nav, ol, p, pre, section, table, or ul, element, or if there is no more content in the parent element.\"","msgtype":"m.text"},"ts":1217237460000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: thanks again, i should have read that first","msgtype":"m.text"},"ts":1217237520000,"senderName":"melvster","senderId":"melvster@irc"},
{"content":{"body":"no worries :)","msgtype":"m.text"},"ts":1217237521000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"though <p><article> has a bad back compat story","msgtype":"m.text"},"ts":1217237580000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and <p><form> is buggy in some browsers","msgtype":"m.text"},"ts":1217237640000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"<p><hr> in ie too iirc","msgtype":"m.text"},"ts":1217237641000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and <p><table>","msgtype":"m.text"},"ts":1217237642000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"which RFC defines the syntax for charset names?","msgtype":"m.text"},"ts":1217237700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"should keep better notes in source comments","msgtype":"m.emote"},"ts":1217237701000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"<p>x<hr> is different in ie","msgtype":"m.text"},"ts":1217237702000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://tools.ietf.org/html/rfc2978 apparently","msgtype":"m.text"},"ts":1217237940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm, the bail-out list could be different for mathml and svg so that <svg><font> is allowed but <math><font> not","msgtype":"m.text"},"ts":1217238660000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: is it safe to refer to http://www.whatwg.org/style/specification from elsewhere? is that URI expected to point to a \"Working Draft\" style?","msgtype":"m.text"},"ts":1217238780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: or should I copy the style sheet?","msgtype":"m.text"},"ts":1217238781000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(I'm assuming the style sheet is covered by the WHATWG document license)","msgtype":"m.text"},"ts":1217238782000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"could also add <a>, <script> and <style> to the mathml list","msgtype":"m.text"},"ts":1217238840000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"it's covered by whatever license you want","msgtype":"m.text"},"ts":1217238841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i make no promises about not changing it","msgtype":"m.text"},"ts":1217238842000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's not working draft vs any other kind of spec though","msgtype":"m.text"},"ts":1217238843000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"iirc i have a class on the body element to decide the 'worker draft' banner","msgtype":"m.text"},"ts":1217238900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1217238901000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: ok.","msgtype":"m.text"},"ts":1217238902000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: what do you think about different bail-out lists (see above)?","msgtype":"m.text"},"ts":1217238903000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(now that I think about it, I already saw zcorpan use the class on body)","msgtype":"m.text"},"ts":1217238904000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: one possibility is bailing out on font only if it has the kind of attributes presentational HTML has","msgtype":"m.text"},"ts":1217238960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: oh yep didn't think of that","msgtype":"m.text"},"ts":1217239080000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"not sure which is better","msgtype":"m.text"},"ts":1217239081000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: i'm not yet convinced we can add <svg><font>, need to study that further","msgtype":"m.text"},"ts":1217239140000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: we could also require a <defs> context","msgtype":"m.text"},"ts":1217239200000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that would be profiling svg in a more weird way","msgtype":"m.text"},"ts":1217239201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's one thing to say \"you can't use font\"","msgtype":"m.text"},"ts":1217239202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's another to say \"you can use font in these specific cases...\"","msgtype":"m.text"},"ts":1217239203000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Isn't <font> in practice always used as a child of <defs> in non-contrived SVG?","msgtype":"m.text"},"ts":1217239260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: doesn't not bailing on <script> break some pages with <math><script> ?","msgtype":"m.text"},"ts":1217239380000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(or style/a)","msgtype":"m.text"},"ts":1217239381000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hixie: could you please add ids to the paragraphs starting with \"In the foo state,\" and giving the conformance reqs for the shape attribute states for image map area?","msgtype":"m.text"},"ts":1217239440000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"s/shape/coords/","msgtype":"m.text"},"ts":1217239441000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: not to my knowledge, why would you bother with the <defs>?","msgtype":"m.text"},"ts":1217239442000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you want changes, send mail","msgtype":"m.text"},"ts":1217239443000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm not near the editor right now","msgtype":"m.text"},"ts":1217239500000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I'm just generalizing from the stuff Philip` found in Wikipedia","msgtype":"m.text"},"ts":1217239501000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: ok. I'll send mail","msgtype":"m.text"},"ts":1217239502000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"thx","msgtype":"m.text"},"ts":1217239503000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think basing it on attributes would be better than on context, given that the whole point is to bail if someone does something stupid","msgtype":"m.text"},"ts":1217239560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"they're more likely to put an html font after a bunch of random svg copied and pasted, than to put svg font attributes on an html font element","msgtype":"m.text"},"ts":1217239561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: makes sense","msgtype":"m.text"},"ts":1217239620000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"oh btw someone sent me mail about a major bug in the parser that i need to fix","msgtype":"m.text"},"ts":1217239621000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"basically the generic cdata element parsing algorithm thingy totally doesn't work with document.write()","msgtype":"m.text"},"ts":1217239622000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"consider <script>document.write(\"<style>a\");document.write(\"b</style>\")</script>","msgtype":"m.text"},"ts":1217239680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(or worse, nested <script> elements)","msgtype":"m.text"},"ts":1217239681000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fires up his GWT test harness...","msgtype":"m.emote"},"ts":1217239682000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"so i'm going to split the cdata algorithm into its own state","msgtype":"m.text"},"ts":1217239683000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"instead of being a tokeniser pull, bring it in line with everything else (tokeniser push)","msgtype":"m.text"},"ts":1217239740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: why doesn't that work?","msgtype":"m.text"},"ts":1217239741000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"is there anything else that pulls from the tokeniser at this point?","msgtype":"m.text"},"ts":1217239742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: no. (and I've already implemented everything as push)","msgtype":"m.text"},"ts":1217239743000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: because at the end of the document.write() input stream the tokeniser is stopped and the tree construction stage is exitted, so you lose the fact that you're in the middle of a pulling step","msgtype":"m.text"},"ts":1217239800000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: ah","msgtype":"m.text"},"ts":1217239801000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: did you implement the generic cdata thing as having a new variable to preserve the source state?","msgtype":"m.text"},"ts":1217239802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: or?","msgtype":"m.text"},"ts":1217239803000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I implemented it as a flag in the tree builder","msgtype":"m.text"},"ts":1217239860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: and it appears that your example above breaks it :-(","msgtype":"m.text"},"ts":1217239861000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah, somewhat like the earlier split of insertion modes vs states?","msgtype":"m.text"},"ts":1217239862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh?","msgtype":"m.text"},"ts":1217239863000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"at least when using WebKit as the engine in GWT, \"b\" never ends up inside the style element","msgtype":"m.text"},"ts":1217239920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it's completely lost somewhere","msgtype":"m.text"},"ts":1217239921000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"fun","msgtype":"m.text"},"ts":1217239922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you replace style with script the problem becomes worse","msgtype":"m.text"},"ts":1217239923000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"because the element is added with the end tag, not the start tag","msgtype":"m.text"},"ts":1217239924000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so you end up losing the element altogether in a naive push implementation","msgtype":"m.text"},"ts":1217239925000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"<script>document.write('<style></sty');document.write('le>')</script> - how would that work with the tokeniser upon seeing the \"</\", since the \"[if] the next few characters do not match the tag name of the last start tag token emitted\" condition wouldn't make sense at that point?","msgtype":"m.text"},"ts":1217240040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I'm trying to review what exactl I'm doing but Eclipse beachballs on me","msgtype":"m.text"},"ts":1217240041000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Wait, do I mean <style>?","msgtype":"m.text"},"ts":1217240042000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, yes, I think I do","msgtype":"m.text"},"ts":1217240100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: yeah, i noticed the same problem with the <![CDATA and <!DOCTYPE tokenising","msgtype":"m.text"},"ts":1217240101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: but that's easy to fix, you just say that the tokeniser stops when it's missing data to resolve an ambiguous state and wave your hand and move on","msgtype":"m.text"},"ts":1217240160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: \"implementation detail\"","msgtype":"m.text"},"ts":1217240161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: here's what I do:","msgtype":"m.text"},"ts":1217240162000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"1) Everything is tokenizer push","msgtype":"m.text"},"ts":1217240163000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"2) tree builder has a variable called cdataOrRcdataTimesToPop","msgtype":"m.text"},"ts":1217240164000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: Can't you do the same hand-waving in the generic CDATA whatnots, then?","msgtype":"m.text"},"ts":1217240165000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: no, because when you abort that tree construction stage you return the previous one, which is in the middle of doing the cdata processing","msgtype":"m.text"},"ts":1217240220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"3) If the spec calls for pushing the head element on stack first, cdataOrRcdataTimesToPop is set to 2. else, it is set to 1","msgtype":"m.text"},"ts":1217240221000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"4) endTag pops cdataOrRcdataTimesToPop times","msgtype":"m.text"},"ts":1217240222000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and zeros cdataOrRcdataTimesToPop","msgtype":"m.text"},"ts":1217240280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1217240281000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1217240282000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that won't work :-)","msgtype":"m.text"},"ts":1217240283000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but makes sense given the spec today","msgtype":"m.text"},"ts":1217240284000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"5) if cdataOrRcdataTimesToPop > 0, characters just accumulate and returns early without inspecting insertion mode","msgtype":"m.text"},"ts":1217240285000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"anyway dunno when i'll fix this, i expect it's in the coming few weeks though","msgtype":"m.text"},"ts":1217240340000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It bothers me that I don't know what happened to \"b\" in the GWT case","msgtype":"m.text"},"ts":1217240341000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i've been avoiding the parser folder because i've been hoping the svgwg will fix the issues you, takkaria, and myself raised with their proposal","msgtype":"m.text"},"ts":1217240342000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i guess eventually i'll go in and deal with it","msgtype":"m.text"},"ts":1217240400000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: well, both takkaria and I said we'd prefer your/zcorpan's suggestion","msgtype":"m.text"},"ts":1217240460000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"apparently <datagrid> is the next target","msgtype":"m.text"},"ts":1217240461000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: zcorpan claims the svgwg proposal is as much his as the current spec's :-P","msgtype":"m.text"},"ts":1217240462000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok bed time nn","msgtype":"m.text"},"ts":1217240580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Does HTML5 define where LWS is really allowed in the http://tools.ietf.org/html/rfc2045#section-5.1 syntax for Web purposes?","msgtype":"m.text"},"ts":1217249940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: no","msgtype":"m.text"},"ts":1217251980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: OK. thanks.","msgtype":"m.text"},"ts":1217252100000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"gsnedders: do you happen to document it for HTTP?","msgtype":"m.text"},"ts":1217252101000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(and I don't know either)","msgtype":"m.text"},"ts":1217252102000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it appears I have made up a definition then","msgtype":"m.text"},"ts":1217252103000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'll just write that down in my spec","msgtype":"m.text"},"ts":1217252104000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm still (occasionally) working on the overall syntax of the entire HTTP structure","msgtype":"m.text"},"ts":1217252105000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Not got to anything so exact as parsing actual headers :P","msgtype":"m.text"},"ts":1217252106000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://hsivonen.iki.fi/html5-datatypes/ comments welcome","msgtype":"m.text"},"ts":1217252880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: s/hecking/checking/","msgtype":"m.text"},"ts":1217253000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: thanks","msgtype":"m.text"},"ts":1217253060000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"selittäkääpä, miten kongressihenkilöt voivat istua tuntikaupalla hearingissa käymättä vessassa","msgtype":"m.text"},"ts":1217253300000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"is this valid? <img usemap=# src=x><map name>","msgtype":"m.text"},"ts":1217253540000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: no, the name attribute must be non-empty","msgtype":"m.text"},"ts":1217253660000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: ah","msgtype":"m.text"},"ts":1217253661000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: but according to the datatype lib, usemap=# is valid (checking referential integrity happens elsewhere)","msgtype":"m.text"},"ts":1217253662000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1217253720000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hendry: did you get an instance of the CSS validator running? If yes, under which servlet container?","msgtype":"m.text"},"ts":1217254680000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm, why does name allow whitespace","msgtype":"m.text"},"ts":1217255880000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: in validator or in spec?","msgtype":"m.text"},"ts":1217255940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: in spec","msgtype":"m.text"},"ts":1217255941000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"at leat if id is not present","msgtype":"m.text"},"ts":1217255942000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I've now postponed rel checking well over a year.","msgtype":"m.text"},"ts":1217256180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder if the rel stuff is still at risk...","msgtype":"m.text"},"ts":1217256181000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"at least the registry was discussed relatively recently on public-html","msgtype":"m.text"},"ts":1217256240000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I finally found some time to review the SVG WG's proposal. Personally, I'm not particularly fond of it","msgtype":"m.text"},"ts":1217257140000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"there isn't really sufficient justification for some of the requirements it tries to address, beyond keeping it theoretically-pure-well-formed XML","msgtype":"m.text"},"ts":1217257260000,"senderName":"Lachy","senderId":"Lachy@irc"},
{"content":{"body":"should we add alt to embed? apparently opera supports it","msgtype":"m.text"},"ts":1217257620000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: would it be rendered when the plugin isn't installed?","msgtype":"m.text"},"ts":1217257920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: yes","msgtype":"m.text"},"ts":1217257921000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hmm. Flash is supposed to be accessible in itself. Video plug-ins are supposed to get superceded by <video>. Apart from Silverlight, newer plugins tend to be non-rendered and provide JS APIs","msgtype":"m.text"},"ts":1217258100000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"like Gears or the Garmin plugin for integrating GPS devices","msgtype":"m.text"},"ts":1217258160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it seems to me that the use case would be customizing the \"Boohoo. Go install a plugin.\" message that e.g. Firefox generates as UI.","msgtype":"m.text"},"ts":1217258220000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i guess","msgtype":"m.text"},"ts":1217258280000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: s/strings match/strings that match/","msgtype":"m.text"},"ts":1217258460000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: might squeeze in a \"the\" in there too","msgtype":"m.text"},"ts":1217258461000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: fixed, thanks","msgtype":"m.text"},"ts":1217258520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: what is xml-name used for?","msgtype":"m.text"},"ts":1217258521000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: it's used for XHTML 1.0 backports. it probably shouldn't be in the lib in theory, but putting it there is convenient for me","msgtype":"m.text"},"ts":1217258580000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: ok","msgtype":"m.text"},"ts":1217258581000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wonders whether to do something that'll make him unpopular with many around here: serve XHTML as text/html","msgtype":"m.emote"},"ts":1217260500000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Actually, I can just do this in Ruby, and use a pre-existing HTML parser!","msgtype":"m.text"},"ts":1217260620000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Yay!","msgtype":"m.text"},"ts":1217260621000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"discovers that if he makes a Jabber client send namespace-ill-formed XML to a group chat, then ejabberd propagates it to all the other clients and they detect the error and disconnect","msgtype":"m.emote"},"ts":1217267520000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and when they reconnect and rejoin the group, the server helpfully sends the past messages to the newly-joining clients, which breaks them again","msgtype":"m.text"},"ts":1217267580000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hahahaha.","msgtype":"m.text"},"ts":1217267640000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Awesome.","msgtype":"m.text"},"ts":1217267641000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I think something is wrong. Fx fails all of the HTTP parsing tests","msgtype":"m.text"},"ts":1217267700000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I'd be more concerned if it passed them all","msgtype":"m.text"},"ts":1217267760000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yes, but it doesn't even try running them.","msgtype":"m.text"},"ts":1217267880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Which is why it claims to fail them all.","msgtype":"m.text"},"ts":1217267881000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"expected_xhr.onreadystatechange is never hit :\\","msgtype":"m.text"},"ts":1217267882000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Interesting.","msgtype":"m.text"},"ts":1217267940000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Opera has changed behaviour with HTTP/0.9","msgtype":"m.text"},"ts":1217267941000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Got status code 0, expected 200","msgtype":"m.text"},"ts":1217268000000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Got status text , expected OK","msgtype":"m.text"},"ts":1217268001000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"chuckles at Philip` and his XML games","msgtype":"m.emote"},"ts":1217268060000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"(It works against individuals by sending normal messages too, but the server doesn't appear to resend them after the first time)","msgtype":"m.text"},"ts":1217268061000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: that's pretty nasty :)","msgtype":"m.text"},"ts":1217268120000,"senderName":"jmb","senderId":"jmb@irc"},
{"content":{"body":"Why is onreadystatechange never called?","msgtype":"m.text"},"ts":1217268240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"readyState is getting changed :\\","msgtype":"m.text"},"ts":1217268960000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"https://support.process-one.net/browse/EJAB-680","msgtype":"m.text"},"ts":1217269140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: would you be able to give me some statistics on the number of pages which include CRs and NULs in attribute values?","msgtype":"m.text"},"ts":1217269141000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"Philip`: Also, could you see if you have any pages that start with \"HTTP\" case-insensitively but not case-sensitively?","msgtype":"m.text"},"ts":1217269260000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"takkaria: Maybe - I guess it should be easy to modify hsivonen's tokeniser to detect that","msgtype":"m.text"},"ts":1217269380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"takkaria: Do you care how many times per page it occurs, or just how many pages it occurs >= 1 time on?","msgtype":"m.text"},"ts":1217269381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: the latter","msgtype":"m.text"},"ts":1217269382000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"gsnedders: By \"pages\", do you mean the body of the page (i.e. after parsing and stripping the HTTP headers)?","msgtype":"m.text"},"ts":1217269383000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: No, I mean the entire response","msgtype":"m.text"},"ts":1217269440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"(i.e., what the response-line begins with)","msgtype":"m.text"},"ts":1217269441000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: In that case, no","msgtype":"m.text"},"ts":1217269442000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"or status-line, or whatever it's called","msgtype":"m.text"},"ts":1217269443000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: since I didn't save the raw response bytes, only the parsed representation","msgtype":"m.text"},"ts":1217269444000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Ah.","msgtype":"m.text"},"ts":1217269500000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: (since I couldn't see a way to make HttpClient return the raw response bytes)","msgtype":"m.text"},"ts":1217269501000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Write your own! :P","msgtype":"m.text"},"ts":1217269502000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: My own HTTP client? I can't do that until someone's written a proper spec on how to write one :-p","msgtype":"m.text"},"ts":1217269503000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: Oh, all I'm writing is how to parse the response/request. You don't need to do either of those :P","msgtype":"m.text"},"ts":1217269560000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"takkaria: It looks like about 10% have \\r in attribute values somewhere, and about 0% have \\0","msgtype":"m.text"},"ts":1217271000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and of those 0%, most are JPEG and PDF files","msgtype":"m.text"},"ts":1217271001000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Wait a minute, I'll change it to only look at text/html...","msgtype":"m.text"},"ts":1217271060000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://www.slovanova.sk/ - aha, actual HTML with a \\0","msgtype":"m.text"},"ts":1217271180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"waits ten minutes while it searches through all the other files","msgtype":"m.emote"},"ts":1217271300000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"10% is an interestingly high value","msgtype":"m.text"},"ts":1217271420000,"senderName":"takkaria","senderId":"takkaria@irc"},
{"content":{"body":"takkaria: From something like 126989 text/html pages in total:","msgtype":"m.text"},"ts":1217272140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"     16 \\0 in attribute value","msgtype":"m.text"},"ts":1217272141000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"  10622 \\r in attribute value","msgtype":"m.text"},"ts":1217272142000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"     47 \\r\\n in attribute value","msgtype":"m.text"},"ts":1217272143000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Those \"\\r\\n\" are slightly bogus - it should have aborted after finding the first \"\\r\", but I didn't detect \\rs that came after entities and got unconsumed, so it didn't notice until it got to the \\n)","msgtype":"m.text"},"ts":1217272200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"takkaria: http://philip.html5.org/data/attr-chars.txt lists them all","msgtype":"m.text"},"ts":1217272320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: ping","msgtype":"m.text"},"ts":1217280300000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"still needs a decent idea for his computing project for this year for school :\\","msgtype":"m.emote"},"ts":1217281200000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"40 hours project, with 20 hours for impl.","msgtype":"m.text"},"ts":1217281680000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"A day of coding? That's not much :-p","msgtype":"m.text"},"ts":1217281860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"You aren't expected to do it in one day :P","msgtype":"m.text"},"ts":1217281861000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"That doesn't demonstrate much dedication","msgtype":"m.text"},"ts":1217281920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"You're only expected to have an hour of class time per day five days a week","msgtype":"m.text"},"ts":1217281921000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Of course, I'm doing it out of class, so I have none :P","msgtype":"m.text"},"ts":1217281980000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"would like to do something in Haskell or C/C++","msgtype":"m.emote"},"ts":1217285280000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But I can't decide what :P","msgtype":"m.text"},"ts":1217285281000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Anybody got any suggestions?","msgtype":"m.text"},"ts":1217285340000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: Well lerning Haskell might be a 20 hour project on its own. Not much to hand in though","msgtype":"m.text"},"ts":1217285580000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: That's problematic, especially when it counts for 40% of the final grade.","msgtype":"m.text"},"ts":1217285581000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You could implement a domain-specific language for something","msgtype":"m.text"},"ts":1217285640000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Writing an html5 parser is too big, probably","msgtype":"m.text"},"ts":1217285641000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: an html5 would probably take longer, yes","msgtype":"m.text"},"ts":1217285642000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"http://effbot.org/zone/simple-top-down-parsing.htm seems like a nice article about language parsing","msgtype":"m.text"},"ts":1217285700000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"s/an html5/an html5 parser/","msgtype":"m.text"},"ts":1217285701000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: Yeah, writing HTML 5 would take a while :P","msgtype":"m.text"},"ts":1217285760000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Well if you manage it in 20 hours Hixie will look a bit silly :)","msgtype":"m.text"},"ts":1217285761000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hmmm.","msgtype":"m.text"},"ts":1217285880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I could do something based on trying to detect spam","msgtype":"m.text"},"ts":1217286540000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: I have a problem that I actually would like a solution to but don't currently have time to implement","msgtype":"m.text"},"ts":1217286720000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: What problem? :P","msgtype":"m.text"},"ts":1217286721000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Many scientists use the arXiv prepint servers to keep up to date with current research. The basically provide a daily list of new preprints ordered by submission time. They are broadly categorised but only in astrophysics / high energy physics / computer science / etc. much broader than the expertise of most readers","msgtype":"m.text"},"ts":1217286900000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The time ordering creates two problems. One is that it is hard to find things that you are interested in, especially if they appear down the list somewhere","msgtype":"m.text"},"ts":1217286901000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The second is that papers appearing near the top of the listings tend to be noticed more and get more citations --- this is a measured effect","msgtype":"m.text"},"ts":1217286960000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"What i want is an interface to the preprint server where the day's listings are ordered according to my personal reading habits","msgtype":"m.text"},"ts":1217287020000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"These would be deermied automatically using some sort of machine learing algorithm","msgtype":"m.text"},"ts":1217287021000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Basically the way I imagine it working is that when you click on a paper the keywords from that paper (authors, title, abstract text) are added to some weighting which increases the probability of papers with similar authors, titles or abstracts appearing at the top","msgtype":"m.text"},"ts":1217287140000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"This is basically just a spam classificaion problem except that you're trying to pick out the most useful items and present them first","msgtype":"m.text"},"ts":1217287200000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Rather than discard the least useful items","msgtype":"m.text"},"ts":1217287201000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"weinig|kaphine: pong","msgtype":"m.text"},"ts":1217287202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders: I don't know how easy writing the actual machine learning bit would be but you might be able to find library code for that","msgtype":"m.text"},"ts":1217287260000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"In fact I know you can because I looked when I first hough about this problem","msgtype":"m.text"},"ts":1217287320000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hey Hixie ","msgtype":"m.text"},"ts":1217287321000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"jgraham: It'd be nice to do that with feeds, to do it in more generic form","msgtype":"m.text"},"ts":1217287322000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: I as curious if you were considering specifying the rules for HTML entity error recovery at some point in HTML5?","msgtype":"m.text"},"ts":1217287380000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"s/as/am/","msgtype":"m.text"},"ts":1217287381000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"gsnedders: Sure, although that's not the problem that I'm interestedd in :)","msgtype":"m.text"},"ts":1217287382000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: The logic used to detect whether an article is of interest or not is the same, though","msgtype":"m.text"},"ts":1217287440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"weinig: HTML entity error recovery?","msgtype":"m.text"},"ts":1217287441000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"And that, I expect, it the hard part.","msgtype":"m.text"},"ts":1217287442000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: some thing akin to the issue described in https://bugs.webkit.org/show_bug.cgi?id=4948","msgtype":"m.text"},"ts":1217287443000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"gsnedders: Yes, I agree that it's essentially the same problem","msgtype":"m.text"},"ts":1217287500000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"weinig: that's all already defined","msgtype":"m.text"},"ts":1217287501000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"weinig: note that it differs from attributes and in body text (the spec handles that too)","msgtype":"m.text"},"ts":1217287502000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: it is?  great!","msgtype":"m.text"},"ts":1217287503000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"jgraham: It's just a matter of plugging in the data source","msgtype":"m.text"},"ts":1217287504000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"couldn't find it in the text","msgtype":"m.text"},"ts":1217287505000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"will look again","msgtype":"m.text"},"ts":1217287506000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"weinig: just start from the data state in the tokeniser (or the attribute value state in the tokeniser)","msgtype":"m.text"},"ts":1217287560000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"weinig: and pretend you are parsing each of those cases","msgtype":"m.text"},"ts":1217287561000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nods","msgtype":"m.emote"},"ts":1217287562000,"senderName":"weinig","senderId":"weinig@irc"},
{"content":{"body":"gsnedders, jgraham: you would just need to generate a feed from arXiv if there isn't one already","msgtype":"m.text"},"ts":1217287563000,"senderName":"franksalim","senderId":"franksalim@irc"},
{"content":{"body":"should all be hyperlinked properly","msgtype":"m.text"},"ts":1217287564000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"franksalim: I'm pretty sure there is ","msgtype":"m.text"},"ts":1217287620000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Although curiously it seems to be different to the web page","msgtype":"m.text"},"ts":1217287800000,"senderName":"jgraham","senderId":"jgraham@irc"}
]