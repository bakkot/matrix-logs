[
{"content":{"body":"annevk: about the color-scheme thing, I will make a workaround for it right now","msgtype":"m.text"},"ts":1600689477000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but it’s unclear to me whether color-scheme is actually supported at all in any engine other than Blink","msgtype":"m.text"},"ts":1600689530000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and color-scheme is not documented at all in MDN, and there is zero data about it in BCD","msgtype":"m.text"},"ts":1600689550000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I'm not advocating for validator support btw, it seems fine to block on all that becoming more clear","msgtype":"m.text"},"ts":1600689572000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah I will just special-case it for now until we can otherwise get something better figured out","msgtype":"m.text"},"ts":1600689604000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or we could switch off the bikeshed style-colors boilerplate","msgtype":"m.text"},"ts":1600689672000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"andreubotella: that might be a better solution, if that is doable","msgtype":"m.text"},"ts":1600689700000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I don’t know which would be quicker to propogate","msgtype":"m.text"},"ts":1600689717000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: I think you may have already pointed this out in another issue comment, but rightly I would hope Bikeshed would not be embedding any CSS styles into WHATWG specs at all","msgtype":"m.text"},"ts":1600690584000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"any styles should be in external stylesheets","msgtype":"m.text"},"ts":1600690610000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or at least we should have an option for not having them embedded in the HTML source in style elements","msgtype":"m.text"},"ts":1600690652000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: it already does (including JavaScript) for dfn","msgtype":"m.text"},"ts":1600690677000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: I guess this new thing adds more","msgtype":"m.text"},"ts":1600690684000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not very familiar with the bikeshed code, but from a quick look it seems it wouldn't be hard to add a `Boilerplate: styles no` option","msgtype":"m.text"},"ts":1600690693000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"MikeSmith: it even seems to emit style attributes","msgtype":"m.text"},"ts":1600690695000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh style attributes too","msgtype":"m.text"},"ts":1600690709000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well the HTML spec requires the content of style elements and attributes to be conforming","msgtype":"m.text"},"ts":1600690746000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but the HTML spec does not require content of external stylesheets to be conforming","msgtype":"m.text"},"ts":1600690771000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but an unknown property wouldn't make a stylesheet non-conforming","msgtype":"m.text"},"ts":1600690942000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"in fact it does","msgtype":"m.text"},"ts":1600690969000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"an unknown property is indistinguisable from a misspelled property","msgtype":"m.text"},"ts":1600691000000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so asserting that unknown properties should be ignored is the same as saying that misspelled properties should be ignored","msgtype":"m.text"},"ts":1600691038000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"One problem with moving the dfn style sheets is that HTML has its own dfn styles, as per https://github.com/whatwg/whatwg.org/commit/3374e69f013e5939abc5f3fffaae50bb6eaf0bd3","msgtype":"m.text"},"ts":1600691075000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"HTML links to the css-syntax definition of conformant style sheet, and it talks about the syntax and the individual grammars of each feature","msgtype":"m.text"},"ts":1600691085000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"And I don't know if what Bikeshed does is completely unique","msgtype":"m.text"},"ts":1600691091000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I would hope that the value to developers of reporting font-colro as an error is clear","msgtype":"m.text"},"ts":1600691092000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah, for reporting, sure","msgtype":"m.text"},"ts":1600691103000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"If what Bikeshed does is completely unique, it's probably easy-ish to just put it in standard.css and HTML will just ignore it","msgtype":"m.text"},"ts":1600691112000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah I know we have an opne issue about that","msgtype":"m.text"},"ts":1600691114000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"(until we solve HTML)","msgtype":"m.text"},"ts":1600691118000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'm not sure if this color-space stuff does anything beyond modifying the dfn stuff","msgtype":"m.text"},"ts":1600691147000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Looking at the output this seems to be a lot of additional styles unrelated to dfn","msgtype":"m.text"},"ts":1600691373000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"We can probably switch off style-colors and style-darkmode now, and then see about moving the rest of styles","msgtype":"m.text"},"ts":1600691458000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"So \"Boilerplate: style-colors off\" seems to work, but \"Boilerplate: style-darkmode off\" does nothing?","msgtype":"m.text"},"ts":1600691826000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"andreubotella: yeah that seems good, but I'm not getting it to work (https://tabatkins.github.io/bikeshed/ also doesn't document all of this)","msgtype":"m.text"},"ts":1600691855000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk, TabAtkins: that sounds like a bug","msgtype":"m.text"},"ts":1600693200000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"annevk: https://github.com/whatwg/encoding/pull/230 is all green","msgtype":"m.text"},"ts":1600696422000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"re-run any other pending CI builds for other repos/branches, and they should all turn green too","msgtype":"m.text"},"ts":1600696470000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thanks, though hopefully we can sort out the other thing soon too, since I realize I now approved a somewhat-large increase in file size too","msgtype":"m.text"},"ts":1600696553000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://github.com/tabatkins/bikeshed/blob/master/bikeshed/boilerplate.py#L236","msgtype":"m.text"},"ts":1600698547000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"it looks like style-darkmode is special-cased because it has to be output after the rest of style blocks","msgtype":"m.text"},"ts":1600698566000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"Yeah I think I messed that up, apologies. Will fix in a bit, making breakfast now","msgtype":"m.text"},"ts":1600698587000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"and it doesn't seem to be checking the boilerplate maetadata","msgtype":"m.text"},"ts":1600698588000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1600698594000,"senderName":"andreubotella","senderId":"andreubotella@irc"},
{"content":{"body":"annevk: increatst in file size?","msgtype":"m.text"},"ts":1600700242000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"All right, fix pushed for `Boilerplate: darkmode no` to work again","msgtype":"m.text"},"ts":1600703092000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"annevk: is request's current URL = response URL for all HTTP(S) fetches?","msgtype":"m.text"},"ts":1600703432000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: can a HTTP(S) fetch involve a service worker?","msgtype":"m.text"},"ts":1600704028000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes, I guess so.","msgtype":"m.text"},"ts":1600704059000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: the context here is https://github.com/WICG/portals/pull/247, in particular whether https://github.com/WICG/portals/pull/247/commits/bde960589245799aa4fa18d2d5e38d052bd9efe8 is the right change","msgtype":"m.text"},"ts":1600704111000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: I think in that case there can be a difference as the response's URL list would be non-empty","msgtype":"m.text"},"ts":1600704141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: though note that navigation deals with this differently from subresources","msgtype":"m.text"},"ts":1600704161000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah this is navigation, hmm.","msgtype":"m.text"},"ts":1600704173000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I've been staring at Fetch/navigation but not staring at service workers","msgtype":"m.text"},"ts":1600704184000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: for navigation we use the request URL for authority but we also have a same origin limitation on service workers (or some such)","msgtype":"m.text"},"ts":1600704278000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That makes sense. Indeed, Jeremy noticed that all of navigation was using request URL so urged me to switch","msgtype":"m.text"},"ts":1600704317000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It seems like the service worker won't be able to change what we care about here, which is the HTTP(S)-scheme-ness of the URL in question.","msgtype":"m.text"},"ts":1600704350000,"senderName":"Domenic","senderId":"Domenic@irc"}
]