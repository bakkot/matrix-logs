[
{"content":{"body":"MikeSmith: I see a lot of unused gif images in https://github.com/w3c/markup-validator/. Any reason you keep them?","msgtype":"m.text"},"ts":1493965169000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"XhmikosR: no idea, I don’t really maintain that code","msgtype":"m.text"},"ts":1493966116000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if I had my way we would have just killed that validator long ago and replaced it with the HTML checker","msgtype":"m.text"},"ts":1493966147000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but if you think the gif images should be yanked lemme know","msgtype":"m.text"},"ts":1493966202000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or raise a PR and I’ll review it asap","msgtype":"m.text"},"ts":1493966217000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I've found some that are certainly unused. But I see some others which are being referenced without the extention and they have a PNG equivalent too","msgtype":"m.text"},"ts":1493966249000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"for example valid-css.gif and valid-css.png","msgtype":"m.text"},"ts":1493966267000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"OK if you’ve already investigated it then I’d suggest just raising a PR with a patch that deletes whatever unused ones you found","msgtype":"m.text"},"ts":1493966463000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"all right","msgtype":"m.text"},"ts":1493966534000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"smaug: outstanding ping in https://github.com/whatwg/html/issues/2615","msgtype":"m.text"},"ts":1493969801000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: connected to any document?","msgtype":"m.text"},"ts":1493969874000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: a document that's fully active","msgtype":"m.text"},"ts":1493969887000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"only those","msgtype":"m.text"},"ts":1493969895000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, from a browsing context document","msgtype":"m.text"},"ts":1493969899000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"yeah, and one that's not navigated away or some such","msgtype":"m.text"},"ts":1493969912000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: just a sec, I need to fix burning tree","msgtype":"m.text"},"ts":1493969973000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"annevk: so conceptually I'd prefer links to be connected","msgtype":"m.text"},"ts":1493970586000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: I can ask Chrome to gather data","msgtype":"m.text"},"ts":1493970640000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug: it's blocking some other work I want to do in HTML, but I'll manage","msgtype":"m.text"},"ts":1493970650000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tobie: thinking about that testing site again… I wonder if the w3 would pay someone like Remy Sharp to set it up","msgtype":"m.text"},"ts":1493973488000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: the W3C has never given me a cent for any of the infra I built for it, so short answer is no.","msgtype":"m.text"},"ts":1493973549000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"bleh","msgtype":"m.text"},"ts":1493973560000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: and the tendency to attribute credit to itself for it is sort of astounding, e.g.: https://twitter.com/wseltzer/status/860234933985529857","msgtype":"m.text"},"ts":1493973658000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"*longest sigh*","msgtype":"m.text"},"ts":1493973685000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: that said, you work for a company with deep pockets","msgtype":"m.text"},"ts":1493973717000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: true. I'll float the idea when I'm out in SF","msgtype":"m.text"},"ts":1493973741000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"plh still has channels to get testing stuff funded","msgtype":"m.text"},"ts":1493973896000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and at the risk of pointing out the obvious and coming across as defensive: the W3C is not some monolithic abstraction that does things","msgtype":"m.text"},"ts":1493973952000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that tweet is from a person","msgtype":"m.text"},"ts":1493973958000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"one person","msgtype":"m.text"},"ts":1493973963000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: I made https://hsivonen.com/test/moz/iso-2022-jp-encoder.htm","msgtype":"m.text"},"ts":1493974191000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it shows that Gecko, Blink and Presto encode half-width Katakana without NCR","msgtype":"m.text"},"ts":1493974219000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"didn't test WebKit, because I'm too lazy to switch cables around","msgtype":"m.text"},"ts":1493974242000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"MikeSmith: sure, at some point it's a structural issue, though.","msgtype":"m.text"},"ts":1493974242000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"the test harness doesn't work right in Microsoft browsers","msgtype":"m.text"},"ts":1493974261000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"do I need to submit a form and echo back the results from a server to test encoders in IE and Edge?","msgtype":"m.text"},"ts":1493974283000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"or is there a client-side way?","msgtype":"m.text"},"ts":1493974289000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: dunno","msgtype":"m.text"},"ts":1493974329000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"anyway, so far, this is already a strong indication of a spec bug","msgtype":"m.text"},"ts":1493974378000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: with ﾐ in Safari TP I get the same results as in Firefox","msgtype":"m.text"},"ts":1493974402000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: agreed","msgtype":"m.text"},"ts":1493974428000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I'll file","msgtype":"m.text"},"ts":1493974481000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: if you already know how to fix it that'd be appreciated, but I can make time for this","msgtype":"m.text"},"ts":1493974502000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://github.com/whatwg/encoding/issues/105","msgtype":"m.text"},"ts":1493974643000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: I don't yet know how to fix","msgtype":"m.text"},"ts":1493974654000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'll probably take a look at other oranges before I come back to this","msgtype":"m.text"},"ts":1493974674000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: sounds good, I'll investigate later today","msgtype":"m.text"},"ts":1493974725000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: if you have a few minutes, think you might be able to give a good explanation at https://stackoverflow.com/questions/43800998/why-do-fetch-errors-not-have-a-stacktrace-in-my-single-page-application","msgtype":"m.text"},"ts":1493976308000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or a pointer to somewhere you’ve previously explained it","msgtype":"m.text"},"ts":1493976342000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hmm. privacy badger's presence is visible in the Live DOM Viewer","msgtype":"m.text"},"ts":1493976355000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that seems bad for at least two reasons","msgtype":"m.text"},"ts":1493976367000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"1) Unexpected DOM shape might break scripts' expectations and 2) you don't want sites to detect privacy badger too easily","msgtype":"m.text"},"ts":1493976400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: https://github.com/w3c/web-platform-tests/blob/25c529dc883227d6417ab25cd167c135cba72541/encoding/iso-2022-jp-decoder.html wants an escape to ASCII at the start of the stream to be an error even though it doesn't want useless non-empty ASCII-to-ASCII transitions to be errors later","msgtype":"m.text"},"ts":1493977457000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: I take it that it's intentional that an initial transition to ASCII is no longer an error?","msgtype":"m.text"},"ts":1493977494000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I probably decided to simplify that","msgtype":"m.text"},"ts":1493977660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"You'd think it would be easier to find a halfwidth to fullwidth algorithm","msgtype":"m.text"},"ts":1493979401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And it's not as easy as just subtracting a number","msgtype":"m.text"},"ts":1493980068000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: I posted a fix now","msgtype":"m.text"},"ts":1493982686000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: https://github.com/whatwg/encoding/pull/103 is also still awaiting feedback from you","msgtype":"m.text"},"ts":1493983750000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: http://stackoverflow.com/a/43804340/123395 cheers!","msgtype":"m.text"},"ts":1493985407000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: superーcheers","msgtype":"m.text"},"ts":1493985492000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hi all, i know that initEvent(type, bubbles, cancelable) is a web standard (but redundant) as i see it on w3c. is new Event(type [, eventInitDict]) a web standard? it isn't supported by IE and i don't see it in the IDL Definition on w3c?","msgtype":"m.text"},"ts":1493986951000,"senderName":"mikeecb","senderId":"mikeecb@irc"},
{"content":{"body":"https://www.w3.org/TR/DOM-Level-2-Events/events.html","msgtype":"m.text"},"ts":1493986961000,"senderName":"mikeecb","senderId":"mikeecb@irc"},
{"content":{"body":"mikeecb: you want https://dom.spec.whatwg.org/","msgtype":"m.text"},"ts":1493986982000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: wait, what? iso-2022-jp encoder doesn't do just a Katakana by code point offset but other normalization, too?","msgtype":"m.text"},"ts":1493986989000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: i was looking at that too - how does whatwg that related to w3c?","msgtype":"m.text"},"ts":1493987013000,"senderName":"mikeecb","senderId":"mikeecb@irc"},
{"content":{"body":"i see \"new Event(type [, eventInitDict])\" on https://dom.spec.whatwg.org/ but not https://www.w3.org/TR/DOM-Level-2-Events/events.html","msgtype":"m.text"},"ts":1493987035000,"senderName":"mikeecb","senderId":"mikeecb@irc"},
{"content":{"body":"hsivonen: http://searchfox.org/mozilla-central/source/intl/icu/source/common/ucnv2022.cpp#1597 is an alternative way to implement NFKC for that range of code points","msgtype":"m.text"},"ts":1493987078000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: or did you mean something else?","msgtype":"m.text"},"ts":1493987088000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mikeecb: WHATWG is its own thing, that produces standards implemented by browsers and other software","msgtype":"m.text"},"ts":1493987123000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mikeecb: W3C sometimes copies our work, see https://wiki.whatwg.org/wiki/Fork_tracking","msgtype":"m.text"},"ts":1493987132000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: wow. I had thought half-width to full-width Katakana was a matter of subtracting a constant from code point value, but it's actually more complicated. Also the four punctuation marks.","msgtype":"m.text"},"ts":1493987200000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: yeah, that was the complaining from me earlier in this channel","msgtype":"m.text"},"ts":1493987238000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh. I missed that part earier","msgtype":"m.text"},"ts":1493987283000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"NFKC seems like the best solution since adding an extra table just creates more opportunities for bugs","msgtype":"m.text"},"ts":1493987326000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"goes back to adding unrelated ISO-2022-JP-only special-casing to encoding_rs","msgtype":"m.emote"},"ts":1493987353000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: thanks! - what does w3c do that whatwg doesn't? it sounds like browsers (not ie) use whatwg as a source-of-truth instead of w3c, can you confirm this","msgtype":"m.text"},"ts":1493987385000,"senderName":"mikeecb","senderId":"mikeecb@irc"},
{"content":{"body":"mikeecb: W3C publishes many more standards than https://spec.whatwg.org/ such as CSS and WebRTC","msgtype":"m.text"},"ts":1493987441000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mikeecb: Microsoft also uses WHATWG as a source-of-truth in my experience, but they won't publicly admit to this","msgtype":"m.text"},"ts":1493987466000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mikeecb: the W3C adds patent non-aggression commitments from Members","msgtype":"m.text"},"ts":1493987494000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"-> lunch","msgtype":"m.emote"},"ts":1493987520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks!","msgtype":"m.text"},"ts":1493987545000,"senderName":"mikeecb","senderId":"mikeecb@irc"},
{"content":{"body":"hsivonen: what's that? (in layman's)","msgtype":"m.text"},"ts":1493987581000,"senderName":"mikeecb","senderId":"mikeecb@irc"},
{"content":{"body":"(there may be more subtlety when it comes to being able to relatiate but) the Members who where in a WG at the time a spec got to REC, if they didn't explicitly say they don't let some of their patents to be practiced allow the implementations of the spec to practice their patents royalty-free","msgtype":"m.text"},"ts":1493987755000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"MikeSmith: if you could look into Travis for whatwg/encoding that'd be good","msgtype":"m.text"},"ts":1493987767000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"s/relatiate/retaliate/","msgtype":"m.text"},"ts":1493987771000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"MikeSmith: I think we basically need to check less or not use the \"curl\" version of the checker as it times out a lot","msgtype":"m.text"},"ts":1493987786000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1493987807000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I guess we need to move the checker to another server","msgtype":"m.text"},"ts":1493987821000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hsivonen: interesting, thanks!","msgtype":"m.text"},"ts":1493987865000,"senderName":"mikeecb","senderId":"mikeecb@irc"},
{"content":{"body":"annevk: my server has only 1GB of RAM and limited CPU so I think it may not be able to handle the load it is getting now from the checker","msgtype":"m.text"},"ts":1493987941000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyway I will look into what else we can do","msgtype":"m.text"},"ts":1493987970000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"could always go back to downloading vnu.jar and using that","msgtype":"m.text"},"ts":1493988004000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or fall back to that if times out","msgtype":"m.text"},"ts":1493988022000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: only validating the HTML resources that change would do a lot","msgtype":"m.text"},"ts":1493988935000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: anyway, the main problem I have right now is that it's unclear whether I can land things","msgtype":"m.text"},"ts":1493988979000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"in the case of the Encoding spec, I am not sure how do I determine which HTML resources have changed","msgtype":"m.text"},"ts":1493989018000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"because they’re not under version control, those files","msgtype":"m.text"},"ts":1493989034000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"they are just generated by the build, right?","msgtype":"m.text"},"ts":1493989044000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yeah, I guess you'd only validate those if the Python script is changed","msgtype":"m.text"},"ts":1493989067000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1493989076000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyway for now I guess I can just file it back to using the vnu.jar file to check","msgtype":"m.text"},"ts":1493989101000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that should be more reliable","msgtype":"m.text"},"ts":1493989149000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and maybe curl has some way to automatically retry a request","msgtype":"m.text"},"ts":1493989179000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I kinda thought it did","msgtype":"m.text"},"ts":1493989186000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if it times out","msgtype":"m.text"},"ts":1493989200000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I guess you mean I should just revert the last commit?","msgtype":"m.text"},"ts":1493989530000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, for now","msgtype":"m.text"},"ts":1493989544000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I can fix it right this weekend","msgtype":"m.text"},"ts":1493989564000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"would first like to get a patch written up for making multipage dfn actually work","msgtype":"m.text"},"ts":1493989660000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"kk","msgtype":"m.text"},"ts":1493989731000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"What was the resolution for a shorthand for the top/left/bottom/right properties? Was there one?","msgtype":"m.text"},"ts":1493991277000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Mek: wanderview I had an idea for Service Workers test structuring yesterday--wondering what you folks think","msgtype":"m.text"},"ts":1493998102000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"Would it be valid to call `registration.unregister` as part of the test set up logic?","msgtype":"m.text"},"ts":1493998117000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"Instead of jumping through hoops to defer that invocation until the test is complete?","msgtype":"m.text"},"ts":1493998130000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"Given that the current client won't actually unregister until unload, anyway","msgtype":"m.text"},"ts":1493998201000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"jugglinmike1: most of the tests do have an unregister_and_register call","msgtype":"m.text"},"ts":1493998242000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: yes, but I think they *also* need a final `unregister` call","msgtype":"m.text"},"ts":1493998345000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"jugglinmike1: I think its good practice to try to do a final unregister, yes","msgtype":"m.text"},"ts":1493998362000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"because otherwise a subsequent run will use an old version","msgtype":"m.text"},"ts":1493998365000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"Agreed. The reason I'm bugging you now, though, is that I'm wondering if we can change what we mean by \"a final unregister\"","msgtype":"m.text"},"ts":1493998413000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"basically, if instead of a structure like: (1) unregister_and_register, (2) test body, (3) unregister","msgtype":"m.text"},"ts":1493998455000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"we do","msgtype":"m.text"},"ts":1493998458000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"(1) unregister_and_register_and_unregister, (2) test body","msgtype":"m.text"},"ts":1493998471000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"as I understand it, that second version will guarantee that every test run has some associated service worker, and that that worker will be unregistered when unload occurs","msgtype":"m.text"},"ts":1493998559000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"in other words, it's not necessary to try to defer the call to `unregister` to the end of the test, because it doesn","msgtype":"m.text"},"ts":1493998586000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"jugglinmike1: I think that would be testing a weird state... and could have unexpected behavior if you transition a test state where there are no controlled clients (and some tests don't have any controlled clients)","msgtype":"m.text"},"ts":1493998602000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"t effect the current execution anyway","msgtype":"m.text"},"ts":1493998604000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"wanderview: What do you mean by \"transition a test state\"? Navigate to a distinct test? Or do something within the test that used unregister_and_register_and_unregister ?","msgtype":"m.text"},"ts":1493998876000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"jugglinmike1: I mean if you immediately unregister immediately, and there are no controleld clients, then the service worker will go away","msgtype":"m.text"},"ts":1493998942000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"jugglinmike1: and not all tests keep a controlled client throughout the test","msgtype":"m.text"},"ts":1493998950000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"oh, maybe I'm missing something about \"controlled clients\"","msgtype":"m.text"},"ts":1493999033000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"jugglinmike1: the test registering the service worker is not immediately a controlled client... you need to load a frame covered by the scope, etc","msgtype":"m.text"},"ts":1493999062000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"This non-normative note is difficult for me to interpret: \"It is important to note that the currently controlled service worker client's active service worker’s containing service worker registration is effective until all the service worker clients (including itself) using this service worker registration unload. \"","msgtype":"m.text"},"ts":1493999094000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"jugglinmike1: the spec defines \"using the the registration\" and it doesn't mean having a reference to the DOM ServiceWorkerRegsitration object... it means being controlled by the SW","msgtype":"m.text"},"ts":1493999143000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"ah, right. And to your point about iframes","msgtype":"m.text"},"ts":1493999167000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"that's a common pattern for tests--register, create an iframe, then do things within the iframe","msgtype":"m.text"},"ts":1493999185000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"and this cockemamy unregister_and_register_and_unregister would break that completely","msgtype":"m.text"},"ts":1493999209000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"okay, I'm satisfied. Thanks for walking me through that, wanderview","msgtype":"m.text"},"ts":1493999282000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"np","msgtype":"m.text"},"ts":1493999292000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"testing service workers is annoying :-\\","msgtype":"m.text"},"ts":1493999301000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Definitely! I am always looking for ways to make it less annoying","msgtype":"m.text"},"ts":1493999361000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"wanderview: to that end, you might have something to say about this: https://github.com/bocoup/web-platform-tests/commit/f6775c1991db37973b162d7698f04f2bf4eba80d","msgtype":"m.text"},"ts":1493999414000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"What I'm trying to do there is allow WPT to recognize files whose name match the pattern \"*.service-worker.js\"","msgtype":"m.text"},"ts":1493999447000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"and produce a corresponding document that will run that in a service worker","msgtype":"m.text"},"ts":1493999471000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"This could make some kinds of service worker tests easier to manage (fewer files), and would hopefully reduce the amount of duplicated (or worse, slightly-different) logic written","msgtype":"m.text"},"ts":1493999554000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"but it would also let us hook in to the current \"*.any.js\" convention (which currently produces tests that run in document scope and in a Dedicated Worker scope)","msgtype":"m.text"},"ts":1493999617000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"that last part was requested in November of last year: https://github.com/w3c/web-platform-tests/issues/4210","msgtype":"m.text"},"ts":1493999706000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"jugglinmike1: sorry, not sure I am familiar enough with WPT framework to really comment","msgtype":"m.text"},"ts":1493999792000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Understood. Probably should have asked before over-sharing like that :P","msgtype":"m.text"},"ts":1493999832000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"no, its fine","msgtype":"m.text"},"ts":1493999856000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"sorry, just in the middle of something so I can't look deeply","msgtype":"m.text"},"ts":1493999872000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"jugglinmike1: Whereas I don't know enough about service workers to comment :)","msgtype":"m.text"},"ts":1493999874000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"In that case, I'm the expert and everything I write should be merged without hesitatioin","msgtype":"m.text"},"ts":1493999916000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"Hehe.","msgtype":"m.text"},"ts":1494000028000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"But when you have a compelte patch I'm happy to try to learn enough about SW to review it (or at least ask someone who knows). I think the idea in principle is sound.","msgtype":"m.text"},"ts":1494000066000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"thanks!","msgtype":"m.text"},"ts":1494000172000,"senderName":"jugglinmike1","senderId":"jugglinmike1@irc"},
{"content":{"body":"Hello again. What was the (or was there a) resolution for a shorthand for the top/left/bottom/right properties?","msgtype":"m.text"},"ts":1494016522000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"}
]