[
{"content":{"body":"Hi there I have a question regarding serviceWorker","msgtype":"m.text"},"ts":1437624993000,"senderName":"matttiko2","senderId":"matttiko2@irc"},
{"content":{"body":"So I try navigator.serviceWorker.register('%2f') in Chrome and it gives this error message: \"Uncaught (in promise) DOMException: Failed to register a ServiceWorker: The provided scope or scriptURL includes a disallowed escape character.\"","msgtype":"m.text"},"ts":1437625051000,"senderName":"matttiko2","senderId":"matttiko2@irc"},
{"content":{"body":"Is it part of the spec?","msgtype":"m.text"},"ts":1437625064000,"senderName":"matttiko2","senderId":"matttiko2@irc"},
{"content":{"body":"matttiko2: not as far as I can see","msgtype":"m.text"},"ts":1437626082000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the single argument there to that register call is just a URL, right?","msgtype":"m.text"},"ts":1437626112000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and can be relative","msgtype":"m.text"},"ts":1437626120000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"looks at the latest SW editor's draft","msgtype":"m.emote"},"ts":1437626205000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: Yeah I tried absolute and relative URLs and both gave the same exception as long as it contains %2f or %5c","msgtype":"m.text"},"ts":1437626244000,"senderName":"matttiko2","senderId":"matttiko2@irc"},
{"content":{"body":"matttiko2: yeah that seems like a bug in Chrome then","msgtype":"m.text"},"ts":1437626393000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: Ah thanks!","msgtype":"m.text"},"ts":1437626419000,"senderName":"matttiko2","senderId":"matttiko2@irc"},
{"content":{"body":"but you probably want to ask JakeA about that that once he's around","msgtype":"m.text"},"ts":1437626422000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"sure","msgtype":"m.text"},"ts":1437626429000,"senderName":"matttiko2","senderId":"matttiko2@irc"},
{"content":{"body":"matttiko2: incidentally (unrelated to the handling of %2f), that URL arg is supposed to be an absolute URL, right?","msgtype":"m.text"},"ts":1437626471000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that's what https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#register-algorithm says at least","msgtype":"m.text"},"ts":1437626490000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"which makes sense I suppose","msgtype":"m.text"},"ts":1437626511000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: matttiko2: we agreed at a f2f yesterday that %2f should reject if it's in the path name","msgtype":"m.text"},"ts":1437626523000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: ah ok","msgtype":"m.text"},"ts":1437626537000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JakeA: but is there are requirement in the spec that states the constraint for taht?","msgtype":"m.text"},"ts":1437626564000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"This comes from the concessions we made over sites that treat \"directories\" as security boundaries","msgtype":"m.text"},"ts":1437626578000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1437626602000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"And that it turns out that %2f is treated as / in a lot of servers","msgtype":"m.text"},"ts":1437626607000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"It will become part of the spec","msgtype":"m.text"},"ts":1437626617000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1437626635000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Chrome made the change for security reasons, and unfortunately it makes sense","msgtype":"m.text"},"ts":1437626641000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Make sense","msgtype":"m.text"},"ts":1437626666000,"senderName":"matttiko2","senderId":"matttiko2@irc"},
{"content":{"body":"matttiko2: MikeSmith: see https://github.com/slightlyoff/ServiceWorker/issues/630","msgtype":"m.text"},"ts":1437626714000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I guess it makes sense, but I'd rather we'd be able to say to these sites \"you've made incorrect assumptions about how the platform works, so sorry\", but it makes sense to bend over backwards a bit for these sites","msgtype":"m.text"},"ts":1437626818000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Thanks, good to know the changes","msgtype":"m.text"},"ts":1437626961000,"senderName":"matttiko2","senderId":"matttiko2@irc"},
{"content":{"body":"peruses https://github.com/slightlyoff/ServiceWorker/issues/630","msgtype":"m.emote"},"ts":1437627231000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"heh, \"Thanks broken servers\"","msgtype":"m.text"},"ts":1437628001000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"we could say that about a lot of stuff","msgtype":"m.text"},"ts":1437628012000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"sadly","msgtype":"m.text"},"ts":1437628014000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will html template eventually have a declarative api? I'm very fond of react's way of creating dom elements, wish could do something similar natively. the polymer project already offers a declarative sugar like https://github.com/Polymer/TemplateBinding, is there any interest in going that direction?","msgtype":"m.text"},"ts":1437628261000,"senderName":"hgl","senderId":"hgl@irc"},
{"content":{"body":"botie, inform annevk, given https://lists.w3.org/Archives/Public/public-webappsec/2015Jul/0155.html (\"We'd like to encourage them to move to SSL for the player page... however many are unlikely to do if it means moving the video CDN to HTTPS\"), I'm wondering what you think of the proposal from Ryan Sleevi at https://lists.w3.org/Archives/Public/public-webappsec/2015Feb/0371.html (which I don't think you","msgtype":"m.text"},"ts":1437628831000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will do","msgtype":"m.text"},"ts":1437628832000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"ever weighed in on yet). Also wondering what hsivonen thinks of it.","msgtype":"m.text"},"ts":1437628837000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Domenic: ?","msgtype":"m.text"},"ts":1437632077000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"Bikeshed generation error: https://drafts.csswg.org/css-device-adapt/#viewport-meta","msgtype":"m.text"},"ts":1437638102000,"senderName":"boogyman","senderId":"boogyman@irc"},
{"content":{"body":"matttiko2: I take it you encountered the %2f issue? Were you doing something legitimate or trying to break it?","msgtype":"m.text"},"ts":1437660801000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"What do you call a collection of request contexts if you want to avoid \"group\" and \"type\"?","msgtype":"m.text"},"ts":1437669445000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"request.context == \"hyperlink\" && request.contextSet == \"navigation\"?","msgtype":"m.text"},"ts":1437669533000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"set sounds good","msgtype":"m.text"},"ts":1437669948000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"This is for a higher level grouping of context values?","msgtype":"m.text"},"ts":1437669981000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"\"category\" comes to mind","msgtype":"m.text"},"ts":1437670012000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"(or \"flavour\" - with the U of course - if you want to curse future generations of tech writers and non-English speakers)","msgtype":"m.text"},"ts":1437670094000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: yeah","msgtype":"m.text"},"ts":1437673291000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If contextSet sounds good I guess I'll go with that since it's short","msgtype":"m.text"},"ts":1437673307000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And cannot be confused with context frame type or fetch group","msgtype":"m.text"},"ts":1437673319000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: was your comment here about the navigator.connect() thing (which may not be as relevent now)? https://github.com/slightlyoff/ServiceWorker/issues/669#issuecomment-120247820","msgtype":"m.text"},"ts":1437676510000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1437676533000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, I will reply in the issue we don't have any problems with the current spec","msgtype":"m.text"},"ts":1437676588000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I kind of would expect contextSet to be a set, not a string","msgtype":"m.text"},"ts":1437676727000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but i have no better ideas","msgtype":"m.text"},"ts":1437676734000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: I guess we couldn't use \"environment\" either?","msgtype":"m.text"},"ts":1437676950000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: yeah...","msgtype":"m.text"},"ts":1437676976000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what's a collection of strings... a spindle?","msgtype":"m.text"},"ts":1437676989000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"loom","msgtype":"m.text"},"ts":1437676998000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"context / subcontext","msgtype":"m.text"},"ts":1437677022000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: that works if we didn't have context already","msgtype":"m.text"},"ts":1437678203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I posted in the issue... I think I would have preferred boolean getters like if(req.navigation)","msgtype":"m.text"},"ts":1437678230000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"req.navigation and then maybe later req.worker and/or req.resource?","msgtype":"m.text"},"ts":1437678300000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"maybe that's okay","msgtype":"m.text"},"ts":1437678304000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess it was really navigation that was the annoying one, right?","msgtype":"m.text"},"ts":1437678314000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: would isNavigation be too bad?","msgtype":"m.text"},"ts":1437678382000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: works for me... I don't know what the web platform naming police would say","msgtype":"m.text"},"ts":1437678407000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: so yeah, context being an object... it seems overkill though somewhat neater","msgtype":"m.text"},"ts":1437678440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I don't think object is really practical without changes to webidl to let us define unique objects that can be ==='d","msgtype":"m.text"},"ts":1437678530000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":".isNavigation works for me","msgtype":"m.text"},"ts":1437678553000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: can you review https://critic.hoppipolla.co.uk/r/5620 (not urgent)","msgtype":"m.text"},"ts":1437678707000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: sure... may not happen till tomorrow","msgtype":"m.text"},"ts":1437678776000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: np, thx!","msgtype":"m.text"},"ts":1437678786000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"apparently my body disagrees with red eye flights","msgtype":"m.text"},"ts":1437678789000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I hope they have some decent new movies on the flight tonight","msgtype":"m.text"},"ts":1437682809000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That's mostly been my first world problem with flying lately... the movie selection","msgtype":"m.text"},"ts":1437682833000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess I have varying amounts of jet lag too... Pretty bad after Whistler","msgtype":"m.text"},"ts":1437682864000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I try to download movies to my ipad... not rely on the plane entertainment","msgtype":"m.text"},"ts":1437683029000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"for long international flights, though, you kind of have to","msgtype":"m.text"},"ts":1437683049000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"it seemed a lot of people were watching the new Avengers on my flight","msgtype":"m.text"},"ts":1437683067000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Back in my day, they had just the one movie, and you could barely see it","msgtype":"m.text"},"ts":1437683370000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"jsbell: is there a reason not to compare bodies in that critic PR?","msgtype":"m.text"},"ts":1437684290000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"other than the helpers would have to do a lot of cloning I guess","msgtype":"m.text"},"ts":1437684303000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: right, wouldn't be synchronous, and I didn't want to restructure the tests","msgtype":"m.text"},"ts":1437684333000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"oh... that too","msgtype":"m.text"},"ts":1437684341000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1437684342000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"jsbell: we don't implement [iterable] on Headers yet, but I think it should just be a noop in those helper functions","msgtype":"m.text"},"ts":1437684374000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"anyway, I'll finish looking at it tomorrow... I don't trust myself in my current condition","msgtype":"m.text"},"ts":1437684421000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: the previous version didn't compare headers entries, so that's one bit of extra fanciness I added.","msgtype":"m.text"},"ts":1437684426000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"wanderview: thanks!","msgtype":"m.text"},"ts":1437684428000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"Ms2ger: you mean back when you were born?","msgtype":"m.text"},"ts":1437685503000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: you around? https://github.com/whatwg/fetch/issues/73","msgtype":"m.text"},"ts":1437687684000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Almost no change to Fetch is ever trivial","msgtype":"m.text"},"ts":1437689153000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So... A document invokes fetch() and passes a body. A service worker gets that request and passes it to fetch(). Can both the document and the service worker observe the stream being read from for the purpose of progress events?","msgtype":"m.text"},"ts":1437690401000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: ^","msgtype":"m.text"},"ts":1437690413000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If document -> service worker involves a transfer of the stream, document will never observe it being read from as far as I can tell...","msgtype":"m.text"},"ts":1437690478000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I added a comment to https://github.com/whatwg/fetch/issues/87 if someone wants to have a go at answering that question","msgtype":"m.text"},"ts":1437690965000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"o_O focusing happens before clicking","msgtype":"m.text"},"ts":1437691479000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<p>test<input onblur=w(1) onfocus=w(this.parentNode)  onclick=this.parentNode.remove()></p>","msgtype":"m.text"},"ts":1437691491000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But blur never triggers in Gecko","msgtype":"m.text"},"ts":1437691515000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hi","msgtype":"m.text"},"ts":1437694927000,"senderName":"ek_","senderId":"ek_@irc"},
{"content":{"body":"anyone there","msgtype":"m.text"},"ts":1437694938000,"senderName":"ek_","senderId":"ek_@irc"}
]