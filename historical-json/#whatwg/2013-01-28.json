[
{"content":{"body":"only just noticed that all the technical debate about EME is going to public-html-admin. Which is pretty funny. And shows that I'm a bit slow to notice things.","msgtype":"m.emote"},"ts":1359364409000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hey. Is there a chance to achieve the same effect (hw accel.) in Firefox that we do with -webkit-transform: translateZ(0);?","msgtype":"m.text"},"ts":1359365343000,"senderName":"sedovsek","senderId":"sedovsek@irc"},
{"content":{"body":"aargh. I forgot the DOM interface for <main>. good catch by smaug","msgtype":"m.text"},"ts":1359369290000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: your tests didn't catch that?","msgtype":"m.text"},"ts":1359369801000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I'm bad at writing them, apparently. this is why there should be a different QA person writing the tests","msgtype":"m.text"},"ts":1359369834000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I sort of imagine that the way that EPUB will handle compat-breaking changes is to offer multiple variations for download during transitional periods. Presumably the half-life of readers isn't going to be super-long so that seems sort of viable. I might be wrong though.","msgtype":"m.text"},"ts":1359376304000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I think what's fundamentally broken with EPUB to begin with is that I'm required to download and install something called a \"Reading System\" just to be able to read a book that's essentially just HTML and CSS","msgtype":"m.text"},"ts":1359376673000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"But at least it's polyglot","msgtype":"m.text"},"ts":1359376727000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"or actually I need to download and install multiple such Reading System applications, one for each vendor I buy books from","msgtype":"m.text"},"ts":1359376739000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"reads dead tree books instead","msgtype":"m.emote"},"ts":1359376764000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"the size of my apartment I have no room for any more dead-tree books than the ones I already have","msgtype":"m.text"},"ts":1359376802000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the things I've learned from Henri have just left me thinking that there's little hope of fixing the problems with ebooks","msgtype":"m.text"},"ts":1359377075000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the current user experience around ebook reading is appallingly bad and I seems really unlikely to change much any time soon","msgtype":"m.text"},"ts":1359377151000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"jgraham: So you expect users to know what version of EPUB the embedded software on their device supports?","msgtype":"m.text"},"ts":1359380554000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: it would be easier to rebrand the incompatible new EPUB to something other than EPUB then","msgtype":"m.text"},"ts":1359380578000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: you know, unlike you and me, normal people don't load a bunch of test cases to figure out what the thing they have bought *actually* is capable of doing","msgtype":"m.text"},"ts":1359380621000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(as you might infer from my emails, I have loaded some test cases)","msgtype":"m.text"},"ts":1359380681000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"regarding http://lists.w3.org/Archives/Public/www-style/2013Jan/0517.html : Have I misunderstood how Vary and ETag work in HTTP caching?","msgtype":"m.text"},"ts":1359380785000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"MikeSmith: note that there are devices with Reading Systems on them and you don’t get to download and install new ones","msgtype":"m.text"},"ts":1359380856000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"MikeSmith: except as part of an updated system image your vendor might be kind enough to give you","msgtype":"m.text"},"ts":1359380878000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: yeah I was just going to say that I guess I hadn't thought about those devices enough","msgtype":"m.text"},"ts":1359380896000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and people hang on to those for a long time","msgtype":"m.text"},"ts":1359380919000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I still see a lot of older Kindles around","msgtype":"m.text"},"ts":1359380937000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I got one for Christmas. It has 2 EPUB engines. The Adobe one does not support EPUB3.","msgtype":"m.text"},"ts":1359380943000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"MikeSmith: I haven't yet proceeded far enough in my testing to be able to tell if I can load my own content into the other engine to diagnose if it supports EPUB3","msgtype":"m.text"},"ts":1359380977000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":" why2 engines as atll?","msgtype":"m.text"},"ts":1359381001000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"*at all?","msgtype":"m.text"},"ts":1359381009000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: two different DRM systems","msgtype":"m.text"},"ts":1359381022000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah yeah","msgtype":"m.text"},"ts":1359381029000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: also, I think Kobo wants to be able to do stuff in their engine without being limited by what Adobe is willing to sell them","msgtype":"m.text"},"ts":1359381062000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but AFAICT, there's no way for the user to push a standard EPUB file onto the Kobo engine","msgtype":"m.text"},"ts":1359381082000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wonderful","msgtype":"m.text"},"ts":1359381099000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I suspect there is a way to push an non-standard EPUB-like file onto it, but I haven't tested that hypothesis","msgtype":"m.text"},"ts":1359381104000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'd prefer Kobo to catch up with the features of the Adobe engine before implementing some more","msgtype":"m.text"},"ts":1359381144000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it really irks me that the Kobo engine doesn't do ligatures or English hyphenation","msgtype":"m.text"},"ts":1359381184000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"my main complaints about the Adobe engine are that it doesn't support OpenType kerning or Finnish hyphenation","msgtype":"m.text"},"ts":1359381209000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"also, it's too shy to hyphenate English","msgtype":"m.text"},"ts":1359381221000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that is, the hyphenation threshold does not match my preferences","msgtype":"m.text"},"ts":1359381238000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"better than not doing hyphenation at all I guess","msgtype":"m.text"},"ts":1359381263000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I wonder why the Kobo engine doesn't do ligatures or English hyphenation","msgtype":"m.text"},"ts":1359381266000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"are both of the engines on your device based on browser engines?","msgtype":"m.text"},"ts":1359381293000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I believe the Kobo thing is based on WebKit. Probably QtWebKit.","msgtype":"m.text"},"ts":1359381318000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm pretty sure the Adobe thing is an independent impl of CSS","msgtype":"m.text"},"ts":1359381330000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1359381336000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the Adobe folks at TPAC couldn't confirm :-(","msgtype":"m.text"},"ts":1359381357000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"btw my perspective on this is biased I guess by the fact that I mostly just read books on my Android smartphone","msgtype":"m.text"},"ts":1359381383000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I used to read at lot on my iPad2 but I quit because it was a chore to carry around and actually was causing my pain in my hands because of the way you have to hold it to read","msgtype":"m.text"},"ts":1359381461000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"whereas I have at least one smartphone with me all the time and holding it and using it are a lot more natural","msgtype":"m.text"},"ts":1359381555000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"10\" tablet for reading books: bad","msgtype":"m.text"},"ts":1359381819000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"smaller, lighter, less reflective screen, optional front lighting FTW","msgtype":"m.text"},"ts":1359381851000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I should get around to writing a review of this thing, but I probably won't","msgtype":"m.text"},"ts":1359381895000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"blog posts get long. too long to be finished","msgtype":"m.text"},"ts":1359381913000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1359381919000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1359381920000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I have it written in my head, but the bandwidth of braindumping is bad","msgtype":"m.text"},"ts":1359381947000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"kinda like coding","msgtype":"m.text"},"ts":1359382024000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"totally. I also have an EPUB creation tool designed in my head","msgtype":"m.text"},"ts":1359382080000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"enjoy that ability at least","msgtype":"m.text"},"ts":1359382240000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think as you get older it gets harder to design stuff in your head","msgtype":"m.text"},"ts":1359382274000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hsivonen, does it do polyglot?","msgtype":"m.text"},"ts":1359382980000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"runs","msgtype":"m.emote"},"ts":1359382982000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: HTML to XHTML conversion without bothering with any polyglot guarantees","msgtype":"m.text"},"ts":1359383093000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"so. regarding the www-style thread. I reread the relevant parts of RFC 2616 and I still think I've understood HTTP caching correctly. What I am missing or am I misunderstanding what Ilya says?","msgtype":"m.text"},"ts":1359383404000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: are you paying attention to the www-style thread? It's relevant to srcset in the sense that it proposes a competing mechanism.","msgtype":"m.text"},"ts":1359383495000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I have happily ignored the thread, but maybe the IETF is missing the point","msgtype":"m.text"},"ts":1359383505000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"*insert ietf joke here*","msgtype":"m.text"},"ts":1359383960000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(also, isn't HTTP caching an odd topic for www-style? heh)","msgtype":"m.text"},"ts":1359383996000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Hi, I was going through the IndexedDB specification, I tried to find what the intended behaviour is if \"onversionchange\" of the database object is set to null ? From firefox's behaviour, it seems it will just act like it returned success, but the specification itself does not say anything file:///home/kamathln/Documents/Indexed%20Database%20API.html#widl-IDBDatabase-onversionchange","msgtype":"m.text"},"ts":1359385441000,"senderName":"kamathln","senderId":"kamathln@irc"},
{"content":{"body":"is there anything I missed?","msgtype":"m.text"},"ts":1359385445000,"senderName":"kamathln","senderId":"kamathln@irc"},
{"content":{"body":"Its my first time reading specifications like this, so I wish someone could handhold me for the same","msgtype":"m.text"},"ts":1359385610000,"senderName":"kamathln","senderId":"kamathln@irc"},
{"content":{"body":"zewt: well, the HTTP-based proposal that is claimed to be cache-friendly (which I don't buy) is trying to work around the way Media Queries behave","msgtype":"m.text"},"ts":1359385673000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zewt: so if MQs behaved a bit differently, perhaps we could avoid this HTTP-based workaround","msgtype":"m.text"},"ts":1359385693000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zewt: not only am I skeptical about Client-Hints' cache-friendliness in general, but I'm particularly skeptical relative to MQ-based solutions if MQs are adjusted a little","msgtype":"m.text"},"ts":1359385784000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"cool. now there can be a showdown between the old TAG and the 4 horsemen about how much the TAG should care about closed systems","msgtype":"m.text"},"ts":1359385850000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Does anyone with a popular site (but not as popular as Google)","msgtype":"m.text"},"ts":1359388173000,"senderName":"Velmont","senderId":"Velmont@irc"},
{"content":{"body":"actually want to rescale images on the fly (as opposed to letting","msgtype":"m.text"},"ts":1359388174000,"senderName":"Velmont","senderId":"Velmont@irc"},
{"content":{"body":"Opera do it for them)?","msgtype":"m.text"},"ts":1359388174000,"senderName":"Velmont","senderId":"Velmont@irc"},
{"content":{"body":"hsivonen: lol, - didn't have your own browser to use as an example? :P","msgtype":"m.text"},"ts":1359388187000,"senderName":"Velmont","senderId":"Velmont@irc"},
{"content":{"body":"Velmont: Firefox doesn’t have Turbo/Mini server-side image optimization","msgtype":"m.text"},"ts":1359388624000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Ah... It was meant like that. :-)","msgtype":"m.text"},"ts":1359388898000,"senderName":"Velmont","senderId":"Velmont@irc"},
{"content":{"body":"good morning, Whatwg!","msgtype":"m.text"},"ts":1359392500000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"dglazkov: or good afternoon or evening depending on where you are!","msgtype":"m.text"},"ts":1359392962000,"senderName":"yroc","senderId":"yroc@irc"},
{"content":{"body":"hsivonen: not familiar with the problem, but is it of the \"fetching resources over and over\" variety?","msgtype":"m.text"},"ts":1359393509000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"firefox is weird with subpixel widths","msgtype":"m.text"},"ts":1359393582000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"http://zewt.org/~glenn/firefox-wrapping.html chrome always sizes the box to the size of the contents; firefox makes it a pixel smaller (when the fractional part of the width is less than .5), causing the spans to be wrapped","msgtype":"m.text"},"ts":1359393638000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"i guess the span wrapping happens when the width would be greater than the truncated width, instead of the rounded width that it'll actually use","msgtype":"m.text"},"ts":1359393740000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"or ... no, but something like that","msgtype":"m.text"},"ts":1359393769000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"looks like it's one of those bugs that someone went \"yeah let's just leave it\" 5 years ago and left the whole world to get headaches because of their horrible bugs","msgtype":"m.text"},"ts":1359394167000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"thanks firefox","msgtype":"m.text"},"ts":1359394176000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"Yw","msgtype":"m.text"},"ts":1359394221000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"awesome, someone putting \"bug\" in scare quotes, as if it isn't obviously a bug","msgtype":"m.text"},"ts":1359394387000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"hi folks, please reply to my query above even if I seem offline, I internet is flaky and I keep checking the logs to know if anyone has replied anyway","msgtype":"m.text"},"ts":1359395190000,"senderName":"kamathln","senderId":"kamathln@irc"},
{"content":{"body":"kamathln: you might consider sending that question to the public-webapps⊙wo mailing list which is the main place where the IndexedDB spec is discussed","msgtype":"m.text"},"ts":1359395349000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thnaks","msgtype":"m.text"},"ts":1359395462000,"senderName":"kamathln","senderId":"kamathln@irc"},
{"content":{"body":"\\quit","msgtype":"m.text"},"ts":1359395610000,"senderName":"yroc","senderId":"yroc@irc"},
{"content":{"body":"Am I the only one around here who thinks it's a bad idea to hardcode path names into build files? https://bugs.webkit.org/show_bug.cgi?id=108089","msgtype":"m.text"},"ts":1359395808000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"trololol: http://lists.w3.org/Archives/Public/public-html/2013Jan/0202.html","msgtype":"m.text"},"ts":1359396157000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wonders who got the idea there was a torch that needed carrying","msgtype":"m.emote"},"ts":1359396246000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hsivonen: think about how much different things would be if similar to that Jack guy he was offering a $10 bounty for somebody to implement polyglot support in the validator","msgtype":"m.text"},"ts":1359396304000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hsivonen: I was sort of imagining that a backwards-incompatible change in EPUB would be handled by device detection in whatever marketplace people are using to get their books, or by listing popular devices that consume each format on Project Gutenburg","msgtype":"m.text"},"ts":1359397552000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Possibly that would still be a terrible UX, but not more terrible than the fact that EPUB doesn't work on kindles at all","msgtype":"m.text"},"ts":1359397587000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"From a consumer POV, I wonder whether it'd be better just to call it something else.","msgtype":"m.text"},"ts":1359397649000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Do consumers actually know \"epub\"?","msgtype":"m.text"},"ts":1359397670000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(I expect backwards incompatible changes would happen the way they do elsewhere: very, very slowly)","msgtype":"m.text"},"ts":1359397699000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Depends on what services they buy from.","msgtype":"m.text"},"ts":1359397701000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"If from Amazon or B&N, likely not.","msgtype":"m.text"},"ts":1359397707000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Smaller sellers often advertise and offer ePubs directly.","msgtype":"m.text"},"ts":1359397718000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Google Play explicitly has \"EPUB\" and \"PDF\" downloads for eReaders.","msgtype":"m.text"},"ts":1359397734000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hsivonen: i will look out for it","msgtype":"m.text"},"ts":1359399602000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: what subject?","msgtype":"m.text"},"ts":1359400964000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: http://lists.w3.org/Archives/Public/www-style/2013Jan/0434.html","msgtype":"m.text"},"ts":1359401074000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i don't understand, how does this affect srcset?","msgtype":"m.text"},"ts":1359401395000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"srcset already doesn't download pictures that aren't relevant","msgtype":"m.text"},"ts":1359401405000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: on an unrelated note, do you know what they're referring to in https://www.w3.org/Bugs/Public/show_bug.cgi?id=19590 ? i can't work out how you'd get an infinite loop","msgtype":"m.text"},"ts":1359401640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"TabAtkins: I don’t understand the part about \"url() tokenization rules when writing variables\"","msgtype":"m.text"},"ts":1359401892000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"It should probably be valid to do things like \"var-special-js-thing: url(\"example.com\" more-stuff-here);\", if it's meant to be interpreted by JS.","msgtype":"m.text"},"ts":1359402701000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But that's a bad-url token.","msgtype":"m.text"},"ts":1359402714000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Hm, though, I don't keep any details of what the token is, though.","msgtype":"m.text"},"ts":1359402733000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"So nevermind, I guess.","msgtype":"m.text"},"ts":1359402738000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: is a serializer supposed to round-trip bad-url?","msgtype":"m.text"},"ts":1359402987000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"SimonSapin: Given that it'll drop the declaration or block containing it in every other circumstance, obviously not.","msgtype":"m.text"},"ts":1359403018000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I’ve had requests to preserve invalid declarations such as `*width: 100px` in tinycss for a minifier","msgtype":"m.text"},"ts":1359403111000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"Ah yeah, that's possible.  If you just skip the grammar-checking step, it wont' drop anything.","msgtype":"m.text"},"ts":1359403147000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"But still, bad-url tokens don't have contents (neither do bad-strings), so they won't roundtrip - you can't serialize them as anything.","msgtype":"m.text"},"ts":1359403173000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"btw, when you say a declaration is \"grammatically valid\", is that for a given property?","msgtype":"m.text"},"ts":1359403221000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"is `color: 4px` grammatically valid?","msgtype":"m.text"},"ts":1359403236000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"Depends on what level we're talking about.  Some grammar violations are caught by the parser, like \"*width:100px\".  Most are caught by the grammar-checking step, which is property-specific.","msgtype":"m.text"},"ts":1359403285000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"\"If the current declaration     is grammatically valid, append it to the value of the current rule.\"","msgtype":"m.text"},"ts":1359403303000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"(There's a line in the spec when you append a valid declaration about this, and another for when you pop a rule.\"","msgtype":"m.text"},"ts":1359403305000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"that’s a property-specific check, right?","msgtype":"m.text"},"ts":1359403309000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"Yes.","msgtype":"m.text"},"ts":1359403312000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I skip that in tinycss and leave it to the caller to filter (or not)","msgtype":"m.text"},"ts":1359403348000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"Yes, that's acceptable.  Officially, the full \"CSS parser\" is the combination of tinycss and the caller's filter.","msgtype":"m.text"},"ts":1359403372000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"but `*width: 100px` is not even a declaration so preserving it for minifiers is not obvious","msgtype":"m.text"},"ts":1359403432000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"it might even be a non-goal in rust-cssparser if I want servo to use it eventually","msgtype":"m.text"},"ts":1359403454000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"It's a non-goal in the current Syntax spec, as that declaration would be thrown away early as a syntax error (switching over to next-declaration error state).","msgtype":"m.text"},"ts":1359403503000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1359403513000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"the spec probably doesn’t need to care about this, but a tokenizer also needs to track source line numbers if good error reporting is desired","msgtype":"m.text"},"ts":1359403595000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"(Which is now present in my cssparser, thanks to a nice patch.)","msgtype":"m.text"},"ts":1359403626000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"(By espadrine, iirc.)","msgtype":"m.text"},"ts":1359403634000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"nice","msgtype":"m.text"},"ts":1359403677000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"doesn’t reconsume() need to check for newline too?","msgtype":"m.text"},"ts":1359403801000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"hi everybody","msgtype":"m.text"},"ts":1359403915000,"senderName":"Mike_2","senderId":"Mike_2@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/public-webapps/2013JanMar/0165.html","msgtype":"m.text"},"ts":1359404269000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"SimonSapin: I thought about it, but I believe the first consume() already incremented the line number, didn't it?","msgtype":"m.text"},"ts":1359404274000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"espadrine: yes, but won’t it increment again for the same newline on the next call?","msgtype":"m.text"},"ts":1359404309000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"let’s write a test case :)","msgtype":"m.text"},"ts":1359404338000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":":) good habit","msgtype":"m.text"},"ts":1359404347000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"I see none has touched https://github.com/tabatkins/css-parser/blob/master/tests.js after me :p","msgtype":"m.text"},"ts":1359404376000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"no I’m exaggerating, Tab has a commit","msgtype":"m.text"},"ts":1359404419000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"my test framework sucks","msgtype":"m.text"},"ts":1359404835000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"it can’t represent token’s line/column numbers","msgtype":"m.text"},"ts":1359404861000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"espadrine: how do you extract/use these location information from a parsed stylesheet?","msgtype":"m.text"},"ts":1359404964000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"SimonSapin: I just found a case where you do need to reset the line number","msgtype":"m.text"},"ts":1359404975000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"but it's a parse error","msgtype":"m.text"},"ts":1359404979000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"foo {bar:\"foo\\nbar\"}","msgtype":"m.text"},"ts":1359404992000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"(the \\n being an actual newline character)","msgtype":"m.text"},"ts":1359405007000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"espadrine: but escaped newline are valid in quoted strings","msgtype":"m.text"},"ts":1359405040000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"those don't trigger reconsume()","msgtype":"m.text"},"ts":1359405096000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"it needs to be a parser error","msgtype":"m.text"},"ts":1359405108000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"that's probably why I didn't think to add that case","msgtype":"m.text"},"ts":1359405116000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"SimonSapin: I just went through all uses of reconsume() in the tokenizer, that's the only possibility where the line number can go wrong","msgtype":"m.text"},"ts":1359405301000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1359405321000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"I gave up on the test case. I’d basically need another test framework","msgtype":"m.text"},"ts":1359405346000,"senderName":"SimonSapin","senderId":"SimonSapin@irc"},
{"content":{"body":"too bad","msgtype":"m.text"},"ts":1359405390000,"senderName":"espadrine","senderId":"espadrine@irc"},
{"content":{"body":"Hixie: very low-priority ping re: rendering","msgtype":"m.text"},"ts":1359415006000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"a-ja: pong","msgtype":"m.text"},"ts":1359415725000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"a nit","msgtype":"m.text"},"ts":1359415737000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"the implementation status popup thing next to sections-and-headings has wrong links in it","msgtype":"m.text"},"ts":1359415792000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"woah","msgtype":"m.text"},"ts":1359415821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh, i see","msgtype":"m.text"},"ts":1359415830000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's just that sections-and-headings doesn't have one","msgtype":"m.text"},"ts":1359415836000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if you want one for sections-and-headings, just alt-double-click there","msgtype":"m.text"},"ts":1359415852000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and it'll create one","msgtype":"m.text"},"ts":1359415855000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"?  i see links to following section","msgtype":"m.text"},"ts":1359415861000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"how do you mean?","msgtype":"m.text"},"ts":1359415965000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"shows link to #quotes and the edit link point to quotes, too","msgtype":"m.text"},"ts":1359416043000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"yes, #quotes is the previous section","msgtype":"m.text"},"ts":1359416116000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there's always a box at the top-left, it is the box for the most recent section to have one","msgtype":"m.text"},"ts":1359416155000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yep...preview, not following.","msgtype":"m.text"},"ts":1359416171000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1359416173000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"h1 ~ h2 thru h5 looks better now.....though awfully damned verbose when coding for -webkit-any, -moz-any, and :matches :/","msgtype":"m.text"},"ts":1359416322000,"senderName":"a-ja","senderId":"a-ja@irc"},
{"content":{"body":"a-ja: yeah","msgtype":"m.text"},"ts":1359416515000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"can anyone work out why http://www.hixie.ch/tests/adhoc/dom/workers/shared/001.html fails in webkit?","msgtype":"m.text"},"ts":1359417266000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"works in opera...","msgtype":"m.text"},"ts":1359417274000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if the Web Inspector is to be trusted 001.js never gets loaded","msgtype":"m.text"},"ts":1359417461000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"gets loaded for me (safari and chrome) according to web inspector","msgtype":"m.text"},"ts":1359417546000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i can't work out how to debug a worker","msgtype":"m.text"},"ts":1359417558000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh maybe event.source isn't implemented in webkit...","msgtype":"m.text"},"ts":1359417596000,"senderName":"Hixie","senderId":"Hixie@irc"}
]