[
{"content":{"body":"Domenic: is the streams reference implementation in npm anywhere?  I'm thinking about converting some of my old stream modules to the new spec as an experiment","msgtype":"m.text"},"ts":1427335677000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I see some whatwg-stream stuff in npm... but it seems old","msgtype":"m.text"},"ts":1427335699000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I guess maybe this one is what I want... but only updated once it appears... a month ago:  https://github.com/h13i32maru/eo.whatwg-streams","msgtype":"m.text"},"ts":1427335820000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"\"To be invited, just send an email or ask us on IRC\" can i take anyone up on this offer? :)","msgtype":"m.text"},"ts":1427340907000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"is 'frewsxcv' on github if so","msgtype":"m.emote"},"ts":1427340953000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"hang around for a few hours, someone will probably wake up or come back from a night of drinking soon","msgtype":"m.text"},"ts":1427341590000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"a room full of users who write standards drinking on a wednesday night. i think i'm going to like it in here","msgtype":"m.text"},"ts":1427341724000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"if you're going to write standards, what better way to do it","msgtype":"m.text"},"ts":1427341893000,"senderName":"caitp-","senderId":"caitp-@irc"},
{"content":{"body":"roc: ah thanks!","msgtype":"m.text"},"ts":1427349826000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I knew there was someone","msgtype":"m.text"},"ts":1427349832000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: yeah I don't think I've published. File a bug and I'll do so as soon as I get some free time (either today if TC39 ratholes on something boring, or Monday)","msgtype":"m.text"},"ts":1427350961000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"frewsxcv: invited to what?","msgtype":"m.text"},"ts":1427351645000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is missing context","msgtype":"m.emote"},"ts":1427351648000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: whatwg github","msgtype":"m.text"},"ts":1427357482000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I did the invite thing for frewsxcv after he inquired here earlier","msgtype":"m.text"},"ts":1427357526000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or at least I think I did","msgtype":"m.text"},"ts":1427357533000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I pushed some button","msgtype":"m.text"},"ts":1427357536000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I'm not sure we should just give anyone access there though","msgtype":"m.text"},"ts":1427358977000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I checked and frewsxcv seems to be working on rust","msgtype":"m.text"},"ts":1427359007000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and otherwise seems clueful","msgtype":"m.text"},"ts":1427359026000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1427359033000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and also I didn't add him to any teams because I don't know what he's interested in helping with","msgtype":"m.text"},"ts":1427359053000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Oh I see, I thought it was about Owners","msgtype":"m.text"},"ts":1427359112000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1427359171000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah I wouldn't add anybody to Owners","msgtype":"m.text"},"ts":1427359182000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"actually frewsxcv also seems to be contributing to servo too https://github.com/frewsxcv?tab=activity","msgtype":"m.text"},"ts":1427359214000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"cool cool","msgtype":"m.text"},"ts":1427359751000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: I created https://github.com/whatwg/fetch/issues/27 for all aborting a fetch stuff to come together","msgtype":"m.text"},"ts":1427360980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: ^^","msgtype":"m.text"},"ts":1427361407000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1427361414000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: cool to see XML5 implemented","msgtype":"m.text"},"ts":1427361487000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: cheers, going through it now. Probably the highest priority thing we have","msgtype":"m.text"},"ts":1427362246000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"MikeSmith: why is the saxtree subtree of the htmlparser hg repo imported into a git repo of its own under github.com/validator?","msgtype":"m.text"},"ts":1427362507000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: fetch(url, controller(c => c.abort())) should be fetch(url, {controller(c) { c.abort() }}) I think","msgtype":"m.text"},"ts":1427362753000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"hsivonen: oh I thought I had removed that","msgtype":"m.text"},"ts":1427362767000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hsivonen: was experimenting","msgtype":"m.text"},"ts":1427362782000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will delete it now","msgtype":"m.text"},"ts":1427362791000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: or fetch(url, {controller: c => c.abort()});","msgtype":"m.text"},"ts":1427362818000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"MikeSmith: I see","msgtype":"m.text"},"ts":1427363167000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"JakeA: I like that last one, will correct, thanks","msgtype":"m.text"},"ts":1427363628000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: the SNI patch has now been deployed on validator.nu. Thank you.","msgtype":"m.text"},"ts":1427363670000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(Still running old Java without new TLS)","msgtype":"m.text"},"ts":1427363678000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah cool!","msgtype":"m.text"},"ts":1427363686000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JakeA: done","msgtype":"m.text"},"ts":1427363696000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I still have a hard time believing that Ubuntu 14.04 doesn't have OpenJDK 8 in backports","msgtype":"m.text"},"ts":1427363748000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: the Apache HTTP Commons docs are inscrutable. If it weren't for stackoverflow I don't think I ever would have figured out how to migrate to the new API","msgtype":"m.text"},"ts":1427363765000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: did you ask or was there already an answer there?","msgtype":"m.text"},"ts":1427363789000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: there was an answer there alreadyãƒ¼one of those where the person who submitted it basically said, This is based on several hours of frustration, trial-and-error, etc.","msgtype":"m.text"},"ts":1427363872000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"can imagine several hours of frustration with HttpClient","msgtype":"m.emote"},"ts":1427363902000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1427363911000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hsivonen: anyway given the track record of the maintainers of that library, it seems likely they're going to change the API again. They did in a breaking way even between, the 4.36 release and the 4.4 release, apparently","msgtype":"m.text"},"ts":1427363936000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well, at least way back when it was better than the JDK's built-in HTTP client","msgtype":"m.text"},"ts":1427363941000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1427363946000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I did some looking around for possible alternatives but I couldn't find anything that looked superior and well-documented","msgtype":"m.text"},"ts":1427363986000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hsivonen: not just implemented, he's also actively patching the specification","msgtype":"m.text"},"ts":1427364446000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"was impressed","msgtype":"m.emote"},"ts":1427364458000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It'll be interesting to see how much code internal subset handling is going to be (even if it ends up being just skipping over it)","msgtype":"m.text"},"ts":1427364667000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"does the spec (yet) say anything about what do with namespaces?","msgtype":"m.text"},"ts":1427364773000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: they're parsed and supported, from what I remember","msgtype":"m.text"},"ts":1427364850000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: crazy thought while I'm reconsuming the various threads. Have we considered request.abort? As in var r = new Request(url); fetch(r); r.abort()","msgtype":"m.text"},"ts":1427364899000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: yeah we have","msgtype":"m.text"},"ts":1427364915000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hah, ok *gets back to reading*","msgtype":"m.text"},"ts":1427364930000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: the problem is that fetch() copies /r/ and mutates it a fair bit","msgtype":"m.text"},"ts":1427364942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: the copy that is","msgtype":"m.text"},"ts":1427364948000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: it would also get weird with the cache API as wanderview pointed out","msgtype":"m.text"},"ts":1427364992000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hah, just got to that bit of the thread. Tell you what, I'll read it all before having any more \"ideas\"","msgtype":"m.text"},"ts":1427365031000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Oh also, I'm going to moderate that particular issue if this will take a while. Cleaning up stuff and simply deleting off-topic rants if any appear","msgtype":"m.text"},"ts":1427365367000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes please -_-","msgtype":"m.text"},"ts":1427366141000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"First comment already seems to have missed part of the post but I'll let it slide...","msgtype":"m.text"},"ts":1427366495000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"moderate him harshly, he has already lost all goodwill","msgtype":"m.text"},"ts":1427366534000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"zcorpan: I guess the relevant Mozilla people for that DOMQuad question are on public-fx?","msgtype":"m.text"},"ts":1427367267000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: bz is cc-ed at least","msgtype":"m.text"},"ts":1427367301000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"roc: https://lists.w3.org/Archives/Public/public-fx/2015JanMar/0129.html","msgtype":"m.text"},"ts":1427367359000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"if we haven't shipped I'd say r+","msgtype":"m.text"},"ts":1427367378000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"you have shipped","msgtype":"m.text"},"ts":1427367387000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that is pretty sad","msgtype":"m.text"},"ts":1427367393000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: also these complicated constructors?","msgtype":"m.text"},"ts":1427367424000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: that are impossible per IDL?","msgtype":"m.text"},"ts":1427367430000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"seems hard","msgtype":"m.text"},"ts":1427367437000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, webidl designed dictionaries for a single settings argument, not for this sort of overloading","msgtype":"m.text"},"ts":1427367470000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"we could change webidl, but it might still be ugly to have overloading","msgtype":"m.text"},"ts":1427367492000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: no I mean, did Gecko ship with the weird design?","msgtype":"m.text"},"ts":1427367519000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"always remain skeptical of overloading :P","msgtype":"m.text"},"ts":1427367534000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: ah no i think it requires an actual DOMRect. but can check","msgtype":"m.text"},"ts":1427367592000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: or do we only return instances of these objects from certain methods?","msgtype":"m.text"},"ts":1427367594000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"http://lxr.mozilla.org/mozilla-central/source/dom/webidl/DOMPoint.webidl looks like it has overloading","msgtype":"m.text"},"ts":1427367673000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: ^^","msgtype":"m.text"},"ts":1427367676000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"same for http://lxr.mozilla.org/mozilla-central/source/dom/webidl/DOMQuad.webidl","msgtype":"m.text"},"ts":1427367692000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"only http://lxr.mozilla.org/mozilla-central/source/dom/webidl/DOMRect.webidl is cleanish","msgtype":"m.text"},"ts":1427367718000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah but the DOMQuad doesn't accept a dictionary as a rect","msgtype":"m.text"},"ts":1427367735000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah so we should use-counter that","msgtype":"m.text"},"ts":1427367813000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and some of the other stuff too","msgtype":"m.text"},"ts":1427367818000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":-(","msgtype":"m.text"},"ts":1427367831000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So there's URL.createObjectURL(...) and a proposed URL.createFor(...). I was thinking URL.from(...) would be more JavaScripty but it returns a string, so maybe not...","msgtype":"m.text"},"ts":1427370287000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: from your post I can't quite make out what happens when the promise is already fulfilled but the fetch is not","msgtype":"m.text"},"ts":1427372338000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: e.g. there's no example demonstrating what .abort() does within .then()","msgtype":"m.text"},"ts":1427372382000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: which per the goals is something I'd like to see addressed","msgtype":"m.text"},"ts":1427372402000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: and is something that I don't see a general cancelable-promises design addressing","msgtype":"m.text"},"ts":1427372422000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: var p = fetch(url); p.abort() - if headers have arrived, it does nothing. var p2 = fetch(url).then(r => r.text()); p2.abort(); - this would cancel either the request or the stream","msgtype":"m.text"},"ts":1427372451000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1427372629000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I thought about a design where onCancel would fire even if the promise was settled, but it doesn't really make sense, and I don't think it's needed","msgtype":"m.text"},"ts":1427372743000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: have clarified on github","msgtype":"m.text"},"ts":1427372880000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: when chained it seems okay, and I guess once you have the stream it's okay too... yeah","msgtype":"m.text"},"ts":1427373018000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: not triggering .catch but triggering .finally is also novel, rather nice design I have to say","msgtype":"m.text"},"ts":1427373198000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: I guess that does lead us into promise-subclass land if we want to control other things, e.g. a fetch in-flight","msgtype":"m.text"},"ts":1427373258000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: or maybe the rather ugly controller approach makes a comeback then?","msgtype":"m.text"},"ts":1427373268000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: for what it's worth, i never got an invite to the github organization. i would have chimed into that conversation last night but i was asleep :)","msgtype":"m.text"},"ts":1427374102000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"frewsxcv: ok is there a particular spec you want to help with?","msgtype":"m.text"},"ts":1427374824000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"frewsxcv: as I think you know, github sorta forces orgs to put contributors into particular teams","msgtype":"m.text"},"ts":1427374850000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and we don't have a general team","msgtype":"m.text"},"ts":1427374860000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"except for the Owners team","msgtype":"m.text"},"ts":1427374869000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah, hm","msgtype":"m.text"},"ts":1427374871000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"'dom' seems most relevant","msgtype":"m.text"},"ts":1427374945000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"or possibly 'fetch'","msgtype":"m.text"},"ts":1427374967000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"yeah so we don't have teams for those yet","msgtype":"m.text"},"ts":1427374987000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so you probably want to ask annevk","msgtype":"m.text"},"ts":1427375001000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"he's editor for both of those","msgtype":"m.text"},"ts":1427375020000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"alright","msgtype":"m.text"},"ts":1427375066000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"the only teams we have so far are for the (now-defunkt) loader spec, \"media-keys\", notifications, serial spec, streams, and url","msgtype":"m.text"},"ts":1427375079000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"is there a url repo?","msgtype":"m.text"},"ts":1427375101000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1427375115000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that's weird, can't see it on github.com/whatwg bug i can navigate to it manually","msgtype":"m.text"},"ts":1427375127000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"*but","msgtype":"m.emote"},"ts":1427375148000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"ah https://github.com/whatwg/url but I think there's another one too maybe","msgtype":"m.text"},"ts":1427375169000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"https://github.com/webspecs/url","msgtype":"m.text"},"ts":1427375203000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I can't remember now if both of the repos are active or if the 2nd one's meant to replace the first","msgtype":"m.text"},"ts":1427375234000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"frewsxcv: so for now I made a new team called \"contributors\" and invited you to that","msgtype":"m.text"},"ts":1427375427000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1427375427000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"thanks!","msgtype":"m.text"},"ts":1427375469000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"annevk: yeah, I don't want to do the controller thing unless we really have to","msgtype":"m.text"},"ts":1427375470000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"frewsxcv: I recommend just watching the individual repositories","msgtype":"m.text"},"ts":1427377123000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"frewsxcv: feel free to fix issues too as you see fit","msgtype":"m.text"},"ts":1427377134000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sounds good","msgtype":"m.text"},"ts":1427377146000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"frewsxcv: once you fix enough issues, we can talk about commit access I guess","msgtype":"m.text"},"ts":1427377155000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, working on some stuff now with servo that will probably result in pull requests for some repos","msgtype":"m.text"},"ts":1427377177000,"senderName":"frewsxcv","senderId":"frewsxcv@irc"},
{"content":{"body":"JakeA: about getting feedback, https://github.com/whatwg/fetch/issues/24 pretty please?","msgtype":"m.text"},"ts":1427380326000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: thanks for the nudge. I'm still in inbox hell so feel free to bug me about anything urgent like this. Will reply today.","msgtype":"m.text"},"ts":1427380883000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"is down to seven tricky threads he isn't quite sure how to tackle","msgtype":"m.emote"},"ts":1427381199000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, and presumably over a hundred open issues on various standards","msgtype":"m.text"},"ts":1427381212000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh well, better than this morning","msgtype":"m.text"},"ts":1427381228000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: say we work out the cancellable promise thingâ€¦ any reason that stuff shouldn't just be added to Promise rather than having a subclass?","msgtype":"m.text"},"ts":1427381874000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"is there an actual thread about cancellation yet? every time I search for one its just tons of people talking in different places","msgtype":"m.text"},"ts":1427382664000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"JakeA: hmm, talk to Domenic and TC39? The cancellable promise thing does seem like kind of an uphill battle given the strong feelings","msgtype":"m.text"},"ts":1427382761000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"bradleymeck: well that hasn't changed","msgtype":"m.text"},"ts":1427382781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"biab","msgtype":"m.text"},"ts":1427382797000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ive started using generators :-/ they have .return I am using as a cancellation method","msgtype":"m.text"},"ts":1427382844000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"but its kinda a dirty hack","msgtype":"m.text"},"ts":1427382851000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: JakeA's suggestion is here btw: https://github.com/whatwg/fetch/issues/27#issuecomment-86484678","msgtype":"m.text"},"ts":1427385342000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"seems sane, not sure I like the { onCancel } arg to new Promise, but w/e","msgtype":"m.text"},"ts":1427385590000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"Don't think I like cancellation as a third channel","msgtype":"m.text"},"ts":1427385778000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"It makes sense...","msgtype":"m.text"},"ts":1427385833000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"would you treat cancellation as an error?","msgtype":"m.text"},"ts":1427385838000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I agree that the constructor reads a bit ugly though","msgtype":"m.text"},"ts":1427385846000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"This is great: http://youmightnotneedjquery.com/","msgtype":"m.text"},"ts":1427385856000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"what does cancelling a promise even mean","msgtype":"m.text"},"ts":1427385883000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"mu","msgtype":"m.text"},"ts":1427385930000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"It doesn't fit with return value/thrown exception","msgtype":"m.text"},"ts":1427385984000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it isn't analogous to fulfilled or rejected","msgtype":"m.text"},"ts":1427386000000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"in that it isn't a type of resolution","msgtype":"m.text"},"ts":1427386008000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it's not a state or a fate really","msgtype":"m.text"},"ts":1427386015000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"you're either saying \"cancel my subscription to finding out what happened\" or \"stop doing the thing that will cause a resolution\" --- but it could be either one","msgtype":"m.text"},"ts":1427386048000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"and the former is problematic for promise chaining","msgtype":"m.text"},"ts":1427386073000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"latter is too, probably","msgtype":"m.text"},"ts":1427386093000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"cancellation token seems more robust in the face of such existential questioning","msgtype":"m.text"},"ts":1427386120000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"since you could do it today","msgtype":"m.text"},"ts":1427386128000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"although it kind of punts on the question of how/whether consumers observe","msgtype":"m.text"},"ts":1427386144000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: if anything that page makes me want to use jQuery more","msgtype":"m.text"},"ts":1427386233000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"annevk: The inconsistent use of semicolons in the examples is maddening","msgtype":"m.text"},"ts":1427386253000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"darobin: Well it gets better for !jQuery after the ajax stuff","msgtype":"m.text"},"ts":1427386274000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: some parts yes, then it gets worse and better on and off","msgtype":"m.text"},"ts":1427386304000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"and if you switch to IE8, it mostly gets worse","msgtype":"m.text"},"ts":1427386320000,"senderName":"darobin","senderId":"darobin@irc"},
{"content":{"body":"Domenic: are the node.js/io.js folks considering implementing whatwg-streams?  wondered after this issue:  https://github.com/whatwg/streams/issues/304","msgtype":"m.text"},"ts":1427386350000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"but it's only looking at ie compatibility","msgtype":"m.text"},"ts":1427386355000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"wanderview: yeah, there's definite interest","msgtype":"m.text"},"ts":1427386362000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it's not like webkit/blink/gecko are perfect and non-buggy","msgtype":"m.text"},"ts":1427386363000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Domenic: but they have not started working on it yet?","msgtype":"m.text"},"ts":1427386386000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Domenic: I guess the other thing you could do is embrace async is a little different","msgtype":"m.text"},"ts":1427386396000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: no, probably just going to lift the implementation from v8","msgtype":"m.text"},"ts":1427386399000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"caitp: I imagine they are more or less compatible on the things listed there. It's mostly not rocket science.","msgtype":"m.text"},"ts":1427386412000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: meaning what?","msgtype":"m.text"},"ts":1427386414000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"But testsneeded if you know of any bugs :)","msgtype":"m.text"},"ts":1427386428000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Domenic: hmm... can you explain why streams is a language (v8) feature and not more of a DOM/js hosted thing?","msgtype":"m.text"},"ts":1427386441000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"well, it depends how much new stuff you want to use","msgtype":"m.text"},"ts":1427386443000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"wanderview: there is a lot of talk / concern about needing data before daing things","msgtype":"m.text"},"ts":1427386446000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"wanderview: they're like promises","msgtype":"m.text"},"ts":1427386451000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"doing*","msgtype":"m.text"},"ts":1427386457000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"Domenic: meaning you might need more than return and throw","msgtype":"m.text"},"ts":1427386465000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: implemented as a v8 extension probably since blink team owns it","msgtype":"m.text"},"ts":1427386465000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"annevk: sure, but i'm saying that cancel isn't even in the same category","msgtype":"m.text"},"ts":1427386485000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"qsa works inconsistently between different browsers when it comes to xml crap","msgtype":"m.text"},"ts":1427386493000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"it affects the ongoing operation; it's not a result of it","msgtype":"m.text"},"ts":1427386497000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"cloneNode is broken for template elements in webkit (until january afaik)","msgtype":"m.text"},"ts":1427386505000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"lots of other stuff","msgtype":"m.text"},"ts":1427386509000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"the web is ridiculously complicated, and probably impossible to simplify, so stuff is gonna be wrong","msgtype":"m.text"},"ts":1427386529000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Domenic: ok... but its just some properties on the global essentially... not actual language primitives introduced, right?","msgtype":"m.text"},"ts":1427386529000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: i mean i guess so, in the same way as Promise is just a property on the global","msgtype":"m.text"},"ts":1427386549000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"wanderview: it will need to have hooks in the VM somehow for implementations to allow better chaining etc that we can't see from the ref impl if we want to optimize them.","msgtype":"m.text"},"ts":1427386673000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"which is one of the things we are curious about, as well as some of the usage of getters/setters","msgtype":"m.text"},"ts":1427386702000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"right... I guess my confusion stems from stuff like Promise being implemented under \"DOM\" in gecko","msgtype":"m.text"},"ts":1427386716000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"but we have lots of questions, just no data to do much","msgtype":"m.text"},"ts":1427386719000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: you keep saying \"we\" but you mean \"I\"","msgtype":"m.text"},"ts":1427386744000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"surprised they didn't put it in the spidermonkey part of the tree","msgtype":"m.text"},"ts":1427386744000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Domenic: I have trevnorris and others from NS","msgtype":"m.text"},"ts":1427386813000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I am not alone","msgtype":"m.text"},"ts":1427386818000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"yes, they are much more understanding than you are","msgtype":"m.text"},"ts":1427386840000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"as long as it is not frozen for eternity its not that big of a deal for us, but it sounds like it is being frozen before it gets userland testing","msgtype":"m.text"},"ts":1427386853000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"promises were in userland for a while before they landed","msgtype":"m.text"},"ts":1427386862000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"caitp: maybe there is a SM part too... this is the binding part I'm familiar with:  https://dxr.mozilla.org/mozilla-central/source/dom/promise","msgtype":"m.text"},"ts":1427386877000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"i don't see it with the other self-hosted JS stuff in sm","msgtype":"m.text"},"ts":1427386919000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"I don't understand the freezing; but I'm backing off and letting others poke around at it. now I'm just kinda curious/concerned if there does show up a problem but it is frozen","msgtype":"m.text"},"ts":1427386970000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"bradleymeck: do you mean freezing the spec or locking a stream?  (sorry, missed the context)","msgtype":"m.text"},"ts":1427386999000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"the spec","msgtype":"m.text"},"ts":1427387009000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"it seems like every spec continues to evolve over time... its just how much you need to pay attention to backward compatibility","msgtype":"m.text"},"ts":1427387065000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"it will evolve but it would ease my mind to have some testing out there to make sure nothing nefarious is hiding","msgtype":"m.text"},"ts":1427387156000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"node's crypto calling .nextTick is pretty heinous how many times it ends up being called","msgtype":"m.text"},"ts":1427387184000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"wanderview: Promise being in DOM is meant as a \"temporary\" hack","msgtype":"m.text"},"ts":1427387270000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"bradleymeck: are your spec concerns written up any where?  I have to run now, but would be interested in learning more later","msgtype":"m.text"},"ts":1427387275000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: leads us to violate the specification in some edge cases","msgtype":"m.text"},"ts":1427387289000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: awesome","msgtype":"m.text"},"ts":1427387297000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: ping trevnorris hes got the things","msgtype":"m.text"},"ts":1427387298000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1427387323000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: it seems better than https://code.google.com/p/v8/issues/detail?id=3237","msgtype":"m.text"},"ts":1427387509000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Domenic: I don't know. To me it makes sense. Return/throw is me controlling the flow. Cancel is the outside controlling the flow. In synchronous context cancel just makes no sense.","msgtype":"m.text"},"ts":1427388060000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"break\" statements are usually considered to be a part of flow control","msgtype":"m.text"},"ts":1427388094000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"Domenic: but I guess you've had this argument a 1000 times already, no need to indulge me :-)","msgtype":"m.text"},"ts":1427388094000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but breaking a promise is just too tacky","msgtype":"m.text"},"ts":1427388110000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"still kinda sad we didn't get more puns, keep and break are a lot more fun than fulfill and reject","msgtype":"m.text"},"ts":1427392964000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oh wow the cancelable promise thread got getify'd, this'll be fun","msgtype":"m.text"},"ts":1427399993000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"wow i think he does not know what backpressure means","msgtype":"m.text"},"ts":1427400032000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: he went from 0-60 on spec knowledge in like 2 years @-o, not sure I always agree but he has changed a lot","msgtype":"m.text"},"ts":1427400337000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"has same nature to freak out as I do though","msgtype":"m.text"},"ts":1427400366000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"annevk: see my email in public-fx ... we shipped a Constructor(DOMRectReadOnly), which is what the spec said at the time, and doesn't have problems AFAIK","msgtype":"m.text"},"ts":1427400528000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"sigh i shouldn't be mean","msgtype":"m.text"},"ts":1427400598000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"what does backpressure mean?","msgtype":"m.text"},"ts":1427401041000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"for those of us who don't know how to spell good and want to do other stuff good too","msgtype":"m.text"},"ts":1427401062000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"roc: it's mostly the overloading that would be problematic, and it seems passing a DOMRect is not the most useful, but I'll let you guys sort it out :-)","msgtype":"m.text"},"ts":1427401124000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"having a stream pushing data to another stream that is consuming; the stream that is consuming being being able to halt the pushing stream while it processes stuff is back pressure. Generally this is accomplished by using pull streams (so the consumer controls when new data comes in)","msgtype":"m.text"},"ts":1427401202000,"senderName":"bradleymeck","senderId":"bradleymeck@irc"},
{"content":{"body":"I don't think overloading DOMRectReadOnly and DOMPointInit is problematic","msgtype":"m.text"},"ts":1427401317000,"senderName":"roc","senderId":"roc@irc"},
{"content":{"body":"Domenic: do you know who would be good to ping about something that needs to be checked into blink on the next v8 roll? sherrifs or somethin?","msgtype":"m.text"},"ts":1427401669000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"actually, it may not be needed at all","msgtype":"m.text"},"ts":1427401875000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"roc: thanks. replied","msgtype":"m.text"},"ts":1427403779000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"roc: any opinion on introducing DOMMatrixInit (other thread on public-fx)?","msgtype":"m.text"},"ts":1427403852000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Hi! Getting 403 error on https://html.spec.whatwg.org/","msgtype":"m.text"},"ts":1427403903000,"senderName":"IZh","senderId":"IZh@irc"},
{"content":{"body":"On https://whatwg.org/ too.","msgtype":"m.text"},"ts":1427403965000,"senderName":"IZh","senderId":"IZh@irc"},
{"content":{"body":"Hixie: ^","msgtype":"m.text"},"ts":1427403980000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Channel logs' site is not working too.","msgtype":"m.text"},"ts":1427404832000,"senderName":"IZh_","senderId":"IZh_@irc"},
{"content":{"body":"Upd: WHATWG's sites now works.","msgtype":"m.text"},"ts":1427404881000,"senderName":"IZh_","senderId":"IZh_@irc"},
{"content":{"body":"it's a miracle","msgtype":"m.text"},"ts":1427404915000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"\"RDFa Working Group now Closed\". And there was much rejoicing.","msgtype":"m.text"},"ts":1427408666000,"senderName":"wilhelm","senderId":"wilhelm@irc"},
{"content":{"body":"wow for reals? (I mean on the closed, not the rejoicing)","msgtype":"m.text"},"ts":1427409289000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"ere actually was much rejoying","msgtype":"m.text"},"ts":1427409682000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"*rejoycing","msgtype":"m.text"},"ts":1427409688000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"A parade just went past my window","msgtype":"m.text"},"ts":1427409698000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"next up: who around here is using JSON-LD, for anything?","msgtype":"m.text"},"ts":1427409909000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"tantek: me! ... but I'm not that normal ;)","msgtype":"m.text"},"ts":1427410374000,"senderName":"gavinc","senderId":"gavinc@irc"}
]