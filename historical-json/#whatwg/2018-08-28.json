[
{"content":{"body":"What are peoples thoughts on adding crossorigin=\"\" to all <link>/<script>/<img> in specs? Per https://github.com/tabatkins/bikeshed/pull/1312/files . Maybe it is good to opt-in to actual-SOP-enforced mode?","msgtype":"m.text"},"ts":1535427119000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Maybe there should even be a Bikeshed feature to automatically do that to everything in the spec?","msgtype":"m.text"},"ts":1535427188000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: we canâ€™t do it for stuff referenced by CSS, but otherwise seems ok; should be a no-op assumimg we send out the header already","msgtype":"m.text"},"ts":1535431719000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Random thought: I wonder if we should try and limit storage quotas on insecure origins? Given the more data stored locally, the bigger the risk of a MiTM attack reading (and posting elsewhere) the stored data.","msgtype":"m.text"},"ts":1535459640000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: I like it","msgtype":"m.text"},"ts":1535459736000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think we need to propagate the request fragment... https://twitter.com/annevk/status/1034409399702487040","msgtype":"m.text"},"ts":1535460038000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"or at least, when firefox implemented using the response URL, we ran into web compat issues when we did not propagate the fragment","msgtype":"m.text"},"ts":1535460060000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"specifically, there was a site that was using the fragment to select a particular icon out of an svg file and dropping the fragment broke that","msgtype":"m.text"},"ts":1535460082000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: but Firefox doesn't seem to be using the response URL at all per my tests","msgtype":"m.text"},"ts":1535461066000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: in the bug I filed I linked to a glitch that shows that it does (if the SW provided response was a followed redirect)","msgtype":"m.text"},"ts":1535461112000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: but if that's true and that was for a non-navigation, I guess that means we should do that","msgtype":"m.text"},"ts":1535461142000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: so in that scenario the response didn't have a fragment right?","msgtype":"m.text"},"ts":1535461168000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"correct","msgtype":"m.text"},"ts":1535461175000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"hmm, meeting, but I'll dig up the details later I guess","msgtype":"m.text"},"ts":1535461179000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"well, the response had no fragment because its stripped today","msgtype":"m.text"},"ts":1535461185000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I think the SW was trying to do a pass-through","msgtype":"m.text"},"ts":1535461200000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"but I think if it was pulling from cache API then it probably would not have a fragment","msgtype":"m.text"},"ts":1535461215000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"install event probably installs the entire SVG with the bare URL","msgtype":"m.text"},"ts":1535461247000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: ah yes, https://github.com/whatwg/fetch/pull/696#issuecomment-365373835","msgtype":"m.text"},"ts":1535464583000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: so yeah, we should totally copy it there too, I'll update the PR","msgtype":"m.text"},"ts":1535464595000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: reading https://github.com/whatwg/fetch/issues/505#issuecomment-365373835 more carefully I think we do have several options here","msgtype":"m.text"},"ts":1535466823000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: including not forwarding the fragment from the request URL","msgtype":"m.text"},"ts":1535466843000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"since when does html spec have unhandledrejection and rejectionhandled events","msgtype":"m.text"},"ts":1535475861000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"devsnek: Fri Oct 2 15:58:22 2015 -0400","msgtype":"m.text"},"ts":1535475999000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"really?","msgtype":"m.text"},"ts":1535476016000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1535476025000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"weird lol","msgtype":"m.text"},"ts":1535476029000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"perhaps a couple minutes later, it takes some time to build","msgtype":"m.text"},"ts":1535476035000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1535476045000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"any plans to implement in Fx","msgtype":"m.text"},"ts":1535476063000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1535476065000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"I didn't realize we don't have them. I guess maybe because bz complained about report an exception being underdefined and that being hard to fix?","msgtype":"m.text"},"ts":1535476104000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah fair","msgtype":"m.text"},"ts":1535476114000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"Anyway, I don't know, but we'd take a patch for sure","msgtype":"m.text"},"ts":1535476150000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"random question, is null in specs defined anywhere?","msgtype":"m.text"},"ts":1535476171000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"like the js primitive null?","msgtype":"m.text"},"ts":1535476191000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"no like the spec null","msgtype":"m.text"},"ts":1535476214000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"like how strings are defined in infra","msgtype":"m.text"},"ts":1535476233000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"https://infra.spec.whatwg.org/#nulls","msgtype":"m.text"},"ts":1535476249000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"oh heh","msgtype":"m.text"},"ts":1535476275000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1535476278000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"lel","msgtype":"m.text"},"ts":1535476281000,"senderName":"devsnek","senderId":"devsnek@irc"},
{"content":{"body":"MikeSmith: so I actually mean \"certs\" where I wrote \"scripts\"","msgtype":"m.text"},"ts":1535484483000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Do they get generated automatically?","msgtype":"m.text"},"ts":1535484491000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1535485014000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah they get generated by running one of those scripts","msgtype":"m.text"},"ts":1535485065000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the 01-certbot script","msgtype":"m.text"},"ts":1535485097000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"which just calls ../common/scripts/certbot DOMAINS","msgtype":"m.text"},"ts":1535485121000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but that 01-certbot script needs to be run manually","msgtype":"m.text"},"ts":1535485140000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah gotcha","msgtype":"m.text"},"ts":1535485146000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah, basically, any time we make config changes to the environment, we have to re-run all those 0* scripts in order","msgtype":"m.text"},"ts":1535485174000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"}
]