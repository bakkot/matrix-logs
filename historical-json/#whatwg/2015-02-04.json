[
{"content":{"body":"Domenic: noob question here - why would you use an ID in a specification like that instead of keeping the object alive in an algorithm like that? If it leaks endless promises or endless IDs the leak is there all the same.","msgtype":"m.text"},"ts":1423009218000,"senderName":"benjamingr","senderId":"benjamingr@irc"},
{"content":{"body":"benjamingr: numbers don't leak","msgtype":"m.text"},"ts":1423009297000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"benjamingr: objects do!","msgtype":"m.text"},"ts":1423009301000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"What do you mean? If I have a list of numbers and that list keeps growing doesn't that leak memory? Eventually the list will consume all my heap - it'll just take longer, won't it?","msgtype":"m.text"},"ts":1423009346000,"senderName":"benjamingr","senderId":"benjamingr@irc"},
{"content":{"body":"benjamingr: yes, fair. But numbers---especially \"small/medium integers\" (smis) in modern VMs---consume much less memory than a whole promise object.","msgtype":"m.text"},"ts":1423009453000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"benjamingr: and it's not an ever-growing list we're concerned about, it's a fluctuating-in-size list","msgtype":"m.text"},"ts":1423009486000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Right, so your process would crash later but it would crash nontheless.","msgtype":"m.text"},"ts":1423009501000,"senderName":"benjamingr","senderId":"benjamingr@irc"},
{"content":{"body":"having that fluctuation be between 0 and x is much better than between 0 and 10x","msgtype":"m.text"},"ts":1423009503000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"sure, if you actually leak, you crash","msgtype":"m.text"},"ts":1423009513000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"So the reason these are numbers and not objects is not not to leak it's to conserve memory?","msgtype":"m.text"},"ts":1423009533000,"senderName":"benjamingr","senderId":"benjamingr@irc"},
{"content":{"body":"yeah, i guess \"leak\" is imprecise. More \"don't keep the object alive\".","msgtype":"m.text"},"ts":1423009560000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"For anyone who wonders what we're talking about, it's https://gist.github.com/domenic/9b40029f59f29b822f3b#promise-error-handling-hooks-rough-spec-algorithm ... conversation started in #promises","msgtype":"m.text"},"ts":1423009583000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic:  Yeah, I figured I'd ask here and not in #promises since I'm wondering about a specification issue and how you specified it rather than about promises (do let me know if you rather have this discussion in #promises)","msgtype":"m.text"},"ts":1423009640000,"senderName":"benjamingr","senderId":"benjamingr@irc"},
{"content":{"body":"nah here seems good :)","msgtype":"m.text"},"ts":1423009651000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Oh, so it's really an observable map of `id => reason` where the id can/should be removed if a potential rejection is handled and items are added when a new potentially rejection happens. I guess that makes more sense than storing the promises anyway since there is no sync inspection API in native promises.","msgtype":"m.text"},"ts":1423009854000,"senderName":"benjamingr","senderId":"benjamingr@irc"},
{"content":{"body":"Thanks, that totally clarified why there are IDs there :)","msgtype":"m.text"},"ts":1423009927000,"senderName":"benjamingr","senderId":"benjamingr@irc"},
{"content":{"body":"benjamingr: hmm yeah not sure why I didn't use the word \"map\" and related concepts more in that document. Would be better.","msgtype":"m.text"},"ts":1423010015000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Well, you're probably more used to spec terminology than me, I'm assuming people more involved would have a lot less trouble reading it.","msgtype":"m.text"},"ts":1423010077000,"senderName":"benjamingr","senderId":"benjamingr@irc"},
{"content":{"body":"MikeSmith: do you think there's any chance for W3C Bugzilla to gain \"needsinfo\"?","msgtype":"m.text"},"ts":1423037844000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: when you really want someone to answer a question, it's rather effective","msgtype":"m.text"},"ts":1423037858000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: will see if I can add it right now","msgtype":"m.text"},"ts":1423038026000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: no rush :-)","msgtype":"m.text"},"ts":1423038035000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the rush is that if I don't do it now I'll just forget :D","msgtype":"m.text"},"ts":1423038058000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: wait there's already a resolved=NEEDSINFO status","msgtype":"m.text"},"ts":1423038314000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: there's this feature in Mozilla Bugzilla where you can ask more information from a given Bugzilla user","msgtype":"m.text"},"ts":1423038372000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ahh","msgtype":"m.text"},"ts":1423038380000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"peruses the parameters to see if there's a setting for it in our instance","msgtype":"m.emote"},"ts":1423038413000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: the UI phrase is \"Need more information from\"","msgtype":"m.text"},"ts":1423038428000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1423038444000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"still looking","msgtype":"m.text"},"ts":1423038448000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk, MikeSmith, might be an extension","msgtype":"m.text"},"ts":1423038737000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"yeah there's no feature for that in v4.4.8 as far as I can see","msgtype":"m.text"},"ts":1423038759000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but agreed it's a really useful feature","msgtype":"m.text"},"ts":1423038771000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so we should add it","msgtype":"m.text"},"ts":1423038774000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"<glob> Ms2ger, its an extension, but under the hood it's a normal bugzilla flag","msgtype":"m.text"},"ts":1423038781000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I don't have root to install it but I could sweet talk somebody who does into installing it probably","msgtype":"m.text"},"ts":1423038855000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that's assuming I need shell access to the environment to install extensions","msgtype":"m.text"},"ts":1423038892000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I otherwise have full admin perms in the Web UI","msgtype":"m.text"},"ts":1423038913000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"<glob> https://github.com/mozilla/webtools-bmo-bugzilla/tree/master/extensions/Needinfo","msgtype":"m.text"},"ts":1423038965000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"<glob> hrm, although the recent addition of our mentor may have broken that claim.  if that's the case it'll be easy for us to update/fix","msgtype":"m.text"},"ts":1423038965000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"MikeSmith, sounds like you do need root, poke glob on moznet if you have issues :)","msgtype":"m.text"},"ts":1423039142000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: hai","msgtype":"m.text"},"ts":1423039156000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"plz-install-this-extension sysreq filed","msgtype":"m.text"},"ts":1423042356000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"smaug____:  you here?","msgtype":"m.text"},"ts":1423058972000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"bkardell: yes","msgtype":"m.text"},"ts":1423059011000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Hold on let me switch machines","msgtype":"m.text"},"ts":1423059103000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"smaug____: You do see that .component is definitely not the same thing, right?  In terms of CSS it matches existing combinators and requires perfect coordination at all times","msgtype":"m.text"},"ts":1423059253000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"yes, and >>> needs perfect coordination too if enabled by default everywhere","msgtype":"m.text"},"ts":1423059293000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I agree using .component would be more annoying, but you can still achieve pretty much the same","msgtype":"m.text"},"ts":1423059320000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"bkardell: let me ask differently..","msgtype":"m.text"},"ts":1423059328000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"why you want >>> to be enabled by default to all the components?","msgtype":"m.text"},"ts":1423059342000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"right, and you *can* in theory totally avoid accidents in real life, but that is not reality","msgtype":"m.text"},"ts":1423059351000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"so your main concern is that it should be plausible to say \"your selectors are always irrelevant to me\"","msgtype":"m.text"},"ts":1423059415000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"is that right?","msgtype":"m.text"},"ts":1423059434000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"yes, component should be able to say that","msgtype":"m.text"},"ts":1423059495000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"mostly for styling or also for qsa and friends?","msgtype":"m.text"},"ts":1423059520000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"but it should be also possible to say, \"hey, I'm fine that you style my content \"","msgtype":"m.text"},"ts":1423059525000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"both","msgtype":"m.text"},"ts":1423059530000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1423059538000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"qsa is probably the more scary part","msgtype":"m.text"},"ts":1423059544000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"more scary in terms of...?","msgtype":"m.text"},"ts":1423059552000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"since if qsa can select shadow dom","msgtype":"m.text"},"ts":1423059557000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"in terms of that the JS will probably then do something with the result","msgtype":"m.text"},"ts":1423059605000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"like, it could move elements around there","msgtype":"m.text"},"ts":1423059612000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and break how the component works","msgtype":"m.text"},"ts":1423059617000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"what if it needs to","msgtype":"m.text"},"ts":1423059633000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"ok, let me try this","msgtype":"m.text"},"ts":1423059653000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"caitp: if the outside world needs to change the content of component, the component should give the permission","msgtype":"m.text"},"ts":1423059684000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"angular 1.x uses qsa to find the root element of an app to set everything up, but angular 2 has everything in components, so if the bootstrapping works the same way, it would have to be able to traverse shadow dom","msgtype":"m.text"},"ts":1423059686000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"it probably doesn't work the same way, but imagining it did :>","msgtype":"m.text"},"ts":1423059695000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"to start, imagine you had just what I listed as the kind of bare minimum","msgtype":"m.text"},"ts":1423059698000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"it is somewhat similar private:  and such in many programming languages","msgtype":"m.text"},"ts":1423059702000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"if the component doesn't let you to do what you need to do with it, don't use the component","msgtype":"m.text"},"ts":1423059725000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"all css problems that come 'out of the box' with existing css goes away, it becomes safe","msgtype":"m.text"},"ts":1423059728000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"no i expect the angular-defined components have some hook for bootstrapping","msgtype":"m.text"},"ts":1423059760000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"if you wanted to prevent outside meddling, that's up to the component and they can easily trump","msgtype":"m.text"},"ts":1423059761000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"!important, on the element or even just ganging up some id-based :not()","msgtype":"m.text"},"ts":1423059788000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"seems that offers some pretty reasonable protections and room to grow - it's all more or less explainable with one 1 new thing","msgtype":"m.text"},"ts":1423059851000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"Making encapsulation opt-in doesn't seem like a great design","msgtype":"m.text"},"ts":1423059870000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"if we wanted to add something like \"you may NEVER reach inside here for any purpose via tree walking of any kind\"","msgtype":"m.text"},"ts":1423059909000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"if I use qsa from the devtools console, I don't want to be limited by the shadow barrier :p","msgtype":"m.text"},"ts":1423059912000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"caitp: devtools can do whatever it wants","msgtype":"m.text"},"ts":1423059927000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"but in practice, they don't","msgtype":"m.text"},"ts":1423059933000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"in practice they're using the same DOM api :(","msgtype":"m.text"},"ts":1423059939000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"jgraham: I dont think you want dev tools to do something diff than code","msgtype":"m.text"},"ts":1423059960000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"devtools can already do lots of things that DOM APIs can't","msgtype":"m.text"},"ts":1423059980000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"well, a few things","msgtype":"m.text"},"ts":1423059994000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"There's no DOM API to set a breakpoint, for example","msgtype":"m.text"},"ts":1423060003000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"like simulating pseudo selectors","msgtype":"m.text"},"ts":1423060009000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"smaug___: how do you explain the you may never part - is it in DOM? it's unnamed?","msgtype":"m.text"},"ts":1423060010000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"I guess if your combinator required a name that could maybe work","msgtype":"m.text"},"ts":1423060058000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"is that what you're getting at in that email?","msgtype":"m.text"},"ts":1423060075000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"jgraham: DebugStatement?","msgtype":"m.text"},"ts":1423060107000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"caitp: simulating a state is different, it's a super power - doesn't change an API","msgtype":"m.text"},"ts":1423060159000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"i thinkn we were talking about devtools superpowers","msgtype":"m.text"},"ts":1423060184000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"think*","msgtype":"m.text"},"ts":1423060187000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"In any case, it's pretty clear that better, larger, web applications are going to require locality of reasoning; the ability to understand one small part of an application and treat the rest as a black box. This requires encapsulation by default and the ability to expose specific APIs for extension","msgtype":"m.text"},"ts":1423060193000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"do you think qsa should be able to traverse <content> elements inside a shadow tree","msgtype":"m.text"},"ts":1423060367000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"(does it already? it probably does)","msgtype":"m.text"},"ts":1423060374000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"that is an interesting question","msgtype":"m.text"},"ts":1423060484000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I assume it doesn't","msgtype":"m.text"},"ts":1423060487000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or what does your question mean","msgtype":"m.text"},"ts":1423060592000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"caitp: the contents of <content> ?","msgtype":"m.text"},"ts":1423060602000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"like, all the stuff distributed there?","msgtype":"m.text"},"ts":1423060619000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1423060634000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"well, those elements aren't children of <content>","msgtype":"m.text"},"ts":1423060681000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"<content> defines an explicit extension point, so I think it isn't obviously wrong that the content is qsa-able, but it should at the very least be in the component's control","msgtype":"m.text"},"ts":1423060690000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"what selector would find then","msgtype":"m.text"},"ts":1423060692000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"them","msgtype":"m.text"},"ts":1423060694000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"do we need some new selector there?","msgtype":"m.text"},"ts":1423060719000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"they're basically child elements of the component proper, which is weird since you can have multiple content elements","msgtype":"m.text"},"ts":1423060721000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"and you wouldn't be able to specify which one","msgtype":"m.text"},"ts":1423060731000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"smaug___: replied to your post","msgtype":"m.text"},"ts":1423061259000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"will read after lunch","msgtype":"m.text"},"ts":1423061389000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"pretty short","msgtype":"m.text"},"ts":1423061427000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"reads","msgtype":"m.emote"},"ts":1423061473000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1423061564000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug___: in short, I think the name thing is actually pretty good... it's sensible","msgtype":"m.text"},"ts":1423061566000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"its a really minor tweak and easily explained","msgtype":"m.text"},"ts":1423061589000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"trying to recall what TabAtkins thought about it","msgtype":"m.text"},"ts":1423061611000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"has clear value","msgtype":"m.text"},"ts":1423061612000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"did you discuss it here?","msgtype":"m.text"},"ts":1423061667000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"I'm curious as to what you could really have against it","msgtype":"m.text"},"ts":1423061687000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"I think I mentioned some of this earlier here too, when I was horrified to find /deep/ in a spec draft :)","msgtype":"m.text"},"ts":1423061704000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1423061753000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"something like :deep(*) would match any with a name, right?","msgtype":"m.text"},"ts":1423061793000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1423061812000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I mean, it seems like a pretty simple safety to split the danger","msgtype":"m.text"},"ts":1423061831000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"it seems really sensible to me actually","msgtype":"m.text"},"ts":1423061854000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"* should make it clear to the reader that \"yes, I really want all the public mounts\"","msgtype":"m.text"},"ts":1423061869000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"..... \"that I can actually reach because they said it is ok\"","msgtype":"m.text"},"ts":1423061895000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1423061903000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"actually...","msgtype":"m.text"},"ts":1423061907000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"would this answer a question for us that we've been lacking...","msgtype":"m.text"},"ts":1423061918000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"I said \"public\"","msgtype":"m.text"},"ts":1423061919000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"like - could you almost realistically explain something like input type=slider native now if you had that","msgtype":"m.text"},"ts":1423061940000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"the mount isn't public","msgtype":"m.text"},"ts":1423061952000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"well, you couldn't still explain the dom side","msgtype":"m.text"},"ts":1423061981000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"waves hand and says \"pay no attention to the DOM behind the mount\"","msgtype":"m.emote"},"ts":1423061987000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1423061998000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"but I mean, this seems to get us closer","msgtype":"m.text"},"ts":1423062016000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"because we had no way of explaining that there were shadows you couldn't reach into (native ones)","msgtype":"m.text"},"ts":1423062039000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"Domenic: \"I hope others can address the question of why custom element callbacks are useful\" wdym? alternative?","msgtype":"m.text"},"ts":1423065892000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"bkardell: wtf you left already? Anyway in that thread rniwa was questioning whether custom element callbacks are useful so I was hoping someone would explain that to him.","msgtype":"m.text"},"ts":1423066339000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oh I see","msgtype":"m.text"},"ts":1423066369000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"hey did you see smaug's post on www-style / reply?","msgtype":"m.text"},"ts":1423066414000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"I think it seems sensible","msgtype":"m.text"},"ts":1423066428000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"I dont think there is precedent for a combinator taking an argument, that's the only thing really - but there's no precedent of a combinator doing something with a non-element either, so...","msgtype":"m.text"},"ts":1423066473000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"bkardell: I still don't really understand why there's such insistence on truly-encapsulated stuff being the default. Seems to miss the point of your post about friendly fire etc. I haven't seen authors asking for that kind of thing (the cases that do want it, such as ads or social buttons, are happy with <iframe>s), and the only use case I can see for it is","msgtype":"m.text"},"ts":1423067492000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"HTML as Custom Elements. Which is important, but seems backward in priority of constituencies.","msgtype":"m.text"},"ts":1423067493000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"bkardell: kind of comes down to whether shadow DOM is an authoring aid (= composition) or an implementation strategy (= encapsulation).","msgtype":"m.text"},"ts":1423067542000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"composition as such can be done without shadow DOM","msgtype":"m.text"},"ts":1423067572000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I agree that I doubt it will be the common case, but I can imagine some where I want to be kind of explicit about it because it is just too fundamental to my function - a graphing control maybe, for example","msgtype":"m.text"},"ts":1423067622000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"and I think the complexity of shadow DOM doesn't quite make sense if all it gives is helping with composition","msgtype":"m.text"},"ts":1423067631000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"It seems to me that techniques that allow you to reason about less of a system at once are authoring aids","msgtype":"m.text"},"ts":1423067691000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That is the central benefit of encapsulation.","msgtype":"m.text"},"ts":1423067753000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I explcitly tried to not use the term shadow dom because I'm talking about minimal - not event retargeting, not projection, etc -- just one simple primitive that can host a subtree and provide a new 'not quite an element'... that doesn't actually seem that complex","msgtype":"m.text"},"ts":1423067756000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"anyhow, I could possible live with default-to-public-visibility in the CSS case. It is error prone, but if someone can actually think of good reasoning for it, fine.","msgtype":"m.text"},"ts":1423067875000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"jgraham: yes, fair. But perhaps when I say \"composition\" I mean \"Java-style encapsulation\"---still available with reflective APIs, but not by default.","msgtype":"m.text"},"ts":1423067895000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"bkardell: yeah, sorry if I've been talking in shadow DOM terms","msgtype":"m.text"},"ts":1423067897000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Domenic: the ad is really minimal, it makes sense conceptually and the delta in implementation is primarily about what a combinator matches and doesn't.  We can theorize and debate all day, but isn't it better to just say \"ok, if people think that could be useful, there's really no harm and it might be good to give a tool which also helps explain more of","msgtype":"m.text"},"ts":1423067961000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"native and gives authors one more lever to experiment with\"","msgtype":"m.text"},"ts":1423067961000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"jgraham: in that sense I am talking about mostly-encapsulation as an aid for composing parts of the system, precisely because you can reason about less of the system at once (and can assume that if someone is messing with you they really know what they're doing)","msgtype":"m.text"},"ts":1423067963000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"smaug____: I am curious how you reached this conclusion on composition primitives being unimportant. In my experience, all of the evidence that I see points at nearly the opposite.","msgtype":"m.text"},"ts":1423067985000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"it's okay if this is just a hunch","msgtype":"m.text"},"ts":1423067996000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"dglazkov: where have I said they are unimportant","msgtype":"m.text"},"ts":1423068008000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"dglazkov: yeah, I saw \"They could simply use their own framework or library\" as \"They could simply switch to another platform\" -_-","msgtype":"m.text"},"ts":1423068015000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but if you look at the stuggles of modern libraries, _all_ of them are primarily trying to solve composition","msgtype":"m.text"},"ts":1423068035000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"I'm saying they aren't important enough to legitimate the complexity of shadow DOM","msgtype":"m.text"},"ts":1423068043000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"again, how do you draw the line in the sand?","msgtype":"m.text"},"ts":1423068067000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"what _is_ important enough?","msgtype":"m.text"},"ts":1423068075000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"well, shadow DOM is in all levels very complicated (specs and implementation issues are a good signs of that). To legitimate that all I sure hope it brings in some new functionality to the platform, not just help script libraries a bit to let their implementation to be a tad simpler.","msgtype":"m.text"},"ts":1423068173000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"as far as I can see, style composition is one the largest unsolved problems in the web platfrom","msgtype":"m.text"},"ts":1423068173000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"smaug____: I see. So if this is not a new capability, it's not as interesting?","msgtype":"m.text"},"ts":1423068238000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"hmm.. I honestly dont mean to sound dismissive of anyone's claims here, and I dont get the sense that smaug___ meant it quite as bluntly as he initially stated it,  but in my experience dismissing the composition problem as \"kinda easily\" solvable with todays powers strikes me as out of touch and I'd hope we could avoid stating it that way (because it was","msgtype":"m.text"},"ts":1423068283000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"just done again on www-style)","msgtype":"m.text"},"ts":1423068284000,"senderName":"bkardell","senderId":"bkardell@irc"},
{"content":{"body":"it can be interesting still, but as I said, shadow DOM is very complicated. Makes implementations and specs more complicated (and a bit slower too)","msgtype":"m.text"},"ts":1423068290000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so it all it gives is some small aid... then is it really worth","msgtype":"m.text"},"ts":1423068304000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"s/it/if/","msgtype":"m.text"},"ts":1423068309000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: it seems you're pre-judging the size of the aid?","msgtype":"m.text"},"ts":1423068328000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"maybe","msgtype":"m.text"},"ts":1423068340000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"you don't really have to go far, just look at the state of CSS testing for web apps","msgtype":"m.text"},"ts":1423068349000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"Domenic: I don't think we should start by designing a system that gives full control to anyone who thinks that they know what they are doing. It seems like a better approach to start with something that provides more encapsulation and figure out how to turn off the safety catches later.","msgtype":"m.text"},"ts":1423068352000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"today, it's basically a lost cause","msgtype":"m.text"},"ts":1423068368000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"In general I think when we have done that in the past it's been a better outcome than when we have taken an open system and tried to band-aid on extra constraints with features like CSP","msgtype":"m.text"},"ts":1423068408000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I guess I just disagree. I think we should start by designing a system useful to the majority and then maybe design a system for the smaller case. E.g. I don't think Java ever got around to designing a reflection-proof private, which speaks to how important that problem really is.","msgtype":"m.text"},"ts":1423068414000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"jgraham: I completely disagree","msgtype":"m.text"},"ts":1423068424000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"I don't think we should start with a goal of designing a system open or closed","msgtype":"m.text"},"ts":1423068459000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"You disagree that places where we have enforced e.g. the cross origin policy have aged better than places where we did not and are trying to fix it up with opt-ins afterwards?","msgtype":"m.text"},"ts":1423068477000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"it should be driven by how the system helps the developer","msgtype":"m.text"},"ts":1423068481000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"jgraham: I genuinely don't know if CSP in particular is going to be harmful or useful on the long run.","msgtype":"m.text"},"ts":1423068586000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"shadow dom started pretty closed up. Then we actually asked devs to use it and the first thing to go were the hard boundaries.","msgtype":"m.text"},"ts":1423068797000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"On its own that doesn't say anything","msgtype":"m.text"},"ts":1423068819000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"anytime you want to introspect anything, hard boundaries are just unnecessary obstructions","msgtype":"m.text"},"ts":1423068822000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"annevk, Domenic: changing subject a tiny bit -- have we considered how importNode and cloneNode work with almost-sync constructors?","msgtype":"m.text"},"ts":1423068864000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"Right, but there's a difference between e.g. being able to inspect things and being able to change them","msgtype":"m.text"},"ts":1423068868000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: yes. However, we don't really have a concept of read-only DOM in the platform today","msgtype":"m.text"},"ts":1423068924000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"jgraham: smaug____ is complaining about complexity already, imagine how much more complexity it would be to add something like that.","msgtype":"m.text"},"ts":1423068946000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"dglazkov: that's a good question","msgtype":"m.text"},"ts":1423069704000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"dglazkov: it would be easy for the parser, but for the DOM...","msgtype":"m.text"},"ts":1423069713000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"dglazkov: (though parser-wise, sync would be easy, not sure about almost-sync)","msgtype":"m.text"},"ts":1423069730000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is behind on everything, will try to catch up tomorrow","msgtype":"m.emote"},"ts":1423069779000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Why is everyone named Glen weird?","msgtype":"m.text"},"ts":1423090353000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Apologies to people named Glen here, BUT STILL.","msgtype":"m.text"},"ts":1423090362000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"maybe we need namespaces to disambiguate glens","msgtype":"m.text"},"ts":1423090398000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"why apologize? that's like the highest compliment","msgtype":"m.text"},"ts":1423090453000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"glen would be honoured I'm sure","msgtype":"m.text"},"ts":1423090474000,"senderName":"caitp","senderId":"caitp@irc"},
{"content":{"body":"this whole channel is weird","msgtype":"m.text"},"ts":1423090676000,"senderName":"tantek","senderId":"tantek@irc"},
{"content":{"body":"DNS","msgtype":"m.text"},"ts":1423090807000,"senderName":"dglazkov","senderId":"dglazkov@irc"},
{"content":{"body":"I am so sorry","msgtype":"m.text"},"ts":1423090823000,"senderName":"dglazkov","senderId":"dglazkov@irc"}
]