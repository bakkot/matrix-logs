[
{"content":{"body":"is the idea that the offline cache should only be accessed when navigator.onLine is false?","msgtype":"m.text"},"ts":1205972640000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1205972641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the offline cache is always accessed","msgtype":"m.text"},"ts":1205972642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is the spec not clear about that?","msgtype":"m.text"},"ts":1205972643000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"\"The navigator.onLine attribute must return false if the user agent will not contact the network when the user follows links or when a script requests a remote page\"","msgtype":"m.text"},"ts":1205972700000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"that's what got me confused","msgtype":"m.text"},"ts":1205972701000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"ah, yeah, that should probably be clarified","msgtype":"m.text"},"ts":1205972760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"please send mail :-)","msgtype":"m.text"},"ts":1205972761000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"will do","msgtype":"m.text"},"ts":1205972762000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"that text predates the offline cache","msgtype":"m.text"},"ts":1205972763000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, got it","msgtype":"m.text"},"ts":1205972764000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"Hixie: also, can an application cache group ever have more than two caches?","msgtype":"m.text"},"ts":1205972765000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1205972766000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"if there are many browsing contexts all using the same cache group","msgtype":"m.text"},"ts":1205972820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and the cache group gets upgraded a number of times","msgtype":"m.text"},"ts":1205972821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"with only one browsing context getting upgraded each time","msgtype":"m.text"},"ts":1205972822000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, that makes sense","msgtype":"m.text"},"ts":1205972880000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"so I should be able to get rid of older caches as contexts referencing them go away","msgtype":"m.text"},"ts":1205972940000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1205973120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1205973121000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"this is starting to make sense","msgtype":"m.text"},"ts":1205973180000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"i suppose we could handle the indent thing by using multiple colums","msgtype":"m.text"},"ts":1205979480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but that feels like a hack","msgtype":"m.text"},"ts":1205979481000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok i think i've looked at enough tables","msgtype":"m.text"},"ts":1205990220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"now to study the ones i marked as being interesting","msgtype":"m.text"},"ts":1205990221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"pokes othermaciej","msgtype":"m.emote"},"ts":1205999340000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"bewes1: yes?","msgtype":"m.text"},"ts":1205999341000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"oh, I wanted to ask you about geolocation","msgtype":"m.text"},"ts":1205999342000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"I am at your service","msgtype":"m.text"},"ts":1205999400000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I didn't think each  HTTP request would re-consume the resources necessary to do geolocation","msgtype":"m.text"},"ts":1205999401000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"is it unreasonable to assume the browser has some cached version of the geolocation results?","msgtype":"m.text"},"ts":1205999460000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"if there's a cached version it could be completely wrong","msgtype":"m.text"},"ts":1205999520000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"without triggering new lookups?","msgtype":"m.text"},"ts":1205999521000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"let me use iPhone as an example","msgtype":"m.text"},"ts":1205999522000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so it's a cache invalidation issue?","msgtype":"m.text"},"ts":1205999523000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"I believe its geolocation has been discussed a little publicly","msgtype":"m.text"},"ts":1205999524000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it uses a combination of WiFi (looking for nearby networks) and triangulation from cell towers","msgtype":"m.text"},"ts":1205999525000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"both of these fire up the radio","msgtype":"m.text"},"ts":1205999526000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and may need to use high power signals","msgtype":"m.text"},"ts":1205999580000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"it does not do this all the time","msgtype":"m.text"},"ts":1205999581000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"only when you ask","msgtype":"m.text"},"ts":1205999582000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"if you put it in your pocket and drive across town, it has no idea if you are still near where you were","msgtype":"m.text"},"ts":1205999583000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and it would have to suck a lot of battery to find out","msgtype":"m.text"},"ts":1205999584000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"so it's far better to only provide geolocation info on demand","msgtype":"m.text"},"ts":1205999585000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"instead of sending it to every server all the time","msgtype":"m.text"},"ts":1205999586000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah, I guess I was imagining there'd be some kind of reliable cache in between","msgtype":"m.text"},"ts":1205999587000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"how would you know if your cache is valid without geolocating again?","msgtype":"m.text"},"ts":1205999640000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"keep in mind, many sites (perhaps most) will not even use this data","msgtype":"m.text"},"ts":1205999641000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1205999642000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"I would also add that it is awkward to get a request header to script code, and often the interesting location-based things you want to do will be in script","msgtype":"m.text"},"ts":1205999700000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah, I guess I was missing some perspective on devices for which it's really really expensive and a pretty unreliable cache","msgtype":"m.text"},"ts":1205999701000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"although your points on usage are good too","msgtype":"m.text"},"ts":1205999702000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"I think what I said may be true for just about any phone with location support but no hardware GPS","msgtype":"m.text"},"ts":1205999703000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1205999760000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"how do you know where the wifi signals are? do you always require at least one cell tower?","msgtype":"m.text"},"ts":1205999880000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"I don't know all of the nitty gritty technical details","msgtype":"m.text"},"ts":1205999881000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"fwiw, I use location-based services from both from mobile browsers and other apps on devices here in Japan quite a lot, and location interaction from browsers deployed here is always as othermaciej describes","msgtype":"m.text"},"ts":1206000360000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that is, nothing is cached","msgtype":"m.text"},"ts":1206000420000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but some non-browser apps on mobile devices here are capable of dynamically updating as you move","msgtype":"m.text"},"ts":1206000480000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"e.g., they can show you your update position on a map as you move","msgtype":"m.text"},"ts":1206000540000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in near real-time","msgtype":"m.text"},"ts":1206000541000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"like the navigation systems in cars","msgtype":"m.text"},"ts":1206000542000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"another thing is that the mechanism being used to determine the position isn't really exposed to apps","msgtype":"m.text"},"ts":1206000600000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"there's just an API for making a location query, and the device makes a determination about what the optimal mechanism is for determining your location","msgtype":"m.text"},"ts":1206000660000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah, I was just curious","msgtype":"m.text"},"ts":1206000661000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"MikeSmith: what kinds of apps use the near real-time movement?","msgtype":"m.text"},"ts":1206001020000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"bewes1 - apps for trip-planning/trip-routing","msgtype":"m.text"},"ts":1206001021000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"most widely deployed one is this:","msgtype":"m.text"},"ts":1206001080000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"http://www.navitime.com/howtouse.html","msgtype":"m.text"},"ts":1206001140000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"oh, do you mean the ones in cars?  I thought you meant devices you'd carry with you all the time","msgtype":"m.text"},"ts":1206001141000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"Navitime","msgtype":"m.text"},"ts":1206001142000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not in cars, but on mobile handsets/ mobile phones","msgtype":"m.text"},"ts":1206001143000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but basically the same functionality as car navigation systems","msgtype":"m.text"},"ts":1206001144000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1206001145000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"expect that since here in Tokyo most people don't drive cars, the apps are for train commuting and pedestrians","msgtype":"m.text"},"ts":1206001200000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"use case is that you just fire up the app and tell it where you want to go","msgtype":"m.text"},"ts":1206001201000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"pretty convenient","msgtype":"m.text"},"ts":1206001260000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"e.g., give it an address or name of a business or something","msgtype":"m.text"},"ts":1206001261000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"then the app shows you the route: tells what train station is closest, the shows you an interactive map of how to get to the train station","msgtype":"m.text"},"ts":1206001262000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that's pretty good stuff","msgtype":"m.text"},"ts":1206001320000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"then same thing after you get off the train at the closest station to your destination","msgtype":"m.text"},"ts":1206001321000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"does it include when the next train arrives?","msgtype":"m.text"},"ts":1206001322000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"yep","msgtype":"m.text"},"ts":1206001323000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it has access to complete train schedules for all train lines in Japan","msgtype":"m.text"},"ts":1206001324000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"how often are trains late?","msgtype":"m.text"},"ts":1206001380000,"senderName":"bewes1","senderId":"bewes1@irc"},
{"content":{"body":"bewes1 - rarely","msgtype":"m.text"},"ts":1206001440000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"typically only in cases of really bad weather","msgtype":"m.text"},"ts":1206001500000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"or if somebody jumps in front of one of them","msgtype":"m.text"},"ts":1206001501000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"btw, the actual Navitime app and others like it is either a Java/J2ME or BREW app, depending on which handset it's on","msgtype":"m.text"},"ts":1206001560000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but there's no real reason that a remote Web-based app could not provide the same features","msgtype":"m.text"},"ts":1206001561000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"except that we don't have any standard scripting APIs that would enable Web developers to write such apps","msgtype":"m.text"},"ts":1206001562000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"looks like headers='' hasn't registered on html4all yet","msgtype":"m.text"},"ts":1206003540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm. the restriction against entities in the internal character encoding decl is pretty annoying","msgtype":"m.text"},"ts":1206006180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: is \"# ]","msgtype":"m.text"},"ts":1206006660000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"# The encoding name must be serialised without the use of character entity references or character escapes of any kind. \"","msgtype":"m.text"},"ts":1206006661000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"based on browser behavior?","msgtype":"m.text"},"ts":1206006720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I assume that's to make the preparse thing work correctly?","msgtype":"m.text"},"ts":1206006721000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the way the spec is written, the tree builder's encoding switching thing works even with escaping","msgtype":"m.text"},"ts":1206006722000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: presumably","msgtype":"m.text"},"ts":1206006780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but I have to wonder if this kind of layering-breaking restriction is right","msgtype":"m.text"},"ts":1206006840000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: assuming that the restriction stays, shouldn't it apply not only to the encoding name but the entire attribute?","msgtype":"m.text"},"ts":1206006900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"bah. I'll leave implementation for another day and send email for now","msgtype":"m.text"},"ts":1206006960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"in a way, this restriction is even more annoying than the old 512-byte restriction","msgtype":"m.text"},"ts":1206007020000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"mainly because I implemented that one already","msgtype":"m.text"},"ts":1206007021000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"only sees half a dozen cases of & in charsets","msgtype":"m.emote"},"ts":1206007380000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"like <meta http-equiv=\"Content-Type\" content=\"text/html;&gt;charset=iso-8859-1\" />","msgtype":"m.text"},"ts":1206007381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and <meta http-equiv=\"content-type\" content=\"The 4 annual Los Angeles Independent Horror Film Festival ...and Music Too!! Creeping Your Way, October 2005&gt; &lt;meta name=\" generator\" content=\"Microsoft FrontPage 4.0\">","msgtype":"m.text"},"ts":1206007382000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and similar things","msgtype":"m.text"},"ts":1206007440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`, or Hixie: it would be very useful to have data about pages that use \"<!-- ... > ... EOF\" and \"<script><!-- ... </script> ... EOF\" (with no --> before EOF)","msgtype":"m.text"},"ts":1206009540000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"we're a bit scared that we'll break many pages when fixing that","msgtype":"m.text"},"ts":1206009600000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"or <script><!-- ... </script> ... --> (with no --> before </script>)","msgtype":"m.text"},"ts":1206010380000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"(and no further script blocks afterwards)","msgtype":"m.text"},"ts":1206010440000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"needs a better grep","msgtype":"m.emote"},"ts":1206013200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"has anyone tested if meta can cause browsers to switch to a non-UTF-* non-US-ASCII superset encoding an reparse?","msgtype":"m.text"},"ts":1206013860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: http://philip.html5.org/data/pages-with-unclosed-comments.txt shows the pages that have unclosed comments, assuming my regexp was about right","msgtype":"m.text"},"ts":1206017400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"what does the spec change about that relative to Opera's existing behavior?","msgtype":"m.text"},"ts":1206017520000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://parsetree.validator.nu/?doc=http://brianyeedds.com/ - the HTML5 way doesn't seem to work very well","msgtype":"m.text"},"ts":1206017521000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://parsetree.validator.nu/?doc=http://clubleonberg.free.fr/ loses content too","msgtype":"m.text"},"ts":1206017640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://parsetree.validator.nu/?doc=http://cyrilvictor.photo.free.fr/ too","msgtype":"m.text"},"ts":1206017641000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"So it seems a reasonably common problem","msgtype":"m.text"},"ts":1206017642000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: spec bug or validator.nu bug?","msgtype":"m.text"},"ts":1206017643000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Spec, since it doesn't reparse comments if it finds EOF inside them","msgtype":"m.text"},"ts":1206017700000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"reparsing is evil, though","msgtype":"m.text"},"ts":1206017701000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(as far as I'm aware)","msgtype":"m.text"},"ts":1206017702000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Why is it evil in this case?","msgtype":"m.text"},"ts":1206017760000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(when it's only reparsing comment text)","msgtype":"m.text"},"ts":1206017761000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(so it's already got the text saved in memory, and it hasn't been inserting elements that are hard to undo)","msgtype":"m.text"},"ts":1206017762000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"1) I makes crafted network errors (EOF) cause scripts to run","msgtype":"m.text"},"ts":1206017763000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Oh, http://james.html5.org/cgi-bin/parsetree/parsetree.py?uri=http%3A%2F%2Fcyrilvictor.photo.free.fr%2F says something different","msgtype":"m.text"},"ts":1206017820000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"2) It is a world of pain for parser developers","msgtype":"m.text"},"ts":1206017821000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"having to rewind the byte stream is seriously bad","msgtype":"m.text"},"ts":1206017940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://james.html5.org/cgi-bin/parsetree/parsetree.py?source=%3Cscript%3E%3C!----x%3E%3C/script%3Efoo - html5lib bug?","msgtype":"m.text"},"ts":1206017941000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"taking the decoded comment buffer and emulating document.writing it is also bad but not quite as bad","msgtype":"m.text"},"ts":1206017942000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: Is it intentional that you disabled all the Python tokeniser tests?","msgtype":"m.text"},"ts":1206019140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, looks like just a typo","msgtype":"m.text"},"ts":1206019200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"fixes the --x> thing in html5lib","msgtype":"m.emote"},"ts":1206019440000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(Not sure it's the most sensible fix, since it's only really the data='-' case that causes issues, but it should be safe enough...)","msgtype":"m.text"},"ts":1206019680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/www-style/2008Mar/0279.html","msgtype":"m.text"},"ts":1206021120000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: wow thanks!","msgtype":"m.text"},"ts":1206021360000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the first has --!> ...","msgtype":"m.text"},"ts":1206021420000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://parsetree.validator.nu/?doc=http://www.graniteschools.org/jr/churchill/","msgtype":"m.text"},"ts":1206021900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"That seems to be the <script> thing you were asking about too?","msgtype":"m.text"},"ts":1206021901000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"zcorpan, hsivonen: send mail","msgtype":"m.text"},"ts":1206021902000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"already did about the encoding stuff","msgtype":"m.text"},"ts":1206021960000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'll send a pre-emptive mail about zcorpan's expected email :-)","msgtype":"m.text"},"ts":1206021961000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"needs to make his HTML-grep multithreaded, but isn't entirely sure how to do that without getting the output stream horribly confused","msgtype":"m.emote"},"ts":1206021962000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: yeah","msgtype":"m.text"},"ts":1206022080000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I'm using /(?is)(<script[^>]*>[^<]*<!--([^>]|(?<!--)>)*</script>)([^<]|<(?!/script))*-->([^<]|<(?!/script))*$/ which hopefully is something like what you meant by \"<script><!-- ... </script> ... --> (with no --> before </script>\"","msgtype":"m.text"},"ts":1206022200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"zcorpan: http://philip.html5.org/data/pages-with-unclosed-scripts-and-comment-stuff.txt","msgtype":"m.text"},"ts":1206022320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"zcorpan: does Opera mitigate the script running risk upon reparse?","msgtype":"m.text"},"ts":1206022380000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: yep, thanks","msgtype":"m.text"},"ts":1206022500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: i don't understand the question","msgtype":"m.text"},"ts":1206022560000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"notes that firefox and safari close comments at --!>","msgtype":"m.emote"},"ts":1206022620000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and doing so has better compat with pages i've looked at so far","msgtype":"m.text"},"ts":1206022621000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: the security characteristics of the bytes in the \"comment\" changes radically depending on whether they are comments or markup that can run scripts and instatiate iframes","msgtype":"m.text"},"ts":1206022680000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: In quirks or standards?","msgtype":"m.text"},"ts":1206022740000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: both","msgtype":"m.text"},"ts":1206022741000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"hsivonen: yeah. the reparsed comment can run scripts and instatiate iframes...","msgtype":"m.text"},"ts":1206022742000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: <!-- --foo> for any foo closes the comment in FF2 standards, as far as I can tell","msgtype":"m.text"},"ts":1206022800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"--!> is only special in quirks","msgtype":"m.text"},"ts":1206022801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i'm testing in firefox 3","msgtype":"m.text"},"ts":1206022802000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!doctype%20html%3E%3C!--x--!%3E%20x%20--%3E","msgtype":"m.text"},"ts":1206022860000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!doctype%20html%3E%3C!--x--foo%3E%20x%20--%3E","msgtype":"m.text"},"ts":1206022920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"notes that some pages use // -- ></script>","msgtype":"m.emote"},"ts":1206022921000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and","msgtype":"m.text"},"ts":1206022922000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!--x--foo%3E%20x%20--%3E","msgtype":"m.text"},"ts":1206022980000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!--x--!%3E%20x%20--%3E","msgtype":"m.text"},"ts":1206022981000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: ah","msgtype":"m.text"},"ts":1206022982000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"s/for any foo/for any foo not containing an odd number of '--'/","msgtype":"m.text"},"ts":1206023100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"and is not > :)","msgtype":"m.text"},"ts":1206023160000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"gotta love the simplicity of comments","msgtype":"m.text"},"ts":1206023161000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"foo = '>' will still cause the comment to close when writing <!-- --foo>, so I believe my statement is true without that detail :-)","msgtype":"m.text"},"ts":1206023220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"so about half of the pages i've looked at so far would break if we implemented html5 comment parsing...","msgtype":"m.text"},"ts":1206023280000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"that's 1/2000 of pages","msgtype":"m.text"},"ts":1206023281000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"calculated 0.05%, which agrees","msgtype":"m.emote"},"ts":1206023340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"crockford is still on his warpath","msgtype":"m.text"},"ts":1206023760000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.internetnews.com/webcontent/article.php/3735341/Can+We+Fix+The+Web.htm","msgtype":"m.text"},"ts":1206023820000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://diveintomark.org/archives/2008/02/21/the-bolero-of-troll","msgtype":"m.text"},"ts":1206023821000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It seems kind of obvious to me that the web is completely broken and can't be fixed, so we're just trying to improve at hobbling along as best we can","msgtype":"m.text"},"ts":1206023940000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wishes everything he made was as successful and broken as the web.","msgtype":"m.emote"},"ts":1206024000000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"seriously","msgtype":"m.text"},"ts":1206024180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wonders if there is any successful technology that *isn't* broken","msgtype":"m.emote"},"ts":1206024420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The paperclip","msgtype":"m.text"},"ts":1206024780000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Unless you count broken by design, that is","msgtype":"m.text"},"ts":1206024840000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"Paperclips don't work in microwaves","msgtype":"m.text"},"ts":1206024841000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I meant that character in office","msgtype":"m.text"},"ts":1206024842000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"(at least the plastic-coated metal ones don't)","msgtype":"m.text"},"ts":1206024843000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Oh, okay","msgtype":"m.text"},"ts":1206024844000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think being designed around a bad idea counts as being broken :-)","msgtype":"m.text"},"ts":1206024900000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"And if you're counting missing features as broken, then anything that doesn't implement the universe is broken some way or another :)","msgtype":"m.text"},"ts":1206025020000,"senderName":"Dashiva","senderId":"Dashiva@irc"},
{"content":{"body":"isn't the universe broken too? :)","msgtype":"m.text"},"ts":1206025080000,"senderName":"Camaban","senderId":"Camaban@irc"},
{"content":{"body":"I don't count all feature requests as bugs :-)","msgtype":"m.text"},"ts":1206025081000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I think entropy is a fundamental long-term design flaw","msgtype":"m.text"},"ts":1206025140000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1206025560000,"senderName":"Camaban","senderId":"Camaban@irc"},
{"content":{"body":"hmm. I wonder if I can trust all Java implementations to provide a non-buffering Windows-1252 decoder (on that can be swapped out without stuff getting lost in a buffer)...","msgtype":"m.text"},"ts":1206025561000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"does anyone have good test cases that should cause the parser switch encodings mid-stream or reparse?","msgtype":"m.text"},"ts":1206027480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I deployed lots and lots of parser changes on Validator.nu. ","msgtype":"m.text"},"ts":1206029820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1206029940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm looking at tables like this a lot:","msgtype":"m.text"},"ts":1206029941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.linz.govt.nz/publications/statement%2Dintent%2D0607/financial/financial-statements/financial-performance/index.html","msgtype":"m.text"},"ts":1206029942000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm tempted to say that a header cell in the first column, with no significant data cells on its row, should become a row group header","msgtype":"m.text"},"ts":1206030000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but it actually breaks on that example","msgtype":"m.text"},"ts":1206030001000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so i don't know if i should","msgtype":"m.text"},"ts":1206030002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(it breaks on the last row)","msgtype":"m.text"},"ts":1206030003000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(everything else could be fine)","msgtype":"m.text"},"ts":1206030004000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wishes each Gecko docshell had a thread","msgtype":"m.emote"},"ts":1206030120000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Firefox 3 beachballs on me","msgtype":"m.text"},"ts":1206030180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i haven't had it beachball on me in ages","msgtype":"m.text"},"ts":1206030480000,"senderName":"Pavlov_","senderId":"Pavlov_@irc"},
{"content":{"body":"Pavlov_: try http://parsetree.validator.nu/?doc=http://www.whatwg.org/specs/web-apps/current-work/source","msgtype":"m.text"},"ts":1206030540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"with lots of other tabs open","msgtype":"m.text"},"ts":1206030541000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wfm in ff2, though interaction is a bit jerky while the page is loading. (x11)","msgtype":"m.text"},"ts":1206030600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ironically, i think the wide headers in tables like the following actually probably don't deserve to be read out regularly:","msgtype":"m.text"},"ts":1206030840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://broads-authority.gov.uk/boating/navigating/tide-tables.html","msgtype":"m.text"},"ts":1206030841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.flickr.com/photos/joeclark/192878174/ is an insane table","msgtype":"m.text"},"ts":1206031440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't plan on supporting this kind of table: http://www.flickr.com/photos/joeclark/185786111/","msgtype":"m.text"},"ts":1206031740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: why not if the icons have alt","msgtype":"m.text"},"ts":1206031800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the problem with that table is the column headers","msgtype":"m.text"},"ts":1206031801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"there are two columns, but they vary in number of cells covered per row","msgtype":"m.text"},"ts":1206031802000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(the images are a non-issue)","msgtype":"m.text"},"ts":1206031860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I'd say there are 8 columns","msgtype":"m.text"},"ts":1206031861000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(i should clarify that i mean that i won't support it without use of scope or headers)","msgtype":"m.text"},"ts":1206031862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1206031863000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(obviously if you explicitly list the headers, you can do almost anything)","msgtype":"m.text"},"ts":1206031864000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://sitesurgeon.co.uk/tables/astro/06-seasons/original.html is weird","msgtype":"m.text"},"ts":1206032100000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't understand why the years are duplicated","msgtype":"m.text"},"ts":1206032101000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fwiw, the parser at parsetree.validator.nu is now configured to allow reparsing on late meta","msgtype":"m.text"},"ts":1206032160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"let me know if you ever get a page that validates despite having to trigger that","msgtype":"m.text"},"ts":1206032220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: the validator is configured to give up if the reparse would have to be triggered","msgtype":"m.text"},"ts":1206032280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"since the validator is in the streaming mode and cannot undo the start of the document","msgtype":"m.text"},"ts":1206032281000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ah ok","msgtype":"m.text"},"ts":1206032282000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I implemented on-the-fly encoder change if the characters decoded so far would decode the same way with all ASCII supersets","msgtype":"m.text"},"ts":1206032340000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"but I think that code path will be extremely rare, because when meta is seen, it's not only the past chararters that matter but only the decoded upcoming characters in the read buffer","msgtype":"m.text"},"ts":1206032341000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"s/but only/but also/","msgtype":"m.text"},"ts":1206032400000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the rarity of the code path occurred to me only after implementing","msgtype":"m.text"},"ts":1206032401000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://www.biggerbras.com/bras-by-size-panties-shapers-sizing-catalog.shtml is weird because i don't know what column i'd use for the horizontal headers","msgtype":"m.text"},"ts":1206032520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think the plausible real-world case would go like this: over 512 bytes of inline ASCII-only style and script, meta declaring utf-8, a couple of KB of ASCII text, a copyright sign at the footer","msgtype":"m.text"},"ts":1206032521000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"a lot of the more complicated tables are financial","msgtype":"m.text"},"ts":1206032580000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i recommend we get rid of money","msgtype":"m.text"},"ts":1206032581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: if you consider the actual use case of converting measurements to bra sizes, you'd have \"Back Size\" cell as the row heading","msgtype":"m.text"},"ts":1206032640000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"since Band size is a computed value","msgtype":"m.text"},"ts":1206032641000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"yeah, that was my conclusion too","msgtype":"m.text"},"ts":1206032642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but i don't know if that's what blind users would find most useful","msgtype":"m.text"},"ts":1206032700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"besides, band size culumn is redundant with the actual data cells","msgtype":"m.text"},"ts":1206032701000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"column","msgtype":"m.text"},"ts":1206032702000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"notes that a non-ASCII-superset sniffed by chardet can never become certain","msgtype":"m.emote"},"ts":1206033360000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder if chardet-supported non-ASCII superset encodings are common","msgtype":"m.text"},"ts":1206033420000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"are there any?","msgtype":"m.text"},"ts":1206033421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or do you mean the BOM detection?","msgtype":"m.text"},"ts":1206033480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I mean detecting UTF-16BE or UTF-16LE if those are supported by chardet","msgtype":"m.text"},"ts":1206033540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"they seem to be","msgtype":"m.text"},"ts":1206033660000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"my ff2 has stopped having a working \"find\", so i can't search for utf-16, sigh","msgtype":"m.text"},"ts":1206033661000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"There's nsUCS2BEVerifier and the same as LE","msgtype":"m.text"},"ts":1206033720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm. why am I seeing Ukranian and Russian in the Firefox autodetector menu but I'm not seeing them in the jchardet source?","msgtype":"m.text"},"ts":1206034680000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"bah! the port is incomplete!","msgtype":"m.text"},"ts":1206034800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"it lack nsCyrillicDetector","msgtype":"m.text"},"ts":1206034801000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"sees an XML namespace \"urn:ietf:params:xml:ns:netconf:base:1.0\", which seems much harder to remember than the w3.org ones","msgtype":"m.emote"},"ts":1206035340000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"it comes from the IETF, so it has lots of colons like an IPv6 address :-)","msgtype":"m.text"},"ts":1206035460000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm. If both jchardet and the ICU detector are enabled, which one should run first?","msgtype":"m.text"},"ts":1206035880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"It quite looks like the NETCONF RFC misunderstands XML namespaces","msgtype":"m.text"},"ts":1206035940000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"e.g. for <rpc message-id=\"101\" xmlns=\"...netconf...\" xmlns:ex=\"...example...\" ex:user-id=\"fred\"> it says \"Note that the \"user-id\" attribute is not in the NETCONF namespace.\", which seems to be implying that message-id is","msgtype":"m.text"},"ts":1206036000000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wait let me get this right","msgtype":"m.text"},"ts":1206036060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"are you saying that someone writing a standard... didn't understand xmlns?","msgtype":"m.text"},"ts":1206036061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"surely you jest","msgtype":"m.text"},"ts":1206036062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"xmlns misunderstood, film at 11","msgtype":"m.text"},"ts":1206036120000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and also it has <rpc-reply xmlns=\"...netconf...\" xmlns:xc=\"...netconf...\">...<top xmlns=\"...example...\"><interface xc:operation=\"replace\"> in an example, to set \"the operation attribute\" (and it never says that should be a namespaced attribute, and never implies it except in the example)","msgtype":"m.text"},"ts":1206036180000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"i am shocked.","msgtype":"m.text"},"ts":1206036240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"shocked, i say.","msgtype":"m.text"},"ts":1206036241000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"shocked and dismayed.","msgtype":"m.text"},"ts":1206036242000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"attribute namespaces misunderstood film at 11","msgtype":"m.text"},"ts":1206036243000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"lo","msgtype":"m.text"},"ts":1206036300000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"l","msgtype":"m.text"},"ts":1206036301000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"At least it forbids doctype declarations, which could be considered sensible","msgtype":"m.text"},"ts":1206036302000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"xmlns is hard, let's go shopping","msgtype":"m.text"},"ts":1206036360000,"senderName":"standards_barbie","senderId":"standards_barbie@irc"},
{"content":{"body":"i wonder if i should just treat \"<tr><th>X</th> <!-- no significant content --> </tr>\" the same as \"<tr><th colspan=N>X</th></tr>\" (where N = number of columns)","msgtype":"m.text"},"ts":1206036600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"instead of treating the former in a separate way","msgtype":"m.text"},"ts":1206036601000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"data:text/html;base64,PHRhYmxlPjx0cj48dGg%2BSDx0aD5IPHRoPkg8dHI%2BPHRoPkg8dHI%2BPHRoPkg8dGQ%2BRDx0ZD5EPHRyPjx0aCBjb2xzcGFuPTM%2BSDx0cj48dGg%2BSDx0ZD5EPHRkPkQ8dHI%2BPHRoPkg8dHI%2BPHRoPkg8dGQ%2BRDx0ZD5EPHRyPg%3D%3D","msgtype":"m.text"},"ts":1206036840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what should the default interpretation of that table be?","msgtype":"m.text"},"ts":1206036841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"trips on some passing tumbleweed","msgtype":"m.emote"},"ts":1206037440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I think the browser should add a <caption> element saying \"ERROR: Table is too complex\"","msgtype":"m.text"},"ts":1206037500000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1206037680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It seems helpful for authors if the algorithm is simple and predictable enough that they can tell whether their slightly-fancy table is going to be automatically headerised correctly, or if they're going to have to manually annotate it","msgtype":"m.text"},"ts":1206037800000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"at least for authors who know a bit about the table thing, and care about it, but can't be bothered to use some awkward ugly tool to tell them how the table really is processed","msgtype":"m.text"},"ts":1206037801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(rather than trying to make the algorithm really complex so it handles lots of weird edge cases)","msgtype":"m.text"},"ts":1206037860000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: \"If the resource is not being loaded as part of navigation of a top-level browsing context\"","msgtype":"m.text"},"ts":1206038760000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"Hixie: that statement would be true when loading something in an iframe, right?","msgtype":"m.text"},"ts":1206038820000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"andersca: or a stylesheet, or an image, or XMLHttpRequest, etc, yeah","msgtype":"m.text"},"ts":1206039780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or script","msgtype":"m.text"},"ts":1206039781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or any number of other things","msgtype":"m.text"},"ts":1206039782000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"basically anything except the maii document :-)","msgtype":"m.text"},"ts":1206039840000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"main","msgtype":"m.text"},"ts":1206039841000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"although I guess that only xmlhttprequests can cause the cache selection algorithm to be invoked","msgtype":"m.text"},"ts":1206039842000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"i think the cache selection algorithm can only be invoked when there's a browsing context","msgtype":"m.text"},"ts":1206039900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah, yeah","msgtype":"m.text"},"ts":1206039901000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"http://www.pcworld.com/article/id,140408/article.html is funny","msgtype":"m.text"},"ts":1206042360000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(given safari 3.1)","msgtype":"m.text"},"ts":1206042420000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"...nothing about safari :(","msgtype":"m.text"},"ts":1206042421000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"yeah i love that the only browser to actually _ship_ <video> is the only one not mentioned","msgtype":"m.text"},"ts":1206042480000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the point being, they wanted to do it, and a few months later we actually did it","msgtype":"m.text"},"ts":1206042540000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"exactly","msgtype":"m.text"},"ts":1206042541000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.linuxworld.com/community/?q=node/1768 is also funny","msgtype":"m.text"},"ts":1206042542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1206042543000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"because actually, what the commenter doesn't realise is that if what he suggests were to happen, it would have the opposite effect","msgtype":"m.text"},"ts":1206042544000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1206042600000,"senderName":"tomg","senderId":"tomg@irc"},
{"content":{"body":"clearly, one-way IO streams are the wrong abstraction for feeding an HTML parser from HTTP","msgtype":"m.text"},"ts":1206043560000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the right interface would reuse the HTTP lib cache backing store for rewinding","msgtype":"m.text"},"ts":1206043620000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that assumes the cache is available as a usable memory buffer during parsing","msgtype":"m.text"},"ts":1206043621000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"likely untrue","msgtype":"m.text"},"ts":1206043622000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(unless the item is already in cache)","msgtype":"m.text"},"ts":1206043623000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"(or came in as one network read)","msgtype":"m.text"},"ts":1206043680000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"refrains from commenting on <video>","msgtype":"m.emote"},"ts":1206043681000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"othermaciej: it seems to me that the HTTP lib should create a memory cache object for uncacheable resources in case of rewinding","msgtype":"m.text"},"ts":1206043800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: what I mean is, if it's a resizable buffer, you can't count on it remaining good while the network thread may be loading more data","msgtype":"m.text"},"ts":1206043860000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"though you could count on the individual chunks it gives you I suppose, depending on design of the library","msgtype":"m.text"},"ts":1206043861000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"or wait, I'll comment, but emphasizing that this is my highly personal opinion, and not reflecting anybody else's: Shipping video without support for a freely implementable codec is like not shipping <video> at all","msgtype":"m.text"},"ts":1206043920000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"oh yeah, the interface can't be a simple memory pointer","msgtype":"m.text"},"ts":1206043921000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"virtuelv: I'm sure at least one of the many codecs QuickTime handles is freely implementable","msgtype":"m.text"},"ts":1206043922000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"and I know for sure that you can download an Ogg codec, and that is believed by many to be freely implementable","msgtype":"m.text"},"ts":1206043980000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I guess I should test if Safari 3.1 got the codecs parameter right","msgtype":"m.text"},"ts":1206043981000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm not sure it did","msgtype":"m.text"},"ts":1206043982000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"test cases and/or bug reports welcome","msgtype":"m.text"},"ts":1206043983000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"don't worry about it poisoning the well, as you can see we are on a faster release cycle these days","msgtype":"m.text"},"ts":1206044040000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: yes, but unless codecs are automatically located and automatically installed, next to noone is going to install it, hence rendering it unusable","msgtype":"m.text"},"ts":1206044041000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"(the freely implementable quicktime codecs are likely aged and inefficient, no?)","msgtype":"m.text"},"ts":1206044042000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"actually, I'm worried that the codecs RFC may have too big a mismatch with QuickTime/GStreamer/DirectShow codec identities","msgtype":"m.text"},"ts":1206044043000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"that's hardly a new issue. Just look at charsets","msgtype":"m.text"},"ts":1206044100000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"of the codecs QuickTime supports, I am pretty sure at least H.261 and MPEG-1 are freely implementable (in the sense that all patents must be expired), and probably H.263 as well","msgtype":"m.text"},"ts":1206044101000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I don't know if it is that bad a mismatch","msgtype":"m.text"},"ts":1206044102000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: H.263 is far too recent","msgtype":"m.text"},"ts":1206044103000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"othermaciej: MPEG-1 is too recent, but probably not by the time with get to REC","msgtype":"m.text"},"ts":1206044160000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"then again. this is what is wrong with the entire patent system","msgtype":"m.text"},"ts":1206044161000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"does any browser support any flavor of ISCII?","msgtype":"m.text"},"ts":1206044162000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"virtuelv: for now we are only exporting the platform capabilities, but we are trying to help the work towards a free baseline codec","msgtype":"m.text"},"ts":1206044220000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"gsnedders: I think I was a little mixed up, I believe the state with H.263 is that in practice none of the possibly relevant patent holders appear to ever assert their patents against it","msgtype":"m.text"},"ts":1206044280000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: what platform capabilities on Windows? DirectShow? Or do you require QT?","msgtype":"m.text"},"ts":1206044281000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"not sure if that counts as \"freely implementable\"","msgtype":"m.text"},"ts":1206044282000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"we require QT on Windows","msgtype":"m.text"},"ts":1206044283000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the Gtk port uses GStreamer","msgtype":"m.text"},"ts":1206044284000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"the Qt port uses Phonon","msgtype":"m.text"},"ts":1206044285000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"I wouldn't rule out supporting DirectShow on Windows someday","msgtype":"m.text"},"ts":1206044340000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: I doubt whether that's good enough for the people who need to take the risk","msgtype":"m.text"},"ts":1206044341000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"or possibly having some built-in codecs","msgtype":"m.text"},"ts":1206044342000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: it is the use of a non-free format that irks me","msgtype":"m.text"},"ts":1206044400000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"I'm not sure how I feel about build-in codecs. On the fact of it, I'm against it. Why re-implement something that the platform provides?","msgtype":"m.text"},"ts":1206044401000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"many linux distros do not install stuff that has known patent issues","msgtype":"m.text"},"ts":1206044402000,"senderName":"virtuelv","senderId":"virtuelv@irc"},
{"content":{"body":"how recent is Phonon? I don't recall seeing it on Ubuntu package lists, so I was unaware of the whole framework","msgtype":"m.text"},"ts":1206044460000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Part of KDE4","msgtype":"m.text"},"ts":1206044461000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hsivonen: so pretty","msgtype":"m.text"},"ts":1206044462000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: I mean that if there is a common baseline then maybe we'd provide it for platforms that do not have a platform version, should there be any","msgtype":"m.text"},"ts":1206044520000,"senderName":"othermaciej","senderId":"othermaciej@irc"},
{"content":{"body":"othermaciej: hmm, I'd lean towards just installing it at a platform level with the browser","msgtype":"m.text"},"ts":1206044521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: thanks. that explains it","msgtype":"m.text"},"ts":1206044522000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"my whiteboard is full of little table diagrams","msgtype":"m.text"},"ts":1206045120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://junkyard.damowmow.com/306","msgtype":"m.text"},"ts":1206045600000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"nice","msgtype":"m.text"},"ts":1206045840000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"Philip`: did you develop a list of good chardet test URIs as a side effect of your chardet testing?","msgtype":"m.text"},"ts":1206046740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"One of my friends just brought up a 'problem' with dialog: how to use if the conversation has \"branches\"? (e.g. choose-your-own adventure, marking up a script from a computer game, ...)","msgtype":"m.text"},"ts":1206046980000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"Personally I don't think anything is a good fit for that... but anyone care to differ?","msgtype":"m.text"},"ts":1206046981000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"<dialog> is just for the dialog part","msgtype":"m.text"},"ts":1206046982000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the prose is still in <p>s","msgtype":"m.text"},"ts":1206046983000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so you'd have <p>...</p><p>...</p><dialog>...</dialog><p> Do you want to <a href=...>...</a> or <a href=...>...</a>?</p>","msgtype":"m.text"},"ts":1206047040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: I'm not quite sure which chardet testing you mean","msgtype":"m.text"},"ts":1206047100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Ah! So start a new dialog for each branch.","msgtype":"m.text"},"ts":1206047101000,"senderName":"svl","senderId":"svl@irc"},
{"content":{"body":"Oh, that thing with buffer lengths","msgtype":"m.text"},"ts":1206047160000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"hsivonen: I'm not sure what a \"good chardet test URI\" would be, so I don't already have a list of them","msgtype":"m.text"},"ts":1206047220000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: ok. A good chardet test URI would be a real-world page that lacks an external encoding declaration, a BOM and a charset meta within the first 512 bytes","msgtype":"m.text"},"ts":1206047280000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"on the other hand, Windows-1252 pages with no declarations are needed for testing against the detector accidentally degrading the result compared to simple default","msgtype":"m.text"},"ts":1206047400000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"realizes that Philip` already published http://philip.html5.org/data/charsets.html","msgtype":"m.emote"},"ts":1206047580000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: got another q for you","msgtype":"m.text"},"ts":1206047581000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"shoot","msgtype":"m.text"},"ts":1206047582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: \"If there is already an application cache identified by this manifest URI, and that application cache contains a resource with the URI of the manifest\"","msgtype":"m.text"},"ts":1206047583000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"I should only look at the newest cache in the group there, right","msgtype":"m.text"},"ts":1206047584000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"hsivonen: Ah, okay - I could fairly easily make a list of pages with no HTTP Content-Type and no meta in 512 bytes","msgtype":"m.text"},"ts":1206047640000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"the newest \"idle\" or \"complete\" or whatever-i-called-it cache, right","msgtype":"m.text"},"ts":1206047641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"andersca: i should make that clearer, can you mail about that?","msgtype":"m.text"},"ts":1206047642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: (I don't believe I found a single page with a BOM, so that's not especially relevant)","msgtype":"m.text"},"ts":1206047643000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: I sure can","msgtype":"m.text"},"ts":1206047644000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"andersca: thanks","msgtype":"m.text"},"ts":1206047645000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"is so deep within the table algorithm it hurts","msgtype":"m.emote"},"ts":1206047700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right now i'm changing my boneheaded decision to make the table argorithm be one-based to being zero-based","msgtype":"m.text"},"ts":1206047701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: (or my BOM-detector was buggy)","msgtype":"m.text"},"ts":1206047702000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: that kind of list would be useful","msgtype":"m.text"},"ts":1206047760000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i need to change y_current to y_next, someone remind me of that in about 25 minutes","msgtype":"m.text"},"ts":1206048060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: hmm, cache status is per group, ","msgtype":"m.text"},"ts":1206048180000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"hsivonen: I have a list of 42K URIs with neither HTTP content-type nor sniffable-in-512-bytes meta","msgtype":"m.text"},"ts":1206048181000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1206048182000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: (i.e. about a third of all the pages)","msgtype":"m.text"},"ts":1206048183000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"but while you're running the update thingy, one of the caches isn't ready","msgtype":"m.text"},"ts":1206048184000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"right?","msgtype":"m.text"},"ts":1206048185000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"something like that","msgtype":"m.text"},"ts":1206048186000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i forget the terminology i made up","msgtype":"m.text"},"ts":1206048187000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"this is not the update thingy, this is the select thingy","msgtype":"m.text"},"ts":1206048188000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1206048189000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1206048190000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but they can happen at the same time","msgtype":"m.text"},"ts":1206048191000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so the select thingy needs to be aware of the update thingy","msgtype":"m.text"},"ts":1206048192000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: great. do you have it at an URI?","msgtype":"m.text"},"ts":1206048240000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: I have a file:// URI for it","msgtype":"m.text"},"ts":1206048241000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Hixie: ah","msgtype":"m.text"},"ts":1206048242000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"Let cache be the most recently updated application cache identified by manifest URI (that is, the newest version found in cache group).","msgtype":"m.text"},"ts":1206048243000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1206048244000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so it doesn't need to be the newest cache, it needs to be the most recently updated cache","msgtype":"m.text"},"ts":1206048300000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"isn't that the same thing?","msgtype":"m.text"},"ts":1206048301000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: I think I can't dereference file:// properly. but then I don't need the whole list, since I'm not patient enough to inspect so many pages manully","msgtype":"m.text"},"ts":1206048302000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Also http://philip.html5.org/data/pages-without-obvious-charset.txt","msgtype":"m.text"},"ts":1206048360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Uh, and s/&amp;/&/g before using it","msgtype":"m.text"},"ts":1206048361000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: thank you","msgtype":"m.text"},"ts":1206048362000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(Actually, I might as well make that change...)","msgtype":"m.text"},"ts":1206048363000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders why sed doesn't work","msgtype":"m.emote"},"ts":1206048480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Anyway, fixed ampersands now","msgtype":"m.text"},"ts":1206048540000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"http://020epos.de/ - he's standing on a scarily enormous phone","msgtype":"m.text"},"ts":1206048600000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"cheers zero based table algorithm","msgtype":"m.emote"},"ts":1206048960000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah i dunno why i did it one-based","msgtype":"m.text"},"ts":1206048961000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but let me tell you, there's nothing quite like offsetting an entire algorithm by one","msgtype":"m.text"},"ts":1206048962000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"surprisingly many frontpages are ascii-only meta refreshes","msgtype":"m.text"},"ts":1206048963000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I blame Pascal (that is one based by default, right?)","msgtype":"m.text"},"ts":1206049080000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"not as far as i recall","msgtype":"m.text"},"ts":1206049081000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh, their old-style strings were 1-based (in that index 0 was the length byte), if that's what you mean","msgtype":"m.text"},"ts":1206049082000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"has never programmed Pascal so doesn't actually know, but knows that Hixie has ","msgtype":"m.emote"},"ts":1206049140000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah, i grew up on pascal","msgtype":"m.text"},"ts":1206049141000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"various kinds thereof","msgtype":"m.text"},"ts":1206049142000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"$[ = 1;","msgtype":"m.text"},"ts":1206049200000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"dude","msgtype":"m.text"},"ts":1206049201000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"that's deprecated","msgtype":"m.text"},"ts":1206049202000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"perlvar merely says it's \"highly discouraged\"","msgtype":"m.text"},"ts":1206049203000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"that's what being deprecated means","msgtype":"m.text"},"ts":1206049260000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(unlike e.g. $* which is explicitly deprecated)","msgtype":"m.text"},"ts":1206049261000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Pascal's indexing is harmful","msgtype":"m.text"},"ts":1206049262000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i really don't recall ever having any problem with indexing in pascal, but maybe the compilers i used had \"fixed\" that feature","msgtype":"m.text"},"ts":1206049263000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't recall using 1-based arrays","msgtype":"m.text"},"ts":1206049264000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and strings were 0-based, except for the anomaly of the zeroth byte of a string being its length instead of the first character","msgtype":"m.text"},"ts":1206049320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(and more modern string types in pascal are all zero-based)","msgtype":"m.text"},"ts":1206049321000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what's with all these Chinese government sites having a meta refresh instead of a proper root page?","msgtype":"m.text"},"ts":1206049380000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Option Base 1;","msgtype":"m.text"},"ts":1206049381000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Uh, without the semicolon","msgtype":"m.text"},"ts":1206049382000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Of course Fortran will let you set array indicies on a case-by-case basis","msgtype":"m.text"},"ts":1206049383000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"never used basic","msgtype":"m.text"},"ts":1206049384000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i'm glad to say","msgtype":"m.text"},"ts":1206049385000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(well, except for a couple of things, but i never used \"option base\" in any basic i ever used)","msgtype":"m.text"},"ts":1206049440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"haha. not even meta refresh:","msgtype":"m.text"},"ts":1206049500000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"UrlTable[0] = \"index_cn.html\";","msgtype":"m.text"},"ts":1206049501000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"location.href=UrlTable[Math.round(Math.random()*(UrlTable.length-1))];","msgtype":"m.text"},"ts":1206049502000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"real a(-134, 126)","msgtype":"m.text"},"ts":1206049503000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: yeah, pascal is the same, you can set arrays to be whatever indicies you want","msgtype":"m.text"},"ts":1206049504000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: Uh, isn't that going to go to undefined half the time?","msgtype":"m.text"},"ts":1206049505000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham: on another note, i just regenned the spec, if you have a moment it'd be great to see if you can find bugs in the new algorithm (i only changed the base)","msgtype":"m.text"},"ts":1206049506000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: weren't myself, you, and cwilso discussing Pascal a while back, when cwilso mentioned arrays could be any based?","msgtype":"m.text"},"ts":1206049507000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: so it seems","msgtype":"m.text"},"ts":1206049560000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie you wanted o be reminded now \"i need to change y_current to y_next\"","msgtype":"m.text"},"ts":1206049561000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yeah i did that","msgtype":"m.text"},"ts":1206049562000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: sorry, I'm a bit behind reading","msgtype":"m.text"},"ts":1206049563000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"who needs 1-based indeces when you can select from one slot at random?","msgtype":"m.text"},"ts":1206049564000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"gsnedders: yeah, \"array[2..92] of byte;\" or some such","msgtype":"m.text"},"ts":1206049565000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fun :\\","msgtype":"m.text"},"ts":1206049566000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"For interoperability, HTML5 needs to define the random number generator seed that must be initialised at every page load","msgtype":"m.text"},"ts":1206049567000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ponders","msgtype":"m.emote"},"ts":1206049620000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Apparently some well known scientific codes fake 1-based arrays in C just because the authors were more used to Fortran","msgtype":"m.text"},"ts":1206049621000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It seems I'll likely be going to Cambridge twice this year.","msgtype":"m.text"},"ts":1206049622000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"hah. I found a chinese govt site that has over 512 bytes of style before meta. loading it in Firefox tells me it is an attack site","msgtype":"m.text"},"ts":1206049680000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"is assuming that .gov.cn is government","msgtype":"m.emote"},"ts":1206049681000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"if 0<=z<5, z_max = 4, what would you call the constant 5? z_what?","msgtype":"m.text"},"ts":1206049740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Mathematicians can't even decide whether N (the set of natural numbers) starts at 0 or 1","msgtype":"m.text"},"ts":1206049741000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"or what you say z_max was 5?","msgtype":"m.text"},"ts":1206049742000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: 1.","msgtype":"m.text"},"ts":1206049743000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":":P","msgtype":"m.text"},"ts":1206049744000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: Is z an integer?","msgtype":"m.text"},"ts":1206049745000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I conclude that heuristics for Simplified Chinese work","msgtype":"m.text"},"ts":1206049746000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"onto Japanese","msgtype":"m.text"},"ts":1206049747000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Hixie: z_max has any relevance elsewhere?","msgtype":"m.text"},"ts":1206049800000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Philip`: yes","msgtype":"m.text"},"ts":1206049801000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I'd say z_max was the maximum z, i.e. 4, not 5, and I'd say anything else was crazy","msgtype":"m.text"},"ts":1206049802000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: ok, so what is 5?","msgtype":"m.text"},"ts":1206049803000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"z_max+1","msgtype":"m.text"},"ts":1206049804000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"z_max + 1","msgtype":"m.text"},"ts":1206049805000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"well, if we were talking about x instead of z, i'd say it was \"width\"","msgtype":"m.text"},"ts":1206049860000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Range?","msgtype":"m.text"},"ts":1206049861000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Just use numbers and letters, and don't bother with meaningful English words","msgtype":"m.text"},"ts":1206049920000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(but if you do that you need to define z_range = z_max - z_min +1)","msgtype":"m.text"},"ts":1206049921000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"screw it, i'll use x_width and y_height","msgtype":"m.text"},"ts":1206049922000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"gsnedders: Hopefully at least one of those occasions won't be too rainy","msgtype":"m.text"},"ts":1206050040000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: it tends to be all right in July, at least","msgtype":"m.text"},"ts":1206050041000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: another q about the selection process","msgtype":"m.text"},"ts":1206050160000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"\"Otherwise, there is no matching application cache: create a new application cache identified by this manifest URI, store the resource in that cache, categorised as an implicit entry, and then invoke the application cache update process.\"","msgtype":"m.text"},"ts":1206050161000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"gsnedders: We're having a conference in July and the conference \"gift\" will be an umbrella...","msgtype":"m.text"},"ts":1206050162000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: heh.","msgtype":"m.text"},"ts":1206050220000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: \"store the resource\" means store the headers + contents?","msgtype":"m.text"},"ts":1206050221000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"jgraham: I mean, I'm heading south (within the northern hemisphere)! The weather should be better, no?","msgtype":"m.text"},"ts":1206050222000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"andersca: it means the resource, including any metadata, forks, alternate streams, anything that comes with it","msgtype":"m.text"},"ts":1206050223000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: OK - so","msgtype":"m.text"},"ts":1206050280000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"Hixie: since this is during the selection process, the resource has most likely not finished loading yet","msgtype":"m.text"},"ts":1206050281000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"gsnedders: Well it's supposed to be one of the dries places in he country, but I think he west coast of Scotland is too","msgtype":"m.text"},"ts":1206050282000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"driest","msgtype":"m.text"},"ts":1206050283000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: s/west/east","msgtype":"m.text"},"ts":1206050284000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"er, yeah","msgtype":"m.text"},"ts":1206050340000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"andersca: indeed","msgtype":"m.text"},"ts":1206050341000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: and that is probably not a problem since the update process is started right after adding it","msgtype":"m.text"},"ts":1206050400000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"andersca: i'm not sure why it would be a problem at all really, other than for implementation reasons","msgtype":"m.text"},"ts":1206050460000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"as in, i could see architectural problems with systems not designed to support this being an issue","msgtype":"m.text"},"ts":1206050520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: yeah, it's as dry here as it is in Rome","msgtype":"m.text"},"ts":1206050521000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Hixie: right","msgtype":"m.text"},"ts":1206050522000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"but conceptually, it's just a matter of deciding where to stream the data to","msgtype":"m.text"},"ts":1206050523000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"what if I load my html file which has a cache manifest and an iframe which references the same html file","msgtype":"m.text"},"ts":1206050580000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"ok. I trust the heuristics work well enough. time to deploy","msgtype":"m.text"},"ts":1206050581000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"andersca: the iframe always just uses the top-level browsing context's cache, and never ends up creating its own cache itself","msgtype":"m.text"},"ts":1206050582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: yeah, but where would the iframe get the html file from? would it depend on whether the cache was finished updating or not?","msgtype":"m.text"},"ts":1206050640000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"andersca: it would get it from whatever cache its top-level browsing context is associated with. if it's not associated with anything, it would get it from the main cache.","msgtype":"m.text"},"ts":1206050700000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(or, failing that, the network)","msgtype":"m.text"},"ts":1206050701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I mean, let's say I have something like","msgtype":"m.text"},"ts":1206050880000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"a file called test.html which looks like","msgtype":"m.text"},"ts":1206050940000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"<html manifest=...><iframe src=\"test.html\"></iframe></html>","msgtype":"m.text"},"ts":1206050941000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"is this the first time you visit it, or the second time?","msgtype":"m.text"},"ts":1206051000000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the first time","msgtype":"m.text"},"ts":1206051001000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"i.e. do you already have a cache for it?","msgtype":"m.text"},"ts":1206051002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1206051003000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"I do not","msgtype":"m.text"},"ts":1206051004000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"parsetree.validator.nu now uses both chardet and the ICU detector","msgtype":"m.text"},"ts":1206051005000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"the validation side doesn't use heuristics","msgtype":"m.text"},"ts":1206051006000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"andersca: ok, so, regardless of what's going on with the manifest, the result is an infinitely nested iframe of the same document. however:","msgtype":"m.text"},"ts":1206051060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, I agree it's a bad test case :)","msgtype":"m.text"},"ts":1206051061000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"andersca: until such time as the manifest has been downloaded and processed, the iframes will be populated from the main cache","msgtype":"m.text"},"ts":1206051062000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"andersca: then, once the manifest is processed, the iframe will start getting populated from the manifest cache","msgtype":"m.text"},"ts":1206051063000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"4.6.5.1. Changes to the networking model is the key section for this","msgtype":"m.text"},"ts":1206051120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(note in particular step 5)","msgtype":"m.text"},"ts":1206051180000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(though it doesn't affect this case)","msgtype":"m.text"},"ts":1206051181000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"step 3 is the relevant step here, right","msgtype":"m.text"},"ts":1206051182000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"the 3rd paragraph of step 24 of the application cache update process is the key here","msgtype":"m.text"},"ts":1206051240000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"when that happens, suddenly the new network model takes effect","msgtype":"m.text"},"ts":1206051300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"knows nothing about this algorithm, but the mere existence of a 3rd paragraph of a 24th step makes it sound unreasonably complex :-p","msgtype":"m.emote"},"ts":1206051360000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1206051361000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"Philip`: not necessarily, it can also be detailed","msgtype":"m.text"},"ts":1206051362000,"senderName":"andersca","senderId":"andersca@irc"},
{"content":{"body":"why is it that I see more silly refresh and window.location front pages on Chinese and Korean sites than on German and Polish sites?","msgtype":"m.text"},"ts":1206051363000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Philip`: it's pretty verbose","msgtype":"m.text"},"ts":1206051364000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Philip`: and believe me, mucking in the way that browsers load files is always gonna be complex, unless it's underspecified :-)","msgtype":"m.text"},"ts":1206051365000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hsivonen: I would expect you'd see more <marquee>s on them too","msgtype":"m.text"},"ts":1206051420000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"which presumably is a cultural issue","msgtype":"m.text"},"ts":1206051421000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"or I'm just stereotyping :-)","msgtype":"m.text"},"ts":1206051480000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: sure, marquee is cultural, but is failing to serve proper content at site root cultural?","msgtype":"m.text"},"ts":1206051481000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Aha, fortunately I have evidence for my opinion - 30% of the .cn sites in dmoz.org use <marquee>, vs 3% of all sites","msgtype":"m.text"},"ts":1206051660000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"(.kr and .jp are around 3%)","msgtype":"m.text"},"ts":1206051720000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"FrontPage sure seems to be popular on Taiwan","msgtype":"m.text"},"ts":1206051780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"(and .tw is about 3% too)","msgtype":"m.text"},"ts":1206051781000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"wonders if there's a good way of automatically finding significant correlations like this","msgtype":"m.emote"},"ts":1206051840000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"make a list of all the characteristics, get the characteristics for all the demographics you want tested, and then flag any values that are more than one stddev outside the mean?","msgtype":"m.text"},"ts":1206052020000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm. the detection fails big time in .ru","msgtype":"m.text"},"ts":1206052080000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"KOI-R get misdetected as Chinese UTF-16","msgtype":"m.text"},"ts":1206052081000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Is that because there's no Cyrillic detector in jchardet?","msgtype":"m.text"},"ts":1206052082000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: probably","msgtype":"m.text"},"ts":1206052140000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I think I should reject UTF-16 in the detectors","msgtype":"m.text"},"ts":1206052141000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"real UTF-16 comes with a BOM anyway","msgtype":"m.text"},"ts":1206052142000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"or so I would hope","msgtype":"m.text"},"ts":1206052143000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Real UTF-16 tends to stay away from web","msgtype":"m.text"},"ts":1206052260000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Actually, that's a completely unfounded statement","msgtype":"m.text"},"ts":1206052261000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"The web tends to stay away from UTF-16","msgtype":"m.text"},"ts":1206052320000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"lxml 2.0 seems to break the html5lib tests: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=471638","msgtype":"m.text"},"ts":1206052740000,"senderName":"bzed","senderId":"bzed@irc"},
{"content":{"body":"bzed: known issue that we will fix soonish (it's the second thing on my priority list)","msgtype":"m.text"},"ts":1206053220000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Do you need a fix for some release, in which case I will move it to first?","msgtype":"m.text"},"ts":1206053280000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: as long as it is fixed before Debian's Lenny is frozen, I'll be fine. THat's not too far away, though, but I guess there're at least 4 weeks left to fix it","msgtype":"m.text"},"ts":1206053460000,"senderName":"bzed","senderId":"bzed@irc"},
{"content":{"body":"jgraham: is the bug in lxml 2 or html5lib?","msgtype":"m.text"},"ts":1206053520000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: It's in html5lib","msgtype":"m.text"},"ts":1206053640000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"We were using a kind of hack to make lxml work (using a technically invalid tag name to represent the notional root node), which worked OK in lxml 1 but not in 2 which actually checks","msgtype":"m.text"},"ts":1206053700000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1206053701000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(it's actually mostly fixed in svn but there are a few issues with treewalkers and so that need to be ironed out)","msgtype":"m.text"},"ts":1206053820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: thanks for the info, I'll ping you again in a fwe weeks :)","msgtype":"m.text"},"ts":1206054000000,"senderName":"bzed","senderId":"bzed@irc"},
{"content":{"body":"bzed: Yeah do.","msgtype":"m.text"},"ts":1206054001000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: ok, i think i got all the kinks out of the algorithm","msgtype":"m.text"},"ts":1206055680000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"jgraham: if you have a moment, i'd love to make sure it's not broken before checking it in :-)","msgtype":"m.text"},"ts":1206055740000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"http://www.whatwg.org/specs/web-apps/current-work/#processing","msgtype":"m.text"},"ts":1206055741000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: I'll have a look but I don't have a good way to check for mistakes","msgtype":"m.text"},"ts":1206056100000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"i am relying on your brain :-)","msgtype":"m.text"},"ts":1206056160000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"As I said...","msgtype":"m.text"},"ts":1206056161000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"i've checked it in, anyway","msgtype":"m.text"},"ts":1206056220000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i figure if there are issues, we'll find them soon enough","msgtype":"m.text"},"ts":1206056221000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh crap i forgot to update the next section","msgtype":"m.text"},"ts":1206056222000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"A row group is a set of rows anchored at a slot (0, groupy) with a particular height such that the row group covers all the slots with coordinates (x, y) where 0 ≤ x < x_width-1","msgtype":"m.text"},"ts":1206056340000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"should that be 0 ≤ x < x_width","msgtype":"m.text"},"ts":1206056400000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1206056401000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(since x = x_width-1 is the last column)","msgtype":"m.text"},"ts":1206056402000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1206056403000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"good catch","msgtype":"m.text"},"ts":1206056404000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"will fix","msgtype":"m.text"},"ts":1206056405000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Similarly wih column groups","msgtype":"m.text"},"ts":1206056406000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Can a cll be in 0 row groups now? I thought that there was always at least 1 implied row group before","msgtype":"m.text"},"ts":1206056520000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"does Opera have an email address for reporting security issues?","msgtype":"m.text"},"ts":1206056580000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"it's always been able to be in zero groups","msgtype":"m.text"},"ts":1206056581000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"xhtml: <table><tr><td>cell with no groups</td></tr></table>","msgtype":"m.text"},"ts":1206056582000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, fixed the problems above, and the section after (assigning), too. (reload if you care to check)","msgtype":"m.text"},"ts":1206056640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Ah, XHTML","msgtype":"m.text"},"ts":1206056641000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jruderman: I think you use the form at http://www.opera.com/support/bugs/","msgtype":"m.text"},"ts":1206056700000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: you can't attach files there, so it's kinda useless for reporting security holes","msgtype":"m.text"},"ts":1206056701000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"jruderman: \"When your report is submitted, you will get an e-mail address to which you can send updates and attachments relevant to your report. \"","msgtype":"m.text"},"ts":1206056760000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1206056761000,"senderName":"jruderman","senderId":"jruderman@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1206056762000,"senderName":"jruderman","senderId":"jruderman@irc"}
]