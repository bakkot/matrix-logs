[
{"content":{"body":"JakeA: also, I think this spec issue might be another one of those things we \"decided\", but neither firefox or chrome ships yet: https://github.com/w3c/ServiceWorker/issues/787","msgtype":"m.text"},"ts":1504054452000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: do we really want to do that or should we warn MS/webkit off from it?","msgtype":"m.text"},"ts":1504054470000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"gsnedders: https://whatwg.org/specs/web-forms/2005-07-03/","msgtype":"m.text"},"ts":1504075508000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"https://annevankesteren.nl/2005/07/html5-doctype is a good read; annevk's way of rambling, and the comments with sgml nerd snipes","msgtype":"m.text"},"ts":1504076246000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"wow I think I never read that before maybe","msgtype":"m.text"},"ts":1504077299000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"fun to look at https://annevankesteren.nl/2005/06/countdown","msgtype":"m.text"},"ts":1504077503000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and https://annevankesteren.nl/2003/08/markup","msgtype":"m.text"},"ts":1504077680000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"reading about the \"noopener\" stuff","msgtype":"m.text"},"ts":1504078604000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"apparently the attack vector is also relevant to <form target=\"_blank\"> ?","msgtype":"m.text"},"ts":1504078620000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"but there is no rel attribute here to prevent it from happening?","msgtype":"m.text"},"ts":1504078628000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"hmm yeah","msgtype":"m.text"},"ts":1504078862000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I wonder if mathiasbynens has written about this","msgtype":"m.text"},"ts":1504078941000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not about <form target=\"_blank\"> specifically (only https://mathiasbynens.github.io/rel-noopener/)","msgtype":"m.text"},"ts":1504078990000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"hi mathiasbynens","msgtype":"m.text"},"ts":1504079004000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"wonders how common <form target=_blank> is","msgtype":"m.emote"},"ts":1504079005000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"heya MikeSmith!","msgtype":"m.text"},"ts":1504079018000,"senderName":"mathiasbynens","senderId":"mathiasbynens@irc"},
{"content":{"body":"yeah, I knew about https://mathiasbynens.github.io/rel-noopener/","msgtype":"m.text"},"ts":1504079019000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I find https://stackoverflow.com/questions/13569776/obtain-reference-to-blank-target-window-on-form-submit","msgtype":"m.text"},"ts":1504079057000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"mathiasbynens: probably not that common, but once people start adding noopeners to <a>s, attackers might switch to these forms","msgtype":"m.text"},"ts":1504079150000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"Domenic: by the way, does the Stack Overflow stats info expose stats at the question level? Such that you could look at a particular question and find out where the views of that question are coming from?","msgtype":"m.text"},"ts":1504079187000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: not that I know of, hmm","msgtype":"m.text"},"ts":1504079240000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"ondras: I don't think the worry is attackers injecting the links","msgtype":"m.text"},"ts":1504079910000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1504079920000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"(but attackers manipulating the target pages, right?)","msgtype":"m.text"},"ts":1504079929000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: it is worth considering though how much of the stuff that works on <a> should also work on <form>","msgtype":"m.text"},"ts":1504079937000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ondras: since they're effectively the same and end up triggering the same algorithm","msgtype":"m.text"},"ts":1504079954000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1504079960000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: adding rel=\"\" to <form> doesn't seem bad per se","msgtype":"m.text"},"ts":1504079975000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: agreed","msgtype":"m.text"},"ts":1504080156000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"annevk: also, perhaps, <base>, as these can specify target=\"_blank\" as well","msgtype":"m.text"},"ts":1504080208000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: I'd rather people just avoid <base>","msgtype":"m.text"},"ts":1504080277000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1504080284000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"has a use case","msgtype":"m.emote"},"ts":1504080289000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"Of course you do","msgtype":"m.text"},"ts":1504080308000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"my html slide decks typically have <base target=\"_blank\"> and I think it is reasonable","msgtype":"m.text"},"ts":1504080313000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"Yeah, I guess <base rel=noopener> would actually be nice","msgtype":"m.text"},"ts":1504080351000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1504080364000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: you might be able to convince mkwst and make this a  thing","msgtype":"m.text"},"ts":1504080375000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: okay. I shall talk him to <form rel> or <base rel> or both?","msgtype":"m.text"},"ts":1504080403000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: both I suppose","msgtype":"m.text"},"ts":1504080608000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: okay, thanks","msgtype":"m.text"},"ts":1504080618000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"mkwst: what is your opinion regarding the possibility of adding the rel=noopener attribute/value for <form> and <base> tags?","msgtype":"m.text"},"ts":1504087441000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"wanderview: Baku was right in terms of the signal null thing. It was just the IDL that was wrong. Fixing now.","msgtype":"m.text"},"ts":1504087592000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"done","msgtype":"m.text"},"ts":1504087630000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"so, for an Atomics-related question, who is the best irc-enabled person?","msgtype":"m.text"},"ts":1504093109000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"ondras: maybe in #tc39 or #jslang on Mozilla IRC?","msgtype":"m.text"},"ts":1504093486000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(#tc39 is on Freenode)","msgtype":"m.text"},"ts":1504093496000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ondras: as for adding rel to <form> and <base>, might be better to file a bug against whatwg/html and get attention that way","msgtype":"m.text"},"ts":1504093542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ondras: I vaguely recall someone suggesting it before for <form>","msgtype":"m.text"},"ts":1504093553000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: okay, thanks","msgtype":"m.text"},"ts":1504093560000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"annevk: any idea why XHR terminates the request during the open() method? https://xhr.spec.whatwg.org/#the-open()-method","msgtype":"m.text"},"ts":1504095941000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"step 10","msgtype":"m.text"},"ts":1504095954000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"can an XHR be opened, sent, then opened again (resulting in termination of the original)","msgtype":"m.text"},"ts":1504096248000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA, why not?","msgtype":"m.text"},"ts":1504097676000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: I guess I'd always thought that new XMLHttpRequest maps to at most one request/response","msgtype":"m.text"},"ts":1504098415000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Now that would be the simple approach","msgtype":"m.text"},"ts":1504098440000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"But imagine the overhead if you had to create a new object for your next request!","msgtype":"m.text"},"ts":1504098480000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(At least I suspect that was the idea)","msgtype":"m.text"},"ts":1504098488000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1504098516000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"how's w3schools these days, for the purpose of being worthwhile for beginners? has it improved? i see http://www.w3fools.com/ has toned down its messaging from what i remember","msgtype":"m.text"},"ts":1504098639000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"JakeA: just making sure, you did see my (mostly inconsequential) comment on that fetch cancelation PR right?","msgtype":"m.text"},"ts":1504098655000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"TimothyGu: yep! I've made the changes, just haven't pushed yet","msgtype":"m.text"},"ts":1504098675000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Was OOO last week","msgtype":"m.text"},"ts":1504098684000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"oh cool","msgtype":"m.text"},"ts":1504098688000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"JakeA: I'm not sure who made all the dubious decisions in the XMLHttpRequest API","msgtype":"m.text"},"ts":1504099115000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I thought Microsoft did and everybody else just had to reverse engineer the IE behavior","msgtype":"m.text"},"ts":1504099233000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: I haven’t seen any indications that w3cschools has improved at all","msgtype":"m.text"},"ts":1504099282000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"they have no incentive to improve really","msgtype":"m.text"},"ts":1504099294000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: the module might have come from Outlook originally or some such","msgtype":"m.text"},"ts":1504099379000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah it did","msgtype":"m.text"},"ts":1504099397000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"different team","msgtype":"m.text"},"ts":1504099400000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: there was a post by a Microsoft engineer at some point, but nobody really wanted to come out say it was the truth","msgtype":"m.text"},"ts":1504099412000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: \"W3Schools still has issues but they have at least worked on the primary concern developers had.\" says w3fools, which seems like an indicator of improvement","msgtype":"m.text"},"ts":1504099446000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"TimothyGu: thanks for the review btw!","msgtype":"m.text"},"ts":1504099457000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: np :)","msgtype":"m.text"},"ts":1504099484000,"senderName":"TimothyGu","senderId":"TimothyGu@irc"},
{"content":{"body":"we met the guy who worked on the team that made XHR, when we went to Redmond for that sorta emergency meeting after Microsoft released their proprietary CORS thing","msgtype":"m.text"},"ts":1504099505000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: https://github.com/paulirish/w3fools/commit/0d78c7fe164418937695b7f20cd536a910760060","msgtype":"m.text"},"ts":1504099516000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"zcorpan: I don’t think it’s observable that it’s improved","msgtype":"m.text"},"ts":1504099552000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"k, thanks","msgtype":"m.text"},"ts":1504099577000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"at least I can say from reading questions at Stack Overflow that there are many cases still of content there which is out of date or plain wrong","msgtype":"m.text"},"ts":1504099599000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"zcorpan: thugh obviously that commit that doesn't say what changed","msgtype":"m.text"},"ts":1504099647000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"http://www.hixie.ch/advocacy/writing-test-cases-for-web-browsers is a nice read (found by way of link in one of annevk old blog posts)","msgtype":"m.text"},"ts":1504099725000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I especially like STEP ONE of Creating testcases from scratch","msgtype":"m.text"},"ts":1504099756000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the advice on reading the specification","msgtype":"m.text"},"ts":1504099786000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"JakeA: should baku write a github issue for the AbortSignal? thing?","msgtype":"m.text"},"ts":1504099797000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I just pushed that change","msgtype":"m.text"},"ts":1504100094000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: thanks","msgtype":"m.text"},"ts":1504100104000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: I wonder what edge implemented here...","msgtype":"m.text"},"ts":1504100642000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: yeah, I'll ping them once the PR lands","msgtype":"m.text"},"ts":1504100666000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: GitHub isn't displaying it on the main pull page for some reason, but I'm not sure what the best way forward is in terms of abort & XHR https://github.com/whatwg/fetch/pull/523/files#r136062170","msgtype":"m.text"},"ts":1504101523000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"MikeSmith, yeah, good advice","msgtype":"m.text"},"ts":1504101602000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"skips the spec-reading part (boooooooooring), writes a test that vaguely matches what he thinks the spec might say","msgtype":"m.emote"},"ts":1504101634000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"JakeA: I will look tomorrow most likely, sorry about that","msgtype":"m.text"},"ts":1504101781000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: no problem at all","msgtype":"m.text"},"ts":1504101799000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: oh, here is a tricky question... if a FetchEvent handler saves the evt.request.signal somewhere, but does *not* call respondWith(), should the signal still fire if the outer network request is aborted?","msgtype":"m.text"},"ts":1504101948000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: or can we mark disconnect the signal after the FetchEvent handler passes on intercepting the request","msgtype":"m.text"},"ts":1504101988000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1504101990000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: that is a tricky question. I'm guessing it's much easier implementation-wise to disconnect the signal?","msgtype":"m.text"},"ts":1504102172000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: easier... not really... but from an efficiency and memory footprint it would be nice to","msgtype":"m.text"},"ts":1504102210000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"to do","msgtype":"m.text"},"ts":1504102213000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: I guess there is a related question... if the event handler does not call respondWith(), but holds on to FetchEvent.request... can it read the body later?  or is the body marked used when the browser conceptually consumes it?","msgtype":"m.text"},"ts":1504102333000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: body should be marked as used","msgtype":"m.text"},"ts":1504102662000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I think","msgtype":"m.text"},"ts":1504102709000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: Did we stop trying to get every interface to have a Exposed attribute and kill PrimaryGlobal?","msgtype":"m.text"},"ts":1504102723000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"JakeA: hmm... I doubt we do that","msgtype":"m.text"},"ts":1504102765000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I haven't found it in the spec yet either","msgtype":"m.text"},"ts":1504102797000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"nox, that has recently started happening","msgtype":"m.text"},"ts":1504102875000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"https://github.com/heycam/webidl/pull/423","msgtype":"m.text"},"ts":1504102900000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"wanderview: hmm. It does feel like we're treating the request as a clone, which is especially broken in the body stream case","msgtype":"m.text"},"ts":1504103017000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"wanderview: I'll write up an issue","msgtype":"m.text"},"ts":1504103023000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: in our implementation it is effectively a clone","msgtype":"m.text"},"ts":1504103046000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"but not sure the spec should assume that","msgtype":"m.text"},"ts":1504103057000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"annevk: What’s the right way to compare documents?","msgtype":"m.text"},"ts":1504103510000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"annevk: Say I want to compare an element’s node document with the document of the WindowProxy?","msgtype":"m.text"},"ts":1504103525000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"annevk: In specalese, that is.","msgtype":"m.text"},"ts":1504103543000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"nox: no","msgtype":"m.text"},"ts":1504103914000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ato: doc is otherDoc?","msgtype":"m.text"},"ts":1504103942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Just “is”?","msgtype":"m.text"},"ts":1504103959000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"annevk: That’s super, thanks.","msgtype":"m.text"},"ts":1504103967000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"wanderview: https://github.com/w3c/ServiceWorker/issues/1191","msgtype":"m.text"},"ts":1504104986000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"wanderview: It feels like request.signal should continue to work until it's GC'd","msgtype":"m.text"},"ts":1504105035000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"wanderview/gsnedders: re: adding comments to tests about what it is they're testing, that's what the name of the test is for. Which is why it is absurd that it's the last arg instead of the first.","msgtype":"m.text"},"ts":1504105143000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"ato: object identity is is","msgtype":"m.text"},"ts":1504105149000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tobie: a single string is pretty inadequate for documentation, imo","msgtype":"m.text"},"ts":1504105166000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"tobie: I agree with that now. Unfortunately, I didn't agree it when I originally reviewed testharness.js. :P","msgtype":"m.text"},"ts":1504105189000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"wanderview: means you're testing too many things at once, then.","msgtype":"m.text"},"ts":1504105196000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"gsnedders: rwaldron had a fit over this","msgtype":"m.text"},"ts":1504105217000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"tobie: no it doesn't... please come write some service workers tests and get back to me","msgtype":"m.text"},"ts":1504105222000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"and putting multi-line paragraphs in the name make it hard to write things like expectation files where you need to reference the test","msgtype":"m.text"},"ts":1504105250000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: yeah, this might very well not be the right solution for all the cases, but it clearly is for the 80% and yet…","msgtype":"m.text"},"ts":1504105354000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"wanderview: good point re the need to ref tests by name in acceptance tests.","msgtype":"m.text"},"ts":1504105372000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"wanderview: care to point me to some good examples of SW tests? curious as to what they look like","msgtype":"m.text"},"ts":1504105393000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"wanderview: (in case that wasn't clear, that was a general \"you\", not you specifically)","msgtype":"m.text"},"ts":1504105551000,"senderName":"tobie","senderId":"tobie@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1504105574000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: you mean until request can be GC'd, right?","msgtype":"m.text"},"ts":1504106168000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: request has a strong reference to any objects it holds","msgtype":"m.text"},"ts":1504106196000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: in theory someone could hold the signal alive beyond the end of the Request","msgtype":"m.text"},"ts":1504106376000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: in that case it seems fine to toss the request though","msgtype":"m.text"},"ts":1504106435000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I guess I don't know what you are saying... even if the Request wrapper is GC'd, the signal tied to the main thread request could still work, right?","msgtype":"m.text"},"ts":1504106498000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: I was mostly saying that request.signal should continue working for as long as someone has a reference to request","msgtype":"m.text"},"ts":1504106550000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"agreed","msgtype":"m.text"},"ts":1504106983000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"signal can't be gc'd until request is","msgtype":"m.text"},"ts":1504106998000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: also I think FetchEvent.request might need to be a \"clone\" because of cross-thread stuff","msgtype":"m.text"},"ts":1504107049000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: hm, so we'd need to buffer any request body stream until fetchEvent.request can be GC'd?","msgtype":"m.text"},"ts":1504107123000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: well, it might depend on how ReadableStream transfer is spec'd?  is that spec'd yet?","msgtype":"m.text"},"ts":1504107151000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: nah, don't think so","msgtype":"m.text"},"ts":1504107275000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: in theory it should be like the browser consuming the Request.body stream on the main thread... it may stop reading if the worker thread is not consuming it, though","msgtype":"m.text"},"ts":1504107348000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"annevk: Thanks","msgtype":"m.text"},"ts":1504108637000,"senderName":"ato","senderId":"ato@irc"},
{"content":{"body":"JakeA: btw, current firefox nightly has abortable fetch enabled","msgtype":"m.text"},"ts":1504110095000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"won't ride the trains to beta/release until we can fix the service worker FetchEvent.request.signal thing","msgtype":"m.text"},"ts":1504110119000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: ohhhh exciting!","msgtype":"m.text"},"ts":1504112369000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I'm trying to make a glitch demo for it now","msgtype":"m.text"},"ts":1504112383000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: https://simple-abort-fetch.glitch.me/","msgtype":"m.text"},"ts":1504112639000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"I'm not sure why we buffer for so long before returning the Response","msgtype":"m.text"},"ts":1504112715000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: do you know how to set headers on responses in glitch server.js?  I can't seem to make it work","msgtype":"m.text"},"ts":1504113391000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"nevermind... I finally figured it out","msgtype":"m.text"},"ts":1504113518000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"oh my https://webkit.org/blog/7846/concurrent-javascript-it-can-work/","msgtype":"m.text"},"ts":1504116048000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"that is scary","msgtype":"m.text"},"ts":1504124213000,"senderName":"smaug____","senderId":"smaug____@irc"}
]