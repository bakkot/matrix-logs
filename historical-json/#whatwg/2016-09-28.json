[
{"content":{"body":"if i have a Document object (as defined in the HTML spec), can we assume that its associated URL is immutable and never changes?","msgtype":"m.text"},"ts":1475023596000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"in other words, is there a one-to-one relationship between a URL and a Document?","msgtype":"m.text"},"ts":1475023693000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"annevk: http://stackoverflow.com/questions/39725955/why-is-there-no-preflight-in-cors-for-post-requests-with-standard-content-type","msgtype":"m.text"},"ts":1475025132000,"senderName":"MikeSmit1","senderId":"MikeSmit1@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1475027889000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"hayato: yt?","msgtype":"m.text"},"ts":1475027908000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"So.. if the validator is complaining about <details role=\"note\"> is it an error in the document, the validator, or the spec?","msgtype":"m.text"},"ts":1475032761000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"keeps running into this when trying to publish specs","msgtype":"m.emote"},"ts":1475033123000,"senderName":"fantasai","senderId":"fantasai@irc"},
{"content":{"body":"rniwa: looking #3835, fyi hayato is ooo this week","msgtype":"m.text"},"ts":1475034191000,"senderName":"kochi","senderId":"kochi@irc"},
{"content":{"body":"fantasai: error in the document because per http://w3c.github.io/html-aria/#details <details> is not allowed to have any role attribute at all","msgtype":"m.text"},"ts":1475039917000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it’s implicit role=group","msgtype":"m.text"},"ts":1475039948000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"if there’s a reason why it should allow role=note file an issue at https://github.com/w3c/html-aria/issues","msgtype":"m.text"},"ts":1475040042000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"KiChjang: definitely not 1:1; you can have many documents with the same URL","msgtype":"m.text"},"ts":1475040732000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic, is it due to fragments and queries?","msgtype":"m.text"},"ts":1475040764000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"KiChjang: no, I can just open two documents, both to http://example.com/","msgtype":"m.text"},"ts":1475040776000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"or, within the same window, every call to document.implementation.createDocument() creates a new document with URL about:blank. Many documents -> one URL","msgtype":"m.text"},"ts":1475040826000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"KiChjang: for one document -> many URL, use pushState or replaceState","msgtype":"m.text"},"ts":1475040852000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"KiChjang: or, indeed, just navigate to a fragment","msgtype":"m.text"},"ts":1475040875000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"but once a document is opened, does the URL change at all?","msgtype":"m.text"},"ts":1475040880000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"so it's many to many, not 1:1","msgtype":"m.text"},"ts":1475040881000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"the URL changes with pushState, replaceState, fragment navigation so far... probably a few more","msgtype":"m.text"},"ts":1475040898000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"oh, so it's not immutable","msgtype":"m.text"},"ts":1475040909000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"pushState?","msgtype":"m.text"},"ts":1475040919000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"lemme check its definition","msgtype":"m.text"},"ts":1475040939000,"senderName":"KiChjang","senderId":"KiChjang@irc"},
{"content":{"body":"https://html.spec.whatwg.org/#dom-history-pushstate","msgtype":"m.text"},"ts":1475040946000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"step 10","msgtype":"m.text"},"ts":1475040954000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"document.open() too it looks like","msgtype":"m.text"},"ts":1475040976000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"based on multi-global weirdness","msgtype":"m.text"},"ts":1475040988000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"e.g. it looks like otherWindow.document.open() will change otherWindow.document's URL to window.document's URL","msgtype":"m.text"},"ts":1475041013000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"i wonder if that's actually interoperable though; would be good to get rid of it if not","msgtype":"m.text"},"ts":1475041053000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"MikeSmith: you gave the correct answer","msgtype":"m.text"},"ts":1475044453000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: added a brief comment though","msgtype":"m.text"},"ts":1475044462000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1475044465000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I actually pinged you about it before I posted that answer, because I initially thought the OP was asking a more interesting question","msgtype":"m.text"},"ts":1475044517000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1475044756000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://lists.w3.org/Archives/Public/public-webappsec/2016Sep/0118.html","msgtype":"m.text"},"ts":1475045063000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"\"I am describing an idealized world. I thought that’s what Standards are for, and we then work towards them? Conversely, it seems like it would be bad to standardize on “good enough for now” and then need to change it.\"","msgtype":"m.text"},"ts":1475045085000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh man","msgtype":"m.text"},"ts":1475045134000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"“Edge can’t do an effective job of CORS Preflight right now due to architectural issues which we hope to address in the future.”...","msgtype":"m.text"},"ts":1475045153000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I have no idea what that means either","msgtype":"m.text"},"ts":1475045169000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder if mkwst is planning on pointing out what's what?","msgtype":"m.text"},"ts":1475045203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I don't understand Crispin's arguments, and I'm not sure it would be productive to argue with him. So, I'm not planning on pointing out anything, but just responding to the \"I have no complaint at all if Chrome chooses to block loopback access from HTTP sites\" with something like \"Good. Done. And also, why did we have this entire thread if you don't actually","msgtype":"m.text"},"ts":1475048621000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"object?\"","msgtype":"m.text"},"ts":1475048621000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"MikeSmith: Chrome can't do an effective job of it either because I don't understand our network stack (and it's completely divorced from CORS, which lives in Blink).","msgtype":"m.text"},"ts":1475048661000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"Everyone has lots of work to do. *shrug*","msgtype":"m.text"},"ts":1475048672000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: I guess I might reply then to at least point out his notion of standards is wrong","msgtype":"m.text"},"ts":1475049465000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: at least as it pertains to the web","msgtype":"m.text"},"ts":1475049481000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Sounds like a reasonable thing to do. Though I'm not sure he's the right guy at Microsoft to spend time on. *shrug*","msgtype":"m.text"},"ts":1475049508000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: he's not with Edge?","msgtype":"m.text"},"ts":1475049529000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(I'll look at the CSP node cloning thing today; I don't remember any of the context behind that spec text.)","msgtype":"m.text"},"ts":1475049532000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"annevk: He is.","msgtype":"m.text"},"ts":1475049542000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"brb","msgtype":"m.text"},"ts":1475049583000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: he sends emojis through Wingdings. K","msgtype":"m.text"},"ts":1475050735000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: What's the origin of the document navigated to as a result of clicking on the link in `<a href=\"javascript:'boo'\">yay</a>`?","msgtype":"m.text"},"ts":1475068939000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"The origin of the URL from which the navigation occurred?","msgtype":"m.text"},"ts":1475068977000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: I think so","msgtype":"m.text"},"ts":1475069004000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mkwst: I think the origin of the active document of the browsing context, but there's some dispute over whether override URL should be a thing, so it might be wrong still","msgtype":"m.text"},"ts":1475069049000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"soooo... can we stop doing that? it's crazy.","msgtype":"m.text"},"ts":1475069084000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"mkwst: I guess, see the \"override URL\" issue","msgtype":"m.text"},"ts":1475069475000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Well, I'd prefer to just stop navigating to a random string. :)","msgtype":"m.text"},"ts":1475069499000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"Nevermind. This happens on 2% of page loads.","msgtype":"m.text"},"ts":1475069762000,"senderName":"mkwst","senderId":"mkwst@irc"},
{"content":{"body":"https://github.com/w3c/input-events/issues/9 o_O","msgtype":"m.text"},"ts":1475081088000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah that thread has me just flabbergasted","msgtype":"m.text"},"ts":1475082570000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I really dislike the \"please propose text because I don't understand the problem\" replies","msgtype":"m.text"},"ts":1475082650000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"If you don't understand a problem with something you work on, you should really seek to understand it","msgtype":"m.text"},"ts":1475082668000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"That kind of response is not limited to that thread or specification, by the way","msgtype":"m.text"},"ts":1475082688000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Please explain better because I don't understand the problem with such replies.","msgtype":"m.text"},"ts":1475082815000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"runs away.","msgtype":"m.emote"},"ts":1475082817000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: conversely, \"this is wrong, and I can't tell you how to fix it\" is equally frustrating","msgtype":"m.text"},"ts":1475083878000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"All we're asking for is to leave the issue open","msgtype":"m.text"},"ts":1475083901000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"astearns: fair","msgtype":"m.text"},"ts":1475083938000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: I don't think that's the situation here","msgtype":"m.text"},"ts":1475083943000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: whenever I get those I still consider it somewhat interesting though and would see it more as a challenge than a problem with the reporter","msgtype":"m.text"},"ts":1475083983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: basically, it's indicative of you as an author not fully grasping the domain you're operating in and having to do some more research","msgtype":"m.text"},"ts":1475084130000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: and that can be kinda fun","msgtype":"m.text"},"ts":1475084141000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"giving a little direction on the required research would probably help (going from my own experience trying to dig in to Fetch for the first time)","msgtype":"m.text"},"ts":1475084297000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"astearns: yeah, for input events I actually gave a quite detailed description of what needs to be done several times","msgtype":"m.text"},"ts":1475084336000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: actually, for UI events in general","msgtype":"m.text"},"ts":1475084347000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: https://w3c.github.io/clipboard-apis/ has adopted this advice to some extent","msgtype":"m.text"},"ts":1475084405000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: the TL;DR is that we need to define \"OS UX input actions\" (or whatever you wanna call it), not events","msgtype":"m.text"},"ts":1475084448000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: events are just a thing that such actions end up generating at one point or another","msgtype":"m.text"},"ts":1475084475000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is that detailed description something that would help with this particular issue? (I don't see a detailed description in that thread)","msgtype":"m.text"},"ts":1475084485000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"astearns: this particular issue is about it not being defined how the extensions affect that model","msgtype":"m.text"},"ts":1475084514000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: if you add an attribute to an event, you actually need to define how it's initialized prior to dispatch, probably based on input from the OS","msgtype":"m.text"},"ts":1475084547000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: I mentioned that a few times there and at the F2F I explained the whole thing in person too, so I'm not sure why the editor is now not understanding","msgtype":"m.text"},"ts":1475084582000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: to be clear, this has been going on for years","msgtype":"m.text"},"ts":1475084622000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fair - I'm just trying to see if there's a way to get past this particular bit of miscommunication","msgtype":"m.text"},"ts":1475084687000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"astearns: e.g., https://lists.w3.org/Archives/Public/www-dom/2014JanMar/0064.html is an early email on the matter","msgtype":"m.text"},"ts":1475084725000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: I also found https://lists.w3.org/Archives/Public/www-dom/2013JanMar/0128.html which still isn't addressed yet (has some overlap with CSS stuff)","msgtype":"m.text"},"ts":1475084789000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: as for CSS and Fetch, the main thing there is that you need to define a model around stylesheets","msgtype":"m.text"},"ts":1475084852000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: a concept of a stylesheet, it's associated URL, referrer policy, etc.","msgtype":"m.text"},"ts":1475084867000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"linking to those (and other previous discussions) may help - it looks to me (from just skimming this one issue now) that Johannes is missing connections (that I'm also missing)","msgtype":"m.text"},"ts":1475084882000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"astearns: you need some kind of fetch queue I suppose for values that require a particular resource","msgtype":"m.text"},"ts":1475084885000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: and then just start calling the fetch operation somewhere passing along the right bits","msgtype":"m.text"},"ts":1475084908000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: the main problem with CSS is that you don't really define a model (yet are now exposing all kinds of stuff through Houdini, which seems like the wrong way around to be addressing this)","msgtype":"m.text"},"ts":1475084939000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: okay, I'll point out the email","msgtype":"m.text"},"ts":1475085001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"please open Houdini issues if they need to be thinking through this","msgtype":"m.text"},"ts":1475085002000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"you're likely to get more engagement on fetch concerns from the Houdini group than the CSSWG as a whole","msgtype":"m.text"},"ts":1475085076000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"CSS needs to be thinking through this","msgtype":"m.text"},"ts":1475085099000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"and then we can bring that back to CSS :)","msgtype":"m.text"},"ts":1475085103000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"I have little faith, been trying since I worked on CSSOM however many years ago","msgtype":"m.text"},"ts":1475085126000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Glenn Adams took over and would fix it all, not much happened","msgtype":"m.text"},"ts":1475085144000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"fair point","msgtype":"m.text"},"ts":1475085160000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"I told the Houdini folks from Google in person too and they didn't really see it either","msgtype":"m.text"},"ts":1475085269000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But meanwhile there's nothing in CSS that actually allocates the objects defined in the object model or ties the whole thing together","msgtype":"m.text"},"ts":1475085314000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"astearns: anyway, I suppose I should try harder, just hard to balance with everything else that's going on","msgtype":"m.text"},"ts":1475085514000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, completely understandable","msgtype":"m.text"},"ts":1475085560000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"Glenn's contribution was zero or negative literally the entire time. He blessedly faded away. Basing any conclusions on your interactions with him would be... incorrect. zcorpan runs CSSOM now, and I'm going to spend time this week or next writing the stuff to nail down the url() fetch model, and hopefully @import too.","msgtype":"m.text"},"ts":1475085806000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Houdini has little to nothing to do with the CSSOM, btw. I don't think there's anything tying the two together.","msgtype":"m.text"},"ts":1475085857000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I'm not really basing it off him, just on where we are today","msgtype":"m.text"},"ts":1475085950000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: although I do hold some grudge about how I was treated back then","msgtype":"m.text"},"ts":1475085975000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah, sure, I've certainly put off some of the relevant work for, um, years.","msgtype":"m.text"},"ts":1475085975000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"To be fair, CSS inherently doesn't expose as much implementation detail through unspecificed gaps compared with most other bits of the platform which are more directly introspectable","msgtype":"m.text"},"ts":1475086056000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"The fetch model is one of the exceptions to that.","msgtype":"m.text"},"ts":1475086081000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Which is a big failing on our part to spec.","msgtype":"m.text"},"ts":1475086088000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Values leak all over too in various forms","msgtype":"m.text"},"ts":1475086101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And various things leak through APIs such as offsetWidth","msgtype":"m.text"},"ts":1475086125000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: I think the way Houdini ties in is that it exposes many similar things (perhaps more limited at the start)","msgtype":"m.text"},"ts":1475086255000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"that mostly shows itself only insofar as what unit you get the result in, though","msgtype":"m.text"},"ts":1475086261000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Insofar as we start exposing more things, we're (I think) doing a lot better with defining them properly.","msgtype":"m.text"},"ts":1475086281000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: mkay, I'm fairly skeptical still given that values and their object model representation are in different specifications","msgtype":"m.text"},"ts":1475086343000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: but we'll see how it goes","msgtype":"m.text"},"ts":1475086358000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: I mean, we learned a lot with HTML as to how to define syntax/model/API and get implementations better at the edge cases","msgtype":"m.text"},"ts":1475086407000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yup.","msgtype":"m.text"},"ts":1475086414000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I haven't really seen CSS take notice much, but if you think it's improving, sounds good I suppose","msgtype":"m.text"},"ts":1475086429000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I mean, feel free to continue yelling at us in the future as we keep fucking it up. ^_^","msgtype":"m.text"},"ts":1475086457000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: heh, I wish I had more time, would be fun to work on CSS","msgtype":"m.text"},"ts":1475086498000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Meh, you're already on the \"basically work on everything\" train.","msgtype":"m.text"},"ts":1475086520000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"I wish I could work more on SVG.","msgtype":"m.text"},"ts":1475086525000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: yeah, that one too, heh","msgtype":"m.text"},"ts":1475086537000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"TabAtkins: I might try to write a somewhat more cogent piece at some point","msgtype":"m.text"},"ts":1475086604000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"gotta go, good day!","msgtype":"m.text"},"ts":1475086622000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"whatwg.org has been slow recently","msgtype":"m.text"},"ts":1475087385000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: dreamhost, heh.","msgtype":"m.text"},"ts":1475087747000,"senderName":"duper","senderId":"duper@irc"},
{"content":{"body":"Given that TC39ers are currently TC39ing, I'll probably have to wait for an answer, but...","msgtype":"m.text"},"ts":1475088474000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"Anyone know what became of the TextSegmenter proposal for ECMA-402 (i.e. ECMAScript Intl stuff) ?","msgtype":"m.text"},"ts":1475088488000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"Old proposal: http://wiki.ecmascript.org/doku.php?id=globalization:text_segmentation","msgtype":"m.text"},"ts":1475088519000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"never made it to https://github.com/tc39/ecma402 so far as I can tell, but I swear it was progressing. :(","msgtype":"m.text"},"ts":1475088539000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: littledan__ is presenting it at this very TC39!","msgtype":"m.text"},"ts":1475088608000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: w00t!","msgtype":"m.text"},"ts":1475088619000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"https://github.com/littledan/Segmenter https://docs.google.com/presentation/d/1X2zBU3bZ4ergVMWfubCsdnHFzeaDgqiTRJVgvNGjQBs/edit#slide=id.p","msgtype":"m.text"},"ts":1475088619000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I haven't presented it yet; happy to take feedback","msgtype":"m.text"},"ts":1475088639000,"senderName":"littledan__","senderId":"littledan__@irc"},
{"content":{"body":"did we get a Font Metrics API at TPAC?","msgtype":"m.text"},"ts":1475088646000,"senderName":"littledan__","senderId":"littledan__@irc"},
{"content":{"body":"some committee members are interested in hyphenation as well; not sure how that should fit into all this","msgtype":"m.text"},"ts":1475088671000,"senderName":"littledan__","senderId":"littledan__@irc"},
{"content":{"body":"littledan__: I'll review. segmentation is key for building fulltext search on top of IndexedDB. I'll try and rope in some library authors for additional feedback.","msgtype":"m.text"},"ts":1475088702000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"jsbell: I know eae is also looking into related issues","msgtype":"m.text"},"ts":1475088851000,"senderName":"littledan__","senderId":"littledan__@irc"},
{"content":{"body":"but from the web side","msgtype":"m.text"},"ts":1475088854000,"senderName":"littledan__","senderId":"littledan__@irc"},
{"content":{"body":"jsbell: Unfortunately, segmentation is locale-dependent, as you might notice from the API","msgtype":"m.text"},"ts":1475088879000,"senderName":"littledan__","senderId":"littledan__@irc"},
{"content":{"body":"littledan__: re: font metrics - not sure. It was planned to be discussed but I was far away from those mtgs. I'd ping eae@ who would have been in the right room","msgtype":"m.text"},"ts":1475088929000,"senderName":"jsbell","senderId":"jsbell@irc"},
{"content":{"body":"littledan__: eae and I did a bit of work on font metrics at TPAC - he'll be adding a wicg repo for it soon (this week or next)","msgtype":"m.text"},"ts":1475089261000,"senderName":"astearns","senderId":"astearns@irc"},
{"content":{"body":"astearns: yay!","msgtype":"m.text"},"ts":1475090505000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1475091432000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: about to get some sleep, will reply to issues tomorrow","msgtype":"m.text"},"ts":1475093580000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: okay","msgtype":"m.text"},"ts":1475093588000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"anyone recall who patches UIEvents to have composed stuff?","msgtype":"m.text"},"ts":1475095733000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"annevk: you might recall?","msgtype":"m.text"},"ts":1475095739000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"oh, maybe hayato did that","msgtype":"m.text"},"ts":1475095802000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"hmm, I could be wrong","msgtype":"m.text"},"ts":1475095977000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"we rely on related target in this case","msgtype":"m.text"},"ts":1475095985000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"how is this spec'ed...","msgtype":"m.text"},"ts":1475096220000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"is mouseenter happens in shadow dom","msgtype":"m.text"},"ts":1475096232000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"mouseenter is per specs composed","msgtype":"m.text"},"ts":1475096243000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"ah, there it is, in DOM spec","msgtype":"m.text"},"ts":1475096531000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"there isn't load event for <video>'s poster image. Should there be?","msgtype":"m.text"},"ts":1475098434000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"zcorpan: you might have some opinion","msgtype":"m.text"},"ts":1475098449000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"smaug: what's the use case? :-)","msgtype":"m.text"},"ts":1475098609000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I could imagine one might want to for example hide the whole <video> if loading doesn't succeed. ok, that would be error event","msgtype":"m.text"},"ts":1475098657000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"or hide the <video> until load event for poster fires?","msgtype":"m.text"},"ts":1475098673000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"it seems more common to want the <video> to take up the right amount of space (by using width and height attributes) before anything has loaded","msgtype":"m.text"},"ts":1475098808000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"anyway i think poster is a simple convenience feature, if you need something more then use <img> and flip to a <video> with script or so","msgtype":"m.text"},"ts":1475098903000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1475098913000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"fine","msgtype":"m.text"},"ts":1475098915000,"senderName":"smaug","senderId":"smaug@irc"},
{"content":{"body":"sleep","msgtype":"m.emote"},"ts":1475098939000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"smaug: about whatwg.org you might want to check and make sure you’re not trying to get to it through ipv6","msgtype":"m.text"},"ts":1475099549000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"because if you try to reach it through ipv6 it basically behaves as if it’s tarpitting you","msgtype":"m.text"},"ts":1475099679000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"rniwa_: I just realized that littledan__'s https://github.com/littledan/Segmenter proposal for JS is solving the issue we discussed about finding the grapheme length of something","msgtype":"m.text"},"ts":1475106359000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: oh nice","msgtype":"m.text"},"ts":1475106392000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Domenic: not sure if I want to tie it with word, sentence, & line stuff though...","msgtype":"m.text"},"ts":1475106419000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"rniwa_: apparently ICU does","msgtype":"m.text"},"ts":1475106428000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: although... if we did add that feature, we could probably spec selection API using this API","msgtype":"m.text"},"ts":1475106434000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Domenic: I know ICU does but not sure if it makes sense for JS","msgtype":"m.text"},"ts":1475106450000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"API","msgtype":"m.text"},"ts":1475106451000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"rniwa_: just filed https://github.com/littledan/Segmenter/issues/2 to suggest more convenience","msgtype":"m.text"},"ts":1475106479000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"there's a lot of things ICU does for historical reasons. Not sure if this one is intentional and makes sense","msgtype":"m.text"},"ts":1475106504000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"rniwa_: We could ask the ICU authors if they'd still do it this way given a chance to break compatibility. Want to write up an issue in the Segmenter repo that we could point them to?","msgtype":"m.text"},"ts":1475106651000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"jyasskin: that would be useful.","msgtype":"m.text"},"ts":1475106685000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"jyasskin, Domenic: I'd imagine that having one API that counts or iterates characters based on code points and grapheme clusters","msgtype":"m.text"},"ts":1475106713000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"jyasskin, Domenic: then another one that goes over word, sentence, line, etc...","msgtype":"m.text"},"ts":1475106723000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"I mean I think we want to expose all (grapheme, word, etc.) of these to the web. So it's a question of whether the spec contains multiple objects or one. One seems to work pretty well.","msgtype":"m.text"},"ts":1475106742000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"jyasskin: Domenic: since I feel like going over each character and going over a word is very different kind of actions","msgtype":"m.text"},"ts":1475106744000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Domenic: we probably want to but there's no chance of interoperability there because of the way Chinese & Japanese use dictionary based heuristics to define word boundaries","msgtype":"m.text"},"ts":1475106789000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Domenic: although such is true already for many Intl features so that may not be an issue","msgtype":"m.text"},"ts":1475106804000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"rniwa_: interop would be based on ICU dictionaries, wouldn't it?","msgtype":"m.text"},"ts":1475106805000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: well, ICU dictionary can be of a different size","msgtype":"m.text"},"ts":1475106824000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Domenic: also, not all browsers ship with ICU","msgtype":"m.text"},"ts":1475106830000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"which ones don't?","msgtype":"m.text"},"ts":1475106836000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: or rather not all browsers use ICU as their underlying intl system","msgtype":"m.text"},"ts":1475106846000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Edge, right?","msgtype":"m.text"},"ts":1475106855000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"Domenic: and even if the browser DID use ICU, there will be differences between ICU versions and of different dictionary size","msgtype":"m.text"},"ts":1475106870000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Domenic: because of the binary size, I believe, Chrome uses a small dictionary size for ICU","msgtype":"m.text"},"ts":1475106884000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Sure, if you're not using the latest version, you won't be interoperable with the latest version, that's true.","msgtype":"m.text"},"ts":1475106890000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I believe Chrome*","msgtype":"m.text"},"ts":1475106893000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Domenic: well, what I'm saying is that even within the same version, you can choose a different size of ICU dictionary","msgtype":"m.text"},"ts":1475106923000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Domenic: regardless, ICU isn't a thing the spec can refer to so it's kind of irrelevant","msgtype":"m.text"},"ts":1475106934000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"Yeah. I guess this just falls into the same pattern as all other Intl features as you said","msgtype":"m.text"},"ts":1475106952000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Yeah, shipping subsets of ICU is a thing. It seems worth sacrificing that level of interoperability so that not every website needs to ship its own subset of ICU.","msgtype":"m.text"},"ts":1475106953000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"Which are in general interoperable if everyone uses ICU, and otherwise, not so much.","msgtype":"m.text"},"ts":1475106960000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: well, things are clearly not interoperable between browsers with regards to Chinese & Japanese","msgtype":"m.text"},"ts":1475106989000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"On the question of whether grapheme iteration is a different sort of thing from word iteration, I'd rather defer to the experts than try to figure it out ourselves.","msgtype":"m.text"},"ts":1475106998000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"jyasskin: so my point was more that Grapheme clusters is more of a Unicode concept that doesn't depend on ICU","msgtype":"m.text"},"ts":1475107025000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"even though some browsers may depend on ICU to do it for them","msgtype":"m.text"},"ts":1475107033000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"jyasskin: so I felt like maybe having a separate API for things that are clearly interopeable given a specific version of Unicode might make sense","msgtype":"m.text"},"ts":1475107058000,"senderName":"rniwa_","senderId":"rniwa_@irc"},
{"content":{"body":"but I don't really have a strong opinion nor have I consulted with my colleagues so it's hard to tell","msgtype":"m.text"},"ts":1475107074000,"senderName":"rniwa_","senderId":"rniwa_@irc"}
]