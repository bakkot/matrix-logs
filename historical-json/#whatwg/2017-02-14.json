[
{"content":{"body":"TabAtkins: Any idea what happened to <xmp> in Bikeshed? https://github.com/tabatkins/bikeshed/pull/933","msgtype":"m.text"},"ts":1487031651000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"I must have accidentally stopped looking at them. Thanks for the reminder, I'll go see what's up.","msgtype":"m.text"},"ts":1487031687000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Thanks!","msgtype":"m.text"},"ts":1487031720000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"jyasskin: Yup, found the offending selector that only mentions <pre> and not <xmp>. Pushed fix, testing against your PR's test now.","msgtype":"m.text"},"ts":1487032749000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1487032762000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"And looks good.","msgtype":"m.text"},"ts":1487032771000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: I’m running Bikeshed on source for the Service Workers spec and noticing that formatting of Notes is getting inadvertently changed","msgtype":"m.text"},"ts":1487035425000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"<p class=\"note\" role=\"note\"><span>Note:</span>","msgtype":"m.text"},"ts":1487035435000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"<p class=\"note\" role=\"note\">Note:","msgtype":"m.text"},"ts":1487035445000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the span around the word “Note:” getting dropped","msgtype":"m.text"},"ts":1487035480000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"That implies you're on an older version","msgtype":"m.text"},"ts":1487035494000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Pull latest from github","msgtype":"m.text"},"ts":1487035519000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"hai","msgtype":"m.text"},"ts":1487035800000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"does that now","msgtype":"m.emote"},"ts":1487035804000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"WARNING: Couldn't check the datafile version. Bikeshed may be unstable.","msgtype":"m.text"},"ts":1487035832000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"[Errno 2] No such file or directory: u'/usr/local/lib/python2.7/site-packages/bikeshed/spec-data/readonly/version.txt'","msgtype":"m.text"},"ts":1487035833000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"(but still running)","msgtype":"m.text"},"ts":1487035838000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"(running bikeshed update)","msgtype":"m.text"},"ts":1487035860000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"TabAtkins: thanks! got it working now","msgtype":"m.text"},"ts":1487036557000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Domenic: yt?","msgtype":"m.text"},"ts":1487044996000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: yt?","msgtype":"m.text"},"ts":1487044998000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"MikeSmith: yt?","msgtype":"m.text"},"ts":1487045008000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"rniwa: I’m here","msgtype":"m.text"},"ts":1487047246000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thanks for the response","msgtype":"m.text"},"ts":1487047260000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"MikeSmith: it looks like a bunch of spec's are referring to ABNF: https://tools.ietf.org/html/rfc5234","msgtype":"m.text"},"ts":1487047289000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"MikeSmith: but they should be referring to https://www.w3.org/Notation.html instead","msgtype":"m.text"},"ts":1487047299000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"MikeSmith: because they use <1>#<m>element notation for comma separated lists","msgtype":"m.text"},"ts":1487047315000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"MikeSmith: which isn't defined in RFC5234","msgtype":"m.text"},"ts":1487047324000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"MikeSmith: alternatively, we can update those specs that use # notation to not use it","msgtype":"m.text"},"ts":1487047346000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"oh wow","msgtype":"m.text"},"ts":1487047627000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"thanks for catching that","msgtype":"m.text"},"ts":1487047635000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I think nobody has ever noticed that before","msgtype":"m.text"},"ts":1487047653000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thank JoePeck on #webkit for that :)","msgtype":"m.text"},"ts":1487047697000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1487047702000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: he's really good at catching these thigns","msgtype":"m.text"},"ts":1487047707000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"OK will thank him too","msgtype":"m.text"},"ts":1487047707000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah, attention to detail","msgtype":"m.text"},"ts":1487047716000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I notice that from his wpt tests as well","msgtype":"m.text"},"ts":1487047724000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyway I guess there is some mailing list we should send a general “change your references” announcement to","msgtype":"m.text"},"ts":1487047750000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: he works on Web Inspector and he's implementing resource timing right now","msgtype":"m.text"},"ts":1487047750000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1487047755000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"yeah I know he works on Web Inspector","msgtype":"m.text"},"ts":1487047763000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"didn’t know he was working on resource timing","msgtype":"m.text"},"ts":1487047775000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but I guess we also should raise issues for each spec we notice that uses it","msgtype":"m.text"},"ts":1487047800000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: yeah probably","msgtype":"m.text"},"ts":1487047824000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"IMHO the best way to deal with is, Don’t use any form of BNF in a Web API spec to begin","msgtype":"m.text"},"ts":1487047837000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"they are OK for protocol specs maybe","msgtype":"m.text"},"ts":1487047847000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I think BNF is useful for defining syntax","msgtype":"m.text"},"ts":1487047863000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"in some cases","msgtype":"m.text"},"ts":1487047870000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but in a lot, not","msgtype":"m.text"},"ts":1487047874000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"not if you want to specify error handling","msgtype":"m.text"},"ts":1487047885000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: I think fetch & resource timing are both defining the format for HTTP headers so it makes a lot of sense there","msgtype":"m.text"},"ts":1487047887000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1487047906000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"so that makes more sense","msgtype":"m.text"},"ts":1487047912000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in that context","msgtype":"m.text"},"ts":1487047917000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyway I got to step out for a bit now","msgtype":"m.text"},"ts":1487047958000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"back in ~30 minutes","msgtype":"m.text"},"ts":1487047966000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ok, thanks","msgtype":"m.text"},"ts":1487047988000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"has just now been chatting with JoePeck on w3c #testing about other stuff","msgtype":"m.emote"},"ts":1487049682000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"XhmikosR: at https://github.com/filamentgroup/loadCSS/issues/106#issuecomment-279619616 I guess I’m not understanding what the problem is. What is failing?","msgtype":"m.text"},"ts":1487054444000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: have you tried if `rel=\"stylesheet preload\"` works currently in Chrome?","msgtype":"m.text"},"ts":1487054572000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"if it works, then there's no backwards incompatibility. I don't use Chrome myself so I haven't tested that yet","msgtype":"m.text"},"ts":1487054619000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"I have not tested it in Chrome no","msgtype":"m.text"},"ts":1487054731000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but if it doesn’t work then that’s a bug in Chrome","msgtype":"m.text"},"ts":1487054749000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1487054756000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"we could then just use string.includes but since that's for pretty new browsers I guess we should use indexOf","msgtype":"m.text"},"ts":1487054845000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"I'll wait for Scott's reply and see how to proceed. I'll also need to test if Chrome's implementation follows the specs and works with `stylesheet preload`","msgtype":"m.text"},"ts":1487054932000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1487055083000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"XhmikosR: https://github.com/w3c/webappsec-subresource-integrity/issues/26#issuecomment-279479814","msgtype":"m.text"},"ts":1487056548000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"well not that particular comment","msgtype":"m.text"},"ts":1487056562000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"just https://github.com/w3c/webappsec-subresource-integrity/issues/26","msgtype":"m.text"},"ts":1487056577000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: chrome doesn't seem to work with `stylesheet preload`","msgtype":"m.text"},"ts":1487056865000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"interesting","msgtype":"m.text"},"ts":1487056960000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but maybe I'm missing something so I'll wait for Scott. I tested things locally with xampp","msgtype":"m.text"},"ts":1487056967000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yoav: ⬆","msgtype":"m.text"},"ts":1487056989000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but the polyfill doesn't seem to work either so I'm probably missing something","msgtype":"m.text"},"ts":1487056991000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"link.rel.indexOf(\"preload\") !== -1 true","msgtype":"m.text"},"ts":1487057056000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"the check works fine","msgtype":"m.text"},"ts":1487057064000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"rniwa: I thought HTTP defined some ABNF extensions, but I should prolly clarify that I use them","msgtype":"m.text"},"ts":1487057126000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: maybe.","msgtype":"m.text"},"ts":1487057150000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"annevk: I think clarifying the reference would be nice","msgtype":"m.text"},"ts":1487057162000,"senderName":"rniwa","senderId":"rniwa@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1487057821000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: yo!","msgtype":"m.text"},"ts":1487057991000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"tobie: annevk: <http://www.w3.org/mid/e1060665-17fb-cc4a-aace-49503df5f228⊙wo> 🎉","msgtype":"m.text"},"ts":1487058048000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"XhmikosR: So `<link href=foo rel=\"stylesheet preload\" as=style>` doesn't work in current Chrome impl?","msgtype":"m.text"},"ts":1487058125000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Not sure what you want it to do tbh, but it should work (in a sense that a resource should be loaded, fetched and applied as a style)","msgtype":"m.text"},"ts":1487058171000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: from a quick test it doesn't seem so","msgtype":"m.text"},"ts":1487058174000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yoav: let me paste the test file, you will need php","msgtype":"m.text"},"ts":1487058190000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"XhmikosR: Can you file a bug with a test case and send it my way?","msgtype":"m.text"},"ts":1487058196000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"(not my tests)","msgtype":"m.text"},"ts":1487058198000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"if we verify it doesn't work sure :)","msgtype":"m.text"},"ts":1487058211000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1487058217000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"would be nice if it didn't require php","msgtype":"m.text"},"ts":1487058222000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"but Scott's test is using it","msgtype":"m.text"},"ts":1487058229000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"let me fork his repo so that things are public","msgtype":"m.text"},"ts":1487058290000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"(freaking tabs for indentation :P)","msgtype":"m.text"},"ts":1487058361000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"XhmikosR: seems to work over here... http://software.hixie.ch/utilities/js/live-dom-viewer/saved/4885 (network inspector shows 1 fetch; if i remove `as` it shows 2 fetches)","msgtype":"m.text"},"ts":1487058423000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"and style is applied","msgtype":"m.text"},"ts":1487058442000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"sec guys","msgtype":"m.text"},"ts":1487058444000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"might be something with the polyfill","msgtype":"m.text"},"ts":1487058452000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yoav: (has there been progress on not doing a fetch for <link rel=preload> without as?)","msgtype":"m.text"},"ts":1487058519000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I'm half-way through PRs to get that done (got distracted by travel and shiny objects...)","msgtype":"m.text"},"ts":1487058566000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"https://github.com/XhmikosR/loadCSS/blob/master/test/preload.html","msgtype":"m.text"},"ts":1487058570000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yoav: cool","msgtype":"m.text"},"ts":1487058574000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"XhmikosR: `<link rel=\"stylesheet preload\" href=\"slow.css.php\" as=\"style\">` will be a blocking style","msgtype":"m.text"},"ts":1487058633000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"which I think is counter to what you're trying to do","msgtype":"m.text"},"ts":1487058646000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1487058656000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"I see it's blocking","msgtype":"m.text"},"ts":1487058662000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"https://github.com/filamentgroup/loadCSS the README suggests using rel=\"preload\" sans stylesheet","msgtype":"m.text"},"ts":1487058689000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"the problem is we can't use integrity unless rel has stylesheet, or I misunderstood the issue?","msgtype":"m.text"},"ts":1487058694000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"and then i guess the script adds stylesheet","msgtype":"m.text"},"ts":1487058697000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: I changed the check","msgtype":"m.text"},"ts":1487058705000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"https://github.com/XhmikosR/loadCSS/commit/98c3137ff7811616eec4bb5d993eb5486a09c85f?w=1#diff-68b76c559168de2db8358863b8199f94R22","msgtype":"m.text"},"ts":1487058731000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"you currently cannot use preload with integrity","msgtype":"m.text"},"ts":1487058733000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"adding a rel=style won't help you with that","msgtype":"m.text"},"ts":1487058748000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"ah I see","msgtype":"m.text"},"ts":1487058758000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"that is what I'm trying to solve","msgtype":"m.text"},"ts":1487058766000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"that's interesting. i guess we should make that work","msgtype":"m.text"},"ts":1487058786000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"we definitely should","msgtype":"m.text"},"ts":1487058797000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"mkwst_: ^","msgtype":"m.text"},"ts":1487058797000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"https://github.com/w3c/webappsec-subresource-integrity/issues/26","msgtype":"m.text"},"ts":1487058811000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"zcorpan: current options are:","msgtype":"m.text"},"ts":1487058820000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"1) add an `integrity` attribute to `<link rel=preload>`","msgtype":"m.text"},"ts":1487058840000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"2) Jump through various implementation hoops that will enable to reuse preloaded resources and perform the integrity check at reuse time","msgtype":"m.text"},"ts":1487058890000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"(as well as letting script preloads through even if `require-sri-for-script` is present)","msgtype":"m.text"},"ts":1487058932000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I was just looking at the polyfill since I'm a FF user but since Chrome doesn't work we are currently out of luck","msgtype":"m.text"},"ts":1487058973000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"I guess that 2) is the \"right\" way to solve it, assuming implementation is feasible (I don't own SRI impl so not sure how complex that would be)","msgtype":"m.text"},"ts":1487058985000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"XhmikosR: sorry! :/","msgtype":"m.text"},"ts":1487059016000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"i was thinking: 1.a) allow (and honor) integrity for <link rel=preload as=style> and the other as values where integrity applies, but not where it doesn't","msgtype":"m.text"},"ts":1487059018000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"this makes sense ^^","msgtype":"m.text"},"ts":1487059049000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"zcorpan: yeah, but isn't that just throwing the burden on devs rather than solving it internally?","msgtype":"m.text"},"ts":1487059064000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: the burden being having to use integrity attribute on their preload link?","msgtype":"m.text"},"ts":1487059102000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"maybe 2 has better developer ergonomics","msgtype":"m.text"},"ts":1487059145000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1487059181000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"that's what I'm thinking","msgtype":"m.text"},"ts":1487059186000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"but with the loadCSS pattern it doesn't really matter since it uses the same <link> and just appends \" stylesheet\" to rel when it's ready","msgtype":"m.text"},"ts":1487059195000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"true","msgtype":"m.text"},"ts":1487059208000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I'll try to ping jww and see if he has an opinion on how complex integrity checks on existing resources would be","msgtype":"m.text"},"ts":1487059274000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"so i think it should at least be *allowed* to specify integrity=\"\" for rel=preload. how we then deal with it in implementation is not something i can have an informed opinion on","msgtype":"m.text"},"ts":1487059317000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"irrelevant but if something happens to GitHub we are screwed with almost everything hosted on it :/","msgtype":"m.text"},"ts":1487059509000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"(noticed Python moved to GH too)","msgtype":"m.text"},"ts":1487059518000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"zcorpan: and if integrity on preload mismatches and integrity on the reusing element does?","msgtype":"m.text"},"ts":1487059722000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"we don't use the resource?","msgtype":"m.text"},"ts":1487059738000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"zcorpan: unless you have a use-case that would require applying the integrity check on both the preloaded resource and the reusing element...","msgtype":"m.text"},"ts":1487059959000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: if it mismatches for the preload it simply wouldn't end up in the preload cache since you got back a network error from Fetch","msgtype":"m.text"},"ts":1487059982000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: this is all fairly simple and would fall out of properly defining preload...","msgtype":"m.text"},"ts":1487059998000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so please start looking at that, rather than all the things around it","msgtype":"m.text"},"ts":1487060027000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does Fetch buffer the resource before returning it?","msgtype":"m.text"},"ts":1487060028000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: it does if you add integrity, yes","msgtype":"m.text"},"ts":1487060041000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1487060045000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"annevk: fwiw, this is not about defining preload, but about defining the concept of \"memory cache\"","msgtype":"m.text"},"ts":1487060219000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"which I agree we need to define, but may be a long(ish) term project","msgtype":"m.text"},"ts":1487060252000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Browsers currently disagree on behavior in various ways, so I suspect defining it will take time","msgtype":"m.text"},"ts":1487060296000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"for non-Chrome it's basically about defining preload","msgtype":"m.text"},"ts":1487060310000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if this is used in other places, it might be worth tackling those too, but I'm not sure we should tightly couple them","msgtype":"m.text"},"ts":1487060333000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"WebKit has similar behavior to Chrome in that respect","msgtype":"m.text"},"ts":1487060342000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Okay, but I don't see why you and igrigorik keep postponing it, since it's obvious that there's many many issues coming out of it not being defined","msgtype":"m.text"},"ts":1487060377000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And it's been like that for at least a year or so","msgtype":"m.text"},"ts":1487060391000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I really want to define it, but need to figure out a way to scope it down, as I don't have the bandwidth to take it on as a huge project","msgtype":"m.text"},"ts":1487060499000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"yoav: how complicated is that code?","msgtype":"m.text"},"ts":1487060934000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: presumably it takes a URL and returns an ongoing fetch or some such?","msgtype":"m.text"},"ts":1487060959000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: and I guess fetch() and XHR bypass it?","msgtype":"m.text"},"ts":1487060978000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: and preload lets things stay in longer or some such? so there's some kind of max timeout","msgtype":"m.text"},"ts":1487061001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yoav: it's probably somewhat involved to test it","msgtype":"m.text"},"ts":1487061024000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: it's fairly complex (we're currently cleaning it up)","msgtype":"m.text"},"ts":1487061033000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"It takes in a URL, gets a past resource from memoryCache and then runs it through a large set of conditions in order to see if it can be reused or not","msgtype":"m.text"},"ts":1487061068000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"it can't just be a resource since <script src=x><script src=x>","msgtype":"m.text"},"ts":1487061123000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"WebKit has a similar set of conditions (not necessarily identical, but very close)","msgtype":"m.text"},"ts":1487061129000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"well, <script async src=x></script><script async src=x></script>, if that ends up with one fetch, it's not a resource that's returned","msgtype":"m.text"},"ts":1487061156000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Resource is the internal representation of a fetch (which may be in flight)","msgtype":"m.text"},"ts":1487061160000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1487061166000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it doesn't sound like an awfully big project to add that kind of \"fetch cache\"","msgtype":"m.text"},"ts":1487061206000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so writing down what happens in Blink/WebKit during those checks is probably doable","msgtype":"m.text"},"ts":1487061235000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"but I'm not familiar with Firefox's code in that area (and have no visibility into Edge)","msgtype":"m.text"},"ts":1487061262000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"and I suspect each one of those checks will also require a (much needed but lengthy) discussion of \"do we really need that?\"","msgtype":"m.text"},"ts":1487061375000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"annevk: I can probably start tackling that next week or the week after that, and see how it goes","msgtype":"m.text"},"ts":1487061499000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"starting by documenting the existing implementations","msgtype":"m.text"},"ts":1487061513000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"which will probably require feedback from Mozilla folks","msgtype":"m.text"},"ts":1487061536000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Yeah I think having a description of Chrome/WebKit's model would be good as reference","msgtype":"m.text"},"ts":1487061541000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And then we can figure out if others want to implement that too","msgtype":"m.text"},"ts":1487061552000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"For non-preload purposes","msgtype":"m.text"},"ts":1487061557000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And we can figure out if the Chrome/WebKit model has holes with respect to CSP and such","msgtype":"m.text"},"ts":1487061574000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1487061585000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"I suspect it won't, as it tends to err on the side of \"reload the resource\"","msgtype":"m.text"},"ts":1487061609000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"mkwst_ probably audited the code","msgtype":"m.text"},"ts":1487061625000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I hope so anyway","msgtype":"m.text"},"ts":1487061627000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oh yeah","msgtype":"m.text"},"ts":1487061633000,"senderName":"yoav","senderId":"yoav@irc"},
{"content":{"body":"Can someone look at https://travis-ci.org/w3c/web-platform-tests/builds/201282365 and tell me what is going wrong? jgraham?","msgtype":"m.text"},"ts":1487063834000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: all I'm getting internally about the HTML outline is \"we think it might break sites\" but no evidence as yet","msgtype":"m.text"},"ts":1487065392000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: anything from Moz?","msgtype":"m.text"},"ts":1487065405000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: basically lack of time","msgtype":"m.text"},"ts":1487065415000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: kinda sad that browsers did all of the bits except the a11y bit","msgtype":"m.text"},"ts":1487065443000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I guess that's nothing new","msgtype":"m.text"},"ts":1487065446000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: the breaking site thing seems super weird to me","msgtype":"m.text"},"ts":1487065450000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: we rolled out this feature somewhat poorly","msgtype":"m.text"},"ts":1487065467000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I mean, it'll change the outline of some sites, but I don't know if it'd be \"bad\"","msgtype":"m.text"},"ts":1487065486000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: everyone was keen on getting some new HTML elements, without doing all the work (e.g., as of yet no CSS selectors either that make it easy to style heading levels)","msgtype":"m.text"},"ts":1487065490000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: right! And that's what's happening on that w3c thread. Everyone's super excited about the prospect of a ****new tag****","msgtype":"m.text"},"ts":1487065531000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: yeah, new features are shiny, fixing infrastructure is not","msgtype":"m.text"},"ts":1487065560000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: which reminds me, browsers still haven't removed appcache...","msgtype":"m.text"},"ts":1487065603000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"*siiiiigh*","msgtype":"m.text"},"ts":1487065615000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: there's a vague worry internally that it's being used by intranets, but again, not seen any evidence","msgtype":"m.text"},"ts":1487065637000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: can't they do the long term removal for intranets?","msgtype":"m.text"},"ts":1487065651000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: with some kind of flag for enterprises","msgtype":"m.text"},"ts":1487065660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: and just let that flag exist for 1.5 years","msgtype":"m.text"},"ts":1487065671000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: isn't that how showModalDialog got removed?","msgtype":"m.text"},"ts":1487065680000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, that seems fair","msgtype":"m.text"},"ts":1487065691000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: it's long, but it's better than just letting the code rot and be a source of vulnerabilities","msgtype":"m.text"},"ts":1487065723000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I'm not sure what else I need to do to get https://github.com/w3c/web-platform-tests/pull/4518 merged. Travis is barfing, but it isn't clear on what, or if it's related to the PR","msgtype":"m.text"},"ts":1487067363000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: it seems the results for Chrome are unstable?","msgtype":"m.text"},"ts":1487067458000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: I second the problem with Travis though, the output is not great","msgtype":"m.text"},"ts":1487067494000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, I can't figure out if it's specific to my tests","msgtype":"m.text"},"ts":1487067637000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: That seems pretty clear from the GitHub comment? Chrome timed out on 2 runs out of 8, so the tests are unstable and can't yet land","msgtype":"m.text"},"ts":1487067789000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: It looks like for some reason travis thought that branch contained hundreds of commits","msgtype":"m.text"},"ts":1487067820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I'm not sure why","msgtype":"m.text"},"ts":1487067825000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"maybe because I rebased","msgtype":"m.text"},"ts":1487067836000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"jgraham: ah, I didn't spot the relevant part in the wall of text","msgtype":"m.text"},"ts":1487067871000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Domenic: \"I wonder if we can do it purely through CSS (I doubt it).\" - was this intended to trigger a knee-jerk on my part to fix it just to prove you wrong? 🤔😁","msgtype":"m.text"},"ts":1487067916000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"jgraham: I think what's going on is that he's trying to merge into the MicrosoftEdge branch rather than master","msgtype":"m.text"},"ts":1487067920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: Anything you suggest to make it more obvious? It's at the top in bold. <blink> doesn't work these days…","msgtype":"m.text"},"ts":1487067945000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"annevk: Oh, that could be it","msgtype":"m.text"},"ts":1487067982000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: your comment tipped me off somehow, even though I had seen it trying to apply hundreds of commits","msgtype":"m.text"},"ts":1487068018000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: We can probably make that work in the bot, but I don't know why you would do that in general","msgtype":"m.text"},"ts":1487068086000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: :P I guess fold all the passes into a click-to-reveal thing. The \"everything's ok\" parts of the messages are huge compared to the \"here's the actual problem\"","msgtype":"m.text"},"ts":1487068099000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I hope Microsoft haven't got the idea that they should put all their commits in a MicrosoftEdge branch","msgtype":"m.text"},"ts":1487068114000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"JakeA: Hmm, does nested <details> work? Could try it","msgtype":"m.text"},"ts":1487068128000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"jgraham: I dunno :(","msgtype":"m.text"},"ts":1487068141000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"jgraham: in this case the unstable tests are nothing to do with my PR. Should it block me from merging?","msgtype":"m.text"},"ts":1487068177000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"jgraham: I'm hoping it was just a mistake, we'll hear tomorrow hopefully","msgtype":"m.text"},"ts":1487068208000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA, is it the rebase or the test-helpers.sub.js change?","msgtype":"m.text"},"ts":1487068253000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"jgraham: nested works","msgtype":"m.text"},"ts":1487068279000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: if I got anything wrong at https://stackoverflow.com/questions/42222937/using-fetch-api-to-post-xml/42223732#42223732 lemme know or comment/answer there when you got time","msgtype":"m.text"},"ts":1487068311000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Ms2ger: hmm, maybe, I'm not sure how it works","msgtype":"m.text"},"ts":1487068344000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I think it's accurately detecting that your change affected all the things","msgtype":"m.text"},"ts":1487068397000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"MikeSmith: seems accurate enough","msgtype":"m.text"},"ts":1487068460000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: I suspect he doesn't like CORS and thought fetch() would give a way out","msgtype":"m.text"},"ts":1487068472000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA, I guess I can merge","msgtype":"m.text"},"ts":1487068485000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: I can't see how that change could make other tests unstable, but browsers have surprised me before","msgtype":"m.text"},"ts":1487068543000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA, it probably just made the checker run a test it hadn't before","msgtype":"m.text"},"ts":1487068563000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Thanks for merging!","msgtype":"m.text"},"ts":1487068772000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: thanksーand yeah I have no clue what he might actually be trying to do. hmm but yeah I guess he saw mode: no-cors and thought that meant no CORS restrictions","msgtype":"m.text"},"ts":1487068935000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I wonder now how often other people might think that","msgtype":"m.text"},"ts":1487068955000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it isn't the first time I've seen it","msgtype":"m.text"},"ts":1487068965000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"naming :-(","msgtype":"m.text"},"ts":1487068989000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Seen a few people think it's a \"security? Pfft, no thanks\" switch","msgtype":"m.text"},"ts":1487068992000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"hah","msgtype":"m.text"},"ts":1487069011000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I guess we should have some better simple documentation (at MDN) that clearly explains what \"no-cors\" really means. There doesn’t actually see to be something like that at MDN yet","msgtype":"m.text"},"ts":1487069051000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Fetch is poorly understood by developers","msgtype":"m.text"},"ts":1487069115000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I can't say I understood it well before service worker","msgtype":"m.text"},"ts":1487069139000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Presumably understanding was worse before it was written down","msgtype":"m.text"},"ts":1487069149000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1487069158000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"There used to be no answer to what happens for redirects to <script> element fetches","msgtype":"m.text"},"ts":1487069192000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah and IMHO it’s not really the job of specs to make things clear to developers. That’s what MDN etc are much better suited for","msgtype":"m.text"},"ts":1487069230000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"I like the Fetch spec the way it is","msgtype":"m.text"},"ts":1487069243000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"because it’s like playing a kind of puzzle game 😆","msgtype":"m.text"},"ts":1487069295000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":":D","msgtype":"m.text"},"ts":1487069317000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"...where you have follow clues all over the place to figure things out","msgtype":"m.text"},"ts":1487069318000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1487069320000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"There's probably an article in \"how fetch works\"","msgtype":"m.text"},"ts":1487069332000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1487069339000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Not many developers know there's such thing as a CORS request. Many think it's just part of the response.","msgtype":"m.text"},"ts":1487069367000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1487069380000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"ah yeah they don’t understand the browsers enforce the cross-origin request restrictions","msgtype":"m.text"},"ts":1487069413000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"(at some point we need to get range requests into the spec)","msgtype":"m.text"},"ts":1487069419000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"anyway seriously I think the Fetch spec is good example of the right way to write a spec for implementors, for getting the requirements defined clearly, without digressions stuffed amidst it all","msgtype":"m.text"},"ts":1487069506000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"in contrast I think I’m becoming less and less fond of how the HTML spec intermingles UA requirements with a lot of informational stuff for authors/web-devs","msgtype":"m.text"},"ts":1487069589000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"though I think it’s possible to put both in the same spec well if they are more clearly delineated","msgtype":"m.text"},"ts":1487069621000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"more like what the URL spec does","msgtype":"m.text"},"ts":1487069631000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: URL was modeled after HTML's syntax section","msgtype":"m.text"},"ts":1487069833000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: that section of HTML doesn't cause much confusion (though there is some I suppose), but the remainder of the standard doesn't have the clear distinction","msgtype":"m.text"},"ts":1487069862000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: what about https://github.com/whatwg/fetch/pull/435#discussion_r92863905","msgtype":"m.text"},"ts":1487071858000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: that's the only thing left as far as I can tell apart from a minor thing I just spotted that I can fix when merging","msgtype":"m.text"},"ts":1487072030000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ah yes, will remove that bit now","msgtype":"m.text"},"ts":1487072244000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I looked around a bit and couldn't find another standard that uses the skip flag, other than Service Workers that is","msgtype":"m.text"},"ts":1487072309000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"So hopefully we don't break anyone","msgtype":"m.text"},"ts":1487072321000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"happy to make PRs for them if we find any","msgtype":"m.text"},"ts":1487072365000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"sweet, seems unlikely though","msgtype":"m.text"},"ts":1487072398000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA, annevk: PRs up for both your issues. Dunno if they work yet though","msgtype":"m.text"},"ts":1487073121000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"\\o/","msgtype":"m.text"},"ts":1487073136000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"cheers!","msgtype":"m.text"},"ts":1487073139000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"What's up with Steve Faulkner suddenly hating the w3c?","msgtype":"m.text"},"ts":1487075630000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"The annoying warning doesn't work well with narrow viewports (it overflows upwards)","msgtype":"m.text"},"ts":1487076131000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Snapshot warning?","msgtype":"m.text"},"ts":1487076297000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Also breaks dfn.js when collapsed","msgtype":"m.text"},"ts":1487076313000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: did he quit w3c/html?","msgtype":"m.text"},"ts":1487076330000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Dunno, he's whining about drm on twitter","msgtype":"m.text"},"ts":1487076374000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I saw that","msgtype":"m.text"},"ts":1487076434000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Whenever things go negative for W3C just blame the members","msgtype":"m.text"},"ts":1487076458000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"But don't let the members near anything positive, that was all W3C","msgtype":"m.text"},"ts":1487076483000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Such a silly refrain","msgtype":"m.text"},"ts":1487076500000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: just need a commit message now, I usually do one between ``` and ``` as a new comment","msgtype":"m.text"},"ts":1487076931000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: should indicate the issues fixed, tests and a summary at the top as title","msgtype":"m.text"},"ts":1487076954000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"done!","msgtype":"m.text"},"ts":1487077303000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Alright, we can now modify whatwg.org through GitHub","msgtype":"m.text"},"ts":1487077914000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Setup seems to work","msgtype":"m.text"},"ts":1487077922000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wonders how accurate the address element on the front page is","msgtype":"m.emote"},"ts":1487079616000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: front page of what?","msgtype":"m.text"},"ts":1487079668000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"whatwg.org","msgtype":"m.text"},"ts":1487079715000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: contents are being changed","msgtype":"m.text"},"ts":1487079897000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: mostly to direct to whatwg/meta or Hixie","msgtype":"m.text"},"ts":1487079906000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: instead of the mailing list","msgtype":"m.text"},"ts":1487079912000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Ms2ger: but the frontpage in general has some problems with out-of-date links, if anyone has ideas for an overhaul that doesn't really require us to link to nine things that'd be great","msgtype":"m.text"},"ts":1487079939000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Related: https://github.com/whatwg/whatwg.org/issues/13","msgtype":"m.text"},"ts":1487079967000,"senderName":"xfq","senderId":"xfq@irc"},
{"content":{"body":"And fixed","msgtype":"m.text"},"ts":1487081007000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: oh lol, it's actually called \"annoying warning\"","msgtype":"m.text"},"ts":1487081450000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: in the markup","msgtype":"m.text"},"ts":1487081456000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yep","msgtype":"m.text"},"ts":1487081463000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"annevk: good to keep the right expectations for anyone touching the code :-)","msgtype":"m.text"},"ts":1487081500000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: changes LGTM","msgtype":"m.text"},"ts":1487081516000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"zcorpan: is the markup/style documented standalone someplace? It seems we could use it on whatwg.org for a number of things","msgtype":"m.text"},"ts":1487081567000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: i don't follow the question","msgtype":"m.text"},"ts":1487081651000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: if it's easy to reuse annoying warning elsewhere","msgtype":"m.text"},"ts":1487081683000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: ah. i guess we can reuse it... mostly a matter of moving the CSS out of bikeshed.css I think, maybe into a new annoying-warning.css","msgtype":"m.text"},"ts":1487081837000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: script is embedded in the markup then?","msgtype":"m.text"},"ts":1487081857000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: wondering if you have implemented <link rel=serviceworker> support","msgtype":"m.text"},"ts":1487081872000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"annevk: i don't think there's any script, it's just a <details>","msgtype":"m.text"},"ts":1487081892000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: oh, with fancy styling, cool","msgtype":"m.text"},"ts":1487081902000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: I don't think so","msgtype":"m.text"},"ts":1487081936000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1487081944000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: https://bugzilla.mozilla.org/show_bug.cgi?id=1243404","msgtype":"m.text"},"ts":1487081961000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1487081968000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"wanderview: thank you","msgtype":"m.text"},"ts":1487081983000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the header was added for foreign fetch support and we've been putting off working on that feature","msgtype":"m.text"},"ts":1487081984000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1487082046000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Thanks wanderview for filing the Gecko bug","msgtype":"m.text"},"ts":1487082429000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Re https://github.com/whatwg/fetch/issues/303","msgtype":"m.text"},"ts":1487082436000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"np... I haven't been as good at filing those bugs lately","msgtype":"m.text"},"ts":1487082444000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"JakeA: perhaps you can update that issue with the Chrome bug as well?","msgtype":"m.text"},"ts":1487082446000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: I'm trying to take over that task for any new changes, but I forgot about this one since I didn't write the PR","msgtype":"m.text"},"ts":1487082483000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Done!","msgtype":"m.text"},"ts":1487082670000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: FWIW, in general for each PR we now require tests and also impl bugs, but I tend to forget to ask for the latter","msgtype":"m.text"},"ts":1487082989000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Noted for future. Cheers!","msgtype":"m.text"},"ts":1487083020000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"@MikeSmith: can you reply on the loadCSS issue? I don't know the names of the guys here","msgtype":"m.text"},"ts":1487089664000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"XhmikosR: yes I will","msgtype":"m.text"},"ts":1487089705000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"unfortunately for subresource we need `stylesheet preload` but then preload breaks if I understood correctly","msgtype":"m.text"},"ts":1487089714000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1487089854000,"senderName":"XhmikosR","senderId":"XhmikosR@irc"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1487089940000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"is it still the case that web fonts start to load when the browser finds the first use of it?","msgtype":"m.text"},"ts":1487090775000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"MikeSmith: I do think the things you said in IRC would be good as a reply to the DTD email. They were appropriately diplomatic but also pointing out that it's not the direction we're focused on, for good reasons.","msgtype":"m.text"},"ts":1487092385000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"zcorpan: I guess I really meant getting it so that *only* the \"X\" button closes, not the whole `<summary>`.","msgtype":"m.text"},"ts":1487092393000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: OK I will make time to reply to them then","msgtype":"m.text"},"ts":1487092449000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"gsnedders: I believe so, yes.","msgtype":"m.text"},"ts":1487097178000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Domenic: having a larger target area seems fine?","msgtype":"m.text"},"ts":1487098257000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah, just to clarify what I meant by probably impossible with CSS","msgtype":"m.text"},"ts":1487098567000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1487098714000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"What's the best way to put an ascii BufferSource literal into a spec example? So far I've got Uint8Array.from(\"climb a mountain\", c=>c.charCodeAt(0))","msgtype":"m.text"},"ts":1487099089000,"senderName":"jyasskin","senderId":"jyasskin@irc"},
{"content":{"body":"jyasskin: use TextEncoder?","msgtype":"m.text"},"ts":1487099829000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Good point. I'd ruled it out when I thought I needed to base64-decode the string, but I don't actually need to do that. Thanks.","msgtype":"m.text"},"ts":1487099880000,"senderName":"jyasskin","senderId":"jyasskin@irc"}
]