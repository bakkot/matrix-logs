[
{"content":{"body":"annevk: It seems awkward that URL's host registrable domain algorithm returns null if the host == PublicSuffixAlgo(host), particularly because I think the only users of the registrable domain algorithm are in HTML, and always seems to have to null check, falling back to host in this case. Wouldn't it be simpler to just have the rd algo not return null in this case?","msgtype":"m.text"},"ts":1618560003000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Although I'd understand returning null (even if it feels awkward to consumers) if we're trying to maintain semantic clarity","msgtype":"m.text"},"ts":1618560035000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: well, there's no registrable domain in that case so it seems safer to not claim there is one","msgtype":"m.text"},"ts":1618560066000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Right, so it is more about the semantics and clarity there I guess. that makes sense","msgtype":"m.text"},"ts":1618560096000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"I was just curious if there were users of registrable domain that actually relied on values being null in that case","msgtype":"m.text"},"ts":1618560119000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: that is a good question, looking at the same site definition","msgtype":"m.text"},"ts":1618560133000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"And that didn't appear to be the case, though I agree it could be confusing if it just fell-back to the PSL value","msgtype":"m.text"},"ts":1618560147000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: well, it would also have to fallback to being an IP address and such","msgtype":"m.text"},"ts":1618560203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Ah yeah that's right, I forgot that those URL algorithms just return null when the host is not a \"domain\"","msgtype":"m.text"},"ts":1618560274000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"For document.domain we use public suffix primarily (though it's currently broken); not aware of other usage","msgtype":"m.text"},"ts":1618560426000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Yeah I don't think there are any that rely on it being null when PSuffix(host) == host, but like you said, it wouldn't matter anyways. Thanks","msgtype":"m.text"},"ts":1618560473000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: I think Firefox might do this internally and call it baseDomain, but not a 100% sure","msgtype":"m.text"},"ts":1618560632000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"domfarolino: if we did something like this in the spec we could call it \"base host\" or some such, we could no longer call it registrable domain","msgtype":"m.text"},"ts":1618560657000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Makes sense üëç","msgtype":"m.text"},"ts":1618560707000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"It seems that we could simplify the same site and schemelessly same site algorithms by utilizing \"obtain a site\"...","msgtype":"m.text"},"ts":1618560881000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"or at least simplify schemelessly same site","msgtype":"m.text"},"ts":1618560960000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"domfarolino: https://github.com/whatwg/html/pull/5955","msgtype":"m.text"},"ts":1618560983000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hah :(","msgtype":"m.text"},"ts":1618561043000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"Although I guess we could get away without defining \"equals\" and just explicitly comparing the two site components...it would at least get us out of doing the registrable domain dance in the schemelessly algorithm.. at least I think..but I'm also nearly asleep","msgtype":"m.text"},"ts":1618561317000,"senderName":"domfarolino","senderId":"domfarolino@irc"},
{"content":{"body":"oh wow, accidentally discovered that double-clicking a heading name in a README.md or other markdown doc at the GitHub site folds/collapses the entire contents of the section and its subsections, into an outline view","msgtype":"m.text"},"ts":1618572885000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"and so if you double-click the title of the document, it folds the whole doc into an outline view/ToC","msgtype":"m.text"},"ts":1618572948000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"wow!","msgtype":"m.text"},"ts":1618572990000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"MikeSmith: I cannot reproduce on https://github.com/whatwg/fetch/blob/main/README.md, example?","msgtype":"m.text"},"ts":1618573017000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I don't see that behaviour","msgtype":"m.text"},"ts":1618573021000,"senderName":"Rik`","senderId":"Rik`@irc"},
{"content":{"body":"neither do i","msgtype":"m.text"},"ts":1618573034000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"looks like MikeSmith got abtested","msgtype":"m.text"},"ts":1618573046000,"senderName":"ondras","senderId":"ondras@irc"},
{"content":{"body":"they've just released https://github.blog/changelog/2021-04-13-table-of-contents-support-in-markdown-files/ though","msgtype":"m.text"},"ts":1618573116000,"senderName":"Rik`","senderId":"Rik`@irc"},
{"content":{"body":"hmm yeah I guess I must be an AB target","msgtype":"m.text"},"ts":1618573314000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"hope they don‚Äôt untarget me and make it stop working","msgtype":"m.text"},"ts":1618573360000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"it‚Äôs better than the separate ToC thing in Rik`‚Äôs link","msgtype":"m.text"},"ts":1618573404000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"stop teasing us! :)","msgtype":"m.text"},"ts":1618573437000,"senderName":"Rik`","senderId":"Rik`@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1618573444000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"TabAtkins: annevk: https://github.com/whatwg/html/pull/6360#issuecomment-821406855 is quite frustrating... will migrating away from Shepherd and toward xref allow us to stop being under plinss's control on how the HTML xref database gets assembled?","msgtype":"m.text"},"ts":1618597387000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"it's a different parser, so sure","msgtype":"m.text"},"ts":1618597426000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"Really looking forward to it...","msgtype":"m.text"},"ts":1618597470000,"senderName":"Domenic","senderId":"Domenic@irc"}
]