[
{"content":{"body":"SamB: the other files aren't mind as far as i know","msgtype":"m.text"},"ts":1394064927000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"smaug____: recently?","msgtype":"m.text"},"ts":1394064939000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wonders if annevk mader them?","msgtype":"m.emote"},"ts":1394064990000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"probably","msgtype":"m.text"},"ts":1394065002000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"smaug____: i don't recall anything on this one way or the other, but looking...","msgtype":"m.text"},"ts":1394065009000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"not very recently","msgtype":"m.text"},"ts":1394065025000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"after Aug 18 20:30:41 2010","msgtype":"m.text"},"ts":1394065079000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"i can't find anything that would affect that that is different between then and now","msgtype":"m.text"},"ts":1394065269000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, thanks","msgtype":"m.text"},"ts":1394065287000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(looked through today's spec, and r5372)","msgtype":"m.text"},"ts":1394065300000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i could well be missing something though","msgtype":"m.text"},"ts":1394065320000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"my apologies in advance if so!","msgtype":"m.text"},"ts":1394065326000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: here now","msgtype":"m.text"},"ts":1394068968000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Hixie: btw http://zzyzwicz.w3.org/ is the old w3c-test.org host","msgtype":"m.text"},"ts":1394069192000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"krit_: http://dev.w3.org/FXTF/ is working again","msgtype":"m.text"},"ts":1394069818000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"for now","msgtype":"m.text"},"ts":1394069820000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"due to http://dev.w3.org/cvsweb/FXTF/.htaccess.diff?r1=1.1;r2=1.2;f=h","msgtype":"m.text"},"ts":1394069889000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but I'm not going to be able to get that there forever","msgtype":"m.text"},"ts":1394069911000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"that host is slated for retirement","msgtype":"m.text"},"ts":1394069940000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"but anyway it should be enough until Peter gets it set up at drafts.csswg.org somewhere","msgtype":"m.text"},"ts":1394070029000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"TabAtkins, jgraham, if I get to pick I just drop the two dots in my last name to make it Jagenstedt","msgtype":"m.text"},"ts":1394090764000,"senderName":"foolip_","senderId":"foolip_@irc"},
{"content":{"body":"TabAtkins, jgraham, however, I don't think Ã¤ to ae is actually wrong per any official rules","msgtype":"m.text"},"ts":1394090831000,"senderName":"foolip_","senderId":"foolip_@irc"},
{"content":{"body":"just not mangling names seems like a good option :)","msgtype":"m.text"},"ts":1394090893000,"senderName":"foolip_","senderId":"foolip_@irc"},
{"content":{"body":"is there any safe way to detect whether document.write is currently \"blocked\"? (like when you write a blocking tag with external resource, the next writes are blocked)","msgtype":"m.text"},"ts":1394120035000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"i was thinking of writing a proxy script tag to invoke an actual docwrite, but that would break partial docwrites :/","msgtype":"m.text"},"ts":1394120071000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Rtfm!","msgtype":"m.text"},"ts":1394120306000,"senderName":"krijn","senderId":"krijn@irc"},
{"content":{"body":"qFox: document.write? really?","msgtype":"m.text"},"ts":1394123676000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"i hope krijn is still logging this channel","msgtype":"m.text"},"ts":1394123714000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"can we pleaaaase get over the whole \"really\" thing quick? i'm not using it, i have to emulate it.","msgtype":"m.text"},"ts":1394123742000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: oh, that's okay then","msgtype":"m.text"},"ts":1394123764000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"I mean, it still sucks, but it seems a decent excuse","msgtype":"m.text"},"ts":1394123806000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1394123854000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"it's really bad because there's no way to cleanly determine insertion point, and there's this blocking thing which is really fubar. and then there are partial docwrites. and ugh.","msgtype":"m.text"},"ts":1394123899000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"we've come a long way in our support, but some of the ad network edge cases are slowly catching up to us. this partial thread blocking is one of them.","msgtype":"m.text"},"ts":1394123932000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"just for context; if you do a docwrite that writes a blocking tag that's loading something external, it will _only_ block future docwrites but not the main thread","msgtype":"m.text"},"ts":1394123961000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"i kind of need to know whether document.write is blocked or not. explaining why will take a long monologue so i'm hoping to skip that :)","msgtype":"m.text"},"ts":1394123986000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: I have literally no idea what you are trying to achieve, but have you read http://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#document.write%28%29 ?","msgtype":"m.text"},"ts":1394124083000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"finn.no also seem to be doing some ad cleaning these days.","msgtype":"m.text"},"ts":1394124111000,"senderName":"odinho","senderId":"odinho@irc"},
{"content":{"body":"There isn't an easy web-exposed way to do what you want, I don't think, but perhaps you can reverse-engineer what you need from the algorithm","msgtype":"m.text"},"ts":1394124149000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(note that most of the state is set elsewhere, notably in the HTML parser and script loader)","msgtype":"m.text"},"ts":1394124195000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"would go for something like \"block adscripts that use document.write\" ...","msgtype":"m.emote"},"ts":1394124213000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Well fundementally you either put ads in an iframe on a seperate domain or you entirely trust them","msgtype":"m.text"},"ts":1394124262000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"The fact that people don't trust them, but place them inline in their markup is upsetting","msgtype":"m.text"},"ts":1394124309000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"i think they dont have a choice right now","msgtype":"m.text"},"ts":1394124454000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"but tbh my requirement is more generic. I'd say it's slightly below that of a browser vendor.","msgtype":"m.text"},"ts":1394124480000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"fwiw, this is my problem: http://jsbin.com/coviyuyo/2 (convoluted example of a real world case). and to repeat, i dont write this crap myself, i need to support it.","msgtype":"m.text"},"ts":1394127417000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"i'm going to solve it by checking the written content (we already parse it anyways) for such blocking tags. if so, mark entire docwrite as \"blocked\" for the remainder of the page load. defer any write calls and execute them \"onload\". or well, that's what i'm going to try.","msgtype":"m.text"},"ts":1394127485000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"the only thing i need to check is whether writing an external script will block the html parser _after_ the current script finishes. if that's not the case, the above should be sound generically. otherwise there is still an edge case left, but we'll cross that bridge...","msgtype":"m.text"},"ts":1394127539000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"pokes around looking for an op ...","msgtype":"m.emote"},"ts":1394132416000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"You called?","msgtype":"m.text"},"ts":1394132435000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"what's the channel policy for cases like taijeen, who is getting \"ping timeout\" every few minutes or so?","msgtype":"m.text"},"ts":1394132522000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"though maybe his connection is better now?","msgtype":"m.text"},"ts":1394132540000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Yeah, it was <1 minute before","msgtype":"m.text"},"ts":1394132617000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"had such a thing happen to him not so many months ago, and he got banned from a number of channels just as a practical matter","msgtype":"m.emote"},"ts":1394132800000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"I'm happy to do temporary bans if need be, fwiw","msgtype":"m.text"},"ts":1394132948000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"toys with the idea of a new IRC connection protocol that could avoid all that join/part noise by smoothing over short disconnections somehow for a few minutes","msgtype":"m.emote"},"ts":1394133029000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"SamB: That already exists; it's called \"IRCCloud\".","msgtype":"m.text"},"ts":1394133407000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"The fact that I'm not familiar with, or using, that would seem to indicate that I was right in thinking to myself that it would be at the very least a LOONG time before it would replace the old protocol","msgtype":"m.text"},"ts":1394133576000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"wishes there was something like the CSS \"snapshots\" for IRC ...","msgtype":"m.emote"},"ts":1394133709000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"SamB: IRCCloud is just a webapp that does IRC for you.  It keeps you in the room all the time and maintains history across windows.","msgtype":"m.text"},"ts":1394134173000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"My response was somewhat snarky.","msgtype":"m.text"},"ts":1394134182000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1394134185000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"It's also very funny","msgtype":"m.text"},"ts":1394134202000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so it's sort of like mibbit","msgtype":"m.text"},"ts":1394134207000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"When IRCCloud loses connectivity","msgtype":"m.text"},"ts":1394134209000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"and all of Google disappear","msgtype":"m.text"},"ts":1394134216000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"I was thinking some sort of protocol that the actual IRC servers would speak.  Of course, this wouldn't help with netsplits, and you'd probably need to reconnect to the same server as last time ...","msgtype":"m.text"},"ts":1394134305000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Ms2ger, SamB: unless it's actually interrupting conversations, we should just let them be","msgtype":"m.text"},"ts":1394134605000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: Yes, obviously only ban people if it's actually causing trouble.  (Which gets a bit trickier to define in a publicly-logged channel, I guess.)  I was thinking about saying something to qFox when I mentioned it, and it wasn't clear that the problem was gone yet ...","msgtype":"m.text"},"ts":1394134869000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1394134936000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"fwiw, the problem isn't gone. i'm just going to work around it best i can. unless somebody has a great insight :)","msgtype":"m.text"},"ts":1394134955000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"or would like to propose exposing these properties ;)","msgtype":"m.text"},"ts":1394134981000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: not that problem, the repeated \"ping timeout\" parts/joins","msgtype":"m.text"},"ts":1394134983000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"your problem is indeed clearly not gone :-(","msgtype":"m.text"},"ts":1394134999000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"> I was thinking about saying something to qFox <-- then i dont get that?","msgtype":"m.text"},"ts":1394135014000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: I got distracted thinking about IRC, sorry","msgtype":"m.text"},"ts":1394135035000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"haha ok","msgtype":"m.text"},"ts":1394135041000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: fwiw, i feel your pain with respect to emulating document.write(). it's probably the most complicated aspect of the platform. not sure i have anything to help you though.","msgtype":"m.text"},"ts":1394135042000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think i have to agree. eval and with were a breezer compared to insertion point","msgtype":"m.text"},"ts":1394135077000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"is it important that the emulation ever use real document.write() ?","msgtype":"m.text"},"ts":1394135084000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"(well, the AAA might be slightly worse. but only slightly, and it's more self-contained.)","msgtype":"m.text"},"ts":1394135093000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"AAA ?","msgtype":"m.text"},"ts":1394135101000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Hixie: what's the AAA?","msgtype":"m.text"},"ts":1394135103000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Adoption Agency Algorithm.","msgtype":"m.text"},"ts":1394135107000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"part of the parser","msgtype":"m.text"},"ts":1394135111000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh","msgtype":"m.text"},"ts":1394135111000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1394135113000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"What reparents things nested incorrectly in th emiddle of a <table>","msgtype":"m.text"},"ts":1394135117000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"handles misnested formatting elements","msgtype":"m.text"},"ts":1394135120000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"TabAtkins: that's foster parenting","msgtype":"m.text"},"ts":1394135127000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Oh, right, it's that one.","msgtype":"m.text"},"ts":1394135129000,"senderName":"TabAtkins","senderId":"TabAtkins@irc"},
{"content":{"body":"TabAtkins: that's a lot less complicated :-)","msgtype":"m.text"},"ts":1394135132000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"actually, from our point of view, AAA is part of the docwrite problem","msgtype":"m.text"},"ts":1394135134000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"because that determines insertion point as well","msgtype":"m.text"},"ts":1394135142000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1394135147000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"though the term is different, i recognize that","msgtype":"m.text"},"ts":1394135153000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"the AAA should be relatively self-contained, how does it affect d.w()?","msgtype":"m.text"},"ts":1394135163000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: we have a heuristic to \"guess\" the insertion point of a docwrite. but if you write a <p> while inside a <p>, that affects this point","msgtype":"m.text"},"ts":1394135204000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"d.w(\"<table>\"); d.w(\"<hr>\"); // ?","msgtype":"m.text"},"ts":1394135228000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"so for us the problem is double; we dont know whether a tag is closed (can't just go for .lastChild) and we have to be conscious about contextual insertion","msgtype":"m.text"},"ts":1394135241000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: why would d.w() care what the DOM is? i'm confused. the insertion point isn't in the DOM, it's in the input stream to the parser.","msgtype":"m.text"},"ts":1394135286000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"SamB: our current/old approach was to serialize and sanitize stuff using the DOM, rather than a parser. stuff like TR disappeared :/","msgtype":"m.text"},"ts":1394135287000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Hixie: ok I'm clearly mixing up terminology too much.","msgtype":"m.text"},"ts":1394135318000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Hixie: we have to know exactly where new content is introduced when somebody docwrites","msgtype":"m.text"},"ts":1394135335000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"for us, that's the insertion point. how should i call it?","msgtype":"m.text"},"ts":1394135363000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"there's no one point","msgtype":"m.text"},"ts":1394135378000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it depends what you're inserting","msgtype":"m.text"},"ts":1394135381000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but \"current node\" is probably the closest to what you mean","msgtype":"m.text"},"ts":1394135390000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok sure","msgtype":"m.text"},"ts":1394135395000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"e.g. <table><script>document.write('<br><tr>');</script> will insert a <br> before the \"table\" element, in the \"body\" element, and a \"tbody\" in the \"table\" element, after the \"script\" element.","msgtype":"m.text"},"ts":1394135440000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(and then a \"tr\" inside the \"tbody\")","msgtype":"m.text"},"ts":1394135450000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and the current node, for us, depends on the AAA and the insertion point. actually, i'm not sure if there's any other big things that might affect it.","msgtype":"m.text"},"ts":1394135450000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: was the reason you have to emulate d.w() rather than using the actual thing the long story you wanted to avoid telling?","msgtype":"m.text"},"ts":1394135460000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Hixie: do you know/remember the rationale for the \"async docwrite\" behavior when docwriting an external script tag?","msgtype":"m.text"},"ts":1394135485000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"The current node shouldn't depend on the AAA or the insertion point. The current node is just the last node added to the stack of open elements.","msgtype":"m.text"},"ts":1394135488000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"SamB: kind of :) see surfly.com, see if that answers some questions","msgtype":"m.text"},"ts":1394135495000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: \"it's what browsers do\" is the rationale to almost all of the d.w() stuff.","msgtype":"m.text"},"ts":1394135505000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah but there's always a reason :)","msgtype":"m.text"},"ts":1394135518000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: some moron made it work that way?","msgtype":"m.text"},"ts":1394135528000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"lost in the mists of time from back when Netscape and IE were fighting the first browser war","msgtype":"m.text"},"ts":1394135542000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: the current node depends on AAA because of stuff like writing a p in another p, or a TR outside of a table scope. it changes where the content is put","msgtype":"m.text"},"ts":1394135553000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"or, well, someone who was merely unable to predict the consequences of their actions","msgtype":"m.text"},"ts":1394135560000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"the AAA has nothing to do with <p> in another <p> or <tr> outside a <table>?","msgtype":"m.text"},"ts":1394135569000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: and it depends on insertion point because, well, partial docwrites.","msgtype":"m.text"},"ts":1394135573000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"<tr> outside a <table> just does nothing","msgtype":"m.text"},"ts":1394135579000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"qFox: so what is it that you want to do here?","msgtype":"m.text"},"ts":1394135588000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"and <p><p> just causes a </p> to be implied","msgtype":"m.text"},"ts":1394135590000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"it's the same as <p></p><p>","msgtype":"m.text"},"ts":1394135597000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ah jeez. AAA is about moving nodes between docs :/","msgtype":"m.text"},"ts":1394135633000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"ugh it's been a long day.","msgtype":"m.text"},"ts":1394135634000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1394135657000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"those rules, whatever it's named, also affect the current node for us","msgtype":"m.text"},"ts":1394135670000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"TabAtkins seems to have gotten us confused about the naming ;-)","msgtype":"m.text"},"ts":1394135684000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"AAA is about things like <code><em></code>","msgtype":"m.text"},"ts":1394135697000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"SamB: basically, we'll still do a docwrite, but we want to know where into what node it'll be inserted because we'll sync it as an insertAdjacentHTML call. basically...","msgtype":"m.text"},"ts":1394135701000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"foster parenting is about <table><br> and stuff","msgtype":"m.text"},"ts":1394135716000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"qFox: i think the short answer is that you have no way to know what the parser would do without being hte parser","msgtype":"m.text"},"ts":1394135748000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"qFox: unless you control all the script","msgtype":"m.text"},"ts":1394135753000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so, basically there are two things that you can do","msgtype":"m.text"},"ts":1394135773000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"qFox: because nothing stops a page from taking the current element and grafting it into another document, say, and then document.write() would actuallly be inserting nodes into that other doc.","msgtype":"m.text"},"ts":1394135776000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(1) re-implement the HTML5 parser","msgtype":"m.text"},"ts":1394135782000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"If you're interested in that...","msgtype":"m.text"},"ts":1394135795000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Want to come and work on Servo?","msgtype":"m.text"},"ts":1394135804000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"(2) picket vendors and the WHATWG to give you ways to interrogate the browser's parser","msgtype":"m.text"},"ts":1394135814000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Hixie: ehhh. oh. meh.","msgtype":"m.text"},"ts":1394135816000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"then i suppose i dont care about it so much in this context :)","msgtype":"m.text"},"ts":1394135817000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"but just to be sure; there's no way of knowing whether a tag has been closed or not. right?","msgtype":"m.text"},"ts":1394135817000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"wow, irc the slow?","msgtype":"m.text"},"ts":1394135824000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"there's no way i can think of, in general, to know if a particular element is on the stack of open elements (which i guess is what you mean by \"has been closed or not\")","msgtype":"m.text"},"ts":1394135872000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: let's say we do control the whole page? how would it be possible then? short of xhr'ing the entire html and parsing it manually of course","msgtype":"m.text"},"ts":1394135881000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"(you can kind of tell with some elements, e.g. <video> and <object>, maybe)","msgtype":"m.text"},"ts":1394135890000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: that seems like a pretty reasonable way to define \"closed\", yes","msgtype":"m.text"},"ts":1394135904000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"if you control the whole page, you can dramatically simplify your life by just limiting what's possible","msgtype":"m.text"},"ts":1394135909000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i.e. as \"not open\"","msgtype":"m.text"},"ts":1394135912000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"for example, by preventing anyone from ever calling document.write()","msgtype":"m.text"},"ts":1394135916000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":":-)","msgtype":"m.text"},"ts":1394135917000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"SamB: you'd be surprised how many definitions one could come up with","msgtype":"m.text"},"ts":1394135937000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"SamB: (and how many are actually useful)","msgtype":"m.text"},"ts":1394135946000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"SamB: (e.g.  <div><em></div> - is the <em> open? it's not on the stack.)","msgtype":"m.text"},"ts":1394135959000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"SamB: (but if you do <div><em></div>A, it turns into the same as <div><em></em></div><em>A</em>, so maybe it _is_ open? or its clone is? or something?)","msgtype":"m.text"},"ts":1394135987000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: okay, yes, I see what you mean","msgtype":"m.text"},"ts":1394136011000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"what is \"the element\"?","msgtype":"m.text"},"ts":1394136019000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"is it the tag-soup range in the actual document, or a DOM node","msgtype":"m.text"},"ts":1394136076000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Hixie: yeah that's what I mean. ok.","msgtype":"m.text"},"ts":1394136090000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"yeah. the HTML parser is one of those few things that i've concluded can only be discussed in real terms, without simplification, unfortunately.","msgtype":"m.text"},"ts":1394136093000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"most things you can abstract things out and talk about in general terms quite successfully.","msgtype":"m.text"},"ts":1394136105000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"so perhaps we need terms for each applicable idea of \"element\"?","msgtype":"m.text"},"ts":1394136148000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"well, here what matters is that the <em> is no longer on the stack but is on the \"list of formatting elements\"","msgtype":"m.text"},"ts":1394136175000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"list of active formatting elements?","msgtype":"m.text"},"ts":1394136189000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"whatever i called it","msgtype":"m.text"},"ts":1394136191000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"bbiab, lunch","msgtype":"m.text"},"ts":1394136194000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"ok, inception case here, but what if you docwrite an external script. does it block the html parser _after_ the current script completes?","msgtype":"m.text"},"ts":1394136207000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"basically, can somebody reliably do this? <script>docwrite(<script src=foo>); docwrite(important stuff);</script><script>refer to important stuff</script>","msgtype":"m.text"},"ts":1394136207000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"i'm sensing freenode will split soon :/","msgtype":"m.text"},"ts":1394136208000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"so a \"formatting element\" is the tag soupy thing, then?","msgtype":"m.text"},"ts":1394136217000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"qFox: what might the nature of \"important stuff\" be?","msgtype":"m.text"},"ts":1394136249000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Hixie: the thing is we want to generically render a site as original, so limiting is not an option :)","msgtype":"m.text"},"ts":1394136288000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"fwiw, I would say an element is \"closed\" if there's no way for me to docwrite into it anymore :) But that definition might be too closely bound to my current use case for it.","msgtype":"m.text"},"ts":1394136380000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: okay, this explains why you want to support nasty ad networks pretty well","msgtype":"m.text"},"ts":1394136404000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"If I can't docwrite into it, it can't be the future parent of the content that's being written and I won't have to care about it.","msgtype":"m.text"},"ts":1394136408000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"SamB: well. we just want to be generic. ad networks are just nasty and do pretty much anything that one might consider \"edge case\". so we can't really slack here.","msgtype":"m.text"},"ts":1394136446000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: so, you don't care that another element node might later arise due to a particular tag that has already produced an element node?","msgtype":"m.text"},"ts":1394136466000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"SamB: not sure what you mean there?","msgtype":"m.text"},"ts":1394136493000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"qFox: well, yes, I mean it explains why you can't just decide that ad networks have to shape up if they want to work with your thing","msgtype":"m.text"},"ts":1394136496000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"qFox: well, like that <div><em></div> example","msgtype":"m.text"},"ts":1394136518000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"ah. well no. if i docwrite, and the start of the content ends up inside the <em>, that's all i care about.","msgtype":"m.text"},"ts":1394136548000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"in the end, the insertAdjacentHTML approach will have to be fixed I guess since it can't cover node boundary breaking writes properly. but one step at a time :)","msgtype":"m.text"},"ts":1394136581000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"do you care that another <em> element might crop up later without any intervening <em> tag? it sounds like the answer is \"no\".","msgtype":"m.text"},"ts":1394136581000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"actually, tbh, i think it matters.","msgtype":"m.text"},"ts":1394136602000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"the whole principle is to try and sync the two doms in virtually every way","msgtype":"m.text"},"ts":1394136620000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"can't you notice the new node when it happens?","msgtype":"m.text"},"ts":1394136636000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"well there's mutation obs. but that's not reliably supported for us. how else would you?","msgtype":"m.text"},"ts":1394136666000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"well, how do you normally see what nodes d.w() has added to the DOM?","msgtype":"m.text"},"ts":1394136757000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"we hook into _everything_. all the node affecting api's, we know about them","msgtype":"m.text"},"ts":1394136831000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Anybody have a synonym for optional that doesn't sound like \"option\"?","msgtype":"m.text"},"ts":1394136873000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"conditional","msgtype":"m.text"},"ts":1394136882000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Ms2ger: what's the context?","msgtype":"m.text"},"ts":1394136889000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"SamB: docwrite is one of the few where you cant really predict what's gonna happen in terms of DOM mutations.","msgtype":"m.text"},"ts":1394136905000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"SamB, optional arguments in Rust, where Option is already taken for nullability","msgtype":"m.text"},"ts":1394136948000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"SamB: innerhtml is also one, but that's mainly just an expensive operation for us. it's containable otherwise. I suppose, worst case, so is a document write. but we don't really want to go that far.","msgtype":"m.text"},"ts":1394136957000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Ms2ger: you mean like defaulted arguments?","msgtype":"m.text"},"ts":1394136971000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Ms2ger: defaultable","msgtype":"m.text"},"ts":1394136980000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"or otherwise couldn't just use Option arguments","msgtype":"m.text"},"ts":1394136994000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"+you","msgtype":"m.text"},"ts":1394136996000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"This is explicitly for the case where you don't have a default in IDL, though","msgtype":"m.text"},"ts":1394137007000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"NoDef","msgtype":"m.text"},"ts":1394137046000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Ms2ger: isn't that what Option is *for*?","msgtype":"m.text"},"ts":1394137069000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"SamB, sorta, but it idiomatically means \"nullable\", which I want to distinguish it from","msgtype":"m.text"},"ts":1394137104000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"So really what I'm saying is that the language took my lunch money :)","msgtype":"m.text"},"ts":1394137138000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"so does this mean that \"Option Option Foo bar\" or whatever is sensless? that seems like you should have just used the word \"nullable\" in the first place ...","msgtype":"m.text"},"ts":1394137191000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"that's the royal \"you\", I guess","msgtype":"m.text"},"ts":1394137216000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"or, well, plural","msgtype":"m.text"},"ts":1394137237000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"I prefer \"they\" :)","msgtype":"m.text"},"ts":1394137278000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Option Option works, but is not exactly obvious","msgtype":"m.text"},"ts":1394137301000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: if it doesn't do the same thing as Option, I don't see why using regular Option on the Rust side would be bad here?","msgtype":"m.text"},"ts":1394137359000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Readability :)","msgtype":"m.text"},"ts":1394137376000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Anyway, I'll stick with that for now","msgtype":"m.text"},"ts":1394137394000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"<qFox> basically, can somebody reliably do this? <script>docwrite(<script src=foo>); docwrite(important stuff);</script><script>refer to important stuff</script>","msgtype":"m.text"},"ts":1394137513000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"what should be the answer here? because if it's \"no\", then I'm fairly safe for parsing the docwrite content, recognizing blocking content, and setting a flag that write is blocked for this doc. i'll stash all writes and defer them to onload.","msgtype":"m.text"},"ts":1394137581000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"i'm not sure about a backtoback write that causes a block yet, but one step at a time","msgtype":"m.text"},"ts":1394137599000,"senderName":"qFox","senderId":"qFox@irc"},
{"content":{"body":"Hmm","msgtype":"m.text"},"ts":1394137614000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Defined(foo) | Undefined might be nice","msgtype":"m.text"},"ts":1394137862000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Not sure what to call the type though","msgtype":"m.text"},"ts":1394137874000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"That's the main issue :)","msgtype":"m.text"},"ts":1394137881000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"\"Maybe\"? Confuse all the Haskellers ;)","msgtype":"m.text"},"ts":1394137903000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Evil... I like it: )","msgtype":"m.text"},"ts":1394137919000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"that's what I would have called the first one ;-P","msgtype":"m.text"},"ts":1394137921000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"Ommitable?","msgtype":"m.text"},"ts":1394137949000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"globbot GPHemsley","msgtype":"m.text"},"ts":1394138674000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"GPHemsley, found more than 20 results, showing 3","msgtype":"m.text"},"ts":1394138675000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  4 19:30 <Hixie> GPHemsley: maybe?","msgtype":"m.text"},"ts":1394138675000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Feb 20 2014 <zcorpan> GPHemsley: http://mimesniff.spec.whatwg.org/#parse-a-mime-type compares bytes to code points","msgtype":"m.text"},"ts":1394138675000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Feb 13 2014 <jgraham> GPHemsley: First expand it to Msmsger","msgtype":"m.text"},"ts":1394138675000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"TIL","msgtype":"m.text"},"ts":1394138682000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Wat","msgtype":"m.text"},"ts":1394138709000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"we have a bot! how long have we had a bot!","msgtype":"m.text"},"ts":1394138713000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"It's glob's logbot","msgtype":"m.text"},"ts":1394138820000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"It was added to the topic nearly two years ago","msgtype":"m.text"},"ts":1394138841000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"pokes globbot ","msgtype":"m.emote"},"ts":1394138962000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"globbot globbot","msgtype":"m.text"},"ts":1394138991000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, found 3 results","msgtype":"m.text"},"ts":1394138992000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  6 20:49 * Hixie pokes globbot ","msgtype":"m.text"},"ts":1394138992000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  6 20:44 <GPHemsley> globbot GPHemsley","msgtype":"m.text"},"ts":1394138992000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Aug 10 2012 <krijn> The globbot thing looks handier","msgtype":"m.text"},"ts":1394138992000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"feels better","msgtype":"m.emote"},"ts":1394139007000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1394139021000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Ms2ger was pretty spot-on with that date","msgtype":"m.text"},"ts":1394139035000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Sometimes it's nice to have a static topic :)","msgtype":"m.text"},"ts":1394139087000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"The topic hasn't changed in 2 years?","msgtype":"m.text"},"ts":1394139244000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"cires","msgtype":"m.emote"},"ts":1394139250000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"globbot: topic","msgtype":"m.text"},"ts":1394139386000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"SamB, found more than 20 results, showing 3","msgtype":"m.text"},"ts":1394139387000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  6 20:54 <GPHemsley> The topic hasn't changed in 2 years?","msgtype":"m.text"},"ts":1394139387000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  6 20:51 <Ms2ger> Sometimes it's nice to have a static topic :)","msgtype":"m.text"},"ts":1394139387000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  6 20:47 <Ms2ger> It was added to the topic nearly two years ago","msgtype":"m.text"},"ts":1394139387000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"globbot: 10 topic","msgtype":"m.text"},"ts":1394139402000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"GPHemsley, found 0 results","msgtype":"m.text"},"ts":1394139403000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"globbot: topic 10","msgtype":"m.text"},"ts":1394139410000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"GPHemsley, found 0 results","msgtype":"m.text"},"ts":1394139411000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"hmph","msgtype":"m.text"},"ts":1394139418000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"globbot: W3C","msgtype":"m.text"},"ts":1394139442000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"GPHemsley, found more than 20 results, showing 3","msgtype":"m.text"},"ts":1394139443000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  6 01:26 <MikeSmith> Hixie: btw http://zzyzwicz.w3.org/ is the old w3c-test.org host","msgtype":"m.text"},"ts":1394139443000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  5 21:33 <Ms2ger> Hixie, I think someone scraping w3c-test?","msgtype":"m.text"},"ts":1394139443000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Mar  5 19:51 <SamB> hmm, it never occurred to me to wonder how the w3c got w3.org before ...","msgtype":"m.text"},"ts":1394139443000,"senderName":"globbot","senderId":"globbot@irc"},
{"content":{"body":"Srsly","msgtype":"m.text"},"ts":1394139467000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"This is the second time today a channel has started playing with logbot","msgtype":"m.text"},"ts":1394139482000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"heh","msgtype":"m.text"},"ts":1394139488000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Well, I just learned that it existed because we had one added to a Mozilla channel","msgtype":"m.text"},"ts":1394139505000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"so they may be related","msgtype":"m.text"},"ts":1394139513000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"Was it #intellego?","msgtype":"m.text"},"ts":1394139524000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Yeah","msgtype":"m.text"},"ts":1394139531000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"It was the people who came looking for it the last time, yes","msgtype":"m.text"},"ts":1394139566000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"What was the other channel?","msgtype":"m.text"},"ts":1394139579000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"#introduction","msgtype":"m.text"},"ts":1394139601000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1394139617000,"senderName":"GPHemsley","senderId":"GPHemsley@irc"},
{"content":{"body":"DOMString[] in WebIDL means \"JavaScript array of strings\"? Or is that sequence<DOMString>?","msgtype":"m.text"},"ts":1394142496000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_, DOMString[] will go away","msgtype":"m.text"},"ts":1394142507000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"it means \"host object that behaves similarly to an array but isn't a JS Array object\"","msgtype":"m.text"},"ts":1394142526000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"sequence<> is the one that means array object","msgtype":"m.text"},"ts":1394142530000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"Ah OK, thanks.","msgtype":"m.text"},"ts":1394142538000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"remembers he needs to email you and some others about sicking's array proposals","msgtype":"m.emote"},"ts":1394142558000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"Apparently various places in Gecko that use DOMStringList are currently specced to use DOMString[]","msgtype":"m.text"},"ts":1394142570000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Curious whether we can replace them with real arrays or if there's web code depending on contains() or item()","msgtype":"m.text"},"ts":1394142593000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"yeah we would like to replace them with real JS Arrays","msgtype":"m.text"},"ts":1394142615000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"Domenic_: it's somewhat unknown. The only \"important\" difference is that DOMStringList has a .item(number) function","msgtype":"m.text"},"ts":1394142638000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"well also contains()","msgtype":"m.text"},"ts":1394142647000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: but it might not be used enough to matter","msgtype":"m.text"},"ts":1394142647000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"the difficulty, and the reason that the DOMString[] thing was introduced, was (a) checking and throwing when you interact with the array incorrectly, and (b) having the DOM object watch for changes to the array","msgtype":"m.text"},"ts":1394142648000,"senderName":"heycam","senderId":"heycam@irc"},
{"content":{"body":"http://esdiscuss.org/topic/array-prototype-contains#content-69","msgtype":"m.text"},"ts":1394142649000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: ooooh. I had missed that :(","msgtype":"m.text"},"ts":1394142680000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Domenic_: i forgot that DOMStringList has .contains","msgtype":"m.text"},"ts":1394142689000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Domenic_: so silly that Array doesn't :(","msgtype":"m.text"},"ts":1394142695000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: well there's talk of adding .contains(). But IMO adding .has() would be more consistent with Set, Map, etc.","msgtype":"m.text"},"ts":1394142712000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: makes sense","msgtype":"m.text"},"ts":1394142727000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Domenic_: crap :( this makes me worried we can't deprecate DOMStringList :(","msgtype":"m.text"},"ts":1394142767000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: really? Boris's email made it sound like there was no interoperable usage of it","msgtype":"m.text"},"ts":1394142790000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: not even IDB?","msgtype":"m.text"},"ts":1394142805000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"i guess IndexedDB","msgtype":"m.text"},"ts":1394142806000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: how quickly do you think we could get .has added to Array? In spec that is","msgtype":"m.text"},"ts":1394142941000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Domenic_: it *might* be easier to get rid of .contains if there's an alternative we can point people to","msgtype":"m.text"},"ts":1394142970000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: if there was serious DOM pressure, might be able to squeak it into ES6. If someone writes the actual spec text for Allen to copy and paste. Which I volunteer for. (rwaldron also is good at doing such things.)","msgtype":"m.text"},"ts":1394142992000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Alternately it could be on the ES7 train as an accepted proposal, so as to avoid piling onto the ES6 train","msgtype":"m.text"},"ts":1394143020000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"sicking, I guess we could also try to kill contains() from DOMStringList?","msgtype":"m.text"},"ts":1394143032000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Domenic_: i'm not sure that the IDB usage amounts to \"serious\" pressure.","msgtype":"m.text"},"ts":1394143036000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Domenic_: worst case we just leave DOMStringList in IDB and nowhere else","msgtype":"m.text"},"ts":1394143055000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"It's also not the end of the world to have contains() on array instead of has()","msgtype":"m.text"},"ts":1394143068000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"you can kind of make an argument that you should be consistent with String instead of with Map/Set.","msgtype":"m.text"},"ts":1394143080000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"since string also has zero-indexed properties","msgtype":"m.text"},"ts":1394143088000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: true","msgtype":"m.text"},"ts":1394143111000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Domenic_: any idea when the first ES7 train would ship? My understanding is that there will be regular releases past ES6? (though details still being debated i'm sure)","msgtype":"m.text"},"ts":1394143185000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"I think either end of 2014 for spec-text complete, plus a half-year for editing before Ecma approval, or maybe it's mid-2015 with a shorter Ecma approval cycle this time.","msgtype":"m.text"},"ts":1394143283000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1394143296000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Ms2ger: we could try renaming .contains() to .has()","msgtype":"m.text"},"ts":1394143320000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"rafaelw I think would know the details on that plan","msgtype":"m.text"},"ts":1394143321000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: ok","msgtype":"m.text"},"ts":1394143329000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Ms2ger: or have both but warn for .contains()","msgtype":"m.text"},"ts":1394143337000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Ms2ger: if you write a patch I'll r+","msgtype":"m.text"},"ts":1394143349000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking, (I'm not sure if has is really better than contains, but I don't feel like bikeshedding on this :))","msgtype":"m.text"},"ts":1394143360000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: i'll defer to Domenic_ and TC39","msgtype":"m.text"},"ts":1394143379000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Ms2ger: consistency with Set and Map is nice","msgtype":"m.text"},"ts":1394143392000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"avoids snarky comments by saying nothing","msgtype":"m.emote"},"ts":1394143401000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: something we should deinitely do is to remove item","msgtype":"m.text"},"ts":1394143439000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"You could file a bug on me and hope I get to it :)","msgtype":"m.text"},"ts":1394143459000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Domenic_: so, \"has\" or \"contains\"? If you get to choose?","msgtype":"m.text"},"ts":1394143488000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"sicking: if I get to choose, \"has\".","msgtype":"m.text"},"ts":1394143524000,"senderName":"Domenic_","senderId":"Domenic_@irc"},
{"content":{"body":"Domenic_: cool","msgtype":"m.text"},"ts":1394143535000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"wonders what it means to get a 301 with \"Vary: User-Agent,Accept-Language, Accept-Encoding\"","msgtype":"m.emote"},"ts":1394148526000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"(is it really \"permanent\" if it depends on those things?)","msgtype":"m.text"},"ts":1394148549000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"just did \"curl --head www.mozilla.org\"","msgtype":"m.emote"},"ts":1394148563000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"SamB: it means it's permanent for that combination of values :-)","msgtype":"m.text"},"ts":1394149589000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"hmm, so I know who I should complain to if a link checker sees that ands says \"change your links\"","msgtype":"m.text"},"ts":1394149642000,"senderName":"SamB","senderId":"SamB@irc"},
{"content":{"body":"SamB: the link checker vendor?","msgtype":"m.text"},"ts":1394150145000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"precisely","msgtype":"m.text"},"ts":1394150154000,"senderName":"SamB","senderId":"SamB@irc"}
]