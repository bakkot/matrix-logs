[
{"content":{"body":"I'm trying to determine whether it is expected that there appears to be no way for a line break in a data attribute to also become a line break in CSS generated content. e.g. using ::after { display:block; content: attr(title);}. I'm using &#013; which Firefox/Safari/Chrome agree to render as line break in the native tooltip, but Chrome/Safari collapse it to a space and Firefox eats it away.","msgtype":"m.text"},"ts":1596505505000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"I  tried white-space: pre; as well as it seems fair to collapse whitespace by default the  same as it  would  if it were a real element, but no dice.","msgtype":"m.text"},"ts":1596505536000,"senderName":"Krinkle","senderId":"Krinkle@irc"},
{"content":{"body":"MikeSmith: TabAtkins: looking at the output of https://github.com/whatwg/fetch/pull/1065 replacing aside with div doesn't really help","msgtype":"m.text"},"ts":1596528524000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"MikeSmith: TabAtkins: is the only way forward to disable MDN boxes?","msgtype":"m.text"},"ts":1596528565000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Any idea how a browsing context set (https://html.spec.whatwg.org/multipage/browsers.html#browsing-context-set) can contain more than one tlbc? Creating a new tlbc creates a new group (https://html.spec.whatwg.org/multipage/browsers.html#creating-a-new-top-level-browsing-context), so it feels like the set can only ever contain one item","msgtype":"m.text"},"ts":1596539049000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: create a popup","msgtype":"m.text"},"ts":1596539150000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: \"auxiliary\"","msgtype":"m.text"},"ts":1596539159000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: i.e., <a target=x> or window.open()","msgtype":"m.text"},"ts":1596539182000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ah, cheers, it always catches me out that auxiliary browsing contexts are also top-level browsing contexts, but aren't created via \"create a new top-level browsing context\"","msgtype":"m.text"},"ts":1596539358000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: I guess that is a little weird","msgtype":"m.text"},"ts":1596539392000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: I suspect we'll rename create a new top-level browsing context to create a new browsing session eventually","msgtype":"m.text"},"ts":1596539419000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"although... that would also need to happen for auxiliary, so no","msgtype":"m.text"},"ts":1596539433000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I'm seeing if I can decouple session history from browsing contexts right now. I'll add notes for things that trip me up along the way.","msgtype":"m.text"},"ts":1596539508000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: so what we want is that session history is 1:1 with a top-level bc","msgtype":"m.text"},"ts":1596539539000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"including auxiliary","msgtype":"m.text"},"ts":1596539545000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so a browsing session holds a (auxiliary) top-level bc and survives COOP and such","msgtype":"m.text"},"ts":1596539583000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: doesn't session history need to sit above tlbc, since a browsing session's history can contain many tlbcs?","msgtype":"m.text"},"ts":1596539706000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: yeah, 1:1 was wrong, it's 1:M","msgtype":"m.text"},"ts":1596539751000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Yeah, I'm going to try moving browsing contexts to session history items, and move session history to some concept of a \"navigable\"","msgtype":"m.text"},"ts":1596539827000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Where frames have a \"navigable\", and the top level navigable is a browsing session","msgtype":"m.text"},"ts":1596539850000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: do frames need a thing of their own at all? Or can the session entry contain some kind of tree?","msgtype":"m.text"},"ts":1596539891000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I think in impls session entries are across the entire top-level bc (and therefore a tree to capture navigations in frames)","msgtype":"m.text"},"ts":1596539920000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I think it's better if frames have their own thing, then removal of the frame can also remove those session history items","msgtype":"m.text"},"ts":1596539952000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Yeah, that is needed","msgtype":"m.text"},"ts":1596539984000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Session history seems like more of a timeline to me","msgtype":"m.text"},"ts":1596539988000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"JakeA: it might be worth doing a writeup somewhere and get smaug____ to take a look","msgtype":"m.text"},"ts":1596540002000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: smaug____: ta-da https://github.com/whatwg/html/issues/5767","msgtype":"m.text"},"ts":1596540016000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Here's a PR for the bit that confused me https://github.com/whatwg/html/pull/5780","msgtype":"m.text"},"ts":1596540829000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I'll have a look in a bit","msgtype":"m.text"},"ts":1596541309000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"JakeA: thanks; I'll ping some folks internally","msgtype":"m.text"},"ts":1596546103000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ta!","msgtype":"m.text"},"ts":1596546753000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: I will take a look at the validation errors right now","msgtype":"m.text"},"ts":1596546991000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: that's great, thanks!","msgtype":"m.text"},"ts":1596547051000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: so the cause is a bug in my Bikeshed code for placing the annos; the code is meant to detect whether the target itâ€™s annotating has an dt ancestor, but I can see that code is not actually detecting the dt ancestor as expected. So Iâ€™ll step through it now it see why. But if I can canâ€™t get it figured out soon, Iâ€™ll make a patch/PR for turning of the MDN panels for now, for WHATWG bikeshed","msgtype":"m.text"},"ts":1596548731000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"specs","msgtype":"m.text"},"ts":1596548736000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: it does seem not all WHATWG specs are affected","msgtype":"m.text"},"ts":1596550238000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yeah it only affects specs that have dfn inside dt element","msgtype":"m.text"},"ts":1596550909000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"anyway, I found the bug","msgtype":"m.text"},"ts":1596550932000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"will raise a PR witha  patch","msgtype":"m.text"},"ts":1596550964000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"the biggest thing to fix in session history is the whole joint session history concept","msgtype":"m.text"},"ts":1596556239000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(I don't understand what this DOMContentLoaded thingie is about)","msgtype":"m.text"},"ts":1596556316000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: My suggestion is to replace it with 'steps'. Where the top-level thing dictates which step the history should be at, and from that each navigable can determine which of their session history entries that corresponds to","msgtype":"m.text"},"ts":1596556317000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I don't see 'steps' in https://github.com/whatwg/html/issues/5767","msgtype":"m.text"},"ts":1596556461000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: See the \"details\" in \"Specifying the history as a 'timeline'\"","msgtype":"m.text"},"ts":1596556490000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"last time I checked all the implementations had list of trees as the implementation.","msgtype":"m.text"},"ts":1596556553000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Perhaps that has changed since","msgtype":"m.text"},"ts":1596556558000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but if that is still the case, might be worth to use that in the spec too","msgtype":"m.text"},"ts":1596556572000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"perhaps \"the single history timeline has to be enforced through algorithms.\" means that?","msgtype":"m.text"},"ts":1596556604000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Implementations are bad here tho","msgtype":"m.text"},"ts":1596556746000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"so I don't find matching implementations compelling ðŸ˜€","msgtype":"m.text"},"ts":1596556761000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Edge had the most reasonable behavior","msgtype":"m.text"},"ts":1596556774000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or perhaps it was IE","msgtype":"m.text"},"ts":1596556783000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Interesting, I didn't test that. What did it do different to Firefox?","msgtype":"m.text"},"ts":1596556808000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"trying to recall... it had something to do with DOM mutations","msgtype":"m.text"},"ts":1596556923000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"With the timeline/steps model, I focused on enforcing the single history timeline across contexts, while still making things tidy up nicely when contexts are removed (which was one nice thing about the joint session history)","msgtype":"m.text"},"ts":1596557060000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"Can't find now the testcase for IE","msgtype":"m.text"},"ts":1596557471000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I did notice that at some point Chrome has changed behavior","msgtype":"m.text"},"ts":1596557486000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"http://mozilla.pettay.fi/moztests/history2/Start.html behaves rather oddly now at the last step","msgtype":"m.text"},"ts":1596557510000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Yeah, it's much more sensible now, but still not as good as Firefox when it comes to removed contexts","msgtype":"m.text"},"ts":1596557512000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"I guess Chrome behaves now like Presto used to","msgtype":"m.text"},"ts":1596557535000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Fwiw I created https://iframe-session-history.glitch.me/ to test the browsers, but it's pretty manual since I was exploring the various behaviours","msgtype":"m.text"},"ts":1596557810000,"senderName":"JakeA","senderId":"JakeA@irc"},
{"content":{"body":"annevk: any ideas on next steps for X-Frame-Options? I'd love to get something merged... maybe if implementers aren't being too responsive, we could just merge the spec and tests as-is and then file bugs, and see if that drives further refinements?","msgtype":"m.text"},"ts":1596564826000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: yeah, dveditz said he was gonna look, I can ping one more time tomorrow","msgtype":"m.text"},"ts":1596566313000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"about those line breaks in pseudo elements, I have a repro at https://codepen.io/Krinkle/pen/bGpbjBa?editors=1000 which also shows the  difference between Chrome/Safari  and Firefox, where Firefox eats the line break.","msgtype":"m.text"},"ts":1596577404000,"senderName":"Krinkle","senderId":"Krinkle@irc"}
]