[
{"content":{"body":"Domenic: thanks for the heads-up, banned","msgtype":"m.text"},"ts":1469062761000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"MikeSmith: thanks, it seems my request was accepted.","msgtype":"m.text"},"ts":1469063925000,"senderName":"kochi","senderId":"kochi@irc"},
{"content":{"body":"kochi: super","msgtype":"m.text"},"ts":1469064945000,"senderName":"MikeSmith","senderId":"MikeSmith@irc"},
{"content":{"body":"Anyone know what the pref name is in Chrome to allow popups? (i.e. the one that gets written to the Preferences file)","msgtype":"m.text"},"ts":1469092077000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(found it)","msgtype":"m.text"},"ts":1469094082000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Sitting in the IETF Security Area meeting, where an NSA person is presenting about a WebSockets vulnerability","msgtype":"m.text"},"ts":1469104343000,"senderName":"mnot1","senderId":"mnot1@irc"},
{"content":{"body":"https://www.ietf.org/proceedings/96/slides/slides-96-saag-1.pdf","msgtype":"m.text"},"ts":1469104344000,"senderName":"mnot1","senderId":"mnot1@irc"},
{"content":{"body":"basically, timing attack against the handshake","msgtype":"m.text"},"ts":1469104358000,"senderName":"mnot1","senderId":"mnot1@irc"},
{"content":{"body":"annevk: put the mitigation in fetch (if it pans out)?","msgtype":"m.text"},"ts":1469104464000,"senderName":"mnot1","senderId":"mnot1@irc"},
{"content":{"body":"mnot1: port blocking is part of Fetch","msgtype":"m.text"},"ts":1469104479000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"he wants to delay the handshake so you can't tell between a listening and non-listening port","msgtype":"m.text"},"ts":1469104517000,"senderName":"mnot1","senderId":"mnot1@irc"},
{"content":{"body":"mnot1: oh I see","msgtype":"m.text"},"ts":1469104525000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"looking for his draft...","msgtype":"m.text"},"ts":1469104543000,"senderName":"mnot1","senderId":"mnot1@irc"},
{"content":{"body":"mnot1: since WebSocket gets its own connection there's a little more room for nastyness?","msgtype":"m.text"},"ts":1469104545000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"y","msgtype":"m.text"},"ts":1469104566000,"senderName":"mnot1","senderId":"mnot1@irc"},
{"content":{"body":"Because in principle you can do this with <img>","msgtype":"m.text"},"ts":1469104591000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"webworkers + websockets makes it faster… or could you do webworkers + <img>? hmm","msgtype":"m.text"},"ts":1469104657000,"senderName":"mnot1","senderId":"mnot1@irc"},
{"content":{"body":"can't, can do importScripts() or fetch()","msgtype":"m.text"},"ts":1469104689000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://github.com/w3c/IndexedDB/issues/83 Does this make sense to anyone?","msgtype":"m.text"},"ts":1469104842000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: does","msgtype":"m.text"},"ts":1469104886000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is registerElement still defined in some spec?","msgtype":"m.text"},"ts":1469105154000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or was that removed?","msgtype":"m.text"},"ts":1469105158000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: renamed to customElements.define()","msgtype":"m.text"},"ts":1469105193000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: HTML Standard","msgtype":"m.text"},"ts":1469105200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"HTML?","msgtype":"m.text"},"ts":1469105213000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"HTML is, like, different, only browsers use HTML for the most part","msgtype":"m.text"},"ts":1469105214000,"senderName":"botie","senderId":"botie@irc"},
{"content":{"body":"not CustomElements spec which has interface CustomElementsRegistry","msgtype":"m.text"},"ts":1469105225000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: CustomElements spec is a copy that is typically out-of-date as I understand it","msgtype":"m.text"},"ts":1469105253000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"uh","msgtype":"m.text"},"ts":1469105259000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ok, now I've been looking at wrong spec","msgtype":"m.text"},"ts":1469105268000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"why CustomElements are in HTML spec?","msgtype":"m.text"},"ts":1469105280000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"wouldn't DOM be more natural?","msgtype":"m.text"},"ts":1469105289000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"though, doesn't matter much","msgtype":"m.text"},"ts":1469105304000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: because it's custom HTML elements mostly and they integrate with the HTML parser and such","msgtype":"m.text"},"ts":1469105307000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: there's a couple of hooks in DOM too to queue the callbacks","msgtype":"m.text"},"ts":1469105318000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: and to define the new state for elements","msgtype":"m.text"},"ts":1469105329000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: and DOM defines createElement() still of course","msgtype":"m.text"},"ts":1469105350000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: I think we mostly went with HTML since you can only subclass HTMLElement","msgtype":"m.text"},"ts":1469105366000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"(and the HTML parser)","msgtype":"m.text"},"ts":1469105376000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1469105389000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hmm, I wonder why Element can't be subclassed","msgtype":"m.text"},"ts":1469105403000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: I have forgotten, probably because you could never serialize it and therefore it would not be that useful","msgtype":"m.text"},"ts":1469106002000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"smaug____: so yeah, https://w3c.github.io/webcomponents/spec/custom/ is a month out-of-date","msgtype":"m.text"},"ts":1469106660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"ok, thanks","msgtype":"m.text"},"ts":1469106669000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: I landed changes for custom elements three hours ago in HTML","msgtype":"m.text"},"ts":1469106671000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"https://w3c.github.io/webcomponents/spec/custom/ could perhaps have a warning it being out-of-date most of the time","msgtype":"m.text"},"ts":1469106702000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(no one reads the Abstract ;) )","msgtype":"m.text"},"ts":1469106715000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Domenic: ^^","msgtype":"m.text"},"ts":1469106787000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: Thanks btw. :)","msgtype":"m.text"},"ts":1469108148000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"annevk: I died inside when i found this problem.","msgtype":"m.text"},"ts":1469108169000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"nox: standards being ignorant about threads and having issues with parallelism is fairly common still","msgtype":"m.text"},"ts":1469108203000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nox: we only really started thinking in terms of event loops after Hixie wrote one down","msgtype":"m.text"},"ts":1469108220000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I know, but it's the first time it happens in a spec I'm actually implementing. :P","msgtype":"m.text"},"ts":1469108222000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"hehe","msgtype":"m.text"},"ts":1469108226000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wish spec's were written in markdown.  It would be a lot easier to review changes","msgtype":"m.text"},"ts":1469108859000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"And a lot harder to edit IMO.","msgtype":"m.text"},"ts":1469108878000,"senderName":"nox","senderId":"nox@irc"},
{"content":{"body":"or at least fricking wrap lines to a reasonable width","msgtype":"m.text"},"ts":1469108937000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"smaug____: does it seem reasonable to you to fix one part of <iframe>'s problems first https://github.com/w3c/webcomponents/issues/145#issuecomment-234258706?","msgtype":"m.text"},"ts":1469109086000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: 100 columns is not reasonable?","msgtype":"m.text"},"ts":1469109099000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: it might be time to get a bigger monitor","msgtype":"m.text"},"ts":1469109109000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: https://github.com/slightlyoff/ServiceWorker/commit/5c0ecaeb423d04df7429bfaa2e5fbde9e42038e1","msgtype":"m.text"},"ts":1469109111000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"wanderview: ooh, but you left that comment on a change to HTML","msgtype":"m.text"},"ts":1469109146000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"line 714 of that commit is a hell of lot bigger than 100 chars","msgtype":"m.text"},"ts":1469109148000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"HTML commits don't have that","msgtype":"m.text"},"ts":1469109159000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: how can I interpret the change to html without reviewing that other commit it depends on?","msgtype":"m.text"},"ts":1469109161000,"senderName":"wanderview","senderId":"wanderview@irc"},
{"content":{"body":"Sure, your comment was just not very specific","msgtype":"m.text"},"ts":1469109179000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"wanderview: note that the client message queue bit landed in SW so you could read it in the spec","msgtype":"m.text"},"ts":1469109565000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: xref's html.py takes ages and ends up with exceptions, it is worth battling with it?","msgtype":"m.text"},"ts":1469111355000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"mounir: exceptions are basically terms that need to be removed, but you can leave a comment and I can take care of it I suppose","msgtype":"m.text"},"ts":1469111797000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: I've removed them","msgtype":"m.text"},"ts":1469113809000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"annevk: updated the 3 CLs -- whenever you have time ;)","msgtype":"m.text"},"ts":1469113820000,"senderName":"mounir","senderId":"mounir@irc"},
{"content":{"body":"mounir: ta, maybe tonight, but might be tomorrow morning","msgtype":"m.text"},"ts":1469113834000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mounir: landed whatwg/fullscreen and whatwg/xref","msgtype":"m.text"},"ts":1469123404000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mounir: thanks a lot for doing all of the work required, that's great","msgtype":"m.text"},"ts":1469123440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"mounir: it seems I can even merge the screen orientation PR, but I'll leave that up to you","msgtype":"m.text"},"ts":1469123542000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"does anyone happen to know when blink dispatches click","msgtype":"m.text"},"ts":1469125622000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"after mousedown/up","msgtype":"m.text"},"ts":1469125629000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"oh oh, it has some very specific hack for <button>s","msgtype":"m.text"},"ts":1469125725000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":";_;","msgtype":"m.text"},"ts":1469128021000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Why all the sudden UI event infrastructure investigations, smaug____? I mean, it's good for improving the spec and such, but why would you do this to yourself.","msgtype":"m.text"},"ts":1469128050000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"Domenic: just fixing a bug","msgtype":"m.text"},"ts":1469128397000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"well, not a but","msgtype":"m.text"},"ts":1469128398000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"<button> handling in Gecko is per HTML4","msgtype":"m.text"},"ts":1469128398000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"s/but/bug/","msgtype":"m.text"},"ts":1469128398000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but since other browsers have other behavior, need to change the behavior","msgtype":"m.text"},"ts":1469128398000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1469128413000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I wonder what HTML4 said about buttons... /me goes to look","msgtype":"m.text"},"ts":1469128427000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"So far it's not clear that they can be clicked https://www.w3.org/TR/html4/interact/forms.html#h-17.5","msgtype":"m.text"},"ts":1469128459000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"<button> in HTML4 is just a way to have more complicated rendering for the button","msgtype":"m.text"},"ts":1469128468000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or that is at least one interpretation","msgtype":"m.text"},"ts":1469128490000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so in Gecko events inside <button> go always to the <button>","msgtype":"m.text"},"ts":1469128509000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but now, I'm trying to understand how click even works in blink","msgtype":"m.text"},"ts":1469128539000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"We got a \"when activated\" in https://www.w3.org/TR/html4/interact/forms.html#submit-button which seems to acknowledge the existence of clicking","msgtype":"m.text"},"ts":1469128542000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"I thought it click would be dispatched to common ancestor of mousedown and mouseup","msgtype":"m.text"},"ts":1469128565000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"in blink","msgtype":"m.text"},"ts":1469128567000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but apparently it is very different","msgtype":"m.text"},"ts":1469128573000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"in some cases common ancestor","msgtype":"m.text"},"ts":1469128581000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"in other cases... it doesn't happen at all","msgtype":"m.text"},"ts":1469128588000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"rbyers might be able to help","msgtype":"m.text"},"ts":1469128590000,"senderName":"Domenic","senderId":"Domenic@irc"},
{"content":{"body":"yeah, I tried to ping him","msgtype":"m.text"},"ts":1469128743000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"ok, found the code","msgtype":"m.text"},"ts":1469129286000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: Sorry for the delay, I'm on vacation.  I thought it was usually common ancestor - at least that's the code I know.","msgtype":"m.text"},"ts":1469130757000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: it is not that. there is also something about interactivecontent or such","msgtype":"m.text"},"ts":1469130780000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Dtapuska@ and Mustaq@ probably know more.  You could ask on input-dev⊙co or file a bug for anything you see that's not to spec.","msgtype":"m.text"},"ts":1469130826000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"Input team considers any spec / blink mismatch to be a chromium bug, even if the right fix ends up being to change the spec...","msgtype":"m.text"},"ts":1469130925000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: I found the relevant code in blink. I was just surprised since it has been discussed before the click should happen on common ancestor","msgtype":"m.text"},"ts":1469130949000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but there are cases when click doesn't happen at all in blink after mousedown/up","msgtype":"m.text"},"ts":1469130968000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"this is per element basis","msgtype":"m.text"},"ts":1469130978000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"form elements, <a> and some others","msgtype":"m.text"},"ts":1469130985000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"they all affect to click dispatching in blink apparently","msgtype":"m.text"},"ts":1469130997000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Hmm.  If its not too breaking, we can probably get rid of any such special cases.  IIRC the click we fire for touch had no such special cases.","msgtype":"m.text"},"ts":1469131079000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"So the inconsistency is weird, probably just another sign of mouse code being so crusty and unmaintained for so long.","msgtype":"m.text"},"ts":1469131117000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"Then again, web compat in this area is super brittle - every time we try to clean something up we are surprised by unexpected breakage.  Still, we're not afraid to try..","msgtype":"m.text"},"ts":1469131180000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"rbyers: there is some comment in the code about IEism, so it might be quite breaking change","msgtype":"m.text"},"ts":1469131263000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I should look at the blame to see when it was added","msgtype":"m.text"},"ts":1469131292000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"rbyers: go back to your vacation!","msgtype":"m.text"},"ts":1469131301000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Best test is probably Edge.  If Edge doesn't do that, we can almost certainly change.","msgtype":"m.text"},"ts":1469131322000,"senderName":"rbyers","senderId":"rbyers@irc"},
{"content":{"body":"Thanks, TTYL :-)","msgtype":"m.text"},"ts":1469131329000,"senderName":"rbyers","senderId":"rbyers@irc"}
]