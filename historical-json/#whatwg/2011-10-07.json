[
{"content":{"body":"jgraham: why isn't it logical to have attributes on the prototype?","msgtype":"m.text"},"ts":1317961740000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: Attributes are properties of instances. Putting them on the prototype and using getter magic to return the value seems like a very muddy model that depends on implementation details","msgtype":"m.text"},"ts":1317973800000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hiya","msgtype":"m.text"},"ts":1317973801000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"jgraham: but it makes feature detection simpler for authors","msgtype":"m.text"},"ts":1317974040000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"Well not if 3/4 browsers don't use the model","msgtype":"m.text"},"ts":1317974160000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Since you will have to feature detect different things in different places","msgtype":"m.text"},"ts":1317974161000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Although I would agree in principle if that wasn't the case","msgtype":"m.text"},"ts":1317974220000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"so with authors > implementors, shouldn't we be moving to that model?","msgtype":"m.text"},"ts":1317975720000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"I wonder what kind of evil situations I should test with HTML in sync XHR that can be tested relatively deterministically in an automated test...","msgtype":"m.text"},"ts":1317975840000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm now mainly testing charset stuff and that scripts don't run","msgtype":"m.text"},"ts":1317975900000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"<img> not loading?","msgtype":"m.text"},"ts":1317976440000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: oh yeah, I'm testing img, iframe, style sheet, video, object and script not loading","msgtype":"m.text"},"ts":1317976800000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"and the onload attribute in the loaded file doing nothing","msgtype":"m.text"},"ts":1317976860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"my sync XHR testing is now on the level \"seems to work. good.\"","msgtype":"m.text"},"ts":1317976861000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: The point is that in the short term it makes things worse for authors. And in the long term it makes the mental model more confusing, although it will improve feature detection once we don't have to care about IE<11 (say)","msgtype":"m.text"},"ts":1317977820000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"sicking seems very confused with the proposal","msgtype":"m.text"},"ts":1317980700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: which proposal?","msgtype":"m.text"},"ts":1317983460000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"oh sorry","msgtype":"m.text"},"ts":1317983700000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"the proposal for easier element creation","msgtype":"m.text"},"ts":1317983701000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"sigh. the reference maturity level issue just won't go away (now DAP and DOM4)","msgtype":"m.text"},"ts":1317984540000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"also see the geolocation list","msgtype":"m.text"},"ts":1317984600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hsivonen: Making that issue go away would be admitting that the process is broken. Which it is. But there are still heads in the sand.","msgtype":"m.text"},"ts":1317984601000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"someone suggested referencing HTML4 for event handler attributes","msgtype":"m.text"},"ts":1317984602000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"trololol","msgtype":"m.text"},"ts":1317984660000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Referencing HTML4 is even more sad than referencing DOM < 4","msgtype":"m.text"},"ts":1317984780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hasn't even started to look at all the append/element creation proposals yet","msgtype":"m.emote"},"ts":1317984960000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"finds <!DOCTYPE NETSCAPE-Bookmark-file-1>","msgtype":"m.emote"},"ts":1317986460000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: does firefox use the html5 parser for importing bookmarks these days?","msgtype":"m.text"},"ts":1317986760000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"zcorpan: not yet","msgtype":"m.text"},"ts":1317987240000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"zcorpan: that's why I'm looking at a file that has a doctype like that","msgtype":"m.text"},"ts":1317987300000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1317987420000,"senderName":"zcorpan","senderId":"zcorpan@irc"},
{"content":{"body":"In unrelated news http://my.opera.com/desktopteam/blog/2011/10/07/ragnarok-css3-radial-gradients","msgtype":"m.text"},"ts":1317987421000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"yay for stig james arne et al","msgtype":"m.text"},"ts":1317987540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: cool","msgtype":"m.text"},"ts":1317987541000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1317987600000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Opera Next says I'm using the latest snapshot","msgtype":"m.text"},"ts":1317987601000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"but I'm clearly not","msgtype":"m.text"},"ts":1317987602000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: the Ubuntu/Debian repo is also out of date","msgtype":"m.text"},"ts":1317987660000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: They don't release the snapshots to autoupdate straight away","msgtype":"m.text"},"ts":1317987661000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hsivonen: still about parsing. Does the spec say that some elements can be moved in the DOM during parsing","msgtype":"m.text"},"ts":1317987662000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: yes","msgtype":"m.text"},"ts":1317987720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"smaug____: s/can/must/","msgtype":"m.text"},"ts":1317987721000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"hsivonen: I mean, are some elements really inserted to DOM and then moved to some other place?","msgtype":"m.text"},"ts":1317987722000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: yes","msgtype":"m.text"},"ts":1317987723000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"smaug____: however, in the innerHTML case, per spec, that happens in the fragment that gets inserted but our optimization optimizes away the fragment so that it happens in the tree in that case","msgtype":"m.text"},"ts":1317987780000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1317987781000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I","msgtype":"m.text"},"ts":1317987782000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: which is why I suggested turning off the mechanism that turns notifications into MutationRecords when the fragment parser is running","msgtype":"m.text"},"ts":1317987783000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I'm thinking about mutations while parsing the page","msgtype":"m.text"},"ts":1317987784000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and then faking the MutationRecord right after","msgtype":"m.text"},"ts":1317987785000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Thanks btw","msgtype":"m.text"},"ts":1317987786000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug____: while parsing the page from the network, stuff can get moved around per spec","msgtype":"m.text"},"ts":1317987840000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"though, that all happens per spec...","msgtype":"m.text"},"ts":1317987841000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"so if someone listens for mutations before the page is loaded, surprises are ok, I guess","msgtype":"m.text"},"ts":1317987842000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: is the new mechanism so lightweight that reporting parser-made mutations is OK for perf?","msgtype":"m.text"},"ts":1317988020000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"jgraham: thanks about what?","msgtype":"m.text"},"ts":1317988021000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: well, it is up to the web app to decide whether to use it or not","msgtype":"m.text"},"ts":1317988022000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hsivonen: 05:42 < hsivonen> jgraham: cool","msgtype":"m.text"},"ts":1317988080000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug____, should we really have mutations for the parser inserted elements?","msgtype":"m.text"},"ts":1317988200000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"jgraham: ah. you're welcome","msgtype":"m.text"},"ts":1317988260000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: I'm not sure","msgtype":"m.text"},"ts":1317988261000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"jgraham: are you no longer in Sweden or is just your IRC not in Sweden?","msgtype":"m.text"},"ts":1317988262000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"annevk: that is something I'm trying to figure out","msgtype":"m.text"},"ts":1317988263000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hsivonen: Just my IRC","msgtype":"m.text"},"ts":1317988264000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug____: will the Skype extensions be able to use it on every page?","msgtype":"m.text"},"ts":1317988265000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I sure hope Skype isn't using mutation events anymore","msgtype":"m.text"},"ts":1317988320000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I somehow thought they moved to our internal mutationobserver thingie","msgtype":"m.text"},"ts":1317988321000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"since skype extension is anyway a binary extension","msgtype":"m.text"},"ts":1317988322000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"hsivonen: I am balancing out the fact that Hixie's IRC is in Norway :)","msgtype":"m.text"},"ts":1317988380000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug____: ok. my main point is that parse-time perf can be affected for all pages if an extension can request to see the MutationRecords for all pages","msgtype":"m.text"},"ts":1317988680000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"smaug____, doesn't sound like a good idea","msgtype":"m.text"},"ts":1317988740000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: any particular reason why","msgtype":"m.text"},"ts":1317988741000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"cause you can already get to the result easily enough","msgtype":"m.text"},"ts":1317988800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"how ?","msgtype":"m.text"},"ts":1317988801000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"just wait until the parser is done","msgtype":"m.text"},"ts":1317988802000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"likes the version-less html idea","msgtype":"m.emote"},"ts":1317988860000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"(again, I don't really have opinion whether it should be possible get mutationrecords during parsing)","msgtype":"m.text"},"ts":1317988861000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"annevk: well,  if you have a huge page, like HTML spec, some script might want to decorate elements  while the page is still loading","msgtype":"m.text"},"ts":1317988920000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"basically initialize widgets or such during the page load","msgtype":"m.text"},"ts":1317988921000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I think for those you should get mutations","msgtype":"m.text"},"ts":1317988980000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I would expect the parser to use DOM methods that do not affect mutation observers","msgtype":"m.text"},"ts":1317988981000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"internal stuff","msgtype":"m.text"},"ts":1317989040000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I don't understand","msgtype":"m.text"},"ts":1317989041000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"\" I think for those you should get mutations\" ... \"use DOM methods that do not affect mutation observers\"","msgtype":"m.text"},"ts":1317989042000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"everything the parser does uses internal methods that do not affect mutation observers","msgtype":"m.text"},"ts":1317989043000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"for what should you get mutations ?","msgtype":"m.text"},"ts":1317989100000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but if you have a script that while parsing does a call to insertBefore or some such that would affect them","msgtype":"m.text"},"ts":1317989101000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"so it is not possible to initialize widgets during parsing","msgtype":"m.text"},"ts":1317989102000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I'm talking about widgets like <div foobar=\"element_with_foobar_attribute_is_a_widget\">","msgtype":"m.text"},"ts":1317989160000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"eugh i hate those wierd attributes people use","msgtype":"m.text"},"ts":1317989220000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"for that we are going to introduce a dedicated mechanism","msgtype":"m.text"},"ts":1317989221000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"<div is=something> or some such, see the component model discussion","msgtype":"m.text"},"ts":1317989280000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"it seems bad if you need all the overhead of mutation observers just for that","msgtype":"m.text"},"ts":1317989281000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"i also find it wierd how people use \"\" when they arent needed","msgtype":"m.text"},"ts":1317989282000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"Cradam ++","msgtype":"m.text"},"ts":1317989340000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"and close <td>","msgtype":"m.text"},"ts":1317989341000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"</td> being optional was a great idea","msgtype":"m.text"},"ts":1317989400000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1317989401000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"tables... who uses them other than for ecommerce","msgtype":"m.text"},"ts":1317989460000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"me","msgtype":"m.text"},"ts":1317989520000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: seriously?","msgtype":"m.text"},"ts":1317989580000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"Cradam table layout is easy than div layout","msgtype":"m.text"},"ts":1317989581000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"bga_: :O","msgtype":"m.text"},"ts":1317989582000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"Cradam, http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html#concept-throw","msgtype":"m.text"},"ts":1317989583000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"NEVER USE TABLES FOR LAYOUT!","msgtype":"m.text"},"ts":1317989584000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1317989640000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"tables are useful","msgtype":"m.text"},"ts":1317989641000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"or e.g. http://annevankesteren.nl/2010/07/matterhorn-tour","msgtype":"m.text"},"ts":1317989642000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah, they're just annoying to author","msgtype":"m.text"},"ts":1317989643000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: yes, I can see reasons to not fire create mutation records","msgtype":"m.text"},"ts":1317989644000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: yes for tabular data","msgtype":"m.text"},"ts":1317989645000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"but for consistency they should be there...","msgtype":"m.text"},"ts":1317989646000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but I don't care too much","msgtype":"m.text"},"ts":1317989647000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I'm trying to get innerHTML + mutationrecords to work better first","msgtype":"m.text"},"ts":1317989700000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(in the implementation)","msgtype":"m.text"},"ts":1317989701000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"annevk: why do i need that","msgtype":"m.text"},"ts":1317989760000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"crying each time when write {document.createEvent() ...}","msgtype":"m.emote"},"ts":1317989761000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"needs to find time to implement event ctors","msgtype":"m.emote"},"ts":1317989820000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"i repeat the NEVER part of my comment about not using tables for layout!","msgtype":"m.text"},"ts":1317989821000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"Cradam, what?","msgtype":"m.text"},"ts":1317989822000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: why do i need that link about DOM","msgtype":"m.text"},"ts":1317989880000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"because you asked whether I used tables for something other than ecommerce and I said yes and then you asked if I was serious so I decided to give some examples","msgtype":"m.text"},"ts":1317989881000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: why can't I set responseType on XHR before the state is OPENED?","msgtype":"m.text"},"ts":1317989882000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"ahh yes","msgtype":"m.text"},"ts":1317989940000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"tables... who uses them other than for ecommerce and tabular data","msgtype":"m.text"},"ts":1317989941000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"hsivonen, because open() resets a bunch of things","msgtype":"m.text"},"ts":1317989942000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"tables... who uses them other than for ecommerce and tabular data (other than newbs who don't know better)","msgtype":"m.text"},"ts":1317989943000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"annevk: hmmkay. failed my intuition","msgtype":"m.text"},"ts":1317989944000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, we could make it work I suppose, it kind of depends on how people want this to work","msgtype":"m.text"},"ts":1317990000000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"other than extensions there's not much love for XMLHttpRequest from people other than me","msgtype":"m.text"},"ts":1317990001000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"annevk: hey, I'm giving XHR some text/html love","msgtype":"m.text"},"ts":1317990060000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"technically that's an extension, but it's still great and appreciated :)","msgtype":"m.text"},"ts":1317990061000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"hrm. ES5 String.prototype.trim() affects more than space, tab, CR and LF","msgtype":"m.text"},"ts":1317995880000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"boo","msgtype":"m.text"},"ts":1317995881000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: You won't liek any of the string stuff in ECMAScript","msgtype":"m.text"},"ts":1317995940000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"It all depends on ever changing unicode standards","msgtype":"m.text"},"ts":1317996000000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":":-(","msgtype":"m.text"},"ts":1317996001000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen, and of course we should make HTML number parsing depend on it as well!","msgtype":"m.text"},"ts":1317996120000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Can ES5 or Mozilla-specific JS do 64-bit ints these days?","msgtype":"m.text"},"ts":1317996180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"maybe I should pass 64-bit ints as stringified in JS","msgtype":"m.text"},"ts":1317996240000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"{ hi: ..., low: ... }?","msgtype":"m.text"},"ts":1317996300000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"I don't recall 64 bit","msgtype":"m.text"},"ts":1317996360000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"isn't Number 53 bits or something strange like that","msgtype":"m.text"},"ts":1317996361000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Ms2ger i have choosed to have internal charset w/ EOL, a-z, a-Z, 0-9 and $#... its just look like stantdard ascii but i dont trust standards :) and i have abstract class for external charset which can convert string to internal charset and back, have 'isClass' fn like isLowerChar for transforming/parsing w/o convert to internal charset","msgtype":"m.text"},"ts":1317996420000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"i'll show you later","msgtype":"m.text"},"ts":1317996421000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"Wasn't 53 bits how much SM allows pointers to use?","msgtype":"m.text"},"ts":1317996422000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"smaug____: Number is a 64-bit IEEE 754 value per spec","msgtype":"m.text"},"ts":1317996480000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen https://developer.mozilla.org/en/js-ctypes/js-ctypes_reference","msgtype":"m.text"},"ts":1317996481000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"a[href=\"./\"],a:link[href=\"./\"] {} FTW","msgtype":"m.text"},"ts":1317996540000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"hsivonen: yeah, but you can't express all the 64bit values using JS Number","msgtype":"m.text"},"ts":1317996600000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I mean 64bit int","msgtype":"m.text"},"ts":1317996601000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"bga_: thanks","msgtype":"m.text"},"ts":1317996720000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"bored and poor = not a good combo","msgtype":"m.text"},"ts":1317996840000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"You could write specs","msgtype":"m.text"},"ts":1317996841000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: ...","msgtype":"m.text"},"ts":1317997080000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"why would anyone respect specs that i write, its not like i have 10 years of experience or a phd","msgtype":"m.text"},"ts":1317997081000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"Me neither","msgtype":"m.text"},"ts":1317997082000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Cradam write spec and its will die in draft state :)","msgtype":"m.text"},"ts":1317997140000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"There's a lot of stuff that still needs specifications","msgtype":"m.text"},"ts":1317997260000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Pointers are 47 bits, I think","msgtype":"m.text"},"ts":1317997680000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"I wonder how many people writing specs *do* have 10 years of experince and a PhD","msgtype":"m.text"},"ts":1317997740000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"(64-bit doubles can store 53-bit integers losslessly)","msgtype":"m.text"},"ts":1317997741000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"jgraham, all the people who got us DOM3? :)","msgtype":"m.text"},"ts":1317997800000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"If spec writers had PhDs, surely they'd be more likely to write specs in LaTeX than in HTML","msgtype":"m.text"},"ts":1317997801000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"also how will writing specs relieve boredom of poverty","msgtype":"m.text"},"ts":1317997860000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"You have something to do, and Google might end up hiring you","msgtype":"m.text"},"ts":1317997861000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: not D3E","msgtype":"m.text"},"ts":1317997862000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Don't talk to me about d3e ;)","msgtype":"m.text"},"ts":1317997863000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Google, or Mozilla or Opera might hire you, perhaps even Microsoft","msgtype":"m.text"},"ts":1317997920000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"*or","msgtype":"m.text"},"ts":1317997921000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"baha google would never hire me","msgtype":"m.text"},"ts":1317997922000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"smaug____: That's just mean","msgtype":"m.text"},"ts":1317997923000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"smaug____: i would NEVER work for MS","msgtype":"m.text"},"ts":1317997924000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"Apple?","msgtype":"m.text"},"ts":1317997980000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Oracle :P","msgtype":"m.text"},"ts":1317997981000,"senderName":"bga_","senderId":"bga_@irc"},
{"content":{"body":"Apple is also not high on my willing to have a job with them","msgtype":"m.text"},"ts":1317998040000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"when will epoch time as JS Number lose millisecond precision?","msgtype":"m.text"},"ts":1317998160000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Cradam: :(","msgtype":"m.text"},"ts":1317998161000,"senderName":"hober","senderId":"hober@irc"},
{"content":{"body":"hober: why?","msgtype":"m.text"},"ts":1317998220000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"hober is an Apple employee","msgtype":"m.text"},"ts":1317998221000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hsivonen: 2^53 msecs = 2^43 secs = quarter of a million years","msgtype":"m.text"},"ts":1317998280000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Philip`: ok. good","msgtype":"m.text"},"ts":1317998281000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hober: i only mean that they sound like they have a very corporate environment, i would rather work for google or mozilla","msgtype":"m.text"},"ts":1317998340000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"In other news, the HbbTV and OIPF specs are scary.","msgtype":"m.text"},"ts":1317998460000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"looks up OIPF","msgtype":"m.emote"},"ts":1317998461000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: No 64-bit ints, just 64-bit doubles.","msgtype":"m.text"},"ts":1317998462000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Wikipedia doesn't know what OIPF is","msgtype":"m.text"},"ts":1317998463000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Open IPTV Forum","msgtype":"m.text"},"ts":1317998520000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Oh Open IPTV Forum","msgtype":"m.text"},"ts":1317998521000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"gsnedders: who is implementing those specs besides Opera?","msgtype":"m.text"},"ts":1317998522000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"a dozen WebKit ports?","msgtype":"m.text"},"ts":1317998523000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"http://www.mediatvcom.com/content.php?page=hbbtv&preview=true&lg=en","msgtype":"m.text"},"ts":1317998580000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"A lot of them are custom CE-HTML impls","msgtype":"m.text"},"ts":1317998581000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"i think i have upset hober","msgtype":"m.text"},"ts":1317998582000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"gsnedders: custom CE-HTML impls as in not using a pre-existing Web engine?","msgtype":"m.text"},"ts":1317998640000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Yeah.","msgtype":"m.text"},"ts":1317998641000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: the only browser vendors there that I've heard about are Opera, Access and ANT","msgtype":"m.text"},"ts":1317998700000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I wonder how Web-compatible the non-Opera engines are","msgtype":"m.text"},"ts":1317998701000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"They aren't, pretty much.","msgtype":"m.text"},"ts":1317998760000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gsnedders: who provides the content that these engines ingest? cable company extranets?","msgtype":"m.text"},"ts":1317998761000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Pretty much. Sometimes widgets as well.","msgtype":"m.text"},"ts":1317998762000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"I wonder what the sales pitch for the non-Opera vendors is","msgtype":"m.text"},"ts":1317998820000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"These things do rather help our > 70% marketshare on TVs…","msgtype":"m.text"},"ts":1317998821000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"oh. the Comedia thing is said to be WebKit","msgtype":"m.text"},"ts":1317998822000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"I believe there are other WebKit based impls too.","msgtype":"m.text"},"ts":1317998880000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"ie6 usage at 9% FTW","msgtype":"m.text"},"ts":1317998881000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"But certainly not with any large amount of development resources to practically have a good enough product to sell.","msgtype":"m.text"},"ts":1317998882000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Recently, Poland joined Finland, Sweden, Norway and Denmark as a contry with < 1% IE6 usage share","msgtype":"m.text"},"ts":1317998940000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"wonders how security patches work with TVs","msgtype":"m.emote"},"ts":1317998941000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"guesses they don't","msgtype":"m.emote"},"ts":1317998942000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"Depends on the TV.","msgtype":"m.text"},"ts":1317998943000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Some TVs have browsers in ROM, so they don't, at al.","msgtype":"m.text"},"ts":1317999000000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Since our TV works, I've figured that there wouldn't be much of an upside to connecting it to the Internet and trying a software update","msgtype":"m.text"},"ts":1317999001000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"though I believe our TV doesn't have a browser","msgtype":"m.text"},"ts":1317999060000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"IIRC, it came with legal stuff that suggested it has some Mozilla software in it. NSS probably","msgtype":"m.text"},"ts":1317999061000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"In general Opera-based TVs updates are entirely up to the vendor.","msgtype":"m.text"},"ts":1317999120000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Because for a lot of them we merely ship an SDK to the vendor.","msgtype":"m.text"},"ts":1317999121000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"It would suck to start relying on a browser, find out that it has an XSS-enabling hole and not get a fix","msgtype":"m.text"},"ts":1317999122000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"uses Firefox for TV browsing (Firefox running on a Mac Mini)","msgtype":"m.emote"},"ts":1317999180000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hober: i am sorry","msgtype":"m.text"},"ts":1317999240000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"i don't think i've ever seen Android update its browser either, except during a full OS update","msgtype":"m.text"},"ts":1318000020000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"i don't understand the use of TV's","msgtype":"m.text"},"ts":1318000140000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"in modern cyber space","msgtype":"m.text"},"ts":1318000141000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"zewt: Heck, my Android phone has known security bugs in it, because the vendor (HTC) didn't want to support a year old phone. :\\","msgtype":"m.text"},"ts":1318000320000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"gets tempted to get involved in web TV standards again, but doesn't really want to inflict that pain on himself","msgtype":"m.emote"},"ts":1318000321000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"But they are such a mess. :\\","msgtype":"m.text"},"ts":1318000322000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"You could get involved with the IETF instead","msgtype":"m.text"},"ts":1318000323000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Considerably less painful.","msgtype":"m.text"},"ts":1318000380000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"the browser, at least, should be updated by market like every other google-provided app--but I've never once seen that happen","msgtype":"m.text"},"ts":1318000381000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: Probably not because WebKit is a system library, and that's where the interesting bits lies.","msgtype":"m.text"},"ts":1318000382000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"*lie","msgtype":"m.text"},"ts":1318000383000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"Like, the browser itself is fairly uninteresting, and unlikely to be where any security issues are.","msgtype":"m.text"},"ts":1318000440000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"it's pretty astounding that Google didn't set up their mobile OS to allow updating the browser easily, and ship with a solid browser (android's browser is very ... not)","msgtype":"m.text"},"ts":1318000500000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"(tried developing simple touchscreen webapps supporting it; not fun at all)","msgtype":"m.text"},"ts":1318000501000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: Firefox and Opera Mobile to rescue","msgtype":"m.text"},"ts":1318000620000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"google should not be creating new old, unupdated, buggy browsers that almost everyone on a platform uses; we're just getting rid of one of those D:","msgtype":"m.text"},"ts":1318000680000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"gsnedders: what kind of holes?","msgtype":"m.text"},"ts":1318000740000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"i still havn't found a really reliable way to make a webapp go fullscreen on androidbrowser (eg. without the gigantic address bar)","msgtype":"m.text"},"ts":1318000800000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"google images seems to do it but I don't think I figured otu how","msgtype":"m.text"},"ts":1318000801000,"senderName":"zewt","senderId":"zewt@irc"},
{"content":{"body":"zewt: Google employees could start giving presentations where they call the Android default browser a \"boat anchor browser\" :-)","msgtype":"m.text"},"ts":1318000860000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: http://www.dailytech.com/88+Serious+Security+Bugs+Identified+in+Android+22+Froyo/article20060.htm","msgtype":"m.text"},"ts":1318002240000,"senderName":"gsnedders","senderId":"gsnedders@irc"},
{"content":{"body":"<meta http-equiv=\"X-UA-Compatible\" content=\"IE=8\" /> mean that the web site requires IE8 mode, right?","msgtype":"m.text"},"ts":1318002600000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Looks like it","msgtype":"m.text"},"ts":1318002601000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"smaug____: and why would you use it rather than just getting IE8 portable","msgtype":"m.text"},"ts":1318002780000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"I'm not using it","msgtype":"m.text"},"ts":1318002781000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"a web page is using it, and it would apparently actually break without it","msgtype":"m.text"},"ts":1318002782000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____: check what it looks like with it turned off with your dev tools","msgtype":"m.text"},"ts":1318002840000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"and report whether it breaks","msgtype":"m.text"},"ts":1318002841000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"smaug____: well, if you see that, you don't really know if it really requires the IE8 mode or if would work in IE9 mode, too","msgtype":"m.text"},"ts":1318003020000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: or you can press f12 and turn it off","msgtype":"m.text"},"ts":1318003021000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"hsivonen: well, in this case I assume it would break in IE9 mode. The problem is what HTMLElement.prototype.onmouseenter = function() {} does","msgtype":"m.text"},"ts":1318003140000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Gecko and IE9 throws exception per spec","msgtype":"m.text"},"ts":1318003141000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"but the web page doesn't expect that","msgtype":"m.text"},"ts":1318003200000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"unsuprisingly, the Netscape bookmark format doesn't adhere to HTML vocabulary design patterns","msgtype":"m.text"},"ts":1318003920000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"there's a boolean attribute that takes the value \"true\"","msgtype":"m.text"},"ts":1318003980000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"there are also attribute names with underscores in them","msgtype":"m.text"},"ts":1318003981000,"senderName":"hsivonen","senderId":"hsivonen@irc"},
{"content":{"body":"hsivonen: Cable boxes are more exciting for Updates than TVs :)","msgtype":"m.text"},"ts":1318004160000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"at least TVs have a UI","msgtype":"m.text"},"ts":1318004161000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"but in general, security updates on embedded devices are a disaster","msgtype":"m.text"},"ts":1318004162000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"odds generally are that they don't secure the transport","msgtype":"m.text"},"ts":1318004163000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"and do a bad job of validating the update package","msgtype":"m.text"},"ts":1318004164000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"and yes, it's like Windows 9x, where you probably will have a better chance of being rooted before you can get your box updated :)","msgtype":"m.text"},"ts":1318004220000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"mornin'","msgtype":"m.text"},"ts":1318005720000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Would anyone be interested in helping me edit diveintohtml5 for accuracy with present technologies?","msgtype":"m.text"},"ts":1318006140000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"define edit?","msgtype":"m.text"},"ts":1318006800000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"i'm slightly willing to review documents that are less than 3 screens tall","msgtype":"m.text"},"ts":1318006801000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"(roughly under 2 printed pages?)","msgtype":"m.text"},"ts":1318006802000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"Well, if you could review some of the wording at http://diveinto.org/html5/ anywhere you please as little or as much as you please, it would be greatly appreciated.","msgtype":"m.text"},"ts":1318006980000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"it's easier for me to review in response to a specific request","msgtype":"m.text"},"ts":1318006981000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"so, i'll review the literal page you linked, you poke me on Tuesday for another page","msgtype":"m.text"},"ts":1318007040000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"ok? :)","msgtype":"m.text"},"ts":1318007041000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"actually, that page is too bland :)","msgtype":"m.text"},"ts":1318007160000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"http://www.diveinto.org/html5/introduction.html","msgtype":"m.text"},"ts":1318007161000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"> But you can detect support for individual features, like canvas, video, or geolocation.","msgtype":"m.text"},"ts":1318007162000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"offhand, i think you /might/ want s/or/and/","msgtype":"m.text"},"ts":1318007163000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"> That’s an important part of it, but it’s not the whole story.","msgtype":"m.text"},"ts":1318007164000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"I personally do s/it's not/it isn't/g","msgtype":"m.text"},"ts":1318007165000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"> The HTML5 specification also defines how those angle brackets interact with JavaScript, through the Document Object Model (DOM).","msgtype":"m.text"},"ts":1318007220000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"i'm not sure about the <comma> there, i believe it's valid both ways, but i wonder if it's better without it","msgtype":"m.text"},"ts":1318007221000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"> Even Microsoft — rarely known for blazing the trail of standards support — will be supporting most HTML5 features in the upcoming Internet Explorer 9.","msgtype":"m.text"},"ts":1318007280000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"IE9 shipped, so that `will be` needs to be redone","msgtype":"m.text"},"ts":1318007281000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"What happened to diveintohtml5.org?","msgtype":"m.text"},"ts":1318007340000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Mark disappeared from the face of the earth iiuc","msgtype":"m.text"},"ts":1318007341000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"> HTML5 features like geolocation (Chapter 6) and video (Chapter 5) were first provided by browser plugins like Gears or Flash.","msgtype":"m.text"},"ts":1318007342000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"s/or/and/","msgtype":"m.text"},"ts":1318007343000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"Really?  Does anyone know the circumstances?","msgtype":"m.text"},"ts":1318007344000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"i don't, but there are some places that talked about it","msgtype":"m.text"},"ts":1318007400000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"i didn't spend the time reading it, i just filed it away as \"i should remember that\"","msgtype":"m.text"},"ts":1318007401000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"i'm not sure if it was the earth or the digital earth fwiw","msgtype":"m.text"},"ts":1318007402000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"http://meyerweb.com/eric/thoughts/2011/10/04/searching-for-mark-pilgrim/","msgtype":"m.text"},"ts":1318007460000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"timeless: mind making your speech easier to read","msgtype":"m.text"},"ts":1318007520000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"is he no longer working at Google?","msgtype":"m.text"},"ts":1318007521000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Cradam: sorry, please clarify?","msgtype":"m.text"},"ts":1318007580000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"(suggestions welcome)","msgtype":"m.text"},"ts":1318007581000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"... i tend to write using w3 style scribe regexps (s///), which actually mean something to a scribe.pl script","msgtype":"m.text"},"ts":1318007582000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"they tend to be easier than diff -u output :)","msgtype":"m.text"},"ts":1318007640000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"AryehGregor: ok, thanks for making me read that :)","msgtype":"m.text"},"ts":1318007641000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"JonathanNeal: anyway, that's as much time as i can allocate today","msgtype":"m.text"},"ts":1318007700000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"poke me Tuesday w/ another page","msgtype":"m.text"},"ts":1318007701000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"thanks timeless","msgtype":"m.text"},"ts":1318007880000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"timeless: yes well we kinda don't want to read regexps","msgtype":"m.text"},"ts":1318008120000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"Cradam, some of us are accustomed to it.","msgtype":"m.text"},"ts":1318008180000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"i have a couple of editing styles, i can switch to one of the others","msgtype":"m.text"},"ts":1318008240000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"So, is it \"HTML 4\" and \"HTML5\"?  What's with the sometimes space?","msgtype":"m.text"},"ts":1318008241000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"i believe so","msgtype":"m.text"},"ts":1318008242000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"google: HTML4 yields About 9,800,000 results (0.17 seconds)","msgtype":"m.text"},"ts":1318008243000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"google: \"HTML 4\" yields About 15,000,000 results (0.19 seconds)","msgtype":"m.text"},"ts":1318008300000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"I'm not sure where blame lies for the change","msgtype":"m.text"},"ts":1318008301000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"are we on \"H:TML\" or \"HTML LS™\" now?","msgtype":"m.text"},"ts":1318008302000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"it's possible that it's the Media","msgtype":"m.text"},"ts":1318008303000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"miketaylr: *sigh*, i'm sure i should recognize those references, but i don't","msgtype":"m.text"},"ts":1318008304000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"i type HTML5 because it is more of a name than a version","msgtype":"m.text"},"ts":1318008305000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"timeless: oh latter is living standard, former is... i may have just made it up","msgtype":"m.text"},"ts":1318008360000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"yeah, i think part of it is that \"HTML 4\" really referenced the \"HTML 4\" specification","msgtype":"m.text"},"ts":1318008361000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"HTML LS sounds cool","msgtype":"m.text"},"ts":1318008362000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"has seen : notation *somewhere*","msgtype":"m.emote"},"ts":1318008363000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"recalls something as well but forgets","msgtype":"m.emote"},"ts":1318008420000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"timeless: that was great, I made all the changes you mentioned","msgtype":"m.text"},"ts":1318008480000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"minus the or/and for around \"browsers already support\" where there wasn't an \"or\" to replace.","msgtype":"m.text"},"ts":1318008481000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"sorry, what's \"browsers already support\"? which line of context failed?","msgtype":"m.text"},"ts":1318008540000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"Is there some way to get the time when the page has been fully laid out and is actually interactive?","msgtype":"m.text"},"ts":1318008660000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Programmatically.","msgtype":"m.text"},"ts":1318008661000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"thought gecko had an event for that","msgtype":"m.emote"},"ts":1318008662000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"timeless: nevermind, I found the \"or\" you were referring to.","msgtype":"m.text"},"ts":1318008663000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"do you want an event or a timestamp?","msgtype":"m.text"},"ts":1318008664000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"JonathanNeal: cool","msgtype":"m.text"},"ts":1318008665000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"Either would do.","msgtype":"m.text"},"ts":1318008720000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"please feel free to respond like that indicating a failure, but preferably indicating which line i quoted and the regexp i specified","msgtype":"m.text"},"ts":1318008721000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"Is it wrong to say \"HTML4\".  Should it be \"HTML 4\" ?","msgtype":"m.text"},"ts":1318008722000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"JonathanNeal: it's 3:2 in favor of the latter","msgtype":"m.text"},"ts":1318008723000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"since the spec is called the latter, i believe it really should be","msgtype":"m.text"},"ts":1318008724000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"probably a page explaining the names for HTML 3.2 / HTML 4 / HTML5 would be useful","msgtype":"m.text"},"ts":1318008780000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"timeless: but it's \"HTML5\" all together, yes?","msgtype":"m.text"},"ts":1318008781000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"you can stick it in an appendix","msgtype":"m.text"},"ts":1318008782000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1318008783000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"Yea.","msgtype":"m.text"},"ts":1318008784000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Okay, cool.","msgtype":"m.text"},"ts":1318008785000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"HTML LS makes me think of DOM LS","msgtype":"m.text"},"ts":1318008960000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1318008961000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"did you cry or tear your hair out?","msgtype":"m.text"},"ts":1318008962000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"I'm used to worse than that ;)","msgtype":"m.text"},"ts":1318009020000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"oh right, i remember. wasn't there a H:TML for HTML: The Markup Language at some point?","msgtype":"m.text"},"ts":1318009200000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"oh this guy, http://www.w3.org/TR/html-markup/","msgtype":"m.text"},"ts":1318009260000,"senderName":"miketaylr","senderId":"miketaylr@irc"},
{"content":{"body":"jgraham: i probably misunderstood the proposal","msgtype":"m.text"},"ts":1318009380000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"jgraham: will look at your library","msgtype":"m.text"},"ts":1318009381000,"senderName":"sicking","senderId":"sicking@irc"},
{"content":{"body":"Don't, unless you want to poke your eyes out :)","msgtype":"m.text"},"ts":1318009382000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"JonathanNeal: it's just \"HTML\" :-)","msgtype":"m.text"},"ts":1318010280000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Right.","msgtype":"m.text"},"ts":1318010281000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"Well, I was meticulous.","msgtype":"m.text"},"ts":1318010340000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"HTML5 is just the Media's Brand Name","msgtype":"m.text"},"ts":1318010341000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"its called a buzz word timeless","msgtype":"m.text"},"ts":1318012260000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"s/its/it's/ ;-), sure...","msgtype":"m.text"},"ts":1318012320000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":":)","msgtype":"m.text"},"ts":1318012440000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"leaves","msgtype":"m.emote"},"ts":1318012560000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"גמר חתימה טובה","msgtype":"m.text"},"ts":1318012561000,"senderName":"timeless","senderId":"timeless@irc"},
{"content":{"body":"timeless, same to you.","msgtype":"m.text"},"ts":1318012562000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham, so if I use innerHTML with escaping in that one place, instead of textContent 75,000 times, it drops the time until the load event from about 35s to about 7s.","msgtype":"m.text"},"ts":1318012620000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(in Chrome 15 dev)","msgtype":"m.text"},"ts":1318012621000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"In Firefox 8.0a2, it drops it from around 78s to 45s.","msgtype":"m.text"},"ts":1318012622000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham, while I agree that in general it's better to use textContent instead of doing escaping manually, it's justifiable to use less-safe techniques in cases where they provide a large enough performance increase.","msgtype":"m.text"},"ts":1318012860000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"FWIW, if I comment out your test suite and do function test(f) {try{f()}catch(e){}} and define assert_* as no-ops, it takes like one second to run the tests.","msgtype":"m.text"},"ts":1318012861000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So the time it's taking is basically all the test suite, not the tests.","msgtype":"m.text"},"ts":1318012920000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"http://www.diveinto.org/html51/ is what I'm putting together thus far.  It's juuuuust beginning.","msgtype":"m.text"},"ts":1318013040000,"senderName":"JonathanNeal","senderId":"JonathanNeal@irc"},
{"content":{"body":"jgraham, diff: http://pastebin.com/wbAazWRk","msgtype":"m.text"},"ts":1318014000000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham, additional proposed change: hide results by default if there are > 1000 rows.  This reduces my real-world test-case to about 7 seconds in Chrome from 25 or so, from starting to load it until the page is usable.","msgtype":"m.text"},"ts":1318015440000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"http://pastebin.com/YKdPRTem","msgtype":"m.text"},"ts":1318015441000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Of course, checking either of the boxes will freeze the tab for ten seconds or more.","msgtype":"m.text"},"ts":1318015442000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham, I pushed another performance change that should hopefully be unobjectionable.  I'll wait for your feedback before pushing the other two.","msgtype":"m.text"},"ts":1318016340000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"one thing i love, PDF","msgtype":"m.text"},"ts":1318017540000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"i love read-only files :P","msgtype":"m.text"},"ts":1318017541000,"senderName":"Cradam","senderId":"Cradam@irc"},
{"content":{"body":"Philip`, so your PhD is done by now?","msgtype":"m.text"},"ts":1318017542000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"AryehGregor: what is taking 35s in Chrome but 78s in FF ?","msgtype":"m.text"},"ts":1318017600000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"would like to profile that","msgtype":"m.emote"},"ts":1318017601000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"The editcommands tests, I presume","msgtype":"m.text"},"ts":1318017602000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"hmm, that might involve editor. /me leaves testing to ehsan","msgtype":"m.text"},"ts":1318017780000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Very much so","msgtype":"m.text"},"ts":1318017781000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"Ms2ger: Yep","msgtype":"m.text"},"ts":1318019100000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Good, then you can start looking at my bugs :)","msgtype":"m.text"},"ts":1318019101000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"smaug____, running 26,000ish tests in jgraham's test harness.  I don't think it has anything to do with the tests themselves, it's all test harness overhead AFAICT.","msgtype":"m.text"},"ts":1318019102000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"goes to dig up a stable URL for an example","msgtype":"m.emote"},"ts":1318019103000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"ah, it would be interesting to know what in the testharness causes that difference","msgtype":"m.text"},"ts":1318019160000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"The exact URLs I'm using are works-in-progress, not useful for me to hand them out to anyone.","msgtype":"m.text"},"ts":1318019161000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I think I haven't profiled textContent","msgtype":"m.text"},"ts":1318019162000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____, e.g., this takes over twice as long for me in Firefox as Chrome (will freeze Firefox briefly): http://dvcs.w3.org/hg/editing/raw-file/98671dcd5b1f/selecttest/Selection-collapse.html","msgtype":"m.text"},"ts":1318019220000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"In that case it's less drastic, since it's only 4-5s in Chrome to start with, 9-10s in Firefox.","msgtype":"m.text"},"ts":1318019280000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Beware, the version of testharness.js included with that will change.  I'm in the middle of optimizing it.","msgtype":"m.text"},"ts":1318019281000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So if you want to profile properly, I suggest saving the page and all includes.","msgtype":"m.text"},"ts":1318019340000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Ms2ger: Hopefully :-)","msgtype":"m.text"},"ts":1318019400000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"needs to work through a backlog of things","msgtype":"m.emote"},"ts":1318019460000,"senderName":"Philip`","senderId":"Philip`@irc"},
{"content":{"body":"Yeah, I believe you do ;)","msgtype":"m.text"},"ts":1318019461000,"senderName":"Ms2ger","senderId":"Ms2ger@irc"},
{"content":{"body":"AryehGregor: well, very briefly","msgtype":"m.text"},"ts":1318019520000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"?","msgtype":"m.text"},"ts":1318019521000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: that test takes like 5s here","msgtype":"m.text"},"ts":1318019580000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"and the freeze is very short","msgtype":"m.text"},"ts":1318019581000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____, I've discovered my CPUs are older and cheaper than most people around here.  :)","msgtype":"m.text"},"ts":1318019582000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Freezes for more like 10 seconds for me.","msgtype":"m.text"},"ts":1318019583000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"my macbook is ancient","msgtype":"m.text"},"ts":1318019584000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Well over a minute for longer test-cases.","msgtype":"m.text"},"ts":1318019585000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"What CPU does it have?","msgtype":"m.text"},"ts":1318019586000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(I use macbook only for profiling. For other things I want reasonable UI)","msgtype":"m.text"},"ts":1318019640000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"dunno what cpu","msgtype":"m.text"},"ts":1318019641000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Anyway, obviously, Chrome doesn't freeze at all, except that one tab.  One of the biggest reasons I use Chrome right now.","msgtype":"m.text"},"ts":1318019700000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"2Ghz core 2 duo","msgtype":"m.text"},"ts":1318019701000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"I'm using a 2.6 GHz AMD 64 X2.  So it's unsurprising that a Core 2 Duo is faster even at a slower clock speed, but a factor of two seems excessive.","msgtype":"m.text"},"ts":1318019760000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Oh well.","msgtype":"m.text"},"ts":1318019761000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"bah, Shark doesn't work","msgtype":"m.text"},"ts":1318019880000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"What's Shark?","msgtype":"m.text"},"ts":1318019881000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"the profiler on OSX","msgtype":"m.text"},"ts":1318019940000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1318020120000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":".","msgtype":"m.text"},"ts":1318020121000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham, so with my additional two patches applied, Chrome seems to be spending most of its time on a) actually running the test content and b) doing hard-to-optimize-further things like doing the giant innerHTML set, and make_message/format_value.","msgtype":"m.text"},"ts":1318022820000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"(I could probably optimize make_message/format_value some, but it's only like 10% of the profile at this point, so it's not really worth it.)","msgtype":"m.text"},"ts":1318022880000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"I.e., I don't see any really low-hanging optimizations at that point.","msgtype":"m.text"},"ts":1318022881000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Firefox is similar, but seems to do a bit worse -- it takes much longer on ancestor_windows for whatever reason, and maybe some others.  Firebug's profiling is worse than Web Inspector's, though, so not sure.","msgtype":"m.text"},"ts":1318022882000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Well, let me correct that: I bet I could still massively optimize layout.  But I don't have good tools for that.","msgtype":"m.text"},"ts":1318023000000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Hmm . . . it looks like if I defer layout, it takes much longer than if I do it right away.","msgtype":"m.text"},"ts":1318023360000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Probably the \"add a bunch of consecutive visible nodes to DOM\" case is much more optimized than the \"remove display: none from a bunch of existing nodes\".","msgtype":"m.text"},"ts":1318023420000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So perhaps we don't want that patch.","msgtype":"m.text"},"ts":1318023421000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"tries to think what could possibly speed up layout here, but has no idea, since he doesn't know how layout works at all","msgtype":"m.emote"},"ts":1318023480000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"Other than having fewer things to lay out, naturally.","msgtype":"m.text"},"ts":1318023481000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"jgraham, consider my second patch (hide results by default if there are >1000 tests) retracted.  It seems to do more harm than good.","msgtype":"m.text"},"ts":1318024440000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"The innerHTML one still stands, though.","msgtype":"m.text"},"ts":1318024500000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"http://lists.w3.org/Archives/Public/public-webapps/2011OctDec/0131.html","msgtype":"m.text"},"ts":1318025940000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is somewhat surprised","msgtype":"m.emote"},"ts":1318025941000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"is only moderately surprised","msgtype":"m.emote"},"ts":1318026960000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"mpilgrim is a perennially surprising person.","msgtype":"m.text"},"ts":1318026961000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"So it tends to dull over time.","msgtype":"m.text"},"ts":1318027020000,"senderName":"AryehGregor","senderId":"AryehGregor@irc"},
{"content":{"body":"AryehGregor: Sigh. If we must have innerHTML stuff can we at least have a single escaping function","msgtype":"m.text"},"ts":1318027440000,"senderName":"jgraham","senderId":"jgraham@irc"},
{"content":{"body":"Hixie, you are not defining what happens when you set an event handler that is already non-null?","msgtype":"m.text"},"ts":1318027800000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, or for that matter, what happens when you set a non-null event handler to null","msgtype":"m.text"},"ts":1318027860000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"nothing happens (other than it gettings its new value)","msgtype":"m.text"},"ts":1318027861000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"getting","msgtype":"m.text"},"ts":1318027862000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i can say that if you like","msgtype":"m.text"},"ts":1318027920000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the event listeners associated with the EventTarget surely change in some way?","msgtype":"m.text"},"ts":1318027921000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"no","msgtype":"m.text"},"ts":1318027980000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"all that changes is the value of the event handler","msgtype":"m.text"},"ts":1318028040000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(which i think is already defined)","msgtype":"m.text"},"ts":1318028041000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"(but i can check in a sec)","msgtype":"m.text"},"ts":1318028042000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the event listener itself is just a small anonymous function that calls the event handler if it's not null","msgtype":"m.text"},"ts":1318028043000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"all event listeners that have ever been set to a non-null value have the same one","msgtype":"m.text"},"ts":1318028044000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"the same anonymous function, i mean","msgtype":"m.text"},"ts":1318028045000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"oh interesting","msgtype":"m.text"},"ts":1318028100000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"I wonder if that's exposed in any way","msgtype":"m.text"},"ts":1318028160000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if it wasn't done that way \"return false\" wouldn't work","msgtype":"m.text"},"ts":1318028161000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"annevk: what does \"a Function object\" mean in DOM Core?","msgtype":"m.text"},"ts":1318028940000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"a JS Function object?","msgtype":"m.text"},"ts":1318028941000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"or an object implementing the HTML spec's Function interface?","msgtype":"m.text"},"ts":1318028942000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"and is the callback this value for addEventListener() really the target, not the currentTarget?","msgtype":"m.text"},"ts":1318029060000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"for event handlers it's the currentTarget, right?","msgtype":"m.text"},"ts":1318029061000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"yeah, ECMAScript","msgtype":"m.text"},"ts":1318029120000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"callback this value must be currentTarget","msgtype":"m.text"},"ts":1318029121000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"(well, of course not if callback is actually an object, not a function)","msgtype":"m.text"},"ts":1318029300000,"senderName":"smaug____","senderId":"smaug____@irc"},
{"content":{"body":"smaug____, thanks fixed","msgtype":"m.text"},"ts":1318029360000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"Hixie, I wasn't sure how to mark up Function","msgtype":"m.text"},"ts":1318029361000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1318029362000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie, it's currentTarget for both apparently, didn't test properly :(","msgtype":"m.text"},"ts":1318029420000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"k","msgtype":"m.text"},"ts":1318029421000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"but the spec is fixed now","msgtype":"m.text"},"ts":1318029422000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"oops, bedtime, ttyl","msgtype":"m.text"},"ts":1318029540000,"senderName":"annevk","senderId":"annevk@irc"},
{"content":{"body":"if a script element which has async or defer set is removed from the document tree *before* the script actually run, should it still run eventually?","msgtype":"m.text"},"ts":1318029660000,"senderName":"michaelw","senderId":"michaelw@irc"},
{"content":{"body":"i believe the answer is no","msgtype":"m.text"},"ts":1318029720000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"wait","msgtype":"m.text"},"ts":1318029721000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"anything else would've raised more questions :)","msgtype":"m.text"},"ts":1318029722000,"senderName":"michaelw","senderId":"michaelw@irc"},
{"content":{"body":"it depends on whether the element was inserted by the parser or not","msgtype":"m.text"},"ts":1318029723000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"see a Function object","msgtype":"m.text"},"ts":1318029780000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"er","msgtype":"m.text"},"ts":1318029781000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"see http://www.whatwg.org/specs/web-apps/current-work/#execute-the-script-block","msgtype":"m.text"},"ts":1318029782000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1318029783000,"senderName":"michaelw","senderId":"michaelw@irc"},
{"content":{"body":"annevk: dom core doesn't pass the Event object to the listener!","msgtype":"m.text"},"ts":1318029900000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: hmm, I don't see it in the section you referenced, but in the section directly above (in particular, step 15), I could read it that way, because the defer scripts go to the \"list of scripts that will execute when the document has finished parsing\" (and async scripts to the \"set of scripts that will execute ASAP\")","msgtype":"m.text"},"ts":1318030620000,"senderName":"michaelw","senderId":"michaelw@irc"},
{"content":{"body":"however, fun starts if a defer script is in that lists, and the document is blown away and a new one is created (which I understand is possible)...","msgtype":"m.text"},"ts":1318030740000,"senderName":"michaelw","senderId":"michaelw@irc"},
{"content":{"body":"michaelw: if the document is blown away, the list is never used, is it?","msgtype":"m.text"},"ts":1318031640000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i don't recall exactly where the list is used","msgtype":"m.text"},"ts":1318031641000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"in the parser is one place","msgtype":"m.text"},"ts":1318031642000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"i think in the script section is the other, there's some text somewhere that talks about it","msgtype":"m.text"},"ts":1318031643000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"this particular part of hte spec is one of the most complicated aspects of the web platform, fwiw","msgtype":"m.text"},"ts":1318031644000,"senderName":"Hixie","senderId":"Hixie@irc"},
{"content":{"body":"Hixie: even for the case that a script wants to remove everything from a document, there is no way to avoid executing the (then potentially unneeded) async and defer scripts","msgtype":"m.text"},"ts":1318031880000,"senderName":"michaelw","senderId":"michaelw@irc"},
{"content":{"body":"(by everything I mean all nodes)","msgtype":"m.text"},"ts":1318031881000,"senderName":"michaelw","senderId":"michaelw@irc"}
]