[
{"content":{"body":"ü§î","msgtype":"m.text"},"ts":1680006353369,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$KliRNfO9kjIybi8ULrXhutxKCdGJMI-yoZ7pVhDWdWY"},
{"content":{"body":"implementing \"assert { webpackSync: true }\" in webpack","msgtype":"m.text"},"ts":1680006388072,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$Thw3F0gyAftZn6SY3XMtno-nchz-N3_Y0Tq7lmVEAnE"},
{"content":{"body":"asserts the module graph does not contain TLA or Async WebAssembly module","msgtype":"m.text"},"ts":1680006404965,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$QGqcj0WfYfkiRqi9d9V2PsqbgjzxHD2ddr-Mdd9g1Fk"},
{"content":{"body":"but asserts have been deprecated, and the \"with\" keyword does not fit the semantic of this feature. ","msgtype":"m.text"},"ts":1680006440301,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$25baqeM43Sp41-sDZ4KWnUTm67hp3bp2KuN1M2MzwXs"},
{"content":{"body":"any suggestion? does that mean assert itself has its meaning? or should I rename it to \"with { webpackAssertSync: true }\"?","msgtype":"m.text"},"ts":1680006493727,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$lWJLxnVQL1q-yldgLIEVmxAhhjXlb5l570F29Fwe0FY"},
{"content":{"body":"Using `with` the key could express the assertion. What about `with { webpack: { ensureSync: true }}`?","format":"org.matrix.custom.html","formatted_body":"Using <code>with</code> the key could express the assertion. What about <code>with { webpack: { ensureSync: true }}</code>?","msgtype":"m.text"},"ts":1680006543110,"senderName":"svensauleau","senderId":"@svensauleau:matrix.org","id":"$nuhoygRgayIjyMuMJs3HDXVEctbsRM29l1AwkSEcrZ4"},
{"content":{"body":"Note: I also found no boolean literal is allowed which is annoying. I have to use `\"true\"| instead of `true`","msgtype":"m.text"},"ts":1680006558604,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$h_WR0_hpNcIg8sJs5dEfxzdt-MrdrBLyqQ8YwlhbRAY"},
{"content":{"body":"* Note: I also found no boolean literal is allowed which is annoying. I have to use `\"true\"` instead of `true`","m.new_content":{"body":"Note: I also found no boolean literal is allowed which is annoying. I have to use `\"true\"` instead of `true`","msgtype":"m.text"},"m.relates_to":{"event_id":"$h_WR0_hpNcIg8sJs5dEfxzdt-MrdrBLyqQ8YwlhbRAY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680006568256,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$T9d7mrBskaOC3F5WeCgV5fgcVErRy7shDQurdo_FgBo"},
{"content":{"body":"another alternative could be `with { webpack: { sync: 'ensure' }}`","format":"org.matrix.custom.html","formatted_body":"another alternative could be <code>with { webpack: { sync: 'ensure' }}</code>","msgtype":"m.text"},"ts":1680006599510,"senderName":"svensauleau","senderId":"@svensauleau:matrix.org","id":"$LMUkdruUe2CtR6El8WbVIJx52yqu90Ss2Rv-G1oY_pM"},
{"content":{"body":"> <@svensauleau:matrix.org> Using `with` the key could express the assertion. What about `with { webpack: { ensureSync: true }}`?\n\noh... that's also an option, but webpack internal does not have the evaluation of object literals means it will be a lot more work for me to do this","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$nuhoygRgayIjyMuMJs3HDXVEctbsRM29l1AwkSEcrZ4?via=matrix.org&via=igalia.com&via=gitter.im\">In reply to</a> <a href=\"https://matrix.to/#/@svensauleau:matrix.org\">@svensauleau:matrix.org</a><br />Using <code>with</code> the key could express the assertion. What about <code>with { webpack: { ensureSync: true }}</code>?</blockquote></mx-reply>oh... that's also an option, but webpack internal does not have the evaluation of object literals means it will be a lot more work for me to do this","m.relates_to":{"m.in_reply_to":{"event_id":"$nuhoygRgayIjyMuMJs3HDXVEctbsRM29l1AwkSEcrZ4"}},"msgtype":"m.text"},"ts":1680006664065,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$SVoi1FbIcaJn1_3-IBHE7OJfzDNDxKHxZ5ZRh9y7Ipg"},
{"content":{"body":"for multiple attributes provided by the same tool chain, does the proposal champions supports \"webpackX: val, webpackY: val\" or nested \"webpack: { x: val, y: val }\"?","msgtype":"m.text"},"ts":1680006749402,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$Vfx1bOIAPbXCK7LXyH5AKcnmbOuUS2Hk_LqgFVASl7w"},
{"content":{"body":"there was a discussion about that and I don't remember the outcome. I think we should support `with { webpack: { ... }}`.","format":"org.matrix.custom.html","formatted_body":"there was a discussion about that and I don't remember the outcome. I think we should support <code>with { webpack: { ... }}</code>.","msgtype":"m.text"},"ts":1680006784304,"senderName":"svensauleau","senderId":"@svensauleau:matrix.org","id":"$x3N8mzLzKDvGRitq2U914NGu2X1Pb7x5kZF8aDigTDw"},
{"content":{"body":" * there was a discussion about that but I don't remember the outcome. I think we should support `with { webpack: { ... }}`.","format":"org.matrix.custom.html","formatted_body":" * there was a discussion about that but I don't remember the outcome. I think we should support <code>with { webpack: { ... }}</code>.","m.new_content":{"body":"there was a discussion about that but I don't remember the outcome. I think we should support `with { webpack: { ... }}`.","format":"org.matrix.custom.html","formatted_body":"there was a discussion about that but I don't remember the outcome. I think we should support <code>with { webpack: { ... }}</code>.","msgtype":"m.text"},"m.relates_to":{"event_id":"$x3N8mzLzKDvGRitq2U914NGu2X1Pb7x5kZF8aDigTDw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680006789517,"senderName":"svensauleau","senderId":"@svensauleau:matrix.org","id":"$-2I2kVMaXDEeCwY197CCon_ccftUC-S8BAs_OWNrG3w"},
{"content":{"body":"* for multiple attributes provided by the same tool chain, does the proposal champions recommend \"webpackX: val, webpackY: val\" or nested \"webpack: { x: val, y: val }\"?","m.new_content":{"body":"for multiple attributes provided by the same tool chain, does the proposal champions recommend \"webpackX: val, webpackY: val\" or nested \"webpack: { x: val, y: val }\"?","msgtype":"m.text"},"m.relates_to":{"event_id":"$Vfx1bOIAPbXCK7LXyH5AKcnmbOuUS2Hk_LqgFVASl7w","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680006803055,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$oAHtGq1-z7lNXIr952GmJP9YwfgIDx-ppv8y3_im1u0"},
{"content":{"body":"Currently only strings are supported","msgtype":"m.text"},"ts":1680007468568,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Ltg4NA8CRHVSnMwH-exOvSSIraWLt6pWK3pyU1KU7JM"},
{"content":{"body":"For multiple webpack-defined keys, you can use `with { _webpackFoo: ‚Äúxyz‚Äù, _webpackBar: ‚Äúabc‚Äù }`","format":"org.matrix.custom.html","formatted_body":"For multiple webpack-defined keys, you can use <code>with { _webpackFoo: ‚Äúxyz‚Äù, _webpackBar: ‚Äúabc‚Äù }</code>","msgtype":"m.text"},"ts":1680007529204,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$7MJAvUu0Hi3NDTib6ohLgOHa9R0hSczX0o9b9yt73mY"},
{"content":{"body":"We should probably do more ASAP to document and socialize this convention","msgtype":"m.text"},"ts":1680007551088,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$a6INGxwxoq0gQVnTfzmNN7Nw14Dtvbjq3_BcO4RwMm4"},
{"content":{"body":"I don‚Äôt think we should be adding features right now; we just had a period of reconsideration and explicitly decided to keep the expressiveness of values the same ","format":"org.matrix.custom.html","formatted_body":"I don‚Äôt think we should be adding features right now; we just had a period of reconsideration and explicitly decided to keep the expressiveness of values the same","msgtype":"m.text"},"ts":1680007593307,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$_vQab1w6lJKdi0Dg3xjv4XphztBp6SUWJIqKnaNYcbs"},
{"content":{"body":"Meeting now?","msgtype":"m.text"},"ts":1680019307264,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$919pn8UOpEVnCOOaCTQpj89r87DmwzGQQZzfG1ltfKM"},
{"content":{"body":"I‚Äôm still away and tending to a newborn and toddler, but I‚Äôm very much interested in summaries if someone has a moment to describe progress/regress from plenary or today‚Äôs module meeting.","msgtype":"m.text"},"ts":1680019369837,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$I203QSZUHaxuocDRjal64JjgZIcANvxFTdsLvLR9-VU"},
{"content":{"body":"I'm sitting in the waiting room - no-one else around to join today?","msgtype":"m.text"},"ts":1680019393086,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$TBaGORZRvT8SMvr0Mx0rD0dFxtVjOaYvMWJB25fOOJQ"},
{"content":{"body":"> <@lucacasonato:matrix.org> I'm sitting in the waiting room - no-one else around to join today?\n\nSame","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$TBaGORZRvT8SMvr0Mx0rD0dFxtVjOaYvMWJB25fOOJQ?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>I&#39;m sitting in the waiting room - no-one else around to join today?</blockquote></mx-reply>Same","m.relates_to":{"m.in_reply_to":{"event_id":"$TBaGORZRvT8SMvr0Mx0rD0dFxtVjOaYvMWJB25fOOJQ"}},"msgtype":"m.text"},"ts":1680019443869,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$DcJ0YDsCuqGMJd6XhJ6uMx5OEfh26s0hGfEuTmbu3sY"},
{"content":{"body":"> <@kriskowal:matrix.org> I‚Äôm still away and tending to a newborn and toddler, but I‚Äôm very much interested in summaries if someone has a moment to describe progress/regress from plenary or today‚Äôs module meeting.\n\nMost significant updates:\n- import assertions are back to Stage 3 (conditional on editors reviews), without the constraint that they cannot affect loading and cannot be part of the cache key\n- Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just \"stop at an early phase\"\n- Guy is thinking about possible design suggestions to compartments Layer 0 to work around some of the feedback given in the November meeting","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$I203QSZUHaxuocDRjal64JjgZIcANvxFTdsLvLR9-VU?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br>I‚Äôm still away and tending to a newborn and toddler, but I‚Äôm very much interested in summaries if someone has a moment to describe progress/regress from plenary or today‚Äôs module meeting.</blockquote></mx-reply><p>Most significant updates:</p>\n<ul>\n<li>import assertions are back to Stage 3 (conditional on editors reviews), without the constraint that they cannot affect loading and cannot be part of the cache key</li>\n<li>Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just &quot;stop at an early phase&quot;</li>\n<li>Guy is thinking about possible design suggestions to compartments Layer 0 to work around some of the feedback given in the November meeting</li>\n</ul>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$I203QSZUHaxuocDRjal64JjgZIcANvxFTdsLvLR9-VU"}},"msgtype":"m.text"},"ts":1680019662901,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$ka8MZS0IKESrOlEG77CHmRY0AHHMqPvhJMZU36WT-wA"},
{"content":{"body":"> <@kriskowal:matrix.org> I‚Äôm still away and tending to a newborn and toddler, but I‚Äôm very much interested in summaries if someone has a moment to describe progress/regress from plenary or today‚Äôs module meeting.\n\n * Most significant updates:\n\n- import assertions are back to Stage 3 (conditional on editors reviews) as \"import attributes\", without the constraint that they cannot affect loading and cannot be part of the cache key\n- Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just \"stop at an early phase\"\n- Guy is thinking about possible design suggestions to compartments Layer 0 to work around some of the feedback given in the November meeting","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$I203QSZUHaxuocDRjal64JjgZIcANvxFTdsLvLR9-VU?via=matrix.org&amp;via=igalia.com&amp;via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br>I‚Äôm still away and tending to a newborn and toddler, but I‚Äôm very much interested in summaries if someone has a moment to describe progress/regress from plenary or today‚Äôs module meeting.</blockquote></mx-reply> * <p>Most significant updates:</p>\n<ul>\n<li>import assertions are back to Stage 3 (conditional on editors reviews) as &quot;import attributes&quot;, without the constraint that they cannot affect loading and cannot be part of the cache key</li>\n<li>Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just &quot;stop at an early phase&quot;</li>\n<li>Guy is thinking about possible design suggestions to compartments Layer 0 to work around some of the feedback given in the November meeting</li>\n</ul>\n","m.new_content":{"body":"Most significant updates:\n\n- import assertions are back to Stage 3 (conditional on editors reviews) as \"import attributes\", without the constraint that they cannot affect loading and cannot be part of the cache key\n- Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just \"stop at an early phase\"\n- Guy is thinking about possible design suggestions to compartments Layer 0 to work around some of the feedback given in the November meeting","format":"org.matrix.custom.html","formatted_body":"<p>Most significant updates:</p>\n<ul>\n<li>import assertions are back to Stage 3 (conditional on editors reviews) as &quot;import attributes&quot;, without the constraint that they cannot affect loading and cannot be part of the cache key</li>\n<li>Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just &quot;stop at an early phase&quot;</li>\n<li>Guy is thinking about possible design suggestions to compartments Layer 0 to work around some of the feedback given in the November meeting</li>\n</ul>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$ka8MZS0IKESrOlEG77CHmRY0AHHMqPvhJMZU36WT-wA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680019685630,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$pvj9Nio5qfxE9PBSeJvOET8k45wE8KSVdmbldZINtuk"},
{"content":{"body":"unfortunately I don't have permissions either, also in waiting room...","msgtype":"m.text"},"ts":1680019735651,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$V-IpTo2DPUDMC6lOQE941i6r534J7xdrTrmpTL7wqq0"},
{"content":{"body":"> Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just \"stop at an early phase\"\nI think the presentation was well received. We have some feedback from Jordan to think about return types for \"source\" phase imports, but we think we can tackle this and attempt Stage 3 at next plenary.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just &quot;stop at an early phase&quot;<br>I think the presentation was well received. We have some feedback from Jordan to think about return types for &quot;source&quot; phase imports, but we think we can tackle this and attempt Stage 3 at next plenary.</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1680019738220,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$UVKjGU77NSy4OBZW9HMMnjbJi4_D_1x-ts8XpTMOTQI"},
{"content":{"body":" * > Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just \"stop at an early phase\"\n\nI think the presentation was well received. We have some feedback from Jordan to think about return types for \"source\" phase imports, but we think we can tackle this and attempt Stage 3 at next plenary.","format":"org.matrix.custom.html","formatted_body":" * <blockquote>\n<p>Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just &quot;stop at an early phase&quot;</p>\n</blockquote>\n<p>I think the presentation was well received. We have some feedback from Jordan to think about return types for &quot;source&quot; phase imports, but we think we can tackle this and attempt Stage 3 at next plenary.</p>\n","m.new_content":{"body":"> Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just \"stop at an early phase\"\n\nI think the presentation was well received. We have some feedback from Jordan to think about return types for \"source\" phase imports, but we think we can tackle this and attempt Stage 3 at next plenary.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just &quot;stop at an early phase&quot;</p>\n</blockquote>\n<p>I think the presentation was well received. We have some feedback from Jordan to think about return types for &quot;source&quot; phase imports, but we think we can tackle this and attempt Stage 3 at next plenary.</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$UVKjGU77NSy4OBZW9HMMnjbJi4_D_1x-ts8XpTMOTQI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680019751545,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$ZpNNh6bvW1LcfdeJKdBO9NYR6DPwTFEmFlYnMMv1uUI"},
{"content":{"body":"To join the video meeting, click this link: https://meet.google.com/afs-kzui-qsx\nOtherwise, to join by phone, dial +31 20 257 4432 and enter this PIN: 775 821 400#\nTo view more phone numbers, click this link: https://tel.meet/afs-kzui-qsx?hs=5","msgtype":"m.text"},"ts":1680019773576,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$q-oRUgbsnIlvO8vX9X9aCyinrua-2sb82S7SRoL1M5E"},
{"content":{"body":"let's just use a different room then :)","msgtype":"m.text"},"ts":1680019788497,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$v3feYLillfl6rME4di31RB_7Hbq5l6VCULL9DAo_Az4"},
{"content":{"body":"(I'm skipping this meeting but I can briefly join to let people in if needed)","msgtype":"m.text"},"ts":1680019815702,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$J6U6OsSWYE3Ov4qplFho0dZ4_humbY21Pa9n6W9CyWM"},
{"content":{"body":"littledan: we've figured it out","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@littledan:matrix.org\">littledan</a>: we've figured it out","msgtype":"m.text"},"ts":1680019836250,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$rkYvLG2dAN8FNd3qsdyQsa6ERyFnGE4ENPl9216hEmY"},
{"content":{"body":"guybedford: new link, can you join there?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@guybedford:matrix.org\">guybedford</a>: new link, can you join there?","msgtype":"m.text"},"ts":1680019873588,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$4duPOX6_v92pI4JGtIDyJFM4lVyiB3XLZDVIHtU0Y1Y"},
{"content":{"body":"Nice work on Import Attributes, btw!","msgtype":"m.text"},"ts":1680021374383,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$nM_JV1gyiUP6LvSDzJdtG3bZ8F6ighEjXMrSbtFqg_8"},
{"content":{"body":"Mathieu Hofman: https://crbug.com/567999","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mhofman:matrix.org\">Mathieu Hofman</a>: https://crbug.com/567999","msgtype":"m.text"},"ts":1680021862155,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$Zng1R1Ha5Ec9RaykqYhHkVhocYAMhygn8TzJ6VTYsew"},
{"content":{"body":"What do you all think about making the loader meeting 1 hour again, but doing it weekly rather than bi-weekly? Please vote below:","msgtype":"m.text"},"ts":1680023038896,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$IQQworJvj7QMAHBCljUoBq1vTYAoddNru6WsXO4c7Js"},
{"content":{"body":"> <@lucacasonato:matrix.org> > Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just \"stop at an early phase\"\n> \n> I think the presentation was well received. We have some feedback from Jordan to think about return types for \"source\" phase imports, but we think we can tackle this and attempt Stage 3 at next plenary.\n\nIs the proposed solution described anywhere?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$UVKjGU77NSy4OBZW9HMMnjbJi4_D_1x-ts8XpTMOTQI?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br><blockquote>\n<p>Luca and Guy gave a presentation in plenary about the various phases of loading a module, from resolution to evaluation, showing how different proposals are just \"stop at an early phase\"</p>\n</blockquote>\n<p>I think the presentation was well received. We have some feedback from Jordan to think about return types for \"source\" phase imports, but we think we can tackle this and attempt Stage 3 at next plenary.</p>\n</blockquote></mx-reply>Is the proposed solution described anywhere?","m.relates_to":{"m.in_reply_to":{"event_id":"$UVKjGU77NSy4OBZW9HMMnjbJi4_D_1x-ts8XpTMOTQI"}},"msgtype":"m.text"},"ts":1680024150944,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Wbm5CrN9xVSdRZdMRlXdYHtJm8gOKMLNeegNmMjyfmQ"},
{"content":{"body":"I really think we need a general set of built-in type-checkers similar to isArray, as was previously proposed. I don't think it's optimal that we're doing this case-by-case (it comes up for many proposals).","msgtype":"m.text"},"ts":1680024211116,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$txW0fITha02vwLwgCyjVZU4yGt08eDlfPBj2GF0PNkE"},
{"content":{"body":"Jordan's concern here was not \"that thing has an internal slot I cannot check\", but \"that thing has no internal slot to uniquely describe it as the result of import reflection\"","msgtype":"m.text"},"ts":1680025068179,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$7Q_qLL1wNXmVcgzIT_TQtmPgYI64hh_1dyueV6P7z_A"},
{"content":{"body":"> <@littledan:matrix.org> I really think we need a general set of built-in type-checkers similar to isArray, as was previously proposed. I don't think it's optimal that we're doing this case-by-case (it comes up for many proposals).\n\nplease don't give too much importance to this comment; I'm fine with a specific solution for this case, for now.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$txW0fITha02vwLwgCyjVZU4yGt08eDlfPBj2GF0PNkE?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>I really think we need a general set of built-in type-checkers similar to isArray, as was previously proposed. I don&#39;t think it&#39;s optimal that we&#39;re doing this case-by-case (it comes up for many proposals).</blockquote></mx-reply>please don't give too much importance to this comment; I'm fine with a specific solution for this case, for now.","m.relates_to":{"m.in_reply_to":{"event_id":"$txW0fITha02vwLwgCyjVZU4yGt08eDlfPBj2GF0PNkE"}},"msgtype":"m.text"},"ts":1680025732190,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$VkOy6yjveGrl1F36zD8aMEvcDtaJJzPuSfqNov44XeU"},
{"content":{"body":"* Jordan's concern here was not \"that thing has an internal slot we cannot check\", but \"that thing has no internal slot to uniquely describe it as the result of import reflection\"","m.new_content":{"body":"Jordan's concern here was not \"that thing has an internal slot we cannot check\", but \"that thing has no internal slot to uniquely describe it as the result of import reflection\"","msgtype":"m.text"},"m.relates_to":{"event_id":"$7Q_qLL1wNXmVcgzIT_TQtmPgYI64hh_1dyueV6P7z_A","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680026429782,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$TMWCHrTcB3YcZlgFjwGdlD4fZ6U8vkVJQcUSWRQpfxI"},
{"content":{"body":"> that thing has no internal slot to uniquely describe it as the result of import reflection\n\nWhich I think it will - the internal slot that will be used by the `new Module()` constructor to figure out what it is meant to do with a given source.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>that thing has no internal slot to uniquely describe it as the result of import reflection</p>\n</blockquote>\n<p>Which I think it will - the internal slot that will be used by the <code>new Module()</code> constructor to figure out what it is meant to do with a given source.</p>\n","msgtype":"m.text"},"ts":1680032927941,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$vOHD4oIyP_6Yfcf2K72Y-JKwQCdYTWDWKXogGNULoCo"},
{"content":{"body":"So, what's the proposed solution? Do we create a predicate specifically for this, or do we say it will be solved when we later add `new Module`, or what?","format":"org.matrix.custom.html","formatted_body":"So, what's the proposed solution? Do we create a predicate specifically for this, or do we say it will be solved when we later add <code>new Module</code>, or what?","msgtype":"m.text"},"ts":1680032973934,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$694EIRvbN0OnpZwCu0dE5-EQmcB3BoLcCH0QftDu7_4"},
{"content":{"body":"or do we add `new Module` already?","format":"org.matrix.custom.html","formatted_body":"or do we add <code>new Module</code> already?","msgtype":"m.text"},"ts":1680032980928,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$CEJaccAnzRKQTX5gg6h5U_lV_7ZxHBn1SsU-R_dhr2U"},
{"content":{"body":"That I am not sure on yet - ljharb: would you be OK with the predicate being the `Module` constructor itself?","format":"org.matrix.custom.html","formatted_body":"That I am not sure on yet - <a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: would you be OK with the predicate being the <code>Module</code> constructor itself?","msgtype":"m.text"},"ts":1680033020674,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ"},
{"content":{"body":"We still have 6 weeks to figure it out :D","msgtype":"m.text"},"ts":1680033049909,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$6Kjd4TInGbKiaZ8PlrX6PFtQ5FQ2s2dRQxrkWU1nPZ0"},
{"content":{"body":"how would that work?","m.relates_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033121942,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Dgd79YtkRdHlxJYdmm7lYax67KV5mbl9C2HccoRzglI"},
{"content":{"body":"like new Module throws unless it has a single argument that‚Äôs a module source instance, and creating a Module has no immediate side effects?","m.relates_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$Dgd79YtkRdHlxJYdmm7lYax67KV5mbl9C2HccoRzglI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033146442,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$WukcEOZU2bDzPEs6ZJLllYCIdor2CfSOuZkwtkoDiac"},
{"content":{"body":"if `new Module(source)` throws it is not a source, if it does not, it is a source","format":"org.matrix.custom.html","formatted_body":"if <code>new Module(source)</code> throws it is not a source, if it does not, it is a source","m.relates_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$WukcEOZU2bDzPEs6ZJLllYCIdor2CfSOuZkwtkoDiac"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033151606,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$bRGtm661MROdZKcrei1AsTxJcAE0FEVf2s20gvzZH-U"},
{"content":{"body":"creating a module has no side-effects","m.relates_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$WukcEOZU2bDzPEs6ZJLllYCIdor2CfSOuZkwtkoDiac"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033155395,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$n3b9qRCkRXcazK_Jj0llG43YnU2CfNTSqAaCqC5pxyA"},
{"content":{"body":"evaluation only happens when you call `await import(module)`","format":"org.matrix.custom.html","formatted_body":"evaluation only happens when you call <code>await import(module)</code>","m.relates_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$n3b9qRCkRXcazK_Jj0llG43YnU2CfNTSqAaCqC5pxyA"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033165295,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$HstBo7r9SbAITGebOPmPxVotU7hM4NFNsqo2cSVlbBY"},
{"content":{"body":"seems fine to me. How can i synchronously detect what‚Äôs a Module instance? :-)","m.relates_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$HstBo7r9SbAITGebOPmPxVotU7hM4NFNsqo2cSVlbBY"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033193887,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$unb04XPsD_6XbmY9pbZdQMrsGz7z5J7x2vVFV26YN-8"},
{"content":{"body":"I agree that the `Module` constructor would naturally throw if passed a non-source thing. and it'd return a Module instance directly, not a Promise, so no need to worry about asynchrony.","format":"org.matrix.custom.html","formatted_body":"I agree that the <code>Module</code> constructor would naturally throw if passed a non-source thing. and it'd return a Module instance directly, not a Promise, so no need to worry about asynchrony.","msgtype":"m.text"},"ts":1680033242072,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$XuQp0BOMLlEwnSCorjSMn8Xcct1369-sgfCT3v6vzQg"},
{"content":{"body":"We could also have a Module constructor which initially *doesn't* allow an importHook, but this would still maybe not be the best, as the idea for Wasm source imports is that it then *wouldn't* pull in Wasm/ESM integration","format":"org.matrix.custom.html","formatted_body":"We could also have a Module constructor which initially <em>doesn't</em> allow an importHook, but this would still maybe not be the best, as the idea for Wasm source imports is that it then <em>wouldn't</em> pull in Wasm/ESM integration","msgtype":"m.text"},"ts":1680033283694,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA"},
{"content":{"body":"`Module.isModule()`? üòÜ","format":"org.matrix.custom.html","formatted_body":"<code>Module.isModule()</code>? üòÜ","m.relates_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$unb04XPsD_6XbmY9pbZdQMrsGz7z5J7x2vVFV26YN-8"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033288745,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$ib680snQPB62mNy6rw83_Jn-YeHdJQYHxHgyhWESR-M"},
{"content":{"body":"What do you mean by that? I'd expect Wasm/ESM integration to happen if we ship import reflection. Wasm source import reflection without Wasm/ESM integration seems very weird üòÉ","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033372182,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$HjU2x9GObXXJCSJ7sj_VtVOSSzyJn1Ii-AlNZN-rEfk"},
{"content":{"body":"well, there had previously been a lot of doubt about whether importing Wasm all the way, directly, was useful for anyone at all. The argument was made that source imports are more useful, and that direct Wasm imports would only really work well with \"the component model\" or something similar to do the glue code for you","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$HjU2x9GObXXJCSJ7sj_VtVOSSzyJn1Ii-AlNZN-rEfk"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680033462601,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$AInVoiHChVu29tk2cHgMfLJHxNtEdHH4zKdlXXt-no4"},
{"content":{"body":"I think there are use-cases where it works fine","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$AInVoiHChVu29tk2cHgMfLJHxNtEdHH4zKdlXXt-no4"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034391009,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$twsMjJuj8J9frOPtJ0DoE7HZ3zWoqi2634UL0PT23QI"},
{"content":{"body":"The WASM just needs to be compiled specifically for JS","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$twsMjJuj8J9frOPtJ0DoE7HZ3zWoqi2634UL0PT23QI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034402571,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$IjqzMlqazY_n3ps1v9GXznT3PMTBQAI6SHcLl6d7tuc"},
{"content":{"body":"namely imports in the wasm need to be relative JS specifiers","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$IjqzMlqazY_n3ps1v9GXznT3PMTBQAI6SHcLl6d7tuc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034428975,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$7w8b2vE6IyxCyUn0fjYLHGy0VSsqsApSHZkUCJxghqE"},
{"content":{"body":"well, just relative paths in general (to JS or Wasm)","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$7w8b2vE6IyxCyUn0fjYLHGy0VSsqsApSHZkUCJxghqE"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034453947,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$gvYhCMxCHs6qsXJjp6MzEYQ6WQbYsKlN_DcST3L5LPk"},
{"content":{"body":"the problem is that \"arbitrary\" wasm (ie compiled for WASI) would not work well","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$7w8b2vE6IyxCyUn0fjYLHGy0VSsqsApSHZkUCJxghqE"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034454700,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$v35Inm52uPTV9Ti_rEpAKmQutxZJNkWwYaYqiVy0J34"},
{"content":{"body":"right that's what i mean. don't know why i said \"JS specifiers\" lol","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$v35Inm52uPTV9Ti_rEpAKmQutxZJNkWwYaYqiVy0J34"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034473001,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$EQ6CoCn4lwzqkHvJs50WWhkLBNYAoajiHI_AP1XdEGU"},
{"content":{"body":"i'd still like to ship wasm/esm in Deno soon","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$EQ6CoCn4lwzqkHvJs50WWhkLBNYAoajiHI_AP1XdEGU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034498932,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$xefriWbUZIdWQ0DB6qfu_Dyg52Unl2GOxcMPm4zh8Ws"},
{"content":{"body":"I think something which would help is, demonstrations of use","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$xefriWbUZIdWQ0DB6qfu_Dyg52Unl2GOxcMPm4zh8Ws"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034520088,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$KHNKO_VapxJ2WC4JAl0HTzlE1wQoYE0Ikcres9k-qsU"},
{"content":{"body":"WebKit and SpiderMonkey have Wasm/ESM integration largely implemented, and are just holding back on whether it's useful","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$KHNKO_VapxJ2WC4JAl0HTzlE1wQoYE0Ikcres9k-qsU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034548338,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$OsKTf2aV7_TY35f1TfTuqdBvnuSKD2hSST5ySlt_J_o"},
{"content":{"body":"(IIRC)","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$OsKTf2aV7_TY35f1TfTuqdBvnuSKD2hSST5ySlt_J_o"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034551128,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$ojjmKctKXhRdsPpRcK-jgW4FSINNLqG7e6ZGY5GU0HU"},
{"content":{"body":"but i need Chromium to agree to ship it at the same time. unfortunately I was the one that told them that we should probably all hold off until we had wasm source imports. sorry!","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$ojjmKctKXhRdsPpRcK-jgW4FSINNLqG7e6ZGY5GU0HU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034556606,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$_098cYjadWYDJWNjGztFTQegUTBNzU4PLK3KcIuG60M"},
{"content":{"body":"did Chromium even start implementing it?","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$_098cYjadWYDJWNjGztFTQegUTBNzU4PLK3KcIuG60M"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034571639,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$7vCsTkXG9lVRaW3ImVr5H9U19ifb9PZb9xAcMJzqAE0"},
{"content":{"body":"i had a call with shu and 2 chrome engineers","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$7vCsTkXG9lVRaW3ImVr5H9U19ifb9PZb9xAcMJzqAE0"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034589424,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$0gwQf7A5wlsoidcUL6Wo7U9fmazmsZ8Mayqf9J2AgCU"},
{"content":{"body":"but i don't think that went anywhere","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$0gwQf7A5wlsoidcUL6Wo7U9fmazmsZ8Mayqf9J2AgCU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034596336,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$YFLyf-e866E676P5zZcJ0W2bCeC20UjsASgMY3Iy-dU"},
{"content":{"body":"> <@lucacasonato:matrix.org> but i need Chromium to agree to ship it at the same time. unfortunately I was the one that told them that we should probably all hold off until we had wasm source imports. sorry!\n\nI think this was reasonable since we didn't know at the time that it would be possible to separate source from instance imports","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$_098cYjadWYDJWNjGztFTQegUTBNzU4PLK3KcIuG60M?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>but i need Chromium to agree to ship it at the same time. unfortunately I was the one that told them that we should probably all hold off until we had wasm source imports. sorry!</blockquote></mx-reply>I think this was reasonable since we didn't know at the time that it would be possible to separate source from instance imports","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":false,"m.in_reply_to":{"event_id":"$_098cYjadWYDJWNjGztFTQegUTBNzU4PLK3KcIuG60M"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034603487,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$eamdcBV1nzgC2auvzhyqqMGjsHA_pLHIZkE9Pet7AGE"},
{"content":{"body":"> <@lucacasonato:matrix.org> i had a call with shu and 2 chrome engineers\n\nWhen was this?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$0gwQf7A5wlsoidcUL6Wo7U9fmazmsZ8Mayqf9J2AgCU?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>i had a call with shu and 2 chrome engineers</blockquote></mx-reply>When was this?","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":false,"m.in_reply_to":{"event_id":"$0gwQf7A5wlsoidcUL6Wo7U9fmazmsZ8Mayqf9J2AgCU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034608183,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$5Say5PNwsEeq4a-QOdzE8umhcJM4Mj8ls3bpmeqRij4"},
{"content":{"body":"> <@lucacasonato:matrix.org> but i don't think that went anywhere\n\nIf it was a year or two ago, I think you successfully convinced them that Wasm/ESM integration was not useful in practice--that's the takeaway that I got out of conversations with them.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$YFLyf-e866E676P5zZcJ0W2bCeC20UjsASgMY3Iy-dU?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>but i don&#39;t think that went anywhere</blockquote></mx-reply>If it was a year or two ago, I think you successfully convinced them that Wasm/ESM integration was not useful in practice--that's the takeaway that I got out of conversations with them.","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":false,"m.in_reply_to":{"event_id":"$YFLyf-e866E676P5zZcJ0W2bCeC20UjsASgMY3Iy-dU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034668318,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$LjgPJ6iCbXj__UPS2racsEgYGvKov4C_E-EtTQPWV20"},
{"content":{"body":"we did implement it largely in Deno (without changes to V8), but then ran into issues with V8 synthetic modules that need to be async","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$LjgPJ6iCbXj__UPS2racsEgYGvKov4C_E-EtTQPWV20"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034673914,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$EG1pc3QIwlmoL5PSUYk_0-RYj3qUvtLBQGXKawB5rVw"},
{"content":{"body":"it was 24 May 2022","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$EG1pc3QIwlmoL5PSUYk_0-RYj3qUvtLBQGXKawB5rVw"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034679052,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$dHf_y-u9RoCGHjDESeuRwXlI68USD0kvj2Eeeqwq8oc"},
{"content":{"body":"oh OK I guess they were convinced that Wasm/ESM integration wasn't useful earlier than that","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$dHf_y-u9RoCGHjDESeuRwXlI68USD0kvj2Eeeqwq8oc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034717155,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$PmN1MPNGULhYrqYDCSqOwnZsNg8TTCGIYq5Ou9HEBOg"},
{"content":{"body":"I never said it was not useful in practice - just that source imports would be more powerful from the get go. asumu was also on this call. Now that we know we can do both, we should probably re-visit","format":"org.matrix.custom.html","formatted_body":"I never said it was not useful in practice - just that source imports would be more powerful from the get go. <a href=\"https://matrix.to/#/@atakikawa:igalia.com\">asumu</a> was also on this call. Now that we know we can do both, we should probably re-visit","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$PmN1MPNGULhYrqYDCSqOwnZsNg8TTCGIYq5Ou9HEBOg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034749709,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$ftu2PzqfbkyBEwhMQCwhnqUEaUW4O2PQL0HNRAX1nIw"},
{"content":{"body":"I think it's safe to do Wasm/ESM now because we can do both source and instance import","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$ftu2PzqfbkyBEwhMQCwhnqUEaUW4O2PQL0HNRAX1nIw"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034777218,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$tgh9SRF7cstPHHSwfuA5R4bdw4kvnIbUGA3Rsogb8CM"},
{"content":{"body":"I didn't say that you said that, but this seems to be their current impression","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$tgh9SRF7cstPHHSwfuA5R4bdw4kvnIbUGA3Rsogb8CM"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034792888,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$IoncXsChRBVYk6IDbwNPF5CIgb2qI-RARBCS33apFFY"},
{"content":{"body":"Yeah, just clarifying what I said on the call :)","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$IoncXsChRBVYk6IDbwNPF5CIgb2qI-RARBCS33apFFY"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034813168,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$25MpS8W48j8WHt3SXsLedGKplM60xMHwpmHZC8PkMZY"},
{"content":{"body":"anyway yeah I think we have the conflict resolved, but we also shouldn't block shipping one on the other (since it will be less work to ship just source imports)","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$25MpS8W48j8WHt3SXsLedGKplM60xMHwpmHZC8PkMZY"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034827580,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Er1EyxFSjEy-goyAUKILIVkBnqHgQksDBpycbtUMZQ0"},
{"content":{"body":"But if it's essentially done in WebKit and Gecko, we should just ship it. asumu you we're working on pushing this - is this still something you're pursuing?","format":"org.matrix.custom.html","formatted_body":"But if it's essentially done in WebKit and Gecko, we should just ship it. <a href=\"https://matrix.to/#/@atakikawa:igalia.com\">asumu</a> you we're working on pushing this - is this still something you're pursuing?","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$Er1EyxFSjEy-goyAUKILIVkBnqHgQksDBpycbtUMZQ0"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034872613,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$vKQwjfsZCRP1anCn8ZbjJEzUWa8q8O_3TmYvqaPhpDo"},
{"content":{"body":"I was so nervous about all of this ~8 months ago; I'm really glad that we're so close to a resolution","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$vKQwjfsZCRP1anCn8ZbjJEzUWa8q8O_3TmYvqaPhpDo"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034873960,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$-o4Ts3Hg1YucxduVaodSmDumezQB0BFWv6az-Ba-Fx4"},
{"content":{"body":"Yeah, and I think the solution is pretty elegant also :)","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$-o4Ts3Hg1YucxduVaodSmDumezQB0BFWv6az-Ba-Fx4"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680034889191,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$T5aHJWfz-gwrB10mHDO5vTPtObBmwUU6tiIg4Gn1eQA"},
{"content":{"body":"> <@lucacasonato:matrix.org> But if it's essentially done in WebKit and Gecko, we should just ship it. asumu you we're working on pushing this - is this still something you're pursuing?\n\nPreviously, Asumu was doing this work on contract with Bloomberg. At this point, if we're talking about 1-2 weeks of effort from here, I think we can squeeze it into our tab. More would probably be too much of a tangent to be funded by us (but maybe Asumu is independently motivated, hint hint guybedford)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$vKQwjfsZCRP1anCn8ZbjJEzUWa8q8O_3TmYvqaPhpDo?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>But if it's essentially done in WebKit and Gecko, we should just ship it. <a href=\"https://matrix.to/#/@atakikawa:igalia.com\">asumu</a> you we're working on pushing this - is this still something you're pursuing?</blockquote></mx-reply>Previously, Asumu was doing this work on contract with Bloomberg. At this point, if we're talking about 1-2 weeks of effort from here, I think we can squeeze it into our tab. More would probably be too much of a tangent to be funded by us (but maybe Asumu is independently motivated, hint hint <a href=\"https://matrix.to/#/@guybedford:matrix.org\">guybedford</a>)","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":false,"m.in_reply_to":{"event_id":"$vKQwjfsZCRP1anCn8ZbjJEzUWa8q8O_3TmYvqaPhpDo"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035020184,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$dgRGsF3NwueoGkE5G0rixOUrlpxa92enI5UOrzsF22M"},
{"content":{"body":"Yes Wasm ESM source imports was mostly done in WebKit, but it's been on pause for a while in terms of work on the spec and finishing the implementation. Not sure if I will have time to work on it currently.","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$dgRGsF3NwueoGkE5G0rixOUrlpxa92enI5UOrzsF22M"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035233629,"senderName":"asumu","senderId":"@atakikawa:igalia.com","id":"$bQf6j3UKxq5o72NMIqm9SMBG43llKoQO_XPH2GJwLnQ"},
{"content":{"body":"asumu, was your work in WebKit or Gecko, I forgot","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$bQf6j3UKxq5o72NMIqm9SMBG43llKoQO_XPH2GJwLnQ"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035259749,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$LoQwNhlimWIOn2MPzTSJNjF5O37pDk_dK5N7LNPyPBg"},
{"content":{"body":"It was in WebKit, yeah.","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$LoQwNhlimWIOn2MPzTSJNjF5O37pDk_dK5N7LNPyPBg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035275318,"senderName":"asumu","senderId":"@atakikawa:igalia.com","id":"$M_2JmcAdDEfzksKEyaPVRqqfQO4h8JbViCmt7ioBQ_s"},
{"content":{"body":"maybe there is no Gecko implementation and just WebKit","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$LoQwNhlimWIOn2MPzTSJNjF5O37pDk_dK5N7LNPyPBg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035275340,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$nn_ZccnS7OmcDMs_yIUquD2CEW4cxUuU8LYy4NpSs-I"},
{"content":{"body":"I suspect Gecko doesn't have it, but not sure.","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$nn_ZccnS7OmcDMs_yIUquD2CEW4cxUuU8LYy4NpSs-I"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035288266,"senderName":"asumu","senderId":"@atakikawa:igalia.com","id":"$5Z8FtclQCRkM6qqtfssh2VOfyuHNIcgJUJJesocQk4A"},
{"content":{"body":"yeah I'd suspect the same","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$5Z8FtclQCRkM6qqtfssh2VOfyuHNIcgJUJJesocQk4A"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035298514,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$_X67LWz2WeT5SsJt2-GQetwIrbkjFrldXW9nSASo_D4"},
{"content":{"body":"anyway Constellation was almost up for shipping it in the past, right?","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$_X67LWz2WeT5SsJt2-GQetwIrbkjFrldXW9nSASo_D4"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035309745,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$ouJ3GIczzGrTLQ18gObmF-SezndTTEwG7_T-3qQ_AnI"},
{"content":{"body":"They were definitely happy to accept patches on it anyway, though we didn't discuss shipping it yet. He was also working on import assertions implementation in WK too IIRC, and wanted to know how those would work together too.","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$ouJ3GIczzGrTLQ18gObmF-SezndTTEwG7_T-3qQ_AnI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680035493131,"senderName":"asumu","senderId":"@atakikawa:igalia.com","id":"$w9_UYrmWLrUVJpFFcEpjGl247tXjG-Q9hPZBrUkPaYA"},
{"content":{"body":"sgtm :-p","m.relates_to":{"event_id":"$sCPb7miUbRnWSuxsJXAoEd5v5tSdptFPvB76ph9q2uQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$ib680snQPB62mNy6rw83_Jn-YeHdJQYHxHgyhWESR-M"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680038503177,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$0hBbXzQVET7b7wF3F5JKPmxYvZqY7g5Ct7GwKaqE4x0"},
{"content":{"body":"I think the idea was: WebAssembly is *not* marked differently, since long-term we want JS to be redone in Wasm without changing how it's invoked","format":"org.matrix.custom.html","formatted_body":"I think the idea was: WebAssembly is <em>not</em> marked differently, since long-term we want JS to be redone in Wasm without changing how it's invoked","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$w9_UYrmWLrUVJpFFcEpjGl247tXjG-Q9hPZBrUkPaYA"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680038922482,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$50KOW9_9gNQT9mWRzgdJsAt71gyMrz04Bz0Ro0nVwao"},
{"content":{"body":"but we should discuss this more explicitly at some poitn","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$50KOW9_9gNQT9mWRzgdJsAt71gyMrz04Bz0Ro0nVwao"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680038929454,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$wMZxd-nz-oCovf9Gx8kHhcms3uausc55v8hpdZR-rQI"},
{"content":{"body":"all sounds quite sensible to me","m.relates_to":{"event_id":"$g7bu0wR-wiYBWyh0KhtYFgl0pPRAyeKsuZaie-GkpUA","is_falling_back":true,"m.in_reply_to":{"event_id":"$wMZxd-nz-oCovf9Gx8kHhcms3uausc55v8hpdZR-rQI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1680043218789,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$EZf0XXI2CSh973oLI7giYY0NMTjlNpuH2pz7PALKObI"}
]