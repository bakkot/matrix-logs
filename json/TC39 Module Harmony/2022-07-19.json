[
{"content":{"body":"That in turn is important because one of the things you can do with a module source is relocate it, e.g., from the file system to a bundle, or a zip file.","msgtype":"m.text","org.matrix.msc1767.text":"That in turn is important because one of the things you can do with a module source is relocate it, e.g., from the file system to a bundle, or a zip file."},"ts":1658188865941,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$2x3DJvlKan1uwZxpAgnowgLBTlZFuFB1zKpr0Jx5oHo"},
{"content":{"body":"Oh I see","msgtype":"m.text"},"ts":1658188877480,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$N0c5ygeJNYbQQW1bEdHe30C09_VnxKMkT17SEtGQLsw"},
{"content":{"body":"In which case the `import.meta.url` is not applicable.","format":"org.matrix.custom.html","formatted_body":"In which case the <code>import.meta.url</code> is not applicable.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"In which case the `import.meta.url` is not applicable.","mimetype":"text/plain"},{"body":"In which case the <code>import.meta.url</code> is not applicable.","mimetype":"text/html"}]},"ts":1658188882478,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$fnmq18RnikxiDgUijkQG_4cvwqvJjJ7BvQPQ3_iN-CQ"},
{"content":{"body":"And this is supposed to be the resolved specifier?","msgtype":"m.text"},"ts":1658188896306,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$h5oPz6VoHgmD2qbup6heSids2iYmDxi87l-oSXP7OHE"},
{"content":{"body":"Not a relative one","msgtype":"m.text"},"ts":1658188901119,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$x_7b3jK42LU33sKgd77s-StUVWjA8GggwG5ysrWulSY"},
{"content":{"body":"Yeah, referrers need to be fully resolved. What that means can vary as well.","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, referrers need to be fully resolved. What that means can vary as well."},"ts":1658188917070,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$skC60N1ViiDhZ4zoiA7cm0iogwZZz_gLRZ9UxBAvITY"},
{"content":{"body":"e.g., if you have an `importHook` per scope, `./src/main.js` is a very reasonable fully-resolved specifier, where `./` just distinguishes a module in scope from one thatâ€™s from another scope.","format":"org.matrix.custom.html","formatted_body":"e.g., if you have an <code>importHook</code> per scope, <code>./src/main.js</code> is a very reasonable fully-resolved specifier, where <code>./</code> just distinguishes a module in scope from one thatâ€™s from another scope.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"e.g., if you have an `importHook` per scope, `./src/main.js` is a very reasonable fully-resolved specifier, where `./` just distinguishes a module in scope from one thatâ€™s from another scope.","mimetype":"text/plain"},{"body":"e.g., if you have an <code>importHook</code> per scope, <code>./src/main.js</code> is a very reasonable fully-resolved specifier, where <code>./</code> just distinguishes a module in scope from one thatâ€™s from another scope.","mimetype":"text/html"}]},"ts":1658188962776,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$UIBgBi-S6o0A2sgRqHc0vj7ze9sKFKnzLKxKlcaQ8YU"},
{"content":{"body":"OK, then I agree that this is orthogonal. Then, WebAssembly.Module needs a referrer as well as host data","msgtype":"m.text"},"ts":1658188983942,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$gaLTSaQiPP20WzjW05I6c6LsXH29lzCFZ49mV2M-ehY"},
{"content":{"body":"Since, when used in import, it needs to resolve relative references ","format":"org.matrix.custom.html","formatted_body":"Since, when used in import, it needs to resolve relative references","msgtype":"m.text"},"ts":1658189020442,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$B5aSogZbd2Nxw_S_2vpQIHMj7NHNPjsIr2AISYxZTl0"},
{"content":{"body":"My position remains that `Module` needs a referrer and import reflection can produce a `Module` that contains a `WebAssembly.Module` as its source.","format":"org.matrix.custom.html","formatted_body":"My position remains that <code>Module</code> needs a referrer and import reflection can produce a <code>Module</code> that contains a <code>WebAssembly.Module</code> as its source.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"My position remains that `Module` needs a referrer and import reflection can produce a `Module` that contains a `WebAssembly.Module` as its source.","mimetype":"text/plain"},{"body":"My position remains that <code>Module</code> needs a referrer and import reflection can produce a <code>Module</code> that contains a <code>WebAssembly.Module</code> as its source.","mimetype":"text/html"}]},"ts":1658189021867,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$5TZpA7Lx8AIvv6eh75AxffEeyzo9py0mwSH0jnrv9yM"},
{"content":{"body":"That would mean that it canâ€™t be multiply instantiated, going against one of the core goals","msgtype":"m.text"},"ts":1658189049842,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$wL--BUbOlsiDjCnvKnJMRJSnBzlsPwZquROCtR8D_oU"},
{"content":{"body":"It can be multiply instantiated.","msgtype":"m.text","org.matrix.msc1767.text":"It can be multiply instantiated."},"ts":1658189067247,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$eLmsrb4JV4NC8Jmt8YTJ5-WgKnvPuEMzIwO8qAd_2Ms"},
{"content":{"body":"That goal is higher priority than my import() one","msgtype":"m.text"},"ts":1658189067808,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$mlMMM-5Rk_M6-3iKANoj11XqC0RbJHqesOwKbK1EEQk"},
{"content":{"body":"How can a Module be multiply instantiated?","msgtype":"m.text"},"ts":1658189080182,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$rnbXtCNTk_lbIEQpYW5DU5Nklr2_2WTBopztc_xAMJ8"},
{"content":{"body":"`await import(new Module(module.source, module.referrer, etc.))`","format":"org.matrix.custom.html","formatted_body":"<code>await import(new Module(module.source, module.referrer, etc.))</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`await import(new Module(module.source, module.referrer, etc.))`","mimetype":"text/plain"},{"body":"<code>await import(new Module(module.source, module.referrer, etc.))</code>","mimetype":"text/html"}]},"ts":1658189102764,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$UXTPl0TsqvP67WYsitXWGPdgb_WHIyZA-xDytSAQNmM"},
{"content":{"body":"OK, by cloning it","msgtype":"m.text"},"ts":1658189112800,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$JKDasQeQ7VRKuWGmehcVEADuOx37e7Pftq4Lev86Ueo"},
{"content":{"body":"Effectively, yes.","msgtype":"m.text","org.matrix.msc1767.text":"Effectively, yes."},"ts":1658189117619,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$5NVKyxaNRwS1Ijk1IaQZClx9i_1fUTraLQPjINeSlu4"},
{"content":{"body":"By projecting away some of the stuff ","format":"org.matrix.custom.html","formatted_body":"By projecting away some of the stuff","msgtype":"m.text"},"ts":1658189127444,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$P6aHG6SddgAmUl6uVSpORKiIvBPHjc92QHMqdOmtMUg"},
{"content":{"body":"Well, these are two coherent points in the design space to consider","msgtype":"m.text"},"ts":1658189152726,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$okVluNkwrqo5La72eoCPVkFj6xrCL9Ym_0J5jDxAXNA"},
{"content":{"body":"Aye.","msgtype":"m.text","org.matrix.msc1767.text":"Aye."},"ts":1658189163339,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$43FThQinW0IRofCILXjtji0JfXOsFbLHU80xFAWntQI"},
{"content":{"body":"Iâ€™m just strongly against adding the referrer to the source. There are other coherent ways to meet that criterion too.","msgtype":"m.text","org.matrix.msc1767.text":"Iâ€™m just strongly against adding the referrer to the source. There are other coherent ways to meet that criterion too."},"ts":1658189201069,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$lKOkhW0sQB6v9iC0gK0R0QcS6sFSN6J4eMvoq0J3Ffc"},
{"content":{"body":"Can you say more about why?","msgtype":"m.text"},"ts":1658189221047,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$qtVL4SAkY0ov1KFxN-kUYxGbjCbqvAj82EQ_2dveiRg"},
{"content":{"body":"Including an intermediate layer between source and instance. Iâ€™m weary of that though. Not a naming problem I want to get into.","msgtype":"m.text","org.matrix.msc1767.text":"Including an intermediate layer between source and instance. Iâ€™m weary of that though. Not a naming problem I want to get into."},"ts":1658189228303,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$kp3KzxUqj4_-nkek6Hl0a8g_BS2H3Ub9rUU3c6BptA0"},
{"content":{"body":"Yeah, sources are highly reusable.","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, sources are highly reusable."},"ts":1658189254319,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$raT1tLRklaE3haApsfJyoCTIyMXMh26O6zZvdCTplyQ"},
{"content":{"body":"They can be backed by an immutable record that can be safely shared throughout an agent cluster without synchronization.","msgtype":"m.text","org.matrix.msc1767.text":"They can be backed by an immutable record that can be safely shared throughout an agent cluster without synchronization."},"ts":1658189292862,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$t-wxZ9zQKtp1YPaydfgnFh7Jgj0rek60ZdJBGd6Bzio"},
{"content":{"body":"And they represent no authority.","msgtype":"m.text","org.matrix.msc1767.text":"And they represent no authority."},"ts":1658189315581,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$q0VLpHdR37WWDGZDFOR1ogLc_pqxo5q_wQOuCeniIhM"},
{"content":{"body":"Taking referrer onto that does not add authority, but it does make it less clear exactly how cache and share friendly they are.","msgtype":"m.text","org.matrix.msc1767.text":"Taking referrer onto that does not add authority, but it does make it less clear exactly how cache and share friendly they are."},"ts":1658189362943,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$tWBkSiRYgISaY0G_H0DyMTiL-WKDtn-8wTUKXbTkbJ8"},
{"content":{"body":"I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?","msgtype":"m.text","org.matrix.msc1767.text":"I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?"},"ts":1658229495625,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$L7_FvIzNlYh_ZQNTctf0KT5R5nvG7wP3NKnt_HjwotY"},
{"content":{"body":"is this a feature or a bug?","msgtype":"m.text","org.matrix.msc1767.text":"is this a feature or a bug?"},"ts":1658229716675,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$uMsXk6wa2RIdDuHMUJnT2hORd8ntTh4ghoPrLZcKzY4"},
{"content":{"body":"A feature! The exact code does not matter, but the amounts does. It's to show that compartments a small implementation on top of all the building blocks (or at least, that's what I remember from when I saw that slide!)","msgtype":"m.text"},"ts":1658229830244,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$rH8zKXQ7YozA-Ii0LvE6ckHTYPwPucU7J7KWZ454sVU"},
{"content":{"body":"> <@jackworks:matrix.org> is this a feature or a bug?\n\nIntentional. I donâ€™t want people to read the whole slide, but I do want to give people an idea about how much code it takes to implement compartment in user code. Whether this is  okay or too much is actually quite subjective. For an inline implementation of import map that gets written into a large portion of the web, might be too much. But, on the other hand, might not be.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$uMsXk6wa2RIdDuHMUJnT2hORd8ntTh4ghoPrLZcKzY4?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>is this a feature or a bug?</blockquote></mx-reply>Intentional. I donâ€™t want people to read the whole slide, but I do want to give people an idea about how much code it takes to implement compartment in user code. Whether this is  okay or too much is actually quite subjective. For an inline implementation of import map that gets written into a large portion of the web, might be too much. But, on the other hand, might not be.","m.relates_to":{"m.in_reply_to":{"event_id":"$uMsXk6wa2RIdDuHMUJnT2hORd8ntTh4ghoPrLZcKzY4"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@jackworks:matrix.org> is this a feature or a bug?\n\nIntentional. I donâ€™t want people to read the whole slide, but I do want to give people an idea about how much code it takes to implement compartment in user code. Whether this is  okay or too much is actually quite subjective. For an inline implementation of import map that gets written into a large portion of the web, might be too much. But, on the other hand, might not be.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$uMsXk6wa2RIdDuHMUJnT2hORd8ntTh4ghoPrLZcKzY4?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>is this a feature or a bug?</blockquote></mx-reply>Intentional. I donâ€™t want people to read the whole slide, but I do want to give people an idea about how much code it takes to implement compartment in user code. Whether this is  okay or too much is actually quite subjective. For an inline implementation of import map that gets written into a large portion of the web, might be too much. But, on the other hand, might not be.","mimetype":"text/html"}]},"ts":1658234714705,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$TY751_bK15PVsQydncY_R8-esRnSTuZxO8kPllhOk6g"},
{"content":{"body":"> <@jackworks:matrix.org> I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?\n\nYes, importMeta is mutable and referrer should not be. This is a soft requirement. If we also make importMeta === import.meta, that requirement becomes harder: a module should not be able to alter its own referrer between dynamic imports. Iâ€™m leaving these all as open questions for us to settle amongst us and am not going to broach the topic at plenary.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$L7_FvIzNlYh_ZQNTctf0KT5R5nvG7wP3NKnt_HjwotY?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?</blockquote></mx-reply>Yes, importMeta is mutable and referrer should not be. This is a soft requirement. If we also make importMeta === import.meta, that requirement becomes harder: a module should not be able to alter its own referrer between dynamic imports. Iâ€™m leaving these all as open questions for us to settle amongst us and am not going to broach the topic at plenary.","m.relates_to":{"m.in_reply_to":{"event_id":"$L7_FvIzNlYh_ZQNTctf0KT5R5nvG7wP3NKnt_HjwotY"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@jackworks:matrix.org> I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?\n\nYes, importMeta is mutable and referrer should not be. This is a soft requirement. If we also make importMeta === import.meta, that requirement becomes harder: a module should not be able to alter its own referrer between dynamic imports. Iâ€™m leaving these all as open questions for us to settle amongst us and am not going to broach the topic at plenary.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$L7_FvIzNlYh_ZQNTctf0KT5R5nvG7wP3NKnt_HjwotY?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?</blockquote></mx-reply>Yes, importMeta is mutable and referrer should not be. This is a soft requirement. If we also make importMeta === import.meta, that requirement becomes harder: a module should not be able to alter its own referrer between dynamic imports. Iâ€™m leaving these all as open questions for us to settle amongst us and am not going to broach the topic at plenary.","mimetype":"text/html"}]},"ts":1658234851083,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$LF7ETnBUf7kzF80_C9xdKrKGv6D69dtduFDqeQiwUgI"},
{"content":{"body":"Could the referrer be in a provate field of importMeta not visible from inside the module?","msgtype":"m.text"},"ts":1658234936918,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$aEC4IqwIx40nlLm3q4-kZImWP-YfsjInev7vTHX0bPs"},
{"content":{"body":"* Could the referrer be in a private field of importMeta not visible from inside the module?","m.new_content":{"body":"Could the referrer be in a private field of importMeta not visible from inside the module?","msgtype":"m.text"},"m.relates_to":{"event_id":"$aEC4IqwIx40nlLm3q4-kZImWP-YfsjInev7vTHX0bPs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1658237185682,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$2qgM9P2PblgTiuw-Lj2Rn6meXXUYNqVwJe7aXp4QiFw"},
{"content":{"body":"It could be. The other way of looking at this, though, is, \"what among the properties of import.meta are useful to an importHook\", and the answer is, \"only the referrer\".","msgtype":"m.text","org.matrix.msc1767.text":"It could be. The other way of looking at this, though, is, \"what among the properties of import.meta are useful to an importHook\", and the answer is, \"only the referrer\"."},"ts":1658237790043,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog"},
{"content":{"body":"And another way to look at it is, \"what does one need to construct an import.meta for a particular module\", and the answer is, \"only the referrer\".","msgtype":"m.text","org.matrix.msc1767.text":"And another way to look at it is, \"what does one need to construct an import.meta for a particular module\", and the answer is, \"only the referrer\"."},"ts":1658237823564,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$33Ht0g2z4I-t3qcuJJrAYrwuTjPPfXG_RENogUfCvOU"},
{"content":{"body":"> <@kriskowal:matrix.org> It could be. The other way of looking at this, though, is, \"what among the properties of import.meta are useful to an importHook\", and the answer is, \"only the referrer\".\n\nWell, you have an example with import.meta.resolve","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br />It could be. The other way of looking at this, though, is, &quot;what among the properties of import.meta are useful to an importHook&quot;, and the answer is, &quot;only the referrer&quot;.</blockquote></mx-reply>Well, you have an example with import.meta.resolve","m.relates_to":{"m.in_reply_to":{"event_id":"$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog"}},"msgtype":"m.text"},"ts":1658237846623,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$vPVmwsxGsLel6fBeEaRHwnbOYR-g23YhAhYLJI8lL3w"},
{"content":{"body":"I can answer to myself ðŸ˜‚\nWith Guy's proposal of passing a baseURL parameter, you don't need to get .resolve from the module's import.meta","msgtype":"m.text"},"ts":1658237922001,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$B6WtGvzEjXgvrKnL9efbEKuRydg3sEOpMUcCOTPMz2s"},
{"content":{"body":"And another overlapping design question remains open: can we thread `importMeta` such that `import.meta === importMeta` and cause less confusion?","format":"org.matrix.custom.html","formatted_body":"And another overlapping design question remains open: can we thread <code>importMeta</code> such that <code>import.meta === importMeta</code> and cause less confusion?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"And another overlapping design question remains open: can we thread `importMeta` such that `import.meta === importMeta` and cause less confusion?","mimetype":"text/plain"},{"body":"And another overlapping design question remains open: can we thread <code>importMeta</code> such that <code>import.meta === importMeta</code> and cause less confusion?","mimetype":"text/html"}]},"ts":1658237927773,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$6YijEEd3YYSqYqBzR8PZjXYETrDp5UXZjll-r8sXKqs"},
{"content":{"body":"Where is Guy proposing the passage of a baseURL?","msgtype":"m.text","org.matrix.msc1767.text":"Where is Guy proposing the passage of a baseURL?"},"ts":1658237954240,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$e3jeHZ6F0WQXKVOAsHXOwCH8YESoehqOucZCfW50iMY"},
{"content":{"body":"> <@kriskowal:matrix.org> And another overlapping design question remains open: can we thread `importMeta` such that `import.meta === importMeta` and cause less confusion?\n\nI agree that it's confusing ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$6YijEEd3YYSqYqBzR8PZjXYETrDp5UXZjll-r8sXKqs?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br />And another overlapping design question remains open: can we thread <code>importMeta</code> such that <code>import.meta === importMeta</code> and cause less confusion?</blockquote></mx-reply>I agree that it's confusing","m.relates_to":{"m.in_reply_to":{"event_id":"$6YijEEd3YYSqYqBzR8PZjXYETrDp5UXZjll-r8sXKqs"}},"msgtype":"m.text"},"ts":1658237956641,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$YVhaIPaDrSarN9MTT9UWmHHwh4wWBQ4McGLa9J25RtA"},
{"content":{"body":"Is this different than `import.meta.url`?","format":"org.matrix.custom.html","formatted_body":"Is this different than <code>import.meta.url</code>?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Is this different than `import.meta.url`?","mimetype":"text/plain"},{"body":"Is this different than <code>import.meta.url</code>?","mimetype":"text/html"}]},"ts":1658237963607,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$j2V-QJfc9A5ZFNwbLQ7wUAjHujgQbz1vYxodWKR4tTw"},
{"content":{"body":"> <@kriskowal:matrix.org> Where is Guy proposing the passage of a baseURL?\n\nAdding a baseURL parameter to import.meta.resolve, so that it can be reused across modules: https://github.com/whatwg/html/issues/8077","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$e3jeHZ6F0WQXKVOAsHXOwCH8YESoehqOucZCfW50iMY?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br />Where is Guy proposing the passage of a baseURL?</blockquote></mx-reply>Adding a baseURL parameter to import.meta.resolve, so that it can be reused across modules: https://github.com/whatwg/html/issues/8077","m.relates_to":{"m.in_reply_to":{"event_id":"$e3jeHZ6F0WQXKVOAsHXOwCH8YESoehqOucZCfW50iMY"}},"msgtype":"m.text"},"ts":1658238051929,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Zn_VLDPKzEdgPPTiNmykdo8d0k3tLfkspy3M8zhaw7M"},
{"content":{"body":"Oh, indeed. I think thatâ€™s orthogonal too. The baseURL is presumably optional and defaults to import.meta.url, such that resolve still closes over import.meta.url?","msgtype":"m.text","org.matrix.msc1767.text":"Oh, indeed. I think thatâ€™s orthogonal too. The baseURL is presumably optional and defaults to import.meta.url, such that resolve still closes over import.meta.url?"},"ts":1658238132709,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$j2Uyw4WSbGyJCNvK5gtyUhvQDhyXDQgIombmgl2ttkw"},
{"content":{"body":"Basically revealing the underlying uncurried form of resolve.","msgtype":"m.text","org.matrix.msc1767.text":"Basically revealing the underlying uncurried form of resolve."},"ts":1658238159745,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$zlSwc0cp2D0_G1gVzmKyi8s0cm7Jc1WZcaES0mwpAQg"},
{"content":{"body":"There are some tangles there. I know that we canâ€™t do that in Endo, since there isnâ€™t a URL and each package has an isolated namespace.","msgtype":"m.text","org.matrix.msc1767.text":"There are some tangles there. I know that we canâ€™t do that in Endo, since there isnâ€™t a URL and each package has an isolated namespace."},"ts":1658238199765,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$bvs8adfWz6919MNzr1DJH6V0hztoT90p-JbL2pmS7YY"},
{"content":{"body":"> <@kriskowal:matrix.org> It could be. The other way of looking at this, though, is, \"what among the properties of import.meta are useful to an importHook\", and the answer is, \"only the referrer\".\n\nimport.meta.hot","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br />It could be. The other way of looking at this, though, is, &quot;what among the properties of import.meta are useful to an importHook&quot;, and the answer is, &quot;only the referrer&quot;.</blockquote></mx-reply>import.meta.hot","m.relates_to":{"m.in_reply_to":{"event_id":"$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog"}},"msgtype":"m.text"},"ts":1658238626566,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$KtuaI908XK63sq65_U0u_XimQ9HnY4kmvOnzGT-oSnQ"},
{"content":{"body":"Weâ€™re skipping the loader meeting this week, right?","msgtype":"m.text"},"ts":1658238760893,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$FHQPqhzjU5OHu_lnU1O0Cccclgdmup90agqGH9RNd3Q"},
{"content":{"body":"(Because plenary)","msgtype":"m.text"},"ts":1658238771470,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$3y5_3c6oTWx-xfJ5TYOMcLEPfJ7rRhsixFuTpsaN9tQ"},
{"content":{"body":"yes","msgtype":"m.text","org.matrix.msc1767.text":"yes"},"ts":1658238805887,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$c82OH65iD5zVvl0kO00ueejU_LnhIUxtQiWmmESLAtg"},
{"content":{"body":"Kris Kowal: i didn't realize you would be going last today. I will probably fade before then","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@kriskowal:matrix.org\">Kris Kowal</a>: i didn't realize you would be going last today. I will probably fade before then","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Kris Kowal: i didn't realize you would be going last today. I will probably fade before then","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@kriskowal:matrix.org\">Kris Kowal</a>: i didn't realize you would be going last today. I will probably fade before then","mimetype":"text/html"}]},"ts":1658262350802,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$vmjbh_Qw3d5wLyUBgLFz9w5fGiQ21aBjw8NYWElBNUo"},
{"content":{"body":"are you expecting any major decisions made on your proposal today? or is this primarily an update?","msgtype":"m.text","org.matrix.msc1767.text":"are you expecting any major decisions made on your proposal today? or is this primarily an update?"},"ts":1658262374567,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$evHtfKAXRkXj5gwX-lMr5Ouu2PdPScNyImVnOfAggv8"},
{"content":{"body":"this is an update and we're not calling for decisions","msgtype":"m.text","org.matrix.msc1767.text":"this is an update and we're not calling for decisions"},"ts":1658262406176,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$dnJJBR0YNKo0SacSUnyg70B0KCMbD0jgpqnBLvrvoC0"},
{"content":{"body":" * this is an update and we're not calling for decisions yulia ","format":"org.matrix.custom.html","formatted_body":" * this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","m.new_content":{"body":"this is an update and we're not calling for decisions yulia ","format":"org.matrix.custom.html","formatted_body":"this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"this is an update and we're not calling for decisions yulia ","mimetype":"text/plain"},{"body":"this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$dnJJBR0YNKo0SacSUnyg70B0KCMbD0jgpqnBLvrvoC0","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * this is an update and we're not calling for decisions yulia ","mimetype":"text/plain"},{"body":" * this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","mimetype":"text/html"}]},"ts":1658262413156,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$0UbTocusoh28KGKiBrlZH4VTRMljTIedeCSLVOfYqik"},
{"content":{"body":"we are looking for whether the motivating cases are well-supported for each layer","msgtype":"m.text","org.matrix.msc1767.text":"we are looking for whether the motivating cases are well-supported for each layer"},"ts":1658262432821,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$UxrZVJCULphEKJdiCS04tf0m5KcT6wvPbtP6DvwL62w"},
{"content":{"body":"ok, I will review the notes after","msgtype":"m.text","org.matrix.msc1767.text":"ok, I will review the notes after"},"ts":1658262444315,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$VSDoq1txS0Gn9lO7EUnJot_dmUFVNZg9Hi9QjPGil3g"},
{"content":{"body":"interesting discussion to have though","msgtype":"m.text","org.matrix.msc1767.text":"interesting discussion to have though"},"ts":1658262455778,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$kG0C-RdHmBE14CQsQ_Zw8T-AZsWxOxG_0AjZWSy5kSY"},
{"content":{"body":"you'll be missed and thanks","msgtype":"m.text","org.matrix.msc1767.text":"you'll be missed and thanks"},"ts":1658262460406,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$wyrfsji5gF8kfnSrFpwDll_kQDRKXUFFAHfsNlPS-eo"},
{"content":{"body":"one comment on the repo so far -- i think the one thing i am missing is a motivation","msgtype":"m.text","org.matrix.msc1767.text":"one comment on the repo so far -- i think the one thing i am missing is a motivation"},"ts":1658262518350,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$5Eyq4nMh417BL002SU5hw5QOoe5Ee3wk0X_UY8Pso1U"},
{"content":{"body":"maybe we can rearrange the presentation to come in a future day?","msgtype":"m.text","org.matrix.msc1767.text":"maybe we can rearrange the presentation to come in a future day?"},"ts":1658262532347,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$lwfyaq57uavKtvz9kc8p_KzIBUBaxDwIJVNo_Zd2mVE"},
{"content":{"body":"it'd be nice to have you present","msgtype":"m.text","org.matrix.msc1767.text":"it'd be nice to have you present"},"ts":1658262538310,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$WIYJkZMDFZTMo7l23rkBFGHQWu3DMPQpvxVT3iINlxc"},
{"content":{"body":"(unless you prefer to be absent)","msgtype":"m.text","org.matrix.msc1767.text":"(unless you prefer to be absent)"},"ts":1658262555507,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$xPwEDjrWJ7VjT3KMHf896letF7iMmfXRmZm4a0QlE_A"},
{"content":{"body":"I think it's locked to today because constraints for Shu & Nicolo","msgtype":"m.text","org.matrix.msc1767.text":"I think it's locked to today because constraints for Shu & Nicolo"},"ts":1658262566362,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$9UVwPzMY7vqyY6MGZ9CmzGbFLJsrGlFtWIEE3HPVUYQ"},
{"content":{"body":"I see","msgtype":"m.text","org.matrix.msc1767.text":"I see"},"ts":1658262573738,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$kM_JsxYhpH5lsAuJe2Q12ry_3GgkhWheVT-fPnH_ocY"},
{"content":{"body":"I think it may be useful to have one line. for example: https://github.com/tc39/proposal-compartments/blob/master/0-module-and-module-source.md -- the motivation here might be: \"currently we have a conflation of two concepts in module records. This makes it difficult to work with these separately. By separating them, we unlock the following use cases\"","msgtype":"m.text","org.matrix.msc1767.text":"I think it may be useful to have one line. for example: https://github.com/tc39/proposal-compartments/blob/master/0-module-and-module-source.md -- the motivation here might be: \"currently we have a conflation of two concepts in module records. This makes it difficult to work with these separately. By separating them, we unlock the following use cases\""},"ts":1658262600293,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$bCmSHMcV9FNp5ltYs0tc8pA1h0pnD7CB1RydNC1N86o"},
{"content":{"body":" * I think it's locked to today because constraints for Shu & NicolÃ²","m.new_content":{"body":"I think it's locked to today because constraints for Shu & NicolÃ²","msgtype":"m.text","org.matrix.msc1767.text":"I think it's locked to today because constraints for Shu & NicolÃ²"},"m.relates_to":{"event_id":"$9UVwPzMY7vqyY6MGZ9CmzGbFLJsrGlFtWIEE3HPVUYQ","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * I think it's locked to today because constraints for Shu & NicolÃ²"},"ts":1658262604251,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$GDW-UcbSHS4YrofULS70PEa9-hBl-MJIbyIYp74V8BA"},
{"content":{"body":"its *kind* of like the synopsis, but it frames the layer in terms of what it is solving. that may help with establishing motivating cases","format":"org.matrix.custom.html","formatted_body":"its <em>kind</em> of like the synopsis, but it frames the layer in terms of what it is solving. that may help with establishing motivating cases","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"its *kind* of like the synopsis, but it frames the layer in terms of what it is solving. that may help with establishing motivating cases","mimetype":"text/plain"},{"body":"its <em>kind</em> of like the synopsis, but it frames the layer in terms of what it is solving. that may help with establishing motivating cases","mimetype":"text/html"}]},"ts":1658262649628,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$o1ij9mohu4V_jgkIKr8VtMFQnhcj_qWBieo1hwk5F0Y"},
{"content":{"body":"I would prefer to be present -- the problem is that i didn't really sleep last night. I don't think i am critical though","msgtype":"m.text","org.matrix.msc1767.text":"I would prefer to be present -- the problem is that i didn't really sleep last night. I don't think i am critical though"},"ts":1658262678403,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$sYEdXqFr9ZKHAYJIdnGlW_WdvoQvA1egoSkToL__O-w"},
{"content":{"body":"i probably am for import reflection so i will be here for that","msgtype":"m.text","org.matrix.msc1767.text":"i probably am for import reflection so i will be here for that"},"ts":1658262690109,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$5g_yAP9ii178F1W093FvXSYzvv1KkAEo6AiY0ktyTNs"},
{"content":{"body":"my audio is messed up anyway","msgtype":"m.text","org.matrix.msc1767.text":"my audio is messed up anyway"},"ts":1658262816689,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$GuZ7YpK6RXI9q40XgEFBDFc6CH-LL5wWlSLRT2Weuag"},
{"content":{"body":"ill go through the other layers now and mention what i find","msgtype":"m.text","org.matrix.msc1767.text":"ill go through the other layers now and mention what i find"},"ts":1658262824531,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$E862RmRkmcgfBsvzpsM5NC7QatAIpHVdLyzm_vFNFXQ"},
{"content":{"body":"> <@yulia:mozilla.org> I think it may be useful to have one line. for example: https://github.com/tc39/proposal-compartments/blob/master/0-module-and-module-source.md -- the motivation here might be: \"currently we have a conflation of two concepts in module records. This makes it difficult to work with these separately. By separating them, we unlock the following use cases\"\n\ni will have to touch on this, though i probably could not stop on just the division of source and instance.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$bCmSHMcV9FNp5ltYs0tc8pA1h0pnD7CB1RydNC1N86o?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@yulia:mozilla.org\">@yulia:mozilla.org</a><br>I think it may be useful to have one line. for example: https://github.com/tc39/proposal-compartments/blob/master/0-module-and-module-source.md -- the motivation here might be: &quot;currently we have a conflation of two concepts in module records. This makes it difficult to work with these separately. By separating them, we unlock the following use cases&quot;</blockquote></mx-reply>i will have to touch on this, though i probably could not stop on just the division of source and instance.","m.relates_to":{"m.in_reply_to":{"event_id":"$bCmSHMcV9FNp5ltYs0tc8pA1h0pnD7CB1RydNC1N86o"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@yulia:mozilla.org> I think it may be useful to have one line. for example: https://github.com/tc39/proposal-compartments/blob/master/0-module-and-module-source.md -- the motivation here might be: \"currently we have a conflation of two concepts in module records. This makes it difficult to work with these separately. By separating them, we unlock the following use cases\"\n\ni will have to touch on this, though i probably could not stop on just the division of source and instance.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$bCmSHMcV9FNp5ltYs0tc8pA1h0pnD7CB1RydNC1N86o?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@yulia:mozilla.org\">@yulia:mozilla.org</a><br>I think it may be useful to have one line. for example: https://github.com/tc39/proposal-compartments/blob/master/0-module-and-module-source.md -- the motivation here might be: &quot;currently we have a conflation of two concepts in module records. This makes it difficult to work with these separately. By separating them, we unlock the following use cases&quot;</blockquote></mx-reply>i will have to touch on this, though i probably could not stop on just the division of source and instance.","mimetype":"text/html"}]},"ts":1658262849526,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$MQX5hmpG6KF9Z2L58cA_L6BYvsjuil0Ks8JhHo7seX4"},
{"content":{"body":"i think setting up the problem statement in the clearest possible way would be great -- even if its more than what i described there. That was just my naive starting point!","msgtype":"m.text","org.matrix.msc1767.text":"i think setting up the problem statement in the clearest possible way would be great -- even if its more than what i described there. That was just my naive starting point!"},"ts":1658262904564,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$qkg4d9Uh_RtF--VvrJ6UZbnIQVF4KND8Pgm0YZH5sos"},
{"content":{"body":"thank you for pointing that out though. it is a blind spot for me.","msgtype":"m.text","org.matrix.msc1767.text":"thank you for pointing that out though. it is a blind spot for me."},"ts":1658262910204,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$x48aCj_cEZnv1Qap7vBBF23mdwZrInrV546DDiTMe1I"},
{"content":{"body":"for this one, the motivation works as a problem statement: https://github.com/tc39/proposal-compartments/blob/master/2-virtual-module-source.md#motivation -- it states what can not be done today and why we want to do it. ","msgtype":"m.text","org.matrix.msc1767.text":"for this one, the motivation works as a problem statement: https://github.com/tc39/proposal-compartments/blob/master/2-virtual-module-source.md#motivation -- it states what can not be done today and why we want to do it. "},"ts":1658263514480,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$pGveKIJ7fVvGz9KxjDE-deXLdPhlH9ALXYODVCrAD48"},
{"content":{"body":"this one is a little hard to understand: https://github.com/tc39/proposal-compartments/blob/master/1-static-analysis.md#motivation -- in particular, i start to get confused at \"The weight and performance of a JavaScript meta-parser (about 1MB) often precludes production use-cases that make direct use of JavaScript module source. \" -- by meta-parser what do you mean? Like syntax only parser? something else? ","msgtype":"m.text","org.matrix.msc1767.text":"this one is a little hard to understand: https://github.com/tc39/proposal-compartments/blob/master/1-static-analysis.md#motivation -- in particular, i start to get confused at \"The weight and performance of a JavaScript meta-parser (about 1MB) often precludes production use-cases that make direct use of JavaScript module source. \" -- by meta-parser what do you mean? Like syntax only parser? something else? "},"ts":1658263647464,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$0VDbro3Jx39N__vZG9GxDsd5gk_RIenynNSsNZqkDRY"},
{"content":{"body":"this one, i need to spend with more time but on first read it looks fine: https://github.com/tc39/proposal-compartments/blob/master/3-evaluator.md#motivation","msgtype":"m.text","org.matrix.msc1767.text":"this one, i need to spend with more time but on first read it looks fine: https://github.com/tc39/proposal-compartments/blob/master/3-evaluator.md#motivation"},"ts":1658263809320,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$vZSDBws7SNipVkyIy_D13BK1InAuRQSEmACQ62CbYyA"},
{"content":{"body":"and, my attention is fading -- so i don't think i can do any more","msgtype":"m.text","org.matrix.msc1767.text":"and, my attention is fading -- so i don't think i can do any more"},"ts":1658263897088,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$TOdHVhW3HwU6Da3NsrkbbSy-F1PvQB0PDiwRJQzvc_I"},
{"content":{"body":"ill come back to it at a later point, id like to spend more time with this in general","msgtype":"m.text","org.matrix.msc1767.text":"ill come back to it at a later point, id like to spend more time with this in general"},"ts":1658263911669,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$fbFbz-X8JBnaKKcZgHn7tmeKw3UCW_Aeox6OKyfnR8Q"},
{"content":{"body":"ty!","msgtype":"m.text","org.matrix.msc1767.text":"ty!"},"ts":1658263966106,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$RdAjs8roL6IHCcVP4CZX4NL73n1IzGgRc14GScrAI2Q"},
{"content":{"body":"I think, `module <identifier> from \"xyz\";` might be interesting?","format":"org.matrix.custom.html","formatted_body":"I think, <code>module &lt;identifier&gt; from &quot;xyz&quot;;</code> might be interesting?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I think, `module <identifier> from \"xyz\";` might be interesting?","mimetype":"text/plain"},{"body":"I think, <code>module &lt;identifier&gt; from &quot;xyz&quot;;</code> might be interesting?","mimetype":"text/html"}]},"ts":1658266310699,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$BxIL6eeikAjzMjYGfnq1f667BXsyNhDpZjbRTiTuvy4"},
{"content":{"body":"with `module <identifier> { ....} ` and `const <identifier> = module { ... }`","format":"org.matrix.custom.html","formatted_body":"with <code>module &lt;identifier&gt; { ....} </code> and <code>const &lt;identifier&gt; = module { ... }</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"with `module <identifier> { ....} ` and `const <identifier> = module { ... }`","mimetype":"text/plain"},{"body":"with <code>module &lt;identifier&gt; { ....} </code> and <code>const &lt;identifier&gt; = module { ... }</code>","mimetype":"text/html"}]},"ts":1658266336770,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$5fmUuJ_VlOXI0qRjRoWfTbH0MgzF2O1avTCE03bwtmM"},
{"content":{"body":"but then if `assert` is in the same position its a little weird","format":"org.matrix.custom.html","formatted_body":"but then if <code>assert</code> is in the same position its a little weird","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"but then if `assert` is in the same position its a little weird","mimetype":"text/plain"},{"body":"but then if <code>assert</code> is in the same position its a little weird","mimetype":"text/html"}]},"ts":1658266361691,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$KrWW4-VKf7UHPuHwloC1VPQkXmBDI8vRXnlNeAJ-F74"},
{"content":{"body":"cc guybedford (Guy Bedford) ","format":"org.matrix.custom.html","formatted_body":"cc <a href=\"https://matrix.to/#/@guybedford-546b0059db8155e6700d5a77:gitter.im\">guybedford (Guy Bedford)</a>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"cc guybedford (Guy Bedford) ","mimetype":"text/plain"},{"body":"cc <a href=\"https://matrix.to/#/@guybedford-546b0059db8155e6700d5a77:gitter.im\">guybedford (Guy Bedford)</a>","mimetype":"text/html"}]},"ts":1658266370991,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$t8IzkwhEqkKZL1SyftWJxVeq7ir2C7HU-q8n36bKhP4"},
{"content":{"body":"this conflicts a lot wiht module fragments","msgtype":"m.text","org.matrix.msc1767.text":"this conflicts a lot wiht module fragments"},"ts":1658266373299,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$5SD2-yKeartyMyxDAykuclcKNaBUlsUJDD5QvrdJrw4"},
{"content":{"body":"which use `module identifier { }`","format":"org.matrix.custom.html","formatted_body":"which use <code>module identifier { }</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"which use `module identifier { }`","mimetype":"text/plain"},{"body":"which use <code>module identifier { }</code>","mimetype":"text/html"}]},"ts":1658266379905,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$XxvJyfRJ50JjMYEF-tiMW8GDwUg4qRA7BMbXEebWPB4"},
{"content":{"body":"I think we should use the import keyword here","msgtype":"m.text","org.matrix.msc1767.text":"I think we should use the import keyword here"},"ts":1658266385404,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$KUAMGq0DzgGy8FNFZfb58FFr1q0x60RdniDNraaxBys"},
{"content":{"body":"module reflection: module <identifier> from \"xyz\";\nmodule fragments: module <identifier> { ....}","msgtype":"m.text","org.matrix.msc1767.text":"module reflection: module <identifier> from \"xyz\";\nmodule fragments: module <identifier> { ....}"},"ts":1658266407938,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$X6YpRlS_oBW__-2HwGhgIcthAyefrNg6RQeSQm7B8LQ"},
{"content":{"body":"I like \"import\" because we are still \"loading something external\", but this doesn't conflict: it aligns well","msgtype":"m.text","org.matrix.msc1767.text":"I like \"import\" because we are still \"loading something external\", but this doesn't conflict: it aligns well"},"ts":1658266413747,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$sofFn285_x_bHQw2hLR1rYKJL_dH4Fmc_4w5lHaMt0s"},
{"content":{"body":"so we will have","msgtype":"m.text","org.matrix.msc1767.text":"so we will have"},"ts":1658266425274,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$DJLFtNSR_JsvlrkFTtdWVEVRyv9meL-Wwbb1KHc026c"},
{"content":{"body":"```\nimport module <identifier> from \"xyz\"\nconst whatever = import(<identifier>)\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code>import module &lt;identifier&gt; from &quot;xyz&quot;\nconst whatever = import(&lt;identifier&gt;)\n</code></pre>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"```\nimport module <identifier> from \"xyz\"\nconst whatever = import(<identifier>)\n```","mimetype":"text/plain"},{"body":"<pre><code>import module &lt;identifier&gt; from &quot;xyz&quot;\nconst whatever = import(&lt;identifier&gt;)\n</code></pre>\n","mimetype":"text/html"}]},"ts":1658266452167,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$qrsPzMIZKyWRpU5n_bpFPbD8NNVwqqMM_vfWTD3RFtU"},
{"content":{"body":"and these two will mean very different things","msgtype":"m.text","org.matrix.msc1767.text":"and these two will mean very different things"},"ts":1658266464264,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$ny700uvOI3_0esamolJrtMTofz4WZRo1JNLYgh-pWEM"},
{"content":{"body":"here's another possible interaction point between `import module` and module fragments:\n```js\nimport module foo from \"./foo.js\";\n\nmodule bar {\n  import foo;\n}\n```\nI like it!","format":"org.matrix.custom.html","formatted_body":"<p>here's another possible interaction point between <code>import module</code> and module fragments:</p>\n<pre><code class=\"language-js\">import module foo from &quot;./foo.js&quot;;\n\nmodule bar {\n  import foo;\n}\n</code></pre>\n<p>I like it!</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"here's another possible interaction point between `import module` and module fragments:\n```js\nimport module foo from \"./foo.js\";\n\nmodule bar {\n  import foo;\n}\n```\nI like it!","mimetype":"text/plain"},{"body":"<p>here's another possible interaction point between <code>import module</code> and module fragments:</p>\n<pre><code class=\"language-js\">import module foo from &quot;./foo.js&quot;;\n\nmodule bar {\n  import foo;\n}\n</code></pre>\n<p>I like it!</p>\n","mimetype":"text/html"}]},"ts":1658266469428,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$kzOsIhzNkQ6w1p1_qNHkF5tCYUBOkBFIOEfbhGI9URU"},
{"content":{"body":"import foo from \"spec\" as module? ","msgtype":"m.text"},"ts":1658266554062,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$8UsrGD-BC4Qxv6v7LvYghC9mU7Bm0cAYKMND92pyCl0"},
{"content":{"body":"I was additionally thinking of how to handle the dynamic import case, which could be (if there is flexibility to consider other approaches) `module(<url-specifier>)` followed by `import(<module>)`","format":"org.matrix.custom.html","formatted_body":"I was additionally thinking of how to handle the dynamic import case, which could be (if there is flexibility to consider other approaches) <code>module(&lt;url-specifier&gt;)</code> followed by <code>import(&lt;module&gt;)</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I was additionally thinking of how to handle the dynamic import case, which could be (if there is flexibility to consider other approaches) `module(<url-specifier>)` followed by `import(<module>)`","mimetype":"text/plain"},{"body":"I was additionally thinking of how to handle the dynamic import case, which could be (if there is flexibility to consider other approaches) <code>module(&lt;url-specifier&gt;)</code> followed by <code>import(&lt;module&gt;)</code>","mimetype":"text/html"}]},"ts":1658266732349,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$OmiR5gOKeF58K5Zl_iGPsbOnxyZZ26gRiTB5ieWco6s"},
{"content":{"body":"or, `module import(...)` and `module import x from \"xyz\"`","format":"org.matrix.custom.html","formatted_body":"or, <code>module import(...)</code> and <code>module import x from &quot;xyz&quot;</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"or, `module import(...)` and `module import x from \"xyz\"`","mimetype":"text/plain"},{"body":"or, <code>module import(...)</code> and <code>module import x from &quot;xyz&quot;</code>","mimetype":"text/html"}]},"ts":1658266793817,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$shYC66aoSkyRp_NWIRnRXK6Qexv7iXuhM0gX7lyjwjw"},
{"content":{"body":"`module(<url-specifier>)` is already valid syntax, and `module import(...)` feels weird to me because the space has an higher precedence than `(...)` (reading it as a function call) ðŸ˜¬","format":"org.matrix.custom.html","formatted_body":"<code>module(&lt;url-specifier&gt;)</code> is already valid syntax, and <code>module import(...)</code> feels weird to me because the space has an higher precedence than <code>(...)</code> (reading it as a function call) ðŸ˜¬","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`module(<url-specifier>)` is already valid syntax, and `module import(...)` feels weird to me because the space has an higher precedence than `(...)` (reading it as a function call) ðŸ˜¬","mimetype":"text/plain"},{"body":"<code>module(&lt;url-specifier&gt;)</code> is already valid syntax, and <code>module import(...)</code> feels weird to me because the space has an higher precedence than <code>(...)</code> (reading it as a function call) ðŸ˜¬","mimetype":"text/html"}]},"ts":1658266879442,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$KxEQykGm0McD3V3AFspqJ71J0D6h9sHyoqd091SwS64"},
{"content":{"body":"I think using the options bag would be fine","msgtype":"m.text","org.matrix.msc1767.text":"I think using the options bag would be fine"},"ts":1658266890961,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$VPUxTruSuZtOFhRHHYCdFWuxTjf6Auo09_L6TsjqycI"},
{"content":{"body":"yeah, the import statement is a bit weird","msgtype":"m.text","org.matrix.msc1767.text":"yeah, the import statement is a bit weird"},"ts":1658266896357,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$YoNy8f_a0eRRjh_1RjDqrNRn7c5fB1bkRNKB1Ly1PDc"},
{"content":{"body":"I find the new syntax confusing though. ","msgtype":"m.text","org.matrix.msc1767.text":"I find the new syntax confusing though. "},"ts":1658266922157,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$zEisVBHcV8cHRLwtJQYY7egOWsMb4ZmpqN0kSxaoFwk"},
{"content":{"body":"I wouldn't know, as a developer, how this \"module\" is different than what i already imported","msgtype":"m.text","org.matrix.msc1767.text":"I wouldn't know, as a developer, how this \"module\" is different than what i already imported"},"ts":1658266943356,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$H127zPhCFPQa1dcvnTMrxVx70TBa7WVqKBTX4B-U6fg"},
{"content":{"body":"from what i was already importing with the regular import statement rather","msgtype":"m.text","org.matrix.msc1767.text":"from what i was already importing with the regular import statement rather"},"ts":1658267018910,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$DLaJ_lEqspluPYw7Z_4o8RwzPQkSW09_rsTwtsNhSEs"},
{"content":{"body":"I like the `import(..., {xyzkey: \"module\"})` syntax presented; I think we could use some bikeshedding on the key","format":"org.matrix.custom.html","formatted_body":"I like the <code>import(..., {xyzkey: &quot;module&quot;})</code> syntax presented; I think we could use some bikeshedding on the key","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I like the `import(..., {xyzkey: \"module\"})` syntax presented; I think we could use some bikeshedding on the key","mimetype":"text/plain"},{"body":"I like the <code>import(..., {xyzkey: &quot;module&quot;})</code> syntax presented; I think we could use some bikeshedding on the key","mimetype":"text/html"}]},"ts":1658267086645,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$hFql9IGrYhhUL8sl2MI9w9OgbF_VuYOfaRL84r_wwF4"},
{"content":{"body":"I mean, we designed import assertions specifically to enable this case","msgtype":"m.text","org.matrix.msc1767.text":"I mean, we designed import assertions specifically to enable this case"},"ts":1658267104261,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$nlU44oJRXY2M63r-Adz1w4OzlZ45Gd_FnHPKm3msrRU"},
{"content":{"body":"the second argument design, I mean","msgtype":"m.text","org.matrix.msc1767.text":"the second argument design, I mean"},"ts":1658267109996,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$dQALnIoW2gJgc4ztB-67YYRC1i0SiFp2WNWueZoCgN8"},
{"content":{"body":"> <@yulia:mozilla.org> I wouldn't know, as a developer, how this \"module\" is different than what i already imported\n\nI think that the compartments proposal reifying `Module`/`ModuleSource` will help with that confusion, because \"module\" becomes a real word of the language","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$H127zPhCFPQa1dcvnTMrxVx70TBa7WVqKBTX4B-U6fg?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@yulia:mozilla.org\">@yulia:mozilla.org</a><br>I wouldn&#39;t know, as a developer, how this &quot;module&quot; is different than what i already imported</blockquote></mx-reply>I think that the compartments proposal reifying <code>Module</code>/<code>ModuleSource</code> will help with that confusion, because &quot;module&quot; becomes a real word of the language","m.relates_to":{"m.in_reply_to":{"event_id":"$H127zPhCFPQa1dcvnTMrxVx70TBa7WVqKBTX4B-U6fg"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@yulia:mozilla.org> I wouldn't know, as a developer, how this \"module\" is different than what i already imported\n\nI think that the compartments proposal reifying `Module`/`ModuleSource` will help with that confusion, because \"module\" becomes a real word of the language","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$H127zPhCFPQa1dcvnTMrxVx70TBa7WVqKBTX4B-U6fg?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@yulia:mozilla.org\">@yulia:mozilla.org</a><br>I wouldn&#39;t know, as a developer, how this &quot;module&quot; is different than what i already imported</blockquote></mx-reply>I think that the compartments proposal reifying <code>Module</code>/<code>ModuleSource</code> will help with that confusion, because &quot;module&quot; becomes a real word of the language","mimetype":"text/html"}]},"ts":1658267218116,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$SarfIkfidwQRTHci4yQ65wi4sL6auHho5WNkV1dboV4"},
{"content":{"body":"We must make sure that they don't mean incompatible things","msgtype":"m.text","org.matrix.msc1767.text":"We must make sure that they don't mean incompatible things"},"ts":1658267231955,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$0vvlDDEpk9tv2BGAPhMEaR7CBUDBTrwkG3e8RIZSCRQ"},
{"content":{"body":"Fair, Iâ€™m still working through that proposal. Iâ€™ll return to this later","msgtype":"m.text"},"ts":1658267308883,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$_BCF8m0ZHWpnb4q8PJWBwU9QMdIPBe7_gSqbki8Qb60"},
{"content":{"body":"Night all","msgtype":"m.text"},"ts":1658267311748,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$sx0La7FhG4Py_bMv45e5Fg0-7g3EDhzQDlBnHEXkeKg"},
{"content":{"body":"Have a good night!","msgtype":"m.text","org.matrix.msc1767.text":"Have a good night!"},"ts":1658267337955,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$0vbkJdw6Br-h7cfuKgW79Fb6lTwZzttsuPGczlcxFE8"},
{"content":{"body":"Maybe there is some sort of more restricted form of evaluators that could meet Shu's concerns. I'm not sure what that would look like, though.","msgtype":"m.text","org.matrix.msc1767.text":"Maybe there is some sort of more restricted form of evaluators that could meet Shu's concerns. I'm not sure what that would look like, though."},"ts":1658270161148,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Zq6JWtY7LXvyH8ogk_p6ooe5VWvtiIy9VRdy3a5nE2A"},
{"content":{"body":"how you can restrict it? I think it's already a minimal one","msgtype":"m.text","org.matrix.msc1767.text":"how you can restrict it? I think it's already a minimal one"},"ts":1658270348160,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$F8zLhPs_Ydt47RwK7JL_6NyYBIZmufbgpOyq_CO0T7I"},
{"content":{"body":"I'm not sure; one option is what Kris is saying","msgtype":"m.text","org.matrix.msc1767.text":"I'm not sure; one option is what Kris is saying"},"ts":1658270407781,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Rul5jMjhe2I2FcqyiyLmp2gDMFfGUbPcw9ShOzqeqNE"},
{"content":{"body":"I suspect there are multiple options that meet these goals","msgtype":"m.text","org.matrix.msc1767.text":"I suspect there are multiple options that meet these goals"},"ts":1658270444439,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$hoCxcDTnn0_Bh5DtFBAuqkOTfZUTF2rGOnPdDdBbba4"}
]