[
{"content":{"body":"I think the spec is actually fine on this front for `import source foo from \"foo.wasm\"`","format":"org.matrix.custom.html","formatted_body":"I think the spec is actually fine on this front for <code>import source foo from \"foo.wasm\"</code>","m.mentions":{},"msgtype":"m.text"},"ts":1742601921492,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OmLBcwMOciHUkOLKaMS8BjmLSw2eNW9wHDklT_F451U"},
{"content":{"body":"ES calls HostLoadImportedModule as defined in HTML, which does a fetch with destination \"script\", which triggers the `script-src-elem` pre-request check in CSP (why \"elem\"? ehhhhhhhhhhh), which will cause either `script-src-elem`, `script-src`, or `default-src` to apply","format":"org.matrix.custom.html","formatted_body":"ES calls HostLoadImportedModule as defined in HTML, which does a fetch with destination \"script\", which triggers the <code>script-src-elem</code> pre-request check in CSP (why \"elem\"? ehhhhhhhhhhh), which will cause either <code>script-src-elem</code>, <code>script-src</code>, or <code>default-src</code> to apply","m.mentions":{},"msgtype":"m.text"},"ts":1742602058292,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Ty0VkNzcfd13ShvVzCVy40WxKJb5fHNKZZ8UrImyghQ"},
{"content":{"body":"* ES calls HostLoadImportedModule as defined in HTML, which does a fetch with destination \"script\", which triggers the `script-src-elem` pre-request check in CSP (why \"elem\"? ehhhhhhhhhhh), which will cause either `script-src-elem`, `script-src`, or `default-src` to apply (the first of those which is present)","format":"org.matrix.custom.html","formatted_body":"* ES calls HostLoadImportedModule as defined in HTML, which does a fetch with destination \"script\", which triggers the <code>script-src-elem</code> pre-request check in CSP (why \"elem\"? ehhhhhhhhhhh), which will cause either <code>script-src-elem</code>, <code>script-src</code>, or <code>default-src</code> to apply (the first of those which is present)","m.mentions":{},"m.new_content":{"body":"ES calls HostLoadImportedModule as defined in HTML, which does a fetch with destination \"script\", which triggers the `script-src-elem` pre-request check in CSP (why \"elem\"? ehhhhhhhhhhh), which will cause either `script-src-elem`, `script-src`, or `default-src` to apply (the first of those which is present)","format":"org.matrix.custom.html","formatted_body":"ES calls HostLoadImportedModule as defined in HTML, which does a fetch with destination \"script\", which triggers the <code>script-src-elem</code> pre-request check in CSP (why \"elem\"? ehhhhhhhhhhh), which will cause either <code>script-src-elem</code>, <code>script-src</code>, or <code>default-src</code> to apply (the first of those which is present)","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Ty0VkNzcfd13ShvVzCVy40WxKJb5fHNKZZ8UrImyghQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742602073982,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OzHEpFgePVHFwe6_z_yV1EzcPheUOBW2jaFxvuKfAzA"},
{"content":{"body":"I assume the intention is that if this check passes then the module is allowed to run","m.mentions":{},"msgtype":"m.text"},"ts":1742602079429,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$FI01I2jpl54ZbHBf2Om7NeSjVIwZKvfeHioTHN5QbN8"}
]