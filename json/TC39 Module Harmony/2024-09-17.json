[
{"content":{"body":"> Module expressions and module declarations also have the concept of canonical instances, which need to be defined here, and it would be good to have a description of that in this context.\n\nI am thinking that the canonical instance can be created lazily, and 262 would call into HTML through a hook to query that cache (that HTML can populate in the hook itself)","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>Module expressions and module declarations also have the concept of canonical instances, which need to be defined here, and it would be good to have a description of that in this context.</p>\n</blockquote>\n<p>I am thinking that the canonical instance can be created lazily, and 262 would call into HTML through a hook to query that cache (that HTML can populate in the hook itself)</p>\n","m.mentions":{},"m.relates_to":{"event_id":"$y-sl0kBMxGMORCxc4UhOP13wbIi4ueZmwzFGSkWtdOc","is_falling_back":true,"m.in_reply_to":{"event_id":"$y-sl0kBMxGMORCxc4UhOP13wbIi4ueZmwzFGSkWtdOc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1726567328956,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$0zzYVZ_F1DLzr4wtIefU6XC5kgiBv7038fucpZ2Rj8c"},
{"content":{"body":"So HTML would check \"do I have a canonical instance for this? If not, do I know how to create one?\"","m.mentions":{},"m.relates_to":{"event_id":"$y-sl0kBMxGMORCxc4UhOP13wbIi4ueZmwzFGSkWtdOc","is_falling_back":true,"m.in_reply_to":{"event_id":"$0zzYVZ_F1DLzr4wtIefU6XC5kgiBv7038fucpZ2Rj8c"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1726567357787,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$D1_jyW1FP3dm15zSoVPjiYHSzBOtnmsE9h4H8D1P178"},
{"content":{"body":"Which also applies to top-level module sources that are postMessaged to other workers","m.mentions":{},"m.relates_to":{"event_id":"$y-sl0kBMxGMORCxc4UhOP13wbIi4ueZmwzFGSkWtdOc","is_falling_back":true,"m.in_reply_to":{"event_id":"$D1_jyW1FP3dm15zSoVPjiYHSzBOtnmsE9h4H8D1P178"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1726567371582,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Pd9FKvho-ussVZLOmsmxUVXizd6USlfLFb6lozxa07Q"}
]