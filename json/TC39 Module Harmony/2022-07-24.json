[
{"content":{"body":"> <@kriskowal:matrix.org> I think the ends I’m looking for could be accomplished another way, then…\n\nmaybe through a callback that can be invoked synchronously?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$9PPsWs7fS2TFrx-ktDXRaXLDndcbfkWbKJrxfgGhIaw?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br>I think the ends I’m looking for could be accomplished another way, then…</blockquote></mx-reply>maybe through a callback that can be invoked synchronously?","m.relates_to":{"m.in_reply_to":{"event_id":"$9PPsWs7fS2TFrx-ktDXRaXLDndcbfkWbKJrxfgGhIaw"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@kriskowal:matrix.org> I think the ends I’m looking for could be accomplished another way, then…\n\nmaybe through a callback that can be invoked synchronously?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$9PPsWs7fS2TFrx-ktDXRaXLDndcbfkWbKJrxfgGhIaw?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br>I think the ends I’m looking for could be accomplished another way, then…</blockquote></mx-reply>maybe through a callback that can be invoked synchronously?","mimetype":"text/html"}]},"ts":1658677236134,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$XkGUXtuFnAfw2Yd8tQKQioMvugw_CAXAIQsoWiiEDy8"},
{"content":{"body":"> <@guybedford:matrix.org> Okay, I just would have thought that the InnerModuleLinking logic repeats a lot of the payload logic you have.\n\nwhat do you mean by this?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$thj9HxibA5ENZk9jNQ20UWqiuSo75OQIZ0YFjWbyigs?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@guybedford:matrix.org\">@guybedford:matrix.org</a><br>Okay, I just would have thought that the InnerModuleLinking logic repeats a lot of the payload logic you have.</blockquote></mx-reply>what do you mean by this?","m.relates_to":{"m.in_reply_to":{"event_id":"$thj9HxibA5ENZk9jNQ20UWqiuSo75OQIZ0YFjWbyigs"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@guybedford:matrix.org> Okay, I just would have thought that the InnerModuleLinking logic repeats a lot of the payload logic you have.\n\nwhat do you mean by this?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$thj9HxibA5ENZk9jNQ20UWqiuSo75OQIZ0YFjWbyigs?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@guybedford:matrix.org\">@guybedford:matrix.org</a><br>Okay, I just would have thought that the InnerModuleLinking logic repeats a lot of the payload logic you have.</blockquote></mx-reply>what do you mean by this?","mimetype":"text/html"}]},"ts":1658677255154,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$SXP6cQ5lzp2LR1eRRhKuwjV_ykNfTWh6_JfJSrrVYWM"},
{"content":{"body":"Usually when writing a module loader, you only need to do two passes over the graph","msgtype":"m.text","org.matrix.msc1767.text":"Usually when writing a module loader, you only need to do two passes over the graph"},"ts":1658690377337,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$MSUjQ-ZzMvsNBbTY5dgBx4FoI3iBzzThxEERBl37G-w"},
{"content":{"body":"one pass to load the modules, and another pass to execute them","msgtype":"m.text","org.matrix.msc1767.text":"one pass to load the modules, and another pass to execute them"},"ts":1658690385433,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$7EIsUi6NGNIOnJ3OELa-anpcrVRI0VbtEcaZ_WC4uHU"},
{"content":{"body":"the specification currently already has two passes","msgtype":"m.text","org.matrix.msc1767.text":"the specification currently already has two passes"},"ts":1658690392189,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$Xn2vsKmw8sk9M3ogsmg7exzRYHq4pNGAHNMiYb8ZLqM"},
{"content":{"body":"you're adding a third","msgtype":"m.text","org.matrix.msc1767.text":"you're adding a third"},"ts":1658690394887,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$JtGbCIGZgZdn58gb9BxKOPtB6FEK7ZVwXfmO9qUQTUw"},
{"content":{"body":"just wondering if we can condense that","msgtype":"m.text","org.matrix.msc1767.text":"just wondering if we can condense that"},"ts":1658690399472,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$Mcw4sjKHE_g4HxhNBmUV-0fiB622dgpCyGA35MGNLRk"},
{"content":{"body":"it'd be nice if we could, but the three passes existed in ES+HTML before, didn't they?","msgtype":"m.text","org.matrix.msc1767.text":"it'd be nice if we could, but the three passes existed in ES+HTML before, didn't they?"},"ts":1658690432619,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$h6dfxxr3YJHn85vX0lYgVYlRKniMagPWBY6PlsShJPw"},
{"content":{"body":"Yeah I guess once you add HTML that's three certainly","msgtype":"m.text","org.matrix.msc1767.text":"Yeah I guess once you add HTML that's three certainly"},"ts":1658690449055,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$I1oYDCYzfTzD_fyndoYO24GX__xWHZM_h1kYWrg_kxQ"},
{"content":{"body":"this patch is all about just moving the logic from HTML to ES without changing semantics","msgtype":"m.text","org.matrix.msc1767.text":"this patch is all about just moving the logic from HTML to ES without changing semantics"},"ts":1658690463982,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$3LTrObRDnIjVhwHQGz23Gnoptxw8nG3hSPRqJtBrvGg"},
{"content":{"body":"I honestly don't know how we could move linking to be on-line during fetching and parsing, but maybe you see a way","msgtype":"m.text","org.matrix.msc1767.text":"I honestly don't know how we could move linking to be on-line during fetching and parsing, but maybe you see a way"},"ts":1658690501141,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$QzMv1BIE8wXU79_1gl-HJSY2aVTfj4G3gI511kXU5qE"},
{"content":{"body":"that makes sense, I guess the distinction in the iteration approach is based on that async / sync difference as well","msgtype":"m.text","org.matrix.msc1767.text":"that makes sense, I guess the distinction in the iteration approach is based on that async / sync difference as well"},"ts":1658690538713,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$umOc9NqCj2vlidAOlhk1bbKaOOLwJJLj4RG8rLBzEUo"},
{"content":{"body":"what do you mean by that?","msgtype":"m.text","org.matrix.msc1767.text":"what do you mean by that?"},"ts":1658690564258,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$RRhSMvhKxzjBUDDOEkcVtxQ2x_duWrtURbKoH5aYeZs"},
{"content":{"body":"the InnerModuleLinking algorithm is a recursive functional approach, while the new logic carries a payload state and a continuation system. They're two ways of doing the same thing it seems?","msgtype":"m.text","org.matrix.msc1767.text":"the InnerModuleLinking algorithm is a recursive functional approach, while the new logic carries a payload state and a continuation system. They're two ways of doing the same thing it seems?"},"ts":1658690653445,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$YmmjlhlXrk7Gr1ij2pGpE4lTjpiU1Rg3r_67UD8WgqU"},
{"content":{"body":"oh, yes, that's related to being async","msgtype":"m.text","org.matrix.msc1767.text":"oh, yes, that's related to being async"},"ts":1658690671848,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$JiRdCK0tVF8N0prbyFnS0YTkoCmG00ixMPXa5cxuOR0"},
{"content":{"body":"and the logic is really cribbed from HTML IIRC","msgtype":"m.text","org.matrix.msc1767.text":"and the logic is really cribbed from HTML IIRC"},"ts":1658690699353,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$f9RoEkjtig2bRjaZ-shcGoINY5f3TbQNCmVQza90Nak"},
{"content":{"body":"ah I see, didn't realise that","msgtype":"m.text","org.matrix.msc1767.text":"ah I see, didn't realise that"},"ts":1658690726084,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$YFAhHpS2wdU2QQ7Uy66CjKhvEqXvRrNvMeXEAiUTNcQ"},
{"content":{"body":"This makes sense then! I wasn't suggesting anything major, was also just interested if there were other simplifications which result for InnerModuleLinking as we do this","msgtype":"m.text","org.matrix.msc1767.text":"This makes sense then! I wasn't suggesting anything major, was also just interested if there were other simplifications which result for InnerModuleLinking as we do this"},"ts":1658690791658,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$ocCgfAKpijVXdCCgFPVncMOgFb8AOD7_G0MjvDboSZs"},
{"content":{"body":"eg if parts of what is doing in InnerModuleLinking could be brought into the loading","msgtype":"m.text","org.matrix.msc1767.text":"eg if parts of what is doing in InnerModuleLinking could be brought into the loading"},"ts":1658690803382,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$PEofWaA4aERzXLNR1nftXb7GwrkGqpSY8PdENvmTIWM"},
{"content":{"body":"maybe there are! I feel like getting all this in one place gives us more of an opportunity for that.","msgtype":"m.text","org.matrix.msc1767.text":"maybe there are! I feel like getting all this in one place gives us more of an opportunity for that."},"ts":1658690814088,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$MQR4-v66aWvXrwNV8H87F6mL20tXffIt66rDcxOni6k"}
]