[
{"content":{"body":"joyee (OOO until May 20):  Out of curiosity, do you think that once stable, the require(ESM) stuff is likely to be ported back to Node 20 or even Node 22? Trying to gauge the timeline of when TS could adopt it (sorry if this it the wrong forum). It turns out that there's some goofy things that we could actually already do today that would no longer require the `getBuiltinModule` thing, technically (e.g. an entrypoint just for node that requires the ESM TS API but polyfills the API ahead of time)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@qzhang:igalia.com\">joyee (OOO until May 20)</a>:  Out of curiosity, do you think that once stable, the require(ESM) stuff is likely to be ported back to Node 20 or even Node 22? Trying to gauge the timeline of when TS could adopt it (sorry if this it the wrong forum). It turns out that there's some goofy things that we could actually already do today that would no longer require the <code>getBuiltinModule</code> thing, technically (e.g. an entrypoint just for node that requires the ESM TS API but polyfills the API ahead of time)","m.mentions":{"user_ids":["@qzhang:igalia.com"]},"msgtype":"m.text"},"ts":1715118511453,"senderName":"jakebailey","senderId":"@jakebailey:matrix.org","id":"$PrG7n9Gh3RPuXYF2cHZ2Axn2TQg1TT_7JeIfJtRzkNM"},
{"content":{"body":" * joyee (OOO until May 20):  Out of curiosity, do you think that once stable, the require(ESM) stuff is likely to be ported back to Node 20 or even Node 18? Trying to gauge the timeline of when TS could adopt it (sorry if this it the wrong forum). It turns out that there's some goofy things that we could actually already do today that would no longer require the `getBuiltinModule` thing, technically (e.g. an entrypoint just for node that requires the ESM TS API but polyfills the API ahead of time)","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@qzhang:igalia.com\">joyee (OOO until May 20)</a>:  Out of curiosity, do you think that once stable, the require(ESM) stuff is likely to be ported back to Node 20 or even Node 18? Trying to gauge the timeline of when TS could adopt it (sorry if this it the wrong forum). It turns out that there's some goofy things that we could actually already do today that would no longer require the <code>getBuiltinModule</code> thing, technically (e.g. an entrypoint just for node that requires the ESM TS API but polyfills the API ahead of time)","m.mentions":{},"m.new_content":{"body":"joyee (OOO until May 20):  Out of curiosity, do you think that once stable, the require(ESM) stuff is likely to be ported back to Node 20 or even Node 18? Trying to gauge the timeline of when TS could adopt it (sorry if this it the wrong forum). It turns out that there's some goofy things that we could actually already do today that would no longer require the `getBuiltinModule` thing, technically (e.g. an entrypoint just for node that requires the ESM TS API but polyfills the API ahead of time)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@qzhang:igalia.com\">joyee (OOO until May 20)</a>:  Out of curiosity, do you think that once stable, the require(ESM) stuff is likely to be ported back to Node 20 or even Node 18? Trying to gauge the timeline of when TS could adopt it (sorry if this it the wrong forum). It turns out that there's some goofy things that we could actually already do today that would no longer require the <code>getBuiltinModule</code> thing, technically (e.g. an entrypoint just for node that requires the ESM TS API but polyfills the API ahead of time)","m.mentions":{"user_ids":["@qzhang:igalia.com"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$PrG7n9Gh3RPuXYF2cHZ2Axn2TQg1TT_7JeIfJtRzkNM","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1715118574952,"senderName":"jakebailey","senderId":"@jakebailey:matrix.org","id":"$gxdS5VAO32aIwKogfPSs6UgisgxoBZ2uNj0sBPwdync"},
{"content":{"body":"I think backporting to 20 should be doable. 18 requires more effort because it's a much older branch but nothing more complicated than dealing with git conflicts","m.mentions":{},"msgtype":"m.text"},"ts":1715118593158,"senderName":"joyee (OOO until May 20)","senderId":"@qzhang:igalia.com","id":"$JleVWWc21RJc2TRzP2myUPdGoGep4oY03TpGi_nb8yA"},
{"content":{"body":"Ron came up with:\n```\n// cjs stub\nrequire(\"./processPatch\");\nmodule.exports = require(\"./typescript\");\n\n// esm stub\nimport \"./processPatch\";\nexport * from \"./typescript\";\n\n ","format":"org.matrix.custom.html","formatted_body":"<p>Ron came up with:</p>\n<pre><code>// cjs stub\nrequire(\"./processPatch\");\nmodule.exports = require(\"./typescript\");\n\n// esm stub\nimport \"./processPatch\";\nexport * from \"./typescript\";\n\n \n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1715118603835,"senderName":"jakebailey","senderId":"@jakebailey:matrix.org","id":"$B3B4TSVXd4828hQfeM6D6NsckLeZgf3NljSbpDJaKvY"},
{"content":{"body":" * Ron came up with:\n\n```\n// cjs stub\nrequire(\"./processPatch\");\nmodule.exports = require(\"./typescript\");\n\n// esm stub\nimport \"./processPatch\";\nexport * from \"./typescript\";\n```\n","format":"org.matrix.custom.html","formatted_body":" * <p>Ron came up with:</p>\n<pre><code>// cjs stub\nrequire(\"./processPatch\");\nmodule.exports = require(\"./typescript\");\n\n// esm stub\nimport \"./processPatch\";\nexport * from \"./typescript\";\n</code></pre>\n","m.mentions":{},"m.new_content":{"body":"Ron came up with:\n\n```\n// cjs stub\nrequire(\"./processPatch\");\nmodule.exports = require(\"./typescript\");\n\n// esm stub\nimport \"./processPatch\";\nexport * from \"./typescript\";\n```\n","format":"org.matrix.custom.html","formatted_body":"<p>Ron came up with:</p>\n<pre><code>// cjs stub\nrequire(\"./processPatch\");\nmodule.exports = require(\"./typescript\");\n\n// esm stub\nimport \"./processPatch\";\nexport * from \"./typescript\";\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$B3B4TSVXd4828hQfeM6D6NsckLeZgf3NljSbpDJaKvY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1715118613710,"senderName":"jakebailey","senderId":"@jakebailey:matrix.org","id":"$Ls-ioglxbv9cjY0gMPSrveasoLSWgwzvIZL3rOT9Zxk"}
]