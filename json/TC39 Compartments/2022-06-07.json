[
{"content":{"body":"Hello ~","msgtype":"m.text"},"ts":1654576141191,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$4SrF2-JMf9bOgUdU1AELJu8lGENhHyb00p2cKVZ6alY"},
{"content":{"body":"In the [current](https://github.com/tc39/proposal-compartments/blob/6a180313515f6faec2818dad229e6921109b50f5/README.md) `ThirdPartyStaticModuleRecord` API, the initialize function only receives a `ModuleEnvironmentRecord` (which looks like only containing `import` and `export` bindings). There is no way to access the `globalThis` of the current executing compartment.\n\nLacking this ability make it impossible to compile a ES Module into a `ThirdPartyStaticModuleRecord`.","format":"org.matrix.custom.html","formatted_body":"<p>In the <a href=\"https://github.com/tc39/proposal-compartments/blob/6a180313515f6faec2818dad229e6921109b50f5/README.md\">current</a> <code>ThirdPartyStaticModuleRecord</code> API, the initialize function only receives a <code>ModuleEnvironmentRecord</code> (which looks like only containing <code>import</code> and <code>export</code> bindings). There is no way to access the <code>globalThis</code> of the current executing compartment.</p>\n<p>Lacking this ability make it impossible to compile a ES Module into a <code>ThirdPartyStaticModuleRecord</code>.</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"In the [current](https://github.com/tc39/proposal-compartments/blob/6a180313515f6faec2818dad229e6921109b50f5/README.md) `ThirdPartyStaticModuleRecord` API, the initialize function only receives a `ModuleEnvironmentRecord` (which looks like only containing `import` and `export` bindings). There is no way to access the `globalThis` of the current executing compartment.\n\nLacking this ability make it impossible to compile a ES Module into a `ThirdPartyStaticModuleRecord`.","mimetype":"text/plain"},{"body":"<p>In the <a href=\"https://github.com/tc39/proposal-compartments/blob/6a180313515f6faec2818dad229e6921109b50f5/README.md\">current</a> <code>ThirdPartyStaticModuleRecord</code> API, the initialize function only receives a <code>ModuleEnvironmentRecord</code> (which looks like only containing <code>import</code> and <code>export</code> bindings). There is no way to access the <code>globalThis</code> of the current executing compartment.</p>\n<p>Lacking this ability make it impossible to compile a ES Module into a <code>ThirdPartyStaticModuleRecord</code>.</p>\n","mimetype":"text/html"}]},"ts":1654577630131,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$vlMBzRHGO6gxEQBtmnUHK-gq6AU6wCvJxYacXAIbd0U"}
]