[
{"content":{"body":"Slides for the Intl MV Limit: https://docs.google.com/presentation/d/1V1BC6PtJ7-q6zVvsgKt9dcaLmIeeLnE3s8DwP4KOl7Q/edit?slide=id.p#slide=id.p","m.mentions":{},"msgtype":"m.text"},"ts":1758693349320,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$pdlcPVuFQgwaCMB6xW6OSNEi1n5bTi44m8iFwRDyZa4"},
{"content":{"body":"- Slides 4-7: IntlMVs determined from bigints are not accounted for. These mean that there is not \"a discrete, fixed set of MVs representable\", or an upper limit to the values. For instance, this works fine: `new Intl.NumberFormat().format(2n * (10n ** 308n))`.\n- Slide 6: How do you get to 20k digits with a 10k limit on significant digits?\n- Slide 7 should probably mention removing the spec-mandated limits as an alternative, even if it's not preferred.","format":"org.matrix.custom.html","formatted_body":"<ul>\n<li>Slides 4-7: IntlMVs determined from bigints are not accounted for. These mean that there is not \"a discrete, fixed set of MVs representable\", or an upper limit to the values. For instance, this works fine: <code>new Intl.NumberFormat().format(2n * (10n ** 308n))</code>.</li>\n<li>Slide 6: How do you get to 20k digits with a 10k limit on significant digits?</li>\n<li>Slide 7 should probably mention removing the spec-mandated limits as an alternative, even if it's not preferred.</li>\n</ul>\n","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$pdlcPVuFQgwaCMB6xW6OSNEi1n5bTi44m8iFwRDyZa4"}},"msgtype":"m.text"},"ts":1758699896666,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$u8JRlJQkzzSxAYI_qhSs9iY-DQ6EzNbRka8AP5R2858"},
{"content":{"body":"Slide 3 already says \"The limit currently applies only to String, not to BigInt.\" I'll try to be more clear that everything that follows also applies only to String and not BigInt.\n\n20k digits because there are 10k before the decimal point and 10k after the decimal point.\n\nOK I'll add that alternative.","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$u8JRlJQkzzSxAYI_qhSs9iY-DQ6EzNbRka8AP5R2858"}},"msgtype":"m.text"},"ts":1758724100995,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$P7zruJQ2hi-kPXvndac650jUvnlJ5gYT4_9tej1Ip-M"},
{"content":{"body":"> 20k digits because there are 10k before the decimal point and 10k after the decimal point.\n\n... of which the fraction digits will be all zeros due to the 10k significant digit limit, no?","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>20k digits because there are 10k before the decimal point and 10k after the decimal point.</p>\n</blockquote>\n<p>... of which the fraction digits will be all zeros due to the 10k significant digit limit, no?</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1758724331645,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$RqvmWmQqdusDIbx9zruv_EHT2zifkOwAL51Fq9F-hpo"},
{"content":{"body":"The significant digit limit in the PR is not 10k digits; it is up to 10k digits before the decimal separator and up to 10k digits after the decimal separator, or up to 20k total","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$RqvmWmQqdusDIbx9zruv_EHT2zifkOwAL51Fq9F-hpo"}},"msgtype":"m.text"},"ts":1758725395689,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$xhJhrsm57rFRGeaYC9Q19tfMXYt2VdV-_o7wLUAcrXc"},
{"content":{"body":"sffc:  Ok, I'd misunderstood the limits based on _q_ in the algorithm, and got confused by your use of \"significant digits\" in the slides and previously. Isn't the limit then a limit on **fraction digits** instead?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sffc:mozilla.org\">sffc</a>:  Ok, I'd misunderstood the limits based on <em>q</em> in the algorithm, and got confused by your use of \"significant digits\" in the slides and previously. Isn't the limit then a limit on <strong>fraction digits</strong> instead?","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"msgtype":"m.text"},"ts":1758725780741,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$a3fhtcL5sNFIRfPWl3k2-rCE5O8S3uHegfwGK7VbzJc"},
{"content":{"body":"I’m confused; why would the name “amount” imply arbitrary math, and what’s the danger of someone thinking it does for the 3 seconds before they realize they can’t?","msgtype":"m.text"},"ts":1758726869815,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$dTuC3lEespm2mJgGCw-_71o5sva22s_f8i36a_1aYRw"},
{"content":{"body":"(also the name is a major semantic imo and should block stage 2)","msgtype":"m.text"},"ts":1758726923426,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$YhwmthO2hxG13V-L_7d19A3kxVfCz4gOWlMa9G_jhdQ"},
{"content":{"body":"I also don't quite register that implication but I'll sympathize with the thinking, in aligment with \"naming is hard\"","m.mentions":{},"msgtype":"m.text"},"ts":1758726929718,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$WJZLp0vZpWgrzWfYAwMJBgmzqIswGVHc1ydAjZZp5_k"},
{"content":{"body":"right but what’s the problem of someone thinking that","msgtype":"m.text"},"ts":1758726967591,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Zp2zdFASu-sgPZtSqXPMt_JyX-nclOb6PeYwPKNLHMs"},
{"content":{"body":"Temporal names weren't decided until during Stage 2","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$YhwmthO2hxG13V-L_7d19A3kxVfCz4gOWlMa9G_jhdQ"}},"msgtype":"m.text"},"ts":1758726975930,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$5WXIr319PJfESZ_CzPj9tvT_zEVJ-ly90gWZfMHSxUg"},
{"content":{"body":"people intuit wrong things all the time","msgtype":"m.text"},"ts":1758726979559,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$pEMNeJRocbeQHylS5FTjyI8GgtXyFyOPG5vjcbkyA4s"},
{"content":{"body":"Eemeli reminded us that \"amount\" -- which was not the original name -- was chosen to align with `<amount>`","format":"org.matrix.custom.html","formatted_body":"Eemeli reminded us that \"amount\" -- which was not the original name -- was chosen to align with <code>&lt;amount&gt;</code>","m.mentions":{},"msgtype":"m.text"},"ts":1758726986539,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$kgPnhjpMtztLdw8FI__q2_MYySQIqT-GM0mhxWvzbCU"},
{"content":{"body":"> <@sffc:mozilla.org> Temporal names weren't decided until during Stage 2\n\nthe global “Temporal” was decided before stage 2; this isn’t within a namespace so it’s unrelated","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL%3Amatrix.org/%245WXIr319PJfESZ_CzPj9tvT_zEVJ-ly90gWZfMHSxUg\">In reply to</a> <a href=\"https://matrix.to/#/@sffc:mozilla.org\">@sffc:mozilla.org</a><br>Temporal names weren't decided until during Stage 2</blockquote></mx-reply>the global “Temporal” was decided before stage 2; this isn’t within a namespace so it’s unrelated","m.relates_to":{"m.in_reply_to":{"event_id":"$5WXIr319PJfESZ_CzPj9tvT_zEVJ-ly90gWZfMHSxUg"}},"msgtype":"m.text"},"ts":1758727011739,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ppFDiQMb1gut_OR5tkR_sP9qnFUr7R_GWx3LLBDWxLE"},
{"content":{"body":"property names on an object aren’t a major semantic; the root container of a thing is","msgtype":"m.text"},"ts":1758727067107,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$TWU-pMNRclynFrapkOBugkHAveG_6DHcUzaj7UT2q78"},
{"content":{"body":"> <@ljharb:matrix.org> people intuit wrong things all the time\n\nso why does it matter if a few people intuit the wrong thing? ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL%3Amatrix.org/%24pEMNeJRocbeQHylS5FTjyI8GgtXyFyOPG5vjcbkyA4s\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>people intuit wrong things all the time</blockquote></mx-reply>so why does it matter if a few people intuit the wrong thing?","m.relates_to":{"m.in_reply_to":{"event_id":"$pEMNeJRocbeQHylS5FTjyI8GgtXyFyOPG5vjcbkyA4s"}},"msgtype":"m.text"},"ts":1758727120294,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$NQSuGG-G9yqg4H_llsGQa6njFoEcMOk8itWfFT5uj3E"},
{"content":{"body":"my hope is that aligning with `<amount>` helps here because `<amount>` is also just basically a container","format":"org.matrix.custom.html","formatted_body":"my hope is that aligning with <code>&lt;amount&gt;</code> helps here because <code>&lt;amount&gt;</code> is also just basically a container","m.mentions":{},"msgtype":"m.text"},"ts":1758727220205,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$Wb93Ao2tD0GLYDm50bx7bNuUj5hgyjnZLrASUAP3gQc"},
{"content":{"body":"also i do not understand why we'd remove tonumber and tobigint; you can already put the string into the constructors so why make it much less ergonomic and much more likely to be done incorrectly?","m.mentions":{},"msgtype":"m.text"},"ts":1758727442063,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$GmWCIiCc38PJjFjKmvuPmsZLDxHlP_TCLb3oBluweFM"},
{"content":{"body":"eemeli I can't get on the queue right after you, but an interchange example is PostgreSQL. It supports \"number with X fractional digits\" column types, and a generic adapter can only represent it as an amount","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@eemeli:mozilla.org\">eemeli</a> I can't get on the queue right after you, but an interchange example is PostgreSQL. It supports \"number with X fractional digits\" column types, and a generic adapter can only represent it as an amount","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"msgtype":"m.text"},"ts":1758728018018,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$yWg0e-KCY0emp-ov3U7FQcBCnrj79WM98qp97A0okww"},
{"content":{"body":"Then user code decides how to interpret it","m.mentions":{},"msgtype":"m.text"},"ts":1758728022923,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Sdo3vJHTb70O3paGBr0DcuYIGyPxkx6096kkoGQi8X8"},
{"content":{"body":"Just in case you want to mention it","m.mentions":{},"msgtype":"m.text"},"ts":1758728037598,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$mX0AtKDujGqUFdo9iUPnJj9KScWerceo0fAa428udsU"},
{"content":{"body":"more precisely, number with total digit count X with a fixed relationship to the decimal point: https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-NUMERIC-DECIMAL","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$yWg0e-KCY0emp-ov3U7FQcBCnrj79WM98qp97A0okww"}},"msgtype":"m.text"},"ts":1758728344627,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$J7dLyTwakU5vHx2iIjgQK7fTf11r6EG3tKkhLy0TdZY"},
{"content":{"body":"Should we ask for Stage 2?","m.mentions":{},"msgtype":"m.text"},"ts":1758729447853,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$aseWLOv6mLAzzTKNp6Pb-_PNS1GWb8zu5q_9HuyNeoA"},
{"content":{"body":"In a continuation","m.mentions":{},"msgtype":"m.text"},"ts":1758729677719,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$cG6UbMZ1gSm21HPDrn31DavfNUK1BNaa7US3OQ8hQxw"},
{"content":{"body":"have we been listening to the same topic?","m.mentions":{},"msgtype":"m.text"},"ts":1758729714369,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Im1l7QLmdtHDsO2CqOTbhr30A3jcOHZZEkQqqLYXsaA"},
{"content":{"body":"Do we think a continuation is going to help convincing more people? The only thing that I think we could still explore is showing how annoying math is to the V8 team, even with toNumber()","m.mentions":{},"msgtype":"m.text"},"ts":1758729733873,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$RcIQYQKzjbAy2y9z6TBkq4Gi7LB4TgY5-C3BDGo0jM8"},
{"content":{"body":"multiple delegates have expressed that they're unconvinced this is better than \"an object shape\", and i've indicated that the root name is a major semantic blocking stage 2","m.mentions":{},"msgtype":"m.text"},"ts":1758729779191,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$kRp36YNP7vOGK45Dd65XSgZKQteIZsPjWlgvnPVI-0Y"},
{"content":{"body":"I got the impression that the name isn't much of an issue; that is, the idea of renaming wouldn't be a solution","m.mentions":{},"msgtype":"m.text"},"ts":1758729921172,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$8mUJlakAMp1aDzcL9q4qJpS2a1Yn-EMw4rukHIgQp1g"},
{"content":{"body":"I think we should present again the unit conversions proposal, asking:\n\n- do we want this\n- if so, where would we put it","format":"org.matrix.custom.html","formatted_body":"<p>I think we should present again the unit conversions proposal, asking:</p>\n<ul>\n<li>do we want this</li>\n<li>if so, where would we put it</li>\n</ul>\n","m.mentions":{},"msgtype":"m.text"},"ts":1758729932065,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$U6n6Lvo8xtkjYzxHVjtkhJmGD79K5eMxVR15OlrlaXQ"},
{"content":{"body":"Because that answers:\n- why not just a protocol\n- why not in Intl\n\nAnd I was hoping that plain Amount is sufficiently self-motivated","format":"org.matrix.custom.html","formatted_body":"<p>Because that answers:</p>\n<ul>\n<li>why not just a protocol</li>\n<li>why not in Intl</li>\n</ul>\n<p>And I was hoping that plain Amount is sufficiently self-motivated</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1758729965618,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$jzD9gFs8rSnnhfprQRBdz_-ENbe2CYve9nHEHbVZm1o"},
{"content":{"body":"But that would show why you need _something_ to attach things on","format":"org.matrix.custom.html","formatted_body":"But that would show why you need <em>something</em> to attach things on","m.mentions":{},"msgtype":"m.text"},"ts":1758729976881,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$9h2c_StCgOxH6yggwp0U7rOVK23xQbv0sjVGS6WBwYo"},
{"content":{"body":"I think there's still headroom to get an understanding between the V8 position and the Jordan position","m.mentions":{},"msgtype":"m.text"},"ts":1758731193984,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$G81knkhMiUO6bBhWhXpgdwkcg5KyjoFrDTx3PdgUzos"},
{"content":{"body":"My read of the room is that V8 is the only stakeholder who doesn't agree with the name Amount. Is that right?","m.mentions":{},"msgtype":"m.text"},"ts":1758735781817,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$rvdRbj0qRmu0luF99caI0arczo_GuEwQQsoFKBSY3hA"},
{"content":{"body":"That appears to be correct","m.mentions":{},"msgtype":"m.text"},"ts":1758735828573,"senderName":"Ben Allen","senderId":"@benallen:igalia.com","id":"$TLWQPnylJBGa92aHhkxz_27bVQJOog8QM1seCfwIYiI"},
{"content":{"body":"Ok so putting the name aside, V8 _seems_ okay with Amount as proposed if it has only toString, resulting in code such as `Number.parseFloat(amount.toString())` if someone wanted to make it into a Number. (Number.parseFloat conveniently appears to ignores annotations)","format":"org.matrix.custom.html","formatted_body":"Ok so putting the name aside, V8 <em>seems</em> okay with Amount as proposed if it has only toString, resulting in code such as <code>Number.parseFloat(amount.toString())</code> if someone wanted to make it into a Number. (Number.parseFloat conveniently appears to ignores annotations)","m.mentions":{},"msgtype":"m.text"},"ts":1758736010221,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$NcNkaX_6lM7hcGhNzRMjPAp81bqZF4056vYKuXiiwYg"},
{"content":{"body":"Besides trying to address V8's position, I think this is _better than_ Amount.prototype.toNumber() because it makes it explicit that rounding/truncation might happen","format":"org.matrix.custom.html","formatted_body":"Besides trying to address V8's position, I think this is <em>better than</em> Amount.prototype.toNumber() because it makes it explicit that rounding/truncation might happen","m.mentions":{},"msgtype":"m.text"},"ts":1758736090825,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$tse39UjIM4iB1Rr1SYGjCghLm0jWKhMJ4HgvxDTWw2s"},
{"content":{"body":"Also, my read of the last 20 minutes of discussion is that there's risk to introducing a protocol _without_ introducing a primordial, as we learned with Iterator. Is that right? Does that address Kevin's concern, or does he still prefer the protocol-only approach?","format":"org.matrix.custom.html","formatted_body":"Also, my read of the last 20 minutes of discussion is that there's risk to introducing a protocol <em>without</em> introducing a primordial, as we learned with Iterator. Is that right? Does that address Kevin's concern, or does he still prefer the protocol-only approach?","m.mentions":{},"msgtype":"m.text"},"ts":1758736642405,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$OKz2Qv5090uTNPzObh-L4wJ-CsxmNR5GTOZZBGJVucA"},
{"content":{"body":"This proposal is getting to the point where it may appear to some like we're flailing and wasting committee time, but every time we engage in discussion, we _are_ making progress. It's just a really hard problem to solve.\\","format":"org.matrix.custom.html","formatted_body":"This proposal is getting to the point where it may appear to some like we're flailing and wasting committee time, but every time we engage in discussion, we <em>are</em> making progress. It's just a really hard problem to solve.\\","m.mentions":{},"msgtype":"m.text"},"ts":1758737088090,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$qbkDOL7OtOJ3wPUviODfLKR-Z_9sZ-KGJv4etp2ZgFI"},
{"content":{"body":"that's also my read of the situation","m.mentions":{},"msgtype":"m.text"},"ts":1758737088331,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$q4edA-GiaIs1cTCSgfQP3nfkdZCmMUbsaazZ0DiRZzM"},
{"content":{"body":"but it's phrased in such a way that I'm not confident that he'd be *ok* with a primordial","format":"org.matrix.custom.html","formatted_body":"but it's phrased in such a way that I'm not confident that he'd be <em>ok</em> with a primordial","m.mentions":{},"msgtype":"m.text"},"ts":1758737135784,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$CpnBsO1pLAwnz4N2JVgjSEaqhBlLpt5M1DoNoEQ-yoU"},
{"content":{"body":"What's our plan for unit conversion methods? Because if we want those on the prototype, that might be something to convince Kevin that we shouldn't do the protocol-only approach now","msgtype":"m.text"},"ts":1758737250339,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$i_Rz11CK9V2qML5mTu3-4W3e7cAu9wwNxdTCInKzVSs"},
{"content":{"body":"I thought there some examples in the old measure slides & README","m.mentions":{},"msgtype":"m.text"},"ts":1758737280532,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$lSI_nsrd1XRRhgybQbhMUCHQO0kr9pfsfUaeu0q9nvg"},
{"content":{"body":"like `new Amount(\"123.456\", { unit: \"km\" }).convetTo(\"mile\")` IIRC?","format":"org.matrix.custom.html","formatted_body":"like <code>new Amount(\"123.456\", { unit: \"km\" }).convetTo(\"mile\")</code> IIRC?","m.mentions":{},"msgtype":"m.text"},"ts":1758737320910,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$HNMJ6t-RrTUZoeQtb2-Uue0Fin4cB3krs7qKtAG94Xg"},
{"content":{"body":"I guess? But we have to be careful also to not imply \"this proposal is motivated by a future proposal\"","msgtype":"m.text"},"ts":1758737359319,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$kxIqGwe32fiCS20aYlyn_a1m5PCKmEDvrTIMmtR4Xrs"},
{"content":{"body":"I thought one skinny version of that involved just SI units (hence no \"mile\", etc.)","m.mentions":{},"msgtype":"m.text"},"ts":1758737373743,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$81QC8ekjlkri3SYHDuymnKiWw4Y20Bc3X9WnY3OQ7R8"},
{"content":{"body":"right","m.mentions":{},"msgtype":"m.text"},"ts":1758737381331,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$ZfpgJFHssb0bxot3morRCqmd85o8NAF_TlV7B5RIxIU"},
{"content":{"body":"How's the current plenary topic going? Unfortunately it's going to be a little bit still until when I'm back","msgtype":"m.text"},"ts":1758737413500,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$3fJ2_Yvs17-N7LBb3uSoyrRLszgOJL3NG-N2eYhGpps"},
{"content":{"body":"typical security discussions: going long","m.mentions":{},"msgtype":"m.text"},"ts":1758737426452,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$ctIgB_tWJ1x0DRx5wv_jW53dydVq_f9NkIybZU8Zl2w"},
{"content":{"body":"it seems like it'll be going for a while","m.mentions":{},"msgtype":"m.text"},"ts":1758737426675,"senderName":"Ben Allen","senderId":"@benallen:igalia.com","id":"$uMUJv6Yl6V7ht4xrABBW9au2nqi8l0Xb7bRNUZ_PINI"},
{"content":{"body":"One way to motivate a reified Amount with unit conversion would be to propose `usage` as an Intl.NumberFormat c'tor option. In a separate proposal, mind.","msgtype":"m.text"},"ts":1758737899400,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$q5hGeLRz_5fqzYZSoYTsorRLki8dOwafstxB3d2VJA0"},
{"content":{"body":"I.e. the Intl part of Smart Units.","msgtype":"m.text"},"ts":1758737935998,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$eueYZSPMzhoP53g1hL0g10DldFV1f7brBf70OWejHIM"},
{"content":{"body":"v8 hasn't made it clear why the name Amount is actually a problem btw - iow, what is the risk they see in someone having incorrect expectations that are immediately disproven when they interact with the api?","m.mentions":{},"msgtype":"m.text"},"ts":1758738214663,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$NrjgVUHyK-ipRUQZinFu3DUGnmQzFvlysySWrvcJPWE"},
{"content":{"body":"I understood the concern to be that Amount starts a slippery slope to new arithmetic.","msgtype":"m.text"},"ts":1758738290206,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$qkQlpYqBvNsTgExRT1DJ-b533KGSyXNILcQOya5Kcu4"},
{"content":{"body":"\"slippery slope\" is also the most well-known logical fallacy, so i'd hope they have a better leg to stand on","m.mentions":{},"msgtype":"m.text"},"ts":1758738320284,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$lE_s8O9vtE8r8ZwRx-kFPGVqI9vZFBKdzmsdto8K9Ok"},
{"content":{"body":"in a world with both Amount and Decimal, I would hope that programmers who might *think* they want arithmetic on Amount would discover arithmetic on Decimal, which I imagine is probably what they're looking for in most cases","format":"org.matrix.custom.html","formatted_body":"in a world with both Amount and Decimal, I would hope that programmers who might <em>think</em> they want arithmetic on Amount would discover arithmetic on Decimal, which I imagine is probably what they're looking for in most cases","m.mentions":{},"msgtype":"m.text"},"ts":1758738890719,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$lmBrmM4LvxGtRV5Im244Jfb7QLAoj6BntFOHs0mbn_E"},
{"content":{"body":"Here's a comment that might clarify:\n> one concern with Amount is that it's somewhat overly generic, as evidenced by the observation that people have all sorts of expectations of what an Amount type should be able to do. For example, you have to explicitly tell them that Smart Units is a separate proposal. This is relevant because at the same time there are concerns that some of these expected use cases have questionable value and/or feasibility. So one way to decrease resistance is to make it clearer what the proposal is about by making the name more specific. And one of several ways of making it more specific is to make it at least hint at the use case. (I'm not saying that's the only or the best way; in fact perhaps NumberWithUnit would be preferable precisely because it's more neutral, more just-the-facts; OTOH it doesn't include the precision which IIUC is a big part of what motivates you personally to pursue this, and NumberWithUnitAndPrecision is getting rather unwieldy.)","format":"org.matrix.custom.html","formatted_body":"<p>Here's a comment that might clarify:</p>\n<blockquote>\n<p>one concern with Amount is that it's somewhat overly generic, as evidenced by the observation that people have all sorts of expectations of what an Amount type should be able to do. For example, you have to explicitly tell them that Smart Units is a separate proposal. This is relevant because at the same time there are concerns that some of these expected use cases have questionable value and/or feasibility. So one way to decrease resistance is to make it clearer what the proposal is about by making the name more specific. And one of several ways of making it more specific is to make it at least hint at the use case. (I'm not saying that's the only or the best way; in fact perhaps NumberWithUnit would be preferable precisely because it's more neutral, more just-the-facts; OTOH it doesn't include the precision which IIUC is a big part of what motivates you personally to pursue this, and NumberWithUnitAndPrecision is getting rather unwieldy.)</p>\n</blockquote>\n","m.mentions":{},"msgtype":"m.text"},"ts":1758739047130,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$q5aLef9D7htPNogJlzcEc-oxkjIeKq5eBzF6aqO3_14"},
{"content":{"body":"and they'd just `.toDecimal()` and do the math anyways, in that world","format":"org.matrix.custom.html","formatted_body":"and they'd just <code>.toDecimal()</code> and do the math anyways, in that world","m.mentions":{},"msgtype":"m.text"},"ts":1758739057131,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$TtRlaoU2eVml9Z6As1WahODejOand-jIvc_IdfmD56I"},
{"content":{"body":"but what is the *concrete damage* feared from it being overly generic?","format":"org.matrix.custom.html","formatted_body":"but what is the <em>concrete damage</em> feared from it being overly generic?","m.mentions":{},"msgtype":"m.text"},"ts":1758739090554,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$CdNSvjVSh0n1Zdn651GxQ3RJgQAW3PBjUp4g0DU0eeU"},
{"content":{"body":"iow, ok, some people might have wrong expectations. why should i care about that?","m.mentions":{},"msgtype":"m.text"},"ts":1758739103452,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$_EHx038GQVSanhT1fLzdtsMTZT_BRA-Cp8Lffz6q1Rw"},
{"content":{"body":"there's lots of things people expect to be able to do and then are sad to find out they can't or shouldn't. as long as that's not the majority, that's _fine_","format":"org.matrix.custom.html","formatted_body":"there's lots of things people expect to be able to do and then are sad to find out they can't or shouldn't. as long as that's not the majority, that's <em>fine</em>","m.mentions":{},"msgtype":"m.text"},"ts":1758739170165,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$eg4KRChDT-m3fXFCvCVKyNUVlQQht3gP8J-cdeMAmtU"},
{"content":{"body":"* there's lots of things people expect to be able to do and then are sad to find out they can't or shouldn't. as long as that's not the majority, that's _fine_. and if they want to be able to do it, or to \"should\" do it, then that's what new proposals are for","format":"org.matrix.custom.html","formatted_body":"* there's lots of things people expect to be able to do and then are sad to find out they can't or shouldn't. as long as that's not the majority, that's <em>fine</em>. and if they want to be able to do it, or to \"should\" do it, then that's what new proposals are for","m.mentions":{},"m.new_content":{"body":"there's lots of things people expect to be able to do and then are sad to find out they can't or shouldn't. as long as that's not the majority, that's _fine_. and if they want to be able to do it, or to \"should\" do it, then that's what new proposals are for","format":"org.matrix.custom.html","formatted_body":"there's lots of things people expect to be able to do and then are sad to find out they can't or shouldn't. as long as that's not the majority, that's <em>fine</em>. and if they want to be able to do it, or to \"should\" do it, then that's what new proposals are for","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$eg4KRChDT-m3fXFCvCVKyNUVlQQht3gP8J-cdeMAmtU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1758739187118,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$IWsP3xMVMBVhgcMzRsa9MpqqWl9QATOQCCMqVUtZURQ"},
{"content":{"body":"well, we *did* start with \"Measure\", which is (imo) a good suggestive name","format":"org.matrix.custom.html","formatted_body":"well, we <em>did</em> start with \"Measure\", which is (imo) a good suggestive name","m.mentions":{},"msgtype":"m.text"},"ts":1758739229997,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$d5DRfOthGcUoCbO7ABP5a5uY7E79rm1R6oTJ9ERaAQY"},
{"content":{"body":"The position as I understand it is that it's good language design to lead people in the right direction and bad language design to mislead people.","m.mentions":{},"msgtype":"m.text"},"ts":1758739482000,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$JueChdrQP5kzERgZ5KzG53MqvA5mkbFUgapkul4fXpI"},
{"content":{"body":"in the Prior Art issue it looks like \"quantity\" occurs pretty frequently","m.mentions":{},"msgtype":"m.text"},"ts":1758739713918,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$Kqs5wL0ovYrUJtVgJRGyngDHfumB6hxGDs7FxMQtNHU"},
{"content":{"body":"maybe we could embrace the concern about \"arbitraryt math\" and say sure, we might end up doing a linear transformation (a*x + b) from one amount to another, but that's it","m.mentions":{},"msgtype":"m.text"},"ts":1758739772126,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$wq7Xpbh8wUnkB-iG8ZHPqFSA6nMhmg4qJHe4Mb5HI4c"},
{"content":{"body":"If we do want to emphasize that this isn't meant for arithmetic, we should just call it Intl.Amount.","m.mentions":{},"msgtype":"m.text"},"ts":1758739772584,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$u8XUKPy6uIsoQvg3w9Asn8yGKnuD_I_mA3TjXT6Up4E"},
{"content":{"body":"(thninking ahead to unit conversion)","m.mentions":{},"msgtype":"m.text"},"ts":1758739779440,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$78nPA0qUi16sfIWJa2g-llLGQLlJYx6QAzPaY38OOic"},
{"content":{"body":"I understand API misleading people, but \"Amount\" doesn't tell me \"math\" more than any of the other names (even NumberWithUnit) do","msgtype":"m.text"},"ts":1758739890015,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$nVMjnalE_nTXdTvoK_Q8_GUr7BgO0_yZ3_G7oCa44BU"},
{"content":{"body":"I agree, but there's at least one person on the V8 team who think that Amount does imply more. It might be something we can iterate on offline.","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$nVMjnalE_nTXdTvoK_Q8_GUr7BgO0_yZ3_G7oCa44BU"}},"msgtype":"m.text"},"ts":1758739959314,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$sWFD0yWeiV_kvxto2TWHr99UlsYx8jGFREP02imvP8Q"},
{"content":{"body":"I would actually say that anything that contains Number or similar in the name makes me think more of math","msgtype":"m.text"},"ts":1758739995491,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$HeGA4BVTL6NUWT1b2E04EXw6K9Lliwk2B9bHksSjZNM"},
{"content":{"body":"Btw, I've generated a concern for myself about the meaning of this:\n```\nlet nf = new Intl.NumberFormat('en', { style: 'percent' })\nnf.format(new Amount(0.1234, { fractionDigits: 2 }))\nnf.format({ value: 0.1234, fractionDigits: 2 })\n```\nshould either/both of those format as `12%` or `12.34%`? If we consider an object protocol, that is.","format":"org.matrix.custom.html","formatted_body":"<p>Btw, I've generated a concern for myself about the meaning of this:</p>\n<pre><code>let nf = new Intl.NumberFormat('en', { style: 'percent' })\nnf.format(new Amount(0.1234, { fractionDigits: 2 }))\nnf.format({ value: 0.1234, fractionDigits: 2 })\n</code></pre>\n<p>should either/both of those format as <code>12%</code> or <code>12.34%</code>? If we consider an object protocol, that is.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1758740007729,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$t_jGVvqPoVbqWPhrSx7Fhzto9bxb8CZmP_c3r3rJEIQ"},
{"content":{"body":"concretely, could we just iterate on a list? We did present that in the 1st continuation today is the name issue","m.mentions":{},"msgtype":"m.text"},"ts":1758740009060,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$4BVsYewfsECm9N1ZVhObr3ZIeAG_OzCAKilVXd4A6OU"},
{"content":{"body":"(I guess that's probably a good thing -- opportunity for endless bikeshedding)","m.mentions":{},"msgtype":"m.text"},"ts":1758740026473,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$v95Ds2dEAL73i5BB5pIxiskHssaKN6mLyboZdNcqQ3g"},
{"content":{"body":"> <@eemeli:mozilla.org> Btw, I've generated a concern for myself about the meaning of this:\n> ```\n> let nf = new Intl.NumberFormat('en', { style: 'percent' })\n> nf.format(new Amount(0.1234, { fractionDigits: 2 }))\n> nf.format({ value: 0.1234, fractionDigits: 2 })\n> ```\n> should either/both of those format as `12%` or `12.34%`? If we consider an object protocol, that is.\n\nI'd say 12%","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL:matrix.org/$t_jGVvqPoVbqWPhrSx7Fhzto9bxb8CZmP_c3r3rJEIQ?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@eemeli:mozilla.org\">@eemeli:mozilla.org</a><br /><p>Btw, I've generated a concern for myself about the meaning of this:</p>\n<pre><code>let nf = new Intl.NumberFormat('en', { style: 'percent' })\nnf.format(new Amount(0.1234, { fractionDigits: 2 }))\nnf.format({ value: 0.1234, fractionDigits: 2 })\n</code></pre>\n<p>should either/both of those format as <code>12%</code> or <code>12.34%</code>? If we consider an object protocol, that is.</p>\n</blockquote></mx-reply>I'd say 12%","m.relates_to":{"m.in_reply_to":{"event_id":"$t_jGVvqPoVbqWPhrSx7Fhzto9bxb8CZmP_c3r3rJEIQ"}},"msgtype":"m.text"},"ts":1758740038392,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$CGByWYVl3fkRlHFZ59QBR7GhotPYUCBBl3fN8YoMw5s"},
{"content":{"body":"i agree. but i think that the vast majority of people won't be misled here.","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$JueChdrQP5kzERgZ5KzG53MqvA5mkbFUgapkul4fXpI"}},"msgtype":"m.text"},"ts":1758740178914,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$x1OIdQluTjg8RXN9TQF4N1r2HSOSsd0TWWrKRFH4TJg"},
{"content":{"body":"then it's not meant for non-intl use cases, which is inaccurate.","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$u8XUKPy6uIsoQvg3w9Asn8yGKnuD_I_mA3TjXT6Up4E"}},"msgtype":"m.text"},"ts":1758740198150,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$9gSFAhf_HtOuhiOURt9zRiaLSZBmPki7Dr7efj0cves"},
{"content":{"body":"right but there will always be nonzero people who have incorrect expectations. that's notable but shouldn't ever force a rename","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$sWFD0yWeiV_kvxto2TWHr99UlsYx8jGFREP02imvP8Q"}},"msgtype":"m.text"},"ts":1758740227705,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$5CnNNH-hqUSlf_uVFKGFnlT-2PxCOS3dtCGEzHsqgxw"},
{"content":{"body":"iow just with our sample size of 100ish, it sounds like only 1-2 people might have the incorrect expectation here, and that seems perfectly acceptable to me","m.mentions":{},"msgtype":"m.text"},"ts":1758740273740,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$V8Cqik6LV4Eac2Qk7JmkWlXohX7D1wp4SIR8aujmjNk"},
{"content":{"body":"* iow just with our sample size of 100ish, it sounds like only 1-2 people might have the incorrect expectation here, and that seems perfectly acceptable to me, esp when there's no equally good alternative","m.mentions":{},"m.new_content":{"body":"iow just with our sample size of 100ish, it sounds like only 1-2 people might have the incorrect expectation here, and that seems perfectly acceptable to me, esp when there's no equally good alternative","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$V8Cqik6LV4Eac2Qk7JmkWlXohX7D1wp4SIR8aujmjNk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1758740291243,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$eAMsG8DKap0lqG83kg3zTMCAbIeOoHYNdh9uSxAXzb4"}
]