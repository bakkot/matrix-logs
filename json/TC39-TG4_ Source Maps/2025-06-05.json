[
{"content":{"body":"In the current sourcemap spec, for the specific case of an inline sourcemap (embedded in the executable JS via Base64 for example), is there a way to reference the current file without knowing it's name? ","msgtype":"m.text"},"ts":1749106900537,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$ujPzmNXfV2LbrEDBgx9RriOadC6x2UBSaZAYQUroXa8"},
{"content":{"body":"Specifically I wonder if \"file\" or \"sources\" can use the value \".\"","msgtype":"m.text"},"ts":1749106929196,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$nac9rReuQjy4ztxe-pexGS4fb1yXlzIJtpRsZ2Pmgfs"},
{"content":{"body":"* In the current sourcemap spec, for the specific case of an inline sourcemap (embedded in the executable JS via Base64 for example), is there a way to reference the current file without knowing its name? ","m.new_content":{"body":"In the current sourcemap spec, for the specific case of an inline sourcemap (embedded in the executable JS via Base64 for example), is there a way to reference the current file without knowing its name? ","msgtype":"m.text"},"m.relates_to":{"event_id":"$ujPzmNXfV2LbrEDBgx9RriOadC6x2UBSaZAYQUroXa8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1749107004868,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$GHmF_Gq3F-qHNJCx7CGp_2wbcoDeLg_R4fCQSs62PCM"},
{"content":{"body":"No. The meaning of the \"file\" field is currently left up to whoever is using the source map.\n \nIf I were to implement it \".\" wouldn't work, because I would resolve it as `new URL(\".\", generatedFile)` which would strip the last segment from the generated file URL. However, `new URL(\"\", generatedFile)` returns generatedFile, so maybe \"\" works. But it's unspecified.","format":"org.matrix.custom.html","formatted_body":"No. The meaning of the \"file\" field is currently left up to whoever is using the source map.<br /><br />If I were to implement it \".\" wouldn't work, because I would resolve it as `new URL(\".\", generatedFile)` which would strip the last segment from the generated file URL. However, `new URL(\"\", generatedFile)` returns generatedFile, so maybe \"\" works. But it's unspecified.","msgtype":"m.text"},"ts":1749107220183,"senderName":"Nic","senderId":"@nribaudo:igalia.com","id":"$aB_uMntvWWZyuNlpdaZnEKcwISi3rS0Q6Na5Y5qA0ms"},
{"content":{"body":"For sources that might actually work, because we define URL resolution for them","format":"org.matrix.custom.html","formatted_body":"For sources that might actually work, because we define URL resolution for them","msgtype":"m.text"},"ts":1749107309931,"senderName":"Nic","senderId":"@nribaudo:igalia.com","id":"$0Ozv7Odk6k8ojVZnu_vjUjnDg0X6MBar8pEZ7r31PVQ"},
{"content":{"body":"The spec seems to indicate URLs are permitted for both fields. ","msgtype":"m.text"},"ts":1749107331975,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$gF4LI42vDCDMqfImdLrP7sMZeGQCcyeCHbd_BoS-jiM"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1749107347038,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$cCAanPqYftUUGyUNOb2PNnkP9GAEF7bxRcCfNmuc3l0"},
{"content":{"body":"You are right","msgtype":"m.text"},"ts":1749107350545,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$IcbO4tXvzkf28KnwHe4UvTr5Lo8R_FT9KzIwcfcvDUw"},
{"content":{"body":"Do you think we could enhance the spec to formalise the empty string as a self-reference? ","msgtype":"m.text"},"ts":1749107412045,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$Upu37PQ_lcS7K-k01bfzjfuZMEfD9j060HjYSySZSjM"},
{"content":{"body":"(at least for the case of an inline sourcemap) ","msgtype":"m.text"},"ts":1749107431548,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$t-pb3uf7_JIPQPbO0yFHZb6L20XxyCxAYBQepOOrWvY"},
{"content":{"body":"I need to double check for the current spec for sources actually implies that \"\" works, and if it does we can just add a note","format":"org.matrix.custom.html","formatted_body":"I need to double check for the current spec for sources actually implies that \"\" works, and if it does we can just add a note","msgtype":"m.text"},"ts":1749107526049,"senderName":"Nic","senderId":"@nribaudo:igalia.com","id":"$q1rKAhXi1TNMcmp8Vt0LsWoTn3q5yGhcqE9zOvC2gbI"},
{"content":{"body":"That would be excellent! ","msgtype":"m.text"},"ts":1749107549623,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$T4SPe_kLhi3t-6D9d_EP6y1qYcfqtVXr70uQB2j4woU"},
{"content":{"body":"For file, it might be more difficult because I fear that the reason it's currently unspecified is that we don't know how tools use it, or worse that they disagree","format":"org.matrix.custom.html","formatted_body":"For file, it might be more difficult because I fear that the reason it's currently unspecified is that we don't know how tools use it, or worse that they disagree","msgtype":"m.text"},"ts":1749107556273,"senderName":"Nic","senderId":"@nribaudo:igalia.com","id":"$sMbDp3GSVgutUq9OAHMrYP5E4JH7AORdD2MOFwo55JU"}
]