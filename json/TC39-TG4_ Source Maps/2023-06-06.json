[
{"content":{"body":"> <@jackworks:matrix.org> if the current way (location only mapping) can work with modern needs, that's good.\n> but if we eventually found we're adding too much deferents and epicycles, I hope we can drop it and build a new thing\n\nI believe you always need source mappings. Both DWARF and PDB debug info formats contain similar info to mappings. As for binary/text - the difference in sizes is small if you compress the payload. A naively designed binary format can actually be less compressible than a source map. In fact, the encoding of positions in source maps is quite efficient compared to DWARF (mostly because of poor design for encoding columns in DWARF).\n\nIf you are talking about names specifically, there is a DWARF inspired proposal to encode the names and scopes - https://github.com/source-map/source-map-rfc/blob/main/proposals/env.md. That encoding allows expressions for Bindings - this should allow encoding the imported name bindings (but is less expressive and harder to work with  than DWARF).","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!GURLmrBmuNjUaqboWr:matrix.org/$2M_rC1LEqX-VboRV0s9EyNgUj0RNnCxWqVLEEKrbWs8?via=matrix.org&via=igalia.com&via=swatinem.de\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>if the current way (location only mapping) can work with modern needs, that&#39;s good.<br/>but if we eventually found we&#39;re adding too much deferents and epicycles, I hope we can drop it and build a new thing</blockquote></mx-reply><p>I believe you always need source mappings. Both DWARF and PDB debug info formats contain similar info to mappings. As for binary/text - the difference in sizes is small if you compress the payload. A naively designed binary format can actually be less compressible than a source map. In fact, the encoding of positions in source maps is quite efficient compared to DWARF (mostly because of poor design for encoding columns in DWARF).</p>\n<p>If you are talking about names specifically, there is a DWARF inspired proposal to encode the names and scopes - https://github.com/source-map/source-map-rfc/blob/main/proposals/env.md. That encoding allows expressions for Bindings - this should allow encoding the imported name bindings (but is less expressive and harder to work with  than DWARF).</p>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$2M_rC1LEqX-VboRV0s9EyNgUj0RNnCxWqVLEEKrbWs8"}},"msgtype":"m.text"},"ts":1686037713439,"senderName":"Jaroslav Sevcik","senderId":"@jarin.sevcik:matrix.org","id":"$BeevTHQYO8rTVJBefPWHZh1qYtaF26Cr2y9AeVpsaws"},
{"content":{"body":"Jaroslav Sevcik: It sounds like you did some pretty significant research on this topic; maybe you could share your results in some more detail, either async or in an upcoming call?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jarin.sevcik:matrix.org\">Jaroslav Sevcik</a>: It sounds like you did some pretty significant research on this topic; maybe you could share your results in some more detail, either async or in an upcoming call?","msgtype":"m.text"},"ts":1686039092055,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$RR3wMLFral_Yg_hiWJwxsIeBBUZR-lqPDXqKiKVI6-Y"},
{"content":{"body":"> <@littledan:matrix.org> Jaroslav Sevcik: It sounds like you did some pretty significant research on this topic; maybe you could share your results in some more detail, either async or in an upcoming call?\n\nSure, I am happy to talk about the DWARF/source-map line table size experiments I have done. It would be also good to hear from \nswatinem \nAs for the scopes/names proposal, this is the one that Holger builds upon in https://github.com/source-map/source-map-rfc/issues/37.\n\n","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!GURLmrBmuNjUaqboWr:matrix.org/$RR3wMLFral_Yg_hiWJwxsIeBBUZR-lqPDXqKiKVI6-Y?via=matrix.org&via=igalia.com&via=swatinem.de\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br><a href=\"https://matrix.to/#/@jarin.sevcik:matrix.org\">Jaroslav Sevcik</a>: It sounds like you did some pretty significant research on this topic; maybe you could share your results in some more detail, either async or in an upcoming call?</blockquote></mx-reply>Sure, I am happy to talk about the DWARF/source-map line table size experiments I have done. It would be also good to hear from<br><a href=\"https://matrix.to/#/@swatinem:swatinem.de\">swatinem</a><br>As for the scopes/names proposal, this is the one that Holger builds upon in https://github.com/source-map/source-map-rfc/issues/37.","m.relates_to":{"m.in_reply_to":{"event_id":"$RR3wMLFral_Yg_hiWJwxsIeBBUZR-lqPDXqKiKVI6-Y"}},"msgtype":"m.text"},"ts":1686059923448,"senderName":"Jaroslav Sevcik","senderId":"@jarin.sevcik:matrix.org","id":"$-UOMtXwkGYzJfknKDA0ib95I4QjcAGvtw7z1fw7AxaU"},
{"content":{"body":"(Sent too early) It would be good to hear from swatinem about their requirements on fast lookup. Since Chrome DevTools alway downloads the entire source map anyway, building a lookup index is a relatively small overhead.","format":"org.matrix.custom.html","formatted_body":"(Sent too early) It would be good to hear from <a href=\"https://matrix.to/#/@swatinem:swatinem.de\">swatinem</a> about their requirements on fast lookup. Since Chrome DevTools alway downloads the entire source map anyway, building a lookup index is a relatively small overhead.","msgtype":"m.text"},"ts":1686060156266,"senderName":"Jaroslav Sevcik","senderId":"@jarin.sevcik:matrix.org","id":"$0hpmJO_vD7AA6qvsOLWrlT8n7GK5vo6zRkksHdXgsP0"}
]