[
{"content":{"body":"just throwing this out there as you are discussing binary encoding…\nfor resolving stack traces, one of the priorities is random access and quick binary searching. a highly compressed format like vlq is good if you optimize for file size, but you gotta parse the whole thing at once to be able to look up a single position in it","msgtype":"m.text"},"ts":1685733598881,"senderName":"swatinem","senderId":"@swatinem:swatinem.de","id":"$66b-iu1SUeiVMIlBBSgaAuCerCaLiR3x0HbEgy8kg7c"},
{"content":{"body":"at Sentry we created the `SourceMapCache` which serves that purpose. it can be loaded in `O(1)` time, and you can binary search one mapping in it directly. it is however not optimized for file size, quite the opposite, it might be larger than the original sourcemap, though I haven’t done real comparisons there","format":"org.matrix.custom.html","formatted_body":"at Sentry we created the <code>SourceMapCache</code> which serves that purpose. it can be loaded in <code>O(1)</code> time, and you can binary search one mapping in it directly. it is however not optimized for file size, quite the opposite, it might be larger than the original sourcemap, though I haven’t done real comparisons there","msgtype":"m.text"},"ts":1685733699655,"senderName":"swatinem","senderId":"@swatinem:swatinem.de","id":"$Q9-lQznPipasNscl6_ntJvR5G3JIGLg-9AS9EFgFpaQ"},
{"content":{"body":"Depending on the output file, we could include a side-table that records the cumulative data for the start of each line","msgtype":"m.text"},"ts":1685733881387,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$ay7y3UheCHZRlOLml1wOcNZ0JG8K749HyvpXGyeLwTo"},
{"content":{"body":"Though that wouldn’t help for output files with excessively long lines, it would allow you to scan for `;` in the VLQ and only decode the appropriate line","format":"org.matrix.custom.html","formatted_body":"Though that wouldn’t help for output files with excessively long lines, it would allow you to scan for <code>;</code> in the VLQ and only decode the appropriate line","msgtype":"m.text"},"ts":1685733959009,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$Uk5nLDbbpv_-k56S37Ynxo6PUxE4UL8FA2YEwNvgJPE"},
{"content":{"body":"(I wish minifiers used new lines and relied on ASI instead out using semicolons and continuing the same line)","msgtype":"m.text"},"ts":1685734042372,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$IaW5ITTxEvL3-QlAEdH9rZZ5wiI6T068GmHNVhYtKVg"},
{"content":{"body":"* (I wish minifiers used new lines and relied on ASI instead of using semicolons and continuing the same line)","m.new_content":{"body":"(I wish minifiers used new lines and relied on ASI instead of using semicolons and continuing the same line)","msgtype":"m.text"},"m.relates_to":{"event_id":"$IaW5ITTxEvL3-QlAEdH9rZZ5wiI6T068GmHNVhYtKVg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1685734056088,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$zAAbIAgPpmXofgc6ctA1FdL-Ra1i0bseV-a4_s6xLts"}
]