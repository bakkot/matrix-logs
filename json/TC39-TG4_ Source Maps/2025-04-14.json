[
{"content":{"body":"Chrome attempts to load the source map via the inspected page itself at first. So if the page fails to `fetch` the source map, so will Chrome DevTools","format":"org.matrix.custom.html","formatted_body":"Chrome attempts to load the source map via the inspected page itself at first. So if the page fails to <code>fetch</code> the source map, so will Chrome DevTools","m.mentions":{"user_ids":["@43081j:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$TSTPLvFFPph3Q4K9hNv_6hPUN99_UFOQnlKV-eMo-ws"}},"msgtype":"m.text"},"ts":1744603200432,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$DvD-4p3LXLD3zKV9wvHX_IskrDsyo2klX0suZym6GUk"},
{"content":{"body":"interesting. the error isn't of any use really (\"unexpected error\" or some such thing). but im guessing its a cross-origin thing then","m.mentions":{},"msgtype":"m.text"},"ts":1744617158664,"senderName":"James","senderId":"@43081j:matrix.org","id":"$REXmDjX2OYhXKKJGondlwEJmNrEyVI0AG0Zc6xDUMtU"},
{"content":{"body":"in this case im also using devtools for node, so there is no 'page'. not sure what the rules are then, i.e. what is the origin etc","m.mentions":{},"msgtype":"m.text"},"ts":1744617280747,"senderName":"James","senderId":"@43081j:matrix.org","id":"$SQRbwVtyhyHHnTwfVDt_gtxkf7cJ-9qvQfv5LotyEWI"},
{"content":{"body":"i imagine debug IDs will make this a lot easier one day if someone hosts a server to look them up ðŸ˜…","m.mentions":{},"msgtype":"m.text"},"ts":1744617510103,"senderName":"James","senderId":"@43081j:matrix.org","id":"$mV3fLnSFHQFxd8X8lE-vQkqPtJvn-ONYE_XYQKKyADY"},
{"content":{"body":"The problems that debug IDs are solving is distinguishing two different source maps that are hosted at the same URL (for example, because you updated your code and rebuild the source map). With the default devtools behavior, if you are already including the version of the file in the URL you are fetching then also having the ID is probably not super helpful.","format":"org.matrix.custom.html","formatted_body":"The problems that debug IDs are solving is distinguishing two different source maps that are hosted at the same URL (for example, because you updated your code and rebuild the source map). With the default devtools behavior, if you are already including the version of the file in the URL you are fetching then also having the ID is probably not super helpful.","msgtype":"m.text"},"ts":1744617831371,"senderName":"Nic","senderId":"@nribaudo:igalia.com","id":"$o08GUwD_ot2F6bmf9zCkQESvy_OUa2H-vCnEt9_4f90"},
{"content":{"body":"If Chrome devtools have problems fetching those source maps however, you might take a look at the extensions API mentioned in https://github.com/tc39/ecma426/issues/185","format":"org.matrix.custom.html","formatted_body":"If Chrome devtools have problems fetching those source maps however, you might take a look at the extensions API mentioned in https://github.com/tc39/ecma426/issues/185","msgtype":"m.text"},"ts":1744617858838,"senderName":"Nic","senderId":"@nribaudo:igalia.com","id":"$crEblTOFn7C7zoBD4rBG_-hPDP1bz70hS6hieVufjjI"},
{"content":{"body":"It's possible you might just do the fetching by yourself through a browser extensionÂ ","format":"org.matrix.custom.html","formatted_body":"It's possible you might just do the fetching by yourself through a browser extensionÂ ","msgtype":"m.text"},"ts":1744617872292,"senderName":"Nic","senderId":"@nribaudo:igalia.com","id":"$f5EuoJB6nzojaQpxlLrutHRfyBztPIqhfsXbnO_sLmU"},
{"content":{"body":"What's asked in the last question there seems to be exactly what you are trying to do","format":"org.matrix.custom.html","formatted_body":"What's asked in the last question there seems to be exactly what you are trying to do","msgtype":"m.text"},"ts":1744617904413,"senderName":"Nic","senderId":"@nribaudo:igalia.com","id":"$3gGl5jWxhORLZFT3AHA23kCmZQUEQgP81pqXnrgCIB4"},
{"content":{"body":"pretty much. we have a tool now which transforms sourcemap urls to CDN hosted ones. if devtools were capable of loading them, all would be solved (and made easier one day by standards ideally)","m.mentions":{},"msgtype":"m.text"},"ts":1744618231664,"senderName":"James","senderId":"@43081j:matrix.org","id":"$T7Gzbr-rNbiHp00l1-NOIJbTVlckbbS6MxSp1wYWLa4"},
{"content":{"body":"ill see if i can pester someone who knows more about node devtools than i do. i.e. any limits on requests etc, what origin it is","m.mentions":{},"msgtype":"m.text"},"ts":1744618326305,"senderName":"James","senderId":"@43081j:matrix.org","id":"$Ba97qcmgZNo99AthO6tRODB9s_e0GLpn9SAuEwLAGkY"},
{"content":{"body":"DevTools basically first attempts to call the `Network.loadNetworkResource` CDP method https://chromedevtools.github.io/devtools-protocol/tot/Network/#method-loadNetworkResource","format":"org.matrix.custom.html","formatted_body":"DevTools basically first attempts to call the <code>Network.loadNetworkResource</code> CDP method https://chromedevtools.github.io/devtools-protocol/tot/Network/#method-loadNetworkResource","m.mentions":{},"msgtype":"m.text"},"ts":1744620906575,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$gXttUif21A6h8kr08tnl5Qy8VjnlohGBZtfLLhc_0DY"},
{"content":{"body":"So it depends whether Node implements that or not","m.mentions":{},"msgtype":"m.text"},"ts":1744620914537,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$sK4a9w13MBuH_eoMIqxlskqUnohr1IwsrMhjG4w9zQ0"},
{"content":{"body":"If that fails, we try a different approach by attempting to fetch it ourselves but with some of the target permissions applied","m.mentions":{},"msgtype":"m.text"},"ts":1744620943477,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$5zWoVPfQKZIx103POBQcQxMVkQFTFdzHwJDjEUXUCU0"},
{"content":{"body":"Let me dig up the code","m.mentions":{},"msgtype":"m.text"},"ts":1744620949222,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$PeCKDoX0g_JPbtMbyV_wnxUXgsnV1pM45nR4FaB0gBc"},
{"content":{"body":"https://source.chromium.org/chromium/chromium/src/+/main:chrome/browser/devtools/devtools_ui_bindings.cc;l=1116;drc=e005c381337ad6a2312cafa0202f80b7950afbe1","m.mentions":{},"msgtype":"m.text"},"ts":1744620997101,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$nyWJBXQwI5BXjL-onzx4uba5VtAhDFbwVz-WGaULon0"},
{"content":{"body":"That is the fallback if going through the inspected page fails","m.mentions":{},"msgtype":"m.text"},"ts":1744621008843,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$_9w_tz4DLeSW41ApXi5s9jLPsgKNxQXnZxd0q15IzqQ"},
{"content":{"body":"e.g. DevTools can load source maps from `file:///` URLs and it uses the fallback for that","format":"org.matrix.custom.html","formatted_body":"e.g. DevTools can load source maps from <code>file:///</code> URLs and it uses the fallback for that","m.mentions":{},"msgtype":"m.text"},"ts":1744621023656,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$-O01NUpGmPDW7HYHnY3ZEqIxxmg7QrWbvbjLJJAzEuY"},
{"content":{"body":"I imagine that because Node.js only recently started implementing the CDP `Network` domain, we always used the fallback for node.js debugging","format":"org.matrix.custom.html","formatted_body":"I imagine that because Node.js only recently started implementing the CDP <code>Network</code> domain, we always used the fallback for node.js debugging","m.mentions":{},"msgtype":"m.text"},"ts":1744621047952,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$7BfztxVzJ6OCdKxsr21nIoA_6OAWwwYw2YiWonPF1Rc"},
{"content":{"body":"Note that cross-origin source maps are somewhat common, but the server serving the source maps needs to have CORS configured to allow fetching from cross-origins","m.mentions":{},"msgtype":"m.text"},"ts":1744621287244,"senderName":"Simon ZÃ¼nd","senderId":"@szuend:matrix.org","id":"$MIQuporbL411nHQpTfxUgyuMxqChpXbzFK3jD-kyBzA"},
{"content":{"body":"so its possible node/devtools just never attempts to load external maps? thanks so much for the info too. was looking for that c file for a while ðŸ˜…","m.mentions":{},"msgtype":"m.text"},"ts":1744621451524,"senderName":"James","senderId":"@43081j:matrix.org","id":"$ay9QU5tBkcnuav5mFzUR4DSQ19VdDMR_MHFeNUM8Wxw"}
]