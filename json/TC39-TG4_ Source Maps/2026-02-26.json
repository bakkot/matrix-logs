[
{"content":{"body":"Hey all, I'm taking a look into inlining and scopes for generated code, and I got a bit confused with this example: https://github.com/hbenl/tc39-proposal-scope-mapping/blob/master/test/getOriginalFrames/inline-into-function.test.ts. There we have a call chain of toplevel -> outer -> inner -> log. My confusion is that with the ranges we are using for the scope in this test, we skip inner fully. Which means that if we place a bp on line 3 (first line of log), the stack will have something like log <-outer<-toplevel. Was it intentional to skip inner there?","m.mentions":{},"msgtype":"m.text"},"ts":1772112666751,"senderName":"Caio Lima","senderId":"@caiolima:igalia.com","id":"$jnJZsH3F2BQQJk72Qrl6nDbjkvxhekOg6Xrot3bh2n4"},
{"content":{"body":"I don't think we're skipping inner: the ranges contain two callsites (for inner and log) and getOriginalFrames() does contain a frame for inner: https://github.com/hbenl/tc39-proposal-scope-mapping/blob/50d3c7b7c52a1876100867925f2038b94e04ef31/test/getOriginalFrames/inline-into-function.test.ts#L244-L249","m.mentions":{},"m.relates_to":{"event_id":"$jnJZsH3F2BQQJk72Qrl6nDbjkvxhekOg6Xrot3bh2n4","is_falling_back":true,"m.in_reply_to":{"event_id":"$jnJZsH3F2BQQJk72Qrl6nDbjkvxhekOg6Xrot3bh2n4"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1772113056620,"senderName":"Holger Benl","senderId":"@holger_benl:matrix.org","id":"$tm5Wgw0Jsk9c9VXwcdxwPvUyKVnJuNkBUx5LkpUQ6Xo"},
{"content":{"body":"Or do you mean the input for getOriginalFrames()? That only contains one frame but the test shows that getOriginalFrames() will recreate the frames for inner and log from that.","m.mentions":{},"m.relates_to":{"event_id":"$jnJZsH3F2BQQJk72Qrl6nDbjkvxhekOg6Xrot3bh2n4","is_falling_back":true,"m.in_reply_to":{"event_id":"$tm5Wgw0Jsk9c9VXwcdxwPvUyKVnJuNkBUx5LkpUQ6Xo"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1772113197613,"senderName":"Holger Benl","senderId":"@holger_benl:matrix.org","id":"$9AVJKfRstNvdUGEaH_W1VaMosrgpvIWGxFVxPEQYzM0"},
{"content":{"body":"Hi folks, scopes meeting is starting soon!","m.mentions":{},"msgtype":"m.text"},"ts":1772125177070,"senderName":"asumu","senderId":"@atakikawa:igalia.com","id":"$-3HgRtaZVqZa0IEW9QRqDxVtmkdmzDxT9NkAeWzmagA"}
]