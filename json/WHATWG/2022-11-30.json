[
{"content":{"body":"https://stackoverflow.com/questions/74624587/how-to-get-resource-timing-api-entry-without-including-resource-scheduling-time (for anybody here whoâ€™s familiar with the Resource Timing API and might be able to answer)","msgtype":"m.text","org.matrix.msc1767.text":"https://stackoverflow.com/questions/74624587/how-to-get-resource-timing-api-entry-without-including-resource-scheduling-time (for anybody here whoâ€™s familiar with the Resource Timing API and might be able to answer)"},"ts":1669797939206,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$wKxviM39T3NYeEWfbMXrgBD_r5h4DUiBIBcnZEOn9r4"},
{"content":{"body":"Domenic: I filed https://github.com/whatwg/html/issues/8563 on the `window.name` thing after conforming it's indeed on navigable now","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I filed https://github.com/whatwg/html/issues/8563 on the <code>window.name</code> thing after conforming it's indeed on navigable now","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: I filed https://github.com/whatwg/html/issues/8563 on the `window.name` thing after conforming it's indeed on navigable now","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I filed https://github.com/whatwg/html/issues/8563 on the <code>window.name</code> thing after conforming it's indeed on navigable now","mimetype":"text/html"}]},"ts":1669799269411,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$5st1oVe3Z0ezJF9YuSUNeU9_m4SS1wMrCwic6iUEaHo"},
{"content":{"body":"johannhof: you might wanna find a W3C channel for that question; WHATWG doesn't use ReSpec","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@johannhof:matrix.org\">johannhof</a>: you might wanna find a W3C channel for that question; WHATWG doesn't use ReSpec","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"johannhof: you might wanna find a W3C channel for that question; WHATWG doesn't use ReSpec","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@johannhof:matrix.org\">johannhof</a>: you might wanna find a W3C channel for that question; WHATWG doesn't use ReSpec","mimetype":"text/html"}]},"ts":1669799334408,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$XZWASqWZM7GNOWlzBj3LQTjWDFzWGJq4HeI2HkOjIC8"},
{"content":{"body":"Noam Rosenthal: how would opt-out work? Are only 2xx responses ever cached?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: how would opt-out work? Are only 2xx responses ever cached?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: how would opt-out work? Are only 2xx responses ever cached?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: how would opt-out work? Are only 2xx responses ever cached?","mimetype":"text/html"}]},"ts":1669799403459,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$BIVZ80hWojOxYD31AmhdVxR6ML2JnhFUrKQj3OZKZK8"},
{"content":{"body":"Noam Rosenthal: anyway, thanks, that helps! Adding a note somewhere to explain the purpose of the purpose header would be nice I think, once we decide how to specify it.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: anyway, thanks, that helps! Adding a note somewhere to explain the purpose of the purpose header would be nice I think, once we decide how to specify it.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: anyway, thanks, that helps! Adding a note somewhere to explain the purpose of the purpose header would be nice I think, once we decide how to specify it.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: anyway, thanks, that helps! Adding a note somewhere to explain the purpose of the purpose header would be nice I think, once we decide how to specify it.","mimetype":"text/html"}]},"ts":1669799467358,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$7iMLzNbEpLZfqh4dZZJ6D5gmP4eq6bSwA00DVHYEWUA"},
{"content":{"body":"salty-horse: it's an opportunity! HTML was abandoned too at some point and that led to the WHATWG. ðŸ˜Š","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@salty-horse:matrix.org\">salty-horse</a>: it's an opportunity! HTML was abandoned too at some point and that led to the WHATWG. ðŸ˜Š","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"salty-horse: it's an opportunity! HTML was abandoned too at some point and that led to the WHATWG. ðŸ˜Š","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@salty-horse:matrix.org\">salty-horse</a>: it's an opportunity! HTML was abandoned too at some point and that led to the WHATWG. ðŸ˜Š","mimetype":"text/html"}]},"ts":1669799571914,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$CKEGWKPQLoLhygYiOrOp6upTwh7Nd9TpqkUUJhC0dxM"},
{"content":{"body":"I forgot we also have disowned??? This really seems like too much state... How much would break if we just collapsed this into \"opener browsing context\"...","msgtype":"m.text","org.matrix.msc1767.text":"I forgot we also have disowned??? This really seems like too much state... How much would break if we just collapsed this into \"opener browsing context\"..."},"ts":1669805188065,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$D6p9Ov6RRH7YD24OiVqxK_RIElFnSiMsWw-WIdnl29Q"},
{"content":{"body":"Domenic: I recall when I last looked at this with Nika we found that Gecko at least had all these bits","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I recall when I last looked at this with Nika we found that Gecko at least had all these bits","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: I recall when I last looked at this with Nika we found that Gecko at least had all these bits","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I recall when I last looked at this with Nika we found that Gecko at least had all these bits","mimetype":"text/html"}]},"ts":1669806495177,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$cT98ntPvaz4jj6cnNElegiBKF8Odz1yW-vFcfuwMD6o"},
{"content":{"body":"Domenic: as in, I think there are code paths that grab the opener even when JS can no longer access it","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: as in, I think there are code paths that grab the opener even when JS can no longer access it","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: as in, I think there are code paths that grab the opener even when JS can no longer access it","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: as in, I think there are code paths that grab the opener even when JS can no longer access it","mimetype":"text/html"}]},"ts":1669806529200,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$cZ5i0G-gBEcy2CPIBNMhjYY2IFmH5Cv2DeBOGKnQQGs"},
{"content":{"body":"Domenic: solving 313 and seeing what changes we can make might be a way out, but getting anyone to invest in that issue is like pulling teeth :-(","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: solving 313 and seeing what changes we can make might be a way out, but getting anyone to invest in that issue is like pulling teeth :-(","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: solving 313 and seeing what changes we can make might be a way out, but getting anyone to invest in that issue is like pulling teeth :-(","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: solving 313 and seeing what changes we can make might be a way out, but getting anyone to invest in that issue is like pulling teeth :-(","mimetype":"text/html"}]},"ts":1669806571677,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$HO4Kq20IiI7utgcrATB8zm7sGlbei_puTNf_P1guCkA"},
{"content":{"body":"You should give it a go? I'll support!","msgtype":"m.text","org.matrix.msc1767.text":"You should give it a go? I'll support!"},"ts":1669809506252,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$K18zkWcnxLiUfiojmsyypV3X4SsXE0nO0OtfZAlL1EY"},
{"content":{"body":"> <@annevk:matrix.org> johannhof: you might wanna find a W3C channel for that question; WHATWG doesn't use ReSpec\n\nI see, thanks. Jeffrey seems to have found the culprit though https://github.com/w3c/webref/issues/807#issue-1468584050 ðŸ˜Š","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$XZWASqWZM7GNOWlzBj3LQTjWDFzWGJq4HeI2HkOjIC8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br /><a href=\"https://matrix.to/#/@johannhof:matrix.org\">johannhof</a>: you might wanna find a W3C channel for that question; WHATWG doesn't use ReSpec</blockquote></mx-reply>I see, thanks. Jeffrey seems to have found the culprit though https://github.com/w3c/webref/issues/807#issue-1468584050 ðŸ˜Š","m.relates_to":{"m.in_reply_to":{"event_id":"$XZWASqWZM7GNOWlzBj3LQTjWDFzWGJq4HeI2HkOjIC8"}},"msgtype":"m.text"},"ts":1669809771411,"senderName":"johannhof","senderId":"@johannhof:matrix.org","id":"$XRcfi-X5VTUEn9M33G3y5i8FnVMZxAxMexAxPaA4JAs"},
{"content":{"body":"> <@annevk:matrix.org> Noam Rosenthal: anyway, thanks, that helps! Adding a note somewhere to explain the purpose of the purpose header would be nice I think, once we decide how to specify it.\n\nI will add a note. Regarding opt-out, one can send `Cache-Control: no-store` when they get that header.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$7iMLzNbEpLZfqh4dZZJ6D5gmP4eq6bSwA00DVHYEWUA?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: anyway, thanks, that helps! Adding a note somewhere to explain the purpose of the purpose header would be nice I think, once we decide how to specify it.</blockquote></mx-reply>I will add a note. Regarding opt-out, one can send <code>Cache-Control: no-store</code> when they get that header.","m.relates_to":{"m.in_reply_to":{"event_id":"$7iMLzNbEpLZfqh4dZZJ6D5gmP4eq6bSwA00DVHYEWUA"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:matrix.org> Noam Rosenthal: anyway, thanks, that helps! Adding a note somewhere to explain the purpose of the purpose header would be nice I think, once we decide how to specify it.\n\nI will add a note. Regarding opt-out, one can send `Cache-Control: no-store` when they get that header.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$7iMLzNbEpLZfqh4dZZJ6D5gmP4eq6bSwA00DVHYEWUA?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: anyway, thanks, that helps! Adding a note somewhere to explain the purpose of the purpose header would be nice I think, once we decide how to specify it.</blockquote></mx-reply>I will add a note. Regarding opt-out, one can send <code>Cache-Control: no-store</code> when they get that header.","mimetype":"text/html"}]},"ts":1669813201674,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$fgU71dIdw5y7QCnSVQgQV4Tnzx3taprvoQXasVLOEgI"},
{"content":{"body":"thanks!","msgtype":"m.text","org.matrix.msc1767.text":"thanks!"},"ts":1669813209607,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$brivMSf1rGdqbhJlcb-6B-3tr71mKuu_v_lDd6odZ20"},
{"content":{"body":"Noam Rosenthal: hmm, will that bypass all memory caches appropriately?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: hmm, will that bypass all memory caches appropriately?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: hmm, will that bypass all memory caches appropriately?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: hmm, will that bypass all memory caches appropriately?","mimetype":"text/html"}]},"ts":1669814812821,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Fsp8F9-zPRZrvuba_VyBdg0O6D16EZZC03mHcj6wYK0"},
{"content":{"body":"annevk: prefetch doesn't touch the memory cache","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: prefetch doesn't touch the memory cache","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: prefetch doesn't touch the memory cache","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: prefetch doesn't touch the memory cache","mimetype":"text/html"}]},"ts":1669814835054,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$SvkFt09GiCXcSEe_Okjj8STVU6AART0zJzfMlC4w4MA"},
{"content":{"body":"it's just a nudge to the HTTP cache","msgtype":"m.text","org.matrix.msc1767.text":"it's just a nudge to the HTTP cache"},"ts":1669814849708,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$vyeVXHssRmTZs5F_mDBYGBc8EqPVdgLuMWEmh4PDB1s"},
{"content":{"body":"so if you set a no-store, the next fetch would get it from the network again","msgtype":"m.text","org.matrix.msc1767.text":"so if you set a no-store, the next fetch would get it from the network again"},"ts":1669814871794,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$HkfWuAYH9IuM6EEJ_UZQp4XLtxg0ve0OY7XOxZcFclU"},
{"content":{"body":"it's totally how it works today","msgtype":"m.text","org.matrix.msc1767.text":"it's totally how it works today"},"ts":1669814877828,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$ldrfPPnJ-OUWEwZeXNwjqALrbnFBOxqhXkrjFN5A0Bw"},
{"content":{"body":"... memory caches are resource-type-specific and prefetch has no resource-type","msgtype":"m.text","org.matrix.msc1767.text":"... memory caches are resource-type-specific and prefetch has no resource-type"},"ts":1669814902099,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$mTd1ZsRYMWULl_6ZQXNOgTwhhZFCk5CTGkEJzjx-jj0"},
{"content":{"body":"annevk: added a Fetch-Metadata issue for setting the header, https://github.com/w3c/webappsec-fetch-metadata/issues/84. The description there lists the use cases for the header","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: added a Fetch-Metadata issue for setting the header, https://github.com/w3c/webappsec-fetch-metadata/issues/84. The description there lists the use cases for the header","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: added a Fetch-Metadata issue for setting the header, https://github.com/w3c/webappsec-fetch-metadata/issues/84. The description there lists the use cases for the header","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: added a Fetch-Metadata issue for setting the header, https://github.com/w3c/webappsec-fetch-metadata/issues/84. The description there lists the use cases for the header","mimetype":"text/html"}]},"ts":1669814946448,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$MtNKdD-rq6ZS8yKffZiGtHRyVqYs0aELKJ3UYWS98vM"},
{"content":{"body":"Noam Rosenthal: well, but a naÃ¯ve service worker would cache it, no?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: well, but a naÃ¯ve service worker would cache it, no?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: well, but a naÃ¯ve service worker would cache it, no?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: well, but a naÃ¯ve service worker would cache it, no?","mimetype":"text/html"}]},"ts":1669814950726,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$aWZ6zlPAWkf4RLPCRJDPi9HSrmSwPXB4UMO9fQEgnvg"},
{"content":{"body":"annevk: sure. I don't think that's a problem","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: sure. I don't think that's a problem","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: sure. I don't think that's a problem","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: sure. I don't think that's a problem","mimetype":"text/html"}]},"ts":1669814999877,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$sOGuddu0jOx1w7mTPhu9qUYZJqrqJ4OGl4SgXLmEibI"},
{"content":{"body":"if the service wants to opt-out of HTTP caching and the service worker overrides it, the service-worker gets precedence","msgtype":"m.text","org.matrix.msc1767.text":"if the service wants to opt-out of HTTP caching and the service worker overrides it, the service-worker gets precedence"},"ts":1669815032590,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$hH0o5Ah2rUezTRCERzuYbbgDmtSupgtYxMZjZmKZcHw"},
{"content":{"body":"would also recommend to send a 204 so that a very naive SW would not cache it","msgtype":"m.text","org.matrix.msc1767.text":"would also recommend to send a 204 so that a very naive SW would not cache it"},"ts":1669815059209,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$oeTlIbn87srBrPQZP-f3p3zXU8-5FAMuc8y9wJ12Rzo"},
{"content":{"body":"I think 204 might still be cached? You'd want a 400 or something.","msgtype":"m.text","org.matrix.msc1767.text":"I think 204 might still be cached? You'd want a 400 or something."},"ts":1669815079185,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$VZMfCKM-1yWi7mHTMazzd_tYuUtIYf2zBFvZb8SFVRE"},
{"content":{"body":"(That's why I was asking above about status.)","msgtype":"m.text","org.matrix.msc1767.text":"(That's why I was asking above about status.)"},"ts":1669815090937,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$FU53zFfd87Ti3TLcBZm-KxGqmodHWYh_4qTkD5QB6UQ"},
{"content":{"body":"service workers can still cache 4xx/5xx if they want to","msgtype":"m.text","org.matrix.msc1767.text":"service workers can still cache 4xx/5xx if they want to"},"ts":1669815138764,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$KwGMTRwvxgHUyuX2c5KraF6bhhrf7Krw_HeUV-K_gWc"},
{"content":{"body":"> If responseâ€™s type is \"error\", or responseâ€™s status is not an ok status or is 206, reject responsePromise with a TypeError.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>If responseâ€™s type is &quot;error&quot;, or responseâ€™s status is not an ok status or is 206, reject responsePromise with a TypeError.</p>\n</blockquote>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> If responseâ€™s type is \"error\", or responseâ€™s status is not an ok status or is 206, reject responsePromise with a TypeError.","mimetype":"text/plain"},{"body":"<blockquote>\n<p>If responseâ€™s type is &quot;error&quot;, or responseâ€™s status is not an ok status or is 206, reject responsePromise with a TypeError.</p>\n</blockquote>\n","mimetype":"text/html"}]},"ts":1669815394246,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$WOs-j8BkYZDf7HxjuSNUZ0lLg3ABSpITTAqRFgPZZT4"},
{"content":{"body":"I guess with `put()` they still can if they really wanted to. Hmm.","format":"org.matrix.custom.html","formatted_body":"I guess with <code>put()</code> they still can if they really wanted to. Hmm.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I guess with `put()` they still can if they really wanted to. Hmm.","mimetype":"text/plain"},{"body":"I guess with <code>put()</code> they still can if they really wanted to. Hmm.","mimetype":"text/html"}]},"ts":1669815472276,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$mJrLR8gc9o9z1s-jxxo9JL8G_SQ_zDxeZYvePqqWsIw"},
{"content":{"body":"annevk: I'm not opposed to adding another error condition for `put()` where if the request's initiator is `prefetch` and the status is 204","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I'm not opposed to adding another error condition for <code>put()</code> where if the request's initiator is <code>prefetch</code> and the status is 204","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: I'm not opposed to adding another error condition for `put()` where if the request's initiator is `prefetch` and the status is 204","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I'm not opposed to adding another error condition for <code>put()</code> where if the request's initiator is <code>prefetch</code> and the status is 204","mimetype":"text/html"}]},"ts":1669815838505,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$-54nM7lpE8yT46vQLpsDN9UCfY0LOS6AVCIZ1CGdVXI"},
{"content":{"body":"... but ok, I think it's ok if the documentation for now suggests a `503` status code","format":"org.matrix.custom.html","formatted_body":"... but ok, I think it's ok if the documentation for now suggests a <code>503</code> status code","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"... but ok, I think it's ok if the documentation for now suggests a `503` status code","mimetype":"text/plain"},{"body":"... but ok, I think it's ok if the documentation for now suggests a <code>503</code> status code","mimetype":"text/html"}]},"ts":1669815866291,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Dkt9ctKA4ImhP0CfrkfwHO0r4hPtDzbLGkEqOB9Ig_8"},
{"content":{"body":"I dunno if that's needed, but definitely want to be cautious with documentation around this","msgtype":"m.text","org.matrix.msc1767.text":"I dunno if that's needed, but definitely want to be cautious with documentation around this"},"ts":1669815920054,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$hfZTQesr_xCKCS86kK695MHrEur0JtXUkoNlUsEXq5w"},
{"content":{"body":"sure thing. I think that once everyone aligns on the details we'll write something to help avoid footguns with this","msgtype":"m.text","org.matrix.msc1767.text":"sure thing. I think that once everyone aligns on the details we'll write something to help avoid footguns with this"},"ts":1669815979413,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$QV-fCA8VQNqIT8jF16YROzj96nDsXJzdXcgtgthtcOI"},
{"content":{"body":" * sure thing. I think that once everyone aligns on the details we'll write something to help avoid footguns with this","m.new_content":{"body":"sure thing. I think that once everyone aligns on the details we'll write something to help avoid footguns with this","msgtype":"m.text","org.matrix.msc1767.text":"sure thing. I think that once everyone aligns on the details we'll write something to help avoid footguns with this"},"m.relates_to":{"event_id":"$QV-fCA8VQNqIT8jF16YROzj96nDsXJzdXcgtgthtcOI","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * sure thing. I think that once everyone aligns on the details we'll write something to help avoid footguns with this"},"ts":1669815986556,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$7BuVrYkPlaLnZ_t2Q9EbJawMsQZMGcgK_sL68LnJX1c"},
{"content":{"body":"smaug: thoughts on https://github.com/whatwg/html/issues/8544#issuecomment-1326103455?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: thoughts on https://github.com/whatwg/html/issues/8544#issuecomment-1326103455?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug: thoughts on https://github.com/whatwg/html/issues/8544#issuecomment-1326103455?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: thoughts on https://github.com/whatwg/html/issues/8544#issuecomment-1326103455?","mimetype":"text/html"}]},"ts":1669819786233,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$6cZMhPEf6JIKq3hViyTLSWN6OCiXJlVdQEurpXeF5Gc"},
{"content":{"body":"annevk: any shadow tree?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: any shadow tree?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: any shadow tree?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: any shadow tree?","mimetype":"text/html"}]},"ts":1669819879543,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$ztVbrToATWyDz7sNj59fGznCsVDlFwWCTSw9cUs2CJ8"},
{"content":{"body":"ah, I guess one needs to have access to those anyhow","msgtype":"m.text","org.matrix.msc1767.text":"ah, I guess one needs to have access to those anyhow"},"ts":1669819947944,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$mpN_U8QIObfgIAK1sXxIhDKqiS_y83EgetEXzLHgKqM"},
{"content":{"body":"smaug: yeah so in this case the script has access to elementInternals and some same-document shadow trees","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: yeah so in this case the script has access to elementInternals and some same-document shadow trees","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug: yeah so in this case the script has access to elementInternals and some same-document shadow trees","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: yeah so in this case the script has access to elementInternals and some same-document shadow trees","mimetype":"text/html"}]},"ts":1669819990604,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$FnpT8fI_py45wpVrc1IjCm5uJSLf3jqgOAijA86N5Cc"},
{"content":{"body":"smaug: I guess the question is how likely is it that there's some other script that also has access to elementInternals but not those other same-document shadow trees","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: I guess the question is how likely is it that there's some other script that also has access to elementInternals but not those other same-document shadow trees","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug: I guess the question is how likely is it that there's some other script that also has access to elementInternals but not those other same-document shadow trees","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: I guess the question is how likely is it that there's some other script that also has access to elementInternals but not those other same-document shadow trees","mimetype":"text/html"}]},"ts":1669820013113,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$GoC7wYPrMAMHnoP98g85NIpCR0Jb4Pnlfn5HfwZKeyc"},
{"content":{"body":"smaug: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","mimetype":"text/html"}]},"ts":1669820034639,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$K3AhUn1NjnQrEu8m4Sdm8W-5jXVKNQ_lFOQdi-jRRlM"},
{"content":{"body":" * smaug: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","m.new_content":{"body":"smaug: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$K3AhUn1NjnQrEu8m4Sdm8W-5jXVKNQ_lFOQdi-jRRlM","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * smaug: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","mimetype":"text/plain"},{"body":" * <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: given elementInternals.shadowRoot it's pretty clear we can at the very least expose that one","mimetype":"text/html"}]},"ts":1669820047371,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$yQq7oZ7nExNgMy6HTb8rmfMRVtVrfjG16uBGLw2mkOQ"},
{"content":{"body":"I've always considered elementInternals as a thing which is , well, internal. If you give it to outside world, you've lost the encapsulation, or you've given rights to access the internals by the parties which you trust.","msgtype":"m.text","org.matrix.msc1767.text":"I've always considered elementInternals as a thing which is , well, internal. If you give it to outside world, you've lost the encapsulation, or you've given rights to access the internals by the parties which you trust."},"ts":1669820135518,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$f4bCvlAtKQWO3W0ab0mn9gI70aCmBFBhEqE-S-NQ1Hc"},
{"content":{"body":"smaug: and \"trust\" in that case includes shadow tree references they may or may not have then? That was my thinking too","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: and &quot;trust&quot; in that case includes shadow tree references they may or may not have then? That was my thinking too","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug: and \"trust\" in that case includes shadow tree references they may or may not have then? That was my thinking too","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: and &quot;trust&quot; in that case includes shadow tree references they may or may not have then? That was my thinking too","mimetype":"text/html"}]},"ts":1669820232483,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$DqojaW2ev6wB2V00v9q8p1ZAp13RqLGlm7xdZASr0gY"},
{"content":{"body":"> <@annevk:matrix.org> Domenic: I recall when I last looked at this with Nika we found that Gecko at least had all these bits\n\nIIRC we definitely track at least \"had original opener\", but I don't think we track who the opener is after disowning it?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$cT98ntPvaz4jj6cnNElegiBKF8Odz1yW-vFcfuwMD6o?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I recall when I last looked at this with Nika we found that Gecko at least had all these bits</blockquote></mx-reply>IIRC we definitely track at least &quot;had original opener&quot;, but I don't think we track who the opener is after disowning it?","m.relates_to":{"m.in_reply_to":{"event_id":"$cT98ntPvaz4jj6cnNElegiBKF8Odz1yW-vFcfuwMD6o"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:matrix.org> Domenic: I recall when I last looked at this with Nika we found that Gecko at least had all these bits\n\nIIRC we definitely track at least \"had original opener\", but I don't think we track who the opener is after disowning it?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$cT98ntPvaz4jj6cnNElegiBKF8Odz1yW-vFcfuwMD6o?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I recall when I last looked at this with Nika we found that Gecko at least had all these bits</blockquote></mx-reply>IIRC we definitely track at least &quot;had original opener&quot;, but I don't think we track who the opener is after disowning it?","mimetype":"text/html"}]},"ts":1669825659740,"senderName":"nika","senderId":"@nika:mozilla.org","id":"$zNwTDoxWzgqEWp3_rYDOABQcHRxWyTL0zunquHVVz54"},
{"content":{"body":"nika: oh hey! So potentially the opener field got be \"none\", \"disowned\", actual reference?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@nika:mozilla.org\">nika</a>: oh hey! So potentially the opener field got be &quot;none&quot;, &quot;disowned&quot;, actual reference?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"nika: oh hey! So potentially the opener field got be \"none\", \"disowned\", actual reference?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@nika:mozilla.org\">nika</a>: oh hey! So potentially the opener field got be &quot;none&quot;, &quot;disowned&quot;, actual reference?","mimetype":"text/html"}]},"ts":1669825794440,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$vENCByHU4cxPJDABpnbPO3VMHUkZwmFmxMs6GpAfxrM"},
{"content":{"body":"I think it's independent, as you can also set up an opener for an existing BC by navigating it with named targeting","msgtype":"m.text","org.matrix.msc1767.text":"I think it's independent, as you can also set up an opener for an existing BC by navigating it with named targeting"},"ts":1669825844435,"senderName":"nika","senderId":"@nika:mozilla.org","id":"$VohfkYX1BeC_M1vu5s-sqhyoVXWKG7XHlyX4BD0L_g4"},
{"content":{"body":"so `{opener: BrowsingContext?, hadOriginalOpener: bool}`","format":"org.matrix.custom.html","formatted_body":"so <code>{opener: BrowsingContext?, hadOriginalOpener: bool}</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"so `{opener: BrowsingContext?, hadOriginalOpener: bool}`","mimetype":"text/plain"},{"body":"so <code>{opener: BrowsingContext?, hadOriginalOpener: bool}</code>","mimetype":"text/html"}]},"ts":1669825890125,"senderName":"nika","senderId":"@nika:mozilla.org","id":"$bMD3U69L-RLiQnANi9WTls8W3AqEJCPCm3C55PjHh18"},
{"content":{"body":"(as you could have an opener, but e.g. be a frame which was name-targeted)","msgtype":"m.text","org.matrix.msc1767.text":"(as you could have an opener, but e.g. be a frame which was name-targeted)"},"ts":1669825907176,"senderName":"nika","senderId":"@nika:mozilla.org","id":"$gnrd5q0kqNFdKaZSj5bDG27C3aGdNqnJIyjQtzkoxW4"},
{"content":{"body":"So we have: auxiliary bc, opener, disowned","msgtype":"m.text","org.matrix.msc1767.text":"So we have: auxiliary bc, opener, disowned"},"ts":1669825931763,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$gCp3As3jYPuvhv-D5X8LFf5H9O0BMQ7YBTvgMvdRNR4"},
{"content":{"body":"I think only auxiliary would have hadOriginalOpener set to true","msgtype":"m.text","org.matrix.msc1767.text":"I think only auxiliary would have hadOriginalOpener set to true"},"ts":1669825951270,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$AyosD_JRMIbQlVtBYzfVmSS3AKOYewwq9xum-KWaZhM"},
{"content":{"body":"But I think there was also a reason we couldn't just set opener to null, but maybe that was wrong","msgtype":"m.text","org.matrix.msc1767.text":"But I think there was also a reason we couldn't just set opener to null, but maybe that was wrong"},"ts":1669825984033,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$kcidydqhIspChvWEA1yk8z8RoMMSGex3zstP4NYqpcA"},
{"content":{"body":"Would require some blame digging","msgtype":"m.text","org.matrix.msc1767.text":"Would require some blame digging"},"ts":1669826000348,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$mn-DqA-toc-IOmgX0CfEnMPGEoNcarAj5GtmW_jwx6A"},
{"content":{"body":"annevk: with prefetch and CORS-preflight, I'm trying to understand what you meant in https://github.com/whatwg/html/pull/8111#issuecomment-1329169381","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: with prefetch and CORS-preflight, I'm trying to understand what you meant in https://github.com/whatwg/html/pull/8111#issuecomment-1329169381","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: with prefetch and CORS-preflight, I'm trying to understand what you meant in https://github.com/whatwg/html/pull/8111#issuecomment-1329169381","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: with prefetch and CORS-preflight, I'm trying to understand what you meant in https://github.com/whatwg/html/pull/8111#issuecomment-1329169381","mimetype":"text/html"}]},"ts":1669826143288,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$AIh65PVvGK93mjgqvmuczWUOodUp3krMrJ0rTroRtd4"},
{"content":{"body":"Noam Rosenthal: we probably want to set it the same way we set the Fetch Metadata headers; but I haven't checked what implementations do today","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: we probably want to set it the same way we set the Fetch Metadata headers; but I haven't checked what implementations do today","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: we probably want to set it the same way we set the Fetch Metadata headers; but I haven't checked what implementations do today","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: we probably want to set it the same way we set the Fetch Metadata headers; but I haven't checked what implementations do today","mimetype":"text/html"}]},"ts":1669826208023,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$zM6laA_ytIEh5ZMkl1REQGg-bXo7MUvAZYo69hphwV0"},
{"content":{"body":"I wonder if there's some problem with how `window.opener` is defined. It seems that once you set it it'll be disowned forever, seemingly across origins. That can't be right.","format":"org.matrix.custom.html","formatted_body":"I wonder if there's some problem with how <code>window.opener</code> is defined. It seems that once you set it it'll be disowned forever, seemingly across origins. That can't be right.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I wonder if there's some problem with how `window.opener` is defined. It seems that once you set it it'll be disowned forever, seemingly across origins. That can't be right.","mimetype":"text/plain"},{"body":"I wonder if there's some problem with how <code>window.opener</code> is defined. It seems that once you set it it'll be disowned forever, seemingly across origins. That can't be right.","mimetype":"text/html"}]},"ts":1669826428764,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$fWQvqif6VC10TjJMiytWi5QA0OseITevdzLZTEqiJE8"}
]