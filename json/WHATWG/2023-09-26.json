[
{"content":{"body":"The HTML spec currently [contains the following sentence](https://html.spec.whatwg.org/multipage/parsing.html#insert-an-html-element):\n\n> When the steps below require the user agent to **insert an HTML element** for a token, the user agent must **insert a foreign element** for the token, in the HTML namespace.\n\n(emphasis mine)\n\nI think it's rather confusing for the \"insert a foreign element\" procedure to be called that when it is also used for non-foreign elements. I think it would make more sense for it to just be called \"insert an element\". What do you think about this?","format":"org.matrix.custom.html","formatted_body":"<p>The HTML spec currently <a href=\"https://html.spec.whatwg.org/multipage/parsing.html#insert-an-html-element\">contains the following sentence</a>:</p>\n<blockquote>\n<p>When the steps below require the user agent to <strong>insert an HTML element</strong> for a token, the user agent must <strong>insert a foreign element</strong> for the token, in the HTML namespace.</p>\n</blockquote>\n<p>(emphasis mine)</p>\n<p>I think it's rather confusing for the &quot;insert a foreign element&quot; procedure to be called that when it is also used for non-foreign elements. I think it would make more sense for it to just be called &quot;insert an element&quot;. What do you think about this?</p>\n","msgtype":"m.text"},"ts":1695699613898,"senderName":"martin","senderId":"@martin:push-f.com","id":"$wolfzn-CCczlIz2KkrMUEhD_rAUB_41eWkwjpt7H4wI"},
{"content":{"body":"martin: I think that's a reasonable rename. mfreed is touching that step in the declarative shadow tree PR so maybe we don't want to rename it until after that lands.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@martin:push-f.com\">martin</a>: I think that's a reasonable rename. <a href=\"https://matrix.to/#/@mfreed:matrix.org\">mfreed</a> is touching that step in the declarative shadow tree PR so maybe we don't want to rename it until after that lands.","msgtype":"m.text"},"ts":1695706097242,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$gZLmi8H4UA351GcUYFYo1Zk40SQPtHT4Cdi-7_ftBEM"},
{"content":{"body":"zcorpan, annevk I want to proceed on the reveal/readytorender event we discussed at TPAC for view-transitions (https://github.com/whatwg/html/issues/9315). seems like there was rough consensus about the direction, I want to see we're ok with the details","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>, <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> I want to proceed on the reveal/readytorender event we discussed at TPAC for view-transitions (https://github.com/whatwg/html/issues/9315). seems like there was rough consensus about the direction, I want to see we're ok with the details","msgtype":"m.text"},"ts":1695709671491,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$TUXhWP2_6BEa32KGjtX4oiAO-MCRL0nbf7fNq7Hp5Ho"},
{"content":{"body":"annevk: About `<link disabled>`, can you point me to the specific step in https://drafts.csswg.org/cssom/ that requires setting the owner node to null?\n\nI’m not questioning it — I just want to add a spec link to the commit message for https://github.com/WebKit/WebKit/pull/17001\n\nAnd I’m specifically looking at the part of the test case at https://github.com/web-platform-tests/wpt/blob/master/css/cssom/HTMLLinkElement-disabled-002.html#L26","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: About <code>&lt;link disabled&gt;</code>, can you point me to the specific step in https://drafts.csswg.org/cssom/ that requires setting the owner node to null?</p>\n<p>I’m not questioning it — I just want to add a spec link to the commit message for https://github.com/WebKit/WebKit/pull/17001</p>\n<p>And I’m specifically looking at the part of the test case at https://github.com/web-platform-tests/wpt/blob/master/css/cssom/HTMLLinkElement-disabled-002.html#L26</p>\n","msgtype":"m.text"},"ts":1695713843907,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$Z4hwv0yhXGaFCPBoqmAFRWAw-ECCm8JgupY9KVLs_Ao"},
{"content":{"body":"Domenic: I was hoping you could have a look at https://github.com/whatwg/spec-factory/pull/34 too; it's old but still relevant","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I was hoping you could have a look at https://github.com/whatwg/spec-factory/pull/34 too; it's old but still relevant","msgtype":"m.text"},"ts":1695715369884,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$cBwfSVe6i7j2kaehPlETjTODJenZJDjJkYS98RCrNYs"},
{"content":{"body":"sideshowbarker: I don't see it in https://drafts.csswg.org/cssom/#the-stylesheet-interface and I think emilio wrote those tests, so maybe he can elaborate","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: I don't see it in https://drafts.csswg.org/cssom/#the-stylesheet-interface and I think <a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a> wrote those tests, so maybe he can elaborate","msgtype":"m.text"},"ts":1695715425815,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$E2wh3ZwEdSGqVJYvdHWYHT6xS1ctq3UUJW0bMZBtijc"},
{"content":{"body":"sideshowbarker: annevk: Seems like a bug in the CSSOM spec. The ownerNode is mutable, and goes away when the node -> sheet link goes away. E.g., this interoperably logs `<style>` then `null`:\n\n```html\n<!doctype html>\n<style>div {}</style>\n<script>\n  let sheet = document.querySelector(\"style\").sheet;\n  console.log(sheet);\n  console.log(sheet.ownerNode);\n  sheet.ownerNode.remove();\n  console.log(sheet.ownerNode);\n</script>\n```","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: Seems like a bug in the CSSOM spec. The ownerNode is mutable, and goes away when the node -&gt; sheet link goes away. E.g., this interoperably logs <code>&lt;style&gt;</code> then <code>null</code>:</p>\n<pre><code class=\"language-html\">&lt;!doctype html&gt;\n&lt;style&gt;div {}&lt;/style&gt;\n&lt;script&gt;\n  let sheet = document.querySelector(\"style\").sheet;\n  console.log(sheet);\n  console.log(sheet.ownerNode);\n  sheet.ownerNode.remove();\n  console.log(sheet.ownerNode);\n&lt;/script&gt;\n</code></pre>\n","msgtype":"m.text"},"ts":1695715822069,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$GXjy8gCWZPxZBKAG4ydvGkeoYiwnNkgTSVmrf0A4ufg"},
{"content":{"body":"emilio: I think that specific scenario is covered by https://drafts.csswg.org/cssom/#remove-a-css-style-sheet","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: I think that specific scenario is covered by https://drafts.csswg.org/cssom/#remove-a-css-style-sheet","msgtype":"m.text"},"ts":1695716230402,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$LTlHc7bjmpiYrhKtNGsRik66Az3itawwx2Af2HhPIpQ"},
{"content":{"body":"I think the problem is that there's no equivalent logic around disabling","msgtype":"m.text"},"ts":1695716320384,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$nM6NXe_IDozPOv1xIn4-zPmyGD1Hb1uBaWOTue7zrSY"}
]