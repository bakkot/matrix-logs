[
{"content":{"body":"Dominic Farolino: yeah, during navigation the environment settings object is not yet established, it's just an environment","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: yeah, during navigation the environment settings object is not yet established, it's just an environment","msgtype":"m.text"},"ts":1632807306539,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$s8XFsPzO-SfUYHtB7s-ENBAQY40VeuL4fxN18HTBJRI"},
{"content":{"body":"Ah right","msgtype":"m.text"},"ts":1632807475082,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$EOQy0kzgI1r0e5ZBYSTTnIhlqlF4Aiq8d7MQe_ArRbY"},
{"content":{"body":"Does this highlighted sentence seem wrong to anyone? https://w3c.github.io/IntersectionObserver/#:~:text=Any%20target%20of%20an%20explicit%20root%20observer%20is%20also%20a%20same-origin-domain%20target. It is saying that anytime you explicitly provide a root, the target is a same-origin-domain-target. But you can explicitly provide a root within cross-origin iframes, a context where no target will ever be a same-origin-domain target","msgtype":"m.text"},"ts":1632807642742,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$LlOYTgr0ytf4-h_prT1Ijcrpj82Q0Kbt1brnUXhHc1g"},
{"content":{"body":"Dominic Farolino: I don't see how the constructor sets root so it's hard to tell","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: I don't see how the constructor sets root so it's hard to tell","msgtype":"m.text"},"ts":1632811396866,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$yTw5zgbw6BYCKKQ0vAZQyVUD2AXlIEW4dIEoNqGYjpU"},
{"content":{"body":"Dominic Farolino: but per the assertions around that I guess the root has to be in the same document as the relevant global object's document, maybe?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: but per the assertions around that I guess the root has to be in the same document as the relevant global object's document, maybe?","msgtype":"m.text"},"ts":1632811424821,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$ctMTCBxy5xbg_8-jySFwGq7LiFDeW5x7k2hB_XnszSc"},
{"content":{"body":"But assuming the root passed is the root and a target has to be in the same document as that root, the statements do follow I suppose","msgtype":"m.text"},"ts":1632812343035,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$Qo_p2sevp99O73u80baWCM7iE5PUiKXuO4Sh6Ztg6bo"},
{"content":{"body":"emilio would know better ðŸ˜Š","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a> would know better ðŸ˜Š","msgtype":"m.text"},"ts":1632812364814,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$a_aDbX9d9INeHjS3u-g7j1TOMgTX7K4k9vILLijmLPo"},
{"content":{"body":"Jake Archibald: for setting `Range`, what is novel here? 1) You get more control over the value than you can get with media elements. This should be okay. 2) You get to set the other safelisted headers as part of a range request. This should be okay? 3) You get to POST a range request. Is this okay? I think it would be good to write a comment along these lines, perhaps in the original issue, to ensure we're not missing a security issue.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: for setting <code>Range</code>, what is novel here? 1) You get more control over the value than you can get with media elements. This should be okay. 2) You get to set the other safelisted headers as part of a range request. This should be okay? 3) You get to POST a range request. Is this okay? I think it would be good to write a comment along these lines, perhaps in the original issue, to ensure we're not missing a security issue.","msgtype":"m.text"},"ts":1632830313599,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$FahX3j2DLW5-88bKCS0F1oI4OPSV_7ctd1nNF9trRFo"},
{"content":{"body":"Shall do","msgtype":"m.text"},"ts":1632830905600,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$Xap4c09vB3ljZGO8iwc6XDqspIin_6wtN-Kw-JMQXJI"},
{"content":{"body":"Noam Rosenthal: I think I got all of them now, didn't immediately have feedback on your preload/cache analysis; looks promising though","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I think I got all of them now, didn't immediately have feedback on your preload/cache analysis; looks promising though","msgtype":"m.text"},"ts":1632833466433,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$XeSBSHNWgKHtzd3btKZeq5XaMal4SVDw8HP5JyJ3BLs"},
{"content":{"body":"yes explicit roots have to be in the same document as the IntersectionObserver. It's just that no target will ever be same-origin-domain, since that specifically compares with top-level origin. I've checked with the author and he agrees it is worded wrong; I'll fix it","msgtype":"m.text"},"ts":1632837445779,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$pCqvcwCHU1SZbOzp1I_9_F7qvvt-sSg0o93pAh6W3Fs"}
]