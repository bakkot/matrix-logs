[
{"content":{"body":"annevk: did you want to take a look at https://github.com/whatwg/html/pull/9860 before we merge it? It seems you were involved in those discussions originally.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: did you want to take a look at https://github.com/whatwg/html/pull/9860 before we merge it? It seems you were involved in those discussions originally.","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1698220956142,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$u14laaH2DuHDLckIAd8kfXhXGVA2KiUTAbyH7NYUXt4"},
{"content":{"body":"Hola, do we have minutes from TPAC WhatWG meetings anywhere? maybe Panos Astithas ","format":"org.matrix.custom.html","formatted_body":"Hola, do we have minutes from TPAC WhatWG meetings anywhere? maybe <a href=\"https://matrix.to/#/@pastith:matrix.org\">Panos Astithas</a>","m.mentions":{"user_ids":["@pastith:matrix.org"]},"msgtype":"m.text"},"ts":1698224884368,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$sk6Id-GiYTpiCbbqbAx382CllPucgcV-tS98H1zIODU"},
{"content":{"body":"https://www.w3.org/WAI/APA/minutes ?","m.mentions":{},"msgtype":"m.text"},"ts":1698230274516,"senderName":"aja","senderId":"@aja:mozilla.org","id":"$43RD5heu4DCFoHMyeYUjBpI0AHUlAJViJWw3vDZLBMQ"},
{"content":{"body":"Noam Rosenthal: they're in the TPAC issue on whatwg/meta","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: they're in the TPAC issue on whatwg/meta","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1698230495066,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$oAip7_kpnnVD7kYmmGOB_WwEomXdWHrD4pXSCaASLnU"},
{"content":{"body":"> <@annevk:matrix.org> Noam Rosenthal: they're in the TPAC issue on whatwg/meta\n\nMakes sense, thanks!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$oAip7_kpnnVD7kYmmGOB_WwEomXdWHrD4pXSCaASLnU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: they're in the TPAC issue on whatwg/meta</blockquote></mx-reply>Makes sense, thanks!","m.mentions":{"user_ids":["@annevk:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$oAip7_kpnnVD7kYmmGOB_WwEomXdWHrD4pXSCaASLnU"}},"msgtype":"m.text"},"ts":1698230523505,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$8mRyr1Kg8UmwI_Gq2NB-ojWaUFrMYImEOuJT7NexTtU"},
{"content":{"body":"annevk: on that note, I think all the issues on deferred fetching are resolved. `NotAllowed` is thrown only on 3p iframes and some such, there is no permission-based model currently","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: on that note, I think all the issues on deferred fetching are resolved. <code>NotAllowed</code> is thrown only on 3p iframes and some such, there is no permission-based model currently","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1698230624888,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$colo2rH-rIiczsZT2_dVkD47Ibk2qiI9siQDFyw-B8U"},
{"content":{"body":"Domenic: it's not clear to me we have Gecko or WebKit buy-in at this point. For WebKit it'll require a bit more time anyway.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: it's not clear to me we have Gecko or WebKit buy-in at this point. For WebKit it'll require a bit more time anyway.","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"ts":1698230690294,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$we023j-szIYuNIXHHiv9k5wOuaFO63NH34T7D1Uibmc"},
{"content":{"body":"Noam Rosenthal: okay, that sounds reasonable in principle. I hope to have time this week.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: okay, that sounds reasonable in principle. I hope to have time this week.","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1698230972698,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ZqdwdfXXsT6-3kM9YqagSdc0Prk6SyuSvC0hr9p_pBk"},
{"content":{"body":"annevk: I'm actually not seeing in the minutes anything about a problem with cross-origin iframes and deferred fetching.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I'm actually not seeing in the minutes anything about a problem with cross-origin iframes and deferred fetching.","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1698231295663,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$msO2_5QBpqMD85zV2gYPVBSTR280jHIY0bSBWqwNmNw"},
{"content":{"body":"Noam Rosenthal: I think we discussed that much earlier on at one of the Performance WG meetings. I had forgotten about it for a bit though and recently remembered again.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I think we discussed that much earlier on at one of the Performance WG meetings. I had forgotten about it for a bit though and recently remembered again.","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1698232082723,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$7fXLDLCN2tRAI_O8uhDK7H_2oSjyzQzUiBUAOnEGpYo"},
{"content":{"body":"> <@annevk:matrix.org> Noam Rosenthal: I think we discussed that much earlier on at one of the Performance WG meetings. I had forgotten about it for a bit though and recently remembered again.\n\nYea I looked at those minutes and the cross-origin iframe discussion was about isInputPending and not about this ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs%3Amatrix.org/%247fXLDLCN2tRAI_O8uhDK7H_2oSjyzQzUiBUAOnEGpYo\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I think we discussed that much earlier on at one of the Performance WG meetings. I had forgotten about it for a bit though and recently remembered again.</blockquote></mx-reply>Yea I looked at those minutes and the cross-origin iframe discussion was about isInputPending and not about this","m.relates_to":{"m.in_reply_to":{"event_id":"$7fXLDLCN2tRAI_O8uhDK7H_2oSjyzQzUiBUAOnEGpYo"}},"msgtype":"m.text"},"ts":1698232156300,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$cyHDMxeu8Ljj106oUNAnJUYLAoNJBo7i0nm52aprfOw"},
{"content":{"body":"I think the concerns for `fetchLater()` came down to:\n\n1. If the limit is shared for a given partition, this might introduce certain leaks. If it's not shared it might be easier to hit the total limit.\n2. It's not clear that cross-site documents should have access to this capability by default. In particular if the budget is shared perhaps Permissions Policy ought to be used.","format":"org.matrix.custom.html","formatted_body":"<p>I think the concerns for <code>fetchLater()</code> came down to:</p>\n<ol>\n<li>If the limit is shared for a given partition, this might introduce certain leaks. If it's not shared it might be easier to hit the total limit.</li>\n<li>It's not clear that cross-site documents should have access to this capability by default. In particular if the budget is shared perhaps Permissions Policy ought to be used.</li>\n</ol>\n","m.mentions":{},"msgtype":"m.text"},"ts":1698232590913,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$joMygxmevpx6UynrwFszjF__xJACO4QG-ZNaqdbzrNA"},
{"content":{"body":"I also recall Alex not being super happy about giving cross-site documents access to such a powerful capability to begin with. (Though I imagine Permissions Policy would be acceptable as we have treated it as equivalent to `postMessage()` everywhere else.)","format":"org.matrix.custom.html","formatted_body":"I also recall Alex not being super happy about giving cross-site documents access to such a powerful capability to begin with. (Though I imagine Permissions Policy would be acceptable as we have treated it as equivalent to <code>postMessage()</code> everywhere else.)","m.mentions":{},"msgtype":"m.text"},"ts":1698232669540,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$en5A54ccD7KY27T6Z4CF0sfW6LxyRSd1t5WDMClJnBk"},
{"content":{"body":"Ok thanks, let me ponder on this. For now the PR goes down that route ","format":"org.matrix.custom.html","formatted_body":"Ok thanks, let me ponder on this. For now the PR goes down that route","msgtype":"m.text"},"ts":1698233035304,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$NogFGIV4FmHLZ97EAnPzWVxiFN7jE5H9qa0_ByVVn2g"},
{"content":{"body":"> <@annevk:matrix.org> I think the concerns for `fetchLater()` came down to:\n> \n> 1. If the limit is shared for a given partition, this might introduce certain leaks. If it's not shared it might be easier to hit the total limit.\n> 2. It's not clear that cross-site documents should have access to this capability by default. In particular if the budget is shared perhaps Permissions Policy ought to be used.\n\nThe limit is per document. so this shouldn't be a problem","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$joMygxmevpx6UynrwFszjF__xJACO4QG-ZNaqdbzrNA?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><p>I think the concerns for <code>fetchLater()</code> came down to:</p>\n<ol>\n<li>If the limit is shared for a given partition, this might introduce certain leaks. If it's not shared it might be easier to hit the total limit.</li>\n<li>It's not clear that cross-site documents should have access to this capability by default. In particular if the budget is shared perhaps Permissions Policy ought to be used.</li>\n</ol>\n</blockquote></mx-reply>The limit is per document. so this shouldn't be a problem","m.mentions":{"user_ids":["@annevk:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$joMygxmevpx6UynrwFszjF__xJACO4QG-ZNaqdbzrNA"}},"msgtype":"m.text"},"ts":1698238236980,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$r-4Hi8C134R9TTNdpt1s3HdJ3eE1HED6ubDb-G44rYg"},
{"content":{"body":"annevk: but for the other thing, yea, perhaps we should have permission policy for this. let me chat with the team about it","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: but for the other thing, yea, perhaps we should have permission policy for this. let me chat with the team about it","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1698238537616,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$GWGpLhS5vEs5zv6CcDZi5Jci-O-OzUrGJYQO6ped9YY"},
{"content":{"body":"Noam Rosenthal: doesn't a per-document limit allow for infinite abuse? You can create near infinite nested documents.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: doesn't a per-document limit allow for infinite abuse? You can create near infinite nested documents.","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1698238855517,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Zgql3Znf-zeOtR_L-_9xj-ptHYaWR1OkJKuB9fV-4Kc"},
{"content":{"body":" * Noam Rosenthal: doesn't a per-document limit allow for limitless abuse? You can create near infinite nested documents.","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: doesn't a per-document limit allow for limitless abuse? You can create near infinite nested documents.","m.mentions":{},"m.new_content":{"body":"Noam Rosenthal: doesn't a per-document limit allow for limitless abuse? You can create near infinite nested documents.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: doesn't a per-document limit allow for limitless abuse? You can create near infinite nested documents.","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Zgql3Znf-zeOtR_L-_9xj-ptHYaWR1OkJKuB9fV-4Kc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1698238930422,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$IaEPsi3aFKEr6K_Kvt3lroMfG6j_qX70JCwQL3Mspck"},
{"content":{"body":"annevk: what would be the point? you can simply call fetch instead","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: what would be the point? you can simply call fetch instead","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1698238958793,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$AW8J0-EeSrZnVrNQtzFyYK8xhhwZWFm5a2fkn_-0cLs"},
{"content":{"body":"annevk: I think it comes down to what the quota tries to protect against","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I think it comes down to what the quota tries to protect against","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1698239283787,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$BIoAGo4-N6HLdabmoWLXvVfIEbIf8VUxvDsHPiEsp3c"},
{"content":{"body":"annevk: the keepalive quota is also per-document and one can abuse it with infiinte nested iframes, we wanted to be consistent with that","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: the keepalive quota is also per-document and one can abuse it with infiinte nested iframes, we wanted to be consistent with that","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1698239763274,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$LSl5TAjrg7OkhT1JRYLJ99BsrCzNf3CYrp-MvbuYwWo"},
{"content":{"body":"> <@annevk:matrix.org> I also recall Alex not being super happy about giving cross-site documents access to such a powerful capability to begin with. (Though I imagine Permissions Policy would be acceptable as we have treated it as equivalent to `postMessage()` everywhere else.)\n\nWould be good to know what makes this more of a powerful feature than, let's say, regular keepalive","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$en5A54ccD7KY27T6Z4CF0sfW6LxyRSd1t5WDMClJnBk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br>I also recall Alex not being super happy about giving cross-site documents access to such a powerful capability to begin with. (Though I imagine Permissions Policy would be acceptable as we have treated it as equivalent to <code>postMessage()</code> everywhere else.)</blockquote></mx-reply>Would be good to know what makes this more of a powerful feature than, let's say, regular keepalive","m.mentions":{"user_ids":["@annevk:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$en5A54ccD7KY27T6Z4CF0sfW6LxyRSd1t5WDMClJnBk"}},"msgtype":"m.text"},"ts":1698244821957,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$-hOJPvea-Y3c9csHdpTGrmM1CTUFiLycQyGFo7gHTVU"}
]