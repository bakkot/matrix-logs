[
{"content":{"body":"Domenic: should https://github.com/web-platform-tests/wpt/blob/628af0fd55db95d785a63484882998343e3a069e/html/semantics/interactive-elements/the-dialog-element/dialog-focus-shadow.html#L40-L47 focus an element inside the shadow dom?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: should https://github.com/web-platform-tests/wpt/blob/628af0fd55db95d785a63484882998343e3a069e/html/semantics/interactive-elements/the-dialog-element/dialog-focus-shadow.html#L40-L47 focus an element inside the shadow dom?","msgtype":"m.text"},"ts":1637633861584,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$k8D-frig1S9NHzrrtxgM4rcrCEb0YVPkeRxghv9plEY"},
{"content":{"body":"because the shadow dom is before the `focus-me`?","format":"org.matrix.custom.html","formatted_body":"because the shadow dom is before the <code>focus-me</code>?","msgtype":"m.text"},"ts":1637633937980,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$DMbKJ8g7PPx_K8a7sqTNKEVQxV8Yxf74lliSKonW6sw"},
{"content":{"body":"sefeng: Yes I think you are right","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: Yes I think you are right","msgtype":"m.text"},"ts":1637633980808,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Ff_sdTk-yZrl61RRgfQU9K3vbffbJtB1liFdl3kxUzY"},
{"content":{"body":"focus-me should be moved to the very first button","msgtype":"m.text"},"ts":1637634002853,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$N0TeNJJfcXlWQGGgBme0eI3UoZtyDXXNXtEse1pEMAc"},
{"content":{"body":"Domenic: we don't need to move this one, because the one before this template does that already, I think?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: we don't need to move this one, because the one before this template does that already, I think?","msgtype":"m.text"},"ts":1637634063230,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$hMzOj9mg6HfCMxgVtuEd1DyDv2WBW97Jqpmy_mQ84d0"},
{"content":{"body":"Not sure what you mean? I think the test would still be valuable since it shows that autofocus=\"\" is ignored","msgtype":"m.text"},"ts":1637634132154,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$-4qfeu_9oCl1axD1ewkdDIR-DMsFyMX9mIwVKuRcZPM"},
{"content":{"body":"yeah, sorry, I misunderstood ","msgtype":"m.text"},"ts":1637634147095,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$b45i1J5D4-cnr2f2Nc0Erpa_Hv2ghUkZ2N8bwoMMfHU"},
{"content":{"body":"I'll fix it and ping you for review ","msgtype":"m.text"},"ts":1637634170384,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$huEN6YFda0yhrwpXKj0fxo2JV55q72mZtbyCRynbUFo"},
{"content":{"body":"Great, thank you for spotting!","msgtype":"m.text"},"ts":1637634198977,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$6t1wJe6jihhdURyPGhYisUwd9nulcgUKVVZN9VuB7uE"},
{"content":{"body":"Domenic: so before all these generic focus delegates algorithm, when there's a nested shadow dom host with no delegates focus, we don't delegate the focus to this shadow dom. ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: so before all these generic focus delegates algorithm, when there's a nested shadow dom host with no delegates focus, we don't delegate the focus to this shadow dom.","msgtype":"m.text"},"ts":1637635076846,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$wNCVG9GZGw-n0oemp2XwwYuUt3cqjWEfSj9-jVg_-Rg"},
{"content":{"body":"but now it seems that we can delegate the focus to this shadow dom ","msgtype":"m.text"},"ts":1637635115472,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$DQuFsdP-6I0-y8kjQ_qPkyJtosjs-nx3ukBoqsr9vXI"},
{"content":{"body":"I am looking at these two tests https://github.com/web-platform-tests/wpt/blob/628af0fd55db95d785a63484882998343e3a069e/shadow-dom/focus/focus-method-delegatesFocus.html#L271-L284 and wondering which step makes the behaviour different ","msgtype":"m.text"},"ts":1637635735919,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$uFDq3GMbGiQQWxF0cnwBzzlbob-wLfhMZDBRe5tGkJs"},
{"content":{"body":"Hi. I have a couple questions on how to integrate the URL standard in a specification (ping annevk I guess ðŸ˜Š)","format":"org.matrix.custom.html","formatted_body":"Hi. I have a couple questions on how to integrate the URL standard in a specification (ping <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> I guess ðŸ˜Š)","msgtype":"m.text"},"ts":1637659738325,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$WCnHU2PsOpwCo3a-WfnOLce9O_UxssVp8qxezHowzww"},
{"content":{"body":"In EPUB, we're now refer to the URL standard. \nEPUB is basically a collection of web resources in an container (called \"Abstract OCF Container\"); practically, it's a ZIP.\nIn this container, files refer to each other using relative URL strings (with optional fragments)","msgtype":"m.text"},"ts":1637659975107,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$6QWxH9pEJIGsKlpg_xMJdxNPuDPypszog0RYLDRVzjs"},
{"content":{"body":"What we'd like to do, is normatively disallow relative URL strings that \"leak\" outside the container. For instance \"../../../../secret\"","msgtype":"m.text"},"ts":1637660048903,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$ddyaKVxaNKSU6MzoI4cp4k92RBOAOS1aNzDFm3eKqSE"},
{"content":{"body":"So we're trying to define what is a valid relative URL string in the contexts of EPUB.","msgtype":"m.text"},"ts":1637660181161,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$sKI0vRlYKpJW404JvVyt4Zwg9k8WCLoRK016I1A951A"},
{"content":{"body":"My question is: is it OK to say something along the lines of \"in an EPUB container, a **relative-URL string** MUST be a **container-relative URL string**\", and then define what we mean by **container-relative URL string**.\n\nIn other words, we're trying to override the definition of \"relative-URL string\" of the URL standard by:\n- disallowing path-absolute URL strings\n- disallowing scheme-relative URL strings\n- further constraining path-relative-scheme-less-URL strings to ensure dot-dot path segments are balanced by other segments","format":"org.matrix.custom.html","formatted_body":"<p>My question is: is it OK to say something along the lines of &quot;in an EPUB container, a <strong>relative-URL string</strong> MUST be a <strong>container-relative URL string</strong>&quot;, and then define what we mean by <strong>container-relative URL string</strong>.</p>\n<p>In other words, we're trying to override the definition of &quot;relative-URL string&quot; of the URL standard by:</p>\n<ul>\n<li>disallowing path-absolute URL strings</li>\n<li>disallowing scheme-relative URL strings</li>\n<li>further constraining path-relative-scheme-less-URL strings to ensure dot-dot path segments are balanced by other segments</li>\n</ul>\n","msgtype":"m.text"},"ts":1637660451819,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$wZHsdqqripJvVXiLBl3sH-QII8BdpMr9p7C5SmohZhw"},
{"content":{"body":"In some way it has a smell of monkey patching, but I can't see how to do otherwise. That's why I'm asking for advice to y'all ðŸ˜Š","msgtype":"m.text"},"ts":1637660528741,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$__XyqaHcHpT9b5Rm2e6slhKfHu63vAhmQl8vtu8wbkw"},
{"content":{"body":" * In EPUB, we now refer to the URL standard. \nEPUB is basically a collection of web resources in an container (called \"Abstract OCF Container\"); practically, it's a ZIP.\nIn this container, files refer to each other using relative URL strings (with optional fragments)","m.new_content":{"body":"In EPUB, we now refer to the URL standard. \nEPUB is basically a collection of web resources in an container (called \"Abstract OCF Container\"); practically, it's a ZIP.\nIn this container, files refer to each other using relative URL strings (with optional fragments)","msgtype":"m.text"},"m.relates_to":{"event_id":"$6QWxH9pEJIGsKlpg_xMJdxNPuDPypszog0RYLDRVzjs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1637660582311,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$jQEs7g-103hmCmMvIVsln4rmkmmAHXrUAWzgwHJE-Fc"},
{"content":{"body":" * So we're trying to define what is a valid relative URL string in the context of EPUB.","m.new_content":{"body":"So we're trying to define what is a valid relative URL string in the context of EPUB.","msgtype":"m.text"},"m.relates_to":{"event_id":"$sKI0vRlYKpJW404JvVyt4Zwg9k8WCLoRK016I1A951A","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1637660619581,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$lpwibo_1LkEU2zQyVUQxzxFNe9X4LMnyC7msT14mrcQ"},
{"content":{"body":"see also https://github.com/w3c/epub-specs/issues/1912","msgtype":"m.text"},"ts":1637660645519,"senderName":"rdeltour","senderId":"@rdeltour:matrix.org","id":"$qBWzInG8LLrwIEhsM5iuZkeV0IjBaa3bQ1DdX-quzbE"}
]