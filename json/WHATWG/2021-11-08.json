[
{"content":{"body":"annevk, Jake Archibald, how would you like to proceed with https://github.com/whatwg/fetch/pull/1329? annevk you've raised some questions about how this would apply to worker, I think all answers are valid but want to proceed somehow ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>, <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>, how would you like to proceed with https://github.com/whatwg/fetch/pull/1329? <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> you've raised some questions about how this would apply to worker, I think all answers are valid but want to proceed somehow","msgtype":"m.text"},"ts":1636359395175,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$2XJ53fEM6iMBqjmhcIioVgyyRdokTwv1Yj9Td9kev68"},
{"content":{"body":"Noam Rosenthal: I'm under the weather this week, but I think we need to tackle the service worker part as well; there's not many hits for \"terminate\" in SW, but there's a few and we cannot just break the system","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I'm under the weather this week, but I think we need to tackle the service worker part as well; there's not many hits for &quot;terminate&quot; in SW, but there's a few and we cannot just break the system","msgtype":"m.text"},"ts":1636363741058,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$Ay3gNE69EWP18nQAq6ZHAq7tCo0p2cu7WRqQtOTlopo"},
{"content":{"body":"Noam Rosenthal: putting a Living Standard in an inconsistent state is not something I'm happy with if it can be avoided","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: putting a Living Standard in an inconsistent state is not something I'm happy with if it can be avoided","msgtype":"m.text"},"ts":1636363775381,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$yFcxm0eu-wgOCWzSmy6EJ__uGG603TtBcjFhlGIOdTc"},
{"content":{"body":"annevk: hope you get well soon :)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: hope you get well soon :)","msgtype":"m.text"},"ts":1636363786739,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$hxdyAbsMMvxzPA0u3kwti3T2eFbqh0jqp-pQSF2st-8"},
{"content":{"body":"annevk: Currently SW references the somewhat handwavy \"when the Fetch is terminated\" which is an exported link that is still going to be there, I don't think we're leaving it more inconsistent than before. But I don't mind posting a PR to SW that makes it explicit with a controller, if that's the direction","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: Currently SW references the somewhat handwavy &quot;when the Fetch is terminated&quot; which is an exported link that is still going to be there, I don't think we're leaving it more inconsistent than before. But I don't mind posting a PR to SW that makes it explicit with a controller, if that's the direction","msgtype":"m.text"},"ts":1636363879834,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$0MH_Ejrh0Gr1Yvz6ZvBTgeRrIUliIcGrR78c2wKD_po"},
{"content":{"body":"Noam Rosenthal: yeah, that sounds good to me still. I wish others would chime in a bit more or at least say something to the effect of \"sounds reasonable, can't think of anything better\".","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: yeah, that sounds good to me still. I wish others would chime in a bit more or at least say something to the effect of &quot;sounds reasonable, can't think of anything better&quot;.","msgtype":"m.text"},"ts":1636364059944,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$4wtRgEKG2Tmb4QGj60QG9E9q7ufTdKEI5dxAi82BSqY"},
{"content":{"body":"annevk: cool, I'll propose the PR, and hopefully it would be enough of a strawman to get some \"sounds reasonable\" or \"let's do this differently\"","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: cool, I'll propose the PR, and hopefully it would be enough of a strawman to get some &quot;sounds reasonable&quot; or &quot;let's do this differently&quot;","msgtype":"m.text"},"ts":1636364103600,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$5Mtd42xPQUi8yXwFUqFYskjUb3zX2w_Rej6ixwmUnmk"},
{"content":{"body":"annevk: I thought as an alternative to returning a controller, to emit an \"onFetchStarted(controller)\" from both fetch and SW. This way the processes as they are today don't need to change and everything can still work. It might make my patch quite simpler. WDYT?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: I thought as an alternative to returning a controller, to emit an &quot;onFetchStarted(controller)&quot; from both fetch and SW. This way the processes as they are today don't need to change and everything can still work. It might make my patch quite simpler. WDYT?","msgtype":"m.text"},"ts":1636373982922,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$UagJTzt2lf8CUsqtc-IbFrW56pIYgU9PNmntY4D9kKg"},
{"content":{"body":"... otherwise I need to turn HTTP fetch into something that \"awaits\" fetch or make a lot of changes in fetch to make internal algorithms asynchronous","msgtype":"m.text"},"ts":1636374026552,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$td6sCDjjktbnTtg-vfsJ0fBPNvNYXJ1HnSmCYQXdVjU"},
{"content":{"body":"> <@hsivonen:mozilla.org> I vaguely remember discussing something along those lines with zcorpan . I don't recall any reported breakage from Gecko fixing that.\n\nI don't remember what the compat problem was here","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$G_ts3961PlQhT8V9jlskhAeMyWSeOQQ9F7Ju-EFZXjQ?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br>I vaguely remember discussing something along those lines with <a href=\"https://matrix.to/#/@zcorpan_:matrix.org\">zcorpan</a> . I don't recall any reported breakage from Gecko fixing that.</blockquote></mx-reply>I don't remember what the compat problem was here","m.relates_to":{"m.in_reply_to":{"event_id":"$G_ts3961PlQhT8V9jlskhAeMyWSeOQQ9F7Ju-EFZXjQ"}},"msgtype":"m.text"},"ts":1636374110565,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$NR4f4WH9meGtN3d_7RfHwyXwe9BHF7Ievte6rKnF7Oc"}
]