[
{"content":{"body":"> <@lwarlow:igalia.com> Quick question regarding whatwg participant data, I originally signed up as an indivual but am now part of the Igalia organisation. Do I need to remove myself from https://github.com/whatwg/participant-data/blob/main/individuals.json or will the system handle it?\n\nRemoving yourself would be nice, but nothing bad will happen if you don't ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$jsAs3KSGFGsenG5farnfHysdH3N_Awb7afrlhtxcscw?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@lwarlow:igalia.com\">@lwarlow:igalia.com</a><br />Quick question regarding whatwg participant data, I originally signed up as an indivual but am now part of the Igalia organisation. Do I need to remove myself from https://github.com/whatwg/participant-data/blob/main/individuals.json or will the system handle it?</blockquote></mx-reply>Removing yourself would be nice, but nothing bad will happen if you don't","m.relates_to":{"m.in_reply_to":{"event_id":"$jsAs3KSGFGsenG5farnfHysdH3N_Awb7afrlhtxcscw"}},"msgtype":"m.text"},"ts":1708655418367,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ZFVSwOPA5P6yexoEDLyjJkx-4eiioTdRIuf39-DTU6E"},
{"content":{"body":"sideshowbarker: thanks for https://github.com/WebKit/WebKit/pull/24735 ! I haven't checked the patch closely, but note that for drag and drop the `textInput` event is fired first in both Chromium and WebKit today, and there's no spec yet for `textInput` for drag and drop. (There's also no spec for `beforeinput`/`input` for drag and drop.)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: thanks for https://github.com/WebKit/WebKit/pull/24735 ! I haven't checked the patch closely, but note that for drag and drop the <code>textInput</code> event is fired first in both Chromium and WebKit today, and there's no spec yet for <code>textInput</code> for drag and drop. (There's also no spec for <code>beforeinput</code>/<code>input</code> for drag and drop.)","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1708689343096,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$zILCvBqXB0x9O2FhxtgPB0zrVV5SSFwQdEVwP01h8ng"},
{"content":{"body":"sideshowbarker: I think it would make sense to change the event order for drag and drop so that it's consistent with other editing operations, but I have no data if it's web compatible.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: I think it would make sense to change the event order for drag and drop so that it's consistent with other editing operations, but I have no data if it's web compatible.","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1708690092893,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$zeJVyam7WNItj6tH6r0_oOwj5_gz9pKb6YhM-0176Eo"},
{"content":{"body":"Thanks — as far as that WebKit `textInput` patch goes, I haven’t looked at the drag-and-drop test cases for that, but I guess my patch as currently written is changing the order for drag-and-drop too (that is, so `beforeinput` would now be fired first there too).","format":"org.matrix.custom.html","formatted_body":"Thanks —&nbsp;as far as that WebKit <code>textInput</code> patch goes, I haven’t looked at the drag-and-drop test cases for that, but I guess my patch as currently written is changing the order for drag-and-drop too (that is, so <code>beforeinput</code> would now be fired first there too).","m.mentions":{},"msgtype":"m.text"},"ts":1708690338043,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$IA8k_R2luMS8CILrFLca1OLSJUw9iF1GlTpfDaZq0EM"},
{"content":{"body":"I think it’d likely take some significant more work to special-case the change such that for drag-and-drop it goes back to (stays) at the `textInput`-first state.","format":"org.matrix.custom.html","formatted_body":"I think it’d likely take some significant more work to special-case the change such that for drag-and-drop it goes back to (stays) at the <code>textInput</code>-first state.","m.mentions":{},"msgtype":"m.text"},"ts":1708690442670,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$K6se3iOqWzlh0pch1ZJgS5Fa1o9_hI4gNPxWHLVpl5g"},
{"content":{"body":"When I started on that patch at the beginning of the week, I had naïvely imagined that just changing the order of the events would be a pretty simple thing to implement. But… it’s not been. I don’t know about the code for those events in other engines, but in WebKit the way it happens — the way it’s coded — doesn’t at all easily facilitate flipping the order.","m.mentions":{},"msgtype":"m.text"},"ts":1708690627062,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$5bt6c1TZXsKpTt7Uzqhi8kgd4OTWV7ST5VOmDCf-RYc"},
{"content":{"body":"But that said, until this patch, I had never actually looked at the input-events code — the editing code — in WebKit. So it’s kind of a case where probably 80% of my effort has effectively been around getting familiar with that code and what it’s doing, and where.","m.mentions":{},"msgtype":"m.text"},"ts":1708690779016,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$S7QdfhvQSoNElVQL5K1ci0047DoNBqxOvrTTO6ECBU0"},
{"content":{"body":"For the code owners or somebody else already somewhat familiar with that code, it’d be much easier.","m.mentions":{},"msgtype":"m.text"},"ts":1708690869761,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$6W4sLuNl8Sgcb3txZnm8d4-Q377tSr9GOdRhcK2E7lw"},
{"content":{"body":"Among other things, handling the requirement to not fire `textInput` for Enter keypresses in `input` elements turned out to be one thing that didn’t work (regressed) after I first implemented the patch — and it wasn’t clear to me why it wasn’t working any longer, and how/where in the code I needed to fix it. But it basically amounted to re-implementing the check in a completely separate part of the code from where (in the `HTMLInputElement` code itself) the existing check is.","format":"org.matrix.custom.html","formatted_body":"Among other things, handling the requirement to not fire <code>textInput</code> for Enter keypresses in <code>input</code> elements turned out to be one thing that didn’t work (regressed) after I first implemented the patch —&nbsp;and it wasn’t clear to me why it wasn’t working any longer, and how/where in the code I needed to fix it. But it basically amounted to re-implementing the check in a completely separate part of the code from where (in the <code>HTMLInputElement</code> code itself) the existing check is.","m.mentions":{},"msgtype":"m.text"},"ts":1708691216104,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$HQYA5EeYu4xfaEz4AEdJkwnr4cJjscnGrw-gqrFP-n4"},
{"content":{"body":"And all that said, I’m just assuming (hoping) the way I went about implementing it is actually the right/acceptable way to do it — but it hasn’t actually been reviewed at all yet. So who knows, I may end up getting told by reviewers that the way I approached it is not the way it should be done.","m.mentions":{},"msgtype":"m.text"},"ts":1708691372049,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$bA8hCjmAH8GrDDM5e7_LHnET9olIAeQNqgnMSbx2GUg"},
{"content":{"body":"zcorpan: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the **Tests that failed text/pixel/audio diff** list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that some tests are bad and I need to update/fix the test, rather than the code in my patch)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the <strong>Tests that failed text/pixel/audio diff</strong> list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that some tests are bad and I need to update/fix the test, rather than the code in my patch)","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1708691653335,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$R5S55cNMm5gYS5Aowy7RzC2rTAj6aGCDBBdW8AGtVjw"},
{"content":{"body":"And if you look at https://github.com/WebKit/WebKit/pull/24735#issuecomment-1960782141 there are some other tests that regressed on other ports/platforms that I still need to look at too. (And this is all after having fixed earlier regressions in previous iterations of the patch)","m.mentions":{},"msgtype":"m.text"},"ts":1708691781270,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$0AbNAC2zGLCqbL1HxrQHAbo09ac20M_S0rwYPqMUQww"},
{"content":{"body":"And it sure would be nicer if could be working from the WPT tests at https://github.com/web-platform-tests/wpt/pull/44472 — but as I noted in https://bugs.webkit.org/show_bug.cgi?id=268988#c3, those tests can’t be run as expected in the normal WebKit test environment, due to its testdriver not yet implementing whatever those WPT test are relying on to automate the key sending and form-control filling.","m.mentions":{},"msgtype":"m.text"},"ts":1708692104792,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$SJ8T-qWMIRmYWnd3zAiJlni78zmsoL3LeN3L282W_lI"},
{"content":{"body":" * I think it’d likely take some significant more work to special-case the change such that for drag-and-drop it goes back to (stays at) the `textInput`-first state.","format":"org.matrix.custom.html","formatted_body":" * I think it’d likely take some significant more work to special-case the change such that for drag-and-drop it goes back to (stays at) the <code>textInput</code>-first state.","m.mentions":{},"m.new_content":{"body":"I think it’d likely take some significant more work to special-case the change such that for drag-and-drop it goes back to (stays at) the `textInput`-first state.","format":"org.matrix.custom.html","formatted_body":"I think it’d likely take some significant more work to special-case the change such that for drag-and-drop it goes back to (stays at) the <code>textInput</code>-first state.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$K6se3iOqWzlh0pch1ZJgS5Fa1o9_hI4gNPxWHLVpl5g","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1708692133266,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$twBAbNlN1xF3ZwHW_zXFr_prS3qzsh8eBJ9-lNFMcUs"},
{"content":{"body":" * And all that said, I’m just assuming (hoping) the way I went about implementing it is actually the right/acceptable way to do it. But… it hasn’t actually been reviewed at all yet. So who knows, I may end up getting told by reviewers that the way I approached it is not the way it should be done.","m.mentions":{},"m.new_content":{"body":"And all that said, I’m just assuming (hoping) the way I went about implementing it is actually the right/acceptable way to do it. But… it hasn’t actually been reviewed at all yet. So who knows, I may end up getting told by reviewers that the way I approached it is not the way it should be done.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$bA8hCjmAH8GrDDM5e7_LHnET9olIAeQNqgnMSbx2GUg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1708692186090,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$BD1_mn1B3zGYVllffna7xHYd3bnMuwq5w5Ew7bt239E"},
{"content":{"body":" * And all that said, I’m just assuming (hoping) the way I went about implementing it is actually the right/acceptable way to do it. But… it hasn’t actually been reviewed at all yet. So who knows, I may end up getting told by reviewers that the way I approached it is not the way it should be done at all.","m.mentions":{},"m.new_content":{"body":"And all that said, I’m just assuming (hoping) the way I went about implementing it is actually the right/acceptable way to do it. But… it hasn’t actually been reviewed at all yet. So who knows, I may end up getting told by reviewers that the way I approached it is not the way it should be done at all.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$bA8hCjmAH8GrDDM5e7_LHnET9olIAeQNqgnMSbx2GUg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1708692199021,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$7yjPORYW_fGtBBuFzQq1Nz-UoeYTz-UEx8Gnq1escPw"},
{"content":{"body":" * And all that said, I’m just assuming (hoping) the way I went about implementing it is actually the right/acceptable way to do it. But… it hasn’t actually been reviewed at all yet. So who knows, I may end up getting told by reviewers that the way I approached it is not the right way to go about it at all.","m.mentions":{},"m.new_content":{"body":"And all that said, I’m just assuming (hoping) the way I went about implementing it is actually the right/acceptable way to do it. But… it hasn’t actually been reviewed at all yet. So who knows, I may end up getting told by reviewers that the way I approached it is not the right way to go about it at all.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$bA8hCjmAH8GrDDM5e7_LHnET9olIAeQNqgnMSbx2GUg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1708692221954,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$bXotUSzVCwwK9sEDAHqosDzdfJehWg3LK9lCcEZSY8g"},
{"content":{"body":" * zcorpan: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the **Tests that failed text/pixel/audio diff** list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that the test is deficient and I need to update/fix the test/resutls, rather than the code in my patch)","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the <strong>Tests that failed text/pixel/audio diff</strong> list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that the test is deficient and I need to update/fix the test/resutls, rather than the code in my patch)","m.mentions":{},"m.new_content":{"body":"zcorpan: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the **Tests that failed text/pixel/audio diff** list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that the test is deficient and I need to update/fix the test/resutls, rather than the code in my patch)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the <strong>Tests that failed text/pixel/audio diff</strong> list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that the test is deficient and I need to update/fix the test/resutls, rather than the code in my patch)","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$R5S55cNMm5gYS5Aowy7RzC2rTAj6aGCDBBdW8AGtVjw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1708692517184,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$eHGk17fcSzSwlhslXr67JGdlPS3q3erL2o1uFoIMcSk"},
{"content":{"body":" * zcorpan: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the **Tests that failed text/pixel/audio diff** list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that the test is deficient and I need to update/fix the test/results, rather than the code in my patch)","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the <strong>Tests that failed text/pixel/audio diff</strong> list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that the test is deficient and I need to update/fix the test/results, rather than the code in my patch)","m.mentions":{},"m.new_content":{"body":"zcorpan: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the **Tests that failed text/pixel/audio diff** list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that the test is deficient and I need to update/fix the test/results, rather than the code in my patch)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: Anyway, I’d be happy if/when you have a few minutes, you might take a look at the 4 tests in the <strong>Tests that failed text/pixel/audio diff</strong> list at the top of https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/results.html. Those are tests that my patch regressed. I haven’t looked at them much yet to figure out what I need to do for them (if anything — since for any given test, it’s possible it could turn out that the test is deficient and I need to update/fix the test/results, rather than the code in my patch)","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$R5S55cNMm5gYS5Aowy7RzC2rTAj6aGCDBBdW8AGtVjw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1708692525695,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$jHLRHBRYg2p-vZ2Wevp4RAB-UyQEtOAsLMMVUd4drHA"},
{"content":{"body":"sideshowbarker: https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/editing/pasteboard/paste-text-events-diff.txt \"textInputCount should be 6. Was 12.\" seems like a real regression","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: https://ews-build.s3-us-west-2.amazonaws.com/macOS-Monterey-Release-WK2-Tests-EWS/89ef9249-36849/editing/pasteboard/paste-text-events-diff.txt \"textInputCount should be 6. Was 12.\" seems like a real regression","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1708695130104,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$PghQ3JDrLee6gF4p78Q8Y95KBTtlvPLHZKImM1b7N2o"},
{"content":{"body":"yeah","m.mentions":{},"msgtype":"m.text"},"ts":1708695148549,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$B_Gyd2F0yUxtmQV1uFWtEIGS793z2Mb6n83FGlFnotI"},
{"content":{"body":"working on the other ones now; adding an (additional) `if (inputType == \"insertText\"_s || inputType == \"insertParagraph\"_s || inputType == \"insertLineBreak\"_s)` check…\n","format":"org.matrix.custom.html","formatted_body":"working on the other ones now; adding an (additional) <code>if (inputType == \"insertText\"_s || inputType == \"insertParagraph\"_s || inputType == \"insertLineBreak\"_s)</code> check…","m.mentions":{},"msgtype":"m.text"},"ts":1708695217681,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$hW_VJPR3MwXIDSySEwik0Y4JXx9zVpUARlmf4x7SOCo"},
{"content":{"body":"The flashbacks with these tests http://wpt.live/html/editing/dnd/selection/","m.mentions":{},"msgtype":"m.text"},"ts":1708696045535,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$XcKvqUZqDZaeO2iY2azpnPJHrztd574C12eBaZ7AUGY"},
{"content":{"body":"Flashbacks?","m.mentions":{},"msgtype":"m.text"},"ts":1708696133194,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$Z_eSFXNJFZaps7HFX7ikHp4uoY7_m7fSqnygvNYi69A"},
{"content":{"body":"from Opera times","m.mentions":{},"msgtype":"m.text"},"ts":1708696155671,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$x2IEZvFaVYPEaT_HNFGIG7n23nQRpTXPIZE0NAcpM8k"},
{"content":{"body":"nice, useful naming strategy in those tests","m.mentions":{},"msgtype":"m.text"},"ts":1708699980383,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$1GTqPpyMICFigZD-NMCKCCO7y9Klni5U-p4HyDH3iKE"}
]