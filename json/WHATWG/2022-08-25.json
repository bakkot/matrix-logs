[
{"content":{"body":"Huh, apparently `:scope` doesn't work within DocumentFragment, seems kinda silly","format":"org.matrix.custom.html","formatted_body":"Huh, apparently <code>:scope</code> doesn't work within DocumentFragment, seems kinda silly","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Huh, apparently `:scope` doesn't work within DocumentFragment, seems kinda silly","mimetype":"text/plain"},{"body":"Huh, apparently <code>:scope</code> doesn't work within DocumentFragment, seems kinda silly","mimetype":"text/html"}]},"ts":1661402853162,"senderName":"Lorin","senderId":"@alystair:matrix.org","id":"$NC5zKYjJMgGFGDCEOw_uvvTYSirH7bvPUWxhZji-XDk"},
{"content":{"body":"Sam Sneddon [:gsnedders]: wpt.fyi says that https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1.html passes only in Firefox, and when I try to align about:blank behavior with other browsers, the test starts behaving in Firefox the way it already behaves in Chrome. This strongly suggests we should change the test expectation, right? Do you recall if there's spec text to adjust as well?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">Sam Sneddon [:gsnedders]</a>: wpt.fyi says that https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1.html passes only in Firefox, and when I try to align about:blank behavior with other browsers, the test starts behaving in Firefox the way it already behaves in Chrome. This strongly suggests we should change the test expectation, right? Do you recall if there's spec text to adjust as well?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Sam Sneddon [:gsnedders]: wpt.fyi says that https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1.html passes only in Firefox, and when I try to align about:blank behavior with other browsers, the test starts behaving in Firefox the way it already behaves in Chrome. This strongly suggests we should change the test expectation, right? Do you recall if there's spec text to adjust as well?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">Sam Sneddon [:gsnedders]</a>: wpt.fyi says that https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1.html passes only in Firefox, and when I try to align about:blank behavior with other browsers, the test starts behaving in Firefox the way it already behaves in Chrome. This strongly suggests we should change the test expectation, right? Do you recall if there's spec text to adjust as well?","mimetype":"text/html"}]},"ts":1661409189779,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$w2Xrq5ukXvVYM8VSrN6v2-mz1FwdHLzgKZN7P_vQ2C0"},
{"content":{"body":"> <@hsivonen:mozilla.org> Sam Sneddon [:gsnedders]: wpt.fyi says that https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1.html passes only in Firefox, and when I try to align about:blank behavior with other browsers, the test starts behaving in Firefox the way it already behaves in Chrome. This strongly suggests we should change the test expectation, right? Do you recall if there's spec text to adjust as well?\n\nSpecifically, AFAICT, interop says to remove the `+ 1` on this line: https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1-1.html#L11","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$w2Xrq5ukXvVYM8VSrN6v2-mz1FwdHLzgKZN7P_vQ2C0?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br><a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">Sam Sneddon [:gsnedders]</a>: wpt.fyi says that https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1.html passes only in Firefox, and when I try to align about:blank behavior with other browsers, the test starts behaving in Firefox the way it already behaves in Chrome. This strongly suggests we should change the test expectation, right? Do you recall if there's spec text to adjust as well?</blockquote></mx-reply>Specifically, AFAICT, interop says to remove the <code>+ 1</code> on this line: https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1-1.html#L11","m.relates_to":{"m.in_reply_to":{"event_id":"$w2Xrq5ukXvVYM8VSrN6v2-mz1FwdHLzgKZN7P_vQ2C0"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@hsivonen:mozilla.org> Sam Sneddon [:gsnedders]: wpt.fyi says that https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1.html passes only in Firefox, and when I try to align about:blank behavior with other browsers, the test starts behaving in Firefox the way it already behaves in Chrome. This strongly suggests we should change the test expectation, right? Do you recall if there's spec text to adjust as well?\n\nSpecifically, AFAICT, interop says to remove the `+ 1` on this line: https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1-1.html#L11","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$w2Xrq5ukXvVYM8VSrN6v2-mz1FwdHLzgKZN7P_vQ2C0?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br><a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">Sam Sneddon [:gsnedders]</a>: wpt.fyi says that https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1.html passes only in Firefox, and when I try to align about:blank behavior with other browsers, the test starts behaving in Firefox the way it already behaves in Chrome. This strongly suggests we should change the test expectation, right? Do you recall if there's spec text to adjust as well?</blockquote></mx-reply>Specifically, AFAICT, interop says to remove the <code>+ 1</code> on this line: https://github.com/web-platform-tests/wpt/blob/master/html/browsers/the-window-object/garbage-collection-and-browsing-contexts/discard_iframe_history_1-1.html#L11","mimetype":"text/html"}]},"ts":1661411609414,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$ubNnuxWiPPAShraZRS4AOGlYU5G_kns-rpQMwASZ5tk"},
{"content":{"body":"Yes, that line looks quite suspect... loading a no-src (i.e. about:blank) iframe should not increase history length according to both the current spec and the upcoming rewrite (https://github.com/whatwg/html/pull/6315)","msgtype":"m.text","org.matrix.msc1767.text":"Yes, that line looks quite suspect... loading a no-src (i.e. about:blank) iframe should not increase history length according to both the current spec and the upcoming rewrite (https://github.com/whatwg/html/pull/6315)"},"ts":1661419747567,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$fnvXv2V8DXZ9dkZdiJfdnukW_CI0kyCFh6ioWJoRgcY"},
{"content":{"body":"Oh, no, I misread, it's navigating...","msgtype":"m.text","org.matrix.msc1767.text":"Oh, no, I misread, it's navigating..."},"ts":1661419782003,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$qCeUFia2W92_Fyd2Ges3i5jeIXblHj2-KxN3oZ7fiNk"},
{"content":{"body":"Oh, this is because of the load replace timing I am pretty sure","msgtype":"m.text","org.matrix.msc1767.text":"Oh, this is because of the load replace timing I am pretty sure"},"ts":1661419795380,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$WGHUIOkuUxfOJizfr0PZ7KEKxZcMqJsVBAJoUwbuZbc"},
{"content":{"body":"https://github.com/web-platform-tests/wpt/commit/c1bb1fdaa510c14d31ca8307f4778b015a6bb30d","msgtype":"m.text","org.matrix.msc1767.text":"https://github.com/web-platform-tests/wpt/commit/c1bb1fdaa510c14d31ca8307f4778b015a6bb30d"},"ts":1661419842803,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$-v5cxWCpimoWNJJrCLkfuteeUUAJw_7Kjci_vqnSmXc"},
{"content":{"body":"https://github.com/whatwg/html/pull/6714","msgtype":"m.text","org.matrix.msc1767.text":"https://github.com/whatwg/html/pull/6714"},"ts":1661419857156,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$QAFxxZXONoLqAf9Y9S2hkTzd9oyw7eLVOJcdwt4SksE"},
{"content":{"body":"Well OK it's simpler than that, sorry.","msgtype":"m.text","org.matrix.msc1767.text":"Well OK it's simpler than that, sorry."},"ts":1661419904761,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$F5ZnUlBH3OR6J3XHAqzmDcu0BwrlLQiMktsXKr9Efp8"},
{"content":{"body":"The src-less srcdoc-less iframe is on its initial about:blank","msgtype":"m.text","org.matrix.msc1767.text":"The src-less srcdoc-less iframe is on its initial about:blank"},"ts":1661419913863,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$wVg_vNGc6vCo3Uc_I8WgAEhcCHXTrODnQycJl9oOngI"},
{"content":{"body":"Any navigation from the initial about:blank, per current and future spec, must be a replace navigation (does not increment history.length).","msgtype":"m.text","org.matrix.msc1767.text":"Any navigation from the initial about:blank, per current and future spec, must be a replace navigation (does not increment history.length)."},"ts":1661419933791,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$EvgveYgD-NwTkRZ38-z22ukQCz5IYXszWQaBAQsZVKA"},
{"content":{"body":"This is the spec change: https://github.com/whatwg/html/pull/6595 and this is the tests PR that never landed!?!?! https://github.com/web-platform-tests/wpt/pull/28541","msgtype":"m.text","org.matrix.msc1767.text":"This is the spec change: https://github.com/whatwg/html/pull/6595 and this is the tests PR that never landed!?!?! https://github.com/web-platform-tests/wpt/pull/28541"},"ts":1661420085814,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$vQ-PY26ZJAnJXORBu3xSlNPIL3oNXfEwirqOmF7Pc9A"},
{"content":{"body":"Domenic: I'm looking at `async iterable` support in Firefox, the WebIDL spec talks about a \"end of iteration value\", but it doesn't actually define what that looks like?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I'm looking at <code>async iterable</code> support in Firefox, the WebIDL spec talks about a &quot;end of iteration value&quot;, but it doesn't actually define what that looks like?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: I'm looking at `async iterable` support in Firefox, the WebIDL spec talks about a \"end of iteration value\", but it doesn't actually define what that looks like?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I'm looking at <code>async iterable</code> support in Firefox, the WebIDL spec talks about a &quot;end of iteration value&quot;, but it doesn't actually define what that looks like?","mimetype":"text/html"}]},"ts":1661435903505,"senderName":"peterv","senderId":"@pvanderbeken:mozilla.org","id":"$1bYcTWr6A9_--rmagnGrfU735_7oO2yJIIb89w-or6g"}
]