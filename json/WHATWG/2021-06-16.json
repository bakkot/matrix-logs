[
{"content":{"body":"> <@timothygu:matrix.org> SVG only shows up in some cases. PNG works everywhere.\n\nHuh, apparently the matrix.org homeserver is buggy when making thumbnails for SVG images, but the mozilla.org homeserver isn't","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$c8xDGvUqajBCyFGzoDCuWH4edsZqdRU0ROa4jOMQKm0?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@timothygu:matrix.org\">@timothygu:matrix.org</a><br>SVG only shows up in some cases. PNG works everywhere.</blockquote></mx-reply>Huh, apparently the matrix.org homeserver is buggy when making thumbnails for SVG images, but the mozilla.org homeserver isn't","m.relates_to":{"m.in_reply_to":{"event_id":"$c8xDGvUqajBCyFGzoDCuWH4edsZqdRU0ROa4jOMQKm0"}},"msgtype":"m.text"},"ts":1623801963496,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$4VgNfpIezLtVrQcCeRVnNESySz1_T6OMX08_IdcXhLE"},
{"content":{"body":"Domenic: you should be able to navigate a nested context to a data: URL (there's an open PR by me on forbidding it for top-level contexts with some open questions)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: you should be able to navigate a nested context to a data: URL (there's an open PR by me on forbidding it for top-level contexts with some open questions)","msgtype":"m.text"},"ts":1623825381573,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$woBJYrvlk6mKiYgLZE8Udyn27FRckYggAvoRSupT5p4"},
{"content":{"body":"(I changed the avatar to a PNG)","msgtype":"m.text"},"ts":1623825455168,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$OdeD3n1b1nGC8ycnAmfTFlzIsRes9jmBQe52gaPF6qw"},
{"content":{"body":"wfm","msgtype":"m.text"},"ts":1623826879919,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$cWRiPpQTLI517OFAAAvnjrKZwXa1XQxucEFpNBMyIwo"},
{"content":{"body":"fwf, i know for a fact svgs work since that is what i used for my own room","msgtype":"m.text"},"ts":1623826938198,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$kig9ivjN7bBR4YsXp2KYub3v0qgnTZlFhOGxjn_ijj0"},
{"content":{"body":"no clue if there are attributes missing on y'alls (perhaps a case of over-optimization)","msgtype":"m.text"},"ts":1623826996920,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$phu8UPYxfvWAwecyoRmXW56nc2K3ai6SBR58BNV2OhY"},
{"content":{"body":"The issue is https://github.com/matrix-org/synapse/issues/1309","msgtype":"m.text"},"ts":1623827164917,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$R9BT2qdQcGl91S956YuXhmXY174FO6XwEITz_3f7Nd8"},
{"content":{"body":"I don't know why it works on mozilla.org though, since it also seems to use Synapse","msgtype":"m.text"},"ts":1623827203359,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$Z7odefFolcc9fyzZLTl4z0IqnPcgfe9MT9qfP50HEDY"},
{"content":{"body":"tbh, not entirely sure how important it is to have a non-lossy image format at this point","msgtype":"m.text"},"ts":1623827496019,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$6HpEb_-xOXBeDDfOhxoRNi6APKkyT1MrAYx14XHxq30"},
{"content":{"body":"guess the room preview @ https://matrix.to/#/#whatwg:matrix.org will remain relatively small","msgtype":"m.text"},"ts":1623827610773,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$vNwdRuaa15XCxhXGKF-ADUY__pkELCjNIFAc1dEegCo"},
{"content":{"body":"oh, but when you click on the room image in the element web app it takes up _the entire_ screen ","format":"org.matrix.custom.html","formatted_body":"oh, but when you click on the room image in the element web app it takes up <em>the entire</em> screen","msgtype":"m.text"},"ts":1623827696206,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$gQ_Wh5mHZM12UTREubmdZZKoAILIx4NFlwJ_XcPAwYs"},
{"content":{"body":"oof, that is less than ideal","msgtype":"m.text"},"ts":1623827711651,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$tOV1kU7ExvDA_MpA2AR1EAsqRNm0D07YUIWJGLEe_t4"},
{"content":{"body":"> <@lucacasonato:matrix.org> i was sort of expecting the icon to live on the same server as the room itself (matrix.org afaik for this room)\n\nRooms exist on all participating servers at the same time; media such as images are also duplicated. You can replace matrix-client.matrix.org by any other participating homeserver and still get the media. For instance, [here is the room logo on my server](https://mayeul.net/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f), [KDE's](https://kde.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f), [Mozilla's](https://mozilla.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f).","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Zfz74oGNXDlMOiVc2a4ygNulW4sHSAjW907FQH6JLSk\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br/>i was sort of expecting the icon to live on the same server as the room itself (matrix.org afaik for this room)</blockquote></mx-reply>Rooms exist on all participating servers at the same time; media such as images are also duplicated. You can replace matrix-client.matrix.org by any other participating homeserver and still get the media. For instance, <a href=\"https://mayeul.net/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">here is the room logo on my server</a>, <a href=\"https://kde.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">KDE's</a>, <a href=\"https://mozilla.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">Mozilla's</a>.","im.nheko.relations.v1.relations":[{"event_id":"$Zfz74oGNXDlMOiVc2a4ygNulW4sHSAjW907FQH6JLSk","rel_type":"im.nheko.relations.v1.in_reply_to"}],"m.relates_to":{"m.in_reply_to":{"event_id":"$Zfz74oGNXDlMOiVc2a4ygNulW4sHSAjW907FQH6JLSk"}},"msgtype":"m.text"},"ts":1623828340283,"senderName":"MayeulC","senderId":"@mayeul:mayeul.net","id":"$INesAgPg23bSpnkJkfWqQi9Aoyvy3R2lhZ3GDH6NEww"},
{"content":{"body":"> <@lucacasonato:matrix.org> i was sort of expecting the icon to live on the same server as the room itself (matrix.org afaik for this room)\n\n * Rooms exist on all participating servers at the same time; media such as images is also duplicated. You can replace matrix-client.matrix.org by any other participating homeserver and still get the media. For instance, [here is the room logo on my server](https://mayeul.net/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f), [KDE's](https://kde.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f), [Mozilla's](https://mozilla.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f).","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Zfz74oGNXDlMOiVc2a4ygNulW4sHSAjW907FQH6JLSk\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>i was sort of expecting the icon to live on the same server as the room itself (matrix.org afaik for this room)</blockquote></mx-reply> * Rooms exist on all participating servers at the same time; media such as images is also duplicated. You can replace matrix-client.matrix.org by any other participating homeserver and still get the media. For instance, <a href=\"https://mayeul.net/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">here is the room logo on my server</a>, <a href=\"https://kde.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">KDE's</a>, <a href=\"https://mozilla.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">Mozilla's</a>.","m.new_content":{"body":"Rooms exist on all participating servers at the same time; media such as images is also duplicated. You can replace matrix-client.matrix.org by any other participating homeserver and still get the media. For instance, [here is the room logo on my server](https://mayeul.net/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f), [KDE's](https://kde.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f), [Mozilla's](https://mozilla.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f).","format":"org.matrix.custom.html","formatted_body":"Rooms exist on all participating servers at the same time; media such as images is also duplicated. You can replace matrix-client.matrix.org by any other participating homeserver and still get the media. For instance, <a href=\"https://mayeul.net/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">here is the room logo on my server</a>, <a href=\"https://kde.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">KDE's</a>, <a href=\"https://mozilla.modular.im/_matrix/media/r0/download/mozilla.org/cab85c2fc275cb19f0276f7dd2ba4af349b0223f\">Mozilla's</a>.","msgtype":"m.text"},"m.relates_to":{"event_id":"$INesAgPg23bSpnkJkfWqQi9Aoyvy3R2lhZ3GDH6NEww","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623828367380,"senderName":"MayeulC","senderId":"@mayeul:mayeul.net","id":"$VeeAYtcng_YjzfDQgQ4WcgZqxPhOF4tl8ofYpdkUoSQ"},
{"content":{"body":"And your client fetches the media from your own homeserver (which will fetch it from the federation if not available; currently synapse only asks the originating homeserver).","msgtype":"m.text"},"ts":1623828459706,"senderName":"MayeulC","senderId":"@mayeul:mayeul.net","id":"$1BNMvOZbTn0WIverkD-Ayjy0SMv7dO5fte2yiF_QGI0"},
{"content":{"body":"> <@andreubotella:mozilla.org> I don't know why it works on mozilla.org though, since it also seems to use Synapse\n\nAndreu Botella (he/they): can you give me an example of it working on mozilla.org? do you mean `chat.mozilla.org?`","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Z7odefFolcc9fyzZLTl4z0IqnPcgfe9MT9qfP50HEDY?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">@andreubotella:mozilla.org</a><br>I don&#39;t know why it works on mozilla.org though, since it also seems to use Synapse</blockquote></mx-reply><a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">Andreu Botella (he/they)</a>: can you give me an example of it working on mozilla.org? do you mean <code>chat.mozilla.org?</code>","m.relates_to":{"m.in_reply_to":{"event_id":"$Z7odefFolcc9fyzZLTl4z0IqnPcgfe9MT9qfP50HEDY"}},"msgtype":"m.text"},"ts":1623831415737,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$79iP9zaU4t4OWZM1nCQ8tHIsj8vN6ZxhQXK3JaGoZS4"},
{"content":{"body":"Right now the logo is a PNG, but If you have your user account registered on the mozilla.org homeserver, you could see the logo before","msgtype":"m.text"},"ts":1623831681797,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$AaPMyy10sJD1B-d5w_do3iq9GYZ4uEzxAC6JjgrXHMw"},
{"content":{"body":"> <@andreubotella:mozilla.org> Right now the logo is a PNG, but If you have your user account registered on the mozilla.org homeserver, you could see the logo before\n\nmy user acc is on mozilla.org and i was not able to see the logo previously as it was an svg","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$AaPMyy10sJD1B-d5w_do3iq9GYZ4uEzxAC6JjgrXHMw?via=mozilla.org&via=matrix.org&via=fairydust.space\">In reply to</a> <a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">@andreubotella:mozilla.org</a><br>Right now the logo is a PNG, but If you have your user account registered on the mozilla.org homeserver, you could see the logo before</blockquote></mx-reply>my user acc is on mozilla.org and i was not able to see the logo previously as it was an svg","m.relates_to":{"m.in_reply_to":{"event_id":"$AaPMyy10sJD1B-d5w_do3iq9GYZ4uEzxAC6JjgrXHMw"}},"msgtype":"m.text"},"ts":1623831969282,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$MOJDTsMjIxqyNXbKdHKLwM1E1BeTJyuhHj_xkCFtz_4"},
{"content":{"body":"I don't know, but when I was testing this last night, downloading the logo with the `download` API worked on both my usual mozilla.org account and on a test matrix.org account, but the `thumbnail` API gave a 404 on the matrix.org account","format":"org.matrix.custom.html","formatted_body":"I don't know, but when I was testing this last night, downloading the logo with the <code>download</code> API worked on both my usual mozilla.org account and on a test matrix.org account, but the <code>thumbnail</code> API gave a 404 on the matrix.org account","msgtype":"m.text"},"ts":1623832229730,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$koX6ayiPVarNMclKSEb7BWucdWm3b07k0S7QObxdeaA"},
{"content":{"body":"https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-download-servername-mediaid","msgtype":"m.text"},"ts":1623832246115,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$EdNsJe1OGZflWGcN5su2ZfwubB98F3qFoJ636DRknTI"},
{"content":{"body":"none of the rooms in the mozilla.org homeserver seem to be using an svg afaict","msgtype":"m.text"},"ts":1623832317830,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$5_rYEgHrOLB17B93_hr1HCMeMGbNVmWBKRaHk9RCWxk"},
{"content":{"body":"> [...] but the `thumbnail` API gave a 404 on the matrix.org account","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n[...] but the <code>thumbnail</code> API gave a 404 on the matrix.org account\n</blockquote>\n","msgtype":"m.text"},"ts":1623832476711,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$QHWG7r22vtj8BGt2-mcyR1w5lQxbVWS3FtLTsogxeYA"},
{"content":{"body":"ditto here","msgtype":"m.text"},"ts":1623832480781,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$87yScIuv4Uo0pWGFOlkP-HhizH6TynkCu4JdTTRWpYM"},
{"content":{"body":"i saw the logo before the change and still see it now. Fwiw we use #synchronicity:mozilla.org for debugging and discussing these types of issues. at least it's the \"mozilla gateway to the matrix devs\".. :) not sure if that helps","format":"org.matrix.custom.html","formatted_body":"i saw the logo before the change and still see it now. Fwiw we use <a href=\"https://matrix.to/#/#synchronicity:mozilla.org\">#synchronicity:mozilla.org</a> for debugging and discussing these types of issues. at least it's the &quot;mozilla gateway to the matrix devs&quot;.. :) not sure if that helps","msgtype":"m.text"},"ts":1623848694489,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$OSeP9vGMGtx8xdem-dyHQVrJI6h7By8SslQDpKAOfIQ"},
{"content":{"body":"> <@fbraun:mozilla.org> i saw the logo before the change and still see it now. Fwiw we use #synchronicity:mozilla.org for debugging and discussing these types of issues. at least it's the \"mozilla gateway to the matrix devs\".. :) not sure if that helps\n\nfreddy: thanks, good to know (guess id ask in there before making any future support request). to be clear tho, afaict the issue might not be exclusive to mozilla matrix infra (404s were at least coming from `https:matrix-client.matrix.org` when i checked (altho would not be surprised if `https://mozilla.modular.im` does the same); the docs to exact api that is senselessly failing [were linked above](https://matrix.org/docs/spec/client_server/r0.6.1#id404) by Andreu Botella (he/they) (thnx!), but seems like we needed to dig further..\n\n> The homeserver SHOULD be able to supply thumbnails for uploaded images and videos. The exact file types which can be thumbnailed are not currently specified [...]\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#id407\n\n> [...] with the exception of SVG which is particularly vulnerable to exploding clients thanks to billion lol attacks.\n> â€” https://github.com/matrix-org/matrix-doc/issues/1938#issue-424877225\n\nXXXbz? the api in question does not currently specify which media formats are supported (or perhaps, more importantly, _unsupported_), but one of the peeps in that issue seems to have safety concerns, particularly w/ _svg thumbnails_ for some reason","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$OSeP9vGMGtx8xdem-dyHQVrJI6h7By8SslQDpKAOfIQ?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@fbraun:mozilla.org\">@fbraun:mozilla.org</a><br>i saw the logo before the change and still see it now. Fwiw we use <a href=\"https://matrix.to/#/#synchronicity:mozilla.org\">#synchronicity:mozilla.org</a> for debugging and discussing these types of issues. at least it's the \"mozilla gateway to the matrix devs\".. :) not sure if that helps</blockquote></mx-reply><p><a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: thanks, good to know (guess id ask in there before making any future support request). to be clear tho, afaict the issue might not be exclusive to mozilla matrix infra (404s were at least coming from <code>https:matrix-client.matrix.org</code> when i checked (altho would not be surprised if <code>https://mozilla.modular.im</code> does the same); the docs to exact api that is senselessly failing <a href=\"https://matrix.org/docs/spec/client_server/r0.6.1#id404\">were linked above</a> by <a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">Andreu Botella (he/they)</a> (thnx!), but seems like we needed to dig further..</p>\n<blockquote>\n<p>The homeserver SHOULD be able to supply thumbnails for uploaded images and videos. The exact file types which can be thumbnailed are not currently specified [...]<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#id407</p>\n</blockquote>\n<blockquote>\n<p>[...] with the exception of SVG which is particularly vulnerable to exploding clients thanks to billion lol attacks.<br>â€” https://github.com/matrix-org/matrix-doc/issues/1938#issue-424877225</p>\n</blockquote>\n<p>XXXbz? the api in question does not currently specify which media formats are supported (or perhaps, more importantly, <em>unsupported</em>), but one of the peeps in that issue seems to have safety concerns, particularly w/ <em>svg thumbnails</em> for some reason</p>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$OSeP9vGMGtx8xdem-dyHQVrJI6h7By8SslQDpKAOfIQ"}},"msgtype":"m.text"},"ts":1623868519070,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$sOllj6xWXJX-s88HBTpknU1jV1y-N_E6bpQp26p7f4U"},
{"content":{"body":"DerekNonGeneric: I think the difference with thumbnails is that the homeserver doesn't have to process the full-res image, it can just store it as is. But for generating thumbnails, the homeserver has to parse the image, and the billion laughs attack is a well known denial of service attack against XML formats","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@dereknongeneric:mozilla.org\">DerekNonGeneric</a>: I think the difference with thumbnails is that the homeserver doesn't have to process the full-res image, it can just store it as is. But for generating thumbnails, the homeserver has to parse the image, and the billion laughs attack is a well known denial of service attack against XML formats","msgtype":"m.text"},"ts":1623868655811,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$TRjlwyT3D11rbiHoGQPK6qzEikNHqOtq3WZkfwHpb90"},
{"content":{"body":"https://en.wikipedia.org/wiki/Billion_laughs_attack","msgtype":"m.text"},"ts":1623868703911,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$21uKAh0pRmTQDexcxIlKyMFdfiLHFZsQ0O1GABVmyRY"},
{"content":{"body":"oh wow, til -- thanks!","msgtype":"m.text"},"ts":1623868951866,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$yp9CK8olImBCpKchGtqfp8g1zYgKy5dHiKbdMSjtr2c"},
{"content":{"body":"wonder if `https:matrix-client.matrix.org` was forced to block that format for this api due to shenanigans","format":"org.matrix.custom.html","formatted_body":"wonder if <code>https:matrix-client.matrix.org</code> was forced to block that format for this api due to shenanigans","msgtype":"m.text"},"ts":1623869191390,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$gupy2A5mfj0EyrKOW88H_D0YDJ7RIxkhoFMXfpTz2VE"},
{"content":{"body":"From a quick look at the code, it seems like the development version of Synapse doesn't generate thumbnails for SVGs, so it's not a matrix.org only thing","msgtype":"m.text"},"ts":1623869366747,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$1arPaW-_ifjyyfi1V-BdEJhOeqQJA-_dZS0nHLf2__Y"},
{"content":{"body":"But I'll check it later today and maybe ask on #synchronicity:mozilla.org if they're using any patches to Synapse that might fix that","format":"org.matrix.custom.html","formatted_body":"But I'll check it later today and maybe ask on <a href=\"https://matrix.to/#/#synchronicity:mozilla.org\">#synchronicity:mozilla.org</a> if they're using any patches to Synapse that might fix that","msgtype":"m.text"},"ts":1623869403011,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$6LholrJVxws0xpiEwoWIwDQxGQB-I87OwaXUuNdP8as"},
{"content":{"body":"g2g right now tho","msgtype":"m.text"},"ts":1623869427523,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$SgInBIA4_kKcz3yasTcnN5q93zDPhJQV2aLA-REJrFM"},
{"content":{"body":"cool, thnx -- keep me posted tho","msgtype":"m.text"},"ts":1623869446729,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$LGnLBmLRp21jDhcwX8nTcmT_WvCQ5Bta8f7UiKi-oys"},
{"content":{"body":"\"generating a thumbnail for SVG\" sounds like a fun project. shouldn't it just proxy the original image? SVG is _scalable_ after all ðŸ˜‰","format":"org.matrix.custom.html","formatted_body":"&quot;generating a thumbnail for SVG&quot; sounds like a fun project. shouldn't it just proxy the original image? SVG is <em>scalable</em> after all ðŸ˜‰","msgtype":"m.text"},"ts":1623869510886,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$Pqx5COXSXHgbIxm12C8dezDdd4vYYGQm8m-oIN_P_y8"},
{"content":{"body":"> <@lucacasonato:matrix.org> \"generating a thumbnail for SVG\" sounds like a fun project. shouldn't it just proxy the original image? SVG is _scalable_ after all ðŸ˜‰\n\nhttps://github.com/matrix-org/synapse/issues/1309#issuecomment-258911034","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Pqx5COXSXHgbIxm12C8dezDdd4vYYGQm8m-oIN_P_y8?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>\"generating a thumbnail for SVG\" sounds like a fun project. shouldn't it just proxy the original image? SVG is <em>scalable</em> after all ðŸ˜‰</blockquote></mx-reply>https://github.com/matrix-org/synapse/issues/1309#issuecomment-258911034","m.relates_to":{"m.in_reply_to":{"event_id":"$Pqx5COXSXHgbIxm12C8dezDdd4vYYGQm8m-oIN_P_y8"}},"msgtype":"m.text"},"ts":1623869599562,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$zmiSVkQ8Yit3xVEJesquyec1_H3fOzTobVqnwCID6sw"},
{"content":{"body":"welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n- > \"scale\" maintains the original aspect ratio of the image\n   `width` and `height` attribs on the root `svg` element\n- > \"crop\" provides an image in the aspect ratio of the sizes given in the request\n   would need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (the attrib on the root `svg` element)","format":"org.matrix.custom.html","formatted_body":"<p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<ul>\n<li>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br><code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (the attrib on the root <code>svg</code> element)</p>\n</blockquote>\n</li>\n</ul>\n","msgtype":"m.text"},"ts":1623870127972,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$3JykuycFqtkUDRR8LGg7IPl6-DqTHCfNAFZVtDEYsRo"},
{"content":{"body":" * welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n- > \"scale\" maintains the original aspect ratio of the image\n   `width` and `height` attribs on the root `svg` element\n- > \"crop\" provides an image in the aspect ratio of the sizes given in the request\n   would need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)","format":"org.matrix.custom.html","formatted_body":" * <p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<ul>\n<li>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br><code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)</p>\n</blockquote>\n</li>\n</ul>\n","m.new_content":{"body":"welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n- > \"scale\" maintains the original aspect ratio of the image\n   `width` and `height` attribs on the root `svg` element\n- > \"crop\" provides an image in the aspect ratio of the sizes given in the request\n   would need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)","format":"org.matrix.custom.html","formatted_body":"<p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<ul>\n<li>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br><code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)</p>\n</blockquote>\n</li>\n</ul>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$3JykuycFqtkUDRR8LGg7IPl6-DqTHCfNAFZVtDEYsRo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623870280319,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$qy7UeYv6EiTCadGYIwZJHi6YiKrLEKaCiBdXb0vbhjU"},
{"content":{"body":" * welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n> | --- | --- | --- |\n> | width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> | height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n\n- > \"scale\" maintains the original aspect ratio of the image\n  > â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n  id simply modify the `width` and `height` attribs on the root `svg` element\n- > \"crop\" provides an image in the aspect ratio of the sizes given in the request\n  > â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n  would need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":" * <p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<blockquote>\n<p>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n</blockquote>\n<ul>\n<li>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails<br>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails<br>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n</blockquote>\n</li>\n</ul>\n","m.new_content":{"body":"welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n> | --- | --- | --- |\n> | width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> | height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n\n- > \"scale\" maintains the original aspect ratio of the image\n  > â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n  id simply modify the `width` and `height` attribs on the root `svg` element\n- > \"crop\" provides an image in the aspect ratio of the sizes given in the request\n  > â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n  would need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":"<p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<blockquote>\n<p>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n</blockquote>\n<ul>\n<li>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails<br>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails<br>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n</blockquote>\n</li>\n</ul>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$3JykuycFqtkUDRR8LGg7IPl6-DqTHCfNAFZVtDEYsRo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623870889639,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$EwedxVQ40AZxMXgWVYHrbWKyGvIKz5Jny-tbmJaDvJg"},
{"content":{"body":" * welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n> | --- | --- | --- |\n> | width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> | height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n\n1. > \"scale\" maintains the original aspect ratio of the image\n  > â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n\n2. - > \"crop\" provides an image in the aspect ratio of the sizes given in the request\n  > â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\n would need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":" * <p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<blockquote>\n<p>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n</blockquote>\n<ol>\n<li>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image</p>\n</blockquote>\n</li>\n</ol>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n<ol start=\"2\">\n<li>\n<ul>\n<li>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","m.new_content":{"body":"welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n> | --- | --- | --- |\n> | width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> | height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n\n1. > \"scale\" maintains the original aspect ratio of the image\n  > â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n\n2. - > \"crop\" provides an image in the aspect ratio of the sizes given in the request\n  > â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\n would need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":"<p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<blockquote>\n<p>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n</blockquote>\n<ol>\n<li>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image</p>\n</blockquote>\n</li>\n</ol>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n<ol start=\"2\">\n<li>\n<ul>\n<li>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$3JykuycFqtkUDRR8LGg7IPl6-DqTHCfNAFZVtDEYsRo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623870943761,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$jWeFTh_h7DfzhM84lCu90AiWoW8wlF7Qv0Lcy_1zB0c"},
{"content":{"body":" * welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n> | --- | --- | --- |\n> | width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> | height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n1. \"scale\" maintains the original aspect ratio of the image\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n2. \"crop\" provides an image in the aspect ratio of the sizes given in the request\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nwould need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":" * <p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<blockquote>\n<p>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n</blockquote>\n<ol>\n<li>&quot;scale&quot; maintains the original aspect ratio of the image</li>\n</ol>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element<br>2. &quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request</p>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","m.new_content":{"body":"welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n> | --- | --- | --- |\n> | width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> | height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n1. \"scale\" maintains the original aspect ratio of the image\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n2. \"crop\" provides an image in the aspect ratio of the sizes given in the request\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nwould need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":"<p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<blockquote>\n<p>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n</blockquote>\n<ol>\n<li>&quot;scale&quot; maintains the original aspect ratio of the image</li>\n</ol>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element<br>2. &quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request</p>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$3JykuycFqtkUDRR8LGg7IPl6-DqTHCfNAFZVtDEYsRo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623870973974,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$e23nR6x8jujqBEfu2lbClIddIvhsDxmc-0WHEreVoDM"},
{"content":{"body":" * welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n| --- | --- | --- |\n| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n1. \"scale\" maintains the original aspect ratio of the image\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n2. \"crop\" provides an image in the aspect ratio of the sizes given in the request\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nwould need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":" * <p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:<br>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |</p>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n</blockquote>\n<ol>\n<li>&quot;scale&quot; maintains the original aspect ratio of the image</li>\n</ol>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element<br>2. &quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request</p>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","m.new_content":{"body":"welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n| --- | --- | --- |\n| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n1. \"scale\" maintains the original aspect ratio of the image\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n2. \"crop\" provides an image in the aspect ratio of the sizes given in the request\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nwould need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":"<p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:<br>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |</p>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n</blockquote>\n<ol>\n<li>&quot;scale&quot; maintains the original aspect ratio of the image</li>\n</ol>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element<br>2. &quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request</p>\n<blockquote>\n<p>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$3JykuycFqtkUDRR8LGg7IPl6-DqTHCfNAFZVtDEYsRo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623871004782,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$qmNf2iz6QsMQ3za0iD5ECyKjXjmXsS4CX0CS8lxofuA"},
{"content":{"body":" * welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n| x | y | z |\n| --- | --- | --- |\n| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n\nSource: https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n\n> \"scale\" maintains the original aspect ratio of the image\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n\n> \"crop\" provides an image in the aspect ratio of the sizes given in the request\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nwould need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":" * <p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<p>| x | y | z |<br>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |</p>\n<p>Source: https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","m.new_content":{"body":"welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n| x | y | z |\n| --- | --- | --- |\n| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |\n| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n\nSource: https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n\n> \"scale\" maintains the original aspect ratio of the image\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n\n> \"crop\" provides an image in the aspect ratio of the sizes given in the request\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nwould need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":"<p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<p>| x | y | z |<br>| --- | --- | --- |<br>| width | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified. |<br>| height | integer  | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |</p>\n<p>Source: https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$3JykuycFqtkUDRR8LGg7IPl6-DqTHCfNAFZVtDEYsRo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623871153129,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$EAJy3y_5-0iLhm-F4X_qlVIqeq_3Df-HmI8FENHxMSE"},
{"content":{"body":" * welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n```\n| x      | y       | z                                                                                                          |\n| ------ | ------- | ---------------------------------------------------------------------------------------------------------- |\n| width  | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified.  |\n| height | integer | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n```\n\nSource: https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n\n> \"scale\" maintains the original aspect ratio of the image\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n\n> \"crop\" provides an image in the aspect ratio of the sizes given in the request\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nwould need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":" * <p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<pre><code>| x      | y       | z                                                                                                          |\n| ------ | ------- | ---------------------------------------------------------------------------------------------------------- |\n| width  | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified.  |\n| height | integer | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n</code></pre>\n<p>Source: https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","m.new_content":{"body":"welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:\n\n```\n| x      | y       | z                                                                                                          |\n| ------ | ------- | ---------------------------------------------------------------------------------------------------------- |\n| width  | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified.  |\n| height | integer | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n```\n\nSource: https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid\n\n> \"scale\" maintains the original aspect ratio of the image\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nid simply modify the `width` and `height` attribs on the root `svg` element\n\n> \"crop\" provides an image in the aspect ratio of the sizes given in the request\n> â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails\n\nwould need to actually test it out, but maybe mucking w/ the `viewbox` dimensions (also on the root `svg` element)?","format":"org.matrix.custom.html","formatted_body":"<p>welll if modding the svg's xml is ok, firstly id run security checks for at least billion lol attacks, after that i would probably run the svgs through a minifier, then after that:</p>\n<pre><code>| x      | y       | z                                                                                                          |\n| ------ | ------- | ---------------------------------------------------------------------------------------------------------- |\n| width  | integer | Required. The desired width of the thumbnail. The actual thumbnail may be larger than the size specified.  |\n| height | integer | Required. The desired height of the thumbnail. The actual thumbnail may be larger than the size specified. |\n</code></pre>\n<p>Source: https://matrix.org/docs/spec/client_server/r0.6.1#get-matrix-media-r0-thumbnail-servername-mediaid</p>\n<blockquote>\n<p>&quot;scale&quot; maintains the original aspect ratio of the image<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>id simply modify the <code>width</code> and <code>height</code> attribs on the root <code>svg</code> element</p>\n<blockquote>\n<p>&quot;crop&quot; provides an image in the aspect ratio of the sizes given in the request<br>â€” https://matrix.org/docs/spec/client_server/r0.6.1#thumbnails</p>\n</blockquote>\n<p>would need to actually test it out, but maybe mucking w/ the <code>viewbox</code> dimensions (also on the root <code>svg</code> element)?</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$3JykuycFqtkUDRR8LGg7IPl6-DqTHCfNAFZVtDEYsRo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623871301024,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$mieDSozWBeSe-uT83lJhCgfXER_wfLSAcbYJ2a6UN9E"},
{"content":{"body":"questions the lack of rendered markdown table support in messages?","msgtype":"m.emote"},"ts":1623871483697,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$iYA40aWO51xUW7CSzhUQp_fY5fRVZrcQpkrBHMvGPtA"},
{"content":{"body":"anyways, svgs would likely be able to fit the thumbnail api w/o causing distortion to the original image and the security concern could likely be mitigated by validating image uploads (like at the point when the user uploads their avatar)","msgtype":"m.text"},"ts":1623872140253,"senderName":"DerekNonGeneric","senderId":"@dereknongeneric:mozilla.org","id":"$_y2u8ioZgKNV3a66nweEAnj_JpqXckkMxKx6LLEYtB0"}
]