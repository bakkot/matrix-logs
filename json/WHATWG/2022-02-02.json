[
{"content":{"body":"What’s the current best-practice way to programmatically detect if a document is in a frame?","msgtype":"m.text"},"ts":1643796672714,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$esl183w5nNFfhmpAtYsBsKLg9lWG-UrrYOrVQHQvYVI"},
{"content":{"body":"> <@sideshowbarker:mozilla.org> What’s the current best-practice way to programmatically detect if a document is in a frame?\n\nI guess https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement ?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$esl183w5nNFfhmpAtYsBsKLg9lWG-UrrYOrVQHQvYVI?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br>What’s the current best-practice way to programmatically detect if a document is in a frame?</blockquote></mx-reply>I guess https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement ?","m.relates_to":{"m.in_reply_to":{"event_id":"$esl183w5nNFfhmpAtYsBsKLg9lWG-UrrYOrVQHQvYVI"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@sideshowbarker:mozilla.org> What’s the current best-practice way to programmatically detect if a document is in a frame?\n\nI guess https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement ?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$esl183w5nNFfhmpAtYsBsKLg9lWG-UrrYOrVQHQvYVI?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br>What’s the current best-practice way to programmatically detect if a document is in a frame?</blockquote></mx-reply>I guess https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement ?","mimetype":"text/html"}]},"ts":1643804680876,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$aHs3lNK6kcx85oazxhM0wdIS7ZnD_EFjvxWX5xxyqRo"},
{"content":{"body":"(I usually do something like `window.parent !== window.self` but `frameElement` feels more like a best practice)","format":"org.matrix.custom.html","formatted_body":"(I usually do something like <code>window.parent !== window.self</code> but <code>frameElement</code> feels more like a best practice)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"(I usually do something like `window.parent !== window.self` but `frameElement` feels more like a best practice)","mimetype":"text/plain"},{"body":"(I usually do something like <code>window.parent !== window.self</code> but <code>frameElement</code> feels more like a best practice)","mimetype":"text/html"}]},"ts":1643806375574,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$45dXyZZ2ly7fjurAnt1Fyo5H3uZz42Ux7iS-necEwg0"},
{"content":{"body":"Noam Rosenthal: thanks much","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: thanks much","msgtype":"m.text"},"ts":1643811839236,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$-9De5PiVOgJMP2VWM75tqw8x0SfJonaHzfzwXoQ0eXM"},
{"content":{"body":"> <@hixie:matrix.org> anyone know if we ever defined what headers should not be included in subsequent requests after a cross-origin HTTP redirect?\n\nNot sure how I missed this yesterday but a coworker pointed me to https://fetch.spec.whatwg.org/#http-redirect-fetch step 11. So basically remove https://fetch.spec.whatwg.org/#request-body-header-name","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$S3XXXQEiGn084yQaqCxVyuN_6yZs5Wt-PN3k3kmpNn0?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hixie:matrix.org\">@hixie:matrix.org</a><br>anyone know if we ever defined what headers should not be included in subsequent requests after a cross-origin HTTP redirect?</blockquote></mx-reply>Not sure how I missed this yesterday but a coworker pointed me to https://fetch.spec.whatwg.org/#http-redirect-fetch step 11. So basically remove https://fetch.spec.whatwg.org/#request-body-header-name","m.relates_to":{"m.in_reply_to":{"event_id":"$S3XXXQEiGn084yQaqCxVyuN_6yZs5Wt-PN3k3kmpNn0"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@hixie:matrix.org> anyone know if we ever defined what headers should not be included in subsequent requests after a cross-origin HTTP redirect?\n\nNot sure how I missed this yesterday but a coworker pointed me to https://fetch.spec.whatwg.org/#http-redirect-fetch step 11. So basically remove https://fetch.spec.whatwg.org/#request-body-header-name","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$S3XXXQEiGn084yQaqCxVyuN_6yZs5Wt-PN3k3kmpNn0?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hixie:matrix.org\">@hixie:matrix.org</a><br>anyone know if we ever defined what headers should not be included in subsequent requests after a cross-origin HTTP redirect?</blockquote></mx-reply>Not sure how I missed this yesterday but a coworker pointed me to https://fetch.spec.whatwg.org/#http-redirect-fetch step 11. So basically remove https://fetch.spec.whatwg.org/#request-body-header-name","mimetype":"text/html"}]},"ts":1643814145946,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$oYgCWwhsKhpDaYyqZXfbMgkYaqSLjpRyzsWPUpQXJGE"},
{"content":{"body":"jgraham: in wpt, is there a way to test behavior when alert() pops up?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: in wpt, is there a way to test behavior when alert() pops up?","msgtype":"m.text"},"ts":1643820707062,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$f5J5125oKRfCgfMQmKgrkQNXqJ_44RVNTnMVwqLytEs"},
{"content":{"body":"or basically, is there a way to close it?","msgtype":"m.text"},"ts":1643820715421,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$i7bqhO5vVWo4tpC_d5wnzpiABtnWRvyzlcKaB4r9oM4"},
{"content":{"body":"smaug: seems like WebDriver has support for this, but it's not patched through to testdriver and not used in tests. Shouldn't be difficult to accomplish IMO. But maybe jgraham has more context (or others at #wpt:matrix.org)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: seems like WebDriver has support for this, but it's not patched through to testdriver and not used in tests. Shouldn't be difficult to accomplish IMO. But maybe <a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a> has more context (or others at <a href=\"https://matrix.to/#/#wpt:matrix.org\">#wpt:matrix.org</a>)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug: seems like WebDriver has support for this, but it's not patched through to testdriver and not used in tests. Shouldn't be difficult to accomplish IMO. But maybe jgraham has more context (or others at #wpt:matrix.org)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: seems like WebDriver has support for this, but it's not patched through to testdriver and not used in tests. Shouldn't be difficult to accomplish IMO. But maybe <a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a> has more context (or others at <a href=\"https://matrix.to/#/#wpt:matrix.org\">#wpt:matrix.org</a>)","mimetype":"text/html"}]},"ts":1643823108426,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$LH64CP_uuSwEjmcfk39jhD6GN7d4urTNIAqe1VHzreU"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Not sure how I missed this yesterday but a coworker pointed me to https://fetch.spec.whatwg.org/#http-redirect-fetch step 11. So basically remove https://fetch.spec.whatwg.org/#request-body-header-name\n\noh interesting. but that doesn't include things like Set-Cookie and Authorization?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$oYgCWwhsKhpDaYyqZXfbMgkYaqSLjpRyzsWPUpQXJGE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Not sure how I missed this yesterday but a coworker pointed me to https://fetch.spec.whatwg.org/#http-redirect-fetch step 11. So basically remove https://fetch.spec.whatwg.org/#request-body-header-name</blockquote></mx-reply>oh interesting. but that doesn't include things like Set-Cookie and Authorization?","m.relates_to":{"m.in_reply_to":{"event_id":"$oYgCWwhsKhpDaYyqZXfbMgkYaqSLjpRyzsWPUpQXJGE"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@domenicdenicola:matrix.org> Not sure how I missed this yesterday but a coworker pointed me to https://fetch.spec.whatwg.org/#http-redirect-fetch step 11. So basically remove https://fetch.spec.whatwg.org/#request-body-header-name\n\noh interesting. but that doesn't include things like Set-Cookie and Authorization?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$oYgCWwhsKhpDaYyqZXfbMgkYaqSLjpRyzsWPUpQXJGE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Not sure how I missed this yesterday but a coworker pointed me to https://fetch.spec.whatwg.org/#http-redirect-fetch step 11. So basically remove https://fetch.spec.whatwg.org/#request-body-header-name</blockquote></mx-reply>oh interesting. but that doesn't include things like Set-Cookie and Authorization?","mimetype":"text/html"}]},"ts":1643828850365,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$SaBBjfPXzkVAcAkFuC_gtkzDaoxZpdnpM8GnEaadd8g"},
{"content":{"body":"Right so removing credentials is conditional on your credentials mode being \"same-origin\", let's find that...","msgtype":"m.text","org.matrix.msc1767.text":"Right so removing credentials is conditional on your credentials mode being \"same-origin\", let's find that..."},"ts":1643828890127,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$m0YQeRJ7ds87M3TyjNoB2Vtra-y6Ho0JsT0IY661SzI"},
{"content":{"body":"Those two are only conditionally included in step 20 of https://fetch.spec.whatwg.org/#concept-http-network-or-cache-fetch based on several pieces of input","msgtype":"m.text","org.matrix.msc1767.text":"Those two are only conditionally included in step 20 of https://fetch.spec.whatwg.org/#concept-http-network-or-cache-fetch based on several pieces of input"},"ts":1643828950189,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$SbIxwyr6m2x3_YD_BTK3iw9hpDAAk2hK342YJK11gqI"},
{"content":{"body":"smaug, Noam Rosenthal I think the way that the wpt harness uses WebDriver makes it quite hard to test alert behaviour; that probabaly requires WebDriver-BiDi","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>, <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> I think the way that the wpt harness uses WebDriver makes it quite hard to test alert behaviour; that probabaly requires WebDriver-BiDi","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug, Noam Rosenthal I think the way that the wpt harness uses WebDriver makes it quite hard to test alert behaviour; that probabaly requires WebDriver-BiDi","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>, <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> I think the way that the wpt harness uses WebDriver makes it quite hard to test alert behaviour; that probabaly requires WebDriver-BiDi","mimetype":"text/html"}]},"ts":1643831168641,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$huFQcdExkzPBU2GzePcHVFFPqex_Jd1QNbsdyFY73gs"}
]