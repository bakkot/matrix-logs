[
{"content":{"body":"Hello, I don't know if the question belongs here, but I was currently involved in a design question like https://discourse.wicg.io/t/waituntil-on-dom-events/2056 and was curious for the possible answer (see http://discourse.wicg.io/t/waituntil-on-dom-events/2056/3). Anyone?","msgtype":"m.text","org.matrix.msc1767.text":"Hello, I don't know if the question belongs here, but I was currently involved in a design question like https://discourse.wicg.io/t/waituntil-on-dom-events/2056 and was curious for the possible answer (see http://discourse.wicg.io/t/waituntil-on-dom-events/2056/3). Anyone?"},"ts":1670406090312,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$RkYCQ5HkgC2MYX--6IeTZ-ccUF4c2rJRmo1YHWh3W_I"},
{"content":{"body":"I think the comment right after the one you linked is the answer.","msgtype":"m.text","org.matrix.msc1767.text":"I think the comment right after the one you linked is the answer."},"ts":1670409497829,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$WNeKplhwTaW7f9_xDkL93DONfnVBcpi3JhMDZf_886k"},
{"content":{"body":"> <@domenicdenicola:matrix.org> I think the comment right after the one you linked is the answer.\n\nThanks for the answer. But then I was wondering why ExtendableEvent (from the ServiceWorker API) does support async dispatching with the same API?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$WNeKplhwTaW7f9_xDkL93DONfnVBcpi3JhMDZf_886k?via=matrix.org&via=chat.upi.li&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>I think the comment right after the one you linked is the answer.</blockquote></mx-reply>Thanks for the answer. But then I was wondering why ExtendableEvent (from the ServiceWorker API) does support async dispatching with the same API?","m.relates_to":{"m.in_reply_to":{"event_id":"$WNeKplhwTaW7f9_xDkL93DONfnVBcpi3JhMDZf_886k"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@domenicdenicola:matrix.org> I think the comment right after the one you linked is the answer.\n\nThanks for the answer. But then I was wondering why ExtendableEvent (from the ServiceWorker API) does support async dispatching with the same API?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$WNeKplhwTaW7f9_xDkL93DONfnVBcpi3JhMDZf_886k?via=matrix.org&via=chat.upi.li&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>I think the comment right after the one you linked is the answer.</blockquote></mx-reply>Thanks for the answer. But then I was wondering why ExtendableEvent (from the ServiceWorker API) does support async dispatching with the same API?","mimetype":"text/html"}]},"ts":1670416445286,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$Mlpck8_dvZfSKSwIPLClLGXIuIMbRQEU258uuJ96C8M"},
{"content":{"body":"It doesn't support async dispatching. It supports giving a promise to the browser which tells it not to shut down the service worker until the promise is done.","msgtype":"m.text","org.matrix.msc1767.text":"It doesn't support async dispatching. It supports giving a promise to the browser which tells it not to shut down the service worker until the promise is done."},"ts":1670416478515,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$oUsW7xxZw7ebYdfJXx35OTgPrwk9dg0A7f1I_DEmF7U"},
{"content":{"body":"That promise doesn't extent event dispatch in any way","msgtype":"m.text","org.matrix.msc1767.text":"That promise doesn't extent event dispatch in any way"},"ts":1670416486608,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$hiD-bbPJkWGOPt-_sDZE2hK1XY3KAsDII8pX7SxistE"},
{"content":{"body":"(E.g. you cannot cancel the event asynchronously)","msgtype":"m.text","org.matrix.msc1767.text":"(E.g. you cannot cancel the event asynchronously)"},"ts":1670416493978,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$FlJtBmjeSxWcIaWlVRDuvwuJKmRinW8ZJmTSIRFsXb4"},
{"content":{"body":"ah ok","msgtype":"m.text","org.matrix.msc1767.text":"ah ok"},"ts":1670416510482,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$mJv78GjB4Bw38JSs9fsxYZyI3ktpo4BnYyC649Xs-L0"},
{"content":{"body":"interesting","msgtype":"m.text","org.matrix.msc1767.text":"interesting"},"ts":1670416513293,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$TcV_Tk6aL2foEbilYcf9jck9aBga6tWqrJT96mcChXo"},
{"content":{"body":"I had to review some code and a colleage implemented something like: https://github.com/rektide/async-event-target","msgtype":"m.text","org.matrix.msc1767.text":"I had to review some code and a colleage implemented something like: https://github.com/rektide/async-event-target"},"ts":1670416562191,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$cdDRi6l-aIHSpJEkf2GYrcXbwzqtd47agqWxogl2imE"},
{"content":{"body":"For some reason this doesn't seem right and I was wondering why this would be the case, but although it \"feels\" wrong I can't seem to find the good arguments not to do so","msgtype":"m.text","org.matrix.msc1767.text":"For some reason this doesn't seem right and I was wondering why this would be the case, but although it \"feels\" wrong I can't seem to find the good arguments not to do so"},"ts":1670416622406,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$j5C1hZvoS8PsMc_xk3hITS_GtFreCwsrXz_cMjTjWFU"},
{"content":{"body":"the comment here http://discourse.wicg.io/t/waituntil-on-dom-events/2056/3 also says: \"That requires way too much changes\", not that's it's not possible or not a valid use case? ","msgtype":"m.text","org.matrix.msc1767.text":"the comment here http://discourse.wicg.io/t/waituntil-on-dom-events/2056/3 also says: \"That requires way too much changes\", not that's it's not possible or not a valid use case? "},"ts":1670416806241,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$nB1CA-Ou1QVbkmdfPPbPYUG4CdyHnrUL99SkNItF8Cg"},
{"content":{"body":"we could also chat in private is this is not the place to discuss this here","msgtype":"m.text","org.matrix.msc1767.text":"we could also chat in private is this is not the place to discuss this here"},"ts":1670416819735,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$8qWHK1NCqcdvfoQY_2o4RjCKNN651qpKmEiqtWJ9kuM"},
{"content":{"body":"It seems fine to create your own thing if you have no other way of solving the problem. The platform doesn't provide it, and we definitely can't change every EventTarget on the platform to provide it.","msgtype":"m.text","org.matrix.msc1767.text":"It seems fine to create your own thing if you have no other way of solving the problem. The platform doesn't provide it, and we definitely can't change every EventTarget on the platform to provide it."},"ts":1670416910403,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$0swgmgNeJztlXoNJNKjDWbeo3KbWn7v55fSKlqIrYxk"},
{"content":{"body":"Heading to bed now myself, but others might have thoughts :)","msgtype":"m.text","org.matrix.msc1767.text":"Heading to bed now myself, but others might have thoughts :)"},"ts":1670416935976,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$aSMc39xdTm3sgxfGmuwewQM9LUGQPdObfDzkkniYlVs"},
{"content":{"body":"thanks!","msgtype":"m.text","org.matrix.msc1767.text":"thanks!"},"ts":1670416975098,"senderName":"Daniel Mil, van","senderId":"@danielvanmil:matrix.org","id":"$pq2LZD6Z_qCoygykXNkaKXAkr89pdqPUSILMTZymLpE"},
{"content":{"body":"mek: https://github.com/whatwg/fs/pull/78","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mek:kde.org\">mek</a>: https://github.com/whatwg/fs/pull/78","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"mek: https://github.com/whatwg/fs/pull/78","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@mek:kde.org\">mek</a>: https://github.com/whatwg/fs/pull/78","mimetype":"text/html"}]},"ts":1670418138685,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$60OU4CZVgYy7iR2ysfBeON6ZTojGZOqEZMdW-WbS8P8"}
]