[
{"content":{"body":"annevk: \nThanks your help,Could you please give me the relevant forum link?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>:<br>Thanks your help,Could you please give me the relevant forum link?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: \nThanks your help,Could you please give me the relevant forum link?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>:<br>Thanks your help,Could you please give me the relevant forum link?","mimetype":"text/html"}]},"ts":1647825979998,"senderName":"Alex.hsu","senderId":"@alex.hsu:matrix.org","id":"$KSmGb5Ug7S3q1UjO8GIt5PV3dywu_Q9sgg6rafLicyg"},
{"content":{"body":"Need help with streams!\nHow do I find the byte size of a chunk, or the total bytes written/read so far?\nI need to understand the total byte-size of the stream once it's flushed (it's for https://github.com/w3c/navigation-timing/issues/124).\n\nMaybe Mattias Buelens?","format":"org.matrix.custom.html","formatted_body":"<p>Need help with streams!<br>How do I find the byte size of a chunk, or the total bytes written/read so far?<br>I need to understand the total byte-size of the stream once it's flushed (it's for https://github.com/w3c/navigation-timing/issues/124).</p>\n<p>Maybe <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>?</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Need help with streams!\nHow do I find the byte size of a chunk, or the total bytes written/read so far?\nI need to understand the total byte-size of the stream once it's flushed (it's for https://github.com/w3c/navigation-timing/issues/124).\n\nMaybe Mattias Buelens?","mimetype":"text/plain"},{"body":"<p>Need help with streams!<br>How do I find the byte size of a chunk, or the total bytes written/read so far?<br>I need to understand the total byte-size of the stream once it's flushed (it's for https://github.com/w3c/navigation-timing/issues/124).</p>\n<p>Maybe <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>?</p>\n","mimetype":"text/html"}]},"ts":1647848581564,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$byUiwX7iU39LRaTvNV4o_DmKuXm7w_7k88L-jGYYhag"},
{"content":{"body":"> <@noamr:matrix.org> Need help with streams!\n> How do I find the byte size of a chunk, or the total bytes written/read so far?\n> I need to understand the total byte-size of the stream once it's flushed (it's for https://github.com/w3c/navigation-timing/issues/124).\n> \n> Maybe Mattias Buelens?\n\nThe idiomatic solution would be to pipe it through a `TransformStream` that adds up the `byteLength` of each chunk.\n```\nlet totalBytes = 0;\nconst transform = new TransformStream({\n  transform(chunk, controller) {\n      totalBytes += chunk.byteLength;\n      controller.enqueue(chunk);\n  },\n  flush() {\n      console.log(`Downloaded ${totalBytes} bytes`);\n  }\n});\n```","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$byUiwX7iU39LRaTvNV4o_DmKuXm7w_7k88L-jGYYhag?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><p>Need help with streams!<br />How do I find the byte size of a chunk, or the total bytes written/read so far?<br />I need to understand the total byte-size of the stream once it's flushed (it's for https://github.com/w3c/navigation-timing/issues/124).</p>\n<p>Maybe <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>?</p>\n</blockquote></mx-reply><p>The idiomatic solution would be to pipe it through a <code>TransformStream</code> that adds up the <code>byteLength</code> of each chunk.</p>\n<pre><code>let totalBytes = 0;\nconst transform = new TransformStream({\n  transform(chunk, controller) {\n      totalBytes += chunk.byteLength;\n      controller.enqueue(chunk);\n  },\n  flush() {\n      console.log(`Downloaded ${totalBytes} bytes`);\n  }\n});\n</code></pre>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$byUiwX7iU39LRaTvNV4o_DmKuXm7w_7k88L-jGYYhag"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@noamr:matrix.org> Need help with streams!\n> How do I find the byte size of a chunk, or the total bytes written/read so far?\n> I need to understand the total byte-size of the stream once it's flushed (it's for https://github.com/w3c/navigation-timing/issues/124).\n> \n> Maybe Mattias Buelens?\n\nThe idiomatic solution would be to pipe it through a `TransformStream` that adds up the `byteLength` of each chunk.\n```\nlet totalBytes = 0;\nconst transform = new TransformStream({\n  transform(chunk, controller) {\n      totalBytes += chunk.byteLength;\n      controller.enqueue(chunk);\n  },\n  flush() {\n      console.log(`Downloaded ${totalBytes} bytes`);\n  }\n});\n```","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$byUiwX7iU39LRaTvNV4o_DmKuXm7w_7k88L-jGYYhag?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><p>Need help with streams!<br />How do I find the byte size of a chunk, or the total bytes written/read so far?<br />I need to understand the total byte-size of the stream once it's flushed (it's for https://github.com/w3c/navigation-timing/issues/124).</p>\n<p>Maybe <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>?</p>\n</blockquote></mx-reply><p>The idiomatic solution would be to pipe it through a <code>TransformStream</code> that adds up the <code>byteLength</code> of each chunk.</p>\n<pre><code>let totalBytes = 0;\nconst transform = new TransformStream({\n  transform(chunk, controller) {\n      totalBytes += chunk.byteLength;\n      controller.enqueue(chunk);\n  },\n  flush() {\n      console.log(`Downloaded ${totalBytes} bytes`);\n  }\n});\n</code></pre>\n","mimetype":"text/html"}]},"ts":1647849580818,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$cWWWoCbLoWtwnRR0JRgXBziT1Vhv_Hra6Zv2BGqeyHE"},
{"content":{"body":"> <@mattiasbuelens:matrix.org> The idiomatic solution would be to pipe it through a `TransformStream` that adds up the `byteLength` of each chunk.\n> ```\n> let totalBytes = 0;\n> const transform = new TransformStream({\n>   transform(chunk, controller) {\n>       totalBytes += chunk.byteLength;\n>       controller.enqueue(chunk);\n>   },\n>   flush() {\n>       console.log(`Downloaded ${totalBytes} bytes`);\n>   }\n> });\n> ```\n\nThanks, that's what I was going for, but where is `byteLength` specified?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$cWWWoCbLoWtwnRR0JRgXBziT1Vhv_Hra6Zv2BGqeyHE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">@mattiasbuelens:matrix.org</a><br><p>The idiomatic solution would be to pipe it through a <code>TransformStream</code> that adds up the <code>byteLength</code> of each chunk.</p>\n<pre><code>let totalBytes = 0;\nconst transform = new TransformStream({\n  transform(chunk, controller) {\n      totalBytes += chunk.byteLength;\n      controller.enqueue(chunk);\n  },\n  flush() {\n      console.log(`Downloaded ${totalBytes} bytes`);\n  }\n});\n</code></pre>\n</blockquote></mx-reply>Thanks, that's what I was going for, but where is <code>byteLength</code> specified?","m.relates_to":{"m.in_reply_to":{"event_id":"$cWWWoCbLoWtwnRR0JRgXBziT1Vhv_Hra6Zv2BGqeyHE"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@mattiasbuelens:matrix.org> The idiomatic solution would be to pipe it through a `TransformStream` that adds up the `byteLength` of each chunk.\n> ```\n> let totalBytes = 0;\n> const transform = new TransformStream({\n>   transform(chunk, controller) {\n>       totalBytes += chunk.byteLength;\n>       controller.enqueue(chunk);\n>   },\n>   flush() {\n>       console.log(`Downloaded ${totalBytes} bytes`);\n>   }\n> });\n> ```\n\nThanks, that's what I was going for, but where is `byteLength` specified?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$cWWWoCbLoWtwnRR0JRgXBziT1Vhv_Hra6Zv2BGqeyHE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">@mattiasbuelens:matrix.org</a><br><p>The idiomatic solution would be to pipe it through a <code>TransformStream</code> that adds up the <code>byteLength</code> of each chunk.</p>\n<pre><code>let totalBytes = 0;\nconst transform = new TransformStream({\n  transform(chunk, controller) {\n      totalBytes += chunk.byteLength;\n      controller.enqueue(chunk);\n  },\n  flush() {\n      console.log(`Downloaded ${totalBytes} bytes`);\n  }\n});\n</code></pre>\n</blockquote></mx-reply>Thanks, that's what I was going for, but where is <code>byteLength</code> specified?","mimetype":"text/html"}]},"ts":1647850339400,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$YLiC1CA9WE8G-qg8ru0v4-XP9Y-5UtmALWiU7Bis3iY"},
{"content":{"body":"The streams spec just uses the `[[ByteLength]]` internal slot from ECMA-262 directly. But I *think* Web IDL now has a helper for this.","format":"org.matrix.custom.html","formatted_body":"The streams spec just uses the <code>[[ByteLength]]</code> internal slot from ECMA-262 directly. But I <em>think</em> Web IDL now has a helper for this.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"The streams spec just uses the `[[ByteLength]]` internal slot from ECMA-262 directly. But I *think* Web IDL now has a helper for this.","mimetype":"text/plain"},{"body":"The streams spec just uses the <code>[[ByteLength]]</code> internal slot from ECMA-262 directly. But I <em>think</em> Web IDL now has a helper for this.","mimetype":"text/html"}]},"ts":1647850512662,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$mP5wMqozERpPMWnAjyIbNfIfoaRMtaD2b19D_y6FXQ0"},
{"content":{"body":"Ah, here it is: https://webidl.spec.whatwg.org/#buffersource-byte-length","msgtype":"m.text","org.matrix.msc1767.text":"Ah, here it is: https://webidl.spec.whatwg.org/#buffersource-byte-length"},"ts":1647850548631,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$uMalMY93hrauYUNAKWZDLuzKh441dElCdqVL7rAK99U"},
{"content":{"body":"(Oh, btw, adding a TransformStream to a pipe chain currently _always_ increases the \"total buffer\" of the chain by at least one chunk. Ideally you want an _unbuffered_ transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","format":"org.matrix.custom.html","formatted_body":"(Oh, btw, adding a TransformStream to a pipe chain currently <em>always</em> increases the &quot;total buffer&quot; of the chain by at least one chunk. Ideally you want an <em>unbuffered</em> transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"(Oh, btw, adding a TransformStream to a pipe chain currently _always_ increases the \"total buffer\" of the chain by at least one chunk. Ideally you want an _unbuffered_ transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","mimetype":"text/plain"},{"body":"(Oh, btw, adding a TransformStream to a pipe chain currently <em>always</em> increases the &quot;total buffer&quot; of the chain by at least one chunk. Ideally you want an <em>unbuffered</em> transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","mimetype":"text/html"}]},"ts":1647850678094,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$mRVtqxaUS4lxuAdyaNhWS40dd0huGvlgiwzW1ifTVWI"},
{"content":{"body":" * (Oh, btw, adding a TransformStream to a pipe chain currently _always_ increases the \"total buffer\" of the chain by at least one chunk. Ideally you want an _unbuffered_ transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","format":"org.matrix.custom.html","formatted_body":" * (Oh, btw, adding a TransformStream to a pipe chain currently <em>always</em> increases the &quot;total buffer&quot; of the chain by at least one chunk. Ideally you want an <em>unbuffered</em> transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","m.new_content":{"body":"(Oh, btw, adding a TransformStream to a pipe chain currently _always_ increases the \"total buffer\" of the chain by at least one chunk. Ideally you want an _unbuffered_ transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","format":"org.matrix.custom.html","formatted_body":"(Oh, btw, adding a TransformStream to a pipe chain currently <em>always</em> increases the &quot;total buffer&quot; of the chain by at least one chunk. Ideally you want an <em>unbuffered</em> transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"(Oh, btw, adding a TransformStream to a pipe chain currently _always_ increases the \"total buffer\" of the chain by at least one chunk. Ideally you want an _unbuffered_ transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","mimetype":"text/plain"},{"body":"(Oh, btw, adding a TransformStream to a pipe chain currently <em>always</em> increases the &quot;total buffer&quot; of the chain by at least one chunk. Ideally you want an <em>unbuffered</em> transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$mRVtqxaUS4lxuAdyaNhWS40dd0huGvlgiwzW1ifTVWI","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * (Oh, btw, adding a TransformStream to a pipe chain currently _always_ increases the \"total buffer\" of the chain by at least one chunk. Ideally you want an _unbuffered_ transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","mimetype":"text/plain"},{"body":" * (Oh, btw, adding a TransformStream to a pipe chain currently <em>always</em> increases the &quot;total buffer&quot; of the chain by at least one chunk. Ideally you want an <em>unbuffered</em> transform stream if you only count the total bytes, but that requires https://github.com/whatwg/streams/pull/1190)","mimetype":"text/html"}]},"ts":1647850721232,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$jFKYvG37oN1Px2MfcPhbvtkRp-EKN3YSA4qvrVRusy0"},
{"content":{"body":"> <@mattiasbuelens:matrix.org> Ah, here it is: https://webidl.spec.whatwg.org/#buffersource-byte-length\n\nThanks! That's what I was looking for. I think we can switch to unbuffered once that PR is in","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$uMalMY93hrauYUNAKWZDLuzKh441dElCdqVL7rAK99U?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">@mattiasbuelens:matrix.org</a><br>Ah, here it is: https://webidl.spec.whatwg.org/#buffersource-byte-length</blockquote></mx-reply>Thanks! That's what I was looking for. I think we can switch to unbuffered once that PR is in","m.relates_to":{"m.in_reply_to":{"event_id":"$uMalMY93hrauYUNAKWZDLuzKh441dElCdqVL7rAK99U"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@mattiasbuelens:matrix.org> Ah, here it is: https://webidl.spec.whatwg.org/#buffersource-byte-length\n\nThanks! That's what I was looking for. I think we can switch to unbuffered once that PR is in","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$uMalMY93hrauYUNAKWZDLuzKh441dElCdqVL7rAK99U?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">@mattiasbuelens:matrix.org</a><br>Ah, here it is: https://webidl.spec.whatwg.org/#buffersource-byte-length</blockquote></mx-reply>Thanks! That's what I was looking for. I think we can switch to unbuffered once that PR is in","mimetype":"text/html"}]},"ts":1647852866601,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$dzU2-QONrVtJgri3tOwIPaCeRQ8W8rwdfUJREy_WS5k"},
{"content":{"body":"Hi there, new here","msgtype":"m.text"},"ts":1647873883649,"senderName":"synack","senderId":"@synack:arcticfoxes.net","id":"$nbbOK7ggIZfqHK2x916wVm6lja_dgHTUQe5Gj-VRcMw"}
]