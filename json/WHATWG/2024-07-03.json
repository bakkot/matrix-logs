[
{"content":{"body":"smaug: regarding https://github.com/whatwg/html/issues/9881 and your query on why we'd want to limit to custom elements, do you think having an API like `Element.prototype.connectedSignal()` would be a better fit?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: regarding https://github.com/whatwg/html/issues/9881 and your query on why we'd want to limit to custom elements, do you think having an API like <code>Element.prototype.connectedSignal()</code> would be a better fit?","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1720004301848,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$8V9_YMR-w1mLpQxIm5Z9dJoaoMUOqTQRfQK3_2RIP54"},
{"content":{"body":"keithamus: that is what I first thought, but then realized that this might be just one part of some larger API.  And I'm not sure what the scheduling should be here. Microtask? CEReaction? something else?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: that is what I first thought, but then realized that this might be just one part of some larger API.  And I'm not sure what the scheduling should be here. Microtask? CEReaction? something else?","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1720008977368,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$QJjVEUDVLL3EErIuRS_GKKsz8Dtvcv4YUfaknhbHlbE"},
{"content":{"body":"There is also https://github.com/whatwg/dom/issues/533","m.mentions":{},"msgtype":"m.text"},"ts":1720009054304,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$QjpMo5afHedwbpPDcRahHald9znsAJiPDIBUojyh5hg"},
{"content":{"body":"I had prototyped out the elementinternals one as a CEReaction but microtask seems reasonable","m.mentions":{},"msgtype":"m.text"},"ts":1720009130915,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$LRKJl3OMNJ82P_UN7DgcadAtoAUR_CPu_1lykHreRZQ"},
{"content":{"body":"I'm quite strongly attached to the API being a signal as it's an ergonomic way to handle a lot of things like cancelling fetch/event listeners. The ideas in that issue seem to want to use the Observer pattern which to me feels \"heavy handed\" from an API ergonomics perspective. ","m.mentions":{},"msgtype":"m.text"},"ts":1720009290223,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$-Q7uNcvM1JIfCLnI_aqLL5QA5XrQMg3MoLG7Yxe8GnQ"},
{"content":{"body":"smaug: curious on how you see this as a larger API, what more do you think is needed? ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: curious on how you see this as a larger API, what more do you think is needed?","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1720009534316,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$wDDmv8Na24kXPR8V0UIvqGMvu7vf9HfBM7j41ktpPWQ"},
{"content":{"body":"I could imagine at least also attribute removal triggering a signal","m.mentions":{},"msgtype":"m.text"},"ts":1720009653904,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$ieT9bI5o1Gu5C7mmFOZ7PMwVDvjxTaFlD3HOVlgK8Yw"},
{"content":{"body":"It seems like there may be some appetite around a large API for learning when elements enter/leave a page, similar to MO but with more fine-grained filtering akin to something like SelectorObserver (e.g. https://github.com/whatwg/dom/issues/1225) \n\nBut I think the two use cases seem orthogonal enough to explore options for both.","m.mentions":{},"msgtype":"m.text"},"ts":1720009702597,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$2i0gUPeEOPhy-h9AGmEIbbkSM5dIrTgLSJEq6C3ktYA"},
{"content":{"body":"but in general, this feels like a one of mutation event listener / mutation observer thingie","m.mentions":{},"msgtype":"m.text"},"ts":1720009742547,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$9rEhYMaARzAY032kwP0cCkQuoPG1DZ-ohFK4GsnEhE4"},
{"content":{"body":"So a suite of APIs for managing connectedness of already connected nodes? If it was on `Node` prototype then that could account for Attr nodes right? Is Attr still considered a useful API or should we steer away from it?","format":"org.matrix.custom.html","formatted_body":"So a suite of APIs for managing connectedness of already connected nodes? If it was on <code>Node</code> prototype then that could account for Attr nodes right? Is Attr still considered a useful API or should we steer away from it?","m.mentions":{},"msgtype":"m.text"},"ts":1720009781738,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$qh8SJMNSHM6Bp7zTj6xYxOWha2vcRhFVl1Z3x4EOy18"},
{"content":{"body":"no idea how it would work, but could it be something like node.signal(\"some filter\") ?","m.mentions":{},"msgtype":"m.text"},"ts":1720009795904,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$BZjY7Irheeu73Tz3LUX0bb_5qs5ZxbGjWyGnwJUH4Eg"},
{"content":{"body":"Where \"some filter\" is an enum of possible \"reactions\"?","m.mentions":{},"msgtype":"m.text"},"ts":1720009821340,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$MdJ8eBvn9MYa4N7REm-hJfdGSN4sDBlrrRgKOj9TDYQ"},
{"content":{"body":"right","m.mentions":{},"msgtype":"m.text"},"ts":1720009830144,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$9nNkDJ_9KfLNNhcU5w56WOoUFgbGRLwO5dzqRf5G6pA"},
{"content":{"body":"I'd be happy with that. Fits my use case. ","m.mentions":{},"msgtype":"m.text"},"ts":1720009844377,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$7cC8wIRLbTgaL-rJKZIVVRKcjJmSlpUp1J-raaW-oq8"},
{"content":{"body":"However would something like `node.signal('connected')` returning an AbortSignal make sense? Perhaps no? Does it need another signal type?","format":"org.matrix.custom.html","formatted_body":"However would something like <code>node.signal('connected')</code> returning an AbortSignal make sense? Perhaps no? Does it need another signal type?","m.mentions":{},"msgtype":"m.text"},"ts":1720009878246,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$QyuivM9r6zIqp7M4eLzBqSu-c2J6_IkMyWbuuCympdY"}
]