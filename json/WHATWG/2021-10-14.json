[
{"content":{"body":"is there any reason this WPT test doesn't test that `SharedArrayBuffer`s have the same backing block when posted to workers and iframes and back?","format":"org.matrix.custom.html","formatted_body":"is there any reason this WPT test doesn't test that <code>SharedArrayBuffer</code>s have the same backing block when posted to workers and iframes and back?","msgtype":"m.text"},"ts":1634190671961,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$NSJ6KvxqJrdrVrzQC1gRljs6wPQzZ2A0Iik7mT4ZgXI"},
{"content":{"body":"https://github.com/web-platform-tests/wpt/blob/master/html/infrastructure/safe-passing-of-structured-data/shared-array-buffers/identity-not-preserved.https.html","msgtype":"m.text"},"ts":1634190673272,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$o3KE3rNtemrbLEuahciaXRdH1nAV2EUlh6YeojjL6Bw"},
{"content":{"body":"Andreu Botella (he/they): I suspect separation of concerns, but when Domenic is back he might be able to recall","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">Andreu Botella (he/they)</a>: I suspect separation of concerns, but when <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> is back he might be able to recall","msgtype":"m.text"},"ts":1634193439199,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$h4jm1riLFRE5mjVoB5qTScqfU9oDWOVfPSLtKDdBwNY"},
{"content":{"body":"`assertSABsHaveSameBackingBlock` already tests that the objects aren't identical, so I don't think that's the case","format":"org.matrix.custom.html","formatted_body":"<code>assertSABsHaveSameBackingBlock</code> already tests that the objects aren't identical, so I don't think that's the case","msgtype":"m.text"},"ts":1634193590345,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$SSjPITweRP8k1UmX8HOhWRXGgx_1NGEfcAy1t2GDk-Y"},
{"content":{"body":" * `assertSABsHaveSameBackingBlock` in the same window case already tests that the objects aren't identical, so I don't think that's the case","format":"org.matrix.custom.html","formatted_body":" * <code>assertSABsHaveSameBackingBlock</code> in the same window case already tests that the objects aren't identical, so I don't think that's the case","m.new_content":{"body":"`assertSABsHaveSameBackingBlock` in the same window case already tests that the objects aren't identical, so I don't think that's the case","format":"org.matrix.custom.html","formatted_body":"<code>assertSABsHaveSameBackingBlock</code> in the same window case already tests that the objects aren't identical, so I don't think that's the case","msgtype":"m.text"},"m.relates_to":{"event_id":"$SSjPITweRP8k1UmX8HOhWRXGgx_1NGEfcAy1t2GDk-Y","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1634193645624,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$IHRLZ8KHeYKuGn8hCyvre7CLiJY72a7CYeRI7AjCK9s"},
{"content":{"body":" * `assertSABsHaveSameBackingBlock` in the same window subtest already tests that the objects aren't identical, so I don't think that's the case","format":"org.matrix.custom.html","formatted_body":" * <code>assertSABsHaveSameBackingBlock</code> in the same window subtest already tests that the objects aren't identical, so I don't think that's the case","m.new_content":{"body":"`assertSABsHaveSameBackingBlock` in the same window subtest already tests that the objects aren't identical, so I don't think that's the case","format":"org.matrix.custom.html","formatted_body":"<code>assertSABsHaveSameBackingBlock</code> in the same window subtest already tests that the objects aren't identical, so I don't think that's the case","msgtype":"m.text"},"m.relates_to":{"event_id":"$SSjPITweRP8k1UmX8HOhWRXGgx_1NGEfcAy1t2GDk-Y","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1634193662817,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$xQJBdy0K1RIRvuhGG6MDNSdXoSWhEiCOM7hLS7f85So"},
{"content":{"body":"Fair, perhaps there was/is no utility for an equivalent assert across agents? Seems like that would have to involve at least some additional message passing.","msgtype":"m.text"},"ts":1634195493104,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$ojYzCV3JF-4RMclS-Nc18hP8KYrbWdtlUmZJV8XGZrc"},
{"content":{"body":"Or maybe you just want to assert it on the sab you get back?","msgtype":"m.text"},"ts":1634195529268,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$tiwK3rJhebmFoLafhK-1ZhcXIe5iAy8KFE1cKzo2KgY"},
{"content":{"body":"Seems okay to add","msgtype":"m.text"},"ts":1634195555367,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$5W2QfBBHCaaxq3zQB-mnS5aCNlVRUCelqqzIO5O5zGo"},
{"content":{"body":"I mean, there are other WPT tests that properly test that SABs in fact share their backing block, not to mention test262 tests","msgtype":"m.text"},"ts":1634195663873,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$9AhZuPR096Y8NVdrZP-3O3qJxnn84nZH4SJS19W4n4M"},
{"content":{"body":"But it seems odd to test that for same-window postMessaging but not for workers and iframes","msgtype":"m.text"},"ts":1634195681540,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$iF0MIlNy7oHtqZXuiV6gYytsTjWM5SkOv0Uz3Z8IyPQ"},
{"content":{"body":"Ms2ger 游눌游눌or foolip hey, can you please force merge https://github.com/web-platform-tests/wpt/pull/31230 ? It's currently affected by https://github.com/web-platform-tests/wpt/issues/31231","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ms2ger:igalia.com\">Ms2ger 游눌游눌</a>or <a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a> hey, can you please force merge https://github.com/web-platform-tests/wpt/pull/31230 ? It's currently affected by https://github.com/web-platform-tests/wpt/issues/31231","msgtype":"m.text"},"ts":1634207228690,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$uzzxBqT2jHsSbNKlx30EMRGONIDjD0rwT-sCV1fXn48"},
{"content":{"body":"needs to import the test into WebKit","msgtype":"m.emote"},"ts":1634207247101,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$dT0Vqsn_1CiB0leRb3ZRsvy_ij5u87zqCPhOb6Xsn_w"},
{"content":{"body":"I guess I can!","msgtype":"m.text"},"ts":1634207264496,"senderName":"Ms2ger 游눌游눌","senderId":"@ms2ger:igalia.com","id":"$MCfPo6jJCSSEbYY4MHYx70W1XvaRlOnTFxt42qZLLKk"},
{"content":{"body":"thanks!","msgtype":"m.text"},"ts":1634207277708,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$xHhvOpdi6jhPUriZgl2JqRU4EtZcM3VLmD4Hc1mr8yw"},
{"content":{"body":"Ms2ger 游눌游눌: can you also please merge https://github.com/web-platform-tests/wpt/pull/31234 ? Thanks :)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ms2ger:igalia.com\">Ms2ger 游눌游눌</a>: can you also please merge https://github.com/web-platform-tests/wpt/pull/31234 ? Thanks :)","msgtype":"m.text"},"ts":1634211671993,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$waT82VcJpKLT7odzA9mDpENRbM8Hp41c8vj8PXdxb-E"},
{"content":{"body":"or jgraham ^","format":"org.matrix.custom.html","formatted_body":"or <a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a> ^","msgtype":"m.text"},"ts":1634211694514,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$CMNCTAZAzchE2LmDiI8pq8gFFFOA1mA_xKqW9uS54d0"},
{"content":{"body":"i normally can push, but https://github.com/web-platform-tests/wpt/issues/31231 is preventing me too, only a core team person can bypass that","msgtype":"m.text"},"ts":1634212958754,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$MJU4ASvpVW0YfazaFXqaKI8O69aFUzIWi-DfmlXURZs"},
{"content":{"body":" * i normally can push, but https://github.com/web-platform-tests/wpt/issues/31231 is preventing me too, only a core team person can bypass that","m.new_content":{"body":"i normally can push, but https://github.com/web-platform-tests/wpt/issues/31231 is preventing me too, only a core team person can bypass that","msgtype":"m.text"},"m.relates_to":{"event_id":"$MJU4ASvpVW0YfazaFXqaKI8O69aFUzIWi-DfmlXURZs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1634212970679,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$vTTMDnsX-E3m0bX9Mn-al08z4rdP4TLMJMr0Hhi1m-k"},
{"content":{"body":"hmm looks like https://github.com/web-platform-tests/wpt/pull/31236 is not affected","msgtype":"m.text"},"ts":1634213069252,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$c-OF3fMKt5Mobci5atU4NRUbYD3b-rvVAv4DoY4GVCE"},
{"content":{"body":"but it also does not run that task","msgtype":"m.text"},"ts":1634213214494,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$vTskcxUXQNR0ZBcoAxAF6xijkuf-lYsU8X8nPxgssgo"},
{"content":{"body":"ntim: https://matrix.to/#/#wpt:matrix.org is probably the best place for this FTR","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ntim:mozilla.org\">ntim</a>: https://matrix.to/#/#wpt:matrix.org is probably the best place for this FTR","msgtype":"m.text"},"ts":1634215551167,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$4LtWqpx4-QWtslUcmzBk3c7ea6mr1tHOWhoR7nOjhgo"},
{"content":{"body":"31231 is fixed","msgtype":"m.text"},"ts":1634215764939,"senderName":"Ms2ger 游눌游눌","senderId":"@ms2ger:igalia.com","id":"$zW_18Wmpd5VnkUHZXAHiOrtsmwKM7Gj3kLcgbS_MaIE"},
{"content":{"body":"Hi Domenic , I hope I can get some of your quality time for HTML spec reviews when you get a chance... https://github.com/whatwg/html/pull/7153 and https://github.com/whatwg/html/pull/7166. thanks!","format":"org.matrix.custom.html","formatted_body":"Hi <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> , I hope I can get some of your quality time for HTML spec reviews when you get a chance... https://github.com/whatwg/html/pull/7153 and https://github.com/whatwg/html/pull/7166. thanks!","msgtype":"m.text"},"ts":1634217478669,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$ZFGne3zsteUxAG-ABkQxEfaD6AxCKXv1rXtn5UOZs-M"},
{"content":{"body":"annevk: do Firefox and Safari key the HTTP cache on credentials include/omit?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: do Firefox and Safari key the HTTP cache on credentials include/omit?","msgtype":"m.text"},"ts":1634220162183,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$vYoiF0huCVK-HFLaZwu1N_GpFnHEsoADJP3JB_9LVPg"},
{"content":{"body":"Jake Archibald: Firefox does, not sure about Safari; see https://github.com/whatwg/fetch/issues/1253 and linked issue","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: Firefox does, not sure about Safari; see https://github.com/whatwg/fetch/issues/1253 and linked issue","msgtype":"m.text"},"ts":1634224323484,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$fKNFEOlGGzmIHIWWUSDSgaOyL0OLLuAv0sczj_InYJQ"},
{"content":{"body":"Ta","msgtype":"m.text"},"ts":1634227804486,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$40gL1AeEM8QjOKweAveml71T5wqTVVJGOnm58fDYxrQ"},
{"content":{"body":"annevk: seems like Safari does from my testing, but it might be other isolation stuff achieving roughly the same thing. I updated https://jakearchibald.com/2021/cors/#is-it-safe-to-expose-resources-via-cors to make it clear a `Vary` header is needed in this case (I previously thought it was only needed for with-credentials CORS)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: seems like Safari does from my testing, but it might be other isolation stuff achieving roughly the same thing. I updated https://jakearchibald.com/2021/cors/#is-it-safe-to-expose-resources-via-cors to make it clear a <code>Vary</code> header is needed in this case (I previously thought it was only needed for with-credentials CORS)","msgtype":"m.text"},"ts":1634227908056,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$nwalNe9-V5I9fH1U0e8k_VomcoMbCz-E8zRWEE8M8mU"},
{"content":{"body":"Jake Archibald: are you testing cross-site or cross-origin same-site? With the former I'd expect cookie blocking to kick in","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: are you testing cross-site or cross-origin same-site? With the former I'd expect cookie blocking to kick in","msgtype":"m.text"},"ts":1634229197571,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$97gk5CE0rqi62aODbodVsR6bMSQgxP3YOaJMW1HpRV0"},
{"content":{"body":"annevk: it was cross-site, but I had the site in an iframe so it'd pick up a double-keyed cookie. tbh I don't really know how Safari works with this stuff since it isn't spec'd :(","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: it was cross-site, but I had the site in an iframe so it'd pick up a double-keyed cookie. tbh I don't really know how Safari works with this stuff since it isn't spec'd :(","msgtype":"m.text"},"ts":1634229578229,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$nq9lISxgeDDnGOlLCbTxEHdXfX66wthUTP2bAFebhj0"},
{"content":{"body":"btw, lunch for whoever makes up a term for cross-origin same-site that's usable","msgtype":"m.text"},"ts":1634229590602,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$eshjiwWF66XpW0LImScX0CpVwFb9wu-4zeySzpM5yGw"}
]