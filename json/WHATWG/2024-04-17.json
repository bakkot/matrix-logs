[
{"content":{"body":"Do we need a getHTML function on the document interface? We can parse to a document but can't currently serialise from one (not preserving shadow Dom anyway). You can call getHTML on the documentElement but that loses the html element in the output (because that's effectively innerHTML and we'd need outerHTML)","msgtype":"m.text"},"ts":1713312908746,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$TII0sG924dIa1N89uUb9J6toDQs5kLNxP8sY0-UO6PY"},
{"content":{"body":" * Do we need a getHTML function on the document interface? We can parse to a document but can't currently serialise from one (not preserving shadow Dom anyway). You can call getHTML on the documentElement but that loses the html element in the output (because that's effectively innerHTML and we'd need outerHTML). A getHTML on the document object itself could also serialise the compat mode back to the doctype? Which feels like it could be useful if you're trying to ensure lossless round tripping of parsing and serialisation?","m.mentions":{},"m.new_content":{"body":"Do we need a getHTML function on the document interface? We can parse to a document but can't currently serialise from one (not preserving shadow Dom anyway). You can call getHTML on the documentElement but that loses the html element in the output (because that's effectively innerHTML and we'd need outerHTML). A getHTML on the document object itself could also serialise the compat mode back to the doctype? Which feels like it could be useful if you're trying to ensure lossless round tripping of parsing and serialisation?","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$TII0sG924dIa1N89uUb9J6toDQs5kLNxP8sY0-UO6PY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1713313072210,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$DUADsYjOlA_GfBd21rrdwY3jEOQ7LXKWgmp8COss6I0"},
{"content":{"body":"That issue just feels like an area where the community needs to go off and get a widely-used custom element (or React component, I'm not picky) before spending all this time in standards space...","m.mentions":{},"msgtype":"m.text"},"ts":1713317512178,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$rjv_H9U85a6OEZrFOC9_6vT6aH_-tCn9mnyRvl6WTcQ"},
{"content":{"body":"> <@lwarlow:igalia.com> Do we need a getHTML function on the document interface? We can parse to a document but can't currently serialise from one (not preserving shadow Dom anyway). You can call getHTML on the documentElement but that loses the html element in the output (because that's effectively innerHTML and we'd need outerHTML). A getHTML on the document object itself could also serialise the compat mode back to the doctype? Which feels like it could be useful if you're trying to ensure lossless round tripping of parsing and serialisation?\n\nI would like that. Serializing the DOCTYPE in particular is nice. jsdom has its own serialization function just for that, because documentElement.outerHTML misses it.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$TII0sG924dIa1N89uUb9J6toDQs5kLNxP8sY0-UO6PY?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@lwarlow:igalia.com\">@lwarlow:igalia.com</a><br>Do we need a getHTML function on the document interface? We can parse to a document but can&#39;t currently serialise from one (not preserving shadow Dom anyway). You can call getHTML on the documentElement but that loses the html element in the output (because that&#39;s effectively innerHTML and we&#39;d need outerHTML). A getHTML on the document object itself could also serialise the compat mode back to the doctype? Which feels like it could be useful if you&#39;re trying to ensure lossless round tripping of parsing and serialisation?</blockquote></mx-reply>I would like that. Serializing the DOCTYPE in particular is nice. jsdom has its own serialization function just for that, because documentElement.outerHTML misses it.","m.mentions":{"user_ids":["@lwarlow:igalia.com"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$TII0sG924dIa1N89uUb9J6toDQs5kLNxP8sY0-UO6PY"}},"msgtype":"m.text"},"ts":1713317561234,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$j90oV9apWzkXVokHkjPrSRgt6buB1FVaKLBMqRszJK0"}
]