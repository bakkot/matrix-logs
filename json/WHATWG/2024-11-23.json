[
{"content":{"body":"I would be more OK with having variable behavior if the name reflected that, like `insertOrMoveBefore`. I think making `moveBefore` sometimes insert, sometimes move, is bad.","format":"org.matrix.custom.html","formatted_body":"I would be more OK with having variable behavior if the name reflected that, like <code>insertOrMoveBefore</code>. I think making <code>moveBefore</code> sometimes insert, sometimes move, is bad.","m.mentions":{},"msgtype":"m.text"},"ts":1732327217310,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$FUbsT0TuZh-NQ9xnL7KtihvsEzeGoXFSTRnZvDDQJvU"},
{"content":{"body":"@shannonbooth:matrix.org ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@shannonbooth:matrix.org\">@shannonbooth:matrix.org</a> ","msgtype":"m.text"},"ts":1732329864021,"senderName":"njbjm","senderId":"@njbjm:matrix.org","id":"$t9414nAyZF3ImFgY02ppUoAaTm10Pejj3TVMj9BgDlc"},
{"content":{"body":"> <@domenicdenicola:matrix.org> I would be more OK with having variable behavior if the name reflected that, like `insertOrMoveBefore`. I think making `moveBefore` sometimes insert, sometimes move, is bad.\n\nPerhaps that's a way forward. That way if in the future we wanted to add some different behavior like moving iframes across documents and wanted `moveBefore` throwing to be a feature detecting mechanism, we could incorporate that into `moveBefore` and leave `insertOrMoveBefore` as something that just works","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$FUbsT0TuZh-NQ9xnL7KtihvsEzeGoXFSTRnZvDDQJvU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>I would be more OK with having variable behavior if the name reflected that, like <code>insertOrMoveBefore</code>. I think making <code>moveBefore</code> sometimes insert, sometimes move, is bad.</blockquote></mx-reply>Perhaps that's a way forward. That way if in the future we wanted to add some different behavior like moving iframes across documents and wanted <code>moveBefore</code> throwing to be a feature detecting mechanism, we could incorporate that into <code>moveBefore</code> and leave <code>insertOrMoveBefore</code> as something that just works","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$FUbsT0TuZh-NQ9xnL7KtihvsEzeGoXFSTRnZvDDQJvU"}},"msgtype":"m.text"},"ts":1732350117761,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$hF_mncKNjoVBW248IdG7DT25Rxcvioy0OHL19rmXOYY"},
{"content":{"body":"Thoughts about this route:\n\n- We should probably still have the primitive (that throws). I remain skeptical that people really will only use this in generic situations. I suspect some people will require the move behavior and it will be a logic error in their app if they get insert behavior.\n\n- The name should actually be `moveOrInsertBefore` (\"move\" first) since it's move and falls back to insert.","format":"org.matrix.custom.html","formatted_body":"<p>Thoughts about this route:</p>\n<ul>\n<li>\n<p>We should probably still have the primitive (that throws). I remain skeptical that people really will only use this in generic situations. I suspect some people will require the move behavior and it will be a logic error in their app if they get insert behavior.</p>\n</li>\n<li>\n<p>The name should actually be <code>moveOrInsertBefore</code> (\"move\" first) since it's move and falls back to insert.</p>\n</li>\n</ul>\n","m.mentions":{},"msgtype":"m.text"},"ts":1732357276590,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$oc4nnLuwm2X3RE16aRGJhd5GX7Slm9WPiBxzwN7NyWY"},
{"content":{"body":"Alternate API surface (maybe already considered?): update all the methods to have a { moveBehavior: \"insert\"|\"move\"|\"move-if-possible\" } argument. (I don't love that name.) The default, unlike TAG suggestion, is \"insert\".","m.mentions":{},"msgtype":"m.text"},"ts":1732357378572,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$5RI6zbtCv1n5PaO2tGfqq5atAVJvqTqAdJVlskfBqQw"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Alternate API surface (maybe already considered?): update all the methods to have a { moveBehavior: \"insert\"|\"move\"|\"move-if-possible\" } argument. (I don't love that name.) The default, unlike TAG suggestion, is \"insert\".\n\nI think the only methods that can benefit from this are replaceChild and appendChild","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs%3Amatrix.org/%245RI6zbtCv1n5PaO2tGfqq5atAVJvqTqAdJVlskfBqQw\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Alternate API surface (maybe already considered?): update all the methods to have a { moveBehavior: \"insert\"|\"move\"|\"move-if-possible\" } argument. (I don't love that name.) The default, unlike TAG suggestion, is \"insert\".</blockquote></mx-reply>I think the only methods that can benefit from this are replaceChild and appendChild","m.relates_to":{"m.in_reply_to":{"event_id":"$5RI6zbtCv1n5PaO2tGfqq5atAVJvqTqAdJVlskfBqQw"}},"msgtype":"m.text"},"ts":1732360027557,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$LViA10Aeh7MAj2DhZQkkLvI5aYEoRHhcfS4SzTRwmes"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Thoughts about this route:\n> \n> - We should probably still have the primitive (that throws). I remain skeptical that people really will only use this in generic situations. I suspect some people will require the move behavior and it will be a logic error in their app if they get insert behavior.\n> \n> - The name should actually be `moveOrInsertBefore` (\"move\" first) since it's move and falls back to insert.\n\nI support this approach. If most of  Userland code is going to do this anyway we might as well have it from the get go. It’s ok to also have the raw function.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs%3Amatrix.org/%24oc4nnLuwm2X3RE16aRGJhd5GX7Slm9WPiBxzwN7NyWY\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br><p>Thoughts about this route:</p>\n<ul>\n<li>\n<p>We should probably still have the primitive (that throws). I remain skeptical that people really will only use this in generic situations. I suspect some people will require the move behavior and it will be a logic error in their app if they get insert behavior.</p>\n</li>\n<li>\n<p>The name should actually be <code>moveOrInsertBefore</code> (\"move\" first) since it's move and falls back to insert.</p>\n</li>\n</ul>\n</blockquote></mx-reply>I support this approach. If most of  Userland code is going to do this anyway we might as well have it from the get go. It’s ok to also have the raw function.","m.relates_to":{"m.in_reply_to":{"event_id":"$oc4nnLuwm2X3RE16aRGJhd5GX7Slm9WPiBxzwN7NyWY"}},"msgtype":"m.text"},"ts":1732360091048,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$-14U55OUo0IQKevRwT1BUcg-YpVDpoIWqVuAP7VIbxw"}
]