[
{"content":{"body":"zcorpan:  About the validator-nu/Mozilla HTML parser: It seems like either we must not have any good tests for reporting of invalid character references in html5lib-tests, or else we do but we’re just not running them in CI anywhere for the validator-nu/Mozilla HTML parser code. Otherwise I would have caught https://github.com/validator/htmlparser/issues/82 long ago.\n\nA few years back, I did try to set up the htmlparser repo CI to run the html5lib-tests suite, but it was failing due to known issues with it not conforming to encoding handling. So in https://github.com/validator/htmlparser/pull/48 I had spent a bunch of time trying to patch it before I ended up realizing that Henri had long before that already started a branch to fix it properly (but subsequently ended up abandoning it).\n\nBut I guess what I should do at this point is to try to set up CI for it again — but have it ignore all the failing encoding tests from the html5lib-tests suite.","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>:  About the validator-nu/Mozilla HTML parser: It seems like either we must not have any good tests for reporting of invalid character references in html5lib-tests, or else we do but we’re just not running them in CI anywhere for the validator-nu/Mozilla HTML parser code. Otherwise I would have caught https://github.com/validator/htmlparser/issues/82 long ago.</p>\n<p>A few years back, I did try to set up the htmlparser repo CI to run the html5lib-tests suite, but it was failing due to known issues with it not conforming to encoding handling. So in https://github.com/validator/htmlparser/pull/48 I had spent a bunch of time trying to patch it before I ended up realizing that Henri had long before that already started a branch to fix it properly (but subsequently ended up abandoning it).</p>\n<p>But I guess what I should do at this point is to try to set up CI for it again — but have it ignore all the failing encoding tests from the html5lib-tests suite.</p>\n","msgtype":"m.text"},"ts":1685351733945,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$Dl0zCzGlUFCF7xQSNKXjVlSwBQ4tnBIkB5uso_PwoaA"}
]